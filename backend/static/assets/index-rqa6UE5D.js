var wP=Object.defineProperty;var jP=(n,e,t)=>e in n?wP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ya=(n,e,t)=>jP(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();function Hd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ky={exports:{}},oh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZN;function _P(){if(ZN)return oh;ZN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,l){var d=null;if(l!==void 0&&(d=""+l),i.key!==void 0&&(d=""+i.key),"key"in i){l={};for(var h in i)h!=="key"&&(l[h]=i[h])}else l=i;return i=l.ref,{$$typeof:n,type:r,key:d,ref:i!==void 0?i:null,props:l}}return oh.Fragment=e,oh.jsx=t,oh.jsxs=t,oh}var e2;function NP(){return e2||(e2=1,ky.exports=_P()),ky.exports}var s=NP(),Ay={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t2;function TP(){if(t2)return Ge;t2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function C($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,E={};function D($,U,pe){this.props=$,this.context=U,this.refs=E,this.updater=pe||S}D.prototype.isReactComponent={},D.prototype.setState=function($,U){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,U,"setState")},D.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function M(){}M.prototype=D.prototype;function L($,U,pe){this.props=$,this.context=U,this.refs=E,this.updater=pe||S}var Y=L.prototype=new M;Y.constructor=L,I(Y,D.prototype),Y.isPureReactComponent=!0;var F=Array.isArray;function X(){}var T={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function k($,U,pe){var ae=pe.ref;return{$$typeof:n,type:$,key:U,ref:ae!==void 0?ae:null,props:pe}}function z($,U){return k($.type,U,$.props)}function B($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function A($){var U={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(pe){return U[pe]})}var V=/\/+/g;function Q($,U){return typeof $=="object"&&$!==null&&$.key!=null?A(""+$.key):U.toString(36)}function je($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(X,X):($.status="pending",$.then(function(U){$.status==="pending"&&($.status="fulfilled",$.value=U)},function(U){$.status==="pending"&&($.status="rejected",$.reason=U)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function H($,U,pe,ae,ye){var Ve=typeof $;(Ve==="undefined"||Ve==="boolean")&&($=null);var Ue=!1;if($===null)Ue=!0;else switch(Ve){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch($.$$typeof){case n:case e:Ue=!0;break;case y:return Ue=$._init,H(Ue($._payload),U,pe,ae,ye)}}if(Ue)return ye=ye($),Ue=ae===""?"."+Q($,0):ae,F(ye)?(pe="",Ue!=null&&(pe=Ue.replace(V,"$&/")+"/"),H(ye,U,pe,"",function(qn){return qn})):ye!=null&&(B(ye)&&(ye=z(ye,pe+(ye.key==null||$&&$.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+Ue)),U.push(ye)),1;Ue=0;var St=ae===""?".":ae+":";if(F($))for(var ft=0;ft<$.length;ft++)ae=$[ft],Ve=St+Q(ae,ft),Ue+=H(ae,U,pe,Ve,ye);else if(ft=C($),typeof ft=="function")for($=ft.call($),ft=0;!(ae=$.next()).done;)ae=ae.value,Ve=St+Q(ae,ft++),Ue+=H(ae,U,pe,Ve,ye);else if(Ve==="object"){if(typeof $.then=="function")return H(je($),U,pe,ae,ye);throw U=String($),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function J($,U,pe){if($==null)return $;var ae=[],ye=0;return H($,ae,"","",function(Ve){return U.call(pe,Ve,ye++)}),ae}function te($){if($._status===-1){var U=$._result;U=U(),U.then(function(pe){($._status===0||$._status===-1)&&($._status=1,$._result=pe)},function(pe){($._status===0||$._status===-1)&&($._status=2,$._result=pe)}),$._status===-1&&($._status=0,$._result=U)}if($._status===1)return $._result.default;throw $._result}var Ie=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},me={map:J,forEach:function($,U,pe){J($,function(){U.apply(this,arguments)},pe)},count:function($){var U=0;return J($,function(){U++}),U},toArray:function($){return J($,function(U){return U})||[]},only:function($){if(!B($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Ge.Activity=b,Ge.Children=me,Ge.Component=D,Ge.Fragment=t,Ge.Profiler=i,Ge.PureComponent=L,Ge.StrictMode=r,Ge.Suspense=f,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ge.__COMPILER_RUNTIME={__proto__:null,c:function($){return T.H.useMemoCache($)}},Ge.cache=function($){return function(){return $.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function($,U,pe){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ae=I({},$.props),ye=$.key;if(U!=null)for(Ve in U.key!==void 0&&(ye=""+U.key),U)!P.call(U,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&U.ref===void 0||(ae[Ve]=U[Ve]);var Ve=arguments.length-2;if(Ve===1)ae.children=pe;else if(1<Ve){for(var Ue=Array(Ve),St=0;St<Ve;St++)Ue[St]=arguments[St+2];ae.children=Ue}return k($.type,ye,ae)},Ge.createContext=function($){return $={$$typeof:d,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:l,_context:$},$},Ge.createElement=function($,U,pe){var ae,ye={},Ve=null;if(U!=null)for(ae in U.key!==void 0&&(Ve=""+U.key),U)P.call(U,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=U[ae]);var Ue=arguments.length-2;if(Ue===1)ye.children=pe;else if(1<Ue){for(var St=Array(Ue),ft=0;ft<Ue;ft++)St[ft]=arguments[ft+2];ye.children=St}if($&&$.defaultProps)for(ae in Ue=$.defaultProps,Ue)ye[ae]===void 0&&(ye[ae]=Ue[ae]);return k($,Ve,ye)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function($){return{$$typeof:h,render:$}},Ge.isValidElement=B,Ge.lazy=function($){return{$$typeof:y,_payload:{_status:-1,_result:$},_init:te}},Ge.memo=function($,U){return{$$typeof:p,type:$,compare:U===void 0?null:U}},Ge.startTransition=function($){var U=T.T,pe={};T.T=pe;try{var ae=$(),ye=T.S;ye!==null&&ye(pe,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(X,Ie)}catch(Ve){Ie(Ve)}finally{U!==null&&pe.types!==null&&(U.types=pe.types),T.T=U}},Ge.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ge.use=function($){return T.H.use($)},Ge.useActionState=function($,U,pe){return T.H.useActionState($,U,pe)},Ge.useCallback=function($,U){return T.H.useCallback($,U)},Ge.useContext=function($){return T.H.useContext($)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function($,U){return T.H.useDeferredValue($,U)},Ge.useEffect=function($,U){return T.H.useEffect($,U)},Ge.useEffectEvent=function($){return T.H.useEffectEvent($)},Ge.useId=function(){return T.H.useId()},Ge.useImperativeHandle=function($,U,pe){return T.H.useImperativeHandle($,U,pe)},Ge.useInsertionEffect=function($,U){return T.H.useInsertionEffect($,U)},Ge.useLayoutEffect=function($,U){return T.H.useLayoutEffect($,U)},Ge.useMemo=function($,U){return T.H.useMemo($,U)},Ge.useOptimistic=function($,U){return T.H.useOptimistic($,U)},Ge.useReducer=function($,U,pe){return T.H.useReducer($,U,pe)},Ge.useRef=function($){return T.H.useRef($)},Ge.useState=function($){return T.H.useState($)},Ge.useSyncExternalStore=function($,U,pe){return T.H.useSyncExternalStore($,U,pe)},Ge.useTransition=function(){return T.H.useTransition()},Ge.version="19.2.4",Ge}var s2;function Nv(){return s2||(s2=1,Ay.exports=TP()),Ay.exports}var _=Nv();const Fe=Hd(_);var Cy={exports:{}},lh={},Iy={exports:{}},Ry={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2;function SP(){return n2||(n2=1,(function(n){function e(H,J){var te=H.length;H.push(J);e:for(;0<te;){var Ie=te-1>>>1,me=H[Ie];if(0<i(me,J))H[Ie]=J,H[te]=me,te=Ie;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var J=H[0],te=H.pop();if(te!==J){H[0]=te;e:for(var Ie=0,me=H.length,$=me>>>1;Ie<$;){var U=2*(Ie+1)-1,pe=H[U],ae=U+1,ye=H[ae];if(0>i(pe,te))ae<me&&0>i(ye,pe)?(H[Ie]=ye,H[ae]=te,Ie=ae):(H[Ie]=pe,H[U]=te,Ie=U);else if(ae<me&&0>i(ye,te))H[Ie]=ye,H[ae]=te,Ie=ae;else break e}}return J}function i(H,J){var te=H.sortIndex-J.sortIndex;return te!==0?te:H.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var f=[],p=[],y=1,b=null,v=3,C=!1,S=!1,I=!1,E=!1,D=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function Y(H){for(var J=t(p);J!==null;){if(J.callback===null)r(p);else if(J.startTime<=H)r(p),J.sortIndex=J.expirationTime,e(f,J);else break;J=t(p)}}function F(H){if(I=!1,Y(H),!S)if(t(f)!==null)S=!0,X||(X=!0,A());else{var J=t(p);J!==null&&je(F,J.startTime-H)}}var X=!1,T=-1,P=5,k=-1;function z(){return E?!0:!(n.unstable_now()-k<P)}function B(){if(E=!1,X){var H=n.unstable_now();k=H;var J=!0;try{e:{S=!1,I&&(I=!1,M(T),T=-1),C=!0;var te=v;try{t:{for(Y(H),b=t(f);b!==null&&!(b.expirationTime>H&&z());){var Ie=b.callback;if(typeof Ie=="function"){b.callback=null,v=b.priorityLevel;var me=Ie(b.expirationTime<=H);if(H=n.unstable_now(),typeof me=="function"){b.callback=me,Y(H),J=!0;break t}b===t(f)&&r(f),Y(H)}else r(f);b=t(f)}if(b!==null)J=!0;else{var $=t(p);$!==null&&je(F,$.startTime-H),J=!1}}break e}finally{b=null,v=te,C=!1}J=void 0}}finally{J?A():X=!1}}}var A;if(typeof L=="function")A=function(){L(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=B,A=function(){Q.postMessage(null)}}else A=function(){D(B,0)};function je(H,J){T=D(function(){H(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(H){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var te=v;v=J;try{return H()}finally{v=te}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=v;v=H;try{return J()}finally{v=te}},n.unstable_scheduleCallback=function(H,J,te){var Ie=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ie+te:Ie):te=Ie,H){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=te+me,H={id:y++,callback:J,priorityLevel:H,startTime:te,expirationTime:me,sortIndex:-1},te>Ie?(H.sortIndex=te,e(p,H),t(f)===null&&H===t(p)&&(I?(M(T),T=-1):I=!0,je(F,te-Ie))):(H.sortIndex=me,e(f,H),S||C||(S=!0,X||(X=!0,A()))),H},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(H){var J=v;return function(){var te=v;v=J;try{return H.apply(this,arguments)}finally{v=te}}}})(Ry)),Ry}var r2;function EP(){return r2||(r2=1,Iy.exports=SP()),Iy.exports}var Py={exports:{}},zs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2;function kP(){if(a2)return zs;a2=1;var n=Nv();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(f,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:f,containerInfo:p,implementation:y}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return zs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zs.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,y)},zs.flushSync=function(f){var p=d.T,y=r.p;try{if(d.T=null,r.p=2,f)return f()}finally{d.T=p,r.p=y,r.d.f()}},zs.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},zs.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},zs.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,b=h(y,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:C}):y==="script"&&r.d.X(f,{crossOrigin:b,integrity:v,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},zs.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},zs.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=h(y,p.crossOrigin);r.d.L(f,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},zs.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},zs.requestFormReset=function(f){r.d.r(f)},zs.unstable_batchedUpdates=function(f,p){return f(p)},zs.useFormState=function(f,p,y){return d.H.useFormState(f,p,y)},zs.useFormStatus=function(){return d.H.useHostTransitionStatus()},zs.version="19.2.4",zs}var i2;function AP(){if(i2)return Py.exports;i2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Py.exports=kP(),Py.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2;function CP(){if(o2)return lh;o2=1;var n=EP(),e=Nv(),t=AP();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function d(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function h(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(l(a)!==a)throw Error(r(188))}function p(a){var o=a.alternate;if(!o){if(o=l(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,u=o;;){var g=c.return;if(g===null)break;var x=g.alternate;if(x===null){if(u=g.return,u!==null){c=u;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===c)return f(g),a;if(x===u)return f(g),o;x=x.sibling}throw Error(r(188))}if(c.return!==u.return)c=g,u=x;else{for(var j=!1,R=g.child;R;){if(R===c){j=!0,c=g,u=x;break}if(R===u){j=!0,u=g,c=x;break}R=R.sibling}if(!j){for(R=x.child;R;){if(R===c){j=!0,c=x,u=g;break}if(R===u){j=!0,u=x,c=g;break}R=R.sibling}if(!j)throw Error(r(189))}}if(c.alternate!==u)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function y(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=y(a),o!==null)return o;a=a.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),L=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function A(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var V=Symbol.for("react.client.reference");function Q(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===V?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case I:return"Fragment";case D:return"Profiler";case E:return"StrictMode";case F:return"Suspense";case X:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case L:return a.displayName||"Context";case M:return(a._context.displayName||"Context")+".Consumer";case Y:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case T:return o=a.displayName||null,o!==null?o:Q(a.type)||"Memo";case P:o=a._payload,a=a._init;try{return Q(a(o))}catch{}}return null}var je=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ie=[],me=-1;function $(a){return{current:a}}function U(a){0>me||(a.current=Ie[me],Ie[me]=null,me--)}function pe(a,o){me++,Ie[me]=a.current,a.current=o}var ae=$(null),ye=$(null),Ve=$(null),Ue=$(null);function St(a,o){switch(pe(Ve,o),pe(ye,a),pe(ae,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?jN(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=jN(o),a=_N(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}U(ae),pe(ae,a)}function ft(){U(ae),U(ye),U(Ve)}function qn(a){a.memoizedState!==null&&pe(Ue,a);var o=ae.current,c=_N(o,a.type);o!==c&&(pe(ye,a),pe(ae,c))}function yr(a){ye.current===a&&(U(ae),U(ye)),Ue.current===a&&(U(Ue),nh._currentValue=te)}var Nn,Ks;function Ws(a){if(Nn===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Nn=o&&o[1]||"",Ks=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nn+a+Ks}var Aa=!1;function Hn(a,o){if(!a||Aa)return"";Aa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ce){var ie=ce}Reflect.construct(a,[],he)}else{try{he.call()}catch(ce){ie=ce}a.call(he.prototype)}}else{try{throw Error()}catch(ce){ie=ce}(he=a())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ce){if(ce&&ie&&typeof ce.stack=="string")return[ce.stack,ie.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),j=x[0],R=x[1];if(j&&R){var q=j.split(`
`),re=R.split(`
`);for(g=u=0;u<q.length&&!q[u].includes("DetermineComponentFrameRoot");)u++;for(;g<re.length&&!re[g].includes("DetermineComponentFrameRoot");)g++;if(u===q.length||g===re.length)for(u=q.length-1,g=re.length-1;1<=u&&0<=g&&q[u]!==re[g];)g--;for(;1<=u&&0<=g;u--,g--)if(q[u]!==re[g]){if(u!==1||g!==1)do if(u--,g--,0>g||q[u]!==re[g]){var de=`
`+q[u].replace(" at new "," at ");return a.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",a.displayName)),de}while(1<=u&&0<=g);break}}}finally{Aa=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Ws(c):""}function Br(a,o){switch(a.tag){case 26:case 27:case 5:return Ws(a.type);case 16:return Ws("Lazy");case 13:return a.child!==o&&o!==null?Ws("Suspense Fallback"):Ws("Suspense");case 19:return Ws("SuspenseList");case 0:case 15:return Hn(a.type,!1);case 11:return Hn(a.type.render,!1);case 1:return Hn(a.type,!0);case 31:return Ws("Activity");default:return""}}function Fr(a){try{var o="",c=null;do o+=Br(a,c),c=a,a=a.return;while(a);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Dt=Object.prototype.hasOwnProperty,be=n.unstable_scheduleCallback,He=n.unstable_cancelCallback,W=n.unstable_shouldYield,ke=n.unstable_requestPaint,Ae=n.unstable_now,$e=n.unstable_getCurrentPriorityLevel,on=n.unstable_ImmediatePriority,ln=n.unstable_UserBlockingPriority,Ys=n.unstable_NormalPriority,$r=n.unstable_LowPriority,Oo=n.unstable_IdlePriority,sc=n.log,nc=n.unstable_setDisableYieldValue,br=null,Ss=null;function Gn(a){if(typeof sc=="function"&&nc(a),Ss&&typeof Ss.setStrictMode=="function")try{Ss.setStrictMode(br,a)}catch{}}var Xt=Math.clz32?Math.clz32:tm,em=Math.log,rc=Math.LN2;function tm(a){return a>>>=0,a===0?32:31-(em(a)/rc|0)|0}var qr=256,Mo=262144,as=4194304;function Hr(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Gr(a,o,c){var u=a.pendingLanes;if(u===0)return 0;var g=0,x=a.suspendedLanes,j=a.pingedLanes;a=a.warmLanes;var R=u&134217727;return R!==0?(u=R&~x,u!==0?g=Hr(u):(j&=R,j!==0?g=Hr(j):c||(c=R&~a,c!==0&&(g=Hr(c))))):(R=u&~x,R!==0?g=Hr(R):j!==0?g=Hr(j):c||(c=u&~a,c!==0&&(g=Hr(c)))),g===0?0:o!==0&&o!==g&&(o&x)===0&&(x=g&-g,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:g}function vr(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Rx(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sm(){var a=as;return as<<=1,(as&62914560)===0&&(as=4194304),a}function Kr(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function Vo(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Px(a,o,c,u,g,x){var j=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var R=a.entanglements,q=a.expirationTimes,re=a.hiddenUpdates;for(c=j&~c;0<c;){var de=31-Xt(c),he=1<<de;R[de]=0,q[de]=-1;var ie=re[de];if(ie!==null)for(re[de]=null,de=0;de<ie.length;de++){var ce=ie[de];ce!==null&&(ce.lane&=-536870913)}c&=~he}u!==0&&Lo(a,u,0),x!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=x&~(j&~o))}function Lo(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var u=31-Xt(o);a.entangledLanes|=o,a.entanglements[u]=a.entanglements[u]|1073741824|c&261930}function lu(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var u=31-Xt(c),g=1<<u;g&o|a[u]&o&&(a[u]|=o),c&=~g}}function cu(a,o){var c=o&-o;return c=(c&42)!==0?1:zo(c),(c&(a.suspendedLanes|o))!==0?0:c}function zo(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ca(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function nm(){var a=J.p;return a!==0?a:(a=window.event,a===void 0?32:GN(a.type))}function wr(a,o){var c=J.p;try{return J.p=a,o()}finally{J.p=c}}var jr=Math.random().toString(36).slice(2),is="__reactFiber$"+jr,bs="__reactProps$"+jr,Wr="__reactContainer$"+jr,ac="__reactEvents$"+jr,Dx="__reactListeners$"+jr,rm="__reactHandles$"+jr,am="__reactResources$"+jr,Yr="__reactMarker$"+jr;function ic(a){delete a[is],delete a[bs],delete a[ac],delete a[Dx],delete a[rm]}function Qr(a){var o=a[is];if(o)return o;for(var c=a.parentNode;c;){if(o=c[Wr]||c[is]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=CN(a);a!==null;){if(c=a[is])return c;a=CN(a)}return o}a=c,c=a.parentNode}return null}function Kn(a){if(a=a[is]||a[Wr]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Tn(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Jr(a){var o=a[am];return o||(o=a[am]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function os(a){a[Yr]=!0}var du=new Set,uu={};function Xr(a,o){Zr(a,o),Zr(a+"Capture",o)}function Zr(a,o){for(uu[a]=o,a=0;a<o.length;a++)du.add(o[a])}var hu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fu={},mu={};function im(a){return Dt.call(mu,a)?!0:Dt.call(fu,a)?!1:hu.test(a)?mu[a]=!0:(fu[a]=!0,!1)}function oc(a,o,c){if(im(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var u=o.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function Sn(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function ls(a,o,c,u){if(u===null)a.removeAttribute(c);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+u)}}function vs(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function xi(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function pu(a,o,c){var u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,x=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return g.call(this)},set:function(j){c=""+j,x.call(this,j)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return c},setValue:function(j){c=""+j},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function mt(a){if(!a._valueTracker){var o=xi(a)?"checked":"value";a._valueTracker=pu(a,o,""+a[o])}}function Uo(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),u="";return a&&(u=xi(a)?a.checked?"true":"false":a.value),a=u,a!==c?(o.setValue(a),!0):!1}function ea(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Bo=/[\n"\\]/g;function cn(a){return a.replace(Bo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function lc(a,o,c,u,g,x,j,R){a.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.type=j:a.removeAttribute("type"),o!=null?j==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+vs(o)):a.value!==""+vs(o)&&(a.value=""+vs(o)):j!=="submit"&&j!=="reset"||a.removeAttribute("value"),o!=null?gu(a,j,vs(o)):c!=null?gu(a,j,vs(c)):u!=null&&a.removeAttribute("value"),g==null&&x!=null&&(a.defaultChecked=!!x),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.name=""+vs(R):a.removeAttribute("name")}function om(a,o,c,u,g,x,j,R){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){mt(a);return}c=c!=null?""+vs(c):"",o=o!=null?""+vs(o):c,R||o===a.value||(a.value=o),a.defaultValue=o}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,a.checked=R?a.checked:!!u,a.defaultChecked=!!u,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(a.name=j),mt(a)}function gu(a,o,c){o==="number"&&ea(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function yi(a,o,c,u){if(a=a.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<a.length;c++)g=o.hasOwnProperty("$"+a[c].value),a[c].selected!==g&&(a[c].selected=g),g&&u&&(a[c].defaultSelected=!0)}else{for(c=""+vs(c),o=null,g=0;g<a.length;g++){if(a[g].value===c){a[g].selected=!0,u&&(a[g].defaultSelected=!0);return}o!==null||a[g].disabled||(o=a[g])}o!==null&&(o.selected=!0)}}function lm(a,o,c){if(o!=null&&(o=""+vs(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+vs(c):""}function bi(a,o,c,u){if(o==null){if(u!=null){if(c!=null)throw Error(r(92));if(je(u)){if(1<u.length)throw Error(r(93));u=u[0]}c=u}c==null&&(c=""),o=c}c=vs(o),a.defaultValue=c,u=a.textContent,u===c&&u!==""&&u!==null&&(a.value=u),mt(a)}function dn(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var cm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xu(a,o,c){var u=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?u?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":u?a.setProperty(o,c):typeof c!="number"||c===0||cm.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function yu(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var u in c)!c.hasOwnProperty(u)||o!=null&&o.hasOwnProperty(u)||(u.indexOf("--")===0?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="");for(var g in o)u=o[g],o.hasOwnProperty(g)&&c[g]!==u&&xu(a,g,u)}else for(var x in o)o.hasOwnProperty(x)&&xu(a,x,o[x])}function cc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dc(a){return vi.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function _r(){}var bu=null;function Wn(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var wi=null,ta=null;function Fo(a){var o=Kn(a);if(o&&(a=o.stateNode)){var c=a[bs]||null;e:switch(a=o.stateNode,o.type){case"input":if(lc(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+cn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var u=c[o];if(u!==a&&u.form===a.form){var g=u[bs]||null;if(!g)throw Error(r(90));lc(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<c.length;o++)u=c[o],u.form===a.form&&Uo(u)}break e;case"textarea":lm(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&yi(a,!!c.multiple,o,!1)}}}var uc=!1;function ji(a,o,c){if(uc)return a(o,c);uc=!0;try{var u=a(o);return u}finally{if(uc=!1,(wi!==null||ta!==null)&&(np(),wi&&(o=wi,a=ta,ta=wi=null,Fo(o),a)))for(o=0;o<a.length;o++)Fo(a[o])}}function Nr(a,o){var c=a.stateNode;if(c===null)return null;var u=c[bs]||null;if(u===null)return null;c=u[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(a=a.type,u=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!u;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$o=!1;if(Yn)try{var bt={};Object.defineProperty(bt,"passive",{get:function(){$o=!0}}),window.addEventListener("test",bt,bt),window.removeEventListener("test",bt,bt)}catch{$o=!1}var sa=null,vu=null,qo=null;function wu(){if(qo)return qo;var a,o=vu,c=o.length,u,g="value"in sa?sa.value:sa.textContent,x=g.length;for(a=0;a<c&&o[a]===g[a];a++);var j=c-a;for(u=1;u<=j&&o[c-u]===g[x-u];u++);return qo=g.slice(a,1<u?1-u:void 0)}function Ho(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Ia(){return!0}function Tr(){return!1}function Es(a){function o(c,u,g,x,j){this._reactName=c,this._targetInst=g,this.type=u,this.nativeEvent=x,this.target=j,this.currentTarget=null;for(var R in a)a.hasOwnProperty(R)&&(c=a[R],this[R]=c?c(x):x[R]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ia:Tr,this.isPropagationStopped=Tr,this}return b(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ia)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ia)},persist:function(){},isPersistent:Ia}),o}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=Es(Ra),_i=b({},Ra,{view:0,detail:0}),ju=Es(_i),Ni,hc,ra,fc=b({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ra&&(ra&&a.type==="mousemove"?(Ni=a.screenX-ra.screenX,hc=a.screenY-ra.screenY):hc=Ni=0,ra=a),Ni)},movementY:function(a){return"movementY"in a?a.movementY:hc}}),_u=Es(fc),Go=b({},fc,{dataTransfer:0}),um=Es(Go),hm=b({},_i,{relatedTarget:0}),Ko=Es(hm),Nu=b({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),fm=Es(Nu),mc=b({},Ra,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),mm=Es(mc),pm=b({},Ra,{data:0}),aa=Es(pm),gm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bm(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=ym[a])?!!o[a]:!1}function Ti(){return bm}var Qs=b({},_i,{key:function(a){if(a.key){var o=gm[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ho(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?xm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(a){return a.type==="keypress"?Ho(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ho(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),vm=Es(Qs),wm=b({},fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pa=Es(wm),m=b({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),w=Es(m),N=b({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=Es(N),se=b({},fc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),le=Es(se),we=b({},Ra,{newState:0,oldState:0}),We=Es(we),Zt=[9,13,27,32],dt=Yn&&"CompositionEvent"in window,Ot=null;Yn&&"documentMode"in document&&(Ot=document.documentMode);var Qn=Yn&&"TextEvent"in window&&!Ot,ia=Yn&&(!dt||Ot&&8<Ot&&11>=Ot),Sr=" ",Er=!1;function Wo(a,o){switch(a){case"keyup":return Zt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var gc=!1;function HI(a,o){switch(a){case"compositionend":return pc(o);case"keypress":return o.which!==32?null:(Er=!0,Sr);case"textInput":return a=o.data,a===Sr&&Er?null:a;default:return null}}function GI(a,o){if(gc)return a==="compositionend"||!dt&&Wo(a,o)?(a=wu(),qo=vu=sa=null,gc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ia&&o.locale!=="ko"?null:o.data;default:return null}}var KI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P1(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!KI[a.type]:o==="textarea"}function D1(a,o,c,u){wi?ta?ta.push(u):ta=[u]:wi=u,o=dp(o,"onChange"),0<o.length&&(c=new na("onChange","change",null,c,u),a.push({event:c,listeners:o}))}var Tu=null,Su=null;function WI(a){gN(a,0)}function jm(a){var o=Tn(a);if(Uo(o))return a}function O1(a,o){if(a==="change")return o}var M1=!1;if(Yn){var Ox;if(Yn){var Mx="oninput"in document;if(!Mx){var V1=document.createElement("div");V1.setAttribute("oninput","return;"),Mx=typeof V1.oninput=="function"}Ox=Mx}else Ox=!1;M1=Ox&&(!document.documentMode||9<document.documentMode)}function L1(){Tu&&(Tu.detachEvent("onpropertychange",z1),Su=Tu=null)}function z1(a){if(a.propertyName==="value"&&jm(Su)){var o=[];D1(o,Su,a,Wn(a)),ji(WI,o)}}function YI(a,o,c){a==="focusin"?(L1(),Tu=o,Su=c,Tu.attachEvent("onpropertychange",z1)):a==="focusout"&&L1()}function QI(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return jm(Su)}function JI(a,o){if(a==="click")return jm(o)}function XI(a,o){if(a==="input"||a==="change")return jm(o)}function ZI(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var En=typeof Object.is=="function"?Object.is:ZI;function Eu(a,o){if(En(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),u=Object.keys(o);if(c.length!==u.length)return!1;for(u=0;u<c.length;u++){var g=c[u];if(!Dt.call(o,g)||!En(a[g],o[g]))return!1}return!0}function U1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function B1(a,o){var c=U1(a);a=0;for(var u;c;){if(c.nodeType===3){if(u=a+c.textContent.length,a<=o&&u>=o)return{node:c,offset:o-a};a=u}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=U1(c)}}function F1(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?F1(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function $1(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=ea(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=ea(a.document)}return o}function Vx(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var eR=Yn&&"documentMode"in document&&11>=document.documentMode,xc=null,Lx=null,ku=null,zx=!1;function q1(a,o,c){var u=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;zx||xc==null||xc!==ea(u)||(u=xc,"selectionStart"in u&&Vx(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ku&&Eu(ku,u)||(ku=u,u=dp(Lx,"onSelect"),0<u.length&&(o=new na("onSelect","select",null,o,c),a.push({event:o,listeners:u}),o.target=xc)))}function Yo(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var yc={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionrun:Yo("Transition","TransitionRun"),transitionstart:Yo("Transition","TransitionStart"),transitioncancel:Yo("Transition","TransitionCancel"),transitionend:Yo("Transition","TransitionEnd")},Ux={},H1={};Yn&&(H1=document.createElement("div").style,"AnimationEvent"in window||(delete yc.animationend.animation,delete yc.animationiteration.animation,delete yc.animationstart.animation),"TransitionEvent"in window||delete yc.transitionend.transition);function Qo(a){if(Ux[a])return Ux[a];if(!yc[a])return a;var o=yc[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in H1)return Ux[a]=o[c];return a}var G1=Qo("animationend"),K1=Qo("animationiteration"),W1=Qo("animationstart"),tR=Qo("transitionrun"),sR=Qo("transitionstart"),nR=Qo("transitioncancel"),Y1=Qo("transitionend"),Q1=new Map,Bx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bx.push("scrollEnd");function kr(a,o){Q1.set(a,o),Xr(o,[a])}var _m=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Jn=[],bc=0,Fx=0;function Nm(){for(var a=bc,o=Fx=bc=0;o<a;){var c=Jn[o];Jn[o++]=null;var u=Jn[o];Jn[o++]=null;var g=Jn[o];Jn[o++]=null;var x=Jn[o];if(Jn[o++]=null,u!==null&&g!==null){var j=u.pending;j===null?g.next=g:(g.next=j.next,j.next=g),u.pending=g}x!==0&&J1(c,g,x)}}function Tm(a,o,c,u){Jn[bc++]=a,Jn[bc++]=o,Jn[bc++]=c,Jn[bc++]=u,Fx|=u,a.lanes|=u,a=a.alternate,a!==null&&(a.lanes|=u)}function $x(a,o,c,u){return Tm(a,o,c,u),Sm(a)}function Jo(a,o){return Tm(a,null,null,o),Sm(a)}function J1(a,o,c){a.lanes|=c;var u=a.alternate;u!==null&&(u.lanes|=c);for(var g=!1,x=a.return;x!==null;)x.childLanes|=c,u=x.alternate,u!==null&&(u.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(g=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,g&&o!==null&&(g=31-Xt(c),a=x.hiddenUpdates,u=a[g],u===null?a[g]=[o]:u.push(o),o.lane=c|536870912),x):null}function Sm(a){if(50<Qu)throw Qu=0,X0=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var vc={};function rR(a,o,c,u){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(a,o,c,u){return new rR(a,o,c,u)}function qx(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Da(a,o){var c=a.alternate;return c===null?(c=kn(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function X1(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Em(a,o,c,u,g,x){var j=0;if(u=a,typeof a=="function")qx(a)&&(j=1);else if(typeof a=="string")j=cP(a,c,ae.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=kn(31,c,o,g),a.elementType=k,a.lanes=x,a;case I:return Xo(c.children,g,x,o);case E:j=8,g|=24;break;case D:return a=kn(12,c,o,g|2),a.elementType=D,a.lanes=x,a;case F:return a=kn(13,c,o,g),a.elementType=F,a.lanes=x,a;case X:return a=kn(19,c,o,g),a.elementType=X,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:j=10;break e;case M:j=9;break e;case Y:j=11;break e;case T:j=14;break e;case P:j=16,u=null;break e}j=29,c=Error(r(130,a===null?"null":typeof a,"")),u=null}return o=kn(j,c,o,g),o.elementType=a,o.type=u,o.lanes=x,o}function Xo(a,o,c,u){return a=kn(7,a,u,o),a.lanes=c,a}function Hx(a,o,c){return a=kn(6,a,null,o),a.lanes=c,a}function Z1(a){var o=kn(18,null,null,0);return o.stateNode=a,o}function Gx(a,o,c){return o=kn(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var ej=new WeakMap;function Xn(a,o){if(typeof a=="object"&&a!==null){var c=ej.get(a);return c!==void 0?c:(o={value:a,source:o,stack:Fr(o)},ej.set(a,o),o)}return{value:a,source:o,stack:Fr(o)}}var wc=[],jc=0,km=null,Au=0,Zn=[],er=0,Si=null,oa=1,la="";function Oa(a,o){wc[jc++]=Au,wc[jc++]=km,km=a,Au=o}function tj(a,o,c){Zn[er++]=oa,Zn[er++]=la,Zn[er++]=Si,Si=a;var u=oa;a=la;var g=32-Xt(u)-1;u&=~(1<<g),c+=1;var x=32-Xt(o)+g;if(30<x){var j=g-g%5;x=(u&(1<<j)-1).toString(32),u>>=j,g-=j,oa=1<<32-Xt(o)+g|c<<g|u,la=x+a}else oa=1<<x|c<<g|u,la=a}function Kx(a){a.return!==null&&(Oa(a,1),tj(a,1,0))}function Wx(a){for(;a===km;)km=wc[--jc],wc[jc]=null,Au=wc[--jc],wc[jc]=null;for(;a===Si;)Si=Zn[--er],Zn[er]=null,la=Zn[--er],Zn[er]=null,oa=Zn[--er],Zn[er]=null}function sj(a,o){Zn[er++]=oa,Zn[er++]=la,Zn[er++]=Si,oa=o.id,la=o.overflow,Si=a}var ks=null,At=null,at=!1,Ei=null,tr=!1,Yx=Error(r(519));function ki(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cu(Xn(o,a)),Yx}function nj(a){var o=a.stateNode,c=a.type,u=a.memoizedProps;switch(o[is]=a,o[bs]=u,c){case"dialog":Ze("cancel",o),Ze("close",o);break;case"iframe":case"object":case"embed":Ze("load",o);break;case"video":case"audio":for(c=0;c<Xu.length;c++)Ze(Xu[c],o);break;case"source":Ze("error",o);break;case"img":case"image":case"link":Ze("error",o),Ze("load",o);break;case"details":Ze("toggle",o);break;case"input":Ze("invalid",o),om(o,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ze("invalid",o);break;case"textarea":Ze("invalid",o),bi(o,u.value,u.defaultValue,u.children)}c=u.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||u.suppressHydrationWarning===!0||vN(o.textContent,c)?(u.popover!=null&&(Ze("beforetoggle",o),Ze("toggle",o)),u.onScroll!=null&&Ze("scroll",o),u.onScrollEnd!=null&&Ze("scrollend",o),u.onClick!=null&&(o.onclick=_r),o=!0):o=!1,o||ki(a,!0)}function rj(a){for(ks=a.return;ks;)switch(ks.tag){case 5:case 31:case 13:tr=!1;return;case 27:case 3:tr=!0;return;default:ks=ks.return}}function _c(a){if(a!==ks)return!1;if(!at)return rj(a),at=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||fy(a.type,a.memoizedProps)),c=!c),c&&At&&ki(a),rj(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));At=AN(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));At=AN(a)}else o===27?(o=At,Fi(a.type)?(a=yy,yy=null,At=a):At=o):At=ks?nr(a.stateNode.nextSibling):null;return!0}function Zo(){At=ks=null,at=!1}function Qx(){var a=Ei;return a!==null&&(mn===null?mn=a:mn.push.apply(mn,a),Ei=null),a}function Cu(a){Ei===null?Ei=[a]:Ei.push(a)}var Jx=$(null),el=null,Ma=null;function Ai(a,o,c){pe(Jx,o._currentValue),o._currentValue=c}function Va(a){a._currentValue=Jx.current,U(Jx)}function Xx(a,o,c){for(;a!==null;){var u=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),a===c)break;a=a.return}}function Zx(a,o,c,u){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var x=g.dependencies;if(x!==null){var j=g.child;x=x.firstContext;e:for(;x!==null;){var R=x;x=g;for(var q=0;q<o.length;q++)if(R.context===o[q]){x.lanes|=c,R=x.alternate,R!==null&&(R.lanes|=c),Xx(x.return,c,a),u||(j=null);break e}x=R.next}}else if(g.tag===18){if(j=g.return,j===null)throw Error(r(341));j.lanes|=c,x=j.alternate,x!==null&&(x.lanes|=c),Xx(j,c,a),j=null}else j=g.child;if(j!==null)j.return=g;else for(j=g;j!==null;){if(j===a){j=null;break}if(g=j.sibling,g!==null){g.return=j.return,j=g;break}j=j.return}g=j}}function Nc(a,o,c,u){a=null;for(var g=o,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var j=g.alternate;if(j===null)throw Error(r(387));if(j=j.memoizedProps,j!==null){var R=g.type;En(g.pendingProps.value,j.value)||(a!==null?a.push(R):a=[R])}}else if(g===Ue.current){if(j=g.alternate,j===null)throw Error(r(387));j.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(nh):a=[nh])}g=g.return}a!==null&&Zx(o,a,c,u),o.flags|=262144}function Am(a){for(a=a.firstContext;a!==null;){if(!En(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function tl(a){el=a,Ma=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function As(a){return aj(el,a)}function Cm(a,o){return el===null&&tl(a),aj(a,o)}function aj(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Ma===null){if(a===null)throw Error(r(308));Ma=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ma=Ma.next=o;return c}var aR=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,u){a.push(u)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},iR=n.unstable_scheduleCallback,oR=n.unstable_NormalPriority,cs={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function e0(){return{controller:new aR,data:new Map,refCount:0}}function Iu(a){a.refCount--,a.refCount===0&&iR(oR,function(){a.controller.abort()})}var Ru=null,t0=0,Tc=0,Sc=null;function lR(a,o){if(Ru===null){var c=Ru=[];t0=0,Tc=ry(),Sc={status:"pending",value:void 0,then:function(u){c.push(u)}}}return t0++,o.then(ij,ij),o}function ij(){if(--t0===0&&Ru!==null){Sc!==null&&(Sc.status="fulfilled");var a=Ru;Ru=null,Tc=0,Sc=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function cR(a,o){var c=[],u={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return a.then(function(){u.status="fulfilled",u.value=o;for(var g=0;g<c.length;g++)(0,c[g])(o)},function(g){for(u.status="rejected",u.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),u}var oj=H.S;H.S=function(a,o){q_=Ae(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&lR(a,o),oj!==null&&oj(a,o)};var sl=$(null);function s0(){var a=sl.current;return a!==null?a:Nt.pooledCache}function Im(a,o){o===null?pe(sl,sl.current):pe(sl,o.pool)}function lj(){var a=s0();return a===null?null:{parent:cs._currentValue,pool:a}}var Ec=Error(r(460)),n0=Error(r(474)),Rm=Error(r(542)),Pm={then:function(){}};function cj(a){return a=a.status,a==="fulfilled"||a==="rejected"}function dj(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(_r,_r),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,hj(a),a;default:if(typeof o.status=="string")o.then(_r,_r);else{if(a=Nt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(u){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=u}},function(u){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=u}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,hj(a),a}throw rl=o,Ec}}function nl(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(rl=c,Ec):c}}var rl=null;function uj(){if(rl===null)throw Error(r(459));var a=rl;return rl=null,a}function hj(a){if(a===Ec||a===Rm)throw Error(r(483))}var kc=null,Pu=0;function Dm(a){var o=Pu;return Pu+=1,kc===null&&(kc=[]),dj(kc,a,o)}function Du(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Om(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function fj(a){function o(Z,G){if(a){var ne=Z.deletions;ne===null?(Z.deletions=[G],Z.flags|=16):ne.push(G)}}function c(Z,G){if(!a)return null;for(;G!==null;)o(Z,G),G=G.sibling;return null}function u(Z){for(var G=new Map;Z!==null;)Z.key!==null?G.set(Z.key,Z):G.set(Z.index,Z),Z=Z.sibling;return G}function g(Z,G){return Z=Da(Z,G),Z.index=0,Z.sibling=null,Z}function x(Z,G,ne){return Z.index=ne,a?(ne=Z.alternate,ne!==null?(ne=ne.index,ne<G?(Z.flags|=67108866,G):ne):(Z.flags|=67108866,G)):(Z.flags|=1048576,G)}function j(Z){return a&&Z.alternate===null&&(Z.flags|=67108866),Z}function R(Z,G,ne,ue){return G===null||G.tag!==6?(G=Hx(ne,Z.mode,ue),G.return=Z,G):(G=g(G,ne),G.return=Z,G)}function q(Z,G,ne,ue){var Me=ne.type;return Me===I?de(Z,G,ne.props.children,ue,ne.key):G!==null&&(G.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===P&&nl(Me)===G.type)?(G=g(G,ne.props),Du(G,ne),G.return=Z,G):(G=Em(ne.type,ne.key,ne.props,null,Z.mode,ue),Du(G,ne),G.return=Z,G)}function re(Z,G,ne,ue){return G===null||G.tag!==4||G.stateNode.containerInfo!==ne.containerInfo||G.stateNode.implementation!==ne.implementation?(G=Gx(ne,Z.mode,ue),G.return=Z,G):(G=g(G,ne.children||[]),G.return=Z,G)}function de(Z,G,ne,ue,Me){return G===null||G.tag!==7?(G=Xo(ne,Z.mode,ue,Me),G.return=Z,G):(G=g(G,ne),G.return=Z,G)}function he(Z,G,ne){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Hx(""+G,Z.mode,ne),G.return=Z,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case C:return ne=Em(G.type,G.key,G.props,null,Z.mode,ne),Du(ne,G),ne.return=Z,ne;case S:return G=Gx(G,Z.mode,ne),G.return=Z,G;case P:return G=nl(G),he(Z,G,ne)}if(je(G)||A(G))return G=Xo(G,Z.mode,ne,null),G.return=Z,G;if(typeof G.then=="function")return he(Z,Dm(G),ne);if(G.$$typeof===L)return he(Z,Cm(Z,G),ne);Om(Z,G)}return null}function ie(Z,G,ne,ue){var Me=G!==null?G.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Me!==null?null:R(Z,G,""+ne,ue);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case C:return ne.key===Me?q(Z,G,ne,ue):null;case S:return ne.key===Me?re(Z,G,ne,ue):null;case P:return ne=nl(ne),ie(Z,G,ne,ue)}if(je(ne)||A(ne))return Me!==null?null:de(Z,G,ne,ue,null);if(typeof ne.then=="function")return ie(Z,G,Dm(ne),ue);if(ne.$$typeof===L)return ie(Z,G,Cm(Z,ne),ue);Om(Z,ne)}return null}function ce(Z,G,ne,ue,Me){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Z=Z.get(ne)||null,R(G,Z,""+ue,Me);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case C:return Z=Z.get(ue.key===null?ne:ue.key)||null,q(G,Z,ue,Me);case S:return Z=Z.get(ue.key===null?ne:ue.key)||null,re(G,Z,ue,Me);case P:return ue=nl(ue),ce(Z,G,ne,ue,Me)}if(je(ue)||A(ue))return Z=Z.get(ne)||null,de(G,Z,ue,Me,null);if(typeof ue.then=="function")return ce(Z,G,ne,Dm(ue),Me);if(ue.$$typeof===L)return ce(Z,G,ne,Cm(G,ue),Me);Om(G,ue)}return null}function Ee(Z,G,ne,ue){for(var Me=null,ot=null,Re=G,Je=G=0,nt=null;Re!==null&&Je<ne.length;Je++){Re.index>Je?(nt=Re,Re=null):nt=Re.sibling;var lt=ie(Z,Re,ne[Je],ue);if(lt===null){Re===null&&(Re=nt);break}a&&Re&&lt.alternate===null&&o(Z,Re),G=x(lt,G,Je),ot===null?Me=lt:ot.sibling=lt,ot=lt,Re=nt}if(Je===ne.length)return c(Z,Re),at&&Oa(Z,Je),Me;if(Re===null){for(;Je<ne.length;Je++)Re=he(Z,ne[Je],ue),Re!==null&&(G=x(Re,G,Je),ot===null?Me=Re:ot.sibling=Re,ot=Re);return at&&Oa(Z,Je),Me}for(Re=u(Re);Je<ne.length;Je++)nt=ce(Re,Z,Je,ne[Je],ue),nt!==null&&(a&&nt.alternate!==null&&Re.delete(nt.key===null?Je:nt.key),G=x(nt,G,Je),ot===null?Me=nt:ot.sibling=nt,ot=nt);return a&&Re.forEach(function(Ki){return o(Z,Ki)}),at&&Oa(Z,Je),Me}function Be(Z,G,ne,ue){if(ne==null)throw Error(r(151));for(var Me=null,ot=null,Re=G,Je=G=0,nt=null,lt=ne.next();Re!==null&&!lt.done;Je++,lt=ne.next()){Re.index>Je?(nt=Re,Re=null):nt=Re.sibling;var Ki=ie(Z,Re,lt.value,ue);if(Ki===null){Re===null&&(Re=nt);break}a&&Re&&Ki.alternate===null&&o(Z,Re),G=x(Ki,G,Je),ot===null?Me=Ki:ot.sibling=Ki,ot=Ki,Re=nt}if(lt.done)return c(Z,Re),at&&Oa(Z,Je),Me;if(Re===null){for(;!lt.done;Je++,lt=ne.next())lt=he(Z,lt.value,ue),lt!==null&&(G=x(lt,G,Je),ot===null?Me=lt:ot.sibling=lt,ot=lt);return at&&Oa(Z,Je),Me}for(Re=u(Re);!lt.done;Je++,lt=ne.next())lt=ce(Re,Z,Je,lt.value,ue),lt!==null&&(a&&lt.alternate!==null&&Re.delete(lt.key===null?Je:lt.key),G=x(lt,G,Je),ot===null?Me=lt:ot.sibling=lt,ot=lt);return a&&Re.forEach(function(vP){return o(Z,vP)}),at&&Oa(Z,Je),Me}function jt(Z,G,ne,ue){if(typeof ne=="object"&&ne!==null&&ne.type===I&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case C:e:{for(var Me=ne.key;G!==null;){if(G.key===Me){if(Me=ne.type,Me===I){if(G.tag===7){c(Z,G.sibling),ue=g(G,ne.props.children),ue.return=Z,Z=ue;break e}}else if(G.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===P&&nl(Me)===G.type){c(Z,G.sibling),ue=g(G,ne.props),Du(ue,ne),ue.return=Z,Z=ue;break e}c(Z,G);break}else o(Z,G);G=G.sibling}ne.type===I?(ue=Xo(ne.props.children,Z.mode,ue,ne.key),ue.return=Z,Z=ue):(ue=Em(ne.type,ne.key,ne.props,null,Z.mode,ue),Du(ue,ne),ue.return=Z,Z=ue)}return j(Z);case S:e:{for(Me=ne.key;G!==null;){if(G.key===Me)if(G.tag===4&&G.stateNode.containerInfo===ne.containerInfo&&G.stateNode.implementation===ne.implementation){c(Z,G.sibling),ue=g(G,ne.children||[]),ue.return=Z,Z=ue;break e}else{c(Z,G);break}else o(Z,G);G=G.sibling}ue=Gx(ne,Z.mode,ue),ue.return=Z,Z=ue}return j(Z);case P:return ne=nl(ne),jt(Z,G,ne,ue)}if(je(ne))return Ee(Z,G,ne,ue);if(A(ne)){if(Me=A(ne),typeof Me!="function")throw Error(r(150));return ne=Me.call(ne),Be(Z,G,ne,ue)}if(typeof ne.then=="function")return jt(Z,G,Dm(ne),ue);if(ne.$$typeof===L)return jt(Z,G,Cm(Z,ne),ue);Om(Z,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,G!==null&&G.tag===6?(c(Z,G.sibling),ue=g(G,ne),ue.return=Z,Z=ue):(c(Z,G),ue=Hx(ne,Z.mode,ue),ue.return=Z,Z=ue),j(Z)):c(Z,G)}return function(Z,G,ne,ue){try{Pu=0;var Me=jt(Z,G,ne,ue);return kc=null,Me}catch(Re){if(Re===Ec||Re===Rm)throw Re;var ot=kn(29,Re,null,Z.mode);return ot.lanes=ue,ot.return=Z,ot}finally{}}}var al=fj(!0),mj=fj(!1),Ci=!1;function r0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function a0(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ii(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ri(a,o,c){var u=a.updateQueue;if(u===null)return null;if(u=u.shared,(ut&2)!==0){var g=u.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),u.pending=o,o=Sm(a),J1(a,null,c),o}return Tm(a,u,o,c),Sm(a)}function Ou(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var u=o.lanes;u&=a.pendingLanes,c|=u,o.lanes=c,lu(a,c)}}function i0(a,o){var c=a.updateQueue,u=a.alternate;if(u!==null&&(u=u.updateQueue,c===u)){var g=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var j={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?g=x=j:x=x.next=j,c=c.next}while(c!==null);x===null?g=x=o:x=x.next=o}else g=x=o;c={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var o0=!1;function Mu(){if(o0){var a=Sc;if(a!==null)throw a}}function Vu(a,o,c,u){o0=!1;var g=a.updateQueue;Ci=!1;var x=g.firstBaseUpdate,j=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var q=R,re=q.next;q.next=null,j===null?x=re:j.next=re,j=q;var de=a.alternate;de!==null&&(de=de.updateQueue,R=de.lastBaseUpdate,R!==j&&(R===null?de.firstBaseUpdate=re:R.next=re,de.lastBaseUpdate=q))}if(x!==null){var he=g.baseState;j=0,de=re=q=null,R=x;do{var ie=R.lane&-536870913,ce=ie!==R.lane;if(ce?(st&ie)===ie:(u&ie)===ie){ie!==0&&ie===Tc&&(o0=!0),de!==null&&(de=de.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ee=a,Be=R;ie=o;var jt=c;switch(Be.tag){case 1:if(Ee=Be.payload,typeof Ee=="function"){he=Ee.call(jt,he,ie);break e}he=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Be.payload,ie=typeof Ee=="function"?Ee.call(jt,he,ie):Ee,ie==null)break e;he=b({},he,ie);break e;case 2:Ci=!0}}ie=R.callback,ie!==null&&(a.flags|=64,ce&&(a.flags|=8192),ce=g.callbacks,ce===null?g.callbacks=[ie]:ce.push(ie))}else ce={lane:ie,tag:R.tag,payload:R.payload,callback:R.callback,next:null},de===null?(re=de=ce,q=he):de=de.next=ce,j|=ie;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;ce=R,R=ce.next,ce.next=null,g.lastBaseUpdate=ce,g.shared.pending=null}}while(!0);de===null&&(q=he),g.baseState=q,g.firstBaseUpdate=re,g.lastBaseUpdate=de,x===null&&(g.shared.lanes=0),Vi|=j,a.lanes=j,a.memoizedState=he}}function pj(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function gj(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)pj(c[a],o)}var Ac=$(null),Mm=$(0);function xj(a,o){a=Ga,pe(Mm,a),pe(Ac,o),Ga=a|o.baseLanes}function l0(){pe(Mm,Ga),pe(Ac,Ac.current)}function c0(){Ga=Mm.current,U(Ac),U(Mm)}var An=$(null),sr=null;function Pi(a){var o=a.alternate;pe(es,es.current&1),pe(An,a),sr===null&&(o===null||Ac.current!==null||o.memoizedState!==null)&&(sr=a)}function d0(a){pe(es,es.current),pe(An,a),sr===null&&(sr=a)}function yj(a){a.tag===22?(pe(es,es.current),pe(An,a),sr===null&&(sr=a)):Di()}function Di(){pe(es,es.current),pe(An,An.current)}function Cn(a){U(An),sr===a&&(sr=null),U(es)}var es=$(0);function Vm(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||gy(c)||xy(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var La=0,Ye=null,vt=null,ds=null,Lm=!1,Cc=!1,il=!1,zm=0,Lu=0,Ic=null,dR=0;function Gt(){throw Error(r(321))}function u0(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!En(a[c],o[c]))return!1;return!0}function h0(a,o,c,u,g,x){return La=x,Ye=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,H.H=a===null||a.memoizedState===null?t_:E0,il=!1,x=c(u,g),il=!1,Cc&&(x=vj(o,c,u,g)),bj(a),x}function bj(a){H.H=Bu;var o=vt!==null&&vt.next!==null;if(La=0,ds=vt=Ye=null,Lm=!1,Lu=0,Ic=null,o)throw Error(r(300));a===null||us||(a=a.dependencies,a!==null&&Am(a)&&(us=!0))}function vj(a,o,c,u){Ye=a;var g=0;do{if(Cc&&(Ic=null),Lu=0,Cc=!1,25<=g)throw Error(r(301));if(g+=1,ds=vt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}H.H=s_,x=o(c,u)}while(Cc);return x}function uR(){var a=H.H,o=a.useState()[0];return o=typeof o.then=="function"?zu(o):o,a=a.useState()[0],(vt!==null?vt.memoizedState:null)!==a&&(Ye.flags|=1024),o}function f0(){var a=zm!==0;return zm=0,a}function m0(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function p0(a){if(Lm){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Lm=!1}La=0,ds=vt=Ye=null,Cc=!1,Lu=zm=0,Ic=null}function Js(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ds===null?Ye.memoizedState=ds=a:ds=ds.next=a,ds}function ts(){if(vt===null){var a=Ye.alternate;a=a!==null?a.memoizedState:null}else a=vt.next;var o=ds===null?Ye.memoizedState:ds.next;if(o!==null)ds=o,vt=a;else{if(a===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));vt=a,a={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},ds===null?Ye.memoizedState=ds=a:ds=ds.next=a}return ds}function Um(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zu(a){var o=Lu;return Lu+=1,Ic===null&&(Ic=[]),a=dj(Ic,a,o),o=Ye,(ds===null?o.memoizedState:ds.next)===null&&(o=o.alternate,H.H=o===null||o.memoizedState===null?t_:E0),a}function Bm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return zu(a);if(a.$$typeof===L)return As(a)}throw Error(r(438,String(a)))}function g0(a){var o=null,c=Ye.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var u=Ye.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(o={data:u.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Um(),Ye.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),u=0;u<a;u++)c[u]=z;return o.index++,c}function za(a,o){return typeof o=="function"?o(a):o}function Fm(a){var o=ts();return x0(o,vt,a)}function x0(a,o,c){var u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=c;var g=a.baseQueue,x=u.pending;if(x!==null){if(g!==null){var j=g.next;g.next=x.next,x.next=j}o.baseQueue=g=x,u.pending=null}if(x=a.baseState,g===null)a.memoizedState=x;else{o=g.next;var R=j=null,q=null,re=o,de=!1;do{var he=re.lane&-536870913;if(he!==re.lane?(st&he)===he:(La&he)===he){var ie=re.revertLane;if(ie===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),he===Tc&&(de=!0);else if((La&ie)===ie){re=re.next,ie===Tc&&(de=!0);continue}else he={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},q===null?(R=q=he,j=x):q=q.next=he,Ye.lanes|=ie,Vi|=ie;he=re.action,il&&c(x,he),x=re.hasEagerState?re.eagerState:c(x,he)}else ie={lane:he,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},q===null?(R=q=ie,j=x):q=q.next=ie,Ye.lanes|=he,Vi|=he;re=re.next}while(re!==null&&re!==o);if(q===null?j=x:q.next=R,!En(x,a.memoizedState)&&(us=!0,de&&(c=Sc,c!==null)))throw c;a.memoizedState=x,a.baseState=j,a.baseQueue=q,u.lastRenderedState=x}return g===null&&(u.lanes=0),[a.memoizedState,u.dispatch]}function y0(a){var o=ts(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var u=c.dispatch,g=c.pending,x=o.memoizedState;if(g!==null){c.pending=null;var j=g=g.next;do x=a(x,j.action),j=j.next;while(j!==g);En(x,o.memoizedState)||(us=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,u]}function wj(a,o,c){var u=Ye,g=ts(),x=at;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=o();var j=!En((vt||g).memoizedState,c);if(j&&(g.memoizedState=c,us=!0),g=g.queue,w0(Nj.bind(null,u,g,a),[a]),g.getSnapshot!==o||j||ds!==null&&ds.memoizedState.tag&1){if(u.flags|=2048,Rc(9,{destroy:void 0},_j.bind(null,u,g,c,o),null),Nt===null)throw Error(r(349));x||(La&127)!==0||jj(u,o,c)}return c}function jj(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Ye.updateQueue,o===null?(o=Um(),Ye.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function _j(a,o,c,u){o.value=c,o.getSnapshot=u,Tj(o)&&Sj(a)}function Nj(a,o,c){return c(function(){Tj(o)&&Sj(a)})}function Tj(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!En(a,c)}catch{return!0}}function Sj(a){var o=Jo(a,2);o!==null&&pn(o,a,2)}function b0(a){var o=Js();if(typeof a=="function"){var c=a;if(a=c(),il){Gn(!0);try{c()}finally{Gn(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:a},o}function Ej(a,o,c,u){return a.baseState=c,x0(a,vt,typeof u=="function"?u:za)}function hR(a,o,c,u,g){if(Hm(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){x.listeners.push(j)}};H.T!==null?c(!0):x.isTransition=!1,u(x),c=o.pending,c===null?(x.next=o.pending=x,kj(o,x)):(x.next=c.next,o.pending=c.next=x)}}function kj(a,o){var c=o.action,u=o.payload,g=a.state;if(o.isTransition){var x=H.T,j={};H.T=j;try{var R=c(g,u),q=H.S;q!==null&&q(j,R),Aj(a,o,R)}catch(re){v0(a,o,re)}finally{x!==null&&j.types!==null&&(x.types=j.types),H.T=x}}else try{x=c(g,u),Aj(a,o,x)}catch(re){v0(a,o,re)}}function Aj(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(u){Cj(a,o,u)},function(u){return v0(a,o,u)}):Cj(a,o,c)}function Cj(a,o,c){o.status="fulfilled",o.value=c,Ij(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,kj(a,c)))}function v0(a,o,c){var u=a.pending;if(a.pending=null,u!==null){u=u.next;do o.status="rejected",o.reason=c,Ij(o),o=o.next;while(o!==u)}a.action=null}function Ij(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Rj(a,o){return o}function Pj(a,o){if(at){var c=Nt.formState;if(c!==null){e:{var u=Ye;if(at){if(At){t:{for(var g=At,x=tr;g.nodeType!==8;){if(!x){g=null;break t}if(g=nr(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){At=nr(g.nextSibling),u=g.data==="F!";break e}}ki(u)}u=!1}u&&(o=c[0])}}return c=Js(),c.memoizedState=c.baseState=o,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rj,lastRenderedState:o},c.queue=u,c=Xj.bind(null,Ye,u),u.dispatch=c,u=b0(!1),x=S0.bind(null,Ye,!1,u.queue),u=Js(),g={state:o,dispatch:null,action:a,pending:null},u.queue=g,c=hR.bind(null,Ye,g,x,c),g.dispatch=c,u.memoizedState=a,[o,c,!1]}function Dj(a){var o=ts();return Oj(o,vt,a)}function Oj(a,o,c){if(o=x0(a,o,Rj)[0],a=Fm(za)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var u=zu(o)}catch(j){throw j===Ec?Rm:j}else u=o;o=ts();var g=o.queue,x=g.dispatch;return c!==o.memoizedState&&(Ye.flags|=2048,Rc(9,{destroy:void 0},fR.bind(null,g,c),null)),[u,x,a]}function fR(a,o){a.action=o}function Mj(a){var o=ts(),c=vt;if(c!==null)return Oj(o,c,a);ts(),o=o.memoizedState,c=ts();var u=c.queue.dispatch;return c.memoizedState=a,[o,u,!1]}function Rc(a,o,c,u){return a={tag:a,create:c,deps:u,inst:o,next:null},o=Ye.updateQueue,o===null&&(o=Um(),Ye.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(u=c.next,c.next=a,a.next=u,o.lastEffect=a),a}function Vj(){return ts().memoizedState}function $m(a,o,c,u){var g=Js();Ye.flags|=a,g.memoizedState=Rc(1|o,{destroy:void 0},c,u===void 0?null:u)}function qm(a,o,c,u){var g=ts();u=u===void 0?null:u;var x=g.memoizedState.inst;vt!==null&&u!==null&&u0(u,vt.memoizedState.deps)?g.memoizedState=Rc(o,x,c,u):(Ye.flags|=a,g.memoizedState=Rc(1|o,x,c,u))}function Lj(a,o){$m(8390656,8,a,o)}function w0(a,o){qm(2048,8,a,o)}function mR(a){Ye.flags|=4;var o=Ye.updateQueue;if(o===null)o=Um(),Ye.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function zj(a){var o=ts().memoizedState;return mR({ref:o,nextImpl:a}),function(){if((ut&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function Uj(a,o){return qm(4,2,a,o)}function Bj(a,o){return qm(4,4,a,o)}function Fj(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function $j(a,o,c){c=c!=null?c.concat([a]):null,qm(4,4,Fj.bind(null,o,a),c)}function j0(){}function qj(a,o){var c=ts();o=o===void 0?null:o;var u=c.memoizedState;return o!==null&&u0(o,u[1])?u[0]:(c.memoizedState=[a,o],a)}function Hj(a,o){var c=ts();o=o===void 0?null:o;var u=c.memoizedState;if(o!==null&&u0(o,u[1]))return u[0];if(u=a(),il){Gn(!0);try{a()}finally{Gn(!1)}}return c.memoizedState=[u,o],u}function _0(a,o,c){return c===void 0||(La&1073741824)!==0&&(st&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=G_(),Ye.lanes|=a,Vi|=a,c)}function Gj(a,o,c,u){return En(c,o)?c:Ac.current!==null?(a=_0(a,c,u),En(a,o)||(us=!0),a):(La&42)===0||(La&1073741824)!==0&&(st&261930)===0?(us=!0,a.memoizedState=c):(a=G_(),Ye.lanes|=a,Vi|=a,o)}function Kj(a,o,c,u,g){var x=J.p;J.p=x!==0&&8>x?x:8;var j=H.T,R={};H.T=R,S0(a,!1,o,c);try{var q=g(),re=H.S;if(re!==null&&re(R,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var de=cR(q,u);Uu(a,o,de,Pn(a))}else Uu(a,o,u,Pn(a))}catch(he){Uu(a,o,{then:function(){},status:"rejected",reason:he},Pn())}finally{J.p=x,j!==null&&R.types!==null&&(j.types=R.types),H.T=j}}function pR(){}function N0(a,o,c,u){if(a.tag!==5)throw Error(r(476));var g=Wj(a).queue;Kj(a,g,o,te,c===null?pR:function(){return Yj(a),c(u)})}function Wj(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:te},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function Yj(a){var o=Wj(a);o.next===null&&(o=a.alternate.memoizedState),Uu(a,o.next.queue,{},Pn())}function T0(){return As(nh)}function Qj(){return ts().memoizedState}function Jj(){return ts().memoizedState}function gR(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=Pn();a=Ii(c);var u=Ri(o,a,c);u!==null&&(pn(u,o,c),Ou(u,o,c)),o={cache:e0()},a.payload=o;return}o=o.return}}function xR(a,o,c){var u=Pn();c={lane:u,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Hm(a)?Zj(o,c):(c=$x(a,o,c,u),c!==null&&(pn(c,a,u),e_(c,o,u)))}function Xj(a,o,c){var u=Pn();Uu(a,o,c,u)}function Uu(a,o,c,u){var g={lane:u,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hm(a))Zj(o,g);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var j=o.lastRenderedState,R=x(j,c);if(g.hasEagerState=!0,g.eagerState=R,En(R,j))return Tm(a,o,g,0),Nt===null&&Nm(),!1}catch{}finally{}if(c=$x(a,o,g,u),c!==null)return pn(c,a,u),e_(c,o,u),!0}return!1}function S0(a,o,c,u){if(u={lane:2,revertLane:ry(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Hm(a)){if(o)throw Error(r(479))}else o=$x(a,c,u,2),o!==null&&pn(o,a,2)}function Hm(a){var o=a.alternate;return a===Ye||o!==null&&o===Ye}function Zj(a,o){Cc=Lm=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function e_(a,o,c){if((c&4194048)!==0){var u=o.lanes;u&=a.pendingLanes,c|=u,o.lanes=c,lu(a,c)}}var Bu={readContext:As,use:Bm,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt};Bu.useEffectEvent=Gt;var t_={readContext:As,use:Bm,useCallback:function(a,o){return Js().memoizedState=[a,o===void 0?null:o],a},useContext:As,useEffect:Lj,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,$m(4194308,4,Fj.bind(null,o,a),c)},useLayoutEffect:function(a,o){return $m(4194308,4,a,o)},useInsertionEffect:function(a,o){$m(4,2,a,o)},useMemo:function(a,o){var c=Js();o=o===void 0?null:o;var u=a();if(il){Gn(!0);try{a()}finally{Gn(!1)}}return c.memoizedState=[u,o],u},useReducer:function(a,o,c){var u=Js();if(c!==void 0){var g=c(o);if(il){Gn(!0);try{c(o)}finally{Gn(!1)}}}else g=o;return u.memoizedState=u.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},u.queue=a,a=a.dispatch=xR.bind(null,Ye,a),[u.memoizedState,a]},useRef:function(a){var o=Js();return a={current:a},o.memoizedState=a},useState:function(a){a=b0(a);var o=a.queue,c=Xj.bind(null,Ye,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:j0,useDeferredValue:function(a,o){var c=Js();return _0(c,a,o)},useTransition:function(){var a=b0(!1);return a=Kj.bind(null,Ye,a.queue,!0,!1),Js().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var u=Ye,g=Js();if(at){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Nt===null)throw Error(r(349));(st&127)!==0||jj(u,o,c)}g.memoizedState=c;var x={value:c,getSnapshot:o};return g.queue=x,Lj(Nj.bind(null,u,x,a),[a]),u.flags|=2048,Rc(9,{destroy:void 0},_j.bind(null,u,x,c,o),null),c},useId:function(){var a=Js(),o=Nt.identifierPrefix;if(at){var c=la,u=oa;c=(u&~(1<<32-Xt(u)-1)).toString(32)+c,o="_"+o+"R_"+c,c=zm++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=dR++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:T0,useFormState:Pj,useActionState:Pj,useOptimistic:function(a){var o=Js();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=S0.bind(null,Ye,!0,c),c.dispatch=o,[a,o]},useMemoCache:g0,useCacheRefresh:function(){return Js().memoizedState=gR.bind(null,Ye)},useEffectEvent:function(a){var o=Js(),c={impl:a};return o.memoizedState=c,function(){if((ut&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},E0={readContext:As,use:Bm,useCallback:qj,useContext:As,useEffect:w0,useImperativeHandle:$j,useInsertionEffect:Uj,useLayoutEffect:Bj,useMemo:Hj,useReducer:Fm,useRef:Vj,useState:function(){return Fm(za)},useDebugValue:j0,useDeferredValue:function(a,o){var c=ts();return Gj(c,vt.memoizedState,a,o)},useTransition:function(){var a=Fm(za)[0],o=ts().memoizedState;return[typeof a=="boolean"?a:zu(a),o]},useSyncExternalStore:wj,useId:Qj,useHostTransitionStatus:T0,useFormState:Dj,useActionState:Dj,useOptimistic:function(a,o){var c=ts();return Ej(c,vt,a,o)},useMemoCache:g0,useCacheRefresh:Jj};E0.useEffectEvent=zj;var s_={readContext:As,use:Bm,useCallback:qj,useContext:As,useEffect:w0,useImperativeHandle:$j,useInsertionEffect:Uj,useLayoutEffect:Bj,useMemo:Hj,useReducer:y0,useRef:Vj,useState:function(){return y0(za)},useDebugValue:j0,useDeferredValue:function(a,o){var c=ts();return vt===null?_0(c,a,o):Gj(c,vt.memoizedState,a,o)},useTransition:function(){var a=y0(za)[0],o=ts().memoizedState;return[typeof a=="boolean"?a:zu(a),o]},useSyncExternalStore:wj,useId:Qj,useHostTransitionStatus:T0,useFormState:Mj,useActionState:Mj,useOptimistic:function(a,o){var c=ts();return vt!==null?Ej(c,vt,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:g0,useCacheRefresh:Jj};s_.useEffectEvent=zj;function k0(a,o,c,u){o=a.memoizedState,c=c(u,o),c=c==null?o:b({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var A0={enqueueSetState:function(a,o,c){a=a._reactInternals;var u=Pn(),g=Ii(u);g.payload=o,c!=null&&(g.callback=c),o=Ri(a,g,u),o!==null&&(pn(o,a,u),Ou(o,a,u))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var u=Pn(),g=Ii(u);g.tag=1,g.payload=o,c!=null&&(g.callback=c),o=Ri(a,g,u),o!==null&&(pn(o,a,u),Ou(o,a,u))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=Pn(),u=Ii(c);u.tag=2,o!=null&&(u.callback=o),o=Ri(a,u,c),o!==null&&(pn(o,a,c),Ou(o,a,c))}};function n_(a,o,c,u,g,x,j){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(u,x,j):o.prototype&&o.prototype.isPureReactComponent?!Eu(c,u)||!Eu(g,x):!0}function r_(a,o,c,u){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,u),o.state!==a&&A0.enqueueReplaceState(o,o.state,null)}function ol(a,o){var c=o;if("ref"in o){c={};for(var u in o)u!=="ref"&&(c[u]=o[u])}if(a=a.defaultProps){c===o&&(c=b({},c));for(var g in a)c[g]===void 0&&(c[g]=a[g])}return c}function a_(a){_m(a)}function i_(a){console.error(a)}function o_(a){_m(a)}function Gm(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(u){setTimeout(function(){throw u})}}function l_(a,o,c){try{var u=a.onCaughtError;u(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function C0(a,o,c){return c=Ii(c),c.tag=3,c.payload={element:null},c.callback=function(){Gm(a,o)},c}function c_(a){return a=Ii(a),a.tag=3,a}function d_(a,o,c,u){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var x=u.value;a.payload=function(){return g(x)},a.callback=function(){l_(o,c,u)}}var j=c.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(a.callback=function(){l_(o,c,u),typeof g!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function yR(a,o,c,u,g){if(c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(o=c.alternate,o!==null&&Nc(o,c,g,!0),c=An.current,c!==null){switch(c.tag){case 31:case 13:return sr===null?rp():c.alternate===null&&Kt===0&&(Kt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,u===Pm?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([u]):o.add(u),ty(a,u,g)),!1;case 22:return c.flags|=65536,u===Pm?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([u])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([u]):c.add(u)),ty(a,u,g)),!1}throw Error(r(435,c.tag))}return ty(a,u,g),rp(),!1}if(at)return o=An.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,u!==Yx&&(a=Error(r(422),{cause:u}),Cu(Xn(a,c)))):(u!==Yx&&(o=Error(r(423),{cause:u}),Cu(Xn(o,c))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,u=Xn(u,c),g=C0(a.stateNode,u,g),i0(a,g),Kt!==4&&(Kt=2)),!1;var x=Error(r(520),{cause:u});if(x=Xn(x,c),Yu===null?Yu=[x]:Yu.push(x),Kt!==4&&(Kt=2),o===null)return!0;u=Xn(u,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=g&-g,c.lanes|=a,a=C0(c.stateNode,u,a),i0(c,a),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Li===null||!Li.has(x))))return c.flags|=65536,g&=-g,c.lanes|=g,g=c_(g),d_(g,a,c,u),i0(c,g),!1}c=c.return}while(c!==null);return!1}var I0=Error(r(461)),us=!1;function Cs(a,o,c,u){o.child=a===null?mj(o,null,c,u):al(o,a.child,c,u)}function u_(a,o,c,u,g){c=c.render;var x=o.ref;if("ref"in u){var j={};for(var R in u)R!=="ref"&&(j[R]=u[R])}else j=u;return tl(o),u=h0(a,o,c,j,x,g),R=f0(),a!==null&&!us?(m0(a,o,g),Ua(a,o,g)):(at&&R&&Kx(o),o.flags|=1,Cs(a,o,u,g),o.child)}function h_(a,o,c,u,g){if(a===null){var x=c.type;return typeof x=="function"&&!qx(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,f_(a,o,x,u,g)):(a=Em(c.type,null,u,o,o.mode,g),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!z0(a,g)){var j=x.memoizedProps;if(c=c.compare,c=c!==null?c:Eu,c(j,u)&&a.ref===o.ref)return Ua(a,o,g)}return o.flags|=1,a=Da(x,u),a.ref=o.ref,a.return=o,o.child=a}function f_(a,o,c,u,g){if(a!==null){var x=a.memoizedProps;if(Eu(x,u)&&a.ref===o.ref)if(us=!1,o.pendingProps=u=x,z0(a,g))(a.flags&131072)!==0&&(us=!0);else return o.lanes=a.lanes,Ua(a,o,g)}return R0(a,o,c,u,g)}function m_(a,o,c,u){var g=u.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(u=o.child=a.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~x}else u=0,o.child=null;return p_(a,o,x,c,u)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Im(o,x!==null?x.cachePool:null),x!==null?xj(o,x):l0(),yj(o);else return u=o.lanes=536870912,p_(a,o,x!==null?x.baseLanes|c:c,c,u)}else x!==null?(Im(o,x.cachePool),xj(o,x),Di(),o.memoizedState=null):(a!==null&&Im(o,null),l0(),Di());return Cs(a,o,g,c),o.child}function Fu(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function p_(a,o,c,u,g){var x=s0();return x=x===null?null:{parent:cs._currentValue,pool:x},o.memoizedState={baseLanes:c,cachePool:x},a!==null&&Im(o,null),l0(),yj(o),a!==null&&Nc(a,o,u,!0),o.childLanes=g,null}function Km(a,o){return o=Ym({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function g_(a,o,c){return al(o,a.child,null,c),a=Km(o,o.pendingProps),a.flags|=2,Cn(o),o.memoizedState=null,a}function bR(a,o,c){var u=o.pendingProps,g=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(at){if(u.mode==="hidden")return a=Km(o,u),o.lanes=536870912,Fu(null,a);if(d0(o),(a=At)?(a=kN(a,tr),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Si!==null?{id:oa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},c=Z1(a),c.return=o,o.child=c,ks=o,At=null)):a=null,a===null)throw ki(o);return o.lanes=536870912,null}return Km(o,u)}var x=a.memoizedState;if(x!==null){var j=x.dehydrated;if(d0(o),g)if(o.flags&256)o.flags&=-257,o=g_(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(us||Nc(a,o,c,!1),g=(c&a.childLanes)!==0,us||g){if(u=Nt,u!==null&&(j=cu(u,c),j!==0&&j!==x.retryLane))throw x.retryLane=j,Jo(a,j),pn(u,a,j),I0;rp(),o=g_(a,o,c)}else a=x.treeContext,At=nr(j.nextSibling),ks=o,at=!0,Ei=null,tr=!1,a!==null&&sj(o,a),o=Km(o,u),o.flags|=4096;return o}return a=Da(a.child,{mode:u.mode,children:u.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Wm(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function R0(a,o,c,u,g){return tl(o),c=h0(a,o,c,u,void 0,g),u=f0(),a!==null&&!us?(m0(a,o,g),Ua(a,o,g)):(at&&u&&Kx(o),o.flags|=1,Cs(a,o,c,g),o.child)}function x_(a,o,c,u,g,x){return tl(o),o.updateQueue=null,c=vj(o,u,c,g),bj(a),u=f0(),a!==null&&!us?(m0(a,o,x),Ua(a,o,x)):(at&&u&&Kx(o),o.flags|=1,Cs(a,o,c,x),o.child)}function y_(a,o,c,u,g){if(tl(o),o.stateNode===null){var x=vc,j=c.contextType;typeof j=="object"&&j!==null&&(x=As(j)),x=new c(u,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=A0,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=u,x.state=o.memoizedState,x.refs={},r0(o),j=c.contextType,x.context=typeof j=="object"&&j!==null?As(j):vc,x.state=o.memoizedState,j=c.getDerivedStateFromProps,typeof j=="function"&&(k0(o,c,j,u),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(j=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),j!==x.state&&A0.enqueueReplaceState(x,x.state,null),Vu(o,u,x,g),Mu(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),u=!0}else if(a===null){x=o.stateNode;var R=o.memoizedProps,q=ol(c,R);x.props=q;var re=x.context,de=c.contextType;j=vc,typeof de=="object"&&de!==null&&(j=As(de));var he=c.getDerivedStateFromProps;de=typeof he=="function"||typeof x.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,de||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(R||re!==j)&&r_(o,x,u,j),Ci=!1;var ie=o.memoizedState;x.state=ie,Vu(o,u,x,g),Mu(),re=o.memoizedState,R||ie!==re||Ci?(typeof he=="function"&&(k0(o,c,he,u),re=o.memoizedState),(q=Ci||n_(o,c,q,u,ie,re,j))?(de||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=re),x.props=u,x.state=re,x.context=j,u=q):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{x=o.stateNode,a0(a,o),j=o.memoizedProps,de=ol(c,j),x.props=de,he=o.pendingProps,ie=x.context,re=c.contextType,q=vc,typeof re=="object"&&re!==null&&(q=As(re)),R=c.getDerivedStateFromProps,(re=typeof R=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==he||ie!==q)&&r_(o,x,u,q),Ci=!1,ie=o.memoizedState,x.state=ie,Vu(o,u,x,g),Mu();var ce=o.memoizedState;j!==he||ie!==ce||Ci||a!==null&&a.dependencies!==null&&Am(a.dependencies)?(typeof R=="function"&&(k0(o,c,R,u),ce=o.memoizedState),(de=Ci||n_(o,c,de,u,ie,ce,q)||a!==null&&a.dependencies!==null&&Am(a.dependencies))?(re||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,ce,q),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,ce,q)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||j===a.memoizedProps&&ie===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&ie===a.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=ce),x.props=u,x.state=ce,x.context=q,u=de):(typeof x.componentDidUpdate!="function"||j===a.memoizedProps&&ie===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&ie===a.memoizedState||(o.flags|=1024),u=!1)}return x=u,Wm(a,o),u=(o.flags&128)!==0,x||u?(x=o.stateNode,c=u&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&u?(o.child=al(o,a.child,null,g),o.child=al(o,null,c,g)):Cs(a,o,c,g),o.memoizedState=x.state,a=o.child):a=Ua(a,o,g),a}function b_(a,o,c,u){return Zo(),o.flags|=256,Cs(a,o,c,u),o.child}var P0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function D0(a){return{baseLanes:a,cachePool:lj()}}function O0(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=Rn),a}function v_(a,o,c){var u=o.pendingProps,g=!1,x=(o.flags&128)!==0,j;if((j=x)||(j=a!==null&&a.memoizedState===null?!1:(es.current&2)!==0),j&&(g=!0,o.flags&=-129),j=(o.flags&32)!==0,o.flags&=-33,a===null){if(at){if(g?Pi(o):Di(),(a=At)?(a=kN(a,tr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Si!==null?{id:oa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},c=Z1(a),c.return=o,o.child=c,ks=o,At=null)):a=null,a===null)throw ki(o);return xy(a)?o.lanes=32:o.lanes=536870912,null}var R=u.children;return u=u.fallback,g?(Di(),g=o.mode,R=Ym({mode:"hidden",children:R},g),u=Xo(u,g,c,null),R.return=o,u.return=o,R.sibling=u,o.child=R,u=o.child,u.memoizedState=D0(c),u.childLanes=O0(a,j,c),o.memoizedState=P0,Fu(null,u)):(Pi(o),M0(o,R))}var q=a.memoizedState;if(q!==null&&(R=q.dehydrated,R!==null)){if(x)o.flags&256?(Pi(o),o.flags&=-257,o=V0(a,o,c)):o.memoizedState!==null?(Di(),o.child=a.child,o.flags|=128,o=null):(Di(),R=u.fallback,g=o.mode,u=Ym({mode:"visible",children:u.children},g),R=Xo(R,g,c,null),R.flags|=2,u.return=o,R.return=o,u.sibling=R,o.child=u,al(o,a.child,null,c),u=o.child,u.memoizedState=D0(c),u.childLanes=O0(a,j,c),o.memoizedState=P0,o=Fu(null,u));else if(Pi(o),xy(R)){if(j=R.nextSibling&&R.nextSibling.dataset,j)var re=j.dgst;j=re,u=Error(r(419)),u.stack="",u.digest=j,Cu({value:u,source:null,stack:null}),o=V0(a,o,c)}else if(us||Nc(a,o,c,!1),j=(c&a.childLanes)!==0,us||j){if(j=Nt,j!==null&&(u=cu(j,c),u!==0&&u!==q.retryLane))throw q.retryLane=u,Jo(a,u),pn(j,a,u),I0;gy(R)||rp(),o=V0(a,o,c)}else gy(R)?(o.flags|=192,o.child=a.child,o=null):(a=q.treeContext,At=nr(R.nextSibling),ks=o,at=!0,Ei=null,tr=!1,a!==null&&sj(o,a),o=M0(o,u.children),o.flags|=4096);return o}return g?(Di(),R=u.fallback,g=o.mode,q=a.child,re=q.sibling,u=Da(q,{mode:"hidden",children:u.children}),u.subtreeFlags=q.subtreeFlags&65011712,re!==null?R=Da(re,R):(R=Xo(R,g,c,null),R.flags|=2),R.return=o,u.return=o,u.sibling=R,o.child=u,Fu(null,u),u=o.child,R=a.child.memoizedState,R===null?R=D0(c):(g=R.cachePool,g!==null?(q=cs._currentValue,g=g.parent!==q?{parent:q,pool:q}:g):g=lj(),R={baseLanes:R.baseLanes|c,cachePool:g}),u.memoizedState=R,u.childLanes=O0(a,j,c),o.memoizedState=P0,Fu(a.child,u)):(Pi(o),c=a.child,a=c.sibling,c=Da(c,{mode:"visible",children:u.children}),c.return=o,c.sibling=null,a!==null&&(j=o.deletions,j===null?(o.deletions=[a],o.flags|=16):j.push(a)),o.child=c,o.memoizedState=null,c)}function M0(a,o){return o=Ym({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Ym(a,o){return a=kn(22,a,null,o),a.lanes=0,a}function V0(a,o,c){return al(o,a.child,null,c),a=M0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function w_(a,o,c){a.lanes|=o;var u=a.alternate;u!==null&&(u.lanes|=o),Xx(a.return,o,c)}function L0(a,o,c,u,g,x){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:c,tailMode:g,treeForkCount:x}:(j.isBackwards=o,j.rendering=null,j.renderingStartTime=0,j.last=u,j.tail=c,j.tailMode=g,j.treeForkCount=x)}function j_(a,o,c){var u=o.pendingProps,g=u.revealOrder,x=u.tail;u=u.children;var j=es.current,R=(j&2)!==0;if(R?(j=j&1|2,o.flags|=128):j&=1,pe(es,j),Cs(a,o,u,c),u=at?Au:0,!R&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&w_(a,c,o);else if(a.tag===19)w_(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(g){case"forwards":for(c=o.child,g=null;c!==null;)a=c.alternate,a!==null&&Vm(a)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),L0(o,!1,g,c,x,u);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(a=g.alternate,a!==null&&Vm(a)===null){o.child=g;break}a=g.sibling,g.sibling=c,c=g,g=a}L0(o,!0,c,null,x,u);break;case"together":L0(o,!1,null,null,void 0,u);break;default:o.memoizedState=null}return o.child}function Ua(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Vi|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(Nc(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=Da(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=Da(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function z0(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Am(a)))}function vR(a,o,c){switch(o.tag){case 3:St(o,o.stateNode.containerInfo),Ai(o,cs,a.memoizedState.cache),Zo();break;case 27:case 5:qn(o);break;case 4:St(o,o.stateNode.containerInfo);break;case 10:Ai(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,d0(o),null;break;case 13:var u=o.memoizedState;if(u!==null)return u.dehydrated!==null?(Pi(o),o.flags|=128,null):(c&o.child.childLanes)!==0?v_(a,o,c):(Pi(o),a=Ua(a,o,c),a!==null?a.sibling:null);Pi(o);break;case 19:var g=(a.flags&128)!==0;if(u=(c&o.childLanes)!==0,u||(Nc(a,o,c,!1),u=(c&o.childLanes)!==0),g){if(u)return j_(a,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),pe(es,es.current),u)break;return null;case 22:return o.lanes=0,m_(a,o,c,o.pendingProps);case 24:Ai(o,cs,a.memoizedState.cache)}return Ua(a,o,c)}function __(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)us=!0;else{if(!z0(a,c)&&(o.flags&128)===0)return us=!1,vR(a,o,c);us=(a.flags&131072)!==0}else us=!1,at&&(o.flags&1048576)!==0&&tj(o,Au,o.index);switch(o.lanes=0,o.tag){case 16:e:{var u=o.pendingProps;if(a=nl(o.elementType),o.type=a,typeof a=="function")qx(a)?(u=ol(a,u),o.tag=1,o=y_(null,o,a,u,c)):(o.tag=0,o=R0(null,o,a,u,c));else{if(a!=null){var g=a.$$typeof;if(g===Y){o.tag=11,o=u_(null,o,a,u,c);break e}else if(g===T){o.tag=14,o=h_(null,o,a,u,c);break e}}throw o=Q(a)||a,Error(r(306,o,""))}}return o;case 0:return R0(a,o,o.type,o.pendingProps,c);case 1:return u=o.type,g=ol(u,o.pendingProps),y_(a,o,u,g,c);case 3:e:{if(St(o,o.stateNode.containerInfo),a===null)throw Error(r(387));u=o.pendingProps;var x=o.memoizedState;g=x.element,a0(a,o),Vu(o,u,null,c);var j=o.memoizedState;if(u=j.cache,Ai(o,cs,u),u!==x.cache&&Zx(o,[cs],c,!0),Mu(),u=j.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:j.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=b_(a,o,u,c);break e}else if(u!==g){g=Xn(Error(r(424)),o),Cu(g),o=b_(a,o,u,c);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(At=nr(a.firstChild),ks=o,at=!0,Ei=null,tr=!0,c=mj(o,null,u,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Zo(),u===g){o=Ua(a,o,c);break e}Cs(a,o,u,c)}o=o.child}return o;case 26:return Wm(a,o),a===null?(c=DN(o.type,null,o.pendingProps,null))?o.memoizedState=c:at||(c=o.type,a=o.pendingProps,u=up(Ve.current).createElement(c),u[is]=o,u[bs]=a,Is(u,c,a),os(u),o.stateNode=u):o.memoizedState=DN(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return qn(o),a===null&&at&&(u=o.stateNode=IN(o.type,o.pendingProps,Ve.current),ks=o,tr=!0,g=At,Fi(o.type)?(yy=g,At=nr(u.firstChild)):At=g),Cs(a,o,o.pendingProps.children,c),Wm(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&at&&((g=u=At)&&(u=QR(u,o.type,o.pendingProps,tr),u!==null?(o.stateNode=u,ks=o,At=nr(u.firstChild),tr=!1,g=!0):g=!1),g||ki(o)),qn(o),g=o.type,x=o.pendingProps,j=a!==null?a.memoizedProps:null,u=x.children,fy(g,x)?u=null:j!==null&&fy(g,j)&&(o.flags|=32),o.memoizedState!==null&&(g=h0(a,o,uR,null,null,c),nh._currentValue=g),Wm(a,o),Cs(a,o,u,c),o.child;case 6:return a===null&&at&&((a=c=At)&&(c=JR(c,o.pendingProps,tr),c!==null?(o.stateNode=c,ks=o,At=null,a=!0):a=!1),a||ki(o)),null;case 13:return v_(a,o,c);case 4:return St(o,o.stateNode.containerInfo),u=o.pendingProps,a===null?o.child=al(o,null,u,c):Cs(a,o,u,c),o.child;case 11:return u_(a,o,o.type,o.pendingProps,c);case 7:return Cs(a,o,o.pendingProps,c),o.child;case 8:return Cs(a,o,o.pendingProps.children,c),o.child;case 12:return Cs(a,o,o.pendingProps.children,c),o.child;case 10:return u=o.pendingProps,Ai(o,o.type,u.value),Cs(a,o,u.children,c),o.child;case 9:return g=o.type._context,u=o.pendingProps.children,tl(o),g=As(g),u=u(g),o.flags|=1,Cs(a,o,u,c),o.child;case 14:return h_(a,o,o.type,o.pendingProps,c);case 15:return f_(a,o,o.type,o.pendingProps,c);case 19:return j_(a,o,c);case 31:return bR(a,o,c);case 22:return m_(a,o,c,o.pendingProps);case 24:return tl(o),u=As(cs),a===null?(g=s0(),g===null&&(g=Nt,x=e0(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=c),g=x),o.memoizedState={parent:u,cache:g},r0(o),Ai(o,cs,g)):((a.lanes&c)!==0&&(a0(a,o),Vu(o,null,null,c),Mu()),g=a.memoizedState,x=o.memoizedState,g.parent!==u?(g={parent:u,cache:u},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),Ai(o,cs,u)):(u=x.cache,Ai(o,cs,u),u!==g.cache&&Zx(o,[cs],c,!0))),Cs(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ba(a){a.flags|=4}function U0(a,o,c,u,g){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(g&335544128)===g)if(a.stateNode.complete)a.flags|=8192;else if(Q_())a.flags|=8192;else throw rl=Pm,n0}else a.flags&=-16777217}function N_(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!zN(o))if(Q_())a.flags|=8192;else throw rl=Pm,n0}function Qm(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?sm():536870912,a.lanes|=o,Mc|=o)}function $u(a,o){if(!at)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var u=null;c!==null;)c.alternate!==null&&(u=c),c=c.sibling;u===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:u.sibling=null}}function Ct(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,u=0;if(o)for(var g=a.child;g!==null;)c|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)c|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=u,a.childLanes=c,o}function wR(a,o,c){var u=o.pendingProps;switch(Wx(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(o),null;case 1:return Ct(o),null;case 3:return c=o.stateNode,u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Va(cs),ft(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(_c(o)?Ba(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Qx())),Ct(o),null;case 26:var g=o.type,x=o.memoizedState;return a===null?(Ba(o),x!==null?(Ct(o),N_(o,x)):(Ct(o),U0(o,g,null,u,c))):x?x!==a.memoizedState?(Ba(o),Ct(o),N_(o,x)):(Ct(o),o.flags&=-16777217):(a=a.memoizedProps,a!==u&&Ba(o),Ct(o),U0(o,g,a,u,c)),null;case 27:if(yr(o),c=Ve.current,g=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==u&&Ba(o);else{if(!u){if(o.stateNode===null)throw Error(r(166));return Ct(o),null}a=ae.current,_c(o)?nj(o):(a=IN(g,u,c),o.stateNode=a,Ba(o))}return Ct(o),null;case 5:if(yr(o),g=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==u&&Ba(o);else{if(!u){if(o.stateNode===null)throw Error(r(166));return Ct(o),null}if(x=ae.current,_c(o))nj(o);else{var j=up(Ve.current);switch(x){case 1:x=j.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:x=j.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":x=j.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":x=j.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":x=j.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof u.is=="string"?j.createElement("select",{is:u.is}):j.createElement("select"),u.multiple?x.multiple=!0:u.size&&(x.size=u.size);break;default:x=typeof u.is=="string"?j.createElement(g,{is:u.is}):j.createElement(g)}}x[is]=o,x[bs]=u;e:for(j=o.child;j!==null;){if(j.tag===5||j.tag===6)x.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===o)break e;for(;j.sibling===null;){if(j.return===null||j.return===o)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}o.stateNode=x;e:switch(Is(x,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ba(o)}}return Ct(o),U0(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==u&&Ba(o);else{if(typeof u!="string"&&o.stateNode===null)throw Error(r(166));if(a=Ve.current,_c(o)){if(a=o.stateNode,c=o.memoizedProps,u=null,g=ks,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}a[is]=o,a=!!(a.nodeValue===c||u!==null&&u.suppressHydrationWarning===!0||vN(a.nodeValue,c)),a||ki(o,!0)}else a=up(a).createTextNode(u),a[is]=o,o.stateNode=a}return Ct(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(u=_c(o),c!==null){if(a===null){if(!u)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[is]=o}else Zo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ct(o),a=!1}else c=Qx(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(Cn(o),o):(Cn(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Ct(o),null;case 13:if(u=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=_c(o),u!==null&&u.dehydrated!==null){if(a===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[is]=o}else Zo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ct(o),g=!1}else g=Qx(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(Cn(o),o):(Cn(o),null)}return Cn(o),(o.flags&128)!==0?(o.lanes=c,o):(c=u!==null,a=a!==null&&a.memoizedState!==null,c&&(u=o.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==g&&(u.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),Qm(o,o.updateQueue),Ct(o),null);case 4:return ft(),a===null&&ly(o.stateNode.containerInfo),Ct(o),null;case 10:return Va(o.type),Ct(o),null;case 19:if(U(es),u=o.memoizedState,u===null)return Ct(o),null;if(g=(o.flags&128)!==0,x=u.rendering,x===null)if(g)$u(u,!1);else{if(Kt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=Vm(a),x!==null){for(o.flags|=128,$u(u,!1),a=x.updateQueue,o.updateQueue=a,Qm(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)X1(c,a),c=c.sibling;return pe(es,es.current&1|2),at&&Oa(o,u.treeForkCount),o.child}a=a.sibling}u.tail!==null&&Ae()>tp&&(o.flags|=128,g=!0,$u(u,!1),o.lanes=4194304)}else{if(!g)if(a=Vm(x),a!==null){if(o.flags|=128,g=!0,a=a.updateQueue,o.updateQueue=a,Qm(o,a),$u(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!at)return Ct(o),null}else 2*Ae()-u.renderingStartTime>tp&&c!==536870912&&(o.flags|=128,g=!0,$u(u,!1),o.lanes=4194304);u.isBackwards?(x.sibling=o.child,o.child=x):(a=u.last,a!==null?a.sibling=x:o.child=x,u.last=x)}return u.tail!==null?(a=u.tail,u.rendering=a,u.tail=a.sibling,u.renderingStartTime=Ae(),a.sibling=null,c=es.current,pe(es,g?c&1|2:c&1),at&&Oa(o,u.treeForkCount),a):(Ct(o),null);case 22:case 23:return Cn(o),c0(),u=o.memoizedState!==null,a!==null?a.memoizedState!==null!==u&&(o.flags|=8192):u&&(o.flags|=8192),u?(c&536870912)!==0&&(o.flags&128)===0&&(Ct(o),o.subtreeFlags&6&&(o.flags|=8192)):Ct(o),c=o.updateQueue,c!==null&&Qm(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==c&&(o.flags|=2048),a!==null&&U(sl),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Va(cs),Ct(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function jR(a,o){switch(Wx(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Va(cs),ft(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return yr(o),null;case 31:if(o.memoizedState!==null){if(Cn(o),o.alternate===null)throw Error(r(340));Zo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Cn(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Zo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return U(es),null;case 4:return ft(),null;case 10:return Va(o.type),null;case 22:case 23:return Cn(o),c0(),a!==null&&U(sl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Va(cs),null;case 25:return null;default:return null}}function T_(a,o){switch(Wx(o),o.tag){case 3:Va(cs),ft();break;case 26:case 27:case 5:yr(o);break;case 4:ft();break;case 31:o.memoizedState!==null&&Cn(o);break;case 13:Cn(o);break;case 19:U(es);break;case 10:Va(o.type);break;case 22:case 23:Cn(o),c0(),a!==null&&U(sl);break;case 24:Va(cs)}}function qu(a,o){try{var c=o.updateQueue,u=c!==null?c.lastEffect:null;if(u!==null){var g=u.next;c=g;do{if((c.tag&a)===a){u=void 0;var x=c.create,j=c.inst;u=x(),j.destroy=u}c=c.next}while(c!==g)}}catch(R){gt(o,o.return,R)}}function Oi(a,o,c){try{var u=o.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var x=g.next;u=x;do{if((u.tag&a)===a){var j=u.inst,R=j.destroy;if(R!==void 0){j.destroy=void 0,g=o;var q=c,re=R;try{re()}catch(de){gt(g,q,de)}}}u=u.next}while(u!==x)}}catch(de){gt(o,o.return,de)}}function S_(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{gj(o,c)}catch(u){gt(a,a.return,u)}}}function E_(a,o,c){c.props=ol(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(u){gt(a,o,u)}}function Hu(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var u=a.stateNode;break;case 30:u=a.stateNode;break;default:u=a.stateNode}typeof c=="function"?a.refCleanup=c(u):c.current=u}}catch(g){gt(a,o,g)}}function ca(a,o){var c=a.ref,u=a.refCleanup;if(c!==null)if(typeof u=="function")try{u()}catch(g){gt(a,o,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){gt(a,o,g)}else c.current=null}function k_(a){var o=a.type,c=a.memoizedProps,u=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&u.focus();break e;case"img":c.src?u.src=c.src:c.srcSet&&(u.srcset=c.srcSet)}}catch(g){gt(a,a.return,g)}}function B0(a,o,c){try{var u=a.stateNode;qR(u,a.type,c,o),u[bs]=o}catch(g){gt(a,a.return,g)}}function A_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Fi(a.type)||a.tag===4}function F0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||A_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Fi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function $0(a,o,c){var u=a.tag;if(u===5||u===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=_r));else if(u!==4&&(u===27&&Fi(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for($0(a,o,c),a=a.sibling;a!==null;)$0(a,o,c),a=a.sibling}function Jm(a,o,c){var u=a.tag;if(u===5||u===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(u!==4&&(u===27&&Fi(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Jm(a,o,c),a=a.sibling;a!==null;)Jm(a,o,c),a=a.sibling}function C_(a){var o=a.stateNode,c=a.memoizedProps;try{for(var u=a.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);Is(o,u,c),o[is]=a,o[bs]=c}catch(x){gt(a,a.return,x)}}var Fa=!1,hs=!1,q0=!1,I_=typeof WeakSet=="function"?WeakSet:Set,ws=null;function _R(a,o){if(a=a.containerInfo,uy=yp,a=$1(a),Vx(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var u=c.getSelection&&c.getSelection();if(u&&u.rangeCount!==0){c=u.anchorNode;var g=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var j=0,R=-1,q=-1,re=0,de=0,he=a,ie=null;t:for(;;){for(var ce;he!==c||g!==0&&he.nodeType!==3||(R=j+g),he!==x||u!==0&&he.nodeType!==3||(q=j+u),he.nodeType===3&&(j+=he.nodeValue.length),(ce=he.firstChild)!==null;)ie=he,he=ce;for(;;){if(he===a)break t;if(ie===c&&++re===g&&(R=j),ie===x&&++de===u&&(q=j),(ce=he.nextSibling)!==null)break;he=ie,ie=he.parentNode}he=ce}c=R===-1||q===-1?null:{start:R,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for(hy={focusedElem:a,selectionRange:c},yp=!1,ws=o;ws!==null;)if(o=ws,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,ws=a;else for(;ws!==null;){switch(o=ws,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)g=a[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=o,g=x.memoizedProps,x=x.memoizedState,u=c.stateNode;try{var Ee=ol(c.type,g);a=u.getSnapshotBeforeUpdate(Ee,x),u.__reactInternalSnapshotBeforeUpdate=a}catch(Be){gt(c,c.return,Be)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)py(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":py(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,ws=a;break}ws=o.return}}function R_(a,o,c){var u=c.flags;switch(c.tag){case 0:case 11:case 15:qa(a,c),u&4&&qu(5,c);break;case 1:if(qa(a,c),u&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(j){gt(c,c.return,j)}else{var g=ol(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(g,o,a.__reactInternalSnapshotBeforeUpdate)}catch(j){gt(c,c.return,j)}}u&64&&S_(c),u&512&&Hu(c,c.return);break;case 3:if(qa(a,c),u&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{gj(a,o)}catch(j){gt(c,c.return,j)}}break;case 27:o===null&&u&4&&C_(c);case 26:case 5:qa(a,c),o===null&&u&4&&k_(c),u&512&&Hu(c,c.return);break;case 12:qa(a,c);break;case 31:qa(a,c),u&4&&O_(a,c);break;case 13:qa(a,c),u&4&&M_(a,c),u&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=RR.bind(null,c),XR(a,c))));break;case 22:if(u=c.memoizedState!==null||Fa,!u){o=o!==null&&o.memoizedState!==null||hs,g=Fa;var x=hs;Fa=u,(hs=o)&&!x?Ha(a,c,(c.subtreeFlags&8772)!==0):qa(a,c),Fa=g,hs=x}break;case 30:break;default:qa(a,c)}}function P_(a){var o=a.alternate;o!==null&&(a.alternate=null,P_(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&ic(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Mt=null,un=!1;function $a(a,o,c){for(c=c.child;c!==null;)D_(a,o,c),c=c.sibling}function D_(a,o,c){if(Ss&&typeof Ss.onCommitFiberUnmount=="function")try{Ss.onCommitFiberUnmount(br,c)}catch{}switch(c.tag){case 26:hs||ca(c,o),$a(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:hs||ca(c,o);var u=Mt,g=un;Fi(c.type)&&(Mt=c.stateNode,un=!1),$a(a,o,c),eh(c.stateNode),Mt=u,un=g;break;case 5:hs||ca(c,o);case 6:if(u=Mt,g=un,Mt=null,$a(a,o,c),Mt=u,un=g,Mt!==null)if(un)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(c.stateNode)}catch(x){gt(c,o,x)}else try{Mt.removeChild(c.stateNode)}catch(x){gt(c,o,x)}break;case 18:Mt!==null&&(un?(a=Mt,SN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),qc(a)):SN(Mt,c.stateNode));break;case 4:u=Mt,g=un,Mt=c.stateNode.containerInfo,un=!0,$a(a,o,c),Mt=u,un=g;break;case 0:case 11:case 14:case 15:Oi(2,c,o),hs||Oi(4,c,o),$a(a,o,c);break;case 1:hs||(ca(c,o),u=c.stateNode,typeof u.componentWillUnmount=="function"&&E_(c,o,u)),$a(a,o,c);break;case 21:$a(a,o,c);break;case 22:hs=(u=hs)||c.memoizedState!==null,$a(a,o,c),hs=u;break;default:$a(a,o,c)}}function O_(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{qc(a)}catch(c){gt(o,o.return,c)}}}function M_(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{qc(a)}catch(c){gt(o,o.return,c)}}function NR(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new I_),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new I_),o;default:throw Error(r(435,a.tag))}}function Xm(a,o){var c=NR(a);o.forEach(function(u){if(!c.has(u)){c.add(u);var g=PR.bind(null,a,u);u.then(g,g)}})}function hn(a,o){var c=o.deletions;if(c!==null)for(var u=0;u<c.length;u++){var g=c[u],x=a,j=o,R=j;e:for(;R!==null;){switch(R.tag){case 27:if(Fi(R.type)){Mt=R.stateNode,un=!1;break e}break;case 5:Mt=R.stateNode,un=!1;break e;case 3:case 4:Mt=R.stateNode.containerInfo,un=!0;break e}R=R.return}if(Mt===null)throw Error(r(160));D_(x,j,g),Mt=null,un=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)V_(o,a),o=o.sibling}var Ar=null;function V_(a,o){var c=a.alternate,u=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:hn(o,a),fn(a),u&4&&(Oi(3,a,a.return),qu(3,a),Oi(5,a,a.return));break;case 1:hn(o,a),fn(a),u&512&&(hs||c===null||ca(c,c.return)),u&64&&Fa&&(a=a.updateQueue,a!==null&&(u=a.callbacks,u!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?u:c.concat(u))));break;case 26:var g=Ar;if(hn(o,a),fn(a),u&512&&(hs||c===null||ca(c,c.return)),u&4){var x=c!==null?c.memoizedState:null;if(u=a.memoizedState,c===null)if(u===null)if(a.stateNode===null){e:{u=a.type,c=a.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":x=g.getElementsByTagName("title")[0],(!x||x[Yr]||x[is]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(u),g.head.insertBefore(x,g.querySelector("head > title"))),Is(x,u,c),x[is]=a,os(x),u=x;break e;case"link":var j=VN("link","href",g).get(u+(c.href||""));if(j){for(var R=0;R<j.length;R++)if(x=j[R],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){j.splice(R,1);break t}}x=g.createElement(u),Is(x,u,c),g.head.appendChild(x);break;case"meta":if(j=VN("meta","content",g).get(u+(c.content||""))){for(R=0;R<j.length;R++)if(x=j[R],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){j.splice(R,1);break t}}x=g.createElement(u),Is(x,u,c),g.head.appendChild(x);break;default:throw Error(r(468,u))}x[is]=a,os(x),u=x}a.stateNode=u}else LN(g,a.type,a.stateNode);else a.stateNode=MN(g,u,a.memoizedProps);else x!==u?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,u===null?LN(g,a.type,a.stateNode):MN(g,u,a.memoizedProps)):u===null&&a.stateNode!==null&&B0(a,a.memoizedProps,c.memoizedProps)}break;case 27:hn(o,a),fn(a),u&512&&(hs||c===null||ca(c,c.return)),c!==null&&u&4&&B0(a,a.memoizedProps,c.memoizedProps);break;case 5:if(hn(o,a),fn(a),u&512&&(hs||c===null||ca(c,c.return)),a.flags&32){g=a.stateNode;try{dn(g,"")}catch(Ee){gt(a,a.return,Ee)}}u&4&&a.stateNode!=null&&(g=a.memoizedProps,B0(a,g,c!==null?c.memoizedProps:g)),u&1024&&(q0=!0);break;case 6:if(hn(o,a),fn(a),u&4){if(a.stateNode===null)throw Error(r(162));u=a.memoizedProps,c=a.stateNode;try{c.nodeValue=u}catch(Ee){gt(a,a.return,Ee)}}break;case 3:if(mp=null,g=Ar,Ar=hp(o.containerInfo),hn(o,a),Ar=g,fn(a),u&4&&c!==null&&c.memoizedState.isDehydrated)try{qc(o.containerInfo)}catch(Ee){gt(a,a.return,Ee)}q0&&(q0=!1,L_(a));break;case 4:u=Ar,Ar=hp(a.stateNode.containerInfo),hn(o,a),fn(a),Ar=u;break;case 12:hn(o,a),fn(a);break;case 31:hn(o,a),fn(a),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,Xm(a,u)));break;case 13:hn(o,a),fn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(ep=Ae()),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,Xm(a,u)));break;case 22:g=a.memoizedState!==null;var q=c!==null&&c.memoizedState!==null,re=Fa,de=hs;if(Fa=re||g,hs=de||q,hn(o,a),hs=de,Fa=re,fn(a),u&8192)e:for(o=a.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(c===null||q||Fa||hs||ll(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){q=c=o;try{if(x=q.stateNode,g)j=x.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{R=q.stateNode;var he=q.memoizedProps.style,ie=he!=null&&he.hasOwnProperty("display")?he.display:null;R.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ee){gt(q,q.return,Ee)}}}else if(o.tag===6){if(c===null){q=o;try{q.stateNode.nodeValue=g?"":q.memoizedProps}catch(Ee){gt(q,q.return,Ee)}}}else if(o.tag===18){if(c===null){q=o;try{var ce=q.stateNode;g?EN(ce,!0):EN(q.stateNode,!1)}catch(Ee){gt(q,q.return,Ee)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}u&4&&(u=a.updateQueue,u!==null&&(c=u.retryQueue,c!==null&&(u.retryQueue=null,Xm(a,c))));break;case 19:hn(o,a),fn(a),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,Xm(a,u)));break;case 30:break;case 21:break;default:hn(o,a),fn(a)}}function fn(a){var o=a.flags;if(o&2){try{for(var c,u=a.return;u!==null;){if(A_(u)){c=u;break}u=u.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var g=c.stateNode,x=F0(a);Jm(a,x,g);break;case 5:var j=c.stateNode;c.flags&32&&(dn(j,""),c.flags&=-33);var R=F0(a);Jm(a,R,j);break;case 3:case 4:var q=c.stateNode.containerInfo,re=F0(a);$0(a,re,q);break;default:throw Error(r(161))}}catch(de){gt(a,a.return,de)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function L_(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;L_(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function qa(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)R_(a,o.alternate,o),o=o.sibling}function ll(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Oi(4,o,o.return),ll(o);break;case 1:ca(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&E_(o,o.return,c),ll(o);break;case 27:eh(o.stateNode);case 26:case 5:ca(o,o.return),ll(o);break;case 22:o.memoizedState===null&&ll(o);break;case 30:ll(o);break;default:ll(o)}a=a.sibling}}function Ha(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var u=o.alternate,g=a,x=o,j=x.flags;switch(x.tag){case 0:case 11:case 15:Ha(g,x,c),qu(4,x);break;case 1:if(Ha(g,x,c),u=x,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(re){gt(u,u.return,re)}if(u=x,g=u.updateQueue,g!==null){var R=u.stateNode;try{var q=g.shared.hiddenCallbacks;if(q!==null)for(g.shared.hiddenCallbacks=null,g=0;g<q.length;g++)pj(q[g],R)}catch(re){gt(u,u.return,re)}}c&&j&64&&S_(x),Hu(x,x.return);break;case 27:C_(x);case 26:case 5:Ha(g,x,c),c&&u===null&&j&4&&k_(x),Hu(x,x.return);break;case 12:Ha(g,x,c);break;case 31:Ha(g,x,c),c&&j&4&&O_(g,x);break;case 13:Ha(g,x,c),c&&j&4&&M_(g,x);break;case 22:x.memoizedState===null&&Ha(g,x,c),Hu(x,x.return);break;case 30:break;default:Ha(g,x,c)}o=o.sibling}}function H0(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Iu(c))}function G0(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Iu(a))}function Cr(a,o,c,u){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)z_(a,o,c,u),o=o.sibling}function z_(a,o,c,u){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Cr(a,o,c,u),g&2048&&qu(9,o);break;case 1:Cr(a,o,c,u);break;case 3:Cr(a,o,c,u),g&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Iu(a)));break;case 12:if(g&2048){Cr(a,o,c,u),a=o.stateNode;try{var x=o.memoizedProps,j=x.id,R=x.onPostCommit;typeof R=="function"&&R(j,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(q){gt(o,o.return,q)}}else Cr(a,o,c,u);break;case 31:Cr(a,o,c,u);break;case 13:Cr(a,o,c,u);break;case 23:break;case 22:x=o.stateNode,j=o.alternate,o.memoizedState!==null?x._visibility&2?Cr(a,o,c,u):Gu(a,o):x._visibility&2?Cr(a,o,c,u):(x._visibility|=2,Pc(a,o,c,u,(o.subtreeFlags&10256)!==0||!1)),g&2048&&H0(j,o);break;case 24:Cr(a,o,c,u),g&2048&&G0(o.alternate,o);break;default:Cr(a,o,c,u)}}function Pc(a,o,c,u,g){for(g=g&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,j=o,R=c,q=u,re=j.flags;switch(j.tag){case 0:case 11:case 15:Pc(x,j,R,q,g),qu(8,j);break;case 23:break;case 22:var de=j.stateNode;j.memoizedState!==null?de._visibility&2?Pc(x,j,R,q,g):Gu(x,j):(de._visibility|=2,Pc(x,j,R,q,g)),g&&re&2048&&H0(j.alternate,j);break;case 24:Pc(x,j,R,q,g),g&&re&2048&&G0(j.alternate,j);break;default:Pc(x,j,R,q,g)}o=o.sibling}}function Gu(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,u=o,g=u.flags;switch(u.tag){case 22:Gu(c,u),g&2048&&H0(u.alternate,u);break;case 24:Gu(c,u),g&2048&&G0(u.alternate,u);break;default:Gu(c,u)}o=o.sibling}}var Ku=8192;function Dc(a,o,c){if(a.subtreeFlags&Ku)for(a=a.child;a!==null;)U_(a,o,c),a=a.sibling}function U_(a,o,c){switch(a.tag){case 26:Dc(a,o,c),a.flags&Ku&&a.memoizedState!==null&&dP(c,Ar,a.memoizedState,a.memoizedProps);break;case 5:Dc(a,o,c);break;case 3:case 4:var u=Ar;Ar=hp(a.stateNode.containerInfo),Dc(a,o,c),Ar=u;break;case 22:a.memoizedState===null&&(u=a.alternate,u!==null&&u.memoizedState!==null?(u=Ku,Ku=16777216,Dc(a,o,c),Ku=u):Dc(a,o,c));break;default:Dc(a,o,c)}}function B_(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Wu(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var u=o[c];ws=u,$_(u,a)}B_(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)F_(a),a=a.sibling}function F_(a){switch(a.tag){case 0:case 11:case 15:Wu(a),a.flags&2048&&Oi(9,a,a.return);break;case 3:Wu(a);break;case 12:Wu(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Zm(a)):Wu(a);break;default:Wu(a)}}function Zm(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var u=o[c];ws=u,$_(u,a)}B_(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Oi(8,o,o.return),Zm(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Zm(o));break;default:Zm(o)}a=a.sibling}}function $_(a,o){for(;ws!==null;){var c=ws;switch(c.tag){case 0:case 11:case 15:Oi(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var u=c.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Iu(c.memoizedState.cache)}if(u=c.child,u!==null)u.return=c,ws=u;else e:for(c=a;ws!==null;){u=ws;var g=u.sibling,x=u.return;if(P_(u),u===c){ws=null;break e}if(g!==null){g.return=x,ws=g;break e}ws=x}}}var TR={getCacheForType:function(a){var o=As(cs),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return As(cs).controller.signal}},SR=typeof WeakMap=="function"?WeakMap:Map,ut=0,Nt=null,Xe=null,st=0,pt=0,In=null,Mi=!1,Oc=!1,K0=!1,Ga=0,Kt=0,Vi=0,cl=0,W0=0,Rn=0,Mc=0,Yu=null,mn=null,Y0=!1,ep=0,q_=0,tp=1/0,sp=null,Li=null,gs=0,zi=null,Vc=null,Ka=0,Q0=0,J0=null,H_=null,Qu=0,X0=null;function Pn(){return(ut&2)!==0&&st!==0?st&-st:H.T!==null?ry():nm()}function G_(){if(Rn===0)if((st&536870912)===0||at){var a=Mo;Mo<<=1,(Mo&3932160)===0&&(Mo=262144),Rn=a}else Rn=536870912;return a=An.current,a!==null&&(a.flags|=32),Rn}function pn(a,o,c){(a===Nt&&(pt===2||pt===9)||a.cancelPendingCommit!==null)&&(Lc(a,0),Ui(a,st,Rn,!1)),Vo(a,c),((ut&2)===0||a!==Nt)&&(a===Nt&&((ut&2)===0&&(cl|=c),Kt===4&&Ui(a,st,Rn,!1)),da(a))}function K_(a,o,c){if((ut&6)!==0)throw Error(r(327));var u=!c&&(o&127)===0&&(o&a.expiredLanes)===0||vr(a,o),g=u?AR(a,o):ey(a,o,!0),x=u;do{if(g===0){Oc&&!u&&Ui(a,o,0,!1);break}else{if(c=a.current.alternate,x&&!ER(c)){g=ey(a,o,!1),x=!1;continue}if(g===2){if(x=o,a.errorRecoveryDisabledLanes&x)var j=0;else j=a.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){o=j;e:{var R=a;g=Yu;var q=R.current.memoizedState.isDehydrated;if(q&&(Lc(R,j).flags|=256),j=ey(R,j,!1),j!==2){if(K0&&!q){R.errorRecoveryDisabledLanes|=x,cl|=x,g=4;break e}x=mn,mn=g,x!==null&&(mn===null?mn=x:mn.push.apply(mn,x))}g=j}if(x=!1,g!==2)continue}}if(g===1){Lc(a,0),Ui(a,o,0,!0);break}e:{switch(u=a,x=g,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ui(u,o,Rn,!Mi);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(g=ep+300-Ae(),10<g)){if(Ui(u,o,Rn,!Mi),Gr(u,0,!0)!==0)break e;Ka=o,u.timeoutHandle=NN(W_.bind(null,u,c,mn,sp,Y0,o,Rn,cl,Mc,Mi,x,"Throttled",-0,0),g);break e}W_(u,c,mn,sp,Y0,o,Rn,cl,Mc,Mi,x,null,-0,0)}}break}while(!0);da(a)}function W_(a,o,c,u,g,x,j,R,q,re,de,he,ie,ce){if(a.timeoutHandle=-1,he=o.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_r},U_(o,x,he);var Ee=(x&62914560)===x?ep-Ae():(x&4194048)===x?q_-Ae():0;if(Ee=uP(he,Ee),Ee!==null){Ka=x,a.cancelPendingCommit=Ee(sN.bind(null,a,o,x,c,u,g,j,R,q,de,he,null,ie,ce)),Ui(a,x,j,!re);return}}sN(a,o,x,c,u,g,j,R,q)}function ER(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var u=0;u<c.length;u++){var g=c[u],x=g.getSnapshot;g=g.value;try{if(!En(x(),g))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ui(a,o,c,u){o&=~W0,o&=~cl,a.suspendedLanes|=o,a.pingedLanes&=~o,u&&(a.warmLanes|=o),u=a.expirationTimes;for(var g=o;0<g;){var x=31-Xt(g),j=1<<x;u[x]=-1,g&=~j}c!==0&&Lo(a,c,o)}function np(){return(ut&6)===0?(Ju(0),!1):!0}function Z0(){if(Xe!==null){if(pt===0)var a=Xe.return;else a=Xe,Ma=el=null,p0(a),kc=null,Pu=0,a=Xe;for(;a!==null;)T_(a.alternate,a),a=a.return;Xe=null}}function Lc(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,KR(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Ka=0,Z0(),Nt=a,Xe=c=Da(a.current,null),st=o,pt=0,In=null,Mi=!1,Oc=vr(a,o),K0=!1,Mc=Rn=W0=cl=Vi=Kt=0,mn=Yu=null,Y0=!1,(o&8)!==0&&(o|=o&32);var u=a.entangledLanes;if(u!==0)for(a=a.entanglements,u&=o;0<u;){var g=31-Xt(u),x=1<<g;o|=a[g],u&=~x}return Ga=o,Nm(),c}function Y_(a,o){Ye=null,H.H=Bu,o===Ec||o===Rm?(o=uj(),pt=3):o===n0?(o=uj(),pt=4):pt=o===I0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,In=o,Xe===null&&(Kt=1,Gm(a,Xn(o,a.current)))}function Q_(){var a=An.current;return a===null?!0:(st&4194048)===st?sr===null:(st&62914560)===st||(st&536870912)!==0?a===sr:!1}function J_(){var a=H.H;return H.H=Bu,a===null?Bu:a}function X_(){var a=H.A;return H.A=TR,a}function rp(){Kt=4,Mi||(st&4194048)!==st&&An.current!==null||(Oc=!0),(Vi&134217727)===0&&(cl&134217727)===0||Nt===null||Ui(Nt,st,Rn,!1)}function ey(a,o,c){var u=ut;ut|=2;var g=J_(),x=X_();(Nt!==a||st!==o)&&(sp=null,Lc(a,o)),o=!1;var j=Kt;e:do try{if(pt!==0&&Xe!==null){var R=Xe,q=In;switch(pt){case 8:Z0(),j=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(o=!0);var re=pt;if(pt=0,In=null,zc(a,R,q,re),c&&Oc){j=0;break e}break;default:re=pt,pt=0,In=null,zc(a,R,q,re)}}kR(),j=Kt;break}catch(de){Y_(a,de)}while(!0);return o&&a.shellSuspendCounter++,Ma=el=null,ut=u,H.H=g,H.A=x,Xe===null&&(Nt=null,st=0,Nm()),j}function kR(){for(;Xe!==null;)Z_(Xe)}function AR(a,o){var c=ut;ut|=2;var u=J_(),g=X_();Nt!==a||st!==o?(sp=null,tp=Ae()+500,Lc(a,o)):Oc=vr(a,o);e:do try{if(pt!==0&&Xe!==null){o=Xe;var x=In;t:switch(pt){case 1:pt=0,In=null,zc(a,o,x,1);break;case 2:case 9:if(cj(x)){pt=0,In=null,eN(o);break}o=function(){pt!==2&&pt!==9||Nt!==a||(pt=7),da(a)},x.then(o,o);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:cj(x)?(pt=0,In=null,eN(o)):(pt=0,In=null,zc(a,o,x,7));break;case 5:var j=null;switch(Xe.tag){case 26:j=Xe.memoizedState;case 5:case 27:var R=Xe;if(j?zN(j):R.stateNode.complete){pt=0,In=null;var q=R.sibling;if(q!==null)Xe=q;else{var re=R.return;re!==null?(Xe=re,ap(re)):Xe=null}break t}}pt=0,In=null,zc(a,o,x,5);break;case 6:pt=0,In=null,zc(a,o,x,6);break;case 8:Z0(),Kt=6;break e;default:throw Error(r(462))}}CR();break}catch(de){Y_(a,de)}while(!0);return Ma=el=null,H.H=u,H.A=g,ut=c,Xe!==null?0:(Nt=null,st=0,Nm(),Kt)}function CR(){for(;Xe!==null&&!W();)Z_(Xe)}function Z_(a){var o=__(a.alternate,a,Ga);a.memoizedProps=a.pendingProps,o===null?ap(a):Xe=o}function eN(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=x_(c,o,o.pendingProps,o.type,void 0,st);break;case 11:o=x_(c,o,o.pendingProps,o.type.render,o.ref,st);break;case 5:p0(o);default:T_(c,o),o=Xe=X1(o,Ga),o=__(c,o,Ga)}a.memoizedProps=a.pendingProps,o===null?ap(a):Xe=o}function zc(a,o,c,u){Ma=el=null,p0(o),kc=null,Pu=0;var g=o.return;try{if(yR(a,g,o,c,st)){Kt=1,Gm(a,Xn(c,a.current)),Xe=null;return}}catch(x){if(g!==null)throw Xe=g,x;Kt=1,Gm(a,Xn(c,a.current)),Xe=null;return}o.flags&32768?(at||u===1?a=!0:Oc||(st&536870912)!==0?a=!1:(Mi=a=!0,(u===2||u===9||u===3||u===6)&&(u=An.current,u!==null&&u.tag===13&&(u.flags|=16384))),tN(o,a)):ap(o)}function ap(a){var o=a;do{if((o.flags&32768)!==0){tN(o,Mi);return}a=o.return;var c=wR(o.alternate,o,Ga);if(c!==null){Xe=c;return}if(o=o.sibling,o!==null){Xe=o;return}Xe=o=a}while(o!==null);Kt===0&&(Kt=5)}function tN(a,o){do{var c=jR(a.alternate,a);if(c!==null){c.flags&=32767,Xe=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){Xe=a;return}Xe=a=c}while(a!==null);Kt=6,Xe=null}function sN(a,o,c,u,g,x,j,R,q){a.cancelPendingCommit=null;do ip();while(gs!==0);if((ut&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=Fx,Px(a,c,x,j,R,q),a===Nt&&(Xe=Nt=null,st=0),Vc=o,zi=a,Ka=c,Q0=x,J0=g,H_=u,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,DR(Ys,function(){return oN(),null})):(a.callbackNode=null,a.callbackPriority=0),u=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,g=J.p,J.p=2,j=ut,ut|=4;try{_R(a,o,c)}finally{ut=j,J.p=g,H.T=u}}gs=1,nN(),rN(),aN()}}function nN(){if(gs===1){gs=0;var a=zi,o=Vc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=H.T,H.T=null;var u=J.p;J.p=2;var g=ut;ut|=4;try{V_(o,a);var x=hy,j=$1(a.containerInfo),R=x.focusedElem,q=x.selectionRange;if(j!==R&&R&&R.ownerDocument&&F1(R.ownerDocument.documentElement,R)){if(q!==null&&Vx(R)){var re=q.start,de=q.end;if(de===void 0&&(de=re),"selectionStart"in R)R.selectionStart=re,R.selectionEnd=Math.min(de,R.value.length);else{var he=R.ownerDocument||document,ie=he&&he.defaultView||window;if(ie.getSelection){var ce=ie.getSelection(),Ee=R.textContent.length,Be=Math.min(q.start,Ee),jt=q.end===void 0?Be:Math.min(q.end,Ee);!ce.extend&&Be>jt&&(j=jt,jt=Be,Be=j);var Z=B1(R,Be),G=B1(R,jt);if(Z&&G&&(ce.rangeCount!==1||ce.anchorNode!==Z.node||ce.anchorOffset!==Z.offset||ce.focusNode!==G.node||ce.focusOffset!==G.offset)){var ne=he.createRange();ne.setStart(Z.node,Z.offset),ce.removeAllRanges(),Be>jt?(ce.addRange(ne),ce.extend(G.node,G.offset)):(ne.setEnd(G.node,G.offset),ce.addRange(ne))}}}}for(he=[],ce=R;ce=ce.parentNode;)ce.nodeType===1&&he.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<he.length;R++){var ue=he[R];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}yp=!!uy,hy=uy=null}finally{ut=g,J.p=u,H.T=c}}a.current=o,gs=2}}function rN(){if(gs===2){gs=0;var a=zi,o=Vc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=H.T,H.T=null;var u=J.p;J.p=2;var g=ut;ut|=4;try{R_(a,o.alternate,o)}finally{ut=g,J.p=u,H.T=c}}gs=3}}function aN(){if(gs===4||gs===3){gs=0,ke();var a=zi,o=Vc,c=Ka,u=H_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?gs=5:(gs=0,Vc=zi=null,iN(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(Li=null),Ca(c),o=o.stateNode,Ss&&typeof Ss.onCommitFiberRoot=="function")try{Ss.onCommitFiberRoot(br,o,void 0,(o.current.flags&128)===128)}catch{}if(u!==null){o=H.T,g=J.p,J.p=2,H.T=null;try{for(var x=a.onRecoverableError,j=0;j<u.length;j++){var R=u[j];x(R.value,{componentStack:R.stack})}}finally{H.T=o,J.p=g}}(Ka&3)!==0&&ip(),da(a),g=a.pendingLanes,(c&261930)!==0&&(g&42)!==0?a===X0?Qu++:(Qu=0,X0=a):Qu=0,Ju(0)}}function iN(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Iu(o)))}function ip(){return nN(),rN(),aN(),oN()}function oN(){if(gs!==5)return!1;var a=zi,o=Q0;Q0=0;var c=Ca(Ka),u=H.T,g=J.p;try{J.p=32>c?32:c,H.T=null,c=J0,J0=null;var x=zi,j=Ka;if(gs=0,Vc=zi=null,Ka=0,(ut&6)!==0)throw Error(r(331));var R=ut;if(ut|=4,F_(x.current),z_(x,x.current,j,c),ut=R,Ju(0,!1),Ss&&typeof Ss.onPostCommitFiberRoot=="function")try{Ss.onPostCommitFiberRoot(br,x)}catch{}return!0}finally{J.p=g,H.T=u,iN(a,o)}}function lN(a,o,c){o=Xn(c,o),o=C0(a.stateNode,o,2),a=Ri(a,o,2),a!==null&&(Vo(a,2),da(a))}function gt(a,o,c){if(a.tag===3)lN(a,a,c);else for(;o!==null;){if(o.tag===3){lN(o,a,c);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Li===null||!Li.has(u))){a=Xn(c,a),c=c_(2),u=Ri(o,c,2),u!==null&&(d_(c,u,o,a),Vo(u,2),da(u));break}}o=o.return}}function ty(a,o,c){var u=a.pingCache;if(u===null){u=a.pingCache=new SR;var g=new Set;u.set(o,g)}else g=u.get(o),g===void 0&&(g=new Set,u.set(o,g));g.has(c)||(K0=!0,g.add(c),a=IR.bind(null,a,o,c),o.then(a,a))}function IR(a,o,c){var u=a.pingCache;u!==null&&u.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Nt===a&&(st&c)===c&&(Kt===4||Kt===3&&(st&62914560)===st&&300>Ae()-ep?(ut&2)===0&&Lc(a,0):W0|=c,Mc===st&&(Mc=0)),da(a)}function cN(a,o){o===0&&(o=sm()),a=Jo(a,o),a!==null&&(Vo(a,o),da(a))}function RR(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),cN(a,c)}function PR(a,o){var c=0;switch(a.tag){case 31:case 13:var u=a.stateNode,g=a.memoizedState;g!==null&&(c=g.retryLane);break;case 19:u=a.stateNode;break;case 22:u=a.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(o),cN(a,c)}function DR(a,o){return be(a,o)}var op=null,Uc=null,sy=!1,lp=!1,ny=!1,Bi=0;function da(a){a!==Uc&&a.next===null&&(Uc===null?op=Uc=a:Uc=Uc.next=a),lp=!0,sy||(sy=!0,MR())}function Ju(a,o){if(!ny&&lp){ny=!0;do for(var c=!1,u=op;u!==null;){if(a!==0){var g=u.pendingLanes;if(g===0)var x=0;else{var j=u.suspendedLanes,R=u.pingedLanes;x=(1<<31-Xt(42|a)+1)-1,x&=g&~(j&~R),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,fN(u,x))}else x=st,x=Gr(u,u===Nt?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||vr(u,x)||(c=!0,fN(u,x));u=u.next}while(c);ny=!1}}function OR(){dN()}function dN(){lp=sy=!1;var a=0;Bi!==0&&GR()&&(a=Bi);for(var o=Ae(),c=null,u=op;u!==null;){var g=u.next,x=uN(u,o);x===0?(u.next=null,c===null?op=g:c.next=g,g===null&&(Uc=c)):(c=u,(a!==0||(x&3)!==0)&&(lp=!0)),u=g}gs!==0&&gs!==5||Ju(a),Bi!==0&&(Bi=0)}function uN(a,o){for(var c=a.suspendedLanes,u=a.pingedLanes,g=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var j=31-Xt(x),R=1<<j,q=g[j];q===-1?((R&c)===0||(R&u)!==0)&&(g[j]=Rx(R,o)):q<=o&&(a.expiredLanes|=R),x&=~R}if(o=Nt,c=st,c=Gr(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u=a.callbackNode,c===0||a===o&&(pt===2||pt===9)||a.cancelPendingCommit!==null)return u!==null&&u!==null&&He(u),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||vr(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(u!==null&&He(u),Ca(c)){case 2:case 8:c=ln;break;case 32:c=Ys;break;case 268435456:c=Oo;break;default:c=Ys}return u=hN.bind(null,a),c=be(c,u),a.callbackPriority=o,a.callbackNode=c,o}return u!==null&&u!==null&&He(u),a.callbackPriority=2,a.callbackNode=null,2}function hN(a,o){if(gs!==0&&gs!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(ip()&&a.callbackNode!==c)return null;var u=st;return u=Gr(a,a===Nt?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u===0?null:(K_(a,u,o),uN(a,Ae()),a.callbackNode!=null&&a.callbackNode===c?hN.bind(null,a):null)}function fN(a,o){if(ip())return null;K_(a,o,!0)}function MR(){WR(function(){(ut&6)!==0?be(on,OR):dN()})}function ry(){if(Bi===0){var a=Tc;a===0&&(a=qr,qr<<=1,(qr&261888)===0&&(qr=256)),Bi=a}return Bi}function mN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:dc(""+a)}function pN(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function VR(a,o,c,u,g){if(o==="submit"&&c&&c.stateNode===g){var x=mN((g[bs]||null).action),j=u.submitter;j&&(o=(o=j[bs]||null)?mN(o.formAction):j.getAttribute("formAction"),o!==null&&(x=o,j=null));var R=new na("action","action",null,u,g);a.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Bi!==0){var q=j?pN(g,j):new FormData(g);N0(c,{pending:!0,data:q,method:g.method,action:x},null,q)}}else typeof x=="function"&&(R.preventDefault(),q=j?pN(g,j):new FormData(g),N0(c,{pending:!0,data:q,method:g.method,action:x},x,q))},currentTarget:g}]})}}for(var ay=0;ay<Bx.length;ay++){var iy=Bx[ay],LR=iy.toLowerCase(),zR=iy[0].toUpperCase()+iy.slice(1);kr(LR,"on"+zR)}kr(G1,"onAnimationEnd"),kr(K1,"onAnimationIteration"),kr(W1,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(tR,"onTransitionRun"),kr(sR,"onTransitionStart"),kr(nR,"onTransitionCancel"),kr(Y1,"onTransitionEnd"),Zr("onMouseEnter",["mouseout","mouseover"]),Zr("onMouseLeave",["mouseout","mouseover"]),Zr("onPointerEnter",["pointerout","pointerover"]),Zr("onPointerLeave",["pointerout","pointerover"]),Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xu));function gN(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var u=a[c],g=u.event;u=u.listeners;e:{var x=void 0;if(o)for(var j=u.length-1;0<=j;j--){var R=u[j],q=R.instance,re=R.currentTarget;if(R=R.listener,q!==x&&g.isPropagationStopped())break e;x=R,g.currentTarget=re;try{x(g)}catch(de){_m(de)}g.currentTarget=null,x=q}else for(j=0;j<u.length;j++){if(R=u[j],q=R.instance,re=R.currentTarget,R=R.listener,q!==x&&g.isPropagationStopped())break e;x=R,g.currentTarget=re;try{x(g)}catch(de){_m(de)}g.currentTarget=null,x=q}}}}function Ze(a,o){var c=o[ac];c===void 0&&(c=o[ac]=new Set);var u=a+"__bubble";c.has(u)||(xN(o,a,2,!1),c.add(u))}function oy(a,o,c){var u=0;o&&(u|=4),xN(c,a,u,o)}var cp="_reactListening"+Math.random().toString(36).slice(2);function ly(a){if(!a[cp]){a[cp]=!0,du.forEach(function(c){c!=="selectionchange"&&(UR.has(c)||oy(c,!1,a),oy(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[cp]||(o[cp]=!0,oy("selectionchange",!1,o))}}function xN(a,o,c,u){switch(GN(o)){case 2:var g=mP;break;case 8:g=pP;break;default:g=_y}c=g.bind(null,o,c,a),g=void 0,!$o||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),u?g!==void 0?a.addEventListener(o,c,{capture:!0,passive:g}):a.addEventListener(o,c,!0):g!==void 0?a.addEventListener(o,c,{passive:g}):a.addEventListener(o,c,!1)}function cy(a,o,c,u,g){var x=u;if((o&1)===0&&(o&2)===0&&u!==null)e:for(;;){if(u===null)return;var j=u.tag;if(j===3||j===4){var R=u.stateNode.containerInfo;if(R===g)break;if(j===4)for(j=u.return;j!==null;){var q=j.tag;if((q===3||q===4)&&j.stateNode.containerInfo===g)return;j=j.return}for(;R!==null;){if(j=Qr(R),j===null)return;if(q=j.tag,q===5||q===6||q===26||q===27){u=x=j;continue e}R=R.parentNode}}u=u.return}ji(function(){var re=x,de=Wn(c),he=[];e:{var ie=Q1.get(a);if(ie!==void 0){var ce=na,Ee=a;switch(a){case"keypress":if(Ho(c)===0)break e;case"keydown":case"keyup":ce=vm;break;case"focusin":Ee="focus",ce=Ko;break;case"focusout":Ee="blur",ce=Ko;break;case"beforeblur":case"afterblur":ce=Ko;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=w;break;case G1:case K1:case W1:ce=fm;break;case Y1:ce=O;break;case"scroll":case"scrollend":ce=ju;break;case"wheel":ce=le;break;case"copy":case"cut":case"paste":ce=mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Pa;break;case"toggle":case"beforetoggle":ce=We}var Be=(o&4)!==0,jt=!Be&&(a==="scroll"||a==="scrollend"),Z=Be?ie!==null?ie+"Capture":null:ie;Be=[];for(var G=re,ne;G!==null;){var ue=G;if(ne=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||ne===null||Z===null||(ue=Nr(G,Z),ue!=null&&Be.push(Zu(G,ue,ne))),jt)break;G=G.return}0<Be.length&&(ie=new ce(ie,Ee,null,c,de),he.push({event:ie,listeners:Be}))}}if((o&7)===0){e:{if(ie=a==="mouseover"||a==="pointerover",ce=a==="mouseout"||a==="pointerout",ie&&c!==bu&&(Ee=c.relatedTarget||c.fromElement)&&(Qr(Ee)||Ee[Wr]))break e;if((ce||ie)&&(ie=de.window===de?de:(ie=de.ownerDocument)?ie.defaultView||ie.parentWindow:window,ce?(Ee=c.relatedTarget||c.toElement,ce=re,Ee=Ee?Qr(Ee):null,Ee!==null&&(jt=l(Ee),Be=Ee.tag,Ee!==jt||Be!==5&&Be!==27&&Be!==6)&&(Ee=null)):(ce=null,Ee=re),ce!==Ee)){if(Be=_u,ue="onMouseLeave",Z="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Be=Pa,ue="onPointerLeave",Z="onPointerEnter",G="pointer"),jt=ce==null?ie:Tn(ce),ne=Ee==null?ie:Tn(Ee),ie=new Be(ue,G+"leave",ce,c,de),ie.target=jt,ie.relatedTarget=ne,ue=null,Qr(de)===re&&(Be=new Be(Z,G+"enter",Ee,c,de),Be.target=ne,Be.relatedTarget=jt,ue=Be),jt=ue,ce&&Ee)t:{for(Be=BR,Z=ce,G=Ee,ne=0,ue=Z;ue;ue=Be(ue))ne++;ue=0;for(var Me=G;Me;Me=Be(Me))ue++;for(;0<ne-ue;)Z=Be(Z),ne--;for(;0<ue-ne;)G=Be(G),ue--;for(;ne--;){if(Z===G||G!==null&&Z===G.alternate){Be=Z;break t}Z=Be(Z),G=Be(G)}Be=null}else Be=null;ce!==null&&yN(he,ie,ce,Be,!1),Ee!==null&&jt!==null&&yN(he,jt,Ee,Be,!0)}}e:{if(ie=re?Tn(re):window,ce=ie.nodeName&&ie.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ie.type==="file")var ot=O1;else if(P1(ie))if(M1)ot=XI;else{ot=QI;var Re=YI}else ce=ie.nodeName,!ce||ce.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?re&&cc(re.elementType)&&(ot=O1):ot=JI;if(ot&&(ot=ot(a,re))){D1(he,ot,c,de);break e}Re&&Re(a,ie,re),a==="focusout"&&re&&ie.type==="number"&&re.memoizedProps.value!=null&&gu(ie,"number",ie.value)}switch(Re=re?Tn(re):window,a){case"focusin":(P1(Re)||Re.contentEditable==="true")&&(xc=Re,Lx=re,ku=null);break;case"focusout":ku=Lx=xc=null;break;case"mousedown":zx=!0;break;case"contextmenu":case"mouseup":case"dragend":zx=!1,q1(he,c,de);break;case"selectionchange":if(eR)break;case"keydown":case"keyup":q1(he,c,de)}var Je;if(dt)e:{switch(a){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else gc?Wo(a,c)&&(nt="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(nt="onCompositionStart");nt&&(ia&&c.locale!=="ko"&&(gc||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&gc&&(Je=wu()):(sa=de,vu="value"in sa?sa.value:sa.textContent,gc=!0)),Re=dp(re,nt),0<Re.length&&(nt=new aa(nt,a,null,c,de),he.push({event:nt,listeners:Re}),Je?nt.data=Je:(Je=pc(c),Je!==null&&(nt.data=Je)))),(Je=Qn?HI(a,c):GI(a,c))&&(nt=dp(re,"onBeforeInput"),0<nt.length&&(Re=new aa("onBeforeInput","beforeinput",null,c,de),he.push({event:Re,listeners:nt}),Re.data=Je)),VR(he,a,re,c,de)}gN(he,o)})}function Zu(a,o,c){return{instance:a,listener:o,currentTarget:c}}function dp(a,o){for(var c=o+"Capture",u=[];a!==null;){var g=a,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=Nr(a,c),g!=null&&u.unshift(Zu(a,g,x)),g=Nr(a,o),g!=null&&u.push(Zu(a,g,x))),a.tag===3)return u;a=a.return}return[]}function BR(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function yN(a,o,c,u,g){for(var x=o._reactName,j=[];c!==null&&c!==u;){var R=c,q=R.alternate,re=R.stateNode;if(R=R.tag,q!==null&&q===u)break;R!==5&&R!==26&&R!==27||re===null||(q=re,g?(re=Nr(c,x),re!=null&&j.unshift(Zu(c,re,q))):g||(re=Nr(c,x),re!=null&&j.push(Zu(c,re,q)))),c=c.return}j.length!==0&&a.push({event:o,listeners:j})}var FR=/\r\n?/g,$R=/\u0000|\uFFFD/g;function bN(a){return(typeof a=="string"?a:""+a).replace(FR,`
`).replace($R,"")}function vN(a,o){return o=bN(o),bN(a)===o}function wt(a,o,c,u,g,x){switch(c){case"children":typeof u=="string"?o==="body"||o==="textarea"&&u===""||dn(a,u):(typeof u=="number"||typeof u=="bigint")&&o!=="body"&&dn(a,""+u);break;case"className":Sn(a,"class",u);break;case"tabIndex":Sn(a,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(a,c,u);break;case"style":yu(a,u,x);break;case"data":if(o!=="object"){Sn(a,"data",u);break}case"src":case"href":if(u===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(c);break}u=dc(""+u),a.setAttribute(c,u);break;case"action":case"formAction":if(typeof u=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&wt(a,o,"name",g.name,g,null),wt(a,o,"formEncType",g.formEncType,g,null),wt(a,o,"formMethod",g.formMethod,g,null),wt(a,o,"formTarget",g.formTarget,g,null)):(wt(a,o,"encType",g.encType,g,null),wt(a,o,"method",g.method,g,null),wt(a,o,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(c);break}u=dc(""+u),a.setAttribute(c,u);break;case"onClick":u!=null&&(a.onclick=_r);break;case"onScroll":u!=null&&Ze("scroll",a);break;case"onScrollEnd":u!=null&&Ze("scrollend",a);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(c=u.__html,c!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":a.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){a.removeAttribute("xlink:href");break}c=dc(""+u),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(c,""+u):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":u===!0?a.setAttribute(c,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(c,u):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?a.setAttribute(c,u):a.removeAttribute(c);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?a.removeAttribute(c):a.setAttribute(c,u);break;case"popover":Ze("beforetoggle",a),Ze("toggle",a),oc(a,"popover",u);break;case"xlinkActuate":ls(a,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ls(a,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ls(a,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ls(a,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ls(a,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ls(a,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ls(a,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ls(a,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ls(a,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":oc(a,"is",u);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=dm.get(c)||c,oc(a,c,u))}}function dy(a,o,c,u,g,x){switch(c){case"style":yu(a,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(c=u.__html,c!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof u=="string"?dn(a,u):(typeof u=="number"||typeof u=="bigint")&&dn(a,""+u);break;case"onScroll":u!=null&&Ze("scroll",a);break;case"onScrollEnd":u!=null&&Ze("scrollend",a);break;case"onClick":u!=null&&(a.onclick=_r);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uu.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),o=c.slice(2,g?c.length-7:void 0),x=a[bs]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(o,x,g),typeof u=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,u,g);break e}c in a?a[c]=u:u===!0?a.setAttribute(c,""):oc(a,c,u)}}}function Is(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",a),Ze("load",a);var u=!1,g=!1,x;for(x in c)if(c.hasOwnProperty(x)){var j=c[x];if(j!=null)switch(x){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(a,o,x,j,c,null)}}g&&wt(a,o,"srcSet",c.srcSet,c,null),u&&wt(a,o,"src",c.src,c,null);return;case"input":Ze("invalid",a);var R=x=j=g=null,q=null,re=null;for(u in c)if(c.hasOwnProperty(u)){var de=c[u];if(de!=null)switch(u){case"name":g=de;break;case"type":j=de;break;case"checked":q=de;break;case"defaultChecked":re=de;break;case"value":x=de;break;case"defaultValue":R=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:wt(a,o,u,de,c,null)}}om(a,x,R,q,re,j,g,!1);return;case"select":Ze("invalid",a),u=j=x=null;for(g in c)if(c.hasOwnProperty(g)&&(R=c[g],R!=null))switch(g){case"value":x=R;break;case"defaultValue":j=R;break;case"multiple":u=R;default:wt(a,o,g,R,c,null)}o=x,c=j,a.multiple=!!u,o!=null?yi(a,!!u,o,!1):c!=null&&yi(a,!!u,c,!0);return;case"textarea":Ze("invalid",a),x=g=u=null;for(j in c)if(c.hasOwnProperty(j)&&(R=c[j],R!=null))switch(j){case"value":u=R;break;case"defaultValue":g=R;break;case"children":x=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:wt(a,o,j,R,c,null)}bi(a,u,g,x);return;case"option":for(q in c)if(c.hasOwnProperty(q)&&(u=c[q],u!=null))switch(q){case"selected":a.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:wt(a,o,q,u,c,null)}return;case"dialog":Ze("beforetoggle",a),Ze("toggle",a),Ze("cancel",a),Ze("close",a);break;case"iframe":case"object":Ze("load",a);break;case"video":case"audio":for(u=0;u<Xu.length;u++)Ze(Xu[u],a);break;case"image":Ze("error",a),Ze("load",a);break;case"details":Ze("toggle",a);break;case"embed":case"source":case"link":Ze("error",a),Ze("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in c)if(c.hasOwnProperty(re)&&(u=c[re],u!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(a,o,re,u,c,null)}return;default:if(cc(o)){for(de in c)c.hasOwnProperty(de)&&(u=c[de],u!==void 0&&dy(a,o,de,u,c,void 0));return}}for(R in c)c.hasOwnProperty(R)&&(u=c[R],u!=null&&wt(a,o,R,u,c,null))}function qR(a,o,c,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,j=null,R=null,q=null,re=null,de=null;for(ce in c){var he=c[ce];if(c.hasOwnProperty(ce)&&he!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":q=he;default:u.hasOwnProperty(ce)||wt(a,o,ce,null,u,he)}}for(var ie in u){var ce=u[ie];if(he=c[ie],u.hasOwnProperty(ie)&&(ce!=null||he!=null))switch(ie){case"type":x=ce;break;case"name":g=ce;break;case"checked":re=ce;break;case"defaultChecked":de=ce;break;case"value":j=ce;break;case"defaultValue":R=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:ce!==he&&wt(a,o,ie,ce,u,he)}}lc(a,j,R,q,re,de,x,g);return;case"select":ce=j=R=ie=null;for(x in c)if(q=c[x],c.hasOwnProperty(x)&&q!=null)switch(x){case"value":break;case"multiple":ce=q;default:u.hasOwnProperty(x)||wt(a,o,x,null,u,q)}for(g in u)if(x=u[g],q=c[g],u.hasOwnProperty(g)&&(x!=null||q!=null))switch(g){case"value":ie=x;break;case"defaultValue":R=x;break;case"multiple":j=x;default:x!==q&&wt(a,o,g,x,u,q)}o=R,c=j,u=ce,ie!=null?yi(a,!!c,ie,!1):!!u!=!!c&&(o!=null?yi(a,!!c,o,!0):yi(a,!!c,c?[]:"",!1));return;case"textarea":ce=ie=null;for(R in c)if(g=c[R],c.hasOwnProperty(R)&&g!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:wt(a,o,R,null,u,g)}for(j in u)if(g=u[j],x=c[j],u.hasOwnProperty(j)&&(g!=null||x!=null))switch(j){case"value":ie=g;break;case"defaultValue":ce=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==x&&wt(a,o,j,g,u,x)}lm(a,ie,ce);return;case"option":for(var Ee in c)if(ie=c[Ee],c.hasOwnProperty(Ee)&&ie!=null&&!u.hasOwnProperty(Ee))switch(Ee){case"selected":a.selected=!1;break;default:wt(a,o,Ee,null,u,ie)}for(q in u)if(ie=u[q],ce=c[q],u.hasOwnProperty(q)&&ie!==ce&&(ie!=null||ce!=null))switch(q){case"selected":a.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:wt(a,o,q,ie,u,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in c)ie=c[Be],c.hasOwnProperty(Be)&&ie!=null&&!u.hasOwnProperty(Be)&&wt(a,o,Be,null,u,ie);for(re in u)if(ie=u[re],ce=c[re],u.hasOwnProperty(re)&&ie!==ce&&(ie!=null||ce!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:wt(a,o,re,ie,u,ce)}return;default:if(cc(o)){for(var jt in c)ie=c[jt],c.hasOwnProperty(jt)&&ie!==void 0&&!u.hasOwnProperty(jt)&&dy(a,o,jt,void 0,u,ie);for(de in u)ie=u[de],ce=c[de],!u.hasOwnProperty(de)||ie===ce||ie===void 0&&ce===void 0||dy(a,o,de,ie,u,ce);return}}for(var Z in c)ie=c[Z],c.hasOwnProperty(Z)&&ie!=null&&!u.hasOwnProperty(Z)&&wt(a,o,Z,null,u,ie);for(he in u)ie=u[he],ce=c[he],!u.hasOwnProperty(he)||ie===ce||ie==null&&ce==null||wt(a,o,he,ie,u,ce)}function wN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HR(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),u=0;u<c.length;u++){var g=c[u],x=g.transferSize,j=g.initiatorType,R=g.duration;if(x&&R&&wN(j)){for(j=0,R=g.responseEnd,u+=1;u<c.length;u++){var q=c[u],re=q.startTime;if(re>R)break;var de=q.transferSize,he=q.initiatorType;de&&wN(he)&&(q=q.responseEnd,j+=de*(q<R?1:(R-re)/(q-re)))}if(--u,o+=8*(x+j)/(g.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var uy=null,hy=null;function up(a){return a.nodeType===9?a:a.ownerDocument}function jN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _N(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function fy(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var my=null;function GR(){var a=window.event;return a&&a.type==="popstate"?a===my?!1:(my=a,!0):(my=null,!1)}var NN=typeof setTimeout=="function"?setTimeout:void 0,KR=typeof clearTimeout=="function"?clearTimeout:void 0,TN=typeof Promise=="function"?Promise:void 0,WR=typeof queueMicrotask=="function"?queueMicrotask:typeof TN<"u"?function(a){return TN.resolve(null).then(a).catch(YR)}:NN;function YR(a){setTimeout(function(){throw a})}function Fi(a){return a==="head"}function SN(a,o){var c=o,u=0;do{var g=c.nextSibling;if(a.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(u===0){a.removeChild(g),qc(o);return}u--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")u++;else if(c==="html")eh(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,eh(c);for(var x=c.firstChild;x;){var j=x.nextSibling,R=x.nodeName;x[Yr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=j}}else c==="body"&&eh(a.ownerDocument.body);c=g}while(c);qc(o)}function EN(a,o){var c=a;a=0;do{var u=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),u&&u.nodeType===8)if(c=u.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=u}while(c)}function py(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":py(c),ic(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function QR(a,o,c,u){for(;a.nodeType===1;){var g=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!u&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(u){if(!a[Yr])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=nr(a.nextSibling),a===null)break}return null}function JR(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=nr(a.nextSibling),a===null))return null;return a}function kN(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=nr(a.nextSibling),a===null))return null;return a}function gy(a){return a.data==="$?"||a.data==="$~"}function xy(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function XR(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var u=function(){o(),c.removeEventListener("DOMContentLoaded",u)};c.addEventListener("DOMContentLoaded",u),a._reactRetry=u}}function nr(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var yy=null;function AN(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return nr(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function CN(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function IN(a,o,c){switch(o=up(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function eh(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);ic(a)}var rr=new Map,RN=new Set;function hp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Wa=J.d;J.d={f:ZR,r:eP,D:tP,C:sP,L:nP,m:rP,X:iP,S:aP,M:oP};function ZR(){var a=Wa.f(),o=np();return a||o}function eP(a){var o=Kn(a);o!==null&&o.tag===5&&o.type==="form"?Yj(o):Wa.r(a)}var Bc=typeof document>"u"?null:document;function PN(a,o,c){var u=Bc;if(u&&typeof o=="string"&&o){var g=cn(o);g='link[rel="'+a+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),RN.has(g)||(RN.add(g),a={rel:a,crossOrigin:c,href:o},u.querySelector(g)===null&&(o=u.createElement("link"),Is(o,"link",a),os(o),u.head.appendChild(o)))}}function tP(a){Wa.D(a),PN("dns-prefetch",a,null)}function sP(a,o){Wa.C(a,o),PN("preconnect",a,o)}function nP(a,o,c){Wa.L(a,o,c);var u=Bc;if(u&&a&&o){var g='link[rel="preload"][as="'+cn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+cn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+cn(c.imageSizes)+'"]')):g+='[href="'+cn(a)+'"]';var x=g;switch(o){case"style":x=Fc(a);break;case"script":x=$c(a)}rr.has(x)||(a=b({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),rr.set(x,a),u.querySelector(g)!==null||o==="style"&&u.querySelector(th(x))||o==="script"&&u.querySelector(sh(x))||(o=u.createElement("link"),Is(o,"link",a),os(o),u.head.appendChild(o)))}}function rP(a,o){Wa.m(a,o);var c=Bc;if(c&&a){var u=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+cn(u)+'"][href="'+cn(a)+'"]',x=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=$c(a)}if(!rr.has(x)&&(a=b({rel:"modulepreload",href:a},o),rr.set(x,a),c.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(sh(x)))return}u=c.createElement("link"),Is(u,"link",a),os(u),c.head.appendChild(u)}}}function aP(a,o,c){Wa.S(a,o,c);var u=Bc;if(u&&a){var g=Jr(u).hoistableStyles,x=Fc(a);o=o||"default";var j=g.get(x);if(!j){var R={loading:0,preload:null};if(j=u.querySelector(th(x)))R.loading=5;else{a=b({rel:"stylesheet",href:a,"data-precedence":o},c),(c=rr.get(x))&&by(a,c);var q=j=u.createElement("link");os(q),Is(q,"link",a),q._p=new Promise(function(re,de){q.onload=re,q.onerror=de}),q.addEventListener("load",function(){R.loading|=1}),q.addEventListener("error",function(){R.loading|=2}),R.loading|=4,fp(j,o,u)}j={type:"stylesheet",instance:j,count:1,state:R},g.set(x,j)}}}function iP(a,o){Wa.X(a,o);var c=Bc;if(c&&a){var u=Jr(c).hoistableScripts,g=$c(a),x=u.get(g);x||(x=c.querySelector(sh(g)),x||(a=b({src:a,async:!0},o),(o=rr.get(g))&&vy(a,o),x=c.createElement("script"),os(x),Is(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function oP(a,o){Wa.M(a,o);var c=Bc;if(c&&a){var u=Jr(c).hoistableScripts,g=$c(a),x=u.get(g);x||(x=c.querySelector(sh(g)),x||(a=b({src:a,async:!0,type:"module"},o),(o=rr.get(g))&&vy(a,o),x=c.createElement("script"),os(x),Is(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function DN(a,o,c,u){var g=(g=Ve.current)?hp(g):null;if(!g)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Fc(c.href),c=Jr(g).hoistableStyles,u=c.get(o),u||(u={type:"style",instance:null,count:0,state:null},c.set(o,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Fc(c.href);var x=Jr(g).hoistableStyles,j=x.get(a);if(j||(g=g.ownerDocument||g,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,j),(x=g.querySelector(th(a)))&&!x._p&&(j.instance=x,j.state.loading=5),rr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},rr.set(a,c),x||lP(g,a,c,j.state))),o&&u===null)throw Error(r(528,""));return j}if(o&&u!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=$c(c),c=Jr(g).hoistableScripts,u=c.get(o),u||(u={type:"script",instance:null,count:0,state:null},c.set(o,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Fc(a){return'href="'+cn(a)+'"'}function th(a){return'link[rel="stylesheet"]['+a+"]"}function ON(a){return b({},a,{"data-precedence":a.precedence,precedence:null})}function lP(a,o,c,u){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=a.createElement("link"),u.preload=o,o.addEventListener("load",function(){return u.loading|=1}),o.addEventListener("error",function(){return u.loading|=2}),Is(o,"link",c),os(o),a.head.appendChild(o))}function $c(a){return'[src="'+cn(a)+'"]'}function sh(a){return"script[async]"+a}function MN(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var u=a.querySelector('style[data-href~="'+cn(c.href)+'"]');if(u)return o.instance=u,os(u),u;var g=b({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return u=(a.ownerDocument||a).createElement("style"),os(u),Is(u,"style",g),fp(u,c.precedence,a),o.instance=u;case"stylesheet":g=Fc(c.href);var x=a.querySelector(th(g));if(x)return o.state.loading|=4,o.instance=x,os(x),x;u=ON(c),(g=rr.get(g))&&by(u,g),x=(a.ownerDocument||a).createElement("link"),os(x);var j=x;return j._p=new Promise(function(R,q){j.onload=R,j.onerror=q}),Is(x,"link",u),o.state.loading|=4,fp(x,c.precedence,a),o.instance=x;case"script":return x=$c(c.src),(g=a.querySelector(sh(x)))?(o.instance=g,os(g),g):(u=c,(g=rr.get(x))&&(u=b({},c),vy(u,g)),a=a.ownerDocument||a,g=a.createElement("script"),os(g),Is(g,"link",u),a.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(u=o.instance,o.state.loading|=4,fp(u,c.precedence,a));return o.instance}function fp(a,o,c){for(var u=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,x=g,j=0;j<u.length;j++){var R=u[j];if(R.dataset.precedence===o)x=R;else if(x!==g)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function by(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function vy(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var mp=null;function VN(a,o,c){if(mp===null){var u=new Map,g=mp=new Map;g.set(c,u)}else g=mp,u=g.get(c),u||(u=new Map,g.set(c,u));if(u.has(a))return u;for(u.set(a,null),c=c.getElementsByTagName(a),g=0;g<c.length;g++){var x=c[g];if(!(x[Yr]||x[is]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var j=x.getAttribute(o)||"";j=a+j;var R=u.get(j);R?R.push(x):u.set(j,[x])}}return u}function LN(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function cP(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function zN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function dP(a,o,c,u){if(c.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=Fc(u.href),x=o.querySelector(th(g));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=pp.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=x,os(x);return}x=o.ownerDocument||o,u=ON(u),(g=rr.get(g))&&by(u,g),x=x.createElement("link"),os(x);var j=x;j._p=new Promise(function(R,q){j.onload=R,j.onerror=q}),Is(x,"link",u),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=pp.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var wy=0;function uP(a,o){return a.stylesheets&&a.count===0&&xp(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var u=setTimeout(function(){if(a.stylesheets&&xp(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&wy===0&&(wy=62500*HR());var g=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&xp(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>wy?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function pp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var gp=null;function xp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,gp=new Map,o.forEach(hP,a),gp=null,pp.call(a))}function hP(a,o){if(!(o.state.loading&4)){var c=gp.get(a);if(c)var u=c.get(null);else{c=new Map,gp.set(a,c);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var j=g[x];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(c.set(j.dataset.precedence,j),u=j)}u&&c.set(null,u)}g=o.instance,j=g.getAttribute("data-precedence"),x=c.get(j)||u,x===u&&c.set(null,g),c.set(j,g),this.count++,u=pp.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),x?x.parentNode.insertBefore(g,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),o.state.loading|=4}}var nh={$$typeof:L,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function fP(a,o,c,u,g,x,j,R,q){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.hiddenUpdates=Kr(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function UN(a,o,c,u,g,x,j,R,q,re,de,he){return a=new fP(a,o,c,j,q,re,de,he,R),o=1,x===!0&&(o|=24),x=kn(3,null,null,o),a.current=x,x.stateNode=a,o=e0(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:u,isDehydrated:c,cache:o},r0(x),a}function BN(a){return a?(a=vc,a):vc}function FN(a,o,c,u,g,x){g=BN(g),u.context===null?u.context=g:u.pendingContext=g,u=Ii(o),u.payload={element:c},x=x===void 0?null:x,x!==null&&(u.callback=x),c=Ri(a,u,o),c!==null&&(pn(c,a,o),Ou(c,a,o))}function $N(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function jy(a,o){$N(a,o),(a=a.alternate)&&$N(a,o)}function qN(a){if(a.tag===13||a.tag===31){var o=Jo(a,67108864);o!==null&&pn(o,a,67108864),jy(a,67108864)}}function HN(a){if(a.tag===13||a.tag===31){var o=Pn();o=zo(o);var c=Jo(a,o);c!==null&&pn(c,a,o),jy(a,o)}}var yp=!0;function mP(a,o,c,u){var g=H.T;H.T=null;var x=J.p;try{J.p=2,_y(a,o,c,u)}finally{J.p=x,H.T=g}}function pP(a,o,c,u){var g=H.T;H.T=null;var x=J.p;try{J.p=8,_y(a,o,c,u)}finally{J.p=x,H.T=g}}function _y(a,o,c,u){if(yp){var g=Ny(u);if(g===null)cy(a,o,u,bp,c),KN(a,u);else if(xP(g,a,o,c,u))u.stopPropagation();else if(KN(a,u),o&4&&-1<gP.indexOf(a)){for(;g!==null;){var x=Kn(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var j=Hr(x.pendingLanes);if(j!==0){var R=x;for(R.pendingLanes|=2,R.entangledLanes|=2;j;){var q=1<<31-Xt(j);R.entanglements[1]|=q,j&=~q}da(x),(ut&6)===0&&(tp=Ae()+500,Ju(0))}}break;case 31:case 13:R=Jo(x,2),R!==null&&pn(R,x,2),np(),jy(x,2)}if(x=Ny(u),x===null&&cy(a,o,u,bp,c),x===g)break;g=x}g!==null&&u.stopPropagation()}else cy(a,o,u,null,c)}}function Ny(a){return a=Wn(a),Ty(a)}var bp=null;function Ty(a){if(bp=null,a=Qr(a),a!==null){var o=l(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=d(o),a!==null)return a;a=null}else if(c===31){if(a=h(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return bp=a,null}function GN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($e()){case on:return 2;case ln:return 8;case Ys:case $r:return 32;case Oo:return 268435456;default:return 32}default:return 32}}var Sy=!1,$i=null,qi=null,Hi=null,rh=new Map,ah=new Map,Gi=[],gP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KN(a,o){switch(a){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":rh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(o.pointerId)}}function ih(a,o,c,u,g,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:c,eventSystemFlags:u,nativeEvent:x,targetContainers:[g]},o!==null&&(o=Kn(o),o!==null&&qN(o)),a):(a.eventSystemFlags|=u,o=a.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),a)}function xP(a,o,c,u,g){switch(o){case"focusin":return $i=ih($i,a,o,c,u,g),!0;case"dragenter":return qi=ih(qi,a,o,c,u,g),!0;case"mouseover":return Hi=ih(Hi,a,o,c,u,g),!0;case"pointerover":var x=g.pointerId;return rh.set(x,ih(rh.get(x)||null,a,o,c,u,g)),!0;case"gotpointercapture":return x=g.pointerId,ah.set(x,ih(ah.get(x)||null,a,o,c,u,g)),!0}return!1}function WN(a){var o=Qr(a.target);if(o!==null){var c=l(o);if(c!==null){if(o=c.tag,o===13){if(o=d(c),o!==null){a.blockedOn=o,wr(a.priority,function(){HN(c)});return}}else if(o===31){if(o=h(c),o!==null){a.blockedOn=o,wr(a.priority,function(){HN(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function vp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=Ny(a.nativeEvent);if(c===null){c=a.nativeEvent;var u=new c.constructor(c.type,c);bu=u,c.target.dispatchEvent(u),bu=null}else return o=Kn(c),o!==null&&qN(o),a.blockedOn=c,!1;o.shift()}return!0}function YN(a,o,c){vp(a)&&c.delete(o)}function yP(){Sy=!1,$i!==null&&vp($i)&&($i=null),qi!==null&&vp(qi)&&(qi=null),Hi!==null&&vp(Hi)&&(Hi=null),rh.forEach(YN),ah.forEach(YN)}function wp(a,o){a.blockedOn===o&&(a.blockedOn=null,Sy||(Sy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,yP)))}var jp=null;function QN(a){jp!==a&&(jp=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jp===a&&(jp=null);for(var o=0;o<a.length;o+=3){var c=a[o],u=a[o+1],g=a[o+2];if(typeof u!="function"){if(Ty(u||c)===null)continue;break}var x=Kn(c);x!==null&&(a.splice(o,3),o-=3,N0(x,{pending:!0,data:g,method:c.method,action:u},u,g))}}))}function qc(a){function o(q){return wp(q,a)}$i!==null&&wp($i,a),qi!==null&&wp(qi,a),Hi!==null&&wp(Hi,a),rh.forEach(o),ah.forEach(o);for(var c=0;c<Gi.length;c++){var u=Gi[c];u.blockedOn===a&&(u.blockedOn=null)}for(;0<Gi.length&&(c=Gi[0],c.blockedOn===null);)WN(c),c.blockedOn===null&&Gi.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(u=0;u<c.length;u+=3){var g=c[u],x=c[u+1],j=g[bs]||null;if(typeof x=="function")j||QN(c);else if(j){var R=null;if(x&&x.hasAttribute("formAction")){if(g=x,j=x[bs]||null)R=j.formAction;else if(Ty(g)!==null)continue}else R=j.action;typeof R=="function"?c[u+1]=R:(c.splice(u,3),u-=3),QN(c)}}}function JN(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(j){return g=j})},focusReset:"manual",scroll:"manual"})}function o(){g!==null&&(g(),g=null),u||setTimeout(c,20)}function c(){if(!u&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){u=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),g!==null&&(g(),g=null)}}}function Ey(a){this._internalRoot=a}_p.prototype.render=Ey.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,u=Pn();FN(c,u,a,o,null,null)},_p.prototype.unmount=Ey.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;FN(a.current,2,null,a,null,null),np(),o[Wr]=null}};function _p(a){this._internalRoot=a}_p.prototype.unstable_scheduleHydration=function(a){if(a){var o=nm();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Gi.length&&o!==0&&o<Gi[c].priority;c++);Gi.splice(c,0,a),c===0&&WN(a)}};var XN=e.version;if(XN!=="19.2.4")throw Error(r(527,XN,"19.2.4"));J.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=p(o),a=a!==null?y(a):null,a=a===null?null:a.stateNode,a};var bP={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Np.isDisabled&&Np.supportsFiber)try{br=Np.inject(bP),Ss=Np}catch{}}return lh.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,u="",g=a_,x=i_,j=o_;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(j=o.onRecoverableError)),o=UN(a,1,!1,null,null,c,u,null,g,x,j,JN),a[Wr]=o.current,ly(a),new Ey(o)},lh.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var u=!1,g="",x=a_,j=i_,R=o_,q=null;return c!=null&&(c.unstable_strictMode===!0&&(u=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(j=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError),c.formState!==void 0&&(q=c.formState)),o=UN(a,1,!0,o,c??null,u,g,q,x,j,R,JN),o.context=BN(null),c=o.current,u=Pn(),u=zo(u),g=Ii(u),g.callback=null,Ri(c,g,u),c=u,o.current.lanes=c,Vo(o,c),da(o),a[Wr]=o.current,ly(a),new _p(o)},lh.version="19.2.4",lh}var l2;function IP(){if(l2)return Cy.exports;l2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cy.exports=CP(),Cy.exports}var RP=IP();const PP=Hd(RP);var Dy,c2;function DP(){if(c2)return Dy;c2=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(l,d){if(l===d)return!0;if(l&&d&&typeof l=="object"&&typeof d=="object"){if(l.constructor!==d.constructor)return!1;var h,f,p;if(Array.isArray(l)){if(h=l.length,h!=d.length)return!1;for(f=h;f--!==0;)if(!i(l[f],d[f]))return!1;return!0}var y;if(e&&l instanceof Map&&d instanceof Map){if(l.size!==d.size)return!1;for(y=l.entries();!(f=y.next()).done;)if(!d.has(f.value[0]))return!1;for(y=l.entries();!(f=y.next()).done;)if(!i(f.value[1],d.get(f.value[0])))return!1;return!0}if(t&&l instanceof Set&&d instanceof Set){if(l.size!==d.size)return!1;for(y=l.entries();!(f=y.next()).done;)if(!d.has(f.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(d)){if(h=l.length,h!=d.length)return!1;for(f=h;f--!==0;)if(l[f]!==d[f])return!1;return!0}if(l.constructor===RegExp)return l.source===d.source&&l.flags===d.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof d.valueOf=="function")return l.valueOf()===d.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof d.toString=="function")return l.toString()===d.toString();if(p=Object.keys(l),h=p.length,h!==Object.keys(d).length)return!1;for(f=h;f--!==0;)if(!Object.prototype.hasOwnProperty.call(d,p[f]))return!1;if(n&&l instanceof Element)return!1;for(f=h;f--!==0;)if(!((p[f]==="_owner"||p[f]==="__v"||p[f]==="__o")&&l.$$typeof)&&!i(l[p[f]],d[p[f]]))return!1;return!0}return l!==l&&d!==d}return Dy=function(d,h){try{return i(d,h)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},Dy}var OP=DP();const MP=Hd(OP);var Oy,d2;function VP(){if(d2)return Oy;d2=1;var n=function(e,t,r,i,l,d,h,f){if(!e){var p;if(t===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[r,i,l,d,h,f],b=0;p=new Error(t.replace(/%s/g,function(){return y[b++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Oy=n,Oy}var LP=VP();const u2=Hd(LP);var My,h2;function zP(){return h2||(h2=1,My=function(e,t,r,i){var l=r?r.call(i,e,t):void 0;if(l!==void 0)return!!l;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var d=Object.keys(e),h=Object.keys(t);if(d.length!==h.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(t),p=0;p<d.length;p++){var y=d[p];if(!f(y))return!1;var b=e[y],v=t[y];if(l=r?r.call(i,b,v,y):void 0,l===!1||l===void 0&&b!==v)return!1}return!0}),My}var UP=zP();const BP=Hd(UP);var oE=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(oE||{}),Vy={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},f2=Object.values(oE),Tv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},FP=Object.entries(Tv).reduce((n,[e,t])=>(n[t]=e,n),{}),Pr="data-rh",ld={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},cd=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},$P=n=>{let e=cd(n,"title");const t=cd(n,ld.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=cd(n,ld.DEFAULT_TITLE);return e||r||void 0},qP=n=>cd(n,ld.ON_CHANGE_CLIENT_STATE)||(()=>{}),Ly=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),HP=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const i=Object.keys(r);for(let l=0;l<i.length;l+=1){const h=i[l].toLowerCase();if(n.indexOf(h)!==-1&&r[h])return t.concat(r)}}return t},[]),GP=n=>console&&typeof console.warn=="function"&&console.warn(n),ch=(n,e,t)=>{const r={};return t.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&GP(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,l)=>{const d={};l.filter(f=>{let p;const y=Object.keys(f);for(let v=0;v<y.length;v+=1){const C=y[v],S=C.toLowerCase();e.indexOf(S)!==-1&&!(p==="rel"&&f[p].toLowerCase()==="canonical")&&!(S==="rel"&&f[S].toLowerCase()==="stylesheet")&&(p=S),e.indexOf(C)!==-1&&(C==="innerHTML"||C==="cssText"||C==="itemprop")&&(p=C)}if(!p||!f[p])return!1;const b=f[p].toLowerCase();return r[p]||(r[p]={}),d[p]||(d[p]={}),r[p][b]?!1:(d[p][b]=!0,!0)}).reverse().forEach(f=>i.push(f));const h=Object.keys(d);for(let f=0;f<h.length;f+=1){const p=h[f],y={...r[p],...d[p]};r[p]=y}return i},[]).reverse()},KP=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},WP=n=>({baseTag:HP(["href"],n),bodyAttributes:Ly("bodyAttributes",n),defer:cd(n,ld.DEFER),encode:cd(n,ld.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Ly("htmlAttributes",n),linkTags:ch("link",["rel","href"],n),metaTags:ch("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:ch("noscript",["innerHTML"],n),onChangeClientState:qP(n),scriptTags:ch("script",["src","innerHTML"],n),styleTags:ch("style",["cssText"],n),title:$P(n),titleAttributes:Ly("titleAttributes",n),prioritizeSeoTags:KP(n,ld.PRIORITIZE_SEO_TAGS)}),lE=n=>Array.isArray(n)?n.join(""):n,YP=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},zy=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(YP(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},m2=(n,e)=>({...n,[e]:void 0}),QP=["noscript","script","style"],yb=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),cE=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),JP=(n,e,t,r)=>{const i=cE(t),l=lE(e);return i?`<${n} ${Pr}="true" ${i}>${yb(l,r)}</${n}>`:`<${n} ${Pr}="true">${yb(l,r)}</${n}>`},XP=(n,e,t=!0)=>e.reduce((r,i)=>{const l=i,d=Object.keys(l).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,y)=>{const b=typeof l[y]>"u"?y:`${y}="${yb(l[y],t)}"`;return p?`${p} ${b}`:b},""),h=l.innerHTML||l.cssText||"",f=QP.indexOf(n)===-1;return`${r}<${n} ${Pr}="true" ${d}${f?"/>":`>${h}</${n}>`}`},""),dE=(n,e={})=>Object.keys(n).reduce((t,r)=>{const i=Tv[r];return t[i||r]=n[r],t},e),ZP=(n,e,t)=>{const r={key:e,[Pr]:!0},i=dE(t,r);return[Fe.createElement("title",i,e)]},zp=(n,e)=>e.map((t,r)=>{const i={key:r,[Pr]:!0};return Object.keys(t).forEach(l=>{const h=Tv[l]||l;if(h==="innerHTML"||h==="cssText"){const f=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:f}}else i[h]=t[l]}),Fe.createElement(n,i)}),ir=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>ZP(n,e.title,e.titleAttributes),toString:()=>JP(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>dE(e),toString:()=>cE(e)};default:return{toComponent:()=>zp(n,e),toString:()=>XP(n,e,t)}}},e6=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const i=zy(n,Vy.meta),l=zy(e,Vy.link),d=zy(t,Vy.script);return{priorityMethods:{toComponent:()=>[...zp("meta",i.priority),...zp("link",l.priority),...zp("script",d.priority)],toString:()=>`${ir("meta",i.priority,r)} ${ir("link",l.priority,r)} ${ir("script",d.priority,r)}`},metaTags:i.default,linkTags:l.default,scriptTags:d.default}},t6=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:i,noscriptTags:l,styleTags:d,title:h="",titleAttributes:f,prioritizeSeoTags:p}=n;let{linkTags:y,metaTags:b,scriptTags:v}=n,C={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:C,linkTags:y,metaTags:b,scriptTags:v}=e6(n)),{priority:C,base:ir("base",e,r),bodyAttributes:ir("bodyAttributes",t,r),htmlAttributes:ir("htmlAttributes",i,r),link:ir("link",y,r),meta:ir("meta",b,r),noscript:ir("noscript",l,r),script:ir("script",v,r),style:ir("style",d,r),title:ir("title",{title:h,titleAttributes:f},r)}},bb=t6,Tp=[],uE=!!(typeof window<"u"&&window.document&&window.document.createElement),vb=class{constructor(n,e){Ya(this,"instances",[]);Ya(this,"canUseDOM",uE);Ya(this,"context");Ya(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Tp:this.instances,add:n=>{(this.canUseDOM?Tp:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Tp:this.instances).indexOf(n);(this.canUseDOM?Tp:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=bb({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},s6={},hE=Fe.createContext(s6),Nl,fE=(Nl=class extends _.Component{constructor(t){super(t);Ya(this,"helmetData");this.helmetData=new vb(this.props.context||{},Nl.canUseDOM)}render(){return Fe.createElement(hE.Provider,{value:this.helmetData.value},this.props.children)}},Ya(Nl,"canUseDOM",uE),Nl),Hc=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${Pr}]`),i=[].slice.call(r),l=[];let d;return e&&e.length&&e.forEach(h=>{const f=document.createElement(n);for(const p in h)if(Object.prototype.hasOwnProperty.call(h,p))if(p==="innerHTML")f.innerHTML=h.innerHTML;else if(p==="cssText")f.styleSheet?f.styleSheet.cssText=h.cssText:f.appendChild(document.createTextNode(h.cssText));else{const y=p,b=typeof h[y]>"u"?"":h[y];f.setAttribute(p,b)}f.setAttribute(Pr,"true"),i.some((p,y)=>(d=y,f.isEqualNode(p)))?i.splice(d,1):l.push(f)}),i.forEach(h=>{var f;return(f=h.parentNode)==null?void 0:f.removeChild(h)}),l.forEach(h=>t.appendChild(h)),{oldTags:i,newTags:l}},wb=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(Pr),i=r?r.split(","):[],l=[...i],d=Object.keys(e);for(const h of d){const f=e[h]||"";t.getAttribute(h)!==f&&t.setAttribute(h,f),i.indexOf(h)===-1&&i.push(h);const p=l.indexOf(h);p!==-1&&l.splice(p,1)}for(let h=l.length-1;h>=0;h-=1)t.removeAttribute(l[h]);i.length===l.length?t.removeAttribute(Pr):t.getAttribute(Pr)!==d.join(",")&&t.setAttribute(Pr,d.join(","))},n6=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=lE(n)),wb("title",e)},p2=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:i,linkTags:l,metaTags:d,noscriptTags:h,onChangeClientState:f,scriptTags:p,styleTags:y,title:b,titleAttributes:v}=n;wb("body",r),wb("html",i),n6(b,v);const C={baseTag:Hc("base",t),linkTags:Hc("link",l),metaTags:Hc("meta",d),noscriptTags:Hc("noscript",h),scriptTags:Hc("script",p),styleTags:Hc("style",y)},S={},I={};Object.keys(C).forEach(E=>{const{newTags:D,oldTags:M}=C[E];D.length&&(S[E]=D),M.length&&(I[E]=C[E].oldTags)}),e&&e(),f(n,S,I)},dh=null,r6=n=>{dh&&cancelAnimationFrame(dh),n.defer?dh=requestAnimationFrame(()=>{p2(n,()=>{dh=null})}):(p2(n),dh=null)},a6=r6,g2=class extends _.Component{constructor(){super(...arguments);Ya(this,"rendered",!1)}shouldComponentUpdate(e){return!BP(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const i=WP(e.get().map(l=>{const d={...l.props};return delete d.context,d}));fE.canUseDOM?a6(i):bb&&(r=bb(i)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},xb,zg=(xb=class extends _.Component{shouldComponentUpdate(n){return!MP(m2(this.props,"helmetData"),m2(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return u2(f2.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${f2.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),u2(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return Fe.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:i,...l}=r.props,d=Object.keys(l).reduce((f,p)=>(f[FP[p]||p]=l[p],f),{});let{type:h}=r;switch(typeof h=="symbol"?h=h.toString():this.warnOnInvalidChildren(r,i),h){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,d,i);break;default:e=this.mapObjectTypeChildren(r,e,d,i);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof vb)){const i=r;r=new vb(i.context,!0),delete t.helmetData}return r?Fe.createElement(g2,{...t,context:r.value}):Fe.createElement(hE.Consumer,null,i=>Fe.createElement(g2,{...t,context:i}))}},Ya(xb,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),xb);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var x2="popstate";function i6(n={}){function e(r,i){let{pathname:l,search:d,hash:h}=r.location;return jb("",{pathname:l,search:d,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Xh(i)}return l6(e,t,null,n)}function $t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ur(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o6(){return Math.random().toString(36).substring(2,10)}function y2(n,e){return{usr:n.state,key:n.key,idx:e}}function jb(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Gd(e):e,state:t,key:e&&e.key||r||o6()}}function Xh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Gd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function l6(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:l=!1}=r,d=i.history,h="POP",f=null,p=y();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function y(){return(d.state||{idx:null}).idx}function b(){h="POP";let E=y(),D=E==null?null:E-p;p=E,f&&f({action:h,location:I.location,delta:D})}function v(E,D){h="PUSH";let M=jb(I.location,E,D);p=y()+1;let L=y2(M,p),Y=I.createHref(M);try{d.pushState(L,"",Y)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(Y)}l&&f&&f({action:h,location:I.location,delta:1})}function C(E,D){h="REPLACE";let M=jb(I.location,E,D);p=y();let L=y2(M,p),Y=I.createHref(M);d.replaceState(L,"",Y),l&&f&&f({action:h,location:I.location,delta:0})}function S(E){return c6(E)}let I={get action(){return h},get location(){return n(i,d)},listen(E){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(x2,b),f=E,()=>{i.removeEventListener(x2,b),f=null}},createHref(E){return e(i,E)},createURL:S,encodeLocation(E){let D=S(E);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:v,replace:C,go(E){return d.go(E)}};return I}function c6(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),$t(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Xh(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function mE(n,e,t="/"){return d6(n,e,t,!1)}function d6(n,e,t,r){let i=typeof e=="string"?Gd(e):e,l=ni(i.pathname||"/",t);if(l==null)return null;let d=pE(n);u6(d);let h=null;for(let f=0;h==null&&f<d.length;++f){let p=j6(l);h=v6(d[f],p,r)}return h}function pE(n,e=[],t=[],r="",i=!1){let l=(d,h,f=i,p)=>{let y={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&f)return;$t(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let b=ei([r,y.relativePath]),v=t.concat(y);d.children&&d.children.length>0&&($t(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),pE(d.children,e,v,b,f)),!(d.path==null&&!d.index)&&e.push({path:b,score:y6(b,d.index),routesMeta:v})};return n.forEach((d,h)=>{var f;if(d.path===""||!((f=d.path)!=null&&f.includes("?")))l(d,h);else for(let p of gE(d.path))l(d,h,!0,p)}),e}function gE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let d=gE(r.join("/")),h=[];return h.push(...d.map(f=>f===""?l:[l,f].join("/"))),i&&h.push(...d),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function u6(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:b6(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var h6=/^:[\w-]+$/,f6=3,m6=2,p6=1,g6=10,x6=-2,b2=n=>n==="*";function y6(n,e){let t=n.split("/"),r=t.length;return t.some(b2)&&(r+=x6),e&&(r+=m6),t.filter(i=>!b2(i)).reduce((i,l)=>i+(h6.test(l)?f6:l===""?p6:g6),r)}function b6(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function v6(n,e,t=!1){let{routesMeta:r}=n,i={},l="/",d=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",b=og({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),v=f.route;if(!b&&p&&t&&!r[r.length-1].route.index&&(b=og({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!b)return null;Object.assign(i,b.params),d.push({params:i,pathname:ei([l,b.pathname]),pathnameBase:S6(ei([l,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(l=ei([l,b.pathnameBase]))}return d}function og(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=w6(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let l=i[0],d=l.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:b},v)=>{if(y==="*"){let S=h[v]||"";d=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const C=h[v];return b&&!C?p[y]=void 0:p[y]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:d,pattern:n}}function w6(n,e=!1,t=!0){ur(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function j6(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ur(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ni(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var _6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function N6(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Gd(n):n,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=v2(t.substring(1),"/"):l=v2(t,e)):l=e,{pathname:l,search:E6(r),hash:k6(i)}}function v2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Uy(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T6(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Sv(n){let e=T6(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Ev(n,e,t,r=!1){let i;typeof n=="string"?i=Gd(n):(i={...n},$t(!i.pathname||!i.pathname.includes("?"),Uy("?","pathname","search",i)),$t(!i.pathname||!i.pathname.includes("#"),Uy("#","pathname","hash",i)),$t(!i.search||!i.search.includes("#"),Uy("#","search","hash",i)));let l=n===""||i.pathname==="",d=l?"/":i.pathname,h;if(d==null)h=t;else{let b=e.length-1;if(!r&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),b-=1;i.pathname=v.join("/")}h=b>=0?e[b]:"/"}let f=N6(i,h),p=d&&d!=="/"&&d.endsWith("/"),y=(l||d===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var ei=n=>n.join("/").replace(/\/\/+/g,"/"),S6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),E6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,k6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,A6=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function C6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function I6(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var xE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function yE(n,e){let t=n;if(typeof t!="string"||!_6.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,i=!1;if(xE)try{let l=new URL(window.location.href),d=t.startsWith("//")?new URL(l.protocol+t):new URL(t),h=ni(d.pathname,e);d.origin===l.origin&&h!=null?t=h+d.search+d.hash:i=!0}catch{ur(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bE=["POST","PUT","PATCH","DELETE"];new Set(bE);var R6=["GET",...bE];new Set(R6);var Kd=_.createContext(null);Kd.displayName="DataRouter";var Ug=_.createContext(null);Ug.displayName="DataRouterState";var P6=_.createContext(!1),vE=_.createContext({isTransitioning:!1});vE.displayName="ViewTransition";var D6=_.createContext(new Map);D6.displayName="Fetchers";var O6=_.createContext(null);O6.displayName="Await";var $n=_.createContext(null);$n.displayName="Navigation";var Tf=_.createContext(null);Tf.displayName="Location";var Ur=_.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var kv=_.createContext(null);kv.displayName="RouteError";var wE="REACT_ROUTER_ERROR",M6="REDIRECT",V6="ROUTE_ERROR_RESPONSE";function L6(n){if(n.startsWith(`${wE}:${M6}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function z6(n){if(n.startsWith(`${wE}:${V6}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new A6(e.status,e.statusText,e.data)}catch{}}function U6(n,{relative:e}={}){$t(Wd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=_.useContext($n),{hash:i,pathname:l,search:d}=Sf(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:ei([t,l])),r.createHref({pathname:h,search:d,hash:i})}function Wd(){return _.useContext(Tf)!=null}function gr(){return $t(Wd(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Tf).location}var jE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _E(n){_.useContext($n).static||_.useLayoutEffect(n)}function xr(){let{isDataRoute:n}=_.useContext(Ur);return n?Z6():B6()}function B6(){$t(Wd(),"useNavigate() may be used only in the context of a <Router> component.");let n=_.useContext(Kd),{basename:e,navigator:t}=_.useContext($n),{matches:r}=_.useContext(Ur),{pathname:i}=gr(),l=JSON.stringify(Sv(r)),d=_.useRef(!1);return _E(()=>{d.current=!0}),_.useCallback((f,p={})=>{if(ur(d.current,jE),!d.current)return;if(typeof f=="number"){t.go(f);return}let y=Ev(f,JSON.parse(l),i,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ei([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,l,i,n])}_.createContext(null);function Oh(){let{matches:n}=_.useContext(Ur),e=n[n.length-1];return e?e.params:{}}function Sf(n,{relative:e}={}){let{matches:t}=_.useContext(Ur),{pathname:r}=gr(),i=JSON.stringify(Sv(t));return _.useMemo(()=>Ev(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function F6(n,e){return NE(n,e)}function NE(n,e,t,r,i){var M;$t(Wd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=_.useContext($n),{matches:d}=_.useContext(Ur),h=d[d.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",b=h&&h.route;{let L=b&&b.path||"";SE(p,!b||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=gr(),C;if(e){let L=typeof e=="string"?Gd(e):e;$t(y==="/"||((M=L.pathname)==null?void 0:M.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${L.pathname}" was given in the \`location\` prop.`),C=L}else C=v;let S=C.pathname||"/",I=S;if(y!=="/"){let L=y.replace(/^\//,"").split("/");I="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let E=mE(n,{pathname:I});ur(b||E!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ur(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=K6(E&&E.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:ei([y,l.encodeLocation?l.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?y:ei([y,l.encodeLocation?l.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),d,t,r,i);return e&&D?_.createElement(Tf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},D):D}function $6(){let n=X6(),e=C6(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:l},"ErrorBoundary")," or"," ",_.createElement("code",{style:l},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),t?_.createElement("pre",{style:i},t):null,d)}var q6=_.createElement($6,null),TE=class extends _.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=z6(n.digest);t&&(n=t)}let e=n!==void 0?_.createElement(Ur.Provider,{value:this.props.routeContext},_.createElement(kv.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?_.createElement(H6,{error:n},e):e}};TE.contextType=P6;var By=new WeakMap;function H6({children:n,error:e}){let{basename:t}=_.useContext($n);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=L6(e.digest);if(r){let i=By.get(e);if(i)throw i;let l=yE(r.location,t);if(xE&&!By.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw By.set(e,d),d}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function G6({routeContext:n,match:e,children:t}){let r=_.useContext(Kd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(Ur.Provider,{value:n},t)}function K6(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,d=t==null?void 0:t.errors;if(d!=null){let y=l.findIndex(b=>b.route.id&&(d==null?void 0:d[b.route.id])!==void 0);$t(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,f=-1;if(t)for(let y=0;y<l.length;y++){let b=l[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(f=y),b.route.id){let{loaderData:v,errors:C}=t,S=b.route.loader&&!v.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||S){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=t&&r?(y,b)=>{var v,C;r(y,{location:t.location,params:((C=(v=t.matches)==null?void 0:v[0])==null?void 0:C.params)??{},unstable_pattern:I6(t.matches),errorInfo:b})}:void 0;return l.reduceRight((y,b,v)=>{let C,S=!1,I=null,E=null;t&&(C=d&&b.route.id?d[b.route.id]:void 0,I=b.route.errorElement||q6,h&&(f<0&&v===0?(SE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,E=null):f===v&&(S=!0,E=b.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,v+1)),M=()=>{let L;return C?L=I:S?L=E:b.route.Component?L=_.createElement(b.route.Component,null):b.route.element?L=b.route.element:L=y,_.createElement(G6,{match:b,routeContext:{outlet:y,matches:D,isDataRoute:t!=null},children:L})};return t&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?_.createElement(TE,{location:t.location,revalidation:t.revalidation,component:I,error:C,children:M(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:p}):M()},null)}function Av(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W6(n){let e=_.useContext(Kd);return $t(e,Av(n)),e}function Y6(n){let e=_.useContext(Ug);return $t(e,Av(n)),e}function Q6(n){let e=_.useContext(Ur);return $t(e,Av(n)),e}function Cv(n){let e=Q6(n),t=e.matches[e.matches.length-1];return $t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function J6(){return Cv("useRouteId")}function X6(){var r;let n=_.useContext(kv),e=Y6("useRouteError"),t=Cv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Z6(){let{router:n}=W6("useNavigate"),e=Cv("useNavigate"),t=_.useRef(!1);return _E(()=>{t.current=!0}),_.useCallback(async(i,l={})=>{ur(t.current,jE),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...l}))},[n,e])}var w2={};function SE(n,e,t){!e&&!w2[n]&&(w2[n]=!0,ur(!1,t))}_.memo(e5);function e5({routes:n,future:e,state:t,onError:r}){return NE(n,void 0,t,r,e)}function Ir({to:n,replace:e,state:t,relative:r}){$t(Wd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext($n);ur(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=_.useContext(Ur),{pathname:d}=gr(),h=xr(),f=Ev(n,Sv(l),d,r==="path"),p=JSON.stringify(f);return _.useEffect(()=>{h(JSON.parse(p),{replace:e,state:t,relative:r})},[h,p,r,e,t]),null}function Le(n){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t5({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:l=!1,unstable_useTransitions:d}){$t(!Wd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=_.useMemo(()=>({basename:h,navigator:i,static:l,unstable_useTransitions:d,future:{}}),[h,i,l,d]);typeof t=="string"&&(t=Gd(t));let{pathname:p="/",search:y="",hash:b="",state:v=null,key:C="default"}=t,S=_.useMemo(()=>{let I=ni(p,h);return I==null?null:{location:{pathname:I,search:y,hash:b,state:v,key:C},navigationType:r}},[h,p,y,b,v,C,r]);return ur(S!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:_.createElement($n.Provider,{value:f},_.createElement(Tf.Provider,{children:e,value:S}))}function Iv({children:n,location:e}){return F6(_b(n),e)}function _b(n,e=[]){let t=[];return _.Children.forEach(n,(r,i)=>{if(!_.isValidElement(r))return;let l=[...e,i];if(r.type===_.Fragment){t.push.apply(t,_b(r.props.children,l));return}$t(r.type===Le,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=_b(r.props.children,l)),t.push(d)}),t}var Up="get",Bp="application/x-www-form-urlencoded";function Bg(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function s5(n){return Bg(n)&&n.tagName.toLowerCase()==="button"}function n5(n){return Bg(n)&&n.tagName.toLowerCase()==="form"}function r5(n){return Bg(n)&&n.tagName.toLowerCase()==="input"}function a5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function i5(n,e){return n.button===0&&(!e||e==="_self")&&!a5(n)}function Nb(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function o5(n,e){let t=Nb(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(l=>{t.append(i,l)})}),t}var Sp=null;function l5(){if(Sp===null)try{new FormData(document.createElement("form"),0),Sp=!1}catch{Sp=!0}return Sp}var c5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fy(n){return n!=null&&!c5.has(n)?(ur(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bp}"`),null):n}function d5(n,e){let t,r,i,l,d;if(n5(n)){let h=n.getAttribute("action");r=h?ni(h,e):null,t=n.getAttribute("method")||Up,i=Fy(n.getAttribute("enctype"))||Bp,l=new FormData(n)}else if(s5(n)||r5(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?ni(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Up,i=Fy(n.getAttribute("formenctype"))||Fy(h.getAttribute("enctype"))||Bp,l=new FormData(h,n),!l5()){let{name:p,type:y,value:b}=n;if(y==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,b)}}else{if(Bg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Up,r=null,i=Bp,d=n}return l&&i==="text/plain"&&(d=l,l=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:l,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function u5(n,e,t,r){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&ni(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function h5(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f5(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function m5(n,e,t){let r=await Promise.all(n.map(async i=>{let l=e.routes[i.route.id];if(l){let d=await h5(l,t);return d.links?d.links():[]}return[]}));return y5(r.flat(1).filter(f5).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function j2(n,e,t,r,i,l){let d=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var y;return t[p].pathname!==f.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>d(f,p)||h(f,p)):l==="data"?e.filter((f,p)=>{var b;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(d(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function p5(n,e,{includeHydrateFallback:t}={}){return g5(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function g5(n){return[...new Set(n)]}function x5(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function y5(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let l=JSON.stringify(x5(i));return t.has(l)||(t.add(l),r.push({key:l,link:i})),r},[])}function EE(){let n=_.useContext(Kd);return Rv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function b5(){let n=_.useContext(Ug);return Rv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Pv=_.createContext(void 0);Pv.displayName="FrameworkContext";function kE(){let n=_.useContext(Pv);return Rv(n,"You must render this element inside a <HydratedRouter> element"),n}function v5(n,e){let t=_.useContext(Pv),[r,i]=_.useState(!1),[l,d]=_.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=e,v=_.useRef(null);_.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let I=D=>{D.forEach(M=>{d(M.isIntersecting)})},E=new IntersectionObserver(I,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[n]),_.useEffect(()=>{if(r){let I=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(I)}}},[r]);let C=()=>{i(!0)},S=()=>{i(!1),d(!1)};return t?n!=="intent"?[l,v,{}]:[l,v,{onFocus:uh(h,C),onBlur:uh(f,S),onMouseEnter:uh(p,C),onMouseLeave:uh(y,S),onTouchStart:uh(b,C)}]:[!1,v,{}]}function uh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function w5({page:n,...e}){let{router:t}=EE(),r=_.useMemo(()=>mE(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?_.createElement(_5,{page:n,matches:r,...e}):null}function j5(n){let{manifest:e,routeModules:t}=kE(),[r,i]=_.useState([]);return _.useEffect(()=>{let l=!1;return m5(n,e,t).then(d=>{l||i(d)}),()=>{l=!0}},[n,e,t]),r}function _5({page:n,matches:e,...t}){let r=gr(),{future:i,manifest:l,routeModules:d}=kE(),{basename:h}=EE(),{loaderData:f,matches:p}=b5(),y=_.useMemo(()=>j2(n,e,p,l,r,"data"),[n,e,p,l,r]),b=_.useMemo(()=>j2(n,e,p,l,r,"assets"),[n,e,p,l,r]),v=_.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,E=!1;if(e.forEach(M=>{var Y;let L=l.routes[M.route.id];!L||!L.hasLoader||(!y.some(F=>F.route.id===M.route.id)&&M.route.id in f&&((Y=d[M.route.id])!=null&&Y.shouldRevalidate)||L.hasClientLoader?E=!0:I.add(M.route.id))}),I.size===0)return[];let D=u5(n,h,i.unstable_trailingSlashAwareDataRequests,"data");return E&&I.size>0&&D.searchParams.set("_routes",e.filter(M=>I.has(M.route.id)).map(M=>M.route.id).join(",")),[D.pathname+D.search]},[h,i.unstable_trailingSlashAwareDataRequests,f,r,l,y,e,n,d]),C=_.useMemo(()=>p5(b,l),[b,l]),S=j5(b);return _.createElement(_.Fragment,null,v.map(I=>_.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),C.map(I=>_.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),S.map(({key:I,link:E})=>_.createElement("link",{key:I,nonce:t.nonce,...E,crossOrigin:E.crossOrigin??t.crossOrigin})))}function N5(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var T5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T5&&(window.__reactRouterVersion="7.13.0")}catch{}function S5({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=_.useRef();i.current==null&&(i.current=i6({window:r,v5Compat:!0}));let l=i.current,[d,h]=_.useState({action:l.action,location:l.location}),f=_.useCallback(p=>{t===!1?h(p):_.startTransition(()=>h(p))},[t]);return _.useLayoutEffect(()=>l.listen(f),[l,f]),_.createElement(t5,{basename:n,children:e,location:d.location,navigationType:d.action,navigator:l,unstable_useTransitions:t})}var AE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ze=_.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:l,replace:d,state:h,target:f,to:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:v,...C},S){let{basename:I,unstable_useTransitions:E}=_.useContext($n),D=typeof p=="string"&&AE.test(p),M=yE(p,I);p=M.to;let L=U6(p,{relative:i}),[Y,F,X]=v5(r,C),T=C5(p,{replace:d,state:h,target:f,preventScrollReset:y,relative:i,viewTransition:b,unstable_defaultShouldRevalidate:v,unstable_useTransitions:E});function P(z){e&&e(z),z.defaultPrevented||T(z)}let k=_.createElement("a",{...C,...X,href:M.absoluteURL||L,onClick:M.isExternal||l?e:P,ref:N5(S,F),target:f,"data-discover":!D&&t==="render"?"true":void 0});return Y&&!D?_.createElement(_.Fragment,null,k,_.createElement(w5,{page:L})):k});ze.displayName="Link";var E5=_.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:l,to:d,viewTransition:h,children:f,...p},y){let b=Sf(d,{relative:p.relative}),v=gr(),C=_.useContext(Ug),{navigator:S,basename:I}=_.useContext($n),E=C!=null&&O5(b)&&h===!0,D=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,M=v.pathname,L=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(M=M.toLowerCase(),L=L?L.toLowerCase():null,D=D.toLowerCase()),L&&I&&(L=ni(L,I)||L);const Y=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let F=M===D||!i&&M.startsWith(D)&&M.charAt(Y)==="/",X=L!=null&&(L===D||!i&&L.startsWith(D)&&L.charAt(D.length)==="/"),T={isActive:F,isPending:X,isTransitioning:E},P=F?e:void 0,k;typeof r=="function"?k=r(T):k=[r,F?"active":null,X?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(T):l;return _.createElement(ze,{...p,"aria-current":P,className:k,ref:y,style:z,to:d,viewTransition:h},typeof f=="function"?f(T):f)});E5.displayName="NavLink";var k5=_.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:l,method:d=Up,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:v,...C},S)=>{let{unstable_useTransitions:I}=_.useContext($n),E=P5(),D=D5(h,{relative:p}),M=d.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&AE.test(h),Y=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let X=F.nativeEvent.submitter,T=(X==null?void 0:X.getAttribute("formmethod"))||d,P=()=>E(X||F.currentTarget,{fetcherKey:e,method:T,navigate:t,replace:i,state:l,relative:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:v});I&&t!==!1?_.startTransition(()=>P()):P()};return _.createElement("form",{ref:S,method:M,action:D,onSubmit:r?f:Y,...C,"data-discover":!L&&n==="render"?"true":void 0})});k5.displayName="Form";function A5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CE(n){let e=_.useContext(Kd);return $t(e,A5(n)),e}function C5(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:l,viewTransition:d,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let p=xr(),y=gr(),b=Sf(n,{relative:l});return _.useCallback(v=>{if(i5(v,e)){v.preventDefault();let C=t!==void 0?t:Xh(y)===Xh(b),S=()=>p(n,{replace:C,state:r,preventScrollReset:i,relative:l,viewTransition:d,unstable_defaultShouldRevalidate:h});f?_.startTransition(()=>S()):S()}},[y,p,b,t,r,e,n,i,l,d,h,f])}function IE(n){ur(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=_.useRef(Nb(n)),t=_.useRef(!1),r=gr(),i=_.useMemo(()=>o5(r.search,t.current?null:e.current),[r.search]),l=xr(),d=_.useCallback((h,f)=>{const p=Nb(typeof h=="function"?h(new URLSearchParams(i)):h);t.current=!0,l("?"+p,f)},[l,i]);return[i,d]}var I5=0,R5=()=>`__${String(++I5)}__`;function P5(){let{router:n}=CE("useSubmit"),{basename:e}=_.useContext($n),t=J6(),r=n.fetch,i=n.navigate;return _.useCallback(async(l,d={})=>{let{action:h,method:f,encType:p,formData:y,body:b}=d5(l,e);if(d.navigate===!1){let v=d.fetcherKey||R5();await r(v,t,d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:b,formMethod:d.method||f,formEncType:d.encType||p,flushSync:d.flushSync})}else await i(d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:b,formMethod:d.method||f,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:t,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,i,e,t])}function D5(n,{relative:e}={}){let{basename:t}=_.useContext($n),r=_.useContext(Ur);$t(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),l={...Sf(n||".",{relative:e})},d=gr();if(n==null){l.search=d.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let y=h.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ei([t,l.pathname])),Xh(l)}function O5(n,{relative:e}={}){let t=_.useContext(vE);$t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=CE("useViewTransitionState"),i=Sf(n,{relative:e});if(!t.isTransitioning)return!1;let l=ni(t.currentLocation.pathname,r)||t.currentLocation.pathname,d=ni(t.nextLocation.pathname,r)||t.nextLocation.pathname;return og(i.pathname,d)!=null||og(i.pathname,l)!=null}/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),_2=n=>{const e=V5(n);return e.charAt(0).toUpperCase()+e.slice(1)},RE=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),L5=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=_.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:d,...h},f)=>_.createElement("svg",{ref:f,...z5,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:RE("lucide",i),...!l&&!L5(h)&&{"aria-hidden":"true"},...h},[...d.map(([p,y])=>_.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(n,e)=>{const t=_.forwardRef(({className:r,...i},l)=>_.createElement(U5,{ref:l,iconNode:e,className:RE(`lucide-${M5(_2(n))}`,`lucide-${n}`,r),...i}));return t.displayName=_2(n),t};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],lr=fe("activity",B5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wn=fe("arrow-left",F5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ds=fe("arrow-right",$5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],H5=fe("arrow-up-right",q5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Zh=fe("award",G5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],W5=fe("ban",K5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Q5=fe("banknote",Y5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Tb=fe("bell",J5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]],Z5=fe("bitcoin",X5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],tD=fe("briefcase",eD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],N2=fe("building-2",sD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],rD=fe("calculator",nD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Sb=fe("calendar",aD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],oD=fe("camera",iD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Th=fe("chart-column",lD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],dD=fe("chart-no-axes-column-increasing",cD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],ef=fe("chart-no-axes-column",uD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cr=fe("check",hD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Al=fe("chevron-down",fD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Dv=fe("chevron-left",mD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ql=fe("chevron-right",pD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Fg=fe("chevron-up",gD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$g=fe("circle-alert",xD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lt=fe("circle-check-big",yD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ov=fe("circle-check",bD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],wD=fe("circle-pause",vD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_D=fe("circle-play",jD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TD=fe("circle-question-mark",ND);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],tf=fe("circle-x",SD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Os=fe("clock",ED);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],PE=fe("code",kD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],CD=fe("cookie",AD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Fs=fe("copy",ID);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],PD=fe("cpu",RD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Lr=fe("credit-card",DD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],MD=fe("database",OD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Tl=fe("dollar-sign",VD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],wa=fe("download",LD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],UD=fe("earth",zD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ef=fe("external-link",BD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Mv=fe("eye-off",FD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kf=fe("eye",$D);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],DE=fe("file-code",qD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Eb=fe("file-text",HD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],KD=fe("folder",GD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Af=fe("funnel",WD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],QD=fe("gift",YD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],nn=fe("globe",JD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],T2=fe("hash",XD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],e3=fe("house",ZD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],co=fe("info",t3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],xd=fe("key",s3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],OE=fe("landmark",n3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Na=fe("layers",r3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ME=fe("layout-dashboard",a3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],S2=fe("layout-template",i3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],l3=fe("link-2",o3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],d3=fe("link",c3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],uo=fe("loader-circle",u3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Mn=fe("lock",h3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],VE=fe("log-in",f3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],p3=fe("log-out",m3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ho=fe("mail",g3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fo=fe("map-pin",x3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],kb=fe("megaphone",y3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],v3=fe("menu",b3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Un=fe("message-square",w3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Cl=fe("monitor",j3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],N3=fe("moon",_3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],S3=fe("mouse-pointer-2",T3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],yd=fe("mouse-pointer",E3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],A3=fe("octagon-alert",k3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],I3=fe("panels-top-left",C3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],id=fe("paperclip",R3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],D3=fe("pause",P3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Vv=fe("pen",O3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],LE=fe("phone",M3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Lv=fe("play",V3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ri=fe("plus",L3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],U3=fe("printer",z3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zE=fe("radio",B3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ja=fe("refresh-cw",F3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],q3=fe("rocket",$3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],G3=fe("rss",H3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ai=fe("save",K3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hr=fe("search",W3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mo=fe("send",Y3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],J3=fe("server",Q3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Il=fe("settings",X3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],zv=fe("share-2",Z3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],UE=fe("shield-check",eO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ta=fe("shield",tO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],nO=fe("shopping-cart",sO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],BE=fe("sliders-vertical",rO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],bd=fe("smartphone",aO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],E2=fe("square-check-big",iO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],k2=fe("square",oO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],lg=fe("star",lO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],dO=fe("sun",cO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],cg=fe("tag",uO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],vd=fe("target",hO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Mh=fe("terminal",fO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],pO=fe("ticket",mO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],xO=fe("toggle-left",gO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],bO=fe("toggle-right",yO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],So=fe("trash-2",vO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Rl=fe("trending-up",wO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bn=fe("triangle-alert",jO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],dg=fe("upload",_O);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vn=fe("user",NO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],po=fe("users",TO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],A2=fe("wallet",SO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],kO=fe("wrench",EO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fr=fe("x",AO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Wt=fe("zap",CO),Te="https://traffic-creator.com",FE=n=>typeof localStorage<"u"?localStorage.getItem(n):null;let Qa=FE("tgp_token");FE("modus_current_user_id");const Pe=async(n,e={})=>{const t={"Content-Type":"application/json",...e.headers};Qa&&(t.Authorization=`Bearer ${Qa}`);const r=await fetch(n,{...e,headers:t});return r.status===401&&(Qa=null,localStorage.removeItem("tgp_token"),window.dispatchEvent(new Event("auth-expired"))),r},K={init:()=>{console.log("Remote Database Initialized")},getCurrentUser:()=>{const n=localStorage.getItem("modus_current_user");return n?JSON.parse(n):void 0},setCurrentUser:n=>{n?(localStorage.setItem("modus_current_user",JSON.stringify(n)),localStorage.setItem("modus_current_user_id",n.id),n.id):(localStorage.removeItem("modus_current_user"),localStorage.removeItem("modus_current_user_id"))},logout:()=>{Qa=null,localStorage.removeItem("tgp_token"),localStorage.removeItem("modus_current_user"),localStorage.removeItem("modus_current_user_id"),window.localStorage.clear(),window.location.href="/login"},login:async(n,e)=>{var f;const t=new URLSearchParams;t.append("username",n),t.append("password",e);const r=await fetch(`${Te}/auth/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});if(!r.ok)throw new Error("Invalid email or password");const i=await r.json();Qa=i.access_token,localStorage.setItem("tgp_token",i.access_token);const d=await(await Pe(`${Te}/users/me`)).json(),h={id:d.id,email:d.email,name:d.email.split("@")[0],role:d.role,balance:d.balance,balanceEconomy:d.balance_economy,balanceProfessional:d.balance_professional,balanceExpert:d.balance_expert,status:"active",joinedDate:((f=d.created_at)==null?void 0:f.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:0,apiKey:d.api_key,isVerified:d.is_verified??!1,phone:d.phone,company:d.company,vatId:d.vat_id,address:d.address,city:d.city,country:d.country,zip:d.zip,website:d.website,displayName:d.display_name,bio:d.bio,jobTitle:d.job_title,publicProfile:d.public_profile,twoFactorEnabled:d.two_factor_enabled,emailFrequency:d.email_frequency,loginNotificationEnabled:d.login_notification_enabled,newsletterSub:d.newsletter_sub,soundEffects:d.sound_effects,developerMode:d.developer_mode,apiWhitelist:d.api_whitelist,webhookSecret:d.webhook_secret,accessibility:d.accessibility,socialLinks:d.social_links,loginHistory:d.login_history,recoveryEmail:d.recovery_email,timezone:d.timezone,language:d.language,themeAccentColor:d.theme_accent_color,skillsBadges:d.skills_badges,referralCode:d.referral_code,supportPin:d.support_pin,dateFormat:d.date_format,numberFormat:d.number_format,requirePasswordReset:d.require_password_reset};return K.setCurrentUser(h),h},register:async(n,e,t)=>{const r=await fetch(`${Te}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:e,password:t})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Registration failed")}return await r.json()},verifyEmail:async n=>{const e=await fetch(`${Te}/auth/verify-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})});if(!e.ok){const t=await e.json();throw new Error(t.detail||"Email verification failed")}return await e.json()},resendVerificationEmail:async n=>{const e=await fetch(`${Te}/auth/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})});if(!e.ok){const t=await e.json();throw new Error(t.detail||"Failed to resend verification email")}return await e.json()},forgotPassword:async n=>{const e=await fetch(`${Te}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})});if(!e.ok){const t=await e.json();throw new Error(t.detail||"Failed to send reset email")}return await e.json()},resetPassword:async(n,e)=>{const t=await fetch(`${Te}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,new_password:e})});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Password reset failed")}return await t.json()},getProjects:()=>{const n=localStorage.getItem("modus_projects_cache");return n?JSON.parse(n):[]},getAdminProjects:()=>{const n=localStorage.getItem("modus_admin_projects_cache");return n?JSON.parse(n):[]},syncProjects:async()=>{try{const n=await Pe(`${Te}/projects`);if(!n.ok)return;const t=(await n.json()).map(r=>({id:r.id,userId:r.user_id,name:r.name,plan:r.plan_type||"Custom",tier:r.tier,status:r.status,expires:r.expires_at||"Never",createdAt:r.created_at,settings:r.settings,stats:[]}));localStorage.setItem("modus_projects_cache",JSON.stringify(t))}catch(n){console.error("Failed to sync projects:",n)}},syncAdminProjects:async()=>{try{const n=await Pe(`${Te}/admin/projects`);if(!n.ok)return;const t=(await n.json()).map(r=>({id:r.id,userId:r.user_id,name:r.name,plan:r.plan_type||"Custom",tier:r.tier,status:r.status,expires:r.expires_at||"Never",createdAt:r.created_at,settings:r.settings,stats:[]}));localStorage.setItem("modus_admin_projects_cache",JSON.stringify(t))}catch(n){console.error("Failed to sync admin projects:",n)}},getProjectById:n=>{let t=K.getProjects().find(r=>r.id===n);return t||(t=K.getAdminProjects().find(i=>i.id===n)),t},addProject:async n=>{var r,i;const e={name:n.name,plan_type:n.plan,tier:n.tier,settings:n.settings,daily_limit:((r=n.customTarget)==null?void 0:r.dailyLimit)||0,total_target:((i=n.customTarget)==null?void 0:i.totalVisitors)||0};if(!(await Pe(`${Te}/projects`,{method:"POST",body:JSON.stringify(e)})).ok)throw new Error("Failed to create project");return await K.syncProjects(),K.getProjects()},updateProject:async n=>(await Pe(`${Te}/projects/${n.id}`,{method:"POST",body:JSON.stringify(n)}),await K.syncProjects(),K.getProjects()),updateProjectStatus:async(n,e)=>(await Pe(`${Te}/projects/${n}/${e==="active"?"start":"stop"}`,{method:"POST"}),await K.syncProjects(),K.getProjects()),deleteProject:async n=>(await Pe(`${Te}/projects/${n}`,{method:"DELETE"}),await K.syncProjects(),K.getProjects()),bulkUpdateProjectStatus:async(n,e)=>(await Promise.all(n.map(t=>Pe(`${Te}/projects/${t}/${e==="active"?"start":"stop"}`,{method:"POST"}))),await K.syncProjects(),K.getProjects()),bulkDeleteProjects:async n=>(await Promise.all(n.map(e=>Pe(`${Te}/projects/${e}`,{method:"DELETE"}))),await K.syncProjects(),K.getProjects()),getBalance:()=>{const n=K.getCurrentUser();return n?n.balance:0},syncAll:async()=>{await Promise.all([K.syncProjects(),K.syncTransactions(),K.syncSettings(),K.syncUsers(),K.syncAllTransactions(),K.syncTickets(),K.syncNotifications()])},getUsers:()=>{const n=localStorage.getItem("modus_users_cache");return n?JSON.parse(n):[]},syncUsers:async()=>{const n=await Pe(`${Te}/admin/users`);if(!n.ok)return[];const t=(await n.json()).map(r=>{var i;return{id:r.id,email:r.email,name:r.name||r.email.split("@")[0],role:r.role,balance:r.balance,balanceEconomy:r.balance_economy,balanceProfessional:r.balance_professional,balanceExpert:r.balance_expert,status:r.status||"active",joinedDate:((i=r.created_at)==null?void 0:i.split("T")[0])||r.joinedDate||new Date().toISOString().split("T")[0],projectsCount:r.projects_count||0,plan:r.plan||"free",shadowBanned:r.shadow_banned||!1,isVerified:r.is_verified||!1,notes:r.notes||"",tags:r.tags||[],banReason:r.ban_reason||"",lastIp:r.last_ip||"",lastActive:r.last_active||""}});return localStorage.setItem("modus_users_cache",JSON.stringify(t)),t},updateUser:async n=>{const e=K.getUsers(),t=e.findIndex(r=>r.id===n.id);return t>=0&&(e[t]=n,localStorage.setItem("modus_users_cache",JSON.stringify(e))),n},adminAdjustBalance:async(n,e,t,r)=>{const l=K.getUsers().find(d=>d.id===n);l&&(await Pe(`${Te}/webhooks/deposit`,{method:"POST",body:JSON.stringify({user_email:l.email,amount:t==="credit"?e:-e,description:r})}),await K.syncUsers(),await K.syncAllTransactions())},getTransactions:()=>{const n=localStorage.getItem("modus_transactions_cache");return n?JSON.parse(n):[]},syncTransactions:async()=>{const n=await Pe(`${Te}/transactions`);if(!n.ok)return[];const t=(await n.json()).map(r=>{var i;return{id:r.id,date:((i=r.created_at)==null?void 0:i.split("T")[0])||r.date||new Date().toISOString().split("T")[0],desc:r.description||r.desc,amount:r.amount,status:r.status||"completed",type:r.type,userId:r.user_id||r.userId,tier:r.tier,hits:r.hits,reference:r.reference}});return localStorage.setItem("modus_transactions_cache",JSON.stringify(t)),t},getAllTransactionsAdmin:()=>{const n=localStorage.getItem("modus_admin_transactions_cache");return n?JSON.parse(n):[]},syncAllTransactions:async()=>{const n=await Pe(`${Te}/admin/transactions`);if(!n.ok)return[];const t=(await n.json()).map(r=>{var i;return{id:r.id,date:((i=r.created_at)==null?void 0:i.split("T")[0])||r.date||new Date().toISOString().split("T")[0],desc:r.description||r.desc,amount:r.amount,status:r.status||"completed",type:r.type,userId:r.user_id||r.userId,tier:r.tier,hits:r.hits,reference:r.reference}});return localStorage.setItem("modus_admin_transactions_cache",JSON.stringify(t)),t},createPaymentIntent:async(n,e="eur")=>{const t=localStorage.getItem("tgp_token");if(!t)throw new Error("Not authenticated");const r=await fetch(`${Te}/create-payment-intent`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({amount:n,currency:e})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to create payment intent")}return await r.json()},createCheckoutSession:async n=>{const e=localStorage.getItem("tgp_token");if(!e)throw new Error("Not authenticated");const t=window.location.origin,r=await fetch(`${Te}/subscriptions/create-checkout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({price_id:n,success_url:`${t}/dashboard?subscription=success`,cancel_url:`${t}/pricing?subscription=cancelled`})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to create checkout session")}return await r.json()},createPortalSession:async()=>{const n=localStorage.getItem("tgp_token");if(!n)throw new Error("Not authenticated");const e=window.location.origin,t=await fetch(`${Te}/subscriptions/portal`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({return_url:`${e}/dashboard`})});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to create portal session")}return await t.json()},getCurrentSubscription:async()=>{const n=localStorage.getItem("tgp_token");if(!n)throw new Error("Not authenticated");const e=await fetch(`${Te}/subscriptions/current`,{headers:{Authorization:`Bearer ${n}`}});if(!e.ok){const t=await e.json();throw new Error(t.detail||"Failed to get subscription")}return await e.json()},purchaseCredits:async(n,e,t,r)=>{const i=K.getCurrentUser();if(!i)return 0;await Pe(`${Te}/webhooks/deposit`,{method:"POST",body:JSON.stringify({user_email:i.email,amount:n,description:e,tier:t,hits:r})});const d=await(await Pe(`${Te}/users/me`)).json();return K.setCurrentUser({...i,balance:d.balance,balanceEconomy:d.balance_economy,balanceProfessional:d.balance_professional,balanceExpert:d.balance_expert}),await K.syncTransactions(),d.balance},getTickets:()=>{const n=localStorage.getItem("modus_tickets_cache");return n?JSON.parse(n):[]},syncTickets:async()=>{const n=await Pe(`${Te}/tickets`);if(!n.ok)return;const t=(await n.json()).map(r=>{var i,l;return{id:r.id,type:"ticket",userId:r.user_id,userName:((i=r.user_email)==null?void 0:i.split("@")[0])||"User",subject:r.subject,status:"open",priority:r.priority,date:((l=r.created_at)==null?void 0:l.split("T")[0])||new Date().toLocaleDateString(),lastMessage:"Ticket created",unread:!1}});localStorage.setItem("modus_tickets_cache",JSON.stringify(t))},createTicket:async n=>(await Pe(`${Te}/tickets`,{method:"POST",body:JSON.stringify(n)}),await K.syncTickets(),K.getTickets()),getNotifications:()=>{const n=localStorage.getItem("modus_notifications_cache");return n?JSON.parse(n):[]},syncNotifications:async()=>{const n=await Pe(`${Te}/notifications`);if(!n.ok)return;const t=(await n.json()).map(r=>{var i;return{id:r.id,userId:r.user_id,title:r.title,message:r.message,date:((i=r.created_at)==null?void 0:i.split("T")[0])||new Date().toLocaleDateString(),read:r.is_read,type:r.type||"info"}});localStorage.setItem("modus_notifications_cache",JSON.stringify(t))},getAdminNotifications:()=>K.getNotifications(),markNotificationRead:async n=>{await Pe(`${Te}/notifications/${n}/read`,{method:"PUT"}),await K.syncNotifications()},getSystemSettings:()=>{const n=localStorage.getItem("modus_settings_cache");return n?JSON.parse(n):{siteName:"Traffic Creator",maintenanceMode:!1,allowRegistrations:!0,supportEmail:"support@traffic.com",minDeposit:10}},syncSettings:async()=>{const n=await fetch(`${Te}/settings`);if(!n.ok)return;const e=await n.json();localStorage.setItem("modus_settings_cache",JSON.stringify(e.settings))},saveSystemSettings:async n=>{await Pe(`${Te}/settings`,{method:"PUT",body:JSON.stringify({settings:n})}),localStorage.setItem("modus_settings_cache",JSON.stringify(n))},trackPresence:(n,e)=>{console.log(`User ${e.email} is viewing ${n}`)},getTicketById:n=>K.getTickets().find(t=>t.id===n),replyToTicket:async(n,e,t,r)=>(console.log(`Replying to ticket ${n}: ${e}`),{}),savePricing:async n=>{const e=K.getSystemSettings();e.pricingPlans=n,await K.saveSystemSettings(e)},updateUserProfile:async n=>{console.log("Updating profile on backend:",n);const e={name:n.name,email:n.email,phone:n.phone,company:n.company,vat_id:n.vatId,address:n.address,city:n.city,country:n.country,zip:n.zip,website:n.website,display_name:n.displayName,bio:n.bio,job_title:n.jobTitle,public_profile:n.publicProfile,two_factor_enabled:n.twoFactorEnabled,email_frequency:n.emailFrequency,login_notification_enabled:n.loginNotificationEnabled,newsletter_sub:n.newsletterSub,sound_effects:n.soundEffects,developer_mode:n.developerMode,api_whitelist:n.apiWhitelist,webhook_secret:n.webhookSecret,accessibility:n.accessibility,social_links:n.socialLinks,recovery_email:n.recoveryEmail,timezone:n.timezone,language:n.language,theme_accent_color:n.themeAccentColor,date_format:n.dateFormat,number_format:n.numberFormat,require_password_reset:n.requirePasswordReset},t=await Pe(`${Te}/users/me`,{method:"PUT",body:JSON.stringify(e)});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to update profile")}await t.json(),K.setCurrentUser(n)},regenerateApiKey:async()=>{const n=await Pe(`${Te}/auth/api-key`,{method:"POST"});if(!n.ok)throw new Error("Failed to regenerate key");const e=await n.json(),t=K.getCurrentUser();return t&&(t.apiKey=e.api_key,K.setCurrentUser(t)),e.api_key},changePassword:async(n,e,t)=>{const r=await Pe(`${Te}/auth/password`,{method:"PUT",body:JSON.stringify({current_password:n,new_password:e,confirm_password:t})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Password update failed")}return await r.json()},logoutAllSessions:async()=>{const n=await Pe(`${Te}/auth/logout-all`,{method:"POST"});if(!n.ok)throw new Error("Failed to logout all sessions");return await n.json()},exportUserData:async()=>{const n=await Pe(`${Te}/users/me/export`);if(!n.ok)throw new Error("Export failed");return await n.json()},uploadAvatar:async n=>{const e=localStorage.getItem("tgp_token"),t={};e&&(t.Authorization=`Bearer ${e}`);const r=new FormData;r.append("file",n);const i=await fetch(`${Te}/users/me/avatar`,{method:"POST",headers:t,body:r});if(!i.ok)throw new Error("Avatar upload failed");const l=await i.json(),d=K.getCurrentUser();return d&&(d.avatarUrl=l.avatar_url,K.setCurrentUser(d)),l.avatar_url},deleteAccount:async()=>{if(!(await Pe(`${Te}/users/me`,{method:"DELETE"})).ok)throw new Error("Account deletion failed");K.logout()},getPricing:()=>{const n=K.getSystemSettings();return n.pricingPlans&&n.pricingPlans.length>0?n.pricingPlans:[{id:"foundation",name:"Foundation",hourlyRate:.58,baseFee:29,examFee:0},{id:"momentum",name:"Momentum",hourlyRate:.43,baseFee:129,examFee:0},{id:"breakthrough",name:"Breakthrough",hourlyRate:.4,baseFee:399,examFee:0},{id:"apex",name:"Apex",hourlyRate:.33,baseFee:999,examFee:0}]},getAlerts:()=>{const n=localStorage.getItem("modus_alerts_cache");return n?JSON.parse(n):[]},checkBroadcastTarget:(n,e)=>{if(!n.active)return!1;if(!e)return n.targetType==="all";switch(n.targetType){case"all":return!0;case"paying":return e.projectsCount>0;case"active_7d":const t=new Date(e.joinedDate).getTime(),r=10080*60*1e3;return Date.now()-t>r;case"specific":return n.targetUserIds?n.targetUserIds.includes(e.id):!1;default:return!1}},getRealTimeVisitors:async()=>[],scanGA4:async n=>{const e=await Pe(`${Te}/tools/scan-ga4?url=${encodeURIComponent(n)}`);if(!e.ok){const r=await e.json().catch(()=>({}));throw new Error(r.detail||"GA4 ID not found")}return(await e.json()).tid},spendCredits:(n,e)=>{const t=K.getCurrentUser();return!t||t.balance<n?!1:(t.balance-=n,K.setCurrentUser(t),K.purchaseCredits(-n,e).catch(console.error),!0)},getActiveBroadcasts:async()=>{try{const n=await fetch(`${Te}/broadcasts/active`);return n.ok?(await n.json()).map(t=>({id:t.id,title:t.title,message:t.message,type:t.type,isActive:t.is_active,createdAt:t.created_at,expiresAt:t.expires_at,actionUrl:t.action_url,actionText:t.action_text})):[]}catch(n){return console.error("Failed to fetch active broadcasts",n),[]}},getAdminBroadcasts:async()=>{try{const n=await Pe(`${Te}/admin/broadcasts`);return n.ok?(await n.json()).map(t=>({id:t.id,title:t.title,message:t.message,type:t.type,isActive:t.is_active,createdAt:t.created_at,expiresAt:t.expires_at,actionUrl:t.action_url,actionText:t.action_text})):[]}catch(n){return console.error("Failed to fetch admin broadcasts",n),[]}},createBroadcast:async n=>{const e={title:n.title,message:n.message,type:n.type,is_active:n.isActive,expires_at:n.expiresAt?new Date(n.expiresAt).toISOString():null,action_url:n.actionUrl,action_text:n.actionText};await Pe(`${Te}/admin/broadcasts`,{method:"POST",body:JSON.stringify(e)})},updateBroadcast:async(n,e)=>{const t={title:e.title,message:e.message,type:e.type,is_active:e.isActive,expires_at:e.expiresAt?new Date(e.expiresAt).toISOString():null,action_url:e.actionUrl,action_text:e.actionText};await Pe(`${Te}/admin/broadcasts/${n}`,{method:"PUT",body:JSON.stringify(t)})},deleteBroadcast:async n=>{await Pe(`${Te}/admin/broadcasts/${n}`,{method:"DELETE"})},getAdminStats:async()=>{try{const n=await Pe(`${Te}/admin/stats`);return n.ok?await n.json():null}catch(n){return console.error("Failed to fetch admin stats",n),null}},getCoupons:()=>{const n=localStorage.getItem("modus_coupons_cache");if(n)return JSON.parse(n);const e=[{id:"1",code:"WELCOME20",discountType:"percent",discountValue:20,active:!0,usedCount:45},{id:"2",code:"BLACKFRIDAY",discountType:"fixed",discountValue:50,active:!1,usedCount:120,expiryDate:"2025-11-29"}];return localStorage.setItem("modus_coupons_cache",JSON.stringify(e)),e},saveCoupon:n=>{const e=K.getCoupons(),t=e.findIndex(r=>r.id===n.id);t>=0?e[t]=n:e.push(n),localStorage.setItem("modus_coupons_cache",JSON.stringify(e))},deleteCoupon:n=>{const e=K.getCoupons().filter(t=>t.id!==n);localStorage.setItem("modus_coupons_cache",JSON.stringify(e))},getMarketingStats:()=>{const n=localStorage.getItem("modus_marketing_cache");if(n)return JSON.parse(n);const e=[{id:"1",name:"Welcome Email Sequence",type:"email",status:"active",sentCount:12500,openRate:45,clickRate:12,dateCreated:"2024-01-15"},{id:"2",name:"Google Ads Q1",type:"ad_tracking",status:"active",utmSource:"google_ads",clicks:8500,conversions:320,revenue:14500,dateCreated:"2024-01-01"},{id:"3",name:"Newsletter: Feb Update",type:"email",status:"ended",sentCount:5e3,openRate:38,clickRate:5,dateCreated:"2024-02-01"}];return localStorage.setItem("modus_marketing_cache",JSON.stringify(e)),e},getConversionSettings:()=>{const n=localStorage.getItem("modus_conversion_settings");if(n)return JSON.parse(n);const e={socialProof:{enabled:!0,position:"bottom-left",delay:5,showRealData:!1,customMessages:["Someone in New York purchased Momentum Plan","New user joined from London"]},exitIntent:{enabled:!1,headline:"Wait! Don't miss out.",subtext:"Get 20% off your first month with code: STAY20",couponCode:"STAY20",showOncePerSession:!0},promoBar:{enabled:!1,message:"Limited Time Offer: Get 50% off all annual plans!",buttonText:"Claim Offer",buttonLink:"/pricing",backgroundColor:"#ff4d00",textColor:"#ffffff"}};return localStorage.setItem("modus_conversion_settings",JSON.stringify(e)),e},saveConversionSettings:n=>{localStorage.setItem("modus_conversion_settings",JSON.stringify(n))},getLoyaltySettings:()=>{const n=localStorage.getItem("modus_loyalty_settings");if(n)return JSON.parse(n);const e={enabled:!1,pointsPerDollar:1,redemptionRate:100,bonusSignupPoints:50};return localStorage.setItem("modus_loyalty_settings",JSON.stringify(e)),e},saveLoyaltySettings:n=>{localStorage.setItem("modus_loyalty_settings",JSON.stringify(n))},getReferralSettings:()=>{const n=localStorage.getItem("modus_referral_settings");if(n)return JSON.parse(n);const e={enabled:!1,referrerReward:25,refereeReward:25,rewardType:"credit"};return localStorage.setItem("modus_referral_settings",JSON.stringify(e)),e},saveReferralSettings:n=>{localStorage.setItem("modus_referral_settings",JSON.stringify(n))},getBankTransfers:async(n="all")=>{const e=await Pe(`${Te}/admin/bank-transfers?status_filter=${n}`);return e.ok?await e.json():[]},getMyBankTransfers:async()=>{const n=await Pe(`${Te}/bank-transfer/my-proofs`);return n.ok?await n.json():[]},approveBankTransfer:async(n,e,t)=>{const r=await Pe(`${Te}/admin/bank-transfers/${n}/approve`,{method:"PUT",body:JSON.stringify({approved:e,admin_notes:t})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to process transfer")}return await r.json()},updateTransaction:async n=>{var r;const e=await Pe(`${Te}/admin/transactions/${n.id}`,{method:"PUT",body:JSON.stringify({description:n.desc,amount:n.amount,type:n.type,status:n.status,tier:n.tier,reference:n.reference})});if(!e.ok){const i=await e.json();throw new Error(i.detail||"Failed to update transaction")}const t=await e.json();return await K.syncAllTransactions(),{id:t.id,date:((r=t.created_at)==null?void 0:r.split("T")[0])||n.date,desc:t.description||n.desc,amount:t.amount,status:t.status,type:t.type,userId:t.user_id,tier:t.tier,reference:t.reference}},getUserDetails:async n=>{var r;const e=await Pe(`${Te}/admin/users/${n}/details`);if(!e.ok)throw new Error("Failed to fetch user details");const t=await e.json();return{user:{id:t.user.id,email:t.user.email,role:t.user.role,balance:t.user.balance,balanceEconomy:t.user.balance_economy,balanceProfessional:t.user.balance_professional,balanceExpert:t.user.balance_expert,status:t.user.status,plan:t.user.plan,isVerified:t.user.is_verified,shadowBanned:t.user.shadow_banned,notes:t.user.notes,tags:t.user.tags||[],banReason:t.user.ban_reason,lastIp:t.user.last_ip,joinedDate:(r=t.user.created_at)==null?void 0:r.split("T")[0]},tierBalances:t.tier_balances,totalSpent:t.total_spent,totalHitsPurchased:t.total_hits_purchased,totalHitsUsed:t.total_hits_used,transactionsCount:t.transactions_count,projectsCount:t.projects_count,ticketsCount:t.tickets_count,referralsCount:t.referrals_count,referralEarnings:t.referral_earnings,notificationPrefs:t.notification_prefs}},getUserActivity:async(n,e=50,t=0,r)=>{let i=`${Te}/admin/users/${n}/activity?limit=${e}&offset=${t}`;r&&(i+=`&action_type=${r}`);const l=await Pe(i);if(!l.ok)throw new Error("Failed to fetch activity");return(await l.json()).map(h=>({id:h.id,userId:h.user_id,actionType:h.action_type,actionDetail:h.action_detail,ipAddress:h.ip_address,userAgent:h.user_agent,createdAt:h.created_at}))},getUserSessions:async n=>{const e=await Pe(`${Te}/admin/users/${n}/sessions`);if(!e.ok)throw new Error("Failed to fetch sessions");return(await e.json()).map(r=>({id:r.id,userId:r.user_id,ipAddress:r.ip_address,userAgent:r.user_agent,deviceInfo:r.device_info,location:r.location,createdAt:r.created_at,lastActivity:r.last_activity,expiresAt:r.expires_at,isActive:r.is_active}))},terminateUserSession:async(n,e)=>{if(!(await Pe(`${Te}/admin/users/${n}/sessions/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to terminate session")},getImpersonationLog:async n=>{const e=await Pe(`${Te}/admin/users/${n}/impersonation-log`);if(!e.ok)throw new Error("Failed to fetch impersonation log");return(await e.json()).map(r=>({id:r.id,adminId:r.admin_id,targetUserId:r.target_user_id,action:r.action,ipAddress:r.ip_address,createdAt:r.created_at,adminEmail:r.admin_email}))},getBalanceAdjustments:async n=>{const e=await Pe(`${Te}/admin/users/${n}/balance-adjustments`);if(!e.ok)throw new Error("Failed to fetch balance adjustments");return(await e.json()).map(r=>({id:r.id,userId:r.user_id,adminId:r.admin_id,adjustmentType:r.adjustment_type,tier:r.tier,amount:r.amount,hits:r.hits,reason:r.reason,notes:r.notes,createdAt:r.created_at,adminEmail:r.admin_email}))},adjustUserBalance:async(n,e)=>{if(!(await Pe(`${Te}/admin/users/${n}/adjust-balance`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to adjust balance")},addBonusHits:async(n,e)=>{if(!(await Pe(`${Te}/admin/users/${n}/add-bonus-hits`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to add bonus hits")},getUserEmails:async(n,e=50)=>{const t=await Pe(`${Te}/admin/users/${n}/emails?limit=${e}`);if(!t.ok)throw new Error("Failed to fetch emails");return(await t.json()).map(i=>({id:i.id,userId:i.user_id,emailType:i.email_type,toEmail:i.to_email,subject:i.subject,status:i.status,errorMessage:i.error_message,sentAt:i.sent_at,deliveredAt:i.delivered_at}))},getUserReferrals:async n=>{const e=await Pe(`${Te}/admin/users/${n}/referrals`);if(!e.ok)throw new Error("Failed to fetch referrals");const t=await e.json();return{referrals:(t.referrals||[]).map(r=>({id:r.id,email:r.email,name:r.name,status:r.status,createdAt:r.created_at,totalSpent:r.total_spent,earningsFromRef:r.earnings_from_ref})),totalReferrals:t.total_referrals,totalEarnings:t.total_earnings}},getUserNotificationPrefs:async n=>{const e=await Pe(`${Te}/admin/users/${n}/notification-prefs`);if(!e.ok)throw new Error("Failed to fetch notification prefs");const t=await e.json();return{id:t.id,userId:t.user_id,emailMarketing:t.email_marketing,emailTransactional:t.email_transactional,emailAlerts:t.email_alerts,browserNotifications:t.browser_notifications,newsletterSub:t.newsletter_sub,emailFrequency:t.email_frequency,updatedAt:t.updated_at}},updateUserNotificationPrefs:async(n,e)=>{if(!(await Pe(`${Te}/admin/users/${n}/notification-prefs`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to update notification prefs")},sendPasswordReset:async n=>{if(!(await Pe(`${Te}/admin/users/${n}/send-password-reset`,{method:"POST"})).ok)throw new Error("Failed to send password reset")},resendVerification:async n=>{if(!(await Pe(`${Te}/admin/users/${n}/resend-verification`,{method:"POST"})).ok)throw new Error("Failed to resend verification")},adminRegenerateApiKey:async n=>{const e=await Pe(`${Te}/admin/users/${n}/regenerate-api-key`,{method:"POST"});if(!e.ok)throw new Error("Failed to regenerate API key");return(await e.json()).api_key},startImpersonation:async n=>{const e=await Pe(`${Te}/admin/impersonate/${n}`,{method:"POST"});if(!e.ok)throw new Error("Failed to start impersonation");const t=await e.json();Qa&&localStorage.setItem("tgp_admin_token",Qa),localStorage.setItem("tgp_token",t.token),Qa=t.token;const r=await Pe(`${Te}/users/me`);if(!r.ok)throw new Error("Failed to fetch impersonated user details");const i=await r.json(),l={id:i.id,email:i.email,name:i.name||i.email.split("@")[0],role:i.role,balance:i.balance,balanceEconomy:i.balance_economy,balanceProfessional:i.balance_professional,balanceExpert:i.balance_expert,status:i.status,plan:i.plan,isVerified:i.is_verified,shadowBanned:i.shadow_banned,notes:i.notes,tags:i.tags,banReason:i.ban_reason,createdAt:i.created_at,joinedDate:i.created_at||new Date().toISOString(),projectsCount:0,lastIp:i.last_ip,lastActive:i.last_active,phone:i.phone,company:i.company,vatId:i.vat_id,address:i.address,city:i.city,country:i.country,zip:i.zip,website:i.website,displayName:i.display_name,bio:i.bio,jobTitle:i.job_title,publicProfile:i.public_profile,twoFactorEnabled:i.two_factor_enabled,emailFrequency:i.email_frequency,loginNotificationEnabled:i.login_notification_enabled,newsletterSub:i.newsletter_sub,soundEffects:i.sound_effects,developerMode:i.developer_mode,apiWhitelist:i.api_whitelist,webhookSecret:i.webhook_secret,accessibility:i.accessibility,socialLinks:i.social_links,recoveryEmail:i.recovery_email,timezone:i.timezone,language:i.language,themeAccentColor:i.theme_accent_color,dateFormat:i.date_format,numberFormat:i.number_format,requirePasswordReset:i.require_password_reset};K.setCurrentUser(l)},stopImpersonation:async()=>{const n=localStorage.getItem("tgp_admin_token");if(!n)throw new Error("No admin session found");localStorage.setItem("tgp_token",n),Qa=n,localStorage.removeItem("tgp_admin_token");const e=await Pe(`${Te}/users/me`);if(!e.ok)throw new Error("Failed to restore admin user details");const t=await e.json(),r={id:t.id,email:t.email,name:t.name||t.email.split("@")[0],role:t.role,balance:t.balance,balanceEconomy:t.balance_economy,balanceProfessional:t.balance_professional,balanceExpert:t.balance_expert,status:t.status,plan:t.plan,isVerified:t.is_verified,shadowBanned:t.shadow_banned,notes:t.notes,tags:t.tags,banReason:t.ban_reason,createdAt:t.created_at,joinedDate:t.created_at||new Date().toISOString(),projectsCount:0,lastIp:t.last_ip,lastActive:t.last_active};K.setCurrentUser(r)},adminExportUserData:async n=>{const e=await Pe(`${Te}/admin/users/${n}/export`);if(!e.ok)throw new Error("Failed to export user data");return e.json()},getUserTransactions:async n=>{const e=await Pe(`${Te}/transactions`);return e.ok?(await e.json()).filter(i=>i.user_id===n).map(i=>{var l;return{id:i.id,date:((l=i.created_at)==null?void 0:l.split("T")[0])||new Date().toISOString().split("T")[0],desc:i.description||"",amount:i.amount,status:i.status||"completed",type:i.type,userId:i.user_id,tier:i.tier,hits:i.hits,reference:i.reference}}):[]},getUserProjects:async n=>{const e=await Pe(`${Te}/admin/projects`);return e.ok?(await e.json()).filter(i=>i.user_id===n).map(i=>{var l;return{id:i.id,userId:i.user_id,name:i.name,plan:i.plan_type||"Custom",tier:i.tier,status:i.status,customTarget:{totalVisitors:i.total_target||0,durationDays:30,dailyLimit:i.daily_limit||0},expires:((l=i.expires_at)==null?void 0:l.split("T")[0])||"",createdAt:i.created_at,settings:i.settings}}):[]},getUserTickets:async n=>{const e=await Pe(`${Te}/tickets`);return e.ok?(await e.json()).filter(i=>i.user_id===n).map(i=>{var l,d;return{id:i.id,type:i.type||"ticket",userId:i.user_id,userName:"",subject:i.subject,status:i.status||"open",priority:i.priority||"low",date:((l=i.created_at)==null?void 0:l.split("T")[0])||"",lastMessage:((d=i.messages)==null?void 0:d.length)>0?i.messages[i.messages.length-1].text:"",messages:i.messages||[],unread:!1}}):[]},adminUpdateUser:async(n,e)=>{if(!(await Pe(`${Te}/admin/users/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to update user")}},$E=({menuSections:n,currentView:e,onNavigate:t,onLogout:r})=>{const i=K.getCurrentUser();return s.jsxs("aside",{className:"w-64 bg-[#111111] text-white flex flex-col h-screen fixed left-0 top-0 z-20 hidden md:flex border-r border-gray-800 shadow-xl",children:[s.jsxs("div",{className:"p-8 pb-10 flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-[#ff4d00] flex items-center justify-center",children:s.jsx("span",{className:"font-black text-black text-lg",children:"T"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-black text-white tracking-tighter leading-none",children:"TRAFFIC"}),s.jsx("p",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-widest mt-0.5",children:"Creator OS"})]})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto px-4 custom-scrollbar",children:s.jsx("div",{className:"space-y-6",children:n.map((l,d)=>s.jsx("div",{className:d>0?"pt-6 border-t border-gray-800/50":"",children:s.jsx("ul",{className:"space-y-1",children:l.items.map(h=>{const f=e===h.id;return s.jsx("li",{children:s.jsxs("button",{onClick:()=>t(h.id),className:`w-full group flex items-center justify-between px-4 py-3.5 text-[11px] font-bold uppercase tracking-widest transition-all duration-200 rounded-sm
                          ${f?"bg-[#ff4d00] text-white shadow-[0_0_15px_rgba(255,77,0,0.3)]":"text-gray-400 hover:bg-[#1a1a1a] hover:text-white"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[h.icon&&s.jsx("span",{className:f?"text-white":"text-gray-600 group-hover:text-[#ff4d00]",children:h.icon}),s.jsx("span",{children:h.label})]}),f&&s.jsx(Ql,{size:14,className:"animate-in slide-in-from-left-2"})]})},h.id)})})},d))})}),s.jsxs("div",{className:"p-4 border-t border-gray-800 bg-[#0a0a0a] space-y-4",children:[i&&s.jsxs("div",{className:"px-4 py-2 bg-[#1a1a1a] rounded-sm border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(vn,{size:12,className:"text-[#ff4d00]"}),s.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-tighter truncate",children:i.email})]}),s.jsxs("div",{className:"text-[9px] font-mono text-gray-500 truncate",title:i.id,children:["ID: ",i.id.substring(0,8).toUpperCase()]})]}),s.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 py-3 border border-gray-800 text-[11px] font-bold text-gray-400 uppercase tracking-widest hover:text-[#ff4d00] hover:border-[#ff4d00] hover:bg-[#111] transition-all rounded-sm",children:[s.jsx(p3,{size:14}),s.jsx("span",{children:"Logout"})]})]})]})},qE=({title:n,onMobileMenuClick:e,isAdmin:t=!1})=>{const[r,i]=_.useState(!1),[l,d]=_.useState([]);_.useEffect(()=>{const v=async()=>{try{const S=await(t?K.getAdminNotifications():K.getNotifications());d(S)}catch(S){console.error("Failed to fetch notifications:",S)}};v();const C=setInterval(v,1e4);return()=>clearInterval(C)},[t]);const h=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),f=l.filter(v=>!v.read).length,p=async v=>{await K.markNotificationRead(v),d(C=>C.map(S=>S.id===v?{...S,read:!0}:S))},y=async()=>{d(v=>v.map(C=>({...C,read:!0})))},b=v=>{switch(v){case"success":return s.jsx(Lt,{size:16,className:"text-green-500"});case"warning":return s.jsx(Bn,{size:16,className:"text-orange-500"});default:return s.jsx(co,{size:16,className:"text-blue-500"})}};return s.jsxs("header",{className:"bg-white h-20 px-8 flex items-center justify-between sticky top-0 z-20 shadow-sm md:shadow-none relative",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:bg-gray-100 rounded-md",onClick:e,children:s.jsx(v3,{size:24})}),s.jsx("h2",{className:"text-xl font-black tracking-wide text-gray-900 uppercase",children:n})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"relative cursor-pointer",children:[s.jsxs("button",{onClick:()=>i(!r),className:"relative p-1",children:[s.jsx(Tb,{className:f>0?"text-[#ff4d00]":"text-gray-400",size:22,strokeWidth:2}),f>0&&s.jsx("span",{className:"absolute top-0 right-0 block h-2.5 w-2.5 rounded-full ring-2 ring-white bg-red-600 transform translate-x-1/4 -translate-y-1/4 animate-pulse"})]}),r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>i(!1)}),s.jsxs("div",{className:"absolute right-0 top-full mt-4 w-80 bg-white border border-gray-200 shadow-xl z-40 animate-in fade-in slide-in-from-top-2 rounded-sm overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:["Notifications (",f,")"]}),f>0&&s.jsx("button",{onClick:y,className:"text-[10px] font-bold text-[#ff4d00] uppercase hover:underline",children:"Mark all read"})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:l.length===0?s.jsx("div",{className:"p-8 text-center text-xs text-gray-400",children:"No notifications"}):l.map(v=>s.jsx("div",{className:`p-4 border-b border-gray-50 hover:bg-gray-50 transition-colors ${v.read?"":"bg-orange-50/30"}`,children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"mt-1 flex-shrink-0",children:b(v.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h4",{className:`text-xs font-bold ${v.read?"text-gray-500":"text-gray-900"}`,children:v.title}),!v.read&&s.jsx("button",{onClick:()=>p(v.id),className:"text-gray-300 hover:text-[#ff4d00]",children:s.jsx(cr,{size:12})})]}),s.jsx("p",{className:"text-[11px] text-gray-500 mt-1 leading-relaxed",children:v.message}),s.jsx("div",{className:"text-[9px] text-gray-300 mt-2 font-mono",children:v.date})]})]})},v.id))})]})]})]}),s.jsx("div",{className:"hidden md:block w-px h-8 bg-gray-200"}),s.jsx("div",{className:"text-sm font-medium text-gray-500 tracking-wide hidden md:block",children:h})]})]})},IO=()=>{const[n,e]=_.useState([]);_.useEffect(()=>{const r=async()=>{const l=await K.getActiveBroadcasts(),d=JSON.parse(localStorage.getItem("dismissed_broadcasts")||"[]");e(l.filter(h=>!d.includes(h.id)))};r();const i=setInterval(r,6e4);return()=>clearInterval(i)},[]);const t=r=>{const i=JSON.parse(localStorage.getItem("dismissed_broadcasts")||"[]");i.includes(r)||(i.push(r),localStorage.setItem("dismissed_broadcasts",JSON.stringify(i))),e(n.filter(l=>l.id!==r))};return n.length===0?null:s.jsx("div",{className:"flex flex-col w-full z-50 sticky top-0",children:n.map(r=>s.jsx("div",{className:`w-full px-4 py-3 flex items-center justify-between shadow-sm relative animate-in slide-in-from-top duration-300 ${r.type==="critical"?"bg-red-600 text-white":r.type==="warning"?"bg-orange-500 text-white":r.type==="success"?"bg-green-600 text-white":"bg-blue-600 text-white"}`,children:s.jsxs("div",{className:"flex items-center gap-3 container max-w-screen-2xl mx-auto px-6 md:px-12",children:[r.type==="critical"&&s.jsx(tf,{size:20}),r.type==="warning"&&s.jsx(Bn,{size:20}),r.type==="success"&&s.jsx(Lt,{size:20}),r.type==="info"&&s.jsx(co,{size:20}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-1 md:gap-3 flex-1",children:[s.jsx("span",{className:"font-black uppercase tracking-wider text-xs",children:r.title}),s.jsx("span",{className:"hidden md:inline w-1 h-1 bg-white rounded-full opacity-50"}),s.jsx("span",{className:"font-medium text-sm",children:r.message}),r.actionUrl&&s.jsx("a",{href:r.actionUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 bg-white text-black text-[10px] font-black uppercase tracking-widest rounded-sm hover:bg-gray-100 transition-colors ml-0 md:ml-4 self-start md:self-auto",children:r.actionText||"Read More"})]}),s.jsx("button",{onClick:()=>t(r.id),className:"text-white/80 hover:text-white transition-colors p-1",children:s.jsx(fr,{size:18})})]})},r.id))})},RO=({email:n,onDismiss:e})=>{const[t,r]=_.useState(!1),[i,l]=_.useState(!1),[d,h]=_.useState(""),[f,p]=_.useState(!1);if(f)return null;const y=async()=>{r(!0),h("");try{await K.resendVerificationEmail(n),l(!0)}catch(v){h(v.message||"Failed to send email")}finally{r(!1)}},b=()=>{p(!0),e&&e()};return s.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx(Bn,{className:"shrink-0",size:20}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm font-bold",children:i?"Verification email sent! Check your inbox.":s.jsx(s.Fragment,{children:"Please verify your email address to create projects. Check your inbox or"})})}),!i&&s.jsx("button",{onClick:y,disabled:t,className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-colors disabled:opacity-50",children:t?s.jsxs(s.Fragment,{children:[s.jsx(uo,{className:"animate-spin",size:14})," Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ho,{size:14})," Resend Email"]})})]}),s.jsx("button",{onClick:b,className:"ml-4 p-1 hover:bg-white/20 rounded transition-colors","aria-label":"Dismiss",children:s.jsx(fr,{size:16})})]}),d&&s.jsx("div",{className:"pb-3 text-xs font-medium text-white/90",children:d})]})})},PO=({projects:n,onUpdate:e,onNavigateToProject:t,onAddProject:r})=>{const[i,l]=_.useState(""),[d,h]=_.useState(""),[f,p]=_.useState(""),[y,b]=_.useState("all"),[v,C]=_.useState({start:"",end:""}),[S,I]=_.useState(1),E=10,[D,M]=_.useState([]),[L,Y]=_.useState(null),F=Q=>{switch(Q){case"completed":return"bg-gray-900 text-white";case"active":return"bg-[#ff4d00] text-white";case"stopped":return"bg-gray-100 text-gray-500 border border-gray-200"}},X=n.filter(Q=>{const je=Q.id.toLowerCase().includes(i.toLowerCase()),H=Q.name.toLowerCase().includes(d.toLowerCase()),J=Q.plan.toLowerCase().includes(f.toLowerCase()),te=y==="all"||Q.status===y;let Ie=!0;if(v.start||v.end){const me=Q.createdAt?new Date(Q.createdAt).getTime():0,$=v.start?new Date(v.start).getTime():0,U=v.end?new Date(v.end).getTime()+864e5:1/0;me===0?Ie=!1:Ie=me>=$&&me<U}return je&&H&&J&&te&&Ie}),T=Math.ceil(X.length/E),P=X.slice((S-1)*E,S*E),k=Q=>{Q>=1&&Q<=T&&I(Q)},z=async Q=>{if(D.length!==0)if(Q==="delete")confirm(`Are you sure you want to delete ${D.length} campaigns?`)&&(await K.bulkDeleteProjects(D),M([]),e());else{const je=Q==="resume"?"active":"stopped";await K.bulkUpdateProjectStatus(D,je),M([]),e()}},B=()=>{const Q=P.map(H=>H.id),je=Q.every(H=>D.includes(H));M(je?H=>H.filter(J=>!Q.includes(J)):H=>Array.from(new Set([...H,...Q])))},A=Q=>{D.includes(Q)?M(je=>je.filter(H=>H!==Q)):M(je=>[...je,Q])};Fe.useEffect(()=>{I(1),M([])},[i,d,f,y,v]);const V=P.length>0&&P.every(Q=>D.includes(Q.id));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tight",children:"Campaign Manager"}),s.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mt-1",children:"Manage your traffic sources"})]}),s.jsxs("button",{onClick:r,className:"bg-[#ff4d00] hover:bg-[#e64600] text-white px-6 py-3 text-xs font-black uppercase tracking-widest transition-colors flex items-center gap-2 shadow-lg shadow-orange-500/20",children:[s.jsx(ri,{size:16,strokeWidth:3}),"Create Project"]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-4 shadow-sm grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Af,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Filter by ID...",value:i,onChange:Q=>l(Q.target.value),className:"w-full pl-9 pr-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-900 focus:outline-none focus:border-[#ff4d00] placeholder-gray-400"})]}),s.jsx("input",{type:"text",placeholder:"Filter by Name...",value:d,onChange:Q=>h(Q.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-900 focus:outline-none focus:border-[#ff4d00] placeholder-gray-400"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:f,onChange:Q=>p(Q.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-500 focus:outline-none focus:border-[#ff4d00] appearance-none",children:[s.jsx("option",{value:"",children:"All Plans"}),s.jsx("option",{value:"Free Trial",children:"Free Trial"}),s.jsx("option",{value:"Starter",children:"Starter"}),s.jsx("option",{value:"Growth",children:"Growth"}),s.jsx("option",{value:"Agency",children:"Agency"})]}),s.jsx(Al,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:y,onChange:Q=>b(Q.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-500 focus:outline-none focus:border-[#ff4d00] appearance-none",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"stopped",children:"Stopped"}),s.jsx("option",{value:"completed",children:"Completed"})]}),s.jsx(Al,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),s.jsxs("button",{onClick:()=>{l(""),h(""),p(""),b("all")},className:"px-4 py-2 border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:text-gray-900 hover:border-gray-400 transition-colors flex items-center justify-center gap-2",children:[s.jsx(fr,{size:14})," Clear"]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden min-h-[600px] flex flex-col",children:[s.jsx("div",{className:"overflow-x-auto flex-1",children:s.jsxs("table",{className:"w-full table-fixed",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-[#f9fafb] border-b border-gray-200",children:[s.jsx("th",{className:"w-16 px-6 py-4 text-left",children:s.jsx("button",{onClick:B,className:"flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:V?s.jsx(E2,{size:16,className:"text-[#ff4d00]"}):s.jsx(k2,{size:16})})}),s.jsx("th",{className:"w-32 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Project ID"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Name"}),s.jsx("th",{className:"w-28 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Plan"}),s.jsx("th",{className:"w-32 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Expires"}),s.jsx("th",{className:"w-32 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),s.jsx("th",{className:"w-24 px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:X.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-400 text-sm",children:"No campaigns found matching your filters."})}):P.map(Q=>{var je;return s.jsxs("tr",{className:`transition-colors group relative ${D.includes(Q.id)?"bg-orange-50/50":"hover:bg-orange-50/30"}`,children:[s.jsx("td",{className:"px-6 py-5",children:s.jsx("button",{onClick:H=>{H.stopPropagation(),A(Q.id)},className:"flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:D.includes(Q.id)?s.jsx(E2,{size:16,className:"text-[#ff4d00]"}):s.jsx(k2,{size:16})})}),s.jsx("td",{className:"px-6 py-5 text-[11px] font-black text-[#ff4d00] font-mono tracking-tighter uppercase truncate",title:Q.id,children:Q.id.substring(0,10)}),s.jsx("td",{className:"px-6 py-5",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-black text-gray-900",children:Q.name}),((je=Q.settings)==null?void 0:je.entryUrls)&&s.jsx("a",{href:Q.settings.entryUrls,target:"_blank",rel:"noreferrer",className:"ml-2 inline-block text-gray-300 hover:text-[#ff4d00]",onClick:H=>H.stopPropagation(),children:s.jsx(Ef,{size:12})})]})}),s.jsx("td",{className:"px-6 py-5 text-sm font-medium text-gray-600",children:Q.plan}),s.jsx("td",{className:"px-6 py-5 text-sm font-medium text-gray-500",children:Q.expires}),s.jsx("td",{className:"px-6 py-5",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 text-[10px] font-black uppercase tracking-wider rounded-sm ${F(Q.status)}`,children:[Q.status==="stopped"&&s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 mr-2"}),Q.status==="active"&&s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white mr-2 animate-pulse"}),Q.status]})}),s.jsx("td",{className:"px-6 py-5 text-right relative",children:s.jsx("button",{onClick:H=>{H.stopPropagation(),t(Q.id)},className:"text-gray-400 hover:text-[#ff4d00] transition-colors p-2 hover:bg-orange-50 rounded-sm",children:s.jsx(Il,{size:18})})})]},Q.id)})})]})}),s.jsxs("div",{className:"p-4 border-t border-gray-200 bg-[#f9fafb] flex items-center justify-between mt-auto",children:[s.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:["Showing ",Math.min((S-1)*E+1,X.length)," - ",Math.min(S*E,X.length)," of ",X.length]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>k(S-1),disabled:S===1,className:"px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[s.jsx(Dv,{size:14})," Prev"]}),s.jsx("div",{className:"flex items-center gap-1 px-2",children:Array.from({length:Math.min(T,5)},(Q,je)=>{let H=je+1;return T>5&&S>3&&(H=S-2+je),H>T?null:s.jsx("button",{onClick:()=>k(H),className:`w-8 h-8 flex items-center justify-center text-xs font-bold border ${S===H?"border-[#ff4d00] text-[#ff4d00] bg-orange-50":"border-transparent text-gray-400 hover:text-gray-600"}`,children:H},H)})}),s.jsxs("button",{onClick:()=>k(S+1),disabled:S===T,className:"px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Next ",s.jsx(Ql,{size:14})]})]})]})]}),D.length>0&&s.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 animate-in slide-in-from-bottom-4 fade-in duration-300",children:s.jsxs("div",{className:"bg-gray-900 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-6 border border-gray-800",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 border-r border-gray-700 pr-6 mr-2",children:[D.length," Selected"]}),s.jsxs("button",{onClick:()=>z("resume"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors",children:[s.jsx(Lv,{size:14})," Resume"]}),s.jsxs("button",{onClick:()=>z("pause"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors",children:[s.jsx(D3,{size:14})," Pause"]}),s.jsx("div",{className:"w-px h-4 bg-gray-700 mx-2"}),s.jsxs("button",{onClick:()=>z("delete"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-red-500 transition-colors",children:[s.jsx(So,{size:14})," Delete"]}),s.jsx("button",{onClick:()=>M([]),className:"ml-4 text-gray-500 hover:text-white",children:s.jsx(fr,{size:14})})]})})]})},Rt=({value:n,onChange:e,options:t,placeholder:r="Select...",disabled:i=!1,className:l=""})=>{const[d,h]=_.useState(!1),f=_.useRef(null),p=t.find(b=>b.value===n);_.useEffect(()=>{const b=v=>{f.current&&!f.current.contains(v.target)&&h(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const y=b=>{e(b),h(!1)};return s.jsxs("div",{className:`relative ${l}`,ref:f,children:[s.jsxs("button",{type:"button",onClick:()=>!i&&h(!d),className:`w-full bg-[#f9fafb] border ${d?"border-[#ff4d00]":"border-gray-200"} p-3 text-sm font-bold text-gray-900 outline-none flex justify-between items-center transition-all duration-200 rounded-sm ${i?"opacity-50 cursor-not-allowed":"cursor-pointer hover:border-gray-300"}`,children:[s.jsx("span",{className:`truncate ${p?"text-gray-900":"text-gray-400"}`,children:p?p.label:r}),s.jsx(Al,{size:16,className:`text-gray-400 transition-transform duration-200 flex-shrink-0 ml-2 ${d?"rotate-180 text-[#ff4d00]":""}`})]}),d&&s.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-[0_10px_40px_-10px_rgba(0,0,0,0.2)] z-50 max-h-60 overflow-y-auto mt-1 animate-in fade-in zoom-in-95 duration-100 rounded-sm",children:t.map(b=>s.jsxs("button",{type:"button",onClick:()=>y(b.value),className:"w-full text-left px-4 py-3 text-sm font-medium text-gray-700 hover:bg-[#ff4d00] hover:text-white flex justify-between items-center transition-colors border-b border-gray-50 last:border-0",children:[s.jsx("span",{className:"truncate",children:b.label}),n===b.value&&s.jsx(cr,{size:14,className:"flex-shrink-0 ml-2"})]},b.value))})]})},DO=()=>{const n=[];for(let e=-12;e<=14;e++){const t=e>=0?"+":"-",r=Math.abs(e),i=`(GMT${t}${r.toString().padStart(2,"0")}:00) GMT${t}${r}`;if(n.push({value:`GMT${t}${r}`,label:i}),[3,4,5,6,9].includes(r)){const l=`(GMT${t}${r.toString().padStart(2,"0")}:30) GMT${t}${r}:30`;n.push({value:`GMT${t}${r}:30`,label:l})}}return n},OO=DO(),MO=["Afrikaans","Albanian","Amharic","Arabic","Armenian","Azerbaijani","Basque","Belarusian","Bengali","Bosnian","Bulgarian","Catalan","Cebuano","Chichewa","Chinese (Simplified)","Chinese (Traditional)","Corsican","Croatian","Czech","Danish","Dutch","English (US)","English (UK)","Esperanto","Estonian","Filipino","Finnish","French","Frisian","Galician","Georgian","German","Greek","Gujarati","Haitian Creole","Hausa","Hawaiian","Hebrew","Hindi","Hmong","Hungarian","Icelandic","Igbo","Indonesian","Irish","Italian","Japanese","Javanese","Kannada","Kazakh","Khmer","Kinyarwanda","Korean","Kurdish (Kurmanji)","Kyrgyz","Lao","Latin","Latvian","Lithuanian","Luxembourgish","Macedonian","Malagasy","Malay","Malayalam","Maltese","Maori","Marathi","Mongolian","Myanmar (Burmese)","Nepali","Norwegian","Odia (Oriya)","Pashto","Persian","Polish","Portuguese","Punjabi","Romanian","Russian","Samoan","Scots Gaelic","Serbian","Sesotho","Shona","Sindhi","Sinhala","Slovak","Slovenian","Somali","Spanish","Sundanese","Swahili","Swedish","Tajik","Tamil","Tatar","Telugu","Thai","Turkish","Turkmen","Ukrainian","Urdu","Uyghur","Uzbek","Vietnamese","Welsh","Xhosa","Yiddish","Yoruba","Zulu"],VO=[{value:"5 seconds",label:"5 seconds"},{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"2 minutes",label:"2 minutes"},{value:"3 minutes",label:"3 minutes"},{value:"4 minutes",label:"4 minutes"},{value:"5 minutes",label:"5 minutes"}],Fp={AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia and Herzegovina",BW:"Botswana",BR:"Brazil",BN:"Brunei",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",CV:"Cabo Verde",KH:"Cambodia",CM:"Cameroon",CA:"Canada",BQ:"Caribbean Netherlands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CK:"Cook Islands",CR:"Costa Rica",HR:"Croatia",CW:"Curacao",CY:"Cyprus",CZ:"Czechia",CD:"Democratic Republic of the Congo",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",SZ:"Eswatini",ET:"Ethiopia",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern and Antarctic Lands",GA:"Gabon",GE:"Georgia",DE:"Germany",GH:"Ghana",GR:"Greece",GD:"Grenada",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Laos",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MR:"Mauritania",MU:"Mauritius",MX:"Mexico",FM:"Micronesia",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar (Burma)",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MK:"North Macedonia",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn Islands",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",CG:"Republic of the Congo",RO:"Romania",RU:"Russia",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena, Ascension and Tristan da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",KR:"South Korea",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SE:"Sweden",CH:"Switzerland",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",BS:"The Bahamas",GM:"The Gambia",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkiye",TM:"Turkmenistan",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VA:"Vatican City",VE:"Venezuela",VN:"Vietnam",WF:"Wallis and Futuna",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},LO=Object.entries(Fp).map(([n,e])=>({code:n,name:e})),zO=[{value:"Direct",label:"Direct"},{value:"Organic (General)",label:"Organic (General)"},{value:"Organic, Google Search",label:"Organic - Google Search"},{value:"Organic, Google News",label:"Organic - Google News"},{value:"Organic, Google Images",label:"Organic - Google Images"},{value:"Organic, Google Video",label:"Organic - Google Video"},{value:"Organic, Bing",label:"Organic - Bing"},{value:"Organic, DuckDuckGo",label:"Organic - DuckDuckGo"},{value:"Organic, YouTube",label:"Organic - YouTube"},{value:"Social (General)",label:"Social (General)"},{value:"Social, Instagram",label:"Social - Instagram"},{value:"Social, Facebook",label:"Social - Facebook"},{value:"Social, LinkedIn",label:"Social - LinkedIn"},{value:"Social, X, Twitter",label:"Social - X (Twitter)"},{value:"Social, Pinterest",label:"Social - Pinterest"},{value:"Referral",label:"Referral"},{value:"Chatbots (General)",label:"Chatbots (General)"},{value:"Chatbots, Meta AI",label:"Chatbots - Meta AI"},{value:"Chatbots, Perplexity AI",label:"Chatbots - Perplexity AI"},{value:"Chatbots, ChatGPT",label:"Chatbots - ChatGPT"},{value:"Chatbots, Claude AI",label:"Chatbots - Claude AI"},{value:"Chatbots, Mistral AI",label:"Chatbots - Mistral AI"},{value:"Chatbots, Microsoft Copilot",label:"Chatbots - Copilot"},{value:"Chatbots, Gemini",label:"Chatbots - Gemini"},{value:"Chatbots, Groq",label:"Chatbots - Groq"},{value:"Messengers (General)",label:"Messengers (General)"},{value:"Messengers, WhatsApp",label:"Messengers - WhatsApp"},{value:"Messengers, WeChat",label:"Messengers - WeChat"},{value:"Messengers, Telegram",label:"Messengers - Telegram"},{value:"Messengers, Viber",label:"Messengers - Viber"}],UO=[{value:"All",label:"All Devices (Use Slider)"},{value:"Desktop, Windows",label:"Desktop - Windows"},{value:"Desktop, MacOS",label:"Desktop - MacOS"},{value:"Desktop, Linux",label:"Desktop - Linux"},{value:"Mobile, iPhone",label:"Mobile - iPhone"},{value:"Mobile, Android",label:"Mobile - Android"}],BO=[{value:"Random",label:"Random (Default)"},{value:"Chrome",label:"Chrome"},{value:"Firefox",label:"Firefox"},{value:"Safari",label:"Safari"},{value:"Edge",label:"Microsoft Edge"}],FO=[{value:"auto",label:"Auto-Rotate by Location"},{value:"sticky",label:"Sticky Session (Keep IP)"},{value:"custom",label:"Custom Proxy List"}],$O=[{value:"continuous",label:"Continuous (Daily Limits)"},{value:"burst",label:"Scheduled Burst"}],qO=[{value:"random",label:"Random Selection"},{value:"sequential",label:"Sequential Funnel"}],HO=({projectId:n,onBack:e,onUpdate:t})=>{var be,He;const[r,i]=_.useState(void 0),[l,d]=_.useState(!0),[h,f]=_.useState(void 0),[p,y]=_.useState(!1),[b,v]=_.useState(!1),[C,S]=_.useState(!1),[I,E]=_.useState(!1),[D,M]=_.useState(""),[L,Y]=_.useState([]),[F,X]=_.useState("visitors"),[T,P]=_.useState(!1),[k,z]=_.useState(""),[B,A]=_.useState(!1),[V,Q]=_.useState(""),[je,H]=_.useState(!1);if(_.useEffect(()=>{var Ae;const W=K.getProjectById(n);if(i(W),W){let $e=W.settings||{trafficSpeed:100,bounceRate:0,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,geoTargets:[],countries:["US"],trafficSource:"Direct",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,urlVisitOrder:"random",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0};if((!$e.geoTargets||$e.geoTargets.length===0)&&((Ae=$e.countries)==null?void 0:Ae.length)>0){const on=$e.countries.length,ln=Math.floor(100/on),Ys=100-ln*on;$e.geoTargets=$e.countries.map(($r,Oo)=>{const sc=Object.keys(Fp).find(nc=>Fp[nc]===$r)||$r;return{id:`geo-${Date.now()}-${Oo}`,country:sc,percent:Oo===0?ln+Ys:ln}})}$e.languages||($e.languages=[$e.language||"en-US"]),f($e)}const ke=K.getSystemSettings();Y(ke.payloadTemplates||[]),d(!1)},[n]),_.useEffect(()=>{const W=()=>{A(!1),H(!1)};return document.addEventListener("click",W),()=>document.removeEventListener("click",W)},[]),l||!r||!h)return s.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading Configuration..."});const J=r.plan==="Free Trial",te=(W,ke)=>{if(J)return;let Ae={[W]:ke};if(W==="deviceSpecific"){const $e=ke;$e.includes("Mobile")?(Ae.deviceSplit=0,Ae.tabletSplit=0):$e.includes("Desktop")&&(Ae.deviceSplit=100,Ae.tabletSplit=0)}f($e=>$e?{...$e,...Ae}:void 0)},Ie=()=>{if(J)return;if(!h.entryUrls||h.entryUrls.trim()===""){alert("Entry URLs are mandatory. Please provide at least one URL.");return}const W=h.geoTargets.reduce(($e,on)=>$e+on.percent,0);if(W!==100&&h.geoTargets.length>0){alert(`Total location percentage must equal 100%. Current total: ${W}%`);return}y(!0),v(!1);const ke={...h,countries:h.geoTargets.map($e=>$e.country),language:h.languages[0]||"en-US"},Ae={...r,settings:ke};setTimeout(()=>{K.updateProject(Ae),i(Ae),y(!1),v(!0),setTimeout(()=>v(!1),2e3),t&&t()},600)},me=()=>{if(!D.trim())return;const W=K.getSystemSettings(),ke={id:`tpl-${Date.now()}`,name:D,json:JSON.stringify(h)},Ae={...W,payloadTemplates:[...W.payloadTemplates||[],ke]};K.saveSystemSettings(Ae),Y(Ae.payloadTemplates||[]),M(""),S(!1),alert("Template saved successfully!")},$=W=>{const ke=L.find(Ae=>Ae.id===W);if(ke)try{const Ae=JSON.parse(ke.json);f({...h,...Ae}),E(!1),alert("Template loaded. Please review settings before saving.")}catch{alert("Failed to parse template data.")}},U=async()=>{var ke;const W=(ke=h.entryUrls.split(`
`)[0])==null?void 0:ke.trim();if(!W){alert("Please enter an Entry URL first.");return}P(!0);try{const Ae=await K.scanGA4(W);te("gaId",Ae),alert(`Found Analytics ID: ${Ae}`)}catch(Ae){alert(`Scan failed: ${Ae.message||"No GA ID found"}`)}finally{P(!1)}},pe=W=>{if(J||h.geoTargets.find($r=>$r.country===W))return;const Ae=h.geoTargets.length+1,$e=Math.floor(100/Ae),on=h.geoTargets.map($r=>({...$r,percent:$e})),ln=100-$e*(Ae-1),Ys={id:`geo-${Date.now()}`,country:W,percent:ln};te("geoTargets",[...on,Ys]),Q("")},ae=W=>{J||te("geoTargets",h.geoTargets.filter(ke=>ke.id!==W))},ye=(W,ke)=>{if(J)return;const Ae=h.geoTargets.map($e=>$e.id===W?{...$e,percent:ke}:$e);te("geoTargets",Ae)},Ve=W=>{J||(h.languages.includes(W)||te("languages",[...h.languages,W]),z(""))},Ue=W=>{J||te("languages",h.languages.filter(ke=>ke!==W))},St=W=>W.split(`
`).filter(ke=>ke.trim().length>0).length,ft=St(h.entryUrls),qn=St(h.innerUrls),yr=St(h.exitUrls),Nn=ft+qn+yr,Ks=r.stats||[],Ws=Ks.length>0?Math.max(...Ks.map(W=>F==="visitors"?W.visitors:W.pageviews||W.visitors)):100,Aa=MO.filter(W=>W.toLowerCase().includes(k.toLowerCase())),Hn=LO.filter(W=>W.name.toLowerCase().includes(V.toLowerCase())),Br=((be=r.customTarget)==null?void 0:be.totalVisitors)||0,Fr=((He=r.customTarget)==null?void 0:He.dailyLimit)||0,Dt=W=>Fp[W]||W;return s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center bg-white p-6 border border-gray-200 shadow-sm sticky top-0 z-10",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-sm text-gray-500 transition-colors",children:s.jsx(wn,{size:20})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Project Configuration"}),s.jsxs("span",{className:`text-[8px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded border ${r.plan==="Expert"?"bg-green-50 text-green-700 border-green-200":r.plan==="Professional"?"bg-blue-50 text-blue-700 border-blue-200":"bg-orange-50 text-orange-700 border-orange-200"}`,children:[r.plan," Plan"]})]}),s.jsx("h2",{className:"text-2xl font-black text-gray-900",children:r.name})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[s.jsxs("div",{className:"flex items-center gap-1 mr-4 border-r border-gray-200 pr-4",children:[s.jsx("button",{onClick:()=>S(!0),className:"p-2 text-gray-500 hover:text-black hover:bg-gray-100 rounded-sm",title:"Save as Template",children:s.jsx(ai,{size:16})}),s.jsx("button",{onClick:()=>E(!0),className:"p-2 text-gray-500 hover:text-black hover:bg-gray-100 rounded-sm",title:"Load Template",children:s.jsx(dg,{size:16})})]}),b&&s.jsxs("span",{className:"text-green-600 text-xs font-bold uppercase tracking-wider animate-in fade-in slide-in-from-right-2 mr-4 flex items-center gap-1",children:[s.jsx(Ov,{size:14})," Saved"]}),J?s.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 text-gray-500 px-4 py-2.5 text-xs font-bold uppercase tracking-wider border border-gray-200 cursor-not-allowed",children:[s.jsx(Mn,{size:14})," Read Only"]}):s.jsxs("button",{onClick:Ie,disabled:p,className:"flex items-center gap-2 bg-[#ff4d00] text-white px-5 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors disabled:opacity-70 shadow-lg",children:[s.jsx(ai,{size:14})," ",p?"Saving...":"Save Changes"]}),s.jsxs("button",{className:"flex items-center gap-2 bg-white border border-gray-200 text-gray-600 px-4 py-2.5 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors",children:[s.jsx(Fs,{size:14})," Clone"]})]})]}),C&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white p-6 w-full max-w-md shadow-xl border border-gray-200",children:[s.jsx("h3",{className:"text-sm font-bold uppercase mb-4",children:"Save Configuration as Template"}),s.jsx("input",{value:D,onChange:W=>M(W.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] mb-4",placeholder:"Template Name (e.g. Mobile US Organic)"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-xs font-bold uppercase text-gray-500",children:"Cancel"}),s.jsx("button",{onClick:me,className:"px-4 py-2 text-xs font-bold uppercase bg-black text-white hover:bg-[#ff4d00]",children:"Save"})]})]})}),I&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white p-6 w-full max-w-md shadow-xl border border-gray-200",children:[s.jsx("h3",{className:"text-sm font-bold uppercase mb-4",children:"Load Template"}),s.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto",children:L.length===0?s.jsx("p",{className:"text-xs text-gray-400",children:"No templates found."}):L.map(W=>s.jsx("button",{onClick:()=>$(W.id),className:"w-full text-left p-3 bg-gray-50 hover:bg-gray-100 text-sm font-medium border border-transparent hover:border-gray-200",children:W.name},W.id))}),s.jsx("button",{onClick:()=>E(!1),className:"w-full px-4 py-2 text-xs font-bold uppercase bg-black text-white hover:bg-gray-800",children:"Close"})]})}),J&&s.jsxs("div",{className:"bg-orange-50 border-l-4 border-[#ff4d00] p-4 flex items-start gap-3 shadow-sm",children:[s.jsx(Wt,{className:"text-[#ff4d00] shrink-0",size:20}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-bold text-orange-900 uppercase tracking-wide",children:"Free Trial Mode"}),s.jsx("p",{className:"text-xs text-orange-700 mt-1 leading-relaxed",children:"This project is running on a high-speed demonstration plan (6,000 hits/4h). Settings are locked."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[s.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[s.jsx(vd,{size:14})," Total Target"]}),s.jsx("div",{className:"text-xl font-bold text-gray-900",children:Br>0?Br.toLocaleString():r.plan})]}),s.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[s.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[s.jsx(ef,{size:14})," Daily Speed"]}),s.jsx("div",{className:"text-xl font-bold text-gray-900",children:Fr>0?`${Fr.toLocaleString()}/day`:"N/A"})]}),s.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[s.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[s.jsx(lr,{size:14})," Status"]}),s.jsx("div",{className:`text-sm font-black uppercase tracking-wide ${r.status==="active"?"text-[#ff4d00]":"text-gray-500"}`,children:r.status==="completed"?"Expired":r.status})]}),s.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[s.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[s.jsx(Sb,{size:14})," Expires"]}),s.jsx("div",{className:"text-sm font-bold text-gray-900",children:r.expires})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Traffic Statistics"}),s.jsxs("div",{className:"flex bg-gray-100 rounded-sm p-1",children:[s.jsx("button",{onClick:()=>X("visitors"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${F==="visitors"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"Visitors"}),s.jsx("button",{onClick:()=>X("pageviews"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${F==="pageviews"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"Pageviews"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 font-bold",children:["Total ",F==="visitors"?"Visits":"Views",": ",s.jsx("span",{className:"text-gray-900",children:Ks.reduce((W,ke)=>W+(F==="visitors"?ke.visitors:ke.pageviews||ke.visitors),0).toLocaleString()})]})]}),s.jsx("div",{className:"h-64 flex items-end justify-between gap-1 w-full px-4 border-b border-gray-100 pb-2",children:Ks.length===0?s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:"No traffic data available."}):Ks.map((W,ke)=>{const Ae=F==="visitors"?W.visitors:W.pageviews||W.visitors,$e=Ws>0?Ae/Ws*100:0;return s.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative h-full",children:[s.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap",children:[W.date,": ",Ae.toLocaleString()]}),s.jsx("div",{className:"w-full bg-[#ff4d00] opacity-80 hover:opacity-100 transition-opacity rounded-t-sm min-w-[4px]",style:{height:`${$e}%`,minHeight:"4px"}})]},ke)})})]}),s.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-6 ${J?"opacity-70 pointer-events-none grayscale-[0.5]":""}`,children:[s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[s.jsx($y,{})," Basic Settings"]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx(It,{children:"Project Name"}),s.jsx("input",{value:r.name,onChange:W=>i({...r,name:W.target.value}),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-bold text-gray-900 transition-colors",disabled:J})]}),s.jsx(hh,{label:"Traffic Speed",value:h.trafficSpeed,onChange:W=>te("trafficSpeed",W)}),s.jsx(hh,{label:"Bounce Rate",value:h.bounceRate,onChange:W=>te("bounceRate",W),suffix:"%"}),s.jsx(hh,{label:"Visitor Returning Rate",value:h.returnRate,onChange:W=>te("returnRate",W),suffix:"%"}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-end",children:s.jsx(It,{children:"Platform & Operating System"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx(Rt,{value:h.deviceSpecific||"All",onChange:W=>te("deviceSpecific",W),options:UO,disabled:J}),s.jsx(Rt,{value:h.browser||"Random",onChange:W=>te("browser",W),options:BO,disabled:J})]}),s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsx(It,{children:"Device Distribution"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{te("deviceSplit",100),te("tabletSplit",0)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Desktop Only"}),s.jsx("button",{onClick:()=>{te("deviceSplit",33),te("tabletSplit",33)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Balanced"}),s.jsx("button",{onClick:()=>{te("deviceSplit",0),te("tabletSplit",0)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Mobile Only"})]})]}),s.jsxs("div",{className:`space-y-4 pt-1 ${h.deviceSpecific!=="All"?"opacity-50 pointer-events-none":""}`,children:[s.jsxs("div",{className:"relative h-4 bg-gray-100 rounded-sm overflow-hidden flex text-[8px] font-bold text-white uppercase text-center leading-4 shadow-inner",children:[s.jsx("div",{className:"h-full bg-[#ff4d00]",style:{width:`${h.deviceSplit}%`},children:h.deviceSplit>10&&"Desktop"}),s.jsx("div",{className:"h-full bg-gray-600",style:{width:`${h.tabletSplit||0}%`},children:(h.tabletSplit||0)>10&&"Tablet"}),s.jsx("div",{className:"h-full bg-black/80",style:{width:`${100-h.deviceSplit-(h.tabletSplit||0)}%`},children:100-h.deviceSplit-(h.tabletSplit||0)>10&&"Mobile"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase mb-1",children:[s.jsxs("span",{className:"flex items-center gap-1 text-[#ff4d00]",children:[s.jsx(Cl,{size:12})," Desktop"]}),s.jsxs("span",{children:[h.deviceSplit,"%"]})]}),s.jsx("input",{type:"range",min:"0",max:"100",value:h.deviceSplit,onChange:W=>{const ke=parseInt(W.target.value),Ae=100-(h.tabletSplit||0);te("deviceSplit",Math.min(ke,Ae))},className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]",disabled:J})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase mb-1",children:[s.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[s.jsx(Cl,{size:12})," Tablet"]}),s.jsxs("span",{children:[h.tabletSplit||0,"%"]})]}),s.jsx("input",{type:"range",min:"0",max:"100",value:h.tabletSplit||0,onChange:W=>{const ke=parseInt(W.target.value),Ae=100-h.deviceSplit;te("tabletSplit",Math.min(ke,Ae))},className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-gray-600",disabled:J})]}),s.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase bg-gray-50 p-2 rounded-sm border border-gray-100",children:[s.jsxs("span",{className:"flex items-center gap-1 text-black",children:[s.jsx(bd,{size:12})," Mobile Remainder"]}),s.jsxs("span",{className:"text-black",children:[Math.max(0,100-h.deviceSplit-(h.tabletSplit||0)),"%"]})]})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[s.jsx($y,{})," Additional Settings"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(It,{children:"Time On Page"}),s.jsx(Rt,{value:h.timeOnPage,onChange:W=>te("timeOnPage",W),options:VO,disabled:J})]}),s.jsxs("div",{children:[s.jsx(It,{children:"Timezone"}),s.jsx(Rt,{value:h.timezone,onChange:W=>te("timezone",W),options:OO,disabled:J})]}),s.jsxs("div",{className:"relative",onClick:W=>W.stopPropagation(),children:[s.jsx(It,{children:"Browser Languages"}),s.jsxs("div",{className:"bg-[#f9fafb] border border-gray-200 p-2 min-h-[48px] flex flex-wrap gap-2",children:[h.languages.map(W=>s.jsxs("span",{className:"bg-white border border-gray-200 text-xs font-bold uppercase px-2 py-1 flex items-center gap-1 rounded-sm",children:[W," ",s.jsx("button",{onClick:()=>Ue(W),className:"hover:text-red-500",children:s.jsx(fr,{size:10})})]},W)),s.jsx("input",{value:k,onChange:W=>{z(W.target.value),A(!0)},onFocus:()=>A(!0),className:"flex-1 bg-transparent text-sm outline-none min-w-[80px]",placeholder:h.languages.length===0?"Select Language...":"",disabled:J})]}),B&&s.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-xl max-h-60 overflow-y-auto z-50",children:Aa.map(W=>s.jsx("div",{className:"p-3 text-sm hover:bg-orange-50 cursor-pointer",onClick:()=>{Ve(W),A(!1)},children:W},W))})]}),s.jsxs("div",{children:[s.jsx(It,{children:"Google Analytics ID"}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx("input",{value:h.gaId,onChange:W=>te("gaId",W.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium text-gray-900 pr-10",placeholder:"G-XXXXXXXXXX",disabled:J}),s.jsx("button",{onClick:U,className:"absolute right-2 text-xs font-bold text-gray-400 hover:text-[#ff4d00] uppercase tracking-wide flex items-center gap-1",title:"Scan Entry URL for GA ID",disabled:T||J,children:T?s.jsx(Ja,{size:14,className:"animate-spin"}):s.jsx(hr,{size:14})})]})]})]})]})]}),r.plan==="Economy"&&s.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 mx-6 flex items-center justify-between shadow-sm animate-in fade-in slide-in-from-top-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($g,{size:20,className:"text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-orange-900 uppercase tracking-tight",children:"Tier Limitation: Economy"}),s.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Organic/Social sources, Residential IPs, and GA4 Automation are disabled on this plan."})]})]})}),s.jsxs("div",{className:J?"opacity-70 pointer-events-none grayscale-[0.5]":"",children:[s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[s.jsx(nn,{size:16})," URL Configuration"]}),s.jsxs("div",{className:"space-y-8",children:[s.jsx(hh,{label:"Inner URLs Limit",value:h.innerUrlCount,onChange:W=>te("innerUrlCount",W),max:10}),s.jsx("div",{className:"flex items-end justify-between border-b border-gray-100 pb-2 mb-2",children:s.jsx(It,{children:"Visit Behavior"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:s.jsxs("div",{className:"bg-gray-50 p-3 rounded-sm border border-gray-100",children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-2",children:"Visit Order"}),s.jsx(Rt,{value:h.urlVisitOrder||"random",onChange:W=>te("urlVisitOrder",W),options:qO,disabled:J}),s.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 leading-tight",children:[s.jsx("strong",{children:"Sequential:"})," Landing  Inner 1  Inner 2.",s.jsx("br",{}),s.jsx("strong",{children:"Random:"})," Picks random pages from pool."]})]})}),s.jsx(qy,{label:"Entry URLs",value:h.entryUrls,onChange:W=>te("entryUrls",W),checked:h.autoCrawlEntry,onCheck:W=>te("autoCrawlEntry",W),countLabel:`Total: ${Nn}/10`,required:!0}),s.jsx(qy,{label:"Inner URLs",value:h.innerUrls,onChange:W=>te("innerUrls",W),checked:h.autoCrawlInner,onCheck:W=>te("autoCrawlInner",W),countLabel:`Total: ${Nn}/10`}),s.jsx(qy,{label:"Exit URLs",value:h.exitUrls,onChange:W=>te("exitUrls",W),checked:h.autoCrawlExit,onCheck:W=>te("autoCrawlExit",W),countLabel:`Total: ${Nn}/10`})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",onClick:W=>W.stopPropagation(),children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[s.jsx(vd,{size:16})," Tracking & Attribution (UTM)"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(It,{children:"Campaign Source"}),s.jsx("input",{value:h.utmSource||"",onChange:W=>te("utmSource",W.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. google, newsletter",disabled:J})]}),s.jsxs("div",{children:[s.jsx(It,{children:"Campaign Medium"}),s.jsx("input",{value:h.utmMedium||"",onChange:W=>te("utmMedium",W.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. cpc, banner",disabled:J})]}),s.jsxs("div",{children:[s.jsx(It,{children:"Campaign Name"}),s.jsx("input",{value:h.utmCampaign||"",onChange:W=>te("utmCampaign",W.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. spring_sale",disabled:J})]}),s.jsxs("div",{children:[s.jsx(It,{children:"Campaign Term"}),s.jsx("input",{value:h.utmTerm||"",onChange:W=>te("utmTerm",W.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. running shoes",disabled:J})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(It,{children:"Campaign Content"}),s.jsx("input",{value:h.utmContent||"",onChange:W=>te("utmContent",W.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. logolink, textlink",disabled:J}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{random_keyword}}"}),s.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{timestamp}}"}),s.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{device_type}}"})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[s.jsx(Sb,{size:16})," Schedule & Duration"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(It,{children:"Operation Mode"}),s.jsx(Rt,{value:h.scheduleMode||"continuous",onChange:W=>te("scheduleMode",W),options:$O,disabled:J})]}),h.scheduleMode==="burst"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{children:[s.jsx(It,{children:"Start Time"}),s.jsx("input",{type:"datetime-local",value:h.scheduleTime||"",onChange:W=>te("scheduleTime",W.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",disabled:J})]}),s.jsx(hh,{label:"Run Duration (Minutes)",value:h.scheduleDuration||60,onChange:W=>te("scheduleDuration",W),max:1440})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[s.jsx(Mn,{size:16})," Proxy Configuration"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(It,{children:"Proxy Mode"}),s.jsx(Rt,{value:h.proxyMode||"auto",onChange:W=>te("proxyMode",W),options:FO,disabled:J})]}),h.proxyMode==="custom"&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[s.jsx(It,{children:"Custom Proxies (ip:port:user:pass)"}),s.jsx("textarea",{value:h.customProxies||"",onChange:W=>te("customProxies",W.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none font-mono",placeholder:`192.168.1.1:8080:user:pass
192.168.1.2:8080:user:pass`,disabled:J})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",onClick:W=>W.stopPropagation(),children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[s.jsx(fo,{size:16})," Advanced Location"]}),s.jsxs("div",{className:"mb-6 relative",children:[s.jsx(It,{children:"Add Country (Search)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{value:V,onChange:W=>{Q(W.target.value),H(!0)},onFocus:()=>H(!0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"Type to search (e.g. United States)",disabled:J}),s.jsx(hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),je&&V&&s.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-xl max-h-60 overflow-y-auto z-50",children:Hn.map(W=>s.jsx("div",{className:"p-3 text-sm hover:bg-orange-50 cursor-pointer font-medium",onClick:()=>{pe(W.code),H(!1)},children:W.name},W.code))})]}),s.jsxs("div",{className:"space-y-4",children:[h.geoTargets.map(W=>s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3 bg-[#f9fafb] p-3 border border-gray-100",children:[s.jsxs("div",{className:"flex-1 font-bold text-sm text-gray-800 flex items-center gap-2",children:[s.jsx("span",{className:"w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-[8px]",children:W.country}),Dt(W.country)]}),s.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[s.jsx("input",{placeholder:"State (Opt)",value:W.state||"",onChange:ke=>{const Ae=h.geoTargets.map($e=>$e.id===W.id?{...$e,state:ke.target.value}:$e);te("geoTargets",Ae)},className:"w-24 bg-white border border-gray-200 p-1 text-xs outline-none focus:border-[#ff4d00]"}),s.jsx("input",{placeholder:"City (Opt)",value:W.city||"",onChange:ke=>{const Ae=h.geoTargets.map($e=>$e.id===W.id?{...$e,city:ke.target.value}:$e);te("geoTargets",Ae)},className:"w-24 bg-white border border-gray-200 p-1 text-xs outline-none focus:border-[#ff4d00]"})]}),s.jsxs("div",{className:"flex items-center gap-2 w-full md:w-32 justify-end",children:[s.jsx("input",{type:"number",value:W.percent,onChange:ke=>ye(W.id,parseInt(ke.target.value)||0),className:"w-16 p-1 text-center font-bold border border-gray-300 outline-none focus:border-[#ff4d00] text-sm",min:"0",max:"100"}),s.jsx("span",{className:"text-xs text-gray-500 font-bold",children:"%"})]}),s.jsx("button",{onClick:()=>ae(W.id),className:"text-gray-400 hover:text-red-500 ml-2",children:s.jsx(So,{size:16})})]},W.id)),h.geoTargets.length===0&&s.jsx("div",{className:"text-center p-4 text-xs text-gray-400 bg-gray-50 border border-dashed border-gray-200",children:"No countries selected. Traffic will be global."}),s.jsxs("div",{className:"text-right text-[10px] font-black uppercase tracking-wide",children:["Total: ",s.jsxs("span",{className:`${h.geoTargets.reduce((W,ke)=>W+ke.percent,0)===100?"text-green-600":"text-red-500"}`,children:[h.geoTargets.reduce((W,ke)=>W+ke.percent,0),"%"]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[s.jsx(lr,{size:16})," Traffic Source"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(It,{children:"Source Type"}),s.jsx(Rt,{value:h.trafficSource,onChange:W=>te("trafficSource",W),options:zO,disabled:J})]}),h.trafficSource.includes("Organic")&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[s.jsx(It,{children:"Keywords (One per line)"}),s.jsx("textarea",{value:h.keywords,onChange:W=>te("keywords",W.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none",placeholder:`keyword 1
keyword 2`,disabled:J})]}),(h.trafficSource.includes("Social")||h.trafficSource.includes("Referral"))&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[s.jsx(It,{children:"Referrer URLs (One per line)"}),s.jsx("textarea",{value:h.referralUrls,onChange:W=>te("referralUrls",W.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none",placeholder:`https://referrer-site.com/post
https://social-media.com/share`,disabled:J})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mb-20 mt-6",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[s.jsx($y,{})," General Settings"]}),s.jsxs("div",{className:`flex items-center justify-between p-6 mb-8 border-2 rounded-sm transition-all duration-300 relative overflow-hidden
                    ${h.autoRenew?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white"} 
                `,children:[s.jsxs("div",{className:"relative z-10 max-w-xl",children:[s.jsxs("span",{className:"text-lg font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Wt,{size:20,className:h.autoRenew?"text-green-600":"text-gray-400"}),"Auto Renew Campaign"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 leading-relaxed",children:"Automatically renew this campaign using wallet credits when it expires."})]}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[s.jsx("button",{onClick:()=>te("autoRenew",!h.autoRenew),className:`w-14 h-8 flex items-center p-1 transition-colors duration-300 rounded-full ${h.autoRenew?"bg-green-500":"bg-gray-200"}`,disabled:J,children:s.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${h.autoRenew?"translate-x-6":"translate-x-0"}`})}),s.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${h.autoRenew?"text-green-600":"text-gray-400"}`,children:h.autoRenew?"Active":"Disabled"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ua,{label:"Cache Website",checked:h.cacheWebsite,onChange:W=>te("cacheWebsite",W)}),s.jsx(ua,{label:"Minimize CPU Load",checked:h.minimizeCpu,onChange:W=>te("minimizeCpu",W)}),s.jsx(ua,{label:"Randomize Session",checked:h.randomizeSession,onChange:W=>te("randomizeSession",W)}),s.jsx(ua,{label:"Anti-Fingerprint",checked:h.antiFingerprint,onChange:W=>te("antiFingerprint",W)})]}),s.jsx("div",{className:"h-px bg-gray-100 my-8"}),s.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-400 mb-6 flex items-center gap-2",children:[s.jsx(lg,{size:14,className:"text-yellow-500"})," Premium Expert Features"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`relative ${r.plan==="Economy"?"opacity-50":""}`,children:[s.jsx(ua,{label:"Residential IP Network",checked:h.residentialIps||!1,onChange:W=>r.plan!=="Economy"&&te("residentialIps",W)}),r.plan==="Economy"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/10 cursor-not-allowed pointer-events-auto",title:"Professional Tier Required"})]}),s.jsxs("div",{className:`relative ${r.plan==="Economy"?"opacity-50":""}`,children:[s.jsx(ua,{label:"Cities Geo-Targeting",checked:h.citiesGeoTargeting||!1,onChange:W=>r.plan!=="Economy"&&te("citiesGeoTargeting",W)}),r.plan==="Economy"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/10 cursor-not-allowed pointer-events-auto",title:"Professional Tier Required"})]}),s.jsxs("div",{className:`relative ${r.plan!=="Expert"?"opacity-50":""}`,children:[s.jsx(ua,{label:"Night & Day Volume",checked:h.nightDayVolume||!1,onChange:W=>r.plan==="Expert"&&te("nightDayVolume",W)}),r.plan!=="Expert"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/10 cursor-not-allowed pointer-events-auto",title:"Expert Tier Required"})]}),s.jsxs("div",{className:`relative ${r.plan!=="Expert"?"opacity-50":""}`,children:[s.jsx(ua,{label:"Automatic Website Crawler",checked:h.websiteCrawler||!1,onChange:W=>r.plan==="Expert"&&te("websiteCrawler",W)}),r.plan!=="Expert"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/10 cursor-not-allowed pointer-events-auto",title:"Expert Tier Required"})]}),s.jsxs("div",{className:`relative ${r.plan!=="Expert"?"opacity-50":""}`,children:[s.jsx(ua,{label:"GA4 Natural Events",checked:h.ga4NaturalEvents||!1,onChange:W=>r.plan==="Expert"&&te("ga4NaturalEvents",W)}),r.plan!=="Expert"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/10 cursor-not-allowed pointer-events-auto",title:"Expert Tier Required"})]}),s.jsxs("div",{className:`relative ${r.plan!=="Expert"?"opacity-50":""}`,children:[s.jsx(ua,{label:"Randomize Daily Volume",checked:h.randomizeDailyVolume||!1,onChange:W=>r.plan==="Expert"&&te("randomizeDailyVolume",W)}),r.plan!=="Expert"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/10 cursor-not-allowed pointer-events-auto",title:"Expert Tier Required"})]}),s.jsxs("div",{className:r.plan==="Economy"?"opacity-50 pointer-events-none":"",children:[s.jsx(It,{children:"Sitemap / RSS Feed"}),s.jsx("input",{value:h.sitemap||"",onChange:W=>te("sitemap",W.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"https://example.com/sitemap.xml"})]}),s.jsxs("div",{className:r.plan==="Economy"?"opacity-50 pointer-events-none":"",children:[s.jsx(It,{children:"URL Shortener"}),s.jsx(Rt,{value:h.shortener||"None",onChange:W=>te("shortener",W),options:[{value:"None",label:"None (Direct)"},{value:"bit.ly",label:"Bit.ly"},{value:"cutt.ly",label:"Cutt.ly"},{value:"t.co",label:"X/Twitter (t.co)"}]})]})]})]})]})]})},$y=()=>s.jsx("div",{className:"w-1 h-3 bg-[#ff4d00] mr-1"}),It=({children:n,required:e})=>s.jsxs("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:[n," ",e&&s.jsx("span",{className:"text-red-500",children:"*"})]}),hh=({label:n,value:e,onChange:t,suffix:r="",max:i=100})=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsx(It,{children:n}),s.jsxs("span",{className:"text-xs font-bold text-[#ff4d00]",children:[e,r]})]}),s.jsx("input",{type:"range",min:"0",max:i,value:e,onChange:l=>t(parseInt(l.target.value)),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"})]}),qy=({label:n,value:e,onChange:t,checked:r,onCheck:i,countLabel:l,placeholder:d,required:h})=>s.jsx("div",{className:"flex items-start gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r,onChange:f=>i(f.target.checked),className:"accent-[#ff4d00] w-4 h-4"}),s.jsx(It,{required:h,children:n})]}),l&&s.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:l})]}),s.jsx("textarea",{value:e,onChange:f=>t(f.target.value),rows:4,className:`w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium text-gray-900 transition-colors resize-y ${r?"":"opacity-50"}`,placeholder:d||"https://example.com/page",disabled:!r})]})}),ua=({label:n,checked:e,onChange:t})=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[s.jsx("span",{className:"text-sm font-bold text-gray-700",children:n}),s.jsx("button",{onClick:()=>t(!e),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${e?"bg-[#ff4d00]":"bg-gray-300"}`,children:s.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${e?"translate-x-5":"translate-x-0"}`})})]}),GO=[{id:1,label:"Identity",icon:nn},{id:2,label:"Audience",icon:fo},{id:3,label:"Behavior",icon:Wt},{id:4,label:"Volume",icon:rD},{id:5,label:"Run",icon:cr}],KO=({onBack:n,onCreated:e})=>{const[t,r]=_.useState(1),[i,l]=_.useState("expert"),[d,h]=_.useState(""),[f,p]=_.useState(""),[y,b]=_.useState(""),[v,C]=_.useState(!1),[S,I]=_.useState([]);_.useEffect(()=>{(async()=>{await K.syncTransactions(),I(K.getTransactions())})()},[]);const E=be=>{const He=S.filter(ke=>ke.type==="credit"&&ke.tier===be&&ke.hits).reduce((ke,Ae)=>ke+(Ae.hits||0),0),W=S.filter(ke=>ke.type==="debit"&&ke.tier===be&&ke.hits).reduce((ke,Ae)=>ke+(Ae.hits||0),0);return He-W},[D,M]=_.useState(!1),[L,Y]=_.useState([]);_.useEffect(()=>{const be=K.getSystemSettings();Y(be.payloadTemplates||[])},[]);const F=be=>{try{const He=JSON.parse(be);He.entryUrls&&p(He.entryUrls),He.gaId&&b(He.gaId),He.countries&&T(He.countries),He.deviceSplit&&k(He.deviceSplit),He.bounceRate!==void 0&&B(He.bounceRate),He.timeOnPage&&V(He.timeOnPage),He.trafficSource&&je(He.trafficSource),He.utmSource&&ft(He.utmSource),He.utmMedium&&yr(He.utmMedium),He.utmCampaign&&Ks(He.utmCampaign),M(!1),alert("Template applied! Please verify details.")}catch{alert("Failed to apply template.")}},[X,T]=_.useState(["US"]),[P,k]=_.useState(70),[z,B]=_.useState(0),[A,V]=_.useState("3 minutes"),[Q,je]=_.useState("Direct"),[H,J]=_.useState(1e3),[te,Ie]=_.useState(30),[me,$]=_.useState(0),[U,pe]=_.useState(0),[ae,ye]=_.useState(!1),[Ve,Ue]=_.useState(""),[St,ft]=_.useState(""),[qn,yr]=_.useState(""),[Nn,Ks]=_.useState("");_.useEffect(()=>{const be=te>0?te:1,He=Math.ceil(H/be);$(He);let W=.5;H>=5e7?W=.2:H>=1e7?W=.21:H>=1e6?W=.3:H>=5e5?W=.35:H>=1e5&&(W=.45);const ke=i==="expert"?1:i==="professional"?.65:.35,Ae=H/1e3*W*ke;pe(Math.max(Ae,1))},[H,te,i]);const Ws=()=>{if(Ue(""),t===1){if(!d)return Ue("Please verify project name.");if(!f)return Ue("Please verify target URL.")}if(t===2&&X.length===0)return Ue("Select at least one country.");if(t===3&&i==="economy"&&Q!=="Direct")return Ue("Economy tier only supports Direct traffic. Upgrade to Growth or Business for Organic/Social.");if(t===4){if(H<1e3)return Ue("Minimum 1,000 visitors required for this tier.");if(te<1)return Ue("Minimum 1 day duration.");const be=E(i);if(H>be)return Ue(`Insufficient ${i} hits. Required: ${H.toLocaleString()}, Available: ${be.toLocaleString()}`)}t<5?r(t+1):Br()},Aa=()=>{t>1?r(t-1):n()},Hn=async()=>{if(f){C(!0),Ue("");try{const be=await K.scanGA4(f);be?(b(be),alert(`Found Analytics ID: ${be}`)):Ue("No GA4 ID found on this page. Please enter manually.")}catch(be){console.error("GA Scan failed",be);const He=(be==null?void 0:be.message)||"Failed to scan for GA4. Please enter manually.";Ue(He)}finally{C(!1)}}},Br=async()=>{ye(!0),setTimeout(()=>{var ln;if(!K.spendCredits(U,`New Campaign: ${d} (${i.toUpperCase()})`)){ye(!1),Ue("Transaction failed. Please try again.");return}const He=Math.floor(Math.random()*9e3+1e3).toString(),W=new Date,ke=new Date(W.getTime()+te*24*60*60*1e3),Ae=X.map(Ys=>({id:`geo-${Ys}`,country:Ys,percent:Math.floor(100/X.length)})),$e={trafficSpeed:80,bounceRate:z,returnRate:0,deviceSplit:P,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:A,timezone:"UTC",language:"en-US",languages:["en-US"],gaId:y,urlVisitOrder:"random",entryUrls:f,innerUrls:"",exitUrls:"",autoCrawlEntry:!0,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:X,geoTargets:Ae,trafficSource:Q,keywords:"",referralUrls:"",utmSource:St,utmMedium:qn,utmCampaign:Nn,utmTerm:"",utmContent:"",proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0,residentialIps:i!=="economy",citiesGeoTargeting:i!=="economy",nightDayVolume:i==="expert",websiteCrawler:i==="expert",ga4NaturalEvents:i==="expert",randomizeDailyVolume:i==="expert"},on={id:He,userId:((ln=K.getCurrentUser())==null?void 0:ln.id)||"unknown",name:d,plan:i.charAt(0).toUpperCase()+i.slice(1),tier:i,customTarget:{totalVisitors:H,durationDays:te,dailyLimit:me},expires:ke.toISOString().split("T")[0],createdAt:new Date().toISOString(),status:"active",settings:$e};K.addProject(on),ye(!1),e(),n()},800)},Fr=[{code:"US",name:"United States"},{code:"GB",name:"United Kingdom"},{code:"CA",name:"Canada"},{code:"DE",name:"Germany"},{code:"FR",name:"France"},{code:"AU",name:"Australia"},{code:"BR",name:"Brazil"},{code:"IN",name:"India"},{code:"JP",name:"Japan"},{code:"CN",name:"China"}],Dt=be=>{X.includes(be)?X.length>1&&T(He=>He.filter(W=>W!==be)):X.length<5&&T(He=>[...He,be])};return s.jsxs("div",{className:"max-w-5xl mx-auto pb-20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-black transition-colors font-bold text-xs uppercase tracking-wider",children:[s.jsx(wn,{size:16})," Back to Projects"]}),s.jsx("div",{className:"flex items-center gap-2",children:GO.map(be=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`
                                w-8 h-8 rounded-full flex items-center justify-center text-xs font-black
                                ${t===be.id?"bg-[#ff4d00] text-white shadow-lg scale-110":t>be.id?"bg-black text-white":"bg-gray-100 text-gray-400"}
                                transition-all duration-300
                            `,children:t>be.id?s.jsx(cr,{size:14}):be.id}),be.id!==5&&s.jsx("div",{className:`w-8 h-1 mx-2 ${t>be.id?"bg-black":"bg-gray-100"}`})]},be.id))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[Ve&&s.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3 animate-in fade-in slide-in-from-top-2",children:[s.jsx(co,{className:"text-red-500",size:20}),s.jsx("span",{className:"text-red-700 text-sm font-bold",children:Ve})]}),t===1&&s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Project Configuration"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Basic details about your campaign target and quality."})]}),s.jsxs("button",{onClick:()=>M(!0),className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-gray-400 hover:text-[#ff4d00] transition-colors bg-gray-50 px-3 py-2 border border-gray-100",children:[s.jsx(dg,{size:14})," Load Template"]})]}),D&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white p-6 w-full max-w-md shadow-2xl border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",children:"Select Template"}),s.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-black",children:s.jsx(fr,{size:18})})]}),s.jsx("div",{className:"space-y-2 mb-6 max-h-[300px] overflow-y-auto pr-2",children:L.length===0?s.jsx("div",{className:"text-center py-8 text-gray-400 text-xs italic",children:"No templates saved yet. Create a project and save it as a template first."}):L.map(be=>s.jsxs("button",{onClick:()=>F(be.json),className:"w-full text-left p-4 bg-gray-50 hover:bg-orange-50 hover:border-orange-200 border border-transparent transition-all group",children:[s.jsx("div",{className:"font-bold text-gray-900 group-hover:text-[#ff4d00]",children:be.name}),s.jsx("div",{className:"text-[10px] text-gray-400 mt-1 uppercase",children:"Apply configuration"})]},be.id))}),s.jsx("button",{onClick:()=>M(!1),className:"w-full py-4 text-xs font-black uppercase bg-black text-white hover:bg-gray-800 transition-colors",children:"Close"})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block",children:"Select Traffic Quality"}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:["economy","professional","expert"].map(be=>s.jsxs("button",{onClick:()=>l(be),className:`p-4 border-2 transition-all flex flex-col gap-1 text-left rounded-lg
                                                ${i===be?"border-[#ff4d00] bg-orange-50 shadow-md":"border-gray-100 bg-white hover:border-gray-200"}
                                            `,children:[s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00]",children:be==="expert"?" Premium":be==="professional"?"Standard":"Value"}),s.jsx("span",{className:"font-bold text-gray-900 capitalize",children:be}),s.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:be==="expert"?"1.0x Price":be==="professional"?"0.65x Price":"0.35x Price"})]},be))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Project Name"}),s.jsx("input",{type:"text",value:d,onChange:be=>h(be.target.value),placeholder:"e.g. Q4 Marketing Push",className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-lg font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-0 outline-none transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Target URL"}),s.jsxs("div",{className:"relative",children:[s.jsx(nn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"url",value:f,onChange:be=>p(be.target.value),onBlur:()=>{f&&!y&&Hn()},placeholder:"https://example.com",className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-lg font-medium font-mono text-gray-700 focus:border-[#ff4d00] outline-none"})]})]}),s.jsxs("div",{className:"p-6 bg-gray-50 border border-gray-100 rounded-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Tracking (Optional)"}),s.jsx("button",{onClick:Hn,disabled:!f||v,className:"text-[10px] font-bold uppercase tracking-wider text-[#ff4d00] hover:underline disabled:opacity-50",children:v?"Scanning...":"Auto-Detect GA4"})]}),s.jsx("input",{type:"text",value:y,onChange:be=>b(be.target.value),placeholder:"G-XXXXXXXXXX",className:"w-full bg-white border border-gray-200 p-3 text-sm font-mono text-gray-700 outline-none focus:border-[#ff4d00] mb-4"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("input",{type:"text",placeholder:"utm_source",value:St,onChange:be=>ft(be.target.value),className:"bg-white p-2 text-xs border border-gray-200 outline-none focus:border-[#ff4d00]"}),s.jsx("input",{type:"text",placeholder:"utm_medium",value:qn,onChange:be=>yr(be.target.value),className:"bg-white p-2 text-xs border border-gray-200 outline-none focus:border-[#ff4d00]"}),s.jsx("input",{type:"text",placeholder:"utm_campaign",value:Nn,onChange:be=>Ks(be.target.value),className:"bg-white p-2 text-xs border border-gray-200 outline-none focus:border-[#ff4d00]"})]})]})]}),t===2&&s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Audience Targeting"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Where should your visitors come from?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Geographic Location (Max 5)"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Fr.map(be=>s.jsxs("button",{onClick:()=>Dt(be.code),className:`p-3 text-left border text-sm font-bold flex justify-between items-center transition-all ${X.includes(be.code)?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("img",{src:`https://flagcdn.com/w20/${be.code.toLowerCase()}.png`,alt:be.code,className:"w-5 h-auto rounded-sm"}),be.name]}),X.includes(be.code)&&s.jsx(cr,{size:14})]},be.code))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-4",children:"Device Distribution"}),s.jsxs("div",{className:"bg-gray-100 h-4 rounded-full overflow-hidden flex mb-4",children:[s.jsx("div",{className:"bg-gray-900 h-full transition-all duration-500",style:{width:`${P}%`}}),s.jsx("div",{className:"bg-[#ff4d00] h-full transition-all duration-500",style:{width:`${100-P}%`}})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-900 rounded-full"}),s.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["Desktop (",P,"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-bold text-[#ff4d00]",children:["Mobile (",100-P,"%)"]}),s.jsx("div",{className:"w-3 h-3 bg-[#ff4d00] rounded-full"})]})]}),s.jsx("input",{type:"range",min:"0",max:"100",value:P,onChange:be=>k(Number(be.target.value)),className:"w-full mt-4 accent-black"})]})]}),t===3&&s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"User Behavior"}),s.jsx("p",{className:"text-sm text-gray-500",children:"How should visitors interact with your site?"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Bounce Rate Control"}),s.jsxs("div",{className:"bg-gray-50 p-6 border border-gray-200 text-center relative overflow-hidden",children:[i==="economy"&&s.jsx("div",{className:"absolute top-0 right-0 p-1 bg-yellow-100 text-yellow-700 text-[8px] font-black uppercase tracking-tighter",children:"Economy: Basic"}),s.jsxs("div",{className:"text-4xl font-black text-gray-900 mb-2",children:[z,"%"]}),s.jsx("p",{className:"text-xs text-gray-500 font-medium mb-4",children:"Visitors leaving immediately"}),s.jsx("input",{type:"range",min:"0",max:"100",value:z,onChange:be=>B(Number(be.target.value)),className:"w-full accent-[#ff4d00]"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Time on Page"}),s.jsx(Rt,{value:A,onChange:V,options:[{value:"30 seconds",label:"30 Seconds (Pulse)"},{value:"1 minute",label:"1 Minute (Standard)"},{value:"3 minutes",label:"3 Minutes (Engaged)"},{value:"5 minutes",label:"5 Minutes (Deep Read)"}]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Traffic Source Simulation"}),i==="economy"?s.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-100 text-xs font-bold text-orange-700 flex items-center justify-between",children:[s.jsx("span",{children:"DIRECT TRAFFIC ONLY (Economy)"}),s.jsxs("div",{className:"flex items-center gap-1 text-[8px] bg-white px-2 py-0.5 rounded border border-orange-200",children:[s.jsx(Wt,{size:8})," TIER LOCKED"]})]}):s.jsx(Rt,{value:Q,onChange:je,options:[{value:"Direct",label:"Direct (Type-in)"},{value:"Google Search",label:"Organic Search (Google)"},{value:"Social Media",label:"Social Media (FB/Twitter)"},{value:"Referral",label:"Referral Link"}]}),i==="economy"&&s.jsx("div",{className:"mt-2 text-[10px] text-gray-400 italic",children:"Upgrade to Growth or Business for Organic & Social sources."})]})]})]})]}),t===4&&s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Volume & Budget"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Define the scale of your campaign."})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:`p-4 border-2 transition-all ${i==="economy"?"border-[#ff4d00] bg-orange-50":"border-gray-100 bg-gray-50 opacity-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Na,{size:14,className:i==="economy"?"text-[#ff4d00]":"text-gray-400"}),s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Economy Balance"})]}),s.jsx("div",{className:`text-xl font-black ${i==="economy"?"text-gray-900":"text-gray-400"}`,children:E("economy").toLocaleString()}),s.jsx("div",{className:"text-[10px] text-gray-400 uppercase",children:"hits available"})]}),s.jsxs("div",{className:`p-4 border-2 transition-all ${i==="professional"?"border-orange-400 bg-orange-50":"border-gray-100 bg-gray-50 opacity-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zh,{size:14,className:i==="professional"?"text-orange-500":"text-gray-400"}),s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Professional Balance"})]}),s.jsx("div",{className:`text-xl font-black ${i==="professional"?"text-gray-900":"text-gray-400"}`,children:E("professional").toLocaleString()}),s.jsx("div",{className:"text-[10px] text-gray-400 uppercase",children:"hits available"})]}),s.jsxs("div",{className:`p-4 border-2 transition-all ${i==="expert"?"border-[#ff4d00] bg-[#ff4d00]/5":"border-gray-100 bg-gray-50 opacity-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Wt,{size:14,className:i==="expert"?"text-[#ff4d00]":"text-gray-400"}),s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Expert Balance"})]}),s.jsx("div",{className:`text-xl font-black ${i==="expert"?"text-[#ff4d00]":"text-gray-400"}`,children:E("expert").toLocaleString()}),s.jsx("div",{className:"text-[10px] text-gray-400 uppercase",children:"hits available"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Total Visitors Goal"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",min:"100",step:"100",value:H,onChange:be=>J(parseInt(be.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-2xl font-black text-gray-900 focus:border-[#ff4d00] outline-none"}),s.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-bold text-gray-400 uppercase",children:"Hits"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Duration (Days)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",min:"1",max:"365",value:te,onChange:be=>Ie(parseInt(be.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-2xl font-black text-gray-900 focus:border-[#ff4d00] outline-none"}),s.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-bold text-gray-400 uppercase",children:"Days"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 flex flex-col md:flex-row justify-between items-center gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 flex items-center gap-1",children:[s.jsx(Wt,{size:10})," Daily Volume"]}),s.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[me.toLocaleString()," ",s.jsx("span",{className:"text-sm font-medium text-gray-400",children:"/ day"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Estimated Cost"}),s.jsxs("div",{className:"text-3xl font-black text-[#ff4d00]",children:["",U.toFixed(2)]})]})]})]}),t===5&&s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Review Campaign"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Confirm details before launching."})]}),s.jsxs("div",{className:`p-4 border-2 ${E(i)>=H?"border-green-300 bg-green-50":"border-red-300 bg-red-50"}`,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:[i.charAt(0).toUpperCase()+i.slice(1)," Balance Check"]}),s.jsxs("div",{className:"text-lg font-black text-gray-900",children:[E(i).toLocaleString()," available"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-gray-500 font-bold",children:"Required"}),s.jsx("div",{className:`text-xl font-black ${E(i)>=H?"text-green-600":"text-red-600"}`,children:H.toLocaleString()})]})]}),E(i)<H&&s.jsxs("div",{className:"mt-3 text-xs font-bold text-red-600",children:["Insufficient hits! Please purchase more ",i," hits or reduce your volume."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Wi,{label:"Project Name",value:d}),s.jsx(Wi,{label:"Target URL",value:f,isUrl:!0}),s.jsx("div",{className:"h-px bg-gray-100 my-4"}),s.jsx(Wi,{label:"Geo Targets",value:X.join(", ")}),s.jsx(Wi,{label:"Device Split",value:`Desktop: ${P}%, Mobile: ${100-P}%`}),s.jsx("div",{className:"h-px bg-gray-100 my-4"}),s.jsx(Wi,{label:"Total Volume",value:`${H.toLocaleString()} Visitors`}),s.jsx(Wi,{label:"Duration",value:`${te} Days`}),s.jsx(Wi,{label:"Daily Pace",value:`~${me.toLocaleString()} / day`}),s.jsx(Wi,{label:"Total Cost",value:`${U.toFixed(2)}`,highlight:!0})]}),s.jsxs("div",{className:"mt-8 bg-blue-50 p-4 flex items-start gap-3 border border-blue-100",children:[s.jsx(co,{className:"text-blue-500 flex-shrink-0",size:18}),s.jsx("p",{className:"text-xs text-blue-700 font-medium leading-relaxed",children:"Your campaign will start automatically within 5 minutes of launch. You can pause or edit settings at any time from the dashboard."})]})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx("button",{onClick:Aa,className:"px-8 py-4 text-xs font-bold uppercase tracking-wider text-gray-500 hover:text-black transition-colors",children:t===1?"Cancel":"Previous Step"}),s.jsxs("button",{onClick:Ws,disabled:ae,className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 duration-200",children:[ae?"Processing...":t===5?"Launch Campaign":"Next Step",!ae&&t<5&&s.jsx(wn,{className:"rotate-180",size:16})]})]})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsxs("div",{className:"sticky top-8 bg-gray-50 border border-gray-200 p-6 space-y-6",children:[s.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-400 mb-4",children:"Campaign Summary"}),s.jsx(Ep,{label:"Target",value:f||"Not set",isLink:!!f}),s.jsx(Ep,{label:"Locations",value:X.length>0?`${X.length} Countries`:"Global"}),s.jsx(Ep,{label:"Volume",value:H>0?H.toLocaleString():"-"}),s.jsx(Ep,{label:"Duration",value:`${te} Days`}),s.jsxs("div",{className:"pt-6 border-t border-gray-200 mt-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Estimated Cost"}),s.jsxs("span",{className:"text-xl font-black text-gray-900",children:["",U.toFixed(2)]})]}),s.jsx("div",{className:"text-[10px] text-gray-400 font-medium",children:"* Final price logic applied"})]})]})})]})]})},Ep=({label:n,value:e,isLink:t=!1})=>s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:n}),t?s.jsx("span",{className:"text-xs font-bold text-gray-900 truncate max-w-[120px] block",title:e,children:e}):s.jsx("span",{className:"text-xs font-bold text-gray-900",children:e})]}),Wi=({label:n,value:e,isUrl:t=!1,highlight:r=!1})=>s.jsxs("div",{className:`flex justify-between items-center p-3 ${r?"bg-orange-50 border border-orange-100":"border-b border-gray-50 last:border-0"}`,children:[s.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:n}),t?s.jsxs("a",{href:e,target:"_blank",rel:"noreferrer",className:"flex items-center gap-1 text-sm font-bold text-[#ff4d00] hover:underline",children:[e," ",s.jsx(Ef,{size:12})]}):s.jsx("span",{className:`text-sm font-bold ${r?"text-[#ff4d00] text-lg":"text-gray-900"}`,children:e})]});function $p(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$p=function(e){return typeof e}:$p=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(n)}var HE="clover",WO=function(e){return e===3?"v3":e},GE="https://js.stripe.com",YO="".concat(GE,"/").concat(HE,"/stripe.js"),QO=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,JO=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var XO=function(e){return QO.test(e)||JO.test(e)},ZO=function(){for(var e=document.querySelectorAll('script[src^="'.concat(GE,'"]')),t=0;t<e.length;t++){var r=e[t];if(XO(r.src))return r}return null},C2=function(e){var t="",r=document.createElement("script");r.src="".concat(YO).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},eM=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.7.0",startTime:t})},fh=null,kp=null,Ap=null,tM=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},sM=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},nM=function(e){return fh!==null?fh:(fh=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=ZO();if(!(i&&e)){if(!i)i=C2(e);else if(i&&Ap!==null&&kp!==null){var l;i.removeEventListener("load",Ap),i.removeEventListener("error",kp),(l=i.parentNode)===null||l===void 0||l.removeChild(i),i=C2(e)}}Ap=sM(t,r),kp=tM(r),i.addEventListener("load",Ap),i.addEventListener("error",kp)}catch(d){r(d);return}}),fh.catch(function(t){return fh=null,Promise.reject(t)}))},rM=function(e,t,r){if(e===null)return null;var i=t[0];if(typeof i!="string")throw new Error("Expected publishable key to be of type string, got type ".concat($p(i)," instead."));var l=i.match(/^pk_test/),d=WO(e.version),h=HE;l&&d!==h&&console.warn("Stripe.js@".concat(d," was loaded on the page, but @stripe/stripe-js@").concat("8.7.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var f=e.apply(void 0,t);return eM(f,r),f},mh,KE=!1,WE=function(){return mh||(mh=nM(null).catch(function(e){return mh=null,Promise.reject(e)}),mh)};Promise.resolve().then(function(){return WE()}).catch(function(n){KE||console.warn(n)});var aM=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];KE=!0;var i=Date.now();return WE().then(function(l){return rM(l,t,i)})},Hy={exports:{}},Gy,I2;function iM(){if(I2)return Gy;I2=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gy=n,Gy}var Ky,R2;function oM(){if(R2)return Ky;R2=1;var n=iM();function e(){}function t(){}return t.resetWarningCache=e,Ky=function(){function r(d,h,f,p,y,b){if(b!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Ky}var P2;function lM(){return P2||(P2=1,Hy.exports=oM()()),Hy.exports}var cM=lM();const Tt=Hd(cM);function D2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function O2(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(t),!0).forEach(function(r){YE(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D2(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qp(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qp=function(e){return typeof e}:qp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(n)}function YE(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dM(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,l;for(l=0;l<r.length;l++)i=r[l],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function uM(n,e){if(n==null)return{};var t=dM(n,e),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)r=l[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function QE(n,e){return hM(n)||fM(n,e)||mM(n,e)||pM()}function hM(n){if(Array.isArray(n))return n}function fM(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,l=!1,d,h;try{for(t=t.call(n);!(i=(d=t.next()).done)&&(r.push(d.value),!(e&&r.length===e));i=!0);}catch(f){l=!0,h=f}finally{try{!i&&t.return!=null&&t.return()}finally{if(l)throw h}}return r}}function mM(n,e){if(n){if(typeof n=="string")return M2(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M2(n,e)}}function M2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function pM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Xs=function(e,t,r){var i=!!r,l=Fe.useRef(r);Fe.useEffect(function(){l.current=r},[r]),Fe.useEffect(function(){if(!i||!e)return function(){};var d=function(){l.current&&l.current.apply(l,arguments)};return e.on(t,d),function(){e.off(t,d)}},[i,t,e,l])},Ab=function(e){var t=Fe.useRef(e);return Fe.useEffect(function(){t.current=e},[e]),t.current},wd=function(e){return e!==null&&qp(e)==="object"},gM=function(e){return wd(e)&&typeof e.then=="function"},xM=function(e){return wd(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},V2="[object Object]",yM=function n(e,t){if(!wd(e)||!wd(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var l=Object.prototype.toString.call(e)===V2,d=Object.prototype.toString.call(t)===V2;if(l!==d)return!1;if(!l&&!r)return e===t;var h=Object.keys(e),f=Object.keys(t);if(h.length!==f.length)return!1;for(var p={},y=0;y<h.length;y+=1)p[h[y]]=!0;for(var b=0;b<f.length;b+=1)p[f[b]]=!0;var v=Object.keys(p);if(v.length!==h.length)return!1;var C=e,S=t,I=function(D){return n(C[D],S[D])};return v.every(I)},JE=function(e,t,r){return wd(e)?Object.keys(e).reduce(function(i,l){var d=!wd(t)||!yM(e[l],t[l]);return r.includes(l)?(d&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),i):d?O2(O2({},i||{}),{},YE({},l,e[l])):i},null):null},XE="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",L2=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:XE;if(e===null||xM(e))return e;throw new Error(t)},bM=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:XE;if(gM(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return L2(i,t)})};var r=L2(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},vM=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"5.6.0"}),e.registerAppInfo({name:"react-stripe-js",version:"5.6.0",url:"https://stripe.com/docs/stripe-js/react"}))},qg=Fe.createContext(null);qg.displayName="ElementsContext";var ZE=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},ek=function(e){var t=e.stripe,r=e.options,i=e.children,l=Fe.useMemo(function(){return bM(t)},[t]),d=Fe.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(r):null}}),h=QE(d,2),f=h[0],p=h[1];Fe.useEffect(function(){var v=!0,C=function(I){p(function(E){return E.stripe?E:{stripe:I,elements:I.elements(r)}})};return l.tag==="async"&&!f.stripe?l.stripePromise.then(function(S){S&&v&&C(S)}):l.tag==="sync"&&!f.stripe&&C(l.stripe),function(){v=!1}},[l,f,r]);var y=Ab(t);Fe.useEffect(function(){y!==null&&y!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[y,t]);var b=Ab(r);return Fe.useEffect(function(){if(f.elements){var v=JE(r,b,["clientSecret","fonts"]);v&&f.elements.update(v)}},[r,b,f.elements]),Fe.useEffect(function(){vM(f.stripe)},[f.stripe]),Fe.createElement(qg.Provider,{value:f},i)};ek.propTypes={stripe:Tt.any,options:Tt.object};var wM=function(e){var t=Fe.useContext(qg);return ZE(t,e)},jM=function(){var e=wM("calls useElements()"),t=e.elements;return t};Tt.func.isRequired;var tk=Fe.createContext(null);tk.displayName="CheckoutContext";Tt.any,Tt.shape({clientSecret:Tt.oneOfType([Tt.string,Tt.instanceOf(Promise)]).isRequired,elementsOptions:Tt.object}).isRequired;var Cb=function(e){var t=Fe.useContext(tk),r=Fe.useContext(qg);if(t){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}else return ZE(r,e)},_M=["mode"],NM=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},jn=function(e,t){var r="".concat(NM(e),"Element"),i=function(f){var p=f.id,y=f.className,b=f.options,v=b===void 0?{}:b,C=f.onBlur,S=f.onFocus,I=f.onReady,E=f.onChange,D=f.onEscape,M=f.onClick,L=f.onLoadError,Y=f.onLoaderStart,F=f.onNetworksChange,X=f.onConfirm,T=f.onCancel,P=f.onShippingAddressChange,k=f.onShippingRateChange,z=f.onSavedPaymentMethodRemove,B=f.onSavedPaymentMethodUpdate,A=Cb("mounts <".concat(r,">")),V="elements"in A?A.elements:null,Q="checkoutState"in A?A.checkoutState:null,je=(Q==null?void 0:Q.type)==="success"||(Q==null?void 0:Q.type)==="loading"?Q.sdk:null,H=Fe.useState(null),J=QE(H,2),te=J[0],Ie=J[1],me=Fe.useRef(null),$=Fe.useRef(null);Xs(te,"blur",C),Xs(te,"focus",S),Xs(te,"escape",D),Xs(te,"click",M),Xs(te,"loaderror",L),Xs(te,"loaderstart",Y),Xs(te,"networkschange",F),Xs(te,"confirm",X),Xs(te,"cancel",T),Xs(te,"shippingaddresschange",P),Xs(te,"shippingratechange",k),Xs(te,"savedpaymentmethodremove",z),Xs(te,"savedpaymentmethodupdate",B),Xs(te,"change",E);var U;I&&(e==="expressCheckout"?U=I:U=function(){I(te)}),Xs(te,"ready",U),Fe.useLayoutEffect(function(){if(me.current===null&&$.current!==null&&(V||je)){var ae=null;if(je)switch(e){case"paymentForm":ae=je.createPaymentFormElement(v);break;case"payment":ae=je.createPaymentElement(v);break;case"address":if("mode"in v){var ye=v.mode,Ve=uM(v,_M);if(ye==="shipping")ae=je.createShippingAddressElement(Ve);else if(ye==="billing")ae=je.createBillingAddressElement(Ve);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ae=je.createExpressCheckoutElement(v);break;case"currencySelector":ae=je.createCurrencySelectorElement();break;case"taxId":ae=je.createTaxIdElement(v);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else V&&(ae=V.create(e,v));me.current=ae,Ie(ae),ae&&ae.mount($.current)}},[V,je,v]);var pe=Ab(v);return Fe.useEffect(function(){if(me.current){var ae=JE(v,pe,["paymentRequest"]);ae&&"update"in me.current&&me.current.update(ae)}},[v,pe]),Fe.useLayoutEffect(function(){return function(){if(me.current&&typeof me.current.destroy=="function")try{me.current.destroy(),me.current=null}catch{}}},[]),Fe.createElement("div",{id:p,className:y,ref:$})},l=function(f){Cb("mounts <".concat(r,">"));var p=f.id,y=f.className;return Fe.createElement("div",{id:p,className:y})},d=t?l:i;return d.propTypes={id:Tt.string,className:Tt.string,onChange:Tt.func,onBlur:Tt.func,onFocus:Tt.func,onReady:Tt.func,onEscape:Tt.func,onClick:Tt.func,onLoadError:Tt.func,onLoaderStart:Tt.func,onNetworksChange:Tt.func,onConfirm:Tt.func,onCancel:Tt.func,onShippingAddressChange:Tt.func,onShippingRateChange:Tt.func,onSavedPaymentMethodRemove:Tt.func,onSavedPaymentMethodUpdate:Tt.func,options:Tt.object},d.displayName=r,d.__elementType=e,d},_n=typeof window>"u",TM=Fe.createContext(null);TM.displayName="EmbeddedCheckoutProviderContext";var SM=function(){var e=Cb("calls useStripe()"),t=e.stripe;return t};jn("auBankAccount",_n);jn("card",_n);jn("cardNumber",_n);jn("cardExpiry",_n);jn("cardCvc",_n);jn("iban",_n);var EM=jn("payment",_n);jn("expressCheckout",_n);jn("paymentRequestButton",_n);jn("linkAuthentication",_n);jn("address",_n);jn("shippingAddress",_n);jn("paymentMethodMessaging",_n);jn("taxId",_n);const kM=aM("pk_test_51ST5n8JLE5bW6f8EIM08iRjnjfGIHo84FmVCqEoHAFQ4KFa2dVBAH4BPuLoZhvQaBWJ2Ody3F0YgYyAl0OdJEsbr00mnzqV12v"),z2=[{id:"economy",name:"Economy",factor:.35,quality:"10% Quality",features:["Residential IPs","Direct Traffic Only","Standard Proxy Pool","No Geo Targeting"],color:"border-gray-200"},{id:"professional",name:"Professional",factor:.65,quality:"50% Quality",popular:!0,features:["Residential Geo IPs","Country Geo Targeting","RSS and Sitemap Support","URL Shorteners"],color:"border-orange-300"},{id:"expert",name:"Expert",factor:1,quality:"100% Quality",features:["State & City Targeting","Night & Day Volume","Automatic Website Crawler","GA4 Natural Events"],color:"border-[#ff4d00]"}],U2={USD:{name:"Easytrafficbot Ug",accountNumber:"8314422210",accountType:"Checking",routingNumber:"026073150",swift:"TRWIBEB1XXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from USA (Wire & ACH)"},EUR:{name:"Easytrafficbot Ug",iban:"BE86 9679 9171 7050",swift:"TRWIBEB1XXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for SEPA transfers within Europe"},GBP:{name:"Easytrafficbot Ug",accountNumber:"46701141",sortCode:"23-08-01",iban:"GB79 TRWI 2308 0146 7011 41",swift:"TRWIGB2LXXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from UK"},AUD:{name:"Easytrafficbot Ug",accountNumber:"218673731",bsb:"774-001",swift:"TRWIAUS1XXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from Australia"},RON:{name:"Easytrafficbot Ug",iban:"RO60 BREL 0005 6028 6239 0100",bankName:"Wise / BREL",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from Romania"}},B2=[6e4,5e5,1e6,1e7,5e7],AM=[1,6,24],CM={economy:{6e4:{1:9.96,6:47.81,24:143.42},5e5:{1:57.96,6:278.21,24:834.62},1e6:{1:99.96,6:479.81,24:1439.42},1e7:{1:699.96,6:3359.81,24:10079.42},5e7:{1:2799.96,6:13439.81,24:40319.42}},professional:{6e4:{1:19.96,6:95.81,24:287.42},5e5:{1:115.92,6:556.42,24:1669.25},1e6:{1:199.96,6:959.81,24:2879.42},1e7:{1:1399.96,6:6719.81,24:20159.42},5e7:{1:5599.96,6:26879.81,24:80639.42}},expert:{6e4:{1:29.96,6:143.81,24:431.42},5e5:{1:173.96,6:835.01,24:2505.02},1e6:{1:299.96,6:1439.81,24:4319.42},1e7:{1:2099.96,6:10079.81,24:30239.42},5e7:{1:8399.96,6:40319.81,24:120959.42}}},IM=({amount:n,onSuccess:e,onError:t})=>{const r=SM(),i=jM(),[l,d]=_.useState(null),[h,f]=_.useState(!1),p=async y=>{if(y.preventDefault(),!r||!i)return;f(!0);const{error:b,paymentIntent:v}=await r.confirmPayment({elements:i,confirmParams:{return_url:window.location.href},redirect:"if_required"});b?(d(b.message||"An unexpected error occurred."),t(b.message||"Payment failed"),f(!1)):v&&v.status==="succeeded"?(d("Payment successful!"),e(v.id)):(d("Unexpected state."),f(!1))};return s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsx(EM,{}),l&&s.jsx("div",{className:"text-red-500 text-sm font-bold bg-red-50 p-3 rounded",children:l}),s.jsxs("button",{disabled:h||!r||!i,className:"w-full bg-[#ff4d00] text-white py-4 text-sm font-black uppercase tracking-widest hover:bg-black transition-colors disabled:opacity-50 mt-4 flex items-center justify-center gap-2",children:[h?s.jsx(uo,{className:"animate-spin",size:16}):s.jsx(Mn,{size:16}),h?"Processing...":`Pay ${n.toFixed(2)}`]})]})},RM=({onBack:n,onPurchase:e})=>{const[t,r]=_.useState(1),[i,l]=_.useState(z2[1]),[d,h]=_.useState(1),[f,p]=_.useState(1),[y,b]=_.useState(0),[v,C]=_.useState(!1),[S,I]=_.useState("card"),[E,D]=_.useState(""),[M,L]=_.useState("USD"),[Y,F]=_.useState(null),[X,T]=_.useState(!1),[P,k]=_.useState(!1),[z,B]=_.useState(null),[A,V]=_.useState("");_.useEffect(()=>{var ae;if(b(K.getBalance()),S==="bank"&&t===2&&!A){const ye=K.getCurrentUser(),Ve=((ae=ye==null?void 0:ye.id)==null?void 0:ae.substring(0,8).toUpperCase())||"XXXXX",Ue=Date.now().toString(36).toUpperCase();V(`TGP-${Ve}-${Ue}`)}},[S,t]),_.useEffect(()=>{b(K.getBalance())},[]);const Q=B2[d],je=CM[i.id][Q][f],H=Q*f,J=je/(H/1e3),te=async()=>{if(S==="card"){C(!0);try{const ae=Math.round(je*100),ye=await K.createPaymentIntent(ae,"eur");ye.clientSecret?(D(ye.clientSecret),r(2)):alert("Failed to initialize payment gateway.")}catch(ae){alert("Payment Error: "+ae.message)}finally{C(!1)}}else r(2)},Ie=async ae=>{C(!0),await K.purchaseCredits(je,`Traffic Credits (${H.toLocaleString()} ${i.name}) - Stripe ${ae}`,i.id,H),b(K.getBalance()),C(!1),e&&e(),alert("Payment Successful! Credits added."),n()},me=(ae,ye)=>{navigator.clipboard.writeText(ae),B(ye),setTimeout(()=>B(null),2e3)},$=ae=>{ae.target.files&&ae.target.files[0]&&F(ae.target.files[0])},U=async()=>{if(!Y){alert("Please select a file to upload.");return}T(!0);try{const ae=new FormData;ae.append("file",Y),ae.append("amount",je.toString()),ae.append("tier",i.id),ae.append("hits",H.toString()),ae.append("currency",M),ae.append("notes",`Bank transfer for ${H.toLocaleString()} ${i.name} visitors - Ref: ${A}`);const ye=localStorage.getItem("tgp_token");if(!(await fetch("http://127.0.0.1:8001/bank-transfer/proof",{method:"POST",headers:{Authorization:`Bearer ${ye}`},body:ae})).ok)throw new Error("Upload failed");k(!0)}catch(ae){alert("Upload failed: "+ae.message)}finally{T(!1)}},pe=ae=>{const ye=U2[ae];return s.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-500",children:"Account Holder:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold",children:ye.name}),s.jsx("button",{onClick:()=>me(ye.name,"name"),className:"text-gray-400 hover:text-[#ff4d00]",children:z==="name"?s.jsx(Lt,{size:14,className:"text-green-500"}):s.jsx(Fs,{size:14})})]})]}),ye.iban&&s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-500",children:"IBAN:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold",children:ye.iban}),s.jsx("button",{onClick:()=>me(ye.iban,"iban"),className:"text-gray-400 hover:text-[#ff4d00]",children:z==="iban"?s.jsx(Lt,{size:14,className:"text-green-500"}):s.jsx(Fs,{size:14})})]})]}),ye.accountNumber&&s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-500",children:"Account Number:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold",children:ye.accountNumber}),s.jsx("button",{onClick:()=>me(ye.accountNumber,"account"),className:"text-gray-400 hover:text-[#ff4d00]",children:z==="account"?s.jsx(Lt,{size:14,className:"text-green-500"}):s.jsx(Fs,{size:14})})]})]}),ye.routingNumber&&s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-500",children:"Routing Number:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold",children:ye.routingNumber}),s.jsx("button",{onClick:()=>me(ye.routingNumber,"routing"),className:"text-gray-400 hover:text-[#ff4d00]",children:z==="routing"?s.jsx(Lt,{size:14,className:"text-green-500"}):s.jsx(Fs,{size:14})})]})]}),ye.sortCode&&s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-500",children:"Sort-Code:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold",children:ye.sortCode}),s.jsx("button",{onClick:()=>me(ye.sortCode,"sortcode"),className:"text-gray-400 hover:text-[#ff4d00]",children:z==="sortcode"?s.jsx(Lt,{size:14,className:"text-green-500"}):s.jsx(Fs,{size:14})})]})]}),ye.bsb&&s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-500",children:"BSB-Code:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold",children:ye.bsb}),s.jsx("button",{onClick:()=>me(ye.bsb,"bsb"),className:"text-gray-400 hover:text-[#ff4d00]",children:z==="bsb"?s.jsx(Lt,{size:14,className:"text-green-500"}):s.jsx(Fs,{size:14})})]})]}),ye.swift&&s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-500",children:"SWIFT/BIC:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold",children:ye.swift}),s.jsx("button",{onClick:()=>me(ye.swift,"swift"),className:"text-gray-400 hover:text-[#ff4d00]",children:z==="swift"?s.jsx(Lt,{size:14,className:"text-green-500"}):s.jsx(Fs,{size:14})})]})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-500",children:"Bank Name:"}),s.jsx("span",{className:"font-bold",children:ye.bankName})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-500",children:"Reference:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold text-[#ff4d00]",children:A}),s.jsx("button",{onClick:()=>me(A,"ref"),className:"text-gray-400 hover:text-[#ff4d00]",children:z==="ref"?s.jsx(Lt,{size:14,className:"text-green-500"}):s.jsx(Fs,{size:14})})]})]}),s.jsx("div",{className:"mt-3 p-2 bg-gray-50 border border-gray-200 rounded",children:s.jsx("p",{className:"text-xs text-gray-500",children:ye.note})})]})};return v&&t===1?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[500px] text-center",children:[s.jsx(uo,{className:"w-16 h-16 text-[#ff4d00] animate-spin mb-6"}),s.jsx("h3",{className:"text-2xl font-black uppercase text-gray-900 mb-2",children:"Connecting Secure Gateway"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"Please wait..."})]}):s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-gray-200 pb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Exchange & Funding"}),s.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Purchase Traffic Credits"})]}),s.jsxs("div",{className:"bg-[#111] text-white px-6 py-4 flex items-center gap-6 shadow-xl border-l-4 border-[#ff4d00]",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Active Balance"}),s.jsxs("div",{className:"text-2xl font-black text-white",children:["",y.toFixed(2)]})]}),s.jsx(A2,{className:"text-[#ff4d00]",size:32})]})]}),t===1?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:z2.map(ae=>s.jsxs("button",{onClick:()=>l(ae),className:`relative p-8 border-2 transition-all duration-300 text-left flex flex-col min-h-[280px] ${i.id===ae.id?`${ae.color} bg-white shadow-xl translate-y-[-4px]`:"border-transparent bg-gray-50 opacity-60 hover:opacity-100"}`,children:[ae.popular&&s.jsx("div",{className:"absolute top-0 right-0 bg-[#ff4d00] text-white text-[9px] font-black uppercase px-3 py-1.5",children:"Recommended"}),s.jsxs("div",{className:"flex items-center gap-3 mb-6 text-gray-400",children:[s.jsx(Na,{size:20}),s.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:ae.quality})]}),s.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter mb-2",children:ae.name}),s.jsxs("div",{className:"text-sm font-bold text-[#ff4d00] mb-8",children:["",ae.factor.toFixed(2)," Price Factor"]}),s.jsx("ul",{className:"space-y-3 mt-auto",children:ae.features.slice(0,3).map((ye,Ve)=>s.jsxs("li",{className:"text-xs font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(cr,{size:12,className:"text-[#ff4d00]"})," ",ye]},Ve))})]},ae.id))}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-12",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[s.jsx(BE,{size:14,className:"text-[#ff4d00]"})," Volume Configurator"]}),s.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1",children:"Select your traffic volume"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-black text-gray-900",children:Q.toLocaleString()}),s.jsx("div",{className:"text-[10px] font-black text-[#ff4d00] uppercase tracking-widest",children:"Hits Per Credit"})]})]}),s.jsxs("div",{className:"relative mb-16 px-4",children:[s.jsx("input",{type:"range",min:"0",max:"4",step:"1",value:d,onChange:ae=>h(parseInt(ae.target.value)),className:"w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer accent-[#ff4d00] relative z-20"}),s.jsx("div",{className:"absolute top-6 left-0 w-full flex justify-between text-[10px] font-bold text-gray-400 uppercase tracking-wider px-1",children:B2.map((ae,ye)=>s.jsxs("div",{className:"flex flex-col items-center cursor-pointer hover:text-black",onClick:()=>h(ye),children:[s.jsx("div",{className:"h-2 w-0.5 bg-gray-300 mb-1"}),s.jsx("span",{children:ae>=1e6?`${ae/1e6}M`:`${ae/1e3}k`})]},ae))})]}),s.jsxs("div",{className:"border-t border-gray-100 pt-8",children:[s.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-4",children:"Bulk Packages"}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:AM.map(ae=>s.jsxs("button",{onClick:()=>p(ae),className:`relative py-4 border-2 flex flex-col items-center justify-center transition-all ${f===ae?"border-[#ff4d00] bg-orange-50 text-black":"border-gray-100 text-gray-400 hover:border-gray-300"}`,children:[ae>1&&s.jsxs("div",{className:"absolute -top-3 bg-[#ff4d00] text-white text-[9px] font-black uppercase px-2 py-0.5 rounded-full shadow-sm",children:["Save ",ae===6?"20%":"40%"]}),s.jsxs("div",{className:"text-xl font-black",children:[ae,"x"]}),s.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest opacity-60",children:"Credits Included"})]},ae))})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(A2,{size:14,className:"text-[#ff4d00]"})," Payment Method"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("button",{onClick:()=>I("card"),className:`p-6 border-2 transition-all flex flex-col items-center gap-4 ${S==="card"?"border-[#ff4d00] bg-orange-50 shadow-lg ring-1 ring-[#ff4d00]":"border-gray-100 hover:border-gray-200"}`,children:[s.jsx(Lr,{size:32,className:S==="card"?"text-[#ff4d00]":"text-gray-300"}),s.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Credit Card (Stripe)"})]}),s.jsxs("button",{onClick:()=>I("bank"),className:`p-6 border-2 transition-all flex flex-col items-center gap-4 ${S==="bank"?"border-[#ff4d00] bg-orange-50 shadow-lg":"border-gray-100 hover:border-gray-200"}`,children:[s.jsx(OE,{size:32,className:S==="bank"?"text-[#ff4d00]":"text-gray-300"}),s.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Bank Wire"})]}),s.jsxs("button",{onClick:()=>I("apple"),className:`p-6 border-2 transition-all flex flex-col items-center gap-4 ${S==="apple"?"border-[#ff4d00] bg-orange-50 shadow-lg":"border-gray-100 hover:border-gray-200"}`,children:[s.jsx(bd,{size:32,className:S==="apple"?"text-[#ff4d00]":"text-gray-300"}),s.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Apple Pay"})]})]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-[#111] text-white p-10 shadow-2xl relative overflow-hidden sticky top-8 min-h-[500px]",children:[s.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10 rotate-12",children:s.jsx(nO,{size:180})}),s.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-gray-400 mb-12 relative",children:"Package Summary"}),s.jsxs("div",{className:"space-y-8 relative",children:[s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Plan"}),s.jsx("div",{className:"font-black text-base uppercase",children:i.name})]}),s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Volume"}),s.jsxs("div",{className:"font-black text-base",children:[Q.toLocaleString()," ",s.jsxs("span",{className:"text-gray-500",children:["x",f]})]})]}),s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Total Hits"}),s.jsx("div",{className:"font-black text-base text-[#ff4d00]",children:H.toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Effective CPM"}),s.jsxs("div",{className:"font-black text-base text-gray-300",children:["",J.toFixed(2)]})]}),s.jsx("div",{className:"h-px bg-gray-800 my-10"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"text-sm font-black uppercase tracking-widest",children:"Total Due"}),s.jsxs("div",{className:"text-4xl font-black text-white",children:["",je.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("button",{onClick:te,className:"w-full bg-[#ff4d00] text-white py-6 text-sm font-black uppercase tracking-widest hover:bg-white hover:text-black transition-all flex items-center justify-center gap-3 mt-10 shadow-[0_15px_30px_rgba(255,77,0,0.3)] group",children:["Proceed to Checkout ",s.jsx(Ds,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),s.jsxs("div",{className:"mt-10 flex items-center justify-center gap-2 text-gray-500",children:[s.jsx(Mn,{size:14}),s.jsx("span",{className:"text-[10px] uppercase font-black tracking-[0.2em]",children:"Tiered Rate Calculator v4.1"})]})]})]})})]}):s.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 animate-in slide-in-from-right-8 duration-500 pb-20",children:[s.jsxs("button",{onClick:()=>r(1),className:"flex items-center gap-2 text-gray-500 hover:text-black text-sm font-bold uppercase tracking-wider mb-6",children:[s.jsx(Ds,{size:16,className:"rotate-180"})," Back to Configuration"]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-12 md:p-20 shadow-xl min-h-[700px]",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h3",{className:"text-4xl font-black text-gray-900 uppercase tracking-tighter mb-4",children:"Secure Checkout"}),s.jsxs("p",{className:"text-gray-500 text-lg",children:["Completing payment of ",s.jsxs("span",{className:"font-bold text-[#ff4d00] text-xl",children:["",je.toFixed(2)]})," via ",S==="card"?"Stripe Secure":S]})]}),S==="card"&&E&&s.jsx(ek,{stripe:kM,options:{clientSecret:E,appearance:{theme:"stripe",variables:{colorPrimary:"#ff4d00"}}},children:s.jsx(IM,{amount:je,onSuccess:Ie,onError:ae=>alert(ae)})}),S==="bank"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-6 shadow-md",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(co,{size:28,className:"text-green-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xl font-black text-green-800 mb-2",children:"Instant Credit Upon Confirmation"}),s.jsxs("p",{className:"text-base text-green-700",children:["Upload your transfer confirmation. After validation, traffic will be ",s.jsx("strong",{className:"text-green-900",children:"instantly"})," credited to your account."]})]})]})}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-black uppercase tracking-widest text-gray-400 mb-4 block flex items-center gap-2",children:[s.jsx(Na,{size:14})," Select Currency"]}),s.jsx("div",{className:"flex flex-wrap gap-4",children:Object.keys(U2).map(ae=>{const ye={USD:"$",EUR:"",GBP:"",AUD:"A$",RON:"lei"};return s.jsxs("button",{onClick:()=>L(ae),className:`px-6 py-3 text-base font-bold uppercase tracking-wider transition-all flex items-center gap-2 ${M===ae?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[s.jsx("span",{className:"text-lg",children:ye[ae]}),ae]},ae)})})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsxs("h4",{className:"text-sm font-black uppercase tracking-widest text-gray-900",children:["Bank Details (",M,")"]}),s.jsx("span",{className:"text-xs font-bold text-[#ff4d00] uppercase",children:"Recommended"})]}),pe(M)]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("label",{className:"text-sm font-black uppercase tracking-widest text-gray-400 mb-4 block",children:"Upload Transfer Confirmation"}),P?s.jsxs("div",{className:"bg-green-50 border border-green-200 p-10 text-center h-full flex flex-col items-center justify-center",children:[s.jsx(Lt,{size:72,className:"text-green-500 mb-6"}),s.jsx("p",{className:"text-lg font-bold text-green-800 mb-3",children:"Upload Successful!"}),s.jsx("p",{className:"text-base text-green-600",children:"Your transfer is being reviewed. You will receive instant credit upon validation."})]}):s.jsxs("div",{className:"space-y-5 h-full flex flex-col",children:[s.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-10 text-center hover:border-[#ff4d00] transition-colors cursor-pointer flex-1 flex flex-col items-center justify-center",children:[s.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.webp",onChange:$,className:"hidden",id:"proof-upload"}),s.jsxs("label",{htmlFor:"proof-upload",className:"cursor-pointer",children:[s.jsx(dg,{size:48,className:"mx-auto text-gray-400 mb-5"}),s.jsx("p",{className:"text-lg font-medium text-gray-600",children:Y?Y.name:"Click here or drag a file"}),s.jsx("p",{className:"text-sm text-gray-400 mt-3",children:"PDF, JPG, PNG (max. 10MB)"})]})]}),s.jsx("button",{onClick:U,disabled:!Y||X,className:"w-full bg-[#ff4d00] text-white py-6 text-base font-black uppercase tracking-widest hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:X?s.jsxs(s.Fragment,{children:[s.jsx(uo,{className:"animate-spin",size:20}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dg,{size:20}),"Upload & Release Traffic"]})}),s.jsx("div",{className:"bg-gray-50 border border-gray-200 p-5 text-center",children:s.jsxs("p",{className:"text-base text-gray-500",children:["Amount: ",s.jsxs("strong",{className:"text-[#ff4d00] text-lg",children:["",je.toFixed(2)]})," for ",s.jsxs("strong",{children:[H.toLocaleString()," ",i.name," Visitors"]})]})})]})]})]}),S==="apple"&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx(bd,{size:80,className:"mx-auto text-gray-200 mb-6"}),s.jsx("p",{className:"text-gray-500 mb-8 text-lg",children:"Apple Pay integration requires HTTPS on production domain."}),s.jsx("button",{onClick:()=>Ie("APPLE-SIM"),className:"bg-black text-white px-10 py-4 rounded-full font-bold text-lg",children:"Pay with Pay (Simulated)"})]})]}),s.jsxs("div",{className:"flex justify-center items-center gap-2 opacity-50",children:[s.jsx(Mn,{size:14,className:"text-gray-400"}),s.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"256-Bit SSL Encrypted & Verified"})]})]})]})},PM=()=>{var J,te,Ie,me,$;const[n,e]=_.useState("account"),[t,r]=_.useState(!1),[i,l]=_.useState(!1),[d,h]=_.useState(void 0),[f,p]=_.useState(!1),[y,b]=_.useState(""),[v,C]=_.useState(""),[S,I]=_.useState({current:"",new:"",confirm:""}),[E,D]=_.useState(""),[M,L]=_.useState(""),Y=_.useRef(null),F=()=>{var U;(U=Y.current)==null||U.click()},X=async U=>{if(U.target.files&&U.target.files[0])try{const pe=await K.uploadAvatar(U.target.files[0]);d&&h({...d,avatarUrl:pe}),alert("Avatar updated successfully!")}catch(pe){alert("Failed to upload avatar: "+pe.message)}},T=async()=>{if(confirm("DANGER: Are you sure you want to delete your account? This action is irreversible.")&&prompt("Type 'DELETE' to confirm account deletion:")==="DELETE")try{await K.deleteAccount(),alert("Account deleted. Goodbye.")}catch(pe){alert(pe.message)}};_.useEffect(()=>{const U=K.getCurrentUser();h(U)},[]);const P=async()=>{if(d){r(!0);try{await K.updateUserProfile(d);const U=await K.login(d.email,"");U&&h(U),alert("Profile settings saved successfully.")}catch(U){alert("Failed to save settings: "+U.message)}finally{r(!1)}}},k=(U,pe)=>{d&&h({...d,[U]:pe})},z=async()=>{if(d&&confirm("Are you sure? This will invalidate your old key."))try{const U=await K.regenerateApiKey();h({...d,apiKey:U}),alert("API Key regenerated successfully.")}catch(U){alert("Failed to regenerate key: "+U.message)}},B=async()=>{if(D(""),L(""),S.new!==S.confirm){D("New passwords do not match.");return}try{await K.changePassword(S.current,S.new,S.confirm),L("Password updated successfully."),I({current:"",new:"",confirm:""})}catch(U){D(U.message)}},A=async()=>{if(confirm("Log out of all other sessions? You will need to log in again on other devices."))try{await K.logoutAllSessions(),alert("All other sessions invalidted.")}catch(U){alert(U.message)}},V=async()=>{try{const U=await K.exportUserData(),pe=new Blob([JSON.stringify(U,null,2)],{type:"application/json"}),ae=URL.createObjectURL(pe),ye=document.createElement("a");ye.href=ae,ye.download=`user_data_${d==null?void 0:d.id}.json`,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),URL.revokeObjectURL(ae)}catch(U){alert("Export failed: "+U.message)}},Q=()=>{d!=null&&d.apiKey&&(navigator.clipboard.writeText(d.apiKey),alert("API Key copied to clipboard"))},je=()=>{if(!y||!v||!d)return;const U={id:`pm_${Date.now()}`,type:y.startsWith("4")?"visa":"mastercard",last4:y.slice(-4),expiry:v,isDefault:!!(d.paymentMethods&&d.paymentMethods.length===0)},pe=[...d.paymentMethods||[],U];h({...d,paymentMethods:pe}),p(!1),b(""),C("")},H=U=>{if(!d||!confirm("Are you sure you want to remove this payment method?"))return;const pe=(d.paymentMethods||[]).filter(ae=>ae.id!==U);h({...d,paymentMethods:pe})};return d?s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Account Management"}),s.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"My Profile"})]}),s.jsxs("button",{onClick:P,disabled:t,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors disabled:opacity-70 flex items-center gap-2",children:[s.jsx(ai,{size:14})," ",t?"Saving...":"Save Changes"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 p-8 text-center shadow-sm",children:[s.jsxs("div",{className:"relative inline-block mb-6 group",children:[s.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-full flex items-center justify-center border-4 border-white shadow-lg mx-auto overflow-hidden",children:d.avatarUrl?s.jsx("img",{src:`http://127.0.0.1:8001${d.avatarUrl}`,alt:d.name,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-4xl font-black text-gray-300",children:d.name.split(" ").map(U=>U[0]).join("")})}),s.jsx("button",{onClick:F,className:"absolute bottom-0 right-0 bg-[#ff4d00] text-white p-2 rounded-full hover:bg-black transition-colors shadow-md",children:s.jsx(oD,{size:16})}),s.jsx("input",{type:"file",ref:Y,onChange:X,className:"hidden",accept:"image/png, image/jpeg, image/webp"})]}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:d.name}),s.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mt-1",children:d.role}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 flex justify-center gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-black text-gray-900",children:d.projectsCount}),s.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Campaigns"})]}),s.jsx("div",{className:"w-px bg-gray-200"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-black text-green-600",children:d.status}),s.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Status"})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[s.jsxs("button",{onClick:()=>e("account"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="account"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(vn,{size:16})," Account Details"]}),s.jsxs("button",{onClick:()=>e("security"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="security"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(Ta,{size:16})," Security & 2FA"]}),s.jsxs("button",{onClick:()=>e("billing"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="billing"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(Lr,{size:16})," Billing & Payments"]}),s.jsxs("button",{onClick:()=>e("notifications"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="notifications"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(Tb,{size:16})," Notifications"]}),s.jsxs("button",{onClick:()=>e("developer"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="developer"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(Mh,{size:16})," Developer Mode"]}),s.jsxs("button",{onClick:()=>e("accessibility"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="accessibility"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(Cl,{size:16})," Accessibility"]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gray-50 rounded-full -mt-16 -mr-16 z-0"}),s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2 relative z-10",children:[s.jsx(Mh,{size:14})," Developer Settings"]}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Use this key to access the Modus Traffic API for programmatic campaign management."}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("div",{className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 flex justify-between items-center font-mono text-sm",children:[s.jsx("span",{className:"text-gray-800 font-bold",children:i?d.apiKey:""}),s.jsx("button",{onClick:()=>l(!i),className:"text-gray-400 hover:text-black",children:i?s.jsx(Mv,{size:16}):s.jsx(kf,{size:16})})]}),s.jsx("button",{onClick:Q,className:"bg-gray-100 hover:bg-gray-200 text-gray-900 p-3 border border-gray-200",title:"Copy Key",children:s.jsx(Fs,{size:16})}),s.jsx("button",{onClick:z,className:"bg-black hover:bg-[#ff4d00] text-white p-3 shadow-sm transition-colors",title:"Regenerate Key",children:s.jsx(Ja,{size:16})})]})]})]})]}),s.jsx("div",{className:"lg:col-span-2 space-y-6",children:n==="account"?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(vn,{size:14})," Identity & Contact"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Vt,{children:"Full Name"}),s.jsx(Us,{value:d.name,onChange:U=>k("name",U),icon:s.jsx(vn,{size:16})})]}),s.jsxs("div",{children:[s.jsx(Vt,{children:"Display Name (Nickname)"}),s.jsx(Us,{value:d.displayName||"",onChange:U=>k("displayName",U),icon:s.jsx(T2,{size:16}),placeholder:"The Traffic King"})]}),s.jsxs("div",{children:[s.jsx(Vt,{children:"Email Address"}),s.jsx(Us,{value:d.email,onChange:U=>k("email",U),icon:s.jsx(ho,{size:16})})]}),s.jsxs("div",{children:[s.jsx(Vt,{children:"Job Title"}),s.jsx(Us,{value:d.jobTitle||"",onChange:U=>k("jobTitle",U),icon:s.jsx(N2,{size:16}),placeholder:"SEO Manager"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Vt,{children:"Personal Bio"}),s.jsx("textarea",{value:d.bio||"",onChange:U=>k("bio",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none min-h-[100px]",placeholder:"Tell us a bit about yourself..."})]}),s.jsxs("div",{children:[s.jsx(Vt,{children:"Phone Number"}),s.jsx(Us,{value:d.phone||"",onChange:U=>k("phone",U),icon:s.jsx(LE,{size:16}),placeholder:"+1 (555) 000-0000"})]}),s.jsxs("div",{children:[s.jsx(Vt,{children:"Website"}),s.jsx(Us,{value:d.website||"",onChange:U=>k("website",U),icon:s.jsx(nn,{size:16}),placeholder:"https://yourpage.com"})]})]}),s.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100",children:[s.jsx(ar,{label:"Public Profile Visibility",checked:d.publicProfile||!1,onChange:U=>h({...d,publicProfile:U})}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-2 lowercase",children:"when enabled, other users can see your shared campaign stats and badges."})]})]})}):n==="security"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(Ta,{size:14})," Security & Authentication"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-bold text-gray-600",children:"Two-Factor Authentication (2FA)"}),s.jsx("button",{className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors",children:"Enable 2FA"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Add an extra layer of security to your account by requiring a verification code from your phone."}),s.jsx("div",{className:"border-t border-gray-100 pt-6",children:s.jsx(ar,{label:"Require password on all devices every 30 days",checked:d.requirePasswordReset||!1,onChange:U=>k("requirePasswordReset",U.toString())})})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(Mn,{size:14})," Change Password"]}),E&&s.jsx("p",{className:"text-red-500 text-xs mb-4",children:E}),M&&s.jsx("p",{className:"text-green-500 text-xs mb-4",children:M}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsx(Vt,{children:"Current Password"}),s.jsx(Us,{type:"password",value:S.current,onChange:U=>I({...S,current:U}),icon:s.jsx(Mn,{size:16})})]}),s.jsxs("div",{children:[s.jsx(Vt,{children:"New Password"}),s.jsx(Us,{type:"password",value:S.new,onChange:U=>I({...S,new:U}),icon:s.jsx(Mn,{size:16})})]}),s.jsxs("div",{children:[s.jsx(Vt,{children:"Confirm New Password"}),s.jsx(Us,{type:"password",value:S.confirm,onChange:U=>I({...S,confirm:U}),icon:s.jsx(Mn,{size:16})})]}),s.jsx("button",{onClick:B,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors self-start",children:"Update Password"})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(Os,{size:14})," Recent Login History"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-bold",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-100 pb-2",children:[s.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"Date & Time"}),s.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"IP Address"}),s.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"Device / Browser"}),s.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-50",children:(d.loginHistory||[]).length>0?(J=d.loginHistory)==null?void 0:J.map((U,pe)=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"py-4 text-gray-900",children:U.date}),s.jsx("td",{className:"py-4 text-gray-500 font-mono",children:U.ip}),s.jsx("td",{className:"py-4 text-gray-600",children:U.device}),s.jsx("td",{className:"py-4 text-right",children:pe===0?s.jsx("span",{className:"text-green-600",children:"Current Session"}):s.jsx("span",{className:"text-gray-400",children:"Previous"})})]},pe)):s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"No recent login history found."})})})]})}),s.jsx("button",{onClick:A,className:"mt-6 w-full py-3 border border-gray-200 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 transition-colors",children:"Log out of all other sessions"}),s.jsxs("div",{className:"mt-12 pt-12 border-t border-gray-200",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-red-600 mb-4 flex items-center gap-2",children:[s.jsx(Bn,{size:14})," Danger Zone"]}),s.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),s.jsx("button",{onClick:T,className:"bg-red-50 text-red-600 border border-red-200 px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-red-600 hover:text-white transition-colors",children:"Delete My Account"})]})]})]}):n==="notifications"?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[s.jsx(Tb,{size:14})," Notification Preferences"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vt,{children:"Email Frequency"}),s.jsxs("select",{value:d.emailFrequency||"instant",onChange:U=>k("emailFrequency",U.target.value),className:"bg-gray-100 border-none p-2 text-[10px] font-black uppercase tracking-widest outline-none",children:[s.jsx("option",{value:"instant",children:"Instant"}),s.jsx("option",{value:"daily",children:"Daily Digest"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx(ar,{label:"Campaign Status Alerts",checked:!0}),s.jsx(ar,{label:"Low Balance Warnings",checked:!0}),s.jsx(ar,{label:"New Login Notifications",checked:d.loginNotificationEnabled||!1,onChange:U=>k("loginNotificationEnabled",U.toString())})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(ar,{label:"Marketing & Product Updates",checked:d.newsletterSub||!1,onChange:U=>k("newsletterSub",U.toString())}),s.jsx(ar,{label:"Weekly Performance Reports",checked:!0}),s.jsx(ar,{label:"Sound Effects (UI)",checked:d.soundEffects||!1,onChange:U=>k("soundEffects",U.toString())})]})]})]})}):n==="billing"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[s.jsx(Lr,{size:14})," Saved Payment Methods"]}),s.jsxs("button",{onClick:()=>p(!f),className:"text-[#ff4d00] text-[10px] font-bold uppercase tracking-widest hover:text-black flex items-center gap-1",children:[s.jsx(ri,{size:12})," Add New"]})]}),f&&s.jsxs("div",{className:"mb-6 p-6 bg-gray-50 border border-gray-200 animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx(Vt,{children:"Card Number"}),s.jsx(Us,{value:y,onChange:b,placeholder:"0000 0000 0000 0000"})]}),s.jsxs("div",{children:[s.jsx(Vt,{children:"Expiry"}),s.jsx(Us,{value:v,onChange:C,placeholder:"MM/YY"})]})]}),s.jsx("button",{onClick:je,className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors",children:"Save Card"})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.paymentMethods&&d.paymentMethods.length>0?d.paymentMethods.map(U=>s.jsxs("div",{className:"border border-gray-200 p-6 flex justify-between items-center bg-[#f9fafb]",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-8 rounded-sm flex items-center justify-center text-white text-[10px] font-bold ${U.type==="visa"?"bg-[#1a1f71]":"bg-[#eb001b]"}`,children:U.type==="visa"?"VISA":"MC"}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-bold text-gray-900",children:["   ",U.last4]}),s.jsxs("div",{className:"text-xs text-gray-400 font-medium",children:["Expires ",U.expiry]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[U.isDefault&&s.jsx("span",{className:"bg-green-100 text-green-700 text-[9px] font-black uppercase tracking-wider px-2 py-1 rounded-sm",children:"Default"}),s.jsx("button",{onClick:()=>H(U.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:s.jsx(So,{size:16})})]})]},U.id)):s.jsx("div",{className:"text-center p-8 text-gray-400 text-sm",children:"No payment methods saved."})})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(e3,{size:14})," Billing Address"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Vt,{children:"Company Name"}),s.jsx(Us,{value:d.company||"",onChange:U=>k("company",U),icon:s.jsx(N2,{size:16})})]}),s.jsxs("div",{children:[s.jsx(Vt,{children:"VAT ID / Tax ID"}),s.jsx(Us,{value:d.vatId||"",onChange:U=>k("vatId",U),icon:s.jsx(T2,{size:16})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Vt,{children:"Street Address"}),s.jsx(Us,{value:d.address||"",onChange:U=>k("address",U),icon:s.jsx(fo,{size:16})})]}),s.jsxs("div",{children:[s.jsx(Vt,{children:"City"}),s.jsx(Us,{value:d.city||"",onChange:U=>k("city",U)})]}),s.jsxs("div",{children:[s.jsx(Vt,{children:"Zip / Postal Code"}),s.jsx(Us,{value:d.zip||"",onChange:U=>k("zip",U)})]}),s.jsxs("div",{children:[s.jsx(Vt,{children:"Country"}),s.jsxs("select",{value:d.country||"",onChange:U=>k("country",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none appearance-none",children:[s.jsx("option",{value:"",children:"Select Country"}),s.jsx("option",{value:"United States",children:"United States"}),s.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),s.jsx("option",{value:"Germany",children:"Germany"}),s.jsx("option",{value:"Canada",children:"Canada"}),s.jsx("option",{value:"France",children:"France"}),s.jsx("option",{value:"Australia",children:"Australia"})]})]})]})]})]}):n==="developer"?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(Mh,{size:14})," Developer Configuration"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Vt,{children:"IP Whitelist (One per line)"}),s.jsx("textarea",{value:((te=d.apiWhitelist)==null?void 0:te.join(`
`))||"",onChange:U=>k("apiWhitelist",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none min-h-[80px]",placeholder:"127.0.0.1"})]}),s.jsxs("div",{children:[s.jsx(Vt,{children:"Webhook Signing Secret"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 font-mono text-sm",children:d.webhookSecret||"whsec_"}),s.jsx("button",{className:"bg-black hover:bg-[#ff4d00] text-white p-3 transition-colors",children:s.jsx(Ja,{size:16})})]})]}),s.jsx("div",{className:"pt-4",children:s.jsx(ar,{label:"Developer Mode (Show raw API responses)",checked:d.developerMode||!1,onChange:U=>k("developerMode",U.toString())})})]})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(Cl,{size:14})," Accessibility & Appearance"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx(ar,{label:"Color Blind Mode",checked:((Ie=d.accessibility)==null?void 0:Ie.colorBlindMode)||!1,onChange:U=>h({...d,accessibility:{...d.accessibility||{fontSize:"medium",compactMode:!1,reduceMotion:!1,colorBlindMode:!1},colorBlindMode:U}})}),s.jsx(ar,{label:"Compact Mode (Reduced Padding)",checked:((me=d.accessibility)==null?void 0:me.compactMode)||!1,onChange:U=>h({...d,accessibility:{...d.accessibility||{fontSize:"medium",compactMode:!1,reduceMotion:!1,colorBlindMode:!1},compactMode:U}})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(ar,{label:"Reduce Motion",checked:(($=d.accessibility)==null?void 0:$.reduceMotion)||!1,onChange:U=>h({...d,accessibility:{...d.accessibility||{fontSize:"medium",compactMode:!1,reduceMotion:!1,colorBlindMode:!1},reduceMotion:U}})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Vt,{children:"Font Size"}),s.jsx("div",{className:"flex gap-2",children:["small","medium","large"].map(U=>{var pe;return s.jsx("button",{onClick:()=>h({...d,accessibility:{...d.accessibility||{fontSize:"medium",compactMode:!1,reduceMotion:!1,colorBlindMode:!1},fontSize:U}}),className:`flex-1 py-2 text-[10px] font-black uppercase tracking-widest border transition-colors ${((pe=d.accessibility)==null?void 0:pe.fontSize)===U?"bg-black text-white border-black":"bg-gray-50 text-gray-400 border-gray-200 hover:border-gray-300"}`,children:U},U)})})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-black mb-6 flex items-center gap-2",children:[s.jsx(wa,{size:14})," Data Management"]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"GDPR Data Portability"}),s.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-wider mt-1",children:"Download a full archive of your account data."})]}),s.jsxs("button",{onClick:V,className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[s.jsx(wa,{size:12})," Export JSON"]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-6 flex items-center gap-2",children:[s.jsx(Il,{size:14})," Misc Preferences"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Vt,{children:"Timezone"}),s.jsxs("select",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none",children:[s.jsx("option",{children:"UTC (London)"}),s.jsx("option",{children:"GMT+1 (Berlin)"}),s.jsx("option",{children:"EST (New York)"})]})]}),s.jsxs("div",{children:[s.jsx(Vt,{children:"UI Language"}),s.jsxs("select",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none",children:[s.jsx("option",{children:"English"}),s.jsx("option",{children:"Deutsch"}),s.jsx("option",{children:"Franais"})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-red-100 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-red-500 mb-6 flex items-center gap-2",children:[s.jsx(Bn,{size:14})," Danger Zone"]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"Delete Account"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Once deleted, all your campaign data and credits will be lost forever."})]}),s.jsx("button",{className:"bg-red-50 text-red-600 px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-red-600 hover:text-white transition-colors border border-red-200",children:"Delete Forever"})]})]})]})})]})]}):s.jsx("div",{children:"Loading..."})},ar=({label:n,checked:e,onChange:t})=>{const[r,i]=_.useState(e);_.useEffect(()=>{i(e)},[e]);const l=()=>{const d=!r;i(d),t&&t(d)};return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-bold text-gray-600",children:n}),s.jsx("button",{onClick:l,className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${r?"bg-[#ff4d00]":"bg-gray-200"}`,children:s.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${r?"translate-x-5":"translate-x-0"}`})})]})},Vt=({children:n})=>s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:n}),Us=({value:n,onChange:e,icon:t,type:r="text",placeholder:i})=>s.jsxs("div",{className:"relative",children:[t&&s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:t}),s.jsx("input",{type:r,value:n,onChange:l=>e(l.target.value),className:`w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none transition-colors ${t?"pl-10":""}`,placeholder:i})]}),DM=()=>{const[n,e]=_.useState([]),[t,r]=_.useState(null),[i,l]=_.useState(void 0),[d,h]=_.useState("all"),[f,p]=_.useState("all");_.useEffect(()=>{(async()=>{l(K.getCurrentUser()),await K.syncTransactions(),e(K.getTransactions())})();const D=setInterval(()=>{l(K.getCurrentUser())},2e3);return()=>clearInterval(D)},[]);const y=E=>{const D=n.filter(L=>L.type==="credit"&&L.tier===E&&L.hits).reduce((L,Y)=>L+(Y.hits||0),0),M=n.filter(L=>L.type==="debit"&&L.tier===E&&L.hits).reduce((L,Y)=>L+(Y.hits||0),0);return D-M},b=E=>E?{economy:"Economy",professional:"Professional",expert:"Expert"}[E]||E:"General",v=E=>E&&{economy:"bg-gray-100 text-gray-600",professional:"bg-orange-100 text-orange-600",expert:"bg-[#ff4d00]/10 text-[#ff4d00]"}[E]||"bg-gray-100 text-gray-600",C=n.filter(E=>{if(f!=="all"&&E.tier!==f)return!1;if(d!=="all"){const D=new Date(E.date),M=new Date,L=d==="7d"?7:d==="30d"?30:90,Y=new Date(M.getTime()-L*24*60*60*1e3);if(D<Y)return!1}return!0}),S=()=>{if(C.length===0){alert("No transactions to download.");return}const E=["ID","Date","Description","Type","Amount","Status","Balance Tier","Hits","Reference"],D=C.map(F=>[F.id,F.date,`"${F.desc.replace(/"/g,'""')}"`,F.type,F.amount.toFixed(2),F.status,b(F.tier),F.hits?(F.type==="credit"?"+":"-")+F.hits.toString():"",F.reference||""]),M="data:text/csv;charset=utf-8,"+E.join(",")+`
`+D.map(F=>F.join(",")).join(`
`),L=encodeURI(M),Y=document.createElement("a");Y.setAttribute("href",L),Y.setAttribute("download",`traffic_statement_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)},I=({trx:E,onClose:D})=>s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:D,children:s.jsxs("div",{className:"bg-white w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-200",onClick:M=>M.stopPropagation(),children:[s.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-[#ff4d00] flex items-center justify-center",children:s.jsx("span",{className:"font-black text-black text-xs",children:"M"})}),s.jsx("span",{className:"font-black text-lg tracking-tight",children:"TRAFFIC GEN"})]}),s.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-widest",children:"Receipt"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-xl font-bold text-gray-900 mb-1",children:["",E.amount.toFixed(2)]}),E.hits&&s.jsxs("div",{className:`text-sm font-bold mb-1 ${E.type==="credit"?"text-green-600":"text-red-600"}`,children:["(",E.type==="credit"?"+":"-",E.hits.toLocaleString()," hits)"]}),s.jsx("div",{className:`text-xs font-bold uppercase tracking-wide px-2 py-0.5 inline-block ${E.status==="completed"?"bg-green-100 text-green-700":"bg-gray-100"}`,children:E.status})]})]}),s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Date"}),s.jsx("div",{className:"text-sm font-bold text-gray-900",children:E.date})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Transaction ID"}),s.jsx("div",{className:"text-sm font-mono text-gray-600",children:E.id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Type"}),s.jsx("div",{className:"text-sm font-bold text-gray-900 capitalize",children:E.type==="credit"?"Deposit":"Purchase"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Balance Tier"}),s.jsx("div",{className:"text-sm font-bold text-gray-900",children:b(E.tier)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Reference"}),s.jsx("div",{className:"text-sm font-mono text-gray-600",children:E.reference||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"User"}),s.jsx("div",{className:"text-sm font-bold text-gray-900",children:(i==null?void 0:i.name)||"User"})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 border border-gray-100",children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Description"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.desc})]})]}),s.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex justify-end gap-3",children:[s.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase hover:bg-gray-100",children:[s.jsx(U3,{size:14})," Print"]}),s.jsx("button",{onClick:D,className:"px-4 py-2 bg-black text-white text-xs font-bold uppercase hover:bg-[#ff4d00]",children:"Close"})]})]})});return s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[t&&s.jsx(I,{trx:t,onClose:()=>r(null)}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Financial Overview"}),s.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Balances"})]}),s.jsxs("button",{onClick:S,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[s.jsx(wa,{size:14})," Statement"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white border-b-4 border-gray-200 p-8 shadow-sm hover:translate-y-[-2px] transition-transform",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("div",{className:"p-2 bg-gray-100 rounded-sm text-gray-600",children:s.jsx(Na,{size:20})}),s.jsx("span",{className:"text-[10px] font-bold bg-gray-100 px-2 py-1 uppercase tracking-widest text-gray-500",children:"Economy"})]}),s.jsx("div",{className:"text-3xl font-black text-gray-900 mb-1",children:y("economy").toLocaleString()}),s.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Hits Available"})]}),s.jsxs("div",{className:"bg-white border-b-4 border-orange-300 p-8 shadow-sm hover:translate-y-[-2px] transition-transform relative overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[s.jsx("div",{className:"p-2 bg-orange-50 rounded-sm text-orange-500",children:s.jsx(Zh,{size:20})}),s.jsx("span",{className:"text-[10px] font-bold bg-orange-100 text-orange-600 px-2 py-1 uppercase tracking-widest",children:"Professional"})]}),s.jsx("div",{className:"text-3xl font-black text-gray-900 mb-1 relative z-10",children:y("professional").toLocaleString()}),s.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide relative z-10",children:"Hits Available"}),s.jsx(Zh,{className:"absolute -bottom-4 -right-4 text-orange-50 w-32 h-32 rotate-12"})]}),s.jsxs("div",{className:"bg-[#111] border-b-4 border-[#ff4d00] text-white p-8 shadow-lg hover:translate-y-[-2px] transition-transform relative overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[s.jsx("div",{className:"p-2 bg-[#ff4d00] rounded-sm text-white",children:s.jsx(Wt,{size:20})}),s.jsx("span",{className:"text-[10px] font-bold bg-[#ff4d00] text-white px-2 py-1 uppercase tracking-widest",children:"Expert"})]}),s.jsx("div",{className:"text-3xl font-black text-white mb-1 relative z-10",children:y("expert").toLocaleString()}),s.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide relative z-10",children:"Hits Available"}),s.jsx(Wt,{className:"absolute -bottom-4 -right-4 text-gray-800 w-32 h-32 rotate-12 opacity-20"})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[s.jsx(Os,{size:14,className:"text-[#ff4d00]"})," Transaction History"]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("select",{value:d,onChange:E=>h(E.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase tracking-wide",children:[s.jsx("option",{value:"all",children:"All Time"}),s.jsx("option",{value:"7d",children:"Last 7 Days"}),s.jsx("option",{value:"30d",children:"Last 30 Days"}),s.jsx("option",{value:"90d",children:"Last 90 Days"})]}),s.jsxs("select",{value:f,onChange:E=>p(E.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase tracking-wide",children:[s.jsx("option",{value:"all",children:"All Balances"}),s.jsx("option",{value:"economy",children:"Economy"}),s.jsx("option",{value:"professional",children:"Professional"}),s.jsx("option",{value:"expert",children:"Expert"})]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-[#f9fafb] border-b border-gray-100",children:[s.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),s.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Balance"}),s.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hits"}),s.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Reference"}),s.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),s.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:C.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"text-center p-8 text-sm text-gray-400",children:"No transactions found."})}):C.map(E=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:E.date}),s.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:E.desc}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-2 py-1 text-[9px] font-black uppercase tracking-wider rounded-sm ${v(E.tier)}`,children:b(E.tier)})}),s.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:E.hits?s.jsxs("span",{className:E.type==="credit"?"text-green-600":"text-red-600",children:[E.type==="credit"?"+":"-",E.hits.toLocaleString()]}):"-"}),s.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:E.reference||"-"}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-[9px] font-black uppercase tracking-wider rounded-sm",children:E.status})}),s.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${E.type==="credit"?"text-green-600":"text-gray-900"}`,children:[E.type==="debit"?"-":"+","",E.amount.toFixed(2),E.hits?s.jsxs("span",{className:`block text-[10px] ${E.type==="credit"?"text-green-500":"text-red-500"}`,children:["(",E.type==="credit"?"+":"-",E.hits.toLocaleString()," hits)"]}):null]}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("button",{onClick:()=>r(E),className:"text-gray-400 hover:text-[#ff4d00] transition-colors",children:s.jsx(wa,{size:14})})})]},E.id))})]})})]})]})},OM=()=>{const[n,e]=_.useState(!1),[t,r]=_.useState(!1),[i,l]=_.useState(null);_.useEffect(()=>{const f=K.getCurrentUser();l(f),localStorage.getItem(`affiliate_active_${f==null?void 0:f.id}`)&&e(!0)},[]);const d=()=>{r(!0),setTimeout(()=>{e(!0),r(!1),i&&localStorage.setItem(`affiliate_active_${i.id}`,"true")},1500)},h=i?`https://modus-traffic.com/ref/u/${i.id}`:"https://modus-traffic.com/ref/u/guest";return n?s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-12",children:[s.jsxs("div",{className:"bg-[#111] text-white p-8 md:p-12 relative overflow-hidden shadow-xl",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#ff4d00] opacity-10 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"}),s.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-8",children:[s.jsxs("div",{className:"max-w-xl",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#ff4d00] text-white px-3 py-1 text-[10px] font-black uppercase tracking-widest mb-4 rounded-sm",children:[s.jsx(Ov,{size:12})," Active Partner"]}),s.jsx("h2",{className:"text-3xl md:text-4xl font-black uppercase tracking-tight mb-4",children:"Dashboard"}),s.jsxs("p",{className:"text-gray-400 leading-relaxed text-sm font-medium",children:["Your program is active. You are earning a ",s.jsx("span",{className:"text-white font-bold",children:"20% Lifetime Commission"})," on all referred sales."]})]}),s.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 p-6 w-full md:w-auto min-w-[300px] rounded-sm",children:[s.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Unpaid Earnings"}),s.jsx("div",{className:"text-4xl font-black text-[#ff4d00] mb-4",children:"0.00"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-300 border-t border-white/10 pt-4 font-mono",children:[s.jsx("span",{children:"Pending: 0.00"}),s.jsx("span",{className:"text-green-400",children:"Paid: 0.00"})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-4 flex items-center gap-2",children:[s.jsx(Ef,{size:14})," Your Unique Referral Link"]}),s.jsxs("div",{className:"flex gap-0",children:[s.jsx("input",{readOnly:!0,value:h,className:"flex-1 bg-[#f9fafb] border border-gray-200 border-r-0 p-4 text-sm font-bold text-gray-600 outline-none font-mono"}),s.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(h),alert("Link copied to clipboard!")},className:"bg-black text-white px-6 py-4 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[s.jsx(Fs,{size:14})," Copy Link"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-6 flex items-center gap-2",children:[s.jsx(po,{size:14})," Referral Statistics"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Total Clicks"}),s.jsx("span",{className:"text-xl font-black text-gray-900",children:"0"})]}),s.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"bg-gray-800 h-full w-0"})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Signups"}),s.jsx("span",{className:"text-xl font-black text-gray-900",children:"0"})]}),s.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"bg-[#ff4d00] h-full w-0"})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Active Customers"}),s.jsx("span",{className:"text-xl font-black text-gray-900",children:"0"})]}),s.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"bg-green-500 h-full w-0"})})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-6 flex items-center gap-2",children:[s.jsx(Zh,{size:14})," Active Benefits"]}),s.jsx("ul",{className:"space-y-4",children:["20% recurring lifetime commission","Dedicated account manager support","Custom landing pages for high volume partners","Monthly payouts with no minimum threshold","Real-time tracking dashboard"].map((f,p)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"min-w-[4px] h-[4px] bg-[#ff4d00] mt-2 rounded-full"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 leading-relaxed",children:f})]},p))})]})]})]}):s.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 pb-12 max-w-5xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12 pt-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-50 text-[#ff4d00] border border-orange-100 px-4 py-2 text-xs font-bold uppercase tracking-widest mb-6 rounded-full",children:[s.jsx(Wt,{size:14,className:"fill-[#ff4d00]"})," Partner Program"]}),s.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-gray-900 tracking-tight mb-6",children:["Earn 20% ",s.jsx("span",{className:"text-[#ff4d00]",children:"Lifetime"})," Commission."]}),s.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto leading-relaxed",children:"Turn your traffic into recurring revenue. Refer customers to Modus Traffic and earn a permanent 20% cut of every purchase they make, forever."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[{icon:s.jsx(Tl,{size:24}),title:"Recurring Revenue",desc:"You don't just get paid once. You get paid every time your referral adds funds."},{icon:s.jsx(UE,{size:24}),title:"Instant Payouts",desc:"Withdraw your earnings via PayPal, Wise, or Crypto once you hit 50."},{icon:s.jsx(po,{size:24}),title:"High Conversion",desc:"Our high-converting landing pages ensure you get the maximum value from your clicks."}].map((f,p)=>s.jsxs("div",{className:"bg-white border border-gray-200 p-8 text-center shadow-sm hover:border-[#ff4d00] transition-colors group",children:[s.jsx("div",{className:"w-14 h-14 bg-black text-white flex items-center justify-center rounded-full mx-auto mb-6 group-hover:bg-[#ff4d00] transition-colors",children:f.icon}),s.jsx("h3",{className:"text-lg font-black text-gray-900 mb-3",children:f.title}),s.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:f.desc})]},p))}),s.jsxs("div",{className:"bg-[#111] text-white p-12 text-center rounded-sm relative overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#ff4d00] opacity-10 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-8",children:"Ready to start earning?"}),s.jsx("button",{onClick:d,disabled:t,className:"bg-[#ff4d00] text-white px-10 py-5 text-sm font-bold uppercase tracking-widest hover:bg-white hover:text-black transition-all transform hover:-translate-y-1 shadow-lg flex items-center gap-3 mx-auto disabled:opacity-70 disabled:cursor-not-allowed",children:t?"Activating Account...":s.jsxs(s.Fragment,{children:["Activate Affiliate Program ",s.jsx(Ds,{size:18})]})}),s.jsx("p",{className:"text-xs text-gray-500 mt-6 font-medium",children:"By activating, you agree to our Affiliate Terms of Service."})]})]})]})},MM=({targetDate:n})=>{const[e,t]=_.useState(null);return _.useEffect(()=>{const r=setInterval(()=>{const i=new Date().getTime(),l=new Date(n).getTime()-i;l<0?(t(null),clearInterval(r)):t({days:Math.floor(l/864e5),hours:Math.floor(l%864e5/36e5),minutes:Math.floor(l%36e5/6e4),seconds:Math.floor(l%6e4/1e3)})},1e3);return()=>clearInterval(r)},[n]),e?s.jsxs("div",{className:"flex gap-2 mt-3 font-mono text-sm font-black text-black bg-white/20 p-2 rounded-sm inline-flex",children:[s.jsxs("span",{children:[String(e.days).padStart(2,"0"),"d"]}),":",s.jsxs("span",{children:[String(e.hours).padStart(2,"0"),"h"]}),":",s.jsxs("span",{children:[String(e.minutes).padStart(2,"0"),"m"]}),":",s.jsxs("span",{children:[String(e.seconds).padStart(2,"0"),"s"]})]}):null},VM=({stats:n})=>{const e=Math.max(...n.map(t=>t.visitors),1);return s.jsx("div",{className:"h-32 flex items-end justify-between gap-1 w-full mt-4",children:n.map((t,r)=>{const i=t.visitors/e*100;return s.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative h-full",children:[s.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap",children:[t.date,": ",t.visitors.toLocaleString()]}),s.jsx("div",{className:"bg-[#ff4d00] opacity-30 group-hover:opacity-100 transition-all rounded-t-sm",style:{height:`${i}%`,minHeight:"4px"}})]},r)})})},LM=({projects:n,balance:e,onNavigateToProject:t,onNavigateToBuyCredits:r})=>{var B;const[i,l]=_.useState([]),[d,h]=_.useState([]),[f,p]=_.useState(null),[y,b]=_.useState(""),[v,C]=_.useState(""),[S,I]=_.useState(""),[E,D]=_.useState(!1),[M,L]=_.useState(!1);_.useEffect(()=>{const A=K.getCurrentUser();p(A||null),l(K.getTransactions().slice(0,5));const Q=K.getAlerts().filter(te=>K.checkBroadcastTarget(te,A));h(Q);const je=["Use alt tags on all images for better accessibility and SEO ranking.","Improve page load speed by compressing images and using lazy loading.","Use descriptive and keyword-rich title tags for every page.","Internal linking helps search engines understand your site structure.","Write unique meta descriptions to improve click-through rates."];C(je[Math.floor(Math.random()*je.length)]);const H=["The first website was published in 1991 by Tim Berners-Lee.","Over 50% of web traffic comes from mobile devices.","Google processes over 3.5 billion searches per day.","The average bounce rate for websites is between 41% and 55%."];I(H[Math.floor(Math.random()*H.length)]);const J=setInterval(()=>{b(new Date().toUTCString().split(" ")[4]+" UTC")},1e3);return()=>clearInterval(J)},[e]);const Y=n.filter(A=>A.status==="active"),F=Fe.useMemo(()=>{const A=[];for(let V=6;V>=0;V--){const Q=new Date;Q.setDate(Q.getDate()-V);const je=Q.toLocaleDateString("en-US",{month:"short",day:"numeric"});let H=0;n.forEach(J=>{var Ie;const te=(Ie=J.stats)==null?void 0:Ie.find(me=>me.date===Q.toISOString().split("T")[0]);te&&(H+=te.visitors)}),A.push({date:je,visitors:H||Math.floor(Math.random()*500)})}return A},[n]),X=n.reduce((A,V)=>{var je;const Q=((je=V.stats)==null?void 0:je.reduce((H,J)=>H+J.visitors,0))||0;return A+Q},0),T=A=>{switch(A){case"error":return s.jsx(A3,{size:18});case"warning":return s.jsx(Bn,{size:18});case"promo":return s.jsx(lg,{size:18});default:return s.jsx(co,{size:18})}},P=A=>A>=1e6?(A/1e6).toFixed(1)+"M":A>=1e3?(A/1e3).toFixed(1)+"k":A.toString(),k=()=>{const A=new Date().getHours();return A<12?"Good Morning":A<18?"Good Afternoon":"Good Evening"},z=()=>{navigator.clipboard.writeText(`https://traffic.com/ref/${(f==null?void 0:f.id)||"user"}`),D(!0),setTimeout(()=>D(!1),2e3)};return s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[d.length>0&&s.jsx("div",{className:"space-y-3",children:d.map(A=>s.jsxs("div",{className:`p-4 border-l-4 shadow-sm flex items-start gap-3 rounded-r-sm ${A.type==="error"?"bg-red-50 border-red-500 text-red-700":A.type==="promo"?"bg-yellow-50 border-yellow-500 text-yellow-800":A.type==="warning"?"bg-orange-50 border-orange-500 text-orange-700":"bg-blue-50 border-blue-500 text-blue-700"}`,children:[s.jsx("div",{className:"mt-0.5 shrink-0",children:T(A.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-bold",children:A.message}),A.countdownEnds&&s.jsx(MM,{targetDate:A.countdownEnds}),s.jsx("p",{className:"text-[10px] font-medium opacity-70 mt-1 uppercase tracking-wider",children:A.date})]})]},A.id))}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-end gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1 flex items-center gap-2",children:[s.jsx(dO,{size:12,strokeWidth:3})," ",k()]}),s.jsxs("h2",{className:"text-4xl font-black text-gray-900 tracking-tight uppercase",children:["Welcome, ",((B=f==null?void 0:f.name)==null?void 0:B.split(" ")[0])||"User"]}),s.jsxs("p",{className:"text-sm text-gray-400 font-bold uppercase tracking-wider mt-1",children:["Your network performance is ",s.jsx("span",{className:"text-green-600",children:"Optimal"})]})]}),s.jsx("div",{className:"flex flex-col items-end gap-3",children:s.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-black uppercase bg-white px-4 py-2 border border-gray-200 shadow-sm rounded-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Os,{size:12,className:"text-[#ff4d00]"}),s.jsx("span",{className:"text-gray-900",children:y})]}),s.jsx("div",{className:"w-px h-3 bg-gray-200"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full animate-pulse"}),s.jsx("span",{className:"text-[#ff4d00]",children:"Server Online"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors rounded-sm",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:s.jsx(Rl,{size:64,className:"text-[#ff4d00]"})}),s.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Total Hits Sent"}),s.jsx("div",{className:"text-4xl font-black text-gray-900 mb-2",children:P(X)}),s.jsxs("div",{className:"text-[10px] font-black text-[#ff4d00] flex items-center gap-1 uppercase tracking-wider",children:[s.jsx(lr,{size:12})," Active Now: ",Math.floor(Math.random()*45)+12]})]}),s.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors cursor-pointer rounded-sm",onClick:()=>t(""),children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:s.jsx(Wt,{size:64,className:"text-[#ff4d00]"})}),s.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Active Projects"}),s.jsx("div",{className:"text-4xl font-black text-gray-900 mb-2",children:Y.length}),s.jsxs("div",{className:"text-[10px] font-black text-gray-500 flex items-center gap-1 uppercase tracking-wider",children:["Manage Campaigns ",s.jsx(Ds,{size:10,className:"group-hover:translate-x-1 transition-transform"})]})]}),s.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors cursor-pointer rounded-sm",onClick:r,children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:s.jsx(Lr,{size:64,className:"text-[#ff4d00]"})}),s.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Wallet Balance"}),s.jsxs("div",{className:"text-4xl font-black text-gray-900 mb-2",children:["",e.toFixed(2)]}),s.jsxs("div",{className:"text-[10px] font-black text-[#ff4d00] flex items-center gap-1 uppercase tracking-wider",children:["Add Credits ",s.jsx(ri,{size:10,className:"group-hover:rotate-90 transition-transform"})]})]}),s.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors rounded-sm",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:s.jsx(lg,{size:64,className:"text-[#ff4d00]"})}),s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Level 1 Novice"}),s.jsx("span",{className:"text-[10px] font-black text-[#ff4d00]",children:"24%"})]}),s.jsx("div",{className:"text-2xl font-black text-gray-900 mb-3 uppercase tracking-tight",children:"Growth Path"}),s.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden shadow-inner",children:s.jsx("div",{className:"h-full bg-[#ff4d00] w-[24%] transition-all duration-1000"})}),s.jsx("div",{className:"mt-2 text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Next Reward: +5% Bonus"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 rounded-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[s.jsx(dD,{size:14,className:"text-[#ff4d00]"})," Network Throughput"]}),s.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1",children:"Last 7 days volume"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-gray-500 uppercase",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full"})," Hits"]})})]}),s.jsx(VM,{stats:F})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm flex flex-col rounded-sm overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[s.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[s.jsx(lr,{size:14,className:"text-[#ff4d00]"})," Recent Campaigns"]}),s.jsxs("button",{onClick:()=>t(""),className:"text-[10px] font-black text-gray-400 uppercase tracking-widest hover:text-[#ff4d00] transition-colors flex items-center gap-1",children:["View Full List ",s.jsx(Ds,{size:10})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Project Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Pricing Plan"}),s.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Status"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-50",children:[n.slice(0,5).map(A=>s.jsxs("tr",{className:"hover:bg-orange-50/30 cursor-pointer transition-colors group",onClick:()=>t(A.id),children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-xs font-bold text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:A.name}),s.jsx("div",{className:"text-[10px] text-gray-400 font-mono mt-0.5 uppercase tracking-tighter",children:A.id})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 px-2 py-1 bg-gray-100 rounded-sm",children:A.plan})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-[9px] font-black uppercase tracking-wider rounded-sm ${A.status==="active"?"bg-[#ff4d00] text-white":A.status==="completed"?"bg-black text-white":"bg-gray-100 text-gray-400"}`,children:A.status})})]},A.id)),n.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"p-12 text-center text-[10px] font-black uppercase tracking-widest text-gray-400",children:"No projects found. Create your first campaign to get started."})})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-sm shadow-sm flex gap-4 hover:border-blue-400 transition-colors",children:[s.jsx("div",{className:"mt-1 bg-blue-50 p-2 rounded-sm",children:s.jsx(co,{size:16,className:"text-blue-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[9px] font-black text-blue-500 uppercase tracking-widest mb-1",children:"Weekly SEO Insight"}),s.jsxs("p",{className:"text-xs text-gray-700 leading-relaxed font-bold",children:['"',v,'"']})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-sm shadow-sm flex gap-4 hover:border-orange-400 transition-colors",children:[s.jsx("div",{className:"mt-1 bg-orange-50 p-2 rounded-sm",children:s.jsx(nn,{size:16,className:"text-[#ff4d00]"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[9px] font-black text-[#ff4d00] uppercase tracking-widest mb-1",children:"Internet Statistics"}),s.jsxs("p",{className:"text-xs text-gray-700 leading-relaxed font-bold",children:['"',S,'"']})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 rounded-sm",children:[s.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(Wt,{size:14,className:"text-[#ff4d00]"})," Command Center"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:()=>t("new"),className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-black hover:text-white transition-all rounded-sm group",children:[s.jsx(lr,{size:20,className:"mb-2 text-[#ff4d00]"}),s.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:"New Project"})]}),s.jsxs("button",{onClick:r,className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-black hover:text-white transition-all rounded-sm group",children:[s.jsx(Lr,{size:20,className:"mb-2 text-gray-400 group-hover:text-[#ff4d00]"}),s.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:"Buy Credits"})]}),s.jsxs("button",{onClick:()=>L(!0),disabled:M,className:`flex flex-col items-center justify-center p-4 transition-all rounded-sm group ${M?"bg-[#ff4d00]/10 text-[#ff4d00]":"bg-gray-50 hover:bg-[#ff4d00] hover:text-white"}`,children:[s.jsx(QD,{size:20,className:`mb-2 ${M?"text-[#ff4d00]":"text-gray-400 group-hover:text-white"}`}),s.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:M?"Claimed":"Daily Bonus"})]}),s.jsxs("button",{className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-blue-600 hover:text-white transition-all rounded-sm group",children:[s.jsx(Un,{size:20,className:"mb-2 text-gray-400 group-hover:text-white"}),s.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:"Get Support"})]})]})]}),s.jsxs("div",{className:"bg-[#111] text-white p-6 rounded-sm shadow-xl relative overflow-hidden group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00] opacity-10 rounded-full -mr-16 -mt-16 blur-2xl group-hover:opacity-20 transition-opacity"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest mb-1",children:"Activity Streak"}),s.jsxs("div",{className:"text-3xl font-black flex items-center gap-3 mb-6",children:["5 DAYS ",s.jsx(Wt,{size:24,className:"text-[#ff4d00] fill-[#ff4d00] animate-pulse"})]}),s.jsxs("div",{className:"flex gap-1.5 h-1.5 mb-3",children:[[1,2,3,4,5].map(A=>s.jsx("div",{className:"bg-[#ff4d00] flex-1 rounded-full"},A)),[6,7].map(A=>s.jsx("div",{className:"bg-gray-800 flex-1 rounded-full"},A))]}),s.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Maintain your streak to earn +10% bonus hits"})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 rounded-sm",children:[s.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(po,{size:14,className:"text-blue-500"})," Affiliate Portal"]}),s.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mb-4 tracking-tight",children:"Earn hits by sharing your link"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1 bg-gray-50 border border-gray-200 text-[10px] px-3 py-2.5 rounded-sm font-mono text-gray-500 truncate",children:["traffic.com/ref/",(f==null?void 0:f.id)||"..."]}),s.jsx("button",{onClick:z,className:`px-4 rounded-sm border transition-all flex items-center justify-center ${E?"bg-green-600 border-green-600 text-white":"bg-white border-gray-200 hover:border-[#ff4d00] hover:text-[#ff4d00]"}`,children:E?s.jsx(cr,{size:14}):s.jsx(Fs,{size:14})})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-sm overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[s.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Wallet History"}),s.jsx(Os,{size:12,className:"text-gray-400"})]}),s.jsx("div",{className:"divide-y divide-gray-100",children:i.length>0?i.slice(0,3).map(A=>s.jsxs("div",{className:"p-4 flex justify-between items-center bg-white hover:bg-gray-50 transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-1.5 rounded-sm ${A.type==="credit"?"bg-green-50 text-green-600":"bg-orange-50 text-[#ff4d00]"}`,children:A.type==="credit"?s.jsx(ri,{size:10}):s.jsx(Ds,{size:10,className:"rotate-45"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-black text-gray-700 uppercase tracking-tight truncate w-32",children:A.desc}),s.jsx("div",{className:"text-[9px] text-gray-400 font-bold uppercase",children:A.date})]})]}),s.jsxs("div",{className:`text-xs font-black ${A.type==="credit"?"text-green-600":"text-gray-900"}`,children:[A.type==="credit"?"+":"-","",A.amount.toFixed(0)]})]},A.id)):s.jsx("div",{className:"p-8 text-center text-[10px] font-black uppercase tracking-widest text-gray-400",children:"No transactions recorded."})}),i.length>0&&s.jsx("button",{onClick:()=>K.getTransactions(),className:"w-full py-3 bg-gray-50 text-[9px] font-black uppercase tracking-widest text-gray-400 hover:text-[#ff4d00] transition-colors border-t border-gray-100",children:"View Full Wallet"})]})]})]})]})},zM=()=>{var P;const[n,e]=_.useState([]),[t,r]=_.useState(null),[i,l]=_.useState(!1),[d,h]=_.useState(""),[f,p]=_.useState(""),[y,b]=_.useState("medium"),[v,C]=_.useState([]),[S,I]=_.useState(""),[E,D]=_.useState([]),M=K.getCurrentUser(),L=n.find(k=>k.id===t);_.useEffect(()=>{Y()},[]);const Y=async()=>{if(M)try{const k=await K.getTickets();e(k.filter(z=>z.userId===M.id))}catch{console.error("Failed to refresh tickets")}},F=async k=>{if(k.preventDefault(),!d||!f||!M)return;const z={subject:d,priority:y,messages:[{id:Date.now().toString(),sender:"user",text:f,date:new Date().toLocaleString(),attachments:v}]};await K.createTicket(z),l(!1),h(""),p(""),C([]),await Y()},X=async()=>{!t||!S&&E.length===0||(await K.replyToTicket(t,S,"user",E),I(""),D([]),await Y())},T=(k,z)=>{if(k.target.files&&k.target.files[0]){const B=k.target.files[0].name;z?D([...E,B]):C([...v,B])}};return s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12 h-[calc(100vh-140px)] flex flex-col",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mb-2 flex-shrink-0",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Helpdesk"}),s.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Support Tickets"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[s.jsx(ri,{size:14})," New Ticket"]})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[s.jsx("h3",{className:"text-sm font-bold uppercase tracking-wide",children:"Create New Request"}),s.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-black",children:s.jsx(fr,{size:18})})]}),s.jsxs("form",{onSubmit:F,className:"p-8 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Subject"}),s.jsx("input",{value:d,onChange:k=>h(k.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Brief description",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Priority"}),s.jsxs("select",{value:y,onChange:k=>b(k.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",children:[s.jsx("option",{value:"low",children:"Low - General Question"}),s.jsx("option",{value:"medium",children:"Medium - Technical Issue"}),s.jsx("option",{value:"high",children:"High - Billing / Critical"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Message"}),s.jsx("textarea",{value:f,onChange:k=>p(k.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none h-32 resize-none",placeholder:"Describe your issue...",required:!0})]}),v.length>0&&s.jsx("div",{className:"flex gap-2 flex-wrap",children:v.map((k,z)=>s.jsxs("div",{className:"text-xs bg-gray-100 px-2 py-1 rounded-sm text-gray-600 flex items-center gap-1",children:[s.jsx(id,{size:10})," ",k]},z))}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[s.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-gray-500 hover:text-[#ff4d00] cursor-pointer uppercase tracking-wide",children:[s.jsx(id,{size:16})," Attach File",s.jsx("input",{type:"file",className:"hidden",onChange:k=>T(k,!1)})]}),s.jsxs("button",{type:"submit",className:"bg-[#ff4d00] text-white px-8 py-3 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors flex items-center gap-2",children:[s.jsx(mo,{size:14})," Submit Ticket"]})]})]})]})}),s.jsxs("div",{className:"flex-1 bg-white border border-gray-200 shadow-sm flex overflow-hidden",children:[s.jsxs("div",{className:`${L?"hidden md:flex":"flex"} w-full md:w-1/3 border-r border-gray-200 flex-col`,children:[s.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:s.jsxs("div",{className:"relative",children:[s.jsx(hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),s.jsx("input",{placeholder:"Search tickets...",className:"w-full bg-white border border-gray-200 pl-9 pr-4 py-2 text-xs font-bold outline-none focus:border-[#ff4d00]"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:n.length===0?s.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No tickets found."}):n.map(k=>s.jsxs("div",{onClick:()=>r(k.id),className:`p-5 border-b border-gray-100 cursor-pointer transition-colors hover:bg-gray-50 group ${t===k.id?"bg-orange-50":""}`,children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${k.status==="open"?"bg-green-100 text-green-700":k.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-gray-200 text-gray-500"}`,children:k.status}),s.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:k.date})]}),s.jsx("h4",{className:`text-sm font-bold mb-1 truncate ${t===k.id?"text-[#ff4d00]":"text-gray-900"}`,children:k.subject}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:k.lastMessage}),k.type==="chat"&&s.jsxs("div",{className:"mt-2 text-[9px] font-bold text-blue-500 uppercase tracking-wide flex items-center gap-1",children:[s.jsx(Un,{size:10})," Live Chat Log"]})]},k.id))})]}),L?s.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#fafafa]",children:[s.jsxs("div",{className:"bg-white p-6 border-b border-gray-200 shadow-sm flex justify-between items-center z-10",children:[s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>r(null),className:"md:hidden text-gray-500 mb-2 flex items-center gap-1 text-xs font-bold uppercase",children:[s.jsx(Ql,{className:"rotate-180",size:12})," Back"]}),s.jsx("h2",{className:"text-lg font-bold text-gray-900",children:L.subject}),s.jsxs("div",{className:"text-xs text-gray-400 font-mono mt-1",children:["ID: ",L.id]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[L.status==="open"&&s.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-green-600 uppercase",children:[s.jsx(Os,{size:14})," Open"]}),L.status==="closed"&&s.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 uppercase",children:[s.jsx(Ov,{size:14})," Closed"]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:(P=L.messages)==null?void 0:P.map(k=>s.jsx("div",{className:`flex ${k.sender==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[85%] ${k.sender==="user"?"items-end":"items-start"} flex flex-col`,children:[s.jsxs("div",{className:`p-4 shadow-sm text-sm leading-relaxed ${k.sender==="user"?"bg-black text-white rounded-l-lg rounded-tr-lg":"bg-white text-gray-900 border border-gray-200 rounded-r-lg rounded-tl-lg"}`,children:[k.text,k.attachments&&k.attachments.length>0&&s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20 space-y-1",children:k.attachments.map((z,B)=>s.jsxs("div",{className:"flex items-center gap-2 text-xs opacity-80 bg-white/10 p-2 rounded-sm",children:[s.jsx(id,{size:12})," ",z]},B))})]}),s.jsxs("span",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase tracking-wide",children:[k.sender==="user"?"You":"Support Team","  ",k.date]})]})},k.id))}),L.status!=="closed"&&s.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[E.length>0&&s.jsx("div",{className:"flex gap-2 mb-2 flex-wrap",children:E.map((k,z)=>s.jsxs("div",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-sm flex items-center gap-1",children:[k," ",s.jsx("button",{onClick:()=>D(E.filter(B=>B!==k)),children:s.jsx(fr,{size:12})})]},z))}),s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsxs("label",{className:"p-3 text-gray-400 hover:text-black cursor-pointer transition-colors",children:[s.jsx(id,{size:20}),s.jsx("input",{type:"file",className:"hidden",onChange:k=>T(k,!0)})]}),s.jsx("textarea",{value:S,onChange:k=>I(k.target.value),placeholder:"Type your reply...",className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] resize-none h-12 min-h-[48px] max-h-32 transition-colors"}),s.jsx("button",{onClick:X,disabled:!S&&E.length===0,className:"p-3 bg-[#ff4d00] text-white hover:bg-black transition-colors disabled:opacity-50",children:s.jsx(mo,{size:20})})]})]})]}):s.jsxs("div",{className:"hidden md:flex flex-1 flex-col items-center justify-center text-gray-300 bg-gray-50/50",children:[s.jsx(Un,{size:64,className:"mb-4 opacity-20"}),s.jsx("p",{className:"text-sm font-medium",children:"Select a ticket to view details"})]})]})]})},sk=()=>{const[n,e]=_.useState(1),[t,r]=_.useState("monthly"),[i,l]=_.useState(null),[d,h]=_.useState(!1),f={starter_monthly:"price_1T19GZJLE5bW6f8EPNVSoaGp",starter_yearly:"price_starter_yearly",professional_monthly:"price_professional_monthly",professional_yearly:"price_professional_yearly",agency_monthly:"price_agency_monthly",agency_yearly:"price_agency_yearly"},p=[{id:"starter",name:"Starter",subtitle:"Perfect for niche blogs",price:t==="monthly"?29:24,priceId:t==="monthly"?f.starter_monthly:f.starter_yearly,icon:s.jsx(Wt,{className:"text-gray-400",size:24}),features:["5,000 Monthly Visitors","5 Keywords Tracking","Geo-Targeting (Standard)","Desktop Traffic Only","Standard Proxy Pool"],color:"border-gray-200"},{id:"professional",name:"Professional",subtitle:"Best for growth-stage sites",price:t==="monthly"?79:64,priceId:t==="monthly"?f.professional_monthly:f.professional_yearly,icon:s.jsx(q3,{className:"text-[#ff4d00]",size:24}),features:["25,000 Monthly Visitors","20 Keywords Tracking","Geo-Targeting (Advanced)","Mobile + Desktop Traffic","Social & Referral Traffic","High-Retention Visits"],popular:!0,color:"border-[#ff4d00]"},{id:"agency",name:"Agency",subtitle:"Enterprise-grade throughput",price:t==="monthly"?249:199,priceId:t==="monthly"?f.agency_monthly:f.agency_yearly,icon:s.jsx(Mh,{className:"text-purple-600",size:24}),features:["100,000 Monthly Visitors","Unlimited Keywords","Global Proxy Network","Residential Proxy Access","API Management","Dedicated Support Manager"],color:"border-purple-600"}],y=()=>s.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-black text-gray-900 uppercase tracking-tighter mb-4",children:"Why Choose Us?"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"Compare our premium traffic against standard alternatives."})]}),s.jsx("div",{className:"bg-white border border-gray-200 shadow-xl overflow-hidden mb-12",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[s.jsx("th",{className:"px-8 py-6 text-xs font-black uppercase tracking-widest text-gray-400",children:"Feature"}),s.jsx("th",{className:"px-8 py-6 text-xs font-black uppercase tracking-widest text-[#ff4d00]",children:"Traffic Creator OS"}),s.jsx("th",{className:"px-8 py-6 text-xs font-black uppercase tracking-widest text-gray-300",children:"Other Ad Networks"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:[{label:"Real Keyword Search",us:!0,them:!1},{label:"Residential Proxy Pool",us:!0,them:"Limited"},{label:"Bounce Rate Control",us:!0,them:!1},{label:"Human Interaction Emulation",us:!0,them:!1},{label:"GEO-Targeting Precision",us:"City Level",them:"Country Level"},{label:"SEO Authority Impact",us:"Direct Growth",them:"None / Risk"}].map((S,I)=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-8 py-5 text-sm font-bold text-gray-700",children:S.label}),s.jsx("td",{className:"px-8 py-5 text-sm font-black text-gray-900",children:typeof S.us=="boolean"?S.us?s.jsx(cr,{className:"text-green-500",size:18}):"No":S.us}),s.jsx("td",{className:"px-8 py-5 text-sm font-medium text-gray-400",children:typeof S.them=="boolean"?S.them?s.jsx(cr,{size:18}):"No":S.them})]},I))})]})}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:()=>e(2),className:"group bg-black text-white px-12 py-5 text-xs font-black uppercase tracking-widest hover:bg-[#ff4d00] transition-all flex items-center gap-3 shadow-[0_10px_30px_rgba(0,0,0,0.1)] hover:shadow-[0_10px_30px_rgba(255,77,0,0.2)]",children:["View Plans & Pricing ",s.jsx(Ds,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})})]}),b=()=>s.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-500",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-black text-gray-900 uppercase tracking-tighter mb-6",children:"Simple, Transparent Pricing"}),s.jsxs("div",{className:"inline-flex items-center p-1 bg-gray-100 rounded-sm border border-gray-200",children:[s.jsx("button",{onClick:()=>r("monthly"),className:`px-6 py-2 text-[10px] font-black uppercase tracking-widest transition-all ${t==="monthly"?"bg-white text-black shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Monthly"}),s.jsxs("button",{onClick:()=>r("yearly"),className:`px-6 py-2 text-[10px] font-black uppercase tracking-widest transition-all relative ${t==="yearly"?"bg-white text-black shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:["Yearly",s.jsx("span",{className:"absolute -top-4 -right-2 bg-green-500 text-white text-[8px] px-1.5 py-0.5 rounded-full font-black animate-bounce",children:"-20%"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto mb-16",children:p.map(S=>s.jsxs("div",{className:`bg-white p-8 border-2 ${S.color} relative overflow-hidden transition-all hover:scale-[1.02] hover:shadow-2xl flex flex-col`,children:[S.popular&&s.jsx("div",{className:"absolute top-4 right-[-35px] bg-[#ff4d00] text-white text-[8px] font-black uppercase tracking-widest py-1.5 px-12 rotate-45",children:"Most Popular"}),s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"p-3 bg-gray-50 inline-block rounded-sm mb-4",children:S.icon}),s.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:S.name}),s.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-widest mt-1",children:S.subtitle})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsxs("span",{className:"text-4xl font-black text-gray-900",children:["",S.price]}),s.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest",children:"/ month"})]}),s.jsx("p",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-widest mt-1",children:t==="yearly"?"Billed annually":"Cancel anytime"})]}),s.jsx("ul",{className:"space-y-4 mb-10 flex-1",children:S.features.map((I,E)=>s.jsxs("li",{className:"flex items-start gap-3 text-xs font-medium text-gray-600",children:[s.jsx(cr,{className:"text-[#ff4d00] shrink-0",size:14}),s.jsx("span",{children:I})]},E))}),s.jsx("button",{onClick:()=>{l(S.id),e(3)},className:`w-full py-4 text-[10px] font-black uppercase tracking-widest transition-all ${S.popular?"bg-[#ff4d00] text-white hover:bg-black":"bg-black text-white hover:bg-[#ff4d00]"}`,children:"Get Started Now"})]},S.id))}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:()=>e(1),className:"text-gray-400 hover:text-black text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[s.jsx(wn,{size:14})," Back to Comparison"]})})]}),v=async()=>{if(!i)return;const S=p.find(I=>I.id===i);if(S){h(!0);try{const I=await K.createCheckoutSession(S.priceId);I.url&&(window.location.href=I.url)}catch(I){console.error("Checkout error:",I),alert("Failed to start checkout. Please try again.")}finally{h(!1)}}},C=()=>{const S=p.find(I=>I.id===i)||p[1];return s.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-500 flex flex-col lg:flex-row gap-12 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex-1 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tighter mb-2",children:"Customize Your Package"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"Add premium features to boost your campaign performance."})]}),s.jsx("div",{className:"space-y-4",children:[{id:"proxies",label:"Residential Proxy Pool",price:15,icon:s.jsx(Ta,{size:18})},{id:"mobile",label:"Mobile Device Emulation",price:10,icon:s.jsx(nn,{size:18})},{id:"referrers",label:"Custom Web Referrers",price:12,icon:s.jsx(po,{size:18})},{id:"keywords",label:"Extra Keyword Slots (+5)",price:9,icon:s.jsx(hr,{size:18})}].map(I=>s.jsxs("div",{className:"bg-white border border-gray-100 p-6 flex justify-between items-center group hover:border-[#ff4d00] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-gray-50 group-hover:bg-orange-50 group-hover:text-[#ff4d00] transition-colors",children:I.icon}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase tracking-tight",children:I.label}),s.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Premium Add-on"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("span",{className:"text-sm font-black text-gray-900",children:["+",I.price,"/mo"]}),s.jsx("div",{className:"w-5 h-5 border-2 border-gray-200 rounded-sm flex items-center justify-center"})]})]},I.id))})]}),s.jsxs("div",{className:"w-full lg:w-[400px]",children:[s.jsxs("div",{className:"bg-black text-white p-8 sticky top-8 rounded-sm overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00] opacity-10 translate-x-16 -translate-y-16 rotate-45"}),s.jsx("h3",{className:"text-xl font-black uppercase tracking-tighter mb-8 relative",children:"Order Summary"}),s.jsxs("div",{className:"space-y-6 mb-12 relative",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-400 text-[10px] font-black uppercase tracking-widest",children:"Selected Plan"}),s.jsx("span",{className:"font-bold text-sm",children:S.name})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-400 text-[10px] font-black uppercase tracking-widest",children:"Billing Cycle"}),s.jsx("span",{className:"font-bold text-sm",children:t==="yearly"?"Yearly (-20%)":"Monthly"})]}),s.jsxs("div",{className:"pt-6 border-t border-gray-800 flex justify-between items-center text-xl",children:[s.jsx("span",{className:"font-black uppercase tracking-tighter",children:"Total Due"}),s.jsxs("span",{className:"text-[#ff4d00] font-black",children:["",S.price,".00"]})]})]}),s.jsx("button",{onClick:v,disabled:d,className:"w-full bg-[#ff4d00] py-5 text-xs font-black uppercase tracking-widest hover:bg-white hover:text-black transition-all shadow-[0_20px_40px_rgba(255,77,0,0.3)] disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Processing...":"Complete Purchase"}),s.jsx("p",{className:"text-[9px] text-gray-500 font-bold text-center mt-6 uppercase tracking-widest",children:"Safe & Secure Checkout via Stripe"})]}),s.jsxs("button",{onClick:()=>e(2),className:"w-full mt-4 text-gray-400 hover:text-black text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 py-4 border border-transparent hover:border-gray-200 transition-all",children:[s.jsx(wn,{size:14})," Back to Plans"]})]})]})};return s.jsx("div",{className:"min-h-screen bg-[#f3f4f6] py-20 px-6 font-sans",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"flex justify-center mb-20",children:s.jsx("div",{className:"flex items-center gap-4",children:[1,2,3].map(S=>s.jsxs(Fe.Fragment,{children:[s.jsx("div",{className:`w-10 h-10 flex items-center justify-center text-xs font-black border-2 transition-all
                    ${n>=S?"border-[#ff4d00] text-[#ff4d00] bg-white":"border-gray-300 text-gray-300"}`,children:S}),S<3&&s.jsx("div",{className:`w-8 h-0.5 ${n>S?"bg-[#ff4d00]":"bg-gray-300"}`})]},S))})}),n===1&&y(),n===2&&b(),n===3&&C()]})})},UM=({onLogout:n})=>{var E,D;const[e,t]=_.useState(!1),r=xr(),l=gr().pathname.replace("/dashboard","").substring(1)||"home",[d,h]=_.useState([]),[f,p]=_.useState(0),[y,b]=_.useState(!0);_.useEffect(()=>{K.init(),(async()=>{await K.syncProjects(),h(K.getProjects()),p(K.getBalance()),b(!1)})()},[]);const v=()=>{h(K.getProjects()),p(K.getBalance())},C=M=>{r(M===""?"/dashboard/campaigns":`/dashboard/campaigns/${M}`),window.scrollTo(0,0)},S=[{title:"Main",items:[{label:"Dashboard",id:"home",path:"/dashboard",icon:s.jsx(ME,{size:18})},{label:"Campaigns",id:"campaigns",path:"/dashboard/campaigns",icon:s.jsx(Na,{size:18}),active:l.startsWith("campaigns")}]},{title:"Finance",items:[{label:"Buy Credits",id:"buy-credits",path:"/dashboard/buy-credits",icon:s.jsx(Lr,{size:18})},{label:"Balance",id:"balance",path:"/dashboard/balance",icon:s.jsx(Q5,{size:18})}]},{title:"User",items:[{label:"Support Tickets",id:"support",path:"/dashboard/support",icon:s.jsx(TD,{size:18})},{label:"Profile & Billing",id:"profile",path:"/dashboard/profile",icon:s.jsx(vn,{size:18})},{label:"Affiliate",id:"affiliate",path:"/dashboard/affiliate",icon:s.jsx(zv,{size:18})}]}],I=()=>l==="home"||l===""?"Dashboard":l.startsWith("campaigns")?"Campaigns":l==="buy-credits"?"Wallet Top-Up":l==="profile"?"My Profile":l==="balance"?"Balance":l==="affiliate"?"Affiliate Program":l==="support"?"Support Helpdesk":l.replace(/-/g," ");return y?s.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-gray-400 animate-pulse bg-[#f3f4f6]",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 mb-4 rounded-sm"}),s.jsx("div",{className:"text-xs font-bold uppercase tracking-widest",children:"Loading Database..."})]}):s.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen flex font-sans text-gray-900",children:[s.jsx($E,{menuSections:S,currentView:l.startsWith("campaigns")?"campaigns":l===""?"home":l,onNavigate:M=>{const Y=S.flatMap(F=>F.items).find(F=>F.id===M);Y!=null&&Y.path?r(Y.path):r("/dashboard"),t(!1),window.scrollTo(0,0)},onLogout:n}),e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-40 md:hidden backdrop-blur-sm",onClick:()=>t(!1),children:s.jsxs("div",{className:"bg-[#111] text-white w-72 h-full overflow-y-auto shadow-2xl",onClick:M=>M.stopPropagation(),children:[s.jsxs("div",{className:"p-8 pb-8 flex items-center gap-3 border-b border-gray-800",children:[s.jsx("div",{className:"w-8 h-8 bg-[#ff4d00] flex items-center justify-center",children:s.jsx("span",{className:"font-black text-black",children:"T"})}),s.jsx("span",{className:"text-xl font-black tracking-tighter",children:"TRAFFIC"})]}),S.map((M,L)=>s.jsx("div",{className:"py-6 border-b border-gray-900",children:s.jsx("ul",{children:M.items.map(Y=>s.jsx("li",{children:s.jsxs("button",{onClick:()=>{r(Y.path||"/dashboard"),t(!1)},className:`w-full text-left px-8 py-3 text-xs font-bold uppercase tracking-wider flex items-center gap-3
                                        ${l===Y.id?"text-[#ff4d00] bg-gray-900":"text-gray-400"}`,children:[Y.icon,Y.label]})},Y.id))})},L))]})}),s.jsxs("main",{className:"flex-1 md:ml-64 flex flex-col min-h-screen relative",children:[s.jsx(IO,{}),!((E=K.getCurrentUser())!=null&&E.isVerified)&&((D=K.getCurrentUser())==null?void 0:D.email)&&s.jsx(RO,{email:K.getCurrentUser().email}),localStorage.getItem("tgp_admin_token")&&s.jsxs("div",{className:"bg-red-600 text-white px-6 py-3 flex items-center justify-between shadow-lg relative z-50",children:[s.jsxs("div",{className:"flex items-center gap-2 font-bold text-sm uppercase tracking-wide",children:[s.jsx(vn,{size:18}),s.jsx("span",{children:"Viewing as User Mode"})]}),s.jsx("button",{onClick:async()=>{try{await K.stopImpersonation(),window.location.href="/admin"}catch{alert("Failed to return to admin")}},className:"bg-white text-red-600 px-4 py-1.5 rounded text-xs font-bold uppercase hover:bg-red-50",children:"Return to Admin"})]}),s.jsx(qE,{title:I(),onMobileMenuClick:()=>t(!0)}),s.jsx("div",{className:"flex-1 p-6 md:p-12 overflow-y-auto relative",children:s.jsx("div",{className:"max-w-screen-2xl mx-auto",children:s.jsxs(Iv,{children:[s.jsx(Le,{path:"/",element:s.jsx(LM,{projects:d,balance:f,onNavigateToProject:C,onNavigateToBuyCredits:()=>r("/dashboard/buy-credits")})}),s.jsx(Le,{path:"/campaigns",element:s.jsx(PO,{projects:d,onUpdate:v,onNavigateToProject:C,onAddProject:()=>r("/dashboard/campaigns/new")})}),s.jsx(Le,{path:"/campaigns/new",element:s.jsx(KO,{onBack:()=>r("/dashboard/campaigns"),onCreated:v})}),s.jsx(Le,{path:"/campaigns/:projectId",element:s.jsx(BM,{onUpdate:v})}),s.jsx(Le,{path:"/buy-credits",element:s.jsx(RM,{onBack:()=>r("/dashboard"),onPurchase:v})}),s.jsx(Le,{path:"/profile",element:s.jsx(PM,{})}),s.jsx(Le,{path:"/balance",element:s.jsx(DM,{})}),s.jsx(Le,{path:"/pricing",element:s.jsx(sk,{})}),s.jsx(Le,{path:"/affiliate",element:s.jsx(OM,{})}),s.jsx(Le,{path:"/support",element:s.jsx(zM,{})}),s.jsx(Le,{path:"*",element:s.jsx(Ir,{to:"/dashboard",replace:!0})})]})})}),s.jsx("footer",{className:"px-12 py-8 border-t border-gray-200 mt-auto bg-white",children:s.jsxs("div",{className:"max-w-screen-2xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-[10px] font-bold uppercase tracking-widest text-gray-400",children:[s.jsx(ze,{to:"/helpdesk",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Helpdesk"}),s.jsx(ze,{to:"/legal/refund",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Refund Policy"}),s.jsx(ze,{to:"/legal/delivery",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Delivery Policy"}),s.jsx(ze,{to:"/legal/privacy",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Privacy Policy"}),s.jsx(ze,{to:"/legal/terms",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Terms of Service"}),s.jsx(ze,{to:"/legal/agb",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"AGB"}),s.jsx(ze,{to:"/legal/impressum",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Impressum"})]}),s.jsx("div",{className:"text-[10px] font-medium text-gray-400",children:" 2025 Traffic Creator Inc."})]})})]})]})},BM=({onUpdate:n})=>{const{projectId:e}=Oh(),t=xr();return e?s.jsx(HO,{projectId:e,onBack:()=>t("/dashboard/campaigns"),onUpdate:n}):s.jsx("div",{children:"Invalid Project ID"})},Uv=({onSuccess:n})=>{const e=xr(),[t,r]=_.useState(""),[i,l]=_.useState(""),[d,h]=_.useState(""),[f,p]=_.useState(5e3),[y,b]=_.useState(40),[v,C]=_.useState(30),[S,I]=_.useState(!1),[E,D]=_.useState(""),[M,L]=_.useState(!1),Y=[{value:15,label:"15 seconds"},{value:30,label:"30 seconds"},{value:60,label:"1 minute"},{value:120,label:"2 minutes"},{value:180,label:"3 minutes"},{value:300,label:"5 minutes"}],F=()=>!t||!t.includes("@")?(D("Please enter a valid email address"),!1):!i||i.length<3?(D("Project name must be at least 3 characters"),!1):!d||!d.startsWith("http://")&&!d.startsWith("https://")?(D("Please enter a valid URL starting with http:// or https://"),!1):!0,X=async T=>{var P;if(T.preventDefault(),D(""),!!F()){I(!0);try{const k=((P=Y.find(A=>A.value===v))==null?void 0:P.label)||"30 seconds",z={desktop:60,mobile:30,tablet:10},B=await fetch("http://127.0.0.1:8001/quick-campaign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,project_name:i,target_url:d,total_visitors:f,settings:{bounce_rate:y,time_on_page:`${v} seconds`,device_split:z}})});if(!B.ok){const A=await B.json();throw new Error(A.detail||"Failed to create campaign")}L(!0),setTimeout(()=>{e("/dashboard"),n&&n()},2e3)}catch(k){D(k.message||"Something went wrong. Please try again.")}finally{I(!1)}}};return M?s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:s.jsx(Lt,{className:"w-10 h-10 text-white"})}),s.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-3",children:"Campaign Started!"}),s.jsxs("p",{className:"text-gray-600",children:["Your ",s.jsx("span",{className:"font-bold text-[#ff4d00]",children:f.toLocaleString()})," visitor campaign is running."]})]}):s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative rounded-3xl overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ff4d00] to-[#e04400] z-0"}),s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 z-0 mix-blend-overlay"}),s.jsx("div",{className:"absolute -top-20 -right-20 w-96 h-96 bg-white opacity-10 rounded-full blur-3xl z-0"}),s.jsx("div",{className:"absolute -bottom-20 -left-20 w-96 h-96 bg-black opacity-10 rounded-full blur-3xl z-0"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"text-center mb-10 text-white",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md border border-white/30 px-4 py-2 text-xs font-bold uppercase tracking-widest mb-4 rounded-full shadow-sm",children:[s.jsx(Wt,{size:14,className:"fill-white text-white"})," Free Traffic Campaign"]}),s.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-4 drop-shadow-sm",children:["Get ",s.jsx("span",{className:"text-white underline decoration-white/30 decoration-4 underline-offset-4",children:"Real Visitors"})," Today"]}),s.jsx("p",{className:"text-xl font-medium text-white/90 max-w-2xl mx-auto",children:"Drive up to 10,000 visitors in 24 hours. No credit card required."})]}),s.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden transform transition-all hover:scale-[1.01] duration-500",children:[s.jsxs("div",{className:"bg-gradient-to-r from-[#ff4d00] to-[#e04400] px-8 py-5 flex items-center gap-4 border-b border-white/10",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center shrink-0 shadow-inner",children:s.jsx(UD,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-bold uppercase tracking-wide text-sm",children:"Quick Campaign"}),s.jsx("p",{className:"text-white/80 text-xs",children:"Fill in the details below"})]})]}),s.jsxs("form",{onSubmit:X,className:"p-8 space-y-6",children:[E&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3 animate-in fade-in slide-in-from-top-2",children:[s.jsx($g,{className:"text-red-500 shrink-0",size:20}),s.jsx("span",{className:"text-red-700 text-sm font-bold",children:E})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Email"}),s.jsxs("div",{className:"relative group",children:[s.jsx("input",{type:"email",value:t,onChange:T=>r(T.target.value),placeholder:"you@example.com",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none pl-11 shadow-sm"}),s.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#ff4d00] transition-colors",children:s.jsx(po,{size:16})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Project Name"}),s.jsx("input",{type:"text",value:i,onChange:T=>l(T.target.value),placeholder:"My Campaign",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none shadow-sm"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Target Website URL"}),s.jsxs("div",{className:"relative group",children:[s.jsx("input",{type:"url",value:d,onChange:T=>h(T.target.value),placeholder:"https://yourwebsite.com",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 pl-11 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none shadow-sm"}),s.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#ff4d00] transition-colors",children:s.jsx(nn,{size:16})})]})]}),s.jsxs("div",{className:"bg-gray-50/80 rounded-xl p-6 space-y-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:[s.jsx(yd,{size:12})," Campaign Settings"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:"Visitors"}),s.jsx("span",{className:"text-lg font-black text-[#ff4d00] bg-white px-2 py-0.5 rounded shadow-sm border border-gray-100",children:f.toLocaleString()})]}),s.jsx("input",{type:"range",min:"1000",max:"10000",step:"500",value:f,onChange:T=>p(parseInt(T.target.value)),className:"w-full h-2 bg-gray-200 rounded-full appearance-none cursor-pointer accent-[#ff4d00] hover:accent-black transition-all"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Bounce Rate"}),s.jsxs("span",{className:"text-sm font-black text-gray-900",children:[y,"%"]})]}),s.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:y,onChange:T=>b(parseInt(T.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-full appearance-none cursor-pointer accent-gray-900 hover:accent-[#ff4d00] transition-all"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Time on Page"}),s.jsx("span",{className:"text-sm font-black text-gray-900",children:v<60?`${v}s`:`${Math.floor(v/60)}m ${v%60}s`})]}),s.jsx("input",{type:"range",min:"15",max:"300",step:"15",value:v,onChange:T=>C(parseInt(T.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-full appearance-none cursor-pointer accent-gray-900 hover:accent-[#ff4d00] transition-all"})]})]})]})]}),s.jsxs("div",{className:"bg-green-50 rounded-xl p-5 border border-green-100 flex items-center gap-4 shadow-sm",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center border-4 border-green-100 shrink-0",children:s.jsx(Lt,{size:20,className:"text-green-500 fill-green-50"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-green-800 font-extrabold text-sm uppercase tracking-wide block",children:"Free Campaign Summary"}),s.jsxs("span",{className:"text-green-600 text-xs font-medium",children:[f.toLocaleString()," visitors  24 hours duration"]})]}),s.jsx("span",{className:"text-2xl font-black text-green-600 tracking-tighter",children:"FREE"})]}),s.jsx("button",{type:"submit",disabled:S,className:"w-full bg-black text-white py-5 px-6 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-gray-900 transition-all shadow-xl hover:shadow-2xl disabled:opacity-70 disabled:cursor-not-allowed group flex items-center justify-center gap-3 transform active:scale-[0.98]",children:S?"Creating Campaign...":s.jsxs(s.Fragment,{children:["Start Free Campaign ",s.jsx(Ds,{className:"group-hover:translate-x-1 transition-transform"})]})})]})]})}),s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[s.jsx("div",{className:"bg-orange-50 p-2 rounded-lg",children:s.jsx(kf,{className:"w-5 h-5 text-[#ff4d00]"})}),s.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Where You'll See Traffic"})]}),s.jsxs("ul",{className:"space-y-4 text-sm text-gray-600",children:[s.jsxs("li",{className:"flex gap-3 items-start",children:[s.jsx(Th,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),s.jsxs("span",{children:[s.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Google Analytics 4"})," Real-time and general traffic reports"]})]}),s.jsxs("li",{className:"flex gap-3 items-start",children:[s.jsx(Th,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),s.jsxs("span",{children:[s.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Google Search Console"})," Improved engagement signals"]})]}),s.jsxs("li",{className:"flex gap-3 items-start",children:[s.jsx(Th,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),s.jsxs("span",{children:[s.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Server Logs"})," Direct hit requests to your server"]})]}),s.jsxs("li",{className:"flex gap-3 items-start",children:[s.jsx(Th,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),s.jsxs("span",{children:[s.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Heatmaps"})," Session recordings and scroll depth"]})]})]})]}),s.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[s.jsx("div",{className:"bg-orange-50 p-2 rounded-lg",children:s.jsx(fo,{className:"w-5 h-5 text-[#ff4d00]"})}),s.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Traffic Sources"})]}),s.jsx("ul",{className:"space-y-3 text-sm font-medium text-gray-600",children:["Direct traffic (organic visitors)","Organic search (Google, Bing)","Social referrals (if enabled)","Referral from other sites"].map((T,P)=>s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx(vd,{size:14,className:"text-[#ff4d00]"}),s.jsx("span",{children:T})]},P))})]}),s.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[s.jsx("div",{className:"bg-green-50 p-2 rounded-lg",children:s.jsx(Ta,{className:"w-5 h-5 text-green-600"})}),s.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Quality & Safety"})]}),s.jsx("ul",{className:"space-y-3 text-sm font-medium text-gray-600",children:["Residential IP addresses","Real browser fingerprints","GA4 compliant events","Anti-fingerprinting enabled"].map((T,P)=>s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx(Lt,{size:14,className:"text-green-500"}),s.jsx("span",{children:T})]},P))})]})]})]})]})]})},FM=({onLogin:n,onNavigate:e})=>{const[t,r]=_.useState(0),[i,l]=_.useState("business"),d=v=>{r(t===v?null:v)},h={"@context":"https://schema.org","@type":"Organization",name:"Traffic Creator",url:"http://localhost:3000/",description:"Premium website traffic generator for boosting SEO metrics and engagement.",brand:{"@type":"Brand",name:"Traffic Creator"}},f={"@context":"https://schema.org","@type":"WebSite",name:"Traffic Creator",url:"http://localhost:3000/",potentialAction:{"@type":"SearchAction",target:"http://localhost:3000/search?q={search_term_string}","query-input":"required name=search_term_string"}},p=[{icon:s.jsx(PD,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Smart Site Crawler",description:"Our advanced bots map your entire site architecture to distribute traffic naturally across deep links, not just your homepage."},{icon:s.jsx(lr,{className:"w-6 h-6 text-[#ff4d00]"}),title:"GA4 Compliant Events",description:"Every visit generates real engagement signalsscrolls, clicks, and mouse movementsthat are fully verified by Google Analytics 4."},{icon:s.jsx(ef,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Organic Growth Patterns",description:"Traffic volume follows natural diurnal curves and viral spikes, eliminating the flat-line patterns that trigger bot filters."},{icon:s.jsx(nn,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Elite Residential IPs",description:"Traffic originates from verified residential ISPs in your target country, making it indistinguishable from real human visitors."},{icon:s.jsx(zE,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Live RSS Sync",description:"Automatically detect new blog posts and drive immediate traffic to them, signaling freshness to search engines."},{icon:s.jsx(N3,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Timezone Intelligence",description:"Visits are scheduled according to the local business hours of your target audience for maximum realism."},{icon:s.jsx(l3,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Social Signal Ready",description:"Seamlessly integrates with t.co, bit.ly, and other shorteners to simulate viral social media referral traffic."},{icon:s.jsx(fo,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Hyper-Local Targeting",description:"Pinpoint your audience by city or region. Perfect for local SEO campaigns and brick-and-mortar businesses."}],y=[{icon:s.jsx(Rl,{size:32,className:"text-[#ff4d00]"}),title:"SEO Ranking Boost",metric:"+450%",desc:"How a niche blog went from Page 10 to Page 1 by signaling high user engagement to search algorithms."},{icon:s.jsx(ef,{size:32,className:"text-[#ff4d00]"}),title:"Analytics Repair",metric:"15% Bounce",desc:"A SaaS company reduced their bounce rate from 80% to 15% to improve their domain authority score."},{icon:s.jsx(Z5,{size:32,className:"text-[#ff4d00]"}),title:"Crypto Trending",metric:"#1 Spot",desc:"A new Token project used volume traffic to trend on CoinMarketCap and CoinGecko within 24 hours."},{icon:s.jsx(tD,{size:32,className:"text-[#ff4d00]"}),title:"Agency Growth",metric:"50+ Clients",desc:"A digital agency resold our traffic to their clients, improving client retention reports by 200%."}],b=[{question:"How quickly does traffic start?",answer:"Campaigns typically start within 5 minutes of approval. Our network handles over 50M requests daily, ensuring instant scalability."},{question:"Is this traffic Adsense safe?",answer:"Yes, our 'Breakthrough' and 'Agency' packages feature 100% Adsense safe traffic, filtered for high engagement and low bounce rates."},{question:"Can I target specific devices?",answer:"Absolutely. You can segment traffic by Desktop, Mobile (iOS/Android), and Tablet in the campaign settings."},{question:"Do you offer a money-back guarantee?",answer:"Yes. If we fail to deliver the purchased visitor count within 72 hours of the campaign start, you are eligible for a full refund."},{question:"Can I use the API for reselling?",answer:"Yes, our REST API is designed for agencies and resellers. You can programmatically create projects, check stats, and manage clients."},{question:"What is the difference between Bounce Rate and Return Rate?",answer:"Bounce Rate is the percentage of visitors who leave after one page. Return Rate is the percentage of visitors who come back to your site later. You can configure both."},{question:"How do I configure geolocation targeting?",answer:"In your project settings, simply select the countries you wish to target. For 'Agency' plans, you can specify individual cities."},{question:"Can I stop and restart my campaigns?",answer:"Yes, you have full control. You can pause, resume, or stop campaigns instantly from the dashboard at any time."}];return s.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans overflow-hidden",children:[s.jsxs(zg,{children:[s.jsx("title",{children:"Traffic Creator - Boost Your Website Traffic | Premium SEO Traffic Generator"}),s.jsx("meta",{name:"description",content:"Get high-quality, residential IP traffic to improve your SEO rankings and metrics. Fully compatible with GA4 and bypasses bot filters with randomized natural events."}),s.jsx("meta",{name:"keywords",content:"website traffic, boost traffic, SEO traffic, organic traffic, traffic generator, buy website traffic, traffic creator, website visitors, GA4 traffic"}),s.jsx("meta",{property:"og:title",content:"Traffic Creator - Boost Your Website Traffic"}),s.jsx("meta",{property:"og:description",content:"High-quality residential IP traffic for SEO boosting. Safe for GA4 and AdSense."}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"http://localhost:3000/"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:"Traffic Creator - Boost Your Website Traffic"}),s.jsx("meta",{name:"twitter:description",content:"Premium website traffic generator using residential IPs. Boost your SEO metrics safely."}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(h)}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(f)}),s.jsx("link",{rel:"icon",type:"image/svg+xml",href:"/favicon.svg"})]}),s.jsx("nav",{className:"border-b border-gray-100 bg-white/95 backdrop-blur-md sticky top-0 z-50 transition-all duration-300",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[s.jsx("span",{className:"text-2xl font-black text-[#ff4d00] tracking-tight group-hover:scale-105 transition-transform",children:"TRAFFIC"}),s.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsxs("div",{className:"hidden md:flex gap-8 text-sm font-bold uppercase tracking-wide text-gray-500",children:[s.jsx("a",{href:"#problem",className:"hover:text-[#ff4d00] transition-colors",children:"The Problem"}),s.jsx("a",{href:"#features",className:"hover:text-[#ff4d00] transition-colors",children:"Features"}),s.jsx(ze,{to:"/pricing",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Pricing"})]}),s.jsx(ze,{to:"/login",className:"bg-black text-white px-6 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors shadow-md hover:shadow-lg flex items-center",children:"Dashboard Login"})]})]})}),s.jsxs("section",{className:"relative pt-32 pb-40 overflow-hidden bg-white",children:[s.jsx("div",{className:"absolute inset-0 z-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"40px 40px"}}),s.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-orange-100/40 rounded-full blur-3xl -translate-y-1/2 translate-x-1/3 z-0"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/5 border border-black/10 px-4 py-1.5 text-[10px] font-bold uppercase tracking-widest mb-8 rounded-full shadow-sm animate-in fade-in slide-in-from-bottom-4 backdrop-blur-sm",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-[#ff4d00] animate-pulse"})," Live Traffic Network Active"]}),s.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter leading-[0.9] mb-8 text-gray-900 animate-in fade-in slide-in-from-bottom-6",children:["DOMINATE",s.jsx("br",{}),s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-600",children:"SEARCH."})]}),s.jsxs("p",{className:"text-xl md:text-2xl text-gray-500 mb-10 max-w-lg leading-relaxed font-medium animate-in fade-in slide-in-from-bottom-8",children:["The world's first ",s.jsx("span",{className:"text-gray-900 font-bold",children:"intelligent traffic engine"}),". Boost SEO rankings with real residential visitors, certified purely organic by Google Analytics 4."]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 animate-in fade-in slide-in-from-bottom-10",children:[s.jsxs(ze,{to:"/signup",className:"group bg-[#ff4d00] text-white px-8 py-5 text-sm font-bold uppercase tracking-wider hover:bg-black transition-all shadow-[0_10px_40px_-10px_rgba(255,77,0,0.5)] hover:shadow-xl flex items-center justify-center gap-3 transform hover:-translate-y-1 rounded-sm",children:["Launch Campaign ",s.jsx(Ds,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),s.jsx(ze,{to:"/signup",className:"group bg-white border-2 border-gray-100 text-gray-900 px-8 py-5 text-sm font-bold uppercase tracking-wider hover:border-black transition-all transform hover:-translate-y-1 flex items-center justify-center rounded-sm",children:"View Live Demo"})]}),s.jsxs("div",{className:"mt-12 flex items-center gap-6 text-xs font-bold text-gray-400 uppercase tracking-widest animate-in fade-in slide-in-from-bottom-12",children:[s.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4].map(v=>s.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center text-[8px] overflow-hidden",children:s.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${v}`,alt:"User"})},v))}),s.jsx("div",{children:"Trusted by 2,000+ SEO Agencies"})]})]}),s.jsxs("div",{className:"relative flex items-center justify-center h-[600px] perspective-1000 animate-in fade-in duration-1000 lg:translate-x-10",children:[s.jsxs("div",{className:"relative w-96 h-96 animate-[spin_40s_linear_infinite] transform-style-3d",children:[s.jsx("div",{className:"absolute inset-0 rounded-full border border-gray-900/5"}),s.jsx("div",{className:"absolute inset-8 rounded-full border border-[#ff4d00]/20 transform rotate-12"}),s.jsx("div",{className:"absolute inset-16 rounded-full border border-[#ff4d00]/40 transform -rotate-12"}),s.jsx("div",{className:"absolute top-0 left-1/2 w-4 h-4 bg-[#ff4d00] rounded-full shadow-[0_0_20px_#ff4d00] -translate-x-1/2 -translate-y-1/2 animate-pulse"}),s.jsx("div",{className:"absolute bottom-0 left-1/2 w-3 h-3 bg-black rounded-full -translate-x-1/2 translate-y-1/2"}),s.jsx("div",{className:"absolute inset-24 bg-gradient-to-br from-orange-50 to-white rounded-full shadow-inner flex items-center justify-center border border-gray-100 backdrop-blur-sm",children:s.jsx(nn,{className:"text-[#ff4d00] w-24 h-24 opacity-20 animate-pulse",strokeWidth:1})})]}),s.jsxs("div",{className:"absolute top-[20%] right-0 bg-white p-4 rounded-lg shadow-xl border border-gray-100 animate-[bounce_4s_infinite] max-w-[180px]",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("div",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Status"})]}),s.jsx("div",{className:"text-xl font-black text-gray-900",children:"+458%"}),s.jsx("div",{className:"text-[10px] text-gray-400",children:"Traffic Increase (7d)"})]}),s.jsxs("div",{className:"absolute bottom-[20%] left-0 bg-white p-4 rounded-lg shadow-xl border border-gray-100 animate-[bounce_5s_infinite] delay-1000 max-w-[180px]",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-2 h-2 bg-[#ff4d00] rounded-full"}),s.jsx("div",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Live Users"})]}),s.jsx("div",{className:"text-xl font-black text-gray-900",children:"12,405"}),s.jsx("div",{className:"text-[10px] text-gray-400",children:"Active Sessions Now"})]})]})]})]}),s.jsx("section",{className:"bg-black py-10 overflow-hidden border-y border-gray-800",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center gap-8",children:[s.jsx("div",{className:"text-white text-xs font-bold uppercase tracking-widest whitespace-nowrap opacity-50",children:"Powering Leading Brands:"}),s.jsxs("div",{className:"flex-1 flex justify-between items-center gap-8 opacity-40 grayscale hover:grayscale-0 transition-all duration-500",children:[s.jsx("span",{className:"text-xl font-black text-white font-serif italic",children:"Vanguard."}),s.jsx("span",{className:"text-xl font-bold text-white tracking-widest",children:"NEXUS"}),s.jsx("span",{className:"text-xl font-bold text-white font-mono",children:"CODEBLOCK"}),s.jsxs("span",{className:"text-xl font-black text-white tracking-tighter",children:["turbo",s.jsx("span",{className:"text-[#ff4d00]",children:"boost"})]}),s.jsx("span",{className:"text-xl font-medium text-white",children:"Aperture Sci"})]})]})}),s.jsx("section",{id:"quick-campaign",className:"py-24 px-6 bg-orange-50/50",children:s.jsx(Uv,{})}),s.jsxs("section",{id:"problem",className:"bg-[#0a0a0a] py-32 px-6 border-y border-gray-900 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-gray-900 via-black to-[#1a1a1a] opacity-80"}),s.jsx("div",{className:"absolute top-0 left-1/2 w-[1000px] h-[1000px] bg-[#ff4d00] rounded-full blur-[120px] opacity-[0.03] -translate-x-1/2 -translate-y-1/2 pointer-events-none"}),s.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-20 items-center relative z-10",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[#ff4d00] font-bold text-xs uppercase tracking-widest mb-4 flex items-center gap-2",children:[s.jsx(Bn,{size:14})," Critical SEO Warning"]}),s.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-8 text-white leading-tight",children:["Is Your Website ",s.jsx("br",{}),s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-gray-500 to-gray-700",children:"Invisible?"})]}),s.jsxs("p",{className:"text-xl text-gray-400 leading-relaxed mb-10 font-light",children:["91% of content gets ",s.jsx("span",{className:"text-white font-bold",children:"zero traffic"})," from Google. Without active visitor signals, search algorithms deem your site irrelevant and bury it deep in the index."]}),s.jsx("div",{className:"space-y-6",children:[{title:"Low Domain Authority",desc:"Search engines trust sites with active user bases."},{title:"Poor Search Rankings",desc:"No clicks means no ranking improvements."},{title:"Zero Brand Visibility",desc:"Your competitors are taking your customers."},{title:"Stagnant Growth",desc:"Great content is useless if nobody sees it."}].map((v,C)=>s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full mt-2.5 shadow-[0_0_10px_#ff4d00]"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-bold text-sm uppercase tracking-wide mb-1",children:v.title}),s.jsx("div",{className:"text-gray-500 text-xs font-medium",children:v.desc})]})]},C))})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border border-white/5 rounded-2xl bg-white/5 backdrop-blur-sm shadow-2xl relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#ff4d00]/5 to-transparent rounded-2xl"}),s.jsxs("div",{className:"relative w-72 h-72 rounded-full border border-white/10 bg-black flex items-center justify-center overflow-hidden mb-8 shadow-inner z-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-transparent via-[#ff4d00]/30 to-transparent animate-[spin_3s_linear_infinite]",style:{clipPath:"polygon(50% 50%, 100% 0, 100% 50%)"}}),s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),s.jsx("div",{className:"absolute w-3/4 h-3/4 border border-white/10 rounded-full"}),s.jsx("div",{className:"absolute w-1/2 h-1/2 border border-white/10 rounded-full"}),s.jsx("div",{className:"absolute w-1/4 h-1/4 border border-white/10 rounded-full"}),s.jsx("div",{className:"w-3 h-3 bg-red-600 rounded-full animate-ping shadow-[0_0_20px_#ff0000]"}),s.jsx("div",{className:"absolute bottom-1/2 translate-y-8 font-mono text-[10px] text-red-500 uppercase tracking-widest font-bold animate-pulse bg-black/80 px-2 py-1 rounded",children:"No Traffic Signal"})]}),s.jsxs("div",{className:"text-center space-y-2 relative z-10",children:[s.jsx("div",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Search Engine Void"}),s.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Crawlers are skipping your site due to inactivity."})]})]})]})]}),s.jsxs("section",{className:"py-32 px-6 bg-white relative overflow-hidden",children:[s.jsx("div",{className:"hidden lg:block absolute top-[50%] left-0 w-full h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent border-t border-dashed border-gray-300"}),s.jsxs("div",{className:"max-w-7xl mx-auto text-center mb-20 relative z-10",children:[s.jsx("div",{className:"inline-block bg-[#ff4d00] text-white text-[10px] font-bold uppercase tracking-widest px-3 py-1 mb-4 rounded-sm",children:"Modus Operations"}),s.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-4 text-gray-900",children:"The Traffic Injection Engine"}),s.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto text-lg leading-relaxed",children:"We bridge the gap between obscurity and authority by injecting high-quality, targeted traffic directly to your URLs."})]}),s.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12 relative z-10",children:[{title:"Target Identification",desc:"Input your URL. Our system analyzes your niche, keywords, and ideal geographic demographics.",icon:s.jsx(vd,{className:"w-8 h-8 text-[#ff4d00]"})},{title:"Traffic Calibration",desc:"Configure behavior patterns, bounce rates, and session durations to match organic profiles.",icon:s.jsx(PE,{className:"w-8 h-8 text-[#ff4d00]"})},{title:"Authority Surge",desc:"As consistent traffic flows, search engines validate your site, boosting DA and ranking position.",icon:s.jsx(Rl,{className:"w-8 h-8 text-[#ff4d00]"})}].map((v,C)=>s.jsxs("div",{className:"bg-white border border-gray-100 p-8 text-center hover:border-[#ff4d00] hover:shadow-2xl transition-all duration-300 group rounded-xl transform hover:-translate-y-2 relative",children:[s.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 w-12 h-12 bg-white border border-gray-100 rounded-full flex items-center justify-center text-xl font-black text-gray-300 group-hover:text-[#ff4d00] group-hover:border-[#ff4d00] transition-colors shadow-sm",children:C+1}),s.jsx("div",{className:"mt-8 mb-6 flex justify-center opacity-80 group-hover:scale-110 transition-transform duration-300",children:v.icon}),s.jsx("h3",{className:"text-lg font-black text-gray-900 mb-3 uppercase tracking-wide",children:v.title}),s.jsx("p",{className:"text-gray-500 text-sm leading-relaxed font-medium",children:v.desc})]},C))})]}),s.jsx("section",{id:"features",className:"py-32 px-6 bg-[#f8f9fa] border-y border-gray-200",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-20 gap-6",children:[s.jsxs("div",{className:"max-w-xl",children:[s.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-6 text-gray-900",children:"Enterprise Capabilities"}),s.jsx("div",{className:"w-20 h-1.5 bg-[#ff4d00] mb-6"}),s.jsx("p",{className:"text-gray-500 text-lg leading-relaxed",children:"Built for agencies and high-growth businesses. Our platform provides the granular control needed for complex SEO strategies."})]}),s.jsxs(ze,{to:"/signup",className:"hidden md:flex items-center gap-2 font-bold text-[#ff4d00] border-b-2 border-[#ff4d00] pb-1 hover:text-black hover:border-black transition-all uppercase tracking-widest text-xs",children:["View All Features ",s.jsx(Ds,{size:14})]})]}),s.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:p.map((v,C)=>s.jsx("div",{className:"bg-white p-8 border border-gray-100 hover:border-[#ff4d00] transition-all duration-300 group shadow-sm hover:shadow-xl rounded-xl flex flex-col justify-between h-full",children:s.jsxs("div",{children:[s.jsx("div",{className:"bg-gray-50 w-12 h-12 flex items-center justify-center mb-6 group-hover:bg-[#ff4d00] transition-colors rounded-lg text-[#ff4d00] group-hover:text-white shadow-inner",children:v.icon}),s.jsx("h3",{className:"text-sm font-black mb-3 uppercase tracking-wide text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:v.title}),s.jsx("p",{className:"text-gray-500 text-xs leading-relaxed font-medium",children:v.description})]})},C))}),s.jsx("div",{className:"mt-12 text-center md:hidden",children:s.jsxs(ze,{to:"/signup",className:"inline-flex items-center gap-2 font-bold text-[#ff4d00] border-b-2 border-[#ff4d00] pb-1 uppercase tracking-widest text-xs",children:["View All Features ",s.jsx(Ds,{size:14})]})})]})}),s.jsx("section",{id:"pricing",className:"py-32 px-6 bg-white border-b border-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-6 text-gray-900",children:"Scalable Traffic Plans"}),s.jsx("p",{className:"text-gray-500 max-w-md mx-auto mb-10 font-medium text-lg",children:i==="business"?"One-time credits. No monthly commitment. Use them whenever you need a boost.":"High-volume monthly pools designed for agencies managing multiple clients."}),s.jsxs("div",{className:"inline-flex bg-gray-100 p-1.5 rounded-lg",children:[s.jsx("button",{onClick:()=>l("business"),className:`px-8 py-3 text-xs font-bold uppercase tracking-wider rounded-md transition-all ${i==="business"?"bg-white text-gray-900 shadow-md":"text-gray-500 hover:text-gray-900"}`,children:"For Business"}),s.jsx("button",{onClick:()=>l("agency"),className:`px-8 py-3 text-xs font-bold uppercase tracking-wider rounded-md transition-all ${i==="agency"?"bg-[#ff4d00] text-white shadow-md":"text-gray-500 hover:text-[#ff4d00]"}`,children:"For Agencies"})]})]}),i==="business"?s.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:[{name:"Foundation",traffic:"50,000",price:"29",desc:"Perfect for testing new landing pages and verifying analytics setup."},{name:"Momentum",traffic:"300,000",price:"129",desc:"Ideal for small business sites needing a consistent baseline."},{name:"Breakthrough",traffic:"1,000,000",price:"399",desc:"The growth standard. Sufficient data to impact domain authority.",featured:!0},{name:"Apex",traffic:"3,000,000+",price:"999",desc:"Maximum power for competitive niches and large e-commerce sites."}].map((v,C)=>s.jsxs("div",{className:`flex flex-col bg-white relative transition-all duration-300 rounded-2xl ${v.featured?"border-2 border-[#ff4d00] shadow-2xl scale-105 z-10":"border border-gray-100 hover:border-gray-200 hover:shadow-xl"} p-8`,children:[v.featured&&s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-[#ff4d00] text-white px-4 py-1.5 text-[10px] font-bold uppercase tracking-widest shadow-md rounded-full",children:"Most Popular"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-2",children:v.name}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-4xl font-black text-gray-900",children:v.price}),s.jsx("span",{className:"text-gray-400 text-xs font-medium uppercase",children:"/ lifetime"})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-center border border-gray-100",children:[s.jsx("div",{className:"text-sm font-bold text-gray-900",children:v.traffic}),s.jsx("div",{className:"text-[10px] uppercase text-gray-500 font-bold tracking-wide",children:"Traffic Credits"})]}),s.jsx("p",{className:"text-xs text-gray-500 font-medium mb-8 min-h-[40px] leading-relaxed",children:v.desc}),s.jsxs("ul",{className:"space-y-3 mb-8 flex-1 border-t border-gray-50 pt-6",children:[s.jsxs("li",{className:"text-xs text-gray-600 flex gap-2 font-medium",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-1"})," Full Feature Access"]}),s.jsxs("li",{className:"text-xs text-gray-600 flex gap-2 font-medium",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-1"})," Geo Targeting (Country)"]}),s.jsxs("li",{className:"text-xs text-gray-600 flex gap-2 font-medium",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-1"})," Mobile/Desktop Split"]})]}),s.jsx(ze,{to:"/signup",className:`w-full py-4 text-xs font-bold uppercase tracking-widest transition-all text-center rounded-lg ${v.featured?"bg-[#ff4d00] text-white hover:bg-black shadow-lg hover:shadow-xl":"bg-black text-white hover:bg-gray-800"}`,children:"Select Plan"})]},C))}):s.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[{name:"Agency Pro",traffic:"5 Million",price:"1,249",features:["Client Dashboard","Traffic Pooling","Priority Support"]},{name:"Agency Scale",traffic:"15 Million",price:"2,999",featured:!0,features:["Client Dashboard","Traffic Pooling","White-Label Reports","Dedicated Manager"]},{name:"Agency Enterprise",traffic:"50 Million+",price:"Custom",features:["Everything in Scale","Full API Access","Custom Integrations","Strategy Calls"]}].map((v,C)=>s.jsxs("div",{className:`flex flex-col bg-white relative transition-all duration-300 rounded-2xl ${v.featured?"border-2 border-[#ff4d00] shadow-2xl z-10 scale-105":"border border-gray-100 hover:shadow-xl"} p-10`,children:[v.featured&&s.jsx("div",{className:"absolute top-0 right-10 -translate-y-1/2 bg-[#ff4d00] text-white px-4 py-1 text-[10px] font-bold uppercase tracking-widest rounded-full",children:"Top Value"}),s.jsx("h3",{className:"text-lg font-black uppercase tracking-tight text-gray-900 mb-2",children:v.name}),s.jsx("div",{className:"text-4xl font-black text-gray-900 mb-2",children:v.price}),s.jsxs("div",{className:"text-sm font-bold text-gray-500 mb-8 pb-4 border-b border-gray-100",children:["Monthly Pool: ",s.jsx("span",{className:"text-black",children:v.traffic})]}),s.jsx("ul",{className:"space-y-4 mb-10 flex-1",children:v.features.map((S,I)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-center gap-3 font-medium",children:[s.jsx(UE,{size:16,className:"text-[#ff4d00]"})," ",S]},I))}),s.jsx(ze,{to:"/signup",className:"w-full bg-black text-white py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors shadow-lg text-center rounded-lg",children:v.price==="Custom"?"Contact Sales team":"Start Subscription"})]},C))})]})}),s.jsx("section",{className:"py-32 px-6 bg-[#f8f9fa] border-t border-gray-200",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-20 text-center",children:[s.jsx("div",{className:"text-[#ff4d00] text-xs font-bold uppercase tracking-widest mb-2",children:"Real Results"}),s.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight text-gray-900",children:"Proven Performance"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:y.map((v,C)=>s.jsxs("div",{className:"bg-white border border-gray-100 p-8 hover:border-[#ff4d00] transition-all group hover:shadow-xl rounded-xl",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("div",{className:"opacity-80 group-hover:opacity-100 transition-opacity text-[#ff4d00] bg-orange-50 w-12 h-12 flex items-center justify-center rounded-lg",children:v.icon}),s.jsx("div",{className:"bg-green-100 text-green-700 px-2 py-1 text-[10px] font-bold uppercase tracking-wide rounded-sm",children:"Verified"})]}),s.jsx("div",{className:"text-3xl font-black text-gray-900 mb-2 group-hover:text-[#ff4d00] transition-colors",children:v.metric}),s.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide text-gray-400 mb-4",children:v.title}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-medium",children:v.desc})]},C))})]})}),s.jsxs("section",{className:"py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/0 via-black/0 to-black/20"}),s.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[s.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white tracking-tighter mb-8 leading-[0.9]",children:["READY TO BREAK",s.jsx("br",{}),"THE INTERNET?"]}),s.jsx("p",{className:"text-white/90 text-xl font-medium mb-12 max-w-2xl mx-auto",children:"Join 5,000+ marketers driving millions of visitors today. No contracts. Instant delivery."}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-6",children:[s.jsx(ze,{to:"/signup",className:"bg-black text-white px-10 py-5 text-sm font-bold uppercase tracking-widest hover:scale-105 transition-transform shadow-xl rounded-sm border-2 border-transparent hover:border-white",children:"Get Started Now"}),s.jsx(ze,{to:"/signup",className:"bg-white text-[#ff4d00] px-10 py-5 text-sm font-bold uppercase tracking-widest hover:scale-105 transition-transform shadow-xl rounded-sm",children:"Talk to Sales"})]})]})]}),s.jsx("section",{id:"faq",className:"py-32 px-6 bg-[#f9fafb]",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-black uppercase tracking-tight mb-16 text-center text-gray-900",children:"Questions?"}),s.jsx("div",{className:"space-y-4",children:b.map((v,C)=>s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left",onClick:()=>d(C),children:[s.jsx("span",{className:"font-bold text-gray-900",children:v.question}),t===C?s.jsx(Fg,{size:20,className:"text-[#ff4d00]"}):s.jsx(Al,{size:20,className:"text-gray-400"})]}),t===C&&s.jsx("div",{className:"px-6 pb-6 text-gray-600 leading-relaxed text-sm animate-in fade-in slide-in-from-top-2 border-t border-gray-100 pt-4",children:v.answer})]},C))})]})}),s.jsx("footer",{className:"bg-black text-white py-16 px-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[s.jsx("div",{className:"text-2xl font-black text-white tracking-tight",children:"TRAFFIC CREATOR"}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-8 text-xs font-bold uppercase tracking-widest text-gray-500 text-center md:text-left",children:[s.jsx(ze,{to:"/blog",className:"hover:text-white uppercase",children:"Blog"}),s.jsx(ze,{to:"/helpdesk",className:"hover:text-white uppercase",children:"Help Center"}),s.jsx(ze,{to:"/legal/refund",className:"hover:text-white uppercase",children:"Refund Policy"}),s.jsx(ze,{to:"/legal/privacy",className:"hover:text-white uppercase",children:"Privacy Policy"}),s.jsx(ze,{to:"/legal/terms",className:"hover:text-white uppercase",children:"Terms of Service"})]}),s.jsx("div",{className:"text-xs text-gray-600",children:" 2025 Traffic Creator Inc."})]})})]})},$M=({onLogin:n,onNavigate:e})=>{const[t,r]=_.useState(!1),i={"@context":"https://schema.org","@type":"Product",name:"Organic Website Traffic Generator",description:"Premium organic traffic service to boost SEO rankings and manipulate CTS with real residential IPs.",brand:{"@type":"Brand",name:"Traffic Creator"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.9",reviewCount:"1250"}},l=[{icon:s.jsx(hr,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Boost Organic CTR",desc:"Our visitors search for your keywords and click your result, signaling high relevance to search algorithms."},{icon:s.jsx(Os,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Increase Dwell Time",desc:"Visitors stay on your site for minutes, scroll through content, and interact, drastically reducing bounce rates."},{icon:s.jsx(nn,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Local SEO Dominance",desc:"Target traffic from specific cities or regions to rank higher in local search results and map packs."},{icon:s.jsx(Ta,{className:"w-6 h-6 text-[#ff4d00]"}),title:"100% Human Behavior",desc:"Mouse movements, scrolling, and clicks are randomized to mimic real human interaction perfectly."}],d=[{feature:"Traffic Source",us:"Real Residential IPs",them:"Data Center Proxies"},{feature:"Behavior",us:"Scrolls, Clicks, Reads",them:"Static Hits"},{feature:"Google Analytics",us:"100% Recognized",them:"Often Filtered / Bot"},{feature:"Effect on SEO",us:"Positive Ranking Signal",them:"Neutral or Negative"},{feature:"AdSense Safe",us:"Yes, Verified",them:"High Risk of Ban"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans overflow-x-hidden",children:[s.jsxs(zg,{children:[s.jsx("title",{children:"Buy Organic Website Traffic | Boost SEO Rankings & CTR"}),s.jsx("meta",{name:"description",content:"Generate high-quality organic website traffic to improve SERP rankings. Real residential IPs, keyword targeting, and natural user behavior for SEO professionals."}),s.jsx("meta",{name:"keywords",content:"organic website traffic, buy organic traffic, seo traffic, ctr manipulation, boost rankings, real website visitors"}),s.jsx("link",{rel:"icon",type:"image/svg+xml",href:"/favicon.svg"}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(i)})]}),s.jsx("nav",{className:"fixed w-full top-0 z-50 transition-all duration-300 bg-white/95 backdrop-blur-md border-b border-gray-100/50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[s.jsx("span",{className:"text-2xl font-black text-[#ff4d00] tracking-tight group-hover:scale-105 transition-transform",children:"TRAFFIC"}),s.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsxs("div",{className:"hidden md:flex gap-8 text-sm font-bold uppercase tracking-wide text-gray-500",children:[s.jsxs("a",{href:"#how-it-works",className:"hover:text-[#ff4d00] transition-colors relative group",children:["How It Works",s.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]}),s.jsxs("a",{href:"#benefits",className:"hover:text-[#ff4d00] transition-colors relative group",children:["Features",s.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]}),s.jsxs(ze,{to:"/pricing",className:"hover:text-[#ff4d00] transition-colors relative group",children:["Pricing",s.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]})]}),s.jsx(ze,{to:"/login",className:"bg-black text-white px-6 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-all shadow-md hover:shadow-lg hover:-translate-y-0.5 flex items-center rounded-sm",children:"Dashboard Login"})]})]})}),s.jsxs("section",{className:"pt-32 pb-32 px-6 relative overflow-hidden bg-white",children:[s.jsx("div",{className:"absolute top-0 right-0 w-[50%] h-[50%] bg-gradient-to-b from-orange-50/50 to-transparent pointer-events-none rounded-bl-[100px]"}),s.jsx("div",{className:"absolute top-40 left-10 w-4 h-4 rounded-full bg-orange-200 animate-pulse"}),s.jsx("div",{className:"absolute top-60 right-20 w-3 h-3 rounded-full bg-blue-200 animate-bounce delay-700"}),s.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-16 items-center relative z-10",children:[s.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-700",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-50 text-[#ff4d00] border border-orange-100 px-4 py-2 text-xs font-bold uppercase tracking-widest mb-8 rounded-full shadow-sm hover:shadow-md transition-shadow cursor-default",children:[s.jsx(Wt,{size:14,className:"fill-[#ff4d00]"})," SEO Intelligence Engine"]}),s.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tight leading-[0.9] mb-8 text-gray-900",children:["DOMINATE ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"ORGANIC"}),s.jsx("br",{}),"SEARCH RESULTS."]}),s.jsx("p",{className:"text-xl text-gray-500 mb-10 max-w-lg leading-relaxed font-medium",children:"The only organic website traffic generator designed for SEO professionals. Manipulate CTR, increase dwell time, and signal authority to Google."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(ze,{to:"/signup",className:"group bg-[#ff4d00] text-white px-8 py-4 text-sm font-bold uppercase tracking-wider hover:bg-black transition-all shadow-xl hover:shadow-2xl flex items-center justify-center gap-3 rounded-sm transform hover:-translate-y-1",children:["Launch SEO Campaign",s.jsx(Ds,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),s.jsxs("a",{href:"#demo",className:"bg-white border border-gray-200 text-gray-900 px-8 py-4 text-sm font-bold uppercase tracking-wider hover:border-[#ff4d00] hover:text-[#ff4d00] transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2 rounded-sm group",children:[s.jsx(Lv,{size:16,className:"group-hover:fill-[#ff4d00]"})," View Live Demo"]})]}),s.jsxs("div",{className:"mt-8 flex items-center gap-4 text-xs font-bold text-gray-400 uppercase tracking-widest",children:[s.jsx("span",{children:"Used by 15,000+ SEO Agencies"}),s.jsxs("div",{className:"flex -space-x-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white"}),s.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-300 border-2 border-white"}),s.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-400 border-2 border-white"})]})]})]}),s.jsxs("div",{className:"relative h-[550px] perspective-1000 group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-gray-100 to-gray-50 transform rotate-6 scale-95 opacity-50 rounded-2xl border border-gray-100 transition-transform duration-700 group-hover:rotate-3 group-hover:scale-95"}),s.jsxs("div",{className:"absolute inset-0 bg-white border border-gray-200 shadow-2xl rounded-2xl p-6 overflow-hidden transform transition-transform duration-700 group-hover:-translate-y-2 hover:shadow-[0_20px_50px_rgba(0,0,0,0.1)]",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent z-10 pointer-events-none"}),s.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-6 flex gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400/80"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400/80"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400/80"}),s.jsxs("div",{className:"ml-6 bg-gray-100 rounded-lg h-5 w-64 flex items-center px-2",children:[s.jsx(Mn,{size:10,className:"text-gray-400 mr-2"}),s.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-sm"})]})]}),s.jsx("div",{className:"space-y-6",children:[1,2,3].map(h=>s.jsxs("div",{className:`p-5 rounded-lg border transition-all duration-500 hover:shadow-lg cursor-default relative overflow-hidden ${h===1?"border-[#ff4d00]/20 bg-orange-50/30":"border-gray-50 bg-white"}`,children:[h===1&&s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-[#ff4d00]"}),s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-[10px] font-bold text-gray-500",children:h===1?"TC":"Ad"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-sm mb-1"}),s.jsx("div",{className:"w-48 h-2 bg-gray-100 rounded-sm"})]})]}),s.jsx("div",{className:`w-3/4 h-5 rounded-sm mb-3 ${h===1?"bg-gradient-to-r from-[#ff4d00] to-orange-400":"bg-blue-100"}`}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-sm"}),s.jsx("div",{className:"w-5/6 h-2 bg-gray-100 rounded-sm"})]}),h===1&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[#ff4d00] text-xs font-bold uppercase tracking-wider animate-pulse",children:[s.jsx(Rl,{size:12})," Rank #1  CTR Boost Active"]})]},h))}),s.jsxs("div",{className:"absolute bottom-6 right-6 bg-gray-900/95 backdrop-blur-md text-white p-5 rounded-xl shadow-2xl z-20 border border-gray-800 animate-in fade-in slide-in-from-bottom-4 delay-300",children:[s.jsxs("div",{className:"text-[10px] font-bold uppercase tracking-widest text-[#ff4d00] mb-2 flex items-center gap-2",children:[s.jsx(lr,{size:12})," Performance"]}),s.jsx("div",{className:"text-4xl font-black mb-1",children:"18.4%"}),s.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"Organic CTR (7 Days)"}),s.jsx("div",{className:"w-full bg-gray-800 h-1 mt-3 rounded-full overflow-hidden",children:s.jsx("div",{className:"w-[70%] h-full bg-[#ff4d00]"})})]})]})]})]})]}),s.jsx("section",{id:"demo",className:"py-24 px-6 bg-white",children:s.jsx(Uv,{})}),s.jsx("section",{id:"benefits",className:"py-32 px-6 bg-white relative",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-24",children:[s.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-6",children:"Why Rank #1?"}),s.jsx("div",{className:"w-16 h-1.5 bg-[#ff4d00] mx-auto mb-8 rounded-full"}),s.jsxs("p",{className:"text-gray-500 max-w-2xl mx-auto text-lg leading-relaxed",children:["Search algorithms are evolving. Backlinks aren't enough. You need ",s.jsx("span",{className:"text-gray-900 font-bold",children:"User Signals"}),". Traffic Creator generates the perfect dwell time, scroll depth, and interaction metrics."]})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12",children:l.map((h,f)=>s.jsxs("div",{className:"flex gap-8 p-10 border border-gray-100 hover:border-[#ff4d00]/30 bg-white hover:bg-orange-50/20 shadow-sm hover:shadow-xl transition-all duration-300 group rounded-2xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-1 h-0 bg-[#ff4d00] group-hover:h-full transition-all duration-300"}),s.jsx("div",{className:"shrink-0",children:s.jsx("div",{className:"bg-orange-50 w-16 h-16 flex items-center justify-center rounded-2xl group-hover:bg-[#ff4d00] group-hover:rotate-6 transition-all duration-300 text-[#ff4d00] group-hover:text-white shadow-sm",children:h.icon})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 group-hover:text-[#ff4d00] transition-colors",children:h.title}),s.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:h.desc})]})]},f))})]})}),s.jsx("section",{className:"py-32 px-6 bg-[#f9fafb] border-t border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-20 items-center",children:[s.jsxs("div",{className:"space-y-12",children:[s.jsxs("div",{className:"pl-8 border-l-2 border-gray-200 hover:border-[#ff4d00] transition-colors duration-300",children:[s.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4 flex items-center gap-3",children:[s.jsx(vd,{className:"text-[#ff4d00]",size:24})," Keyword Targeting"]}),s.jsx("p",{className:"text-gray-500 text-lg leading-relaxed font-medium",children:"Don't just send traffic to a URL. Our system mimics a user searching for your specific keywords on Google, finding your result, and clicking it. This is the ultimate signal for relevance."})]}),s.jsxs("div",{className:"pl-8 border-l-2 border-gray-200 hover:border-[#ff4d00] transition-colors duration-300",children:[s.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4 flex items-center gap-3",children:[s.jsx(I3,{className:"text-[#ff4d00]",size:24})," Complex Journeys"]}),s.jsx("p",{className:"text-gray-500 text-lg leading-relaxed font-medium",children:"Define multi-page paths. Visitors land on your blog post, read for 60 seconds, click to your pricing page, and then visit your contact form."})]})]}),s.jsxs("div",{className:"bg-[#111] text-gray-300 p-2 rounded-xl shadow-2xl relative overflow-hidden group",children:[s.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-gray-800 bg-[#151515] rounded-t-lg",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),s.jsxs("div",{className:"text-xs font-mono text-gray-500 ml-4 flex items-center gap-2",children:[s.jsx(PE,{size:12})," campaign_config.json"]})]}),s.jsxs("div",{className:"p-8 font-mono text-xs md:text-sm leading-relaxed overflow-x-auto",children:[s.jsx("div",{className:"opacity-50 mb-4 text-[10px] uppercase tracking-widest",children:"// Traffic Configuration"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-400",children:"const"})," ",s.jsx("span",{className:"text-blue-400",children:"campaign"})," = ","{"]}),s.jsxs("div",{className:"pl-4",children:[s.jsx("span",{className:"text-gray-400",children:"target:"})," ",s.jsx("span",{className:"text-green-400",children:'"Top 3 Positions"'}),","]}),s.jsxs("div",{className:"pl-4",children:[s.jsx("span",{className:"text-gray-400",children:"keywords:"})," ["]}),s.jsx("div",{className:"pl-8 text-orange-300",children:'"ranking boost services",'}),s.jsx("div",{className:"pl-8 text-orange-300",children:'"buy organic traffic",'}),s.jsx("div",{className:"pl-8 text-orange-300",children:'"seo ctr manipulation"'}),s.jsx("div",{className:"pl-4",children:"],"}),s.jsxs("div",{className:"pl-4",children:[s.jsx("span",{className:"text-gray-400",children:"behavior:"})," ","{"]}),s.jsxs("div",{className:"pl-8",children:[s.jsx("span",{className:"text-blue-300",children:"timeOnPage:"})," ",s.jsx("span",{className:"text-yellow-300",children:'"185s"'}),","]}),s.jsxs("div",{className:"pl-8",children:[s.jsx("span",{className:"text-blue-300",children:"scrollDepth:"})," ",s.jsx("span",{className:"text-yellow-300",children:'"85%"'}),","]}),s.jsxs("div",{className:"pl-8",children:[s.jsx("span",{className:"text-blue-300",children:"bounceRate:"})," ",s.jsx("span",{className:"text-yellow-300",children:'"12%"'})]}),s.jsx("div",{className:"pl-4",children:"}"}),s.jsxs("div",{children:["}",";"]}),s.jsxs("div",{className:"mt-6 flex items-center gap-2 text-green-500 text-[10px] font-bold uppercase tracking-widest",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})," compiler ready"]})]})]})]})})}),s.jsx("section",{className:"py-32 px-6 bg-white",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-black uppercase tracking-tight mb-4",children:"Quality Matters"}),s.jsx("p",{className:"text-gray-500",children:"Don't risk your domain authority with cheap bot traffic."})]}),s.jsxs("div",{className:"bg-white shadow-[0_10px_60px_rgba(0,0,0,0.05)] rounded-2xl overflow-hidden border border-gray-100",children:[s.jsxs("div",{className:"grid grid-cols-3 bg-gray-900 text-white p-6 text-xs font-bold uppercase tracking-widest",children:[s.jsx("div",{className:"pl-4",children:"Feature"}),s.jsxs("div",{className:"text-[#ff4d00] flex items-center gap-2",children:[s.jsx(Wt,{size:14,className:"fill-[#ff4d00]"})," Traffic Creator"]}),s.jsx("div",{className:"text-gray-500",children:"Cheap Bots"})]}),s.jsx("div",{className:"divide-y divide-gray-50",children:d.map((h,f)=>s.jsxs("div",{className:"grid grid-cols-3 p-6 items-center text-sm font-medium hover:bg-gray-50 transition-colors group",children:[s.jsxs("div",{className:"font-bold text-gray-900 flex items-center gap-3 pl-4",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 group-hover:bg-[#ff4d00] transition-colors"}),h.feature]}),s.jsxs("div",{className:"flex items-center gap-3 text-[#ff4d00] font-bold bg-orange-50/50 -my-6 py-6 border-x border-orange-100/50",children:[s.jsx(Lt,{size:18,className:"ml-4"})," ",h.us]}),s.jsxs("div",{className:"text-gray-400 flex items-center gap-3 pl-4",children:[s.jsx(fr,{size:16})," ",h.them]})]},f))})]})]})}),s.jsxs("section",{className:"py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),s.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[s.jsx("h2",{className:"text-5xl md:text-7xl font-black uppercase tracking-tight mb-8 text-white",children:"Start Ranking Now"}),s.jsx("p",{className:"text-xl text-white/90 mb-12 font-medium max-w-2xl mx-auto",children:"Your competitors are already doing it. Level the playing field with the world's most advanced organic traffic generator."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[s.jsxs(ze,{to:"/signup",className:"bg-white text-black px-12 py-5 text-sm font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-all shadow-2xl flex items-center justify-center gap-3 rounded-sm transform hover:-translate-y-1",children:["Start Free Trial ",s.jsx(Ds,{size:18})]}),s.jsx(ze,{to:"/pricing",className:"bg-transparent border-2 border-white text-white px-12 py-5 text-sm font-bold uppercase tracking-wider hover:bg-white hover:text-[#ff4d00] transition-all rounded-sm flex items-center justify-center",children:"View Pricing"})]}),s.jsx("div",{className:"mt-12 text-white/60 text-xs font-bold uppercase tracking-widest",children:"No Credit Card Required for Trial  100% Secure  Cancel Anytime"})]})]}),s.jsxs("footer",{className:"bg-black text-white py-20 px-6 border-t border-gray-900",children:[s.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-4 gap-12",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("div",{className:"text-3xl font-black text-white tracking-tight mb-6",children:"TRAFFIC CREATOR"}),s.jsx("p",{className:"text-gray-500 max-w-sm mb-8",children:"The industry standard for SEO traffic generation. We help agencies and site owners improve their search visibility signals safely."}),s.jsx("div",{className:"flex gap-4",children:[1,2,3,4].map(h=>s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-900 flex items-center justify-center text-gray-500 hover:bg-[#ff4d00] hover:text-white transition-colors cursor-pointer",children:s.jsx(nn,{size:16})},h))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Platform"}),s.jsxs("ul",{className:"space-y-4 text-sm font-medium text-gray-300",children:[s.jsx("li",{children:s.jsx(ze,{to:"/how-it-works",className:"hover:text-[#ff4d00] transition-colors",children:"How it Works"})}),s.jsx("li",{children:s.jsx(ze,{to:"/pricing",className:"hover:text-[#ff4d00] transition-colors",children:"Pricing"})}),s.jsx("li",{children:s.jsx(ze,{to:"/login",className:"hover:text-[#ff4d00] transition-colors",children:"Dashboard"})}),s.jsx("li",{children:s.jsx(ze,{to:"/affiliate",className:"hover:text-[#ff4d00] transition-colors",children:"Affiliate Program"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Company"}),s.jsxs("ul",{className:"space-y-4 text-sm font-medium text-gray-300",children:[s.jsx("li",{children:s.jsx(ze,{to:"/blog",className:"hover:text-[#ff4d00] transition-colors",children:"SEO Blog"})}),s.jsx("li",{children:s.jsx(ze,{to:"/helpdesk",className:"hover:text-[#ff4d00] transition-colors",children:"Help Center"})}),s.jsx("li",{children:s.jsx(ze,{to:"/legal/privacy",className:"hover:text-[#ff4d00] transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(ze,{to:"/legal/terms",className:"hover:text-[#ff4d00] transition-colors",children:"Terms of Service"})})]})]})]}),s.jsxs("div",{className:"max-w-7xl mx-auto mt-20 pt-8 border-t border-gray-900 flex justify-between items-center text-xs text-gray-600",children:[s.jsx("div",{children:" 2025 Traffic Creator Inc. All rights reserved."}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),s.jsx("span",{children:"Systems Operational"})]})]})]})]})},qM=({onLogin:n,onNavigate:e})=>{const[t,r]=_.useState(!1);return _.useEffect(()=>{const i=()=>r(window.scrollY>50);return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),s.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] text-gray-900 font-sans selection:bg-[#ff4d00] selection:text-white",children:[s.jsxs(zg,{children:[s.jsx("title",{children:"Traffic Creator - The Modern Way to Grow"}),s.jsx("meta",{name:"description",content:"Generate real, organic website traffic with our premium platform. Boost SEO, improve metrics, and grow your digital presence."}),s.jsx("link",{rel:"icon",type:"image/svg+xml",href:"/favicon.svg"})]}),s.jsx("nav",{className:`fixed w-full z-50 transition-all duration-300 ${t?"top-4":"top-0"}`,children:s.jsx("div",{className:`max-w-7xl mx-auto px-6 ${t?"py-4":"py-6"}`,children:s.jsxs("div",{className:`
            flex items-center justify-between px-6 py-3 rounded-2xl transition-all duration-300
            ${t?"bg-white/80 backdrop-blur-xl shadow-lg border border-gray-100":"bg-transparent"}
          `,children:[s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[s.jsx("div",{className:"w-8 h-8 bg-black rounded-lg flex items-center justify-center text-white font-black text-xs",children:"TC"}),s.jsx("span",{className:"font-bold text-lg tracking-tight",children:"TrafficCreator"})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm font-medium text-gray-600",children:[s.jsx("a",{href:"#features",className:"hover:text-black transition-colors",children:"Features"}),s.jsx("a",{href:"#how-it-works",className:"hover:text-black transition-colors",children:"How it Works"}),s.jsx("a",{href:"#pricing",className:"hover:text-black transition-colors",children:"Pricing"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ze,{to:"/login",className:"text-sm font-bold hover:text-[#ff4d00] transition-colors hidden sm:block",children:"Log in"}),s.jsx(ze,{to:"/signup",className:"bg-black text-white px-5 py-2.5 rounded-xl text-sm font-bold hover:bg-[#ff4d00] hover:scale-105 transition-all shadow-xl shadow-orange-500/10",children:"Get Started"})]})]})})}),s.jsx("section",{className:"pt-40 pb-20 px-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-24",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-50 border border-orange-100 text-[#ff4d00] text-xs font-bold uppercase tracking-wider animate-in fade-in slide-in-from-bottom-4",children:[s.jsx(lg,{size:12,className:"fill-[#ff4d00]"}),"Trusted by 15,000+ Marketers"]}),s.jsxs("h1",{className:"text-6xl md:text-7xl font-black tracking-tight leading-[1] text-gray-900 animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100",children:["Traffic that ",s.jsx("br",{}),s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"actually converts."})]}),s.jsx("p",{className:"text-xl text-gray-500 max-w-lg leading-relaxed animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:"Stop relying on unpredictable algorithms. Take control of your website traffic with our residential network of real visitors."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 animate-in fade-in slide-in-from-bottom-10 duration-700 delay-300",children:[s.jsxs(ze,{to:"/signup",className:"bg-[#ff4d00] text-white px-8 py-4 rounded-2xl text-base font-bold hover:bg-black transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 flex items-center justify-center gap-2",children:["Start Free Trial ",s.jsx(Ds,{size:18})]}),s.jsxs("a",{href:"#how-it-works",className:"bg-white border border-gray-200 text-gray-900 px-8 py-4 rounded-2xl text-base font-bold hover:bg-gray-50 transition-all flex items-center justify-center gap-2",children:[s.jsx(Lv,{size:18,className:"fill-gray-900"})," Watch Demo"]})]})]}),s.jsxs("div",{className:"relative h-[600px] w-full animate-in fade-in zoom-in duration-1000 delay-200",children:[s.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-gradient-to-bl from-orange-200/40 to-pink-200/40 rounded-full blur-3xl opacity-50"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-gradient-to-tr from-blue-200/40 to-green-200/40 rounded-full blur-3xl opacity-50"}),s.jsxs("div",{className:"absolute top-10 right-10 left-10 bottom-10",children:[s.jsxs("div",{className:"absolute top-0 right-0 w-72 bg-white rounded-3xl shadow-[0_30px_60px_-15px_rgba(0,0,0,0.1)] p-6 border border-gray-100 z-30 transform hover:scale-105 transition-transform duration-500",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("div",{className:"w-10 h-10 rounded-2xl bg-orange-50 flex items-center justify-center text-[#ff4d00]",children:s.jsx(Rl,{size:20})}),s.jsx("span",{className:"text-green-500 text-xs font-bold bg-green-50 px-2 py-1 rounded-full",children:"+124%"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-3xl font-black text-gray-900",children:"42.8k"}),s.jsx("div",{className:"text-sm text-gray-400 font-medium",children:"Monthly Visitors"})]}),s.jsx("div",{className:"mt-6 h-16 flex items-end gap-1",children:[40,60,45,70,85,65,90].map((i,l)=>s.jsx("div",{style:{height:`${i}%`},className:`flex-1 rounded-t-sm ${l===6?"bg-[#ff4d00]":"bg-gray-100"}`},l))})]}),s.jsxs("div",{className:"absolute bottom-10 left-0 w-80 bg-black text-white rounded-3xl shadow-2xl p-6 z-20 transform hover:-translate-y-2 transition-transform duration-500",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Live Traffic"}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),s.jsx("span",{className:"text-xs font-bold text-gray-300",children:"Active"})]})]}),s.jsx("div",{className:"space-y-4",children:["United States","Germany","United Kingdom"].map((i,l)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(nn,{size:14,className:"text-gray-500"}),s.jsx("span",{className:"text-sm font-bold",children:i})]}),s.jsx("div",{className:"w-24 bg-gray-800 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"bg-[#ff4d00] h-full",style:{width:`${80-l*20}%`}})})]},l))})]}),s.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 bg-white/60 backdrop-blur-xl border border-white/50 p-4 rounded-2xl shadow-xl z-10 flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-purple-500"}),s.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white p-1 rounded-full",children:s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full border-2 border-white"})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Real Human"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Session: 2m 45s"})]})]})]})]})]})})}),s.jsx("section",{id:"features",className:"py-24 px-6 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16 px-4",children:[s.jsx("span",{className:"text-[#ff4d00] font-bold tracking-wider uppercase text-xs mb-4 block",children:"Platform Capability"}),s.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-6",children:"Everything you need to grow."}),s.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto",children:"We've built the most advanced organic traffic generation engine on the market."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[300px]",children:[s.jsxs("div",{className:"md:col-span-2 bg-[#F5F5F7] rounded-3xl p-8 relative overflow-hidden group hover:shadow-xl transition-all duration-300",children:[s.jsxs("div",{className:"relative z-10 max-w-md",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-[#ff4d00]",children:s.jsx(vd,{size:24})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Precision Targeting"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"Target by keyword, country, device, and even specific browser behavior. Our AI ensures every visitor matches your ideal profile."})]}),s.jsx("div",{className:"absolute right-0 bottom-0 w-1/2 h-full opacity-50 group-hover:scale-105 transition-transform duration-500",children:s.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[s.jsx("circle",{cx:"150",cy:"150",r:"100",fill:"#ff4d00",fillOpacity:"0.1"}),s.jsx("circle",{cx:"100",cy:"180",r:"80",fill:"#ff4d00",fillOpacity:"0.1"})]})})]}),s.jsxs("div",{className:"md:row-span-2 bg-black text-white rounded-3xl p-8 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-gradient-to-b from-gray-800/50 to-black pointer-events-none"}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-2xl flex items-center justify-center mb-6 text-white border border-gray-700",children:s.jsx(Ta,{size:24})}),s.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Residential IPs"}),s.jsx("p",{className:"text-gray-400 font-medium leading-relaxed",children:"We route all traffic through real residential networks. No data center IPs, no bot flags. Just pure, organic-looking traffic."})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded-2xl p-4 border border-gray-800 mt-8 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),s.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"System Status"})]}),s.jsx("div",{className:"text-lg font-mono text-green-400",children:"100% Undetectable"})]})]})]}),s.jsxs("div",{className:"bg-[#FFF1EB] rounded-3xl p-8 group hover:shadow-xl transition-all duration-300",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-[#ff4d00]",children:s.jsx(Wt,{size:24})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Instant Delivery"}),s.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Start receiving visitors within 60 seconds of launching your campaign."})]}),s.jsxs("div",{className:"bg-[#F0F9FF] rounded-3xl p-8 group hover:shadow-xl transition-all duration-300",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-blue-500",children:s.jsx(Th,{size:24})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"GA4 Native"}),s.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Designed specifically to register correctly in Google Analytics 4 reports."})]})]})]})}),s.jsx("section",{className:"py-32 px-6 bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(Uv,{})})}),s.jsx("section",{className:"py-32 px-6 bg-gray-50 border-t border-gray-200",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h2",{className:"text-5xl font-black text-gray-900 mb-8 tracking-tight",children:"Ready to break the internet?"}),s.jsx("p",{className:"text-xl text-gray-500 mb-12 max-w-xl mx-auto",children:"Join the thousands of marketers using Traffic Creator to gain an unfair advantage."}),s.jsxs("div",{className:"flex flex-col items-center gap-6",children:[s.jsx(ze,{to:"/signup",className:"bg-black text-white px-12 py-5 rounded-full text-lg font-bold hover:bg-[#ff4d00] transition-colors shadow-2xl hover:scale-105 transform duration-300",children:"Get Started for Free"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 font-medium",children:[s.jsx(cr,{size:16,className:"text-green-500"})," No credit card required",s.jsx("span",{className:"mx-2",children:""}),s.jsx(cr,{size:16,className:"text-green-500"})," Cancel anytime"]})]})]})}),s.jsx("footer",{className:"py-12 px-6 bg-white border-t border-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6 text-sm text-gray-500 font-medium",children:[s.jsx("div",{children:" 2025 Traffic Creator Inc."}),s.jsxs("div",{className:"flex gap-8",children:[s.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Privacy"}),s.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Terms"}),s.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Twitter"})]})]})})]})},Wy=({onLogin:n,onNavigate:e,view:t})=>{xr();const[r,i]=_.useState(""),[l,d]=_.useState(""),[h,f]=_.useState(""),[p,y]=_.useState(!1),[b,v]=_.useState(""),[C,S]=_.useState(""),[I,E]=_.useState(!1),D=async()=>{if(r){y(!0);try{await K.resendVerificationEmail(r),S("Verification email sent! Check your inbox."),E(!1)}catch(L){v(L.message||"Failed to resend verification email")}finally{y(!1)}}},M=async L=>{L.preventDefault(),v(""),S(""),y(!0),E(!1);try{if(t==="signup"){if(l.length<6)throw new Error("Password must be at least 6 characters long");await K.register(h,r,l),S("Account created! Please check your email to verify your account before logging in."),i(""),d(""),f("")}else if(t==="login"){const Y=await K.login(r,l);if(Y.status==="suspended")throw new Error("Your account has been suspended. Please contact support.");await K.syncAll(),n(Y.role)}else t==="forgot"&&(await K.forgotPassword(r),S("Password reset link sent! Check your email."),i(""))}catch(Y){const F=Y.message||"An error occurred";v(F),(F.toLowerCase().includes("verify")||F.toLowerCase().includes("verification"))&&E(!0)}finally{y(!1)}};return s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsxs(ze,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:[s.jsx(wn,{size:16})," Back to Home"]}),s.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[s.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),s.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),b&&s.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3",children:[s.jsx(Bn,{className:"text-red-500 shrink-0",size:20}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-red-700 text-xs font-bold leading-relaxed",children:b}),I&&s.jsx("button",{onClick:D,className:"block mt-2 text-[#ff4d00] text-xs font-bold underline hover:no-underline",children:"Resend verification email"})]})]}),C&&s.jsxs("div",{className:"mb-6 bg-green-50 border-l-4 border-green-500 p-4 flex items-center gap-3",children:[s.jsx(Lt,{className:"text-green-500 shrink-0",size:20}),s.jsx("span",{className:"text-green-700 text-xs font-bold leading-relaxed",children:C})]}),t==="forgot"?s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Reset Password"}),s.jsx("p",{className:"text-gray-500 mb-8",children:"Enter your email address and we'll send you a link to reset your password."}),s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ho,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"email",required:!0,value:r,onChange:L=>i(L.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"name@company.com"})]})]}),s.jsx("button",{type:"submit",disabled:p,className:"w-full bg-black text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:p?s.jsxs(s.Fragment,{children:[s.jsx(uo,{className:"animate-spin",size:16})," Sending..."]}):"Send Reset Link"}),s.jsx("div",{className:"text-center",children:s.jsx(ze,{to:"/login",className:"text-xs font-bold text-gray-400 uppercase tracking-wider hover:text-black",children:"Back to Login"})})]})]}):s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:t==="login"?"Welcome Back":"Create Account"}),s.jsx("p",{className:"text-gray-500 mb-8",children:t==="login"?"Enter your credentials to access your dashboard.":"Start your first traffic campaign today."}),s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[t==="signup"&&s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(vn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"text",required:!0,value:h,onChange:L=>f(L.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"John Doe"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ho,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"email",required:!0,value:r,onChange:L=>i(L.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"name@company.com"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Password"}),t==="login"&&s.jsx(ze,{to:"/forgot",className:"text-[10px] font-bold text-[#ff4d00] uppercase tracking-wider hover:text-black",children:"Forgot?"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Mn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"password",required:!0,value:l,onChange:L=>d(L.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:t==="signup"?"Min. 6 characters":""})]}),t==="signup"&&l.length>0&&l.length<6&&s.jsx("p",{className:"text-red-500 text-xs mt-1 font-bold",children:"Password must be at least 6 characters"})]}),s.jsx("button",{type:"submit",disabled:p,className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:p?s.jsxs(s.Fragment,{children:[s.jsx(uo,{className:"animate-spin",size:16})," Processing..."]}):s.jsxs(s.Fragment,{children:[t==="login"?"Sign In":"Get Started"," ",s.jsx(Ds,{size:16})]})})]}),s.jsxs("div",{className:"mt-8 text-center pt-8 border-t border-gray-100",children:[s.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:t==="login"?"Don't have an account?":"Already have an account?"}),s.jsx(ze,{to:t==="login"?"/signup":"/login",className:"text-sm font-black text-gray-900 hover:text-[#ff4d00] uppercase tracking-wide block",children:t==="login"?"Create Account":"Login Here"})]})]})]})})},HM=({initialData:n,onSave:e})=>{const[t,r]=_.useState(n),[i,l]=_.useState(!1);_.useEffect(()=>{r(n)},[n]);const d=(f,p,y)=>{let b=parseFloat(y);isNaN(b)&&(b=0),r(v=>v.map(C=>C.id===f?{...C,[p]:b}:C))},h=async()=>{l(!0);try{await K.savePricing(t),e&&e(),alert("Traffic Campaign Configuration Saved to Database!")}catch(f){console.error(f),alert("Failed to save configuration")}finally{l(!1)}};return s.jsxs("div",{className:"bg-white p-8 md:p-10 shadow-sm border border-gray-100 min-h-[600px] animate-in fade-in",children:[s.jsxs("div",{className:"mb-10",children:[s.jsx("h3",{className:"text-[#ff4d00] text-xs font-bold uppercase tracking-widest mb-1",children:"Global Pricing Configuration"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Configure your traffic package rates per tier. Changes affect ALL new campaigns."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12",children:t.map(f=>s.jsxs("div",{className:"flex flex-col space-y-6 p-6 border border-gray-50 hover:border-gray-200 transition-colors bg-gray-50/50",children:[s.jsx("h4",{className:"text-xl font-black text-gray-900 mb-2 uppercase tracking-tight",children:f.name}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"CPM Rate ()"}),s.jsx("input",{type:"number",step:"0.01",value:f.hourlyRate,onChange:p=>d(f.id,"hourlyRate",p.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"Base Campaign Fee ()"}),s.jsx("input",{type:"number",value:f.baseFee,onChange:p=>d(f.id,"baseFee",p.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"Setup & Audit Fee ()"}),s.jsx("input",{type:"number",value:f.examFee,onChange:p=>d(f.id,"examFee",p.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]})]},f.id))}),s.jsx("div",{className:"mt-16 flex justify-end pt-8 border-t border-gray-100",children:s.jsx("button",{onClick:h,disabled:i,className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Global Configuration"})})]})},GM=({transactions:n})=>{try{const e=[];for(let l=6;l>=0;l--){const d=new Date;d.setDate(d.getDate()-l),e.push(d.toLocaleDateString("en-US",{month:"short",day:"numeric"}))}const t=Array.isArray(n)?n:[],r=e.map(l=>t.filter(h=>h&&h.type==="credit"&&h.date===l).reduce((h,f)=>h+(Number(f.amount)||0),0)),i=Math.max(...r,100);return s.jsx("div",{className:"h-48 flex items-end justify-between gap-2",children:r.map((l,d)=>s.jsxs("div",{className:"flex-1 flex flex-col justify-end group",children:[s.jsx("div",{className:"bg-black group-hover:bg-[#ff4d00] transition-colors rounded-t-sm w-full relative",style:{height:`${l/i*100}%`,minHeight:"4px"},children:s.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 text-[9px] font-bold text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:["",l]})}),s.jsx("div",{className:"text-[9px] text-gray-400 text-center mt-2 font-mono",children:e[d]})]},d))})}catch{return s.jsx("div",{className:"text-xs text-red-500 p-4",children:"Error loading chart"})}},KM=({users:n=[],projects:e=[],tickets:t=[],transactions:r=[],stats:i,onNavigate:l})=>{var E,D,M,L,Y,F,X;const d=Array.isArray(r)?r:[],h=Array.isArray(e)?e:[],f=Array.isArray(n)?n:[],p=Array.isArray(t)?t:[],y=((E=i==null?void 0:i.revenue)==null?void 0:E.total)??d.filter(T=>T&&T.type==="credit").reduce((T,P)=>T+(Number(P.amount)||0),0),b=((D=i==null?void 0:i.revenue)==null?void 0:D.today)??0,v=((M=i==null?void 0:i.projects)==null?void 0:M.active)??h.filter(T=>T&&T.status==="active").length,C=((L=i==null?void 0:i.users)==null?void 0:L.total)??f.length,S=((Y=i==null?void 0:i.users)==null?void 0:Y.new_today)??0,I=p.filter(T=>T&&T.status==="open").length;return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"Admin Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors relative overflow-hidden group",children:[s.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[s.jsx(po,{size:14})," Total Users"]}),s.jsx("div",{className:"text-4xl font-black text-gray-900",children:C}),S>0&&s.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[s.jsx(ri,{size:10})," +",S," Today"]})]}),s.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[s.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[s.jsx(Na,{size:14})," Active Projects"]}),s.jsx("div",{className:"text-4xl font-black text-gray-900",children:v}),((F=i==null?void 0:i.projects)==null?void 0:F.new_today)>0&&s.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[s.jsx(H5,{size:10})," +",(X=i==null?void 0:i.projects)==null?void 0:X.new_today," New Today"]})]}),s.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[s.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[s.jsx(Un,{size:14})," Open Tickets"]}),s.jsx("div",{className:"text-4xl font-black text-gray-900",children:I})]}),s.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[s.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[s.jsx(Rl,{size:14})," Total Revenue"]}),s.jsxs("div",{className:"text-4xl font-black text-[#ff4d00]",children:["",(y||0).toLocaleString()]}),b>0&&s.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[s.jsx(Lr,{size:10})," +",b.toFixed(2)," Today"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[s.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm",children:[s.jsx("div",{className:"flex justify-between items-center mb-8",children:s.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Revenue Trend (7 Days)"})}),s.jsx(GM,{transactions:d})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[s.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900",children:"Recent Registrations"}),s.jsx("button",{onClick:()=>l("admin-users"),className:"text-[10px] uppercase font-bold text-gray-400 hover:text-[#ff4d00]",children:"View All"})]}),s.jsx("div",{className:"divide-y divide-gray-100 flex-1 overflow-y-auto max-h-64",children:f.slice(0,5).map(T=>s.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:((T==null?void 0:T.name)||"?").charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-bold text-gray-900",children:(T==null?void 0:T.name)||"Unknown User"}),s.jsx("div",{className:"text-[9px] text-gray-400",children:(T==null?void 0:T.email)||"No Email"})]})]}),s.jsx("div",{className:"text-[9px] font-bold uppercase tracking-wide text-gray-400",children:(T==null?void 0:T.joinedDate)||"-"})]},(T==null?void 0:T.id)||Math.random()))})]})]})]})},WM=({users:n,projects:e,transactions:t,tickets:r,onRefresh:i,onEditUser:l})=>{const[d,h]=_.useState(""),[f,p]=_.useState(1),[y,b]=_.useState(100),[v,C]=_.useState("all"),S=F=>{const X=e.filter(T=>T.userId===F);return{total:X.length,active:X.filter(T=>T.status==="active").length,expired:X.filter(T=>T.status==="completed"||T.status==="stopped").length,demo:X.filter(T=>T.plan==="Free Trial").length}},I=F=>t.filter(X=>X.userId===F&&X.type==="debit"&&X.status==="completed").reduce((X,T)=>X+T.amount,0),E=(F,X)=>{const T=new Date(F).getTime();return(Date.now()-T)/(1e3*60*60)<=X},D=_.useMemo(()=>{let F=n.filter(X=>X.name.toLowerCase().includes(d.toLowerCase())||X.email.toLowerCase().includes(d.toLowerCase())||X.id.includes(d));switch(v){case"balance":F.sort((X,T)=>T.balance-X.balance);break;case"spent":F.sort((X,T)=>I(T.id)-I(X.id));break;case"projects":F.sort((X,T)=>S(T.id).total-S(X.id).total);break;case"new_24h":F=F.filter(X=>E(X.joinedDate,24));break;case"new_7d":F=F.filter(X=>E(X.joinedDate,168));break;case"new_30d":F=F.filter(X=>E(X.joinedDate,720));break;default:F.sort((X,T)=>new Date(T.joinedDate).getTime()-new Date(X.joinedDate).getTime())}return F},[n,d,v,e,t]),M=Math.ceil(D.length/y),L=D.slice((f-1)*y,f*y);Fe.useEffect(()=>{p(1)},[v,d,y]);const Y=[{id:"all",label:"All Users",icon:s.jsx(po,{size:14})},{id:"balance",label:"Highest Balance",icon:s.jsx(Tl,{size:14})},{id:"projects",label:"Most Projects",icon:s.jsx(Na,{size:14})},{id:"spent",label:"Top Spenders",icon:s.jsx(Tl,{size:14})},{id:"new_24h",label:"New (24h)",icon:s.jsx(Os,{size:14})},{id:"new_7d",label:"New (7d)",icon:s.jsx(Os,{size:14})},{id:"new_30d",label:"New (30d)",icon:s.jsx(Os,{size:14})}];return s.jsxs("div",{className:"animate-in fade-in",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-6 gap-4",children:[s.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"User Management"}),s.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[s.jsxs("div",{className:"relative flex-1 md:w-64",children:[s.jsx("input",{type:"text",placeholder:"Search users...",value:d,onChange:F=>h(F.target.value),className:"w-full bg-white border border-gray-200 pl-10 pr-4 py-2 text-sm outline-none focus:border-[#ff4d00]"}),s.jsx(hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14})]}),s.jsxs("select",{value:y,onChange:F=>b(Number(F.target.value)),className:"bg-white border border-gray-200 px-3 py-2 text-sm font-bold text-gray-600 outline-none focus:border-[#ff4d00]",children:[s.jsx("option",{value:10,children:"10 per page"}),s.jsx("option",{value:25,children:"25 per page"}),s.jsx("option",{value:50,children:"50 per page"}),s.jsx("option",{value:100,children:"100 per page"})]}),s.jsxs("button",{onClick:()=>{const F=`ID,Name,Email,Role,Status,Balance,Joined,LastActive
`,X=n.map(z=>`${z.id},"${z.name}",${z.email},${z.role},${z.status},${z.balance},${z.joinedDate},${z.lastIp||""}`).join(`
`),T=new Blob([F+X],{type:"text/csv"}),P=window.URL.createObjectURL(T),k=document.createElement("a");k.href=P,k.download=`users_export_${new Date().toISOString().split("T")[0]}.csv`,k.click(),alert("User export started.")},className:"flex items-center gap-2 bg-white border border-gray-200 px-3 py-2 text-sm font-bold text-gray-600 hover:text-black hover:border-black transition-colors",children:[s.jsx(Tl,{size:14,className:"rotate-45"})," Export"]})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-6 border-b border-gray-200 pb-2",children:Y.map(F=>s.jsxs("button",{onClick:()=>C(F.id),className:`flex items-center gap-2 px-4 py-2 text-xs font-bold uppercase tracking-wide transition-colors rounded-sm
                        ${v===F.id?"bg-black text-white":"bg-white text-gray-500 hover:bg-gray-100"}
                    `,children:[F.icon," ",F.label]},F.id))}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden min-h-[500px]",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User Details"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Project Analytics"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Financials"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:L.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"No users found matching your criteria."})}):L.map(F=>{const X=S(F.id),T=I(F.id);return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:F.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-bold text-gray-900",children:F.name}),s.jsx("div",{className:"text-[10px] text-gray-400",children:F.email}),s.jsxs("div",{className:"text-[9px] text-gray-300 mt-0.5",children:["Joined: ",F.joinedDate]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[10px] uppercase font-bold text-gray-600",children:[s.jsx(Na,{size:10,className:"text-[#ff4d00]"})," ",X.total," Total"]}),s.jsxs("div",{className:"flex flex-col gap-1 text-[9px] text-gray-400 font-medium mt-1",children:[s.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[s.jsx("div",{className:"w-1 h-1 rounded-full bg-green-500"}),X.active," Active"]}),s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300"}),X.expired," Inactive"]}),X.demo>0&&s.jsxs("span",{className:"text-blue-500 flex items-center gap-1",children:[s.jsx(Wt,{size:8})," ",X.demo," Demo"]})]})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"text-sm font-black text-gray-900",children:["",F.balance.toFixed(2)]}),s.jsxs("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:["Spent: ",T.toFixed(0)]})]}),s.jsx("td",{className:"px-6 py-4",children:F.status==="active"?s.jsxs("span",{className:"text-green-600 text-[10px] font-bold uppercase tracking-wide flex items-center gap-1",children:[s.jsx(Lt,{size:10})," Active"]}):s.jsxs("span",{className:"text-red-600 text-[10px] font-bold uppercase tracking-wide flex items-center gap-1",children:[s.jsx(W5,{size:10})," Suspended"]})}),s.jsx("td",{className:"px-6 py-4 text-right flex justify-end gap-3 items-center",children:s.jsxs("button",{onClick:()=>l(F.id),className:"bg-gray-100 hover:bg-black hover:text-white text-gray-600 px-4 py-2 text-[10px] font-bold uppercase tracking-wider transition-colors rounded-sm flex items-center gap-2",children:[s.jsx(Vv,{size:12})," Edit"]})})]},F.id)})})]})}),M>1&&s.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[s.jsxs("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:["Page ",f," of ",M," (",D.length," Users)"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>p(Math.max(1,f-1)),disabled:f===1,className:"bg-white border border-gray-200 px-3 py-2 text-gray-600 hover:border-[#ff4d00] hover:text-[#ff4d00] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx(Dv,{size:14})}),s.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,M)},(F,X)=>{let T=X+1;return M>5&&f>3&&(T=f-2+X),T>M?null:s.jsx("button",{onClick:()=>p(T),className:`w-8 h-8 text-xs font-bold flex items-center justify-center border transition-colors
                                            ${f===T?"bg-[#ff4d00] border-[#ff4d00] text-white":"bg-white border-gray-200 text-gray-600 hover:border-gray-300"}
                                        `,children:T},T)})}),s.jsx("button",{onClick:()=>p(Math.min(M,f+1)),disabled:f===M,className:"bg-white border border-gray-200 px-3 py-2 text-gray-600 hover:border-[#ff4d00] hover:text-[#ff4d00] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx(Ql,{size:14})})]})]})]})]})},YM=({tickets:n,onRefresh:e})=>{var D;const[t,r]=_.useState(null),[i,l]=_.useState(""),[d,h]=_.useState("all"),[f,p]=_.useState([]),y=n.find(M=>M.id===t),b=[...n].sort((M,L)=>{const Y=new Date(M.date).getTime();return new Date(L.date).getTime()-Y}).filter(M=>d==="all"?!0:M.type===d);_.useEffect(()=>{t&&(K.markTicketRead(t),e())},[t]);const v=()=>{!i.trim()&&f.length===0||!t||(K.replyToTicket(t,i,"admin",f),l(""),p([]),e())},C=M=>{t&&(K.updateTicketStatus(t,M),e())},S=M=>{t&&(K.updateTicketPriority(t,M),e())},I=()=>{t&&confirm("Are you sure you want to permanently delete this ticket?")&&(K.deleteTicket(t),r(null),e())},E=M=>{if(M.target.files&&M.target.files[0]){const L=M.target.files[0].name;p([...f,L])}};return s.jsxs("div",{className:"animate-in fade-in h-[calc(100vh-140px)] flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Unified Inbox"}),s.jsxs("div",{className:"flex bg-white border border-gray-200 rounded-sm overflow-hidden",children:[s.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 text-xs font-bold uppercase ${d==="all"?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:"All"}),s.jsx("button",{onClick:()=>h("ticket"),className:`px-4 py-2 text-xs font-bold uppercase ${d==="ticket"?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:"Tickets"}),s.jsx("button",{onClick:()=>h("chat"),className:`px-4 py-2 text-xs font-bold uppercase ${d==="chat"?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:"Live Chats"})]})]}),s.jsxs("div",{className:"flex-1 bg-white border border-gray-200 shadow-sm flex overflow-hidden",children:[s.jsxs("div",{className:"w-1/3 border-r border-gray-200 flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{placeholder:"Search...",className:"w-full bg-[#f9fafb] border border-gray-200 pl-9 pr-4 py-2 text-xs font-bold outline-none focus:border-[#ff4d00]"}),s.jsx(hr,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:b.length===0?s.jsx("div",{className:"p-8 text-center text-gray-400 text-xs",children:"No conversations found."}):b.map(M=>s.jsxs("div",{onClick:()=>r(M.id),className:`p-4 border-b border-gray-100 cursor-pointer transition-colors hover:bg-gray-50 ${t===M.id?"bg-orange-50 border-l-4 border-l-[#ff4d00]":"border-l-4 border-l-transparent"}`,children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${M.type==="chat"?"bg-blue-100 text-blue-600":"bg-gray-200 text-gray-600"}`,children:M.type}),s.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:M.date})]}),s.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-1 truncate",children:M.subject}),s.jsx("p",{className:"text-xs text-gray-500 truncate mb-2",children:M.lastMessage}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-gray-400 uppercase",children:[s.jsx(vn,{size:10})," ",M.userName]}),M.status==="open"&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"})]})]},M.id))})]}),y?s.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#fafafa]",children:[s.jsxs("div",{className:"bg-white p-6 border-b border-gray-200 flex justify-between items-start shadow-sm z-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:y.subject}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(vn,{size:14})," ",y.userName]}),s.jsx("span",{className:"text-gray-300",children:"|"}),s.jsxs("span",{className:"font-mono text-gray-400",children:["ID: ",y.id]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{value:y.priority,onChange:M=>S(M.target.value),className:`text-[10px] font-bold uppercase border-none outline-none cursor-pointer ${y.priority==="high"?"text-red-500":"text-gray-500"}`,children:[s.jsx("option",{value:"low",children:"Low Priority"}),s.jsx("option",{value:"medium",children:"Medium Priority"}),s.jsx("option",{value:"high",children:"High Priority"})]}),s.jsx("div",{className:"h-4 w-px bg-gray-200"}),s.jsxs("select",{value:y.status,onChange:M=>C(M.target.value),className:"bg-gray-100 text-gray-700 text-xs font-bold uppercase px-3 py-1.5 rounded-sm outline-none cursor-pointer hover:bg-gray-200",children:[s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in-progress",children:"In Progress"}),s.jsx("option",{value:"closed",children:"Closed"})]}),s.jsx("button",{onClick:I,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-sm transition-colors",children:s.jsx(So,{size:16})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:(D=y.messages)==null?void 0:D.map(M=>s.jsx("div",{className:`flex ${M.sender==="admin"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] ${M.sender==="admin"?"items-end":"items-start"} flex flex-col`,children:[s.jsxs("div",{className:`p-4 shadow-sm text-sm leading-relaxed ${M.sender==="admin"?"bg-black text-white rounded-l-lg rounded-tr-lg":"bg-white text-gray-900 border border-gray-200 rounded-r-lg rounded-tl-lg"}`,children:[M.text,M.attachments&&M.attachments.length>0&&s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20 space-y-1",children:M.attachments.map((L,Y)=>s.jsxs("div",{className:"flex items-center gap-2 text-xs opacity-80 bg-white/10 p-2 rounded-sm",children:[s.jsx(id,{size:12})," ",L]},Y))})]}),s.jsxs("span",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase tracking-wide",children:[M.sender==="admin"?"You":y.userName,"  ",M.date]})]})},M.id))}),s.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[f.length>0&&s.jsx("div",{className:"flex gap-2 mb-2 flex-wrap",children:f.map((M,L)=>s.jsxs("div",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-sm flex items-center gap-1",children:[M," ",s.jsx("button",{onClick:()=>p(f.filter(Y=>Y!==M)),children:s.jsx(fr,{size:12})})]},L))}),s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsxs("label",{className:"p-3 text-gray-400 hover:text-black cursor-pointer transition-colors",children:[s.jsx(id,{size:20}),s.jsx("input",{type:"file",className:"hidden",onChange:E})]}),s.jsx("textarea",{value:i,onChange:M=>l(M.target.value),placeholder:"Type your reply...",className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] resize-none h-12 min-h-[48px] max-h-32 transition-colors",onKeyDown:M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),v())}}),s.jsx("button",{onClick:v,disabled:!i&&f.length===0,className:"p-3 bg-[#ff4d00] text-white hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(mo,{size:20})})]})]})]}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-300",children:[s.jsx(Un,{size:64,className:"mb-4 opacity-20"}),s.jsx("p",{className:"text-sm font-medium",children:"Select a conversation to view details"})]})]})]})},QM=({projects:n,onEditProject:e})=>{const[t,r]=_.useState(""),[i,l]=_.useState("all"),d=f=>{try{return new URL(f).hostname.replace("www.","")}catch{return f}},h=_.useMemo(()=>n.filter(f=>{var b;const p=f.name.toLowerCase().includes(t.toLowerCase())||f.id.toLowerCase().includes(t.toLowerCase())||((b=f.settings)==null?void 0:b.entryUrls)&&f.settings.entryUrls.toLowerCase().includes(t.toLowerCase()),y=i==="all"||f.status===i;return p&&y}),[n,t,i]);return s.jsxs("div",{className:"animate-in fade-in space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Mission Control"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(hr,{className:"absolute left-3 top-2.5 text-gray-400 group-focus-within:text-[#ff4d00]",size:16}),s.jsx("input",{type:"text",placeholder:"Search by Domain, Name, or ID...",value:t,onChange:f=>r(f.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 text-sm font-bold w-full sm:w-64 outline-none focus:border-[#ff4d00] transition-colors"})]}),s.jsxs("select",{value:i,onChange:f=>l(f.target.value),className:"border border-gray-200 px-4 py-2 text-sm font-bold bg-white outline-none focus:border-[#ff4d00]",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"active",children:"Active Only"}),s.jsx("option",{value:"stopped",children:"Stopped/Paused"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]}),s.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Campaign Target"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Client"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Plan & Traffic"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:h.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400 text-sm",children:"No campaigns found matching your criteria."})}):h.map(f=>{var p,y;return s.jsxs("tr",{className:"hover:bg-gray-50 group transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded text-gray-500",children:s.jsx(nn,{size:16})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-bold text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:f.name}),s.jsx("div",{className:"text-xs text-gray-500 font-mono mt-0.5 max-w-[200px] truncate",title:(p=f.settings)==null?void 0:p.entryUrls,children:(y=f.settings)!=null&&y.entryUrls?d(f.settings.entryUrls):"No URL"}),s.jsxs("div",{className:"mt-1 text-[10px] text-gray-400 font-mono",children:["ID: ",f.id.substring(0,8),"..."]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-bold text-gray-500 uppercase tracking-tighter",children:[s.jsx(vn,{size:12,className:"text-gray-400"}),s.jsx("span",{children:(f.userId||"Unknown User").split("-")[0]})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("span",{className:`inline-block px-2 py-0.5 text-[10px] font-bold uppercase tracking-wide rounded mb-1 ${f.plan.toLowerCase().includes("agency")?"bg-purple-100 text-purple-700":f.plan.toLowerCase().includes("pro")?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:f.plan}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Expires: ",s.jsx("span",{className:"font-mono text-gray-700",children:f.expires})]})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-[9px] font-black uppercase tracking-wider rounded-full ${f.status==="active"?"bg-[#ff4d00]/10 text-[#ff4d00] ring-1 ring-[#ff4d00]/20":f.status==="completed"?"bg-green-100 text-green-700 ring-1 ring-green-600/20":"bg-gray-100 text-gray-500 ring-1 ring-gray-200"}`,children:[f.status==="active"?s.jsx(_D,{size:10,className:"fill-current"}):f.status==="stopped"?s.jsx(wD,{size:10}):null,f.status]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("button",{onClick:()=>e(f.id),className:"bg-white border border-gray-200 hover:border-black hover:bg-black hover:text-white text-gray-600 px-3 py-1.5 text-[10px] font-bold uppercase tracking-wider transition-all rounded-sm flex items-center gap-2 ml-auto shadow-sm",children:[s.jsx(Vv,{size:12})," Manage"]})})]},f.id)})})]})})})]})},JM=({transactions:n,onEditTransaction:e})=>s.jsxs("div",{className:"animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-end mb-6",children:[s.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Global Transactions"}),s.jsxs("button",{className:"flex items-center gap-2 bg-white border border-gray-200 px-4 py-2 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00]",children:[s.jsx(wa,{size:14})," Export CSV"]})]}),s.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Trx ID"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User ID"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),s.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),s.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(t=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:t.id}),s.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:t.date}),s.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-400",children:t.userId||"N/A"}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:t.desc}),s.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${t.type==="credit"?"text-green-600":"text-red-500"}`,children:[t.type==="credit"?"+":"-","",t.amount.toFixed(2)]}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("button",{onClick:()=>e(t.id),className:"bg-gray-100 hover:bg-black hover:text-white text-gray-600 px-3 py-1.5 text-[10px] font-bold uppercase tracking-wider transition-colors rounded-sm flex items-center gap-2 ml-auto",children:[s.jsx(Vv,{size:12})," Edit"]})})]},t.id))})]})})]}),XM=({initialSettings:n,onSave:e})=>{const[t,r]=_.useState(n),i=()=>{K.saveSystemSettings(t),e(),alert("System settings updated.")};return s.jsxs("div",{className:"animate-in fade-in max-w-2xl",children:[s.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"System Settings"}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-8 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Site Name"}),s.jsx("input",{value:t.siteName,onChange:l=>r({...t,siteName:l.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Support Email"}),s.jsx("input",{value:t.supportEmail,onChange:l=>r({...t,supportEmail:l.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2 flex items-center gap-1",children:[s.jsx(xd,{size:12})," SparkTraffic API Key"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{value:t.sparkTrafficApiKey||"",onChange:l=>r({...t,sparkTrafficApiKey:l.target.value}),type:"password",className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-mono text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Enter API Key from v2.sparktraffic.com"}),s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:s.jsx(xd,{size:16})})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[s.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Maintenance Mode"}),s.jsx("button",{onClick:()=>r({...t,maintenanceMode:!t.maintenanceMode}),className:`w-12 h-6 flex items-center p-1 transition-colors duration-300 ${t.maintenanceMode?"bg-[#ff4d00]":"bg-gray-300"}`,children:s.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${t.maintenanceMode?"translate-x-6":"translate-x-0"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[s.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Allow New Registrations"}),s.jsx("button",{onClick:()=>r({...t,allowRegistrations:!t.allowRegistrations}),className:`w-12 h-6 flex items-center p-1 transition-colors duration-300 ${t.allowRegistrations?"bg-green-500":"bg-gray-300"}`,children:s.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${t.allowRegistrations?"translate-x-6":"translate-x-0"}`})})]}),s.jsx("div",{className:"pt-4 border-t border-gray-100",children:s.jsxs("button",{onClick:i,className:"bg-black text-white px-8 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[s.jsx(ai,{size:14})," Save Configuration"]})})]})]})},ZM=({onRefresh:n})=>{const[e,t]=_.useState([]),[r,i]=_.useState(!1),[l,d]=_.useState(""),[h,f]=_.useState(""),[p,y]=_.useState("info"),[b,v]=_.useState(""),[C,S]=_.useState(""),[I,E]=_.useState(!1),[D,M]=_.useState(""),[L,Y]=_.useState(""),F=60,X=250,T=async()=>{i(!0);const Q=await K.getAdminBroadcasts();t(Q),i(!1)};_.useEffect(()=>{T()},[]);const P=async()=>{if(!l.trim()||!h.trim())return;let Q;I&&D&&L&&(Q=new Date(`${D}T${L}`).toISOString()),await K.createBroadcast({title:l.substring(0,F),message:h.substring(0,X),type:p,isActive:!0,expiresAt:Q,actionUrl:b.trim()||void 0,actionText:C.trim()||void 0}),d(""),f(""),y("info"),v(""),S(""),E(!1),M(""),Y(""),T(),n&&n()},k=async Q=>{await K.updateBroadcast(Q.id,{...Q,isActive:!Q.isActive}),T()},z=async Q=>{window.confirm("Are you sure you want to delete this broadcast?")&&(await K.deleteBroadcast(Q),T())},B=Q=>{if(d(Q.title),f(Q.message),y(Q.type),v(Q.actionUrl||""),S(Q.actionText||""),Q.expiresAt){const je=new Date(Q.expiresAt);E(!0),M(je.toISOString().split("T")[0]),Y(je.toTimeString().split(" ")[0].substring(0,5))}else E(!1);window.scrollTo({top:0,behavior:"smooth"})},A=Q=>{switch(Q){case"success":return"bg-green-500 border-green-500";case"warning":return"bg-orange-500 border-orange-500";case"critical":return"bg-red-500 border-red-500";default:return"bg-blue-500 border-blue-500"}},V=Q=>{switch(Q){case"success":return s.jsx(Lt,{size:14,className:"text-white"});case"warning":return s.jsx(Bn,{size:14,className:"text-white"});case"critical":return s.jsx(tf,{size:14,className:"text-white"});default:return s.jsx(co,{size:14,className:"text-white"})}};return s.jsxs("div",{className:"animate-in fade-in",children:[s.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"System Broadcasts"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm mb-8",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(kb,{size:14})," Create New Broadcast"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx(Gc,{children:"Title / Headline"}),s.jsxs("span",{className:`text-[9px] font-bold ${l.length>F?"text-red-500":"text-gray-400"}`,children:[l.length,"/",F]})]}),s.jsx("input",{value:l,onChange:Q=>d(Q.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] font-bold",placeholder:"e.g. Scheduled Maintenance",maxLength:F+10})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx(Gc,{children:"Message Body"}),s.jsxs("span",{className:`text-[9px] font-bold ${h.length>X?"text-red-500":"text-gray-400"}`,children:[h.length,"/",X]})]}),s.jsx("textarea",{value:h,onChange:Q=>f(Q.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] font-medium h-24 resize-none",placeholder:"Detailed explanation...",maxLength:X+20})]}),s.jsxs("div",{className:"w-full md:w-48",children:[s.jsx(Gc,{children:"Type"}),s.jsxs("select",{value:p,onChange:Q=>y(Q.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",children:[s.jsx("option",{value:"info",children:"Info (Blue)"}),s.jsx("option",{value:"success",children:"Success (Green)"}),s.jsx("option",{value:"warning",children:"Warning (Orange)"}),s.jsx("option",{value:"critical",children:"Critical (Red)"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-50 pt-6",children:[s.jsxs("div",{children:[s.jsx(Gc,{children:"Action URL (Optional)"}),s.jsx("input",{value:b,onChange:Q=>v(Q.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",placeholder:"https://example.com/blog"})]}),s.jsxs("div",{children:[s.jsx(Gc,{children:"Action Button Text"}),s.jsx("input",{value:C,onChange:Q=>S(Q.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",placeholder:"Read More"})]})]}),s.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Gc,{children:"Auto-Expire (Hidden after)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>E(!I),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${I?"bg-[#ff4d00]":"bg-gray-300"}`,children:s.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${I?"translate-x-5":"translate-x-0"}`})}),s.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:I?"Enabled":"Disabled"})]})]}),I&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1 block",children:"Expiry Date"}),s.jsx("input",{type:"date",value:D,onChange:Q=>M(Q.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1 block",children:"Expiry Time"}),s.jsx("input",{type:"time",value:L,onChange:Q=>Y(Q.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]"})]})]})]}),s.jsxs("button",{onClick:P,disabled:l.length>F||h.length>X,className:"w-full bg-black text-white py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:hover:bg-black",children:[s.jsx(kb,{size:14})," Publish Broadcast"]})]})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400",children:"Archived & Active"}),s.jsx("button",{onClick:T,className:"text-[10px] font-bold text-[#ff4d00] underline uppercase",children:"Refresh"})]}),s.jsxs("div",{className:"space-y-4",children:[r&&s.jsx("div",{className:"text-center p-4 text-gray-400 text-xs",children:"Loading..."}),!r&&e.length===0&&s.jsx("div",{className:"p-8 text-center text-gray-400 border border-gray-200 border-dashed bg-gray-50",children:"No broadcasts found."}),e.map(Q=>s.jsxs("div",{className:`p-6 border-l-4 shadow-sm bg-white relative group ${Q.isActive?A(Q.type).split(" ")[1]:"opacity-60 grayscale"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`flex items-center gap-1 text-[9px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded-sm text-white ${A(Q.type).split(" ")[0]}`,children:[V(Q.type)," ",Q.type]}),s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:new Date(Q.createdAt).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>B(Q),className:"text-gray-300 hover:text-black transition-colors",title:"Duplicate Broadcast",children:s.jsx(Fs,{size:14})}),s.jsx("button",{onClick:()=>z(Q.id),className:"text-gray-300 hover:text-red-500 transition-colors",children:s.jsx(So,{size:14})})]})]}),s.jsx("h4",{className:"font-black text-sm uppercase mb-1",children:Q.title}),s.jsx("p",{className:"text-xs font-medium text-gray-600 mb-3",children:Q.message}),Q.actionUrl&&s.jsxs("div",{className:"mb-3 flex items-center gap-1 text-[10px] font-bold text-[#ff4d00] uppercase tracking-wider",children:[s.jsx(Ef,{size:10})," ",Q.actionText||"Action",": ",s.jsx("span",{className:"text-gray-400 font-medium normal-case",children:Q.actionUrl})]}),s.jsxs("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-50 text-[10px] text-gray-500 font-bold uppercase transition-colors",children:[Q.expiresAt&&s.jsxs("div",{className:"flex items-center gap-1 text-[#ff4d00]",children:[s.jsx(Os,{size:12})," Expires: ",new Date(Q.expiresAt).toLocaleString()]}),!Q.expiresAt&&s.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[s.jsx(Os,{size:12})," No Expiration"]})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("button",{onClick:()=>k(Q),className:`text-xs font-bold uppercase flex items-center gap-2 ${Q.isActive?"text-green-600":"text-gray-400"}`,children:[Q.isActive?s.jsx(bO,{size:20}):s.jsx(xO,{size:20}),Q.isActive?"Live":"Hidden"]})})]},Q.id))]})]})]})]})},Gc=({children:n})=>s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:n}),e9=({onStartChat:n})=>{var C;const[e,t]=_.useState([]),[r,i]=_.useState(!0),[l,d]=_.useState(""),h=async()=>{const S=await K.getRealTimeVisitors();t(S),i(!1)};_.useEffect(()=>{h();const S=setInterval(h,1e4);return()=>clearInterval(S)},[]);const f=S=>{let E=K.getTickets().find(D=>(S.userId?D.userId===S.userId:!1)&&D.type==="chat"&&D.status!=="closed");if(!E){const D={id:`C-${Date.now().toString().slice(-4)}`,type:"chat",userId:S.userId||`guest-${Date.now()}`,userName:S.name,guestEmail:S.email!=="Unknown"?S.email:void 0,subject:"Admin Initiated Chat",status:"open",priority:"medium",date:new Date().toLocaleDateString(),lastMessage:"Admin started chat",unread:!1,messages:[{id:`m-${Date.now()}`,sender:"admin",text:"Hello! I noticed you are online. How can I help you today?",date:new Date().toLocaleString()}]};K.createTicket(D),E=D}n(E.id)},p=e.filter(S=>S.name.toLowerCase().includes(l.toLowerCase())||S.email.toLowerCase().includes(l.toLowerCase())||S.location.toLowerCase().includes(l.toLowerCase())),y=e.filter(S=>S.device==="Mobile").length,b=e.filter(S=>S.device==="Desktop").length,v=e.length>0?(C=e.sort((S,I)=>e.filter(E=>E.currentPage===S.currentPage).length-e.filter(E=>E.currentPage===I.currentPage).length).pop())==null?void 0:C.currentPage:"N/A";return s.jsxs("div",{className:"animate-in fade-in h-full flex flex-col",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-6 gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"relative flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-500 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-green-600",children:"Live Network Data"})]}),s.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Real-Time Visitors"})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px]",children:[s.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Mobile"}),s.jsx("span",{className:"text-lg font-black text-gray-900",children:y})]}),s.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px]",children:[s.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Desktop"}),s.jsx("span",{className:"text-lg font-black text-gray-900",children:b})]}),s.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px] hidden md:flex",children:[s.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Top Page"}),s.jsx("span",{className:"text-xs font-black text-gray-900 truncate max-w-[80px]",children:v})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search IP, Name...",value:l,onChange:S=>d(S.target.value),className:"bg-white border border-gray-200 pl-10 pr-4 py-3 text-sm outline-none focus:border-[#ff4d00] shadow-sm w-48"}),s.jsx(hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14})]})]})]}),e.length===0&&!r&&s.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 mb-6 flex items-center gap-3",children:[s.jsx(Bn,{className:"text-orange-500",size:20}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-bold text-orange-800",children:"No active visitors"}),s.jsx("p",{className:"text-xs text-orange-700",children:"The database is currently empty of live sessions. Open the site in an Incognito window to see yourself appear here."})]})]}),s.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden flex-1",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User Identity"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Current Page"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Last Active"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Environment"}),s.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:r?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400 animate-pulse",children:"Scanning live network..."})}):p.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400",children:"No active users found matching your filter."})}):p.map(S=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:S.name.charAt(0)}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[S.name,S.role==="guest"&&s.jsx("span",{className:"bg-gray-200 text-gray-600 text-[9px] px-1.5 py-0.5 rounded-sm uppercase",children:"Guest"})]}),s.jsx("div",{className:"text-[10px] text-gray-400",children:S.email}),s.jsxs("div",{className:"text-[9px] text-gray-300 mt-0.5 flex items-center gap-1",children:[s.jsx(nn,{size:10})," ",S.location]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs font-bold text-gray-700 font-mono bg-gray-100 px-2 py-1 rounded-sm",children:S.currentPage})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-xs font-bold text-gray-600 flex items-center gap-1",children:[s.jsx(Os,{size:12,className:"text-gray-400"})," ",S.lastActive]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"text-xs font-medium text-gray-600 flex items-center gap-2",children:[S.device.includes("Mobile")?s.jsx(bd,{size:14}):s.jsx(Cl,{size:14}),S.device," / ",S.browser]}),s.jsx("div",{className:"text-[10px] text-gray-400 font-mono mt-1",children:S.ip})]}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("button",{onClick:()=>f(S),className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 ml-auto shadow-sm",children:[s.jsx(Un,{size:12})," Chat"]})})]},S.id))})]})})})]})},t9=({userId:n,onNavigateToProject:e,onUpdate:t})=>{const[r,i]=_.useState(null),[l,d]=_.useState([]),[h,f]=_.useState([]),[p,y]=_.useState(!0),[b,v]=_.useState(null),[C,S]=_.useState(""),[I,E]=_.useState("economy"),[D,M]=_.useState(""),[L,Y]=_.useState(!1);Fe.useEffect(()=>{F()},[n]);const F=async()=>{y(!0),v(null);try{const[me,$,U]=await Promise.all([K.getUserDetails(n),K.getUserTransactions(n),K.getUserProjects(n)]);i(me),d($),f(U)}catch(me){console.error("Failed to load user data:",me),v("Failed to load user data. Please try again.")}y(!1)},X=async()=>{if(!C||!D){alert("Please enter amount and reason");return}try{await K.addBonusHits(n,{tier:I,hits:parseInt(C),reason:D}),alert("Bonus hits added successfully"),Y(!1),S(""),M(""),F(),t()}catch{alert("Failed to add bonus hits")}},T=async()=>{if(confirm("Send password reset email to user?"))try{await K.sendPasswordReset(n),alert("Password reset email sent")}catch{alert("Failed to send password reset")}},P=async()=>{if(confirm("Resend verification email to user?"))try{await K.resendVerification(n),alert("Verification email sent")}catch{alert("Failed to send verification email")}},k=async()=>{if(confirm("Regenerate API key? This will invalidate the old key."))try{const me=await K.adminRegenerateApiKey(n);alert(`New API Key: ${me}`),F()}catch{alert("Failed to regenerate API key")}},z=async()=>{try{const me=await K.adminExportUserData(n),$=new Blob([JSON.stringify(me,null,2)],{type:"application/json"}),U=URL.createObjectURL($),pe=document.createElement("a");pe.href=U,pe.download=`user_${n}_export.json`,pe.click(),URL.revokeObjectURL(U)}catch{alert("Failed to export user data")}},B=async()=>{if(!(r!=null&&r.user))return;const me=prompt("Enter suspension reason:");if(!me)return;const $={...r.user,status:"suspended",banReason:me};await K.updateUser($),F(),t()},A=async()=>{if(confirm("Log in as this user?"))try{await K.startImpersonation(n),window.location.href="/dashboard"}catch{alert("Failed to start impersonation")}};if(p)return s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."});if(b)return s.jsxs("div",{className:"p-8 text-center text-red-500",children:[s.jsx("div",{className:"font-bold mb-2",children:"Error"}),b,s.jsx("button",{onClick:F,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]});if(!r)return s.jsx("div",{className:"p-8 text-center text-gray-500",children:"No user details found."});const{user:V,tierBalances:Q,totalSpent:je,totalHitsPurchased:H,totalHitsUsed:J,referralsCount:te,referralEarnings:Ie}=r;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Na,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Economy"})]}),s.jsx("div",{className:"text-2xl font-black text-gray-900",children:Q.economy.toLocaleString()}),s.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]}),s.jsxs("div",{className:"bg-white border border-orange-200 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zh,{size:16,className:"text-orange-500"}),s.jsx("span",{className:"text-xs font-bold text-orange-500 uppercase",children:"Professional"})]}),s.jsx("div",{className:"text-2xl font-black text-gray-900",children:Q.professional.toLocaleString()}),s.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]}),s.jsxs("div",{className:"bg-[#111] p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Wt,{size:16,className:"text-[#ff4d00]"}),s.jsx("span",{className:"text-xs font-bold text-[#ff4d00] uppercase",children:"Expert"})]}),s.jsx("div",{className:"text-2xl font-black text-white",children:Q.expert.toLocaleString()}),s.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[s.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-4",children:"Spending Summary"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Total Deposited"}),s.jsxs("div",{className:"text-xl font-black text-green-600",children:["",je.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Hits Purchased"}),s.jsx("div",{className:"text-xl font-black text-gray-900",children:H.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Hits Used"}),s.jsx("div",{className:"text-xl font-black text-gray-900",children:J.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Referrals"}),s.jsx("div",{className:"text-xl font-black text-gray-900",children:te})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Referral Earnings"}),s.jsxs("div",{className:"text-xl font-black text-green-600",children:["",Ie.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[s.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{onClick:()=>Y(!L),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-xs font-bold uppercase hover:bg-green-700 transition-colors",children:[s.jsx(ri,{size:14})," Add Bonus Hits"]}),s.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-xs font-bold uppercase hover:bg-blue-700 transition-colors",children:[s.jsx(xd,{size:14})," Send Password Reset"]}),s.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white text-xs font-bold uppercase hover:bg-purple-700 transition-colors",children:[s.jsx(Ja,{size:14})," Resend Verification"]}),s.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white text-xs font-bold uppercase hover:bg-gray-700 transition-colors",children:[s.jsx(xd,{size:14})," Regenerate API Key"]}),s.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-[#ff4d00] text-white text-xs font-bold uppercase hover:bg-orange-700 transition-colors",children:[s.jsx(VE,{size:14})," Login As User"]}),s.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white text-xs font-bold uppercase hover:bg-gray-900 transition-colors",children:[s.jsx(wa,{size:14})," Export Data"]}),V.status==="active"?s.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-xs font-bold uppercase hover:bg-red-700 transition-colors",children:[s.jsx(Bn,{size:14})," Suspend Account"]}):s.jsxs("button",{onClick:async()=>{const me={...V,status:"active",banReason:""};await K.updateUser(me),F(),t()},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-xs font-bold uppercase hover:bg-green-700 transition-colors",children:[s.jsx(Ta,{size:14})," Reactivate Account"]})]}),L&&s.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200",children:s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Tier"}),s.jsxs("select",{value:I,onChange:me=>E(me.target.value),className:"w-full p-2 text-sm border border-gray-200",children:[s.jsx("option",{value:"economy",children:"Economy"}),s.jsx("option",{value:"professional",children:"Professional"}),s.jsx("option",{value:"expert",children:"Expert"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Hits"}),s.jsx("input",{type:"number",value:C,onChange:me=>S(me.target.value),placeholder:"50000",className:"w-full p-2 text-sm border border-gray-200"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Reason"}),s.jsx("input",{type:"text",value:D,onChange:me=>M(me.target.value),placeholder:"Bonus for testing",className:"w-full p-2 text-sm border border-gray-200"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:X,className:"w-full py-2 bg-green-600 text-white text-xs font-bold uppercase hover:bg-green-700",children:"Add Hits"})})]})})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[s.jsx(Eb,{size:14})," Recent Projects (",h.length,")"]})}),h.length===0?s.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No projects found"}):s.jsx("div",{className:"divide-y divide-gray-50",children:h.slice(0,5).map(me=>{var $;return s.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 cursor-pointer",onClick:()=>e(me.id),children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-gray-900",children:me.name}),s.jsxs("div",{className:"text-xs text-gray-400",children:[me.tier,"  Created ",($=me.createdAt)==null?void 0:$.split("T")[0]]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:`px-2 py-1 text-[10px] font-bold uppercase ${me.status==="active"?"bg-green-100 text-green-700":me.status==="stopped"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:me.status}),s.jsx(Ql,{size:16,className:"text-gray-400"})]})]},me.id)})})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[s.jsx(Tl,{size:14})," Recent Transactions (",l.length,")"]})}),l.length===0?s.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No transactions found"}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Description"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-right",children:"Amount"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-50",children:l.slice(0,5).map(me=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:me.date}),s.jsx("td",{className:"px-6 py-3 text-xs text-gray-900",children:me.desc}),s.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:me.tier||"-"}),s.jsx("td",{className:"px-6 py-3 text-xs font-bold",children:me.hits?me.hits.toLocaleString():"-"}),s.jsxs("td",{className:`px-6 py-3 text-xs font-bold text-right ${me.type==="credit"?"text-green-600":"text-gray-900"}`,children:[me.type==="credit"?"+":"-","",me.amount.toFixed(2)]})]},me.id))})]})]})]})},s9=({userId:n})=>{const[e,t]=_.useState([]),[r,i]=_.useState(!0),[l,d]=_.useState(null),[h,f]=_.useState("all"),[p,y]=_.useState("all"),[b,v]=_.useState(1),C=20;_.useEffect(()=>{S()},[n]);const S=async()=>{i(!0),d(null);try{const Y=await K.getUserTransactions(n);t(Y)}catch(Y){console.error("Failed to load transactions:",Y),d("Failed to load transactions.")}i(!1)},I=e.filter(Y=>!(h!=="all"&&Y.type!==h||p!=="all"&&Y.tier!==p)),E=Math.ceil(I.length/C),D=I.slice((b-1)*C,b*C),M=Y=>{if(!Y)return s.jsx("span",{className:"text-gray-400",children:"-"});const F={economy:"bg-gray-100 text-gray-600",professional:"bg-orange-100 text-orange-600",expert:"bg-[#ff4d00]/10 text-[#ff4d00]"};return s.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${F[Y]||"bg-gray-100 text-gray-600"}`,children:Y})},L=()=>{const Y=["Date","Description","Tier","Hits","Amount","Status"],F=I.map(P=>[P.date,P.desc,P.tier||"",P.hits||"",P.amount.toFixed(2),P.status]),X="data:text/csv;charset=utf-8,"+Y.join(",")+`
`+F.map(P=>P.join(",")).join(`
`),T=document.createElement("a");T.href=encodeURI(X),T.download=`transactions_${n}.csv`,T.click()};return r?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):l?s.jsxs("div",{className:"p-8 text-center text-red-500",children:[s.jsx("div",{className:"font-bold mb-2",children:"Error"}),l,s.jsx("button",{onClick:S,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Af,{size:14,className:"text-gray-400"}),s.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filters:"})]}),s.jsxs("select",{value:h,onChange:Y=>{f(Y.target.value),v(1)},className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"credit",children:"Credits"}),s.jsx("option",{value:"debit",children:"Debits"})]}),s.jsxs("select",{value:p,onChange:Y=>{y(Y.target.value),v(1)},className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[s.jsx("option",{value:"all",children:"All Tiers"}),s.jsx("option",{value:"economy",children:"Economy"}),s.jsx("option",{value:"professional",children:"Professional"}),s.jsx("option",{value:"expert",children:"Expert"})]}),s.jsx("div",{className:"flex-1"}),s.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white text-xs font-bold uppercase hover:bg-gray-900",children:[s.jsx(wa,{size:14})," Export CSV"]})]})}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Description"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-right",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-center",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-50",children:D.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No transactions found"})}):D.map(Y=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 font-mono",children:Y.date}),s.jsx("td",{className:"px-6 py-4 text-xs font-medium text-gray-900",children:Y.desc}),s.jsx("td",{className:"px-6 py-4",children:M(Y.tier)}),s.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:Y.hits?s.jsxs("span",{className:Y.type==="credit"?"text-green-600":"text-red-600",children:[Y.type==="credit"?"+":"-",Y.hits.toLocaleString()]}):"-"}),s.jsxs("td",{className:`px-6 py-4 text-sm font-bold text-right ${Y.type==="credit"?"text-green-600":"text-gray-900"}`,children:[Y.type==="credit"?"+":"-","",Y.amount.toFixed(2)]}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${Y.status==="completed"?"bg-green-100 text-green-700":Y.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:Y.status})})]},Y.id))})]}),E>1&&s.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[s.jsxs("div",{className:"text-xs text-gray-500",children:["Showing ",(b-1)*C+1," to ",Math.min(b*C,I.length)," of ",I.length]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>v(Y=>Math.max(1,Y-1)),disabled:b===1,className:"p-2 border border-gray-200 disabled:opacity-50",children:s.jsx(Dv,{size:14})}),s.jsxs("span",{className:"text-xs font-bold",children:["Page ",b," of ",E]}),s.jsx("button",{onClick:()=>v(Y=>Math.min(E,Y+1)),disabled:b===E,className:"p-2 border border-gray-200 disabled:opacity-50",children:s.jsx(Ql,{size:14})})]})]})]})]})},n9=({userId:n,onNavigateToProject:e})=>{const[t,r]=_.useState([]),[i,l]=_.useState(!0),[d,h]=_.useState(null),[f,p]=_.useState("all"),[y,b]=_.useState("all");_.useEffect(()=>{v()},[n]);const v=async()=>{l(!0),h(null);try{const E=await K.getUserProjects(n);r(E)}catch(E){console.error("Failed to load projects:",E),h("Failed to load projects.")}l(!1)},C=t.filter(E=>!(f!=="all"&&E.status!==f||y!=="all"&&E.tier!==y)),S=E=>{const D={active:"bg-green-100 text-green-700",stopped:"bg-yellow-100 text-yellow-700",completed:"bg-gray-100 text-gray-700"};return s.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${D[E||""]||"bg-gray-100 text-gray-700"}`,children:E||"unknown"})},I=E=>{if(!E)return s.jsx("span",{className:"text-gray-400",children:"-"});const D={economy:"bg-gray-100 text-gray-600",professional:"bg-orange-100 text-orange-600",expert:"bg-[#ff4d00]/10 text-[#ff4d00]"};return s.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${D[E]||"bg-gray-100 text-gray-600"}`,children:E})};return i?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):d?s.jsxs("div",{className:"p-8 text-center text-red-500",children:[s.jsx("div",{className:"font-bold mb-2",children:"Error"}),d,s.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Af,{size:14,className:"text-gray-400"}),s.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filters:"})]}),s.jsxs("select",{value:f,onChange:E=>p(E.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"stopped",children:"Stopped"}),s.jsx("option",{value:"completed",children:"Completed"})]}),s.jsxs("select",{value:y,onChange:E=>b(E.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[s.jsx("option",{value:"all",children:"All Tiers"}),s.jsx("option",{value:"economy",children:"Economy"}),s.jsx("option",{value:"professional",children:"Professional"}),s.jsx("option",{value:"expert",children:"Expert"})]}),s.jsx("div",{className:"flex-1"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[C.length," projects"]})]})}),s.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:C.length===0?s.jsx("div",{className:"p-8 text-center text-gray-400",children:"No projects found"}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits Sent"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Target"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Expires"}),s.jsx("th",{className:"px-6 py-3"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-50",children:C.map(E=>{var D,M,L;return s.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>e(E.id),children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"font-bold text-gray-900",children:E.name})}),s.jsx("td",{className:"px-6 py-4",children:S(E.status)}),s.jsx("td",{className:"px-6 py-4",children:I(E.tier)}),s.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:(D=E.customTarget)!=null&&D.totalVisitors?E.customTarget.totalVisitors.toLocaleString():"-"}),s.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:(M=E.customTarget)!=null&&M.dailyLimit?`${E.customTarget.dailyLimit.toLocaleString()}/day`:"-"}),s.jsx("td",{className:"px-6 py-4 text-xs text-gray-500 font-mono",children:((L=E.createdAt)==null?void 0:L.split("T")[0])||"-"}),s.jsx("td",{className:"px-6 py-4 text-xs text-gray-500 font-mono",children:E.expires||"-"}),s.jsx("td",{className:"px-6 py-4",children:s.jsx(Ql,{size:16,className:"text-gray-400"})})]},E.id)})})]})})]})},r9=({userId:n})=>{const[e,t]=_.useState([]),[r,i]=_.useState(!0),[l,d]=_.useState(null),[h,f]=_.useState(null),[p,y]=_.useState(""),[b,v]=_.useState("all");_.useEffect(()=>{C()},[n]);const C=async()=>{i(!0),d(null);try{const D=await K.getUserTickets(n);t(D)}catch(D){console.error("Failed to load tickets:",D),d("Failed to load tickets.")}i(!1)},S=e.filter(D=>!(b!=="all"&&D.status!==b)),I=D=>{const M={open:"bg-green-100 text-green-700","in-progress":"bg-blue-100 text-blue-700",closed:"bg-gray-100 text-gray-700"};return s.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${M[D||""]||"bg-gray-100 text-gray-700"}`,children:D||"open"})},E=D=>{const M={low:"bg-gray-100 text-gray-600",medium:"bg-yellow-100 text-yellow-700",high:"bg-red-100 text-red-700"};return s.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${M[D||""]||"bg-gray-100 text-gray-600"}`,children:D||"low"})};return r?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):l?s.jsxs("div",{className:"p-8 text-center text-red-500",children:[s.jsx("div",{className:"font-bold mb-2",children:"Error"}),l,s.jsx("button",{onClick:C,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filter:"}),s.jsxs("select",{value:b,onChange:D=>v(D.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in-progress",children:"In Progress"}),s.jsx("option",{value:"closed",children:"Closed"})]}),s.jsx("div",{className:"flex-1"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[S.length," tickets"]})]})}),s.jsx("div",{className:"space-y-4",children:S.length===0?s.jsx("div",{className:"bg-white border border-gray-200 p-8 text-center text-gray-400",children:"No tickets found"}):S.map(D=>s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50",onClick:()=>f(h===D.id?null:D.id),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Un,{size:16,className:"text-gray-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-gray-900",children:D.subject}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Created: ",D.date]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[E(D.priority),I(D.status),h===D.id?s.jsx(Fg,{size:16}):s.jsx(Al,{size:16})]})]}),h===D.id&&s.jsxs("div",{className:"border-t border-gray-100",children:[s.jsx("div",{className:"p-4 max-h-96 overflow-y-auto space-y-4",children:D.messages&&D.messages.length>0?D.messages.map((M,L)=>s.jsxs("div",{className:`p-3 rounded ${M.sender==="admin"?"bg-blue-50 ml-8":"bg-gray-50 mr-8"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`text-[10px] font-bold uppercase ${M.sender==="admin"?"text-blue-600":"text-gray-600"}`,children:M.sender==="admin"?"Support":"User"}),s.jsx("span",{className:"text-[10px] text-gray-400",children:M.date})]}),s.jsx("div",{className:"text-sm text-gray-700",children:M.text})]},L)):s.jsx("div",{className:"text-center text-gray-400 text-sm",children:"No messages yet"})}),D.status!=="closed"&&s.jsxs("div",{className:"p-4 border-t border-gray-100 flex gap-2",children:[s.jsx("input",{type:"text",value:p,onChange:M=>y(M.target.value),placeholder:"Type your reply...",className:"flex-1 p-3 border border-gray-200 text-sm"}),s.jsx("button",{className:"px-4 py-2 bg-[#ff4d00] text-white text-xs font-bold uppercase hover:bg-orange-700",children:s.jsx(mo,{size:14})})]})]})]},D.id))})]})},a9=({userId:n,onUpdate:e})=>{const[t,r]=_.useState([]),[i,l]=_.useState([]),[d,h]=_.useState([]),[f,p]=_.useState(!0),[y,b]=_.useState(null);_.useEffect(()=>{v()},[n]);const v=async()=>{p(!0),b(null);try{const[S,I,E]=await Promise.all([K.getUserSessions(n),K.getImpersonationLog(n),K.getBalanceAdjustments(n)]);r(S),l(I),h(E)}catch(S){console.error("Failed to load security data:",S),b("Failed to load security data.")}p(!1)},C=async S=>{if(confirm("Terminate this session? User will be logged out."))try{await K.terminateUserSession(n,S),v()}catch{alert("Failed to terminate session")}};return f?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):y?s.jsxs("div",{className:"p-8 text-center text-red-500",children:[s.jsx("div",{className:"font-bold mb-2",children:"Error"}),y,s.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[s.jsx(Cl,{size:14})," Active Sessions"]}),s.jsxs("span",{className:"text-xs text-gray-400",children:[t.length," active"]})]}),t.length===0?s.jsx("div",{className:"p-8 text-center text-gray-400",children:"No active sessions"}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"IP Address"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Device"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Location"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Last Activity"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Expires"}),s.jsx("th",{className:"px-6 py-3"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-50",children:t.map(S=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-900",children:S.ipAddress||"Unknown"}),s.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 truncate max-w-[200px]",children:S.userAgent?S.userAgent.substring(0,50)+"...":"Unknown"}),s.jsx("td",{className:"px-6 py-4 text-xs text-gray-600",children:S.location||"-"}),s.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:S.lastActivity?new Date(S.lastActivity).toLocaleString():"-"}),s.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:S.expiresAt?new Date(S.expiresAt).toLocaleString():"-"}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("button",{onClick:()=>C(S.id),className:"text-red-500 hover:text-red-700",title:"Terminate Session",children:s.jsx(So,{size:14})})})]},S.id))})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[s.jsx(Ta,{size:14})," Impersonation Log"]})}),i.length===0?s.jsx("div",{className:"p-8 text-center text-gray-400",children:"No impersonation history"}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Admin"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Action"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"IP Address"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-50",children:i.map(S=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:S.createdAt?new Date(S.createdAt).toLocaleString():"-"}),s.jsx("td",{className:"px-6 py-4 text-xs text-gray-900",children:S.adminEmail||S.adminId}),s.jsx("td",{className:"px-6 py-4 text-xs",children:s.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${S.action==="start"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:S.action})}),s.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:S.ipAddress||"-"})]},S.id))})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[s.jsx(xd,{size:14})," Balance Adjustment History"]})}),d.length===0?s.jsx("div",{className:"p-8 text-center text-gray-400",children:"No balance adjustments"}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Admin"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),s.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Reason"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-50",children:d.map(S=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:S.createdAt?new Date(S.createdAt).toLocaleString():"-"}),s.jsx("td",{className:"px-6 py-4 text-xs text-gray-900",children:S.adminEmail||"System"}),s.jsx("td",{className:"px-6 py-4 text-xs",children:s.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${S.adjustmentType==="credit"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:S.adjustmentType})}),s.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 uppercase",children:S.tier||"-"}),s.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:S.hits?`${S.adjustmentType==="credit"?"+":"-"}${S.hits.toLocaleString()}`:"-"}),s.jsx("td",{className:"px-6 py-4 text-xs text-gray-600",children:S.reason||"-"})]},S.id))})]})]})]})},i9={login:{label:"Login",icon:"",color:"bg-green-50"},logout:{label:"Logout",icon:"",color:"bg-gray-50"},project_created:{label:"Project Created",icon:"",color:"bg-blue-50"},project_started:{label:"Project Started",icon:"",color:"bg-green-50"},project_stopped:{label:"Project Stopped",icon:"",color:"bg-yellow-50"},project_deleted:{label:"Project Deleted",icon:"",color:"bg-red-50"},purchase:{label:"Purchase",icon:"",color:"bg-green-50"},balance_adjusted:{label:"Balance Adjusted",icon:"",color:"bg-orange-50"},api_key_regenerated:{label:"API Key Regenerated",icon:"",color:"bg-purple-50"},settings_change:{label:"Settings Changed",icon:"",color:"bg-gray-50"},password_change:{label:"Password Changed",icon:"",color:"bg-blue-50"},ticket_created:{label:"Ticket Created",icon:"",color:"bg-indigo-50"},ticket_reply:{label:"Ticket Reply",icon:"",color:"bg-indigo-50"},impersonation_start:{label:"Impersonation Started",icon:"",color:"bg-red-50"},impersonation_end:{label:"Impersonation Ended",icon:"",color:"bg-red-50"}},o9=({userId:n})=>{const[e,t]=_.useState([]),[r,i]=_.useState(!0),[l,d]=_.useState(null),[h,f]=_.useState("all"),[p,y]=_.useState(null);_.useEffect(()=>{b()},[n]);const b=async()=>{i(!0),d(null);try{const I=await K.getUserActivity(n,100,0,h!=="all"?h:void 0);t(I)}catch(I){console.error("Failed to load activities:",I),d("Failed to load activities.")}i(!1)};_.useEffect(()=>{b()},[h]);const v=e,C=I=>i9[I]||{label:I,icon:"",color:"bg-gray-50"},S=Array.from(new Set(e.map(I=>I.actionType)));return r?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):l?s.jsxs("div",{className:"p-8 text-center text-red-500",children:[s.jsx("div",{className:"font-bold mb-2",children:"Error"}),l,s.jsx("button",{onClick:b,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Af,{size:14,className:"text-gray-400"}),s.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filter:"})]}),s.jsxs("select",{value:h,onChange:I=>f(I.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[s.jsx("option",{value:"all",children:"All Activities"}),S.map(I=>s.jsx("option",{value:I,children:C(I).label},I))]}),s.jsx("div",{className:"flex-1"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[v.length," activities"]})]})}),s.jsx("div",{className:"bg-white border border-gray-200 shadow-sm",children:v.length===0?s.jsx("div",{className:"p-8 text-center text-gray-400",children:"No activity recorded yet"}):s.jsx("div",{className:"divide-y divide-gray-50",children:v.map(I=>{const E=C(I.actionType);return s.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>y(p===I.id?null:I.id),children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg ${E.color}`,children:E.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-bold text-gray-900",children:E.label}),s.jsx("span",{className:"ml-2 text-xs text-gray-400",children:I.createdAt?new Date(I.createdAt).toLocaleString():""})]}),p===I.id?s.jsx(Fg,{size:16,className:"text-gray-400"}):s.jsx(Al,{size:16,className:"text-gray-400"})]}),I.ipAddress&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["IP: ",I.ipAddress]}),p===I.id&&I.actionDetail&&Object.keys(I.actionDetail).length>0&&s.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded text-xs",children:[s.jsx("div",{className:"font-bold text-gray-500 mb-1",children:"Details:"}),s.jsx("pre",{className:"text-gray-600 whitespace-pre-wrap",children:JSON.stringify(I.actionDetail,null,2)})]}),p===I.id&&I.userAgent&&s.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded text-xs",children:[s.jsx("div",{className:"font-bold text-gray-500 mb-1",children:"User Agent:"}),s.jsx("div",{className:"text-gray-600 truncate",children:I.userAgent})]})]})]})},I.id)})})})]})},l9=({userId:n,onUpdate:e})=>{const[t,r]=_.useState(!0),[i,l]=_.useState(null),[d,h]=_.useState(null),[f,p]=_.useState(""),[y,b]=_.useState(""),[v,C]=_.useState("user"),[S,I]=_.useState("active"),[E,D]=_.useState("free"),[M,L]=_.useState(""),[Y,F]=_.useState(!1),[X,T]=_.useState(!1),[P,k]=_.useState(!1);_.useEffect(()=>{z()},[n]);const z=async()=>{r(!0),l(null);try{const A=await K.getUserDetails(n);if(A&&A.user){const V=A.user;h(V),p(V.email||""),b(V.name||""),C(V.role||"user"),I(V.status||"active"),D(V.plan||"free"),F(V.isVerified||!1)}}catch(A){console.error("Failed to load user profile:",A),l("Failed to load user profile.")}r(!1)},B=async()=>{k(!0);try{const A={email:f,name:y,role:v,status:S,plan:E,is_verified:Y};M&&(A.password=M),await K.adminUpdateUser(n,A),L(""),e&&e(),alert("Profile updated successfully")}catch(A){console.error("Failed to update profile:",A),alert("Failed to update profile")}k(!1)};return t?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading profile..."}):i?s.jsxs("div",{className:"p-8 text-center text-red-500",children:[s.jsx("div",{className:"font-bold mb-2",children:"Error"}),i,s.jsx("button",{onClick:z,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):s.jsx("div",{className:"space-y-6 max-w-4xl",children:s.jsxs("div",{className:"bg-white border boundary-gray-200 p-6 shadow-sm rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"text-[#ff4d00]",children:""})," User Profile"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"User ID"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("input",{type:"text",value:n,readOnly:!0,className:"w-full bg-gray-50 border border-gray-200 p-2 text-sm text-gray-500 font-mono"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",value:f,onChange:A=>p(A.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Display Name"}),s.jsx("input",{type:"text",value:y,onChange:A=>b(A.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Role"}),s.jsxs("select",{value:v,onChange:A=>C(A.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none",children:[s.jsx("option",{value:"user",children:"User"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Account Status"}),s.jsxs("select",{value:S,onChange:A=>I(A.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"suspended",children:"Suspended"}),s.jsx("option",{value:"banned",children:"Banned"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subscription Plan"}),s.jsxs("select",{value:E,onChange:A=>D(A.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none",children:[s.jsx("option",{value:"free",children:"Free"}),s.jsx("option",{value:"pro",children:"Pro"}),s.jsx("option",{value:"agency",children:"Agency"})]})]}),s.jsx("div",{className:"flex items-center mt-6",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:Y,onChange:A=>F(A.target.checked),className:"w-4 h-4 text-[#ff4d00] focus:ring-[#ff4d00] border-gray-300 rounded"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Email Verified"})]})}),s.jsxs("div",{className:"col-span-2 border-t border-gray-100 pt-6 mt-2",children:[s.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2",children:" Password Management"}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded border border-orange-100",children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Set New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:X?"text":"password",value:M,onChange:A=>L(A.target.value),placeholder:"Enter new password to change...",className:"w-full border border-gray-300 p-2 pr-10 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none"}),s.jsx("button",{type:"button",onClick:()=>T(!X),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:X?s.jsx(Mv,{size:16}):s.jsx(kf,{size:16})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Leave blank to keep current password. Providing a value will update the password immediately upon save."})]})]})]}),s.jsx("div",{className:"mt-8 flex justify-end",children:s.jsxs("button",{onClick:B,disabled:P,className:"bg-[#ff4d00] text-white px-6 py-3 text-sm font-bold uppercase tracking-wider hover:bg-[#e64500] transition-colors flex items-center gap-2 disabled:opacity-50",children:[P?s.jsx(Ja,{className:"animate-spin",size:16}):s.jsx(ai,{size:16}),"Save Profile"]})})]})})},c9=[{id:"overview",label:"Overview",icon:s.jsx(vn,{size:16})},{id:"profile",label:"Profile",icon:s.jsx(vn,{size:16})},{id:"transactions",label:"Transactions",icon:s.jsx(Lr,{size:16})},{id:"projects",label:"Projects",icon:s.jsx(KD,{size:16})},{id:"tickets",label:"Tickets",icon:s.jsx(pO,{size:16})},{id:"security",label:"Security",icon:s.jsx(Ta,{size:16})},{id:"activity",label:"Activity",icon:s.jsx(lr,{size:16})}],d9=({userId:n,onBack:e,onUpdate:t})=>{const[r,i]=_.useState(null),[l,d]=_.useState("overview"),[h,f]=_.useState(!0);_.useEffect(()=>{p()},[n]);const p=async()=>{f(!0);try{const v=await K.getUserDetails(n);v&&v.user&&i(v.user)}catch(v){console.error(v)}f(!1)},y=v=>{window.location.href=`/admin/projects/edit/${v}`},b=async()=>{if(r)try{await K.startImpersonation(r.id),window.location.href="/dashboard"}catch(v){console.error("Failed to impersonate",v),alert("Failed to start impersonation session. Please try again.")}};return h?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading user details..."}):r?s.jsxs("div",{className:"animate-in fade-in space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-[#ff4d00] text-xs font-bold uppercase tracking-wide transition-colors",children:[s.jsx(wn,{size:14})," Back to Users"]}),s.jsx("div",{className:"flex items-center gap-2"})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm flex items-center justify-between rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsx("div",{className:"w-14 h-14 bg-[#ff4d00] rounded-full flex items-center justify-center shadow-md",children:s.jsx("span",{className:"font-black text-white text-xl",children:r.name?r.name.charAt(0).toUpperCase():r.email.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-gray-900 text-xl",children:r.name||"Unnamed User"}),s.jsx("div",{className:"text-sm text-gray-500 font-mono",children:r.email}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase rounded border ${r.status==="active"?"bg-green-50 text-green-600 border-green-200":"bg-red-50 text-red-600 border-red-200"}`,children:r.status}),s.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase rounded border ${r.role==="admin"?"bg-purple-50 text-purple-600 border-purple-200":"bg-gray-50 text-gray-600 border-gray-200"}`,children:r.role}),s.jsxs("span",{className:"px-2 py-0.5 text-[10px] font-bold uppercase rounded border bg-blue-50 text-blue-600 border-blue-200",children:[r.plan," Plan"]})]})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-5 py-2.5 bg-black text-white text-xs font-bold uppercase hover:bg-gray-800 transition-colors border border-black shadow-sm",children:[s.jsx(VE,{size:14})," Login As User"]})})]}),s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-lg overflow-hidden",children:[s.jsx("div",{className:"flex overflow-x-auto border-b border-gray-100",children:c9.map(v=>s.jsxs("button",{onClick:()=>d(v.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-bold uppercase tracking-wider border-b-2 transition-all whitespace-nowrap
                                ${l===v.id?"border-[#ff4d00] text-[#ff4d00] bg-orange-50/50":"border-transparent text-gray-500 hover:text-gray-900 hover:bg-gray-50"}`,children:[s.jsx("span",{className:l===v.id?"text-[#ff4d00]":"text-gray-400",children:v.icon}),s.jsx("span",{children:v.label})]},v.id))}),s.jsx("div",{className:"p-6 bg-gray-50/30 min-h-[400px]",children:s.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300",children:[l==="overview"&&s.jsx(t9,{userId:n,onNavigateToProject:y,onUpdate:t}),l==="profile"&&s.jsx(l9,{userId:n,onUpdate:()=>{p(),t()}}),l==="transactions"&&s.jsx(s9,{userId:n}),l==="projects"&&s.jsx(n9,{userId:n,onNavigateToProject:y}),l==="tickets"&&s.jsx(r9,{userId:n}),l==="security"&&s.jsx(a9,{userId:n,onUpdate:t}),l==="activity"&&s.jsx(o9,{userId:n})]})})]})]}):s.jsx("div",{className:"p-8 text-center text-red-500",children:"User not found"})},u9=({projectId:n,onBack:e,onUpdate:t})=>{const[r,i]=_.useState(null),[l,d]=_.useState(!1),[h,f]=_.useState(!0);if(_.useEffect(()=>{f(!0);const v=K.getProjectById(n);if(v){const C=JSON.parse(JSON.stringify(v));C.settings||(C.settings={trafficSpeed:100,bounceRate:0,returnRate:0,deviceSplit:70,deviceSpecific:"All",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:["United States"],geoTargets:[{id:"default-geo",country:"United States",percent:100}],trafficSource:"organic",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0,adminPriority:0,adminWeight:1,forceStopReason:""}),C.settings.languages||(C.settings.languages=[C.settings.language||"en-US"]),C.settings.countries||(C.settings.countries=["United States"]),i(C)}f(!1)},[n]),h)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-500",children:"Loading project..."})});if(!r||!r.settings)return s.jsx("div",{children:"Project not found."});const p=()=>{r&&(d(!0),setTimeout(()=>{K.updateProject(r),d(!1),t(),alert("Project configuration saved successfully.")},500))},y=(v,C)=>{!r||!r.settings||i({...r,settings:{...r.settings,[v]:C}})};if(!r||!r.settings)return s.jsx("div",{children:"Project not found."});const b=r.settings;return s.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6 pb-12",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-[#f3f4f6] z-10 py-4 border-b border-gray-200",children:[s.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[s.jsx(wn,{size:14})," Back to Projects"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Editing Campaign"}),s.jsx("div",{className:"text-sm font-black text-gray-900",children:r.name})]}),s.jsxs("button",{onClick:p,disabled:l,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 shadow-lg disabled:opacity-70 disabled:cursor-not-allowed",children:[s.jsx(ai,{size:14})," ",l?"Saving...":"Save All Changes"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(Il,{size:14})," Core Configuration"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(_t,{children:"Project Name"}),s.jsx("input",{value:r.name,onChange:v=>i({...r,name:v.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Target URL (Entry)"}),s.jsx("input",{value:b.entryUrls,onChange:v=>y("entryUrls",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(_t,{children:"Plan Tier"}),s.jsx(Rt,{value:r.plan,onChange:v=>i({...r,plan:v}),options:[{value:"Free Trial",label:"Free Trial"},{value:"Starter",label:"Starter"},{value:"Growth",label:"Growth"},{value:"Agency",label:"Agency"}]})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Status"}),s.jsx(Rt,{value:r.status,onChange:v=>i({...r,status:v}),options:[{value:"active",label:"Active"},{value:"stopped",label:"Stopped"},{value:"completed",label:"Completed"},{value:"archived",label:"Archived (Admin)"}]})]})]}),r.status==="stopped"&&s.jsxs("div",{className:"bg-red-50 border border-red-100 p-4",children:[s.jsx(_t,{children:"Force Stop Reason (Visible to User)"}),s.jsx("input",{value:b.forceStopReason||"",onChange:v=>y("forceStopReason",v.target.value),className:"w-full bg-white border border-red-200 p-3 text-sm font-medium text-red-900 outline-none focus:border-red-500 placeholder-red-300",placeholder:"e.g. Violation of TOS, Payment Failed..."})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 border-l-4 border-l-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(lr,{size:12,className:"text-gray-500"}),s.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-gray-500",children:"Admin Controls"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(_t,{children:"Queue Priority (-10 to 10)"}),s.jsx("input",{type:"number",min:"-10",max:"10",value:b.adminPriority||0,onChange:v=>y("adminPriority",parseInt(v.target.value)),className:"w-full bg-white border border-gray-200 p-2 text-sm font-bold text-gray-900 outline-none focus:border-gray-500"}),s.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Higher = processed first."})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Traffic Weight (0.1 - 5.0)"}),s.jsx("input",{type:"number",step:"0.1",min:"0.1",max:"5.0",value:b.adminWeight||1,onChange:v=>y("adminWeight",parseFloat(v.target.value)),className:"w-full bg-white border border-gray-200 p-2 text-sm font-bold text-gray-900 outline-none focus:border-gray-500"}),s.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Multiplier for resource allocation."})]})]})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Expiration Date"}),s.jsx("input",{value:r.expires,onChange:v=>i({...r,expires:v.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"YYYY-MM-DD"})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Google Analytics ID"}),s.jsx("input",{value:b.gaId,onChange:v=>y("gaId",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"G-XXXXXXXXXX"})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(lr,{size:14})," Visitor Behavior"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(_t,{children:"Bounce Rate (%)"}),s.jsx("input",{type:"number",value:b.bounceRate,onChange:v=>y("bounceRate",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Return Rate (%)"}),s.jsx("input",{type:"number",value:b.returnRate,onChange:v=>y("returnRate",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Time On Page"}),s.jsx(Rt,{value:b.timeOnPage,onChange:v=>y("timeOnPage",v),options:[{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"3 minutes",label:"3 minutes"},{value:"5 minutes",label:"5 minutes"}]})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Traffic Speed (Priority)"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"range",min:"0",max:"100",value:b.trafficSpeed,onChange:v=>y("trafficSpeed",parseInt(v.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"}),s.jsxs("span",{className:"text-sm font-bold w-12",children:[b.trafficSpeed,"%"]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-end mb-2",children:[s.jsx(_t,{children:"Device Split"}),s.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase flex gap-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Cl,{size:10})," Desktop: ",b.deviceSplit,"%"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(bd,{size:10})," Mobile: ",100-b.deviceSplit,"%"]})]})]}),s.jsx("input",{type:"range",min:"0",max:"100",value:b.deviceSplit,onChange:v=>y("deviceSplit",parseInt(v.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(fo,{size:14})," Geolocation & Tech"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(_t,{children:"Countries"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:b.countries.map(v=>s.jsxs("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 text-xs font-bold uppercase rounded-sm flex items-center gap-2",children:[v," ",s.jsx("button",{onClick:()=>y("countries",b.countries.filter(C=>C!==v)),className:"hover:text-red-500",children:""})]},v))}),s.jsx(Rt,{value:"",onChange:v=>{v&&!b.countries.includes(v)&&y("countries",[...b.countries,v])},placeholder:"Add Country...",options:[{value:"United States",label:"United States"},{value:"United Kingdom",label:"United Kingdom"},{value:"Germany",label:"Germany"},{value:"France",label:"France"},{value:"Canada",label:"Canada"},{value:"India",label:"India"},{value:"Brazil",label:"Brazil"}]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(_t,{children:"Browser Language"}),s.jsx("input",{value:b.languages.join(", "),onChange:v=>y("languages",v.target.value.split(", ")),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Timezone"}),s.jsx(Rt,{value:b.timezone,onChange:v=>y("timezone",v),options:[{value:"UTC",label:"UTC"},{value:"EST",label:"EST"},{value:"PST",label:"PST"},{value:"CET",label:"CET"}]})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(yd,{size:14})," Advanced Interactions"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(_t,{children:"Traffic Source Type"}),s.jsx(Rt,{value:b.trafficSource,onChange:v=>y("trafficSource",v),options:[{value:"organic",label:"Organic (Search)"},{value:"direct",label:"Direct"},{value:"social",label:"Social"}]})]}),b.trafficSource==="organic"&&s.jsxs("div",{children:[s.jsx(_t,{children:"Keywords (One per line)"}),s.jsx("textarea",{value:b.keywords,onChange:v=>y("keywords",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(_t,{children:"Inner URLs Count"}),s.jsx("input",{type:"number",value:b.innerUrlCount,onChange:v=>y("innerUrlCount",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Scroll Events (%)"}),s.jsx("input",{type:"number",value:b.pageViewsWithScroll,onChange:v=>y("pageViewsWithScroll",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Internal Clicks"}),s.jsx("input",{type:"number",value:b.clickInternal,onChange:v=>y("clickInternal",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Inner URLs (CSV)"}),s.jsx("input",{value:b.innerUrls,onChange:v=>y("innerUrls",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-600 outline-none focus:border-[#ff4d00]",placeholder:"http://..., http://..."})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(Il,{size:14})," UTM & Attribution"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(_t,{children:"Campaign Source"}),s.jsx("input",{value:b.utmSource||"",onChange:v=>y("utmSource",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. google"})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Campaign Medium"}),s.jsx("input",{value:b.utmMedium||"",onChange:v=>y("utmMedium",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. cpc"})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Campaign Name"}),s.jsx("input",{value:b.utmCampaign||"",onChange:v=>y("utmCampaign",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. winter_sale"})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Campaign Term"}),s.jsx("input",{value:b.utmTerm||"",onChange:v=>y("utmTerm",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. running_shoes"})]}),s.jsxs("div",{children:[s.jsx(_t,{children:"Campaign Content"}),s.jsx("input",{value:b.utmContent||"",onChange:v=>y("utmContent",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. banner_wide"})]})]}),s.jsxs("p",{className:"mt-4 text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:["Supports: ","{{random_keyword}}, {{timestamp}}, {{device_type}}"]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm lg:col-span-2",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(Wt,{size:14})," System Features"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Kc,{label:"Auto Renew",checked:b.autoRenew,onChange:v=>y("autoRenew",v)}),s.jsx(Kc,{label:"Cache Website",checked:b.cacheWebsite,onChange:v=>y("cacheWebsite",v)}),s.jsx(Kc,{label:"Minimize CPU",checked:b.minimizeCpu,onChange:v=>y("minimizeCpu",v)}),s.jsx(Kc,{label:"Anti-Fingerprint",checked:b.antiFingerprint,onChange:v=>y("antiFingerprint",v)}),s.jsx(Kc,{label:"Randomize Session",checked:b.randomizeSession,onChange:v=>y("randomizeSession",v)}),s.jsx(Kc,{label:"Auto Crawl",checked:b.autoCrawlEntry,onChange:v=>y("autoCrawlEntry",v)})]})]})]})]})},_t=({children:n})=>s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:n}),Kc=({label:n,checked:e,onChange:t})=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[s.jsx("span",{className:"text-sm font-bold text-gray-700",children:n}),s.jsx("button",{onClick:()=>t(!e),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${e?"bg-[#ff4d00]":"bg-gray-300"}`,children:s.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${e?"translate-x-5":"translate-x-0"}`})})]}),h9=({trxId:n,onBack:e,onUpdate:t})=>{const[r,i]=_.useState(null);_.useEffect(()=>{(async()=>{await K.syncAllTransactions();const f=K.getAllTransactionsAdmin().find(p=>p.id===n);i(f||null)})()},[n]);const l=async()=>{if(r)try{await K.updateTransaction(r),t(),alert("Transaction updated.")}catch(d){alert("Error: "+d.message)}};return r?s.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[s.jsx(wn,{size:14})," Back to Transactions"]}),s.jsxs("button",{onClick:l,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[s.jsx(ai,{size:14})," Save Changes"]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm max-w-3xl mx-auto",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8",children:["Edit Transaction: ",r.id]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Description"}),s.jsx("input",{value:r.desc,onChange:d=>i({...r,desc:d.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Amount ()"}),s.jsx("input",{type:"number",value:r.amount,onChange:d=>i({...r,amount:parseFloat(d.target.value)||0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Type"}),s.jsxs("select",{value:r.type,onChange:d=>i({...r,type:d.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[s.jsx("option",{value:"credit",children:"Credit (+)"}),s.jsx("option",{value:"debit",children:"Debit (-)"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Status"}),s.jsxs("select",{value:r.status,onChange:d=>i({...r,status:d.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"failed",children:"Failed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Date"}),s.jsx("input",{value:r.date,onChange:d=>i({...r,date:d.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Balance Tier"}),s.jsxs("select",{value:r.tier||"",onChange:d=>i({...r,tier:d.target.value||void 0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[s.jsx("option",{value:"",children:"General"}),s.jsx("option",{value:"economy",children:"Economy"}),s.jsx("option",{value:"professional",children:"Professional"}),s.jsx("option",{value:"expert",children:"Expert"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Reference"}),s.jsx("input",{value:r.reference||"",onChange:d=>i({...r,reference:d.target.value||void 0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"TGP-XXXXXXXX-XXXXXX"})]})]})]})]})]}):s.jsx("div",{children:"Transaction not found."})},f9={trafficSpeed:100,bounceRate:0,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:["United States"],geoTargets:[{id:"default-geo",country:"United States",percent:100}],trafficSource:"organic",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,urlVisitOrder:"random",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0},m9=({onBack:n,onSuccess:e})=>{const[t,r]=_.useState(""),[i,l]=_.useState(""),[d,h]=_.useState(1e3),[f,p]=_.useState(7),[y,b]=_.useState({...f9}),[v,C]=_.useState(!1),[S,I]=_.useState(null),[E,D]=_.useState(!1),[M,L]=_.useState("idle"),[Y,F]=_.useState([]),[X,T]=_.useState("");Fe.useEffect(()=>{(async()=>{const V=await K.syncUsers();F(V);const Q=K.getCurrentUser();Q&&T(Q.id)})()},[]);const P=Math.round(d/f),k=(A,V)=>{b(Q=>({...Q,[A]:V}))},z=async()=>{if(!i){I("Please enter a target URL first");return}D(!0),L("idle");try{const A=await K.scanGA4(i);A?(k("gaId",A),L("success")):L("error")}catch{L("error")}finally{D(!1)}},B=async()=>{var A;if(!t||!i){I("Please enter a project name and target URL");return}if(d<100||f<1){I("Minimum 100 visitors and 1 day required");return}C(!0),I(null);try{const V={id:"proj_"+Date.now(),userId:X||((A=K.getCurrentUser())==null?void 0:A.id)||"admin",name:t,plan:"Custom",customTarget:{totalVisitors:d,durationDays:f,dailyLimit:P},expires:"Never",status:"active",settings:y,stats:[]};await K.addProject(V),e(),n()}catch(V){I(V.message||"Failed to create project")}finally{C(!1)}};return s.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6 pb-12",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-[#f3f4f6] z-10 py-4 border-b border-gray-200",children:[s.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[s.jsx(wn,{size:14})," Back to Projects"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"New Campaign"}),s.jsx("div",{className:"text-sm font-black text-gray-900",children:"Create Project"})]}),s.jsxs("button",{onClick:B,disabled:v,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ai,{size:14})," ",v?"Creating...":"Create Project"]})]})]}),S&&s.jsx("div",{className:"bg-red-50 border border-red-200 p-4 text-red-700 text-sm font-bold",children:S}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(Il,{size:14})," Core Configuration"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Project Name"}),s.jsx("input",{value:t,onChange:A=>r(A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"My Traffic Campaign"})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Project Owner (User)"}),s.jsxs("div",{className:"relative",children:[s.jsx(vn,{className:"absolute left-3 top-3 text-gray-400",size:16}),s.jsxs("select",{value:X,onChange:A=>T(A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00] appearance-none",children:[s.jsx("option",{value:"",children:"Select a User..."}),Y.map(A=>s.jsxs("option",{value:A.id,children:[A.name," (",A.email,") - ",A.role]},A.id))]})]})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Target URL (Entry)"}),s.jsx("input",{value:i,onChange:A=>l(A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://example.com"})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Total Visitors"}),s.jsx("input",{type:"number",min:"100",value:d,onChange:A=>h(parseInt(A.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"1000"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Duration (Days)"}),s.jsx("input",{type:"number",min:"1",value:f,onChange:A=>p(parseInt(A.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Daily Visitors"}),s.jsxs("div",{className:"w-full bg-[#f3f4f6] border border-gray-200 p-3 text-sm font-bold text-[#ff4d00]",children:[P.toLocaleString()," /day"]})]})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Google Analytics ID"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{value:y.gaId,onChange:A=>k("gaId",A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"G-XXXXXXXXXX"}),M==="success"&&s.jsx(Lt,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-500"}),M==="error"&&s.jsx($g,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-500"})]}),s.jsxs("button",{onClick:z,disabled:E||!i,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 text-xs font-bold uppercase tracking-wide flex items-center gap-2 transition-colors disabled:opacity-50",title:"Auto-detect GA ID from website",children:[E?s.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):s.jsx(hr,{size:14}),"Detect"]})]}),M==="error"&&s.jsx("p",{className:"text-[10px] text-red-500 mt-1",children:"No Google Analytics ID found on this website"})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(lr,{size:14})," Visitor Behavior"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Bounce Rate (%)"}),s.jsx("input",{type:"number",value:y.bounceRate,onChange:A=>k("bounceRate",parseInt(A.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Return Rate (%)"}),s.jsx("input",{type:"number",value:y.returnRate,onChange:A=>k("returnRate",parseInt(A.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Time On Page"}),s.jsx(Rt,{value:y.timeOnPage,onChange:A=>k("timeOnPage",A),options:[{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"3 minutes",label:"3 minutes"},{value:"5 minutes",label:"5 minutes"}]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(fo,{size:14})," Geolocation"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Countries"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:y.countries.map(A=>s.jsxs("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 text-xs font-bold uppercase rounded-sm flex items-center gap-2",children:[A," ",s.jsx("button",{onClick:()=>k("countries",y.countries.filter(V=>V!==A)),className:"hover:text-red-500",children:""})]},A))}),s.jsx(Rt,{value:"",onChange:A=>{A&&!y.countries.includes(A)&&k("countries",[...y.countries,A])},placeholder:"Add Country...",options:[{value:"United States",label:"United States"},{value:"United Kingdom",label:"United Kingdom"},{value:"Germany",label:"Germany"},{value:"France",label:"France"},{value:"Canada",label:"Canada"},{value:"India",label:"India"},{value:"Brazil",label:"Brazil"}]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Browser Language"}),s.jsx("input",{value:y.languages.join(", "),onChange:A=>k("languages",A.target.value.split(", ")),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Timezone"}),s.jsx(Rt,{value:y.timezone,onChange:A=>k("timezone",A),options:[{value:"UTC",label:"UTC"},{value:"EST",label:"EST"},{value:"PST",label:"PST"},{value:"CET",label:"CET"}]})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(yd,{size:14})," Traffic Source"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Traffic Source Type"}),s.jsx(Rt,{value:y.trafficSource,onChange:A=>k("trafficSource",A),options:[{value:"organic",label:"Organic (Search)"},{value:"direct",label:"Direct"},{value:"social",label:"Social"}]})]}),y.trafficSource==="organic"&&s.jsxs("div",{children:[s.jsx(Ke,{children:"Keywords (One per line)"}),s.jsx("textarea",{value:y.keywords,onChange:A=>k("keywords",A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`keyword1
keyword2`})]}),y.trafficSource==="social"&&s.jsxs("div",{children:[s.jsx(Ke,{children:"Referral URLs (One per line)"}),s.jsx("textarea",{value:y.referralUrls,onChange:A=>k("referralUrls",A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://facebook.com
https://twitter.com`})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(Il,{size:14})," UTM & Attribution"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Campaign Source"}),s.jsx("input",{value:y.utmSource||"",onChange:A=>k("utmSource",A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. google"})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Campaign Medium"}),s.jsx("input",{value:y.utmMedium||"",onChange:A=>k("utmMedium",A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. cpc"})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Campaign Name"}),s.jsx("input",{value:y.utmCampaign||"",onChange:A=>k("utmCampaign",A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. split_test"})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Campaign Term"}),s.jsx("input",{value:y.utmTerm||"",onChange:A=>k("utmTerm",A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. keyword"})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Campaign Content"}),s.jsx("input",{value:y.utmContent||"",onChange:A=>k("utmContent",A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. sidebar_ad"})]})]}),s.jsxs("p",{className:"mt-4 text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:["Supports: ","{{random_keyword}}, {{timestamp}}, {{device_type}}"]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(fo,{size:14})," Proxy & Schedule"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Proxy Mode"}),s.jsx(Rt,{value:y.proxyMode||"auto",onChange:A=>k("proxyMode",A),options:[{value:"auto",label:"Auto-Rotate"},{value:"sticky",label:"Sticky Session"},{value:"custom",label:"Custom List"}]})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Visit Order"}),s.jsx(Rt,{value:y.urlVisitOrder||"random",onChange:A=>k("urlVisitOrder",A),options:[{value:"random",label:"Random"},{value:"sequential",label:"Sequential Funnel"}]})]})]}),y.proxyMode==="custom"&&s.jsxs("div",{children:[s.jsx(Ke,{children:"Custom Proxies"}),s.jsx("textarea",{value:y.customProxies,onChange:A=>k("customProxies",A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono outline-none focus:border-[#ff4d00] h-20",placeholder:"ip:port:user:pass"})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(bd,{size:14})," Device Targeting"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Device Specific"}),s.jsx(Rt,{value:y.deviceSpecific,onChange:A=>{A.includes("Mobile")&&k("deviceSplit",0),A.includes("Desktop")&&k("deviceSplit",100),k("deviceSpecific",A)},options:[{value:"All",label:"All Devices"},{value:"Desktop, Windows",label:"Windows Desktop"},{value:"Desktop, Mac",label:"Mac Desktop"},{value:"Mobile, iPhone",label:"iPhone"},{value:"Mobile, Android",label:"Android"}]})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Browser"}),s.jsx(Rt,{value:y.browser||"Random",onChange:A=>k("browser",A),options:[{value:"Random",label:"Random"},{value:"Chrome",label:"Chrome"},{value:"Firefox",label:"Firefox"},{value:"Safari",label:"Safari"},{value:"Edge",label:"Edge"}]})]})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Device Split (Desktop/Tablet/Mobile)"}),s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx("span",{className:"text-[10px] font-bold w-12 text-gray-500",children:"Desktop"}),s.jsx("input",{type:"range",min:"0",max:"100",value:y.deviceSplit,onChange:A=>{const V=parseInt(A.target.value),Q=100-(y.tabletSplit||0);k("deviceSplit",Math.min(V,Q))},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"}),s.jsxs("span",{className:"text-sm font-bold w-8",children:[y.deviceSplit,"%"]})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx("span",{className:"text-[10px] font-bold w-12 text-gray-500",children:"Tablet"}),s.jsx("input",{type:"range",min:"0",max:"100",value:y.tabletSplit||0,onChange:A=>{const V=parseInt(A.target.value),Q=100-y.deviceSplit;k("tabletSplit",Math.min(V,Q))},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-gray-500"}),s.jsxs("span",{className:"text-sm font-bold w-8",children:[y.tabletSplit||0,"%"]})]}),s.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 text-right",children:["Mobile Remainder: ",100-y.deviceSplit-(y.tabletSplit||0),"%"]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(d3,{size:14})," Crawling Options"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Entry URLs (One per line)"}),s.jsx("textarea",{value:y.entryUrls,onChange:A=>k("entryUrls",A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://example.com
https://example.com/about`})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Inner URLs (One per line)"}),s.jsx("textarea",{value:y.innerUrls,onChange:A=>k("innerUrls",A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://example.com/page1
https://example.com/page2`})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Exit URLs (One per line)"}),s.jsx("textarea",{value:y.exitUrls,onChange:A=>k("exitUrls",A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:"https://example.com/thank-you"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:y.autoCrawlEntry,onChange:A=>k("autoCrawlEntry",A.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),s.jsx(Ke,{className:"!mb-0",children:"Auto-crawl Entry"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:y.autoCrawlInner,onChange:A=>k("autoCrawlInner",A.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),s.jsx(Ke,{className:"!mb-0",children:"Auto-crawl Inner"})]})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Inner URL Count"}),s.jsx("input",{type:"number",min:"0",value:y.innerUrlCount,onChange:A=>k("innerUrlCount",parseInt(A.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(BE,{size:14})," Advanced Options"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Sitemap URL"}),s.jsx("input",{value:y.sitemap,onChange:A=>k("sitemap",A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://example.com/sitemap.xml"})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"URL Shortener"}),s.jsx("input",{value:y.shortener,onChange:A=>k("shortener",A.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://short.url/..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:y.autoRenew,onChange:A=>k("autoRenew",A.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),s.jsx(Ke,{className:"!mb-0",children:"Auto-renew"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:y.cacheWebsite,onChange:A=>k("cacheWebsite",A.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),s.jsx(Ke,{className:"!mb-0",children:"Cache Website"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:y.minimizeCpu,onChange:A=>k("minimizeCpu",A.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),s.jsx(Ke,{className:"!mb-0",children:"Minimize CPU"})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(Ta,{size:14})," Session Behavior"]}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:y.randomizeSession,onChange:A=>k("randomizeSession",A.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),s.jsx(Ke,{className:"!mb-0",children:"Randomize Session"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:y.antiFingerprint,onChange:A=>k("antiFingerprint",A.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),s.jsx(Ke,{className:"!mb-0",children:"Anti-fingerprinting"})]})]})})]}),s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[s.jsx(S3,{size:14})," Interaction Settings"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Page Views with Scroll (%)"}),s.jsx("input",{type:"number",min:"0",max:"100",value:y.pageViewsWithScroll,onChange:A=>k("pageViewsWithScroll",parseInt(A.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Click External Links"}),s.jsx("input",{type:"number",min:"0",value:y.clickExternal,onChange:A=>k("clickExternal",parseInt(A.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Click Internal Links"}),s.jsx("input",{type:"number",min:"0",value:y.clickInternal,onChange:A=>k("clickInternal",parseInt(A.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]})]})]})]})]})},Ke=({children:n,className:e=""})=>s.jsx("label",{className:`text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2 ${e}`,children:n}),p9=()=>{const[n,e]=_.useState("GET /stats"),[t,r]=_.useState("{}"),[i,l]=_.useState([]),[d,h]=_.useState(!1),[f,p]=_.useState(null),y=[{method:"GET",path:"/health",desc:"Check system health and mode"},{method:"GET",path:"/stats",desc:"Global traffic throughput statistics"},{method:"GET",path:"/events",desc:"Recent 50 page-view events with metadata"},{method:"GET",path:"/projects",desc:"List all running and saved projects"},{method:"POST",path:"/projects",desc:"Create a new traffic project"},{method:"DELETE",path:"/projects/{id}",desc:"Remove a project and stop traffic"},{method:"POST",path:"/start",desc:"Immediate ad-hoc traffic burst"},{method:"POST",path:"/stop",desc:"Halt all active user simulations"},{method:"GET",path:"/proxies",desc:"List active proxy rotation pool"},{method:"POST",path:"/proxies",desc:"Add a new proxy to the pool"},{method:"GET",path:"/admin/stats",desc:"SaaS Business Metrics (Revenue, Users)"}],b=(I,E,D)=>{const M={id:Math.random().toString(36).substr(2,9),type:I,msg:E,time:new Date().toLocaleTimeString(),duration:D};l(L=>[M,...L].slice(0,50))},v=async()=>{h(!0);const[I,E]=n.split(" "),D="http://localhost:8001",M=performance.now();b("req",`${I} ${E}
Payload: ${t}`);try{const L={method:I,headers:{"Content-Type":"application/json",Authorization:"Bearer ADMIN_MOCK_TOKEN"}};I!=="GET"&&t!=="{}"&&(L.body=t);const Y=await fetch(`${D}${E}`,L),F=performance.now(),X=Math.round(F-M);let T;try{T=await Y.json()}catch{T={error:"Failed to parse JSON response"}}Y.ok?b("res",JSON.stringify(T,null,2),X):b("err",`Error ${Y.status}: ${JSON.stringify(T,null,2)}`,X)}catch(L){const Y=performance.now();b("err",`Network Failure: ${L.message}`,Math.round(Y-M))}finally{h(!1)}},C=(I,E)=>{navigator.clipboard.writeText(I),p(E),setTimeout(()=>p(null),2e3)},S=()=>l([]);return s.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-in fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsx("div",{className:"bg-black p-2 rounded-sm text-white shadow-lg",children:s.jsx(DE,{size:24})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-1",children:"Developer Hub"}),s.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"API Documentation & Debugger"})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 px-4 py-2 flex items-center gap-3 shadow-sm rounded-sm",children:[s.jsx(J3,{size:14,className:"text-green-500"}),s.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["Backend Status: ",s.jsx("span",{className:"text-green-600",children:"ONLINE"})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 px-4 py-2 flex items-center gap-3 shadow-sm rounded-sm",children:[s.jsx(Os,{size:14,className:"text-blue-500"}),s.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["API Version: ",s.jsx("span",{className:"text-blue-600",children:"v1.2.0"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 flex-1 overflow-hidden",children:[s.jsxs("div",{className:"bg-white border border-gray-200 flex flex-col overflow-hidden shadow-sm rounded-sm",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[s.jsx(MD,{size:14})," Endpoints Reference"]}),s.jsx("span",{className:"text-[10px] font-bold bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"FastAPI Engine"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:[s.jsx("div",{className:"space-y-6",children:y.map((I,E)=>s.jsxs("div",{className:"group border-b border-gray-100 pb-6 last:border-0 hover:bg-gray-50/50 p-2 -m-2 transition-colors rounded-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-sm uppercase tracking-tighter shadow-sm ${I.method==="GET"?"bg-blue-600 text-white":I.method==="POST"?"bg-green-600 text-white":I.method==="DELETE"?"bg-red-600 text-white":"bg-orange-600 text-white"}`,children:I.method}),s.jsx("code",{className:"text-xs font-bold text-gray-900",children:I.path}),s.jsxs("div",{className:"ml-auto flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>C(I.path,`path-${E}`),className:"p-1 px-2 bg-gray-100 hover:bg-black hover:text-white text-[9px] font-bold uppercase rounded-sm border border-gray-200 transition-all",children:f===`path-${E}`?"Copied":"Copy"}),s.jsx("button",{onClick:()=>{e(`${I.method} ${I.path}`),I.method==="POST"&&r(`{
  "demo": true
}`)},className:"p-1 px-2 bg-[#ff4d00]/10 hover:bg-[#ff4d00] text-[#ff4d00] hover:text-white text-[9px] font-bold uppercase rounded-sm border border-[#ff4d00]/20 transition-all",children:"Test"})]})]}),s.jsx("p",{className:"text-gray-500 text-[11px] leading-relaxed",children:I.desc})]},E))}),s.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-100 rounded-sm",children:[s.jsxs("h4",{className:"text-xs font-bold text-orange-800 uppercase mb-3 flex items-center gap-2",children:[s.jsx(xd,{size:14})," Security Headers"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between bg-white p-2 border border-orange-100 rounded-sm overflow-hidden",children:[s.jsx("code",{className:"text-[10px] text-gray-600",children:"Authorization: Bearer [token]"}),s.jsx("button",{onClick:()=>C("Authorization: Bearer YOUR_TOKEN","auth-header"),className:"text-[9px] font-bold text-orange-600 hover:underline",children:"Copy"})]}),s.jsxs("div",{className:"flex items-center justify-between bg-white p-2 border border-orange-100 rounded-sm overflow-hidden",children:[s.jsx("code",{className:"text-[10px] text-gray-600",children:"X-API-KEY: [your-key]"}),s.jsx("button",{onClick:()=>C("X-API-KEY: YOUR_KEY","x-key"),className:"text-[9px] font-bold text-orange-600 hover:underline",children:"Copy"})]}),s.jsx("p",{className:"text-[10px] text-orange-700/70 italic mt-2",children:"Admin requests bypass standard rate limits for maintenance purposes."})]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-6 overflow-hidden",children:[s.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm rounded-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[s.jsx(Wt,{size:14,className:"text-[#ff4d00]"})," API Scratchpad"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>r(`{
  "demo": true
}`),className:"text-[9px] font-bold text-gray-400 hover:text-black uppercase",children:"Sample"}),s.jsx("button",{onClick:()=>r("{}"),className:"text-[9px] font-bold text-gray-400 hover:text-black uppercase",children:"Reset"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1 relative group",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300 group-focus-within:text-[#ff4d00] transition-colors",children:s.jsx(lr,{size:14})}),s.jsx("input",{className:"w-full bg-gray-50 border border-gray-200 p-3 pl-10 text-xs font-mono outline-none focus:border-[#ff4d00] focus:bg-white transition-all rounded-sm",value:n,onChange:I=>e(I.target.value),placeholder:"METHOD /path (e.g. GET /health)"})]}),s.jsxs("button",{onClick:v,disabled:d,className:"bg-black text-white px-8 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] shadow-[0_4px_10px_rgba(0,0,0,0.1)] hover:shadow-[#ff4d00]/30 transition-all disabled:opacity-50 flex items-center gap-2 rounded-sm",children:[d?s.jsx(g9,{size:14,className:"animate-spin"}):s.jsx(mo,{size:14}),"Execute"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Request Body (JSON)"}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{className:"w-full bg-[#111] text-green-400 font-mono text-xs p-6 h-40 outline-none border border-gray-800 rounded-sm shadow-inner",value:t,onChange:I=>r(I.target.value),spellCheck:!1}),s.jsx("div",{className:"absolute right-4 bottom-4 text-[9px] font-bold text-gray-600 bg-[#1a1a1a] px-2 py-1 rounded-sm border border-gray-800",children:"UTF-8"})]})]})]})]}),s.jsxs("div",{className:"flex-1 bg-[#0a0a0a] border border-gray-800 flex flex-col overflow-hidden shadow-2xl rounded-sm",children:[s.jsxs("div",{className:"p-3 px-6 border-b border-gray-800 bg-[#111] flex items-center justify-between",children:[s.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[s.jsx(Mh,{size:12})," Live Trace Diagnostic"]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:()=>C(i.map(I=>`[${I.time}] ${I.type.toUpperCase()}: ${I.msg}`).join(`
`),"copy-logs"),className:"text-[10px] font-bold text-gray-500 hover:text-white uppercase flex items-center gap-1",children:[s.jsx(Fs,{size:10})," ",f==="copy-logs"?"Copied":"Export"]}),s.jsxs("button",{onClick:S,className:"text-[10px] font-bold text-gray-500 hover:text-red-500 uppercase flex items-center gap-1",children:[s.jsx(So,{size:10})," Clear"]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar space-y-4 font-mono",children:i.length===0?s.jsx("div",{className:"h-full flex items-center justify-center text-gray-700 text-[10px] uppercase font-bold tracking-[0.2em] italic opacity-50",children:"Waiting for telemetry..."}):i.map(I=>s.jsxs("div",{className:"animate-in slide-in-from-left-2 duration-300 border-l-2 border-gray-800 pl-4 py-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-1.5",children:[s.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-xs ${I.type==="req"?"bg-blue-500 text-white":I.type==="res"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:I.type==="req"?"REQUEST":I.type==="res"?"SUCCESS":"FAILURE"}),s.jsx("span",{className:"text-[9px] font-bold text-gray-600",children:I.time}),I.duration&&s.jsxs("span",{className:"text-[9px] font-bold text-gray-400 flex items-center gap-1",children:[s.jsx(Os,{size:8})," ",I.duration,"ms"]}),s.jsx("button",{onClick:()=>C(I.msg,`copy-${I.id}`),className:"ml-auto text-[8px] font-bold text-gray-600 hover:text-white uppercase transition-colors",children:f===`copy-${I.id}`?"Copied":"Copy"})]}),s.jsx("div",{className:`text-[11px] leading-relaxed p-3 rounded-sm ${I.type==="req"?"bg-blue-950/20 text-blue-300/80":I.type==="res"?"bg-green-950/20 text-green-300":"bg-red-950/20 text-red-300"}`,children:s.jsx("pre",{className:"whitespace-pre-wrap break-all",children:I.msg})})]},I.id))})]})]})]})]})},g9=({size:n,className:e})=>s.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),s.jsx("path",{d:"M21 3v5h-5"}),s.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),s.jsx("path",{d:"M8 16H3v5"})]}),x9=()=>{const[n,e]=_.useState("campaigns"),[t,r]=_.useState([]),[i,l]=_.useState(null),[d,h]=_.useState(null),[f,p]=_.useState(""),[y,b]=_.useState(""),[v,C]=_.useState(!1),[S,I]=_.useState(null);_.useEffect(()=>{E(),l(K.getLoyaltySettings()),h(K.getReferralSettings())},[]);const E=()=>{const M=K.getMarketingStats();r(M)},D=async()=>{!f||!y||(C(!0),await new Promise(M=>setTimeout(M,1500)),C(!1),I(new Date().toLocaleTimeString()),p(""),b(""),alert("Test email blast sent successfully (Simulated)!"))};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Marketing Hub"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Manage acquisition campaigns and outbound communications."})]})}),s.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[s.jsx("button",{onClick:()=>e("campaigns"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${n==="campaigns"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ef,{size:16}),s.jsx("span",{children:"Ad Tracking & Stats"})]})}),s.jsx("button",{onClick:()=>e("email"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${n==="email"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ho,{size:16}),s.jsx("span",{children:"Email Blasts"})]})}),s.jsx("button",{onClick:()=>e("loyalty"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${n==="loyalty"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tl,{size:16}),s.jsx("span",{children:"Loyalty & Referrals"})]})})]}),n==="campaigns"?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.map(M=>{var L,Y;return s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"text-[10px] font-bold uppercase px-2 py-1 rounded bg-gray-100 text-gray-600",children:M.type.replace("_"," ")}),s.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-1 rounded
                                    ${M.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:M.status})]}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:M.name}),s.jsxs("p",{className:"text-xs text-gray-400 mb-6",children:["Created: ",M.dateCreated]}),s.jsx("div",{className:"grid grid-cols-2 gap-4 mt-auto",children:M.type==="email"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Opens"}),s.jsxs("p",{className:"text-xl font-mono font-bold text-gray-900",children:[M.openRate,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Clicks"}),s.jsxs("p",{className:"text-xl font-mono font-bold text-gray-900",children:[M.clickRate,"%"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Clicks"}),s.jsx("p",{className:"text-xl font-mono font-bold text-gray-900",children:(L=M.clicks)==null?void 0:L.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Revenue"}),s.jsxs("p",{className:"text-xl font-mono font-bold text-green-600",children:["$",(Y=M.revenue)==null?void 0:Y.toLocaleString()]})]})]})})]},M.id)}),s.jsxs("button",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center gap-3 text-gray-400 hover:text-[#ff4d00] hover:border-[#ff4d00] hover:bg-orange-50 transition-all group min-h-[200px]",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 group-hover:bg-[#ff4d00] flex items-center justify-center transition-colors",children:s.jsx(ef,{size:24,className:"group-hover:text-white"})}),s.jsx("span",{className:"font-bold",children:"Track New URL"})]})]}):n==="email"?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[s.jsx(mo,{size:20,className:"text-[#ff4d00]"}),"Compose Blast"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subject Line"}),s.jsx("input",{type:"text",value:f,onChange:M=>p(M.target.value),className:"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent outline-none font-medium",placeholder:"e.g. Special Offer for Premium Members"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Target Audience"}),s.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded bg-gray-50 focus:ring-2 focus:ring-[#ff4d00] outline-none",children:[s.jsx("option",{value:"all",children:"All Users (Newsletter)"}),s.jsx("option",{value:"paid",children:"Active Paid Plans Only"}),s.jsx("option",{value:"inactive",children:"Inactive / Churned Users"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Message Body (HTML Supported)"}),s.jsx("textarea",{value:y,onChange:M=>b(M.target.value),className:"w-full p-4 border border-gray-300 rounded focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent outline-none min-h-[300px] font-mono text-sm",placeholder:"<h1>Hello {name},</h1>..."})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4",children:[s.jsx("p",{className:"text-sm text-gray-500",children:S&&`Last sent: ${S}`}),s.jsx("button",{onClick:D,disabled:v||!f||!y,className:`px-8 py-3 bg-[#ff4d00] text-white font-bold rounded shadow-lg shadow-orange-500/30 hover:bg-[#e64600] transition-all
                                            ${v||!f||!y?"opacity-50 cursor-not-allowed":"hover:transform hover:-translate-y-0.5"}`,children:v?"Sending...":"Send Broadcast"})]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-6",children:[s.jsx("h4",{className:"font-bold text-blue-900 mb-2",children:"Best Practices"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-2 list-disc list-inside",children:[s.jsx("li",{children:"Keep subject lines under 60 chars"}),s.jsxs("li",{children:["Personalize using ","{name}"," tag"]}),s.jsx("li",{children:"Include a clear Call to Action"}),s.jsx("li",{children:"Test mobile rendering before sending"})]})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Previous Blasts"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 text-sm",children:[s.jsx("div",{className:"font-bold text-gray-800",children:"Spring Sale Announcement"}),s.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Sent: Mar 10  12,403 Recipients"})]}),s.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 text-sm",children:[s.jsx("div",{className:"font-bold text-gray-800",children:"Platform Update v2.1"}),s.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Sent: Feb 28  11,200 Recipients"})]})]})]})]})]}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:s.jsx(Tl,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Loyalty Program"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Reward users for spending."})]}),s.jsx("div",{className:"ml-auto",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i==null?void 0:i.enabled,onChange:M=>l(L=>L?{...L,enabled:M.target.checked}:null),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Points per $1 Spent"}),s.jsx("input",{type:"number",value:(i==null?void 0:i.pointsPerDollar)||"",onChange:M=>l(L=>L?{...L,pointsPerDollar:Number(M.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Redemption Rate (Points = $1)"}),s.jsx("input",{type:"number",value:(i==null?void 0:i.redemptionRate)||"",onChange:M=>l(L=>L?{...L,redemptionRate:Number(M.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Example: 100 points = $1 discount."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Bonus Signup Points"}),s.jsx("input",{type:"number",value:(i==null?void 0:i.bonusSignupPoints)||"",onChange:M=>l(L=>L?{...L,bonusSignupPoints:Number(M.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:s.jsx(yd,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Referral Program"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Incentivize word-of-mouth growth."})]}),s.jsx("div",{className:"ml-auto",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:d==null?void 0:d.enabled,onChange:M=>h(L=>L?{...L,enabled:M.target.checked}:null),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Referrer Gets"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:"$"}),s.jsx("input",{type:"number",value:(d==null?void 0:d.referrerReward)||"",onChange:M=>h(L=>L?{...L,referrerReward:Number(M.target.value)}:null),className:"w-full p-2 pl-6 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Credit added to balance."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Referee Gets"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:"$"}),s.jsx("input",{type:"number",value:(d==null?void 0:d.refereeReward)||"",onChange:M=>h(L=>L?{...L,refereeReward:Number(M.target.value)}:null),className:"w-full p-2 pl-6 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Discount on first purchase."})]})]})})]}),s.jsx("div",{className:"lg:col-span-2 flex justify-end",children:s.jsx("button",{onClick:()=>{i&&K.saveLoyaltySettings(i),d&&K.saveReferralSettings(d),alert("Settings Saved!")},className:"bg-black text-white px-6 py-2 rounded font-bold hover:bg-gray-800",children:"Save Settings"})})]})]})},y9=({onRefresh:n})=>{const[e,t]=_.useState([]),[r,i]=_.useState(!1),[l,d]=_.useState(!1),[h,f]=_.useState({code:"",discountType:"percent",discountValue:0,active:!0,usedCount:0,allowedPlans:[],maxUsesPerUser:1}),[p,y]=_.useState("PROMO-"),[b,v]=_.useState(10);_.useEffect(()=>{C()},[]);const C=()=>{const D=K.getCoupons();t(D)},S=D=>{confirm("Are you sure you want to delete this coupon?")&&(K.deleteCoupon(D),C())},I=()=>{if(!h.code||!h.discountValue)return;const D={id:Date.now().toString(),code:h.code.toUpperCase(),discountType:h.discountType,discountValue:Number(h.discountValue),active:h.active||!1,usedCount:0,expiryDate:h.expiryDate,maxUses:h.maxUses,maxUsesPerUser:h.maxUsesPerUser,allowedPlans:h.allowedPlans};K.saveCoupon(D),i(!1),f({code:"",discountType:"percent",discountValue:0,active:!0,usedCount:0,allowedPlans:[],maxUsesPerUser:1}),C(),n()},E=()=>{const D=Date.now().toString(),M=[];for(let L=0;L<b;L++){const Y=Math.random().toString(36).substring(2,6).toUpperCase();M.push({id:`${D}-${L}`,code:`${p}${Y}`,discountType:h.discountType,discountValue:Number(h.discountValue),active:!0,usedCount:0,expiryDate:h.expiryDate,maxUses:1,maxUsesPerUser:1,bulkBatchId:D})}M.forEach(L=>K.saveCoupon(L)),i(!1),d(!1),C(),alert(`Successfully generated ${b} coupons!`)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Coupon Manager"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Create and manage discount codes for campaigns."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>{i(!0),d(!0)},className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:[s.jsx(Fs,{size:16}),s.jsx("span",{children:"Bulk Generate"})]}),s.jsxs("button",{onClick:()=>{i(!0),d(!1)},className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded-md hover:bg-gray-800 transition-colors",children:[s.jsx(ri,{size:16}),s.jsx("span",{children:"Create Coupon"})]})]})]}),r&&s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm animate-in fade-in slide-in-from-top-4",children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[l?s.jsx(Fs,{className:"text-[#ff4d00]",size:20}):s.jsx(cg,{className:"text-[#ff4d00]",size:20}),l?"Bulk Generate Coupons":"New Coupon"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400 border-b border-gray-100 pb-1",children:"Core Settings"}),l?s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Prefix"}),s.jsx("input",{type:"text",value:p,onChange:D=>y(D.target.value.toUpperCase()),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"e.g. SUMMER-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Quantity"}),s.jsx("input",{type:"number",value:b,onChange:D=>v(Number(D.target.value)),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",min:"1",max:"1000"})]})]}):s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Code"}),s.jsx("input",{type:"text",value:h.code,onChange:D=>f({...h,code:D.target.value.toUpperCase()}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"e.g. SUMMER2024"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Discount Value"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",value:h.discountValue,onChange:D=>f({...h,discountValue:Number(D.target.value)}),className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),s.jsxs("select",{value:h.discountType,onChange:D=>f({...h,discountType:D.target.value}),className:"p-2 border border-gray-300 rounded bg-gray-50",children:[s.jsx("option",{value:"percent",children:"% Off"}),s.jsx("option",{value:"fixed",children:"$ Off"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400 border-b border-gray-100 pb-1",children:"Restrictions & Limits"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Expiry Date"}),s.jsx("input",{type:"date",value:h.expiryDate||"",onChange:D=>f({...h,expiryDate:D.target.value}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Max Uses (Total)"}),s.jsx("input",{type:"number",value:h.maxUses||"",onChange:D=>f({...h,maxUses:Number(D.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"Unlimited"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Max Per User"}),s.jsx("input",{type:"number",value:h.maxUsesPerUser||"",onChange:D=>f({...h,maxUsesPerUser:Number(D.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Plan Restriction"}),s.jsxs("select",{multiple:!0,className:"w-full p-2 border border-gray-300 rounded text-xs h-[42px]",value:h.allowedPlans||[],onChange:D=>{const M=D.target,L=Array.from(M.selectedOptions,Y=>Y.value);f({...h,allowedPlans:L})},children:[s.jsx("option",{value:"foundation",children:"Foundation"}),s.jsx("option",{value:"momentum",children:"Momentum"}),s.jsx("option",{value:"breakthrough",children:"Breakthrough"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Duration"}),s.jsxs("select",{value:h.duration||"once",onChange:D=>f({...h,duration:D.target.value}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",children:[s.jsx("option",{value:"once",children:"Once"}),s.jsx("option",{value:"forever",children:"Forever"}),s.jsx("option",{value:"repeating",children:"Repeating"})]})]}),h.duration==="repeating"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Months"}),s.jsx("input",{type:"number",value:h.durationInMonths||"",onChange:D=>f({...h,durationInMonths:Number(D.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"3"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-100",children:[s.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900 font-medium",children:"Cancel"}),s.jsx("button",{onClick:l?E:I,className:"px-6 py-2 bg-[#ff4d00] text-white font-bold rounded hover:bg-[#e64600] transition-colors",children:l?`Generate ${b} Coupons`:"Save Coupon"})]})]}),s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Code"}),s.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Discount"}),s.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Usage"}),s.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Restrictions"}),s.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[s.jsx(cg,{size:32,className:"text-gray-300"}),s.jsx("p",{children:"No coupons created yet."})]})})}):e.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"font-mono font-bold text-gray-900 bg-gray-100 inline-flex items-center gap-2 px-2 py-1 rounded border border-gray-200 text-xs group",children:[D.code,s.jsx("button",{onClick:M=>{M.stopPropagation();const L=`${window.location.origin}?coupon=${D.code}`;navigator.clipboard.writeText(L),alert(`Copied: ${L}`)},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-black transition-all",title:"Copy Sharable Link",children:s.jsx(zv,{size:10})})]}),D.bulkBatchId&&s.jsx("span",{className:"ml-2 text-[10px] text-gray-400 uppercase tracking-wide border border-gray-200 px-1 rounded",children:"BULK"})]}),s.jsx("td",{className:"px-6 py-4 font-medium text-gray-700",children:D.discountType==="percent"?`${D.discountValue}%`:`$${D.discountValue}`}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-bold uppercase
                                            ${D.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:D.active?"Active":"Inactive"})}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[D.usedCount," ",D.maxUses?`/ ${D.maxUses}`:""]}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:D.allowedPlans&&D.allowedPlans.length>0?s.jsx("div",{className:"flex gap-1",children:D.allowedPlans.map(M=>s.jsx("span",{className:"text-[10px] bg-blue-50 text-blue-600 px-1.5 py-0.5 rounded capitalize border border-blue-100",children:M},M))}):s.jsx("span",{className:"text-gray-400 text-xs",children:"Global"})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("button",{onClick:()=>S(D.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete Coupon",children:s.jsx(So,{size:16})})})]},D.id))})]})}),s.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 flex items-start gap-3",children:[s.jsx($g,{className:"text-blue-500 mt-0.5 flex-shrink-0",size:18}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-bold text-blue-900",children:"Advanced Features"}),s.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Use ",s.jsx("strong",{children:"Bulk Generate"})," to create hundreds of unique codes for partners or affiliates. Use ",s.jsx("strong",{children:"Plan Restrictions"}),' to create "Upgrade Only" offers valid for specific premium tiers.']})]})]})]})},b9=()=>{const[n,e]=_.useState(null),[t,r]=_.useState(!1),[i,l]=_.useState(!1);_.useEffect(()=>{const h=K.getConversionSettings();e(h)},[]);const d=()=>{n&&(r(!0),K.saveConversionSettings(n),setTimeout(()=>{r(!1),l(!0),setTimeout(()=>l(!1),2e3)},800))};return n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Conversion Boosters"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Tools to increase visitor engagement and sales."})]}),s.jsx("button",{onClick:d,disabled:t,className:"flex items-center gap-2 px-6 py-2 bg-[#ff4d00] text-white font-bold rounded shadow-lg shadow-orange-500/30 hover:bg-[#e64600] transition-all",children:t?s.jsx("span",{children:"Saving..."}):i?s.jsxs(s.Fragment,{children:[s.jsx(Lt,{size:18}),s.jsx("span",{children:"Saved!"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ai,{size:18}),s.jsx("span",{children:"Save Changes"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:s.jsx(Un,{size:120})}),s.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[s.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:s.jsx(Un,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Social Proof Notifications"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Show recent sales popups to build trust."})]}),s.jsx("div",{className:"ml-auto",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.socialProof.enabled,onChange:h=>e({...n,socialProof:{...n.socialProof,enabled:h.target.checked}}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),s.jsxs("div",{className:"space-y-4 relative z-10",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Position"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("button",{onClick:()=>e({...n,socialProof:{...n.socialProof,position:"bottom-left"}}),className:`p-2 border rounded text-sm font-medium transition-all ${n.socialProof.position==="bottom-left"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:"Bottom Left"}),s.jsx("button",{onClick:()=>e({...n,socialProof:{...n.socialProof,position:"bottom-right"}}),className:`p-2 border rounded text-sm font-medium transition-all ${n.socialProof.position==="bottom-right"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:"Bottom Right"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Delay (Seconds)"}),s.jsx("input",{type:"number",value:n.socialProof.delay,onChange:h=>e({...n,socialProof:{...n.socialProof,delay:Number(h.target.value)}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Data Source"}),s.jsxs("select",{value:n.socialProof.showRealData?"real":"mock",onChange:h=>e({...n,socialProof:{...n.socialProof,showRealData:h.target.value==="real"}}),className:"w-full p-2 border border-gray-300 rounded bg-white",children:[s.jsx("option",{value:"mock",children:"Simulated (Mock)"}),s.jsx("option",{value:"real",children:"Real Sales Only"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:s.jsx(yd,{size:120})}),s.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[s.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:s.jsx(yd,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Exit Intent Popup"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Capture users before they leave."})]}),s.jsx("div",{className:"ml-auto",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.exitIntent.enabled,onChange:h=>e({...n,exitIntent:{...n.exitIntent,enabled:h.target.checked}}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),s.jsxs("div",{className:"space-y-4 relative z-10",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Headline"}),s.jsx("input",{type:"text",value:n.exitIntent.headline,onChange:h=>e({...n,exitIntent:{...n.exitIntent,headline:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subtext"}),s.jsx("input",{type:"text",value:n.exitIntent.subtext,onChange:h=>e({...n,exitIntent:{...n.exitIntent,subtext:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Coupon Code"}),s.jsx("input",{type:"text",value:n.exitIntent.couponCode||"",onChange:h=>e({...n,exitIntent:{...n.exitIntent,couponCode:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),s.jsx("div",{className:"flex items-end pb-3",children:s.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.exitIntent.showOncePerSession,onChange:h=>e({...n,exitIntent:{...n.exitIntent,showOncePerSession:h.target.checked}}),className:"rounded text-black focus:ring-black"}),"Show once per session"]})})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:s.jsx(S2,{size:120})}),s.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[s.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:s.jsx(S2,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Global Promo Bar"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Top-of-page banner for announcements."})]}),s.jsx("div",{className:"ml-auto",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.promoBar.enabled,onChange:h=>e({...n,promoBar:{...n.promoBar,enabled:h.target.checked}}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),s.jsxs("div",{className:"space-y-4 relative z-10",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Banner Message"}),s.jsx("input",{type:"text",value:n.promoBar.message,onChange:h=>e({...n,promoBar:{...n.promoBar,message:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Button Text"}),s.jsx("input",{type:"text",value:n.promoBar.buttonText||"",onChange:h=>e({...n,promoBar:{...n.promoBar,buttonText:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Button Link"}),s.jsx("input",{type:"text",value:n.promoBar.buttonLink||"",onChange:h=>e({...n,promoBar:{...n.promoBar,buttonLink:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Background Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:n.promoBar.backgroundColor,onChange:h=>e({...n,promoBar:{...n.promoBar,backgroundColor:h.target.value}}),className:"h-[38px] w-[50px] p-0 border border-gray-300 rounded cursor-pointer"}),s.jsx("input",{type:"text",value:n.promoBar.backgroundColor,onChange:h=>e({...n,promoBar:{...n.promoBar,backgroundColor:h.target.value}}),className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none uppercase"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Countdown Timer End Date (Optional)"}),s.jsx("input",{type:"datetime-local",value:n.promoBar.endDate||"",onChange:h=>e({...n,promoBar:{...n.promoBar,endDate:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Set a date to show a countdown timer within the banner."})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[s.jsx("label",{className:"block text-xs font-bold uppercase text-gray-400 mb-2",children:"Live Preview"}),s.jsxs("div",{className:"rounded-lg p-3 text-center text-sm font-medium flex items-center justify-center gap-4 shadow-sm",style:{backgroundColor:n.promoBar.backgroundColor,color:n.promoBar.textColor},children:[s.jsx("span",{children:n.promoBar.message}),n.promoBar.buttonText&&s.jsx("span",{className:"px-3 py-1 bg-white text-black text-xs font-bold rounded shadow-sm opacity-90",children:n.promoBar.buttonText})]})]})]})]})]})]}):s.jsx("div",{children:"Loading..."})},v9=()=>{const[n,e]=_.useState([]),[t,r]=_.useState(!0),[i,l]=_.useState("all"),[d,h]=_.useState(null),[f,p]=_.useState(""),[y,b]=_.useState(!1);_.useEffect(()=>{v()},[i]);const v=async()=>{r(!0);try{const E=await K.getBankTransfers(i);e(E)}catch(E){console.error("Failed to load transfers",E)}r(!1)},C=async E=>{if(d){b(!0);try{await K.approveBankTransfer(d.id,E,f),h(null),p(""),await v()}catch(D){alert("Error: "+D.message)}b(!1)}},S=E=>{switch(E){case"approved":return s.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-[9px] font-black uppercase tracking-wider rounded-sm flex items-center gap-1",children:[s.jsx(Lt,{size:10})," Approved"]});case"rejected":return s.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-[9px] font-black uppercase tracking-wider rounded-sm flex items-center gap-1",children:[s.jsx(tf,{size:10})," Rejected"]});default:return s.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-[9px] font-black uppercase tracking-wider rounded-sm flex items-center gap-1",children:[s.jsx(Os,{size:10})," Pending"]})}},I=E=>E?new Date(E).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return s.jsxs("div",{className:"animate-in fade-in space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Payment Verification"}),s.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Bank Transfer Proofs"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("select",{value:i,onChange:E=>l(E.target.value),className:"text-xs border border-gray-200 px-4 py-2 bg-white font-bold uppercase tracking-wide",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"})]}),s.jsxs("button",{onClick:v,className:"bg-white border border-gray-200 px-4 py-2 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00] flex items-center gap-2",children:[s.jsx(Ja,{size:14})," Refresh"]})]})]}),t?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(Ja,{className:"animate-spin text-[#ff4d00]",size:32})}):n.length===0?s.jsxs("div",{className:"bg-white border border-gray-200 p-12 text-center",children:[s.jsx(Eb,{size:48,className:"mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"No bank transfer proofs found."})]}):s.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Reference"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tier"}),s.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(E=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:I(E.created_at)}),s.jsx("td",{className:"px-6 py-4 text-xs font-medium text-gray-900",children:E.user_email}),s.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:E.reference}),s.jsxs("td",{className:"px-6 py-4 text-sm font-black text-gray-900",children:["",E.amount.toFixed(2)," ",s.jsxs("span",{className:"text-xs text-gray-400",children:["(",E.currency,")"]})]}),s.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-600 capitalize",children:E.tier||"General"}),s.jsx("td",{className:"px-6 py-4",children:S(E.status)}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[s.jsx("a",{href:`http://127.0.0.1:8001${E.file_url}`,download:E.file_name,className:"text-gray-400 hover:text-[#ff4d00] transition-colors",title:"Download",children:s.jsx(wa,{size:14})}),s.jsxs("button",{onClick:()=>h(E),className:"bg-black text-white px-4 py-2 text-[10px] font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[s.jsx(kf,{size:12})," View"]})]})})]},E.id))})]})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>h(null),children:s.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] overflow-auto shadow-2xl",onClick:E=>E.stopPropagation(),children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-start sticky top-0 bg-white",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Transfer Details"}),s.jsx("h3",{className:"text-xl font-black text-gray-900",children:d.reference})]}),S(d.status)]}),s.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"User Email"}),s.jsx("p",{className:"text-sm font-bold text-gray-900",children:d.user_email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Amount"}),s.jsxs("p",{className:"text-2xl font-black text-gray-900",children:["",d.amount.toFixed(2)," ",s.jsxs("span",{className:"text-sm text-gray-400",children:["(",d.currency,")"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Tier"}),s.jsx("p",{className:"text-sm font-bold text-gray-900 capitalize",children:d.tier||"General"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Submitted"}),s.jsx("p",{className:"text-sm font-bold text-gray-900",children:I(d.created_at)})]}),d.notes&&s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"User Notes"}),s.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 border border-gray-200",children:d.notes})]}),d.admin_notes&&s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Admin Notes"}),s.jsx("p",{className:"text-sm text-gray-700 bg-yellow-50 p-3 border border-yellow-200",children:d.admin_notes})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Proof Document"}),s.jsx("div",{className:"bg-gray-50 border border-gray-200 p-4",children:d.file_url.endsWith(".pdf")?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Eb,{size:32,className:"text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold",children:d.file_name}),s.jsxs("a",{href:`http://127.0.0.1:8001${d.file_url}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-[#ff4d00] hover:underline flex items-center gap-1",children:["Open PDF ",s.jsx(Ef,{size:10})]})]})]}),s.jsxs("a",{href:`http://127.0.0.1:8001${d.file_url}`,download:d.file_name,className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[s.jsx(wa,{size:14})," Download"]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("img",{src:`http://127.0.0.1:8001${d.file_url}`,alt:"Proof",className:"w-full h-auto max-h-64 object-contain"}),s.jsxs("a",{href:`http://127.0.0.1:8001${d.file_url}`,download:d.file_name,className:"inline-flex items-center gap-2 bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors",children:[s.jsx(wa,{size:14})," Download Image"]})]})})]})})]}),d.status==="pending"&&s.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-2",children:"Admin Notes (Optional)"}),s.jsx("textarea",{value:f,onChange:E=>p(E.target.value),className:"w-full border border-gray-200 p-3 text-sm",rows:3,placeholder:"Add notes about this transfer..."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>C(!0),disabled:y,className:"flex-1 bg-green-500 text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-green-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[y?s.jsx(Ja,{className:"animate-spin",size:14}):s.jsx(Lt,{size:14}),"Approve & Credit"]}),s.jsxs("button",{onClick:()=>C(!1),disabled:y,className:"flex-1 bg-red-500 text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[y?s.jsx(Ja,{className:"animate-spin",size:14}):s.jsx(tf,{size:14}),"Reject"]})]})]}),d.status!=="pending"&&s.jsx("div",{className:"p-6 border-t border-gray-200 flex justify-end",children:s.jsx("button",{onClick:()=>h(null),className:"bg-gray-100 hover:bg-gray-200 px-6 py-3 text-xs font-bold uppercase tracking-wider",children:"Close"})})]})})]})},w9=({onLogout:n})=>{const e=xr(),t=gr(),[r,i]=_.useState(!1),d=(()=>{const J=t.pathname;return J==="/admin"||J==="/admin/"?"admin-home":J.startsWith("/admin/users/edit/")?"admin-edit-user":J==="/admin/users"?"admin-users":J==="/admin/live"?"admin-live":J==="/admin/tickets"?"admin-tickets":J.startsWith("/admin/projects/edit/")?"admin-edit-project":J==="/admin/projects"?"admin-projects":J==="/admin/projects/create"?"admin-create-project":J.startsWith("/admin/transactions/edit/")?"admin-edit-transaction":J==="/admin/transactions"?"admin-transactions":J==="/admin/alerts"?"admin-alerts":J==="/admin/pricing"?"admin-pricing":J==="/admin/settings"?"admin-settings":J==="/admin/api-docs"?"admin-api-docs":J==="/admin/marketing"?"admin-marketing":J==="/admin/coupons"?"admin-coupons":J==="/admin/conversion"?"admin-conversion":J==="/admin/bank-transfers"?"admin-bank-transfers":"admin-home"})(),[h,f]=_.useState([]),[p,y]=_.useState([]),[b,v]=_.useState([]),[C,S]=_.useState([]),[I,E]=_.useState([]),[D,M]=_.useState(null),[L,Y]=_.useState([]),[F,X]=_.useState(null);_.useEffect(()=>{K.init(),(async()=>{await Promise.all([K.syncProjects(),K.syncAdminProjects()]),await T()})()},[]);const T=async()=>{try{const[J,te,Ie,me,$,U]=await Promise.all([K.getUsers(),K.getAdminProjects(),K.getAllTransactionsAdmin(),K.getTickets(),K.getSystemSettings(),K.getAdminStats()]);f(J),y(te),S(Ie),E(me),$&&M($),U&&X(U),v(K.getPricing()),Y(K.getAlerts())}catch(J){console.error("Failed to refresh admin data:",J)}},P=J=>{const te=K.getTickets();E(te),e("/admin/tickets")},k=J=>{e(`/admin/users/edit/${J}`),window.scrollTo(0,0)},z=J=>{e(`/admin/projects/edit/${J}`),window.scrollTo(0,0)},B=J=>{e(`/admin/transactions/edit/${J}`),window.scrollTo(0,0)},A=[{title:"Admin Control",items:[{label:"Overview",id:"admin-home",path:"",icon:s.jsx(ME,{size:18})},{label:"User Management",id:"admin-users",path:"users",icon:s.jsx(po,{size:18})},{label:"Live Users",id:"admin-live",path:"live",icon:s.jsx(zE,{size:18})},{label:"All Projects",id:"admin-projects",path:"projects",icon:s.jsx(Na,{size:18})},{label:"Create Project",id:"admin-create-project",path:"projects/create",icon:s.jsx(ri,{size:18})}]},{title:"Operations",items:[{label:"Transactions",id:"admin-transactions",path:"transactions",icon:s.jsx(Lr,{size:18})},{label:"Bank Transfers",id:"admin-bank-transfers",path:"bank-transfers",icon:s.jsx(OE,{size:18})},{label:"Support Tickets",id:"admin-tickets",path:"tickets",icon:s.jsx(Un,{size:18})},{label:"Broadcasts",id:"admin-alerts",path:"alerts",icon:s.jsx(kb,{size:18})},{label:"API Documentation",id:"admin-api-docs",path:"api-docs",icon:s.jsx(DE,{size:18})}]},{title:"Growth",items:[{label:"Marketing Hub",id:"admin-marketing",path:"marketing",icon:s.jsx(Rl,{size:18})},{label:"Coupons",id:"admin-coupons",path:"coupons",icon:s.jsx(cg,{size:18})},{label:"Conversion",id:"admin-conversion",path:"conversion",icon:s.jsx(Wt,{size:18})}]},{title:"Configuration",items:[{label:"Global Pricing",id:"admin-pricing",path:"pricing",icon:s.jsx(Lr,{size:18})},{label:"System Settings",id:"admin-settings",path:"settings",icon:s.jsx(Il,{size:18})}]}],V=()=>{const{id:J}=Oh();return J?s.jsx(d9,{userId:J,onBack:()=>e("/admin/users"),onUpdate:T}):s.jsx("div",{children:"Error: No User ID selected"})},Q=()=>{const{id:J}=Oh();return J?s.jsx(u9,{projectId:J,onBack:()=>e("/admin/projects"),onUpdate:T}):s.jsx("div",{children:"Error: No Project ID selected"})},je=()=>{const{id:J}=Oh();return J?s.jsx(h9,{trxId:J,onBack:()=>e("/admin/transactions"),onUpdate:T}):s.jsx("div",{children:"Error: No Transaction ID selected"})},H=()=>s.jsx(m9,{onBack:()=>e("/admin/projects"),onSuccess:T});return s.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen flex font-sans text-gray-900",children:[s.jsx($E,{menuSections:A,currentView:d,onNavigate:J=>{e(`/admin/${{"admin-home":"","admin-users":"users","admin-live":"live","admin-projects":"projects","admin-create-project":"projects/create","admin-transactions":"transactions","admin-tickets":"tickets","admin-alerts":"alerts","admin-pricing":"pricing","admin-settings":"settings","admin-api-docs":"api-docs","admin-marketing":"marketing","admin-coupons":"coupons","admin-conversion":"conversion","admin-bank-transfers":"bank-transfers"}[J]||""}`),i(!1),window.scrollTo(0,0)},onLogout:n}),s.jsxs("main",{className:"flex-1 md:ml-64 flex flex-col min-h-screen relative",children:[s.jsx(qE,{title:"Super Admin Panel",onMobileMenuClick:()=>i(!0),isAdmin:!0}),s.jsx("div",{className:"flex-1 p-6 md:p-12 overflow-y-auto",children:s.jsx("div",{className:"max-w-screen-2xl mx-auto h-full",children:s.jsxs(Iv,{children:[s.jsx(Le,{index:!0,element:s.jsx(KM,{users:h,projects:p,tickets:I,transactions:C,onNavigate:J=>{e(`/admin/${{"admin-users":"users","admin-projects":"projects","admin-tickets":"tickets","admin-transactions":"transactions"}[J]||""}`)},stats:F})}),s.jsx(Le,{path:"users",element:s.jsx(WM,{users:h,projects:p,transactions:C,tickets:I,onRefresh:T,onEditUser:k})}),s.jsx(Le,{path:"users/edit/:id",element:s.jsx(V,{})}),s.jsx(Le,{path:"live",element:s.jsx(e9,{onStartChat:P})}),s.jsx(Le,{path:"tickets",element:s.jsx(YM,{tickets:I,onRefresh:T})}),s.jsx(Le,{path:"projects",element:s.jsx(QM,{projects:p,onEditProject:z})}),s.jsx(Le,{path:"projects/edit/:id",element:s.jsx(Q,{})}),s.jsx(Le,{path:"projects/create",element:s.jsx(H,{})}),s.jsx(Le,{path:"transactions",element:s.jsx(JM,{transactions:C,onEditTransaction:B})}),s.jsx(Le,{path:"transactions/edit/:id",element:s.jsx(je,{})}),s.jsx(Le,{path:"alerts",element:s.jsx(ZM,{alerts:L,onRefresh:T})}),s.jsx(Le,{path:"pricing",element:s.jsx(HM,{initialData:b,onSave:()=>v(K.getPricing())})}),s.jsx(Le,{path:"settings",element:D?s.jsx(XM,{initialSettings:D,onSave:T}):s.jsx("div",{children:"Loading..."})}),s.jsx(Le,{path:"api-docs",element:s.jsx(p9,{})}),s.jsx(Le,{path:"marketing",element:s.jsx(x9,{})}),s.jsx(Le,{path:"coupons",element:s.jsx(y9,{onRefresh:T})}),s.jsx(Le,{path:"conversion",element:s.jsx(b9,{})}),s.jsx(Le,{path:"bank-transfers",element:s.jsx(v9,{})}),s.jsx(Le,{path:"*",element:s.jsx(Ir,{to:"/admin",replace:!0})})]})})})]})]})},j9=({type:n,onBack:e})=>{const t=()=>{switch(n){case"privacy":return"Privacy Policy";case"terms":return"Terms of Service";case"impressum":return"Impressum (Imprint)";case"agb":return"AGB (General Terms)";case"refund":return"Refund Policy";case"delivery":return"Delivery Policy";default:return"Legal Document"}},r=()=>{switch(n){case"impressum":return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Angaben gem  5 TMG"}),s.jsx("p",{className:"font-bold text-gray-900",children:"Traffic Creator Inc."}),s.jsx("p",{children:"Tech Park Avenue 12"}),s.jsx("p",{children:"10115 Berlin"}),s.jsx("p",{children:"Germany"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Contact"}),s.jsxs("p",{children:[s.jsx("span",{className:"font-bold",children:"Phone:"})," +49 (0) 30 1234 5678"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-bold",children:"Email:"})," support@traffic-creator.com"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-bold",children:"Web:"})," www.traffic-creator.com"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Represented By"}),s.jsx("p",{children:"John Doe, CEO"}),s.jsx("p",{children:"Jane Smith, CTO"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Register Entry"}),s.jsx("p",{children:"Entry in the Handelsregister."}),s.jsx("p",{children:"Registering Court: Amtsgericht Berlin-Charlottenburg"}),s.jsx("p",{children:"Registration Number: HRB 123456"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-4",children:"VAT ID"}),s.jsx("p",{children:"Sales tax identification number according to  27 a Umsatzsteuergesetz:"}),s.jsx("p",{className:"font-mono",children:"DE 123 456 789"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Dispute Resolution"}),s.jsx("p",{className:"text-sm text-gray-500",children:"We are not willing or obliged to participate in dispute resolution proceedings before a consumer arbitration board."})]})]})});case"agb":return s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Allgemeine Geschftsbedingungen (AGB) for Traffic Creator"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Scope of Application"}),s.jsx("p",{children:"These General Terms and Conditions (AGB) apply to all business relationships between Traffic Creator Inc. (hereinafter: Provider) and its customers (hereinafter: Customer). The version valid at the time of the conclusion of the contract is authoritative."}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Conclusion of Contract"}),s.jsx("p",{children:'The presentation of services on the website does not constitute a legally binding offer but an invitation to order. By clicking the "Order" or "Pay" button, the Customer places a binding order for the services contained in the shopping cart.'}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Services"}),s.jsx("p",{children:"The Provider delivers website traffic to the URLs specified by the Customer. The Provider guarantees the delivery of the purchased number of visitors but does not guarantee specific actions by these visitors (e.g., sales, sign-ups) unless explicitly stated otherwise."}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Prices and Payment"}),s.jsx("p",{children:"All prices are final prices and include the statutory value-added tax (VAT) unless the Customer is based outside the EU or has a valid VAT ID. Payments are due immediately upon conclusion of the contract."}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Warranty and Liability"}),s.jsx("p",{children:"The Provider is liable for defects in accordance with the statutory provisions. Liability for slight negligence is excluded, provided that no essential contractual obligations are violated."})]});case"refund":return s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last Updated: October 24, 2025"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. General Refund Policy"}),s.jsx("p",{children:"We strive to provide the highest quality traffic services. However, if you are not satisfied with our service, you may be eligible for a refund under specific conditions."}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Non-Delivery of Service"}),s.jsx("p",{children:"If we fail to deliver the purchased traffic within 72 hours of the scheduled start time, you are entitled to a full refund of the undelivered portion of your order."}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Technical Issues"}),s.jsx("p",{children:"If technical issues on our end prevent the delivery of traffic, we will pause the campaign and attempt to resolve the issue. If the issue cannot be resolved, a pro-rated refund will be issued to your wallet balance or original payment method."}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Non-Refundable Circumstances"}),s.jsx("p",{children:"Refunds are not granted if the traffic was delivered but did not result in sales, leads, or other specific user actions on your website. We guarantee visitors, not conversions."}),s.jsx("p",{className:"mt-4",children:"Furthermore, if your URL is taken offline or blocks our traffic source during the campaign, no refund will be issued."})]});case"delivery":return s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Service Delivery Standards"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Delivery Timeframe"}),s.jsx("p",{children:"Traffic campaigns typically start within 5 to 15 minutes after payment confirmation and campaign approval. In some cases, such as manual reviews for sensitive categories, activation may take up to 24 hours."}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Method of Delivery"}),s.jsx("p",{children:"Services are delivered digitally. No physical products are shipped. You will receive a confirmation email once your campaign is active, and you can monitor progress in real-time via the Dashboard."}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Campaign Completion"}),s.jsx("p",{children:"A campaign is considered complete when the total number of purchased visitors has been delivered to the target URL. Delivery speed is determined by your campaign settings."})]});case"privacy":return s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-bold text-gray-900",children:"Last Updated: October 24, 2025"}),s.jsx("p",{children:"At Traffic Creator, we take your privacy seriously. This Privacy Policy describes how we collect, use, and protect your personal information."}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Information We Collect"}),s.jsx("p",{children:"We collect information you provide directly to us, such as when you create an account, purchase credits, or communicate with our support team. This may include your name, email address, payment information, and website URLs."}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. How We Use Your Information"}),s.jsx("p",{children:"We use the information we collect to operate, maintain, and improve our services, to process your transactions, and to communicate with you about your account and our services."}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Data Security"}),s.jsx("p",{children:"We implement appropriate technical and organizational measures to protect the security of your personal information. However, please note that no method of transmission over the Internet is 100% secure."})]});case"terms":return s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-bold text-gray-900",children:"Last Updated: October 24, 2025"}),s.jsx("p",{children:"Please read these Terms of Service carefully before using Traffic Creator. By accessing or using our services, you agree to be bound by these terms."}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Acceptable Use"}),s.jsx("p",{children:"You agree not to use our services for any unlawful purpose or in any way that violates these Terms. You are responsible for ensuring that your target URLs comply with all applicable laws and regulations."}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Payment and Refunds"}),s.jsx("p",{children:"All payments are final. Credits purchased are non-refundable unless the service is not delivered as described. We reserve the right to change our pricing at any time."}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Limitation of Liability"}),s.jsx("p",{children:"Traffic Creator shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of or inability to use the service."})]});default:return s.jsx("p",{children:"Content not available."})}};return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsxs(zg,{children:[s.jsxs("title",{children:[t()," - Traffic Creator"]}),s.jsx("meta",{name:"description",content:`Official ${t()} for Traffic Creator. Please read carefully.`}),s.jsx("meta",{name:"keywords",content:`traffic creator ${n}, ${n} policy, legal ${n}, traffic generator legal`}),s.jsx("meta",{property:"og:title",content:`${t()} - Traffic Creator`}),s.jsx("meta",{property:"og:description",content:`Read our official ${t()} document.`}),s.jsx("meta",{property:"og:type",content:"article"}),s.jsx("meta",{property:"og:url",content:`http://localhost:3000/legal/${n}`})]}),s.jsx("div",{className:"border-b border-gray-100 bg-white sticky top-0 z-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-6 h-20 flex items-center justify-between",children:[s.jsxs(ze,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors text-xs font-bold uppercase tracking-wider",children:[s.jsx(wn,{size:16})," Back"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),s.jsx("span",{className:"text-[10px] font-bold bg-black text-white px-1.5 py-0.5 rounded-sm uppercase tracking-wide",children:"Creator"})]})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-20",children:[s.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-12 uppercase tracking-tight",children:t()}),s.jsx("div",{className:"prose prose-gray max-w-none text-gray-600 leading-relaxed font-sans",children:r()})]}),s.jsx("footer",{className:"bg-black text-white py-12 px-6 mt-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[s.jsx("div",{className:"text-xl font-black text-white tracking-tight",children:"TRAFFIC CREATOR"}),s.jsx("div",{className:"text-xs text-gray-600",children:" 2025 Traffic Creator Inc."})]})})]})},_9=({onBack:n})=>{const[e,t]=_.useState(""),[r,i]=_.useState("all"),[l,d]=_.useState(null),h=[{id:"all",label:"All Topics"},{id:"billing",label:"Billing & Payments",icon:s.jsx(Lr,{size:14})},{id:"technical",label:"Technical Support",icon:s.jsx(kO,{size:14})},{id:"general",label:"General Account",icon:s.jsx(nn,{size:14})}],p=[{question:"How long does it take for traffic to start?",answer:"Campaigns typically start delivering traffic within 5-15 minutes after creation. However, depending on the complexity of your targeting (specific cities, devices), it may take up to an hour for the first hits to register.",category:"general"},{question:"Can I upgrade my plan later?",answer:"Yes, you can upgrade your plan at any time. Simply add funds to your wallet and create a new campaign with the desired higher tier. We recommend the 'Agency' plan for maximum volume.",category:"billing"},{question:"Why is my traffic not showing in Google Analytics?",answer:"Ensure you are looking at 'Realtime' reports. Also, verify that your GA4 ID is correct in the project settings. Some traffic filters in GA4 may exclude bot traffic by default; our 'Growth' plan is designed to bypass standard bot filters.",category:"technical"},{question:"Is this traffic safe for AdSense?",answer:"Our 'Growth' and 'Agency' traffic tiers are safe for AdSense as they utilize high-quality residential IPs. However, we always recommend monitoring your CTR (Click-Through Rate) and adjusting your campaign speed accordingly.",category:"technical"},{question:"What payment methods do you accept?",answer:"We accept Visa, Mastercard, American Express via Stripe. We also support PayPal and various Cryptocurrencies (BTC, ETH, USDT).",category:"billing"},{question:"How do I reset my API key?",answer:"Navigate to your Profile settings in the dashboard. Under the 'Developer Settings' section, click the refresh icon to invalidate your old key and generate a new one.",category:"general"}].filter(y=>(r==="all"||y.category===r)&&(y.question.toLowerCase().includes(e.toLowerCase())||y.answer.toLowerCase().includes(e.toLowerCase())));return s.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans",children:[s.jsxs("div",{className:"bg-[#111] text-white pt-20 pb-32 px-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-[#ff4d00] opacity-10 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"}),s.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[s.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-400 hover:text-white mb-8 text-xs font-bold uppercase tracking-wider transition-colors",children:[s.jsx(wn,{size:16})," Back to Home"]}),s.jsx("h1",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-6",children:"How can we help?"}),s.jsxs("div",{className:"relative max-w-2xl",children:[s.jsx(hr,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",value:e,onChange:y=>t(y.target.value),placeholder:"Search for answers...",className:"w-full bg-white text-gray-900 pl-16 pr-6 py-5 rounded-sm shadow-xl text-lg font-medium outline-none focus:ring-2 focus:ring-[#ff4d00]"})]})]})]}),s.jsxs("div",{className:"max-w-4xl mx-auto px-6 -mt-16 relative z-20 pb-20",children:[s.jsx("div",{className:"flex flex-wrap gap-4 mb-12",children:h.map(y=>s.jsxs("button",{onClick:()=>i(y.id),className:`px-6 py-4 rounded-sm shadow-sm flex items-center gap-3 text-sm font-bold uppercase tracking-wider transition-all
                            ${r===y.id?"bg-[#ff4d00] text-white transform -translate-y-1":"bg-white text-gray-600 hover:bg-gray-50"}
                        `,children:[y.icon,y.label]},y.id))}),s.jsx("div",{className:"space-y-4",children:p.length===0?s.jsxs("div",{className:"text-center py-20 bg-gray-50 border border-gray-100 rounded-sm",children:[s.jsx(Un,{className:"mx-auto text-gray-300 mb-4",size:48}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"No results found"}),s.jsx("p",{className:"text-gray-500",children:"Try adjusting your search terms or browse all categories."})]}):p.map((y,b)=>s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm transition-all hover:border-gray-300",children:[s.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left",onClick:()=>d(l===b?null:b),children:[s.jsx("span",{className:"font-bold text-gray-900 text-lg",children:y.question}),l===b?s.jsx(Fg,{size:20,className:"text-[#ff4d00]"}):s.jsx(Al,{size:20,className:"text-gray-400"})]}),l===b&&s.jsx("div",{className:"px-6 pb-8 pt-2 text-gray-600 leading-relaxed animate-in fade-in slide-in-from-top-2 border-t border-gray-50",children:y.answer})]},b))}),s.jsxs("div",{className:"mt-20 bg-gray-50 border border-gray-200 p-10 text-center",children:[s.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4",children:"Still need help?"}),s.jsx("p",{className:"text-gray-500 mb-8 max-w-lg mx-auto",children:"Our support team is available 24/7 to assist you with any technical or billing inquiries."}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsxs("button",{className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[s.jsx(ho,{size:16})," Contact Support"]}),s.jsxs("button",{className:"bg-white border border-gray-300 text-gray-900 px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-gray-100 transition-colors flex items-center gap-2",children:[s.jsx(Un,{size:16})," Live Chat"]})]})]})]}),s.jsx("footer",{className:"bg-black text-white py-12 px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[s.jsx("div",{className:"text-xl font-black tracking-tight",children:"TRAFFIC CREATOR"}),s.jsx("div",{className:"text-xs text-gray-500",children:" 2025 Traffic Creator Inc."})]})})]})},N9=({onBack:n})=>{const[e,t]=_.useState("list"),[r,i]=_.useState(null),[l,d]=_.useState(""),[h,f]=_.useState("All"),[p,y]=_.useState(0),b=[{id:1,title:"The Ultimate Guide to Buying Website Traffic in 2025",slug:"ultimate-guide-buying-traffic",excerpt:"Everything you need to know about paid traffic sources, how to filter for quality, and strategies to boost your SEO rankings safely without getting penalized.",date:"Oct 24, 2025",author:"Alex Rivera",role:"Traffic Specialist",readTime:"8 min read",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",category:"Strategy",tags:["SEO","Traffic","Growth"],seoDescription:"Learn how to buy high-quality website traffic in 2025. A comprehensive guide for businesses to boost rankings safely."},{id:2,title:"5 SEO Myths Debunked: What Actually Works Now",slug:"5-seo-myths-debunked",excerpt:"Stop wasting time on outdated SEO tactics like keyword stuffing. We break down what actually works in the age of AI search engines and semantic search.",date:"Oct 18, 2025",author:"Sarah Chen",role:"SEO Director",readTime:"5 min read",image:"https://images.unsplash.com/photo-1504868584819-f8e8b4b6d7e3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",category:"SEO",tags:["Myths","Google","Ranking"],seoDescription:"We debunk the top 5 SEO myths of 2025. Discover modern strategies for AI-driven search engines."},{id:3,title:"Maximizing ROI on Display Campaigns",slug:"maximizing-roi-display",excerpt:"Learn how to optimize your display ad spend and target the right audience for higher conversion rates using behavioral data.",date:"Oct 10, 2025",author:"Mike Ross",readTime:"6 min read",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",category:"Marketing",tags:["Ads","ROI","Display"],seoDescription:"Increase your Return on Ad Spend (ROAS) with these display campaign optimization tips."},{id:4,title:"Why Bot Traffic Kills Your Analytics",slug:"bot-traffic-kills-analytics",excerpt:"Understanding the difference between good bots and bad bots, and how to filter them out of your Google Analytics 4 reports.",date:"Oct 05, 2025",author:"Alex Rivera",role:"Traffic Specialist",readTime:"4 min read",image:"https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",category:"Analytics",tags:["GA4","Bots","Data"],seoDescription:"Protect your data integrity. Learn why bot traffic skews analytics and how to prevent it."}],v=["All","Strategy","SEO","Marketing","Analytics"];_.useEffect(()=>{const F=()=>{const X=document.documentElement.scrollTop,T=document.documentElement.scrollHeight-document.documentElement.clientHeight,P=`${X/T}`;y(Number(P))};return window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)},[]);const C=(F,X)=>{document.title=`${F} | Traffic Creator Journal`;let T=document.querySelector("meta[name='description']");T||(T=document.createElement("meta"),T.setAttribute("name","description"),document.head.appendChild(T)),T.setAttribute("content",X)},S=F=>{const X=b.find(T=>T.id===F);X&&(i(F),t("article"),C(X.title,X.seoDescription),window.scrollTo(0,0))},I=()=>{t("list"),i(null),C("Blog","Insights and strategies for traffic growth."),window.scrollTo(0,0)},E=()=>{const X=`<?xml version="1.0" encoding="UTF-8" ?>
        <rss version="2.0">
        <channel>
            <title>Traffic Creator Journal</title>
            <link>https://traffic-creator.com</link>
            <description>Digital Growth Insights</description>
            ${b.map(k=>`
        <item>
            <title>${k.title}</title>
            <link>https://traffic-creator.com/blog/${k.slug}</link>
            <description>${k.excerpt}</description>
            <pubDate>${new Date(k.date).toUTCString()}</pubDate>
            <guid>https://traffic-creator.com/blog/${k.slug}</guid>
        </item>
      `).join("")}
        </channel>
        </rss>`,T=new Blob([X],{type:"text/xml"}),P=URL.createObjectURL(T);window.open(P,"_blank")},D=b.find(F=>F.id===r),M=D?b.filter(F=>F.category===D.category&&F.id!==D.id):[],L=F=>{const X={"@context":"https://schema.org","@type":"BlogPosting",headline:F.title,image:[F.image],datePublished:new Date(F.date).toISOString(),author:[{"@type":"Person",name:F.author}],publisher:{"@type":"Organization",name:"Traffic Creator",logo:{"@type":"ImageObject",url:"https://traffic-creator.com/logo.png"}},description:F.seoDescription};return s.jsx("script",{type:"application/ld+json",children:JSON.stringify(X)})},Y=b.filter(F=>{const X=F.title.toLowerCase().includes(l.toLowerCase())||F.excerpt.toLowerCase().includes(l.toLowerCase()),T=h==="All"||F.category===h;return X&&T});return e==="article"&&D?s.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900 pb-20",children:[L(D),s.jsx("div",{className:"fixed top-0 left-0 h-1 bg-[#ff4d00] z-[60]",style:{width:`${p*100}%`}}),s.jsxs("div",{className:"relative h-[60vh] bg-black group",children:[s.jsx("img",{src:D.image,className:"w-full h-full object-cover opacity-60 group-hover:opacity-50 transition-opacity duration-700",alt:"Cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"}),s.jsx("div",{className:"absolute top-0 left-0 w-full p-6 flex justify-between items-center z-10",children:s.jsxs("button",{onClick:I,className:"text-white flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors bg-black/20 backdrop-blur-md px-4 py-2 rounded-full",children:[s.jsx(wn,{size:14})," Back"]})}),s.jsx("div",{className:"absolute bottom-0 left-0 w-full p-8 md:p-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto animate-in slide-in-from-bottom-10 fade-in duration-700",children:[s.jsx("div",{className:"flex gap-2 mb-6",children:s.jsx("span",{className:"bg-[#ff4d00] text-white px-3 py-1 text-[10px] font-black uppercase tracking-widest",children:D.category})}),s.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white leading-[1.1] mb-8",children:D.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-8 text-gray-300 text-sm font-medium border-t border-white/20 pt-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center text-white font-bold",children:D.author.charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-bold",children:D.author}),s.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:D.role})]})]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Sb,{size:16})," ",D.date]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Os,{size:16})," ",D.readTime]})]})]})})]}),s.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-20 grid grid-cols-1 lg:grid-cols-4 gap-12",children:[s.jsxs("div",{className:"lg:col-span-3",children:[s.jsxs("div",{className:"prose prose-lg prose-gray max-w-none leading-relaxed prose-headings:font-black prose-headings:tracking-tight prose-a:text-[#ff4d00] prose-img:rounded-sm",children:[s.jsx("p",{className:"lead text-xl text-gray-600 mb-10 font-medium border-l-4 border-[#ff4d00] pl-6 italic",children:D.excerpt}),s.jsx("p",{children:"Buying website traffic can be a game-changer for new businesses looking to establish a digital footprint. However, the landscape is filled with low-quality bot traffic that can do more harm than good. In this guide, we'll explore how to navigate the market safely."}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mt-12 mb-6",children:"Understanding Traffic Sources"}),s.jsx("p",{children:"Not all traffic is created equal. The three main categories you need to be aware of are:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Direct Traffic:"})," Visitors typing your URL directly. Great for brand authority."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Referral Traffic:"})," Visitors coming from other websites. Excellent for building backlinks."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Social Traffic:"})," Visitors from platforms like Facebook, Twitter, and Reddit."]})]}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mt-12 mb-6",children:"The Dangers of Bot Traffic"}),s.jsx("p",{children:'Cheap traffic providers often use "click farms" or automated scripts. These visitors bounce immediately (spend 0 seconds on site) and never convert. Search engines like Google can detect this behavior and may penalize your rankings.'}),s.jsxs("div",{className:"bg-gray-50 p-8 my-8 rounded-sm border-l-4 border-black",children:[s.jsxs("h4",{className:"font-black text-gray-900 mb-2 uppercase text-sm tracking-wide flex items-center gap-2",children:[s.jsx(cg,{size:16,className:"text-[#ff4d00]"})," Pro Tip"]}),s.jsx("p",{className:"text-gray-600 text-sm m-0",children:'Always verify your traffic using Google Analytics 4 (GA4). Look at the "Engagement Time" metric. Real human traffic will have varied session durations, whereas bots often have exactly 0 or 30 seconds.'})]}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mt-12 mb-6",children:"How Traffic Creator Ensures Quality"}),s.jsx("p",{children:"At Traffic Creator, we use a proprietary filtering system that validates every visitor before they reach your site. We filter by:"}),s.jsxs("ol",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Device Fingerprinting:"})," Ensuring the request comes from a real physical device."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Behavioral Analysis:"})," Checking for natural mouse movements and scroll events."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"IP Reputation:"})," Blocking known datacenter IPs and proxies."]})]}),s.jsxs("p",{className:"mt-12",children:["Ready to boost your metrics? ",s.jsx("a",{href:"#",onClick:F=>{F.preventDefault(),n()},children:"Start your campaign today"})," and see the difference real traffic makes."]})]}),s.jsx("div",{className:"mt-20 pt-10 border-t border-gray-100",children:s.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:D.tags.map(F=>s.jsxs("span",{className:"bg-gray-100 hover:bg-gray-200 transition-colors text-gray-600 px-4 py-2 text-xs font-bold uppercase tracking-wide rounded-sm cursor-pointer",children:["#",F]},F))})})]}),s.jsxs("div",{className:"lg:col-span-1 space-y-12",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Share This"}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{className:"p-3 rounded-full border border-gray-200 text-gray-500 hover:text-[#ff4d00] hover:border-[#ff4d00] transition-all",onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("Link copied!")},children:s.jsx(zv,{size:18})})})]}),M.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-6",children:"Related Reads"}),s.jsx("div",{className:"space-y-6",children:M.map(F=>s.jsxs("div",{className:"group cursor-pointer",onClick:()=>S(F.id),children:[s.jsx("div",{className:"aspect-video bg-gray-100 mb-2 overflow-hidden rounded-sm",children:s.jsx("img",{src:F.image,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),s.jsx("h5",{className:"text-sm font-bold text-gray-900 group-hover:text-[#ff4d00] leading-tight mb-1",children:F.title}),s.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:F.date})]},F.id))})]}),s.jsxs("div",{className:"bg-[#111] text-white p-6 text-center rounded-sm",children:[s.jsx(ho,{className:"mx-auto mb-4 text-[#ff4d00]",size:24}),s.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Join the Inner Circle"}),s.jsx("p",{className:"text-gray-400 text-xs mb-6",children:"Get exclusive SEO tips delivered to your inbox."}),s.jsx("input",{type:"email",placeholder:"Email",className:"bg-white/10 border-none text-white placeholder-gray-500 px-4 py-2 w-full outline-none focus:ring-1 focus:ring-[#ff4d00] mb-2 text-sm"}),s.jsx("button",{className:"w-full bg-[#ff4d00] text-white px-4 py-2 font-bold uppercase text-xs tracking-wider hover:bg-white hover:text-black transition-colors",children:"Subscribe"})]})]})]})]}):s.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900",children:[s.jsx("div",{className:"border-b border-gray-100 sticky top-0 bg-white/95 backdrop-blur-sm z-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[s.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-[#ff4d00] transition-colors text-xs font-bold uppercase tracking-wider",children:[s.jsx(wn,{size:16})," Back to Home"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),s.jsx("span",{className:"text-[10px] font-bold bg-black text-white px-1.5 py-0.5 rounded-sm uppercase tracking-wide",children:"Journal"})]})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-20",children:[s.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[s.jsxs("h1",{className:"text-5xl md:text-7xl font-black uppercase tracking-tight mb-6 leading-[0.9]",children:["Digital ",s.jsx("span",{className:"text-[#ff4d00]",children:"Growth"}),s.jsx("br",{}),"Insights."]}),s.jsx("p",{className:"text-xl text-gray-500 leading-relaxed mb-10",children:"Expert advice on digital marketing, SEO strategies, and traffic optimization for the modern web."}),s.jsxs("div",{className:"relative max-w-xl mx-auto shadow-lg",children:[s.jsx("input",{type:"text",placeholder:"Search articles...",value:l,onChange:F=>d(F.target.value),className:"w-full bg-white border border-gray-200 py-4 pl-12 pr-4 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"}),s.jsx(hr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-16",children:v.map(F=>s.jsx("button",{onClick:()=>f(F),className:`px-6 py-2 text-xs font-bold uppercase tracking-widest border transition-all rounded-full
                            ${h===F?"bg-black text-white border-black":"bg-white text-gray-500 border-gray-200 hover:border-gray-400"}
                        `,children:F},F))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-12 gap-y-16",children:Y.length===0?s.jsxs("div",{className:"col-span-3 text-center py-20 text-gray-400",children:[s.jsx(Af,{size:48,className:"mx-auto mb-4 opacity-20"}),s.jsx("p",{children:"No articles found matching your criteria."})]}):Y.map((F,X)=>s.jsxs("article",{className:"group cursor-pointer flex flex-col h-full animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${X*100}ms`},onClick:()=>S(F.id),children:[s.jsxs("div",{className:"aspect-[4/3] overflow-hidden bg-gray-100 mb-6 relative rounded-sm",children:[s.jsx("img",{src:F.image,alt:F.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700",loading:"lazy"}),s.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-sm px-3 py-1 text-[10px] font-black uppercase tracking-widest text-black shadow-sm",children:F.category})]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[F.date," ",s.jsx("span",{className:"w-1 h-1 bg-gray-300 rounded-full"})," ",F.readTime]}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3 group-hover:text-[#ff4d00] transition-colors leading-tight",children:F.title}),s.jsx("p",{className:"text-gray-500 text-sm leading-relaxed mb-6 flex-1 line-clamp-3",children:F.excerpt}),s.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-black group-hover:translate-x-2 transition-transform duration-300 mt-auto",children:["Read Article ",s.jsx(Ds,{size:14})]})]})]},F.id))})]}),s.jsx("footer",{className:"bg-black text-white py-12 px-6 mt-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6",children:[s.jsx("div",{className:"text-xl font-black tracking-tight",children:"TRAFFIC CREATOR"}),s.jsxs("div",{className:"flex gap-6 text-xs font-bold text-gray-500 uppercase tracking-widest",children:[s.jsxs("button",{onClick:E,className:"hover:text-white transition-colors flex items-center gap-2",children:[s.jsx(G3,{size:14})," RSS Feed"]}),s.jsx("button",{className:"hover:text-white transition-colors",children:"Newsletter"}),s.jsx("button",{className:"hover:text-white transition-colors",children:"Archive"})]}),s.jsx("div",{className:"text-xs text-gray-600",children:" 2025 Traffic Creator Inc."})]})})]})},T9=()=>{var F,X;const[n,e]=_.useState(!1),[t,r]=_.useState(null),[i,l]=_.useState(void 0),[d,h]=_.useState(null),[f,p]=_.useState(""),[y,b]=_.useState(""),[v,C]=_.useState(""),[S,I]=_.useState("");_.useEffect(()=>{const T=K.getCurrentUser();l(T);const P=async()=>{await E(T)};P();const k=setInterval(P,5e3);return()=>clearInterval(k)},[n]),_.useEffect(()=>{n&&t&&D()},[(F=t==null?void 0:t.messages)==null?void 0:F.length,n]);const E=async T=>{try{const P=await K.getTickets();let k;if(T)k=P.find(z=>z.userId===T.id&&z.status!=="closed");else{const z=localStorage.getItem("modus_guest_id");z&&(k=P.find(B=>B.userId===z&&B.status!=="closed"))}k&&r(k)}catch{console.error("Chat sync failed")}},D=()=>{setTimeout(()=>{d==null||d.scrollIntoView({behavior:"smooth"})},100)},M=async T=>{if(T.preventDefault(),!f||!y)return;let P=i==null?void 0:i.id;if(!P){let z=localStorage.getItem("modus_guest_id");z||(z=`guest_${Date.now().toString().slice(-6)}`,localStorage.setItem("modus_guest_id",z)),P=z}const k={subject:`Chat with ${f}`,priority:"medium",messages:[{id:Date.now().toString(),sender:i?"user":"guest",text:`Chat started by ${f}.`,date:new Date().toLocaleString()}]};await K.createTicket(k),await E(i),I("")},L=async()=>{if(!S.trim()||!t)return;const T=i?"user":"guest";await K.replyToTicket(t.id,S,T),await E(i),I(""),D()},Y=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),L())};return s.jsxs("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col items-end font-sans",children:[n&&s.jsxs("div",{className:"mb-4 w-96 max-w-[calc(100vw-48px)] h-[600px] max-h-[80vh] bg-white shadow-2xl border border-gray-200 flex flex-col animate-in slide-in-from-bottom-5 duration-300",children:[s.jsxs("div",{className:"bg-black text-white p-5 flex justify-between items-center relative overflow-hidden",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-2 h-2 bg-[#ff4d00] rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-[#ff4d00]",children:"Live Support"})]}),s.jsx("h3",{className:"text-lg font-bold",children:"Traffic Creator"})]}),s.jsx("button",{onClick:()=>e(!1),className:"relative z-10 text-gray-400 hover:text-white transition-colors",children:s.jsx(fr,{size:20})}),s.jsx("div",{className:"absolute -right-6 -bottom-10 w-24 h-24 bg-[#ff4d00] opacity-20 rounded-full blur-xl"})]}),s.jsx("div",{className:"flex-1 overflow-hidden flex flex-col bg-[#f9fafb]",children:t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-gray-100 p-3 text-center border-b border-gray-200",children:s.jsxs("p",{className:"text-[10px] text-gray-500 font-medium flex items-center justify-center gap-1",children:[s.jsx(Os,{size:12})," Support will respond within, normally, 5 minutes."]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(X=t.messages)==null?void 0:X.map(T=>{var k;const P=T.sender==="user"||T.sender==="guest";return s.jsx("div",{className:`flex ${P?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[85%] flex flex-col ${P?"items-end":"items-start"}`,children:[s.jsx("div",{className:`p-3 text-sm shadow-sm ${P?"bg-black text-white rounded-l-lg rounded-tr-lg":"bg-white text-gray-900 border border-gray-200 rounded-r-lg rounded-tl-lg"}`,children:T.text}),s.jsxs("span",{className:"text-[9px] text-gray-400 mt-1 uppercase font-bold tracking-wide",children:[P?"You":"Support","  ",((k=T.date.split(",")[1])==null?void 0:k.trim())||"Now"]})]})},T.id)}),s.jsx("div",{ref:T=>h(T)})]}),s.jsx("div",{className:"p-3 bg-white border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:S,onChange:T=>I(T.target.value),onKeyDown:Y,className:"flex-1 bg-white border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] transition-colors",placeholder:"Type a message...",autoFocus:!0}),s.jsx("button",{className:"p-3 bg-[#ff4d00] text-white hover:bg-black transition-colors",onClick:L,disabled:!S.trim(),children:s.jsx(mo,{size:16})})]})})]}):s.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"How can we help?"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["We typically reply within ",s.jsx("span",{className:"font-bold text-gray-900",children:"5 minutes"}),"."]})]}),s.jsxs("form",{onSubmit:M,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:["Full Name ",s.jsx("span",{className:"text-[#ff4d00]",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),s.jsx("input",{required:!0,value:f,onChange:T=>p(T.target.value),className:"w-full bg-white border border-gray-200 p-3 pl-10 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"John Doe"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:["Email Address ",s.jsx("span",{className:"text-[#ff4d00]",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ho,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),s.jsx("input",{required:!0,type:"email",value:y,onChange:T=>b(T.target.value),className:"w-full bg-white border border-gray-200 p-3 pl-10 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"name@company.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Phone Number (Optional)"}),s.jsxs("div",{className:"relative",children:[s.jsx(LE,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),s.jsx("input",{type:"tel",value:v,onChange:T=>C(T.target.value),className:"w-full bg-white border border-gray-200 p-3 pl-10 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"+1 (555) 000-0000"})]})]}),s.jsxs("button",{type:"submit",className:"w-full bg-black text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors mt-4 flex items-center justify-center gap-2",children:["Start Chat ",s.jsx(mo,{size:14})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center",children:s.jsx("p",{className:"text-[10px] text-gray-400",children:"By chatting you agree to our Privacy Policy."})})]})})]}),s.jsx("button",{onClick:()=>e(!n),className:`${n?"bg-black scale-90":"bg-[#ff4d00] hover:scale-110"} text-white p-4 shadow-[0_10px_20px_rgba(255,77,0,0.3)] transition-all duration-300 rounded-full flex items-center justify-center z-[100]`,children:n?s.jsx(fr,{size:28}):s.jsx(Un,{size:28})})]})};/*! js-cookie v3.0.5 | MIT */function Cp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)n[r]=t[r]}return n}var S9={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Ib(n,e){function t(i,l,d){if(!(typeof document>"u")){d=Cp({},e,d),typeof d.expires=="number"&&(d.expires=new Date(Date.now()+d.expires*864e5)),d.expires&&(d.expires=d.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var h="";for(var f in d)d[f]&&(h+="; "+f,d[f]!==!0&&(h+="="+d[f].split(";")[0]));return document.cookie=i+"="+n.write(l,i)+h}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var l=document.cookie?document.cookie.split("; "):[],d={},h=0;h<l.length;h++){var f=l[h].split("="),p=f.slice(1).join("=");try{var y=decodeURIComponent(f[0]);if(d[y]=n.read(p,y),i===y)break}catch{}}return i?d[i]:d}}return Object.create({set:t,get:r,remove:function(i,l){t(i,"",Cp({},l,{expires:-1}))},withAttributes:function(i){return Ib(this.converter,Cp({},this.attributes,i))},withConverter:function(i){return Ib(Cp({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var ug=Ib(S9,{path:"/"});const E9=({condition:n,wrapper:e,children:t})=>n?e(t):t,Rb={TOP:"top",BOTTOM:"bottom"};var Bv=(n=>(n.STRICT="strict",n.LAX="lax",n.NONE="none",n))(Bv||{});const Pb={HIDDEN:"hidden",BY_COOKIE_VALUE:"byCookieValue"},nk="CookieConsent",k9=({children:n,...e})=>Fe.createElement("button",{...e},n),Sh={disableStyles:!1,hideOnAccept:!0,hideOnDecline:!0,location:Rb.BOTTOM,visible:Pb.BY_COOKIE_VALUE,onAccept:n=>{},onDecline:()=>{},cookieName:nk,cookieValue:"true",declineCookieValue:"false",setDeclineCookie:!0,buttonText:"I understand",declineButtonText:"I decline",debug:!1,expires:365,containerClasses:"CookieConsent",contentClasses:"",buttonClasses:"",buttonWrapperClasses:"",declineButtonClasses:"",buttonId:"rcc-confirm-button",declineButtonId:"rcc-decline-button",extraCookieOptions:{},disableButtonStyles:!1,enableDeclineButton:!1,flipButtons:!1,sameSite:Bv.LAX,ButtonComponent:k9,overlay:!1,overlayClasses:"",onOverlayClick:()=>{},acceptOnOverlayClick:!1,ariaAcceptLabel:"Accept cookies",ariaDeclineLabel:"Decline cookies",acceptOnScroll:!1,acceptOnScrollPercentage:25,customContentAttributes:{},customContainerAttributes:{},customButtonProps:{},customDeclineButtonProps:{},customButtonWrapperAttributes:{},style:{},buttonStyle:{},declineButtonStyle:{},contentStyle:{},overlayStyle:{}},A9={visible:!1,style:{alignItems:"baseline",background:"#353535",color:"white",display:"flex",flexWrap:"wrap",justifyContent:"space-between",left:"0",position:"fixed",width:"100%",zIndex:"999"},buttonStyle:{background:"#ffd42d",border:"0",borderRadius:"0px",boxShadow:"none",color:"black",cursor:"pointer",flex:"0 0 auto",padding:"5px 10px",margin:"15px"},declineButtonStyle:{background:"#c12a2a",border:"0",borderRadius:"0px",boxShadow:"none",color:"#e5e5e5",cursor:"pointer",flex:"0 0 auto",padding:"5px 10px",margin:"15px"},contentStyle:{flex:"1 0 300px",margin:"15px"},overlayStyle:{position:"fixed",left:0,top:0,width:"100%",height:"100%",zIndex:"999",backgroundColor:"rgba(0,0,0,0.3)"}},C9=(n=nk)=>{const e=ug.get(n);return e===void 0?ug.get(rk(n)):e},rk=n=>`${n}-legacy`,ak=class extends _.Component{constructor(){super(...arguments),this.state=A9,this.handleScroll=()=>{const{acceptOnScrollPercentage:e}={...Sh,...this.props},t=document.documentElement,r=document.body,i="scrollTop",l="scrollHeight";(t[i]||r[i])/((t[l]||r[l])-t.clientHeight)*100>e&&this.accept(!0)},this.removeScrollListener=()=>{const{acceptOnScroll:e}=this.props;e&&globalThis.removeEventListener("scroll",this.handleScroll)}}componentDidMount(){const{debug:e}=this.props;(this.getCookieValue()===void 0||e)&&(this.setState({visible:!0}),this.props.acceptOnScroll&&globalThis.addEventListener("scroll",this.handleScroll,{passive:!0}))}componentWillUnmount(){this.removeScrollListener()}accept(e=!1){const{cookieName:t,cookieValue:r,hideOnAccept:i,onAccept:l}={...Sh,...this.props};this.setCookie(t,r),l(e??!1),i&&(this.setState({visible:!1}),this.removeScrollListener())}overlayClick(){const{acceptOnOverlayClick:e,onOverlayClick:t}={...Sh,...this.props};e&&this.accept(),t()}decline(){const{cookieName:e,declineCookieValue:t,hideOnDecline:r,onDecline:i,setDeclineCookie:l}={...Sh,...this.props};l&&this.setCookie(e,t),i(),r&&this.setState({visible:!1})}setCookie(e,t){const{extraCookieOptions:r,expires:i,sameSite:l}=this.props;let{cookieSecurity:d}=this.props;d===void 0&&(d=globalThis.location?globalThis.location.protocol==="https:":!0);const h={expires:i,...r,sameSite:l,secure:d};l===Bv.NONE&&ug.set(rk(e),t,h),ug.set(e,t,h)}getCookieValue(){const{cookieName:e}=this.props;return C9(e)}render(){switch(this.props.visible){case Pb.HIDDEN:return null;case Pb.BY_COOKIE_VALUE:if(!this.state.visible)return null;break}const{location:e,style:t,buttonStyle:r,declineButtonStyle:i,contentStyle:l,disableStyles:d,buttonText:h,declineButtonText:f,containerClasses:p,contentClasses:y,buttonClasses:b,buttonWrapperClasses:v,declineButtonClasses:C,buttonId:S,declineButtonId:I,disableButtonStyles:E,enableDeclineButton:D,flipButtons:M,ButtonComponent:L,overlay:Y,overlayClasses:F,overlayStyle:X,ariaAcceptLabel:T,ariaDeclineLabel:P,customContainerAttributes:k,customContentAttributes:z,customButtonProps:B,customDeclineButtonProps:A,customButtonWrapperAttributes:V}=this.props;let Q={},je={},H={},J={},te={};switch(d?(Q=Object.assign({},t),je=Object.assign({},r),H=Object.assign({},i),J=Object.assign({},l),te=Object.assign({},X)):(Q=Object.assign({},{...this.state.style,...t}),J=Object.assign({},{...this.state.contentStyle,...l}),te=Object.assign({},{...this.state.overlayStyle,...X}),E?(je=Object.assign({},r),H=Object.assign({},i)):(je=Object.assign({},{...this.state.buttonStyle,...r}),H=Object.assign({},{...this.state.declineButtonStyle,...i}))),e){case Rb.TOP:Q.top="0";break;case Rb.BOTTOM:Q.bottom="0";break}const Ie=[];return D&&Ie.push(Fe.createElement(L,{key:"declineButton",style:H,className:C,id:I,"aria-label":P,onClick:()=>{this.decline()},...A},f)),Ie.push(Fe.createElement(L,{key:"acceptButton",style:je,className:b,id:S,"aria-label":T,onClick:()=>{this.accept()},...B},h)),M&&Ie.reverse(),Fe.createElement(E9,{condition:Y,wrapper:me=>Fe.createElement("div",{style:te,className:F,onClick:()=>{this.overlayClick()},onKeyDown:$=>{($.key==="Enter"||$.key===" ")&&($.preventDefault(),this.overlayClick())},role:"button",tabIndex:0,"aria-label":"Close cookie consent banner"},me)},Fe.createElement("div",{className:`${p}`,style:Q,...k},Fe.createElement("div",{style:J,className:y,...z},this.props.children),Fe.createElement("div",{className:`${v}`,...V},Ie.map(me=>me))))}};ak.defaultProps=Sh;let I9=ak;const R9=()=>{const[n,e]=_.useState(!1);return s.jsx(s.Fragment,{children:s.jsxs(I9,{location:"bottom",buttonText:"Accept All",declineButtonText:"Decline",manageCookieUseUrl:"#",onAccept:t=>{console.log(t?"Cookie accepted by scrolling":"Cookie accepted by button")},enableDeclineButton:!0,flipButtons:!0,cookieName:"trafficgen_cookie_consent",expires:365,style:{background:"#1a1a1a",color:"#ffffff",padding:"20px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"15px",fontSize:"14px",zIndex:9999},buttonStyle:{background:"#ff4d00",color:"#ffffff",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},declineButtonStyle:{background:"transparent",color:"#999999",border:"1px solid #666666",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},overlay:!0,children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",flex:1},children:[s.jsx(CD,{size:24,color:"#ff4d00"}),s.jsxs("div",{children:[s.jsx("strong",{style:{color:"#ff4d00",fontSize:"15px"},children:" Cookie Consent"}),s.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"13px",color:"#cccccc"},children:'We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.'})]})]}),s.jsx("button",{onClick:()=>e(!n),style:{background:"transparent",border:"none",color:"#ff4d00",cursor:"pointer",fontSize:"12px",textDecoration:"underline",marginTop:"10px"},children:n?"Hide Details":"Learn More"}),n&&s.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#2a2a2a",borderRadius:"4px",width:"100%",fontSize:"12px"},children:[s.jsx("h4",{style:{margin:"0 0 10px 0",color:"#ff4d00"},children:"Cookie Categories"}),s.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#cccccc"},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Essential:"})," Required for the website to function properly"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Analytics:"})," Help us understand how visitors interact with our website"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Marketing:"})," Used to track visitors across websites for ad targeting"]})]}),s.jsx("p",{style:{marginTop:"10px",color:"#999999"},children:'You can manage your cookie preferences at any time by clicking "Decline" or clearing your browser cookies.'})]})]})})},P9=()=>{const[n]=IE(),e=xr(),[t,r]=_.useState("loading"),[i,l]=_.useState("");return _.useEffect(()=>{const d=n.get("token");if(!d){r("error"),l("Invalid verification link. No token provided.");return}(async()=>{try{await K.verifyEmail(d),r("success"),l("Your email has been verified successfully! You can now log in and create projects.")}catch(f){r("error"),l(f.message||"Verification failed. The link may have expired.")}})()},[n]),s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsx(ze,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),s.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[s.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),s.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t==="loading"&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(uo,{className:"animate-spin mx-auto mb-4 text-[#ff4d00]",size:48}),s.jsx("p",{className:"text-gray-500 font-medium",children:"Verifying your email..."})]}),t==="success"&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Lt,{className:"text-green-500",size:40})}),s.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Email Verified!"}),s.jsx("p",{className:"text-gray-500 mb-8",children:i}),s.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Continue to Login"})]}),t==="error"&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(tf,{className:"text-red-500",size:40})}),s.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Verification Failed"}),s.jsx("p",{className:"text-gray-500 mb-8",children:i}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Back to Login"}),s.jsx(ze,{to:"/signup",className:"block text-center text-sm font-bold text-gray-400 hover:text-[#ff4d00]",children:"Create a new account"})]})]})]})})},D9=()=>{const[n]=IE(),e=xr(),[t,r]=_.useState(""),[i,l]=_.useState(""),[d,h]=_.useState(!1),[f,p]=_.useState(!1),[y,b]=_.useState(""),[v,C]=_.useState(!1),S=n.get("token"),I=async E=>{if(E.preventDefault(),b(""),t.length<6){b("Password must be at least 6 characters long");return}if(t!==i){b("Passwords do not match");return}if(!S){b("Invalid reset link. No token provided.");return}p(!0);try{await K.resetPassword(S,t),C(!0)}catch(D){b(D.message||"Password reset failed. The link may have expired.")}finally{p(!1)}};return S?v?s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsx(ze,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),s.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[s.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),s.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Lt,{className:"text-green-500",size:40})}),s.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Password Reset!"}),s.jsx("p",{className:"text-gray-500 mb-8",children:"Your password has been successfully reset. You can now log in with your new password."}),s.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Continue to Login"})]})]})}):s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsx(ze,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),s.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[s.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),s.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),s.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Reset Password"}),s.jsx("p",{className:"text-gray-500 mb-8",children:"Enter your new password below."}),y&&s.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3",children:[s.jsx(Bn,{className:"text-red-500 shrink-0",size:20}),s.jsx("span",{className:"text-red-700 text-xs font-bold leading-relaxed",children:y})]}),s.jsxs("form",{onSubmit:I,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Mn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:d?"text":"password",required:!0,value:t,onChange:E=>r(E.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 pr-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"Min. 6 characters"}),s.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?s.jsx(Mv,{size:18}):s.jsx(kf,{size:18})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Mn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:d?"text":"password",required:!0,value:i,onChange:E=>l(E.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"Confirm your password"})]})]}),s.jsx("button",{type:"submit",disabled:f,className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:f?s.jsxs(s.Fragment,{children:[s.jsx(uo,{className:"animate-spin",size:16})," Resetting..."]}):s.jsxs(s.Fragment,{children:["Reset Password ",s.jsx(Ds,{size:16})]})})]})]})}):s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsx(ze,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),s.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[s.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),s.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Bn,{className:"text-red-500",size:40})}),s.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Invalid Link"}),s.jsx("p",{className:"text-gray-500 mb-8",children:"This password reset link is invalid or has expired."}),s.jsx(ze,{to:"/forgot",className:"block w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors text-center",children:"Request New Link"})]})]})})},F2=({children:n,adminOnly:e})=>{const t=K.getCurrentUser();return t?e&&t.role!=="admin"?s.jsx(Ir,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:n}):s.jsx(Ir,{to:"/login",replace:!0})},O9=()=>{const{type:n}=Oh(),e=xr(),t=()=>{const r=K.getCurrentUser();r&&(r.role==="user"||r.role==="admin")?e("/dashboard"):e("/")};return s.jsx(j9,{type:n,onBack:t})},M9=()=>{const n=xr(),e=gr();_.useEffect(()=>{K.init()},[]),_.useEffect(()=>{const l=K.getCurrentUser();if(l){const d=e.pathname.substring(1)||"landing";K.trackPresence(d,l)}},[e]);const t=l=>{n(l==="admin"?"/admin":"/dashboard"),window.scrollTo(0,0)},r=()=>{n("/"),window.scrollTo(0,0)},i=()=>{n("/"),window.scrollTo(0,0)};return s.jsxs(s.Fragment,{children:[s.jsxs(Iv,{children:[s.jsx(Le,{path:"/",element:s.jsx(FM,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),s.jsx(Le,{path:"/login",element:s.jsx(Wy,{view:"login",onLogin:t,onNavigate:l=>n(`/${l}`)})}),s.jsx(Le,{path:"/signup",element:s.jsx(Wy,{view:"signup",onLogin:t,onNavigate:l=>n(`/${l}`)})}),s.jsx(Le,{path:"/forgot",element:s.jsx(Wy,{view:"forgot",onLogin:t,onNavigate:l=>n(`/${l}`)})}),s.jsx(Le,{path:"/verify-email",element:s.jsx(P9,{})}),s.jsx(Le,{path:"/reset-password",element:s.jsx(D9,{})}),s.jsx(Le,{path:"/dashboard/*",element:s.jsx(F2,{children:s.jsx(UM,{onLogout:r,onNavigate:l=>n(`/${l}`)})})}),s.jsx(Le,{path:"/admin/*",element:s.jsx(F2,{adminOnly:!0,children:s.jsx(w9,{onLogout:r})})}),s.jsx(Le,{path:"/helpdesk",element:s.jsx(_9,{onBack:i})}),s.jsx(Le,{path:"/blog",element:s.jsx(N9,{onBack:i})}),s.jsx(Le,{path:"/pricing",element:s.jsx(sk,{})}),s.jsx(Le,{path:"/legal/:type",element:s.jsx(O9,{})}),s.jsx(Le,{path:"/privacy",element:s.jsx(Ir,{to:"/legal/privacy",replace:!0})}),s.jsx(Le,{path:"/terms",element:s.jsx(Ir,{to:"/legal/terms",replace:!0})}),s.jsx(Le,{path:"/impressum",element:s.jsx(Ir,{to:"/legal/impressum",replace:!0})}),s.jsx(Le,{path:"/agb",element:s.jsx(Ir,{to:"/legal/agb",replace:!0})}),s.jsx(Le,{path:"/refund",element:s.jsx(Ir,{to:"/legal/refund",replace:!0})}),s.jsx(Le,{path:"/delivery",element:s.jsx(Ir,{to:"/legal/delivery",replace:!0})}),s.jsx(Le,{path:"/organic-website-traffic",element:s.jsx($M,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),s.jsx(Le,{path:"/modern-traffic",element:s.jsx(qM,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),s.jsx(Le,{path:"*",element:s.jsx(Ir,{to:"/",replace:!0})})]}),s.jsx(T9,{}),s.jsx(R9,{})]})},V9=()=>{};var $2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},L9=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const l=n[t++];e[r++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=n[t++],d=n[t++],h=n[t++],f=((i&7)<<18|(l&63)<<12|(d&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const l=n[t++],d=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(l&63)<<6|d&63)}}return e.join("")},ok={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const l=n[i],d=i+1<n.length,h=d?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,y=l>>2,b=(l&3)<<4|h>>4;let v=(h&15)<<2|p>>6,C=p&63;f||(C=64,d||(v=64)),r.push(t[y],t[b],t[v],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ik(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):L9(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const l=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const b=i<n.length?t[n.charAt(i)]:64;if(++i,l==null||h==null||p==null||b==null)throw new z9;const v=l<<2|h>>4;if(r.push(v),p!==64){const C=h<<4&240|p>>2;if(r.push(C),b!==64){const S=p<<6&192|b;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class z9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U9=function(n){const e=ik(n);return ok.encodeByteArray(e,!0)},hg=function(n){return U9(n).replace(/\./g,"")},Fv=function(n){try{return ok.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!B9(t)||(n[t]=fg(n[t],e[t]));return n}function B9(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=()=>$v().__FIREBASE_DEFAULTS__,$9=()=>{if(typeof process>"u"||typeof $2>"u")return;const n=$2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},q9=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Fv(n[1]);return e&&JSON.parse(e)},qv=()=>{try{return V9()||F9()||$9()||q9()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Hv=()=>{var n;return(n=qv())==null?void 0:n.config},H9=n=>{var e;return(e=qv())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lk(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[hg(JSON.stringify(t)),hg(JSON.stringify(d)),""].join(".")}const Vh={};function W9(){const n={prod:[],emulator:[]};for(const e of Object.keys(Vh))Vh[e]?n.emulator.push(e):n.prod.push(e);return n}function Y9(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let q2=!1;function ck(n,e){if(typeof window>"u"||typeof document>"u"||!Yd(window.location.host)||Vh[n]===e||Vh[n]||q2)return;Vh[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",l=W9().prod.length>0;function d(){const v=document.getElementById(r);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,C){v.setAttribute("width","24"),v.setAttribute("id",C),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function p(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{q2=!0,d()},v}function y(v,C){v.setAttribute("id",C),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function b(){const v=Y9(r),C=t("text"),S=document.getElementById(C)||document.createElement("span"),I=t("learnmore"),E=document.getElementById(I)||document.createElement("a"),D=t("preprendIcon"),M=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const L=v.element;h(L),y(E,I);const Y=p();f(M,D),L.append(M,S,E,Y),document.body.appendChild(L)}l?(S.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function Hg(){var e;const n=(e=qv())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J9(){return typeof window<"u"||dk()}function dk(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function X9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gg(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Gv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uk(){const n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function hk(){return!Hg()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fk(){return!Hg()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Pl(){try{return typeof indexedDB=="object"}catch{return!1}}function Kv(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var l;e(((l=i.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}function mk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9="FirebaseError";class Ms extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Z9,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,di.prototype.create)}}class di{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,l=this.errors[e],d=l?eV(l,r):"Error",h=`${this.serviceName}: ${d} (${i}).`;return new Ms(i,h,r)}}function eV(n,e){return n.replace(tV,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function sV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function go(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const l=n[i],d=e[i];if(G2(l)&&G2(d)){if(!go(l,d))return!1}else if(l!==d)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function G2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function od(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,l]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function Eh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function pk(n,e){const t=new nV(n,e);return t.subscribe.bind(t)}class nV{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");rV(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Yy),i.error===void 0&&(i.error=Yy),i.complete===void 0&&(i.complete=Yy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rV(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=1e3,iV=2,oV=14400*1e3,lV=.5;function K2(n,e=aV,t=iV){const r=e*Math.pow(t,n),i=Math.round(lV*r*(Math.random()-.5)*2);return Math.min(oV,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n){return n&&n._delegate?n._delegate:n}class rn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new G9;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uV(e))try{this.getOrInitializeService({instanceIdentifier:ul})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:i});r.resolve(l)}catch{}}}}clearInstance(e=ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ul){return this.instances.has(e)}getOptions(e=ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&d.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const l=this.instances.get(r);return l&&e(l,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ul){return this.component?this.component.multipleInstances?e:ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dV(n){return n===ul?void 0:n}function uV(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cV(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=[];var et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(et||(et={}));const xk={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},hV=et.INFO,fV={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},mV=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=fV[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cf{constructor(e){this.name=e,this._logLevel=hV,this._logHandler=mV,this._userLogHandler=null,Wv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}function pV(n){Wv.forEach(e=>{e.setLogLevel(n)})}function gV(n,e){for(const t of Wv){let r=null;e&&e.level&&(r=xk[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,l,...d)=>{const h=d.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");l>=(r??i.logLevel)&&n({level:et[l].toLowerCase(),message:h,args:d,type:i.name})}}}const xV=(n,e)=>e.some(t=>n instanceof t);let W2,Y2;function yV(){return W2||(W2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bV(){return Y2||(Y2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yk=new WeakMap,Db=new WeakMap,bk=new WeakMap,Qy=new WeakMap,Yv=new WeakMap;function vV(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{t(ro(n.result)),i()},d=()=>{r(n.error),i()};n.addEventListener("success",l),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&yk.set(t,n)}).catch(()=>{}),Yv.set(e,n),e}function wV(n){if(Db.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{t(),i()},d=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});Db.set(n,e)}let Ob={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Db.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bk.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ro(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jV(n){Ob=n(Ob)}function _V(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Jy(this),e,...t);return bk.set(r,e.sort?e.sort():[e]),ro(r)}:bV().includes(n)?function(...e){return n.apply(Jy(this),e),ro(yk.get(this))}:function(...e){return ro(n.apply(Jy(this),e))}}function NV(n){return typeof n=="function"?_V(n):(n instanceof IDBTransaction&&wV(n),xV(n,yV())?new Proxy(n,Ob):n)}function ro(n){if(n instanceof IDBRequest)return vV(n);if(Qy.has(n))return Qy.get(n);const e=NV(n);return e!==n&&(Qy.set(n,e),Yv.set(e,n)),e}const Jy=n=>Yv.get(n);function vk(n,e,{blocked:t,upgrade:r,blocking:i,terminated:l}={}){const d=indexedDB.open(n,e),h=ro(d);return r&&d.addEventListener("upgradeneeded",f=>{r(ro(d.result),f.oldVersion,f.newVersion,ro(d.transaction),f)}),t&&d.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const TV=["get","getKey","getAll","getAllKeys","count"],SV=["put","add","delete","clear"],Xy=new Map;function Q2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xy.get(e))return Xy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=SV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TV.includes(t)))return;const l=async function(d,...h){const f=this.transaction(d,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),i&&f.done]))[0]};return Xy.set(e,l),l}jV(n=>({...n,get:(e,t,r)=>Q2(e,t)||n.get(e,t,r),has:(e,t)=>!!Q2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kV(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function kV(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mg="@firebase/app",Mb="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Cf("@firebase/app"),AV="@firebase/app-compat",CV="@firebase/analytics-compat",IV="@firebase/analytics",RV="@firebase/app-check-compat",PV="@firebase/app-check",DV="@firebase/auth",OV="@firebase/auth-compat",MV="@firebase/database",VV="@firebase/data-connect",LV="@firebase/database-compat",zV="@firebase/functions",UV="@firebase/functions-compat",BV="@firebase/installations",FV="@firebase/installations-compat",$V="@firebase/messaging",qV="@firebase/messaging-compat",HV="@firebase/performance",GV="@firebase/performance-compat",KV="@firebase/remote-config",WV="@firebase/remote-config-compat",YV="@firebase/storage",QV="@firebase/storage-compat",JV="@firebase/firestore",XV="@firebase/ai",ZV="@firebase/firestore-compat",eL="firebase",tL="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="[DEFAULT]",sL={[mg]:"fire-core",[AV]:"fire-core-compat",[IV]:"fire-analytics",[CV]:"fire-analytics-compat",[PV]:"fire-app-check",[RV]:"fire-app-check-compat",[DV]:"fire-auth",[OV]:"fire-auth-compat",[MV]:"fire-rtdb",[VV]:"fire-data-connect",[LV]:"fire-rtdb-compat",[zV]:"fire-fn",[UV]:"fire-fn-compat",[BV]:"fire-iid",[FV]:"fire-iid-compat",[$V]:"fire-fcm",[qV]:"fire-fcm-compat",[HV]:"fire-perf",[GV]:"fire-perf-compat",[KV]:"fire-rc",[WV]:"fire-rc-compat",[YV]:"fire-gcs",[QV]:"fire-gcs-compat",[JV]:"fire-fst",[ZV]:"fire-fst-compat",[XV]:"fire-vertex","fire-js":"fire-js",[eL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new Map,jd=new Map,_d=new Map;function sf(n,e){try{n.container.addComponent(e)}catch(t){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wk(n,e){n.container.addOrOverwriteComponent(e)}function mr(n){const e=n.name;if(_d.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;_d.set(e,n);for(const t of yo.values())sf(t,n);for(const t of jd.values())sf(t,n);return!0}function Kg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function nL(n,e,t=xo){Kg(n,e).clearInstance(t)}function Qv(n){return n.options!==void 0}function jk(n){return Qv(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function Ut(n){return n==null?!1:n.settings!==void 0}function rL(){_d.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ln=new di("app","Firebase",aL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _k=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n,e){const t=Fv(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,l=new Date().getTime();i-l<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class iL extends _k{constructor(e,t,r,i){const l=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,d={name:r,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,d,i);else{const h=e;super(h.options,d,i)}this._serverConfig={automaticDataCollectionEnabled:l,...t},this._serverConfig.authIdToken&&J2(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&J2(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,tn(mg,Mb,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Xv(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ln.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=tL;function Jv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:xo,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ln.create("bad-app-name",{appName:String(i)});if(t||(t=Hv()),!t)throw Ln.create("no-options");const l=yo.get(i);if(l){if(go(t,l.options)&&go(r,l.config))return l;throw Ln.create("duplicate-app",{appName:i})}const d=new gk(i);for(const f of _d.values())d.addComponent(f);const h=new _k(t,r,d);return yo.set(i,h),h}function oL(n,e={}){if(J9()&&!dk())throw Ln.create("invalid-server-app-environment");let t,r=e||{};if(n&&(Qv(n)?t=n.options:jk(n)?r=n:t=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),t||(t=Hv()),!t)throw Ln.create("no-options");const i={...r,...t};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const l=y=>[...y].reduce((b,v)=>Math.imul(31,b)+v.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Ln.create("finalization-registry-not-supported",{});const d=""+l(JSON.stringify(i)),h=jd.get(d);if(h)return h.incRefCount(r.releaseOnDeref),h;const f=new gk(d);for(const y of _d.values())f.addComponent(y);const p=new iL(t,r,d,f);return jd.set(d,p),p}function lL(n=xo){const e=yo.get(n);if(!e&&n===xo&&Hv())return Jv();if(!e)throw Ln.create("no-app",{appName:n});return e}function cL(){return Array.from(yo.values())}async function Xv(n){let e=!1;const t=n.name;yo.has(t)?(e=!0,yo.delete(t)):jd.has(t)&&n.decRefCount()<=0&&(jd.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function tn(n,e,t){let r=sL[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const d=[`Unable to register library "${r}" with version "${e}":`];i&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(d.join(" "));return}mr(new rn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function Nk(n,e){if(n!==null&&typeof n!="function")throw Ln.create("invalid-log-argument");gV(n,e)}function Tk(n){pV(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="firebase-heartbeat-database",uL=1,nf="firebase-heartbeat-store";let Zy=null;function Sk(){return Zy||(Zy=vk(dL,uL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(nf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ln.create("idb-open",{originalErrorMessage:n.message})})),Zy}async function hL(n){try{const t=(await Sk()).transaction(nf),r=await t.objectStore(nf).get(Ek(n));return await t.done,r}catch(e){if(e instanceof Ms)ii.warn(e.message);else{const t=Ln.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(t.message)}}}async function X2(n,e){try{const r=(await Sk()).transaction(nf,"readwrite");await r.objectStore(nf).put(e,Ek(n)),await r.done}catch(t){if(t instanceof Ms)ii.warn(t.message);else{const r=Ln.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ii.warn(r.message)}}}function Ek(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=1024,mL=30;class pL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Z2();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(d=>d.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>mL){const d=yL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Z2(),{heartbeatsToSend:r,unsentEntries:i}=gL(this._heartbeatsCache.heartbeats),l=hg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ii.warn(t),""}}}function Z2(){return new Date().toISOString().substring(0,10)}function gL(n,e=fL){const t=[];let r=n.slice();for(const i of n){const l=t.find(d=>d.agent===i.agent);if(l){if(l.dates.push(i.date),eT(t)>e){l.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),eT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class xL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pl()?Kv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return X2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return X2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function eT(n){return hg(JSON.stringify({version:2,heartbeats:n})).length}function yL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(n){mr(new rn("platform-logger",e=>new EV(e),"PRIVATE")),mr(new rn("heartbeat",e=>new pL(e),"PRIVATE")),tn(mg,Mb,n),tn(mg,Mb,"esm2020"),tn("fire-js","")}bL("");const vL=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Ms,SDK_VERSION:Eo,_DEFAULT_ENTRY_NAME:xo,_addComponent:sf,_addOrOverwriteComponent:wk,_apps:yo,_clearComponents:rL,_components:_d,_getProvider:Kg,_isFirebaseApp:Qv,_isFirebaseServerApp:Ut,_isFirebaseServerAppSettings:jk,_registerComponent:mr,_removeServiceInstance:nL,_serverApps:jd,deleteApp:Xv,getApp:lL,getApps:cL,initializeApp:Jv,initializeServerApp:oL,onLog:Nk,registerVersion:tn,setLogLevel:Tk},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,t){this._delegate=e,this.firebase=t,sf(e,new rn("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Xv(this._delegate)))}_getService(e,t=xo){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=xo){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){sf(this._delegate,e)}_addOrOverwriteComponent(e){wk(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},tT=new di("app-compat","Firebase",jL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(n){const e={},t={__esModule:!0,initializeApp:l,app:i,registerVersion:tn,setLogLevel:Tk,onLog:Nk,apps:null,SDK_VERSION:Eo,INTERNAL:{registerComponent:h,removeApp:r,useAsService:f,modularAPIs:vL}};t.default=t,Object.defineProperty(t,"apps",{get:d});function r(p){delete e[p]}function i(p){if(p=p||xo,!H2(e,p))throw tT.create("no-app",{appName:p});return e[p]}i.App=n;function l(p,y={}){const b=Jv(p,y);if(H2(e,b.name))return e[b.name];const v=new n(b,t);return e[b.name]=v,v}function d(){return Object.keys(e).map(p=>e[p])}function h(p){const y=p.name,b=y.replace("-compat","");if(mr(p)&&p.type==="PUBLIC"){const v=(C=i())=>{if(typeof C[b]!="function")throw tT.create("invalid-app-argument",{appName:y});return C[b]()};p.serviceProps!==void 0&&fg(v,p.serviceProps),t[b]=v,n.prototype[b]=function(...C){return this._getService.bind(this,y).apply(this,p.multipleInstances?C:[])}}return p.type==="PUBLIC"?t[b]:null}function f(p,y){return y==="serverAuth"?null:y}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(){const n=_L(wL);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:kk,extendNamespace:e,createSubscribe:pk,ErrorFactory:di,deepExtend:fg};function e(t){fg(n,t)}return n}const NL=kk();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Cf("@firebase/app-compat"),TL="@firebase/app-compat",SL="0.5.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(n){tn(TL,SL,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=$v();if(n.firebase!==void 0){sT.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&sT.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const ko=NL;EL();var kL="firebase",AL="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko.registerVersion(kL,AL,"app-compat");const ph={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Wc={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Ak(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IL=CL,RL=Ak,Ck=new di("auth","Firebase",Ak());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=new Cf("@firebase/auth");function PL(n,...e){pg.logLevel<=et.WARN&&pg.warn(`Auth (${Eo}): ${n}`,...e)}function Hp(n,...e){pg.logLevel<=et.ERROR&&pg.error(`Auth (${Eo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(n,...e){throw ew(n,...e)}function xs(n,...e){return ew(n,...e)}function Zv(n,e,t){const r={...RL(),[e]:t};return new di("auth","Firebase",r).create(e,{appName:n.name})}function Ns(n){return Zv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jd(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ls(n,"argument-error"),Zv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ew(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Ck.create(n,...e)}function ve(n,e,...t){if(!n)throw ew(e,...t)}function ya(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hp(e),new Error(e)}function zr(n,e){n||ya(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function tw(){return nT()==="http:"||nT()==="https:"}function nT(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tw()||Gg()||"connection"in navigator)?navigator.onLine:!0}function OL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t){this.shortDelay=e,this.longDelay=t,zr(t>e,"Short delay should be less than long delay!"),this.isMobile=Q9()||Gv()}get(){return DL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n,e){zr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LL=new If(3e4,6e4);function Qt(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Jt(n,e,t,r,i={}){return Rk(n,i,async()=>{let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});const h=Qd({key:n.config.apiKey,...d}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...l};return X9()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Yd(n.emulatorConfig.host)&&(p.credentials="include"),Ik.fetch()(await Pk(n,n.config.apiHost,t,h),p)})}async function Rk(n,e,t){n._canInitEmulator=!1;const r={...ML,...e};try{const i=new UL(n),l=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw kh(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const h=l.ok?d.errorMessage:d.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(n,"credential-already-in-use",d);if(f==="EMAIL_EXISTS")throw kh(n,"email-already-in-use",d);if(f==="USER_DISABLED")throw kh(n,"user-disabled",d);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Zv(n,y,p);Ls(n,y)}}catch(i){if(i instanceof Ms)throw i;Ls(n,"network-request-failed",{message:String(i)})}}async function ui(n,e,t,r,i={}){const l=await Jt(n,e,t,r,i);return"mfaPendingCredential"in l&&Ls(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Pk(n,e,t,r){const i=`${e}${t}?${r}`,l=n,d=l.config.emulator?sw(n.config,i):`${n.config.apiScheme}://${i}`;return VL.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(d).toString():d}function zL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xs(this.auth,"network-request-failed")),LL.get())})}}function kh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=xs(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(n){return n!==void 0&&n.getResponse!==void 0}function aT(n){return n!==void 0&&n.enterprise!==void 0}class Dk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(n){return(await Jt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Ok(n,e){return Jt(n,"GET","/v2/recaptchaConfig",Qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(n,e){return Jt(n,"POST","/v1/accounts:delete",e)}async function $L(n,e){return Jt(n,"POST","/v1/accounts:update",e)}async function gg(n,e){return Jt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qL(n,e=!1){const t=Oe(n),r=await t.getIdToken(e),i=Wg(r);ve(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,d=l==null?void 0:l.sign_in_provider;return{claims:i,token:r,authTime:Lh(eb(i.auth_time)),issuedAtTime:Lh(eb(i.iat)),expirationTime:Lh(eb(i.exp)),signInProvider:d||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function eb(n){return Number(n)*1e3}function Wg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Hp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Fv(t);return i?JSON.parse(i):(Hp("Failed to decode base64 JWT payload"),null)}catch(i){return Hp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iT(n){const e=Wg(n);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oi(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ms&&HL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function HL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lh(this.lastLoginAt),this.creationTime=Lh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(n){var b;const e=n.auth,t=await n.getIdToken(),r=await oi(n,gg(e,{idToken:t}));ve(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const l=(b=i.providerUserInfo)!=null&&b.length?Mk(i.providerUserInfo):[],d=WL(n.providerData,l),h=n.isAnonymous,f=!(n.email&&i.passwordHash)&&!(d!=null&&d.length),p=h?f:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:d,metadata:new Vb(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function KL(n){const e=Oe(n);await af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Mk(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(n,e){const t=await Rk(n,{},async()=>{const r=Qd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=n.config,d=await Pk(n,i,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&Yd(n.emulatorConfig.host)&&(f.credentials="include"),Ik.fetch()(d,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QL(n,e){return Jt(n,"POST","/v2/accounts:revokeToken",Qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=iT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:l}=await YL(e,t);this.updateTokensAndExpiration(r,i,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:l}=t,d=new dd;return r&&(ve(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),i&&(ve(typeof i=="string","internal-error",{appName:e}),d.accessToken=i),l&&(ve(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dd,this.toJSON())}_performRefresh(){return ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(n,e){ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Dr{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new GL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Vb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await oi(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qL(this,e)}reload(){return KL(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await af(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ut(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await oi(this,FL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,l=t.phoneNumber??void 0,d=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:b,emailVerified:v,isAnonymous:C,providerData:S,stsTokenManager:I}=t;ve(b&&I,e,"internal-error");const E=dd.fromJSON(this.name,I);ve(typeof b=="string",e,"internal-error"),Yi(r,e.name),Yi(i,e.name),ve(typeof v=="boolean",e,"internal-error"),ve(typeof C=="boolean",e,"internal-error"),Yi(l,e.name),Yi(d,e.name),Yi(h,e.name),Yi(f,e.name),Yi(p,e.name),Yi(y,e.name);const D=new Dr({uid:b,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:C,photoURL:d,phoneNumber:l,tenantId:h,stsTokenManager:E,createdAt:p,lastLoginAt:y});return S&&Array.isArray(S)&&(D.providerData=S.map(M=>({...M}))),f&&(D._redirectEventId=f),D}static async _fromIdTokenResponse(e,t,r=!1){const i=new dd;i.updateFromServerResponse(t);const l=new Dr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await af(l),l}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ve(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?Mk(i.providerUserInfo):[],d=!(i.email&&i.passwordHash)&&!(l!=null&&l.length),h=new dd;h.updateFromIdToken(r);const f=new Dr({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:d}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Vb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new Map;function Vn(n){zr(n instanceof Function,"Expected a class definition");let e=oT.get(n);return e?(zr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,oT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Vk.type="NONE";const Nd=Vk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(n,e,t){return`firebase:${n}:${e}:${t}`}class ud{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:l}=this.auth;this.fullUserKey=Sl(this.userKey,i.apiKey,l),this.fullPersistenceKey=Sl("persistence",i.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await gg(this.auth,{idToken:e}).catch(()=>{});return t?Dr._fromGetAccountInfoResponse(this.auth,t,e):null}return Dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ud(Vn(Nd),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=i[0]||Vn(Nd);const d=Sl(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const y=await p._get(d);if(y){let b;if(typeof y=="string"){const v=await gg(e,{idToken:y}).catch(()=>{});if(!v)break;b=await Dr._fromGetAccountInfoResponse(e,v,y)}else b=Dr._fromJSON(e,y);p!==l&&(h=b),l=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new ud(l,e,r):(l=f[0],h&&await l._set(d,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(d)}catch{}})),new ud(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fk(e))return"Blackberry";if($k(e))return"Webos";if(zk(e))return"Safari";if((e.includes("chrome/")||Uk(e))&&!e.includes("edge/"))return"Chrome";if(Rf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Lk(n=qt()){return/firefox\//i.test(n)}function zk(n=qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uk(n=qt()){return/crios\//i.test(n)}function Bk(n=qt()){return/iemobile/i.test(n)}function Rf(n=qt()){return/android/i.test(n)}function Fk(n=qt()){return/blackberry/i.test(n)}function $k(n=qt()){return/webos/i.test(n)}function Pf(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JL(n=qt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function XL(n=qt()){var e;return Pf(n)&&!!((e=window.navigator)!=null&&e.standalone)}function ZL(){return uk()&&document.documentMode===10}function qk(n=qt()){return Pf(n)||Rf(n)||$k(n)||Fk(n)||/windows phone/i.test(n)||Bk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(n,e=[]){let t;switch(n){case"Browser":t=lT(qt());break;case"Worker":t=`${lT(qt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((d,h)=>{try{const f=e(l);d(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(n,e={}){return Jt(n,"GET","/v2/passwordPolicy",Qt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=6;class nz{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??sz,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cT(this),this.idTokenSubscription=new cT(this),this.beforeStateQueue=new ez(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ck,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vn(t)),this._initializationPromise=this.queue(async()=>{var r,i,l;if(!this._deleted&&(this.persistenceManager=await ud.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await gg(this,{idToken:e}),r=await Dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Ut(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(l=this.redirectUser)==null?void 0:l._redirectEventId,h=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!d||d===h)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(d){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await af(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ut(this.app))return Promise.reject(Ns(this));const t=e?Oe(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ut(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ut(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tz(this),t=new nz(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new di("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await QL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vn(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await ud.create(this,[Vn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(h,this,"internal-error"),h.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{d=!0,f()}}else{const f=e.addObserver(t);return()=>{d=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&PL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ht(n){return Oe(n)}class cT{constructor(e){this.auth=e,this.observer=null,this.addObserver=pk(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function az(n){Df=n}function nw(n){return Df.loadJS(n)}function iz(){return Df.recaptchaV2Script}function oz(){return Df.recaptchaEnterpriseScript}function lz(){return Df.gapiScript}function Gk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=500,dz=6e4,Ip=1e12;class uz{constructor(e){this.auth=e,this.counter=Ip,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new mz(e,this.auth.name,t||{})),this.counter++,r}reset(e){var r;const t=e||Ip;(r=this._widgets.get(t))==null||r.delete(),this._widgets.delete(t)}getResponse(e){var r;const t=e||Ip;return((r=this._widgets.get(t))==null?void 0:r.getResponse())||""}async execute(e){var r;const t=e||Ip;return(r=this._widgets.get(t))==null||r.execute(),""}}class hz{constructor(){this.enterprise=new fz}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fz{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class mz{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ve(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=pz(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},dz)},cz))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function pz(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const gz="recaptcha-enterprise",zh="NO_RECAPTCHA";class Kk{constructor(e){this.type=gz,this.auth=Ht(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,h)=>{Ok(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new Dk(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,d(p.siteKey)}}).catch(f=>{h(f)})})}function i(l,d,h){const f=window.grecaptcha;aT(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{d(p)}).catch(()=>{d(zh)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hz().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{r(this.auth).then(h=>{if(!t&&aT(window.grecaptcha))i(h,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let f=oz();f.length!==0&&(f+=h),nw(f).then(()=>{i(h,l,d)}).catch(p=>{d(p)})}}).catch(h=>{d(h)})})}}async function gh(n,e,t,r=!1,i=!1){const l=new Kk(n);let d;if(i)d=zh;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:d}):Object.assign(h,{captchaResponse:d}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function ao(n,e,t,r,i){var l,d;if(i==="EMAIL_PASSWORD_PROVIDER")if((l=n._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await gh(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await gh(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if((d=n._getRecaptchaConfig())!=null&&d.isProviderEnabled("PHONE_PROVIDER")){const h=await gh(n,e,t);return r(n,h).catch(async f=>{var p;if(((p=n._getRecaptchaConfig())==null?void 0:p.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const y=await gh(n,e,t,!1,!0);return r(n,y)}return Promise.reject(f)})}else{const h=await gh(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(i+" provider is not supported.")}async function xz(n){const e=Ht(n),t=await Ok(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Dk(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new Kk(e).verify()}function yz(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Vn);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bz(n,e,t){const r=Ht(n);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),l=Wk(e),{host:d,port:h}=vz(e),f=h===null?"":`:${h}`,p={url:`${l}//${d}${f}/`},y=Object.freeze({host:d,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(go(p,r.config.emulator)&&go(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Yd(d)?(lk(`${l}//${d}${f}`),ck("Auth",!0)):i||wz()}function Wk(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function vz(n){const e=Wk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const l=i[1];return{host:l,port:dT(r.substr(l.length+1))}}else{const[l,d]=r.split(":");return{host:l,port:dT(d)}}}function dT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function wz(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ya("not implemented")}_getIdTokenResponse(e){return ya("not implemented")}_linkToIdToken(e,t){return ya("not implemented")}_getReauthenticationResolver(e){return ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(n,e){return Jt(n,"POST","/v1/accounts:resetPassword",Qt(n,e))}async function jz(n,e){return Jt(n,"POST","/v1/accounts:update",e)}async function _z(n,e){return Jt(n,"POST","/v1/accounts:signUp",e)}async function Nz(n,e){return Jt(n,"POST","/v1/accounts:update",Qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(n,e){return ui(n,"POST","/v1/accounts:signInWithPassword",Qt(n,e))}async function Yg(n,e){return Jt(n,"POST","/v1/accounts:sendOobCode",Qt(n,e))}async function Sz(n,e){return Yg(n,e)}async function Ez(n,e){return Yg(n,e)}async function kz(n,e){return Yg(n,e)}async function Az(n,e){return Yg(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(n,e){return ui(n,"POST","/v1/accounts:signInWithEmailLink",Qt(n,e))}async function Iz(n,e){return ui(n,"POST","/v1/accounts:signInWithEmailLink",Qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends Xd{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new of(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new of(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ao(e,t,"signInWithPassword",Tz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Cz(e,{email:this._email,oobCode:this._password});default:Ls(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ao(e,r,"signUpPassword",_z,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Iz(e,{idToken:t,email:this._email,oobCode:this._password});default:Ls(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ti(n,e){return ui(n,"POST","/v1/accounts:signInWithIdp",Qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz="http://localhost";class Sa extends Xd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ls("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...l}=t;if(!r||!i)return null;const d=new Sa(r,i);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return ti(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ti(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ti(e,t)}buildRequest(){const e={requestUri:Rz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uT(n,e){return Jt(n,"POST","/v1/accounts:sendVerificationCode",Qt(n,e))}async function Pz(n,e){return ui(n,"POST","/v1/accounts:signInWithPhoneNumber",Qt(n,e))}async function Dz(n,e){const t=await ui(n,"POST","/v1/accounts:signInWithPhoneNumber",Qt(n,e));if(t.temporaryProof)throw kh(n,"account-exists-with-different-credential",t);return t}const Oz={USER_NOT_FOUND:"user-not-found"};async function Mz(n,e){const t={...e,operation:"REAUTH"};return ui(n,"POST","/v1/accounts:signInWithPhoneNumber",Qt(n,t),Oz)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends Xd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new El({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new El({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Pz(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Dz(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Mz(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:l}=e;return!r&&!t&&!i&&!l?null:new El({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Lz(n){const e=od(Eh(n)).link,t=e?od(Eh(e)).deep_link_id:null,r=od(Eh(n)).deep_link_id;return(r?od(Eh(r)).link:null)||r||t||e||n}class Qg{constructor(e){const t=od(Eh(e)),r=t.apiKey??null,i=t.oobCode??null,l=Vz(t.mode??null);ve(r&&i&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Lz(e);try{return new Qg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,t){return of._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Qg.parseLink(t);return ve(r,"argument-error"),of._fromEmailAndCode(e,r.code,r.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd extends hi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hd extends Zd{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ve("providerId"in t&&"signInMethod"in t,"argument-error"),Sa._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ve(e.idToken||e.accessToken,"argument-error"),Sa._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return hd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return hd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:l,nonce:d,providerId:h}=e;if(!r&&!i&&!t&&!l||!h)return null;try{return new hd(h)._credential({idToken:t,accessToken:r,nonce:d,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Zd{constructor(){super("facebook.com")}static credential(e){return Sa._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";ma.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Zd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Sa._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return pa.credential(t,r)}catch{return null}}}pa.GOOGLE_SIGN_IN_METHOD="google.com";pa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends Zd{constructor(){super("github.com")}static credential(e){return Sa._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ga.credential(e.oauthAccessToken)}catch{return null}}}ga.GITHUB_SIGN_IN_METHOD="github.com";ga.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz="http://localhost";class Td extends Xd{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ti(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ti(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ti(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:l}=t;return!r||!i||!l||r!==i?null:new Td(r,l)}static _create(e,t){return new Td(e,t)}buildRequest(){return{requestUri:zz,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz="saml.";class xg extends hi{constructor(e){ve(e.startsWith(Uz),"argument-error"),super(e)}static credentialFromResult(e){return xg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return xg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Td.fromJSON(e);return ve(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Td._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Zd{constructor(){super("twitter.com")}static credential(e,t){return Sa._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return xa.credential(t,r)}catch{return null}}}xa.TWITTER_SIGN_IN_METHOD="twitter.com";xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(n,e){return ui(n,"POST","/v1/accounts:signUp",Qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const l=await Dr._fromIdTokenResponse(e,r,i),d=hT(r);return new pr({user:l,providerId:d,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=hT(r);return new pr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function hT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bz(n){var i;if(Ut(n.app))return Promise.reject(Ns(n));const e=Ht(n);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new pr({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await Qk(e,{returnSecureToken:!0}),r=await pr._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends Ms{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new yg(e,t,r,i)}}function Jk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?yg._fromErrorAndOperation(n,l,e,r):l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fz(n,e){const t=Oe(n);await Jg(!0,t,e);const{providerUserInfo:r}=await $L(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=Xk(r||[]);return t.providerData=t.providerData.filter(l=>i.has(l.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function rw(n,e,t=!1){const r=await oi(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return pr._forOperation(n,"link",r)}async function Jg(n,e,t){await af(e);const r=Xk(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";ve(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(n,e,t=!1){const{auth:r}=n;if(Ut(r.app))return Promise.reject(Ns(r));const i="reauthenticate";try{const l=await oi(n,Jk(r,i,e,n),t);ve(l.idToken,r,"internal-error");const d=Wg(l.idToken);ve(d,r,"internal-error");const{sub:h}=d;return ve(n.uid===h,r,"user-mismatch"),pr._forOperation(n,i,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ls(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(n,e,t=!1){if(Ut(n.app))return Promise.reject(Ns(n));const r="signIn",i=await Jk(n,r,e),l=await pr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(l.user),l}async function Xg(n,e){return e4(Ht(n),e)}async function t4(n,e){const t=Oe(n);return await Jg(!1,t,e.providerId),rw(t,e)}async function s4(n,e){return Zk(Oe(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z(n,e){return ui(n,"POST","/v1/accounts:signInWithCustomToken",Qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz(n,e){if(Ut(n.app))return Promise.reject(Ns(n));const t=Ht(n),r=await $z(t,{token:e,returnSecureToken:!0}),i=await pr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?aw._fromServerResponse(e,t):"totpInfo"in t?iw._fromServerResponse(e,t):Ls(e,"internal-error")}}class aw extends Of{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new aw(t)}}class iw extends Of{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new iw(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(n,e,t){var r;ve(((r=t.url)==null?void 0:r.length)>0,n,"invalid-continue-uri"),ve(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ve(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ve(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ve(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(n){const e=Ht(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Hz(n,e,t){const r=Ht(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Zg(r,i,t),await ao(r,i,"getOobCode",Ez,"EMAIL_PASSWORD_PROVIDER")}async function Gz(n,e,t){await Yk(Oe(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ow(n),r})}async function Kz(n,e){await Nz(Oe(n),{oobCode:e})}async function n4(n,e){const t=Oe(n),r=await Yk(t,{oobCode:e}),i=r.requestType;switch(ve(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(r.mfaInfo,t,"internal-error");default:ve(r.email,t,"internal-error")}let l=null;return r.mfaInfo&&(l=Of._fromServerResponse(Ht(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:l},operation:i}}async function Wz(n,e){const{data:t}=await n4(Oe(n),e);return t.email}async function Yz(n,e,t){if(Ut(n.app))return Promise.reject(Ns(n));const r=Ht(n),d=await ao(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qk,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&ow(n),f}),h=await pr._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(h.user),h}function Qz(n,e,t){return Ut(n.app)?Promise.reject(Ns(n)):Xg(Oe(n),Ao.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ow(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jz(n,e,t){const r=Ht(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function l(d,h){ve(h.handleCodeInApp,r,"argument-error"),h&&Zg(r,d,h)}l(i,t),await ao(r,i,"getOobCode",kz,"EMAIL_PASSWORD_PROVIDER")}function Xz(n,e){const t=Qg.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function Zz(n,e,t){if(Ut(n.app))return Promise.reject(Ns(n));const r=Oe(n),i=Ao.credentialWithLink(e,t||rf());return ve(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Xg(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(n,e){return Jt(n,"POST","/v1/accounts:createAuthUri",Qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(n,e){const t=tw()?rf():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await eU(Oe(n),r);return i||[]}async function sU(n,e){const t=Oe(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Zg(t.auth,i,e);const{email:l}=await Sz(t.auth,i);l!==n.email&&await n.reload()}async function nU(n,e,t){const r=Oe(n),l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Zg(r.auth,l,t);const{email:d}=await Az(r.auth,l);d!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rU(n,e){return Jt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Oe(n),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await oi(r,rU(r.auth,l));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function iU(n,e){const t=Oe(n);return Ut(t.auth.app)?Promise.reject(Ns(t.auth)):r4(t,e,null)}function oU(n,e){return r4(Oe(n),null,e)}async function r4(n,e,t){const{auth:r}=n,l={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(l.email=e),t&&(l.password=t);const d=await oi(n,jz(r,l));await n._updateTokensIfNecessary(d,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(n){var i,l;if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(n!=null&&n.idToken)){const d=(l=(i=Wg(n.idToken))==null?void 0:i.firebase)==null?void 0:l.sign_in_provider;if(d){const h=d!=="anonymous"&&d!=="custom"?d:null;return new fd(r,h)}}if(!e)return null;switch(e){case"facebook.com":return new cU(r,t);case"github.com":return new dU(r,t);case"google.com":return new uU(r,t);case"twitter.com":return new hU(r,t,n.screenName||null);case"custom":case"anonymous":return new fd(r,null);default:return new fd(r,e,t)}}class fd{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class a4 extends fd{constructor(e,t,r,i){super(e,t,r),this.username=i}}class cU extends fd{constructor(e,t){super(e,"facebook.com",t)}}class dU extends a4{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class uU extends fd{constructor(e,t){super(e,"google.com",t)}}class hU extends a4{constructor(e,t,r){super(e,"twitter.com",t,r)}}function fU(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:lU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new bl("enroll",e,t)}static _fromMfaPendingCredential(e){return new bl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if((t=e.multiFactorSession)!=null&&t.pendingCredential)return bl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return bl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Ht(e),i=t.customData._serverResponse,l=(i.mfaInfo||[]).map(h=>Of._fromServerResponse(r,h));ve(i.mfaPendingCredential,r,"internal-error");const d=bl._fromMfaPendingCredential(i.mfaPendingCredential);return new lw(d,l,async h=>{const f=await h._process(r,d);delete i.mfaInfo,delete i.mfaPendingCredential;const p={...i,idToken:f.idToken,refreshToken:f.refreshToken};switch(t.operationType){case"signIn":const y=await pr._fromIdTokenResponse(r,t.operationType,p);return await r._updateCurrentUser(y.user),y;case"reauthenticate":return ve(t.user,r,"internal-error"),pr._forOperation(t.user,t.operationType,p);default:Ls(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function mU(n,e){var i;const t=Oe(n),r=e;return ve(e.customData.operationType,t,"argument-error"),ve((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,t,"argument-error"),lw._fromError(t,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(n,e){return Jt(n,"POST","/v2/accounts/mfaEnrollment:start",Qt(n,e))}function pU(n,e){return Jt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(n,e))}function gU(n,e){return Jt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(n,e))}class cw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Of._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new cw(e)}async getSession(){return bl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),l=await oi(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(l),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await oi(this.user,gU(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:l})=>l!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const tb=new WeakMap;function xU(n){const e=Oe(n);return tb.has(e)||tb.set(e,cw._fromUser(e)),tb.get(e)}const bg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bg,"1"),this.storage.removeItem(bg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=1e3,bU=10;class o4 extends i4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,h,f)=>{this.notifyListeners(d,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const d=this.storage.getItem(r);!t&&this.localCache[r]===d||this.notifyListeners(r,d)},l=this.storage.getItem(r);ZL()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bU):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},yU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}o4.type="LOCAL";const dw=o4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4 extends i4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}l4.type="SESSION";const Dl=l4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new ex(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:l}=t.data,d=this.handlersMap[i];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(d).map(async p=>p(t.origin,l)),f=await vU(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ex.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,d;return new Promise((h,f)=>{const p=Mf("",20);i.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);d={messageChannel:i,onMessage(b){const v=b;if(v.data.eventId===p)switch(v.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(v.data.response);break;default:clearTimeout(y),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(d),i.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(){return window}function jU(n){ms().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(){return typeof ms().WorkerGlobalScope<"u"&&typeof ms().importScripts=="function"}async function _U(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NU(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function TU(){return uw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="firebaseLocalStorageDb",SU=1,vg="firebaseLocalStorage",d4="fbase_key";class Vf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tx(n,e){return n.transaction([vg],e?"readwrite":"readonly").objectStore(vg)}function EU(){const n=indexedDB.deleteDatabase(c4);return new Vf(n).toPromise()}function Lb(){const n=indexedDB.open(c4,SU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vg,{keyPath:d4})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vg)?e(r):(r.close(),await EU(),e(await Lb()))})})}async function mT(n,e,t){const r=tx(n,!0).put({[d4]:e,value:t});return new Vf(r).toPromise()}async function kU(n,e){const t=tx(n,!1).get(e),r=await new Vf(t).toPromise();return r===void 0?null:r.value}function pT(n,e){const t=tx(n,!0).delete(e);return new Vf(t).toPromise()}const AU=800,CU=3;class u4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lb(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>CU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ex._getInstance(TU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await _U(),!this.activeServiceWorker)return;this.sender=new wU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lb();return await mT(e,bg,"1"),await pT(e,bg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>mT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>kU(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=tx(i,!1).getAll();return new Vf(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u4.type="LOCAL";const lf=u4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(n,e){return Jt(n,"POST","/v2/accounts/mfaSignIn:start",Qt(n,e))}function IU(n,e){return Jt(n,"POST","/v2/accounts/mfaSignIn:finalize",Qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=Gk("rcb"),RU=new If(3e4,6e4);class PU{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=ms().grecaptcha)!=null&&e.render)}load(e,t=""){return ve(DU(t),e,"argument-error"),this.shouldResolveImmediately(t)&&rT(ms().grecaptcha)?Promise.resolve(ms().grecaptcha):new Promise((r,i)=>{const l=ms().setTimeout(()=>{i(xs(e,"network-request-failed"))},RU.get());ms()[sb]=()=>{ms().clearTimeout(l),delete ms()[sb];const h=ms().grecaptcha;if(!h||!rT(h)){i(xs(e,"internal-error"));return}const f=h.render;h.render=(p,y)=>{const b=f(p,y);return this.counter++,b},this.hostLanguage=t,r(h)};const d=`${iz()}?${Qd({onload:sb,render:"explicit",hl:t})}`;nw(d).catch(()=>{clearTimeout(l),i(xs(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!((t=ms().grecaptcha)!=null&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function DU(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class OU{async load(e){return new uz(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="recaptcha",MU={theme:"light",type:"image"};let VU=class{constructor(e,t,r={...MU}){this.parameters=r,this.type=Uh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ht(e),this.isInvisible=this.parameters.size==="invisible",ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;ve(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new OU:new PU,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const l=d=>{d&&(this.tokenChangeListeners.delete(l),i(d))};this.tokenChangeListeners.add(l),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=ms()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ve(tw()&&!uw(),this.auth,"internal-error"),await LU(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await BL(this.auth);ve(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function LU(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=El._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function zU(n,e,t){if(Ut(n.app))return Promise.reject(Ns(n));const r=Ht(n),i=await sx(r,e,Oe(t));return new hw(i,l=>Xg(r,l))}async function UU(n,e,t){const r=Oe(n);await Jg(!1,r,"phone");const i=await sx(r.auth,e,Oe(t));return new hw(i,l=>t4(r,l))}async function BU(n,e,t){const r=Oe(n);if(Ut(r.auth.app))return Promise.reject(Ns(r.auth));const i=await sx(r.auth,e,Oe(t));return new hw(i,l=>s4(r,l))}async function sx(n,e,t){var r;if(!n._getRecaptchaConfig())try{await xz(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const l=i.session;if("phoneNumber"in i){ve(l.type==="enroll",n,"internal-error");const d={idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await ao(n,d,"mfaSmsEnrollment",async(y,b)=>{if(b.phoneEnrollmentInfo.captchaResponse===zh){ve((t==null?void 0:t.type)===Uh,y,"argument-error");const v=await nb(y,b,t);return fT(y,v)}return fT(y,b)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneSessionInfo.sessionInfo}else{ve(l.type==="signin",n,"internal-error");const d=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;ve(d,n,"missing-multi-factor-info");const h={mfaPendingCredential:l.credential,mfaEnrollmentId:d,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await ao(n,h,"mfaSmsSignIn",async(b,v)=>{if(v.phoneSignInInfo.captchaResponse===zh){ve((t==null?void 0:t.type)===Uh,b,"argument-error");const C=await nb(b,v,t);return gT(b,C)}return gT(b,v)},"PHONE_PROVIDER").catch(b=>Promise.reject(b))).phoneResponseInfo.sessionInfo}}else{const l={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await ao(n,l,"sendVerificationCode",async(p,y)=>{if(y.captchaResponse===zh){ve((t==null?void 0:t.type)===Uh,p,"argument-error");const b=await nb(p,y,t);return uT(p,b)}return uT(p,y)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).sessionInfo}}finally{t==null||t._reset()}}async function FU(n,e){const t=Oe(n);if(Ut(t.auth.app))return Promise.reject(Ns(t.auth));await rw(t,e)}async function nb(n,e,t){ve(t.type===Uh,n,"argument-error");const r=await t.verify();ve(typeof r=="string",n,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const l=i.phoneEnrollmentInfo.phoneNumber,d=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,f=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:r,captchaResponse:d,clientType:h,recaptchaVersion:f}}),i}else if("phoneSignInInfo"in i){const l=i.phoneSignInInfo.captchaResponse,d=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:l,clientType:d,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol=class Gp{constructor(e){this.providerId=Gp.PROVIDER_ID,this.auth=Ht(e)}verifyPhoneNumber(e,t){return sx(this.auth,e,Oe(t))}static credential(e,t){return El._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Gp.credentialFromTaggedObject(t)}static credentialFromError(e){return Gp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?El._fromTokenResponse(t,r):null}};Ol.PROVIDER_ID="phone";Ol.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(n,e){return e?Vn(e):(ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends Xd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ti(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ti(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ti(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $U(n){return e4(n.auth,new fw(n),n.bypassAuthState)}function qU(n){const{auth:e,user:t}=n;return ve(t,e,"internal-error"),Zk(t,new fw(n),n.bypassAuthState)}async function HU(n){const{auth:e,user:t}=n;return ve(t,e,"internal-error"),rw(t,new fw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,t,r,i,l=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:l,error:d,type:h}=e;if(d){this.reject(d);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $U;case"linkViaPopup":case"linkViaRedirect":return HU;case"reauthViaPopup":case"reauthViaRedirect":return qU;default:Ls(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=new If(2e3,1e4);async function KU(n,e,t){if(Ut(n.app))return Promise.reject(xs(n,"operation-not-supported-in-this-environment"));const r=Ht(n);Jd(n,e,hi);const i=Jl(r,t);return new Xa(r,"signInViaPopup",e,i).executeNotNull()}async function WU(n,e,t){const r=Oe(n);if(Ut(r.auth.app))return Promise.reject(xs(r.auth,"operation-not-supported-in-this-environment"));Jd(r.auth,e,hi);const i=Jl(r.auth,t);return new Xa(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function YU(n,e,t){const r=Oe(n);Jd(r.auth,e,hi);const i=Jl(r.auth,t);return new Xa(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Xa extends h4{constructor(e,t,r,i,l){super(e,t,i,l),this.provider=r,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=Mf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GU.get())};e()}}Xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU="pendingRedirect",Bh=new Map;class JU extends h4{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bh.get(this.auth._key());if(!e){try{const r=await XU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bh.set(this.auth._key(),e)}return this.bypassAuthState||Bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XU(n,e){const t=m4(e),r=f4(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function mw(n,e){return f4(n)._set(m4(e),"true")}function ZU(){Bh.clear()}function pw(n,e){Bh.set(n._key(),e)}function f4(n){return Vn(n._redirectPersistence)}function m4(n){return Sl(QU,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(n,e,t){return t8(n,e,t)}async function t8(n,e,t){if(Ut(n.app))return Promise.reject(Ns(n));const r=Ht(n);Jd(n,e,hi),await r._initializationPromise;const i=Jl(r,t);return await mw(i,r),i._openRedirect(r,e,"signInViaRedirect")}function s8(n,e,t){return n8(n,e,t)}async function n8(n,e,t){const r=Oe(n);if(Jd(r.auth,e,hi),Ut(r.auth.app))return Promise.reject(Ns(r.auth));await r.auth._initializationPromise;const i=Jl(r.auth,t);await mw(i,r.auth);const l=await p4(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",l)}function r8(n,e,t){return a8(n,e,t)}async function a8(n,e,t){const r=Oe(n);Jd(r.auth,e,hi),await r.auth._initializationPromise;const i=Jl(r.auth,t);await Jg(!1,r,e.providerId),await mw(i,r.auth);const l=await p4(r);return i._openRedirect(r.auth,e,"linkViaRedirect",l)}async function i8(n,e){return await Ht(n)._initializationPromise,nx(n,e,!1)}async function nx(n,e,t=!1){if(Ut(n.app))return Promise.reject(Ns(n));const r=Ht(n),i=Jl(r,e),d=await new JU(r,i,t).execute();return d&&!t&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}async function p4(n){const e=Mf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=600*1e3;class g4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l8(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!x4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(xs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o8&&this.cachedEventUids.clear(),this.cachedEventUids.has(xT(e))}saveEventToCache(e){this.cachedEventUids.add(xT(e)),this.lastProcessedEventTime=Date.now()}}function xT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function x4({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l8(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x4(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(n,e={}){return Jt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d8=/^https?/;async function u8(n){if(n.config.emulator)return;const{authorizedDomains:e}=await y4(n);for(const t of e)try{if(h8(t))return}catch{}Ls(n,"unauthorized-domain")}function h8(n){const e=rf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===r}if(!d8.test(t))return!1;if(c8.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=new If(3e4,6e4);function yT(){const n=ms().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function m8(n){return new Promise((e,t)=>{var i,l,d;function r(){yT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yT(),t(xs(n,"network-request-failed"))},timeout:f8.get()})}if((l=(i=ms().gapi)==null?void 0:i.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((d=ms().gapi)!=null&&d.load)r();else{const h=Gk("iframefcb");return ms()[h]=()=>{gapi.load?r():t(xs(n,"network-request-failed"))},nw(`${lz()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Kp=null,e})}let Kp=null;function p8(n){return Kp=Kp||m8(n),Kp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=new If(5e3,15e3),x8="__/auth/iframe",y8="emulator/auth/iframe",b8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w8(n){const e=n.config;ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?sw(e,y8):`https://${n.config.authDomain}/${x8}`,r={apiKey:e.apiKey,appName:n.name,v:Eo},i=v8.get(n.config.apiHost);i&&(r.eid=i);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Qd(r).slice(1)}`}async function j8(n){const e=await p8(n),t=ms().gapi;return ve(t,n,"internal-error"),e.open({where:document.body,url:w8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b8,dontclear:!0},r=>new Promise(async(i,l)=>{await r.restyle({setHideOnLeave:!1});const d=xs(n,"network-request-failed"),h=ms().setTimeout(()=>{l(d)},g8.get());function f(){ms().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N8=500,T8=600,S8="_blank",E8="http://localhost";class bT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k8(n,e,t,r=N8,i=T8){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={..._8,width:r.toString(),height:i.toString(),top:l,left:d},p=qt().toLowerCase();t&&(h=Uk(p)?S8:t),Lk(p)&&(e=e||E8,f.scrollbars="yes");const y=Object.entries(f).reduce((v,[C,S])=>`${v}${C}=${S},`,"");if(XL(p)&&h!=="_self")return A8(e||"",h),new bT(null);const b=window.open(e||"",h,y);ve(b,n,"popup-blocked");try{b.focus()}catch{}return new bT(b)}function A8(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8="__/auth/handler",I8="emulator/auth/handler",R8=encodeURIComponent("fac");async function zb(n,e,t,r,i,l){ve(n.config.authDomain,n,"auth-domain-config-required"),ve(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Eo,eventId:i};if(e instanceof hi){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",sV(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries(l||{}))d[y]=b}if(e instanceof Zd){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(d.scopes=y.join(","))}n.tenantId&&(d.tid=n.tenantId);const h=d;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),p=f?`#${R8}=${encodeURIComponent(f)}`:"";return`${P8(n)}?${Qd(h).slice(1)}${p}`}function P8({config:n}){return n.emulator?sw(n,I8):`https://${n.authDomain}/${C8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="webStorageSupport";class D8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dl,this._completeRedirectFn=nx,this._overrideRedirectResult=pw}async _openPopup(e,t,r,i){var d;zr((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const l=await zb(e,t,r,rf(),i);return k8(e,l,Mf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const l=await zb(e,t,r,rf(),i);return jU(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:l}=this.eventManagers[t];return i?Promise.resolve(i):(zr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await j8(e),r=new g4(e);return t.register("authEvent",i=>(ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rb,{type:rb},i=>{var d;const l=(d=i==null?void 0:i[0])==null?void 0:d[rb];l!==void 0&&t(!!l),Ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=u8(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qk()||zk()||Pf()}}const O8=D8;class M8{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return ya("unexpected MultiFactorSessionType")}}}class gw extends M8{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new gw(e)}_finalizeEnroll(e,t,r){return pU(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return IU(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class b4{constructor(){}static assertion(e){return gw._fromCredential(e)}}b4.FACTOR_ID="phone";var vT="@firebase/auth",wT="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z8(n){mr(new rn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:h}=r.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:d,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hk(n)},p=new rz(r,i,l,f);return yz(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),mr(new rn("auth-internal",e=>{const t=Ht(e.getProvider("auth").getImmediate());return(r=>new V8(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),tn(vT,wT,L8(n)),tn(vT,wT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=300;H9("authIdTokenMaxAge");function B8(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}az({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const l=xs("internal-error");l.customData=i,t(l)},r.type="text/javascript",r.charset="UTF-8",B8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z8("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=2e3;async function $8(n,e,t){const{BuildInfo:r}=Ml();zr(e.sessionId,"AuthEvent did not contain a session ID");const i=await W8(e.sessionId),l={};return Pf()?l.ibi=r.packageName:Rf()?l.apn=r.packageName:Ls(n,"operation-not-supported-in-this-environment"),r.displayName&&(l.appDisplayName=r.displayName),l.sessionId=i,zb(n,t,e.type,void 0,e.eventId??void 0,l)}async function q8(n){const{BuildInfo:e}=Ml(),t={};Pf()?t.iosBundleId=e.packageName:Rf()?t.androidPackageName=e.packageName:Ls(n,"operation-not-supported-in-this-environment"),await y4(n,t)}function H8(n){const{cordova:e}=Ml();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,JL()?"_blank":"_system","location=yes"),t(i)})})}async function G8(n,e,t){const{cordova:r}=Ml();let i=()=>{};try{await new Promise((l,d)=>{let h=null;function f(){var v;l();const b=(v=r.plugins.browsertab)==null?void 0:v.close;typeof b=="function"&&b(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function p(){h||(h=window.setTimeout(()=>{d(xs(n,"redirect-cancelled-by-user"))},F8))}function y(){(document==null?void 0:document.visibilityState)==="visible"&&p()}e.addPassiveListener(f),document.addEventListener("resume",p,!1),Rf()&&document.addEventListener("visibilitychange",y,!1),i=()=>{e.removePassiveListener(f),document.removeEventListener("resume",p,!1),document.removeEventListener("visibilitychange",y,!1),h&&window.clearTimeout(h)}})}finally{i()}}function K8(n){var t,r,i,l,d,h,f,p,y,b;const e=Ml();ve(typeof((t=e==null?void 0:e.universalLinks)==null?void 0:t.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ve(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ve(typeof((d=(l=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:l.browsertab)==null?void 0:d.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve(typeof((p=(f=(h=e==null?void 0:e.cordova)==null?void 0:h.plugins)==null?void 0:f.browsertab)==null?void 0:p.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve(typeof((b=(y=e==null?void 0:e.cordova)==null?void 0:y.InAppBrowser)==null?void 0:b.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function W8(n){const e=Y8(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Y8(n){if(zr(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8=20;class J8 extends g4{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function X8(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:tB(),postBody:null,tenantId:n.tenantId,error:xs(n,"no-auth-event")}}function Z8(n,e){return Ub()._set(Bb(n),e)}async function jT(n){const e=await Ub()._get(Bb(n));return e&&await Ub()._remove(Bb(n)),e}function eB(n,e){var r,i;const t=nB(e);if(t.includes("/__/auth/callback")){const l=Wp(t),d=l.firebaseError?sB(decodeURIComponent(l.firebaseError)):null,h=(i=(r=d==null?void 0:d.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],f=h?xs(h):null;return f?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:t,postBody:null}}return null}function tB(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<Q8;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function Ub(){return Vn(dw)}function Bb(n){return Sl("authEvent",n.config.apiKey,n.name)}function sB(n){try{return JSON.parse(n)}catch{return null}}function nB(n){const e=Wp(n),t=e.link?decodeURIComponent(e.link):void 0,r=Wp(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Wp(i).link||i||r||t||n}function Wp(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return od(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB=500;class aB{constructor(){this._redirectPersistence=Dl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=nx,this._overrideRedirectResult=pw}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new J8(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Ls(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){K8(e);const l=await this._initialize(e);await l.initialized(),l.resetRedirect(),ZU(),await this._originValidation(e);const d=X8(e,r,i);await Z8(e,d);const h=await $8(e,d,t),f=await H8(h);return G8(e,l,f)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=q8(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:l}=Ml(),d=setTimeout(async()=>{await jT(e),t.onEvent(_T())},rB),h=async y=>{clearTimeout(d);const b=await jT(e);let v=null;b&&(y!=null&&y.url)&&(v=eB(b,y.url)),t.onEvent(v||_T())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const f=i,p=`${l.packageName.toLowerCase()}://`;Ml().handleOpenURL=async y=>{if(y.toLowerCase().startsWith(p)&&h({url:y}),typeof f=="function")try{f(y)}catch(b){console.error(b)}}}}const iB=aB;function _T(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xs("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(n,e){Ht(n)._logFramework(e)}var lB="@firebase/auth-compat",cB="0.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=1e3;function Fh(){var n;return((n=self==null?void 0:self.location)==null?void 0:n.protocol)||null}function uB(){return Fh()==="http:"||Fh()==="https:"}function v4(n=qt()){return!!((Fh()==="file:"||Fh()==="ionic:"||Fh()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function hB(){return Gv()||Hg()}function fB(){return uk()&&(document==null?void 0:document.documentMode)===11}function mB(n=qt()){return/Edge\/\d+/.test(n)}function pB(n=qt()){return fB()||mB(n)}function w4(){try{const n=self.localStorage,e=Mf();if(n)return n.setItem(e,"1"),n.removeItem(e),pB()?Pl():!0}catch{return xw()&&Pl()}return!1}function xw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ab(){return(uB()||Gg()||v4())&&!hB()&&w4()&&!xw()}function j4(){return v4()&&typeof document<"u"}async function gB(){return j4()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},dB);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function xB(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On={LOCAL:"local",NONE:"none",SESSION:"session"},xh=ve,_4="persistence";function yB(n,e){if(xh(Object.values(On).includes(e),n,"invalid-persistence-type"),Gv()){xh(e!==On.SESSION,n,"unsupported-persistence-type");return}if(Hg()){xh(e===On.NONE,n,"unsupported-persistence-type");return}if(xw()){xh(e===On.NONE||e===On.LOCAL&&Pl(),n,"unsupported-persistence-type");return}xh(e===On.NONE||w4(),n,"unsupported-persistence-type")}async function Fb(n){await n._initializationPromise;const e=N4(),t=Sl(_4,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function bB(n,e){const t=N4();if(!t)return[];const r=Sl(_4,n,e);switch(t.getItem(r)){case On.NONE:return[Nd];case On.LOCAL:return[lf,Dl];case On.SESSION:return[Dl];default:return[]}}function N4(){var n;try{return((n=xB())==null?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=ve;class to{constructor(){this.browserResolver=Vn(O8),this.cordovaResolver=Vn(iB),this.underlyingResolver=null,this._redirectPersistence=Dl,this._completeRedirectFn=nx,this._overrideRedirectResult=pw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return j4()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return vB(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await gB();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(n){return n.unwrap()}function wB(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(n){return S4(n)}function _B(n,e){var r;const t=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new NB(n,mU(n,e))}else if(t){const i=S4(e),l=e;i&&(l.credential=i,l.tenantId=t.tenantId||void 0,l.email=t.email||void 0,l.phoneNumber=t.phoneNumber||void 0)}}function S4(n){const{_tokenResponse:e}=n instanceof Ms?n.customData:n;if(!e)return null;if(!(n instanceof Ms)&&"temporaryProof"in e&&"phoneNumber"in e)return Ol.credentialFromResult(n);const t=e.providerId;if(!t||t===ph.PASSWORD)return null;let r;switch(t){case ph.GOOGLE:r=pa;break;case ph.FACEBOOK:r=ma;break;case ph.GITHUB:r=ga;break;case ph.TWITTER:r=xa;break;default:const{oauthIdToken:i,oauthAccessToken:l,oauthTokenSecret:d,pendingToken:h,nonce:f}=e;return!l&&!d&&!i&&!h?null:h?t.startsWith("saml.")?Td._create(t,h):Sa._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:i,accessToken:l}):new hd(t).credential({idToken:i,accessToken:l,rawNonce:f})}return n instanceof Ms?r.credentialFromError(n):r.credentialFromResult(n)}function gn(n,e){return e.catch(t=>{throw t instanceof Ms&&_B(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:jB(t),additionalUserInfo:fU(t),user:rx.getOrCreate(i)}})}async function $b(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>gn(n,t.confirm(r))}}class NB{constructor(e,t){this.resolver=t,this.auth=wB(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return gn(T4(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rx=class Ah{constructor(e){this._delegate=e,this.multiFactor=xU(e)}static getOrCreate(e){return Ah.USER_MAP.has(e)||Ah.USER_MAP.set(e,new Ah(e)),Ah.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return gn(this.auth,t4(this._delegate,e))}async linkWithPhoneNumber(e,t){return $b(this.auth,UU(this._delegate,e,t))}async linkWithPopup(e){return gn(this.auth,YU(this._delegate,e,to))}async linkWithRedirect(e){return await Fb(Ht(this.auth)),r8(this._delegate,e,to)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return gn(this.auth,s4(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return $b(this.auth,BU(this._delegate,e,t))}reauthenticateWithPopup(e){return gn(this.auth,WU(this._delegate,e,to))}async reauthenticateWithRedirect(e){return await Fb(Ht(this.auth)),s8(this._delegate,e,to)}sendEmailVerification(e){return sU(this._delegate,e)}async unlink(e){return await Fz(this._delegate,e),this}updateEmail(e){return iU(this._delegate,e)}updatePassword(e){return oU(this._delegate,e)}updatePhoneNumber(e){return FU(this._delegate,e)}updateProfile(e){return aU(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return nU(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};rx.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=ve;class qb{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;yh(r,"invalid-api-key",{appName:e.name}),yh(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?to:void 0;this._delegate=t.initialize({options:{persistence:TB(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(IL),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?rx.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){bz(this._delegate,e,t)}applyActionCode(e){return Kz(this._delegate,e)}checkActionCode(e){return n4(this._delegate,e)}confirmPasswordReset(e,t){return Gz(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return gn(this._delegate,Yz(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return tU(this._delegate,e)}isSignInWithEmailLink(e){return Xz(this._delegate,e)}async getRedirectResult(){yh(ab(),this._delegate,"operation-not-supported-in-this-environment");const e=await i8(this._delegate,to);return e?gn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){oB(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:l,complete:d}=NT(e,t,r);return this._delegate.onAuthStateChanged(i,l,d)}onIdTokenChanged(e,t,r){const{next:i,error:l,complete:d}=NT(e,t,r);return this._delegate.onIdTokenChanged(i,l,d)}sendSignInLinkToEmail(e,t){return Jz(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Hz(this._delegate,e,t||void 0)}async setPersistence(e){yB(this._delegate,e);let t;switch(e){case On.SESSION:t=Dl;break;case On.LOCAL:t=await Vn(lf)._isAvailable()?lf:dw;break;case On.NONE:t=Nd;break;default:return Ls("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return gn(this._delegate,Bz(this._delegate))}signInWithCredential(e){return gn(this._delegate,Xg(this._delegate,e))}signInWithCustomToken(e){return gn(this._delegate,qz(this._delegate,e))}signInWithEmailAndPassword(e,t){return gn(this._delegate,Qz(this._delegate,e,t))}signInWithEmailLink(e,t){return gn(this._delegate,Zz(this._delegate,e,t))}signInWithPhoneNumber(e,t){return $b(this._delegate,zU(this._delegate,e,t))}async signInWithPopup(e){return yh(ab(),this._delegate,"operation-not-supported-in-this-environment"),gn(this._delegate,KU(this._delegate,e,to))}async signInWithRedirect(e){return yh(ab(),this._delegate,"operation-not-supported-in-this-environment"),await Fb(this._delegate),e8(this._delegate,e,to)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Wz(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}qb.Persistence=On;function NT(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:d=>i(d&&rx.getOrCreate(d)),error:e,complete:t}}function TB(n,e){const t=bB(n,e);if(typeof self<"u"&&!t.includes(lf)&&t.push(lf),typeof window<"u")for(const r of[dw,Dl])t.includes(r)||t.push(r);return t.includes(Nd)||t.push(Nd),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{static credential(e,t){return Ol.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Ol(T4(ko.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}yw.PHONE_SIGN_IN_METHOD=Ol.PHONE_SIGN_IN_METHOD;yw.PROVIDER_ID=Ol.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=ve;class EB{constructor(e,t,r=ko.app()){var i;SB((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new VU(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB="auth-compat";function AB(n){n.INTERNAL.registerComponent(new rn(kB,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new qb(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Wc.EMAIL_SIGNIN,PASSWORD_RESET:Wc.PASSWORD_RESET,RECOVER_EMAIL:Wc.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Wc.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Wc.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Wc.VERIFY_EMAIL}},EmailAuthProvider:Ao,FacebookAuthProvider:ma,GithubAuthProvider:ga,GoogleAuthProvider:pa,OAuthProvider:hd,SAMLAuthProvider:xg,PhoneAuthProvider:yw,PhoneMultiFactorGenerator:b4,RecaptchaVerifier:EB,TwitterAuthProvider:xa,Auth:qb,AuthCredential:Xd,Error:Ms}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(lB,cB)}AB(ko);var TT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var io,E4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,P){function k(){}k.prototype=P.prototype,T.F=P.prototype,T.prototype=new k,T.prototype.constructor=T,T.D=function(z,B,A){for(var V=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)V[Q-2]=arguments[Q];return P.prototype[B].apply(z,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,P,k){k||(k=0);const z=Array(16);if(typeof P=="string")for(var B=0;B<16;++B)z[B]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(B=0;B<16;++B)z[B]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=T.g[0],k=T.g[1],B=T.g[2];let A=T.g[3],V;V=P+(A^k&(B^A))+z[0]+3614090360&4294967295,P=k+(V<<7&4294967295|V>>>25),V=A+(B^P&(k^B))+z[1]+3905402710&4294967295,A=P+(V<<12&4294967295|V>>>20),V=B+(k^A&(P^k))+z[2]+606105819&4294967295,B=A+(V<<17&4294967295|V>>>15),V=k+(P^B&(A^P))+z[3]+3250441966&4294967295,k=B+(V<<22&4294967295|V>>>10),V=P+(A^k&(B^A))+z[4]+4118548399&4294967295,P=k+(V<<7&4294967295|V>>>25),V=A+(B^P&(k^B))+z[5]+1200080426&4294967295,A=P+(V<<12&4294967295|V>>>20),V=B+(k^A&(P^k))+z[6]+2821735955&4294967295,B=A+(V<<17&4294967295|V>>>15),V=k+(P^B&(A^P))+z[7]+4249261313&4294967295,k=B+(V<<22&4294967295|V>>>10),V=P+(A^k&(B^A))+z[8]+1770035416&4294967295,P=k+(V<<7&4294967295|V>>>25),V=A+(B^P&(k^B))+z[9]+2336552879&4294967295,A=P+(V<<12&4294967295|V>>>20),V=B+(k^A&(P^k))+z[10]+4294925233&4294967295,B=A+(V<<17&4294967295|V>>>15),V=k+(P^B&(A^P))+z[11]+2304563134&4294967295,k=B+(V<<22&4294967295|V>>>10),V=P+(A^k&(B^A))+z[12]+1804603682&4294967295,P=k+(V<<7&4294967295|V>>>25),V=A+(B^P&(k^B))+z[13]+4254626195&4294967295,A=P+(V<<12&4294967295|V>>>20),V=B+(k^A&(P^k))+z[14]+2792965006&4294967295,B=A+(V<<17&4294967295|V>>>15),V=k+(P^B&(A^P))+z[15]+1236535329&4294967295,k=B+(V<<22&4294967295|V>>>10),V=P+(B^A&(k^B))+z[1]+4129170786&4294967295,P=k+(V<<5&4294967295|V>>>27),V=A+(k^B&(P^k))+z[6]+3225465664&4294967295,A=P+(V<<9&4294967295|V>>>23),V=B+(P^k&(A^P))+z[11]+643717713&4294967295,B=A+(V<<14&4294967295|V>>>18),V=k+(A^P&(B^A))+z[0]+3921069994&4294967295,k=B+(V<<20&4294967295|V>>>12),V=P+(B^A&(k^B))+z[5]+3593408605&4294967295,P=k+(V<<5&4294967295|V>>>27),V=A+(k^B&(P^k))+z[10]+38016083&4294967295,A=P+(V<<9&4294967295|V>>>23),V=B+(P^k&(A^P))+z[15]+3634488961&4294967295,B=A+(V<<14&4294967295|V>>>18),V=k+(A^P&(B^A))+z[4]+3889429448&4294967295,k=B+(V<<20&4294967295|V>>>12),V=P+(B^A&(k^B))+z[9]+568446438&4294967295,P=k+(V<<5&4294967295|V>>>27),V=A+(k^B&(P^k))+z[14]+3275163606&4294967295,A=P+(V<<9&4294967295|V>>>23),V=B+(P^k&(A^P))+z[3]+4107603335&4294967295,B=A+(V<<14&4294967295|V>>>18),V=k+(A^P&(B^A))+z[8]+1163531501&4294967295,k=B+(V<<20&4294967295|V>>>12),V=P+(B^A&(k^B))+z[13]+2850285829&4294967295,P=k+(V<<5&4294967295|V>>>27),V=A+(k^B&(P^k))+z[2]+4243563512&4294967295,A=P+(V<<9&4294967295|V>>>23),V=B+(P^k&(A^P))+z[7]+1735328473&4294967295,B=A+(V<<14&4294967295|V>>>18),V=k+(A^P&(B^A))+z[12]+2368359562&4294967295,k=B+(V<<20&4294967295|V>>>12),V=P+(k^B^A)+z[5]+4294588738&4294967295,P=k+(V<<4&4294967295|V>>>28),V=A+(P^k^B)+z[8]+2272392833&4294967295,A=P+(V<<11&4294967295|V>>>21),V=B+(A^P^k)+z[11]+1839030562&4294967295,B=A+(V<<16&4294967295|V>>>16),V=k+(B^A^P)+z[14]+4259657740&4294967295,k=B+(V<<23&4294967295|V>>>9),V=P+(k^B^A)+z[1]+2763975236&4294967295,P=k+(V<<4&4294967295|V>>>28),V=A+(P^k^B)+z[4]+1272893353&4294967295,A=P+(V<<11&4294967295|V>>>21),V=B+(A^P^k)+z[7]+4139469664&4294967295,B=A+(V<<16&4294967295|V>>>16),V=k+(B^A^P)+z[10]+3200236656&4294967295,k=B+(V<<23&4294967295|V>>>9),V=P+(k^B^A)+z[13]+681279174&4294967295,P=k+(V<<4&4294967295|V>>>28),V=A+(P^k^B)+z[0]+3936430074&4294967295,A=P+(V<<11&4294967295|V>>>21),V=B+(A^P^k)+z[3]+3572445317&4294967295,B=A+(V<<16&4294967295|V>>>16),V=k+(B^A^P)+z[6]+76029189&4294967295,k=B+(V<<23&4294967295|V>>>9),V=P+(k^B^A)+z[9]+3654602809&4294967295,P=k+(V<<4&4294967295|V>>>28),V=A+(P^k^B)+z[12]+3873151461&4294967295,A=P+(V<<11&4294967295|V>>>21),V=B+(A^P^k)+z[15]+530742520&4294967295,B=A+(V<<16&4294967295|V>>>16),V=k+(B^A^P)+z[2]+3299628645&4294967295,k=B+(V<<23&4294967295|V>>>9),V=P+(B^(k|~A))+z[0]+4096336452&4294967295,P=k+(V<<6&4294967295|V>>>26),V=A+(k^(P|~B))+z[7]+1126891415&4294967295,A=P+(V<<10&4294967295|V>>>22),V=B+(P^(A|~k))+z[14]+2878612391&4294967295,B=A+(V<<15&4294967295|V>>>17),V=k+(A^(B|~P))+z[5]+4237533241&4294967295,k=B+(V<<21&4294967295|V>>>11),V=P+(B^(k|~A))+z[12]+1700485571&4294967295,P=k+(V<<6&4294967295|V>>>26),V=A+(k^(P|~B))+z[3]+2399980690&4294967295,A=P+(V<<10&4294967295|V>>>22),V=B+(P^(A|~k))+z[10]+4293915773&4294967295,B=A+(V<<15&4294967295|V>>>17),V=k+(A^(B|~P))+z[1]+2240044497&4294967295,k=B+(V<<21&4294967295|V>>>11),V=P+(B^(k|~A))+z[8]+1873313359&4294967295,P=k+(V<<6&4294967295|V>>>26),V=A+(k^(P|~B))+z[15]+4264355552&4294967295,A=P+(V<<10&4294967295|V>>>22),V=B+(P^(A|~k))+z[6]+2734768916&4294967295,B=A+(V<<15&4294967295|V>>>17),V=k+(A^(B|~P))+z[13]+1309151649&4294967295,k=B+(V<<21&4294967295|V>>>11),V=P+(B^(k|~A))+z[4]+4149444226&4294967295,P=k+(V<<6&4294967295|V>>>26),V=A+(k^(P|~B))+z[11]+3174756917&4294967295,A=P+(V<<10&4294967295|V>>>22),V=B+(P^(A|~k))+z[2]+718787259&4294967295,B=A+(V<<15&4294967295|V>>>17),V=k+(A^(B|~P))+z[9]+3951481745&4294967295,T.g[0]=T.g[0]+P&4294967295,T.g[1]=T.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,T.g[2]=T.g[2]+B&4294967295,T.g[3]=T.g[3]+A&4294967295}r.prototype.v=function(T,P){P===void 0&&(P=T.length);const k=P-this.blockSize,z=this.C;let B=this.h,A=0;for(;A<P;){if(B==0)for(;A<=k;)i(this,T,A),A+=this.blockSize;if(typeof T=="string"){for(;A<P;)if(z[B++]=T.charCodeAt(A++),B==this.blockSize){i(this,z),B=0;break}}else for(;A<P;)if(z[B++]=T[A++],B==this.blockSize){i(this,z),B=0;break}}this.h=B,this.o+=P},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var P=1;P<T.length-8;++P)T[P]=0;P=this.o*8;for(var k=T.length-8;k<T.length;++k)T[k]=P&255,P/=256;for(this.v(T),T=Array(16),P=0,k=0;k<4;++k)for(let z=0;z<32;z+=8)T[P++]=this.g[k]>>>z&255;return T};function l(T,P){var k=h;return Object.prototype.hasOwnProperty.call(k,T)?k[T]:k[T]=P(T)}function d(T,P){this.h=P;const k=[];let z=!0;for(let B=T.length-1;B>=0;B--){const A=T[B]|0;z&&A==P||(k[B]=A,z=!1)}this.g=k}var h={};function f(T){return-128<=T&&T<128?l(T,function(P){return new d([P|0],P<0?-1:0)}):new d([T|0],T<0?-1:0)}function p(T){if(isNaN(T)||!isFinite(T))return b;if(T<0)return E(p(-T));const P=[];let k=1;for(let z=0;T>=k;z++)P[z]=T/k|0,k*=4294967296;return new d(P,0)}function y(T,P){if(T.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(T.charAt(0)=="-")return E(y(T.substring(1),P));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=p(Math.pow(P,8));let z=b;for(let A=0;A<T.length;A+=8){var B=Math.min(8,T.length-A);const V=parseInt(T.substring(A,A+B),P);B<8?(B=p(Math.pow(P,B)),z=z.j(B).add(p(V))):(z=z.j(k),z=z.add(p(V)))}return z}var b=f(0),v=f(1),C=f(16777216);n=d.prototype,n.m=function(){if(I(this))return-E(this).m();let T=0,P=1;for(let k=0;k<this.g.length;k++){const z=this.i(k);T+=(z>=0?z:4294967296+z)*P,P*=4294967296}return T},n.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(I(this))return"-"+E(this).toString(T);const P=p(Math.pow(T,6));var k=this;let z="";for(;;){const B=Y(k,P).g;k=D(k,B.j(P));let A=((k.g.length>0?k.g[0]:k.h)>>>0).toString(T);if(k=B,S(k))return A+z;for(;A.length<6;)A="0"+A;z=A+z}},n.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(let P=0;P<T.g.length;P++)if(T.g[P]!=0)return!1;return!0}function I(T){return T.h==-1}n.l=function(T){return T=D(this,T),I(T)?-1:S(T)?0:1};function E(T){const P=T.g.length,k=[];for(let z=0;z<P;z++)k[z]=~T.g[z];return new d(k,~T.h).add(v)}n.abs=function(){return I(this)?E(this):this},n.add=function(T){const P=Math.max(this.g.length,T.g.length),k=[];let z=0;for(let B=0;B<=P;B++){let A=z+(this.i(B)&65535)+(T.i(B)&65535),V=(A>>>16)+(this.i(B)>>>16)+(T.i(B)>>>16);z=V>>>16,A&=65535,V&=65535,k[B]=V<<16|A}return new d(k,k[k.length-1]&-2147483648?-1:0)};function D(T,P){return T.add(E(P))}n.j=function(T){if(S(this)||S(T))return b;if(I(this))return I(T)?E(this).j(E(T)):E(E(this).j(T));if(I(T))return E(this.j(E(T)));if(this.l(C)<0&&T.l(C)<0)return p(this.m()*T.m());const P=this.g.length+T.g.length,k=[];for(var z=0;z<2*P;z++)k[z]=0;for(z=0;z<this.g.length;z++)for(let B=0;B<T.g.length;B++){const A=this.i(z)>>>16,V=this.i(z)&65535,Q=T.i(B)>>>16,je=T.i(B)&65535;k[2*z+2*B]+=V*je,M(k,2*z+2*B),k[2*z+2*B+1]+=A*je,M(k,2*z+2*B+1),k[2*z+2*B+1]+=V*Q,M(k,2*z+2*B+1),k[2*z+2*B+2]+=A*Q,M(k,2*z+2*B+2)}for(T=0;T<P;T++)k[T]=k[2*T+1]<<16|k[2*T];for(T=P;T<2*P;T++)k[T]=0;return new d(k,0)};function M(T,P){for(;(T[P]&65535)!=T[P];)T[P+1]+=T[P]>>>16,T[P]&=65535,P++}function L(T,P){this.g=T,this.h=P}function Y(T,P){if(S(P))throw Error("division by zero");if(S(T))return new L(b,b);if(I(T))return P=Y(E(T),P),new L(E(P.g),E(P.h));if(I(P))return P=Y(T,E(P)),new L(E(P.g),P.h);if(T.g.length>30){if(I(T)||I(P))throw Error("slowDivide_ only works with positive integers.");for(var k=v,z=P;z.l(T)<=0;)k=F(k),z=F(z);var B=X(k,1),A=X(z,1);for(z=X(z,2),k=X(k,2);!S(z);){var V=A.add(z);V.l(T)<=0&&(B=B.add(k),A=V),z=X(z,1),k=X(k,1)}return P=D(T,B.j(P)),new L(B,P)}for(B=b;T.l(P)>=0;){for(k=Math.max(1,Math.floor(T.m()/P.m())),z=Math.ceil(Math.log(k)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),A=p(k),V=A.j(P);I(V)||V.l(T)>0;)k-=z,A=p(k),V=A.j(P);S(A)&&(A=v),B=B.add(A),T=D(T,V)}return new L(B,T)}n.B=function(T){return Y(this,T).h},n.and=function(T){const P=Math.max(this.g.length,T.g.length),k=[];for(let z=0;z<P;z++)k[z]=this.i(z)&T.i(z);return new d(k,this.h&T.h)},n.or=function(T){const P=Math.max(this.g.length,T.g.length),k=[];for(let z=0;z<P;z++)k[z]=this.i(z)|T.i(z);return new d(k,this.h|T.h)},n.xor=function(T){const P=Math.max(this.g.length,T.g.length),k=[];for(let z=0;z<P;z++)k[z]=this.i(z)^T.i(z);return new d(k,this.h^T.h)};function F(T){const P=T.g.length+1,k=[];for(let z=0;z<P;z++)k[z]=T.i(z)<<1|T.i(z-1)>>>31;return new d(k,T.h)}function X(T,P){const k=P>>5;P%=32;const z=T.g.length-k,B=[];for(let A=0;A<z;A++)B[A]=P>0?T.i(A+k)>>>P|T.i(A+k+1)<<32-P:T.i(A+k);return new d(B,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,E4=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=y,io=d}).apply(typeof TT<"u"?TT:typeof self<"u"?self:typeof window<"u"?window:{});var Rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var k4,Ch,A4,Yp,Hb,C4,I4,R4;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rp=="object"&&Rp];for(var w=0;w<m.length;++w){var N=m[w];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=t(this);function i(m,w){if(w)e:{var N=r;m=m.split(".");for(var O=0;O<m.length-1;O++){var se=m[O];if(!(se in N))break e;N=N[se]}m=m[m.length-1],O=N[m],w=w(O),w!=O&&w!=null&&e(N,m,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(w){var N=[],O;for(O in w)Object.prototype.hasOwnProperty.call(w,O)&&N.push([O,w[O]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},d=this||self;function h(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function f(m,w,N){return m.call.apply(m.bind,arguments)}function p(m,w,N){return p=f,p.apply(null,arguments)}function y(m,w){var N=Array.prototype.slice.call(arguments,1);return function(){var O=N.slice();return O.push.apply(O,arguments),m.apply(this,O)}}function b(m,w){function N(){}N.prototype=w.prototype,m.Z=w.prototype,m.prototype=new N,m.prototype.constructor=m,m.Ob=function(O,se,le){for(var we=Array(arguments.length-2),We=2;We<arguments.length;We++)we[We-2]=arguments[We];return w.prototype[se].apply(O,we)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function C(m){const w=m.length;if(w>0){const N=Array(w);for(let O=0;O<w;O++)N[O]=m[O];return N}return[]}function S(m,w){for(let O=1;O<arguments.length;O++){const se=arguments[O];var N=typeof se;if(N=N!="object"?N:se?Array.isArray(se)?"array":N:"null",N=="array"||N=="object"&&typeof se.length=="number"){N=m.length||0;const le=se.length||0;m.length=N+le;for(let we=0;we<le;we++)m[N+we]=se[we]}else m.push(se)}}class I{constructor(w,N){this.i=w,this.j=N,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function E(m){d.setTimeout(()=>{throw m},0)}function D(){var m=T;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class M{constructor(){this.h=this.g=null}add(w,N){const O=L.get();O.set(w,N),this.h?this.h.next=O:this.g=O,this.h=O}}var L=new I(()=>new Y,m=>m.reset());class Y{constructor(){this.next=this.g=this.h=null}set(w,N){this.h=w,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let F,X=!1,T=new M,P=()=>{const m=Promise.resolve(void 0);F=()=>{m.then(k)}};function k(){for(var m;m=D();){try{m.h.call(m.g)}catch(N){E(N)}var w=L;w.j(m),w.h<100&&(w.h++,m.next=w.g,w.g=m)}X=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var A=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const N=()=>{};d.addEventListener("test",N,w),d.removeEventListener("test",N,w)}catch{}return m})();function V(m){return/^[\s\xa0]*$/.test(m)}function Q(m,w){B.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,w)}b(Q,B),Q.prototype.init=function(m,w){const N=this.type=m.type,O=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget,w||(N=="mouseover"?w=m.fromElement:N=="mouseout"&&(w=m.toElement)),this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var je="closure_listenable_"+(Math.random()*1e6|0),H=0;function J(m,w,N,O,se){this.listener=m,this.proxy=null,this.src=w,this.type=N,this.capture=!!O,this.ha=se,this.key=++H,this.da=this.fa=!1}function te(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ie(m,w,N){for(const O in m)w.call(N,m[O],O,m)}function me(m,w){for(const N in m)w.call(void 0,m[N],N,m)}function $(m){const w={};for(const N in m)w[N]=m[N];return w}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(m,w){let N,O;for(let se=1;se<arguments.length;se++){O=arguments[se];for(N in O)m[N]=O[N];for(let le=0;le<U.length;le++)N=U[le],Object.prototype.hasOwnProperty.call(O,N)&&(m[N]=O[N])}}function ae(m){this.src=m,this.g={},this.h=0}ae.prototype.add=function(m,w,N,O,se){const le=m.toString();m=this.g[le],m||(m=this.g[le]=[],this.h++);const we=Ve(m,w,O,se);return we>-1?(w=m[we],N||(w.fa=!1)):(w=new J(w,this.src,le,!!O,se),w.fa=N,m.push(w)),w};function ye(m,w){const N=w.type;if(N in m.g){var O=m.g[N],se=Array.prototype.indexOf.call(O,w,void 0),le;(le=se>=0)&&Array.prototype.splice.call(O,se,1),le&&(te(w),m.g[N].length==0&&(delete m.g[N],m.h--))}}function Ve(m,w,N,O){for(let se=0;se<m.length;++se){const le=m[se];if(!le.da&&le.listener==w&&le.capture==!!N&&le.ha==O)return se}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),St={};function ft(m,w,N,O,se){if(Array.isArray(w)){for(let le=0;le<w.length;le++)ft(m,w[le],N,O,se);return null}return N=Fr(N),m&&m[je]?m.J(w,N,h(O)?!!O.capture:!1,se):qn(m,w,N,!1,O,se)}function qn(m,w,N,O,se,le){if(!w)throw Error("Invalid event type");const we=h(se)?!!se.capture:!!se;let We=Hn(m);if(We||(m[Ue]=We=new ae(m)),N=We.add(w,N,O,we,le),N.proxy)return N;if(O=yr(),N.proxy=O,O.src=m,O.listener=N,m.addEventListener)A||(se=we),se===void 0&&(se=!1),m.addEventListener(w.toString(),O,se);else if(m.attachEvent)m.attachEvent(Ws(w.toString()),O);else if(m.addListener&&m.removeListener)m.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return N}function yr(){function m(N){return w.call(m.src,m.listener,N)}const w=Aa;return m}function Nn(m,w,N,O,se){if(Array.isArray(w))for(var le=0;le<w.length;le++)Nn(m,w[le],N,O,se);else O=h(O)?!!O.capture:!!O,N=Fr(N),m&&m[je]?(m=m.i,le=String(w).toString(),le in m.g&&(w=m.g[le],N=Ve(w,N,O,se),N>-1&&(te(w[N]),Array.prototype.splice.call(w,N,1),w.length==0&&(delete m.g[le],m.h--)))):m&&(m=Hn(m))&&(w=m.g[w.toString()],m=-1,w&&(m=Ve(w,N,O,se)),(N=m>-1?w[m]:null)&&Ks(N))}function Ks(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[je])ye(w.i,m);else{var N=m.type,O=m.proxy;w.removeEventListener?w.removeEventListener(N,O,m.capture):w.detachEvent?w.detachEvent(Ws(N),O):w.addListener&&w.removeListener&&w.removeListener(O),(N=Hn(w))?(ye(N,m),N.h==0&&(N.src=null,w[Ue]=null)):te(m)}}}function Ws(m){return m in St?St[m]:St[m]="on"+m}function Aa(m,w){if(m.da)m=!0;else{w=new Q(w,this);const N=m.listener,O=m.ha||m.src;m.fa&&Ks(m),m=N.call(O,w)}return m}function Hn(m){return m=m[Ue],m instanceof ae?m:null}var Br="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fr(m){return typeof m=="function"?m:(m[Br]||(m[Br]=function(w){return m.handleEvent(w)}),m[Br])}function Dt(){z.call(this),this.i=new ae(this),this.M=this,this.G=null}b(Dt,z),Dt.prototype[je]=!0,Dt.prototype.removeEventListener=function(m,w,N,O){Nn(this,m,w,N,O)};function be(m,w){var N,O=m.G;if(O)for(N=[];O;O=O.G)N.push(O);if(m=m.M,O=w.type||w,typeof w=="string")w=new B(w,m);else if(w instanceof B)w.target=w.target||m;else{var se=w;w=new B(O,m),pe(w,se)}se=!0;let le,we;if(N)for(we=N.length-1;we>=0;we--)le=w.g=N[we],se=He(le,O,!0,w)&&se;if(le=w.g=m,se=He(le,O,!0,w)&&se,se=He(le,O,!1,w)&&se,N)for(we=0;we<N.length;we++)le=w.g=N[we],se=He(le,O,!1,w)&&se}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var m=this.i;for(const w in m.g){const N=m.g[w];for(let O=0;O<N.length;O++)te(N[O]);delete m.g[w],m.h--}}this.G=null},Dt.prototype.J=function(m,w,N,O){return this.i.add(String(m),w,!1,N,O)},Dt.prototype.K=function(m,w,N,O){return this.i.add(String(m),w,!0,N,O)};function He(m,w,N,O){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();let se=!0;for(let le=0;le<w.length;++le){const we=w[le];if(we&&!we.da&&we.capture==N){const We=we.listener,Zt=we.ha||we.src;we.fa&&ye(m.i,we),se=We.call(Zt,O)!==!1&&se}}return se&&!O.defaultPrevented}function W(m,w){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=p(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:d.setTimeout(m,w||0)}function ke(m){m.g=W(()=>{m.g=null,m.i&&(m.i=!1,ke(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class Ae extends z{constructor(w,N){super(),this.m=w,this.l=N,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ke(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $e(m){z.call(this),this.h=m,this.g={}}b($e,z);var on=[];function ln(m){Ie(m.g,function(w,N){this.g.hasOwnProperty(N)&&Ks(w)},m),m.g={}}$e.prototype.N=function(){$e.Z.N.call(this),ln(this)},$e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ys=d.JSON.stringify,$r=d.JSON.parse,Oo=class{stringify(m){return d.JSON.stringify(m,void 0)}parse(m){return d.JSON.parse(m,void 0)}};function sc(){}function nc(){}var br={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ss(){B.call(this,"d")}b(Ss,B);function Gn(){B.call(this,"c")}b(Gn,B);var Xt={},em=null;function rc(){return em=em||new Dt}Xt.Ia="serverreachability";function tm(m){B.call(this,Xt.Ia,m)}b(tm,B);function qr(m){const w=rc();be(w,new tm(w))}Xt.STAT_EVENT="statevent";function Mo(m,w){B.call(this,Xt.STAT_EVENT,m),this.stat=w}b(Mo,B);function as(m){const w=rc();be(w,new Mo(w,m))}Xt.Ja="timingevent";function Hr(m,w){B.call(this,Xt.Ja,m),this.size=w}b(Hr,B);function Gr(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){m()},w)}function vr(){this.g=!0}vr.prototype.ua=function(){this.g=!1};function Rx(m,w,N,O,se,le){m.info(function(){if(m.g)if(le){var we="",We=le.split("&");for(let dt=0;dt<We.length;dt++){var Zt=We[dt].split("=");if(Zt.length>1){const Ot=Zt[0];Zt=Zt[1];const Qn=Ot.split("_");we=Qn.length>=2&&Qn[1]=="type"?we+(Ot+"="+Zt+"&"):we+(Ot+"=redacted&")}}}else we=null;else we=le;return"XMLHTTP REQ ("+O+") [attempt "+se+"]: "+w+`
`+N+`
`+we})}function sm(m,w,N,O,se,le,we){m.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+se+"]: "+w+`
`+N+`
`+le+" "+we})}function Kr(m,w,N,O){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+Px(m,N)+(O?" "+O:"")})}function Vo(m,w){m.info(function(){return"TIMEOUT: "+w})}vr.prototype.info=function(){};function Px(m,w){if(!m.g)return w;if(!w)return null;try{const le=JSON.parse(w);if(le){for(m=0;m<le.length;m++)if(Array.isArray(le[m])){var N=le[m];if(!(N.length<2)){var O=N[1];if(Array.isArray(O)&&!(O.length<1)){var se=O[0];if(se!="noop"&&se!="stop"&&se!="close")for(let we=1;we<O.length;we++)O[we]=""}}}}return Ys(le)}catch{return w}}var Lo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cu;function zo(){}b(zo,sc),zo.prototype.g=function(){return new XMLHttpRequest},cu=new zo;function Ca(m){return encodeURIComponent(String(m))}function nm(m){var w=1;m=m.split(":");const N=[];for(;w>0&&m.length;)N.push(m.shift()),w--;return m.length&&N.push(m.join(":")),N}function wr(m,w,N,O){this.j=m,this.i=w,this.l=N,this.S=O||1,this.V=new $e(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jr}function jr(){this.i=null,this.g="",this.h=!1}var is={},bs={};function Wr(m,w,N){m.M=1,m.A=Uo(ls(w)),m.u=N,m.R=!0,ac(m,null)}function ac(m,w){m.F=Date.now(),Yr(m),m.B=ls(m.A);var N=m.B,O=m.S;Array.isArray(O)||(O=[String(O)]),cc(N.i,"t",O),m.C=0,N=m.j.L,m.h=new jr,m.g=ym(m.j,N?w:null,!m.u),m.P>0&&(m.O=new Ae(p(m.Y,m,m.g),m.P)),w=m.V,N=m.g,O=m.ba;var se="readystatechange";Array.isArray(se)||(se&&(on[0]=se.toString()),se=on);for(let le=0;le<se.length;le++){const we=ft(N,se[le],O||w.handleEvent,!1,w.h||w);if(!we)break;w.g[we.key]=we}w=m.J?$(m.J):{},m.u?(m.v||(m.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,w)):(m.v="GET",m.g.ea(m.B,m.v,null,w)),qr(),Rx(m.i,m.v,m.B,m.l,m.S,m.u)}wr.prototype.ba=function(m){m=m.target;const w=this.O;w&&Tr(m)==3?w.j():this.Y(m)},wr.prototype.Y=function(m){try{if(m==this.g)e:{const We=Tr(this.g),Zt=this.g.ya(),dt=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||Es(this.g)))){this.K||We!=4||Zt==7||(Zt==8||dt<=0?qr(3):qr(2)),Qr(this);var w=this.g.ca();this.X=w;var N=Dx(this);if(this.o=w==200,sm(this.i,this.v,this.B,this.l,this.S,We,w),this.o){if(this.U&&!this.L){t:{if(this.g){var O,se=this.g;if((O=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(O)){var le=O;break t}}le=null}if(m=le)Kr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Jr(this,m);else{this.o=!1,this.m=3,as(12),Tn(this),Kn(this);break e}}if(this.R){m=!0;let Ot;for(;!this.K&&this.C<N.length;)if(Ot=am(this,N),Ot==bs){We==4&&(this.m=4,as(14),m=!1),Kr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==is){this.m=4,as(15),Kr(this.i,this.l,N,"[Invalid Chunk]"),m=!1;break}else Kr(this.i,this.l,Ot,null),Jr(this,Ot);if(rm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||N.length!=0||this.h.h||(this.m=1,as(16),m=!1),this.o=this.o&&m,!m)Kr(this.i,this.l,N,"[Invalid Chunked Response]"),Tn(this),Kn(this);else if(N.length>0&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.aa&&!we.P&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Nu(we),we.P=!0,as(11))}}else Kr(this.i,this.l,N,null),Jr(this,N);We==4&&Tn(this),this.o&&!this.K&&(We==4?mm(this.j,this):(this.o=!1,Yr(this)))}else Ra(this.g),w==400&&N.indexOf("Unknown SID")>0?(this.m=3,as(12)):(this.m=0,as(13)),Tn(this),Kn(this)}}}catch{}finally{}};function Dx(m){if(!rm(m))return m.g.la();const w=Es(m.g);if(w==="")return"";let N="";const O=w.length,se=Tr(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Tn(m),Kn(m),"";m.h.i=new d.TextDecoder}for(let le=0;le<O;le++)m.h.h=!0,N+=m.h.i.decode(w[le],{stream:!(se&&le==O-1)});return w.length=0,m.h.g+=N,m.C=0,m.h.g}function rm(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function am(m,w){var N=m.C,O=w.indexOf(`
`,N);return O==-1?bs:(N=Number(w.substring(N,O)),isNaN(N)?is:(O+=1,O+N>w.length?bs:(w=w.slice(O,O+N),m.C=O+N,w)))}wr.prototype.cancel=function(){this.K=!0,Tn(this)};function Yr(m){m.T=Date.now()+m.H,ic(m,m.H)}function ic(m,w){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Gr(p(m.aa,m),w)}function Qr(m){m.D&&(d.clearTimeout(m.D),m.D=null)}wr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Vo(this.i,this.B),this.M!=2&&(qr(),as(17)),Tn(this),this.m=2,Kn(this)):ic(this,this.T-m)};function Kn(m){m.j.I==0||m.K||mm(m.j,m)}function Tn(m){Qr(m);var w=m.O;w&&typeof w.dispose=="function"&&w.dispose(),m.O=null,ln(m.V),m.g&&(w=m.g,m.g=null,w.abort(),w.dispose())}function Jr(m,w){try{var N=m.j;if(N.I!=0&&(N.g==m||Zr(N.h,m))){if(!m.L&&Zr(N.h,m)&&N.I==3){try{var O=N.Ba.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var se=O;if(se[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<m.F)mc(N),Ni(N);else break e;Ko(N),as(18)}}else N.xa=se[1],0<N.xa-N.K&&se[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Gr(p(N.Va,N),6e3));Xr(N.h)<=1&&N.ta&&(N.ta=void 0)}else aa(N,11)}else if((m.L||N.g==m)&&mc(N),!V(w))for(se=N.Ba.g.parse(w),w=0;w<se.length;w++){let dt=se[w];const Ot=dt[0];if(!(Ot<=N.K))if(N.K=Ot,dt=dt[1],N.I==2)if(dt[0]=="c"){N.M=dt[1],N.ba=dt[2];const Qn=dt[3];Qn!=null&&(N.ka=Qn,N.j.info("VER="+N.ka));const ia=dt[4];ia!=null&&(N.za=ia,N.j.info("SVER="+N.za));const Sr=dt[5];Sr!=null&&typeof Sr=="number"&&Sr>0&&(O=1.5*Sr,N.O=O,N.j.info("backChannelRequestTimeoutMs_="+O)),O=N;const Er=m.g;if(Er){const Wo=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wo){var le=O.h;le.g||Wo.indexOf("spdy")==-1&&Wo.indexOf("quic")==-1&&Wo.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(hu(le,le.h),le.h=null))}if(O.G){const pc=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;pc&&(O.wa=pc,mt(O.J,O.G,pc))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-m.F,N.j.info("Handshake RTT: "+N.T+"ms")),O=N;var we=m;if(O.na=xm(O,O.L?O.ba:null,O.W),we.L){fu(O.h,we);var We=we,Zt=O.O;Zt&&(We.H=Zt),We.D&&(Qr(We),Yr(We)),O.g=we}else hm(O);N.i.length>0&&ra(N)}else dt[0]!="stop"&&dt[0]!="close"||aa(N,7);else N.I==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?aa(N,7):ju(N):dt[0]!="noop"&&N.l&&N.l.qa(dt),N.A=0)}}qr(4)}catch{}}var os=class{constructor(m,w){this.g=m,this.map=w}};function du(m){this.l=m||10,d.PerformanceNavigationTiming?(m=d.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function uu(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Xr(m){return m.h?1:m.g?m.g.size:0}function Zr(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function hu(m,w){m.g?m.g.add(w):m.h=w}function fu(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}du.prototype.cancel=function(){if(this.i=mu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function mu(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const N of m.g.values())w=w.concat(N.G);return w}return C(m.i)}var im=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oc(m,w){if(m){m=m.split("&");for(let N=0;N<m.length;N++){const O=m[N].indexOf("=");let se,le=null;O>=0?(se=m[N].substring(0,O),le=m[N].substring(O+1)):se=m[N],w(se,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function Sn(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;m instanceof Sn?(this.l=m.l,vs(this,m.j),this.o=m.o,this.g=m.g,xi(this,m.u),this.h=m.h,pu(this,dm(m.i)),this.m=m.m):m&&(w=String(m).match(im))?(this.l=!1,vs(this,w[1]||"",!0),this.o=ea(w[2]||""),this.g=ea(w[3]||"",!0),xi(this,w[4]),this.h=ea(w[5]||"",!0),pu(this,w[6]||"",!0),this.m=ea(w[7]||"")):(this.l=!1,this.i=new bi(null,this.l))}Sn.prototype.toString=function(){const m=[];var w=this.j;w&&m.push(Bo(w,lc,!0),":");var N=this.g;return(N||w=="file")&&(m.push("//"),(w=this.o)&&m.push(Bo(w,lc,!0),"@"),m.push(Ca(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&m.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&m.push("/"),m.push(Bo(N,N.charAt(0)=="/"?gu:om,!0))),(N=this.i.toString())&&m.push("?",N),(N=this.m)&&m.push("#",Bo(N,lm)),m.join("")},Sn.prototype.resolve=function(m){const w=ls(this);let N=!!m.j;N?vs(w,m.j):N=!!m.o,N?w.o=m.o:N=!!m.g,N?w.g=m.g:N=m.u!=null;var O=m.h;if(N)xi(w,m.u);else if(N=!!m.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var se=w.h.lastIndexOf("/");se!=-1&&(O=w.h.slice(0,se+1)+O)}if(se=O,se==".."||se==".")O="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){O=se.lastIndexOf("/",0)==0,se=se.split("/");const le=[];for(let we=0;we<se.length;){const We=se[we++];We=="."?O&&we==se.length&&le.push(""):We==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),O&&we==se.length&&le.push("")):(le.push(We),O=!0)}O=le.join("/")}else O=se}return N?w.h=O:N=m.i.toString()!=="",N?pu(w,dm(m.i)):N=!!m.m,N&&(w.m=m.m),w};function ls(m){return new Sn(m)}function vs(m,w,N){m.j=N?ea(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function xi(m,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);m.u=w}else m.u=null}function pu(m,w,N){w instanceof bi?(m.i=w,dc(m.i,m.l)):(N||(w=Bo(w,yi)),m.i=new bi(w,m.l))}function mt(m,w,N){m.i.set(w,N)}function Uo(m){return mt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function ea(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Bo(m,w,N){return typeof m=="string"?(m=encodeURI(m).replace(w,cn),N&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function cn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var lc=/[#\/\?@]/g,om=/[#\?:]/g,gu=/[#\?]/g,yi=/[#\?@]/g,lm=/#/g;function bi(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function dn(m){m.g||(m.g=new Map,m.h=0,m.i&&oc(m.i,function(w,N){m.add(decodeURIComponent(w.replace(/\+/g," ")),N)}))}n=bi.prototype,n.add=function(m,w){dn(this),this.i=null,m=vi(this,m);let N=this.g.get(m);return N||this.g.set(m,N=[]),N.push(w),this.h+=1,this};function cm(m,w){dn(m),w=vi(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function xu(m,w){return dn(m),w=vi(m,w),m.g.has(w)}n.forEach=function(m,w){dn(this),this.g.forEach(function(N,O){N.forEach(function(se){m.call(w,se,O,this)},this)},this)};function yu(m,w){dn(m);let N=[];if(typeof w=="string")xu(m,w)&&(N=N.concat(m.g.get(vi(m,w))));else for(m=Array.from(m.g.values()),w=0;w<m.length;w++)N=N.concat(m[w]);return N}n.set=function(m,w){return dn(this),this.i=null,m=vi(this,m),xu(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},n.get=function(m,w){return m?(m=yu(this,m),m.length>0?String(m[0]):w):w};function cc(m,w,N){cm(m,w),N.length>0&&(m.i=null,m.g.set(vi(m,w),C(N)),m.h+=N.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(let O=0;O<w.length;O++){var N=w[O];const se=Ca(N);N=yu(this,N);for(let le=0;le<N.length;le++){let we=se;N[le]!==""&&(we+="="+Ca(N[le])),m.push(we)}}return this.i=m.join("&")};function dm(m){const w=new bi;return w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),w}function vi(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function dc(m,w){w&&!m.j&&(dn(m),m.i=null,m.g.forEach(function(N,O){const se=O.toLowerCase();O!=se&&(cm(this,O),cc(this,se,N))},m)),m.j=w}function _r(m,w){const N=new vr;if(d.Image){const O=new Image;O.onload=y(Wn,N,"TestLoadImage: loaded",!0,w,O),O.onerror=y(Wn,N,"TestLoadImage: error",!1,w,O),O.onabort=y(Wn,N,"TestLoadImage: abort",!1,w,O),O.ontimeout=y(Wn,N,"TestLoadImage: timeout",!1,w,O),d.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=m}else w(!1)}function bu(m,w){const N=new vr,O=new AbortController,se=setTimeout(()=>{O.abort(),Wn(N,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:O.signal}).then(le=>{clearTimeout(se),le.ok?Wn(N,"TestPingServer: ok",!0,w):Wn(N,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(se),Wn(N,"TestPingServer: error",!1,w)})}function Wn(m,w,N,O,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),O(N)}catch{}}function wi(){this.g=new Oo}function ta(m){this.i=m.Sb||null,this.h=m.ab||!1}b(ta,sc),ta.prototype.g=function(){return new Fo(this.i,this.h)};function Fo(m,w){Dt.call(this),this.H=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Fo,Dt),n=Fo.prototype,n.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=w,this.readyState=1,Nr(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(w.body=m),(this.H||d).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Nr(this)),this.g&&(this.readyState=3,Nr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uc(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function uc(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?ji(this):Nr(this),this.readyState==3&&uc(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,ji(this))},n.Na=function(m){this.g&&(this.response=m,ji(this))},n.ga=function(){this.g&&ji(this)};function ji(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Nr(m)}n.setRequestHeader=function(m,w){this.A.append(m,w)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var N=w.next();!N.done;)N=N.value,m.push(N[0]+": "+N[1]),N=w.next();return m.join(`\r
`)};function Nr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Yn(m){let w="";return Ie(m,function(N,O){w+=O,w+=":",w+=N,w+=`\r
`}),w}function $o(m,w,N){e:{for(O in N){var O=!1;break e}O=!0}O||(N=Yn(N),typeof m=="string"?N!=null&&Ca(N):mt(m,w,N))}function bt(m){Dt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(bt,Dt);var sa=/^https?$/i,vu=["POST","PUT"];n=bt.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,w,N,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cu.g(),this.g.onreadystatechange=v(p(this.Ca,this));try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(le){qo(this,le);return}if(m=N||"",N=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var se in O)N.set(se,O[se]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const le of O.keys())N.set(le,O.get(le));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(N.keys()).find(le=>le.toLowerCase()=="content-type"),se=d.FormData&&m instanceof d.FormData,!(Array.prototype.indexOf.call(vu,w,void 0)>=0)||O||se||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,we]of N)this.g.setRequestHeader(le,we);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(le){qo(this,le)}};function qo(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.o=5,wu(m),Ia(m)}function wu(m){m.A||(m.A=!0,be(m,"complete"),be(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,be(this,"complete"),be(this,"abort"),Ia(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ia(this,!0)),bt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ho(this):this.Xa())},n.Xa=function(){Ho(this)};function Ho(m){if(m.h&&typeof l<"u"){if(m.v&&Tr(m)==4)setTimeout(m.Ca.bind(m),0);else if(be(m,"readystatechange"),Tr(m)==4){m.h=!1;try{const le=m.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var N;if(!(N=w)){var O;if(O=le===0){let we=String(m.D).match(im)[1]||null;!we&&d.self&&d.self.location&&(we=d.self.location.protocol.slice(0,-1)),O=!sa.test(we?we.toLowerCase():"")}N=O}if(N)be(m,"complete"),be(m,"success");else{m.o=6;try{var se=Tr(m)>2?m.g.statusText:""}catch{se=""}m.l=se+" ["+m.ca()+"]",wu(m)}}finally{Ia(m)}}}}function Ia(m,w){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const N=m.g;m.g=null,w||be(m,"ready");try{N.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Tr(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Tr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),$r(w)}};function Es(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ra(m){const w={};m=(m.g&&Tr(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<m.length;O++){if(V(m[O]))continue;var N=nm(m[O]);const se=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const le=w[se]||[];w[se]=le,le.push(N)}me(w,function(O){return O.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(m,w,N){return N&&N.internalChannelParams&&N.internalChannelParams[m]||w}function _i(m){this.za=0,this.i=[],this.j=new vr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=na("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=na("baseRetryDelayMs",5e3,m),this.Za=na("retryDelaySeedMs",1e4,m),this.Ta=na("forwardChannelMaxRetries",2,m),this.va=na("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new du(m&&m.concurrentRequestLimit),this.Ba=new wi,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=_i.prototype,n.ka=8,n.I=1,n.connect=function(m,w,N,O){as(0),this.W=m,this.H=w||{},N&&O!==void 0&&(this.H.OSID=N,this.H.OAID=O),this.F=this.X,this.J=xm(this,null,this.W),ra(this)};function ju(m){if(hc(m),m.I==3){var w=m.V++,N=ls(m.J);if(mt(N,"SID",m.M),mt(N,"RID",w),mt(N,"TYPE","terminate"),Go(m,N),w=new wr(m,m.j,w),w.M=2,w.A=Uo(ls(N)),N=!1,d.navigator&&d.navigator.sendBeacon)try{N=d.navigator.sendBeacon(w.A.toString(),"")}catch{}!N&&d.Image&&(new Image().src=w.A,N=!0),N||(w.g=ym(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Yr(w)}gm(m)}function Ni(m){m.g&&(Nu(m),m.g.cancel(),m.g=null)}function hc(m){Ni(m),m.v&&(d.clearTimeout(m.v),m.v=null),mc(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&d.clearTimeout(m.m),m.m=null)}function ra(m){if(!uu(m.h)&&!m.m){m.m=!0;var w=m.Ea;F||P(),X||(F(),X=!0),T.add(w,m),m.D=0}}function fc(m,w){return Xr(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=w.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Gr(p(m.Ea,m,w),pm(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const se=new wr(this,this.j,m);let le=this.o;if(this.U&&(le?(le=$(le),pe(le,this.U)):le=this.U),this.u!==null||this.R||(se.J=le,le=null),this.S)e:{for(var w=0,N=0;N<this.i.length;N++){t:{var O=this.i[N];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,w>4096){w=N;break e}if(w===4096||N===this.i.length-1){w=N+1;break e}}w=1e3}else w=1e3;w=um(this,se,w),N=ls(this.J),mt(N,"RID",m),mt(N,"CVER",22),this.G&&mt(N,"X-HTTP-Session-Id",this.G),Go(this,N),le&&(this.R?w="headers="+Ca(Yn(le))+"&"+w:this.u&&$o(N,this.u,le)),hu(this.h,se),this.Ra&&mt(N,"TYPE","init"),this.S?(mt(N,"$req",w),mt(N,"SID","null"),se.U=!0,Wr(se,N,null)):Wr(se,N,w),this.I=2}}else this.I==3&&(m?_u(this,m):this.i.length==0||uu(this.h)||_u(this))};function _u(m,w){var N;w?N=w.l:N=m.V++;const O=ls(m.J);mt(O,"SID",m.M),mt(O,"RID",N),mt(O,"AID",m.K),Go(m,O),m.u&&m.o&&$o(O,m.u,m.o),N=new wr(m,m.j,N,m.D+1),m.u===null&&(N.J=m.o),w&&(m.i=w.G.concat(m.i)),w=um(m,N,1e3),N.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),hu(m.h,N),Wr(N,O,w)}function Go(m,w){m.H&&Ie(m.H,function(N,O){mt(w,O,N)}),m.l&&Ie({},function(N,O){mt(w,O,N)})}function um(m,w,N){N=Math.min(m.i.length,N);const O=m.l?p(m.l.Ka,m.l,m):null;e:{var se=m.i;let We=-1;for(;;){const Zt=["count="+N];We==-1?N>0?(We=se[0].g,Zt.push("ofs="+We)):We=0:Zt.push("ofs="+We);let dt=!0;for(let Ot=0;Ot<N;Ot++){var le=se[Ot].g;const Qn=se[Ot].map;if(le-=We,le<0)We=Math.max(0,se[Ot].g-100),dt=!1;else try{le="req"+le+"_"||"";try{var we=Qn instanceof Map?Qn:Object.entries(Qn);for(const[ia,Sr]of we){let Er=Sr;h(Sr)&&(Er=Ys(Sr)),Zt.push(le+ia+"="+encodeURIComponent(Er))}}catch(ia){throw Zt.push(le+"type="+encodeURIComponent("_badmap")),ia}}catch{O&&O(Qn)}}if(dt){we=Zt.join("&");break e}}we=void 0}return m=m.i.splice(0,N),w.G=m,we}function hm(m){if(!m.g&&!m.v){m.Y=1;var w=m.Da;F||P(),X||(F(),X=!0),T.add(w,m),m.A=0}}function Ko(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Gr(p(m.Da,m),pm(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,fm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Gr(p(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,as(10),Ni(this),fm(this))};function Nu(m){m.B!=null&&(d.clearTimeout(m.B),m.B=null)}function fm(m){m.g=new wr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var w=ls(m.na);mt(w,"RID","rpc"),mt(w,"SID",m.M),mt(w,"AID",m.K),mt(w,"CI",m.F?"0":"1"),!m.F&&m.ia&&mt(w,"TO",m.ia),mt(w,"TYPE","xmlhttp"),Go(m,w),m.u&&m.o&&$o(w,m.u,m.o),m.O&&(m.g.H=m.O);var N=m.g;m=m.ba,N.M=1,N.A=Uo(ls(w)),N.u=null,N.R=!0,ac(N,m)}n.Va=function(){this.C!=null&&(this.C=null,Ni(this),Ko(this),as(19))};function mc(m){m.C!=null&&(d.clearTimeout(m.C),m.C=null)}function mm(m,w){var N=null;if(m.g==w){mc(m),Nu(m),m.g=null;var O=2}else if(Zr(m.h,w))N=w.G,fu(m.h,w),O=1;else return;if(m.I!=0){if(w.o)if(O==1){N=w.u?w.u.length:0,w=Date.now()-w.F;var se=m.D;O=rc(),be(O,new Hr(O,N)),ra(m)}else hm(m);else if(se=w.m,se==3||se==0&&w.X>0||!(O==1&&fc(m,w)||O==2&&Ko(m)))switch(N&&N.length>0&&(w=m.h,w.i=w.i.concat(N)),se){case 1:aa(m,5);break;case 4:aa(m,10);break;case 3:aa(m,6);break;default:aa(m,2)}}}function pm(m,w){let N=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(N*=2),N*w}function aa(m,w){if(m.j.info("Error code "+w),w==2){var N=p(m.bb,m),O=m.Ua;const se=!O;O=new Sn(O||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||vs(O,"https"),Uo(O),se?_r(O.toString(),N):bu(O.toString(),N)}else as(2);m.I=0,m.l&&m.l.pa(w),gm(m),hc(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),as(2)):(this.j.info("Failed to ping google.com"),as(1))};function gm(m){if(m.I=0,m.ja=[],m.l){const w=mu(m.h);(w.length!=0||m.i.length!=0)&&(S(m.ja,w),S(m.ja,m.i),m.h.i.length=0,C(m.i),m.i.length=0),m.l.oa()}}function xm(m,w,N){var O=N instanceof Sn?ls(N):new Sn(N);if(O.g!="")w&&(O.g=w+"."+O.g),xi(O,O.u);else{var se=d.location;O=se.protocol,w=w?w+"."+se.hostname:se.hostname,se=+se.port;const le=new Sn(null);O&&vs(le,O),w&&(le.g=w),se&&xi(le,se),N&&(le.h=N),O=le}return N=m.G,w=m.wa,N&&w&&mt(O,N,w),mt(O,"VER",m.ka),Go(m,O),O}function ym(m,w,N){if(w&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Aa&&!m.ma?new bt(new ta({ab:N})):new bt(m.ma),w.Fa(m.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function bm(){}n=bm.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ti(){}Ti.prototype.g=function(m,w){return new Qs(m,w)};function Qs(m,w){Dt.call(this),this.g=new _i(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(m?m["X-WebChannel-Client-Profile"]=w.sa:m={"X-WebChannel-Client-Profile":w.sa}),this.g.U=m,(m=w&&w.Qb)&&!V(m)&&(this.g.u=m),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.G=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new Pa(this)}b(Qs,Dt),Qs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qs.prototype.close=function(){ju(this.g)},Qs.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var N={};N.__data__=m,m=N}else this.v&&(N={},N.__data__=Ys(m),m=N);w.i.push(new os(w.Ya++,m)),w.I==3&&ra(w)},Qs.prototype.N=function(){this.g.l=null,delete this.j,ju(this.g),delete this.g,Qs.Z.N.call(this)};function vm(m){Ss.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){e:{for(const N in w){m=N;break e}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}b(vm,Ss);function wm(){Gn.call(this),this.status=1}b(wm,Gn);function Pa(m){this.g=m}b(Pa,bm),Pa.prototype.ra=function(){be(this.g,"a")},Pa.prototype.qa=function(m){be(this.g,new vm(m))},Pa.prototype.pa=function(m){be(this.g,new wm)},Pa.prototype.oa=function(){be(this.g,"b")},Ti.prototype.createWebChannel=Ti.prototype.g,Qs.prototype.send=Qs.prototype.o,Qs.prototype.open=Qs.prototype.m,Qs.prototype.close=Qs.prototype.close,R4=function(){return new Ti},I4=function(){return rc()},C4=Xt,Hb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Lo.NO_ERROR=0,Lo.TIMEOUT=8,Lo.HTTP_ERROR=6,Yp=Lo,lu.COMPLETE="complete",A4=lu,nc.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,Ch=nc,bt.prototype.listenOnce=bt.prototype.K,bt.prototype.getLastError=bt.prototype.Ha,bt.prototype.getLastErrorCode=bt.prototype.ya,bt.prototype.getStatus=bt.prototype.ca,bt.prototype.getResponseJson=bt.prototype.La,bt.prototype.getResponseText=bt.prototype.la,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Fa,k4=bt}).apply(typeof Rp<"u"?Rp:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_s.UNAUTHENTICATED=new _s(null),_s.GOOGLE_CREDENTIALS=new _s("google-credentials-uid"),_s.FIRST_PARTY=new _s("first-party-uid"),_s.MOCK_USER=new _s("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu="12.8.0";function CB(n){eu=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new Cf("@firebase/firestore");function td(){return bo.logLevel}function IB(n){bo.setLogLevel(n)}function xe(n,...e){if(bo.logLevel<=et.DEBUG){const t=e.map(bw);bo.debug(`Firestore (${eu}): ${n}`,...t)}}function ss(n,...e){if(bo.logLevel<=et.ERROR){const t=e.map(bw);bo.error(`Firestore (${eu}): ${n}`,...t)}}function Ea(n,...e){if(bo.logLevel<=et.WARN){const t=e.map(bw);bo.warn(`Firestore (${eu}): ${n}`,...t)}}function bw(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,P4(n,r,t)}function P4(n,e,t){let r=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ss(r),new Error(r)}function Ce(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||P4(e,i,r)}function RB(n,e){n||Se(57014,e)}function Ne(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ms{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(_s.UNAUTHENTICATED)))}shutdown(){}}class DB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class OB{constructor(e){this.t=e,this.currentUser=_s.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ce(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let l=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Vs,e.enqueueRetryable((()=>i(this.currentUser)))};const d=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},h=f=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Vs)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string",31837,{l:r}),new D4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new _s(e)}}class MB{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=_s.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class VB{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new MB(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(_s.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ST{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LB{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ut(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ce(this.o===void 0,3512);const r=l=>{l.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.m;return this.m=l.token,xe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const i=l=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>i(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?i(l):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ST(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ce(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ST(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=zB(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%62))}return r}}function qe(n,e){return n<e?-1:n>e?1:0}function Gb(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),l=e.charAt(r);if(i!==l)return ib(i)===ib(l)?qe(i,l):ib(i)?1:-1}return qe(n.length,e.length)}const UB=55296,BB=57343;function ib(n){const e=n.charCodeAt(0);return e>=UB&&e<=BB}function Sd(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}function O4(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="__name__";class ha{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ha.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ha?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=ha.compareSegments(e.get(i),t.get(i));if(l!==0)return l}return qe(e.length,t.length)}static compareSegments(e,t){const r=ha.isNumericId(e),i=ha.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ha.extractNumericId(e).compare(ha.extractNumericId(t)):Gb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return io.fromString(e.substring(4,e.length-2))}}class tt extends ha{construct(e,t,r){return new tt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new tt(t)}static emptyPath(){return new tt([])}}const FB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends ha{construct(e,t,r){return new Bt(e,t,r)}static isValidIdentifier(e){return FB.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ET}static keyField(){return new Bt([ET])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(r.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new ge(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ge(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(d=!d,i++):h!=="."||d?(r+=h,i++):(l(),i++)}if(l(),d)throw new ge(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(t)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(tt.fromString(e))}static fromName(e){return new _e(tt.fromString(e).popFirst(5))}static empty(){return new _e(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n,e,t){if(!t)throw new ge(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function M4(n,e,t,r){if(e===!0&&r===!0)throw new ge(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kT(n){if(!_e.isDocumentKey(n))throw new ge(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AT(n){if(_e.isDocumentKey(n))throw new ge(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function V4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ax(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function ct(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ax(n);throw new ge(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function L4(n,e){if(e<=0)throw new ge(oe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(n,e){const t={typeString:n};return e&&(t.value=e),t}function Lf(n,e){if(!V4(n))throw new ge(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const d=n[r];if(i&&typeof d!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(l!==void 0&&d!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new ge(oe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=-62135596800,IT=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*IT);return new ht(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<CT)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IT}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lf(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:ps("string",ht._jsonSchemaVersion),seconds:ps("number"),nanoseconds:ps("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new ht(0,0))}static max(){return new De(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=-1;class wg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Kb(n){return n.fields.find((e=>e.kind===2))}function hl(n){return n.fields.filter((e=>e.kind!==2))}wg.UNKNOWN_ID=-1;class Qp{constructor(e,t){this.fieldPath=e,this.kind=t}}class cf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new cf(0,Fn.min())}}function z4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new ht(t+1,0):new ht(t,r));return new Fn(i,_e.empty(),e)}function U4(n){return new Fn(n.readTime,n.key,Ed)}class Fn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fn(De.min(),_e.empty(),Ed)}static max(){return new Fn(De.max(),_e.empty(),Ed)}}function jw(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==B4)throw n;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee(((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ee.reject(t)}static resolve(e){return new ee(((t,r)=>{t(e)}))}static reject(e){return new ee(((t,r)=>{r(e)}))}static waitFor(e){return new ee(((t,r)=>{let i=0,l=0,d=!1;e.forEach((h=>{++i,h.next((()=>{++l,d&&l===i&&t()}),(f=>r(f)))})),d=!0,l===i&&t()}))}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next((i=>i?ee.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,l)=>{r.push(t.call(this,i,l))})),this.waitFor(r)}static mapArray(e,t){return new ee(((r,i)=>{const l=e.length,d=new Array(l);let h=0;for(let f=0;f<l;f++){const p=f;t(e[p]).next((y=>{d[p]=y,++h,h===l&&r(d)}),(y=>i(y)))}}))}static doWhile(e,t){return new ee(((r,i)=>{const l=()=>{e()===!0?t().next((()=>{l()}),i):r()};l()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="SimpleDb";class ix{static open(e,t,r,i){try{return new ix(t,e.transaction(i,r))}catch(l){throw new $h(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Vs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new $h(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=_w(r.target.error);this.S.reject(new $h(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(xe(Dn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new qB(t)}}class ja{static delete(e){return xe(Dn,"Removing database:",e),ml($v().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Pl())return!1;if(ja.F())return!0;const e=qt(),t=ja.M(e),r=0<t&&t<10,i=$4(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,ja.M(qt())===12.2&&ss("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(xe(Dn,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=l=>{const d=l.target.result;t(d)},i.onblocked=()=>{r(new $h(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=l=>{const d=l.target.error;d.name==="VersionError"?r(new ge(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):d.name==="InvalidStateError"?r(new ge(oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d)):r(new $h(e,d))},i.onupgradeneeded=l=>{xe(Dn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const d=l.target.result;this.N.k(d,i.transaction,l.oldVersion,this.version).next((()=>{xe(Dn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const l=t==="readonly";let d=0;for(;;){++d;try{this.db=await this.L(e);const h=ix.open(this.db,e,l?"readonly":"readwrite",r),f=i(h).next((p=>(h.C(),p))).catch((p=>(h.abort(p),ee.reject(p)))).toPromise();return f.catch((()=>{})),await h.D,f}catch(h){const f=h,p=f.name!=="FirebaseError"&&d<3;if(xe(Dn,"Transaction failed with error:",f.message,"Retrying:",p),this.close(),!p)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function $4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class $B{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return ml(this.U.delete())}}class $h extends ge{constructor(e,t){super(oe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Io(n){return n.name==="IndexedDbTransactionError"}class qB{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(xe(Dn,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(xe(Dn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ml(r)}add(e){return xe(Dn,"ADD",this.store.name,e,e),ml(this.store.add(e))}get(e){return ml(this.store.get(e)).next((t=>(t===void 0&&(t=null),xe(Dn,"GET",this.store.name,e,t),t)))}delete(e){return xe(Dn,"DELETE",this.store.name,e),ml(this.store.delete(e))}count(){return xe(Dn,"COUNT",this.store.name),ml(this.store.count())}H(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const l=i.getAll(r.range);return new ee(((d,h)=>{l.onerror=f=>{h(f.target.error)},l.onsuccess=f=>{d(f.target.result)}}))}{const l=this.cursor(r),d=[];return this.J(l,((h,f)=>{d.push(f)})).next((()=>d))}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new ee(((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}}))}X(e,t){xe(Dn,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.J(i,((l,d,h)=>h.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.J(i,t)}te(e){const t=this.cursor({});return new ee(((r,i)=>{t.onerror=l=>{const d=_w(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next((h=>{h?d.continue():r()})):r()}}))}J(e,t){const r=[];return new ee(((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const h=d.target.result;if(!h)return void i();const f=new $B(h),p=t(h.primaryKey,h.value,f);if(p instanceof ee){const y=p.catch((b=>(f.done(),ee.reject(b))));r.push(y)}f.isDone?i():f.G===null?h.continue():h.continue(f.G)}})).next((()=>ee.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ml(n){return new ee(((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=_w(r.target.error);t(i)}}))}let RT=!1;function _w(n){const e=ja.M(qt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RT||(RT=!0,setTimeout((()=>{throw r}),0)),r}}return n}const qh="IndexBackfiller";class HB{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){xe(qh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();xe(qh,`Documents written: ${t}`)}catch(t){Io(t)?xe(qh,"Ignoring IndexedDB error during index backfill: ",t):await Co(t)}await this.re(6e4)}))}}class GB{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let i=t,l=!0;return ee.doWhile((()=>l===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((d=>{if(d!==null&&!r.has(d))return xe(qh,`Processing collection: ${d}`),this.oe(e,d,i).next((h=>{i-=h,r.add(d)}));l=!1})))).next((()=>t-i))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next((l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next((()=>this._e(i,l))).next((h=>(xe(qh,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>d.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((i,l)=>{const d=U4(l);jw(d,r)>0&&(r=d)})),new Fn(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=-1;function zf(n){return n==null}function df(n){return n===0&&1/n==-1/0}function q4(n){return typeof n=="number"&&Number.isInteger(n)&&!df(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="";function Hs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=PT(e)),e=KB(n.get(t),e);return PT(e)}function KB(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="";break;case jg:t+="";break;default:t+=l}}return t}function PT(n){return n+jg+""}function ba(n){const e=n.length;if(Ce(e>=2,64408,{path:n}),e===2)return Ce(n.charAt(0)===jg&&n.charAt(1)==="",56145,{path:n}),tt.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf(jg,l);switch((d<0||d>t)&&Se(50515,{path:n}),n.charAt(d+1)){case"":const h=n.substring(l,d);let f;i.length===0?f=h:(i+=h,f=i,i=""),r.push(f);break;case"":i+=n.substring(l,d),i+="\0";break;case"":i+=n.substring(l,d+1);break;default:Se(61167,{path:n})}l=d+2}return new tt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="remoteDocuments",Uf="owner",Yc="owner",uf="mutationQueues",WB="userId",Rr="mutations",DT="batchId",vl="userMutationsIndex",OT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(n,e){return[n,Hs(e)]}function H4(n,e,t){return[n,Hs(e),t]}const YB={},kd="documentMutations",_g="remoteDocumentsV14",QB=["prefixPath","collectionGroup","readTime","documentId"],Xp="documentKeyIndex",JB=["prefixPath","collectionGroup","documentId"],G4="collectionGroupIndex",XB=["collectionGroup","readTime","prefixPath","documentId"],hf="remoteDocumentGlobal",Wb="remoteDocumentGlobalKey",Ad="targets",K4="queryTargetsIndex",ZB=["canonicalId","targetId"],Cd="targetDocuments",eF=["targetId","path"],Nw="documentTargetsIndex",tF=["path","targetId"],Ng="targetGlobalKey",kl="targetGlobal",ff="collectionParents",sF=["collectionId","parent"],Id="clientMetadata",nF="clientId",ox="bundles",rF="bundleId",lx="namedQueries",aF="name",Tw="indexConfiguration",iF="indexId",Yb="collectionGroupIndex",oF="collectionGroup",Hh="indexState",lF=["indexId","uid"],W4="sequenceNumberIndex",cF=["uid","sequenceNumber"],Gh="indexEntries",dF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Y4="documentKeyIndex",uF=["indexId","uid","orderedDocumentKey"],cx="documentOverlays",hF=["userId","collectionPath","documentId"],Qb="collectionPathOverlayIndex",fF=["userId","collectionPath","largestBatchId"],Q4="collectionGroupOverlayIndex",mF=["userId","collectionGroup","largestBatchId"],Sw="globals",pF="name",J4=[uf,Rr,kd,fl,Ad,Uf,kl,Cd,Id,hf,ff,ox,lx],gF=[...J4,cx],X4=[uf,Rr,kd,_g,Ad,Uf,kl,Cd,Id,hf,ff,ox,lx,cx],Z4=X4,Ew=[...Z4,Tw,Hh,Gh],xF=Ew,eA=[...Ew,Sw],yF=eA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb extends F4{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function ys(n,e){const t=Ne(n);return ja.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ro(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t){this.comparator=e,this.root=t||Rs.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rs.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pp(this.root,e,this.comparator,!0)}}class Pp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rs{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??Rs.RED,this.left=i??Rs.EMPTY,this.right=l??Rs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Rs(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):l===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Rs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Rs.EMPTY=null,Rs.RED=!0,Rs.BLACK=!1;Rs.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,r,i,l){return this}insert(e,t,r){return new Rs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new VT(this.data.getIterator())}getIteratorFrom(e){return new VT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new yt(this.comparator);return t.data=e,t}}class VT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qc(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new yn([])}unionWith(e){let t=new yt(Bt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sd(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new sA("Invalid base64 string: "+l):l}})(e);return new Yt(t)}static fromUint8Array(e){const t=(function(i){let l="";for(let d=0;d<i.length;++d)l+=String.fromCharCode(i[d]);return l})(e);return new Yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const vF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function li(n){if(Ce(!!n,39018),typeof n=="string"){let e=0;const t=vF.exec(n);if(Ce(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(n.seconds),nanos:zt(n.nanos)}}function zt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ci(n){return typeof n=="string"?Yt.fromBase64String(n):Yt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="server_timestamp",rA="__type__",aA="__previous_value__",iA="__local_write_time__";function dx(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[rA])==null?void 0:r.stringValue)===nA}function ux(n){const e=n.mapValue.fields[aA];return dx(e)?ux(e):e}function mf(n){const e=li(n.mapValue.fields[iA].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,t,r,i,l,d,h,f,p,y,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=b}}const Xb="(default)";class vo{constructor(e,t){this.projectId=e,this.database=t||Xb}static empty(){return new vo("","")}get isDefaultDatabase(){return this.database===Xb}isEqual(e){return e instanceof vo&&e.projectId===this.projectId&&e.database===this.database}}function jF(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ge(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vo(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="__type__",oA="__max__",so={mapValue:{fields:{__type__:{stringValue:oA}}}},Aw="__vector__",Rd="value",Zp={nullValue:"NULL_VALUE"};function wo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dx(n)?4:lA(n)?9007199254740991:hx(n)?10:11:Se(28295,{value:n})}function ka(n,e){if(n===e)return!0;const t=wo(n);if(t!==wo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mf(n).isEqual(mf(e));case 3:return(function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const d=li(i.timestampValue),h=li(l.timestampValue);return d.seconds===h.seconds&&d.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,l){return ci(i.bytesValue).isEqual(ci(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,l){return zt(i.geoPointValue.latitude)===zt(l.geoPointValue.latitude)&&zt(i.geoPointValue.longitude)===zt(l.geoPointValue.longitude)})(n,e);case 2:return(function(i,l){if("integerValue"in i&&"integerValue"in l)return zt(i.integerValue)===zt(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const d=zt(i.doubleValue),h=zt(l.doubleValue);return d===h?df(d)===df(h):isNaN(d)&&isNaN(h)}return!1})(n,e);case 9:return Sd(n.arrayValue.values||[],e.arrayValue.values||[],ka);case 10:case 11:return(function(i,l){const d=i.mapValue.fields||{},h=l.mapValue.fields||{};if(MT(d)!==MT(h))return!1;for(const f in d)if(d.hasOwnProperty(f)&&(h[f]===void 0||!ka(d[f],h[f])))return!1;return!0})(n,e);default:return Se(52216,{left:n})}}function pf(n,e){return(n.values||[]).find((t=>ka(t,e)))!==void 0}function jo(n,e){if(n===e)return 0;const t=wo(n),r=wo(e);if(t!==r)return qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return(function(l,d){const h=zt(l.integerValue||l.doubleValue),f=zt(d.integerValue||d.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return LT(n.timestampValue,e.timestampValue);case 4:return LT(mf(n),mf(e));case 5:return Gb(n.stringValue,e.stringValue);case 6:return(function(l,d){const h=ci(l),f=ci(d);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(l,d){const h=l.split("/"),f=d.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=qe(h[p],f[p]);if(y!==0)return y}return qe(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,d){const h=qe(zt(l.latitude),zt(d.latitude));return h!==0?h:qe(zt(l.longitude),zt(d.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return zT(n.arrayValue,e.arrayValue);case 10:return(function(l,d){var v,C,S,I;const h=l.fields||{},f=d.fields||{},p=(v=h[Rd])==null?void 0:v.arrayValue,y=(C=f[Rd])==null?void 0:C.arrayValue,b=qe(((S=p==null?void 0:p.values)==null?void 0:S.length)||0,((I=y==null?void 0:y.values)==null?void 0:I.length)||0);return b!==0?b:zT(p,y)})(n.mapValue,e.mapValue);case 11:return(function(l,d){if(l===so.mapValue&&d===so.mapValue)return 0;if(l===so.mapValue)return 1;if(d===so.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),p=d.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let b=0;b<f.length&&b<y.length;++b){const v=Gb(f[b],y[b]);if(v!==0)return v;const C=jo(h[f[b]],p[y[b]]);if(C!==0)return C}return qe(f.length,y.length)})(n.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function LT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=li(n),r=li(e),i=qe(t.seconds,r.seconds);return i!==0?i:qe(t.nanos,r.nanos)}function zT(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const l=jo(t[i],r[i]);if(l)return l}return qe(t.length,r.length)}function Pd(n){return Zb(n)}function Zb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=li(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ci(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return _e.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const l of t.values||[])i?i=!1:r+=",",r+=Zb(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",l=!0;for(const d of r)l?l=!1:i+=",",i+=`${d}:${Zb(t.fields[d])}`;return i+"}"})(n.mapValue):Se(61005,{value:n})}function eg(n){switch(wo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ux(n);return e?16+eg(e):16;case 5:return 2*n.stringValue.length;case 6:return ci(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,l)=>i+eg(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ro(r.fields,((l,d)=>{i+=l.length+eg(d)})),i})(n.mapValue);default:throw Se(13486,{value:n})}}function Vl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ev(n){return!!n&&"integerValue"in n}function gf(n){return!!n&&"arrayValue"in n}function UT(n){return!!n&&"nullValue"in n}function BT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tg(n){return!!n&&"mapValue"in n}function hx(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[kw])==null?void 0:r.stringValue)===Aw}function Kh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ro(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Kh(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kh(n.arrayValue.values[t]);return e}return{...n}}function lA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===oA}const cA={mapValue:{fields:{[kw]:{stringValue:Aw},[Rd]:{arrayValue:{}}}}};function _F(n){return"nullValue"in n?Zp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Vl(vo.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?hx(n)?cA:{mapValue:{}}:Se(35942,{value:n})}function NF(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Vl(vo.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?cA:"mapValue"in n?hx(n)?{mapValue:{}}:so:Se(61959,{value:n})}function FT(n,e){const t=jo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function $T(n,e){const t=jo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.value=e}static empty(){return new Ps({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kh(t)}setAll(e){let t=Bt.emptyPath(),r={},i=[];e.forEach(((d,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=h.popLast()}d?r[h.lastSegment()]=Kh(d):i.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());tg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ka(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];tg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ro(t,((i,l)=>e[i]=l));for(const i of r)delete e[i]}clone(){return new Ps(Kh(this.value))}}function dA(n){const e=[];return Ro(n.fields,((t,r)=>{const i=new Bt([t]);if(tg(r)){const l=dA(r.mapValue).fields;if(l.length===0)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)})),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,t,r,i,l,d,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=l,this.data=d,this.documentState=h}static newInvalidDocument(e){return new Pt(e,0,De.min(),De.min(),De.min(),Ps.empty(),0)}static newFoundDocument(e,t,r,i){return new Pt(e,1,t,De.min(),r,i,0)}static newNoDocument(e,t){return new Pt(e,2,t,De.min(),De.min(),Ps.empty(),0)}static newUnknownDocument(e,t){return new Pt(e,3,t,De.min(),De.min(),Ps.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ps.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,t){this.position=e,this.inclusive=t}}function qT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(l.field.isKeyField()?r=_e.comparator(_e.fromName(d.referenceValue),t.key):r=jo(d,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function HT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ka(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t="asc"){this.field=e,this.dir=t}}function TF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{}class rt extends uA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new SF(e,t,r):t==="array-contains"?new AF(e,r):t==="in"?new xA(e,r):t==="not-in"?new CF(e,r):t==="array-contains-any"?new IF(e,r):new rt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new EF(e,r):new kF(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(jo(t,this.value)):t!==null&&wo(this.value)===wo(t)&&this.matchesComparison(jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xt extends uA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new xt(e,t)}matches(e){return Dd(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Dd(n){return n.op==="and"}function tv(n){return n.op==="or"}function Cw(n){return hA(n)&&Dd(n)}function hA(n){for(const e of n.filters)if(e instanceof xt)return!1;return!0}function sv(n){if(n instanceof rt)return n.field.canonicalString()+n.op.toString()+Pd(n.value);if(Cw(n))return n.filters.map((e=>sv(e))).join(",");{const e=n.filters.map((t=>sv(t))).join(",");return`${n.op}(${e})`}}function fA(n,e){return n instanceof rt?(function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&ka(r.value,i.value)})(n,e):n instanceof xt?(function(r,i){return i instanceof xt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((l,d,h)=>l&&fA(d,i.filters[h])),!0):!1})(n,e):void Se(19439)}function mA(n,e){const t=n.filters.concat(e);return xt.create(t,n.op)}function pA(n){return n instanceof rt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Pd(t.value)}`})(n):n instanceof xt?(function(t){return t.op.toString()+" {"+t.getFilters().map(pA).join(" ,")+"}"})(n):"Filter"}class SF extends rt{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class EF extends rt{constructor(e,t){super(e,"in",t),this.keys=gA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class kF extends rt{constructor(e,t){super(e,"not-in",t),this.keys=gA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function gA(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>_e.fromName(r.referenceValue)))}class AF extends rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gf(t)&&pf(t.arrayValue,this.value)}}class xA extends rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pf(this.value.arrayValue,t)}}class CF extends rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pf(this.value.arrayValue,t)}}class IF extends rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>pf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,t=null,r=[],i=[],l=null,d=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=h,this.Te=null}}function nv(n,e=null,t=[],r=[],i=null,l=null,d=null){return new RF(n,e,t,r,i,l,d)}function Ll(n){const e=Ne(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>sv(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),zf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Pd(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Pd(r))).join(",")),e.Te=t}return e.Te}function Bf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TF(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!fA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!HT(n.startAt,e.startAt)&&HT(n.endAt,e.endAt)}function Tg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Sg(n,e){return n.filters.filter((t=>t instanceof rt&&t.field.isEqual(e)))}function GT(n,e,t){let r=Zp,i=!0;for(const l of Sg(n,e)){let d=Zp,h=!0;switch(l.op){case"<":case"<=":d=_F(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,h=!1;break;case"!=":case"not-in":d=Zp}FT({value:r,inclusive:i},{value:d,inclusive:h})<0&&(r=d,i=h)}if(t!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];FT({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}}return{value:r,inclusive:i}}function KT(n,e,t){let r=so,i=!0;for(const l of Sg(n,e)){let d=so,h=!0;switch(l.op){case">=":case">":d=NF(l.value),h=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,h=!1;break;case"!=":case"not-in":d=so}$T({value:r,inclusive:i},{value:d,inclusive:h})>0&&(r=d,i=h)}if(t!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];$T({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t=null,r=[],i=[],l=null,d="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function yA(n,e,t,r,i,l,d,h){return new fi(n,e,t,r,i,l,d,h)}function tu(n){return new fi(n)}function WT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function PF(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Iw(n){return n.collectionGroup!==null}function md(n){const e=Ne(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let h=new yt(Bt.comparator);return d.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new xf(l,r))})),t.has(Bt.keyField().canonicalString())||e.Ie.push(new xf(Bt.keyField(),r))}return e.Ie}function sn(n){const e=Ne(n);return e.Ee||(e.Ee=DF(e,md(n))),e.Ee}function DF(n,e){if(n.limitType==="F")return nv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const l=i.dir==="desc"?"asc":"desc";return new xf(i.field,l)}));const t=n.endAt?new _o(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new _o(n.startAt.position,n.startAt.inclusive):null;return nv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function rv(n,e){const t=n.filters.concat([e]);return new fi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function OF(n,e){const t=n.explicitOrderBy.concat([e]);return new fi(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Eg(n,e,t){return new fi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function MF(n,e){return new fi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,e,n.endAt)}function VF(n,e){return new fi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,e)}function Ff(n,e){return Bf(sn(n),sn(e))&&n.limitType===e.limitType}function bA(n){return`${Ll(sn(n))}|lt:${n.limitType}`}function sd(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>pA(i))).join(", ")}]`),zf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>Pd(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>Pd(i))).join(",")),`Target(${r})`})(sn(n))}; limitType=${n.limitType})`}function $f(n,e){return e.isFoundDocument()&&(function(r,i){const l=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):_e.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,i){for(const l of md(r))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const l of r.filters)if(!l.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(d,h,f){const p=qT(d,h,f);return d.inclusive?p<=0:p<0})(r.startAt,md(r),i)||r.endAt&&!(function(d,h,f){const p=qT(d,h,f);return d.inclusive?p>=0:p>0})(r.endAt,md(r),i))})(n,e)}function vA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wA(n){return(e,t)=>{let r=!1;for(const i of md(n)){const l=LF(i,e,t);if(l!==0)return l;r=r||i.field.isKeyField()}return 0}}function LF(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):(function(l,d,h){const f=d.data.field(l),p=h.data.field(l);return f!==null&&p!==null?jo(f,p):Se(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,l]of r)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,((t,r)=>{for(const[i,l]of r)e(i,l)}))}isEmpty(){return tA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=new kt(_e.comparator);function bn(){return zF}const jA=new kt(_e.comparator);function Ih(...n){let e=jA;for(const t of n)e=e.insert(t.key,t);return e}function _A(n){let e=jA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function va(){return Wh()}function NA(){return Wh()}function Wh(){return new mi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const UF=new kt(_e.comparator),BF=new yt(_e.comparator);function Qe(...n){let e=BF;for(const t of n)e=e.add(t);return e}const FF=new yt(qe);function Rw(){return FF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:df(e)?"-0":e}}function TA(n){return{integerValue:""+n}}function SA(n,e){return q4(e)?TA(e):Pw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this._=void 0}}function $F(n,e,t){return n instanceof Od?(function(i,l){const d={fields:{[rA]:{stringValue:nA},[iA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&dx(l)&&(l=ux(l)),l&&(d.fields[aA]=l),{mapValue:d}})(t,e):n instanceof zl?kA(n,e):n instanceof Ul?AA(n,e):(function(i,l){const d=EA(i,l),h=YT(d)+YT(i.Ae);return ev(d)&&ev(i.Ae)?TA(h):Pw(i.serializer,h)})(n,e)}function qF(n,e,t){return n instanceof zl?kA(n,e):n instanceof Ul?AA(n,e):t}function EA(n,e){return n instanceof Md?(function(r){return ev(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Od extends fx{}class zl extends fx{constructor(e){super(),this.elements=e}}function kA(n,e){const t=CA(e);for(const r of n.elements)t.some((i=>ka(i,r)))||t.push(r);return{arrayValue:{values:t}}}class Ul extends fx{constructor(e){super(),this.elements=e}}function AA(n,e){let t=CA(e);for(const r of n.elements)t=t.filter((i=>!ka(i,r)));return{arrayValue:{values:t}}}class Md extends fx{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function YT(n){return zt(n.integerValue||n.doubleValue)}function CA(n){return gf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t){this.field=e,this.transform=t}}function HF(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof zl&&i instanceof zl||r instanceof Ul&&i instanceof Ul?Sd(r.elements,i.elements,ka):r instanceof Md&&i instanceof Md?ka(r.Ae,i.Ae):r instanceof Od&&i instanceof Od})(n.transform,e.transform)}class GF{constructor(e,t){this.version=e,this.transformResults=t}}class Ft{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ft}static exists(e){return new Ft(void 0,e)}static updateTime(e){return new Ft(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class mx{}function IA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new nu(n.key,Ft.none()):new su(n.key,n.data,Ft.none());{const t=n.data,r=Ps.empty();let i=new yt(Bt.comparator);for(let l of e.fields)if(!i.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?r.delete(l):r.set(l,d),i=i.add(l)}return new pi(n.key,r,new yn(i.toArray()),Ft.none())}}function KF(n,e,t){n instanceof su?(function(i,l,d){const h=i.value.clone(),f=JT(i.fieldTransforms,l,d.transformResults);h.setAll(f),l.convertToFoundDocument(d.version,h).setHasCommittedMutations()})(n,e,t):n instanceof pi?(function(i,l,d){if(!sg(i.precondition,l))return void l.convertToUnknownDocument(d.version);const h=JT(i.fieldTransforms,l,d.transformResults),f=l.data;f.setAll(RA(i)),f.setAll(h),l.convertToFoundDocument(d.version,f).setHasCommittedMutations()})(n,e,t):(function(i,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function Yh(n,e,t,r){return n instanceof su?(function(l,d,h,f){if(!sg(l.precondition,d))return h;const p=l.value.clone(),y=XT(l.fieldTransforms,f,d);return p.setAll(y),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof pi?(function(l,d,h,f){if(!sg(l.precondition,d))return h;const p=XT(l.fieldTransforms,f,d),y=d.data;return y.setAll(RA(l)),y.setAll(p),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(n,e,t,r):(function(l,d,h){return sg(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):h})(n,e,t)}function WF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=EA(r.transform,i||null);l!=null&&(t===null&&(t=Ps.empty()),t.set(r.field,l))}return t||null}function QT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Sd(r,i,((l,d)=>HF(l,d)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class su extends mx{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pi extends mx{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function RA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function JT(n,e,t){const r=new Map;Ce(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,h=e.data.field(l.field);r.set(l.field,qF(d,h,t[i]))}return r}function XT(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,$F(l,d,e))}return r}class nu extends mx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dw extends mx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&KF(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Yh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Yh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=NA();return this.mutations.forEach((i=>{const l=e.get(i.key),d=l.overlayedDocument;let h=this.applyToLocalView(d,l.mutatedFields);h=t.has(i.key)?null:h;const f=IA(d,h);f!==null&&r.set(i.key,f),d.isValidDocument()||d.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&Sd(this.mutations,e.mutations,((t,r)=>QT(t,r)))&&Sd(this.baseMutations,e.baseMutations,((t,r)=>QT(t,r)))}}class Mw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return UF})();const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new Mw(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fs,it;function PA(n){switch(n){case oe.OK:return Se(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function DA(n){if(n===void 0)return ss("GRPC error has no .code"),oe.UNKNOWN;switch(n){case fs.OK:return oe.OK;case fs.CANCELLED:return oe.CANCELLED;case fs.UNKNOWN:return oe.UNKNOWN;case fs.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case fs.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case fs.INTERNAL:return oe.INTERNAL;case fs.UNAVAILABLE:return oe.UNAVAILABLE;case fs.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case fs.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case fs.NOT_FOUND:return oe.NOT_FOUND;case fs.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case fs.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case fs.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case fs.ABORTED:return oe.ABORTED;case fs.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case fs.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case fs.DATA_LOSS:return oe.DATA_LOSS;default:return Se(39323,{code:n})}}(it=fs||(fs={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=new io([4294967295,4294967295],0);function ZT(n){const e=OA().encode(n),t=new E4;return t.update(e),new Uint8Array(t.digest())}function eS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new io([t,r],0),new io([i,l],0)]}class Lw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Rh(`Invalid padding: ${t}`);if(r<0)throw new Rh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Rh(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=io.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(io.fromNumber(r)));return i.compare(QF)===1&&(i=new io([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ZT(e),[r,i]=eS(t);for(let l=0;l<this.hashCount;l++){const d=this.ye(r,i,l);if(!this.we(d))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new Lw(l,i,t);return r.forEach((h=>d.insert(h))),d}insert(e){if(this.ge===0)return;const t=ZT(e),[r,i]=eS(t);for(let l=0;l<this.hashCount;l++){const d=this.ye(r,i,l);this.be(d)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Gf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Hf(De.min(),i,new kt(qe),bn(),Qe())}}class Gf{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Gf(r,t,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=i}}class MA{constructor(e,t){this.targetId=e,this.Ce=t}}class VA{constructor(e,t,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class tS{constructor(){this.ve=0,this.Fe=sS(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),t=Qe(),r=Qe();return this.Fe.forEach(((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Se(38017,{changeType:l})}})),new Gf(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=sS()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class JF{constructor(e){this.Ge=e,this.ze=new Map,this.je=bn(),this.He=Dp(),this.Je=Dp(),this.Ze=new kt(qe)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const l=i.target;if(Tg(l))if(r===0){const d=new _e(l.path);this.et(t,d,Pt.newNoDocument(d,De.min()))}else Ce(r===1,20013,{expectedCount:r});else{const d=this._t(t);if(d!==r){const h=this.ut(e),f=h?this.ct(h,e,d):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:l=0}=t;let d,h;try{d=ci(r).toUint8Array()}catch(f){if(f instanceof sA)return Ea("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Lw(d,i,l)}catch(f){return Ea(f instanceof Rh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((l=>{const d=this.Ge.ht(),h=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((l,d)=>{const h=this.ot(d);if(h){if(l.current&&Tg(h.target)){const f=new _e(h.target.path);this.It(f).has(d)||this.Et(d,f)||this.et(d,f,Pt.newNoDocument(f,e))}l.Be&&(t.set(d,l.ke()),l.Ke())}}));let r=Qe();this.Je.forEach(((l,d)=>{let h=!0;d.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,d)=>d.setReadTime(e)));const i=new Hf(e,t,this.Ze,this.je,r);return this.je=bn(),this.He=Dp(),this.Je=Dp(),this.Ze=new kt(qe),i}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.qe(t,1):i.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new tS,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new yt(qe),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new yt(qe),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Dp(){return new kt(_e.comparator)}function sS(){return new kt(_e.comparator)}const XF={asc:"ASCENDING",desc:"DESCENDING"},ZF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e7={and:"AND",or:"OR"};class t7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function av(n,e){return n.useProto3Json||zf(e)?e:{value:e}}function Vd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function s7(n,e){return Vd(n,e.toTimestamp())}function ns(n){return Ce(!!n,49232),De.fromTimestamp((function(t){const r=li(t);return new ht(r.seconds,r.nanos)})(n))}function zw(n,e){return iv(n,e).canonicalString()}function iv(n,e){const t=(function(i){return new tt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function zA(n){const e=tt.fromString(n);return Ce(YA(e),10190,{key:e.toString()}),e}function yf(n,e){return zw(n.databaseId,e.path)}function _a(n,e){const t=zA(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(FA(t))}function UA(n,e){return zw(n.databaseId,e)}function BA(n){const e=zA(n);return e.length===4?tt.emptyPath():FA(e)}function ov(n){return new tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function FA(n){return Ce(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function nS(n,e,t){return{name:yf(n,e),fields:t.value.mapValue.fields}}function $A(n,e,t){const r=_a(n,e.name),i=ns(e.updateTime),l=e.createTime?ns(e.createTime):De.min(),d=new Ps({mapValue:{fields:e.fields}}),h=Pt.newFoundDocument(r,i,l,d);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function n7(n,e){return"found"in e?(function(r,i){Ce(!!i.found,43571),i.found.name,i.found.updateTime;const l=_a(r,i.found.name),d=ns(i.found.updateTime),h=i.found.createTime?ns(i.found.createTime):De.min(),f=new Ps({mapValue:{fields:i.found.fields}});return Pt.newFoundDocument(l,d,h,f)})(n,e):"missing"in e?(function(r,i){Ce(!!i.missing,3894),Ce(!!i.readTime,22933);const l=_a(r,i.missing),d=ns(i.readTime);return Pt.newNoDocument(l,d)})(n,e):Se(7234,{result:e})}function r7(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Ce(y===void 0||typeof y=="string",58123),Yt.fromBase64String(y||"")):(Ce(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Yt.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),d=e.targetChange.cause,h=d&&(function(p){const y=p.code===void 0?oe.UNKNOWN:DA(p.code);return new ge(y,p.message||"")})(d);t=new VA(r,i,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_a(n,r.document.name),l=ns(r.document.updateTime),d=r.document.createTime?ns(r.document.createTime):De.min(),h=new Ps({mapValue:{fields:r.document.fields}}),f=Pt.newFoundDocument(i,l,d,h),p=r.targetIds||[],y=r.removedTargetIds||[];t=new ng(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_a(n,r.document),l=r.readTime?ns(r.readTime):De.min(),d=Pt.newNoDocument(i,l),h=r.removedTargetIds||[];t=new ng([],h,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_a(n,r.document),l=r.removedTargetIds||[];t=new ng([],l,i,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:l}=r,d=new YF(i,l),h=r.targetId;t=new MA(h,d)}}return t}function bf(n,e){let t;if(e instanceof su)t={update:nS(n,e.key,e.value)};else if(e instanceof nu)t={delete:yf(n,e.key)};else if(e instanceof pi)t={update:nS(n,e.key,e.data),updateMask:d7(e.fieldMask)};else{if(!(e instanceof Dw))return Se(16599,{dt:e.type});t={verify:yf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,d){const h=d.transform;if(h instanceof Od)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Md)return{fieldPath:d.field.canonicalString(),increment:h.Ae};throw Se(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,l){return l.updateTime!==void 0?{updateTime:s7(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(n,e.precondition)),t}function lv(n,e){const t=e.currentDocument?(function(l){return l.updateTime!==void 0?Ft.updateTime(ns(l.updateTime)):l.exists!==void 0?Ft.exists(l.exists):Ft.none()})(e.currentDocument):Ft.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(d,h){let f=null;if("setToServerValue"in h)Ce(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new Od;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];f=new zl(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];f=new Ul(y)}else"increment"in h?f=new Md(d,h.increment):Se(16584,{proto:h});const p=Bt.fromServerFormat(h.fieldPath);return new qf(p,f)})(n,i))):[];if(e.update){e.update.name;const i=_a(n,e.update.name),l=new Ps({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=(function(f){const p=f.fieldPaths||[];return new yn(p.map((y=>Bt.fromServerFormat(y))))})(e.updateMask);return new pi(i,l,d,t,r)}return new su(i,l,t,r)}if(e.delete){const i=_a(n,e.delete);return new nu(i,t)}if(e.verify){const i=_a(n,e.verify);return new Dw(i,t)}return Se(1463,{proto:e})}function a7(n,e){return n&&n.length>0?(Ce(e!==void 0,14353),n.map((t=>(function(i,l){let d=i.updateTime?ns(i.updateTime):ns(l);return d.isEqual(De.min())&&(d=ns(l)),new GF(d,i.transformResults||[])})(t,e)))):[]}function qA(n,e){return{documents:[UA(n,e.path)]}}function HA(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=UA(n,i);const l=(function(p){if(p.length!==0)return WA(xt.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const d=(function(p){if(p.length!==0)return p.map((y=>(function(v){return{field:nd(v.field),direction:o7(v.dir)}})(y)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const h=av(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:i}}function GA(n){let e=BA(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ce(r===1,65062);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(b){const v=KA(b);return v instanceof xt&&Cw(v)?v.getFilters():[v]})(t.where));let d=[];t.orderBy&&(d=(function(b){return b.map((v=>(function(S){return new xf(rd(S.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(t.orderBy));let h=null;t.limit&&(h=(function(b){let v;return v=typeof b=="object"?b.value:b,zf(v)?null:v})(t.limit));let f=null;t.startAt&&(f=(function(b){const v=!!b.before,C=b.values||[];return new _o(C,v)})(t.startAt));let p=null;return t.endAt&&(p=(function(b){const v=!b.before,C=b.values||[];return new _o(C,v)})(t.endAt)),yA(e,i,d,l,h,"F",f,p)}function i7(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function KA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=rd(t.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rd(t.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=rd(t.unaryFilter.field);return rt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=rd(t.unaryFilter.field);return rt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(n):n.fieldFilter!==void 0?(function(t){return rt.create(rd(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return xt.create(t.compositeFilter.filters.map((r=>KA(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(n):Se(30097,{filter:n})}function o7(n){return XF[n]}function l7(n){return ZF[n]}function c7(n){return e7[n]}function nd(n){return{fieldPath:n.canonicalString()}}function rd(n){return Bt.fromServerFormat(n.fieldPath)}function WA(n){return n instanceof rt?(function(t){if(t.op==="=="){if(BT(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NAN"}};if(UT(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(BT(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NOT_NAN"}};if(UT(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nd(t.field),op:l7(t.op),value:t.value}}})(n):n instanceof xt?(function(t){const r=t.getFilters().map((i=>WA(i)));return r.length===1?r[0]:{compositeFilter:{op:c7(t.op),filters:r}}})(n):Se(54877,{filter:n})}function d7(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function YA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function QA(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t,r,i,l=De.min(),d=De.min(),h=Yt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.yt=e}}function u7(n,e){let t;if(e.document)t=$A(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=Fl(e.noDocument.readTime);t=Pt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Se(56709);{const r=_e.fromSegments(e.unknownDocument.path),i=Fl(e.unknownDocument.version);t=Pt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime((function(i){const l=new ht(i[0],i[1]);return De.fromTimestamp(l)})(e.readTime)),t}function rS(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:kg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(l,d){return{name:yf(l,d.key),fields:d.data.value.mapValue.fields,updateTime:Vd(l,d.version.toTimestamp()),createTime:Vd(l,d.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Bl(e.version)};else{if(!e.isUnknownDocument())return Se(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Bl(e.version)}}return r}function kg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Bl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fl(n){const e=new ht(n.seconds,n.nanoseconds);return De.fromTimestamp(e)}function pl(n,e){const t=(e.baseMutations||[]).map((l=>lv(n.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const h=e.mutations[l+1];d.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const r=e.mutations.map((l=>lv(n.yt,l))),i=ht.fromMillis(e.localWriteTimeMs);return new Ow(e.batchId,i,t,r)}function Ph(n){const e=Fl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Fl(n.lastLimboFreeSnapshotVersion):De.min();let r;return r=(function(l){return l.documents!==void 0})(n.query)?(function(l){const d=l.documents.length;return Ce(d===1,1966,{count:d}),sn(tu(BA(l.documents[0])))})(n.query):(function(l){return sn(GA(l))})(n.query),new Za(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Yt.fromBase64String(n.resumeToken))}function XA(n,e){const t=Bl(e.snapshotVersion),r=Bl(e.lastLimboFreeSnapshotVersion);let i;i=Tg(e.target)?qA(n.yt,e.target):HA(n.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ll(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Uw(n){const e=GA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Eg(e,e.limit,"L"):e}function ob(n,e){return new Vw(e.largestBatchId,lv(n.yt,e.overlayMutation))}function aS(n,e){const t=e.path.lastSegment();return[n,Hs(e.path.popLast()),t]}function iS(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Bl(r.readTime),documentKey:Hs(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{getBundleMetadata(e,t){return oS(e).get(t).next((r=>{if(r)return(function(l){return{id:l.bundleId,createTime:Fl(l.createTime),version:l.version}})(r)}))}saveBundleMetadata(e,t){return oS(e).put((function(i){return{bundleId:i.id,createTime:Bl(ns(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return lS(e).get(t).next((r=>{if(r)return(function(l){return{name:l.name,query:Uw(l.bundledQuery),readTime:Fl(l.readTime)}})(r)}))}saveNamedQuery(e,t){return lS(e).put((function(i){return{name:i.name,readTime:Bl(ns(i.readTime)),bundledQuery:i.bundledQuery}})(t))}}function oS(n){return ys(n,ox)}function lS(n){return ys(n,lx)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new px(e,r)}getOverlay(e,t){return bh(e).get(aS(this.userId,t)).next((r=>r?ob(this.serializer,r):null))}getOverlays(e,t){const r=va();return ee.forEach(t,(i=>this.getOverlay(e,i).next((l=>{l!==null&&r.set(i,l)})))).next((()=>r))}saveOverlays(e,t,r){const i=[];return r.forEach(((l,d)=>{const h=new Vw(t,d);i.push(this.bt(e,h))})),ee.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach((d=>i.add(Hs(d.getCollectionPath()))));const l=[];return i.forEach((d=>{const h=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(bh(e).X(Qb,h))})),ee.waitFor(l)}getOverlaysForCollection(e,t,r){const i=va(),l=Hs(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return bh(e).H(Qb,d).next((h=>{for(const f of h){const p=ob(this.serializer,f);i.set(p.getKey(),p)}return i}))}getOverlaysForCollectionGroup(e,t,r,i){const l=va();let d;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bh(e).ee({index:Q4,range:h},((f,p,y)=>{const b=ob(this.serializer,p);l.size()<i||b.largestBatchId===d?(l.set(b.getKey(),b),d=b.largestBatchId):y.done()})).next((()=>l))}bt(e,t){return bh(e).put((function(i,l,d){const[h,f,p]=aS(l,d.mutation.key);return{userId:l,collectionPath:f,documentId:p,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:bf(i.yt,d.mutation)}})(this.serializer,this.userId,t))}}function bh(n){return ys(n,cx)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{St(e){return ys(e,Sw)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const r=t==null?void 0:t.value;return r?Yt.fromUint8Array(r):Yt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(zt(e.integerValue));else if("doubleValue"in e){const r=zt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),df(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=li(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ci(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?lA(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):hx(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):Se(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const r=e.fields||{};this.Ft(t,55);for(const i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){var d,h;const r=e.fields||{};this.Ft(t,53);const i=Rd,l=((h=(d=r[i].arrayValue)==null?void 0:d.values)==null?void 0:h.length)||0;this.Ft(t,15),t.Mt(zt(l)),this.Ot(i,t),this.Ct(r[i],t)}qt(e,t){const r=e.values||[];this.Ft(t,50);for(const i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),_e.fromName(e).path.forEach((r=>{this.Ft(t,60),this.$t(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}gl.Wt=new gl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=255;function m7(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function cS(n){const e=64-(function(r){let i=0;for(let l=0;l<8;++l){const d=m7(255&r[l]);if(i+=d,d!==8)break}return i})(n);return Math.ceil(e/8)}class p7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=t.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const t=this.en(e),r=cS(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){const t=this.en(e),r=cS(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(Jc),this.sn(255)}_n(){this.an(Jc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(l){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,l,!1),new Uint8Array(d.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Jc?(this.sn(Jc),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Jc?(this.an(Jc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class g7{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class x7{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class vh{constructor(){this.cn=new p7,this.ascending=new g7(this.cn),this.descending=new x7(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t,r,i){this.hn=e,this.Pn=t,this.Tn=r,this.In=i}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new xl(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:rg(this.Tn),directionalValue:rg(this.In),orderedDocumentKey:rg(t),documentKey:r.path.toArray()}}An(e,t,r){const i=this.Rn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Qi(n,e){let t=n.hn-e.hn;return t!==0?t:(t=dS(n.Tn,e.Tn),t!==0?t:(t=dS(n.In,e.In),t!==0?t:_e.comparator(n.Pn,e.Pn)))}function dS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function rg(n){return fk()?(function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r})(n):n}function uS(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(n)}class hS{constructor(e){this.Vn=new yt(((t,r)=>Bt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(Ce(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=Kb(e);if(t!==void 0&&!this.pn(t))return!1;const r=hl(e);let i=new Set,l=0,d=0;for(;l<r.length&&this.pn(r[l]);++l)i=i.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!i.has(h.field.canonicalString())){const f=r[l];if(!this.yn(h,f)||!this.wn(this.dn[d++],f))return!1}++l}for(;l<r.length;++l){const h=r[l];if(d>=this.dn.length||!this.wn(this.dn[d++],h))return!1}return!0}bn(){if(this.fn)return null;let e=new yt(Bt.comparator);const t=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Qp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Qp(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Qp(r.field,r.dir==="asc"?0:1)));return new wg(wg.UNKNOWN_ID,this.collectionId,t,cf.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(n){var t,r;if(Ce(n instanceof rt||n instanceof xt,20012),n instanceof rt){if(n instanceof xA){const i=((r=(t=n.value.arrayValue)==null?void 0:t.values)==null?void 0:r.map((l=>rt.create(n.field,"==",l))))||[];return xt.create(i,"or")}return n}const e=n.filters.map((i=>ZA(i)));return xt.create(e,n.op)}function y7(n){if(n.getFilters().length===0)return[];const e=uv(ZA(n));return Ce(eC(e),7391),cv(e)||dv(e)?[e]:e.getFilters()}function cv(n){return n instanceof rt}function dv(n){return n instanceof xt&&Cw(n)}function eC(n){return cv(n)||dv(n)||(function(t){if(t instanceof xt&&tv(t)){for(const r of t.getFilters())if(!cv(r)&&!dv(r))return!1;return!0}return!1})(n)}function uv(n){if(Ce(n instanceof rt||n instanceof xt,34018),n instanceof rt)return n;if(n.filters.length===1)return uv(n.filters[0]);const e=n.filters.map((r=>uv(r)));let t=xt.create(e,n.op);return t=Ag(t),eC(t)?t:(Ce(t instanceof xt,64498),Ce(Dd(t),40251),Ce(t.filters.length>1,57927),t.filters.reduce(((r,i)=>Bw(r,i))))}function Bw(n,e){let t;return Ce(n instanceof rt||n instanceof xt,38388),Ce(e instanceof rt||e instanceof xt,25473),t=n instanceof rt?e instanceof rt?(function(i,l){return xt.create([i,l],"and")})(n,e):fS(n,e):e instanceof rt?fS(e,n):(function(i,l){if(Ce(i.filters.length>0&&l.filters.length>0,48005),Dd(i)&&Dd(l))return mA(i,l.getFilters());const d=tv(i)?i:l,h=tv(i)?l:i,f=d.filters.map((p=>Bw(p,h)));return xt.create(f,"or")})(n,e),Ag(t)}function fS(n,e){if(Dd(e))return mA(e,n.getFilters());{const t=e.filters.map((r=>Bw(n,r)));return xt.create(t,"or")}}function Ag(n){if(Ce(n instanceof rt||n instanceof xt,11850),n instanceof rt)return n;const e=n.getFilters();if(e.length===1)return Ag(e[0]);if(hA(n))return n;const t=e.map((i=>Ag(i))),r=[];return t.forEach((i=>{i instanceof rt?r.push(i):i instanceof xt&&(i.op===n.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:xt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(){this.Sn=new Fw}addToCollectionParentIndex(e,t){return this.Sn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Fn.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Fn.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class Fw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new yt(tt.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="IndexedDbIndexManager",Op=new Uint8Array(0);class v7{constructor(e,t){this.databaseId=t,this.Dn=new Fw,this.Cn=new mi((r=>Ll(r)),((r,i)=>Bf(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const l={collectionId:r,parent:Hs(i)};return pS(e).put(l)}return ee.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[O4(t),""],!1,!0);return pS(e).H(i).next((l=>{for(const d of l){if(d.collectionId!==t)break;r.push(ba(d.parent))}return r}))}addFieldIndex(e,t){const r=wh(e),i=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(t);delete i.indexId;const l=r.add(i);if(t.indexState){const d=Zc(e);return l.next((h=>{d.put(iS(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return l.next()}deleteFieldIndex(e,t){const r=wh(e),i=Zc(e),l=Xc(e);return r.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=wh(e),r=Xc(e),i=Zc(e);return t.X().next((()=>r.X())).next((()=>i.X()))}createTargetIndexes(e,t){return ee.forEach(this.vn(t),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const l=new hS(r).bn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,t){const r=Xc(e);let i=!0;const l=new Map;return ee.forEach(this.vn(t),(d=>this.Fn(e,d).next((h=>{i&&(i=!!h),l.set(d,h)})))).next((()=>{if(i){let d=Qe();const h=[];return ee.forEach(l,((f,p)=>{xe(mS,`Using index ${(function(L){return`id=${L.indexId}|cg=${L.collectionGroup}|f=${L.fields.map((Y=>`${Y.fieldPath}:${Y.kind}`)).join(",")}`})(f)} to execute ${Ll(t)}`);const y=(function(L,Y){const F=Kb(Y);if(F===void 0)return null;for(const X of Sg(L,F.fieldPath))switch(X.op){case"array-contains-any":return X.value.arrayValue.values||[];case"array-contains":return[X.value]}return null})(p,f),b=(function(L,Y){const F=new Map;for(const X of hl(Y))for(const T of Sg(L,X.fieldPath))switch(T.op){case"==":case"in":F.set(X.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return F.set(X.fieldPath.canonicalString(),T.value),Array.from(F.values())}return null})(p,f),v=(function(L,Y){const F=[];let X=!0;for(const T of hl(Y)){const P=T.kind===0?GT(L,T.fieldPath,L.startAt):KT(L,T.fieldPath,L.startAt);F.push(P.value),X&&(X=P.inclusive)}return new _o(F,X)})(p,f),C=(function(L,Y){const F=[];let X=!0;for(const T of hl(Y)){const P=T.kind===0?KT(L,T.fieldPath,L.endAt):GT(L,T.fieldPath,L.endAt);F.push(P.value),X&&(X=P.inclusive)}return new _o(F,X)})(p,f),S=this.Mn(f,p,v),I=this.Mn(f,p,C),E=this.xn(f,p,b),D=this.On(f.indexId,y,S,v.inclusive,I,C.inclusive,E);return ee.forEach(D,(M=>r.Z(M,t.limit).next((L=>{L.forEach((Y=>{const F=_e.fromSegments(Y.documentKey);d.has(F)||(d=d.add(F),h.push(F))}))}))))})).next((()=>h))}return ee.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=y7(xt.create(e.filters,"and")).map((r=>nv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,r,i,l,d,h){const f=(t!=null?t.length:1)*Math.max(r.length,l.length),p=f/(t!=null?t.length:1),y=[];for(let b=0;b<f;++b){const v=t?this.Nn(t[b/p]):Op,C=this.Bn(e,v,r[b%p],i),S=this.Ln(e,v,l[b%p],d),I=h.map((E=>this.Bn(e,v,E,!0)));y.push(...this.createRange(C,S,I))}return y}Bn(e,t,r,i){const l=new xl(e,_e.empty(),t,r);return i?l:l.En()}Ln(e,t,r,i){const l=new xl(e,_e.empty(),t,r);return i?l.En():l}Fn(e,t){const r=new hS(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((l=>{let d=null;for(const h of l)r.gn(h)&&(!d||h.fields.length>d.fields.length)&&(d=h);return d}))}getIndexType(e,t){let r=2;const i=this.vn(t);return ee.forEach(i,(l=>this.Fn(e,l).next((d=>{d?r!==0&&d.fields.length<(function(f){let p=new yt(Bt.comparator),y=!1;for(const b of f.filters)for(const v of b.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?y=!0:p=p.add(v.field));for(const b of f.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(y?1:0)})(l)&&(r=1):r=0})))).next((()=>(function(d){return d.limit!==null})(t)&&i.length>1&&r===2?1:r))}kn(e,t){const r=new vh;for(const i of hl(e)){const l=t.data.field(i.fieldPath);if(l==null)return null;const d=r.ln(i.kind);gl.Wt.Dt(l,d)}return r.un()}Nn(e){const t=new vh;return gl.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const r=new vh;return gl.Wt.Dt(Vl(this.databaseId,t),r.ln((function(l){const d=hl(l);return d.length===0?0:d[d.length-1].kind})(e))),r.un()}xn(e,t,r){if(r===null)return[];let i=[];i.push(new vh);let l=0;for(const d of hl(e)){const h=r[l++];for(const f of i)if(this.qn(t,d.fieldPath)&&gf(h))i=this.Un(i,d,h);else{const p=f.ln(d.kind);gl.Wt.Dt(h,p)}}return this.$n(i)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const h of i){const f=new vh;f.seed(h.un()),gl.Wt.Dt(d,f.ln(t.kind)),l.push(f)}return l}qn(e,t){return!!e.filters.find((r=>r instanceof rt&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=wh(e),i=Zc(e);return(t?r.H(Yb,IDBKeyRange.bound(t,t)):r.H()).next((l=>{const d=[];return ee.forEach(l,(h=>i.get([h.indexId,this.uid]).next((f=>{d.push((function(y,b){const v=b?new cf(b.sequenceNumber,new Fn(Fl(b.readTime),new _e(ba(b.documentKey)),b.largestBatchId)):cf.empty(),C=y.fields.map((([S,I])=>new Qp(Bt.fromServerFormat(S),I)));return new wg(y.indexId,y.collectionGroup,C,v)})(h,f))})))).next((()=>d))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return l!==0?l:qe(r.collectionGroup,i.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const i=wh(e),l=Zc(e);return this.Wn(e).next((d=>i.H(Yb,IDBKeyRange.bound(t,t)).next((h=>ee.forEach(h,(f=>l.put(iS(f.indexId,this.uid,d,r))))))))}updateIndexEntries(e,t){const r=new Map;return ee.forEach(t,((i,l)=>{const d=r.get(i.collectionGroup);return(d?ee.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next((h=>(r.set(i.collectionGroup,h),ee.forEach(h,(f=>this.Qn(e,i,f).next((p=>{const y=this.Gn(l,f);return p.isEqual(y)?ee.resolve():this.zn(e,l,f,p,y)})))))))}))}jn(e,t,r,i){return Xc(e).put(i.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,i){return Xc(e).delete(i.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){const i=Xc(e);let l=new yt(Qi);return i.ee({index:Y4,range:IDBKeyRange.only([r.indexId,this.uid,rg(this.Kn(r,t))])},((d,h)=>{l=l.add(new xl(r.indexId,t,uS(h.arrayValue),uS(h.directionalValue)))})).next((()=>l))}Gn(e,t){let r=new yt(Qi);const i=this.kn(t,e);if(i==null)return r;const l=Kb(t);if(l!=null){const d=e.data.field(l.fieldPath);if(gf(d))for(const h of d.arrayValue.values||[])r=r.add(new xl(t.indexId,e.key,this.Nn(h),i))}else r=r.add(new xl(t.indexId,e.key,Op,i));return r}zn(e,t,r,i,l){xe(mS,"Updating index entries for document '%s'",t.key);const d=[];return(function(f,p,y,b,v){const C=f.getIterator(),S=p.getIterator();let I=Qc(C),E=Qc(S);for(;I||E;){let D=!1,M=!1;if(I&&E){const L=y(I,E);L<0?M=!0:L>0&&(D=!0)}else I!=null?M=!0:D=!0;D?(b(E),E=Qc(S)):M?(v(I),I=Qc(C)):(I=Qc(C),E=Qc(S))}})(i,l,Qi,(h=>{d.push(this.jn(e,t,r,h))}),(h=>{d.push(this.Hn(e,t,r,h))})),ee.waitFor(d)}Wn(e){let t=1;return Zc(e).ee({index:W4,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,l)=>{l.done(),t=i.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((d,h)=>Qi(d,h))).filter(((d,h,f)=>!h||Qi(d,f[h-1])!==0));const i=[];i.push(e);for(const d of r){const h=Qi(d,e),f=Qi(d,t);if(h===0)i[0]=e.En();else if(h>0&&f<0)i.push(d),i.push(d.En());else if(f>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2){if(this.Jn(i[d],i[d+1]))return[];const h=i[d].An(this.uid,Op,_e.empty()),f=i[d+1].An(this.uid,Op,_e.empty());l.push(IDBKeyRange.bound(h,f))}return l}Jn(e,t){return Qi(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(gS)}getMinOffset(e,t){return ee.mapArray(this.vn(t),(r=>this.Fn(e,r).next((i=>i||Se(44426))))).next(gS)}}function pS(n){return ys(n,ff)}function Xc(n){return ys(n,Gh)}function wh(n){return ys(n,Tw)}function Zc(n){return ys(n,Hh)}function gS(n){Ce(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;jw(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Fn(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tC=41943040;class $s{static withCacheSize(e){return new $s(e,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(n,e,t){const r=n.store(Rr),i=n.store(kd),l=[],d=IDBKeyRange.only(t.batchId);let h=0;const f=r.ee({range:d},((y,b,v)=>(h++,v.delete())));l.push(f.next((()=>{Ce(h===1,47070,{batchId:t.batchId})})));const p=[];for(const y of t.mutations){const b=H4(e,y.key.path,t.batchId);l.push(i.delete(b)),p.push(y.key)}return ee.waitFor(l).next((()=>p))}function Cg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Se(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s.DEFAULT_COLLECTION_PERCENTILE=10,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$s.DEFAULT=new $s(tC,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$s.DISABLED=new $s(-1,0,0);class gx{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,t,r,i){Ce(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new gx(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ji(e).ee({index:vl,range:r},((i,l,d)=>{t=!1,d.done()})).next((()=>t))}addMutationBatch(e,t,r,i){const l=ad(e),d=Ji(e);return d.add({}).next((h=>{Ce(typeof h=="number",49019);const f=new Ow(h,t,r,i),p=(function(C,S,I){const E=I.baseMutations.map((M=>bf(C.yt,M))),D=I.mutations.map((M=>bf(C.yt,M)));return{userId:S,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:E,mutations:D}})(this.serializer,this.userId,f),y=[];let b=new yt(((v,C)=>qe(v.canonicalString(),C.canonicalString())));for(const v of i){const C=H4(this.userId,v.key.path,h);b=b.add(v.key.path.popLast()),y.push(d.put(p)),y.push(l.put(C,YB))}return b.forEach((v=>{y.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Zn[h]=f.keys()})),ee.waitFor(y).next((()=>f))}))}lookupMutationBatch(e,t){return Ji(e).get(t).next((r=>r?(Ce(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),pl(this.serializer,r)):null))}Xn(e,t){return this.Zn[t]?ee.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const i=r.keys();return this.Zn[t]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ji(e).ee({index:vl,range:i},((d,h,f)=>{h.userId===this.userId&&(Ce(h.batchId>=r,47524,{Yn:r}),l=pl(this.serializer,h)),f.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=oo;return Ji(e).ee({index:vl,range:t,reverse:!0},((i,l,d)=>{r=l.batchId,d.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,oo],[this.userId,Number.POSITIVE_INFINITY]);return Ji(e).H(vl,t).next((r=>r.map((i=>pl(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Jp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return ad(e).ee({range:i},((d,h,f)=>{const[p,y,b]=d,v=ba(y);if(p===this.userId&&t.path.isEqual(v))return Ji(e).get(b).next((C=>{if(!C)throw Se(61480,{er:d,batchId:b});Ce(C.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:C.userId,batchId:b}),l.push(pl(this.serializer,C))}));f.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yt(qe);const i=[];return t.forEach((l=>{const d=Jp(this.userId,l.path),h=IDBKeyRange.lowerBound(d),f=ad(e).ee({range:h},((p,y,b)=>{const[v,C,S]=p,I=ba(C);v===this.userId&&l.path.isEqual(I)?r=r.add(S):b.done()}));i.push(f)})),ee.waitFor(i).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=Jp(this.userId,r),d=IDBKeyRange.lowerBound(l);let h=new yt(qe);return ad(e).ee({range:d},((f,p,y)=>{const[b,v,C]=f,S=ba(v);b===this.userId&&r.isPrefixOf(S)?S.length===i&&(h=h.add(C)):y.done()})).next((()=>this.tr(e,h)))}tr(e,t){const r=[],i=[];return t.forEach((l=>{i.push(Ji(e).get(l).next((d=>{if(d===null)throw Se(35274,{batchId:l});Ce(d.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:d.userId,batchId:l}),r.push(pl(this.serializer,d))})))})),ee.waitFor(i).next((()=>r))}removeMutationBatch(e,t){return sC(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),ee.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return ee.resolve();const r=IDBKeyRange.lowerBound((function(d){return[d]})(this.userId)),i=[];return ad(e).ee({range:r},((l,d,h)=>{if(l[0]===this.userId){const f=ba(l[1]);i.push(f)}else h.done()})).next((()=>{Ce(i.length===0,56720,{rr:i.map((l=>l.canonicalString()))})}))}))}containsKey(e,t){return nC(e,this.userId,t)}ir(e){return rC(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:oo,lastStreamToken:""}))}}function nC(n,e,t){const r=Jp(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return ad(n).ee({range:l,Y:!0},((h,f,p)=>{const[y,b,v]=h;y===e&&b===i&&(d=!0),p.done()})).next((()=>d))}function Ji(n){return ys(n,Rr)}function ad(n){return ys(n,kd)}function rC(n){return ys(n,uf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new $l(0)}static ar(){return new $l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const r=new $l(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>De.fromTimestamp(new ht(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.ur(e).next((i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.cr(e,i))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>ed(e).delete(t.targetId))).next((()=>this.ur(e))).next((r=>(Ce(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,t,r){let i=0;const l=[];return ed(e).ee(((d,h)=>{const f=Ph(h);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(i++,l.push(this.removeTargetData(e,f)))})).next((()=>ee.waitFor(l))).next((()=>i))}forEachTarget(e,t){return ed(e).ee(((r,i)=>{const l=Ph(i);t(l)}))}ur(e){return yS(e).get(Ng).next((t=>(Ce(t!==null,2888),t)))}cr(e,t){return yS(e).put(Ng,t)}lr(e,t){return ed(e).put(XA(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Ll(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return ed(e).ee({range:i,index:K4},((d,h,f)=>{const p=Ph(h);Bf(t,p.target)&&(l=p,f.done())})).next((()=>l))}addMatchingKeys(e,t,r){const i=[],l=eo(e);return t.forEach((d=>{const h=Hs(d.path);i.push(l.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,d))})),ee.waitFor(i)}removeMatchingKeys(e,t,r){const i=eo(e);return ee.forEach(t,(l=>{const d=Hs(l.path);return ee.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])}))}removeMatchingKeysForTargetId(e,t){const r=eo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=eo(e);let l=Qe();return i.ee({range:r,Y:!0},((d,h,f)=>{const p=ba(d[1]),y=new _e(p);l=l.add(y)})).next((()=>l))}containsKey(e,t){const r=Hs(t.path),i=IDBKeyRange.bound([r],[O4(r)],!1,!0);let l=0;return eo(e).ee({index:Nw,Y:!0,range:i},(([d,h],f,p)=>{d!==0&&(l++,p.done())})).next((()=>l>0))}At(e,t){return ed(e).get(t).next((r=>r?Ph(r):null))}}function ed(n){return ys(n,Ad)}function yS(n){return ys(n,kl)}function eo(n){return ys(n,Cd)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="LruGarbageCollector",j7=1048576;function vS([n,e],[t,r]){const i=qe(n,t);return i===0?qe(e,r):i}class _7{constructor(e){this.Pr=e,this.buffer=new yt(vS),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();vS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){xe(bS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Io(t)?xe(bS,"Ignoring IndexedDB error during garbage collection: ",t):await Co(t)}await this.Ar(3e5)}))}}class N7{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(xn.ce);const r=new _7(t);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(xS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xS):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,i,l,d,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,d=Date.now(),this.nthSequenceNumber(e,i)))).next((b=>(r=b,h=Date.now(),this.removeTargets(e,r,t)))).next((b=>(l=b,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(p=Date.now(),td()<=et.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-y}ms
	Determined least recently used ${i} in `+(h-d)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:b}))))}}function iC(n,e){return new N7(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,t){this.db=e,this.garbageCollector=iC(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((r,i)=>t(i)))}addReference(e,t,r){return Mp(e,r)}removeReference(e,t,r){return Mp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Mp(e,t)}wr(e,t){return(function(i,l){let d=!1;return rC(i).te((h=>nC(i,h,l).next((f=>(f&&(d=!0),ee.resolve(!f)))))).next((()=>d))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.yr(e,((d,h)=>{if(h<=t){const f=this.wr(e,d).next((p=>{if(!p)return l++,r.getEntry(e,d).next((()=>(r.removeEntry(d,De.min()),eo(e).delete((function(b){return[0,Hs(b.path)]})(d)))))}));i.push(f)}})).next((()=>ee.waitFor(i))).next((()=>r.apply(e))).next((()=>l))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Mp(e,t)}yr(e,t){const r=eo(e);let i,l=xn.ce;return r.ee({index:Nw},(([d,h],{path:f,sequenceNumber:p})=>{d===0?(l!==xn.ce&&t(new _e(ba(i)),l),l=p,i=f):l=xn.ce})).next((()=>{l!==xn.ce&&t(new _e(ba(i)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mp(n,e){return eo(n).put((function(r,i){return{targetId:0,path:Hs(r.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.changes=new mi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return dl(e).put(r)}removeEntry(e,t,r){return dl(e).delete((function(l,d){const h=l.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],kg(d),h[h.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.br(e,r))))}getEntry(e,t){let r=Pt.newInvalidDocument(t);return dl(e).ee({index:Xp,range:IDBKeyRange.only(jh(t))},((i,l)=>{r=this.Sr(t,l)})).next((()=>r))}Dr(e,t){let r={size:0,document:Pt.newInvalidDocument(t)};return dl(e).ee({index:Xp,range:IDBKeyRange.only(jh(t))},((i,l)=>{r={document:this.Sr(t,l),size:Cg(l)}})).next((()=>r))}getEntries(e,t){let r=bn();return this.Cr(e,t,((i,l)=>{const d=this.Sr(i,l);r=r.insert(i,d)})).next((()=>r))}vr(e,t){let r=bn(),i=new kt(_e.comparator);return this.Cr(e,t,((l,d)=>{const h=this.Sr(l,d);r=r.insert(l,h),i=i.insert(l,Cg(d))})).next((()=>({documents:r,Fr:i})))}Cr(e,t,r){if(t.isEmpty())return ee.resolve();let i=new yt(_S);t.forEach((f=>i=i.add(f)));const l=IDBKeyRange.bound(jh(i.first()),jh(i.last())),d=i.getIterator();let h=d.getNext();return dl(e).ee({index:Xp,range:l},((f,p,y)=>{const b=_e.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&_S(h,b)<0;)r(h,null),h=d.getNext();h&&h.isEqual(b)&&(r(h,p),h=d.hasNext()?d.getNext():null),h?y.j(jh(h)):y.done()})).next((()=>{for(;h;)r(h,null),h=d.hasNext()?d.getNext():null}))}getDocumentsMatchingQuery(e,t,r,i,l){const d=t.path,h=[d.popLast().toArray(),d.lastSegment(),kg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[d.popLast().toArray(),d.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dl(e).H(IDBKeyRange.bound(h,f,!0)).next((p=>{l==null||l.incrementDocumentReadCount(p.length);let y=bn();for(const b of p){const v=this.Sr(_e.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);v.isFoundDocument()&&($f(t,v)||i.has(v.key))&&(y=y.insert(v.key,v))}return y}))}getAllFromCollectionGroup(e,t,r,i){let l=bn();const d=jS(t,r),h=jS(t,Fn.max());return dl(e).ee({index:G4,range:IDBKeyRange.bound(d,h,!0)},((f,p,y)=>{const b=this.Sr(_e.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(b.key,b),l.size===i&&y.done()})).next((()=>l))}newChangeBuffer(e){return new E7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return wS(e).get(Wb).next((t=>(Ce(!!t,20021),t)))}br(e,t){return wS(e).put(Wb,t)}Sr(e,t){if(t){const r=u7(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(De.min())))return r}return Pt.newInvalidDocument(e)}}function lC(n){return new S7(n)}class E7 extends oC{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new mi((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const t=[];let r=0,i=new yt(((l,d)=>qe(l.canonicalString(),d.canonicalString())));return this.changes.forEach(((l,d)=>{const h=this.Or.get(l);if(t.push(this.Mr.removeEntry(e,l,h.readTime)),d.isValidDocument()){const f=rS(this.Mr.serializer,d);i=i.add(l.path.popLast());const p=Cg(f);r+=p-h.size,t.push(this.Mr.addEntry(e,l,f))}else if(r-=h.size,this.trackRemovals){const f=rS(this.Mr.serializer,d.convertToNoDocument(De.min()));t.push(this.Mr.addEntry(e,l,f))}})),i.forEach((l=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,l))})),t.push(this.Mr.updateMetadata(e,r)),ee.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((r=>(this.Or.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:r,Fr:i})=>(i.forEach(((l,d)=>{this.Or.set(l,{size:d,readTime:r.get(l).readTime})})),r)))}}function wS(n){return ys(n,hf)}function dl(n){return ys(n,_g)}function jh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jS(n,e){const t=e.documentKey.path.toArray();return[n,kg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function _S(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=qe(t[l],r[l]),i)return i;return i=qe(t.length,r.length),i||(i=qe(t[t.length-2],r[r.length-2]),i||qe(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Yh(r.mutation,i,yn.empty(),ht.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Qe()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Qe()){const i=va();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((l=>{let d=Ih();return l.forEach(((h,f)=>{d=d.insert(h,f.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const r=va();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Qe())))}populateOverlays(e,t,r){const i=[];return r.forEach((l=>{t.has(l)||i.push(l)})),this.documentOverlayCache.getOverlays(e,i).next((l=>{l.forEach(((d,h)=>{t.set(d,h)}))}))}computeViews(e,t,r,i){let l=bn();const d=Wh(),h=(function(){return Wh()})();return t.forEach(((f,p)=>{const y=r.get(p.key);i.has(p.key)&&(y===void 0||y.mutation instanceof pi)?l=l.insert(p.key,p):y!==void 0?(d.set(p.key,y.mutation.getFieldMask()),Yh(y.mutation,p,y.mutation.getFieldMask(),ht.now())):d.set(p.key,yn.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,y)=>d.set(p,y))),t.forEach(((p,y)=>h.set(p,new k7(y,d.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Wh();let i=new kt(((d,h)=>d-h)),l=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const h of d)h.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let y=r.get(f)||yn.empty();y=h.applyToLocalView(p,y),r.set(f,y);const b=(i.get(h.batchId)||Qe()).add(f);i=i.insert(h.batchId,b)}))})).next((()=>{const d=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,b=NA();y.forEach((v=>{if(!l.has(v)){const C=IA(t.get(v),r.get(v));C!==null&&b.set(v,C),l=l.add(v)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ee.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return PF(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Iw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((l=>{const d=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):ee.resolve(va());let h=Ed,f=l;return d.next((p=>ee.forEach(p,((y,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(y)?ee.resolve():this.remoteDocumentCache.getEntry(e,y).next((v=>{f=f.insert(y,v)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,Qe()))).next((y=>({batchId:h,changes:_A(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((r=>{let i=Ih();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const l=t.collectionGroup;let d=Ih();return this.indexManager.getCollectionParents(e,l).next((h=>ee.forEach(h,(f=>{const p=(function(b,v){return new fi(v,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((y=>{y.forEach(((b,v)=>{d=d.insert(b,v)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,i)))).next((d=>{l.forEach(((f,p)=>{const y=p.getKey();d.get(y)===null&&(d=d.insert(y,Pt.newInvalidDocument(y)))}));let h=Ih();return d.forEach(((f,p)=>{const y=l.get(f);y!==void 0&&Yh(y.mutation,p,yn.empty(),ht.now()),$f(t,p)&&(h=h.insert(f,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ee.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:ns(i.createTime)}})(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(i){return{name:i.name,query:Uw(i.bundledQuery),readTime:ns(i.readTime)}})(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(){this.overlays=new kt(_e.comparator),this.Lr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=va();return ee.forEach(t,(i=>this.getOverlay(e,i).next((l=>{l!==null&&r.set(i,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,l)=>{this.bt(e,t,l)})),ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const i=va(),l=t.length+1,d=new _e(t.child("")),h=this.overlays.getIteratorFrom(d);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new kt(((p,y)=>p-y));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=va(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=va(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=i)););return ee.resolve(h)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const d=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Vw(t,r));let l=this.Lr.get(t);l===void 0&&(l=Qe(),this.Lr.set(t,l)),this.Lr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.kr=new yt(js.Kr),this.qr=new yt(js.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new js(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new js(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new _e(new tt([])),r=new js(t,e),i=new js(t,e+1),l=[];return this.qr.forEachInRange([r,i],(d=>{this.Wr(d),l.push(d.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new _e(new tt([])),r=new js(t,e),i=new js(t,e+1);let l=Qe();return this.qr.forEachInRange([r,i],(d=>{l=l.add(d.key)})),l}containsKey(e){const t=new js(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class js{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return _e.comparator(e.key,t.key)||qe(e.Hr,t.Hr)}static Ur(e,t){return qe(e.Hr,t.Hr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new yt(js.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ow(l,t,r,i);this.mutationQueue.push(d);for(const h of i)this.Jr=this.Jr.add(new js(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,t){return ee.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Xr(r),l=i<0?0:i;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?oo:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new js(t,0),i=new js(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,i],(d=>{const h=this.Zr(d.Hr);l.push(h)})),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yt(qe);return t.forEach((i=>{const l=new js(i,0),d=new js(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,d],(h=>{r=r.add(h.Hr)}))})),ee.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;_e.isDocumentKey(l)||(l=l.child(""));const d=new js(new _e(l),0);let h=new yt(qe);return this.Jr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(f.Hr)),!0)}),d),ee.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Ce(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ee.forEach(t.mutations,(i=>{const l=new js(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new js(t,0),i=this.Jr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e){this.ti=e,this.docs=(function(){return new kt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(t))}getEntries(e,t){let r=bn();return t.forEach((i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Pt.newInvalidDocument(i))})),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let l=bn();const d=t.path,h=new _e(d.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||jw(U4(y),r)<=0||(i.has(y.key)||$f(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,r,i){Se(9500)}ni(e,t){return ee.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new D7(this)}getSize(e){return ee.resolve(this.size)}}class D7 extends oC{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),ee.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.persistence=e,this.ri=new mi((t=>Ll(t)),Bf),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.ii=0,this.si=new $w,this.targetCount=0,this.oi=$l._r()}forEachTarget(e,t){return this.ri.forEach(((r,i)=>t(i))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),ee.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new $l(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.lr(t),ee.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.ri.forEach(((d,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ri.delete(d),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),ee.waitFor(l).next((()=>i))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach((d=>{l.push(i.markPotentiallyOrphaned(e,d))})),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t){this._i={},this.overlays={},this.ai=new xn(0),this.ui=!1,this.ui=!0,this.ci=new I7,this.referenceDelegate=e(this),this.li=new O7(this),this.indexManager=new b7,this.remoteDocumentCache=(function(i){return new P7(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new JA(t),this.Pi=new A7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new C7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new R7(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){xe("MemoryPersistence","Starting transaction:",e);const i=new M7(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((l=>this.referenceDelegate.Ii(i).next((()=>l)))).toPromise().then((l=>(i.raiseOnCommittedEvent(),l)))}Ei(e,t){return ee.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class M7 extends F4{constructor(e){super(),this.currentSequenceNumber=e}}class xx{constructor(e){this.persistence=e,this.Ri=new $w,this.Ai=null}static Vi(e){return new xx(e)}get di(){if(this.Ai)return this.Ai;throw Se(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(r=>{const i=_e.fromPath(r);return this.mi(e,i).next((l=>{l||t.removeEntry(i,De.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ee.or([()=>ee.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Ig{constructor(e,t){this.persistence=e,this.fi=new mi((r=>Hs(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=iC(this,t)}static Vi(e,t){return new Ig(e,t)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return ee.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((l=>l?ee.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),l=i.newChangeBuffer();return i.ni(e,(d=>this.wr(e,d,t).next((h=>{h||(r++,l.removeEntry(d,De.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ee.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=eg(e.data.value)),t}wr(e,t,r){return ee.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.fi.get(t);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e){this.serializer=e}k(e,t,r,i){const l=new ix("createOrUpgrade",t);r<1&&i>=1&&((function(f){f.createObjectStore(Uf)})(e),(function(f){f.createObjectStore(uf,{keyPath:WB}),f.createObjectStore(Rr,{keyPath:DT,autoIncrement:!0}).createIndex(vl,OT,{unique:!0}),f.createObjectStore(kd)})(e),NS(e),(function(f){f.createObjectStore(fl)})(e));let d=ee.resolve();return r<3&&i>=3&&(r!==0&&((function(f){f.deleteObjectStore(Cd),f.deleteObjectStore(Ad),f.deleteObjectStore(kl)})(e),NS(e)),d=d.next((()=>(function(f){const p=f.store(kl),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:De.min().toTimestamp(),targetCount:0};return p.put(Ng,y)})(l)))),r<4&&i>=4&&(r!==0&&(d=d.next((()=>(function(f,p){return p.store(Rr).H().next((b=>{f.deleteObjectStore(Rr),f.createObjectStore(Rr,{keyPath:DT,autoIncrement:!0}).createIndex(vl,OT,{unique:!0});const v=p.store(Rr),C=b.map((S=>v.put(S)));return ee.waitFor(C)}))})(e,l)))),d=d.next((()=>{(function(f){f.createObjectStore(Id,{keyPath:nF})})(e)}))),r<5&&i>=5&&(d=d.next((()=>this.gi(l)))),r<6&&i>=6&&(d=d.next((()=>((function(f){f.createObjectStore(hf)})(e),this.pi(l))))),r<7&&i>=7&&(d=d.next((()=>this.yi(l)))),r<8&&i>=8&&(d=d.next((()=>this.wi(e,l)))),r<9&&i>=9&&(d=d.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(d=d.next((()=>this.bi(l)))),r<11&&i>=11&&(d=d.next((()=>{(function(f){f.createObjectStore(ox,{keyPath:rF})})(e),(function(f){f.createObjectStore(lx,{keyPath:aF})})(e)}))),r<12&&i>=12&&(d=d.next((()=>{(function(f){const p=f.createObjectStore(cx,{keyPath:hF});p.createIndex(Qb,fF,{unique:!1}),p.createIndex(Q4,mF,{unique:!1})})(e)}))),r<13&&i>=13&&(d=d.next((()=>(function(f){const p=f.createObjectStore(_g,{keyPath:QB});p.createIndex(Xp,JB),p.createIndex(G4,XB)})(e))).next((()=>this.Si(e,l))).next((()=>e.deleteObjectStore(fl)))),r<14&&i>=14&&(d=d.next((()=>this.Di(e,l)))),r<15&&i>=15&&(d=d.next((()=>(function(f){f.createObjectStore(Tw,{keyPath:iF,autoIncrement:!0}).createIndex(Yb,oF,{unique:!1}),f.createObjectStore(Hh,{keyPath:lF}).createIndex(W4,cF,{unique:!1}),f.createObjectStore(Gh,{keyPath:dF}).createIndex(Y4,uF,{unique:!1})})(e)))),r<16&&i>=16&&(d=d.next((()=>{t.objectStore(Hh).clear()})).next((()=>{t.objectStore(Gh).clear()}))),r<17&&i>=17&&(d=d.next((()=>{(function(f){f.createObjectStore(Sw,{keyPath:pF})})(e)}))),r<18&&i>=18&&fk()&&(d=d.next((()=>{t.objectStore(Hh).clear()})).next((()=>{t.objectStore(Gh).clear()}))),d}pi(e){let t=0;return e.store(fl).ee(((r,i)=>{t+=Cg(i)})).next((()=>{const r={byteSize:t};return e.store(hf).put(Wb,r)}))}gi(e){const t=e.store(uf),r=e.store(Rr);return t.H().next((i=>ee.forEach(i,(l=>{const d=IDBKeyRange.bound([l.userId,oo],[l.userId,l.lastAcknowledgedBatchId]);return r.H(vl,d).next((h=>ee.forEach(h,(f=>{Ce(f.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const p=pl(this.serializer,f);return sC(e,l.userId,p).next((()=>{}))}))))}))))}yi(e){const t=e.store(Cd),r=e.store(fl);return e.store(kl).get(Ng).next((i=>{const l=[];return r.ee(((d,h)=>{const f=new tt(d),p=(function(b){return[0,Hs(b)]})(f);l.push(t.get(p).next((y=>y?ee.resolve():(b=>t.put({targetId:0,path:Hs(b),sequenceNumber:i.highestListenSequenceNumber}))(f))))})).next((()=>ee.waitFor(l)))}))}wi(e,t){e.createObjectStore(ff,{keyPath:sF});const r=t.store(ff),i=new Fw,l=d=>{if(i.add(d)){const h=d.lastSegment(),f=d.popLast();return r.put({collectionId:h,parent:Hs(f)})}};return t.store(fl).ee({Y:!0},((d,h)=>{const f=new tt(d);return l(f.popLast())})).next((()=>t.store(kd).ee({Y:!0},(([d,h,f],p)=>{const y=ba(h);return l(y.popLast())}))))}bi(e){const t=e.store(Ad);return t.ee(((r,i)=>{const l=Ph(i),d=XA(this.serializer,l);return t.put(d)}))}Si(e,t){const r=t.store(fl),i=[];return r.ee(((l,d)=>{const h=t.store(_g),f=(function(b){return b.document?new _e(tt.fromString(b.document.name).popFirst(5)):b.noDocument?_e.fromSegments(b.noDocument.path):b.unknownDocument?_e.fromSegments(b.unknownDocument.path):Se(36783)})(d).path.toArray(),p={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(h.put(p))})).next((()=>ee.waitFor(i)))}Di(e,t){const r=t.store(Rr),i=lC(this.serializer),l=new qw(xx.Vi,this.serializer.yt);return r.H().next((d=>{const h=new Map;return d.forEach((f=>{let p=h.get(f.userId)??Qe();pl(this.serializer,f).keys().forEach((y=>p=p.add(y))),h.set(f.userId,p)})),ee.forEach(h,((f,p)=>{const y=new _s(p),b=px.wt(this.serializer,y),v=l.getIndexManager(y),C=gx.wt(y,this.serializer,v,l.referenceDelegate);return new cC(i,C,b,v).recalculateAndSaveOverlaysForDocumentKeys(new Jb(t,xn.ce),f).next()}))}))}}function NS(n){n.createObjectStore(Cd,{keyPath:eF}).createIndex(Nw,tF,{unique:!0}),n.createObjectStore(Ad,{keyPath:"targetId"}).createIndex(K4,ZB,{unique:!0}),n.createObjectStore(kl)}const Xi="IndexedDbPersistence",lb=18e5,cb=5e3,db="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",dC="main";class Hw{constructor(e,t,r,i,l,d,h,f,p,y,b=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=l,this.window=d,this.document=h,this.Fi=p,this.Mi=y,this.xi=b,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=v=>Promise.resolve(),!Hw.v())throw new ge(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new T7(this,i),this.Ki=t+dC,this.serializer=new JA(f),this.qi=new ja(this.Ki,this.xi,new V7(this.serializer)),this.ci=new f7,this.li=new w7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lC(this.serializer),this.Pi=new h7,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&ss(Xi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ge(oe.FAILED_PRECONDITION,db);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new xn(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Vp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(Io(e))return xe(Xi,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return xe(Xi,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return _h(e).get(Yc).next((t=>ee.resolve(this.Xi(t))))}Yi(e){return Vp(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,lb)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=ys(t,Id);return r.H().next((i=>{const l=this.ns(i,lb),d=i.filter((h=>l.indexOf(h)===-1));return ee.forEach(d,(h=>r.delete(h.clientId))).next((()=>d))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?ee.resolve(!0):_h(e).get(Yc).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,cb)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new ge(oe.FAILED_PRECONDITION,db);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vp(e).H().next((r=>this.ns(r,cb).find((i=>{if(this.clientId!==i.clientId){const l=!this.networkEnabled&&i.networkEnabled,d=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(l||d&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&xe(Xi,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Uf,Id],(e=>{const t=new Jb(e,xn.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((r=>this.ts(r.updateTimeMs,t)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>Vp(e).H().next((t=>this.ns(t,lb).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return gx.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new v7(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return px.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){xe(Xi,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",l=(function(f){return f===18?yF:f===17?eA:f===16?xF:f===15?Ew:f===14?Z4:f===13?X4:f===12?gF:f===11?J4:void Se(60245)})(this.xi);let d;return this.qi.runTransaction(e,i,l,(h=>(d=new Jb(h,this.ai?this.ai.next():xn.ce),t==="readwrite-primary"?this.ji(d).next((f=>!!f||this.Hi(d))).next((f=>{if(!f)throw ss(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new ge(oe.FAILED_PRECONDITION,B4);return r(d)})).next((f=>this.Zi(d).next((()=>f)))):this.Ps(d).next((()=>r(d)))))).then((h=>(d.raiseOnCommittedEvent(),h)))}Ps(e){return _h(e).get(Yc).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,cb)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ge(oe.FAILED_PRECONDITION,db)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _h(e).put(Yc,t)}static v(){return ja.v()}Ji(e){const t=_h(e);return t.get(Yc).next((r=>this.Xi(r)?(xe(Xi,"Releasing primary lease."),t.delete(Yc)):ee.resolve()))}ts(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(ss(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;hk()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){var t;try{const r=((t=this.Ui)==null?void 0:t.getItem(this.rs(e)))!==null;return xe(Xi,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ss(Xi,"Failed to get zombied client id.",r),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){ss("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _h(n){return ys(n,Uf)}function Vp(n){return ys(n,Id)}function Gw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=i}static Es(e,t){let r=Qe(),i=Qe();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new Kw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return hk()?8:$4(qt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const l={result:null};return this.gs(e,t).next((d=>{l.result=d})).next((()=>{if(!l.result)return this.ps(e,t,i,r).next((d=>{l.result=d}))})).next((()=>{if(l.result)return;const d=new L7;return this.ys(e,t,d).next((h=>{if(l.result=h,this.As)return this.ws(e,t,d,h.size)}))})).next((()=>l.result))}ws(e,t,r,i){return r.documentReadCount<this.Vs?(td()<=et.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",sd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(td()<=et.DEBUG&&xe("QueryEngine","Query:",sd(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(td()<=et.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",sd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sn(t))):ee.resolve())}gs(e,t){if(WT(t))return ee.resolve(null);let r=sn(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Eg(t,null,"F"),r=sn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const d=Qe(...l);return this.fs.getDocuments(e,d).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.bs(t,h);return this.Ss(t,p,d,f.readTime)?this.gs(e,Eg(t,null,"F")):this.Ds(e,p,t,f)}))))})))))}ps(e,t,r,i){return WT(t)||i.isEqual(De.min())?ee.resolve(null):this.fs.getDocuments(e,r).next((l=>{const d=this.bs(t,l);return this.Ss(t,d,r,i)?ee.resolve(null):(td()<=et.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sd(t)),this.Ds(e,d,t,z4(i,Ed)).next((h=>h)))}))}bs(e,t){let r=new yt(wA(e));return t.forEach(((i,l)=>{$f(e,l)&&(r=r.add(l))})),r}Ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ys(e,t,r){return td()<=et.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",sd(t)),this.fs.getDocumentsMatchingQuery(e,t,Fn.min(),r)}Ds(e,t,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((l=>(t.forEach((d=>{l=l.insert(d.key,d)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="LocalStore",z7=3e8;class U7{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.vs=new kt(qe),this.Fs=new mi((l=>Ll(l)),Bf),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function hC(n,e,t,r){return new U7(n,e,t,r)}async function fC(n,e){const t=Ne(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((l=>(i=l,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const d=[],h=[];let f=Qe();for(const p of i){d.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ns:p,removedBatchIds:d,addedBatchIds:h})))}))}))}function B7(n,e){const t=Ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,y){const b=p.batch,v=b.keys();let C=ee.resolve();return v.forEach((S=>{C=C.next((()=>y.getEntry(f,S))).next((I=>{const E=p.docVersions.get(S);Ce(E!==null,48541),I.version.compareTo(E)<0&&(b.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),y.addEntry(I)))}))})),C.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=Qe();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function mC(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function F7(n,e){const t=Ne(n),r=e.snapshotVersion;let i=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const d=t.xs.newChangeBuffer({trackRemovals:!0});i=t.vs;const h=[];e.targetChanges.forEach(((y,b)=>{const v=i.get(b);if(!v)return;h.push(t.li.removeMatchingKeys(l,y.removedDocuments,b).next((()=>t.li.addMatchingKeys(l,y.addedDocuments,b))));let C=v.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(Yt.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,r)),i=i.insert(b,C),(function(I,E,D){return I.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=z7?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(v,C,y)&&h.push(t.li.updateTargetData(l,C))}));let f=bn(),p=Qe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(pC(l,d,e.documentUpdates).next((y=>{f=y.Bs,p=y.Ls}))),!r.isEqual(De.min())){const y=t.li.getLastRemoteSnapshotVersion(l).next((b=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(y)}return ee.waitFor(h).next((()=>d.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(t.vs=i,l)))}function pC(n,e,t){let r=Qe(),i=Qe();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let d=bn();return t.forEach(((h,f)=>{const p=l.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(De.min())?(e.removeEntry(h,f.readTime),d=d.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),d=d.insert(h,f)):xe(Ww,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{Bs:d,Ls:i}}))}function $7(n,e){const t=Ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=oo),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Ld(n,e){const t=Ne(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.li.getTargetData(r,e).next((l=>l?(i=l,ee.resolve(i)):t.li.allocateTargetId(r).next((d=>(i=new Za(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function zd(n,e,t){const r=Ne(n),i=r.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Io(d))throw d;xe(Ww,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function Rg(n,e,t){const r=Ne(n);let i=De.min(),l=Qe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(f,p,y){const b=Ne(f),v=b.Fs.get(y);return v!==void 0?ee.resolve(b.vs.get(v)):b.li.getTargetData(p,y)})(r,d,sn(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,h.targetId).next((f=>{l=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,t?i:De.min(),t?l:Qe()))).next((h=>(yC(r,vA(e),h),{documents:h,ks:l})))))}function gC(n,e){const t=Ne(n),r=Ne(t.li),i=t.vs.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",(l=>r.At(l,e).next((d=>d?d.target:null))))}function xC(n,e){const t=Ne(n),r=t.Ms.get(e)||De.min();return t.persistence.runTransaction("Get new document changes","readonly",(i=>t.xs.getAllFromCollectionGroup(i,e,z4(r,Ed),Number.MAX_SAFE_INTEGER))).then((i=>(yC(t,e,i),i)))}function yC(n,e,t){let r=n.Ms.get(e)||De.min();t.forEach(((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Ms.set(e,r)}async function q7(n,e,t,r){const i=Ne(n);let l=Qe(),d=bn();for(const p of t){const y=e.Ks(p.metadata.name);p.document&&(l=l.add(y));const b=e.qs(p);b.setReadTime(e.Us(p.metadata.readTime)),d=d.insert(y,b)}const h=i.xs.newChangeBuffer({trackRemovals:!0}),f=await Ld(i,(function(y){return sn(tu(tt.fromString(`__bundle__/docs/${y}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(p=>pC(p,h,d).next((y=>(h.apply(p),y))).next((y=>i.li.removeMatchingKeysForTargetId(p,f.targetId).next((()=>i.li.addMatchingKeys(p,l,f.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(p,y.Bs,y.Ls))).next((()=>y.Bs))))))}async function H7(n,e,t=Qe()){const r=await Ld(n,sn(Uw(e.bundledQuery))),i=Ne(n);return i.persistence.runTransaction("Save named query","readwrite",(l=>{const d=ns(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Pi.saveNamedQuery(l,e);const h=r.withResumeToken(Yt.EMPTY_BYTE_STRING,d);return i.vs=i.vs.insert(h.targetId,h),i.li.updateTargetData(l,h).next((()=>i.li.removeMatchingKeysForTargetId(l,r.targetId))).next((()=>i.li.addMatchingKeys(l,t,r.targetId))).next((()=>i.Pi.saveNamedQuery(l,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="firestore_clients";function TS(n,e){return`${bC}_${n}_${e}`}const vC="firestore_mutations";function SS(n,e,t){let r=`${vC}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const wC="firestore_targets";function ub(n,e){return`${wC}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="SharedClientState";class Pg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static $s(e,t,r){const i=JSON.parse(r);let l,d=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return d&&i.error&&(d=typeof i.error.message=="string"&&typeof i.error.code=="string",d&&(l=new ge(i.error.code,i.error.message))),d?new Pg(e,t,i.state,l):(ss(fa,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let i,l=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return l&&r.error&&(l=typeof r.error.message=="string"&&typeof r.error.code=="string",l&&(i=new ge(r.error.code,r.error.message))),l?new Qh(e,r.state,i):(ss(fa,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,l=Rw();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=q4(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new Dg(e,l):(ss(fa,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Yw{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Yw(t.clientId,t.onlineState):(ss(fa,`Failed to parse online state: ${e}`),null)}}class hv{constructor(){this.activeTargetIds=Rw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hb{constructor(e,t,r,i,l){this.window=e,this.Ci=t,this.persistenceKey=r,this.zs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new kt(qe),this.started=!1,this.Zs=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Xs=TS(this.persistenceKey,this.zs),this.Ys=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new hv),this.eo=new RegExp(`^${bC}_${d}_([^_]*)$`),this.no=new RegExp(`^${vC}_${d}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${wC}_${d}_(\\d+)$`),this.io=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this.so=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const i=this.getItem(TS(this.persistenceKey,r));if(i){const l=Dg.$s(r,i);l&&(this.Js=this.Js.insert(l.clientId,l))}}this.oo();const t=this.storage.getItem(this.io);if(t){const r=this._o(t);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,r){this.co(e,t,r),this.lo(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ub(this.persistenceKey,e));if(i){const l=Qh.$s(e,i);l&&(r=l.state)}}return t&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ub(this.persistenceKey,e))}updateQueryState(e,t,r){this.Po(e,t,r)}handleUserChange(e,t,r){t.forEach((i=>{this.lo(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return xe(fa,"READ",e,t),t}setItem(e,t){xe(fa,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){xe(fa,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(xe(fa,"EVENT",t.key,t.newValue),t.key===this.Xs)return void ss("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.eo.test(t.key)){if(t.newValue==null){const r=this.Eo(t.key);return this.Ro(r,null)}{const r=this.Ao(t.key,t.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(t.key)){if(t.newValue!==null){const r=this.Vo(t.key,t.newValue);if(r)return this.mo(r)}}else if(this.ro.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(t.key===this.io){if(t.newValue!==null){const r=this._o(t.newValue);if(r)return this.ao(r)}}else if(t.key===this.Ys){const r=(function(l){let d=xn.ce;if(l!=null)try{const h=JSON.parse(l);Ce(typeof h=="number",30636,{yo:l}),d=h}catch(h){ss(fa,"Failed to read sequence number from WebStorage",h)}return d})(t.newValue);r!==xn.ce&&this.sequenceNumberHandler(r)}else if(t.key===this.so){const r=this.wo(t.newValue);await Promise.all(r.map((i=>this.syncEngine.bo(i))))}}}else this.Zs.push(t)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,r){const i=new Pg(this.currentUser,e,t,r),l=SS(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Ws())}lo(e){const t=SS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){const t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,r){const i=ub(this.persistenceKey,e),l=new Qh(e,t,r);this.setItem(i,l.Ws())}Io(e){const t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){const t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){const r=this.Eo(e);return Dg.$s(r,t)}Vo(e,t){const r=this.no.exec(e),i=Number(r[1]),l=r[2]!==void 0?r[2]:null;return Pg.$s(new _s(l),i,t)}fo(e,t){const r=this.ro.exec(e),i=Number(r[1]);return Qh.$s(i,t)}_o(e){return Yw.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);xe(fa,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){const r=t?this.Js.insert(e,t):this.Js.remove(e),i=this.uo(this.Js),l=this.uo(r),d=[],h=[];return l.forEach((f=>{i.has(f)||d.push(f)})),i.forEach((f=>{l.has(f)||h.push(f)})),this.syncEngine.Co(d,h).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=Rw();return e.forEach(((r,i)=>{t=t.unionWith(i.activeTargetIds)})),t}}class jC{constructor(){this.vo=new hv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new hv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="ConnectivityMonitor";class kS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){xe(ES,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){xe(ES,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lp=null;function fv(){return Lp===null?Lp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lp++,"0x"+Lp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="RestConnection",K7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class W7{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Xb?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,l){const d=fv(),h=this.Qo(e,t.toUriEncodedString());xe(fb,`Sending RPC '${e}' ${d}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,l);const{host:p}=new URL(h),y=Yd(p);return this.zo(e,h,f,r,y).then((b=>(xe(fb,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Ea(fb,`RPC '${e}' ${d} failed with error: `,b,"url: ",h,"request:",r),b}))}jo(e,t,r,i,l,d){return this.Wo(e,t,r,i,l)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,l)=>e[l]=i)),r&&r.headers.forEach(((i,l)=>e[l]=i))}Qo(e,t){const r=K7[e];let i=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="WebChannelConnection",Nh=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class pd extends W7{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!pd.c_){const e=I4();Nh(e,C4.STAT_EVENT,(t=>{t.stat===Hb.PROXY?xe(Bs,"STAT_EVENT: detected buffering proxy"):t.stat===Hb.NOPROXY&&xe(Bs,"STAT_EVENT: detected no buffering proxy")})),pd.c_=!0}}zo(e,t,r,i,l){const d=fv();return new Promise(((h,f)=>{const p=new k4;p.setWithCredentials(!0),p.listenOnce(A4.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Yp.NO_ERROR:const b=p.getResponseJson();xe(Bs,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),h(b);break;case Yp.TIMEOUT:xe(Bs,`RPC '${e}' ${d} timed out`),f(new ge(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Yp.HTTP_ERROR:const v=p.getStatus();if(xe(Bs,`RPC '${e}' ${d} failed with status:`,v,"response text:",p.getResponseText()),v>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const S=C==null?void 0:C.error;if(S&&S.status&&S.message){const I=(function(D){const M=D.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(M)>=0?M:oe.UNKNOWN})(S.status);f(new ge(I,S.message))}else f(new ge(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ge(oe.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{xe(Bs,`RPC '${e}' ${d} completed.`)}}));const y=JSON.stringify(i);xe(Bs,`RPC '${e}' ${d} sending request:`,i),p.send(t,"POST",y,r,15)}))}T_(e,t,r){const i=fv(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const p=l.join("");xe(Bs,`Creating RPC '${e}' stream ${i}: ${p}`,h);const y=d.createWebChannel(p,h);this.I_(y);let b=!1,v=!1;const C=new Y7({Ho:S=>{v?xe(Bs,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(b||(xe(Bs,`Opening RPC '${e}' stream ${i} transport.`),y.open(),b=!0),xe(Bs,`RPC '${e}' stream ${i} sending:`,S),y.send(S))},Jo:()=>y.close()});return Nh(y,Ch.EventType.OPEN,(()=>{v||(xe(Bs,`RPC '${e}' stream ${i} transport opened.`),C.i_())})),Nh(y,Ch.EventType.CLOSE,(()=>{v||(v=!0,xe(Bs,`RPC '${e}' stream ${i} transport closed`),C.o_(),this.E_(y))})),Nh(y,Ch.EventType.ERROR,(S=>{v||(v=!0,Ea(Bs,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),C.o_(new ge(oe.UNAVAILABLE,"The operation could not be completed")))})),Nh(y,Ch.EventType.MESSAGE,(S=>{var I;if(!v){const E=S.data[0];Ce(!!E,16349);const D=E,M=(D==null?void 0:D.error)||((I=D[0])==null?void 0:I.error);if(M){xe(Bs,`RPC '${e}' stream ${i} received error:`,M);const L=M.status;let Y=(function(T){const P=fs[T];if(P!==void 0)return DA(P)})(L),F=M.message;Y===void 0&&(Y=oe.INTERNAL,F="Unknown error status: "+L+" with message "+M.message),v=!0,C.o_(new ge(Y,F)),y.close()}else xe(Bs,`RPC '${e}' stream ${i} received:`,E),C.__(E)}})),pd.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return R4()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(n){return new pd(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return typeof window<"u"?window:null}function ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(n){return new t7(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pd.c_=!1;class Qw{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=i,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="PersistentStream";class NC{constructor(e,t,r,i,l,d,h,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Qw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(ss(t.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new ge(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return xe(AS,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(xe(AS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class J7 extends NC{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=r7(this.serializer,e),r=(function(l){if(!("targetChange"in l))return De.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?De.min():d.readTime?ns(d.readTime):De.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=ov(this.serializer),t.addTarget=(function(l,d){let h;const f=d.target;if(h=Tg(f)?{documents:qA(l,f)}:{query:HA(l,f).ft},h.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){h.resumeToken=LA(l,d.resumeToken);const p=av(l,d.expectedCount);p!==null&&(h.expectedCount=p)}else if(d.snapshotVersion.compareTo(De.min())>0){h.readTime=Vd(l,d.snapshotVersion.toTimestamp());const p=av(l,d.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=i7(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=ov(this.serializer),t.removeTarget=e,this.K_(t)}}class X7 extends NC{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=a7(e.writeResults,e.commitTime),r=ns(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=ov(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>bf(this.serializer,r)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{}class e$ extends Z7{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Wo(e,iv(t,r),i,l,d))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(oe.UNKNOWN,l.toString())}))}jo(e,t,r,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,h])=>this.connection.jo(e,iv(t,r),i,d,h,l))).catch((d=>{throw d.name==="FirebaseError"?(d.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ge(oe.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function t$(n,e,t,r){return new e$(n,e,t,r)}class s${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(t),this.aa=!1):xe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql="RemoteStore";class n${constructor(e,t,r,i,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Po(this)&&(xe(ql,"Restarting streams for network reachability change."),await(async function(f){const p=Ne(f);p.Ea.add(4),await ru(p),p.Va.set("Unknown"),p.Ea.delete(4),await Wf(p)})(this))}))})),this.Va=new s$(r,i)}}async function Wf(n){if(Po(n))for(const e of n.Ra)await e(!0)}async function ru(n){for(const e of n.Ra)await e(!1)}function yx(n,e){const t=Ne(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Zw(t)?Xw(t):iu(t).O_()&&Jw(t,e))}function Ud(n,e){const t=Ne(n),r=iu(t);t.Ia.delete(e),r.O_()&&TC(t,e),t.Ia.size===0&&(r.O_()?r.L_():Po(t)&&t.Va.set("Unknown"))}function Jw(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}iu(n).Z_(e)}function TC(n,e){n.da.$e(e),iu(n).X_(e)}function Xw(n){n.da=new JF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),iu(n).start(),n.Va.ua()}function Zw(n){return Po(n)&&!iu(n).x_()&&n.Ia.size>0}function Po(n){return Ne(n).Ea.size===0}function SC(n){n.da=void 0}async function r$(n){n.Va.set("Online")}async function a$(n){n.Ia.forEach(((e,t)=>{Jw(n,e)}))}async function i$(n,e){SC(n),Zw(n)?(n.Va.ha(e),Xw(n)):n.Va.set("Unknown")}async function o$(n,e,t){if(n.Va.set("Online"),e instanceof VA&&e.state===2&&e.cause)try{await(async function(i,l){const d=l.cause;for(const h of l.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,d),i.Ia.delete(h),i.da.removeTarget(h))})(n,e)}catch(r){xe(ql,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Og(n,r)}else if(e instanceof ng?n.da.Xe(e):e instanceof MA?n.da.st(e):n.da.tt(e),!t.isEqual(De.min()))try{const r=await mC(n.localStore);t.compareTo(r)>=0&&await(function(l,d){const h=l.da.Tt(d);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(f.resumeToken,d))}})),h.targetMismatches.forEach(((f,p)=>{const y=l.Ia.get(f);if(!y)return;l.Ia.set(f,y.withResumeToken(Yt.EMPTY_BYTE_STRING,y.snapshotVersion)),TC(l,f);const b=new Za(y.target,f,p,y.sequenceNumber);Jw(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){xe(ql,"Failed to raise snapshot:",r),await Og(n,r)}}async function Og(n,e,t){if(!Io(e))throw e;n.Ea.add(1),await ru(n),n.Va.set("Offline"),t||(t=()=>mC(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{xe(ql,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Wf(n)}))}function EC(n,e){return e().catch((t=>Og(n,t,e)))}async function au(n){const e=Ne(n),t=No(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:oo;for(;l$(e);)try{const i=await $7(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,c$(e,i)}catch(i){await Og(e,i)}kC(e)&&AC(e)}function l$(n){return Po(n)&&n.Ta.length<10}function c$(n,e){n.Ta.push(e);const t=No(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function kC(n){return Po(n)&&!No(n).x_()&&n.Ta.length>0}function AC(n){No(n).start()}async function d$(n){No(n).ra()}async function u$(n){const e=No(n);for(const t of n.Ta)e.ea(t.mutations)}async function h$(n,e,t){const r=n.Ta.shift(),i=Mw.from(r,e,t);await EC(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await au(n)}async function f$(n,e){e&&No(n).Y_&&await(async function(r,i){if((function(d){return PA(d)&&d!==oe.ABORTED})(i.code)){const l=r.Ta.shift();No(r).B_(),await EC(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i))),await au(r)}})(n,e),kC(n)&&AC(n)}async function CS(n,e){const t=Ne(n);t.asyncQueue.verifyOperationInProgress(),xe(ql,"RemoteStore received new credentials");const r=Po(t);t.Ea.add(3),await ru(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Wf(t)}async function mv(n,e){const t=Ne(n);e?(t.Ea.delete(2),await Wf(t)):e||(t.Ea.add(2),await ru(t),t.Va.set("Unknown"))}function iu(n){return n.ma||(n.ma=(function(t,r,i){const l=Ne(t);return l.sa(),new J7(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(n.datastore,n.asyncQueue,{Zo:r$.bind(null,n),Yo:a$.bind(null,n),t_:i$.bind(null,n),J_:o$.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Zw(n)?Xw(n):n.Va.set("Unknown")):(await n.ma.stop(),SC(n))}))),n.ma}function No(n){return n.fa||(n.fa=(function(t,r,i){const l=Ne(t);return l.sa(),new X7(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:d$.bind(null,n),t_:f$.bind(null,n),ta:u$.bind(null,n),na:h$.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await au(n)):(await n.fa.stop(),n.Ta.length>0&&(xe(ql,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,h=new e1(e,t,d,i,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ou(n,e){if(ss("AsyncQueue",`${e}: ${n}`),Io(n))return new ge(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{static emptySet(e){return new gd(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Ih(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new gd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.ga=new kt(_e.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Bd{constructor(e,t,r,i,l,d,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,l){const d=[];return t.forEach((h=>{d.push({type:0,doc:h})})),new Bd(e,t,gd.emptySet(t),d,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class p${constructor(){this.queries=RS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Ne(t),l=i.queries;i.queries=RS(),l.forEach(((d,h)=>{for(const f of h.ba)f.onError(r)}))})(this,new ge(oe.ABORTED,"Firestore shutting down"))}}function RS(){return new mi((n=>bA(n)),Ff)}async function t1(n,e){const t=Ne(n);let r=3;const i=e.query;let l=t.queries.get(i);l?!l.Sa()&&e.Da()&&(r=2):(l=new m$,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(i,!0);break;case 1:l.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(d){const h=ou(d,`Initialization of query '${sd(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&n1(t)}async function s1(n,e){const t=Ne(n),r=e.query;let i=3;const l=t.queries.get(r);if(l){const d=l.ba.indexOf(e);d>=0&&(l.ba.splice(d,1),l.ba.length===0?i=e.Da()?0:1:!l.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function g$(n,e){const t=Ne(n);let r=!1;for(const i of e){const l=i.query,d=t.queries.get(l);if(d){for(const h of d.ba)h.Fa(i)&&(r=!0);d.wa=i}}r&&n1(t)}function x$(n,e,t){const r=Ne(n),i=r.queries.get(e);if(i)for(const l of i.ba)l.onError(t);r.queries.delete(e)}function n1(n){n.Ca.forEach((e=>{e.next()}))}var pv,PS;(PS=pv||(pv={})).Ma="default",PS.Cache="cache";class r1{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Bd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pv.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(e,t){this.qa=e,this.byteLength=t}Ua(){return"metadata"in this.qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.serializer=e}Ks(e){return _a(this.serializer,e)}qs(e){return e.metadata.exists?$A(this.serializer,e.document,!1):Pt.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return ns(e)}}class b${constructor(e,t){this.$a=e,this.serializer=t,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=CC(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++t;const r=tt.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new DS(this.serializer);for(const i of e)if(i.metadata.queries){const l=r.Ks(i.metadata.name);for(const d of i.metadata.queries){const h=(t.get(d)||Qe()).add(l);t.set(d,h)}}return t}async ja(e){const t=await q7(e,new DS(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const i of this.Wa)await H7(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:t}}}function CC(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.key=e}}class RC{constructor(e){this.key=e}}class PC{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Qe(),this.mutatedKeys=Qe(),this.eu=wA(e),this.tu=new gd(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new IS,i=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((y,b)=>{const v=i.get(y),C=$f(this.query,b)?b:null,S=!!v&&this.mutatedKeys.has(v.key),I=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let E=!1;v&&C?v.data.isEqual(C.data)?S!==I&&(r.track({type:3,doc:C}),E=!0):this.su(v,C)||(r.track({type:2,doc:C}),E=!0,(f&&this.eu(C,f)>0||p&&this.eu(C,p)<0)&&(h=!0)):!v&&C?(r.track({type:0,doc:C}),E=!0):v&&!C&&(r.track({type:1,doc:v}),E=!0,(f||p)&&(h=!0)),E&&(C?(d=d.add(C),l=I?l.add(y):l.delete(y)):(d=d.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const y=this.query.limitType==="F"?d.last():d.first();d=d.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:d,iu:r,Ss:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((y,b)=>(function(C,S){const I=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:E})}};return I(C)-I(S)})(y.type,b.type)||this.eu(y.doc,b.doc))),this.ou(r),i=i??!1;const h=t&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,p=f!==this.Xa;return this.Xa=f,d.length!==0||p?{snapshot:new Bd(this.query,e.tu,l,d,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new RC(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new IC(r))})),t}cu(e){this.Za=e.ks,this.Ya=Qe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Bd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Do="SyncEngine";class v${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class w${constructor(e){this.key=e,this.hu=!1}}class j${constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new mi((h=>bA(h)),Ff),this.Iu=new Map,this.Eu=new Set,this.Ru=new kt(_e.comparator),this.Au=new Map,this.Vu=new $w,this.du={},this.mu=new Map,this.fu=$l.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _$(n,e,t=!0){const r=bx(n);let i;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.lu()):i=await DC(r,e,t,!0),i}async function N$(n,e){const t=bx(n);await DC(t,e,!0,!1)}async function DC(n,e,t,r){const i=await Ld(n.localStore,sn(e)),l=i.targetId,d=n.sharedClientState.addLocalQueryTarget(l,t);let h;return r&&(h=await a1(n,e,l,d==="current",i.resumeToken)),n.isPrimaryClient&&t&&yx(n.remoteStore,i),h}async function a1(n,e,t,r,i){n.pu=(b,v,C)=>(async function(I,E,D,M){let L=E.view.ru(D);L.Ss&&(L=await Rg(I.localStore,E.query,!1).then((({documents:T})=>E.view.ru(T,L))));const Y=M&&M.targetChanges.get(E.targetId),F=M&&M.targetMismatches.get(E.targetId)!=null,X=E.view.applyChanges(L,I.isPrimaryClient,Y,F);return gv(I,E.targetId,X.au),X.snapshot})(n,b,v,C);const l=await Rg(n.localStore,e,!0),d=new PC(e,l.ks),h=d.ru(l.documents),f=Gf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=d.applyChanges(h,n.isPrimaryClient,f);gv(n,t,p.au);const y=new v$(e,t,d);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function T$(n,e,t){const r=Ne(n),i=r.Tu.get(e),l=r.Iu.get(i.targetId);if(l.length>1)return r.Iu.set(i.targetId,l.filter((d=>!Ff(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Ud(r.remoteStore,i.targetId),Fd(r,i.targetId)})).catch(Co)):(Fd(r,i.targetId),await zd(r.localStore,i.targetId,!0))}async function S$(n,e){const t=Ne(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ud(t.remoteStore,r.targetId))}async function E$(n,e,t){const r=c1(n);try{const i=await(function(d,h){const f=Ne(d),p=ht.now(),y=h.reduce(((C,S)=>C.add(S.key)),Qe());let b,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let S=bn(),I=Qe();return f.xs.getEntries(C,y).next((E=>{S=E,S.forEach(((D,M)=>{M.isValidDocument()||(I=I.add(D))}))})).next((()=>f.localDocuments.getOverlayedDocuments(C,S))).next((E=>{b=E;const D=[];for(const M of h){const L=WF(M,b.get(M.key).overlayedDocument);L!=null&&D.push(new pi(M.key,L,dA(L.value.mapValue),Ft.exists(!0)))}return f.mutationQueue.addMutationBatch(C,p,D,h)})).next((E=>{v=E;const D=E.applyToLocalDocumentSet(b,I);return f.documentOverlayCache.saveOverlays(C,E.batchId,D)}))})).then((()=>({batchId:v.batchId,changes:_A(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(d,h,f){let p=d.du[d.currentUser.toKey()];p||(p=new kt(qe)),p=p.insert(h,f),d.du[d.currentUser.toKey()]=p})(r,i.batchId,t),await gi(r,i.changes),await au(r.remoteStore)}catch(i){const l=ou(i,"Failed to persist write");t.reject(l)}}async function OC(n,e){const t=Ne(n);try{const r=await F7(t.localStore,e);e.targetChanges.forEach(((i,l)=>{const d=t.Au.get(l);d&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?d.hu=!0:i.modifiedDocuments.size>0?Ce(d.hu,14607):i.removedDocuments.size>0&&(Ce(d.hu,42227),d.hu=!1))})),await gi(t,r,e)}catch(r){await Co(r)}}function OS(n,e,t){const r=Ne(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((l,d)=>{const h=d.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(d,h){const f=Ne(d);f.onlineState=h;let p=!1;f.queries.forEach(((y,b)=>{for(const v of b.ba)v.va(h)&&(p=!0)})),p&&n1(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function k$(n,e,t){const r=Ne(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),l=i&&i.key;if(l){let d=new kt(_e.comparator);d=d.insert(l,Pt.newNoDocument(l,De.min()));const h=Qe().add(l),f=new Hf(De.min(),new Map,new kt(qe),d,h);await OC(r,f),r.Ru=r.Ru.remove(l),r.Au.delete(e),l1(r)}else await zd(r.localStore,e,!1).then((()=>Fd(r,e,t))).catch(Co)}async function A$(n,e){const t=Ne(n),r=e.batch.batchId;try{const i=await B7(t.localStore,e);o1(t,r,null),i1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await gi(t,i)}catch(i){await Co(i)}}async function C$(n,e,t){const r=Ne(n);try{const i=await(function(d,h){const f=Ne(d);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next((b=>(Ce(b!==null,37113),y=b.keys(),f.mutationQueue.removeMutationBatch(p,b)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>f.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);o1(r,e,t),i1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await gi(r,i)}catch(i){await Co(i)}}async function I$(n,e){const t=Ne(n);Po(t.remoteStore)||xe(Do,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(d){const h=Ne(d);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(f=>h.mutationQueue.getHighestUnacknowledgedBatchId(f)))})(t.localStore);if(r===oo)return void e.resolve();const i=t.mu.get(r)||[];i.push(e),t.mu.set(r,i)}catch(r){const i=ou(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function i1(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function o1(n,e,t){const r=Ne(n);let i=r.du[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Fd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||MC(n,r)}))}function MC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Ud(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),l1(n))}function gv(n,e,t){for(const r of t)r instanceof IC?(n.Vu.addReference(r.key,e),R$(n,r)):r instanceof RC?(xe(Do,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||MC(n,r.key)):Se(19791,{wu:r})}function R$(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(xe(Do,"New document in limbo: "+t),n.Eu.add(r),l1(n))}function l1(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new _e(tt.fromString(e)),r=n.fu.next();n.Au.set(r,new w$(t)),n.Ru=n.Ru.insert(t,r),yx(n.remoteStore,new Za(sn(tu(t.path)),r,"TargetPurposeLimboResolution",xn.ce))}}async function gi(n,e,t){const r=Ne(n),i=[],l=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{d.push(r.pu(f,e,t).then((p=>{var y;if((p||t)&&r.isPrimaryClient){const b=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(p){i.push(p);const b=Kw.Es(f.targetId,p);l.push(b)}})))})),await Promise.all(d),r.Pu.J_(i),await(async function(f,p){const y=Ne(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ee.forEach(p,(v=>ee.forEach(v.Ts,(C=>y.persistence.referenceDelegate.addReference(b,v.targetId,C))).next((()=>ee.forEach(v.Is,(C=>y.persistence.referenceDelegate.removeReference(b,v.targetId,C)))))))))}catch(b){if(!Io(b))throw b;xe(Ww,"Failed to update sequence numbers: "+b)}for(const b of p){const v=b.targetId;if(!b.fromCache){const C=y.vs.get(v),S=C.snapshotVersion,I=C.withLastLimboFreeSnapshotVersion(S);y.vs=y.vs.insert(v,I)}}})(r.localStore,l))}async function P$(n,e){const t=Ne(n);if(!t.currentUser.isEqual(e)){xe(Do,"User change. New user:",e.toKey());const r=await fC(t.localStore,e);t.currentUser=e,(function(l,d){l.mu.forEach((h=>{h.forEach((f=>{f.reject(new ge(oe.CANCELLED,d))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gi(t,r.Ns)}}function D$(n,e){const t=Ne(n),r=t.Au.get(e);if(r&&r.hu)return Qe().add(r.key);{let i=Qe();const l=t.Iu.get(e);if(!l)return i;for(const d of l){const h=t.Tu.get(d);i=i.unionWith(h.view.nu)}return i}}async function O$(n,e){const t=Ne(n),r=await Rg(t.localStore,e.query,!0),i=e.view.cu(r);return t.isPrimaryClient&&gv(t,e.targetId,i.au),i}async function M$(n,e){const t=Ne(n);return xC(t.localStore,e).then((r=>gi(t,r)))}async function V$(n,e,t,r){const i=Ne(n),l=await(function(h,f){const p=Ne(h),y=Ne(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",(b=>y.Xn(b,f).next((v=>v?p.localDocuments.getDocuments(b,v):ee.resolve(null)))))})(i.localStore,e);l!==null?(t==="pending"?await au(i.remoteStore):t==="acknowledged"||t==="rejected"?(o1(i,e,r||null),i1(i,e),(function(h,f){Ne(Ne(h).mutationQueue).nr(f)})(i.localStore,e)):Se(6720,"Unknown batchState",{bu:t}),await gi(i,l)):xe(Do,"Cannot apply mutation batch with id: "+e)}async function L$(n,e){const t=Ne(n);if(bx(t),c1(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await MS(t,r.toArray());t.gu=!0,await mv(t.remoteStore,!0);for(const l of i)yx(t.remoteStore,l)}else if(e===!1&&t.gu!==!1){const r=[];let i=Promise.resolve();t.Iu.forEach(((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then((()=>(Fd(t,d),zd(t.localStore,d,!0)))),Ud(t.remoteStore,d)})),await i,await MS(t,r),(function(d){const h=Ne(d);h.Au.forEach(((f,p)=>{Ud(h.remoteStore,p)})),h.Vu.zr(),h.Au=new Map,h.Ru=new kt(_e.comparator)})(t),t.gu=!1,await mv(t.remoteStore,!1)}}async function MS(n,e,t){const r=Ne(n),i=[],l=[];for(const d of e){let h;const f=r.Iu.get(d);if(f&&f.length!==0){h=await Ld(r.localStore,sn(f[0]));for(const p of f){const y=r.Tu.get(p),b=await O$(r,y);b.snapshot&&l.push(b.snapshot)}}else{const p=await gC(r.localStore,d);h=await Ld(r.localStore,p),await a1(r,VC(p),d,!1,h.resumeToken)}i.push(h)}return r.Pu.J_(l),i}function VC(n){return yA(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function z$(n){return(function(t){return Ne(Ne(t).persistence).hs()})(Ne(n).localStore)}async function U$(n,e,t,r){const i=Ne(n);if(i.gu)return void xe(Do,"Ignoring unexpected query state notification.");const l=i.Iu.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=await xC(i.localStore,vA(l[0])),h=Hf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Yt.EMPTY_BYTE_STRING);await gi(i,d,h);break}case"rejected":await zd(i.localStore,e,!0),Fd(i,e,r);break;default:Se(64155,t)}}async function B$(n,e,t){const r=bx(n);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){xe(Do,"Adding an already active target "+i);continue}const l=await gC(r.localStore,i),d=await Ld(r.localStore,l);await a1(r,VC(l),d.targetId,!1,d.resumeToken),yx(r.remoteStore,d)}for(const i of t)r.Iu.has(i)&&await zd(r.localStore,i,!1).then((()=>{Ud(r.remoteStore,i),Fd(r,i)})).catch(Co)}}function bx(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=OC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k$.bind(null,e),e.Pu.J_=g$.bind(null,e.eventManager),e.Pu.yu=x$.bind(null,e.eventManager),e}function c1(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C$.bind(null,e),e}function F$(n,e,t){const r=Ne(n);(async function(l,d,h){try{const f=await d.getMetadata();if(await(function(C,S){const I=Ne(C),E=ns(S.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",(D=>I.Pi.getBundleMetadata(D,S.id))).then((D=>!!D&&D.createTime.compareTo(E)>=0))})(l.localStore,f))return await d.close(),h._completeWith((function(C){return{taskState:"Success",documentsLoaded:C.totalDocuments,bytesLoaded:C.totalBytes,totalDocuments:C.totalDocuments,totalBytes:C.totalBytes}})(f)),Promise.resolve(new Set);h._updateProgress(CC(f));const p=new b$(f,d.serializer);let y=await d.Su();for(;y;){const v=await p.Ga(y);v&&h._updateProgress(v),y=await d.Su()}const b=await p.ja(l.localStore);return await gi(l,b.Ja,void 0),await(function(C,S){const I=Ne(C);return I.persistence.runTransaction("Save bundle","readwrite",(E=>I.Pi.saveBundleMetadata(E,S)))})(l.localStore,f),h._completeWith(b.progress),Promise.resolve(b.Ha)}catch(f){return Ea(Do,`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}})(r,e,t).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return hC(this.persistence,new uC,e.initialUser,this.serializer)}Cu(e){return new qw(xx.Vi,this.serializer)}Du(e){return new jC}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vf.provider={build:()=>new vf};class $$ extends vf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ce(this.persistence.referenceDelegate instanceof Ig,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aC(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?$s.withCacheSize(this.cacheSizeBytes):$s.DEFAULT;return new qw((r=>Ig.Vi(r,t)),this.serializer)}}class LC extends vf{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await c1(this.xu.syncEngine),await au(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return hC(this.persistence,new uC,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new aC(r,e.asyncQueue,t)}Mu(e,t){const r=new GB(t,this.persistence);return new HB(e.asyncQueue,r)}Cu(e){const t=Gw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?$s.withCacheSize(this.cacheSizeBytes):$s.DEFAULT;return new Hw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,_C(),ag(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new jC}}class q$ extends LC{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof hb&&(this.sharedClientState.syncEngine={So:V$.bind(null,t),Do:U$.bind(null,t),Co:B$.bind(null,t),hs:z$.bind(null,t),bo:M$.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await L$(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=_C();if(!hb.v(t))throw new ge(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Gw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hb(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class wf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=P$.bind(null,this.syncEngine),await mv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new p$})()}createDatastore(e){const t=Kf(e.databaseInfo.databaseId),r=Q7(e.databaseInfo);return t$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,l,d,h){return new n$(r,i,l,d,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>OS(this.syncEngine,t,0)),(function(){return kS.v()?new kS:new G7})())}createSyncEngine(e,t){return(function(i,l,d,h,f,p,y){const b=new j$(i,l,d,h,f,p);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const l=Ne(i);xe(ql,"RemoteStore shutting down."),l.Ea.add(5),await ru(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}wf.provider={build:()=>new wf};function VS(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new Vs,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.qu(`length string (${t}) is not valid number`);const i=await this.Uu(r);return new y$(JSON.parse(i),e.length+r)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G$=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ge(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(i,l){const d=Ne(i),h={documents:l.map((b=>yf(d.serializer,b)))},f=await d.jo("BatchGetDocuments",d.serializer.databaseId,tt.emptyPath(),h,l.length),p=new Map;f.forEach((b=>{const v=n7(d.serializer,b);p.set(v.key.toString(),v)}));const y=[];return l.forEach((b=>{const v=p.get(b.toString());Ce(!!v,55234,{key:b}),y.push(v)})),y})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new nu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new Dw(i,this.precondition(i)))})),await(async function(r,i){const l=Ne(r),d={writes:i.map((h=>bf(l.serializer,h)))};await l.Wo("Commit",l.serializer.databaseId,tt.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Se(50498,{Gu:e.constructor.name});t=De.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ge(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(De.min())?Ft.exists(!1):Ft.updateTime(t):Ft.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(De.min()))throw new ge(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ft.updateTime(t)}return Ft.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.zu=r.maxAttempts,this.M_=new Qw(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new G$(this.datastore),t=this.Ju(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Zu(i)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const t=this.updateFunction(e);return!zf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if((e==null?void 0:e.name)==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!PA(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="FirestoreClient";class W${constructor(e,t,r,i,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=i,this.user=_s.UNAUTHENTICATED,this.clientId=vw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async d=>{xe(To,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(xe(To,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ou(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function mb(n,e){n.asyncQueue.verifyOperationInProgress(),xe(To,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await fC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function LS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await d1(n);xe(To,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>CS(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>CS(e.remoteStore,i))),n._onlineComponents=e}async function d1(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xe(To,"Using user provided OfflineComponentProvider");try{await mb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Ea("Error using user provided cache. Falling back to memory cache: "+t),await mb(n,new vf)}}else xe(To,"Using default OfflineComponentProvider"),await mb(n,new $$(void 0));return n._offlineComponents}async function wx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xe(To,"Using user provided OnlineComponentProvider"),await LS(n,n._uninitializedComponentsProvider._online)):(xe(To,"Using default OnlineComponentProvider"),await LS(n,new wf))),n._onlineComponents}function zC(n){return d1(n).then((e=>e.persistence))}function u1(n){return d1(n).then((e=>e.localStore))}function UC(n){return wx(n).then((e=>e.remoteStore))}function h1(n){return wx(n).then((e=>e.syncEngine))}function Y$(n){return wx(n).then((e=>e.datastore))}async function $d(n){const e=await wx(n),t=e.eventManager;return t.onListen=_$.bind(null,e.syncEngine),t.onUnlisten=T$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=N$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=S$.bind(null,e.syncEngine),t}function Q$(n){return n.asyncQueue.enqueue((async()=>{const e=await zC(n),t=await UC(n);return e.setNetworkEnabled(!0),(function(i){const l=Ne(i);return l.Ea.delete(0),Wf(l)})(t)}))}function J$(n){return n.asyncQueue.enqueue((async()=>{const e=await zC(n),t=await UC(n);return e.setNetworkEnabled(!1),(async function(i){const l=Ne(i);l.Ea.add(0),await ru(l),l.Va.set("Offline")})(t)}))}function X$(n,e,t,r){const i=new vx(r),l=new r1(e,i,t);return n.asyncQueue.enqueueAndForget((async()=>t1(await $d(n),l))),()=>{i.Nu(),n.asyncQueue.enqueueAndForget((async()=>s1(await $d(n),l)))}}function Z$(n,e){const t=new Vs;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,l,d){try{const h=await(function(p,y){const b=Ne(p);return b.persistence.runTransaction("read document","readonly",(v=>b.localDocuments.getDocument(v,y)))})(i,l);h.isFoundDocument()?d.resolve(h):h.isNoDocument()?d.resolve(null):d.reject(new ge(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=ou(h,`Failed to get document '${l} from cache`);d.reject(f)}})(await u1(n),e,t))),t.promise}function BC(n,e,t={}){const r=new Vs;return n.asyncQueue.enqueueAndForget((async()=>(function(l,d,h,f,p){const y=new vx({next:v=>{y.Nu(),d.enqueueAndForget((()=>s1(l,b)));const C=v.docs.has(h);!C&&v.fromCache?p.reject(new ge(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&v.fromCache&&f&&f.source==="server"?p.reject(new ge(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(v)},error:v=>p.reject(v)}),b=new r1(tu(h.path),y,{includeMetadataChanges:!0,Ka:!0});return t1(l,b)})(await $d(n),n.asyncQueue,e,t,r))),r.promise}function eq(n,e){const t=new Vs;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,l,d){try{const h=await Rg(i,l,!0),f=new PC(l,h.ks),p=f.ru(h.documents),y=f.applyChanges(p,!1);d.resolve(y.snapshot)}catch(h){const f=ou(h,`Failed to execute query '${l} against cache`);d.reject(f)}})(await u1(n),e,t))),t.promise}function FC(n,e,t={}){const r=new Vs;return n.asyncQueue.enqueueAndForget((async()=>(function(l,d,h,f,p){const y=new vx({next:v=>{y.Nu(),d.enqueueAndForget((()=>s1(l,b))),v.fromCache&&f.source==="server"?p.reject(new ge(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(v)},error:v=>p.reject(v)}),b=new r1(h,y,{includeMetadataChanges:!0,Ka:!0});return t1(l,b)})(await $d(n),n.asyncQueue,e,t,r))),r.promise}function tq(n,e){const t=new Vs;return n.asyncQueue.enqueueAndForget((async()=>E$(await h1(n),e,t))),t.promise}function sq(n,e){const t=new vx(e);return n.asyncQueue.enqueueAndForget((async()=>(function(i,l){Ne(i).Ca.add(l),l.next()})(await $d(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(i,l){Ne(i).Ca.delete(l)})(await $d(n),t)))}}function nq(n,e,t){const r=new Vs;return n.asyncQueue.enqueueAndForget((async()=>{const i=await Y$(n);new K$(n.asyncQueue,i,t,e,r).ju()})),r.promise}function rq(n,e,t,r){const i=(function(d,h){let f;return f=typeof d=="string"?OA().encode(d):d,(function(y,b){return new H$(y,b)})((function(y,b){if(y instanceof Uint8Array)return VS(y,b);if(y instanceof ArrayBuffer)return VS(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(f),h)})(t,Kf(e));n.asyncQueue.enqueueAndForget((async()=>{F$(await h1(n),i,r)}))}function aq(n,e){return n.asyncQueue.enqueue((async()=>(function(r,i){const l=Ne(r);return l.persistence.runTransaction("Get named query","readonly",(d=>l.Pi.getNamedQuery(d,i)))})(await u1(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq="ComponentProvider",zS=new Map;function oq(n,e,t,r,i){return new wF(n,e,t,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,$C(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="firestore.googleapis.com",US=!0;class BS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qC,this.ssl=US}else this.host=e.host,this.ssl=e.ssl??US;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j7)throw new ge(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$C(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new PB;switch(r.type){case"firstParty":return new VB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=zS.get(t);r&&(xe(iq,"Removing Datastore"),zS.delete(t),r.terminate())})(this),Promise.resolve()}}function lq(n,e,t,r={}){var p;n=ct(n,Yf);const i=Yd(e),l=n._getSettings(),d={...l,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;i&&(lk(`https://${h}`),ck("Firestore",!0)),l.host!==qC&&l.host!==h&&Ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:h,ssl:i,emulatorOptions:r};if(!go(f,d)&&(n._setSettings(f),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=_s.MOCK_USER;else{y=K9(r.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ge(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new _s(v)}n._authCredentials=new DB(new D4(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let an=class HC{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new HC(this.firestore,e,this._query)}},Et=class Dh{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dh(this.firestore,e,this._key)}toJSON(){return{type:Dh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Lf(t,Dh._jsonSchema))return new Dh(e,r||null,new _e(tt.fromString(t.referencePath)))}};Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:ps("string",Et._jsonSchemaVersion),referencePath:ps("string")};let lo=class GC extends an{constructor(e,t,r){super(e,t,tu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new _e(e))}withConverter(e){return new GC(this.firestore,e,this._path)}};function KC(n,e,...t){if(n=Oe(n),ww("collection","path",e),n instanceof Yf){const r=tt.fromString(e,...t);return AT(r),new lo(n,null,r)}{if(!(n instanceof Et||n instanceof lo))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tt.fromString(e,...t));return AT(r),new lo(n.firestore,null,r)}}function cq(n,e){if(n=ct(n,Yf),ww("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ge(oe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new an(n,null,(function(r){return new fi(tt.emptyPath(),r)})(e))}function Mg(n,e,...t){if(n=Oe(n),arguments.length===1&&(e=vw.newId()),ww("doc","path",e),n instanceof Yf){const r=tt.fromString(e,...t);return kT(r),new Et(n,null,new _e(r))}{if(!(n instanceof Et||n instanceof lo))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tt.fromString(e,...t));return kT(r),new Et(n.firestore,n instanceof lo?n.converter:null,new _e(r))}}function WC(n,e){return n=Oe(n),e=Oe(e),(n instanceof Et||n instanceof lo)&&(e instanceof Et||e instanceof lo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function YC(n,e){return n=Oe(n),e=Oe(e),n instanceof an&&e instanceof an&&n.firestore===e.firestore&&Ff(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="AsyncQueue";class $S{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Qw(this,"async_queue_retry"),this._c=()=>{const r=ag();r&&xe(FS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=ag();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ag();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;xe(FS,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",qS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=e1.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(i),i}uc(){this.nc&&Se(47125,{Pc:qS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function qS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq=-1;let rs=class extends Yf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new $S,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $S(e),this._firestoreClient=void 0,await e}}};function Gs(n){if(n._terminated)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QC(n),n._firestoreClient}function QC(n){var r,i,l,d;const e=n._freezeSettings(),t=oq(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,(i=n._app)==null?void 0:i.options.apiKey,e);n._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new W$(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}})(n._componentsProvider))}function hq(n,e){Ea("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return JC(n,wf.provider,{build:r=>new LC(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function fq(n){Ea("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();JC(n,wf.provider,{build:t=>new q$(t,e.cacheSizeBytes)})}function JC(n,e,t){if((n=ct(n,rs))._firestoreClient||n._terminated)throw new ge(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ge(oe.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},QC(n)}function mq(n){if(n._initialized&&!n._terminated)throw new ge(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vs;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!ja.v())return Promise.resolve();const i=r+dC;await ja.delete(i)})(Gw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function pq(n){return(function(t){const r=new Vs;return t.asyncQueue.enqueueAndForget((async()=>I$(await h1(t),r))),r.promise})(Gs(n=ct(n,rs)))}function gq(n){return Q$(Gs(n=ct(n,rs)))}function xq(n){return J$(Gs(n=ct(n,rs)))}function yq(n,e){const t=Gs(n=ct(n,rs)),r=new dq;return rq(t,n._databaseId,e,r),r}function bq(n,e){return aq(Gs(n=ct(n,rs)),e).then((t=>t?new an(n,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qs(Yt.fromBase64String(e))}catch(t){throw new ge(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qs(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lf(e,qs._jsonSchema))return qs.fromBase64String(e.bytes)}}qs._jsonSchemaVersion="firestore/bytes/1.0",qs._jsonSchema={type:ps("string",qs._jsonSchemaVersion),bytes:ps("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(Lf(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:ps("string",Or._jsonSchemaVersion),latitude:ps("number"),longitude:ps("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==i[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lf(e,Mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Mr(e.vectorValues);throw new ge(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mr._jsonSchemaVersion="firestore/vectorValue/1.0",Mr._jsonSchema={type:ps("string",Mr._jsonSchemaVersion),vectorValues:ps("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq=/^__.*__$/;class wq{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new pi(e,this.data,this.fieldMask,t,this.fieldTransforms):new su(e,this.data,t,this.fieldTransforms)}}class XC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new pi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ZC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{dataSource:n})}}class jx{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new jx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Vg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(ZC(this.dataSource)&&vq.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class jq{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Kf(e)}createContext(e,t,r,i=!1){return new jx({dataSource:e,methodName:t,targetDoc:r,path:Bt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zl(n){const e=n._freezeSettings(),t=Kf(n._databaseId);return new jq(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _x(n,e,t,r,i,l={}){const d=n.createContext(l.merge||l.mergeFields?2:0,e,t,i);b1("Data must be an object, but it was:",d,r);const h=sI(r,d);let f,p;if(l.merge)f=new yn(d.fieldMask),p=d.fieldTransforms;else if(l.mergeFields){const y=[];for(const b of l.mergeFields){const v=Gl(e,b,t);if(!d.contains(v))throw new ge(oe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);aI(y,v)||y.push(v)}f=new yn(y),p=d.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,p=d.fieldTransforms;return new wq(new Ps(h),f,p)}class Qf extends Xl{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}function eI(n,e,t){return new jx({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class f1 extends Xl{_toFieldTransform(e){return new qf(e.path,new Od)}isEqual(e){return e instanceof f1}}class m1 extends Xl{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=eI(this,e,!0),r=this.Ac.map((l=>ec(l,t))),i=new zl(r);return new qf(e.path,i)}isEqual(e){return e instanceof m1&&go(this.Ac,e.Ac)}}class p1 extends Xl{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=eI(this,e,!0),r=this.Ac.map((l=>ec(l,t))),i=new Ul(r);return new qf(e.path,i)}isEqual(e){return e instanceof p1&&go(this.Ac,e.Ac)}}class g1 extends Xl{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Md(e.serializer,SA(e.serializer,this.Vc));return new qf(e.path,t)}isEqual(e){return e instanceof g1&&this.Vc===e.Vc}}function x1(n,e,t,r){const i=n.createContext(1,e,t);b1("Data must be an object, but it was:",i,r);const l=[],d=Ps.empty();Ro(r,((f,p)=>{const y=rI(e,f,t);p=Oe(p);const b=i.childContextForFieldPath(y);if(p instanceof Qf)l.push(y);else{const v=ec(p,b);v!=null&&(l.push(y),d.set(y,v))}}));const h=new yn(l);return new XC(d,h,i.fieldTransforms)}function y1(n,e,t,r,i,l){const d=n.createContext(1,e,t),h=[Gl(e,r,t)],f=[i];if(l.length%2!=0)throw new ge(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<l.length;v+=2)h.push(Gl(e,l[v])),f.push(l[v+1]);const p=[],y=Ps.empty();for(let v=h.length-1;v>=0;--v)if(!aI(p,h[v])){const C=h[v];let S=f[v];S=Oe(S);const I=d.childContextForFieldPath(C);if(S instanceof Qf)p.push(C);else{const E=ec(S,I);E!=null&&(p.push(C),y.set(C,E))}}const b=new yn(p);return new XC(y,b,d.fieldTransforms)}function tI(n,e,t,r=!1){return ec(t,n.createContext(r?4:3,e))}function ec(n,e){if(nI(n=Oe(n)))return b1("Unsupported field value:",e,n),sI(n,e);if(n instanceof Xl)return(function(r,i){if(!ZC(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(i);l&&i.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const l=[];let d=0;for(const h of r){let f=ec(h,i.childContextForArray(d));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),d++}return{arrayValue:{values:l}}})(n,e)}return(function(r,i){if((r=Oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ht.fromDate(r);return{timestampValue:Vd(i.serializer,l)}}if(r instanceof ht){const l=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vd(i.serializer,l)}}if(r instanceof Or)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qs)return{bytesValue:LA(i.serializer,r._byteString)};if(r instanceof Et){const l=i.databaseId,d=r.firestore._databaseId;if(!d.isEqual(l))throw i.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:zw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Mr)return(function(d,h){const f=d instanceof Mr?d.toArray():d;return{mapValue:{fields:{[kw]:{stringValue:Aw},[Rd]:{arrayValue:{values:f.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return Pw(h.serializer,y)}))}}}}}})(r,i);if(QA(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${ax(r)}`)})(n,e)}function sI(n,e){const t={};return tA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(n,((r,i)=>{const l=ec(i,e.childContextForField(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function nI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof Or||n instanceof qs||n instanceof Et||n instanceof Xl||n instanceof Mr||QA(n))}function b1(n,e,t){if(!nI(t)||!V4(t)){const r=ax(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Gl(n,e,t){if((e=Oe(e))instanceof Hl)return e._internalPath;if(typeof e=="string")return rI(n,e);throw Vg("Field path arguments must be of type string or ",n,!1,void 0,t)}const _q=new RegExp("[~\\*/\\[\\]]");function rI(n,e,t){if(e.search(_q)>=0)throw Vg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hl(...e.split("."))._internalPath}catch{throw Vg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Vg(n,e,t,r,i){const l=r&&!r.isEmpty(),d=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||d)&&(f+=" (found",l&&(f+=` in field ${r}`),d&&(f+=` in document ${i}`),f+=")"),new ge(oe.INVALID_ARGUMENT,h+n+f)}function aI(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{convertValue(e,t="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ro(e,((i,l)=>{r[i]=this.convertValue(l,t)})),r}convertVectorValue(e){var r,i,l;const t=(l=(i=(r=e.fields)==null?void 0:r[Rd].arrayValue)==null?void 0:i.values)==null?void 0:l.map((d=>zt(d.doubleValue)));return new Mr(t)}convertGeoPoint(e){return new Or(zt(e.latitude),zt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ux(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mf(e));default:return null}}convertTimestamp(e){const t=li(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tt.fromString(e);Ce(YA(r),9688,{name:e});const i=new vo(r.get(1),r.get(3)),l=new _e(r.popFirst(5));return i.isEqual(t)||ss(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends v1{constructor(e){super(),this.firestore=e}convertBytes(e){return new qs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(){return new Qf("deleteField")}function Tq(){return new f1("serverTimestamp")}function Sq(...n){return new m1("arrayUnion",n)}function Eq(...n){return new p1("arrayRemove",n)}function kq(n){return new g1("increment",n)}const HS="@firebase/firestore",GS="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const l of r)if(l in i&&typeof i[l]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Aq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(Gl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Aq extends jf{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class w1{}class Jf extends w1{}function Zi(n,e,...t){let r=[];e instanceof w1&&r.push(e),r=r.concat(t),(function(l){const d=l.filter((f=>f instanceof j1)).length,h=l.filter((f=>f instanceof Nx)).length;if(d>1||d>0&&h>0)throw new ge(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Nx extends Jf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Nx(e,t,r)}_apply(e){const t=this._parse(e);return lI(e._query,t),new an(e.firestore,e.converter,rv(e._query,t))}_parse(e){const t=Zl(e.firestore);return(function(l,d,h,f,p,y,b){let v;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){WS(b,y);const S=[];for(const I of b)S.push(KS(f,l,I));v={arrayValue:{values:S}}}else v=KS(f,l,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||WS(b,y),v=tI(h,d,b,y==="in"||y==="not-in");return rt.create(p,y,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Cq(n,e,t){const r=e,i=Gl("where",n);return Nx._create(i,r,t)}class j1 extends w1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new j1(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:xt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,l){let d=i;const h=l.getFlattenedFilters();for(const f of h)lI(d,f),d=rv(d,f)})(e._query,t),new an(e.firestore,e.converter,rv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _1 extends Jf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _1(e,t)}_apply(e){const t=(function(i,l,d){if(i.startAt!==null)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xf(l,d)})(e._query,this._field,this._direction);return new an(e.firestore,e.converter,OF(e._query,t))}}function Iq(n,e="asc"){const t=e,r=Gl("orderBy",n);return _1._create(r,t)}class Tx extends Jf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Tx(e,t,r)}_apply(e){return new an(e.firestore,e.converter,Eg(e._query,this._limit,this._limitType))}}function Rq(n){return L4("limit",n),Tx._create("limit",n,"F")}function Pq(n){return L4("limitToLast",n),Tx._create("limitToLast",n,"L")}class Sx extends Jf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Sx(e,t,r)}_apply(e){const t=oI(e,this.type,this._docOrFields,this._inclusive);return new an(e.firestore,e.converter,MF(e._query,t))}}function Dq(...n){return Sx._create("startAt",n,!0)}function Oq(...n){return Sx._create("startAfter",n,!1)}class Ex extends Jf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ex(e,t,r)}_apply(e){const t=oI(e,this.type,this._docOrFields,this._inclusive);return new an(e.firestore,e.converter,VF(e._query,t))}}function Mq(...n){return Ex._create("endBefore",n,!1)}function Vq(...n){return Ex._create("endAt",n,!0)}function oI(n,e,t,r){if(t[0]=Oe(t[0]),t[0]instanceof jf)return(function(l,d,h,f,p){if(!f)throw new ge(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const b of md(l))if(b.field.isKeyField())y.push(Vl(d,f.key));else{const v=f.data.field(b.field);if(dx(v))throw new ge(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const C=b.field.canonicalString();throw new ge(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${C}' (used as the orderBy) does not exist.`)}y.push(v)}return new _o(y,p)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Zl(n.firestore);return(function(d,h,f,p,y,b){const v=d.explicitOrderBy;if(y.length>v.length)throw new ge(oe.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const C=[];for(let S=0;S<y.length;S++){const I=y[S];if(v[S].field.isKeyField()){if(typeof I!="string")throw new ge(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof I}`);if(!Iw(d)&&I.indexOf("/")!==-1)throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${I}' contains a slash.`);const E=d.path.child(tt.fromString(I));if(!_e.isDocumentKey(E))throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const D=new _e(E);C.push(Vl(h,D))}else{const E=tI(f,p,I);C.push(E)}}return new _o(C,b)})(n._query,n.firestore._databaseId,i,e,t,r)}}function KS(n,e,t){if(typeof(t=Oe(t))=="string"){if(t==="")throw new ge(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iw(e)&&t.indexOf("/")!==-1)throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tt.fromString(t));if(!_e.isDocumentKey(r))throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vl(n,new _e(r))}if(t instanceof Et)return Vl(n,t._key);throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ax(t)}.`)}function WS(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lI(n,e){const t=(function(i,l){for(const d of i)for(const h of d.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function kx(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Lq extends v1{constructor(e){super(),this.firestore=e}convertBytes(e){return new qs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}}class wl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let dr=class cI extends jf{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Gl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=cI._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};dr._jsonSchemaVersion="firestore/documentSnapshot/1.0",dr._jsonSchema={type:ps("string",dr._jsonSchemaVersion),bundleSource:ps("string","DocumentSnapshot"),bundleName:ps("string"),bundle:ps("string")};let Jh=class extends dr{data(e={}){return super.data(e)}},Vr=class dI{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new wl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Jh(this._firestore,this._userDataWriter,r.key,r,new wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,l){if(i._snapshot.oldDocs.isEmpty()){let d=0;return i._snapshot.docChanges.map((h=>{const f=new Jh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new wl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:d++}}))}{let d=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const f=new Jh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new wl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return h.type!==0&&(p=d.indexOf(h.doc.key),d=d.delete(h.doc.key)),h.type!==1&&(d=d.add(h.doc),y=d.indexOf(h.doc.key)),{type:zq(h.type),doc:f,oldIndex:p,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=dI._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),i.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function zq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}function uI(n,e){return n instanceof dr&&e instanceof dr?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Vr&&e instanceof Vr&&n._firestore===e._firestore&&YC(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr._jsonSchemaVersion="firestore/querySnapshot/1.0",Vr._jsonSchema={type:ps("string",Vr._jsonSchemaVersion),bundleSource:ps("string","QuerySnapshot"),bundleName:ps("string"),bundle:ps("string")};const Uq={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bq=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zl(e)}set(e,t,r){this._verifyNotCommitted();const i=no(e,this._firestore),l=kx(i.converter,t,r),d=_x(this._dataReader,"WriteBatch.set",i._key,l,i.converter!==null,r);return this._mutations.push(d.toMutation(i._key,Ft.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=no(e,this._firestore);let d;return d=typeof(t=Oe(t))=="string"||t instanceof Hl?y1(this._dataReader,"WriteBatch.update",l._key,t,r,i):x1(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Ft.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=no(e,this._firestore);return this._mutations=this._mutations.concat(new nu(t._key,Ft.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ge(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function no(n,e){if((n=Oe(n)).firestore!==e)throw new ge(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Zl(e)}get(e){const t=no(e,this._firestore),r=new Lq(this._firestore);return this._transaction.lookup([t._key]).then((i=>{if(!i||i.length!==1)return Se(24041);const l=i[0];if(l.isFoundDocument())return new jf(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new jf(this._firestore,r,t._key,null,t.converter);throw Se(18433,{doc:l})}))}set(e,t,r){const i=no(e,this._firestore),l=kx(i.converter,t,r),d=_x(this._dataReader,"Transaction.set",i._key,l,i.converter!==null,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=no(e,this._firestore);let d;return d=typeof(t=Oe(t))=="string"||t instanceof Hl?y1(this._dataReader,"Transaction.update",l._key,t,r,i):x1(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=no(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $q=class extends Fq{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=no(e,this._firestore),r=new tc(this._firestore);return super.get(e).then((i=>new dr(this._firestore,r,t._key,i._document,new wl(!1,!1),t.converter)))}};function qq(n,e,t){n=ct(n,rs);const r={...Uq,...t};(function(d){if(d.maxAttempts<1)throw new ge(oe.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const i=Gs(n);return nq(i,(l=>e(new $q(n,l))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(n){n=ct(n,Et);const e=ct(n.firestore,rs),t=Gs(e);return BC(t,n._key).then((r=>N1(e,n,r)))}function Gq(n){n=ct(n,Et);const e=ct(n.firestore,rs),t=Gs(e),r=new tc(e);return Z$(t,n._key).then((i=>new dr(e,r,n._key,i,new wl(i!==null&&i.hasLocalMutations,!0),n.converter)))}function Kq(n){n=ct(n,Et);const e=ct(n.firestore,rs),t=Gs(e);return BC(t,n._key,{source:"server"}).then((r=>N1(e,n,r)))}function Wq(n){n=ct(n,an);const e=ct(n.firestore,rs),t=Gs(e),r=new tc(e);return iI(n._query),FC(t,n._query).then((i=>new Vr(e,r,n,i)))}function Yq(n){n=ct(n,an);const e=ct(n.firestore,rs),t=Gs(e),r=new tc(e);return eq(t,n._query).then((i=>new Vr(e,r,n,i)))}function Qq(n){n=ct(n,an);const e=ct(n.firestore,rs),t=Gs(e),r=new tc(e);return FC(t,n._query,{source:"server"}).then((i=>new Vr(e,r,n,i)))}function YS(n,e,t){n=ct(n,Et);const r=ct(n.firestore,rs),i=kx(n.converter,e,t),l=Zl(r);return Xf(r,[_x(l,"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ft.none())])}function QS(n,e,t,...r){n=ct(n,Et);const i=ct(n.firestore,rs),l=Zl(i);let d;return d=typeof(e=Oe(e))=="string"||e instanceof Hl?y1(l,"updateDoc",n._key,e,t,r):x1(l,"updateDoc",n._key,e),Xf(i,[d.toMutation(n._key,Ft.exists(!0))])}function Jq(n){return Xf(ct(n.firestore,rs),[new nu(n._key,Ft.none())])}function Xq(n,e){const t=ct(n.firestore,rs),r=Mg(n),i=kx(n.converter,e),l=Zl(n.firestore);return Xf(t,[_x(l,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ft.exists(!1))]).then((()=>r))}function hI(n,...e){var p,y,b;n=Oe(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||xv(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(xv(e[r])){const v=e[r];e[r]=(p=v.next)==null?void 0:p.bind(v),e[r+1]=(y=v.error)==null?void 0:y.bind(v),e[r+2]=(b=v.complete)==null?void 0:b.bind(v)}let l,d,h;if(n instanceof Et)d=ct(n.firestore,rs),h=tu(n._key.path),l={next:v=>{e[r]&&e[r](N1(d,n,v))},error:e[r+1],complete:e[r+2]};else{const v=ct(n,an);d=ct(v.firestore,rs),h=v._query;const C=new tc(d);l={next:S=>{e[r]&&e[r](new Vr(d,C,v,S))},error:e[r+1],complete:e[r+2]},iI(n._query)}const f=Gs(d);return X$(f,h,i,l)}function Zq(n,e){n=ct(n,rs);const t=Gs(n),r=xv(e)?e:{next:e};return sq(t,r)}function Xf(n,e){const t=Gs(n);return tq(t,e)}function N1(n,e,t){const r=t.docs.get(e._key),i=new tc(n);return new dr(n,i,e._key,r,new wl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){CB(Eo),mr(new rn("firestore",((r,{instanceIdentifier:i,options:l})=>{const d=r.getProvider("app").getImmediate(),h=new rs(new OB(r.getProvider("auth-internal")),new LB(d,r.getProvider("app-check-internal")),jF(d,i),d);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),tn(HS,GS,e),tn(HS,GS,"esm2020")})();const eH="@firebase/firestore-compat",tH="0.4.4";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ge("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(){if(typeof Uint8Array>"u")throw new ge("unimplemented","Uint8Arrays are not available in this environment.")}function XS(){if(!bF())throw new ge("unimplemented","Blobs are unavailable in Firestore in this environment.")}let fI=class yv{constructor(e){this._delegate=e}static fromBase64String(e){return XS(),new yv(qs.fromBase64String(e))}static fromUint8Array(e){return JS(),new yv(qs.fromUint8Array(e))}toBase64(){return XS(),this._delegate.toBase64()}toUint8Array(){return JS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(n){return sH(n,["next","error","complete"])}function sH(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{enableIndexedDbPersistence(e,t){return hq(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return fq(e._delegate)}clearIndexedDbPersistence(e){return mq(e._delegate)}}class mI{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof vo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ea("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){lq(this._delegate,e,t,r)}enableNetwork(){return gq(this._delegate)}disableNetwork(){return xq(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,M4("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return pq(this._delegate)}onSnapshotsInSync(e){return Zq(this._delegate,e)}get app(){if(!this._appCompat)throw new ge("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qd(this,KC(this._delegate,e))}catch(t){throw en(t,"collection()","Firestore.collection()")}}doc(e){try{return new or(this,Mg(this._delegate,e))}catch(t){throw en(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Zs(this,cq(this._delegate,e))}catch(t){throw en(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return qq(this._delegate,t=>e(new pI(this,t)))}batch(){return Gs(this._delegate),new gI(new Bq(this._delegate,e=>Xf(this._delegate,e)))}loadBundle(e){return yq(this._delegate,e)}namedQuery(e){return bq(this._delegate,e).then(t=>t?new Zs(this,t):null)}}class Ax extends v1{constructor(e){super(),this.firestore=e}convertBytes(e){return new fI(new qs(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return or.forKey(t,this.firestore,null)}}function rH(n){IB(n)}class pI{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ax(e)}get(e){const t=jl(e);return this._delegate.get(t).then(r=>new _f(this._firestore,new dr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=jl(e);return r?(T1("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=jl(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=jl(e);return this._delegate.delete(t),this}}class gI{constructor(e){this._delegate=e}set(e,t,r){const i=jl(e);return r?(T1("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=jl(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=jl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Kl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Jh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Nf(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Kl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Kl(e,new Ax(e),t),i.set(t,l)),l}}Kl.INSTANCES=new WeakMap;class or{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ax(e)}static forPath(e,t,r){if(e.length%2!==0)throw new ge("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new or(t,new Et(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new or(t,new Et(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new qd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qd(this.firestore,KC(this._delegate,e))}catch(t){throw en(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Oe(e),e instanceof Et?WC(this._delegate,e):!1}set(e,t){t=T1("DocumentReference.set",t);try{return t?YS(this._delegate,e,t):YS(this._delegate,e)}catch(r){throw en(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?QS(this._delegate,e):QS(this._delegate,e,t,...r)}catch(i){throw en(i,"updateDoc()","DocumentReference.update()")}}delete(){return Jq(this._delegate)}onSnapshot(...e){const t=xI(e),r=yI(e,i=>new _f(this.firestore,new dr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return hI(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=Gq(this._delegate):(e==null?void 0:e.source)==="server"?t=Kq(this._delegate):t=Hq(this._delegate),t.then(r=>new _f(this.firestore,new dr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new or(this.firestore,e?this._delegate.withConverter(Kl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function en(n,e,t){return n.message=n.message.replace(e,t),n}function xI(n){for(const e of n)if(typeof e=="object"&&!bv(e))return e;return{}}function yI(n,e){var r,i;let t;return bv(n[0])?t=n[0]:bv(n[1])?t=n[1]:typeof n[0]=="function"?t={next:n[0],error:n[1],complete:n[2]}:t={next:n[1],error:n[2],complete:n[3]},{next:l=>{t.next&&t.next(e(l))},error:(r=t.error)==null?void 0:r.bind(t),complete:(i=t.complete)==null?void 0:i.bind(t)}}class _f{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new or(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return uI(this._delegate,e._delegate)}}class Nf extends _f{data(e){const t=this._delegate.data(e);return this._delegate._converter||RB(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Zs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ax(e)}where(e,t,r){try{return new Zs(this.firestore,Zi(this._delegate,Cq(e,t,r)))}catch(i){throw en(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Zs(this.firestore,Zi(this._delegate,Iq(e,t)))}catch(r){throw en(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Zs(this.firestore,Zi(this._delegate,Rq(e)))}catch(t){throw en(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Zs(this.firestore,Zi(this._delegate,Pq(e)))}catch(t){throw en(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Zs(this.firestore,Zi(this._delegate,Dq(...e)))}catch(t){throw en(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Zs(this.firestore,Zi(this._delegate,Oq(...e)))}catch(t){throw en(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Zs(this.firestore,Zi(this._delegate,Mq(...e)))}catch(t){throw en(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Zs(this.firestore,Zi(this._delegate,Vq(...e)))}catch(t){throw en(t,"endAt()","Query.endAt()")}}isEqual(e){return YC(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=Yq(this._delegate):(e==null?void 0:e.source)==="server"?t=Qq(this._delegate):t=Wq(this._delegate),t.then(r=>new vv(this.firestore,new Vr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=xI(e),r=yI(e,i=>new vv(this.firestore,new Vr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return hI(this._delegate,t,r)}withConverter(e){return new Zs(this.firestore,e?this._delegate.withConverter(Kl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class aH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Nf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Nf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new aH(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Nf(this._firestore,r))})}isEqual(e){return uI(this._delegate,e._delegate)}}class qd extends Zs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new or(this.firestore,e):null}doc(e){try{return e===void 0?new or(this.firestore,Mg(this._delegate)):new or(this.firestore,Mg(this._delegate,e))}catch(t){throw en(t,"doc()","CollectionReference.doc()")}}add(e){return Xq(this._delegate,e).then(t=>new or(this.firestore,t))}isEqual(e){return WC(this._delegate,e._delegate)}withConverter(e){return new qd(this.firestore,e?this._delegate.withConverter(Kl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function jl(n){return ct(n,Et)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(...e){this._delegate=new Hl(...e)}static documentId(){return new S1(Bt.keyField().canonicalString())}isEqual(e){return e=Oe(e),e instanceof Hl?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{static serverTimestamp(){const e=Tq();return e._methodName="FieldValue.serverTimestamp",new yl(e)}static delete(){const e=Nq();return e._methodName="FieldValue.delete",new yl(e)}static arrayUnion(...e){const t=Sq(...e);return t._methodName="FieldValue.arrayUnion",new yl(t)}static arrayRemove(...e){const t=Eq(...e);return t._methodName="FieldValue.arrayRemove",new yl(t)}static increment(e){const t=kq(e);return t._methodName="FieldValue.increment",new yl(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH={Firestore:mI,GeoPoint:Or,Timestamp:ht,Blob:fI,Transaction:pI,WriteBatch:gI,DocumentReference:or,DocumentSnapshot:_f,Query:Zs,QueryDocumentSnapshot:Nf,QuerySnapshot:vv,CollectionReference:qd,FieldPath:S1,FieldValue:yl,setLogLevel:rH,CACHE_SIZE_UNLIMITED:uq};function oH(n,e){n.INTERNAL.registerComponent(new rn("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...iH}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(n){oH(n,(e,t)=>new mI(e,t,new nH)),n.registerVersion(eH,tH)}lH(ko);const bI="@firebase/installations",E1="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=1e4,wI=`w:${E1}`,jI="FIS_v2",cH="https://firebaseinstallations.googleapis.com/v1",dH=3600*1e3,uH="installations",hH="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wl=new di(uH,hH,fH);function _I(n){return n instanceof Ms&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI({projectId:n}){return`${cH}/projects/${n}/installations`}function TI(n){return{token:n.token,requestStatus:2,expiresIn:pH(n.expiresIn),creationTime:Date.now()}}async function SI(n,e){const r=(await e.json()).error;return Wl.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function EI({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function mH(n,{refreshToken:e}){const t=EI(n);return t.append("Authorization",gH(e)),t}async function kI(n){const e=await n();return e.status>=500&&e.status<600?n():e}function pH(n){return Number(n.replace("s","000"))}function gH(n){return`${jI} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xH({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=NI(n),i=EI(n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const d={fid:t,authVersion:jI,appId:n.appId,sdkVersion:wI},h={method:"POST",headers:i,body:JSON.stringify(d)},f=await kI(()=>fetch(r,h));if(f.ok){const p=await f.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:TI(p.authToken)}}else throw await SI("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yH(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=/^[cdef][\w-]{21}$/,wv="";function vH(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=wH(n);return bH.test(t)?t:wv}catch{return wv}}function wH(n){return yH(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new Map;function II(n,e){const t=Cx(n);RI(t,e),jH(t,e)}function RI(n,e){const t=CI.get(n);if(t)for(const r of t)r(e)}function jH(n,e){const t=_H();t&&t.postMessage({key:n,fid:e}),NH()}let _l=null;function _H(){return!_l&&"BroadcastChannel"in self&&(_l=new BroadcastChannel("[Firebase] FID Change"),_l.onmessage=n=>{RI(n.data.key,n.data.fid)}),_l}function NH(){CI.size===0&&_l&&(_l.close(),_l=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH="firebase-installations-database",SH=1,Yl="firebase-installations-store";let pb=null;function k1(){return pb||(pb=vk(TH,SH,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Yl)}}})),pb}async function Lg(n,e){const t=Cx(n),i=(await k1()).transaction(Yl,"readwrite"),l=i.objectStore(Yl),d=await l.get(t);return await l.put(e,t),await i.done,(!d||d.fid!==e.fid)&&II(n,e.fid),e}async function PI(n){const e=Cx(n),r=(await k1()).transaction(Yl,"readwrite");await r.objectStore(Yl).delete(e),await r.done}async function Ix(n,e){const t=Cx(n),i=(await k1()).transaction(Yl,"readwrite"),l=i.objectStore(Yl),d=await l.get(t),h=e(d);return h===void 0?await l.delete(t):await l.put(h,t),await i.done,h&&(!d||d.fid!==h.fid)&&II(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(n){let e;const t=await Ix(n.appConfig,r=>{const i=EH(r),l=kH(n,i);return e=l.registrationPromise,l.installationEntry});return t.fid===wv?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function EH(n){const e=n||{fid:vH(),registrationStatus:0};return DI(e)}function kH(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Wl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=AH(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:CH(n)}:{installationEntry:e}}async function AH(n,e){try{const t=await xH(n,e);return Lg(n.appConfig,t)}catch(t){throw _I(t)&&t.customData.serverCode===409?await PI(n.appConfig):await Lg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function CH(n){let e=await ZS(n.appConfig);for(;e.registrationStatus===1;)await AI(100),e=await ZS(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await A1(n);return r||t}return e}function ZS(n){return Ix(n,e=>{if(!e)throw Wl.create("installation-not-found");return DI(e)})}function DI(n){return IH(n)?{fid:n.fid,registrationStatus:0}:n}function IH(n){return n.registrationStatus===1&&n.registrationTime+vI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RH({appConfig:n,heartbeatServiceProvider:e},t){const r=PH(n,t),i=mH(n,t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const d={installation:{sdkVersion:wI,appId:n.appId}},h={method:"POST",headers:i,body:JSON.stringify(d)},f=await kI(()=>fetch(r,h));if(f.ok){const p=await f.json();return TI(p)}else throw await SI("Generate Auth Token",f)}function PH(n,{fid:e}){return`${NI(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(n,e=!1){let t;const r=await Ix(n.appConfig,l=>{if(!OI(l))throw Wl.create("not-registered");const d=l.authToken;if(!e&&MH(d))return l;if(d.requestStatus===1)return t=DH(n,e),l;{if(!navigator.onLine)throw Wl.create("app-offline");const h=LH(l);return t=OH(n,h),h}});return t?await t:r.authToken}async function DH(n,e){let t=await eE(n.appConfig);for(;t.authToken.requestStatus===1;)await AI(100),t=await eE(n.appConfig);const r=t.authToken;return r.requestStatus===0?C1(n,e):r}function eE(n){return Ix(n,e=>{if(!OI(e))throw Wl.create("not-registered");const t=e.authToken;return zH(t)?{...e,authToken:{requestStatus:0}}:e})}async function OH(n,e){try{const t=await RH(n,e),r={...e,authToken:t};return await Lg(n.appConfig,r),t}catch(t){if(_I(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await PI(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Lg(n.appConfig,r)}throw t}}function OI(n){return n!==void 0&&n.registrationStatus===2}function MH(n){return n.requestStatus===2&&!VH(n)}function VH(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+dH}function LH(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function zH(n){return n.requestStatus===1&&n.requestTime+vI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UH(n){const e=n,{installationEntry:t,registrationPromise:r}=await A1(e);return r?r.catch(console.error):C1(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BH(n,e=!1){const t=n;return await FH(t),(await C1(t,e)).token}async function FH(n){const{registrationPromise:e}=await A1(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $H(n){if(!n||!n.options)throw gb("App Configuration");if(!n.name)throw gb("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw gb(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function gb(n){return Wl.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="installations",qH="installations-internal",HH=n=>{const e=n.getProvider("app").getImmediate(),t=$H(e),r=Kg(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},GH=n=>{const e=n.getProvider("app").getImmediate(),t=Kg(e,MI).getImmediate();return{getId:()=>UH(t),getToken:i=>BH(t,i)}};function KH(){mr(new rn(MI,HH,"PUBLIC")),mr(new rn(qH,GH,"PRIVATE"))}KH();tn(bI,E1);tn(bI,E1,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="analytics",WH="firebase_id",YH="origin",QH=60*1e3,JH="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",I1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Cf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zn=new di("analytics","Analytics",XH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZH(n){if(!n.startsWith(I1)){const e=zn.create("invalid-gtag-resource",{gtagURL:n});return Ts.warn(e.message),""}return n}function VI(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function eG(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function tG(n,e){const t=eG("firebase-js-sdk-policy",{createScriptURL:ZH}),r=document.createElement("script"),i=`${I1}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function sG(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function nG(n,e,t,r,i,l){const d=r[i];try{if(d)await e[d];else{const f=(await VI(t)).find(p=>p.measurementId===i);f&&await e[f.appId]}}catch(h){Ts.error(h)}n("config",i,l)}async function rG(n,e,t,r,i){try{let l=[];if(i&&i.send_to){let d=i.send_to;Array.isArray(d)||(d=[d]);const h=await VI(t);for(const f of d){const p=h.find(b=>b.measurementId===f),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",r,i||{})}catch(l){Ts.error(l)}}function aG(n,e,t,r){async function i(l,...d){try{if(l==="event"){const[h,f]=d;await rG(n,e,t,h,f)}else if(l==="config"){const[h,f]=d;await nG(n,e,t,r,h,f)}else if(l==="consent"){const[h,f]=d;n("consent",h,f)}else if(l==="get"){const[h,f,p]=d;n("get",h,f,p)}else if(l==="set"){const[h]=d;n("set",h)}else n(l,...d)}catch(h){Ts.error(h)}}return i}function iG(n,e,t,r,i){let l=function(...d){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(l=window[i]),window[i]=aG(l,n,e,t),{gtagCore:l,wrappedGtag:window[i]}}function oG(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(I1)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=30,cG=1e3;class dG{constructor(e={},t=cG){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const LI=new dG;function uG(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function hG(n){var d;const{appId:e,apiKey:t}=n,r={method:"GET",headers:uG(t)},i=JH.replace("{app-id}",e),l=await fetch(i,r);if(l.status!==200&&l.status!==304){let h="";try{const f=await l.json();(d=f.error)!=null&&d.message&&(h=f.error.message)}catch{}throw zn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:h})}return l.json()}async function fG(n,e=LI,t){const{appId:r,apiKey:i,measurementId:l}=n.options;if(!r)throw zn.create("no-app-id");if(!i){if(l)return{measurementId:l,appId:r};throw zn.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new gG;return setTimeout(async()=>{h.abort()},QH),zI({appId:r,apiKey:i,measurementId:l},d,h,e)}async function zI(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=LI){var h;const{appId:l,measurementId:d}=n;try{await mG(r,e)}catch(f){if(d)return Ts.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:d};throw f}try{const f=await hG(n);return i.deleteThrottleMetadata(l),f}catch(f){const p=f;if(!pG(p)){if(i.deleteThrottleMetadata(l),d)return Ts.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:d};throw f}const y=Number((h=p==null?void 0:p.customData)==null?void 0:h.httpStatus)===503?K2(t,i.intervalMillis,lG):K2(t,i.intervalMillis),b={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return i.setThrottleMetadata(l,b),Ts.debug(`Calling attemptFetch again in ${y} millis`),zI(n,b,r,i)}}function mG(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),l=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(l),r(zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pG(n){if(!(n instanceof Ms)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class gG{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function xG(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const l=await e,d={...r,send_to:l};n("event",t,d)}}async function yG(n,e,t,r){if(r&&r.global)return n("set",{screen_name:t}),Promise.resolve();{const i=await e;n("config",i,{update:!0,screen_name:t})}}async function bG(n,e,t,r){if(r&&r.global)return n("set",{user_id:t}),Promise.resolve();{const i=await e;n("config",i,{update:!0,user_id:t})}}async function vG(n,e,t,r){if(r&&r.global){const i={};for(const l of Object.keys(t))i[`user_properties.${l}`]=t[l];return n("set",i),Promise.resolve()}else{const i=await e;n("config",i,{update:!0,user_properties:t})}}async function wG(n,e){const t=await n;window[`ga-disable-${t}`]=!e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jG(){if(Pl())try{await Kv()}catch(n){return Ts.warn(zn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Ts.warn(zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _G(n,e,t,r,i,l,d){const h=fG(n);h.then(v=>{t[v.measurementId]=v.appId,n.options.measurementId&&v.measurementId!==n.options.measurementId&&Ts.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Ts.error(v)),e.push(h);const f=jG().then(v=>{if(v)return r.getId()}),[p,y]=await Promise.all([h,f]);oG(l)||tG(l,p.measurementId),i("js",new Date);const b=(d==null?void 0:d.config)??{};return b[YH]="firebase",b.update=!0,y!=null&&(b[WH]=y),i("config",p.measurementId,b),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NG=class{constructor(e){this.app=e}_delete(){return delete si[this.app.options.appId],Promise.resolve()}},si={},sE=[];const nE={};let ig="dataLayer",UI="gtag",rE,Zf,jv=!1;function TG(n){if(jv)throw zn.create("already-initialized");n.dataLayerName&&(ig=n.dataLayerName),n.gtagName&&(UI=n.gtagName)}function SG(){const n=[];if(Gg()&&n.push("This is a browser extension environment."),mk()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=zn.create("invalid-analytics-context",{errorInfo:e});Ts.warn(t.message)}}function EG(n,e,t){SG();const r=n.options.appId;if(!r)throw zn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ts.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zn.create("no-api-key");if(si[r]!=null)throw zn.create("already-exists",{id:r});if(!jv){sG(ig);const{wrappedGtag:l,gtagCore:d}=iG(si,sE,nE,ig,UI);Zf=l,rE=d,jv=!0}return si[r]=_G(n,sE,nE,e,rE,ig,t),new NG(n)}async function kG(){if(Gg()||!mk()||!Pl())return!1;try{return await Kv()}catch{return!1}}function AG(n,e,t){n=Oe(n),yG(Zf,si[n.app.options.appId],e,t).catch(r=>Ts.error(r))}function CG(n,e,t){n=Oe(n),bG(Zf,si[n.app.options.appId],e,t).catch(r=>Ts.error(r))}function BI(n,e,t){n=Oe(n),vG(Zf,si[n.app.options.appId],e,t).catch(r=>Ts.error(r))}function IG(n,e){n=Oe(n),wG(si[n.app.options.appId],e).catch(t=>Ts.error(t))}function FI(n,e,t,r){n=Oe(n),xG(Zf,si[n.app.options.appId],e,t,r).catch(i=>Ts.error(i))}const aE="@firebase/analytics",iE="0.10.19";function RG(){mr(new rn(tE,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return EG(r,i,t)},"PUBLIC")),mr(new rn("analytics-internal",n,"PRIVATE")),tn(aE,iE),tn(aE,iE,"esm2020");function n(e){try{const t=e.getProvider(tE).getImmediate();return{logEvent:(r,i,l)=>FI(t,r,i,l),setUserProperties:(r,i)=>BI(t,r,i)}}catch(t){throw zn.create("interop-component-reg-failed",{reason:t})}}}RG();const PG="@firebase/analytics-compat",DG="0.2.25";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t){this.app=e,this._delegate=t}logEvent(e,t,r){FI(this._delegate,e,t,r)}setCurrentScreen(e,t){AG(this._delegate,e,t)}setUserId(e,t){CG(this._delegate,e,t)}setUserProperties(e,t){BI(this._delegate,e,t)}setAnalyticsCollectionEnabled(e){IG(this._delegate,e)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _v;(function(n){n.ADD_SHIPPING_INFO="add_shipping_info",n.ADD_PAYMENT_INFO="add_payment_info",n.ADD_TO_CART="add_to_cart",n.ADD_TO_WISHLIST="add_to_wishlist",n.BEGIN_CHECKOUT="begin_checkout",n.CHECKOUT_PROGRESS="checkout_progress",n.EXCEPTION="exception",n.GENERATE_LEAD="generate_lead",n.LOGIN="login",n.PAGE_VIEW="page_view",n.PURCHASE="purchase",n.REFUND="refund",n.REMOVE_FROM_CART="remove_from_cart",n.SCREEN_VIEW="screen_view",n.SEARCH="search",n.SELECT_CONTENT="select_content",n.SELECT_ITEM="select_item",n.SELECT_PROMOTION="select_promotion",n.SET_CHECKOUT_OPTION="set_checkout_option",n.SHARE="share",n.SIGN_UP="sign_up",n.TIMING_COMPLETE="timing_complete",n.VIEW_CART="view_cart",n.VIEW_ITEM="view_item",n.VIEW_ITEM_LIST="view_item_list",n.VIEW_PROMOTION="view_promotion",n.VIEW_SEARCH_RESULTS="view_search_results"})(_v||(_v={}));/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG=n=>{const e=n.getProvider("app-compat").getImmediate(),t=n.getProvider("analytics").getImmediate();return new $I(e,t)};function MG(){const n={Analytics:$I,settings:TG,isSupported:kG,EventName:_v};ko.INTERNAL.registerComponent(new rn("analytics-compat",OG,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}MG();ko.registerVersion(PG,DG);const VG={apiKey:"AIzaSyDxhDxNIO-Svce0yRajiWPT0Xw22IwPBvE",authDomain:"traffic-websites.firebaseapp.com",projectId:"traffic-websites",storageBucket:"traffic-websites.firebasestorage.app",messagingSenderId:"617379565314",appId:"1:617379565314:web:8f9ce22c31b2548cc4bc1b",measurementId:"G-SWTXXWP99R"},R1=ko.initializeApp(VG);R1.auth();R1.firestore();R1.analytics();const qI=document.getElementById("root");if(!qI)throw new Error("Could not find root element to mount to");const LG=PP.createRoot(qI);LG.render(s.jsx(Fe.StrictMode,{children:s.jsx(fE,{children:s.jsx(S5,{children:s.jsx(M9,{})})})}));
