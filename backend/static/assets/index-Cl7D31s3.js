var gR=Object.defineProperty;var xR=(n,e,t)=>e in n?gR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ma=(n,e,t)=>xR(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();function of(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ny={exports:{}},Gd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN;function yR(){if(xN)return Gd;xN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var h in i)h!=="key"&&(l[h]=i[h])}else l=i;return i=l.ref,{$$typeof:n,type:s,key:u,ref:i!==void 0?i:null,props:l}}return Gd.Fragment=e,Gd.jsx=t,Gd.jsxs=t,Gd}var yN;function bR(){return yN||(yN=1,ny.exports=yR()),ny.exports}var r=bR(),sy={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function vR(){if(bN)return Ue;bN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function k(q){return q===null||typeof q!="object"?null:(q=v&&q[v]||q["@@iterator"],typeof q=="function"?q:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,D={};function P(q,U,pe){this.props=q,this.context=U,this.refs=D,this.updater=pe||I}P.prototype.isReactComponent={},P.prototype.setState=function(q,U){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,U,"setState")},P.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function M(){}M.prototype=P.prototype;function z(q,U,pe){this.props=q,this.context=U,this.refs=D,this.updater=pe||I}var le=z.prototype=new M;le.constructor=z,R(le,P.prototype),le.isPureReactComponent=!0;var L=Array.isArray;function H(){}var T={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function E(q,U,pe){var ve=pe.ref;return{$$typeof:n,type:q,key:U,ref:ve!==void 0?ve:null,props:pe}}function O(q,U){return E(q.type,U,q.props)}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function G(q){var U={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(pe){return U[pe]})}var V=/\/+/g;function ie(q,U){return typeof q=="object"&&q!==null&&q.key!=null?G(""+q.key):U.toString(36)}function Re(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(H,H):(q.status="pending",q.then(function(U){q.status==="pending"&&(q.status="fulfilled",q.value=U)},function(U){q.status==="pending"&&(q.status="rejected",q.reason=U)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function X(q,U,pe,ve,Ae){var Me=typeof q;(Me==="undefined"||Me==="boolean")&&(q=null);var He=!1;if(q===null)He=!0;else switch(Me){case"bigint":case"string":case"number":He=!0;break;case"object":switch(q.$$typeof){case n:case e:He=!0;break;case y:return He=q._init,X(He(q._payload),U,pe,ve,Ae)}}if(He)return Ae=Ae(q),He=ve===""?"."+ie(q,0):ve,L(Ae)?(pe="",He!=null&&(pe=He.replace(V,"$&/")+"/"),X(Ae,U,pe,"",function(Te){return Te})):Ae!=null&&(F(Ae)&&(Ae=O(Ae,pe+(Ae.key==null||q&&q.key===Ae.key?"":(""+Ae.key).replace(V,"$&/")+"/")+He)),U.push(Ae)),1;He=0;var Tt=ve===""?".":ve+":";if(L(q))for(var gt=0;gt<q.length;gt++)ve=q[gt],Me=Tt+ie(ve,gt),He+=X(ve,U,pe,Me,Ae);else if(gt=k(q),typeof gt=="function")for(q=gt.call(q),gt=0;!(ve=q.next()).done;)ve=ve.value,Me=Tt+ie(ve,gt++),He+=X(ve,U,pe,Me,Ae);else if(Me==="object"){if(typeof q.then=="function")return X(Re(q),U,pe,ve,Ae);throw U=String(q),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return He}function W(q,U,pe){if(q==null)return q;var ve=[],Ae=0;return X(q,ve,"","",function(Me){return U.call(pe,Me,Ae++)}),ve}function ue(q){if(q._status===-1){var U=q._result;U=U(),U.then(function(pe){(q._status===0||q._status===-1)&&(q._status=1,q._result=pe)},function(pe){(q._status===0||q._status===-1)&&(q._status=2,q._result=pe)}),q._status===-1&&(q._status=0,q._result=U)}if(q._status===1)return q._result.default;throw q._result}var Pe=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ze={map:W,forEach:function(q,U,pe){W(q,function(){U.apply(this,arguments)},pe)},count:function(q){var U=0;return W(q,function(){U++}),U},toArray:function(q){return W(q,function(U){return U})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Ue.Activity=b,Ue.Children=ze,Ue.Component=P,Ue.Fragment=t,Ue.Profiler=i,Ue.PureComponent=z,Ue.StrictMode=s,Ue.Suspense=f,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(q){return T.H.useMemoCache(q)}},Ue.cache=function(q){return function(){return q.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(q,U,pe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ve=R({},q.props),Ae=q.key;if(U!=null)for(Me in U.key!==void 0&&(Ae=""+U.key),U)!N.call(U,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&U.ref===void 0||(ve[Me]=U[Me]);var Me=arguments.length-2;if(Me===1)ve.children=pe;else if(1<Me){for(var He=Array(Me),Tt=0;Tt<Me;Tt++)He[Tt]=arguments[Tt+2];ve.children=He}return E(q.type,Ae,ve)},Ue.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},Ue.createElement=function(q,U,pe){var ve,Ae={},Me=null;if(U!=null)for(ve in U.key!==void 0&&(Me=""+U.key),U)N.call(U,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ae[ve]=U[ve]);var He=arguments.length-2;if(He===1)Ae.children=pe;else if(1<He){for(var Tt=Array(He),gt=0;gt<He;gt++)Tt[gt]=arguments[gt+2];Ae.children=Tt}if(q&&q.defaultProps)for(ve in He=q.defaultProps,He)Ae[ve]===void 0&&(Ae[ve]=He[ve]);return E(q,Me,Ae)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(q){return{$$typeof:h,render:q}},Ue.isValidElement=F,Ue.lazy=function(q){return{$$typeof:y,_payload:{_status:-1,_result:q},_init:ue}},Ue.memo=function(q,U){return{$$typeof:g,type:q,compare:U===void 0?null:U}},Ue.startTransition=function(q){var U=T.T,pe={};T.T=pe;try{var ve=q(),Ae=T.S;Ae!==null&&Ae(pe,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(H,Pe)}catch(Me){Pe(Me)}finally{U!==null&&pe.types!==null&&(U.types=pe.types),T.T=U}},Ue.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ue.use=function(q){return T.H.use(q)},Ue.useActionState=function(q,U,pe){return T.H.useActionState(q,U,pe)},Ue.useCallback=function(q,U){return T.H.useCallback(q,U)},Ue.useContext=function(q){return T.H.useContext(q)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(q,U){return T.H.useDeferredValue(q,U)},Ue.useEffect=function(q,U){return T.H.useEffect(q,U)},Ue.useEffectEvent=function(q){return T.H.useEffectEvent(q)},Ue.useId=function(){return T.H.useId()},Ue.useImperativeHandle=function(q,U,pe){return T.H.useImperativeHandle(q,U,pe)},Ue.useInsertionEffect=function(q,U){return T.H.useInsertionEffect(q,U)},Ue.useLayoutEffect=function(q,U){return T.H.useLayoutEffect(q,U)},Ue.useMemo=function(q,U){return T.H.useMemo(q,U)},Ue.useOptimistic=function(q,U){return T.H.useOptimistic(q,U)},Ue.useReducer=function(q,U,pe){return T.H.useReducer(q,U,pe)},Ue.useRef=function(q){return T.H.useRef(q)},Ue.useState=function(q){return T.H.useState(q)},Ue.useSyncExternalStore=function(q,U,pe){return T.H.useSyncExternalStore(q,U,pe)},Ue.useTransition=function(){return T.H.useTransition()},Ue.version="19.2.4",Ue}var vN;function $b(){return vN||(vN=1,sy.exports=vR()),sy.exports}var S=$b();const yr=of(S);var ry={exports:{}},Hd={},ay={exports:{}},iy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wN;function wR(){return wN||(wN=1,(function(n){function e(X,W){var ue=X.length;X.push(W);e:for(;0<ue;){var Pe=ue-1>>>1,ze=X[Pe];if(0<i(ze,W))X[Pe]=W,X[ue]=ze,ue=Pe;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var W=X[0],ue=X.pop();if(ue!==W){X[0]=ue;e:for(var Pe=0,ze=X.length,q=ze>>>1;Pe<q;){var U=2*(Pe+1)-1,pe=X[U],ve=U+1,Ae=X[ve];if(0>i(pe,ue))ve<ze&&0>i(Ae,pe)?(X[Pe]=Ae,X[ve]=ue,Pe=ve):(X[Pe]=pe,X[U]=ue,Pe=U);else if(ve<ze&&0>i(Ae,ue))X[Pe]=Ae,X[ve]=ue,Pe=ve;else break e}}return W}function i(X,W){var ue=X.sortIndex-W.sortIndex;return ue!==0?ue:X.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],g=[],y=1,b=null,v=3,k=!1,I=!1,R=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function le(X){for(var W=t(g);W!==null;){if(W.callback===null)s(g);else if(W.startTime<=X)s(g),W.sortIndex=W.expirationTime,e(f,W);else break;W=t(g)}}function L(X){if(R=!1,le(X),!I)if(t(f)!==null)I=!0,H||(H=!0,G());else{var W=t(g);W!==null&&Re(L,W.startTime-X)}}var H=!1,T=-1,N=5,E=-1;function O(){return D?!0:!(n.unstable_now()-E<N)}function F(){if(D=!1,H){var X=n.unstable_now();E=X;var W=!0;try{e:{I=!1,R&&(R=!1,M(T),T=-1),k=!0;var ue=v;try{t:{for(le(X),b=t(f);b!==null&&!(b.expirationTime>X&&O());){var Pe=b.callback;if(typeof Pe=="function"){b.callback=null,v=b.priorityLevel;var ze=Pe(b.expirationTime<=X);if(X=n.unstable_now(),typeof ze=="function"){b.callback=ze,le(X),W=!0;break t}b===t(f)&&s(f),le(X)}else s(f);b=t(f)}if(b!==null)W=!0;else{var q=t(g);q!==null&&Re(L,q.startTime-X),W=!1}}break e}finally{b=null,v=ue,k=!1}W=void 0}}finally{W?G():H=!1}}}var G;if(typeof z=="function")G=function(){z(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ie=V.port2;V.port1.onmessage=F,G=function(){ie.postMessage(null)}}else G=function(){P(F,0)};function Re(X,W){T=P(function(){X(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(X){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var ue=v;v=W;try{return X()}finally{v=ue}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(X,W){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ue=v;v=X;try{return W()}finally{v=ue}},n.unstable_scheduleCallback=function(X,W,ue){var Pe=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Pe+ue:Pe):ue=Pe,X){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=ue+ze,X={id:y++,callback:W,priorityLevel:X,startTime:ue,expirationTime:ze,sortIndex:-1},ue>Pe?(X.sortIndex=ue,e(g,X),t(f)===null&&X===t(g)&&(R?(M(T),T=-1):R=!0,Re(L,ue-Pe))):(X.sortIndex=ze,e(f,X),I||k||(I=!0,H||(H=!0,G()))),X},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(X){var W=v;return function(){var ue=v;v=W;try{return X.apply(this,arguments)}finally{v=ue}}}})(iy)),iy}var _N;function _R(){return _N||(_N=1,ay.exports=wR()),ay.exports}var oy={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jN;function jR(){if(jN)return Vn;jN=1;var n=$b();function e(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(f,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:f,containerInfo:g,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Vn.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(f,g,null,y)},Vn.flushSync=function(f){var g=u.T,y=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=g,s.p=y,s.d.f()}},Vn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(f,g))},Vn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Vn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:k}):y==="script"&&s.d.X(f,{crossOrigin:b,integrity:v,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Vn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);s.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(f)},Vn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin);s.d.L(f,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Vn.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=h(g.as,g.crossOrigin);s.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(f)},Vn.requestFormReset=function(f){s.d.r(f)},Vn.unstable_batchedUpdates=function(f,g){return f(g)},Vn.useFormState=function(f,g,y){return u.H.useFormState(f,g,y)},Vn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Vn.version="19.2.4",Vn}var NN;function NR(){if(NN)return oy.exports;NN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),oy.exports=jR(),oy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TN;function TR(){if(TN)return Hd;TN=1;var n=_R(),e=$b(),t=NR();function s(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function u(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function h(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(l(a)!==a)throw Error(s(188))}function g(a){var o=a.alternate;if(!o){if(o=l(a),o===null)throw Error(s(188));return o!==a?null:a}for(var c=a,d=o;;){var p=c.return;if(p===null)break;var x=p.alternate;if(x===null){if(d=p.return,d!==null){c=d;continue}break}if(p.child===x.child){for(x=p.child;x;){if(x===c)return f(p),a;if(x===d)return f(p),o;x=x.sibling}throw Error(s(188))}if(c.return!==d.return)c=p,d=x;else{for(var _=!1,A=p.child;A;){if(A===c){_=!0,c=p,d=x;break}if(A===d){_=!0,d=p,c=x;break}A=A.sibling}if(!_){for(A=x.child;A;){if(A===c){_=!0,c=x,d=p;break}if(A===d){_=!0,d=x,c=p;break}A=A.sibling}if(!_)throw Error(s(189))}}if(c.alternate!==d)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?a:o}function y(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=y(a),o!==null)return o;a=a.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),z=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function G(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var V=Symbol.for("react.client.reference");function ie(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===V?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case R:return"Fragment";case P:return"Profiler";case D:return"StrictMode";case L:return"Suspense";case H:return"SuspenseList";case E:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case I:return"Portal";case z:return a.displayName||"Context";case M:return(a._context.displayName||"Context")+".Consumer";case le:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case T:return o=a.displayName||null,o!==null?o:ie(a.type)||"Memo";case N:o=a._payload,a=a._init;try{return ie(a(o))}catch{}}return null}var Re=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Pe=[],ze=-1;function q(a){return{current:a}}function U(a){0>ze||(a.current=Pe[ze],Pe[ze]=null,ze--)}function pe(a,o){ze++,Pe[ze]=a.current,a.current=o}var ve=q(null),Ae=q(null),Me=q(null),He=q(null);function Tt(a,o){switch(pe(Me,o),pe(Ae,a),pe(ve,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?zj(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=zj(o),a=Bj(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}U(ve),pe(ve,a)}function gt(){U(ve),U(Ae),U(Me)}function Te(a){a.memoizedState!==null&&pe(He,a);var o=ve.current,c=Bj(o,a.type);o!==c&&(pe(Ae,a),pe(ve,c))}function Mn(a){Ae.current===a&&(U(ve),U(Ae)),He.current===a&&(U(He),Bd._currentValue=ue)}var fn,On;function $n(a){if(fn===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);fn=o&&o[1]||"",On=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fn+a+On}var pa=!1;function er(a,o){if(!a||pa)return"";pa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ae){var ne=ae}Reflect.construct(a,[],de)}else{try{de.call()}catch(ae){ne=ae}a.call(de.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(de=a())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),_=x[0],A=x[1];if(_&&A){var B=_.split(`
`),ee=A.split(`
`);for(p=d=0;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;for(;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;if(d===B.length||p===ee.length)for(d=B.length-1,p=ee.length-1;1<=d&&0<=p&&B[d]!==ee[p];)p--;for(;1<=d&&0<=p;d--,p--)if(B[d]!==ee[p]){if(d!==1||p!==1)do if(d--,p--,0>p||B[d]!==ee[p]){var oe=`
`+B[d].replace(" at new "," at ");return a.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",a.displayName)),oe}while(1<=d&&0<=p);break}}}finally{pa=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?$n(c):""}function tr(a,o){switch(a.tag){case 26:case 27:case 5:return $n(a.type);case 16:return $n("Lazy");case 13:return a.child!==o&&o!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return er(a.type,!1);case 11:return er(a.type.render,!1);case 1:return er(a.type,!0);case 31:return $n("Activity");default:return""}}function nr(a){try{var o="",c=null;do o+=tr(a,c),c=a,a=a.return;while(a);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Bt=Object.prototype.hasOwnProperty,Ft=n.unstable_scheduleCallback,sr=n.unstable_cancelCallback,Y=n.unstable_shouldYield,De=n.unstable_requestPaint,ke=n.unstable_now,Ve=n.unstable_getCurrentPriorityLevel,Cs=n.unstable_ImmediatePriority,rr=n.unstable_UserBlockingPriority,Rs=n.unstable_NormalPriority,kr=n.unstable_LowPriority,yo=n.unstable_IdlePriority,Ul=n.log,zl=n.unstable_setDisableYieldValue,ar=null,Nn=null;function Ds(a){if(typeof Ul=="function"&&zl(a),Nn&&typeof Nn.setStrictMode=="function")try{Nn.setStrictMode(ar,a)}catch{}}var Wt=Math.clz32?Math.clz32:Of,Mf=Math.log,Bl=Math.LN2;function Of(a){return a>>>=0,a===0?32:31-(Mf(a)/Bl|0)|0}var Ir=256,bo=262144,tn=4194304;function Cr(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Rr(a,o,c){var d=a.pendingLanes;if(d===0)return 0;var p=0,x=a.suspendedLanes,_=a.pingedLanes;a=a.warmLanes;var A=d&134217727;return A!==0?(d=A&~x,d!==0?p=Cr(d):(_&=A,_!==0?p=Cr(_):c||(c=A&~a,c!==0&&(p=Cr(c))))):(A=d&~x,A!==0?p=Cr(A):_!==0?p=Cr(_):c||(c=d&~a,c!==0&&(p=Cr(c)))),p===0?0:o!==0&&o!==p&&(o&x)===0&&(x=p&-p,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:p}function ir(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function ix(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vf(){var a=tn;return tn<<=1,(tn&62914560)===0&&(tn=4194304),a}function Dr(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function vo(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ox(a,o,c,d,p,x){var _=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var A=a.entanglements,B=a.expirationTimes,ee=a.hiddenUpdates;for(c=_&~c;0<c;){var oe=31-Wt(c),de=1<<oe;A[oe]=0,B[oe]=-1;var ne=ee[oe];if(ne!==null)for(ee[oe]=null,oe=0;oe<ne.length;oe++){var ae=ne[oe];ae!==null&&(ae.lane&=-536870913)}c&=~de}d!==0&&wo(a,d,0),x!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=x&~(_&~o))}function wo(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var d=31-Wt(o);a.entangledLanes|=o,a.entanglements[d]=a.entanglements[d]|1073741824|c&261930}function Hu(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var d=31-Wt(c),p=1<<d;p&o|a[d]&o&&(a[d]|=o),c&=~p}}function Ku(a,o){var c=o&-o;return c=(c&42)!==0?1:_o(c),(c&(a.suspendedLanes|o))!==0?0:c}function _o(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ga(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Lf(){var a=W.p;return a!==0?a:(a=window.event,a===void 0?32:uN(a.type))}function or(a,o){var c=W.p;try{return W.p=a,o()}finally{W.p=c}}var lr=Math.random().toString(36).slice(2),nn="__reactFiber$"+lr,xn="__reactProps$"+lr,Pr="__reactContainer$"+lr,Fl="__reactEvents$"+lr,lx="__reactListeners$"+lr,Uf="__reactHandles$"+lr,zf="__reactResources$"+lr,Mr="__reactMarker$"+lr;function ql(a){delete a[nn],delete a[xn],delete a[Fl],delete a[lx],delete a[Uf]}function Or(a){var o=a[nn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[Pr]||c[nn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=Wj(a);a!==null;){if(c=a[nn])return c;a=Wj(a)}return o}a=c,c=a.parentNode}return null}function Ps(a){if(a=a[nn]||a[Pr]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function hs(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(s(33))}function Vr(a){var o=a[zf];return o||(o=a[zf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function sn(a){a[Mr]=!0}var Wu=new Set,Yu={};function Lr(a,o){Ur(a,o),Ur(a+"Capture",o)}function Ur(a,o){for(Yu[a]=o,a=0;a<o.length;a++)Wu.add(o[a])}var Qu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ju={},Xu={};function Bf(a){return Bt.call(Xu,a)?!0:Bt.call(Ju,a)?!1:Qu.test(a)?Xu[a]=!0:(Ju[a]=!0,!1)}function $l(a,o,c){if(Bf(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function fs(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function rn(a,o,c,d){if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+d)}}function yn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ri(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Zu(a,o,c){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var p=d.get,x=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return p.call(this)},set:function(_){c=""+_,x.call(this,_)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function dt(a){if(!a._valueTracker){var o=ri(a)?"checked":"value";a._valueTracker=Zu(a,o,""+a[o])}}function jo(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return a&&(d=ri(a)?a.checked?"true":"false":a.value),a=d,a!==c?(o.setValue(a),!0):!1}function zr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var No=/[\n"\\]/g;function ts(a){return a.replace(No,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Gl(a,o,c,d,p,x,_,A){a.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?a.type=_:a.removeAttribute("type"),o!=null?_==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+yn(o)):a.value!==""+yn(o)&&(a.value=""+yn(o)):_!=="submit"&&_!=="reset"||a.removeAttribute("value"),o!=null?ed(a,_,yn(o)):c!=null?ed(a,_,yn(c)):d!=null&&a.removeAttribute("value"),p==null&&x!=null&&(a.defaultChecked=!!x),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.name=""+yn(A):a.removeAttribute("name")}function Ff(a,o,c,d,p,x,_,A){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){dt(a);return}c=c!=null?""+yn(c):"",o=o!=null?""+yn(o):c,A||o===a.value||(a.value=o),a.defaultValue=o}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=A?a.checked:!!d,a.defaultChecked=!!d,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.name=_),dt(a)}function ed(a,o,c){o==="number"&&zr(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ai(a,o,c,d){if(a=a.options,o){o={};for(var p=0;p<c.length;p++)o["$"+c[p]]=!0;for(c=0;c<a.length;c++)p=o.hasOwnProperty("$"+a[c].value),a[c].selected!==p&&(a[c].selected=p),p&&d&&(a[c].defaultSelected=!0)}else{for(c=""+yn(c),o=null,p=0;p<a.length;p++){if(a[p].value===c){a[p].selected=!0,d&&(a[p].defaultSelected=!0);return}o!==null||a[p].disabled||(o=a[p])}o!==null&&(o.selected=!0)}}function qf(a,o,c){if(o!=null&&(o=""+yn(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+yn(c):""}function ii(a,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(s(92));if(Re(d)){if(1<d.length)throw Error(s(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=yn(o),a.defaultValue=c,d=a.textContent,d===c&&d!==""&&d!==null&&(a.value=d),dt(a)}function ns(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var $f=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function td(a,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":d?a.setProperty(o,c):typeof c!="number"||c===0||$f.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function nd(a,o,c){if(o!=null&&typeof o!="object")throw Error(s(62));if(a=a.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var p in o)d=o[p],o.hasOwnProperty(p)&&c[p]!==d&&td(a,p,d)}else for(var x in o)o.hasOwnProperty(x)&&td(a,x,o[x])}function Hl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kl(a){return oi.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function cr(){}var sd=null;function Ms(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var li=null,Br=null;function To(a){var o=Ps(a);if(o&&(a=o.stateNode)){var c=a[xn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Gl(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ts(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==a&&d.form===a.form){var p=d[xn]||null;if(!p)throw Error(s(90));Gl(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===a.form&&jo(d)}break e;case"textarea":qf(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&ai(a,!!c.multiple,o,!1)}}}var Wl=!1;function ci(a,o,c){if(Wl)return a(o,c);Wl=!0;try{var d=a(o);return d}finally{if(Wl=!1,(li!==null||Br!==null)&&(Lm(),li&&(o=li,a=Br,Br=li=null,To(o),a)))for(o=0;o<a.length;o++)To(a[o])}}function ur(a,o){var c=a.stateNode;if(c===null)return null;var d=c[xn]||null;if(d===null)return null;c=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(s(231,o,typeof c));return c}var Os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),So=!1;if(Os)try{var xt={};Object.defineProperty(xt,"passive",{get:function(){So=!0}}),window.addEventListener("test",xt,xt),window.removeEventListener("test",xt,xt)}catch{So=!1}var Fr=null,rd=null,Eo=null;function ad(){if(Eo)return Eo;var a,o=rd,c=o.length,d,p="value"in Fr?Fr.value:Fr.textContent,x=p.length;for(a=0;a<c&&o[a]===p[a];a++);var _=c-a;for(d=1;d<=_&&o[c-d]===p[x-d];d++);return Eo=p.slice(a,1<d?1-d:void 0)}function Ao(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function xa(){return!0}function dr(){return!1}function Tn(a){function o(c,d,p,x,_){this._reactName=c,this._targetInst=p,this.type=d,this.nativeEvent=x,this.target=_,this.currentTarget=null;for(var A in a)a.hasOwnProperty(A)&&(c=a[A],this[A]=c?c(x):x[A]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?xa:dr,this.isPropagationStopped=dr,this}return b(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),o}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qr=Tn(ya),ui=b({},ya,{view:0,detail:0}),id=Tn(ui),di,Yl,$r,Ql=b({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==$r&&($r&&a.type==="mousemove"?(di=a.screenX-$r.screenX,Yl=a.screenY-$r.screenY):Yl=di=0,$r=a),di)},movementY:function(a){return"movementY"in a?a.movementY:Yl}}),od=Tn(Ql),ko=b({},Ql,{dataTransfer:0}),Hf=Tn(ko),Kf=b({},ui,{relatedTarget:0}),Io=Tn(Kf),ld=b({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),Wf=Tn(ld),Jl=b({},ya,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Yf=Tn(Jl),Qf=b({},ya,{data:0}),Gr=Tn(Qf),Jf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function em(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Zf[a])?!!o[a]:!1}function hi(){return em}var Gn=b({},ui,{key:function(a){if(a.key){var o=Jf[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ao(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Xf[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hi,charCode:function(a){return a.type==="keypress"?Ao(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ao(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),tm=Tn(Gn),nm=b({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ba=Tn(nm),m=b({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hi}),w=Tn(m),j=b({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Tn(j),J=b({},Ql,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),re=Tn(J),xe=b({},ya,{newState:0,oldState:0}),Be=Tn(xe),Yt=[9,13,27,32],ot=Os&&"CompositionEvent"in window,It=null;Os&&"documentMode"in document&&(It=document.documentMode);var Vs=Os&&"TextEvent"in window&&!It,Hr=Os&&(!ot||It&&8<It&&11>=It),hr=" ",fr=!1;function Co(a,o){switch(a){case"keyup":return Yt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Zl=!1;function z4(a,o){switch(a){case"compositionend":return Xl(o);case"keypress":return o.which!==32?null:(fr=!0,hr);case"textInput":return a=o.data,a===hr&&fr?null:a;default:return null}}function B4(a,o){if(Zl)return a==="compositionend"||!ot&&Co(a,o)?(a=ad(),Eo=rd=Fr=null,Zl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Hr&&o.locale!=="ko"?null:o.data;default:return null}}var F4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jw(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!F4[a.type]:o==="textarea"}function Xw(a,o,c,d){li?Br?Br.push(d):Br=[d]:li=d,o=Gm(o,"onChange"),0<o.length&&(c=new qr("onChange","change",null,c,d),a.push({event:c,listeners:o}))}var cd=null,ud=null;function q4(a){Pj(a,0)}function sm(a){var o=hs(a);if(jo(o))return a}function Zw(a,o){if(a==="change")return o}var e_=!1;if(Os){var cx;if(Os){var ux="oninput"in document;if(!ux){var t_=document.createElement("div");t_.setAttribute("oninput","return;"),ux=typeof t_.oninput=="function"}cx=ux}else cx=!1;e_=cx&&(!document.documentMode||9<document.documentMode)}function n_(){cd&&(cd.detachEvent("onpropertychange",s_),ud=cd=null)}function s_(a){if(a.propertyName==="value"&&sm(ud)){var o=[];Xw(o,ud,a,Ms(a)),ci(q4,o)}}function $4(a,o,c){a==="focusin"?(n_(),cd=o,ud=c,cd.attachEvent("onpropertychange",s_)):a==="focusout"&&n_()}function G4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return sm(ud)}function H4(a,o){if(a==="click")return sm(o)}function K4(a,o){if(a==="input"||a==="change")return sm(o)}function W4(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var ms=typeof Object.is=="function"?Object.is:W4;function dd(a,o){if(ms(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var p=c[d];if(!Bt.call(o,p)||!ms(a[p],o[p]))return!1}return!0}function r_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function a_(a,o){var c=r_(a);a=0;for(var d;c;){if(c.nodeType===3){if(d=a+c.textContent.length,a<=o&&d>=o)return{node:c,offset:o-a};a=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=r_(c)}}function i_(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?i_(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function o_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=zr(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=zr(a.document)}return o}function dx(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var Y4=Os&&"documentMode"in document&&11>=document.documentMode,ec=null,hx=null,hd=null,fx=!1;function l_(a,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;fx||ec==null||ec!==zr(d)||(d=ec,"selectionStart"in d&&dx(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),hd&&dd(hd,d)||(hd=d,d=Gm(hx,"onSelect"),0<d.length&&(o=new qr("onSelect","select",null,o,c),a.push({event:o,listeners:d}),o.target=ec)))}function Ro(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var tc={animationend:Ro("Animation","AnimationEnd"),animationiteration:Ro("Animation","AnimationIteration"),animationstart:Ro("Animation","AnimationStart"),transitionrun:Ro("Transition","TransitionRun"),transitionstart:Ro("Transition","TransitionStart"),transitioncancel:Ro("Transition","TransitionCancel"),transitionend:Ro("Transition","TransitionEnd")},mx={},c_={};Os&&(c_=document.createElement("div").style,"AnimationEvent"in window||(delete tc.animationend.animation,delete tc.animationiteration.animation,delete tc.animationstart.animation),"TransitionEvent"in window||delete tc.transitionend.transition);function Do(a){if(mx[a])return mx[a];if(!tc[a])return a;var o=tc[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in c_)return mx[a]=o[c];return a}var u_=Do("animationend"),d_=Do("animationiteration"),h_=Do("animationstart"),Q4=Do("transitionrun"),J4=Do("transitionstart"),X4=Do("transitioncancel"),f_=Do("transitionend"),m_=new Map,px="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");px.push("scrollEnd");function mr(a,o){m_.set(a,o),Lr(o,[a])}var rm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ls=[],nc=0,gx=0;function am(){for(var a=nc,o=gx=nc=0;o<a;){var c=Ls[o];Ls[o++]=null;var d=Ls[o];Ls[o++]=null;var p=Ls[o];Ls[o++]=null;var x=Ls[o];if(Ls[o++]=null,d!==null&&p!==null){var _=d.pending;_===null?p.next=p:(p.next=_.next,_.next=p),d.pending=p}x!==0&&p_(c,p,x)}}function im(a,o,c,d){Ls[nc++]=a,Ls[nc++]=o,Ls[nc++]=c,Ls[nc++]=d,gx|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function xx(a,o,c,d){return im(a,o,c,d),om(a)}function Po(a,o){return im(a,null,null,o),om(a)}function p_(a,o,c){a.lanes|=c;var d=a.alternate;d!==null&&(d.lanes|=c);for(var p=!1,x=a.return;x!==null;)x.childLanes|=c,d=x.alternate,d!==null&&(d.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(p=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,p&&o!==null&&(p=31-Wt(c),a=x.hiddenUpdates,d=a[p],d===null?a[p]=[o]:d.push(o),o.lane=c|536870912),x):null}function om(a){if(50<Pd)throw Pd=0,S0=null,Error(s(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var sc={};function Z4(a,o,c,d){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(a,o,c,d){return new Z4(a,o,c,d)}function yx(a){return a=a.prototype,!(!a||!a.isReactComponent)}function va(a,o){var c=a.alternate;return c===null?(c=ps(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function g_(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function lm(a,o,c,d,p,x){var _=0;if(d=a,typeof a=="function")yx(a)&&(_=1);else if(typeof a=="string")_=rR(a,c,ve.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case E:return a=ps(31,c,o,p),a.elementType=E,a.lanes=x,a;case R:return Mo(c.children,p,x,o);case D:_=8,p|=24;break;case P:return a=ps(12,c,o,p|2),a.elementType=P,a.lanes=x,a;case L:return a=ps(13,c,o,p),a.elementType=L,a.lanes=x,a;case H:return a=ps(19,c,o,p),a.elementType=H,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case z:_=10;break e;case M:_=9;break e;case le:_=11;break e;case T:_=14;break e;case N:_=16,d=null;break e}_=29,c=Error(s(130,a===null?"null":typeof a,"")),d=null}return o=ps(_,c,o,p),o.elementType=a,o.type=d,o.lanes=x,o}function Mo(a,o,c,d){return a=ps(7,a,d,o),a.lanes=c,a}function bx(a,o,c){return a=ps(6,a,null,o),a.lanes=c,a}function x_(a){var o=ps(18,null,null,0);return o.stateNode=a,o}function vx(a,o,c){return o=ps(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var y_=new WeakMap;function Us(a,o){if(typeof a=="object"&&a!==null){var c=y_.get(a);return c!==void 0?c:(o={value:a,source:o,stack:nr(o)},y_.set(a,o),o)}return{value:a,source:o,stack:nr(o)}}var rc=[],ac=0,cm=null,fd=0,zs=[],Bs=0,fi=null,Kr=1,Wr="";function wa(a,o){rc[ac++]=fd,rc[ac++]=cm,cm=a,fd=o}function b_(a,o,c){zs[Bs++]=Kr,zs[Bs++]=Wr,zs[Bs++]=fi,fi=a;var d=Kr;a=Wr;var p=32-Wt(d)-1;d&=~(1<<p),c+=1;var x=32-Wt(o)+p;if(30<x){var _=p-p%5;x=(d&(1<<_)-1).toString(32),d>>=_,p-=_,Kr=1<<32-Wt(o)+p|c<<p|d,Wr=x+a}else Kr=1<<x|c<<p|d,Wr=a}function wx(a){a.return!==null&&(wa(a,1),b_(a,1,0))}function _x(a){for(;a===cm;)cm=rc[--ac],rc[ac]=null,fd=rc[--ac],rc[ac]=null;for(;a===fi;)fi=zs[--Bs],zs[Bs]=null,Wr=zs[--Bs],zs[Bs]=null,Kr=zs[--Bs],zs[Bs]=null}function v_(a,o){zs[Bs++]=Kr,zs[Bs++]=Wr,zs[Bs++]=fi,Kr=o.id,Wr=o.overflow,fi=a}var Sn=null,St=null,nt=!1,mi=null,Fs=!1,jx=Error(s(519));function pi(a){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw md(Us(o,a)),jx}function w_(a){var o=a.stateNode,c=a.type,d=a.memoizedProps;switch(o[nn]=a,o[xn]=d,c){case"dialog":We("cancel",o),We("close",o);break;case"iframe":case"object":case"embed":We("load",o);break;case"video":case"audio":for(c=0;c<Od.length;c++)We(Od[c],o);break;case"source":We("error",o);break;case"img":case"image":case"link":We("error",o),We("load",o);break;case"details":We("toggle",o);break;case"input":We("invalid",o),Ff(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":We("invalid",o);break;case"textarea":We("invalid",o),ii(o,d.value,d.defaultValue,d.children)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||Lj(o.textContent,c)?(d.popover!=null&&(We("beforetoggle",o),We("toggle",o)),d.onScroll!=null&&We("scroll",o),d.onScrollEnd!=null&&We("scrollend",o),d.onClick!=null&&(o.onclick=cr),o=!0):o=!1,o||pi(a,!0)}function __(a){for(Sn=a.return;Sn;)switch(Sn.tag){case 5:case 31:case 13:Fs=!1;return;case 27:case 3:Fs=!0;return;default:Sn=Sn.return}}function ic(a){if(a!==Sn)return!1;if(!nt)return __(a),nt=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||B0(a.type,a.memoizedProps)),c=!c),c&&St&&pi(a),__(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));St=Kj(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));St=Kj(a)}else o===27?(o=St,ki(a.type)?(a=H0,H0=null,St=a):St=o):St=Sn?$s(a.stateNode.nextSibling):null;return!0}function Oo(){St=Sn=null,nt=!1}function Nx(){var a=mi;return a!==null&&(is===null?is=a:is.push.apply(is,a),mi=null),a}function md(a){mi===null?mi=[a]:mi.push(a)}var Tx=q(null),Vo=null,_a=null;function gi(a,o,c){pe(Tx,o._currentValue),o._currentValue=c}function ja(a){a._currentValue=Tx.current,U(Tx)}function Sx(a,o,c){for(;a!==null;){var d=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),a===c)break;a=a.return}}function Ex(a,o,c,d){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var x=p.dependencies;if(x!==null){var _=p.child;x=x.firstContext;e:for(;x!==null;){var A=x;x=p;for(var B=0;B<o.length;B++)if(A.context===o[B]){x.lanes|=c,A=x.alternate,A!==null&&(A.lanes|=c),Sx(x.return,c,a),d||(_=null);break e}x=A.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(s(341));_.lanes|=c,x=_.alternate,x!==null&&(x.lanes|=c),Sx(_,c,a),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===a){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function oc(a,o,c,d){a=null;for(var p=o,x=!1;p!==null;){if(!x){if((p.flags&524288)!==0)x=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=p.type;ms(p.pendingProps.value,_.value)||(a!==null?a.push(A):a=[A])}}else if(p===He.current){if(_=p.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(Bd):a=[Bd])}p=p.return}a!==null&&Ex(o,a,c,d),o.flags|=262144}function um(a){for(a=a.firstContext;a!==null;){if(!ms(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Lo(a){Vo=a,_a=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function En(a){return j_(Vo,a)}function dm(a,o){return Vo===null&&Lo(a),j_(a,o)}function j_(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},_a===null){if(a===null)throw Error(s(308));_a=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else _a=_a.next=o;return c}var eC=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,d){a.push(d)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},tC=n.unstable_scheduleCallback,nC=n.unstable_NormalPriority,an={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ax(){return{controller:new eC,data:new Map,refCount:0}}function pd(a){a.refCount--,a.refCount===0&&tC(nC,function(){a.controller.abort()})}var gd=null,kx=0,lc=0,cc=null;function sC(a,o){if(gd===null){var c=gd=[];kx=0,lc=R0(),cc={status:"pending",value:void 0,then:function(d){c.push(d)}}}return kx++,o.then(N_,N_),o}function N_(){if(--kx===0&&gd!==null){cc!==null&&(cc.status="fulfilled");var a=gd;gd=null,lc=0,cc=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function rC(a,o){var c=[],d={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return a.then(function(){d.status="fulfilled",d.value=o;for(var p=0;p<c.length;p++)(0,c[p])(o)},function(p){for(d.status="rejected",d.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),d}var T_=X.S;X.S=function(a,o){lj=ke(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&sC(a,o),T_!==null&&T_(a,o)};var Uo=q(null);function Ix(){var a=Uo.current;return a!==null?a:wt.pooledCache}function hm(a,o){o===null?pe(Uo,Uo.current):pe(Uo,o.pool)}function S_(){var a=Ix();return a===null?null:{parent:an._currentValue,pool:a}}var uc=Error(s(460)),Cx=Error(s(474)),fm=Error(s(542)),mm={then:function(){}};function E_(a){return a=a.status,a==="fulfilled"||a==="rejected"}function A_(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(cr,cr),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,I_(a),a;default:if(typeof o.status=="string")o.then(cr,cr);else{if(a=wt,a!==null&&100<a.shellSuspendCounter)throw Error(s(482));a=o,a.status="pending",a.then(function(d){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=d}},function(d){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,I_(a),a}throw Bo=o,uc}}function zo(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Bo=c,uc):c}}var Bo=null;function k_(){if(Bo===null)throw Error(s(459));var a=Bo;return Bo=null,a}function I_(a){if(a===uc||a===fm)throw Error(s(483))}var dc=null,xd=0;function pm(a){var o=xd;return xd+=1,dc===null&&(dc=[]),A_(dc,a,o)}function yd(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function gm(a,o){throw o.$$typeof===v?Error(s(525)):(a=Object.prototype.toString.call(o),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function C_(a){function o(K,$){if(a){var Z=K.deletions;Z===null?(K.deletions=[$],K.flags|=16):Z.push($)}}function c(K,$){if(!a)return null;for(;$!==null;)o(K,$),$=$.sibling;return null}function d(K){for(var $=new Map;K!==null;)K.key!==null?$.set(K.key,K):$.set(K.index,K),K=K.sibling;return $}function p(K,$){return K=va(K,$),K.index=0,K.sibling=null,K}function x(K,$,Z){return K.index=Z,a?(Z=K.alternate,Z!==null?(Z=Z.index,Z<$?(K.flags|=67108866,$):Z):(K.flags|=67108866,$)):(K.flags|=1048576,$)}function _(K){return a&&K.alternate===null&&(K.flags|=67108866),K}function A(K,$,Z,ce){return $===null||$.tag!==6?($=bx(Z,K.mode,ce),$.return=K,$):($=p($,Z),$.return=K,$)}function B(K,$,Z,ce){var Ie=Z.type;return Ie===R?oe(K,$,Z.props.children,ce,Z.key):$!==null&&($.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===N&&zo(Ie)===$.type)?($=p($,Z.props),yd($,Z),$.return=K,$):($=lm(Z.type,Z.key,Z.props,null,K.mode,ce),yd($,Z),$.return=K,$)}function ee(K,$,Z,ce){return $===null||$.tag!==4||$.stateNode.containerInfo!==Z.containerInfo||$.stateNode.implementation!==Z.implementation?($=vx(Z,K.mode,ce),$.return=K,$):($=p($,Z.children||[]),$.return=K,$)}function oe(K,$,Z,ce,Ie){return $===null||$.tag!==7?($=Mo(Z,K.mode,ce,Ie),$.return=K,$):($=p($,Z),$.return=K,$)}function de(K,$,Z){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=bx(""+$,K.mode,Z),$.return=K,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case k:return Z=lm($.type,$.key,$.props,null,K.mode,Z),yd(Z,$),Z.return=K,Z;case I:return $=vx($,K.mode,Z),$.return=K,$;case N:return $=zo($),de(K,$,Z)}if(Re($)||G($))return $=Mo($,K.mode,Z,null),$.return=K,$;if(typeof $.then=="function")return de(K,pm($),Z);if($.$$typeof===z)return de(K,dm(K,$),Z);gm(K,$)}return null}function ne(K,$,Z,ce){var Ie=$!==null?$.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ie!==null?null:A(K,$,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return Z.key===Ie?B(K,$,Z,ce):null;case I:return Z.key===Ie?ee(K,$,Z,ce):null;case N:return Z=zo(Z),ne(K,$,Z,ce)}if(Re(Z)||G(Z))return Ie!==null?null:oe(K,$,Z,ce,null);if(typeof Z.then=="function")return ne(K,$,pm(Z),ce);if(Z.$$typeof===z)return ne(K,$,dm(K,Z),ce);gm(K,Z)}return null}function ae(K,$,Z,ce,Ie){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return K=K.get(Z)||null,A($,K,""+ce,Ie);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case k:return K=K.get(ce.key===null?Z:ce.key)||null,B($,K,ce,Ie);case I:return K=K.get(ce.key===null?Z:ce.key)||null,ee($,K,ce,Ie);case N:return ce=zo(ce),ae(K,$,Z,ce,Ie)}if(Re(ce)||G(ce))return K=K.get(Z)||null,oe($,K,ce,Ie,null);if(typeof ce.then=="function")return ae(K,$,Z,pm(ce),Ie);if(ce.$$typeof===z)return ae(K,$,Z,dm($,ce),Ie);gm($,ce)}return null}function _e(K,$,Z,ce){for(var Ie=null,rt=null,Ne=$,Ge=$=0,Ze=null;Ne!==null&&Ge<Z.length;Ge++){Ne.index>Ge?(Ze=Ne,Ne=null):Ze=Ne.sibling;var at=ne(K,Ne,Z[Ge],ce);if(at===null){Ne===null&&(Ne=Ze);break}a&&Ne&&at.alternate===null&&o(K,Ne),$=x(at,$,Ge),rt===null?Ie=at:rt.sibling=at,rt=at,Ne=Ze}if(Ge===Z.length)return c(K,Ne),nt&&wa(K,Ge),Ie;if(Ne===null){for(;Ge<Z.length;Ge++)Ne=de(K,Z[Ge],ce),Ne!==null&&($=x(Ne,$,Ge),rt===null?Ie=Ne:rt.sibling=Ne,rt=Ne);return nt&&wa(K,Ge),Ie}for(Ne=d(Ne);Ge<Z.length;Ge++)Ze=ae(Ne,K,Ge,Z[Ge],ce),Ze!==null&&(a&&Ze.alternate!==null&&Ne.delete(Ze.key===null?Ge:Ze.key),$=x(Ze,$,Ge),rt===null?Ie=Ze:rt.sibling=Ze,rt=Ze);return a&&Ne.forEach(function(Pi){return o(K,Pi)}),nt&&wa(K,Ge),Ie}function Ce(K,$,Z,ce){if(Z==null)throw Error(s(151));for(var Ie=null,rt=null,Ne=$,Ge=$=0,Ze=null,at=Z.next();Ne!==null&&!at.done;Ge++,at=Z.next()){Ne.index>Ge?(Ze=Ne,Ne=null):Ze=Ne.sibling;var Pi=ne(K,Ne,at.value,ce);if(Pi===null){Ne===null&&(Ne=Ze);break}a&&Ne&&Pi.alternate===null&&o(K,Ne),$=x(Pi,$,Ge),rt===null?Ie=Pi:rt.sibling=Pi,rt=Pi,Ne=Ze}if(at.done)return c(K,Ne),nt&&wa(K,Ge),Ie;if(Ne===null){for(;!at.done;Ge++,at=Z.next())at=de(K,at.value,ce),at!==null&&($=x(at,$,Ge),rt===null?Ie=at:rt.sibling=at,rt=at);return nt&&wa(K,Ge),Ie}for(Ne=d(Ne);!at.done;Ge++,at=Z.next())at=ae(Ne,K,Ge,at.value,ce),at!==null&&(a&&at.alternate!==null&&Ne.delete(at.key===null?Ge:at.key),$=x(at,$,Ge),rt===null?Ie=at:rt.sibling=at,rt=at);return a&&Ne.forEach(function(pR){return o(K,pR)}),nt&&wa(K,Ge),Ie}function vt(K,$,Z,ce){if(typeof Z=="object"&&Z!==null&&Z.type===R&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:e:{for(var Ie=Z.key;$!==null;){if($.key===Ie){if(Ie=Z.type,Ie===R){if($.tag===7){c(K,$.sibling),ce=p($,Z.props.children),ce.return=K,K=ce;break e}}else if($.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===N&&zo(Ie)===$.type){c(K,$.sibling),ce=p($,Z.props),yd(ce,Z),ce.return=K,K=ce;break e}c(K,$);break}else o(K,$);$=$.sibling}Z.type===R?(ce=Mo(Z.props.children,K.mode,ce,Z.key),ce.return=K,K=ce):(ce=lm(Z.type,Z.key,Z.props,null,K.mode,ce),yd(ce,Z),ce.return=K,K=ce)}return _(K);case I:e:{for(Ie=Z.key;$!==null;){if($.key===Ie)if($.tag===4&&$.stateNode.containerInfo===Z.containerInfo&&$.stateNode.implementation===Z.implementation){c(K,$.sibling),ce=p($,Z.children||[]),ce.return=K,K=ce;break e}else{c(K,$);break}else o(K,$);$=$.sibling}ce=vx(Z,K.mode,ce),ce.return=K,K=ce}return _(K);case N:return Z=zo(Z),vt(K,$,Z,ce)}if(Re(Z))return _e(K,$,Z,ce);if(G(Z)){if(Ie=G(Z),typeof Ie!="function")throw Error(s(150));return Z=Ie.call(Z),Ce(K,$,Z,ce)}if(typeof Z.then=="function")return vt(K,$,pm(Z),ce);if(Z.$$typeof===z)return vt(K,$,dm(K,Z),ce);gm(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,$!==null&&$.tag===6?(c(K,$.sibling),ce=p($,Z),ce.return=K,K=ce):(c(K,$),ce=bx(Z,K.mode,ce),ce.return=K,K=ce),_(K)):c(K,$)}return function(K,$,Z,ce){try{xd=0;var Ie=vt(K,$,Z,ce);return dc=null,Ie}catch(Ne){if(Ne===uc||Ne===fm)throw Ne;var rt=ps(29,Ne,null,K.mode);return rt.lanes=ce,rt.return=K,rt}finally{}}}var Fo=C_(!0),R_=C_(!1),xi=!1;function Rx(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dx(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function yi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function bi(a,o,c){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(lt&2)!==0){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,o=om(a),p_(a,null,c),o}return im(a,d,o,c),om(a)}function bd(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var d=o.lanes;d&=a.pendingLanes,c|=d,o.lanes=c,Hu(a,c)}}function Px(a,o){var c=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var p=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var _={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?p=x=_:x=x.next=_,c=c.next}while(c!==null);x===null?p=x=o:x=x.next=o}else p=x=o;c={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var Mx=!1;function vd(){if(Mx){var a=cc;if(a!==null)throw a}}function wd(a,o,c,d){Mx=!1;var p=a.updateQueue;xi=!1;var x=p.firstBaseUpdate,_=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var B=A,ee=B.next;B.next=null,_===null?x=ee:_.next=ee,_=B;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,A=oe.lastBaseUpdate,A!==_&&(A===null?oe.firstBaseUpdate=ee:A.next=ee,oe.lastBaseUpdate=B))}if(x!==null){var de=p.baseState;_=0,oe=ee=B=null,A=x;do{var ne=A.lane&-536870913,ae=ne!==A.lane;if(ae?(Xe&ne)===ne:(d&ne)===ne){ne!==0&&ne===lc&&(Mx=!0),oe!==null&&(oe=oe.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var _e=a,Ce=A;ne=o;var vt=c;switch(Ce.tag){case 1:if(_e=Ce.payload,typeof _e=="function"){de=_e.call(vt,de,ne);break e}de=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ce.payload,ne=typeof _e=="function"?_e.call(vt,de,ne):_e,ne==null)break e;de=b({},de,ne);break e;case 2:xi=!0}}ne=A.callback,ne!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=p.callbacks,ae===null?p.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},oe===null?(ee=oe=ae,B=de):oe=oe.next=ae,_|=ne;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;ae=A,A=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);oe===null&&(B=de),p.baseState=B,p.firstBaseUpdate=ee,p.lastBaseUpdate=oe,x===null&&(p.shared.lanes=0),Ni|=_,a.lanes=_,a.memoizedState=de}}function D_(a,o){if(typeof a!="function")throw Error(s(191,a));a.call(o)}function P_(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)D_(c[a],o)}var hc=q(null),xm=q(0);function M_(a,o){a=Ra,pe(xm,a),pe(hc,o),Ra=a|o.baseLanes}function Ox(){pe(xm,Ra),pe(hc,hc.current)}function Vx(){Ra=xm.current,U(hc),U(xm)}var gs=q(null),qs=null;function vi(a){var o=a.alternate;pe(Qt,Qt.current&1),pe(gs,a),qs===null&&(o===null||hc.current!==null||o.memoizedState!==null)&&(qs=a)}function Lx(a){pe(Qt,Qt.current),pe(gs,a),qs===null&&(qs=a)}function O_(a){a.tag===22?(pe(Qt,Qt.current),pe(gs,a),qs===null&&(qs=a)):wi()}function wi(){pe(Qt,Qt.current),pe(gs,gs.current)}function xs(a){U(gs),qs===a&&(qs=null),U(Qt)}var Qt=q(0);function ym(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||$0(c)||G0(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Na=0,Fe=null,yt=null,on=null,bm=!1,fc=!1,qo=!1,vm=0,_d=0,mc=null,aC=0;function qt(){throw Error(s(321))}function Ux(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!ms(a[c],o[c]))return!1;return!0}function zx(a,o,c,d,p,x){return Na=x,Fe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,X.H=a===null||a.memoizedState===null?b1:t0,qo=!1,x=c(d,p),qo=!1,fc&&(x=L_(o,c,d,p)),V_(a),x}function V_(a){X.H=Td;var o=yt!==null&&yt.next!==null;if(Na=0,on=yt=Fe=null,bm=!1,_d=0,mc=null,o)throw Error(s(300));a===null||ln||(a=a.dependencies,a!==null&&um(a)&&(ln=!0))}function L_(a,o,c,d){Fe=a;var p=0;do{if(fc&&(mc=null),_d=0,fc=!1,25<=p)throw Error(s(301));if(p+=1,on=yt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}X.H=v1,x=o(c,d)}while(fc);return x}function iC(){var a=X.H,o=a.useState()[0];return o=typeof o.then=="function"?jd(o):o,a=a.useState()[0],(yt!==null?yt.memoizedState:null)!==a&&(Fe.flags|=1024),o}function Bx(){var a=vm!==0;return vm=0,a}function Fx(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function qx(a){if(bm){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}bm=!1}Na=0,on=yt=Fe=null,fc=!1,_d=vm=0,mc=null}function Hn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Fe.memoizedState=on=a:on=on.next=a,on}function Jt(){if(yt===null){var a=Fe.alternate;a=a!==null?a.memoizedState:null}else a=yt.next;var o=on===null?Fe.memoizedState:on.next;if(o!==null)on=o,yt=a;else{if(a===null)throw Fe.alternate===null?Error(s(467)):Error(s(310));yt=a,a={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},on===null?Fe.memoizedState=on=a:on=on.next=a}return on}function wm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jd(a){var o=_d;return _d+=1,mc===null&&(mc=[]),a=A_(mc,a,o),o=Fe,(on===null?o.memoizedState:on.next)===null&&(o=o.alternate,X.H=o===null||o.memoizedState===null?b1:t0),a}function _m(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return jd(a);if(a.$$typeof===z)return En(a)}throw Error(s(438,String(a)))}function $x(a){var o=null,c=Fe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=Fe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=wm(),Fe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),d=0;d<a;d++)c[d]=O;return o.index++,c}function Ta(a,o){return typeof o=="function"?o(a):o}function jm(a){var o=Jt();return Gx(o,yt,a)}function Gx(a,o,c){var d=a.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=c;var p=a.baseQueue,x=d.pending;if(x!==null){if(p!==null){var _=p.next;p.next=x.next,x.next=_}o.baseQueue=p=x,d.pending=null}if(x=a.baseState,p===null)a.memoizedState=x;else{o=p.next;var A=_=null,B=null,ee=o,oe=!1;do{var de=ee.lane&-536870913;if(de!==ee.lane?(Xe&de)===de:(Na&de)===de){var ne=ee.revertLane;if(ne===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),de===lc&&(oe=!0);else if((Na&ne)===ne){ee=ee.next,ne===lc&&(oe=!0);continue}else de={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},B===null?(A=B=de,_=x):B=B.next=de,Fe.lanes|=ne,Ni|=ne;de=ee.action,qo&&c(x,de),x=ee.hasEagerState?ee.eagerState:c(x,de)}else ne={lane:de,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},B===null?(A=B=ne,_=x):B=B.next=ne,Fe.lanes|=de,Ni|=de;ee=ee.next}while(ee!==null&&ee!==o);if(B===null?_=x:B.next=A,!ms(x,a.memoizedState)&&(ln=!0,oe&&(c=cc,c!==null)))throw c;a.memoizedState=x,a.baseState=_,a.baseQueue=B,d.lastRenderedState=x}return p===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Hx(a){var o=Jt(),c=o.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var d=c.dispatch,p=c.pending,x=o.memoizedState;if(p!==null){c.pending=null;var _=p=p.next;do x=a(x,_.action),_=_.next;while(_!==p);ms(x,o.memoizedState)||(ln=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,d]}function U_(a,o,c){var d=Fe,p=Jt(),x=nt;if(x){if(c===void 0)throw Error(s(407));c=c()}else c=o();var _=!ms((yt||p).memoizedState,c);if(_&&(p.memoizedState=c,ln=!0),p=p.queue,Yx(F_.bind(null,d,p,a),[a]),p.getSnapshot!==o||_||on!==null&&on.memoizedState.tag&1){if(d.flags|=2048,pc(9,{destroy:void 0},B_.bind(null,d,p,c,o),null),wt===null)throw Error(s(349));x||(Na&127)!==0||z_(d,o,c)}return c}function z_(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Fe.updateQueue,o===null?(o=wm(),Fe.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function B_(a,o,c,d){o.value=c,o.getSnapshot=d,q_(o)&&$_(a)}function F_(a,o,c){return c(function(){q_(o)&&$_(a)})}function q_(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!ms(a,c)}catch{return!0}}function $_(a){var o=Po(a,2);o!==null&&os(o,a,2)}function Kx(a){var o=Hn();if(typeof a=="function"){var c=a;if(a=c(),qo){Ds(!0);try{c()}finally{Ds(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:a},o}function G_(a,o,c,d){return a.baseState=c,Gx(a,yt,typeof d=="function"?d:Ta)}function oC(a,o,c,d,p){if(Sm(a))throw Error(s(485));if(a=o.action,a!==null){var x={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){x.listeners.push(_)}};X.T!==null?c(!0):x.isTransition=!1,d(x),c=o.pending,c===null?(x.next=o.pending=x,H_(o,x)):(x.next=c.next,o.pending=c.next=x)}}function H_(a,o){var c=o.action,d=o.payload,p=a.state;if(o.isTransition){var x=X.T,_={};X.T=_;try{var A=c(p,d),B=X.S;B!==null&&B(_,A),K_(a,o,A)}catch(ee){Wx(a,o,ee)}finally{x!==null&&_.types!==null&&(x.types=_.types),X.T=x}}else try{x=c(p,d),K_(a,o,x)}catch(ee){Wx(a,o,ee)}}function K_(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){W_(a,o,d)},function(d){return Wx(a,o,d)}):W_(a,o,c)}function W_(a,o,c){o.status="fulfilled",o.value=c,Y_(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,H_(a,c)))}function Wx(a,o,c){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,Y_(o),o=o.next;while(o!==d)}a.action=null}function Y_(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Q_(a,o){return o}function J_(a,o){if(nt){var c=wt.formState;if(c!==null){e:{var d=Fe;if(nt){if(St){t:{for(var p=St,x=Fs;p.nodeType!==8;){if(!x){p=null;break t}if(p=$s(p.nextSibling),p===null){p=null;break t}}x=p.data,p=x==="F!"||x==="F"?p:null}if(p){St=$s(p.nextSibling),d=p.data==="F!";break e}}pi(d)}d=!1}d&&(o=c[0])}}return c=Hn(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q_,lastRenderedState:o},c.queue=d,c=g1.bind(null,Fe,d),d.dispatch=c,d=Kx(!1),x=e0.bind(null,Fe,!1,d.queue),d=Hn(),p={state:o,dispatch:null,action:a,pending:null},d.queue=p,c=oC.bind(null,Fe,p,x,c),p.dispatch=c,d.memoizedState=a,[o,c,!1]}function X_(a){var o=Jt();return Z_(o,yt,a)}function Z_(a,o,c){if(o=Gx(a,o,Q_)[0],a=jm(Ta)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=jd(o)}catch(_){throw _===uc?fm:_}else d=o;o=Jt();var p=o.queue,x=p.dispatch;return c!==o.memoizedState&&(Fe.flags|=2048,pc(9,{destroy:void 0},lC.bind(null,p,c),null)),[d,x,a]}function lC(a,o){a.action=o}function e1(a){var o=Jt(),c=yt;if(c!==null)return Z_(o,c,a);Jt(),o=o.memoizedState,c=Jt();var d=c.queue.dispatch;return c.memoizedState=a,[o,d,!1]}function pc(a,o,c,d){return a={tag:a,create:c,deps:d,inst:o,next:null},o=Fe.updateQueue,o===null&&(o=wm(),Fe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,o.lastEffect=a),a}function t1(){return Jt().memoizedState}function Nm(a,o,c,d){var p=Hn();Fe.flags|=a,p.memoizedState=pc(1|o,{destroy:void 0},c,d===void 0?null:d)}function Tm(a,o,c,d){var p=Jt();d=d===void 0?null:d;var x=p.memoizedState.inst;yt!==null&&d!==null&&Ux(d,yt.memoizedState.deps)?p.memoizedState=pc(o,x,c,d):(Fe.flags|=a,p.memoizedState=pc(1|o,x,c,d))}function n1(a,o){Nm(8390656,8,a,o)}function Yx(a,o){Tm(2048,8,a,o)}function cC(a){Fe.flags|=4;var o=Fe.updateQueue;if(o===null)o=wm(),Fe.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function s1(a){var o=Jt().memoizedState;return cC({ref:o,nextImpl:a}),function(){if((lt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function r1(a,o){return Tm(4,2,a,o)}function a1(a,o){return Tm(4,4,a,o)}function i1(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function o1(a,o,c){c=c!=null?c.concat([a]):null,Tm(4,4,i1.bind(null,o,a),c)}function Qx(){}function l1(a,o){var c=Jt();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&Ux(o,d[1])?d[0]:(c.memoizedState=[a,o],a)}function c1(a,o){var c=Jt();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&Ux(o,d[1]))return d[0];if(d=a(),qo){Ds(!0);try{a()}finally{Ds(!1)}}return c.memoizedState=[d,o],d}function Jx(a,o,c){return c===void 0||(Na&1073741824)!==0&&(Xe&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=uj(),Fe.lanes|=a,Ni|=a,c)}function u1(a,o,c,d){return ms(c,o)?c:hc.current!==null?(a=Jx(a,c,d),ms(a,o)||(ln=!0),a):(Na&42)===0||(Na&1073741824)!==0&&(Xe&261930)===0?(ln=!0,a.memoizedState=c):(a=uj(),Fe.lanes|=a,Ni|=a,o)}function d1(a,o,c,d,p){var x=W.p;W.p=x!==0&&8>x?x:8;var _=X.T,A={};X.T=A,e0(a,!1,o,c);try{var B=p(),ee=X.S;if(ee!==null&&ee(A,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var oe=rC(B,d);Nd(a,o,oe,vs(a))}else Nd(a,o,d,vs(a))}catch(de){Nd(a,o,{then:function(){},status:"rejected",reason:de},vs())}finally{W.p=x,_!==null&&A.types!==null&&(_.types=A.types),X.T=_}}function uC(){}function Xx(a,o,c,d){if(a.tag!==5)throw Error(s(476));var p=h1(a).queue;d1(a,p,o,ue,c===null?uC:function(){return f1(a),c(d)})}function h1(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:ue},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function f1(a){var o=h1(a);o.next===null&&(o=a.alternate.memoizedState),Nd(a,o.next.queue,{},vs())}function Zx(){return En(Bd)}function m1(){return Jt().memoizedState}function p1(){return Jt().memoizedState}function dC(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=vs();a=yi(c);var d=bi(o,a,c);d!==null&&(os(d,o,c),bd(d,o,c)),o={cache:Ax()},a.payload=o;return}o=o.return}}function hC(a,o,c){var d=vs();c={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Sm(a)?x1(o,c):(c=xx(a,o,c,d),c!==null&&(os(c,a,d),y1(c,o,d)))}function g1(a,o,c){var d=vs();Nd(a,o,c,d)}function Nd(a,o,c,d){var p={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Sm(a))x1(o,p);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var _=o.lastRenderedState,A=x(_,c);if(p.hasEagerState=!0,p.eagerState=A,ms(A,_))return im(a,o,p,0),wt===null&&am(),!1}catch{}finally{}if(c=xx(a,o,p,d),c!==null)return os(c,a,d),y1(c,o,d),!0}return!1}function e0(a,o,c,d){if(d={lane:2,revertLane:R0(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Sm(a)){if(o)throw Error(s(479))}else o=xx(a,c,d,2),o!==null&&os(o,a,2)}function Sm(a){var o=a.alternate;return a===Fe||o!==null&&o===Fe}function x1(a,o){fc=bm=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function y1(a,o,c){if((c&4194048)!==0){var d=o.lanes;d&=a.pendingLanes,c|=d,o.lanes=c,Hu(a,c)}}var Td={readContext:En,use:_m,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt};Td.useEffectEvent=qt;var b1={readContext:En,use:_m,useCallback:function(a,o){return Hn().memoizedState=[a,o===void 0?null:o],a},useContext:En,useEffect:n1,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,Nm(4194308,4,i1.bind(null,o,a),c)},useLayoutEffect:function(a,o){return Nm(4194308,4,a,o)},useInsertionEffect:function(a,o){Nm(4,2,a,o)},useMemo:function(a,o){var c=Hn();o=o===void 0?null:o;var d=a();if(qo){Ds(!0);try{a()}finally{Ds(!1)}}return c.memoizedState=[d,o],d},useReducer:function(a,o,c){var d=Hn();if(c!==void 0){var p=c(o);if(qo){Ds(!0);try{c(o)}finally{Ds(!1)}}}else p=o;return d.memoizedState=d.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},d.queue=a,a=a.dispatch=hC.bind(null,Fe,a),[d.memoizedState,a]},useRef:function(a){var o=Hn();return a={current:a},o.memoizedState=a},useState:function(a){a=Kx(a);var o=a.queue,c=g1.bind(null,Fe,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:Qx,useDeferredValue:function(a,o){var c=Hn();return Jx(c,a,o)},useTransition:function(){var a=Kx(!1);return a=d1.bind(null,Fe,a.queue,!0,!1),Hn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var d=Fe,p=Hn();if(nt){if(c===void 0)throw Error(s(407));c=c()}else{if(c=o(),wt===null)throw Error(s(349));(Xe&127)!==0||z_(d,o,c)}p.memoizedState=c;var x={value:c,getSnapshot:o};return p.queue=x,n1(F_.bind(null,d,x,a),[a]),d.flags|=2048,pc(9,{destroy:void 0},B_.bind(null,d,x,c,o),null),c},useId:function(){var a=Hn(),o=wt.identifierPrefix;if(nt){var c=Wr,d=Kr;c=(d&~(1<<32-Wt(d)-1)).toString(32)+c,o="_"+o+"R_"+c,c=vm++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=aC++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Zx,useFormState:J_,useActionState:J_,useOptimistic:function(a){var o=Hn();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=e0.bind(null,Fe,!0,c),c.dispatch=o,[a,o]},useMemoCache:$x,useCacheRefresh:function(){return Hn().memoizedState=dC.bind(null,Fe)},useEffectEvent:function(a){var o=Hn(),c={impl:a};return o.memoizedState=c,function(){if((lt&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}},t0={readContext:En,use:_m,useCallback:l1,useContext:En,useEffect:Yx,useImperativeHandle:o1,useInsertionEffect:r1,useLayoutEffect:a1,useMemo:c1,useReducer:jm,useRef:t1,useState:function(){return jm(Ta)},useDebugValue:Qx,useDeferredValue:function(a,o){var c=Jt();return u1(c,yt.memoizedState,a,o)},useTransition:function(){var a=jm(Ta)[0],o=Jt().memoizedState;return[typeof a=="boolean"?a:jd(a),o]},useSyncExternalStore:U_,useId:m1,useHostTransitionStatus:Zx,useFormState:X_,useActionState:X_,useOptimistic:function(a,o){var c=Jt();return G_(c,yt,a,o)},useMemoCache:$x,useCacheRefresh:p1};t0.useEffectEvent=s1;var v1={readContext:En,use:_m,useCallback:l1,useContext:En,useEffect:Yx,useImperativeHandle:o1,useInsertionEffect:r1,useLayoutEffect:a1,useMemo:c1,useReducer:Hx,useRef:t1,useState:function(){return Hx(Ta)},useDebugValue:Qx,useDeferredValue:function(a,o){var c=Jt();return yt===null?Jx(c,a,o):u1(c,yt.memoizedState,a,o)},useTransition:function(){var a=Hx(Ta)[0],o=Jt().memoizedState;return[typeof a=="boolean"?a:jd(a),o]},useSyncExternalStore:U_,useId:m1,useHostTransitionStatus:Zx,useFormState:e1,useActionState:e1,useOptimistic:function(a,o){var c=Jt();return yt!==null?G_(c,yt,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:$x,useCacheRefresh:p1};v1.useEffectEvent=s1;function n0(a,o,c,d){o=a.memoizedState,c=c(d,o),c=c==null?o:b({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var s0={enqueueSetState:function(a,o,c){a=a._reactInternals;var d=vs(),p=yi(d);p.payload=o,c!=null&&(p.callback=c),o=bi(a,p,d),o!==null&&(os(o,a,d),bd(o,a,d))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var d=vs(),p=yi(d);p.tag=1,p.payload=o,c!=null&&(p.callback=c),o=bi(a,p,d),o!==null&&(os(o,a,d),bd(o,a,d))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=vs(),d=yi(c);d.tag=2,o!=null&&(d.callback=o),o=bi(a,d,c),o!==null&&(os(o,a,c),bd(o,a,c))}};function w1(a,o,c,d,p,x,_){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,x,_):o.prototype&&o.prototype.isPureReactComponent?!dd(c,d)||!dd(p,x):!0}function _1(a,o,c,d){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==a&&s0.enqueueReplaceState(o,o.state,null)}function $o(a,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(a=a.defaultProps){c===o&&(c=b({},c));for(var p in a)c[p]===void 0&&(c[p]=a[p])}return c}function j1(a){rm(a)}function N1(a){console.error(a)}function T1(a){rm(a)}function Em(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function S1(a,o,c){try{var d=a.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function r0(a,o,c){return c=yi(c),c.tag=3,c.payload={element:null},c.callback=function(){Em(a,o)},c}function E1(a){return a=yi(a),a.tag=3,a}function A1(a,o,c,d){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var x=d.value;a.payload=function(){return p(x)},a.callback=function(){S1(o,c,d)}}var _=c.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(a.callback=function(){S1(o,c,d),typeof p!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var A=d.stack;this.componentDidCatch(d.value,{componentStack:A!==null?A:""})})}function fC(a,o,c,d,p){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&oc(o,c,p,!0),c=gs.current,c!==null){switch(c.tag){case 31:case 13:return qs===null?Um():c.alternate===null&&$t===0&&($t=3),c.flags&=-257,c.flags|=65536,c.lanes=p,d===mm?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),k0(a,d,p)),!1;case 22:return c.flags|=65536,d===mm?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),k0(a,d,p)),!1}throw Error(s(435,c.tag))}return k0(a,d,p),Um(),!1}if(nt)return o=gs.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,d!==jx&&(a=Error(s(422),{cause:d}),md(Us(a,c)))):(d!==jx&&(o=Error(s(423),{cause:d}),md(Us(o,c))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,d=Us(d,c),p=r0(a.stateNode,d,p),Px(a,p),$t!==4&&($t=2)),!1;var x=Error(s(520),{cause:d});if(x=Us(x,c),Dd===null?Dd=[x]:Dd.push(x),$t!==4&&($t=2),o===null)return!0;d=Us(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=p&-p,c.lanes|=a,a=r0(c.stateNode,d,a),Px(c,a),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ti===null||!Ti.has(x))))return c.flags|=65536,p&=-p,c.lanes|=p,p=E1(p),A1(p,a,c,d),Px(c,p),!1}c=c.return}while(c!==null);return!1}var a0=Error(s(461)),ln=!1;function An(a,o,c,d){o.child=a===null?R_(o,null,c,d):Fo(o,a.child,c,d)}function k1(a,o,c,d,p){c=c.render;var x=o.ref;if("ref"in d){var _={};for(var A in d)A!=="ref"&&(_[A]=d[A])}else _=d;return Lo(o),d=zx(a,o,c,_,x,p),A=Bx(),a!==null&&!ln?(Fx(a,o,p),Sa(a,o,p)):(nt&&A&&wx(o),o.flags|=1,An(a,o,d,p),o.child)}function I1(a,o,c,d,p){if(a===null){var x=c.type;return typeof x=="function"&&!yx(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,C1(a,o,x,d,p)):(a=lm(c.type,null,d,o,o.mode,p),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!f0(a,p)){var _=x.memoizedProps;if(c=c.compare,c=c!==null?c:dd,c(_,d)&&a.ref===o.ref)return Sa(a,o,p)}return o.flags|=1,a=va(x,d),a.ref=o.ref,a.return=o,o.child=a}function C1(a,o,c,d,p){if(a!==null){var x=a.memoizedProps;if(dd(x,d)&&a.ref===o.ref)if(ln=!1,o.pendingProps=d=x,f0(a,p))(a.flags&131072)!==0&&(ln=!0);else return o.lanes=a.lanes,Sa(a,o,p)}return i0(a,o,c,d,p)}function R1(a,o,c,d){var p=d.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(d=o.child=a.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;d=p&~x}else d=0,o.child=null;return D1(a,o,x,c,d)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&hm(o,x!==null?x.cachePool:null),x!==null?M_(o,x):Ox(),O_(o);else return d=o.lanes=536870912,D1(a,o,x!==null?x.baseLanes|c:c,c,d)}else x!==null?(hm(o,x.cachePool),M_(o,x),wi(),o.memoizedState=null):(a!==null&&hm(o,null),Ox(),wi());return An(a,o,p,c),o.child}function Sd(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function D1(a,o,c,d,p){var x=Ix();return x=x===null?null:{parent:an._currentValue,pool:x},o.memoizedState={baseLanes:c,cachePool:x},a!==null&&hm(o,null),Ox(),O_(o),a!==null&&oc(a,o,d,!0),o.childLanes=p,null}function Am(a,o){return o=Im({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function P1(a,o,c){return Fo(o,a.child,null,c),a=Am(o,o.pendingProps),a.flags|=2,xs(o),o.memoizedState=null,a}function mC(a,o,c){var d=o.pendingProps,p=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(nt){if(d.mode==="hidden")return a=Am(o,d),o.lanes=536870912,Sd(null,a);if(Lx(o),(a=St)?(a=Hj(a,Fs),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:fi!==null?{id:Kr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},c=x_(a),c.return=o,o.child=c,Sn=o,St=null)):a=null,a===null)throw pi(o);return o.lanes=536870912,null}return Am(o,d)}var x=a.memoizedState;if(x!==null){var _=x.dehydrated;if(Lx(o),p)if(o.flags&256)o.flags&=-257,o=P1(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(s(558));else if(ln||oc(a,o,c,!1),p=(c&a.childLanes)!==0,ln||p){if(d=wt,d!==null&&(_=Ku(d,c),_!==0&&_!==x.retryLane))throw x.retryLane=_,Po(a,_),os(d,a,_),a0;Um(),o=P1(a,o,c)}else a=x.treeContext,St=$s(_.nextSibling),Sn=o,nt=!0,mi=null,Fs=!1,a!==null&&v_(o,a),o=Am(o,d),o.flags|=4096;return o}return a=va(a.child,{mode:d.mode,children:d.children}),a.ref=o.ref,o.child=a,a.return=o,a}function km(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function i0(a,o,c,d,p){return Lo(o),c=zx(a,o,c,d,void 0,p),d=Bx(),a!==null&&!ln?(Fx(a,o,p),Sa(a,o,p)):(nt&&d&&wx(o),o.flags|=1,An(a,o,c,p),o.child)}function M1(a,o,c,d,p,x){return Lo(o),o.updateQueue=null,c=L_(o,d,c,p),V_(a),d=Bx(),a!==null&&!ln?(Fx(a,o,x),Sa(a,o,x)):(nt&&d&&wx(o),o.flags|=1,An(a,o,c,x),o.child)}function O1(a,o,c,d,p){if(Lo(o),o.stateNode===null){var x=sc,_=c.contextType;typeof _=="object"&&_!==null&&(x=En(_)),x=new c(d,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=s0,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=d,x.state=o.memoizedState,x.refs={},Rx(o),_=c.contextType,x.context=typeof _=="object"&&_!==null?En(_):sc,x.state=o.memoizedState,_=c.getDerivedStateFromProps,typeof _=="function"&&(n0(o,c,_,d),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(_=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),_!==x.state&&s0.enqueueReplaceState(x,x.state,null),wd(o,d,x,p),vd(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(a===null){x=o.stateNode;var A=o.memoizedProps,B=$o(c,A);x.props=B;var ee=x.context,oe=c.contextType;_=sc,typeof oe=="object"&&oe!==null&&(_=En(oe));var de=c.getDerivedStateFromProps;oe=typeof de=="function"||typeof x.getSnapshotBeforeUpdate=="function",A=o.pendingProps!==A,oe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A||ee!==_)&&_1(o,x,d,_),xi=!1;var ne=o.memoizedState;x.state=ne,wd(o,d,x,p),vd(),ee=o.memoizedState,A||ne!==ee||xi?(typeof de=="function"&&(n0(o,c,de,d),ee=o.memoizedState),(B=xi||w1(o,c,B,d,ne,ee,_))?(oe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=ee),x.props=d,x.state=ee,x.context=_,d=B):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{x=o.stateNode,Dx(a,o),_=o.memoizedProps,oe=$o(c,_),x.props=oe,de=o.pendingProps,ne=x.context,ee=c.contextType,B=sc,typeof ee=="object"&&ee!==null&&(B=En(ee)),A=c.getDerivedStateFromProps,(ee=typeof A=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(_!==de||ne!==B)&&_1(o,x,d,B),xi=!1,ne=o.memoizedState,x.state=ne,wd(o,d,x,p),vd();var ae=o.memoizedState;_!==de||ne!==ae||xi||a!==null&&a.dependencies!==null&&um(a.dependencies)?(typeof A=="function"&&(n0(o,c,A,d),ae=o.memoizedState),(oe=xi||w1(o,c,oe,d,ne,ae,B)||a!==null&&a.dependencies!==null&&um(a.dependencies))?(ee||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,ae,B),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,ae,B)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||_===a.memoizedProps&&ne===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&ne===a.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ae),x.props=d,x.state=ae,x.context=B,d=oe):(typeof x.componentDidUpdate!="function"||_===a.memoizedProps&&ne===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&ne===a.memoizedState||(o.flags|=1024),d=!1)}return x=d,km(a,o),d=(o.flags&128)!==0,x||d?(x=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&d?(o.child=Fo(o,a.child,null,p),o.child=Fo(o,null,c,p)):An(a,o,c,p),o.memoizedState=x.state,a=o.child):a=Sa(a,o,p),a}function V1(a,o,c,d){return Oo(),o.flags|=256,An(a,o,c,d),o.child}var o0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function l0(a){return{baseLanes:a,cachePool:S_()}}function c0(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=bs),a}function L1(a,o,c){var d=o.pendingProps,p=!1,x=(o.flags&128)!==0,_;if((_=x)||(_=a!==null&&a.memoizedState===null?!1:(Qt.current&2)!==0),_&&(p=!0,o.flags&=-129),_=(o.flags&32)!==0,o.flags&=-33,a===null){if(nt){if(p?vi(o):wi(),(a=St)?(a=Hj(a,Fs),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:fi!==null?{id:Kr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},c=x_(a),c.return=o,o.child=c,Sn=o,St=null)):a=null,a===null)throw pi(o);return G0(a)?o.lanes=32:o.lanes=536870912,null}var A=d.children;return d=d.fallback,p?(wi(),p=o.mode,A=Im({mode:"hidden",children:A},p),d=Mo(d,p,c,null),A.return=o,d.return=o,A.sibling=d,o.child=A,d=o.child,d.memoizedState=l0(c),d.childLanes=c0(a,_,c),o.memoizedState=o0,Sd(null,d)):(vi(o),u0(o,A))}var B=a.memoizedState;if(B!==null&&(A=B.dehydrated,A!==null)){if(x)o.flags&256?(vi(o),o.flags&=-257,o=d0(a,o,c)):o.memoizedState!==null?(wi(),o.child=a.child,o.flags|=128,o=null):(wi(),A=d.fallback,p=o.mode,d=Im({mode:"visible",children:d.children},p),A=Mo(A,p,c,null),A.flags|=2,d.return=o,A.return=o,d.sibling=A,o.child=d,Fo(o,a.child,null,c),d=o.child,d.memoizedState=l0(c),d.childLanes=c0(a,_,c),o.memoizedState=o0,o=Sd(null,d));else if(vi(o),G0(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var ee=_.dgst;_=ee,d=Error(s(419)),d.stack="",d.digest=_,md({value:d,source:null,stack:null}),o=d0(a,o,c)}else if(ln||oc(a,o,c,!1),_=(c&a.childLanes)!==0,ln||_){if(_=wt,_!==null&&(d=Ku(_,c),d!==0&&d!==B.retryLane))throw B.retryLane=d,Po(a,d),os(_,a,d),a0;$0(A)||Um(),o=d0(a,o,c)}else $0(A)?(o.flags|=192,o.child=a.child,o=null):(a=B.treeContext,St=$s(A.nextSibling),Sn=o,nt=!0,mi=null,Fs=!1,a!==null&&v_(o,a),o=u0(o,d.children),o.flags|=4096);return o}return p?(wi(),A=d.fallback,p=o.mode,B=a.child,ee=B.sibling,d=va(B,{mode:"hidden",children:d.children}),d.subtreeFlags=B.subtreeFlags&65011712,ee!==null?A=va(ee,A):(A=Mo(A,p,c,null),A.flags|=2),A.return=o,d.return=o,d.sibling=A,o.child=d,Sd(null,d),d=o.child,A=a.child.memoizedState,A===null?A=l0(c):(p=A.cachePool,p!==null?(B=an._currentValue,p=p.parent!==B?{parent:B,pool:B}:p):p=S_(),A={baseLanes:A.baseLanes|c,cachePool:p}),d.memoizedState=A,d.childLanes=c0(a,_,c),o.memoizedState=o0,Sd(a.child,d)):(vi(o),c=a.child,a=c.sibling,c=va(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,a!==null&&(_=o.deletions,_===null?(o.deletions=[a],o.flags|=16):_.push(a)),o.child=c,o.memoizedState=null,c)}function u0(a,o){return o=Im({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Im(a,o){return a=ps(22,a,null,o),a.lanes=0,a}function d0(a,o,c){return Fo(o,a.child,null,c),a=u0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function U1(a,o,c){a.lanes|=o;var d=a.alternate;d!==null&&(d.lanes|=o),Sx(a.return,o,c)}function h0(a,o,c,d,p,x){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:p,treeForkCount:x}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=c,_.tailMode=p,_.treeForkCount=x)}function z1(a,o,c){var d=o.pendingProps,p=d.revealOrder,x=d.tail;d=d.children;var _=Qt.current,A=(_&2)!==0;if(A?(_=_&1|2,o.flags|=128):_&=1,pe(Qt,_),An(a,o,d,c),d=nt?fd:0,!A&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&U1(a,c,o);else if(a.tag===19)U1(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(p){case"forwards":for(c=o.child,p=null;c!==null;)a=c.alternate,a!==null&&ym(a)===null&&(p=c),c=c.sibling;c=p,c===null?(p=o.child,o.child=null):(p=c.sibling,c.sibling=null),h0(o,!1,p,c,x,d);break;case"backwards":case"unstable_legacy-backwards":for(c=null,p=o.child,o.child=null;p!==null;){if(a=p.alternate,a!==null&&ym(a)===null){o.child=p;break}a=p.sibling,p.sibling=c,c=p,p=a}h0(o,!0,c,null,x,d);break;case"together":h0(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Sa(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Ni|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(oc(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(s(153));if(o.child!==null){for(a=o.child,c=va(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=va(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function f0(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&um(a)))}function pC(a,o,c){switch(o.tag){case 3:Tt(o,o.stateNode.containerInfo),gi(o,an,a.memoizedState.cache),Oo();break;case 27:case 5:Te(o);break;case 4:Tt(o,o.stateNode.containerInfo);break;case 10:gi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Lx(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(vi(o),o.flags|=128,null):(c&o.child.childLanes)!==0?L1(a,o,c):(vi(o),a=Sa(a,o,c),a!==null?a.sibling:null);vi(o);break;case 19:var p=(a.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(oc(a,o,c,!1),d=(c&o.childLanes)!==0),p){if(d)return z1(a,o,c);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),pe(Qt,Qt.current),d)break;return null;case 22:return o.lanes=0,R1(a,o,c,o.pendingProps);case 24:gi(o,an,a.memoizedState.cache)}return Sa(a,o,c)}function B1(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)ln=!0;else{if(!f0(a,c)&&(o.flags&128)===0)return ln=!1,pC(a,o,c);ln=(a.flags&131072)!==0}else ln=!1,nt&&(o.flags&1048576)!==0&&b_(o,fd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(a=zo(o.elementType),o.type=a,typeof a=="function")yx(a)?(d=$o(a,d),o.tag=1,o=O1(null,o,a,d,c)):(o.tag=0,o=i0(null,o,a,d,c));else{if(a!=null){var p=a.$$typeof;if(p===le){o.tag=11,o=k1(null,o,a,d,c);break e}else if(p===T){o.tag=14,o=I1(null,o,a,d,c);break e}}throw o=ie(a)||a,Error(s(306,o,""))}}return o;case 0:return i0(a,o,o.type,o.pendingProps,c);case 1:return d=o.type,p=$o(d,o.pendingProps),O1(a,o,d,p,c);case 3:e:{if(Tt(o,o.stateNode.containerInfo),a===null)throw Error(s(387));d=o.pendingProps;var x=o.memoizedState;p=x.element,Dx(a,o),wd(o,d,null,c);var _=o.memoizedState;if(d=_.cache,gi(o,an,d),d!==x.cache&&Ex(o,[an],c,!0),vd(),d=_.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:_.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=V1(a,o,d,c);break e}else if(d!==p){p=Us(Error(s(424)),o),md(p),o=V1(a,o,d,c);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(St=$s(a.firstChild),Sn=o,nt=!0,mi=null,Fs=!0,c=R_(o,null,d,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Oo(),d===p){o=Sa(a,o,c);break e}An(a,o,d,c)}o=o.child}return o;case 26:return km(a,o),a===null?(c=Xj(o.type,null,o.pendingProps,null))?o.memoizedState=c:nt||(c=o.type,a=o.pendingProps,d=Hm(Me.current).createElement(c),d[nn]=o,d[xn]=a,kn(d,c,a),sn(d),o.stateNode=d):o.memoizedState=Xj(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Te(o),a===null&&nt&&(d=o.stateNode=Yj(o.type,o.pendingProps,Me.current),Sn=o,Fs=!0,p=St,ki(o.type)?(H0=p,St=$s(d.firstChild)):St=p),An(a,o,o.pendingProps.children,c),km(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&nt&&((p=d=St)&&(d=GC(d,o.type,o.pendingProps,Fs),d!==null?(o.stateNode=d,Sn=o,St=$s(d.firstChild),Fs=!1,p=!0):p=!1),p||pi(o)),Te(o),p=o.type,x=o.pendingProps,_=a!==null?a.memoizedProps:null,d=x.children,B0(p,x)?d=null:_!==null&&B0(p,_)&&(o.flags|=32),o.memoizedState!==null&&(p=zx(a,o,iC,null,null,c),Bd._currentValue=p),km(a,o),An(a,o,d,c),o.child;case 6:return a===null&&nt&&((a=c=St)&&(c=HC(c,o.pendingProps,Fs),c!==null?(o.stateNode=c,Sn=o,St=null,a=!0):a=!1),a||pi(o)),null;case 13:return L1(a,o,c);case 4:return Tt(o,o.stateNode.containerInfo),d=o.pendingProps,a===null?o.child=Fo(o,null,d,c):An(a,o,d,c),o.child;case 11:return k1(a,o,o.type,o.pendingProps,c);case 7:return An(a,o,o.pendingProps,c),o.child;case 8:return An(a,o,o.pendingProps.children,c),o.child;case 12:return An(a,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,gi(o,o.type,d.value),An(a,o,d.children,c),o.child;case 9:return p=o.type._context,d=o.pendingProps.children,Lo(o),p=En(p),d=d(p),o.flags|=1,An(a,o,d,c),o.child;case 14:return I1(a,o,o.type,o.pendingProps,c);case 15:return C1(a,o,o.type,o.pendingProps,c);case 19:return z1(a,o,c);case 31:return mC(a,o,c);case 22:return R1(a,o,c,o.pendingProps);case 24:return Lo(o),d=En(an),a===null?(p=Ix(),p===null&&(p=wt,x=Ax(),p.pooledCache=x,x.refCount++,x!==null&&(p.pooledCacheLanes|=c),p=x),o.memoizedState={parent:d,cache:p},Rx(o),gi(o,an,p)):((a.lanes&c)!==0&&(Dx(a,o),wd(o,null,null,c),vd()),p=a.memoizedState,x=o.memoizedState,p.parent!==d?(p={parent:d,cache:d},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),gi(o,an,d)):(d=x.cache,gi(o,an,d),d!==p.cache&&Ex(o,[an],c,!0))),An(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Ea(a){a.flags|=4}function m0(a,o,c,d,p){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(p&335544128)===p)if(a.stateNode.complete)a.flags|=8192;else if(mj())a.flags|=8192;else throw Bo=mm,Cx}else a.flags&=-16777217}function F1(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!sN(o))if(mj())a.flags|=8192;else throw Bo=mm,Cx}function Cm(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Vf():536870912,a.lanes|=o,bc|=o)}function Ed(a,o){if(!nt)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Et(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,d=0;if(o)for(var p=a.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=d,a.childLanes=c,o}function gC(a,o,c){var d=o.pendingProps;switch(_x(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(o),null;case 1:return Et(o),null;case 3:return c=o.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),ja(an),gt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(ic(o)?Ea(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Nx())),Et(o),null;case 26:var p=o.type,x=o.memoizedState;return a===null?(Ea(o),x!==null?(Et(o),F1(o,x)):(Et(o),m0(o,p,null,d,c))):x?x!==a.memoizedState?(Ea(o),Et(o),F1(o,x)):(Et(o),o.flags&=-16777217):(a=a.memoizedProps,a!==d&&Ea(o),Et(o),m0(o,p,a,d,c)),null;case 27:if(Mn(o),c=Me.current,p=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Ea(o);else{if(!d){if(o.stateNode===null)throw Error(s(166));return Et(o),null}a=ve.current,ic(o)?w_(o):(a=Yj(p,d,c),o.stateNode=a,Ea(o))}return Et(o),null;case 5:if(Mn(o),p=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Ea(o);else{if(!d){if(o.stateNode===null)throw Error(s(166));return Et(o),null}if(x=ve.current,ic(o))w_(o);else{var _=Hm(Me.current);switch(x){case 1:x=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:x=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":x=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":x=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":x=_.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof d.is=="string"?_.createElement("select",{is:d.is}):_.createElement("select"),d.multiple?x.multiple=!0:d.size&&(x.size=d.size);break;default:x=typeof d.is=="string"?_.createElement(p,{is:d.is}):_.createElement(p)}}x[nn]=o,x[xn]=d;e:for(_=o.child;_!==null;){if(_.tag===5||_.tag===6)x.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break e;for(;_.sibling===null;){if(_.return===null||_.return===o)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}o.stateNode=x;e:switch(kn(x,p,d),p){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Ea(o)}}return Et(o),m0(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==d&&Ea(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(s(166));if(a=Me.current,ic(o)){if(a=o.stateNode,c=o.memoizedProps,d=null,p=Sn,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}a[nn]=o,a=!!(a.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||Lj(a.nodeValue,c)),a||pi(o,!0)}else a=Hm(a).createTextNode(d),a[nn]=o,o.stateNode=a}return Et(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(d=ic(o),c!==null){if(a===null){if(!d)throw Error(s(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(557));a[nn]=o}else Oo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Et(o),a=!1}else c=Nx(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(xs(o),o):(xs(o),null);if((o.flags&128)!==0)throw Error(s(558))}return Et(o),null;case 13:if(d=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=ic(o),d!==null&&d.dehydrated!==null){if(a===null){if(!p)throw Error(s(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[nn]=o}else Oo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Et(o),p=!1}else p=Nx(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),p=!0;if(!p)return o.flags&256?(xs(o),o):(xs(o),null)}return xs(o),(o.flags&128)!==0?(o.lanes=c,o):(c=d!==null,a=a!==null&&a.memoizedState!==null,c&&(d=o.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==p&&(d.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),Cm(o,o.updateQueue),Et(o),null);case 4:return gt(),a===null&&O0(o.stateNode.containerInfo),Et(o),null;case 10:return ja(o.type),Et(o),null;case 19:if(U(Qt),d=o.memoizedState,d===null)return Et(o),null;if(p=(o.flags&128)!==0,x=d.rendering,x===null)if(p)Ed(d,!1);else{if($t!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=ym(a),x!==null){for(o.flags|=128,Ed(d,!1),a=x.updateQueue,o.updateQueue=a,Cm(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)g_(c,a),c=c.sibling;return pe(Qt,Qt.current&1|2),nt&&wa(o,d.treeForkCount),o.child}a=a.sibling}d.tail!==null&&ke()>Om&&(o.flags|=128,p=!0,Ed(d,!1),o.lanes=4194304)}else{if(!p)if(a=ym(x),a!==null){if(o.flags|=128,p=!0,a=a.updateQueue,o.updateQueue=a,Cm(o,a),Ed(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!nt)return Et(o),null}else 2*ke()-d.renderingStartTime>Om&&c!==536870912&&(o.flags|=128,p=!0,Ed(d,!1),o.lanes=4194304);d.isBackwards?(x.sibling=o.child,o.child=x):(a=d.last,a!==null?a.sibling=x:o.child=x,d.last=x)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=ke(),a.sibling=null,c=Qt.current,pe(Qt,p?c&1|2:c&1),nt&&wa(o,d.treeForkCount),a):(Et(o),null);case 22:case 23:return xs(o),Vx(),d=o.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(c&536870912)!==0&&(o.flags&128)===0&&(Et(o),o.subtreeFlags&6&&(o.flags|=8192)):Et(o),c=o.updateQueue,c!==null&&Cm(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),a!==null&&U(Uo),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ja(an),Et(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function xC(a,o){switch(_x(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ja(an),gt(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Mn(o),null;case 31:if(o.memoizedState!==null){if(xs(o),o.alternate===null)throw Error(s(340));Oo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(xs(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Oo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return U(Qt),null;case 4:return gt(),null;case 10:return ja(o.type),null;case 22:case 23:return xs(o),Vx(),a!==null&&U(Uo),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ja(an),null;case 25:return null;default:return null}}function q1(a,o){switch(_x(o),o.tag){case 3:ja(an),gt();break;case 26:case 27:case 5:Mn(o);break;case 4:gt();break;case 31:o.memoizedState!==null&&xs(o);break;case 13:xs(o);break;case 19:U(Qt);break;case 10:ja(o.type);break;case 22:case 23:xs(o),Vx(),a!==null&&U(Uo);break;case 24:ja(an)}}function Ad(a,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&a)===a){d=void 0;var x=c.create,_=c.inst;d=x(),_.destroy=d}c=c.next}while(c!==p)}}catch(A){ft(o,o.return,A)}}function _i(a,o,c){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var x=p.next;d=x;do{if((d.tag&a)===a){var _=d.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,p=o;var B=c,ee=A;try{ee()}catch(oe){ft(p,B,oe)}}}d=d.next}while(d!==x)}}catch(oe){ft(o,o.return,oe)}}function $1(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{P_(o,c)}catch(d){ft(a,a.return,d)}}}function G1(a,o,c){c.props=$o(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(d){ft(a,o,d)}}function kd(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof c=="function"?a.refCleanup=c(d):c.current=d}}catch(p){ft(a,o,p)}}function Yr(a,o){var c=a.ref,d=a.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(p){ft(a,o,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){ft(a,o,p)}else c.current=null}function H1(a){var o=a.type,c=a.memoizedProps,d=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(p){ft(a,a.return,p)}}function p0(a,o,c){try{var d=a.stateNode;UC(d,a.type,c,o),d[xn]=o}catch(p){ft(a,a.return,p)}}function K1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ki(a.type)||a.tag===4}function g0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||K1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ki(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function x0(a,o,c){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=cr));else if(d!==4&&(d===27&&ki(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(x0(a,o,c),a=a.sibling;a!==null;)x0(a,o,c),a=a.sibling}function Rm(a,o,c){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(d!==4&&(d===27&&ki(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Rm(a,o,c),a=a.sibling;a!==null;)Rm(a,o,c),a=a.sibling}function W1(a){var o=a.stateNode,c=a.memoizedProps;try{for(var d=a.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);kn(o,d,c),o[nn]=a,o[xn]=c}catch(x){ft(a,a.return,x)}}var Aa=!1,cn=!1,y0=!1,Y1=typeof WeakSet=="function"?WeakSet:Set,bn=null;function yC(a,o){if(a=a.containerInfo,U0=Zm,a=o_(a),dx(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var p=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var _=0,A=-1,B=-1,ee=0,oe=0,de=a,ne=null;t:for(;;){for(var ae;de!==c||p!==0&&de.nodeType!==3||(A=_+p),de!==x||d!==0&&de.nodeType!==3||(B=_+d),de.nodeType===3&&(_+=de.nodeValue.length),(ae=de.firstChild)!==null;)ne=de,de=ae;for(;;){if(de===a)break t;if(ne===c&&++ee===p&&(A=_),ne===x&&++oe===d&&(B=_),(ae=de.nextSibling)!==null)break;de=ne,ne=de.parentNode}de=ae}c=A===-1||B===-1?null:{start:A,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(z0={focusedElem:a,selectionRange:c},Zm=!1,bn=o;bn!==null;)if(o=bn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,bn=a;else for(;bn!==null;){switch(o=bn,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)p=a[c],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=o,p=x.memoizedProps,x=x.memoizedState,d=c.stateNode;try{var _e=$o(c.type,p);a=d.getSnapshotBeforeUpdate(_e,x),d.__reactInternalSnapshotBeforeUpdate=a}catch(Ce){ft(c,c.return,Ce)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)q0(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":q0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(s(163))}if(a=o.sibling,a!==null){a.return=o.return,bn=a;break}bn=o.return}}function Q1(a,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Ia(a,c),d&4&&Ad(5,c);break;case 1:if(Ia(a,c),d&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(_){ft(c,c.return,_)}else{var p=$o(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(p,o,a.__reactInternalSnapshotBeforeUpdate)}catch(_){ft(c,c.return,_)}}d&64&&$1(c),d&512&&kd(c,c.return);break;case 3:if(Ia(a,c),d&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{P_(a,o)}catch(_){ft(c,c.return,_)}}break;case 27:o===null&&d&4&&W1(c);case 26:case 5:Ia(a,c),o===null&&d&4&&H1(c),d&512&&kd(c,c.return);break;case 12:Ia(a,c);break;case 31:Ia(a,c),d&4&&Z1(a,c);break;case 13:Ia(a,c),d&4&&ej(a,c),d&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=EC.bind(null,c),KC(a,c))));break;case 22:if(d=c.memoizedState!==null||Aa,!d){o=o!==null&&o.memoizedState!==null||cn,p=Aa;var x=cn;Aa=d,(cn=o)&&!x?Ca(a,c,(c.subtreeFlags&8772)!==0):Ia(a,c),Aa=p,cn=x}break;case 30:break;default:Ia(a,c)}}function J1(a){var o=a.alternate;o!==null&&(a.alternate=null,J1(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&ql(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ct=null,ss=!1;function ka(a,o,c){for(c=c.child;c!==null;)X1(a,o,c),c=c.sibling}function X1(a,o,c){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(ar,c)}catch{}switch(c.tag){case 26:cn||Yr(c,o),ka(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:cn||Yr(c,o);var d=Ct,p=ss;ki(c.type)&&(Ct=c.stateNode,ss=!1),ka(a,o,c),Ld(c.stateNode),Ct=d,ss=p;break;case 5:cn||Yr(c,o);case 6:if(d=Ct,p=ss,Ct=null,ka(a,o,c),Ct=d,ss=p,Ct!==null)if(ss)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(c.stateNode)}catch(x){ft(c,o,x)}else try{Ct.removeChild(c.stateNode)}catch(x){ft(c,o,x)}break;case 18:Ct!==null&&(ss?(a=Ct,$j(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Ec(a)):$j(Ct,c.stateNode));break;case 4:d=Ct,p=ss,Ct=c.stateNode.containerInfo,ss=!0,ka(a,o,c),Ct=d,ss=p;break;case 0:case 11:case 14:case 15:_i(2,c,o),cn||_i(4,c,o),ka(a,o,c);break;case 1:cn||(Yr(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&G1(c,o,d)),ka(a,o,c);break;case 21:ka(a,o,c);break;case 22:cn=(d=cn)||c.memoizedState!==null,ka(a,o,c),cn=d;break;default:ka(a,o,c)}}function Z1(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ec(a)}catch(c){ft(o,o.return,c)}}}function ej(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ec(a)}catch(c){ft(o,o.return,c)}}function bC(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Y1),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Y1),o;default:throw Error(s(435,a.tag))}}function Dm(a,o){var c=bC(a);o.forEach(function(d){if(!c.has(d)){c.add(d);var p=AC.bind(null,a,d);d.then(p,p)}})}function rs(a,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var p=c[d],x=a,_=o,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(ki(A.type)){Ct=A.stateNode,ss=!1;break e}break;case 5:Ct=A.stateNode,ss=!1;break e;case 3:case 4:Ct=A.stateNode.containerInfo,ss=!0;break e}A=A.return}if(Ct===null)throw Error(s(160));X1(x,_,p),Ct=null,ss=!1,x=p.alternate,x!==null&&(x.return=null),p.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)tj(o,a),o=o.sibling}var pr=null;function tj(a,o){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:rs(o,a),as(a),d&4&&(_i(3,a,a.return),Ad(3,a),_i(5,a,a.return));break;case 1:rs(o,a),as(a),d&512&&(cn||c===null||Yr(c,c.return)),d&64&&Aa&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var p=pr;if(rs(o,a),as(a),d&512&&(cn||c===null||Yr(c,c.return)),d&4){var x=c!==null?c.memoizedState:null;if(d=a.memoizedState,c===null)if(d===null)if(a.stateNode===null){e:{d=a.type,c=a.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":x=p.getElementsByTagName("title")[0],(!x||x[Mr]||x[nn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=p.createElement(d),p.head.insertBefore(x,p.querySelector("head > title"))),kn(x,d,c),x[nn]=a,sn(x),d=x;break e;case"link":var _=tN("link","href",p).get(d+(c.href||""));if(_){for(var A=0;A<_.length;A++)if(x=_[A],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){_.splice(A,1);break t}}x=p.createElement(d),kn(x,d,c),p.head.appendChild(x);break;case"meta":if(_=tN("meta","content",p).get(d+(c.content||""))){for(A=0;A<_.length;A++)if(x=_[A],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){_.splice(A,1);break t}}x=p.createElement(d),kn(x,d,c),p.head.appendChild(x);break;default:throw Error(s(468,d))}x[nn]=a,sn(x),d=x}a.stateNode=d}else nN(p,a.type,a.stateNode);else a.stateNode=eN(p,d,a.memoizedProps);else x!==d?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,d===null?nN(p,a.type,a.stateNode):eN(p,d,a.memoizedProps)):d===null&&a.stateNode!==null&&p0(a,a.memoizedProps,c.memoizedProps)}break;case 27:rs(o,a),as(a),d&512&&(cn||c===null||Yr(c,c.return)),c!==null&&d&4&&p0(a,a.memoizedProps,c.memoizedProps);break;case 5:if(rs(o,a),as(a),d&512&&(cn||c===null||Yr(c,c.return)),a.flags&32){p=a.stateNode;try{ns(p,"")}catch(_e){ft(a,a.return,_e)}}d&4&&a.stateNode!=null&&(p=a.memoizedProps,p0(a,p,c!==null?c.memoizedProps:p)),d&1024&&(y0=!0);break;case 6:if(rs(o,a),as(a),d&4){if(a.stateNode===null)throw Error(s(162));d=a.memoizedProps,c=a.stateNode;try{c.nodeValue=d}catch(_e){ft(a,a.return,_e)}}break;case 3:if(Ym=null,p=pr,pr=Km(o.containerInfo),rs(o,a),pr=p,as(a),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Ec(o.containerInfo)}catch(_e){ft(a,a.return,_e)}y0&&(y0=!1,nj(a));break;case 4:d=pr,pr=Km(a.stateNode.containerInfo),rs(o,a),as(a),pr=d;break;case 12:rs(o,a),as(a);break;case 31:rs(o,a),as(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Dm(a,d)));break;case 13:rs(o,a),as(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Mm=ke()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Dm(a,d)));break;case 22:p=a.memoizedState!==null;var B=c!==null&&c.memoizedState!==null,ee=Aa,oe=cn;if(Aa=ee||p,cn=oe||B,rs(o,a),cn=oe,Aa=ee,as(a),d&8192)e:for(o=a.stateNode,o._visibility=p?o._visibility&-2:o._visibility|1,p&&(c===null||B||Aa||cn||Go(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){B=c=o;try{if(x=B.stateNode,p)_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=B.stateNode;var de=B.memoizedProps.style,ne=de!=null&&de.hasOwnProperty("display")?de.display:null;A.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(_e){ft(B,B.return,_e)}}}else if(o.tag===6){if(c===null){B=o;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(_e){ft(B,B.return,_e)}}}else if(o.tag===18){if(c===null){B=o;try{var ae=B.stateNode;p?Gj(ae,!0):Gj(B.stateNode,!1)}catch(_e){ft(B,B.return,_e)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=a.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Dm(a,c))));break;case 19:rs(o,a),as(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Dm(a,d)));break;case 30:break;case 21:break;default:rs(o,a),as(a)}}function as(a){var o=a.flags;if(o&2){try{for(var c,d=a.return;d!==null;){if(K1(d)){c=d;break}d=d.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var p=c.stateNode,x=g0(a);Rm(a,x,p);break;case 5:var _=c.stateNode;c.flags&32&&(ns(_,""),c.flags&=-33);var A=g0(a);Rm(a,A,_);break;case 3:case 4:var B=c.stateNode.containerInfo,ee=g0(a);x0(a,ee,B);break;default:throw Error(s(161))}}catch(oe){ft(a,a.return,oe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function nj(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;nj(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ia(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Q1(a,o.alternate,o),o=o.sibling}function Go(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:_i(4,o,o.return),Go(o);break;case 1:Yr(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&G1(o,o.return,c),Go(o);break;case 27:Ld(o.stateNode);case 26:case 5:Yr(o,o.return),Go(o);break;case 22:o.memoizedState===null&&Go(o);break;case 30:Go(o);break;default:Go(o)}a=a.sibling}}function Ca(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,p=a,x=o,_=x.flags;switch(x.tag){case 0:case 11:case 15:Ca(p,x,c),Ad(4,x);break;case 1:if(Ca(p,x,c),d=x,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ee){ft(d,d.return,ee)}if(d=x,p=d.updateQueue,p!==null){var A=d.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)D_(B[p],A)}catch(ee){ft(d,d.return,ee)}}c&&_&64&&$1(x),kd(x,x.return);break;case 27:W1(x);case 26:case 5:Ca(p,x,c),c&&d===null&&_&4&&H1(x),kd(x,x.return);break;case 12:Ca(p,x,c);break;case 31:Ca(p,x,c),c&&_&4&&Z1(p,x);break;case 13:Ca(p,x,c),c&&_&4&&ej(p,x);break;case 22:x.memoizedState===null&&Ca(p,x,c),kd(x,x.return);break;case 30:break;default:Ca(p,x,c)}o=o.sibling}}function b0(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&pd(c))}function v0(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&pd(a))}function gr(a,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)sj(a,o,c,d),o=o.sibling}function sj(a,o,c,d){var p=o.flags;switch(o.tag){case 0:case 11:case 15:gr(a,o,c,d),p&2048&&Ad(9,o);break;case 1:gr(a,o,c,d);break;case 3:gr(a,o,c,d),p&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&pd(a)));break;case 12:if(p&2048){gr(a,o,c,d),a=o.stateNode;try{var x=o.memoizedProps,_=x.id,A=x.onPostCommit;typeof A=="function"&&A(_,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(B){ft(o,o.return,B)}}else gr(a,o,c,d);break;case 31:gr(a,o,c,d);break;case 13:gr(a,o,c,d);break;case 23:break;case 22:x=o.stateNode,_=o.alternate,o.memoizedState!==null?x._visibility&2?gr(a,o,c,d):Id(a,o):x._visibility&2?gr(a,o,c,d):(x._visibility|=2,gc(a,o,c,d,(o.subtreeFlags&10256)!==0||!1)),p&2048&&b0(_,o);break;case 24:gr(a,o,c,d),p&2048&&v0(o.alternate,o);break;default:gr(a,o,c,d)}}function gc(a,o,c,d,p){for(p=p&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,_=o,A=c,B=d,ee=_.flags;switch(_.tag){case 0:case 11:case 15:gc(x,_,A,B,p),Ad(8,_);break;case 23:break;case 22:var oe=_.stateNode;_.memoizedState!==null?oe._visibility&2?gc(x,_,A,B,p):Id(x,_):(oe._visibility|=2,gc(x,_,A,B,p)),p&&ee&2048&&b0(_.alternate,_);break;case 24:gc(x,_,A,B,p),p&&ee&2048&&v0(_.alternate,_);break;default:gc(x,_,A,B,p)}o=o.sibling}}function Id(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,d=o,p=d.flags;switch(d.tag){case 22:Id(c,d),p&2048&&b0(d.alternate,d);break;case 24:Id(c,d),p&2048&&v0(d.alternate,d);break;default:Id(c,d)}o=o.sibling}}var Cd=8192;function xc(a,o,c){if(a.subtreeFlags&Cd)for(a=a.child;a!==null;)rj(a,o,c),a=a.sibling}function rj(a,o,c){switch(a.tag){case 26:xc(a,o,c),a.flags&Cd&&a.memoizedState!==null&&aR(c,pr,a.memoizedState,a.memoizedProps);break;case 5:xc(a,o,c);break;case 3:case 4:var d=pr;pr=Km(a.stateNode.containerInfo),xc(a,o,c),pr=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=Cd,Cd=16777216,xc(a,o,c),Cd=d):xc(a,o,c));break;default:xc(a,o,c)}}function aj(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Rd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];bn=d,oj(d,a)}aj(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ij(a),a=a.sibling}function ij(a){switch(a.tag){case 0:case 11:case 15:Rd(a),a.flags&2048&&_i(9,a,a.return);break;case 3:Rd(a);break;case 12:Rd(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Pm(a)):Rd(a);break;default:Rd(a)}}function Pm(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];bn=d,oj(d,a)}aj(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:_i(8,o,o.return),Pm(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Pm(o));break;default:Pm(o)}a=a.sibling}}function oj(a,o){for(;bn!==null;){var c=bn;switch(c.tag){case 0:case 11:case 15:_i(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:pd(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,bn=d;else e:for(c=a;bn!==null;){d=bn;var p=d.sibling,x=d.return;if(J1(d),d===c){bn=null;break e}if(p!==null){p.return=x,bn=p;break e}bn=x}}}var vC={getCacheForType:function(a){var o=En(an),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return En(an).controller.signal}},wC=typeof WeakMap=="function"?WeakMap:Map,lt=0,wt=null,Ke=null,Xe=0,ht=0,ys=null,ji=!1,yc=!1,w0=!1,Ra=0,$t=0,Ni=0,Ho=0,_0=0,bs=0,bc=0,Dd=null,is=null,j0=!1,Mm=0,lj=0,Om=1/0,Vm=null,Ti=null,mn=0,Si=null,vc=null,Da=0,N0=0,T0=null,cj=null,Pd=0,S0=null;function vs(){return(lt&2)!==0&&Xe!==0?Xe&-Xe:X.T!==null?R0():Lf()}function uj(){if(bs===0)if((Xe&536870912)===0||nt){var a=bo;bo<<=1,(bo&3932160)===0&&(bo=262144),bs=a}else bs=536870912;return a=gs.current,a!==null&&(a.flags|=32),bs}function os(a,o,c){(a===wt&&(ht===2||ht===9)||a.cancelPendingCommit!==null)&&(wc(a,0),Ei(a,Xe,bs,!1)),vo(a,c),((lt&2)===0||a!==wt)&&(a===wt&&((lt&2)===0&&(Ho|=c),$t===4&&Ei(a,Xe,bs,!1)),Qr(a))}function dj(a,o,c){if((lt&6)!==0)throw Error(s(327));var d=!c&&(o&127)===0&&(o&a.expiredLanes)===0||ir(a,o),p=d?NC(a,o):A0(a,o,!0),x=d;do{if(p===0){yc&&!d&&Ei(a,o,0,!1);break}else{if(c=a.current.alternate,x&&!_C(c)){p=A0(a,o,!1),x=!1;continue}if(p===2){if(x=o,a.errorRecoveryDisabledLanes&x)var _=0;else _=a.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){o=_;e:{var A=a;p=Dd;var B=A.current.memoizedState.isDehydrated;if(B&&(wc(A,_).flags|=256),_=A0(A,_,!1),_!==2){if(w0&&!B){A.errorRecoveryDisabledLanes|=x,Ho|=x,p=4;break e}x=is,is=p,x!==null&&(is===null?is=x:is.push.apply(is,x))}p=_}if(x=!1,p!==2)continue}}if(p===1){wc(a,0),Ei(a,o,0,!0);break}e:{switch(d=a,x=p,x){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Ei(d,o,bs,!ji);break e;case 2:is=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(p=Mm+300-ke(),10<p)){if(Ei(d,o,bs,!ji),Rr(d,0,!0)!==0)break e;Da=o,d.timeoutHandle=Fj(hj.bind(null,d,c,is,Vm,j0,o,bs,Ho,bc,ji,x,"Throttled",-0,0),p);break e}hj(d,c,is,Vm,j0,o,bs,Ho,bc,ji,x,null,-0,0)}}break}while(!0);Qr(a)}function hj(a,o,c,d,p,x,_,A,B,ee,oe,de,ne,ae){if(a.timeoutHandle=-1,de=o.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cr},rj(o,x,de);var _e=(x&62914560)===x?Mm-ke():(x&4194048)===x?lj-ke():0;if(_e=iR(de,_e),_e!==null){Da=x,a.cancelPendingCommit=_e(vj.bind(null,a,o,x,c,d,p,_,A,B,oe,de,null,ne,ae)),Ei(a,x,_,!ee);return}}vj(a,o,x,c,d,p,_,A,B)}function _C(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var p=c[d],x=p.getSnapshot;p=p.value;try{if(!ms(x(),p))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ei(a,o,c,d){o&=~_0,o&=~Ho,a.suspendedLanes|=o,a.pingedLanes&=~o,d&&(a.warmLanes|=o),d=a.expirationTimes;for(var p=o;0<p;){var x=31-Wt(p),_=1<<x;d[x]=-1,p&=~_}c!==0&&wo(a,c,o)}function Lm(){return(lt&6)===0?(Md(0),!1):!0}function E0(){if(Ke!==null){if(ht===0)var a=Ke.return;else a=Ke,_a=Vo=null,qx(a),dc=null,xd=0,a=Ke;for(;a!==null;)q1(a.alternate,a),a=a.return;Ke=null}}function wc(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,FC(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Da=0,E0(),wt=a,Ke=c=va(a.current,null),Xe=o,ht=0,ys=null,ji=!1,yc=ir(a,o),w0=!1,bc=bs=_0=Ho=Ni=$t=0,is=Dd=null,j0=!1,(o&8)!==0&&(o|=o&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=o;0<d;){var p=31-Wt(d),x=1<<p;o|=a[p],d&=~x}return Ra=o,am(),c}function fj(a,o){Fe=null,X.H=Td,o===uc||o===fm?(o=k_(),ht=3):o===Cx?(o=k_(),ht=4):ht=o===a0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ys=o,Ke===null&&($t=1,Em(a,Us(o,a.current)))}function mj(){var a=gs.current;return a===null?!0:(Xe&4194048)===Xe?qs===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?a===qs:!1}function pj(){var a=X.H;return X.H=Td,a===null?Td:a}function gj(){var a=X.A;return X.A=vC,a}function Um(){$t=4,ji||(Xe&4194048)!==Xe&&gs.current!==null||(yc=!0),(Ni&134217727)===0&&(Ho&134217727)===0||wt===null||Ei(wt,Xe,bs,!1)}function A0(a,o,c){var d=lt;lt|=2;var p=pj(),x=gj();(wt!==a||Xe!==o)&&(Vm=null,wc(a,o)),o=!1;var _=$t;e:do try{if(ht!==0&&Ke!==null){var A=Ke,B=ys;switch(ht){case 8:E0(),_=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(o=!0);var ee=ht;if(ht=0,ys=null,_c(a,A,B,ee),c&&yc){_=0;break e}break;default:ee=ht,ht=0,ys=null,_c(a,A,B,ee)}}jC(),_=$t;break}catch(oe){fj(a,oe)}while(!0);return o&&a.shellSuspendCounter++,_a=Vo=null,lt=d,X.H=p,X.A=x,Ke===null&&(wt=null,Xe=0,am()),_}function jC(){for(;Ke!==null;)xj(Ke)}function NC(a,o){var c=lt;lt|=2;var d=pj(),p=gj();wt!==a||Xe!==o?(Vm=null,Om=ke()+500,wc(a,o)):yc=ir(a,o);e:do try{if(ht!==0&&Ke!==null){o=Ke;var x=ys;t:switch(ht){case 1:ht=0,ys=null,_c(a,o,x,1);break;case 2:case 9:if(E_(x)){ht=0,ys=null,yj(o);break}o=function(){ht!==2&&ht!==9||wt!==a||(ht=7),Qr(a)},x.then(o,o);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:E_(x)?(ht=0,ys=null,yj(o)):(ht=0,ys=null,_c(a,o,x,7));break;case 5:var _=null;switch(Ke.tag){case 26:_=Ke.memoizedState;case 5:case 27:var A=Ke;if(_?sN(_):A.stateNode.complete){ht=0,ys=null;var B=A.sibling;if(B!==null)Ke=B;else{var ee=A.return;ee!==null?(Ke=ee,zm(ee)):Ke=null}break t}}ht=0,ys=null,_c(a,o,x,5);break;case 6:ht=0,ys=null,_c(a,o,x,6);break;case 8:E0(),$t=6;break e;default:throw Error(s(462))}}TC();break}catch(oe){fj(a,oe)}while(!0);return _a=Vo=null,X.H=d,X.A=p,lt=c,Ke!==null?0:(wt=null,Xe=0,am(),$t)}function TC(){for(;Ke!==null&&!Y();)xj(Ke)}function xj(a){var o=B1(a.alternate,a,Ra);a.memoizedProps=a.pendingProps,o===null?zm(a):Ke=o}function yj(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=M1(c,o,o.pendingProps,o.type,void 0,Xe);break;case 11:o=M1(c,o,o.pendingProps,o.type.render,o.ref,Xe);break;case 5:qx(o);default:q1(c,o),o=Ke=g_(o,Ra),o=B1(c,o,Ra)}a.memoizedProps=a.pendingProps,o===null?zm(a):Ke=o}function _c(a,o,c,d){_a=Vo=null,qx(o),dc=null,xd=0;var p=o.return;try{if(fC(a,p,o,c,Xe)){$t=1,Em(a,Us(c,a.current)),Ke=null;return}}catch(x){if(p!==null)throw Ke=p,x;$t=1,Em(a,Us(c,a.current)),Ke=null;return}o.flags&32768?(nt||d===1?a=!0:yc||(Xe&536870912)!==0?a=!1:(ji=a=!0,(d===2||d===9||d===3||d===6)&&(d=gs.current,d!==null&&d.tag===13&&(d.flags|=16384))),bj(o,a)):zm(o)}function zm(a){var o=a;do{if((o.flags&32768)!==0){bj(o,ji);return}a=o.return;var c=gC(o.alternate,o,Ra);if(c!==null){Ke=c;return}if(o=o.sibling,o!==null){Ke=o;return}Ke=o=a}while(o!==null);$t===0&&($t=5)}function bj(a,o){do{var c=xC(a.alternate,a);if(c!==null){c.flags&=32767,Ke=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){Ke=a;return}Ke=a=c}while(a!==null);$t=6,Ke=null}function vj(a,o,c,d,p,x,_,A,B){a.cancelPendingCommit=null;do Bm();while(mn!==0);if((lt&6)!==0)throw Error(s(327));if(o!==null){if(o===a.current)throw Error(s(177));if(x=o.lanes|o.childLanes,x|=gx,ox(a,c,x,_,A,B),a===wt&&(Ke=wt=null,Xe=0),vc=o,Si=a,Da=c,N0=x,T0=p,cj=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,kC(Rs,function(){return Tj(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=X.T,X.T=null,p=W.p,W.p=2,_=lt,lt|=4;try{yC(a,o,c)}finally{lt=_,W.p=p,X.T=d}}mn=1,wj(),_j(),jj()}}function wj(){if(mn===1){mn=0;var a=Si,o=vc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=X.T,X.T=null;var d=W.p;W.p=2;var p=lt;lt|=4;try{tj(o,a);var x=z0,_=o_(a.containerInfo),A=x.focusedElem,B=x.selectionRange;if(_!==A&&A&&A.ownerDocument&&i_(A.ownerDocument.documentElement,A)){if(B!==null&&dx(A)){var ee=B.start,oe=B.end;if(oe===void 0&&(oe=ee),"selectionStart"in A)A.selectionStart=ee,A.selectionEnd=Math.min(oe,A.value.length);else{var de=A.ownerDocument||document,ne=de&&de.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),_e=A.textContent.length,Ce=Math.min(B.start,_e),vt=B.end===void 0?Ce:Math.min(B.end,_e);!ae.extend&&Ce>vt&&(_=vt,vt=Ce,Ce=_);var K=a_(A,Ce),$=a_(A,vt);if(K&&$&&(ae.rangeCount!==1||ae.anchorNode!==K.node||ae.anchorOffset!==K.offset||ae.focusNode!==$.node||ae.focusOffset!==$.offset)){var Z=de.createRange();Z.setStart(K.node,K.offset),ae.removeAllRanges(),Ce>vt?(ae.addRange(Z),ae.extend($.node,$.offset)):(Z.setEnd($.node,$.offset),ae.addRange(Z))}}}}for(de=[],ae=A;ae=ae.parentNode;)ae.nodeType===1&&de.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<de.length;A++){var ce=de[A];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Zm=!!U0,z0=U0=null}finally{lt=p,W.p=d,X.T=c}}a.current=o,mn=2}}function _j(){if(mn===2){mn=0;var a=Si,o=vc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=X.T,X.T=null;var d=W.p;W.p=2;var p=lt;lt|=4;try{Q1(a,o.alternate,o)}finally{lt=p,W.p=d,X.T=c}}mn=3}}function jj(){if(mn===4||mn===3){mn=0,De();var a=Si,o=vc,c=Da,d=cj;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?mn=5:(mn=0,vc=Si=null,Nj(a,a.pendingLanes));var p=a.pendingLanes;if(p===0&&(Ti=null),ga(c),o=o.stateNode,Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(ar,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=X.T,p=W.p,W.p=2,X.T=null;try{for(var x=a.onRecoverableError,_=0;_<d.length;_++){var A=d[_];x(A.value,{componentStack:A.stack})}}finally{X.T=o,W.p=p}}(Da&3)!==0&&Bm(),Qr(a),p=a.pendingLanes,(c&261930)!==0&&(p&42)!==0?a===S0?Pd++:(Pd=0,S0=a):Pd=0,Md(0)}}function Nj(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,pd(o)))}function Bm(){return wj(),_j(),jj(),Tj()}function Tj(){if(mn!==5)return!1;var a=Si,o=N0;N0=0;var c=ga(Da),d=X.T,p=W.p;try{W.p=32>c?32:c,X.T=null,c=T0,T0=null;var x=Si,_=Da;if(mn=0,vc=Si=null,Da=0,(lt&6)!==0)throw Error(s(331));var A=lt;if(lt|=4,ij(x.current),sj(x,x.current,_,c),lt=A,Md(0,!1),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(ar,x)}catch{}return!0}finally{W.p=p,X.T=d,Nj(a,o)}}function Sj(a,o,c){o=Us(c,o),o=r0(a.stateNode,o,2),a=bi(a,o,2),a!==null&&(vo(a,2),Qr(a))}function ft(a,o,c){if(a.tag===3)Sj(a,a,c);else for(;o!==null;){if(o.tag===3){Sj(o,a,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ti===null||!Ti.has(d))){a=Us(c,a),c=E1(2),d=bi(o,c,2),d!==null&&(A1(c,d,o,a),vo(d,2),Qr(d));break}}o=o.return}}function k0(a,o,c){var d=a.pingCache;if(d===null){d=a.pingCache=new wC;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(c)||(w0=!0,p.add(c),a=SC.bind(null,a,o,c),o.then(a,a))}function SC(a,o,c){var d=a.pingCache;d!==null&&d.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,wt===a&&(Xe&c)===c&&($t===4||$t===3&&(Xe&62914560)===Xe&&300>ke()-Mm?(lt&2)===0&&wc(a,0):_0|=c,bc===Xe&&(bc=0)),Qr(a)}function Ej(a,o){o===0&&(o=Vf()),a=Po(a,o),a!==null&&(vo(a,o),Qr(a))}function EC(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),Ej(a,c)}function AC(a,o){var c=0;switch(a.tag){case 31:case 13:var d=a.stateNode,p=a.memoizedState;p!==null&&(c=p.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(o),Ej(a,c)}function kC(a,o){return Ft(a,o)}var Fm=null,jc=null,I0=!1,qm=!1,C0=!1,Ai=0;function Qr(a){a!==jc&&a.next===null&&(jc===null?Fm=jc=a:jc=jc.next=a),qm=!0,I0||(I0=!0,CC())}function Md(a,o){if(!C0&&qm){C0=!0;do for(var c=!1,d=Fm;d!==null;){if(a!==0){var p=d.pendingLanes;if(p===0)var x=0;else{var _=d.suspendedLanes,A=d.pingedLanes;x=(1<<31-Wt(42|a)+1)-1,x&=p&~(_&~A),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,Cj(d,x))}else x=Xe,x=Rr(d,d===wt?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||ir(d,x)||(c=!0,Cj(d,x));d=d.next}while(c);C0=!1}}function IC(){Aj()}function Aj(){qm=I0=!1;var a=0;Ai!==0&&BC()&&(a=Ai);for(var o=ke(),c=null,d=Fm;d!==null;){var p=d.next,x=kj(d,o);x===0?(d.next=null,c===null?Fm=p:c.next=p,p===null&&(jc=c)):(c=d,(a!==0||(x&3)!==0)&&(qm=!0)),d=p}mn!==0&&mn!==5||Md(a),Ai!==0&&(Ai=0)}function kj(a,o){for(var c=a.suspendedLanes,d=a.pingedLanes,p=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var _=31-Wt(x),A=1<<_,B=p[_];B===-1?((A&c)===0||(A&d)!==0)&&(p[_]=ix(A,o)):B<=o&&(a.expiredLanes|=A),x&=~A}if(o=wt,c=Xe,c=Rr(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,c===0||a===o&&(ht===2||ht===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&sr(d),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||ir(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(d!==null&&sr(d),ga(c)){case 2:case 8:c=rr;break;case 32:c=Rs;break;case 268435456:c=yo;break;default:c=Rs}return d=Ij.bind(null,a),c=Ft(c,d),a.callbackPriority=o,a.callbackNode=c,o}return d!==null&&d!==null&&sr(d),a.callbackPriority=2,a.callbackNode=null,2}function Ij(a,o){if(mn!==0&&mn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Bm()&&a.callbackNode!==c)return null;var d=Xe;return d=Rr(a,a===wt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(dj(a,d,o),kj(a,ke()),a.callbackNode!=null&&a.callbackNode===c?Ij.bind(null,a):null)}function Cj(a,o){if(Bm())return null;dj(a,o,!0)}function CC(){qC(function(){(lt&6)!==0?Ft(Cs,IC):Aj()})}function R0(){if(Ai===0){var a=lc;a===0&&(a=Ir,Ir<<=1,(Ir&261888)===0&&(Ir=256)),Ai=a}return Ai}function Rj(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Kl(""+a)}function Dj(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function RC(a,o,c,d,p){if(o==="submit"&&c&&c.stateNode===p){var x=Rj((p[xn]||null).action),_=d.submitter;_&&(o=(o=_[xn]||null)?Rj(o.formAction):_.getAttribute("formAction"),o!==null&&(x=o,_=null));var A=new qr("action","action",null,d,p);a.push({event:A,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ai!==0){var B=_?Dj(p,_):new FormData(p);Xx(c,{pending:!0,data:B,method:p.method,action:x},null,B)}}else typeof x=="function"&&(A.preventDefault(),B=_?Dj(p,_):new FormData(p),Xx(c,{pending:!0,data:B,method:p.method,action:x},x,B))},currentTarget:p}]})}}for(var D0=0;D0<px.length;D0++){var P0=px[D0],DC=P0.toLowerCase(),PC=P0[0].toUpperCase()+P0.slice(1);mr(DC,"on"+PC)}mr(u_,"onAnimationEnd"),mr(d_,"onAnimationIteration"),mr(h_,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(Q4,"onTransitionRun"),mr(J4,"onTransitionStart"),mr(X4,"onTransitionCancel"),mr(f_,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Od));function Pj(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var d=a[c],p=d.event;d=d.listeners;e:{var x=void 0;if(o)for(var _=d.length-1;0<=_;_--){var A=d[_],B=A.instance,ee=A.currentTarget;if(A=A.listener,B!==x&&p.isPropagationStopped())break e;x=A,p.currentTarget=ee;try{x(p)}catch(oe){rm(oe)}p.currentTarget=null,x=B}else for(_=0;_<d.length;_++){if(A=d[_],B=A.instance,ee=A.currentTarget,A=A.listener,B!==x&&p.isPropagationStopped())break e;x=A,p.currentTarget=ee;try{x(p)}catch(oe){rm(oe)}p.currentTarget=null,x=B}}}}function We(a,o){var c=o[Fl];c===void 0&&(c=o[Fl]=new Set);var d=a+"__bubble";c.has(d)||(Mj(o,a,2,!1),c.add(d))}function M0(a,o,c){var d=0;o&&(d|=4),Mj(c,a,d,o)}var $m="_reactListening"+Math.random().toString(36).slice(2);function O0(a){if(!a[$m]){a[$m]=!0,Wu.forEach(function(c){c!=="selectionchange"&&(MC.has(c)||M0(c,!1,a),M0(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[$m]||(o[$m]=!0,M0("selectionchange",!1,o))}}function Mj(a,o,c,d){switch(uN(o)){case 2:var p=cR;break;case 8:p=uR;break;default:p=J0}c=p.bind(null,o,c,a),p=void 0,!So||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?a.addEventListener(o,c,{capture:!0,passive:p}):a.addEventListener(o,c,!0):p!==void 0?a.addEventListener(o,c,{passive:p}):a.addEventListener(o,c,!1)}function V0(a,o,c,d,p){var x=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var A=d.stateNode.containerInfo;if(A===p)break;if(_===4)for(_=d.return;_!==null;){var B=_.tag;if((B===3||B===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;A!==null;){if(_=Or(A),_===null)return;if(B=_.tag,B===5||B===6||B===26||B===27){d=x=_;continue e}A=A.parentNode}}d=d.return}ci(function(){var ee=x,oe=Ms(c),de=[];e:{var ne=m_.get(a);if(ne!==void 0){var ae=qr,_e=a;switch(a){case"keypress":if(Ao(c)===0)break e;case"keydown":case"keyup":ae=tm;break;case"focusin":_e="focus",ae=Io;break;case"focusout":_e="blur",ae=Io;break;case"beforeblur":case"afterblur":ae=Io;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=w;break;case u_:case d_:case h_:ae=Wf;break;case f_:ae=C;break;case"scroll":case"scrollend":ae=id;break;case"wheel":ae=re;break;case"copy":case"cut":case"paste":ae=Yf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=ba;break;case"toggle":case"beforetoggle":ae=Be}var Ce=(o&4)!==0,vt=!Ce&&(a==="scroll"||a==="scrollend"),K=Ce?ne!==null?ne+"Capture":null:ne;Ce=[];for(var $=ee,Z;$!==null;){var ce=$;if(Z=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Z===null||K===null||(ce=ur($,K),ce!=null&&Ce.push(Vd($,ce,Z))),vt)break;$=$.return}0<Ce.length&&(ne=new ae(ne,_e,null,c,oe),de.push({event:ne,listeners:Ce}))}}if((o&7)===0){e:{if(ne=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",ne&&c!==sd&&(_e=c.relatedTarget||c.fromElement)&&(Or(_e)||_e[Pr]))break e;if((ae||ne)&&(ne=oe.window===oe?oe:(ne=oe.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(_e=c.relatedTarget||c.toElement,ae=ee,_e=_e?Or(_e):null,_e!==null&&(vt=l(_e),Ce=_e.tag,_e!==vt||Ce!==5&&Ce!==27&&Ce!==6)&&(_e=null)):(ae=null,_e=ee),ae!==_e)){if(Ce=od,ce="onMouseLeave",K="onMouseEnter",$="mouse",(a==="pointerout"||a==="pointerover")&&(Ce=ba,ce="onPointerLeave",K="onPointerEnter",$="pointer"),vt=ae==null?ne:hs(ae),Z=_e==null?ne:hs(_e),ne=new Ce(ce,$+"leave",ae,c,oe),ne.target=vt,ne.relatedTarget=Z,ce=null,Or(oe)===ee&&(Ce=new Ce(K,$+"enter",_e,c,oe),Ce.target=Z,Ce.relatedTarget=vt,ce=Ce),vt=ce,ae&&_e)t:{for(Ce=OC,K=ae,$=_e,Z=0,ce=K;ce;ce=Ce(ce))Z++;ce=0;for(var Ie=$;Ie;Ie=Ce(Ie))ce++;for(;0<Z-ce;)K=Ce(K),Z--;for(;0<ce-Z;)$=Ce($),ce--;for(;Z--;){if(K===$||$!==null&&K===$.alternate){Ce=K;break t}K=Ce(K),$=Ce($)}Ce=null}else Ce=null;ae!==null&&Oj(de,ne,ae,Ce,!1),_e!==null&&vt!==null&&Oj(de,vt,_e,Ce,!0)}}e:{if(ne=ee?hs(ee):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var rt=Zw;else if(Jw(ne))if(e_)rt=K4;else{rt=G4;var Ne=$4}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Hl(ee.elementType)&&(rt=Zw):rt=H4;if(rt&&(rt=rt(a,ee))){Xw(de,rt,c,oe);break e}Ne&&Ne(a,ne,ee),a==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&ed(ne,"number",ne.value)}switch(Ne=ee?hs(ee):window,a){case"focusin":(Jw(Ne)||Ne.contentEditable==="true")&&(ec=Ne,hx=ee,hd=null);break;case"focusout":hd=hx=ec=null;break;case"mousedown":fx=!0;break;case"contextmenu":case"mouseup":case"dragend":fx=!1,l_(de,c,oe);break;case"selectionchange":if(Y4)break;case"keydown":case"keyup":l_(de,c,oe)}var Ge;if(ot)e:{switch(a){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Zl?Co(a,c)&&(Ze="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ze="onCompositionStart");Ze&&(Hr&&c.locale!=="ko"&&(Zl||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Zl&&(Ge=ad()):(Fr=oe,rd="value"in Fr?Fr.value:Fr.textContent,Zl=!0)),Ne=Gm(ee,Ze),0<Ne.length&&(Ze=new Gr(Ze,a,null,c,oe),de.push({event:Ze,listeners:Ne}),Ge?Ze.data=Ge:(Ge=Xl(c),Ge!==null&&(Ze.data=Ge)))),(Ge=Vs?z4(a,c):B4(a,c))&&(Ze=Gm(ee,"onBeforeInput"),0<Ze.length&&(Ne=new Gr("onBeforeInput","beforeinput",null,c,oe),de.push({event:Ne,listeners:Ze}),Ne.data=Ge)),RC(de,a,ee,c,oe)}Pj(de,o)})}function Vd(a,o,c){return{instance:a,listener:o,currentTarget:c}}function Gm(a,o){for(var c=o+"Capture",d=[];a!==null;){var p=a,x=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||x===null||(p=ur(a,c),p!=null&&d.unshift(Vd(a,p,x)),p=ur(a,o),p!=null&&d.push(Vd(a,p,x))),a.tag===3)return d;a=a.return}return[]}function OC(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Oj(a,o,c,d,p){for(var x=o._reactName,_=[];c!==null&&c!==d;){var A=c,B=A.alternate,ee=A.stateNode;if(A=A.tag,B!==null&&B===d)break;A!==5&&A!==26&&A!==27||ee===null||(B=ee,p?(ee=ur(c,x),ee!=null&&_.unshift(Vd(c,ee,B))):p||(ee=ur(c,x),ee!=null&&_.push(Vd(c,ee,B)))),c=c.return}_.length!==0&&a.push({event:o,listeners:_})}var VC=/\r\n?/g,LC=/\u0000|\uFFFD/g;function Vj(a){return(typeof a=="string"?a:""+a).replace(VC,`
`).replace(LC,"")}function Lj(a,o){return o=Vj(o),Vj(a)===o}function bt(a,o,c,d,p,x){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||ns(a,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&ns(a,""+d);break;case"className":fs(a,"class",d);break;case"tabIndex":fs(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":fs(a,c,d);break;case"style":nd(a,d,x);break;case"data":if(o!=="object"){fs(a,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(c);break}d=Kl(""+d),a.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&bt(a,o,"name",p.name,p,null),bt(a,o,"formEncType",p.formEncType,p,null),bt(a,o,"formMethod",p.formMethod,p,null),bt(a,o,"formTarget",p.formTarget,p,null)):(bt(a,o,"encType",p.encType,p,null),bt(a,o,"method",p.method,p,null),bt(a,o,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(c);break}d=Kl(""+d),a.setAttribute(c,d);break;case"onClick":d!=null&&(a.onclick=cr);break;case"onScroll":d!=null&&We("scroll",a);break;case"onScrollEnd":d!=null&&We("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(s(60));a.innerHTML=c}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}c=Kl(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,""+d):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":d===!0?a.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,d):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(c,d):a.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(c):a.setAttribute(c,d);break;case"popover":We("beforetoggle",a),We("toggle",a),$l(a,"popover",d);break;case"xlinkActuate":rn(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":rn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":rn(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":rn(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":rn(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":rn(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":rn(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":rn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":rn(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":$l(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Gf.get(c)||c,$l(a,c,d))}}function L0(a,o,c,d,p,x){switch(c){case"style":nd(a,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(s(60));a.innerHTML=c}}break;case"children":typeof d=="string"?ns(a,d):(typeof d=="number"||typeof d=="bigint")&&ns(a,""+d);break;case"onScroll":d!=null&&We("scroll",a);break;case"onScrollEnd":d!=null&&We("scrollend",a);break;case"onClick":d!=null&&(a.onclick=cr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yu.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),o=c.slice(2,p?c.length-7:void 0),x=a[xn]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(o,x,p),typeof d=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,d,p);break e}c in a?a[c]=d:d===!0?a.setAttribute(c,""):$l(a,c,d)}}}function kn(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",a),We("load",a);var d=!1,p=!1,x;for(x in c)if(c.hasOwnProperty(x)){var _=c[x];if(_!=null)switch(x){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:bt(a,o,x,_,c,null)}}p&&bt(a,o,"srcSet",c.srcSet,c,null),d&&bt(a,o,"src",c.src,c,null);return;case"input":We("invalid",a);var A=x=_=p=null,B=null,ee=null;for(d in c)if(c.hasOwnProperty(d)){var oe=c[d];if(oe!=null)switch(d){case"name":p=oe;break;case"type":_=oe;break;case"checked":B=oe;break;case"defaultChecked":ee=oe;break;case"value":x=oe;break;case"defaultValue":A=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,o));break;default:bt(a,o,d,oe,c,null)}}Ff(a,x,A,B,ee,_,p,!1);return;case"select":We("invalid",a),d=_=x=null;for(p in c)if(c.hasOwnProperty(p)&&(A=c[p],A!=null))switch(p){case"value":x=A;break;case"defaultValue":_=A;break;case"multiple":d=A;default:bt(a,o,p,A,c,null)}o=x,c=_,a.multiple=!!d,o!=null?ai(a,!!d,o,!1):c!=null&&ai(a,!!d,c,!0);return;case"textarea":We("invalid",a),x=p=d=null;for(_ in c)if(c.hasOwnProperty(_)&&(A=c[_],A!=null))switch(_){case"value":d=A;break;case"defaultValue":p=A;break;case"children":x=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:bt(a,o,_,A,c,null)}ii(a,d,p,x);return;case"option":for(B in c)if(c.hasOwnProperty(B)&&(d=c[B],d!=null))switch(B){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:bt(a,o,B,d,c,null)}return;case"dialog":We("beforetoggle",a),We("toggle",a),We("cancel",a),We("close",a);break;case"iframe":case"object":We("load",a);break;case"video":case"audio":for(d=0;d<Od.length;d++)We(Od[d],a);break;case"image":We("error",a),We("load",a);break;case"details":We("toggle",a);break;case"embed":case"source":case"link":We("error",a),We("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in c)if(c.hasOwnProperty(ee)&&(d=c[ee],d!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:bt(a,o,ee,d,c,null)}return;default:if(Hl(o)){for(oe in c)c.hasOwnProperty(oe)&&(d=c[oe],d!==void 0&&L0(a,o,oe,d,c,void 0));return}}for(A in c)c.hasOwnProperty(A)&&(d=c[A],d!=null&&bt(a,o,A,d,c,null))}function UC(a,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,x=null,_=null,A=null,B=null,ee=null,oe=null;for(ae in c){var de=c[ae];if(c.hasOwnProperty(ae)&&de!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":B=de;default:d.hasOwnProperty(ae)||bt(a,o,ae,null,d,de)}}for(var ne in d){var ae=d[ne];if(de=c[ne],d.hasOwnProperty(ne)&&(ae!=null||de!=null))switch(ne){case"type":x=ae;break;case"name":p=ae;break;case"checked":ee=ae;break;case"defaultChecked":oe=ae;break;case"value":_=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,o));break;default:ae!==de&&bt(a,o,ne,ae,d,de)}}Gl(a,_,A,B,ee,oe,x,p);return;case"select":ae=_=A=ne=null;for(x in c)if(B=c[x],c.hasOwnProperty(x)&&B!=null)switch(x){case"value":break;case"multiple":ae=B;default:d.hasOwnProperty(x)||bt(a,o,x,null,d,B)}for(p in d)if(x=d[p],B=c[p],d.hasOwnProperty(p)&&(x!=null||B!=null))switch(p){case"value":ne=x;break;case"defaultValue":A=x;break;case"multiple":_=x;default:x!==B&&bt(a,o,p,x,d,B)}o=A,c=_,d=ae,ne!=null?ai(a,!!c,ne,!1):!!d!=!!c&&(o!=null?ai(a,!!c,o,!0):ai(a,!!c,c?[]:"",!1));return;case"textarea":ae=ne=null;for(A in c)if(p=c[A],c.hasOwnProperty(A)&&p!=null&&!d.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:bt(a,o,A,null,d,p)}for(_ in d)if(p=d[_],x=c[_],d.hasOwnProperty(_)&&(p!=null||x!=null))switch(_){case"value":ne=p;break;case"defaultValue":ae=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==x&&bt(a,o,_,p,d,x)}qf(a,ne,ae);return;case"option":for(var _e in c)if(ne=c[_e],c.hasOwnProperty(_e)&&ne!=null&&!d.hasOwnProperty(_e))switch(_e){case"selected":a.selected=!1;break;default:bt(a,o,_e,null,d,ne)}for(B in d)if(ne=d[B],ae=c[B],d.hasOwnProperty(B)&&ne!==ae&&(ne!=null||ae!=null))switch(B){case"selected":a.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:bt(a,o,B,ne,d,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in c)ne=c[Ce],c.hasOwnProperty(Ce)&&ne!=null&&!d.hasOwnProperty(Ce)&&bt(a,o,Ce,null,d,ne);for(ee in d)if(ne=d[ee],ae=c[ee],d.hasOwnProperty(ee)&&ne!==ae&&(ne!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,o));break;default:bt(a,o,ee,ne,d,ae)}return;default:if(Hl(o)){for(var vt in c)ne=c[vt],c.hasOwnProperty(vt)&&ne!==void 0&&!d.hasOwnProperty(vt)&&L0(a,o,vt,void 0,d,ne);for(oe in d)ne=d[oe],ae=c[oe],!d.hasOwnProperty(oe)||ne===ae||ne===void 0&&ae===void 0||L0(a,o,oe,ne,d,ae);return}}for(var K in c)ne=c[K],c.hasOwnProperty(K)&&ne!=null&&!d.hasOwnProperty(K)&&bt(a,o,K,null,d,ne);for(de in d)ne=d[de],ae=c[de],!d.hasOwnProperty(de)||ne===ae||ne==null&&ae==null||bt(a,o,de,ne,d,ae)}function Uj(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zC(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),d=0;d<c.length;d++){var p=c[d],x=p.transferSize,_=p.initiatorType,A=p.duration;if(x&&A&&Uj(_)){for(_=0,A=p.responseEnd,d+=1;d<c.length;d++){var B=c[d],ee=B.startTime;if(ee>A)break;var oe=B.transferSize,de=B.initiatorType;oe&&Uj(de)&&(B=B.responseEnd,_+=oe*(B<A?1:(A-ee)/(B-ee)))}if(--d,o+=8*(x+_)/(p.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var U0=null,z0=null;function Hm(a){return a.nodeType===9?a:a.ownerDocument}function zj(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bj(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function B0(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var F0=null;function BC(){var a=window.event;return a&&a.type==="popstate"?a===F0?!1:(F0=a,!0):(F0=null,!1)}var Fj=typeof setTimeout=="function"?setTimeout:void 0,FC=typeof clearTimeout=="function"?clearTimeout:void 0,qj=typeof Promise=="function"?Promise:void 0,qC=typeof queueMicrotask=="function"?queueMicrotask:typeof qj<"u"?function(a){return qj.resolve(null).then(a).catch($C)}:Fj;function $C(a){setTimeout(function(){throw a})}function ki(a){return a==="head"}function $j(a,o){var c=o,d=0;do{var p=c.nextSibling;if(a.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"||c==="/&"){if(d===0){a.removeChild(p),Ec(o);return}d--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")d++;else if(c==="html")Ld(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Ld(c);for(var x=c.firstChild;x;){var _=x.nextSibling,A=x.nodeName;x[Mr]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=_}}else c==="body"&&Ld(a.ownerDocument.body);c=p}while(c);Ec(o)}function Gj(a,o){var c=a;a=0;do{var d=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),d&&d.nodeType===8)if(c=d.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=d}while(c)}function q0(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":q0(c),ql(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function GC(a,o,c,d){for(;a.nodeType===1;){var p=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Mr])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==p.rel||a.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=$s(a.nextSibling),a===null)break}return null}function HC(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=$s(a.nextSibling),a===null))return null;return a}function Hj(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=$s(a.nextSibling),a===null))return null;return a}function $0(a){return a.data==="$?"||a.data==="$~"}function G0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function KC(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var d=function(){o(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function $s(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var H0=null;function Kj(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return $s(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function Wj(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function Yj(a,o,c){switch(o=Hm(c),a){case"html":if(a=o.documentElement,!a)throw Error(s(452));return a;case"head":if(a=o.head,!a)throw Error(s(453));return a;case"body":if(a=o.body,!a)throw Error(s(454));return a;default:throw Error(s(451))}}function Ld(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);ql(a)}var Gs=new Map,Qj=new Set;function Km(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Pa=W.d;W.d={f:WC,r:YC,D:QC,C:JC,L:XC,m:ZC,X:tR,S:eR,M:nR};function WC(){var a=Pa.f(),o=Lm();return a||o}function YC(a){var o=Ps(a);o!==null&&o.tag===5&&o.type==="form"?f1(o):Pa.r(a)}var Nc=typeof document>"u"?null:document;function Jj(a,o,c){var d=Nc;if(d&&typeof o=="string"&&o){var p=ts(o);p='link[rel="'+a+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),Qj.has(p)||(Qj.add(p),a={rel:a,crossOrigin:c,href:o},d.querySelector(p)===null&&(o=d.createElement("link"),kn(o,"link",a),sn(o),d.head.appendChild(o)))}}function QC(a){Pa.D(a),Jj("dns-prefetch",a,null)}function JC(a,o){Pa.C(a,o),Jj("preconnect",a,o)}function XC(a,o,c){Pa.L(a,o,c);var d=Nc;if(d&&a&&o){var p='link[rel="preload"][as="'+ts(o)+'"]';o==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+ts(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+ts(c.imageSizes)+'"]')):p+='[href="'+ts(a)+'"]';var x=p;switch(o){case"style":x=Tc(a);break;case"script":x=Sc(a)}Gs.has(x)||(a=b({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),Gs.set(x,a),d.querySelector(p)!==null||o==="style"&&d.querySelector(Ud(x))||o==="script"&&d.querySelector(zd(x))||(o=d.createElement("link"),kn(o,"link",a),sn(o),d.head.appendChild(o)))}}function ZC(a,o){Pa.m(a,o);var c=Nc;if(c&&a){var d=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+ts(d)+'"][href="'+ts(a)+'"]',x=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Sc(a)}if(!Gs.has(x)&&(a=b({rel:"modulepreload",href:a},o),Gs.set(x,a),c.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(zd(x)))return}d=c.createElement("link"),kn(d,"link",a),sn(d),c.head.appendChild(d)}}}function eR(a,o,c){Pa.S(a,o,c);var d=Nc;if(d&&a){var p=Vr(d).hoistableStyles,x=Tc(a);o=o||"default";var _=p.get(x);if(!_){var A={loading:0,preload:null};if(_=d.querySelector(Ud(x)))A.loading=5;else{a=b({rel:"stylesheet",href:a,"data-precedence":o},c),(c=Gs.get(x))&&K0(a,c);var B=_=d.createElement("link");sn(B),kn(B,"link",a),B._p=new Promise(function(ee,oe){B.onload=ee,B.onerror=oe}),B.addEventListener("load",function(){A.loading|=1}),B.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Wm(_,o,d)}_={type:"stylesheet",instance:_,count:1,state:A},p.set(x,_)}}}function tR(a,o){Pa.X(a,o);var c=Nc;if(c&&a){var d=Vr(c).hoistableScripts,p=Sc(a),x=d.get(p);x||(x=c.querySelector(zd(p)),x||(a=b({src:a,async:!0},o),(o=Gs.get(p))&&W0(a,o),x=c.createElement("script"),sn(x),kn(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(p,x))}}function nR(a,o){Pa.M(a,o);var c=Nc;if(c&&a){var d=Vr(c).hoistableScripts,p=Sc(a),x=d.get(p);x||(x=c.querySelector(zd(p)),x||(a=b({src:a,async:!0,type:"module"},o),(o=Gs.get(p))&&W0(a,o),x=c.createElement("script"),sn(x),kn(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(p,x))}}function Xj(a,o,c,d){var p=(p=Me.current)?Km(p):null;if(!p)throw Error(s(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Tc(c.href),c=Vr(p).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Tc(c.href);var x=Vr(p).hoistableStyles,_=x.get(a);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,_),(x=p.querySelector(Ud(a)))&&!x._p&&(_.instance=x,_.state.loading=5),Gs.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Gs.set(a,c),x||sR(p,a,c,_.state))),o&&d===null)throw Error(s(528,""));return _}if(o&&d!==null)throw Error(s(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Sc(c),c=Vr(p).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,a))}}function Tc(a){return'href="'+ts(a)+'"'}function Ud(a){return'link[rel="stylesheet"]['+a+"]"}function Zj(a){return b({},a,{"data-precedence":a.precedence,precedence:null})}function sR(a,o,c,d){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=a.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),kn(o,"link",c),sn(o),a.head.appendChild(o))}function Sc(a){return'[src="'+ts(a)+'"]'}function zd(a){return"script[async]"+a}function eN(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=a.querySelector('style[data-href~="'+ts(c.href)+'"]');if(d)return o.instance=d,sn(d),d;var p=b({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),sn(d),kn(d,"style",p),Wm(d,c.precedence,a),o.instance=d;case"stylesheet":p=Tc(c.href);var x=a.querySelector(Ud(p));if(x)return o.state.loading|=4,o.instance=x,sn(x),x;d=Zj(c),(p=Gs.get(p))&&K0(d,p),x=(a.ownerDocument||a).createElement("link"),sn(x);var _=x;return _._p=new Promise(function(A,B){_.onload=A,_.onerror=B}),kn(x,"link",d),o.state.loading|=4,Wm(x,c.precedence,a),o.instance=x;case"script":return x=Sc(c.src),(p=a.querySelector(zd(x)))?(o.instance=p,sn(p),p):(d=c,(p=Gs.get(x))&&(d=b({},c),W0(d,p)),a=a.ownerDocument||a,p=a.createElement("script"),sn(p),kn(p,"link",d),a.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Wm(d,c.precedence,a));return o.instance}function Wm(a,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,x=p,_=0;_<d.length;_++){var A=d[_];if(A.dataset.precedence===o)x=A;else if(x!==p)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function K0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function W0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Ym=null;function tN(a,o,c){if(Ym===null){var d=new Map,p=Ym=new Map;p.set(c,d)}else p=Ym,d=p.get(c),d||(d=new Map,p.set(c,d));if(d.has(a))return d;for(d.set(a,null),c=c.getElementsByTagName(a),p=0;p<c.length;p++){var x=c[p];if(!(x[Mr]||x[nn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var _=x.getAttribute(o)||"";_=a+_;var A=d.get(_);A?A.push(x):d.set(_,[x])}}return d}function nN(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function rR(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function sN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function aR(a,o,c,d){if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var p=Tc(d.href),x=o.querySelector(Ud(p));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Qm.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=x,sn(x);return}x=o.ownerDocument||o,d=Zj(d),(p=Gs.get(p))&&K0(d,p),x=x.createElement("link"),sn(x);var _=x;_._p=new Promise(function(A,B){_.onload=A,_.onerror=B}),kn(x,"link",d),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Qm.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var Y0=0;function iR(a,o){return a.stylesheets&&a.count===0&&Xm(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var d=setTimeout(function(){if(a.stylesheets&&Xm(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&Y0===0&&(Y0=62500*zC());var p=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Xm(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>Y0?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(p)}}:null}function Qm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xm(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Jm=null;function Xm(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Jm=new Map,o.forEach(oR,a),Jm=null,Qm.call(a))}function oR(a,o){if(!(o.state.loading&4)){var c=Jm.get(a);if(c)var d=c.get(null);else{c=new Map,Jm.set(a,c);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<p.length;x++){var _=p[x];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(c.set(_.dataset.precedence,_),d=_)}d&&c.set(null,d)}p=o.instance,_=p.getAttribute("data-precedence"),x=c.get(_)||d,x===d&&c.set(null,p),c.set(_,p),this.count++,d=Qm.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),x?x.parentNode.insertBefore(p,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),o.state.loading|=4}}var Bd={$$typeof:z,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function lR(a,o,c,d,p,x,_,A,B){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=x,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function rN(a,o,c,d,p,x,_,A,B,ee,oe,de){return a=new lR(a,o,c,_,B,ee,oe,de,A),o=1,x===!0&&(o|=24),x=ps(3,null,null,o),a.current=x,x.stateNode=a,o=Ax(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:d,isDehydrated:c,cache:o},Rx(x),a}function aN(a){return a?(a=sc,a):sc}function iN(a,o,c,d,p,x){p=aN(p),d.context===null?d.context=p:d.pendingContext=p,d=yi(o),d.payload={element:c},x=x===void 0?null:x,x!==null&&(d.callback=x),c=bi(a,d,o),c!==null&&(os(c,a,o),bd(c,a,o))}function oN(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function Q0(a,o){oN(a,o),(a=a.alternate)&&oN(a,o)}function lN(a){if(a.tag===13||a.tag===31){var o=Po(a,67108864);o!==null&&os(o,a,67108864),Q0(a,67108864)}}function cN(a){if(a.tag===13||a.tag===31){var o=vs();o=_o(o);var c=Po(a,o);c!==null&&os(c,a,o),Q0(a,o)}}var Zm=!0;function cR(a,o,c,d){var p=X.T;X.T=null;var x=W.p;try{W.p=2,J0(a,o,c,d)}finally{W.p=x,X.T=p}}function uR(a,o,c,d){var p=X.T;X.T=null;var x=W.p;try{W.p=8,J0(a,o,c,d)}finally{W.p=x,X.T=p}}function J0(a,o,c,d){if(Zm){var p=X0(d);if(p===null)V0(a,o,d,ep,c),dN(a,d);else if(hR(p,a,o,c,d))d.stopPropagation();else if(dN(a,d),o&4&&-1<dR.indexOf(a)){for(;p!==null;){var x=Ps(p);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var _=Cr(x.pendingLanes);if(_!==0){var A=x;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var B=1<<31-Wt(_);A.entanglements[1]|=B,_&=~B}Qr(x),(lt&6)===0&&(Om=ke()+500,Md(0))}}break;case 31:case 13:A=Po(x,2),A!==null&&os(A,x,2),Lm(),Q0(x,2)}if(x=X0(d),x===null&&V0(a,o,d,ep,c),x===p)break;p=x}p!==null&&d.stopPropagation()}else V0(a,o,d,null,c)}}function X0(a){return a=Ms(a),Z0(a)}var ep=null;function Z0(a){if(ep=null,a=Or(a),a!==null){var o=l(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=u(o),a!==null)return a;a=null}else if(c===31){if(a=h(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return ep=a,null}function uN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ve()){case Cs:return 2;case rr:return 8;case Rs:case kr:return 32;case yo:return 268435456;default:return 32}default:return 32}}var ey=!1,Ii=null,Ci=null,Ri=null,Fd=new Map,qd=new Map,Di=[],dR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dN(a,o){switch(a){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":Fd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":qd.delete(o.pointerId)}}function $d(a,o,c,d,p,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:x,targetContainers:[p]},o!==null&&(o=Ps(o),o!==null&&lN(o)),a):(a.eventSystemFlags|=d,o=a.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),a)}function hR(a,o,c,d,p){switch(o){case"focusin":return Ii=$d(Ii,a,o,c,d,p),!0;case"dragenter":return Ci=$d(Ci,a,o,c,d,p),!0;case"mouseover":return Ri=$d(Ri,a,o,c,d,p),!0;case"pointerover":var x=p.pointerId;return Fd.set(x,$d(Fd.get(x)||null,a,o,c,d,p)),!0;case"gotpointercapture":return x=p.pointerId,qd.set(x,$d(qd.get(x)||null,a,o,c,d,p)),!0}return!1}function hN(a){var o=Or(a.target);if(o!==null){var c=l(o);if(c!==null){if(o=c.tag,o===13){if(o=u(c),o!==null){a.blockedOn=o,or(a.priority,function(){cN(c)});return}}else if(o===31){if(o=h(c),o!==null){a.blockedOn=o,or(a.priority,function(){cN(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function tp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=X0(a.nativeEvent);if(c===null){c=a.nativeEvent;var d=new c.constructor(c.type,c);sd=d,c.target.dispatchEvent(d),sd=null}else return o=Ps(c),o!==null&&lN(o),a.blockedOn=c,!1;o.shift()}return!0}function fN(a,o,c){tp(a)&&c.delete(o)}function fR(){ey=!1,Ii!==null&&tp(Ii)&&(Ii=null),Ci!==null&&tp(Ci)&&(Ci=null),Ri!==null&&tp(Ri)&&(Ri=null),Fd.forEach(fN),qd.forEach(fN)}function np(a,o){a.blockedOn===o&&(a.blockedOn=null,ey||(ey=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,fR)))}var sp=null;function mN(a){sp!==a&&(sp=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sp===a&&(sp=null);for(var o=0;o<a.length;o+=3){var c=a[o],d=a[o+1],p=a[o+2];if(typeof d!="function"){if(Z0(d||c)===null)continue;break}var x=Ps(c);x!==null&&(a.splice(o,3),o-=3,Xx(x,{pending:!0,data:p,method:c.method,action:d},d,p))}}))}function Ec(a){function o(B){return np(B,a)}Ii!==null&&np(Ii,a),Ci!==null&&np(Ci,a),Ri!==null&&np(Ri,a),Fd.forEach(o),qd.forEach(o);for(var c=0;c<Di.length;c++){var d=Di[c];d.blockedOn===a&&(d.blockedOn=null)}for(;0<Di.length&&(c=Di[0],c.blockedOn===null);)hN(c),c.blockedOn===null&&Di.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var p=c[d],x=c[d+1],_=p[xn]||null;if(typeof x=="function")_||mN(c);else if(_){var A=null;if(x&&x.hasAttribute("formAction")){if(p=x,_=x[xn]||null)A=_.formAction;else if(Z0(p)!==null)continue}else A=_.action;typeof A=="function"?c[d+1]=A:(c.splice(d,3),d-=3),mN(c)}}}function pN(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function o(){p!==null&&(p(),p=null),d||setTimeout(c,20)}function c(){if(!d&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,p=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),p!==null&&(p(),p=null)}}}function ty(a){this._internalRoot=a}rp.prototype.render=ty.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(s(409));var c=o.current,d=vs();iN(c,d,a,o,null,null)},rp.prototype.unmount=ty.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;iN(a.current,2,null,a,null,null),Lm(),o[Pr]=null}};function rp(a){this._internalRoot=a}rp.prototype.unstable_scheduleHydration=function(a){if(a){var o=Lf();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Di.length&&o!==0&&o<Di[c].priority;c++);Di.splice(c,0,a),c===0&&hN(a)}};var gN=e.version;if(gN!=="19.2.4")throw Error(s(527,gN,"19.2.4"));W.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return a=g(o),a=a!==null?y(a):null,a=a===null?null:a.stateNode,a};var mR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ap.isDisabled&&ap.supportsFiber)try{ar=ap.inject(mR),Nn=ap}catch{}}return Hd.createRoot=function(a,o){if(!i(a))throw Error(s(299));var c=!1,d="",p=j1,x=N1,_=T1;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=rN(a,1,!1,null,null,c,d,null,p,x,_,pN),a[Pr]=o.current,O0(a),new ty(o)},Hd.hydrateRoot=function(a,o,c){if(!i(a))throw Error(s(299));var d=!1,p="",x=j1,_=N1,A=T1,B=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(A=c.onRecoverableError),c.formState!==void 0&&(B=c.formState)),o=rN(a,1,!0,o,c??null,d,p,B,x,_,A,pN),o.context=aN(null),c=o.current,d=vs(),d=_o(d),p=yi(d),p.callback=null,bi(c,p,d),c=d,o.current.lanes=c,vo(o,c),Qr(o),a[Pr]=o.current,O0(a),new rp(o)},Hd.version="19.2.4",Hd}var SN;function SR(){if(SN)return ry.exports;SN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ry.exports=TR(),ry.exports}var ER=SR();const AR=of(ER);var ly,EN;function kR(){if(EN)return ly;EN=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(l,u){if(l===u)return!0;if(l&&u&&typeof l=="object"&&typeof u=="object"){if(l.constructor!==u.constructor)return!1;var h,f,g;if(Array.isArray(l)){if(h=l.length,h!=u.length)return!1;for(f=h;f--!==0;)if(!i(l[f],u[f]))return!1;return!0}var y;if(e&&l instanceof Map&&u instanceof Map){if(l.size!==u.size)return!1;for(y=l.entries();!(f=y.next()).done;)if(!u.has(f.value[0]))return!1;for(y=l.entries();!(f=y.next()).done;)if(!i(f.value[1],u.get(f.value[0])))return!1;return!0}if(t&&l instanceof Set&&u instanceof Set){if(l.size!==u.size)return!1;for(y=l.entries();!(f=y.next()).done;)if(!u.has(f.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(u)){if(h=l.length,h!=u.length)return!1;for(f=h;f--!==0;)if(l[f]!==u[f])return!1;return!0}if(l.constructor===RegExp)return l.source===u.source&&l.flags===u.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof u.valueOf=="function")return l.valueOf()===u.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof u.toString=="function")return l.toString()===u.toString();if(g=Object.keys(l),h=g.length,h!==Object.keys(u).length)return!1;for(f=h;f--!==0;)if(!Object.prototype.hasOwnProperty.call(u,g[f]))return!1;if(n&&l instanceof Element)return!1;for(f=h;f--!==0;)if(!((g[f]==="_owner"||g[f]==="__v"||g[f]==="__o")&&l.$$typeof)&&!i(l[g[f]],u[g[f]]))return!1;return!0}return l!==l&&u!==u}return ly=function(u,h){try{return i(u,h)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},ly}var IR=kR();const CR=of(IR);var cy,AN;function RR(){if(AN)return cy;AN=1;var n=function(e,t,s,i,l,u,h,f){if(!e){var g;if(t===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[s,i,l,u,h,f],b=0;g=new Error(t.replace(/%s/g,function(){return y[b++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}};return cy=n,cy}var DR=RR();const kN=of(DR);var uy,IN;function PR(){return IN||(IN=1,uy=function(e,t,s,i){var l=s?s.call(i,e,t):void 0;if(l!==void 0)return!!l;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var u=Object.keys(e),h=Object.keys(t);if(u.length!==h.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(t),g=0;g<u.length;g++){var y=u[g];if(!f(y))return!1;var b=e[y],v=t[y];if(l=s?s.call(i,b,v,y):void 0,l===!1||l===void 0&&b!==v)return!1}return!0}),uy}var MR=PR();const OR=of(MR);var mS=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(mS||{}),dy={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},CN=Object.values(mS),Gb={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},VR=Object.entries(Gb).reduce((n,[e,t])=>(n[t]=e,n),{}),br="data-rh",Gc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Hc=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const s=n[t];if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}return null},LR=n=>{let e=Hc(n,"title");const t=Hc(n,Gc.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const s=Hc(n,Gc.DEFAULT_TITLE);return e||s||void 0},UR=n=>Hc(n,Gc.ON_CHANGE_CLIENT_STATE)||(()=>{}),hy=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,s)=>({...t,...s}),{}),zR=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,s)=>{if(!t.length){const i=Object.keys(s);for(let l=0;l<i.length;l+=1){const h=i[l].toLowerCase();if(n.indexOf(h)!==-1&&s[h])return t.concat(s)}}return t},[]),BR=n=>console&&typeof console.warn=="function"&&console.warn(n),Kd=(n,e,t)=>{const s={};return t.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&BR(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,l)=>{const u={};l.filter(f=>{let g;const y=Object.keys(f);for(let v=0;v<y.length;v+=1){const k=y[v],I=k.toLowerCase();e.indexOf(I)!==-1&&!(g==="rel"&&f[g].toLowerCase()==="canonical")&&!(I==="rel"&&f[I].toLowerCase()==="stylesheet")&&(g=I),e.indexOf(k)!==-1&&(k==="innerHTML"||k==="cssText"||k==="itemprop")&&(g=k)}if(!g||!f[g])return!1;const b=f[g].toLowerCase();return s[g]||(s[g]={}),u[g]||(u[g]={}),s[g][b]?!1:(u[g][b]=!0,!0)}).reverse().forEach(f=>i.push(f));const h=Object.keys(u);for(let f=0;f<h.length;f+=1){const g=h[f],y={...s[g],...u[g]};s[g]=y}return i},[]).reverse()},FR=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},qR=n=>({baseTag:zR(["href"],n),bodyAttributes:hy("bodyAttributes",n),defer:Hc(n,Gc.DEFER),encode:Hc(n,Gc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:hy("htmlAttributes",n),linkTags:Kd("link",["rel","href"],n),metaTags:Kd("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Kd("noscript",["innerHTML"],n),onChangeClientState:UR(n),scriptTags:Kd("script",["src","innerHTML"],n),styleTags:Kd("style",["cssText"],n),title:LR(n),titleAttributes:hy("titleAttributes",n),prioritizeSeoTags:FR(n,Gc.PRIORITIZE_SEO_TAGS)}),pS=n=>Array.isArray(n)?n.join(""):n,$R=(n,e)=>{const t=Object.keys(n);for(let s=0;s<t.length;s+=1)if(e[t[s]]&&e[t[s]].includes(n[t[s]]))return!0;return!1},fy=(n,e)=>Array.isArray(n)?n.reduce((t,s)=>($R(s,e)?t.priority.push(s):t.default.push(s),t),{priority:[],default:[]}):{default:n,priority:[]},RN=(n,e)=>({...n,[e]:void 0}),GR=["noscript","script","style"],qy=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),gS=n=>Object.keys(n).reduce((e,t)=>{const s=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${s}`:s},""),HR=(n,e,t,s)=>{const i=gS(t),l=pS(e);return i?`<${n} ${br}="true" ${i}>${qy(l,s)}</${n}>`:`<${n} ${br}="true">${qy(l,s)}</${n}>`},KR=(n,e,t=!0)=>e.reduce((s,i)=>{const l=i,u=Object.keys(l).filter(g=>!(g==="innerHTML"||g==="cssText")).reduce((g,y)=>{const b=typeof l[y]>"u"?y:`${y}="${qy(l[y],t)}"`;return g?`${g} ${b}`:b},""),h=l.innerHTML||l.cssText||"",f=GR.indexOf(n)===-1;return`${s}<${n} ${br}="true" ${u}${f?"/>":`>${h}</${n}>`}`},""),xS=(n,e={})=>Object.keys(n).reduce((t,s)=>{const i=Gb[s];return t[i||s]=n[s],t},e),WR=(n,e,t)=>{const s={key:e,[br]:!0},i=xS(t,s);return[yr.createElement("title",i,e)]},yp=(n,e)=>e.map((t,s)=>{const i={key:s,[br]:!0};return Object.keys(t).forEach(l=>{const h=Gb[l]||l;if(h==="innerHTML"||h==="cssText"){const f=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:f}}else i[h]=t[l]}),yr.createElement(n,i)}),Ks=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>WR(n,e.title,e.titleAttributes),toString:()=>HR(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>xS(e),toString:()=>gS(e)};default:return{toComponent:()=>yp(n,e),toString:()=>KR(n,e,t)}}},YR=({metaTags:n,linkTags:e,scriptTags:t,encode:s})=>{const i=fy(n,dy.meta),l=fy(e,dy.link),u=fy(t,dy.script);return{priorityMethods:{toComponent:()=>[...yp("meta",i.priority),...yp("link",l.priority),...yp("script",u.priority)],toString:()=>`${Ks("meta",i.priority,s)} ${Ks("link",l.priority,s)} ${Ks("script",u.priority,s)}`},metaTags:i.default,linkTags:l.default,scriptTags:u.default}},QR=n=>{const{baseTag:e,bodyAttributes:t,encode:s=!0,htmlAttributes:i,noscriptTags:l,styleTags:u,title:h="",titleAttributes:f,prioritizeSeoTags:g}=n;let{linkTags:y,metaTags:b,scriptTags:v}=n,k={toComponent:()=>{},toString:()=>""};return g&&({priorityMethods:k,linkTags:y,metaTags:b,scriptTags:v}=YR(n)),{priority:k,base:Ks("base",e,s),bodyAttributes:Ks("bodyAttributes",t,s),htmlAttributes:Ks("htmlAttributes",i,s),link:Ks("link",y,s),meta:Ks("meta",b,s),noscript:Ks("noscript",l,s),script:Ks("script",v,s),style:Ks("style",u,s),title:Ks("title",{title:h,titleAttributes:f},s)}},$y=QR,ip=[],yS=!!(typeof window<"u"&&window.document&&window.document.createElement),Gy=class{constructor(n,e){Ma(this,"instances",[]);Ma(this,"canUseDOM",yS);Ma(this,"context");Ma(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?ip:this.instances,add:n=>{(this.canUseDOM?ip:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?ip:this.instances).indexOf(n);(this.canUseDOM?ip:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=$y({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},JR={},bS=yr.createContext(JR),ol,vS=(ol=class extends S.Component{constructor(t){super(t);Ma(this,"helmetData");this.helmetData=new Gy(this.props.context||{},ol.canUseDOM)}render(){return yr.createElement(bS.Provider,{value:this.helmetData.value},this.props.children)}},Ma(ol,"canUseDOM",yS),ol),Ac=(n,e)=>{const t=document.head||document.querySelector("head"),s=t.querySelectorAll(`${n}[${br}]`),i=[].slice.call(s),l=[];let u;return e&&e.length&&e.forEach(h=>{const f=document.createElement(n);for(const g in h)if(Object.prototype.hasOwnProperty.call(h,g))if(g==="innerHTML")f.innerHTML=h.innerHTML;else if(g==="cssText")f.styleSheet?f.styleSheet.cssText=h.cssText:f.appendChild(document.createTextNode(h.cssText));else{const y=g,b=typeof h[y]>"u"?"":h[y];f.setAttribute(g,b)}f.setAttribute(br,"true"),i.some((g,y)=>(u=y,f.isEqualNode(g)))?i.splice(u,1):l.push(f)}),i.forEach(h=>{var f;return(f=h.parentNode)==null?void 0:f.removeChild(h)}),l.forEach(h=>t.appendChild(h)),{oldTags:i,newTags:l}},Hy=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const s=t.getAttribute(br),i=s?s.split(","):[],l=[...i],u=Object.keys(e);for(const h of u){const f=e[h]||"";t.getAttribute(h)!==f&&t.setAttribute(h,f),i.indexOf(h)===-1&&i.push(h);const g=l.indexOf(h);g!==-1&&l.splice(g,1)}for(let h=l.length-1;h>=0;h-=1)t.removeAttribute(l[h]);i.length===l.length?t.removeAttribute(br):t.getAttribute(br)!==u.join(",")&&t.setAttribute(br,u.join(","))},XR=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=pS(n)),Hy("title",e)},DN=(n,e)=>{const{baseTag:t,bodyAttributes:s,htmlAttributes:i,linkTags:l,metaTags:u,noscriptTags:h,onChangeClientState:f,scriptTags:g,styleTags:y,title:b,titleAttributes:v}=n;Hy("body",s),Hy("html",i),XR(b,v);const k={baseTag:Ac("base",t),linkTags:Ac("link",l),metaTags:Ac("meta",u),noscriptTags:Ac("noscript",h),scriptTags:Ac("script",g),styleTags:Ac("style",y)},I={},R={};Object.keys(k).forEach(D=>{const{newTags:P,oldTags:M}=k[D];P.length&&(I[D]=P),M.length&&(R[D]=k[D].oldTags)}),e&&e(),f(n,I,R)},Wd=null,ZR=n=>{Wd&&cancelAnimationFrame(Wd),n.defer?Wd=requestAnimationFrame(()=>{DN(n,()=>{Wd=null})}):(DN(n),Wd=null)},eD=ZR,PN=class extends S.Component{constructor(){super(...arguments);Ma(this,"rendered",!1)}shouldComponentUpdate(e){return!OR(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let s=null;const i=qR(e.get().map(l=>{const u={...l.props};return delete u.context,u}));vS.canUseDOM?eD(i):$y&&(s=$y(i)),t(s)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Fy,mg=(Fy=class extends S.Component{shouldComponentUpdate(n){return!CR(RN(this.props,"helmetData"),RN(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,s){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,s)}]}}mapObjectTypeChildren(n,e,t,s){switch(n.type){case"title":return{...e,[n.type]:s,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(s=>{t={...t,[s]:n[s]}}),t}warnOnInvalidChildren(n,e){return kN(CN.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${CN.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),kN(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return yr.Children.forEach(n,s=>{if(!s||!s.props)return;const{children:i,...l}=s.props,u=Object.keys(l).reduce((f,g)=>(f[VR[g]||g]=l[g],f),{});let{type:h}=s;switch(typeof h=="symbol"?h=h.toString():this.warnOnInvalidChildren(s,i),h){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(s,t,u,i);break;default:e=this.mapObjectTypeChildren(s,e,u,i);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:s}=e;if(n&&(t=this.mapChildrenToProps(n,t)),s&&!(s instanceof Gy)){const i=s;s=new Gy(i.context,!0),delete t.helmetData}return s?yr.createElement(PN,{...t,context:s.value}):yr.createElement(bS.Consumer,null,i=>yr.createElement(PN,{...t,context:i}))}},Ma(Fy,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Fy);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var MN="popstate";function tD(n={}){function e(s,i){let{pathname:l,search:u,hash:h}=s.location;return Ky("",{pathname:l,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){return typeof i=="string"?i:Dh(i)}return sD(e,t,null,n)}function Vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Nr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nD(){return Math.random().toString(36).substring(2,10)}function ON(n,e){return{usr:n.state,key:n.key,idx:e}}function Ky(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Au(e):e,state:t,key:e&&e.key||s||nD()}}function Dh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Au(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function sD(n,e,t,s={}){let{window:i=document.defaultView,v5Compat:l=!1}=s,u=i.history,h="POP",f=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function b(){h="POP";let D=y(),P=D==null?null:D-g;g=D,f&&f({action:h,location:R.location,delta:P})}function v(D,P){h="PUSH";let M=Ky(R.location,D,P);g=y()+1;let z=ON(M,g),le=R.createHref(M);try{u.pushState(z,"",le)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(le)}l&&f&&f({action:h,location:R.location,delta:1})}function k(D,P){h="REPLACE";let M=Ky(R.location,D,P);g=y();let z=ON(M,g),le=R.createHref(M);u.replaceState(z,"",le),l&&f&&f({action:h,location:R.location,delta:0})}function I(D){return rD(D)}let R={get action(){return h},get location(){return n(i,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(MN,b),f=D,()=>{i.removeEventListener(MN,b),f=null}},createHref(D){return e(i,D)},createURL:I,encodeLocation(D){let P=I(D);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:v,replace:k,go(D){return u.go(D)}};return R}function rD(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Dh(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function wS(n,e,t="/"){return aD(n,e,t,!1)}function aD(n,e,t,s){let i=typeof e=="string"?Au(e):e,l=qa(i.pathname||"/",t);if(l==null)return null;let u=_S(n);iD(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let g=xD(l);h=pD(u[f],g,s)}return h}function _S(n,e=[],t=[],s="",i=!1){let l=(u,h,f=i,g)=>{let y={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&f)return;Vt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let b=Ua([s,y.relativePath]),v=t.concat(y);u.children&&u.children.length>0&&(Vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),_S(u.children,e,v,b,f)),!(u.path==null&&!u.index)&&e.push({path:b,score:fD(b,u.index),routesMeta:v})};return n.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,h);else for(let g of jS(u.path))l(u,h,!0,g)}),e}function jS(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,i=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return i?[l,""]:[l];let u=jS(s.join("/")),h=[];return h.push(...u.map(f=>f===""?l:[l,f].join("/"))),i&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function iD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:mD(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var oD=/^:[\w-]+$/,lD=3,cD=2,uD=1,dD=10,hD=-2,VN=n=>n==="*";function fD(n,e){let t=n.split("/"),s=t.length;return t.some(VN)&&(s+=hD),e&&(s+=cD),t.filter(i=>!VN(i)).reduce((i,l)=>i+(oD.test(l)?lD:l===""?uD:dD),s)}function mD(n,e){return n.length===e.length&&n.slice(0,-1).every((s,i)=>s===e[i])?n[n.length-1]-e[e.length-1]:0}function pD(n,e,t=!1){let{routesMeta:s}=n,i={},l="/",u=[];for(let h=0;h<s.length;++h){let f=s[h],g=h===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",b=zp({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},y),v=f.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=zp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!b)return null;Object.assign(i,b.params),u.push({params:i,pathname:Ua([l,b.pathname]),pathnameBase:wD(Ua([l,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(l=Ua([l,b.pathnameBase]))}return u}function zp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=gD(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:b},v)=>{if(y==="*"){let I=h[v]||"";u=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const k=h[v];return b&&!k?g[y]=void 0:g[y]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:n}}function gD(n,e=!1,t=!0){Nr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(s.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function xD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function qa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var yD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function bD(n,e="/"){let{pathname:t,search:s="",hash:i=""}=typeof n=="string"?Au(n):n,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=LN(t.substring(1),"/"):l=LN(t,e)):l=e,{pathname:l,search:_D(s),hash:jD(i)}}function LN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function my(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vD(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Hb(n){let e=vD(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Kb(n,e,t,s=!1){let i;typeof n=="string"?i=Au(n):(i={...n},Vt(!i.pathname||!i.pathname.includes("?"),my("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),my("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),my("#","search","hash",i)));let l=n===""||i.pathname==="",u=l?"/":i.pathname,h;if(u==null)h=t;else{let b=e.length-1;if(!s&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),b-=1;i.pathname=v.join("/")}h=b>=0?e[b]:"/"}let f=bD(i,h),g=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(g||y)&&(f.pathname+="/"),f}var Ua=n=>n.join("/").replace(/\/\/+/g,"/"),wD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_D=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,jD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,ND=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function TD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function SD(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var NS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function TS(n,e){let t=n;if(typeof t!="string"||!yD.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,i=!1;if(NS)try{let l=new URL(window.location.href),u=t.startsWith("//")?new URL(l.protocol+t):new URL(t),h=qa(u.pathname,e);u.origin===l.origin&&h!=null?t=h+u.search+u.hash:i=!0}catch{Nr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:i,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var SS=["POST","PUT","PATCH","DELETE"];new Set(SS);var ED=["GET",...SS];new Set(ED);var ku=S.createContext(null);ku.displayName="DataRouter";var pg=S.createContext(null);pg.displayName="DataRouterState";var AD=S.createContext(!1),ES=S.createContext({isTransitioning:!1});ES.displayName="ViewTransition";var kD=S.createContext(new Map);kD.displayName="Fetchers";var ID=S.createContext(null);ID.displayName="Await";var Is=S.createContext(null);Is.displayName="Navigation";var lf=S.createContext(null);lf.displayName="Location";var Ar=S.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var Wb=S.createContext(null);Wb.displayName="RouteError";var AS="REACT_ROUTER_ERROR",CD="REDIRECT",RD="ROUTE_ERROR_RESPONSE";function DD(n){if(n.startsWith(`${AS}:${CD}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function PD(n){if(n.startsWith(`${AS}:${RD}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new ND(e.status,e.statusText,e.data)}catch{}}function MD(n,{relative:e}={}){Vt(Iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=S.useContext(Is),{hash:i,pathname:l,search:u}=cf(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Ua([t,l])),s.createHref({pathname:h,search:u,hash:i})}function Iu(){return S.useContext(lf)!=null}function ma(){return Vt(Iu(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(lf).location}var kS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IS(n){S.useContext(Is).static||S.useLayoutEffect(n)}function Cu(){let{isDataRoute:n}=S.useContext(Ar);return n?WD():OD()}function OD(){Vt(Iu(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(ku),{basename:e,navigator:t}=S.useContext(Is),{matches:s}=S.useContext(Ar),{pathname:i}=ma(),l=JSON.stringify(Hb(s)),u=S.useRef(!1);return IS(()=>{u.current=!0}),S.useCallback((f,g={})=>{if(Nr(u.current,kS),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=Kb(f,JSON.parse(l),i,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ua([e,y.pathname])),(g.replace?t.replace:t.push)(y,g.state,g)},[e,t,l,i,n])}S.createContext(null);function bp(){let{matches:n}=S.useContext(Ar),e=n[n.length-1];return e?e.params:{}}function cf(n,{relative:e}={}){let{matches:t}=S.useContext(Ar),{pathname:s}=ma(),i=JSON.stringify(Hb(t));return S.useMemo(()=>Kb(n,JSON.parse(i),s,e==="path"),[n,i,s,e])}function VD(n,e){return CS(n,e)}function CS(n,e,t,s,i){var M;Vt(Iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(Is),{matches:u}=S.useContext(Ar),h=u[u.length-1],f=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",b=h&&h.route;{let z=b&&b.path||"";DS(g,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let v=ma(),k;if(e){let z=typeof e=="string"?Au(e):e;Vt(y==="/"||((M=z.pathname)==null?void 0:M.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${z.pathname}" was given in the \`location\` prop.`),k=z}else k=v;let I=k.pathname||"/",R=I;if(y!=="/"){let z=y.replace(/^\//,"").split("/");R="/"+I.replace(/^\//,"").split("/").slice(z.length).join("/")}let D=wS(n,{pathname:R});Nr(b||D!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Nr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=FD(D&&D.map(z=>Object.assign({},z,{params:Object.assign({},f,z.params),pathname:Ua([y,l.encodeLocation?l.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?y:Ua([y,l.encodeLocation?l.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),u,t,s,i);return e&&P?S.createElement(lf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},P):P}function LD(){let n=KD(),e=TD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:i},t):null,u)}var UD=S.createElement(LD,null),RS=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=PD(n.digest);t&&(n=t)}let e=n!==void 0?S.createElement(Ar.Provider,{value:this.props.routeContext},S.createElement(Wb.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?S.createElement(zD,{error:n},e):e}};RS.contextType=AD;var py=new WeakMap;function zD({children:n,error:e}){let{basename:t}=S.useContext(Is);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=DD(e.digest);if(s){let i=py.get(e);if(i)throw i;let l=TS(s.location,t);if(NS&&!py.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw py.set(e,u),u}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function BD({routeContext:n,match:e,children:t}){let s=S.useContext(ku);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Ar.Provider,{value:n},t)}function FD(n,e=[],t=null,s=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=t==null?void 0:t.errors;if(u!=null){let y=l.findIndex(b=>b.route.id&&(u==null?void 0:u[b.route.id])!==void 0);Vt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,f=-1;if(t)for(let y=0;y<l.length;y++){let b=l[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(f=y),b.route.id){let{loaderData:v,errors:k}=t,I=b.route.loader&&!v.hasOwnProperty(b.route.id)&&(!k||k[b.route.id]===void 0);if(b.route.lazy||I){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let g=t&&s?(y,b)=>{var v,k;s(y,{location:t.location,params:((k=(v=t.matches)==null?void 0:v[0])==null?void 0:k.params)??{},unstable_pattern:SD(t.matches),errorInfo:b})}:void 0;return l.reduceRight((y,b,v)=>{let k,I=!1,R=null,D=null;t&&(k=u&&b.route.id?u[b.route.id]:void 0,R=b.route.errorElement||UD,h&&(f<0&&v===0?(DS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,D=null):f===v&&(I=!0,D=b.route.hydrateFallbackElement||null)));let P=e.concat(l.slice(0,v+1)),M=()=>{let z;return k?z=R:I?z=D:b.route.Component?z=S.createElement(b.route.Component,null):b.route.element?z=b.route.element:z=y,S.createElement(BD,{match:b,routeContext:{outlet:y,matches:P,isDataRoute:t!=null},children:z})};return t&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?S.createElement(RS,{location:t.location,revalidation:t.revalidation,component:R,error:k,children:M(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:g}):M()},null)}function Yb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qD(n){let e=S.useContext(ku);return Vt(e,Yb(n)),e}function $D(n){let e=S.useContext(pg);return Vt(e,Yb(n)),e}function GD(n){let e=S.useContext(Ar);return Vt(e,Yb(n)),e}function Qb(n){let e=GD(n),t=e.matches[e.matches.length-1];return Vt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function HD(){return Qb("useRouteId")}function KD(){var s;let n=S.useContext(Wb),e=$D("useRouteError"),t=Qb("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function WD(){let{router:n}=qD("useNavigate"),e=Qb("useNavigate"),t=S.useRef(!1);return IS(()=>{t.current=!0}),S.useCallback(async(i,l={})=>{Nr(t.current,kS),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...l}))},[n,e])}var UN={};function DS(n,e,t){!e&&!UN[n]&&(UN[n]=!0,Nr(!1,t))}S.memo(YD);function YD({routes:n,future:e,state:t,onError:s}){return CS(n,void 0,t,s,e)}function Jr({to:n,replace:e,state:t,relative:s}){Vt(Iu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(Is);Nr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(Ar),{pathname:u}=ma(),h=Cu(),f=Kb(n,Hb(l),u,s==="path"),g=JSON.stringify(f);return S.useEffect(()=>{h(JSON.parse(g),{replace:e,state:t,relative:s})},[h,g,s,e,t]),null}function Ye(n){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QD({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:i,static:l=!1,unstable_useTransitions:u}){Vt(!Iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:h,navigator:i,static:l,unstable_useTransitions:u,future:{}}),[h,i,l,u]);typeof t=="string"&&(t=Au(t));let{pathname:g="/",search:y="",hash:b="",state:v=null,key:k="default"}=t,I=S.useMemo(()=>{let R=qa(g,h);return R==null?null:{location:{pathname:R,search:y,hash:b,state:v,key:k},navigationType:s}},[h,g,y,b,v,k,s]);return Nr(I!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:S.createElement(Is.Provider,{value:f},S.createElement(lf.Provider,{children:e,value:I}))}function PS({children:n,location:e}){return VD(Wy(n),e)}function Wy(n,e=[]){let t=[];return S.Children.forEach(n,(s,i)=>{if(!S.isValidElement(s))return;let l=[...e,i];if(s.type===S.Fragment){t.push.apply(t,Wy(s.props.children,l));return}Vt(s.type===Ye,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Wy(s.props.children,l)),t.push(u)}),t}var vp="get",wp="application/x-www-form-urlencoded";function gg(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function JD(n){return gg(n)&&n.tagName.toLowerCase()==="button"}function XD(n){return gg(n)&&n.tagName.toLowerCase()==="form"}function ZD(n){return gg(n)&&n.tagName.toLowerCase()==="input"}function eP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tP(n,e){return n.button===0&&(!e||e==="_self")&&!eP(n)}var op=null;function nP(){if(op===null)try{new FormData(document.createElement("form"),0),op=!1}catch{op=!0}return op}var sP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gy(n){return n!=null&&!sP.has(n)?(Nr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wp}"`),null):n}function rP(n,e){let t,s,i,l,u;if(XD(n)){let h=n.getAttribute("action");s=h?qa(h,e):null,t=n.getAttribute("method")||vp,i=gy(n.getAttribute("enctype"))||wp,l=new FormData(n)}else if(JD(n)||ZD(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(s=f?qa(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||vp,i=gy(n.getAttribute("formenctype"))||gy(h.getAttribute("enctype"))||wp,l=new FormData(h,n),!nP()){let{name:g,type:y,value:b}=n;if(y==="image"){let v=g?`${g}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else g&&l.append(g,b)}}else{if(gg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vp,s=null,i=wp,u=n}return l&&i==="text/plain"&&(u=l,l=void 0),{action:s,method:t.toLowerCase(),encType:i,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function aP(n,e,t,s){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${s}`:i.pathname=`${i.pathname}.${s}`:i.pathname==="/"?i.pathname=`_root.${s}`:e&&qa(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function iP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function lP(n,e,t){let s=await Promise.all(n.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await iP(l,t);return u.links?u.links():[]}return[]}));return hP(s.flat(1).filter(oP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function zN(n,e,t,s,i,l){let u=(f,g)=>t[g]?f.route.id!==t[g].route.id:!0,h=(f,g)=>{var y;return t[g].pathname!==f.pathname||((y=t[g].route.path)==null?void 0:y.endsWith("*"))&&t[g].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,g)=>u(f,g)||h(f,g)):l==="data"?e.filter((f,g)=>{var b;let y=s.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function cP(n,e,{includeHydrateFallback:t}={}){return uP(n.map(s=>{let i=e.routes[s.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function uP(n){return[...new Set(n)]}function dP(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function hP(n,e){let t=new Set;return new Set(e),n.reduce((s,i)=>{let l=JSON.stringify(dP(i));return t.has(l)||(t.add(l),s.push({key:l,link:i})),s},[])}function MS(){let n=S.useContext(ku);return Jb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function fP(){let n=S.useContext(pg);return Jb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Xb=S.createContext(void 0);Xb.displayName="FrameworkContext";function OS(){let n=S.useContext(Xb);return Jb(n,"You must render this element inside a <HydratedRouter> element"),n}function mP(n,e){let t=S.useContext(Xb),[s,i]=S.useState(!1),[l,u]=S.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:y,onTouchStart:b}=e,v=S.useRef(null);S.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let R=P=>{P.forEach(M=>{u(M.isIntersecting)})},D=new IntersectionObserver(R,{threshold:.5});return v.current&&D.observe(v.current),()=>{D.disconnect()}}},[n]),S.useEffect(()=>{if(s){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[s]);let k=()=>{i(!0)},I=()=>{i(!1),u(!1)};return t?n!=="intent"?[l,v,{}]:[l,v,{onFocus:Yd(h,k),onBlur:Yd(f,I),onMouseEnter:Yd(g,k),onMouseLeave:Yd(y,I),onTouchStart:Yd(b,k)}]:[!1,v,{}]}function Yd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function pP({page:n,...e}){let{router:t}=MS(),s=S.useMemo(()=>wS(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?S.createElement(xP,{page:n,matches:s,...e}):null}function gP(n){let{manifest:e,routeModules:t}=OS(),[s,i]=S.useState([]);return S.useEffect(()=>{let l=!1;return lP(n,e,t).then(u=>{l||i(u)}),()=>{l=!0}},[n,e,t]),s}function xP({page:n,matches:e,...t}){let s=ma(),{future:i,manifest:l,routeModules:u}=OS(),{basename:h}=MS(),{loaderData:f,matches:g}=fP(),y=S.useMemo(()=>zN(n,e,g,l,s,"data"),[n,e,g,l,s]),b=S.useMemo(()=>zN(n,e,g,l,s,"assets"),[n,e,g,l,s]),v=S.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let R=new Set,D=!1;if(e.forEach(M=>{var le;let z=l.routes[M.route.id];!z||!z.hasLoader||(!y.some(L=>L.route.id===M.route.id)&&M.route.id in f&&((le=u[M.route.id])!=null&&le.shouldRevalidate)||z.hasClientLoader?D=!0:R.add(M.route.id))}),R.size===0)return[];let P=aP(n,h,i.unstable_trailingSlashAwareDataRequests,"data");return D&&R.size>0&&P.searchParams.set("_routes",e.filter(M=>R.has(M.route.id)).map(M=>M.route.id).join(",")),[P.pathname+P.search]},[h,i.unstable_trailingSlashAwareDataRequests,f,s,l,y,e,n,u]),k=S.useMemo(()=>cP(b,l),[b,l]),I=gP(b);return S.createElement(S.Fragment,null,v.map(R=>S.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),k.map(R=>S.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),I.map(({key:R,link:D})=>S.createElement("link",{key:R,nonce:t.nonce,...D,crossOrigin:D.crossOrigin??t.crossOrigin})))}function yP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var bP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bP&&(window.__reactRouterVersion="7.13.0")}catch{}function vP({basename:n,children:e,unstable_useTransitions:t,window:s}){let i=S.useRef();i.current==null&&(i.current=tD({window:s,v5Compat:!0}));let l=i.current,[u,h]=S.useState({action:l.action,location:l.location}),f=S.useCallback(g=>{t===!1?h(g):S.startTransition(()=>h(g))},[t]);return S.useLayoutEffect(()=>l.listen(f),[l,f]),S.createElement(QD,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t})}var VS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=S.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:i,reloadDocument:l,replace:u,state:h,target:f,to:g,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:v,...k},I){let{basename:R,unstable_useTransitions:D}=S.useContext(Is),P=typeof g=="string"&&VS.test(g),M=TS(g,R);g=M.to;let z=MD(g,{relative:i}),[le,L,H]=mP(s,k),T=NP(g,{replace:u,state:h,target:f,preventScrollReset:y,relative:i,viewTransition:b,unstable_defaultShouldRevalidate:v,unstable_useTransitions:D});function N(O){e&&e(O),O.defaultPrevented||T(O)}let E=S.createElement("a",{...k,...H,href:M.absoluteURL||z,onClick:M.isExternal||l?e:N,ref:yP(I,L),target:f,"data-discover":!P&&t==="render"?"true":void 0});return le&&!P?S.createElement(S.Fragment,null,E,S.createElement(pP,{page:z})):E});Le.displayName="Link";var wP=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:i=!1,style:l,to:u,viewTransition:h,children:f,...g},y){let b=cf(u,{relative:g.relative}),v=ma(),k=S.useContext(pg),{navigator:I,basename:R}=S.useContext(Is),D=k!=null&&kP(b)&&h===!0,P=I.encodeLocation?I.encodeLocation(b).pathname:b.pathname,M=v.pathname,z=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(M=M.toLowerCase(),z=z?z.toLowerCase():null,P=P.toLowerCase()),z&&R&&(z=qa(z,R)||z);const le=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let L=M===P||!i&&M.startsWith(P)&&M.charAt(le)==="/",H=z!=null&&(z===P||!i&&z.startsWith(P)&&z.charAt(P.length)==="/"),T={isActive:L,isPending:H,isTransitioning:D},N=L?e:void 0,E;typeof s=="function"?E=s(T):E=[s,L?"active":null,H?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(T):l;return S.createElement(Le,{...g,"aria-current":N,className:E,ref:y,style:O,to:u,viewTransition:h},typeof f=="function"?f(T):f)});wP.displayName="NavLink";var _P=S.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:i,state:l,method:u=vp,action:h,onSubmit:f,relative:g,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:v,...k},I)=>{let{unstable_useTransitions:R}=S.useContext(Is),D=EP(),P=AP(h,{relative:g}),M=u.toLowerCase()==="get"?"get":"post",z=typeof h=="string"&&VS.test(h),le=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let H=L.nativeEvent.submitter,T=(H==null?void 0:H.getAttribute("formmethod"))||u,N=()=>D(H||L.currentTarget,{fetcherKey:e,method:T,navigate:t,replace:i,state:l,relative:g,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:v});R&&t!==!1?S.startTransition(()=>N()):N()};return S.createElement("form",{ref:I,method:M,action:P,onSubmit:s?f:le,...k,"data-discover":!z&&n==="render"?"true":void 0})});_P.displayName="Form";function jP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LS(n){let e=S.useContext(ku);return Vt(e,jP(n)),e}function NP(n,{target:e,replace:t,state:s,preventScrollReset:i,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let g=Cu(),y=ma(),b=cf(n,{relative:l});return S.useCallback(v=>{if(tP(v,e)){v.preventDefault();let k=t!==void 0?t:Dh(y)===Dh(b),I=()=>g(n,{replace:k,state:s,preventScrollReset:i,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h});f?S.startTransition(()=>I()):I()}},[y,g,b,t,s,e,n,i,l,u,h,f])}var TP=0,SP=()=>`__${String(++TP)}__`;function EP(){let{router:n}=LS("useSubmit"),{basename:e}=S.useContext(Is),t=HD(),s=n.fetch,i=n.navigate;return S.useCallback(async(l,u={})=>{let{action:h,method:f,encType:g,formData:y,body:b}=rP(l,e);if(u.navigate===!1){let v=u.fetcherKey||SP();await s(v,t,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:b,formMethod:u.method||f,formEncType:u.encType||g,flushSync:u.flushSync})}else await i(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:b,formMethod:u.method||f,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,i,e,t])}function AP(n,{relative:e}={}){let{basename:t}=S.useContext(Is),s=S.useContext(Ar);Vt(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),l={...cf(n||".",{relative:e})},u=ma();if(n==null){l.search=u.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let y=h.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ua([t,l.pathname])),Dh(l)}function kP(n,{relative:e}={}){let t=S.useContext(ES);Vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=LS("useViewTransitionState"),i=cf(n,{relative:e});if(!t.isTransitioning)return!1;let l=qa(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=qa(t.nextLocation.pathname,s)||t.nextLocation.pathname;return zp(i.pathname,u)!=null||zp(i.pathname,l)!=null}/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),BN=n=>{const e=CP(n);return e.charAt(0).toUpperCase()+e.slice(1)},US=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),RP=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:i="",children:l,iconNode:u,...h},f)=>S.createElement("svg",{ref:f,...DP,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:US("lucide",i),...!l&&!RP(h)&&{"aria-hidden":"true"},...h},[...u.map(([g,y])=>S.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(n,e)=>{const t=S.forwardRef(({className:s,...i},l)=>S.createElement(PP,{ref:l,iconNode:e,className:US(`lucide-${IP(BN(n))}`,`lucide-${n}`,s),...i}));return t.displayName=BN(n),t};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],$a=he("activity",MP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Js=he("arrow-left",OP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ys=he("arrow-right",VP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],UP=he("arrow-up-right",LP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],BP=he("award",zP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qP=he("ban",FP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],GP=he("banknote",$P);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Yy=he("bell",HP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]],WP=he("bitcoin",KP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],QP=he("briefcase",YP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],FN=he("building-2",JP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],zS=he("calculator",XP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qy=he("calendar",ZP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],t6=he("camera",e6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],lh=he("chart-column",n6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Ph=he("chart-no-axes-column",s6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_s=he("check",r6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zb=he("chevron-down",a6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],BS=he("chevron-left",i6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xg=he("chevron-right",o6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],FS=he("chevron-up",l6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ev=he("circle-alert",c6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oa=he("circle-check-big",u6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tv=he("circle-check",d6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],f6=he("circle-pause",h6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],p6=he("circle-play",m6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],x6=he("circle-question-mark",g6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qS=he("circle-x",y6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Yn=he("clock",b6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],$S=he("code",v6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],_6=he("construction",w6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],dl=he("copy",j6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],T6=he("cpu",N6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ns=he("credit-card",S6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],A6=he("database",E6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Gi=he("dollar-sign",k6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Mh=he("download",I6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],R6=he("earth",C6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],yg=he("external-link",D6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],M6=he("eye-off",P6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GS=he("eye",O6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],HS=he("file-code",V6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],U6=he("file-text",L6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],B6=he("funnel",z6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],As=he("globe",F6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],qN=he("hash",q6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],G6=he("house",$6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],eu=he("info",H6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Jy=he("key",K6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Y6=he("landmark",W6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Oh=he("layers",Q6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],KS=he("layout-dashboard",J6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],$N=he("layout-template",X6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],e3=he("link-2",Z6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],n3=he("link",t3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],r3=he("loader-circle",s3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Oa=he("lock",a3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],o3=he("log-in",i3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],c3=he("log-out",l3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],hl=he("mail",u3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ji=he("map-pin",d3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Xy=he("megaphone",h3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],m3=he("menu",f3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Tr=he("message-square",p3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M5 12h14",key:"1ays0h"}]],x3=he("minus",g3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],tu=he("monitor",y3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],v3=he("moon",b3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],_3=he("mouse-pointer-2",w3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],nu=he("mouse-pointer",j3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],T3=he("octagon-alert",N3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],E3=he("panels-top-left",S3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],qc=he("paperclip",A3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],I3=he("pause",k3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],nv=he("pen",C3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],WS=he("phone",R3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],sv=he("play",D3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ru=he("plus",P3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],O3=he("printer",M3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],YS=he("radio",V3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Zy=he("refresh-cw",L3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],z3=he("rss",U3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ga=he("save",B3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Sr=he("search",F3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fl=he("send",q3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],G3=he("server",$3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ml=he("settings",H3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],rv=he("share-2",K3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],QS=he("shield-check",W3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pl=he("shield",Y3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],J3=he("sliders-vertical",Q3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],uf=he("smartphone",X3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],GN=he("square-check-big",Z3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],HN=he("square",e5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],JS=he("star",t5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Vh=he("tag",n5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],su=he("target",s5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],_p=he("terminal",r5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],i5=he("toggle-left",a5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],l5=he("toggle-right",o5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dl=he("trash-2",c5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],d5=he("trending-down",u5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xi=he("trending-up",h5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ua=he("triangle-alert",f5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],p5=he("upload",m5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],za=he("user",g5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ru=he("users",x5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],KN=he("wallet",y5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],v5=he("wrench",b5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ha=he("x",w5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Xn=he("zap",_5),XS=({menuSections:n,currentView:e,onNavigate:t,onLogout:s})=>r.jsxs("aside",{className:"w-64 bg-[#111111] text-white flex flex-col h-screen fixed left-0 top-0 z-20 hidden md:flex border-r border-gray-800 shadow-xl",children:[r.jsxs("div",{className:"p-8 pb-10 flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-[#ff4d00] flex items-center justify-center",children:r.jsx("span",{className:"font-black text-black text-lg",children:"T"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-black text-white tracking-tighter leading-none",children:"TRAFFIC"}),r.jsx("p",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-widest mt-0.5",children:"Creator OS"})]})]}),r.jsx("nav",{className:"flex-1 overflow-y-auto px-4 custom-scrollbar",children:r.jsx("div",{className:"space-y-6",children:n.map((i,l)=>r.jsx("div",{className:l>0?"pt-6 border-t border-gray-800/50":"",children:r.jsx("ul",{className:"space-y-1",children:i.items.map(u=>{const h=e===u.id;return r.jsx("li",{children:r.jsxs("button",{onClick:()=>t(u.id),className:`w-full group flex items-center justify-between px-4 py-3.5 text-[11px] font-bold uppercase tracking-widest transition-all duration-200 rounded-sm
                          ${h?"bg-[#ff4d00] text-white shadow-[0_0_15px_rgba(255,77,0,0.3)]":"text-gray-400 hover:bg-[#1a1a1a] hover:text-white"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[u.icon&&r.jsx("span",{className:h?"text-white":"text-gray-600 group-hover:text-[#ff4d00]",children:u.icon}),r.jsx("span",{children:u.label})]}),h&&r.jsx(xg,{size:14,className:"animate-in slide-in-from-left-2"})]})},u.id)})})},l))})}),r.jsx("div",{className:"p-4 border-t border-gray-800 bg-[#0a0a0a]",children:r.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 py-3 border border-gray-800 text-[11px] font-bold text-gray-400 uppercase tracking-widest hover:text-[#ff4d00] hover:border-[#ff4d00] hover:bg-[#111] transition-all rounded-sm",children:[r.jsx(c3,{size:14}),r.jsx("span",{children:"Logout"})]})})]}),et="http://127.0.0.1:8001",ZS=n=>typeof localStorage<"u"?localStorage.getItem(n):null;let xh=ZS("tgp_token");ZS("modus_current_user_id");const ct=async(n,e={})=>{const t={"Content-Type":"application/json",...e.headers};xh&&(t.Authorization=`Bearer ${xh}`);const s=await fetch(n,{...e,headers:t});return s.status===401&&(xh=null,localStorage.removeItem("tgp_token"),window.dispatchEvent(new Event("auth-expired"))),s},te={init:()=>{console.log("Remote Database Initialized")},getCurrentUser:()=>{const n=localStorage.getItem("modus_current_user");return n?JSON.parse(n):void 0},setCurrentUser:n=>{n?(localStorage.setItem("modus_current_user",JSON.stringify(n)),localStorage.setItem("modus_current_user_id",n.id),n.id):(localStorage.removeItem("modus_current_user"),localStorage.removeItem("modus_current_user_id"))},logout:()=>{xh=null,localStorage.removeItem("tgp_token"),localStorage.removeItem("modus_current_user"),localStorage.removeItem("modus_current_user_id"),window.localStorage.clear(),window.location.href="/login"},login:async(n,e)=>{var f;const t=new URLSearchParams;t.append("username",n),t.append("password",e);const s=await fetch(`${et}/auth/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});if(!s.ok)throw new Error("Invalid email or password");const i=await s.json();xh=i.access_token,localStorage.setItem("tgp_token",i.access_token);const u=await(await ct(`${et}/users/me`)).json(),h={id:u.id,email:u.email,name:u.email.split("@")[0],role:u.role,balance:u.balance,status:"active",joinedDate:((f=u.created_at)==null?void 0:f.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:0,apiKey:u.api_key,phone:u.phone,company:u.company,vatId:u.vat_id,address:u.address,city:u.city,country:u.country,zip:u.zip,website:u.website,displayName:u.display_name,bio:u.bio,jobTitle:u.job_title,publicProfile:u.public_profile,twoFactorEnabled:u.two_factor_enabled,emailFrequency:u.email_frequency,loginNotificationEnabled:u.login_notification_enabled,newsletterSub:u.newsletter_sub,soundEffects:u.sound_effects,developerMode:u.developer_mode,apiWhitelist:u.api_whitelist,webhookSecret:u.webhook_secret,accessibility:u.accessibility,socialLinks:u.social_links,loginHistory:u.login_history,recoveryEmail:u.recovery_email,timezone:u.timezone,language:u.language,themeAccentColor:u.theme_accent_color,skillsBadges:u.skills_badges,referralCode:u.referral_code,supportPin:u.support_pin,dateFormat:u.date_format,numberFormat:u.number_format,requirePasswordReset:u.require_password_reset};return te.setCurrentUser(h),h},register:async(n,e,t)=>{const s=await fetch(`${et}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:e,password:t})});if(!s.ok){const i=await s.json();throw new Error(i.detail||"Registration failed")}return await s.json()},getProjects:()=>{const n=localStorage.getItem("modus_projects_cache");return n?JSON.parse(n):[]},syncProjects:async()=>{try{const n=await ct(`${et}/projects`);if(!n.ok)return;const t=(await n.json()).map(s=>({id:s.id,userId:s.user_id,name:s.name,plan:s.plan_type||"Custom",status:s.status,expires:s.expires_at||"Never",createdAt:s.created_at,settings:s.settings,stats:[]}));localStorage.setItem("modus_projects_cache",JSON.stringify(t))}catch(n){console.error("Failed to sync projects:",n)}},getProjectById:n=>te.getProjects().find(t=>t.id===n),addProject:async n=>{var s,i;const e={name:n.name,plan_type:n.plan,settings:n.settings,daily_limit:((s=n.customTarget)==null?void 0:s.dailyLimit)||0,total_target:((i=n.customTarget)==null?void 0:i.totalVisitors)||0};if(!(await ct(`${et}/projects`,{method:"POST",body:JSON.stringify(e)})).ok)throw new Error("Failed to create project");return await te.syncProjects(),te.getProjects()},updateProject:async n=>(await ct(`${et}/projects/${n.id}`,{method:"POST",body:JSON.stringify(n)}),await te.syncProjects(),te.getProjects()),updateProjectStatus:async(n,e)=>(await ct(`${et}/projects/${n}/${e==="active"?"start":"stop"}`,{method:"POST"}),await te.syncProjects(),te.getProjects()),deleteProject:async n=>(await ct(`${et}/projects/${n}`,{method:"DELETE"}),await te.syncProjects(),te.getProjects()),bulkUpdateProjectStatus:async(n,e)=>(await Promise.all(n.map(t=>ct(`${et}/projects/${t}/${e==="active"?"start":"stop"}`,{method:"POST"}))),await te.syncProjects(),te.getProjects()),bulkDeleteProjects:async n=>(await Promise.all(n.map(e=>ct(`${et}/projects/${e}`,{method:"DELETE"}))),await te.syncProjects(),te.getProjects()),getBalance:()=>{const n=te.getCurrentUser();return n?n.balance:0},syncAll:async()=>{await Promise.all([te.syncProjects(),te.syncTransactions(),te.syncSettings(),te.syncUsers(),te.syncAllTransactions(),te.syncTickets(),te.syncNotifications()])},getUsers:()=>{const n=localStorage.getItem("modus_users_cache");return n?JSON.parse(n):[]},syncUsers:async()=>{const n=await ct(`${et}/admin/users`);if(!n.ok)return[];const t=(await n.json()).map(s=>{var i;return{id:s.id,email:s.email,name:s.name||s.email.split("@")[0],role:s.role,balance:s.balance,status:s.status||"active",joinedDate:((i=s.created_at)==null?void 0:i.split("T")[0])||s.joinedDate||new Date().toISOString().split("T")[0],projectsCount:s.projects_count||0,plan:s.plan||"free",shadowBanned:s.shadow_banned||!1,isVerified:s.is_verified||!1,notes:s.notes||"",tags:s.tags||[],banReason:s.ban_reason||"",lastIp:s.last_ip||"",lastActive:s.last_active||""}});return localStorage.setItem("modus_users_cache",JSON.stringify(t)),t},updateUser:async n=>{const e=te.getUsers(),t=e.findIndex(s=>s.id===n.id);return t>=0&&(e[t]=n,localStorage.setItem("modus_users_cache",JSON.stringify(e))),n},adminAdjustBalance:async(n,e,t,s)=>{const l=te.getUsers().find(u=>u.id===n);l&&(await ct(`${et}/webhooks/deposit`,{method:"POST",body:JSON.stringify({user_email:l.email,amount:t==="credit"?e:-e,description:s})}),await te.syncUsers(),await te.syncAllTransactions())},getTransactions:()=>{const n=localStorage.getItem("modus_transactions_cache");return n?JSON.parse(n):[]},syncTransactions:async()=>{const n=await ct(`${et}/transactions`);if(!n.ok)return[];const t=(await n.json()).map(s=>{var i;return{id:s.id,date:((i=s.created_at)==null?void 0:i.split("T")[0])||s.date||new Date().toISOString().split("T")[0],desc:s.description||s.desc,amount:s.amount,status:s.status||"completed",type:s.type,userId:s.user_id||s.userId}});return localStorage.setItem("modus_transactions_cache",JSON.stringify(t)),t},getAllTransactionsAdmin:()=>{const n=localStorage.getItem("modus_admin_transactions_cache");return n?JSON.parse(n):[]},syncAllTransactions:async()=>{const n=await ct(`${et}/admin/transactions`);if(!n.ok)return[];const t=(await n.json()).map(s=>{var i;return{id:s.id,date:((i=s.created_at)==null?void 0:i.split("T")[0])||s.date||new Date().toISOString().split("T")[0],desc:s.description||s.desc,amount:s.amount,status:s.status||"completed",type:s.type,userId:s.user_id||s.userId}});return localStorage.setItem("modus_admin_transactions_cache",JSON.stringify(t)),t},purchaseCredits:async(n,e)=>{const t=te.getCurrentUser();if(!t)return 0;await ct(`${et}/webhooks/deposit`,{method:"POST",body:JSON.stringify({user_email:t.email,amount:n,description:e})});const i=await(await ct(`${et}/users/me`)).json();return te.setCurrentUser({...t,balance:i.balance}),await te.syncTransactions(),i.balance},getTickets:()=>{const n=localStorage.getItem("modus_tickets_cache");return n?JSON.parse(n):[]},syncTickets:async()=>{const n=await ct(`${et}/tickets`);if(!n.ok)return;const t=(await n.json()).map(s=>{var i,l;return{id:s.id,type:"ticket",userId:s.user_id,userName:((i=s.user_email)==null?void 0:i.split("@")[0])||"User",subject:s.subject,status:"open",priority:s.priority,date:((l=s.created_at)==null?void 0:l.split("T")[0])||new Date().toLocaleDateString(),lastMessage:"Ticket created",unread:!1}});localStorage.setItem("modus_tickets_cache",JSON.stringify(t))},createTicket:async n=>(await ct(`${et}/tickets`,{method:"POST",body:JSON.stringify(n)}),await te.syncTickets(),te.getTickets()),getNotifications:()=>{const n=localStorage.getItem("modus_notifications_cache");return n?JSON.parse(n):[]},syncNotifications:async()=>{const n=await ct(`${et}/notifications`);if(!n.ok)return;const t=(await n.json()).map(s=>{var i;return{id:s.id,userId:s.user_id,title:s.title,message:s.message,date:((i=s.created_at)==null?void 0:i.split("T")[0])||new Date().toLocaleDateString(),read:s.is_read,type:s.type||"info"}});localStorage.setItem("modus_notifications_cache",JSON.stringify(t))},getAdminNotifications:()=>te.getNotifications(),markNotificationRead:async n=>{await ct(`${et}/notifications/${n}/read`,{method:"PUT"}),await te.syncNotifications()},getSystemSettings:()=>{const n=localStorage.getItem("modus_settings_cache");return n?JSON.parse(n):{siteName:"Traffic Creator",maintenanceMode:!1,allowRegistrations:!0,supportEmail:"support@traffic.com",minDeposit:10}},syncSettings:async()=>{const n=await fetch(`${et}/settings`);if(!n.ok)return;const e=await n.json();localStorage.setItem("modus_settings_cache",JSON.stringify(e.settings))},saveSystemSettings:async n=>{await ct(`${et}/settings`,{method:"PUT",body:JSON.stringify({settings:n})}),localStorage.setItem("modus_settings_cache",JSON.stringify(n))},trackPresence:(n,e)=>{console.log(`User ${e.email} is viewing ${n}`)},getTicketById:n=>te.getTickets().find(t=>t.id===n),replyToTicket:async(n,e,t,s)=>(console.log(`Replying to ticket ${n}: ${e}`),{}),savePricing:async n=>{const e=te.getSystemSettings();e.pricingPlans=n,await te.saveSystemSettings(e)},updateUserProfile:async n=>{console.log("Updating profile on backend:",n);const e={name:n.name,email:n.email,phone:n.phone,company:n.company,vat_id:n.vatId,address:n.address,city:n.city,country:n.country,zip:n.zip,website:n.website,display_name:n.displayName,bio:n.bio,job_title:n.jobTitle,public_profile:n.publicProfile,two_factor_enabled:n.twoFactorEnabled,email_frequency:n.emailFrequency,login_notification_enabled:n.loginNotificationEnabled,newsletter_sub:n.newsletterSub,sound_effects:n.soundEffects,developer_mode:n.developerMode,api_whitelist:n.apiWhitelist,webhook_secret:n.webhookSecret,accessibility:n.accessibility,social_links:n.socialLinks,recovery_email:n.recoveryEmail,timezone:n.timezone,language:n.language,theme_accent_color:n.themeAccentColor,date_format:n.dateFormat,number_format:n.numberFormat,require_password_reset:n.requirePasswordReset},t=await ct(`${et}/users/me`,{method:"PUT",body:JSON.stringify(e)});if(!t.ok){const s=await t.json();throw new Error(s.detail||"Failed to update profile")}await t.json(),te.setCurrentUser(n)},regenerateApiKey:async()=>{const n=await ct(`${et}/auth/api-key`,{method:"POST"});if(!n.ok)throw new Error("Failed to regenerate key");const e=await n.json(),t=te.getCurrentUser();return t&&(t.apiKey=e.api_key,te.setCurrentUser(t)),e.api_key},changePassword:async(n,e,t)=>{const s=await ct(`${et}/auth/password`,{method:"PUT",body:JSON.stringify({current_password:n,new_password:e,confirm_password:t})});if(!s.ok){const i=await s.json();throw new Error(i.detail||"Password update failed")}return await s.json()},logoutAllSessions:async()=>{const n=await ct(`${et}/auth/logout-all`,{method:"POST"});if(!n.ok)throw new Error("Failed to logout all sessions");return await n.json()},exportUserData:async()=>{const n=await ct(`${et}/users/me/export`);if(!n.ok)throw new Error("Export failed");return await n.json()},uploadAvatar:async n=>{const e=localStorage.getItem("tgp_token"),t={};e&&(t.Authorization=`Bearer ${e}`);const s=new FormData;s.append("file",n);const i=await fetch(`${et}/users/me/avatar`,{method:"POST",headers:t,body:s});if(!i.ok)throw new Error("Avatar upload failed");const l=await i.json(),u=te.getCurrentUser();return u&&(u.avatarUrl=l.avatar_url,te.setCurrentUser(u)),l.avatar_url},deleteAccount:async()=>{if(!(await ct(`${et}/users/me`,{method:"DELETE"})).ok)throw new Error("Account deletion failed");te.logout()},getPricing:()=>{const n=te.getSystemSettings();return n.pricingPlans&&n.pricingPlans.length>0?n.pricingPlans:[{id:"foundation",name:"Foundation",hourlyRate:.58,baseFee:29,examFee:0},{id:"momentum",name:"Momentum",hourlyRate:.43,baseFee:129,examFee:0},{id:"breakthrough",name:"Breakthrough",hourlyRate:.4,baseFee:399,examFee:0},{id:"apex",name:"Apex",hourlyRate:.33,baseFee:999,examFee:0}]},getAlerts:()=>{const n=localStorage.getItem("modus_alerts_cache");return n?JSON.parse(n):[]},checkBroadcastTarget:(n,e)=>{if(!n.active)return!1;if(!e)return n.targetType==="all";switch(n.targetType){case"all":return!0;case"paying":return e.projectsCount>0;case"active_7d":const t=new Date(e.joinedDate).getTime(),s=10080*60*1e3;return Date.now()-t>s;case"specific":return n.targetUserIds?n.targetUserIds.includes(e.id):!1;default:return!1}},getRealTimeVisitors:async()=>[],scanGA4:async n=>{const e=await ct(`${et}/tools/scan-ga4?url=${encodeURIComponent(n)}`);if(!e.ok)throw new Error("GA4 ID not found");return(await e.json()).tid},spendCredits:(n,e)=>{const t=te.getCurrentUser();return!t||t.balance<n?!1:(t.balance-=n,te.setCurrentUser(t),te.purchaseCredits(-n,e).catch(console.error),!0)},getActiveBroadcasts:async()=>{try{const n=await fetch(`${et}/broadcasts/active`);return n.ok?(await n.json()).map(t=>({id:t.id,title:t.title,message:t.message,type:t.type,isActive:t.is_active,createdAt:t.created_at,expiresAt:t.expires_at,actionUrl:t.action_url,actionText:t.action_text})):[]}catch(n){return console.error("Failed to fetch active broadcasts",n),[]}},getAdminBroadcasts:async()=>{try{const n=await ct(`${et}/admin/broadcasts`);return n.ok?(await n.json()).map(t=>({id:t.id,title:t.title,message:t.message,type:t.type,isActive:t.is_active,createdAt:t.created_at,expiresAt:t.expires_at,actionUrl:t.action_url,actionText:t.action_text})):[]}catch(n){return console.error("Failed to fetch admin broadcasts",n),[]}},createBroadcast:async n=>{const e={title:n.title,message:n.message,type:n.type,is_active:n.isActive,expires_at:n.expiresAt?new Date(n.expiresAt).toISOString():null,action_url:n.actionUrl,action_text:n.actionText};await ct(`${et}/admin/broadcasts`,{method:"POST",body:JSON.stringify(e)})},updateBroadcast:async(n,e)=>{const t={title:e.title,message:e.message,type:e.type,is_active:e.isActive,expires_at:e.expiresAt?new Date(e.expiresAt).toISOString():null,action_url:e.actionUrl,action_text:e.actionText};await ct(`${et}/admin/broadcasts/${n}`,{method:"PUT",body:JSON.stringify(t)})},deleteBroadcast:async n=>{await ct(`${et}/admin/broadcasts/${n}`,{method:"DELETE"})},getAdminStats:async()=>{try{const n=await ct(`${et}/admin/stats`);return n.ok?await n.json():null}catch(n){return console.error("Failed to fetch admin stats",n),null}},getCoupons:()=>{const n=localStorage.getItem("modus_coupons_cache");if(n)return JSON.parse(n);const e=[{id:"1",code:"WELCOME20",discountType:"percent",discountValue:20,active:!0,usedCount:45},{id:"2",code:"BLACKFRIDAY",discountType:"fixed",discountValue:50,active:!1,usedCount:120,expiryDate:"2025-11-29"}];return localStorage.setItem("modus_coupons_cache",JSON.stringify(e)),e},saveCoupon:n=>{const e=te.getCoupons(),t=e.findIndex(s=>s.id===n.id);t>=0?e[t]=n:e.push(n),localStorage.setItem("modus_coupons_cache",JSON.stringify(e))},deleteCoupon:n=>{const e=te.getCoupons().filter(t=>t.id!==n);localStorage.setItem("modus_coupons_cache",JSON.stringify(e))},getMarketingStats:()=>{const n=localStorage.getItem("modus_marketing_cache");if(n)return JSON.parse(n);const e=[{id:"1",name:"Welcome Email Sequence",type:"email",status:"active",sentCount:12500,openRate:45,clickRate:12,dateCreated:"2024-01-15"},{id:"2",name:"Google Ads Q1",type:"ad_tracking",status:"active",utmSource:"google_ads",clicks:8500,conversions:320,revenue:14500,dateCreated:"2024-01-01"},{id:"3",name:"Newsletter: Feb Update",type:"email",status:"ended",sentCount:5e3,openRate:38,clickRate:5,dateCreated:"2024-02-01"}];return localStorage.setItem("modus_marketing_cache",JSON.stringify(e)),e},getConversionSettings:()=>{const n=localStorage.getItem("modus_conversion_settings");if(n)return JSON.parse(n);const e={socialProof:{enabled:!0,position:"bottom-left",delay:5,showRealData:!1,customMessages:["Someone in New York purchased Momentum Plan","New user joined from London"]},exitIntent:{enabled:!1,headline:"Wait! Don't miss out.",subtext:"Get 20% off your first month with code: STAY20",couponCode:"STAY20",showOncePerSession:!0},promoBar:{enabled:!1,message:"Limited Time Offer: Get 50% off all annual plans!",buttonText:"Claim Offer",buttonLink:"/pricing",backgroundColor:"#ff4d00",textColor:"#ffffff"}};return localStorage.setItem("modus_conversion_settings",JSON.stringify(e)),e},saveConversionSettings:n=>{localStorage.setItem("modus_conversion_settings",JSON.stringify(n))},getLoyaltySettings:()=>{const n=localStorage.getItem("modus_loyalty_settings");if(n)return JSON.parse(n);const e={enabled:!1,pointsPerDollar:1,redemptionRate:100,bonusSignupPoints:50};return localStorage.setItem("modus_loyalty_settings",JSON.stringify(e)),e},saveLoyaltySettings:n=>{localStorage.setItem("modus_loyalty_settings",JSON.stringify(n))},getReferralSettings:()=>{const n=localStorage.getItem("modus_referral_settings");if(n)return JSON.parse(n);const e={enabled:!1,referrerReward:25,refereeReward:25,rewardType:"credit"};return localStorage.setItem("modus_referral_settings",JSON.stringify(e)),e},saveReferralSettings:n=>{localStorage.setItem("modus_referral_settings",JSON.stringify(n))}},eE=({title:n,onMobileMenuClick:e,isAdmin:t=!1})=>{const[s,i]=S.useState(!1),[l,u]=S.useState([]);S.useEffect(()=>{const v=async()=>{try{const I=await(t?te.getAdminNotifications():te.getNotifications());u(I)}catch(I){console.error("Failed to fetch notifications:",I)}};v();const k=setInterval(v,1e4);return()=>clearInterval(k)},[t]);const h=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),f=l.filter(v=>!v.read).length,g=async v=>{await te.markNotificationRead(v),u(k=>k.map(I=>I.id===v?{...I,read:!0}:I))},y=async()=>{u(v=>v.map(k=>({...k,read:!0})))},b=v=>{switch(v){case"success":return r.jsx(oa,{size:16,className:"text-green-500"});case"warning":return r.jsx(ua,{size:16,className:"text-orange-500"});default:return r.jsx(eu,{size:16,className:"text-blue-500"})}};return r.jsxs("header",{className:"bg-white h-20 px-8 flex items-center justify-between sticky top-0 z-20 shadow-sm md:shadow-none relative",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:bg-gray-100 rounded-md",onClick:e,children:r.jsx(m3,{size:24})}),r.jsx("h2",{className:"text-xl font-black tracking-wide text-gray-900 uppercase",children:n})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"relative cursor-pointer",children:[r.jsxs("button",{onClick:()=>i(!s),className:"relative p-1",children:[r.jsx(Yy,{className:f>0?"text-[#ff4d00]":"text-gray-400",size:22,strokeWidth:2}),f>0&&r.jsx("span",{className:"absolute top-0 right-0 block h-2.5 w-2.5 rounded-full ring-2 ring-white bg-red-600 transform translate-x-1/4 -translate-y-1/4 animate-pulse"})]}),s&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>i(!1)}),r.jsxs("div",{className:"absolute right-0 top-full mt-4 w-80 bg-white border border-gray-200 shadow-xl z-40 animate-in fade-in slide-in-from-top-2 rounded-sm overflow-hidden",children:[r.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[r.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:["Notifications (",f,")"]}),f>0&&r.jsx("button",{onClick:y,className:"text-[10px] font-bold text-[#ff4d00] uppercase hover:underline",children:"Mark all read"})]}),r.jsx("div",{className:"max-h-80 overflow-y-auto",children:l.length===0?r.jsx("div",{className:"p-8 text-center text-xs text-gray-400",children:"No notifications"}):l.map(v=>r.jsx("div",{className:`p-4 border-b border-gray-50 hover:bg-gray-50 transition-colors ${v.read?"":"bg-orange-50/30"}`,children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"mt-1 flex-shrink-0",children:b(v.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("h4",{className:`text-xs font-bold ${v.read?"text-gray-500":"text-gray-900"}`,children:v.title}),!v.read&&r.jsx("button",{onClick:()=>g(v.id),className:"text-gray-300 hover:text-[#ff4d00]",children:r.jsx(_s,{size:12})})]}),r.jsx("p",{className:"text-[11px] text-gray-500 mt-1 leading-relaxed",children:v.message}),r.jsx("div",{className:"text-[9px] text-gray-300 mt-2 font-mono",children:v.date})]})]})},v.id))})]})]})]}),r.jsx("div",{className:"hidden md:block w-px h-8 bg-gray-200"}),r.jsx("div",{className:"text-sm font-medium text-gray-500 tracking-wide hidden md:block",children:h})]})]})},j5=()=>{const[n,e]=S.useState([]);S.useEffect(()=>{const s=async()=>{const l=await te.getActiveBroadcasts(),u=JSON.parse(localStorage.getItem("dismissed_broadcasts")||"[]");e(l.filter(h=>!u.includes(h.id)))};s();const i=setInterval(s,6e4);return()=>clearInterval(i)},[]);const t=s=>{const i=JSON.parse(localStorage.getItem("dismissed_broadcasts")||"[]");i.includes(s)||(i.push(s),localStorage.setItem("dismissed_broadcasts",JSON.stringify(i))),e(n.filter(l=>l.id!==s))};return n.length===0?null:r.jsx("div",{className:"flex flex-col w-full z-50 sticky top-0",children:n.map(s=>r.jsx("div",{className:`w-full px-4 py-3 flex items-center justify-between shadow-sm relative animate-in slide-in-from-top duration-300 ${s.type==="critical"?"bg-red-600 text-white":s.type==="warning"?"bg-orange-500 text-white":s.type==="success"?"bg-green-600 text-white":"bg-blue-600 text-white"}`,children:r.jsxs("div",{className:"flex items-center gap-3 container max-w-screen-2xl mx-auto px-6 md:px-12",children:[s.type==="critical"&&r.jsx(qS,{size:20}),s.type==="warning"&&r.jsx(ua,{size:20}),s.type==="success"&&r.jsx(oa,{size:20}),s.type==="info"&&r.jsx(eu,{size:20}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-1 md:gap-3 flex-1",children:[r.jsx("span",{className:"font-black uppercase tracking-wider text-xs",children:s.title}),r.jsx("span",{className:"hidden md:inline w-1 h-1 bg-white rounded-full opacity-50"}),r.jsx("span",{className:"font-medium text-sm",children:s.message}),s.actionUrl&&r.jsx("a",{href:s.actionUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 bg-white text-black text-[10px] font-black uppercase tracking-widest rounded-sm hover:bg-gray-100 transition-colors ml-0 md:ml-4 self-start md:self-auto",children:s.actionText||"Read More"})]}),r.jsx("button",{onClick:()=>t(s.id),className:"text-white/80 hover:text-white transition-colors p-1",children:r.jsx(Ha,{size:18})})]})},s.id))})},N5=({projects:n,onUpdate:e,onNavigateToProject:t,onAddProject:s})=>{const[i,l]=S.useState(""),[u,h]=S.useState(""),[f,g]=S.useState(""),[y,b]=S.useState("all"),[v,k]=S.useState({start:"",end:""}),[I,R]=S.useState(1),D=10,[P,M]=S.useState([]),[z,le]=S.useState(null),L=ie=>{switch(ie){case"completed":return"bg-gray-900 text-white";case"active":return"bg-[#ff4d00] text-white";case"stopped":return"bg-gray-100 text-gray-500 border border-gray-200"}},H=n.filter(ie=>{const Re=ie.id.toLowerCase().includes(i.toLowerCase()),X=ie.name.toLowerCase().includes(u.toLowerCase()),W=ie.plan.toLowerCase().includes(f.toLowerCase()),ue=y==="all"||ie.status===y;let Pe=!0;if(v.start||v.end){const ze=ie.createdAt?new Date(ie.createdAt).getTime():0,q=v.start?new Date(v.start).getTime():0,U=v.end?new Date(v.end).getTime()+864e5:1/0;ze===0?Pe=!1:Pe=ze>=q&&ze<U}return Re&&X&&W&&ue&&Pe}),T=Math.ceil(H.length/D),N=H.slice((I-1)*D,I*D),E=ie=>{ie>=1&&ie<=T&&R(ie)},O=async ie=>{if(P.length!==0)if(ie==="delete")confirm(`Are you sure you want to delete ${P.length} campaigns?`)&&(await te.bulkDeleteProjects(P),M([]),e());else{const Re=ie==="resume"?"active":"stopped";await te.bulkUpdateProjectStatus(P,Re),M([]),e()}},F=()=>{const ie=N.map(X=>X.id),Re=ie.every(X=>P.includes(X));M(Re?X=>X.filter(W=>!ie.includes(W)):X=>Array.from(new Set([...X,...ie])))},G=ie=>{P.includes(ie)?M(Re=>Re.filter(X=>X!==ie)):M(Re=>[...Re,ie])};yr.useEffect(()=>{R(1),M([])},[i,u,f,y,v]);const V=N.length>0&&N.every(ie=>P.includes(ie.id));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden min-h-[400px]",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-[#f9fafb] border-b border-gray-200",children:[r.jsx("th",{className:"px-6 py-4 text-left",children:r.jsx("button",{onClick:F,className:"flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:V?r.jsx(GN,{size:16,className:"text-[#ff4d00]"}):r.jsx(HN,{size:16})})}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Project ID"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Name"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Plan"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Expires"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:H.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-400 text-sm",children:"No campaigns found matching your filters."})}):N.map(ie=>{var Re;return r.jsxs("tr",{className:`transition-colors group relative ${P.includes(ie.id)?"bg-orange-50/50":"hover:bg-orange-50/30"}`,children:[r.jsx("td",{className:"px-6 py-5",children:r.jsx("button",{onClick:X=>{X.stopPropagation(),G(ie.id)},className:"flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:P.includes(ie.id)?r.jsx(GN,{size:16,className:"text-[#ff4d00]"}):r.jsx(HN,{size:16})})}),r.jsx("td",{className:"px-6 py-5 text-sm font-bold text-gray-500 font-mono",children:ie.id}),r.jsxs("td",{className:"px-6 py-5 text-sm font-bold text-gray-900",children:[ie.name,((Re=ie.settings)==null?void 0:Re.entryUrls)&&r.jsx("a",{href:ie.settings.entryUrls,target:"_blank",rel:"noreferrer",className:"ml-2 inline-block text-gray-300 hover:text-[#ff4d00]",onClick:X=>X.stopPropagation(),children:r.jsx(yg,{size:12})})]}),r.jsx("td",{className:"px-6 py-5 text-sm font-medium text-gray-600",children:ie.plan}),r.jsx("td",{className:"px-6 py-5 text-sm font-medium text-gray-500",children:ie.expires}),r.jsx("td",{className:"px-6 py-5",children:r.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 text-[10px] font-black uppercase tracking-wider rounded-sm ${L(ie.status)}`,children:[ie.status==="stopped"&&r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 mr-2"}),ie.status==="active"&&r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white mr-2 animate-pulse"}),ie.status]})}),r.jsx("td",{className:"px-6 py-5 text-right relative",children:r.jsx("button",{onClick:X=>{X.stopPropagation(),t(ie.id)},className:"text-gray-400 hover:text-[#ff4d00] transition-colors p-2 hover:bg-orange-50 rounded-sm",children:r.jsx(ml,{size:18})})})]},ie.id)})})]})}),r.jsxs("div",{className:"p-4 border-t border-gray-200 bg-[#f9fafb] flex items-center justify-between",children:[r.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:["Showing ",Math.min((I-1)*D+1,H.length)," - ",Math.min(I*D,H.length)," of ",H.length]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>E(I-1),disabled:I===1,className:"px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[r.jsx(BS,{size:14})," Prev"]}),r.jsx("div",{className:"flex items-center gap-1 px-2",children:Array.from({length:Math.min(T,5)},(ie,Re)=>{let X=Re+1;return T>5&&I>3&&(X=I-2+Re),X>T?null:r.jsx("button",{onClick:()=>E(X),className:`w-8 h-8 flex items-center justify-center text-xs font-bold border ${I===X?"border-[#ff4d00] text-[#ff4d00] bg-orange-50":"border-transparent text-gray-400 hover:text-gray-600"}`,children:X},X)})}),r.jsxs("button",{onClick:()=>E(I+1),disabled:I===T,className:"px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Next ",r.jsx(xg,{size:14})]})]})]})]}),P.length>0&&r.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 animate-in slide-in-from-bottom-4 fade-in duration-300",children:r.jsxs("div",{className:"bg-gray-900 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-6 border border-gray-800",children:[r.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 border-r border-gray-700 pr-6 mr-2",children:[P.length," Selected"]}),r.jsxs("button",{onClick:()=>O("resume"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors",children:[r.jsx(sv,{size:14})," Resume"]}),r.jsxs("button",{onClick:()=>O("pause"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors",children:[r.jsx(I3,{size:14})," Pause"]}),r.jsx("div",{className:"w-px h-4 bg-gray-700 mx-2"}),r.jsxs("button",{onClick:()=>O("delete"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-red-500 transition-colors",children:[r.jsx(Dl,{size:14})," Delete"]}),r.jsx("button",{onClick:()=>M([]),className:"ml-4 text-gray-500 hover:text-white",children:r.jsx(Ha,{size:14})})]})})]})},_t=({value:n,onChange:e,options:t,placeholder:s="Select...",disabled:i=!1,className:l=""})=>{const[u,h]=S.useState(!1),f=S.useRef(null),g=t.find(b=>b.value===n);S.useEffect(()=>{const b=v=>{f.current&&!f.current.contains(v.target)&&h(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const y=b=>{e(b),h(!1)};return r.jsxs("div",{className:`relative ${l}`,ref:f,children:[r.jsxs("button",{type:"button",onClick:()=>!i&&h(!u),className:`w-full bg-[#f9fafb] border ${u?"border-[#ff4d00]":"border-gray-200"} p-3 text-sm font-bold text-gray-900 outline-none flex justify-between items-center transition-all duration-200 rounded-sm ${i?"opacity-50 cursor-not-allowed":"cursor-pointer hover:border-gray-300"}`,children:[r.jsx("span",{className:`truncate ${g?"text-gray-900":"text-gray-400"}`,children:g?g.label:s}),r.jsx(Zb,{size:16,className:`text-gray-400 transition-transform duration-200 flex-shrink-0 ml-2 ${u?"rotate-180 text-[#ff4d00]":""}`})]}),u&&r.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-[0_10px_40px_-10px_rgba(0,0,0,0.2)] z-50 max-h-60 overflow-y-auto mt-1 animate-in fade-in zoom-in-95 duration-100 rounded-sm",children:t.map(b=>r.jsxs("button",{type:"button",onClick:()=>y(b.value),className:"w-full text-left px-4 py-3 text-sm font-medium text-gray-700 hover:bg-[#ff4d00] hover:text-white flex justify-between items-center transition-colors border-b border-gray-50 last:border-0",children:[r.jsx("span",{className:"truncate",children:b.label}),n===b.value&&r.jsx(_s,{size:14,className:"flex-shrink-0 ml-2"})]},b.value))})]})},T5=()=>{const n=[];for(let e=-12;e<=14;e++){const t=e>=0?"+":"-",s=Math.abs(e),i=`(GMT${t}${s.toString().padStart(2,"0")}:00) GMT${t}${s}`;if(n.push({value:`GMT${t}${s}`,label:i}),[3,4,5,6,9].includes(s)){const l=`(GMT${t}${s.toString().padStart(2,"0")}:30) GMT${t}${s}:30`;n.push({value:`GMT${t}${s}:30`,label:l})}}return n},S5=T5(),E5=["Afrikaans","Albanian","Amharic","Arabic","Armenian","Azerbaijani","Basque","Belarusian","Bengali","Bosnian","Bulgarian","Catalan","Cebuano","Chichewa","Chinese (Simplified)","Chinese (Traditional)","Corsican","Croatian","Czech","Danish","Dutch","English (US)","English (UK)","Esperanto","Estonian","Filipino","Finnish","French","Frisian","Galician","Georgian","German","Greek","Gujarati","Haitian Creole","Hausa","Hawaiian","Hebrew","Hindi","Hmong","Hungarian","Icelandic","Igbo","Indonesian","Irish","Italian","Japanese","Javanese","Kannada","Kazakh","Khmer","Kinyarwanda","Korean","Kurdish (Kurmanji)","Kyrgyz","Lao","Latin","Latvian","Lithuanian","Luxembourgish","Macedonian","Malagasy","Malay","Malayalam","Maltese","Maori","Marathi","Mongolian","Myanmar (Burmese)","Nepali","Norwegian","Odia (Oriya)","Pashto","Persian","Polish","Portuguese","Punjabi","Romanian","Russian","Samoan","Scots Gaelic","Serbian","Sesotho","Shona","Sindhi","Sinhala","Slovak","Slovenian","Somali","Spanish","Sundanese","Swahili","Swedish","Tajik","Tamil","Tatar","Telugu","Thai","Turkish","Turkmen","Ukrainian","Urdu","Uyghur","Uzbek","Vietnamese","Welsh","Xhosa","Yiddish","Yoruba","Zulu"],A5=[{value:"5 seconds",label:"5 seconds"},{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"2 minutes",label:"2 minutes"},{value:"3 minutes",label:"3 minutes"},{value:"4 minutes",label:"4 minutes"},{value:"5 minutes",label:"5 minutes"}],jp={AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia and Herzegovina",BW:"Botswana",BR:"Brazil",BN:"Brunei",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",CV:"Cabo Verde",KH:"Cambodia",CM:"Cameroon",CA:"Canada",BQ:"Caribbean Netherlands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CK:"Cook Islands",CR:"Costa Rica",HR:"Croatia",CW:"Curacao",CY:"Cyprus",CZ:"Czechia",CD:"Democratic Republic of the Congo",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",SZ:"Eswatini",ET:"Ethiopia",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern and Antarctic Lands",GA:"Gabon",GE:"Georgia",DE:"Germany",GH:"Ghana",GR:"Greece",GD:"Grenada",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Laos",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MR:"Mauritania",MU:"Mauritius",MX:"Mexico",FM:"Micronesia",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar (Burma)",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MK:"North Macedonia",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn Islands",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",CG:"Republic of the Congo",RO:"Romania",RU:"Russia",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena, Ascension and Tristan da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",KR:"South Korea",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SE:"Sweden",CH:"Switzerland",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",BS:"The Bahamas",GM:"The Gambia",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkiye",TM:"Turkmenistan",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VA:"Vatican City",VE:"Venezuela",VN:"Vietnam",WF:"Wallis and Futuna",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},k5=Object.entries(jp).map(([n,e])=>({code:n,name:e})),I5=[{value:"Direct",label:"Direct"},{value:"Organic (General)",label:"Organic (General)"},{value:"Organic, Google Search",label:"Organic - Google Search"},{value:"Organic, Google News",label:"Organic - Google News"},{value:"Organic, Google Images",label:"Organic - Google Images"},{value:"Organic, Google Video",label:"Organic - Google Video"},{value:"Organic, Bing",label:"Organic - Bing"},{value:"Organic, DuckDuckGo",label:"Organic - DuckDuckGo"},{value:"Organic, YouTube",label:"Organic - YouTube"},{value:"Social (General)",label:"Social (General)"},{value:"Social, Instagram",label:"Social - Instagram"},{value:"Social, Facebook",label:"Social - Facebook"},{value:"Social, LinkedIn",label:"Social - LinkedIn"},{value:"Social, X, Twitter",label:"Social - X (Twitter)"},{value:"Social, Pinterest",label:"Social - Pinterest"},{value:"Referral",label:"Referral"},{value:"Chatbots (General)",label:"Chatbots (General)"},{value:"Chatbots, Meta AI",label:"Chatbots - Meta AI"},{value:"Chatbots, Perplexity AI",label:"Chatbots - Perplexity AI"},{value:"Chatbots, ChatGPT",label:"Chatbots - ChatGPT"},{value:"Chatbots, Claude AI",label:"Chatbots - Claude AI"},{value:"Chatbots, Mistral AI",label:"Chatbots - Mistral AI"},{value:"Chatbots, Microsoft Copilot",label:"Chatbots - Copilot"},{value:"Chatbots, Gemini",label:"Chatbots - Gemini"},{value:"Chatbots, Groq",label:"Chatbots - Groq"},{value:"Messengers (General)",label:"Messengers (General)"},{value:"Messengers, WhatsApp",label:"Messengers - WhatsApp"},{value:"Messengers, WeChat",label:"Messengers - WeChat"},{value:"Messengers, Telegram",label:"Messengers - Telegram"},{value:"Messengers, Viber",label:"Messengers - Viber"}],C5=[{value:"All",label:"All Devices (Use Slider)"},{value:"Desktop, Windows",label:"Desktop - Windows"},{value:"Desktop, MacOS",label:"Desktop - MacOS"},{value:"Desktop, Linux",label:"Desktop - Linux"},{value:"Mobile, iPhone",label:"Mobile - iPhone"},{value:"Mobile, Android",label:"Mobile - Android"}],R5=[{value:"Random",label:"Random (Default)"},{value:"Chrome",label:"Chrome"},{value:"Firefox",label:"Firefox"},{value:"Safari",label:"Safari"},{value:"Edge",label:"Microsoft Edge"}],D5=[{value:"auto",label:"Auto-Rotate by Location"},{value:"sticky",label:"Sticky Session (Keep IP)"},{value:"custom",label:"Custom Proxy List"}],P5=[{value:"continuous",label:"Continuous (Daily Limits)"},{value:"burst",label:"Scheduled Burst"}],M5=[{value:"random",label:"Random Selection"},{value:"sequential",label:"Sequential Funnel"}],O5=({projectId:n,onBack:e,onUpdate:t})=>{var Ft,sr;const[s,i]=S.useState(void 0),[l,u]=S.useState(!0),[h,f]=S.useState(void 0),[g,y]=S.useState(!1),[b,v]=S.useState(!1),[k,I]=S.useState(!1),[R,D]=S.useState(!1),[P,M]=S.useState(""),[z,le]=S.useState([]),[L,H]=S.useState("visitors"),[T,N]=S.useState(!1),[E,O]=S.useState(""),[F,G]=S.useState(!1),[V,ie]=S.useState(""),[Re,X]=S.useState(!1);if(S.useEffect(()=>{var ke;const Y=te.getProjectById(n);if(i(Y),Y){let Ve=Y.settings||{trafficSpeed:100,bounceRate:0,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,geoTargets:[],countries:["US"],trafficSource:"Direct",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,urlVisitOrder:"random",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0};if((!Ve.geoTargets||Ve.geoTargets.length===0)&&((ke=Ve.countries)==null?void 0:ke.length)>0){const Cs=Ve.countries.length,rr=Math.floor(100/Cs),Rs=100-rr*Cs;Ve.geoTargets=Ve.countries.map((kr,yo)=>{const Ul=Object.keys(jp).find(zl=>jp[zl]===kr)||kr;return{id:`geo-${Date.now()}-${yo}`,country:Ul,percent:yo===0?rr+Rs:rr}})}Ve.languages||(Ve.languages=[Ve.language||"en-US"]),f(Ve)}const De=te.getSystemSettings();le(De.payloadTemplates||[]),u(!1)},[n]),S.useEffect(()=>{const Y=()=>{G(!1),X(!1)};return document.addEventListener("click",Y),()=>document.removeEventListener("click",Y)},[]),l||!s||!h)return r.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading Configuration..."});const W=s.plan==="Free Trial",ue=(Y,De)=>{if(W)return;let ke={[Y]:De};if(Y==="deviceSpecific"){const Ve=De;Ve.includes("Mobile")?(ke.deviceSplit=0,ke.tabletSplit=0):Ve.includes("Desktop")&&(ke.deviceSplit=100,ke.tabletSplit=0)}f(Ve=>Ve?{...Ve,...ke}:void 0)},Pe=()=>{if(W)return;if(!h.entryUrls||h.entryUrls.trim()===""){alert("Entry URLs are mandatory. Please provide at least one URL.");return}const Y=h.geoTargets.reduce((Ve,Cs)=>Ve+Cs.percent,0);if(Y!==100&&h.geoTargets.length>0){alert(`Total location percentage must equal 100%. Current total: ${Y}%`);return}y(!0),v(!1);const De={...h,countries:h.geoTargets.map(Ve=>Ve.country),language:h.languages[0]||"en-US"},ke={...s,settings:De};setTimeout(()=>{te.updateProject(ke),i(ke),y(!1),v(!0),setTimeout(()=>v(!1),2e3),t&&t()},600)},ze=()=>{if(!P.trim())return;const Y=te.getSystemSettings(),De={id:`tpl-${Date.now()}`,name:P,json:JSON.stringify(h)},ke={...Y,payloadTemplates:[...Y.payloadTemplates||[],De]};te.saveSystemSettings(ke),le(ke.payloadTemplates||[]),M(""),I(!1),alert("Template saved successfully!")},q=Y=>{const De=z.find(ke=>ke.id===Y);if(De)try{const ke=JSON.parse(De.json);f({...h,...ke}),D(!1),alert("Template loaded. Please review settings before saving.")}catch{alert("Failed to parse template data.")}},U=async()=>{var De;const Y=(De=h.entryUrls.split(`
`)[0])==null?void 0:De.trim();if(!Y){alert("Please enter an Entry URL first.");return}N(!0);try{const ke=await te.scanGA4(Y);ue("gaId",ke),alert(`Found Analytics ID: ${ke}`)}catch(ke){alert(`Scan failed: ${ke.message||"No GA ID found"}`)}finally{N(!1)}},pe=Y=>{if(W||h.geoTargets.find(kr=>kr.country===Y))return;const ke=h.geoTargets.length+1,Ve=Math.floor(100/ke),Cs=h.geoTargets.map(kr=>({...kr,percent:Ve})),rr=100-Ve*(ke-1),Rs={id:`geo-${Date.now()}`,country:Y,percent:rr};ue("geoTargets",[...Cs,Rs]),ie("")},ve=Y=>{W||ue("geoTargets",h.geoTargets.filter(De=>De.id!==Y))},Ae=(Y,De)=>{if(W)return;const ke=h.geoTargets.map(Ve=>Ve.id===Y?{...Ve,percent:De}:Ve);ue("geoTargets",ke)},Me=Y=>{W||(h.languages.includes(Y)||ue("languages",[...h.languages,Y]),O(""))},He=Y=>{W||ue("languages",h.languages.filter(De=>De!==Y))},Tt=Y=>Y.split(`
`).filter(De=>De.trim().length>0).length,gt=Tt(h.entryUrls),Te=Tt(h.innerUrls),Mn=Tt(h.exitUrls),fn=gt+Te+Mn,On=s.stats||[],$n=On.length>0?Math.max(...On.map(Y=>L==="visitors"?Y.visitors:Y.pageviews||Y.visitors)):100,pa=E5.filter(Y=>Y.toLowerCase().includes(E.toLowerCase())),er=k5.filter(Y=>Y.name.toLowerCase().includes(V.toLowerCase())),tr=((Ft=s.customTarget)==null?void 0:Ft.totalVisitors)||0,nr=((sr=s.customTarget)==null?void 0:sr.dailyLimit)||0,Bt=Y=>jp[Y]||Y;return r.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center bg-white p-6 border border-gray-200 shadow-sm sticky top-0 z-10",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-sm text-gray-500 transition-colors",children:r.jsx(Js,{size:20})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-1",children:"Project Configuration"}),r.jsx("h2",{className:"text-2xl font-black text-gray-900",children:s.name})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[r.jsxs("div",{className:"flex items-center gap-1 mr-4 border-r border-gray-200 pr-4",children:[r.jsx("button",{onClick:()=>I(!0),className:"p-2 text-gray-500 hover:text-black hover:bg-gray-100 rounded-sm",title:"Save as Template",children:r.jsx(Ga,{size:16})}),r.jsx("button",{onClick:()=>D(!0),className:"p-2 text-gray-500 hover:text-black hover:bg-gray-100 rounded-sm",title:"Load Template",children:r.jsx(p5,{size:16})})]}),b&&r.jsxs("span",{className:"text-green-600 text-xs font-bold uppercase tracking-wider animate-in fade-in slide-in-from-right-2 mr-4 flex items-center gap-1",children:[r.jsx(tv,{size:14})," Saved"]}),W?r.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 text-gray-500 px-4 py-2.5 text-xs font-bold uppercase tracking-wider border border-gray-200 cursor-not-allowed",children:[r.jsx(Oa,{size:14})," Read Only"]}):r.jsxs("button",{onClick:Pe,disabled:g,className:"flex items-center gap-2 bg-[#ff4d00] text-white px-5 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors disabled:opacity-70 shadow-lg",children:[r.jsx(Ga,{size:14})," ",g?"Saving...":"Save Changes"]}),r.jsxs("button",{className:"flex items-center gap-2 bg-white border border-gray-200 text-gray-600 px-4 py-2.5 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors",children:[r.jsx(dl,{size:14})," Clone"]})]})]}),k&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white p-6 w-full max-w-md shadow-xl border border-gray-200",children:[r.jsx("h3",{className:"text-sm font-bold uppercase mb-4",children:"Save Configuration as Template"}),r.jsx("input",{value:P,onChange:Y=>M(Y.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] mb-4",placeholder:"Template Name (e.g. Mobile US Organic)"}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 text-xs font-bold uppercase text-gray-500",children:"Cancel"}),r.jsx("button",{onClick:ze,className:"px-4 py-2 text-xs font-bold uppercase bg-black text-white hover:bg-[#ff4d00]",children:"Save"})]})]})}),R&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white p-6 w-full max-w-md shadow-xl border border-gray-200",children:[r.jsx("h3",{className:"text-sm font-bold uppercase mb-4",children:"Load Template"}),r.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto",children:z.length===0?r.jsx("p",{className:"text-xs text-gray-400",children:"No templates found."}):z.map(Y=>r.jsx("button",{onClick:()=>q(Y.id),className:"w-full text-left p-3 bg-gray-50 hover:bg-gray-100 text-sm font-medium border border-transparent hover:border-gray-200",children:Y.name},Y.id))}),r.jsx("button",{onClick:()=>D(!1),className:"w-full px-4 py-2 text-xs font-bold uppercase bg-black text-white hover:bg-gray-800",children:"Close"})]})}),W&&r.jsxs("div",{className:"bg-orange-50 border-l-4 border-[#ff4d00] p-4 flex items-start gap-3 shadow-sm",children:[r.jsx(Xn,{className:"text-[#ff4d00] shrink-0",size:20}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-bold text-orange-900 uppercase tracking-wide",children:"Free Trial Mode"}),r.jsx("p",{className:"text-xs text-orange-700 mt-1 leading-relaxed",children:"This project is running on a high-speed demonstration plan (6,000 hits/4h). Settings are locked."})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[r.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[r.jsx(su,{size:14})," Total Target"]}),r.jsx("div",{className:"text-xl font-bold text-gray-900",children:tr>0?tr.toLocaleString():s.plan})]}),r.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[r.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[r.jsx(Ph,{size:14})," Daily Speed"]}),r.jsx("div",{className:"text-xl font-bold text-gray-900",children:nr>0?`${nr.toLocaleString()}/day`:"N/A"})]}),r.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[r.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[r.jsx($a,{size:14})," Status"]}),r.jsx("div",{className:`text-sm font-black uppercase tracking-wide ${s.status==="active"?"text-[#ff4d00]":"text-gray-500"}`,children:s.status==="completed"?"Expired":s.status})]}),r.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[r.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[r.jsx(Qy,{size:14})," Expires"]}),r.jsx("div",{className:"text-sm font-bold text-gray-900",children:s.expires})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Traffic Statistics"}),r.jsxs("div",{className:"flex bg-gray-100 rounded-sm p-1",children:[r.jsx("button",{onClick:()=>H("visitors"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${L==="visitors"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"Visitors"}),r.jsx("button",{onClick:()=>H("pageviews"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${L==="pageviews"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"Pageviews"})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 font-bold",children:["Total ",L==="visitors"?"Visits":"Views",": ",r.jsx("span",{className:"text-gray-900",children:On.reduce((Y,De)=>Y+(L==="visitors"?De.visitors:De.pageviews||De.visitors),0).toLocaleString()})]})]}),r.jsx("div",{className:"h-64 flex items-end justify-between gap-1 w-full px-4 border-b border-gray-100 pb-2",children:On.length===0?r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:"No traffic data available."}):On.map((Y,De)=>{const ke=L==="visitors"?Y.visitors:Y.pageviews||Y.visitors,Ve=$n>0?ke/$n*100:0;return r.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative h-full",children:[r.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap",children:[Y.date,": ",ke.toLocaleString()]}),r.jsx("div",{className:"w-full bg-[#ff4d00] opacity-80 hover:opacity-100 transition-opacity rounded-t-sm min-w-[4px]",style:{height:`${Ve}%`,minHeight:"4px"}})]},De)})})]}),r.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-6 ${W?"opacity-70 pointer-events-none grayscale-[0.5]":""}`,children:[r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[r.jsx(xy,{})," Basic Settings"]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx(Lt,{children:"Project Name"}),r.jsx("input",{value:s.name,onChange:Y=>i({...s,name:Y.target.value}),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-bold text-gray-900 transition-colors",disabled:W})]}),r.jsx(Qd,{label:"Traffic Speed",value:h.trafficSpeed,onChange:Y=>ue("trafficSpeed",Y)}),r.jsx(Qd,{label:"Bounce Rate",value:h.bounceRate,onChange:Y=>ue("bounceRate",Y),suffix:"%"}),r.jsx(Qd,{label:"Visitor Returning Rate",value:h.returnRate,onChange:Y=>ue("returnRate",Y),suffix:"%"}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-between items-end",children:r.jsx(Lt,{children:"Platform & Operating System"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsx(_t,{value:h.deviceSpecific||"All",onChange:Y=>ue("deviceSpecific",Y),options:C5,disabled:W}),r.jsx(_t,{value:h.browser||"Random",onChange:Y=>ue("browser",Y),options:R5,disabled:W})]}),r.jsxs("div",{className:"flex justify-between items-end",children:[r.jsx(Lt,{children:"Device Distribution"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{ue("deviceSplit",100),ue("tabletSplit",0)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Desktop Only"}),r.jsx("button",{onClick:()=>{ue("deviceSplit",33),ue("tabletSplit",33)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Balanced"}),r.jsx("button",{onClick:()=>{ue("deviceSplit",0),ue("tabletSplit",0)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Mobile Only"})]})]}),r.jsxs("div",{className:`space-y-4 pt-1 ${h.deviceSpecific!=="All"?"opacity-50 pointer-events-none":""}`,children:[r.jsxs("div",{className:"relative h-4 bg-gray-100 rounded-sm overflow-hidden flex text-[8px] font-bold text-white uppercase text-center leading-4 shadow-inner",children:[r.jsx("div",{className:"h-full bg-[#ff4d00]",style:{width:`${h.deviceSplit}%`},children:h.deviceSplit>10&&"Desktop"}),r.jsx("div",{className:"h-full bg-gray-600",style:{width:`${h.tabletSplit||0}%`},children:(h.tabletSplit||0)>10&&"Tablet"}),r.jsx("div",{className:"h-full bg-black/80",style:{width:`${100-h.deviceSplit-(h.tabletSplit||0)}%`},children:100-h.deviceSplit-(h.tabletSplit||0)>10&&"Mobile"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase mb-1",children:[r.jsxs("span",{className:"flex items-center gap-1 text-[#ff4d00]",children:[r.jsx(tu,{size:12})," Desktop"]}),r.jsxs("span",{children:[h.deviceSplit,"%"]})]}),r.jsx("input",{type:"range",min:"0",max:"100",value:h.deviceSplit,onChange:Y=>{const De=parseInt(Y.target.value),ke=100-(h.tabletSplit||0);ue("deviceSplit",Math.min(De,ke))},className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]",disabled:W})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase mb-1",children:[r.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[r.jsx(tu,{size:12})," Tablet"]}),r.jsxs("span",{children:[h.tabletSplit||0,"%"]})]}),r.jsx("input",{type:"range",min:"0",max:"100",value:h.tabletSplit||0,onChange:Y=>{const De=parseInt(Y.target.value),ke=100-h.deviceSplit;ue("tabletSplit",Math.min(De,ke))},className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-gray-600",disabled:W})]}),r.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase bg-gray-50 p-2 rounded-sm border border-gray-100",children:[r.jsxs("span",{className:"flex items-center gap-1 text-black",children:[r.jsx(uf,{size:12})," Mobile Remainder"]}),r.jsxs("span",{className:"text-black",children:[Math.max(0,100-h.deviceSplit-(h.tabletSplit||0)),"%"]})]})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[r.jsx(xy,{})," Additional Settings"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(Lt,{children:"Time On Page"}),r.jsx(_t,{value:h.timeOnPage,onChange:Y=>ue("timeOnPage",Y),options:A5,disabled:W})]}),r.jsxs("div",{children:[r.jsx(Lt,{children:"Timezone"}),r.jsx(_t,{value:h.timezone,onChange:Y=>ue("timezone",Y),options:S5,disabled:W})]}),r.jsxs("div",{className:"relative",onClick:Y=>Y.stopPropagation(),children:[r.jsx(Lt,{children:"Browser Languages"}),r.jsxs("div",{className:"bg-[#f9fafb] border border-gray-200 p-2 min-h-[48px] flex flex-wrap gap-2",children:[h.languages.map(Y=>r.jsxs("span",{className:"bg-white border border-gray-200 text-xs font-bold uppercase px-2 py-1 flex items-center gap-1 rounded-sm",children:[Y," ",r.jsx("button",{onClick:()=>He(Y),className:"hover:text-red-500",children:r.jsx(Ha,{size:10})})]},Y)),r.jsx("input",{value:E,onChange:Y=>{O(Y.target.value),G(!0)},onFocus:()=>G(!0),className:"flex-1 bg-transparent text-sm outline-none min-w-[80px]",placeholder:h.languages.length===0?"Select Language...":"",disabled:W})]}),F&&r.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-xl max-h-60 overflow-y-auto z-50",children:pa.map(Y=>r.jsx("div",{className:"p-3 text-sm hover:bg-orange-50 cursor-pointer",onClick:()=>{Me(Y),G(!1)},children:Y},Y))})]}),r.jsxs("div",{children:[r.jsx(Lt,{children:"Google Analytics ID"}),r.jsxs("div",{className:"relative flex items-center",children:[r.jsx("input",{value:h.gaId,onChange:Y=>ue("gaId",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium text-gray-900 pr-10",placeholder:"G-XXXXXXXXXX",disabled:W}),r.jsx("button",{onClick:U,className:"absolute right-2 text-xs font-bold text-gray-400 hover:text-[#ff4d00] uppercase tracking-wide flex items-center gap-1",title:"Scan Entry URL for GA ID",disabled:T||W,children:T?r.jsx(Zy,{size:14,className:"animate-spin"}):r.jsx(Sr,{size:14})})]})]})]})]})]}),r.jsxs("div",{className:W?"opacity-70 pointer-events-none grayscale-[0.5]":"",children:[r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[r.jsx(As,{size:16})," URL Configuration"]}),r.jsxs("div",{className:"space-y-8",children:[r.jsx(Qd,{label:"Inner URLs Limit",value:h.innerUrlCount,onChange:Y=>ue("innerUrlCount",Y),max:10}),r.jsx("div",{className:"flex items-end justify-between border-b border-gray-100 pb-2 mb-2",children:r.jsx(Lt,{children:"Visit Behavior"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:r.jsxs("div",{className:"bg-gray-50 p-3 rounded-sm border border-gray-100",children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-2",children:"Visit Order"}),r.jsx(_t,{value:h.urlVisitOrder||"random",onChange:Y=>ue("urlVisitOrder",Y),options:M5,disabled:W}),r.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 leading-tight",children:[r.jsx("strong",{children:"Sequential:"})," Landing  Inner 1  Inner 2.",r.jsx("br",{}),r.jsx("strong",{children:"Random:"})," Picks random pages from pool."]})]})}),r.jsx(yy,{label:"Entry URLs",value:h.entryUrls,onChange:Y=>ue("entryUrls",Y),checked:h.autoCrawlEntry,onCheck:Y=>ue("autoCrawlEntry",Y),countLabel:`Total: ${fn}/10`,required:!0}),r.jsx(yy,{label:"Inner URLs",value:h.innerUrls,onChange:Y=>ue("innerUrls",Y),checked:h.autoCrawlInner,onCheck:Y=>ue("autoCrawlInner",Y),countLabel:`Total: ${fn}/10`}),r.jsx(yy,{label:"Exit URLs",value:h.exitUrls,onChange:Y=>ue("exitUrls",Y),checked:h.autoCrawlExit,onCheck:Y=>ue("autoCrawlExit",Y),countLabel:`Total: ${fn}/10`})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",onClick:Y=>Y.stopPropagation(),children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[r.jsx(su,{size:16})," Tracking & Attribution (UTM)"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx(Lt,{children:"Campaign Source"}),r.jsx("input",{value:h.utmSource||"",onChange:Y=>ue("utmSource",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. google, newsletter",disabled:W})]}),r.jsxs("div",{children:[r.jsx(Lt,{children:"Campaign Medium"}),r.jsx("input",{value:h.utmMedium||"",onChange:Y=>ue("utmMedium",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. cpc, banner",disabled:W})]}),r.jsxs("div",{children:[r.jsx(Lt,{children:"Campaign Name"}),r.jsx("input",{value:h.utmCampaign||"",onChange:Y=>ue("utmCampaign",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. spring_sale",disabled:W})]}),r.jsxs("div",{children:[r.jsx(Lt,{children:"Campaign Term"}),r.jsx("input",{value:h.utmTerm||"",onChange:Y=>ue("utmTerm",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. running shoes",disabled:W})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Lt,{children:"Campaign Content"}),r.jsx("input",{value:h.utmContent||"",onChange:Y=>ue("utmContent",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. logolink, textlink",disabled:W}),r.jsxs("div",{className:"mt-2 flex gap-2",children:[r.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{random_keyword}}"}),r.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{timestamp}}"}),r.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{device_type}}"})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[r.jsx(Qy,{size:16})," Schedule & Duration"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(Lt,{children:"Operation Mode"}),r.jsx(_t,{value:h.scheduleMode||"continuous",onChange:Y=>ue("scheduleMode",Y),options:P5,disabled:W})]}),h.scheduleMode==="burst"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in fade-in slide-in-from-top-2",children:[r.jsxs("div",{children:[r.jsx(Lt,{children:"Start Time"}),r.jsx("input",{type:"datetime-local",value:h.scheduleTime||"",onChange:Y=>ue("scheduleTime",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",disabled:W})]}),r.jsx(Qd,{label:"Run Duration (Minutes)",value:h.scheduleDuration||60,onChange:Y=>ue("scheduleDuration",Y),max:1440})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[r.jsx(Oa,{size:16})," Proxy Configuration"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(Lt,{children:"Proxy Mode"}),r.jsx(_t,{value:h.proxyMode||"auto",onChange:Y=>ue("proxyMode",Y),options:D5,disabled:W})]}),h.proxyMode==="custom"&&r.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[r.jsx(Lt,{children:"Custom Proxies (ip:port:user:pass)"}),r.jsx("textarea",{value:h.customProxies||"",onChange:Y=>ue("customProxies",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none font-mono",placeholder:`192.168.1.1:8080:user:pass
192.168.1.2:8080:user:pass`,disabled:W})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",onClick:Y=>Y.stopPropagation(),children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[r.jsx(Ji,{size:16})," Advanced Location"]}),r.jsxs("div",{className:"mb-6 relative",children:[r.jsx(Lt,{children:"Add Country (Search)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{value:V,onChange:Y=>{ie(Y.target.value),X(!0)},onFocus:()=>X(!0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"Type to search (e.g. United States)",disabled:W}),r.jsx(Sr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),Re&&V&&r.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-xl max-h-60 overflow-y-auto z-50",children:er.map(Y=>r.jsx("div",{className:"p-3 text-sm hover:bg-orange-50 cursor-pointer font-medium",onClick:()=>{pe(Y.code),X(!1)},children:Y.name},Y.code))})]}),r.jsxs("div",{className:"space-y-4",children:[h.geoTargets.map(Y=>r.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3 bg-[#f9fafb] p-3 border border-gray-100",children:[r.jsxs("div",{className:"flex-1 font-bold text-sm text-gray-800 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-[8px]",children:Y.country}),Bt(Y.country)]}),r.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[r.jsx("input",{placeholder:"State (Opt)",value:Y.state||"",onChange:De=>{const ke=h.geoTargets.map(Ve=>Ve.id===Y.id?{...Ve,state:De.target.value}:Ve);ue("geoTargets",ke)},className:"w-24 bg-white border border-gray-200 p-1 text-xs outline-none focus:border-[#ff4d00]"}),r.jsx("input",{placeholder:"City (Opt)",value:Y.city||"",onChange:De=>{const ke=h.geoTargets.map(Ve=>Ve.id===Y.id?{...Ve,city:De.target.value}:Ve);ue("geoTargets",ke)},className:"w-24 bg-white border border-gray-200 p-1 text-xs outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{className:"flex items-center gap-2 w-full md:w-32 justify-end",children:[r.jsx("input",{type:"number",value:Y.percent,onChange:De=>Ae(Y.id,parseInt(De.target.value)||0),className:"w-16 p-1 text-center font-bold border border-gray-300 outline-none focus:border-[#ff4d00] text-sm",min:"0",max:"100"}),r.jsx("span",{className:"text-xs text-gray-500 font-bold",children:"%"})]}),r.jsx("button",{onClick:()=>ve(Y.id),className:"text-gray-400 hover:text-red-500 ml-2",children:r.jsx(Dl,{size:16})})]},Y.id)),h.geoTargets.length===0&&r.jsx("div",{className:"text-center p-4 text-xs text-gray-400 bg-gray-50 border border-dashed border-gray-200",children:"No countries selected. Traffic will be global."}),r.jsxs("div",{className:"text-right text-[10px] font-black uppercase tracking-wide",children:["Total: ",r.jsxs("span",{className:`${h.geoTargets.reduce((Y,De)=>Y+De.percent,0)===100?"text-green-600":"text-red-500"}`,children:[h.geoTargets.reduce((Y,De)=>Y+De.percent,0),"%"]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[r.jsx($a,{size:16})," Traffic Source"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(Lt,{children:"Source Type"}),r.jsx(_t,{value:h.trafficSource,onChange:Y=>ue("trafficSource",Y),options:I5,disabled:W})]}),h.trafficSource.includes("Organic")&&r.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[r.jsx(Lt,{children:"Keywords (One per line)"}),r.jsx("textarea",{value:h.keywords,onChange:Y=>ue("keywords",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none",placeholder:`keyword 1
keyword 2`,disabled:W})]}),(h.trafficSource.includes("Social")||h.trafficSource.includes("Referral"))&&r.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[r.jsx(Lt,{children:"Referrer URLs (One per line)"}),r.jsx("textarea",{value:h.referralUrls,onChange:Y=>ue("referralUrls",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none",placeholder:`https://referrer-site.com/post
https://social-media.com/share`,disabled:W})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mb-20 mt-6",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[r.jsx(xy,{})," General Settings"]}),r.jsxs("div",{className:`flex items-center justify-between p-6 mb-8 border-2 rounded-sm transition-all duration-300 relative overflow-hidden
                    ${h.autoRenew?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white"} 
                `,children:[r.jsxs("div",{className:"relative z-10 max-w-xl",children:[r.jsxs("span",{className:"text-lg font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(Xn,{size:20,className:h.autoRenew?"text-green-600":"text-gray-400"}),"Auto Renew Campaign"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 leading-relaxed",children:"Automatically renew this campaign using wallet credits when it expires."})]}),r.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[r.jsx("button",{onClick:()=>ue("autoRenew",!h.autoRenew),className:`w-14 h-8 flex items-center p-1 transition-colors duration-300 rounded-full ${h.autoRenew?"bg-green-500":"bg-gray-200"}`,disabled:W,children:r.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${h.autoRenew?"translate-x-6":"translate-x-0"}`})}),r.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${h.autoRenew?"text-green-600":"text-gray-400"}`,children:h.autoRenew?"Active":"Disabled"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(lp,{label:"Cache Website",checked:h.cacheWebsite,onChange:Y=>ue("cacheWebsite",Y)}),r.jsx(lp,{label:"Minimize CPU Load",checked:h.minimizeCpu,onChange:Y=>ue("minimizeCpu",Y)}),r.jsx(lp,{label:"Randomize Session",checked:h.randomizeSession,onChange:Y=>ue("randomizeSession",Y)}),r.jsx(lp,{label:"Anti-Fingerprint",checked:h.antiFingerprint,onChange:Y=>ue("antiFingerprint",Y)})]})]})]})]})},xy=()=>r.jsx("div",{className:"w-1 h-3 bg-[#ff4d00] mr-1"}),Lt=({children:n,required:e})=>r.jsxs("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:[n," ",e&&r.jsx("span",{className:"text-red-500",children:"*"})]}),Qd=({label:n,value:e,onChange:t,suffix:s="",max:i=100})=>r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-end",children:[r.jsx(Lt,{children:n}),r.jsxs("span",{className:"text-xs font-bold text-[#ff4d00]",children:[e,s]})]}),r.jsx("input",{type:"range",min:"0",max:i,value:e,onChange:l=>t(parseInt(l.target.value)),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"})]}),yy=({label:n,value:e,onChange:t,checked:s,onCheck:i,countLabel:l,placeholder:u,required:h})=>r.jsx("div",{className:"flex items-start gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s,onChange:f=>i(f.target.checked),className:"accent-[#ff4d00] w-4 h-4"}),r.jsx(Lt,{required:h,children:n})]}),l&&r.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:l})]}),r.jsx("textarea",{value:e,onChange:f=>t(f.target.value),rows:4,className:`w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium text-gray-900 transition-colors resize-y ${s?"":"opacity-50"}`,placeholder:u||"https://example.com/page",disabled:!s})]})}),lp=({label:n,checked:e,onChange:t})=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[r.jsx("span",{className:"text-sm font-bold text-gray-700",children:n}),r.jsx("button",{onClick:()=>t(!e),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${e?"bg-[#ff4d00]":"bg-gray-300"}`,children:r.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${e?"translate-x-5":"translate-x-0"}`})})]}),V5=[{id:1,label:"Identity",icon:As},{id:2,label:"Audience",icon:Ji},{id:3,label:"Behavior",icon:Xn},{id:4,label:"Volume",icon:zS},{id:5,label:"Run",icon:_s}],L5=({onBack:n,onCreated:e})=>{const[t,s]=S.useState(1),[i,l]=S.useState(""),[u,h]=S.useState(""),[f,g]=S.useState(""),[y,b]=S.useState(!1),[v,k]=S.useState(["US"]),[I,R]=S.useState(70),[D,P]=S.useState(0),[M,z]=S.useState("3 minutes"),[le,L]=S.useState("Direct"),[H,T]=S.useState(1e3),[N,E]=S.useState(30),[O,F]=S.useState(0),[G,V]=S.useState(0),[ie,Re]=S.useState(!1),[X,W]=S.useState(""),[ue,Pe]=S.useState(""),[ze,q]=S.useState(""),[U,pe]=S.useState("");S.useEffect(()=>{const Te=N>0?N:1,Mn=Math.ceil(H/Te);F(Mn);let fn=.6;H>=1e6?fn=.3:H>=25e4?fn=.4:H>=5e4&&(fn=.5);const On=H/1e3*fn;V(Math.max(On,1))},[H,N]);const ve=()=>{if(W(""),t===1){if(!i)return W("Please verify project name.");if(!u)return W("Please verify target URL.")}if(t===2&&v.length===0)return W("Select at least one country.");if(t===4){if(H<100)return W("Minimum 100 visitors required.");if(N<1)return W("Minimum 1 day duration.");const Te=te.getBalance();if(G>Te)return W(`Insufficient funds. Need ${G.toFixed(2)}.`)}t<5?s(t+1):He()},Ae=()=>{t>1?s(t-1):n()},Me=async()=>{if(u){b(!0);try{const Te=await te.scanGA4(u);Te&&g(Te)}catch(Te){console.error("GA Scan failed",Te)}finally{b(!1)}}},He=async()=>{Re(!0),setTimeout(()=>{var tr;if(!te.spendCredits(G,`New Campaign: ${i} (${H.toLocaleString()} Visitors)`)){Re(!1),W("Transaction failed. Please try again.");return}const Mn=Math.floor(Math.random()*9e3+1e3).toString(),fn=new Date,On=new Date(fn.getTime()+N*24*60*60*1e3),$n=v.map(nr=>({id:`geo-${nr}`,country:nr,percent:Math.floor(100/v.length)})),pa={trafficSpeed:80,bounceRate:D,returnRate:0,deviceSplit:I,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:M,timezone:"UTC",language:"en-US",languages:["en-US"],gaId:f,urlVisitOrder:"random",entryUrls:u,innerUrls:"",exitUrls:"",autoCrawlEntry:!0,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:v,geoTargets:$n,trafficSource:le,keywords:"",referralUrls:"",utmSource:ue,utmMedium:ze,utmCampaign:U,utmTerm:"",utmContent:"",proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0},er={id:Mn,userId:((tr=te.getCurrentUser())==null?void 0:tr.id)||"unknown",name:i,plan:"Custom",customTarget:{totalVisitors:H,durationDays:N,dailyLimit:O},expires:On.toISOString().split("T")[0],createdAt:new Date().toISOString(),status:"active",settings:pa};te.addProject(er),Re(!1),e(),n()},800)},Tt=[{code:"US",name:"United States"},{code:"GB",name:"United Kingdom"},{code:"CA",name:"Canada"},{code:"DE",name:"Germany"},{code:"FR",name:"France"},{code:"AU",name:"Australia"},{code:"BR",name:"Brazil"},{code:"IN",name:"India"},{code:"JP",name:"Japan"},{code:"CN",name:"China"}],gt=Te=>{v.includes(Te)?v.length>1&&k(Mn=>Mn.filter(fn=>fn!==Te)):v.length<5&&k(Mn=>[...Mn,Te])};return r.jsxs("div",{className:"max-w-5xl mx-auto pb-20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-black transition-colors font-bold text-xs uppercase tracking-wider",children:[r.jsx(Js,{size:16})," Back to Projects"]}),r.jsx("div",{className:"flex items-center gap-2",children:V5.map(Te=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`
                                w-8 h-8 rounded-full flex items-center justify-center text-xs font-black
                                ${t===Te.id?"bg-[#ff4d00] text-white shadow-lg scale-110":t>Te.id?"bg-black text-white":"bg-gray-100 text-gray-400"}
                                transition-all duration-300
                            `,children:t>Te.id?r.jsx(_s,{size:14}):Te.id}),Te.id!==5&&r.jsx("div",{className:`w-8 h-1 mx-2 ${t>Te.id?"bg-black":"bg-gray-100"}`})]},Te.id))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[X&&r.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3 animate-in fade-in slide-in-from-top-2",children:[r.jsx(eu,{className:"text-red-500",size:20}),r.jsx("span",{className:"text-red-700 text-sm font-bold",children:X})]}),t===1&&r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Project Identity"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Basic details about your campaign target."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Project Name"}),r.jsx("input",{type:"text",value:i,onChange:Te=>l(Te.target.value),placeholder:"e.g. Q4 Marketing Push",className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-lg font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-0 outline-none transition-colors",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Target URL"}),r.jsxs("div",{className:"relative",children:[r.jsx(As,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"url",value:u,onChange:Te=>h(Te.target.value),onBlur:()=>{u&&!f&&Me()},placeholder:"https://example.com",className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-lg font-medium font-mono text-gray-700 focus:border-[#ff4d00] outline-none"})]})]}),r.jsxs("div",{className:"p-6 bg-gray-50 border border-gray-100 rounded-sm",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Tracking (Optional)"}),r.jsx("button",{onClick:Me,disabled:!u||y,className:"text-[10px] font-bold uppercase tracking-wider text-[#ff4d00] hover:underline disabled:opacity-50",children:y?"Scanning...":"Auto-Detect GA4"})]}),r.jsx("input",{type:"text",value:f,onChange:Te=>g(Te.target.value),placeholder:"G-XXXXXXXXXX",className:"w-full bg-white border border-gray-200 p-3 text-sm font-mono text-gray-700 outline-none focus:border-[#ff4d00] mb-4"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsx("input",{type:"text",placeholder:"utm_source",value:ue,onChange:Te=>Pe(Te.target.value),className:"bg-white p-2 text-xs border border-gray-200 outline-none focus:border-[#ff4d00]"}),r.jsx("input",{type:"text",placeholder:"utm_medium",value:ze,onChange:Te=>q(Te.target.value),className:"bg-white p-2 text-xs border border-gray-200 outline-none focus:border-[#ff4d00]"}),r.jsx("input",{type:"text",placeholder:"utm_campaign",value:U,onChange:Te=>pe(Te.target.value),className:"bg-white p-2 text-xs border border-gray-200 outline-none focus:border-[#ff4d00]"})]})]})]}),t===2&&r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Audience Targeting"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Where should your visitors come from?"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Geographic Location (Max 5)"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Tt.map(Te=>r.jsxs("button",{onClick:()=>gt(Te.code),className:`p-3 text-left border text-sm font-bold flex justify-between items-center transition-all ${v.includes(Te.code)?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("img",{src:`https://flagcdn.com/w20/${Te.code.toLowerCase()}.png`,alt:Te.code,className:"w-5 h-auto rounded-sm"}),Te.name]}),v.includes(Te.code)&&r.jsx(_s,{size:14})]},Te.code))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-4",children:"Device Distribution"}),r.jsxs("div",{className:"bg-gray-100 h-4 rounded-full overflow-hidden flex mb-4",children:[r.jsx("div",{className:"bg-gray-900 h-full transition-all duration-500",style:{width:`${I}%`}}),r.jsx("div",{className:"bg-[#ff4d00] h-full transition-all duration-500",style:{width:`${100-I}%`}})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-900 rounded-full"}),r.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["Desktop (",I,"%)"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-bold text-[#ff4d00]",children:["Mobile (",100-I,"%)"]}),r.jsx("div",{className:"w-3 h-3 bg-[#ff4d00] rounded-full"})]})]}),r.jsx("input",{type:"range",min:"0",max:"100",value:I,onChange:Te=>R(Number(Te.target.value)),className:"w-full mt-4 accent-black"})]})]}),t===3&&r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"User Behavior"}),r.jsx("p",{className:"text-sm text-gray-500",children:"How should visitors interact with your site?"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Bounce Rate Control"}),r.jsxs("div",{className:"bg-gray-50 p-6 border border-gray-200 text-center",children:[r.jsxs("div",{className:"text-4xl font-black text-gray-900 mb-2",children:[D,"%"]}),r.jsx("p",{className:"text-xs text-gray-500 font-medium mb-4",children:"Visitors leaving immediately"}),r.jsx("input",{type:"range",min:"0",max:"100",value:D,onChange:Te=>P(Number(Te.target.value)),className:"w-full accent-[#ff4d00]"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Time on Page"}),r.jsx(_t,{value:M,onChange:z,options:[{value:"30 seconds",label:"30 Seconds (Pulse)"},{value:"1 minute",label:"1 Minute (Standard)"},{value:"3 minutes",label:"3 Minutes (Engaged)"},{value:"5 minutes",label:"5 Minutes (Deep Read)"}]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Traffic Source Simulation"}),r.jsx(_t,{value:le,onChange:L,options:[{value:"Direct",label:"Direct (Type-in)"},{value:"Google Search",label:"Organic Search (Google)"},{value:"Social Media",label:"Social Media (FB/Twitter)"},{value:"Referral",label:"Referral Link"}]})]})]})]})]}),t===4&&r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Volume & Budget"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Define the scale of your campaign."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Total Visitors Goal"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"100",step:"100",value:H,onChange:Te=>T(parseInt(Te.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-2xl font-black text-gray-900 focus:border-[#ff4d00] outline-none"}),r.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-bold text-gray-400 uppercase",children:"Hits"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Duration (Days)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"1",max:"365",value:N,onChange:Te=>E(parseInt(Te.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-2xl font-black text-gray-900 focus:border-[#ff4d00] outline-none"}),r.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-bold text-gray-400 uppercase",children:"Days"})]})]})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 flex flex-col md:flex-row justify-between items-center gap-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 flex items-center gap-1",children:[r.jsx(Xn,{size:10})," Daily Volume"]}),r.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[O.toLocaleString()," ",r.jsx("span",{className:"text-sm font-medium text-gray-400",children:"/ day"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Estimated Cost"}),r.jsxs("div",{className:"text-3xl font-black text-[#ff4d00]",children:["",G.toFixed(2)]})]})]})]}),t===5&&r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Review Campaign"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Confirm details before launching."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Mi,{label:"Project Name",value:i}),r.jsx(Mi,{label:"Target URL",value:u,isUrl:!0}),r.jsx("div",{className:"h-px bg-gray-100 my-4"}),r.jsx(Mi,{label:"Geo Targets",value:v.join(", ")}),r.jsx(Mi,{label:"Device Split",value:`Desktop: ${I}%, Mobile: ${100-I}%`}),r.jsx("div",{className:"h-px bg-gray-100 my-4"}),r.jsx(Mi,{label:"Total Volume",value:`${H.toLocaleString()} Visitors`}),r.jsx(Mi,{label:"Duration",value:`${N} Days`}),r.jsx(Mi,{label:"Daily Pace",value:`~${O.toLocaleString()} / day`}),r.jsx(Mi,{label:"Total Cost",value:`${G.toFixed(2)}`,highlight:!0})]}),r.jsxs("div",{className:"mt-8 bg-blue-50 p-4 flex items-start gap-3 border border-blue-100",children:[r.jsx(eu,{className:"text-blue-500 flex-shrink-0",size:18}),r.jsx("p",{className:"text-xs text-blue-700 font-medium leading-relaxed",children:"Your campaign will start automatically within 5 minutes of launch. You can pause or edit settings at any time from the dashboard."})]})]}),r.jsxs("div",{className:"flex justify-between pt-4",children:[r.jsx("button",{onClick:Ae,className:"px-8 py-4 text-xs font-bold uppercase tracking-wider text-gray-500 hover:text-black transition-colors",children:t===1?"Cancel":"Previous Step"}),r.jsxs("button",{onClick:ve,disabled:ie,className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 duration-200",children:[ie?"Processing...":t===5?"Launch Campaign":"Next Step",!ie&&t<5&&r.jsx(Js,{className:"rotate-180",size:16})]})]})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsxs("div",{className:"sticky top-8 bg-gray-50 border border-gray-200 p-6 space-y-6",children:[r.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-400 mb-4",children:"Campaign Summary"}),r.jsx(cp,{label:"Target",value:u||"Not set",isLink:!!u}),r.jsx(cp,{label:"Locations",value:v.length>0?`${v.length} Countries`:"Global"}),r.jsx(cp,{label:"Volume",value:H>0?H.toLocaleString():"-"}),r.jsx(cp,{label:"Duration",value:`${N} Days`}),r.jsxs("div",{className:"pt-6 border-t border-gray-200 mt-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Estimated Cost"}),r.jsxs("span",{className:"text-xl font-black text-gray-900",children:["",G.toFixed(2)]})]}),r.jsx("div",{className:"text-[10px] text-gray-400 font-medium",children:"* Final price logic applied"})]})]})})]})]})},cp=({label:n,value:e,isLink:t=!1})=>r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:n}),t?r.jsx("span",{className:"text-xs font-bold text-gray-900 truncate max-w-[120px] block",title:e,children:e}):r.jsx("span",{className:"text-xs font-bold text-gray-900",children:e})]}),Mi=({label:n,value:e,isUrl:t=!1,highlight:s=!1})=>r.jsxs("div",{className:`flex justify-between items-center p-3 ${s?"bg-orange-50 border border-orange-100":"border-b border-gray-50 last:border-0"}`,children:[r.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:n}),t?r.jsxs("a",{href:e,target:"_blank",rel:"noreferrer",className:"flex items-center gap-1 text-sm font-bold text-[#ff4d00] hover:underline",children:[e," ",r.jsx(yg,{size:12})]}):r.jsx("span",{className:`text-sm font-bold ${s?"text-[#ff4d00] text-lg":"text-gray-900"}`,children:e})]}),WN=[{val:29,label:"Starter",visits:"50k Visits"},{val:129,label:"Growth",visits:"300k Visits"},{val:399,label:"Business",visits:"1M Visits",popular:!0},{val:999,label:"Enterprise",visits:"3M Visits"},{val:1249,label:"Agency Pro",visits:"5M Visits"},{val:2999,label:"Agency Scale",visits:"15M Visits"}],U5={29:"https://wise.com/pay/r/Z8n972iVe9Weh9g",129:"https://wise.com/pay/r/28ekryVPGRMo7V8",399:"https://wise.com/pay/r/8aLMxQj9sk0lOHA",999:"https://wise.com/pay/r/T-8pXdsj-EGvuqU",1249:"https://wise.com/pay/r/bz2NsKVEAxNyGBU",2999:"https://wise.com/pay/r/3ollLtm3W1VZv7M"},z5="https://revolut.me/easytrafficbot",Jd=29,B5=({onBack:n,onPurchase:e})=>{var L;const[t,s]=S.useState(0),[i,l]=S.useState(399),[u,h]=S.useState(""),[f,g]=S.useState("visa"),[y,b]=S.useState(!1);S.useEffect(()=>{s(te.getBalance())},[]);const v=H=>{l(H),h(""),g("visa")},k=H=>{h(H),l(null),g("revolut_card")},I=H=>H>=2999?199933e-9:H>=1249?2498e-7:H>=999?333e-6:H>=399?399e-6:H>=129?43e-5:58e-5,R=i!==null?i:parseFloat(u)||0,D=I(R),P=R>0?Math.floor(R/D):0,M=i?(L=WN.find(H=>H.val===i))==null?void 0:L.visits:`${P.toLocaleString()} Visits`,z=()=>{let H="";if(i)H=U5[i];else{if(R<Jd){alert(`Minimum custom funding amount is ${Jd}.`);return}H=z5}if(!H){alert("Configuration error: No payment link available.");return}b(!0),setTimeout(()=>{window.location.href=H,b(!1)},1500)},le=H=>{switch(H){case"apple_pay":return"Apple Pay";case"bank_transfer":return"Bank Transfer";case"visa":return"Visa Card";case"mastercard":return"Mastercard";case"revolut_card":return"Credit Card (Revolut)"}};return y?r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center animate-in fade-in",children:[r.jsx(r3,{className:"w-16 h-16 text-[#ff4d00] animate-spin mb-6"}),r.jsx("h3",{className:"text-2xl font-black uppercase text-gray-900 mb-2",children:"Redirecting to Secure Payment"}),r.jsx("p",{className:"text-gray-500",children:"Please wait while we connect you to the payment gateway..."})]}):r.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-gray-200 pb-8",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Financials"}),r.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Add Funds"})]}),r.jsxs("div",{className:"bg-[#111] text-white px-6 py-4 flex items-center gap-4 shadow-xl",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Current Balance"}),r.jsxs("div",{className:"text-2xl font-black text-white",children:["",t.toFixed(2)]})]}),r.jsx(KN,{className:"text-[#ff4d00]",size:32})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx(Xn,{size:14})," Select Package"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:WN.map(H=>r.jsxs("button",{onClick:()=>v(H.val),className:`relative border-2 p-4 flex flex-col items-center justify-between transition-all duration-200 min-h-[140px]
                                  ${i===H.val?"border-[#ff4d00] bg-[#fff5f2]":"border-gray-100 hover:border-gray-300"}
                              `,children:[H.popular&&r.jsx("div",{className:"absolute top-0 right-0 bg-[#ff4d00] text-white text-[9px] font-bold px-2 py-0.5 uppercase tracking-wide",children:"Best Value"}),r.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mt-2",children:H.label}),r.jsxs("div",{className:"text-3xl font-black text-gray-900 my-2",children:["",H.val]}),r.jsx("div",{className:"text-xs font-bold text-[#ff4d00] mb-2",children:H.visits}),i===H.val&&r.jsx("div",{className:"absolute bottom-2 text-[#ff4d00]",children:r.jsx(_s,{size:16})})]},H.val))})]}),r.jsxs("div",{className:`bg-white border p-8 shadow-sm transition-colors ${u?"border-[#ff4d00] ring-1 ring-[#ff4d00]":"border-gray-200"}`,children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx(zS,{size:14})," Or Enter Custom Amount"]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[r.jsxs("div",{className:"flex-1 w-full",children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Amount ()"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-lg font-bold text-gray-400",children:""}),r.jsx("input",{type:"number",min:Jd,value:u,onChange:H=>k(H.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-10 text-xl font-black text-gray-900 outline-none focus:border-[#ff4d00] transition-colors placeholder:text-gray-300",placeholder:"500"})]}),r.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 font-medium",children:["Minimum amount: ",Jd]})]}),r.jsxs("div",{className:"flex-1 w-full bg-[#111] p-4 rounded-sm text-white flex flex-col justify-center min-h-[100px]",children:[r.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Estimated Traffic"}),r.jsx("div",{className:"text-3xl font-black text-[#ff4d00]",children:R>0&&!i?P.toLocaleString():i?M.split(" ")[0]:"0"}),r.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:["Based on rate ",D.toFixed(6),"/visit"]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx(Ns,{size:14})," Payment Method"]}),i?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:()=>g("apple_pay"),className:`flex items-center justify-between p-6 border transition-all ${f==="apple_pay"?"border-[#ff4d00] bg-[#fff5f2] ring-1 ring-[#ff4d00]":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${f==="apple_pay"?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-500"}`,children:r.jsx(uf,{size:18})}),r.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Apple Pay"})]}),f==="apple_pay"&&r.jsx(_s,{className:"text-[#ff4d00]",size:18})]}),r.jsxs("button",{onClick:()=>g("bank_transfer"),className:`flex items-center justify-between p-6 border transition-all ${f==="bank_transfer"?"border-[#ff4d00] bg-[#fff5f2] ring-1 ring-[#ff4d00]":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${f==="bank_transfer"?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-500"}`,children:r.jsx(Y6,{size:18})}),r.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Bank Transfer"})]}),f==="bank_transfer"&&r.jsx(_s,{className:"text-[#ff4d00]",size:18})]}),r.jsxs("button",{onClick:()=>g("visa"),className:`flex items-center justify-between p-6 border transition-all ${f==="visa"?"border-[#ff4d00] bg-[#fff5f2] ring-1 ring-[#ff4d00]":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${f==="visa"?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-500"}`,children:r.jsx(Ns,{size:18})}),r.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Visa Card"})]}),f==="visa"&&r.jsx(_s,{className:"text-[#ff4d00]",size:18})]}),r.jsxs("button",{onClick:()=>g("mastercard"),className:`flex items-center justify-between p-6 border transition-all ${f==="mastercard"?"border-[#ff4d00] bg-[#fff5f2] ring-1 ring-[#ff4d00]":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${f==="mastercard"?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-500"}`,children:r.jsx(Ns,{size:18})}),r.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Mastercard"})]}),f==="mastercard"&&r.jsx(_s,{className:"text-[#ff4d00]",size:18})]})]}):r.jsx("div",{className:"p-4 bg-orange-50 border border-orange-100 rounded-sm",children:r.jsxs("div",{className:"flex items-center justify-between p-6 border border-[#ff4d00] bg-white ring-1 ring-[#ff4d00]",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-[#ff4d00] text-white",children:r.jsx(Ns,{size:18})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-bold text-gray-900 block",children:"Credit Card"}),r.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wide",children:"via Revolut Secure Pay"})]})]}),r.jsx(_s,{className:"text-[#ff4d00]",size:18})]})})]})]}),r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsxs("div",{className:"bg-[#111] text-white p-8 shadow-2xl relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:r.jsx(KN,{size:120})}),r.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-8 relative z-10",children:"Order Summary"}),r.jsxs("div",{className:"space-y-4 mb-8 relative z-10",children:[r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Package Type"}),r.jsx("span",{className:"font-bold text-white",children:i?"Standard":"Custom"})]}),r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Est. Traffic"}),r.jsx("span",{className:"font-bold text-[#ff4d00]",children:M})]}),r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Processing Fee"}),r.jsx("span",{className:"font-bold text-green-400",children:"Free"})]}),r.jsx("div",{className:"h-px bg-gray-800 my-4"}),r.jsxs("div",{className:"flex justify-between items-end",children:[r.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-400",children:"Total Due"}),r.jsxs("span",{className:"text-3xl font-black text-white",children:["",R.toLocaleString()]})]})]}),r.jsxs("button",{onClick:z,disabled:R<(i?0:Jd),className:"w-full bg-[#ff4d00] text-white py-4 text-xs font-bold uppercase tracking-widest hover:bg-white hover:text-black transition-colors flex items-center justify-center gap-2 relative z-10 disabled:opacity-50 disabled:cursor-not-allowed",children:["Pay with ",le(f)," ",r.jsx(Ys,{size:14})]}),r.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-gray-500 relative z-10",children:[r.jsx(Oa,{size:12}),r.jsx("span",{className:"text-[10px] uppercase font-bold tracking-widest",children:"Secure Checkout"})]})]}),r.jsx("div",{className:"bg-gray-50 border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(pl,{className:"text-[#ff4d00] shrink-0",size:24}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-1",children:"Buyer Protection"}),r.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Payments are processed securely. Your funds are credited instantly upon confirmation."})]})]})})]})]})]})},F5=()=>{var W,ue,Pe,ze,q;const[n,e]=S.useState("account"),[t,s]=S.useState(!1),[i,l]=S.useState(!1),[u,h]=S.useState(void 0),[f,g]=S.useState(!1),[y,b]=S.useState(""),[v,k]=S.useState(""),[I,R]=S.useState({current:"",new:"",confirm:""}),[D,P]=S.useState(""),[M,z]=S.useState(""),le=S.useRef(null),L=()=>{var U;(U=le.current)==null||U.click()},H=async U=>{if(U.target.files&&U.target.files[0])try{const pe=await te.uploadAvatar(U.target.files[0]);u&&h({...u,avatarUrl:pe}),alert("Avatar updated successfully!")}catch(pe){alert("Failed to upload avatar: "+pe.message)}},T=async()=>{if(confirm("DANGER: Are you sure you want to delete your account? This action is irreversible.")&&prompt("Type 'DELETE' to confirm account deletion:")==="DELETE")try{await te.deleteAccount(),alert("Account deleted. Goodbye.")}catch(pe){alert(pe.message)}};S.useEffect(()=>{const U=te.getCurrentUser();h(U)},[]);const N=async()=>{if(u){s(!0);try{await te.updateUserProfile(u);const U=await te.login(u.email,"");U&&h(U),alert("Profile settings saved successfully.")}catch(U){alert("Failed to save settings: "+U.message)}finally{s(!1)}}},E=(U,pe)=>{u&&h({...u,[U]:pe})},O=async()=>{if(u&&confirm("Are you sure? This will invalidate your old key."))try{const U=await te.regenerateApiKey();h({...u,apiKey:U}),alert("API Key regenerated successfully.")}catch(U){alert("Failed to regenerate key: "+U.message)}},F=async()=>{if(P(""),z(""),I.new!==I.confirm){P("New passwords do not match.");return}try{await te.changePassword(I.current,I.new,I.confirm),z("Password updated successfully."),R({current:"",new:"",confirm:""})}catch(U){P(U.message)}},G=async()=>{if(confirm("Log out of all other sessions? You will need to log in again on other devices."))try{await te.logoutAllSessions(),alert("All other sessions invalidted.")}catch(U){alert(U.message)}},V=async()=>{try{const U=await te.exportUserData(),pe=new Blob([JSON.stringify(U,null,2)],{type:"application/json"}),ve=URL.createObjectURL(pe),Ae=document.createElement("a");Ae.href=ve,Ae.download=`user_data_${u==null?void 0:u.id}.json`,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),URL.revokeObjectURL(ve)}catch(U){alert("Export failed: "+U.message)}},ie=()=>{u!=null&&u.apiKey&&(navigator.clipboard.writeText(u.apiKey),alert("API Key copied to clipboard"))},Re=()=>{if(!y||!v||!u)return;const U={id:`pm_${Date.now()}`,type:y.startsWith("4")?"visa":"mastercard",last4:y.slice(-4),expiry:v,isDefault:!!(u.paymentMethods&&u.paymentMethods.length===0)},pe=[...u.paymentMethods||[],U];h({...u,paymentMethods:pe}),g(!1),b(""),k("")},X=U=>{if(!u||!confirm("Are you sure you want to remove this payment method?"))return;const pe=(u.paymentMethods||[]).filter(ve=>ve.id!==U);h({...u,paymentMethods:pe})};return u?r.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[r.jsxs("div",{className:"flex items-end justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Account Management"}),r.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"My Profile"})]}),r.jsxs("button",{onClick:N,disabled:t,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors disabled:opacity-70 flex items-center gap-2",children:[r.jsx(Ga,{size:14})," ",t?"Saving...":"Save Changes"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 p-8 text-center shadow-sm",children:[r.jsxs("div",{className:"relative inline-block mb-6 group",children:[r.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-full flex items-center justify-center border-4 border-white shadow-lg mx-auto overflow-hidden",children:u.avatarUrl?r.jsx("img",{src:`http://127.0.0.1:8001${u.avatarUrl}`,alt:u.name,className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-4xl font-black text-gray-300",children:u.name.split(" ").map(U=>U[0]).join("")})}),r.jsx("button",{onClick:L,className:"absolute bottom-0 right-0 bg-[#ff4d00] text-white p-2 rounded-full hover:bg-black transition-colors shadow-md",children:r.jsx(t6,{size:16})}),r.jsx("input",{type:"file",ref:le,onChange:H,className:"hidden",accept:"image/png, image/jpeg, image/webp"})]}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:u.name}),r.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mt-1",children:u.role}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 flex justify-center gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-black text-gray-900",children:u.projectsCount}),r.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Campaigns"})]}),r.jsx("div",{className:"w-px bg-gray-200"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-black text-green-600",children:u.status}),r.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Status"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[r.jsxs("button",{onClick:()=>e("account"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="account"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[r.jsx(za,{size:16})," Account Details"]}),r.jsxs("button",{onClick:()=>e("security"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="security"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[r.jsx(pl,{size:16})," Security & 2FA"]}),r.jsxs("button",{onClick:()=>e("billing"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="billing"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[r.jsx(Ns,{size:16})," Billing & Payments"]}),r.jsxs("button",{onClick:()=>e("notifications"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="notifications"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[r.jsx(Yy,{size:16})," Notifications"]}),r.jsxs("button",{onClick:()=>e("developer"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="developer"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[r.jsx(_p,{size:16})," Developer Mode"]}),r.jsxs("button",{onClick:()=>e("accessibility"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="accessibility"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[r.jsx(tu,{size:16})," Accessibility"]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gray-50 rounded-full -mt-16 -mr-16 z-0"}),r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2 relative z-10",children:[r.jsx(_p,{size:14})," Developer Settings"]}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Use this key to access the Modus Traffic API for programmatic campaign management."}),r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsxs("div",{className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 flex justify-between items-center font-mono text-sm",children:[r.jsx("span",{className:"text-gray-800 font-bold",children:i?u.apiKey:""}),r.jsx("button",{onClick:()=>l(!i),className:"text-gray-400 hover:text-black",children:i?r.jsx(M6,{size:16}):r.jsx(GS,{size:16})})]}),r.jsx("button",{onClick:ie,className:"bg-gray-100 hover:bg-gray-200 text-gray-900 p-3 border border-gray-200",title:"Copy Key",children:r.jsx(dl,{size:16})}),r.jsx("button",{onClick:O,className:"bg-black hover:bg-[#ff4d00] text-white p-3 shadow-sm transition-colors",title:"Regenerate Key",children:r.jsx(Zy,{size:16})})]})]})]})]}),r.jsx("div",{className:"lg:col-span-2 space-y-6",children:n==="account"?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(za,{size:14})," Identity & Contact"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx(Rt,{children:"Full Name"}),r.jsx(Ln,{value:u.name,onChange:U=>E("name",U),icon:r.jsx(za,{size:16})})]}),r.jsxs("div",{children:[r.jsx(Rt,{children:"Display Name (Nickname)"}),r.jsx(Ln,{value:u.displayName||"",onChange:U=>E("displayName",U),icon:r.jsx(qN,{size:16}),placeholder:"The Traffic King"})]}),r.jsxs("div",{children:[r.jsx(Rt,{children:"Email Address"}),r.jsx(Ln,{value:u.email,onChange:U=>E("email",U),icon:r.jsx(hl,{size:16})})]}),r.jsxs("div",{children:[r.jsx(Rt,{children:"Job Title"}),r.jsx(Ln,{value:u.jobTitle||"",onChange:U=>E("jobTitle",U),icon:r.jsx(FN,{size:16}),placeholder:"SEO Manager"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Rt,{children:"Personal Bio"}),r.jsx("textarea",{value:u.bio||"",onChange:U=>E("bio",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none min-h-[100px]",placeholder:"Tell us a bit about yourself..."})]}),r.jsxs("div",{children:[r.jsx(Rt,{children:"Phone Number"}),r.jsx(Ln,{value:u.phone||"",onChange:U=>E("phone",U),icon:r.jsx(WS,{size:16}),placeholder:"+1 (555) 000-0000"})]}),r.jsxs("div",{children:[r.jsx(Rt,{children:"Website"}),r.jsx(Ln,{value:u.website||"",onChange:U=>E("website",U),icon:r.jsx(As,{size:16}),placeholder:"https://yourpage.com"})]})]}),r.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100",children:[r.jsx(Hs,{label:"Public Profile Visibility",checked:u.publicProfile||!1,onChange:U=>h({...u,publicProfile:U})}),r.jsx("p",{className:"text-[10px] text-gray-400 mt-2 lowercase",children:"when enabled, other users can see your shared campaign stats and badges."})]})]})}):n==="security"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(pl,{size:14})," Security & Authentication"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-bold text-gray-600",children:"Two-Factor Authentication (2FA)"}),r.jsx("button",{className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors",children:"Enable 2FA"})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Add an extra layer of security to your account by requiring a verification code from your phone."}),r.jsx("div",{className:"border-t border-gray-100 pt-6",children:r.jsx(Hs,{label:"Require password on all devices every 30 days",checked:u.requirePasswordReset||!1,onChange:U=>E("requirePasswordReset",U.toString())})})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(Oa,{size:14})," Change Password"]}),D&&r.jsx("p",{className:"text-red-500 text-xs mb-4",children:D}),M&&r.jsx("p",{className:"text-green-500 text-xs mb-4",children:M}),r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.jsxs("div",{children:[r.jsx(Rt,{children:"Current Password"}),r.jsx(Ln,{type:"password",value:I.current,onChange:U=>R({...I,current:U}),icon:r.jsx(Oa,{size:16})})]}),r.jsxs("div",{children:[r.jsx(Rt,{children:"New Password"}),r.jsx(Ln,{type:"password",value:I.new,onChange:U=>R({...I,new:U}),icon:r.jsx(Oa,{size:16})})]}),r.jsxs("div",{children:[r.jsx(Rt,{children:"Confirm New Password"}),r.jsx(Ln,{type:"password",value:I.confirm,onChange:U=>R({...I,confirm:U}),icon:r.jsx(Oa,{size:16})})]}),r.jsx("button",{onClick:F,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors self-start",children:"Update Password"})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(Yn,{size:14})," Recent Login History"]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-left text-xs font-bold",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-100 pb-2",children:[r.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"Date & Time"}),r.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"IP Address"}),r.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"Device / Browser"}),r.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest text-right",children:"Action"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-50",children:(u.loginHistory||[]).length>0?(W=u.loginHistory)==null?void 0:W.map((U,pe)=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"py-4 text-gray-900",children:U.date}),r.jsx("td",{className:"py-4 text-gray-500 font-mono",children:U.ip}),r.jsx("td",{className:"py-4 text-gray-600",children:U.device}),r.jsx("td",{className:"py-4 text-right",children:pe===0?r.jsx("span",{className:"text-green-600",children:"Current Session"}):r.jsx("span",{className:"text-gray-400",children:"Previous"})})]},pe)):r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"No recent login history found."})})})]})}),r.jsx("button",{onClick:G,className:"mt-6 w-full py-3 border border-gray-200 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 transition-colors",children:"Log out of all other sessions"}),r.jsxs("div",{className:"mt-12 pt-12 border-t border-gray-200",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-red-600 mb-4 flex items-center gap-2",children:[r.jsx(ua,{size:14})," Danger Zone"]}),r.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),r.jsx("button",{onClick:T,className:"bg-red-50 text-red-600 border border-red-200 px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-red-600 hover:text-white transition-colors",children:"Delete My Account"})]})]})]}):n==="notifications"?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[r.jsx(Yy,{size:14})," Notification Preferences"]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Rt,{children:"Email Frequency"}),r.jsxs("select",{value:u.emailFrequency||"instant",onChange:U=>E("emailFrequency",U.target.value),className:"bg-gray-100 border-none p-2 text-[10px] font-black uppercase tracking-widest outline-none",children:[r.jsx("option",{value:"instant",children:"Instant"}),r.jsx("option",{value:"daily",children:"Daily Digest"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx(Hs,{label:"Campaign Status Alerts",checked:!0}),r.jsx(Hs,{label:"Low Balance Warnings",checked:!0}),r.jsx(Hs,{label:"New Login Notifications",checked:u.loginNotificationEnabled||!1,onChange:U=>E("loginNotificationEnabled",U.toString())})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(Hs,{label:"Marketing & Product Updates",checked:u.newsletterSub||!1,onChange:U=>E("newsletterSub",U.toString())}),r.jsx(Hs,{label:"Weekly Performance Reports",checked:!0}),r.jsx(Hs,{label:"Sound Effects (UI)",checked:u.soundEffects||!1,onChange:U=>E("soundEffects",U.toString())})]})]})]})}):n==="billing"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[r.jsx(Ns,{size:14})," Saved Payment Methods"]}),r.jsxs("button",{onClick:()=>g(!f),className:"text-[#ff4d00] text-[10px] font-bold uppercase tracking-widest hover:text-black flex items-center gap-1",children:[r.jsx(Ru,{size:12})," Add New"]})]}),f&&r.jsxs("div",{className:"mb-6 p-6 bg-gray-50 border border-gray-200 animate-in fade-in slide-in-from-top-2",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx(Rt,{children:"Card Number"}),r.jsx(Ln,{value:y,onChange:b,placeholder:"0000 0000 0000 0000"})]}),r.jsxs("div",{children:[r.jsx(Rt,{children:"Expiry"}),r.jsx(Ln,{value:v,onChange:k,placeholder:"MM/YY"})]})]}),r.jsx("button",{onClick:Re,className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors",children:"Save Card"})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:u.paymentMethods&&u.paymentMethods.length>0?u.paymentMethods.map(U=>r.jsxs("div",{className:"border border-gray-200 p-6 flex justify-between items-center bg-[#f9fafb]",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-12 h-8 rounded-sm flex items-center justify-center text-white text-[10px] font-bold ${U.type==="visa"?"bg-[#1a1f71]":"bg-[#eb001b]"}`,children:U.type==="visa"?"VISA":"MC"}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-bold text-gray-900",children:["   ",U.last4]}),r.jsxs("div",{className:"text-xs text-gray-400 font-medium",children:["Expires ",U.expiry]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[U.isDefault&&r.jsx("span",{className:"bg-green-100 text-green-700 text-[9px] font-black uppercase tracking-wider px-2 py-1 rounded-sm",children:"Default"}),r.jsx("button",{onClick:()=>X(U.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:r.jsx(Dl,{size:16})})]})]},U.id)):r.jsx("div",{className:"text-center p-8 text-gray-400 text-sm",children:"No payment methods saved."})})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(G6,{size:14})," Billing Address"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx(Rt,{children:"Company Name"}),r.jsx(Ln,{value:u.company||"",onChange:U=>E("company",U),icon:r.jsx(FN,{size:16})})]}),r.jsxs("div",{children:[r.jsx(Rt,{children:"VAT ID / Tax ID"}),r.jsx(Ln,{value:u.vatId||"",onChange:U=>E("vatId",U),icon:r.jsx(qN,{size:16})})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Rt,{children:"Street Address"}),r.jsx(Ln,{value:u.address||"",onChange:U=>E("address",U),icon:r.jsx(Ji,{size:16})})]}),r.jsxs("div",{children:[r.jsx(Rt,{children:"City"}),r.jsx(Ln,{value:u.city||"",onChange:U=>E("city",U)})]}),r.jsxs("div",{children:[r.jsx(Rt,{children:"Zip / Postal Code"}),r.jsx(Ln,{value:u.zip||"",onChange:U=>E("zip",U)})]}),r.jsxs("div",{children:[r.jsx(Rt,{children:"Country"}),r.jsxs("select",{value:u.country||"",onChange:U=>E("country",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none appearance-none",children:[r.jsx("option",{value:"",children:"Select Country"}),r.jsx("option",{value:"United States",children:"United States"}),r.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),r.jsx("option",{value:"Germany",children:"Germany"}),r.jsx("option",{value:"Canada",children:"Canada"}),r.jsx("option",{value:"France",children:"France"}),r.jsx("option",{value:"Australia",children:"Australia"})]})]})]})]})]}):n==="developer"?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(_p,{size:14})," Developer Configuration"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(Rt,{children:"IP Whitelist (One per line)"}),r.jsx("textarea",{value:((ue=u.apiWhitelist)==null?void 0:ue.join(`
`))||"",onChange:U=>E("apiWhitelist",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none min-h-[80px]",placeholder:"127.0.0.1"})]}),r.jsxs("div",{children:[r.jsx(Rt,{children:"Webhook Signing Secret"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 font-mono text-sm",children:u.webhookSecret||"whsec_"}),r.jsx("button",{className:"bg-black hover:bg-[#ff4d00] text-white p-3 transition-colors",children:r.jsx(Zy,{size:16})})]})]}),r.jsx("div",{className:"pt-4",children:r.jsx(Hs,{label:"Developer Mode (Show raw API responses)",checked:u.developerMode||!1,onChange:U=>E("developerMode",U.toString())})})]})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(tu,{size:14})," Accessibility & Appearance"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx(Hs,{label:"Color Blind Mode",checked:((Pe=u.accessibility)==null?void 0:Pe.colorBlindMode)||!1,onChange:U=>h({...u,accessibility:{...u.accessibility||{fontSize:"medium",compactMode:!1,reduceMotion:!1,colorBlindMode:!1},colorBlindMode:U}})}),r.jsx(Hs,{label:"Compact Mode (Reduced Padding)",checked:((ze=u.accessibility)==null?void 0:ze.compactMode)||!1,onChange:U=>h({...u,accessibility:{...u.accessibility||{fontSize:"medium",compactMode:!1,reduceMotion:!1,colorBlindMode:!1},compactMode:U}})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(Hs,{label:"Reduce Motion",checked:((q=u.accessibility)==null?void 0:q.reduceMotion)||!1,onChange:U=>h({...u,accessibility:{...u.accessibility||{fontSize:"medium",compactMode:!1,reduceMotion:!1,colorBlindMode:!1},reduceMotion:U}})}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(Rt,{children:"Font Size"}),r.jsx("div",{className:"flex gap-2",children:["small","medium","large"].map(U=>{var pe;return r.jsx("button",{onClick:()=>h({...u,accessibility:{...u.accessibility||{fontSize:"medium",compactMode:!1,reduceMotion:!1,colorBlindMode:!1},fontSize:U}}),className:`flex-1 py-2 text-[10px] font-black uppercase tracking-widest border transition-colors ${((pe=u.accessibility)==null?void 0:pe.fontSize)===U?"bg-black text-white border-black":"bg-gray-50 text-gray-400 border-gray-200 hover:border-gray-300"}`,children:U},U)})})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-black mb-6 flex items-center gap-2",children:[r.jsx(Mh,{size:14})," Data Management"]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"GDPR Data Portability"}),r.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-wider mt-1",children:"Download a full archive of your account data."})]}),r.jsxs("button",{onClick:V,className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[r.jsx(Mh,{size:12})," Export JSON"]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-6 flex items-center gap-2",children:[r.jsx(ml,{size:14})," Misc Preferences"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx(Rt,{children:"Timezone"}),r.jsxs("select",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none",children:[r.jsx("option",{children:"UTC (London)"}),r.jsx("option",{children:"GMT+1 (Berlin)"}),r.jsx("option",{children:"EST (New York)"})]})]}),r.jsxs("div",{children:[r.jsx(Rt,{children:"UI Language"}),r.jsxs("select",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none",children:[r.jsx("option",{children:"English"}),r.jsx("option",{children:"Deutsch"}),r.jsx("option",{children:"Franais"})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-red-100 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-red-500 mb-6 flex items-center gap-2",children:[r.jsx(ua,{size:14})," Danger Zone"]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"Delete Account"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Once deleted, all your campaign data and credits will be lost forever."})]}),r.jsx("button",{className:"bg-red-50 text-red-600 px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-red-600 hover:text-white transition-colors border border-red-200",children:"Delete Forever"})]})]})]})})]})]}):r.jsx("div",{children:"Loading..."})},Hs=({label:n,checked:e,onChange:t})=>{const[s,i]=S.useState(e);S.useEffect(()=>{i(e)},[e]);const l=()=>{const u=!s;i(u),t&&t(u)};return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-bold text-gray-600",children:n}),r.jsx("button",{onClick:l,className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${s?"bg-[#ff4d00]":"bg-gray-200"}`,children:r.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${s?"translate-x-5":"translate-x-0"}`})})]})},Rt=({children:n})=>r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:n}),Ln=({value:n,onChange:e,icon:t,type:s="text",placeholder:i})=>r.jsxs("div",{className:"relative",children:[t&&r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:t}),r.jsx("input",{type:s,value:n,onChange:l=>e(l.target.value),className:`w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none transition-colors ${t?"pl-10":""}`,placeholder:i})]}),q5=()=>{const[n,e]=S.useState([]),[t,s]=S.useState(0),[i,l]=S.useState(null);S.useEffect(()=>{e(te.getTransactions()),s(te.getBalance())},[]);const u=n.filter(y=>y.type==="credit").reduce((y,b)=>y+b.amount,0),h=n.filter(y=>y.type==="debit").reduce((y,b)=>y+b.amount,0),f=()=>{if(n.length===0){alert("No transactions to download.");return}const y=["ID","Date","Description","Type","Amount","Status"],b=n.map(R=>[R.id,R.date,`"${R.desc.replace(/"/g,'""')}"`,R.type,R.amount.toFixed(2),R.status]),v="data:text/csv;charset=utf-8,"+y.join(",")+`
`+b.map(R=>R.join(",")).join(`
`),k=encodeURI(v),I=document.createElement("a");I.setAttribute("href",k),I.setAttribute("download",`modus_statement_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(I),I.click(),document.body.removeChild(I)},g=({trx:y,onClose:b})=>r.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:b,children:r.jsxs("div",{className:"bg-white w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-200",onClick:v=>v.stopPropagation(),children:[r.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-[#ff4d00] flex items-center justify-center",children:r.jsx("span",{className:"font-black text-black text-xs",children:"M"})}),r.jsx("span",{className:"font-black text-lg tracking-tight",children:"MODUS"})]}),r.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-widest",children:"Receipt"})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-xl font-bold text-gray-900 mb-1",children:["",y.amount.toFixed(2)]}),r.jsx("div",{className:`text-xs font-bold uppercase tracking-wide px-2 py-0.5 inline-block ${y.status==="completed"?"bg-green-100 text-green-700":"bg-gray-100"}`,children:y.status})]})]}),r.jsxs("div",{className:"p-8 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Date"}),r.jsx("div",{className:"text-sm font-bold text-gray-900",children:y.date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Transaction ID"}),r.jsx("div",{className:"text-sm font-mono text-gray-600",children:y.id})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Type"}),r.jsx("div",{className:"text-sm font-bold text-gray-900 capitalize",children:y.type==="credit"?"Deposit":"Purchase"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"User"}),r.jsx("div",{className:"text-sm font-bold text-gray-900",children:"John Doe"})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 border border-gray-100",children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Description"}),r.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.desc})]})]}),r.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex justify-end gap-3",children:[r.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase hover:bg-gray-100",children:[r.jsx(O3,{size:14})," Print"]}),r.jsx("button",{onClick:b,className:"px-4 py-2 bg-black text-white text-xs font-bold uppercase hover:bg-[#ff4d00]",children:"Close"})]})]})});return r.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[i&&r.jsx(g,{trx:i,onClose:()=>l(null)}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Financial Overview"}),r.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Wallet & Transactions"})]}),r.jsxs("button",{onClick:f,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[r.jsx(Mh,{size:14})," Download Statement"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-[#111] text-white p-8 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-10 group-hover:opacity-20 transition-opacity",children:r.jsx(Ns,{size:64})}),r.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Available Balance"}),r.jsxs("div",{className:"text-4xl font-black text-white mb-4",children:["",t.toFixed(2)]}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{className:"bg-[#ff4d00] text-white px-4 py-2 text-[10px] font-bold uppercase tracking-widest hover:bg-white hover:text-black transition-colors",children:"Add Funds"})})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("div",{className:"p-2 bg-green-50 rounded-sm text-green-600",children:r.jsx(Xi,{size:20})}),r.jsx("span",{className:"text-[10px] font-bold bg-gray-100 px-2 py-1 uppercase tracking-widest text-gray-500",children:"Lifetime"})]}),r.jsxs("div",{className:"text-3xl font-black text-gray-900 mb-1",children:["",u.toFixed(2)]}),r.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Total Deposited"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("div",{className:"p-2 bg-orange-50 rounded-sm text-[#ff4d00]",children:r.jsx(d5,{size:20})}),r.jsx("span",{className:"text-[10px] font-bold bg-gray-100 px-2 py-1 uppercase tracking-widest text-gray-500",children:"Lifetime"})]}),r.jsxs("div",{className:"text-3xl font-black text-gray-900 mb-1",children:["",h.toFixed(2)]}),r.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Total Spent"})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[r.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[r.jsx(Yn,{size:14,className:"text-[#ff4d00]"})," Transaction History"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-left border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-[#f9fafb] border-b border-gray-100",children:[r.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),r.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Transaction ID"}),r.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),r.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),r.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Invoice"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:n.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"text-center p-8 text-sm text-gray-400",children:"No transactions found."})}):n.map(y=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:y.date}),r.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-400",children:y.id}),r.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:y.desc}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-[9px] font-black uppercase tracking-wider rounded-sm",children:y.status})}),r.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${y.type==="credit"?"text-green-600":"text-gray-900"}`,children:[y.type==="debit"?"-":"+","",y.amount.toFixed(2)]}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("button",{onClick:()=>l(y),className:"text-gray-400 hover:text-[#ff4d00] transition-colors",children:r.jsx(Mh,{size:14})})})]},y.id))})]})}),r.jsx("div",{className:"p-4 bg-[#f9fafb] text-center border-t border-gray-100",children:r.jsx("button",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 hover:text-[#ff4d00]",children:"View All Transactions"})})]})]})},$5=()=>{const[n,e]=S.useState(!1),[t,s]=S.useState(!1),[i,l]=S.useState(null);S.useEffect(()=>{const f=te.getCurrentUser();l(f),localStorage.getItem(`affiliate_active_${f==null?void 0:f.id}`)&&e(!0)},[]);const u=()=>{s(!0),setTimeout(()=>{e(!0),s(!1),i&&localStorage.setItem(`affiliate_active_${i.id}`,"true")},1500)},h=i?`https://modus-traffic.com/ref/u/${i.id}`:"https://modus-traffic.com/ref/u/guest";return n?r.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-12",children:[r.jsxs("div",{className:"bg-[#111] text-white p-8 md:p-12 relative overflow-hidden shadow-xl",children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#ff4d00] opacity-10 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"}),r.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-8",children:[r.jsxs("div",{className:"max-w-xl",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#ff4d00] text-white px-3 py-1 text-[10px] font-black uppercase tracking-widest mb-4 rounded-sm",children:[r.jsx(tv,{size:12})," Active Partner"]}),r.jsx("h2",{className:"text-3xl md:text-4xl font-black uppercase tracking-tight mb-4",children:"Dashboard"}),r.jsxs("p",{className:"text-gray-400 leading-relaxed text-sm font-medium",children:["Your program is active. You are earning a ",r.jsx("span",{className:"text-white font-bold",children:"20% Lifetime Commission"})," on all referred sales."]})]}),r.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 p-6 w-full md:w-auto min-w-[300px] rounded-sm",children:[r.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Unpaid Earnings"}),r.jsx("div",{className:"text-4xl font-black text-[#ff4d00] mb-4",children:"0.00"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-300 border-t border-white/10 pt-4 font-mono",children:[r.jsx("span",{children:"Pending: 0.00"}),r.jsx("span",{className:"text-green-400",children:"Paid: 0.00"})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-4 flex items-center gap-2",children:[r.jsx(yg,{size:14})," Your Unique Referral Link"]}),r.jsxs("div",{className:"flex gap-0",children:[r.jsx("input",{readOnly:!0,value:h,className:"flex-1 bg-[#f9fafb] border border-gray-200 border-r-0 p-4 text-sm font-bold text-gray-600 outline-none font-mono"}),r.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(h),alert("Link copied to clipboard!")},className:"bg-black text-white px-6 py-4 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[r.jsx(dl,{size:14})," Copy Link"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-6 flex items-center gap-2",children:[r.jsx(ru,{size:14})," Referral Statistics"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Total Clicks"}),r.jsx("span",{className:"text-xl font-black text-gray-900",children:"0"})]}),r.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:r.jsx("div",{className:"bg-gray-800 h-full w-0"})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Signups"}),r.jsx("span",{className:"text-xl font-black text-gray-900",children:"0"})]}),r.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:r.jsx("div",{className:"bg-[#ff4d00] h-full w-0"})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Active Customers"}),r.jsx("span",{className:"text-xl font-black text-gray-900",children:"0"})]}),r.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:r.jsx("div",{className:"bg-green-500 h-full w-0"})})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-6 flex items-center gap-2",children:[r.jsx(BP,{size:14})," Active Benefits"]}),r.jsx("ul",{className:"space-y-4",children:["20% recurring lifetime commission","Dedicated account manager support","Custom landing pages for high volume partners","Monthly payouts with no minimum threshold","Real-time tracking dashboard"].map((f,g)=>r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"min-w-[4px] h-[4px] bg-[#ff4d00] mt-2 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-gray-600 leading-relaxed",children:f})]},g))})]})]})]}):r.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 pb-12 max-w-5xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12 pt-8",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-50 text-[#ff4d00] border border-orange-100 px-4 py-2 text-xs font-bold uppercase tracking-widest mb-6 rounded-full",children:[r.jsx(Xn,{size:14,className:"fill-[#ff4d00]"})," Partner Program"]}),r.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-gray-900 tracking-tight mb-6",children:["Earn 20% ",r.jsx("span",{className:"text-[#ff4d00]",children:"Lifetime"})," Commission."]}),r.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto leading-relaxed",children:"Turn your traffic into recurring revenue. Refer customers to Modus Traffic and earn a permanent 20% cut of every purchase they make, forever."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[{icon:r.jsx(Gi,{size:24}),title:"Recurring Revenue",desc:"You don't just get paid once. You get paid every time your referral adds funds."},{icon:r.jsx(QS,{size:24}),title:"Instant Payouts",desc:"Withdraw your earnings via PayPal, Wise, or Crypto once you hit 50."},{icon:r.jsx(ru,{size:24}),title:"High Conversion",desc:"Our high-converting landing pages ensure you get the maximum value from your clicks."}].map((f,g)=>r.jsxs("div",{className:"bg-white border border-gray-200 p-8 text-center shadow-sm hover:border-[#ff4d00] transition-colors group",children:[r.jsx("div",{className:"w-14 h-14 bg-black text-white flex items-center justify-center rounded-full mx-auto mb-6 group-hover:bg-[#ff4d00] transition-colors",children:f.icon}),r.jsx("h3",{className:"text-lg font-black text-gray-900 mb-3",children:f.title}),r.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:f.desc})]},g))}),r.jsxs("div",{className:"bg-[#111] text-white p-12 text-center rounded-sm relative overflow-hidden shadow-2xl",children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#ff4d00] opacity-10 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-8",children:"Ready to start earning?"}),r.jsx("button",{onClick:u,disabled:t,className:"bg-[#ff4d00] text-white px-10 py-5 text-sm font-bold uppercase tracking-widest hover:bg-white hover:text-black transition-all transform hover:-translate-y-1 shadow-lg flex items-center gap-3 mx-auto disabled:opacity-70 disabled:cursor-not-allowed",children:t?"Activating Account...":r.jsxs(r.Fragment,{children:["Activate Affiliate Program ",r.jsx(Ys,{size:18})]})}),r.jsx("p",{className:"text-xs text-gray-500 mt-6 font-medium",children:"By activating, you agree to our Affiliate Terms of Service."})]})]})]})},G5=({targetDate:n})=>{const[e,t]=S.useState(null);return S.useEffect(()=>{const s=setInterval(()=>{const i=new Date().getTime(),l=new Date(n).getTime()-i;l<0?(t(null),clearInterval(s)):t({days:Math.floor(l/864e5),hours:Math.floor(l%864e5/36e5),minutes:Math.floor(l%36e5/6e4),seconds:Math.floor(l%6e4/1e3)})},1e3);return()=>clearInterval(s)},[n]),e?r.jsxs("div",{className:"flex gap-2 mt-3 font-mono text-sm font-black text-black bg-white/20 p-2 rounded-sm inline-flex",children:[r.jsxs("span",{children:[String(e.days).padStart(2,"0"),"d"]}),":",r.jsxs("span",{children:[String(e.hours).padStart(2,"0"),"h"]}),":",r.jsxs("span",{children:[String(e.minutes).padStart(2,"0"),"m"]}),":",r.jsxs("span",{children:[String(e.seconds).padStart(2,"0"),"s"]})]}):null},H5=({projects:n,balance:e,onNavigateToProject:t,onNavigateToBuyCredits:s})=>{const[i,l]=S.useState([]),[u,h]=S.useState([]);S.useEffect(()=>{l(te.getTransactions().slice(0,5));const v=te.getAlerts(),k=te.getCurrentUser(),I=v.filter(R=>te.checkBroadcastTarget(R,k));h(I)},[e]);const f=n.filter(v=>v.status==="active"),g=n.reduce((v,k)=>{var R;const I=((R=k.stats)==null?void 0:R.reduce((D,P)=>D+P.visitors,0))||0;return v+I},0),y=v=>{switch(v){case"error":return r.jsx(T3,{size:18});case"warning":return r.jsx(ua,{size:18});case"promo":return r.jsx(JS,{size:18});default:return r.jsx(eu,{size:18})}},b=v=>v>=1e6?(v/1e6).toFixed(1)+"M":v>=1e3?(v/1e3).toFixed(1)+"k":v.toString();return r.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[u.length>0&&r.jsx("div",{className:"space-y-3",children:u.map(v=>r.jsxs("div",{className:`p-4 border-l-4 shadow-sm flex items-start gap-3 rounded-r-sm ${v.type==="error"?"bg-red-50 border-red-500 text-red-700":v.type==="promo"?"bg-yellow-50 border-yellow-500 text-yellow-800":v.type==="warning"?"bg-orange-50 border-orange-500 text-orange-700":"bg-blue-50 border-blue-500 text-blue-700"}`,children:[r.jsx("div",{className:"mt-0.5 shrink-0",children:y(v.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-bold",children:v.message}),v.countdownEnds&&r.jsx(G5,{targetDate:v.countdownEnds}),r.jsx("p",{className:"text-[10px] font-medium opacity-70 mt-1 uppercase tracking-wider",children:v.date})]})]},v.id))}),r.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-end gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Overview"}),r.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Dashboard"})]}),r.jsx("div",{className:"flex gap-4",children:r.jsxs("div",{className:"hidden md:block text-right",children:[r.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Network Status"}),r.jsxs("div",{className:"text-[#ff4d00] text-xs font-bold flex items-center gap-2 justify-end mt-1",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full animate-pulse"}),"Operational"]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors",children:[r.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:r.jsx(Xi,{size:48,className:"text-[#ff4d00]"})}),r.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Total Traffic"}),r.jsx("div",{className:"text-3xl font-black text-gray-900 mb-1",children:b(g)}),r.jsxs("div",{className:"text-xs font-bold text-[#ff4d00] flex items-center gap-1",children:["Real-time ",r.jsx("span",{className:"text-gray-400 font-medium",children:"stats"})]})]}),r.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors cursor-pointer",onClick:()=>t(""),children:[r.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:r.jsx($a,{size:48,className:"text-[#ff4d00]"})}),r.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Active Campaigns"}),r.jsx("div",{className:"text-3xl font-black text-gray-900 mb-1",children:f.length}),r.jsx("div",{className:"text-xs font-bold text-gray-500",children:"View all campaigns"})]}),r.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors cursor-pointer",onClick:s,children:[r.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:r.jsx(Ns,{size:48,className:"text-[#ff4d00]"})}),r.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Wallet Balance"}),r.jsxs("div",{className:"text-3xl font-black text-gray-900 mb-1",children:["",e.toFixed(2)]}),r.jsxs("div",{className:"text-xs font-bold text-[#ff4d00] flex items-center gap-1",children:["Add Funds ",r.jsx(Ys,{size:10})]})]}),r.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors",children:[r.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:r.jsx(Xn,{size:48,className:"text-[#ff4d00]"})}),r.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"System Load"}),r.jsx("div",{className:"text-3xl font-black text-gray-900 mb-1",children:"34%"}),r.jsx("div",{className:"w-full bg-gray-100 h-1.5 mt-2 overflow-hidden rounded-full",children:r.jsx("div",{className:"bg-[#ff4d00] h-full w-[34%]"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white border border-gray-200 shadow-sm flex flex-col",children:[r.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[r.jsx($a,{size:14,className:"text-[#ff4d00]"})," Recent Campaigns"]}),r.jsx("button",{onClick:()=>t(""),className:"text-[10px] font-bold text-gray-400 uppercase hover:text-[#ff4d00] transition-colors",children:"View All"})]}),r.jsx("div",{className:"flex-1 overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Project Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Plan"}),r.jsx("th",{className:"px-6 py-3 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Status"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-50",children:[n.slice(0,5).map(v=>r.jsxs("tr",{className:"hover:bg-orange-50/50 cursor-pointer transition-colors group",onClick:()=>t(v.id),children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-xs font-bold text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:v.name}),r.jsx("div",{className:"text-[9px] text-gray-400 font-mono mt-0.5",children:v.id})]}),r.jsx("td",{className:"px-6 py-4 text-xs font-medium text-gray-500",children:v.plan}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-[9px] font-black uppercase tracking-wider rounded-sm ${v.status==="active"?"bg-[#ff4d00] text-white":v.status==="completed"?"bg-black text-white":"bg-gray-100 text-gray-400"}`,children:v.status})})]},v.id)),n.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"p-8 text-center text-xs text-gray-400",children:"No active campaigns."})})]})]})})]}),r.jsx("div",{className:"space-y-8",children:r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[r.jsx("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[r.jsx(Yn,{size:14,className:"text-gray-400"})," Recent History"]})}),r.jsxs("div",{className:"divide-y divide-gray-100",children:[i.map(v=>r.jsxs("div",{className:"p-4 flex justify-between items-center hover:bg-gray-50",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[10px] font-bold text-gray-900 truncate max-w-[100px]",children:v.desc}),r.jsx("div",{className:"text-[9px] text-gray-400",children:v.date})]}),r.jsxs("div",{className:`text-xs font-bold ${v.type==="credit"?"text-[#ff4d00]":"text-gray-900"}`,children:[v.type==="credit"?"+":"-","",v.amount.toFixed(0)]})]},v.id)),i.length===0&&r.jsx("div",{className:"p-4 text-center text-xs text-gray-400",children:"No recent transactions"})]})]})})]})]})},K5=()=>{var N;const[n,e]=S.useState([]),[t,s]=S.useState(null),[i,l]=S.useState(!1),[u,h]=S.useState(""),[f,g]=S.useState(""),[y,b]=S.useState("medium"),[v,k]=S.useState([]),[I,R]=S.useState(""),[D,P]=S.useState([]),M=te.getCurrentUser(),z=n.find(E=>E.id===t);S.useEffect(()=>{le()},[]);const le=async()=>{if(M)try{const E=await te.getTickets();e(E.filter(O=>O.userId===M.id))}catch{console.error("Failed to refresh tickets")}},L=async E=>{if(E.preventDefault(),!u||!f||!M)return;const O={subject:u,priority:y,messages:[{id:Date.now().toString(),sender:"user",text:f,date:new Date().toLocaleString(),attachments:v}]};await te.createTicket(O),l(!1),h(""),g(""),k([]),await le()},H=async()=>{!t||!I&&D.length===0||(await te.replyToTicket(t,I,"user",D),R(""),P([]),await le())},T=(E,O)=>{if(E.target.files&&E.target.files[0]){const F=E.target.files[0].name;O?P([...D,F]):k([...v,F])}};return r.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12 h-[calc(100vh-140px)] flex flex-col",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mb-2 flex-shrink-0",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Helpdesk"}),r.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Support Tickets"})]}),r.jsxs("button",{onClick:()=>l(!0),className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[r.jsx(Ru,{size:14})," New Ticket"]})]}),i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wide",children:"Create New Request"}),r.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-black",children:r.jsx(Ha,{size:18})})]}),r.jsxs("form",{onSubmit:L,className:"p-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Subject"}),r.jsx("input",{value:u,onChange:E=>h(E.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Brief description",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Priority"}),r.jsxs("select",{value:y,onChange:E=>b(E.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",children:[r.jsx("option",{value:"low",children:"Low - General Question"}),r.jsx("option",{value:"medium",children:"Medium - Technical Issue"}),r.jsx("option",{value:"high",children:"High - Billing / Critical"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Message"}),r.jsx("textarea",{value:f,onChange:E=>g(E.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none h-32 resize-none",placeholder:"Describe your issue...",required:!0})]}),v.length>0&&r.jsx("div",{className:"flex gap-2 flex-wrap",children:v.map((E,O)=>r.jsxs("div",{className:"text-xs bg-gray-100 px-2 py-1 rounded-sm text-gray-600 flex items-center gap-1",children:[r.jsx(qc,{size:10})," ",E]},O))}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-gray-500 hover:text-[#ff4d00] cursor-pointer uppercase tracking-wide",children:[r.jsx(qc,{size:16})," Attach File",r.jsx("input",{type:"file",className:"hidden",onChange:E=>T(E,!1)})]}),r.jsxs("button",{type:"submit",className:"bg-[#ff4d00] text-white px-8 py-3 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors flex items-center gap-2",children:[r.jsx(fl,{size:14})," Submit Ticket"]})]})]})]})}),r.jsxs("div",{className:"flex-1 bg-white border border-gray-200 shadow-sm flex overflow-hidden",children:[r.jsxs("div",{className:`${z?"hidden md:flex":"flex"} w-full md:w-1/3 border-r border-gray-200 flex-col`,children:[r.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:r.jsxs("div",{className:"relative",children:[r.jsx(Sr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),r.jsx("input",{placeholder:"Search tickets...",className:"w-full bg-white border border-gray-200 pl-9 pr-4 py-2 text-xs font-bold outline-none focus:border-[#ff4d00]"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:n.length===0?r.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No tickets found."}):n.map(E=>r.jsxs("div",{onClick:()=>s(E.id),className:`p-5 border-b border-gray-100 cursor-pointer transition-colors hover:bg-gray-50 group ${t===E.id?"bg-orange-50":""}`,children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${E.status==="open"?"bg-green-100 text-green-700":E.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-gray-200 text-gray-500"}`,children:E.status}),r.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:E.date})]}),r.jsx("h4",{className:`text-sm font-bold mb-1 truncate ${t===E.id?"text-[#ff4d00]":"text-gray-900"}`,children:E.subject}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:E.lastMessage}),E.type==="chat"&&r.jsxs("div",{className:"mt-2 text-[9px] font-bold text-blue-500 uppercase tracking-wide flex items-center gap-1",children:[r.jsx(Tr,{size:10})," Live Chat Log"]})]},E.id))})]}),z?r.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#fafafa]",children:[r.jsxs("div",{className:"bg-white p-6 border-b border-gray-200 shadow-sm flex justify-between items-center z-10",children:[r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>s(null),className:"md:hidden text-gray-500 mb-2 flex items-center gap-1 text-xs font-bold uppercase",children:[r.jsx(xg,{className:"rotate-180",size:12})," Back"]}),r.jsx("h2",{className:"text-lg font-bold text-gray-900",children:z.subject}),r.jsxs("div",{className:"text-xs text-gray-400 font-mono mt-1",children:["ID: ",z.id]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[z.status==="open"&&r.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-green-600 uppercase",children:[r.jsx(Yn,{size:14})," Open"]}),z.status==="closed"&&r.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 uppercase",children:[r.jsx(tv,{size:14})," Closed"]})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:(N=z.messages)==null?void 0:N.map(E=>r.jsx("div",{className:`flex ${E.sender==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[85%] ${E.sender==="user"?"items-end":"items-start"} flex flex-col`,children:[r.jsxs("div",{className:`p-4 shadow-sm text-sm leading-relaxed ${E.sender==="user"?"bg-black text-white rounded-l-lg rounded-tr-lg":"bg-white text-gray-900 border border-gray-200 rounded-r-lg rounded-tl-lg"}`,children:[E.text,E.attachments&&E.attachments.length>0&&r.jsx("div",{className:"mt-3 pt-3 border-t border-white/20 space-y-1",children:E.attachments.map((O,F)=>r.jsxs("div",{className:"flex items-center gap-2 text-xs opacity-80 bg-white/10 p-2 rounded-sm",children:[r.jsx(qc,{size:12})," ",O]},F))})]}),r.jsxs("span",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase tracking-wide",children:[E.sender==="user"?"You":"Support Team","  ",E.date]})]})},E.id))}),z.status!=="closed"&&r.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[D.length>0&&r.jsx("div",{className:"flex gap-2 mb-2 flex-wrap",children:D.map((E,O)=>r.jsxs("div",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-sm flex items-center gap-1",children:[E," ",r.jsx("button",{onClick:()=>P(D.filter(F=>F!==E)),children:r.jsx(Ha,{size:12})})]},O))}),r.jsxs("div",{className:"flex gap-2 items-end",children:[r.jsxs("label",{className:"p-3 text-gray-400 hover:text-black cursor-pointer transition-colors",children:[r.jsx(qc,{size:20}),r.jsx("input",{type:"file",className:"hidden",onChange:E=>T(E,!0)})]}),r.jsx("textarea",{value:I,onChange:E=>R(E.target.value),placeholder:"Type your reply...",className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] resize-none h-12 min-h-[48px] max-h-32 transition-colors"}),r.jsx("button",{onClick:H,disabled:!I&&D.length===0,className:"p-3 bg-[#ff4d00] text-white hover:bg-black transition-colors disabled:opacity-50",children:r.jsx(fl,{size:20})})]})]})]}):r.jsxs("div",{className:"hidden md:flex flex-1 flex-col items-center justify-center text-gray-300 bg-gray-50/50",children:[r.jsx(Tr,{size:64,className:"mb-4 opacity-20"}),r.jsx("p",{className:"text-sm font-medium",children:"Select a ticket to view details"})]})]})]})},W5=({onLogout:n,onNavigate:e})=>{const[t,s]=S.useState(!1),[i,l]=S.useState("home"),[u,h]=S.useState(null),[f,g]=S.useState([]),[y,b]=S.useState(0),[v,k]=S.useState(!0);S.useEffect(()=>{te.init(),(async()=>{await te.syncProjects(),g(te.getProjects()),b(te.getBalance()),k(!1)})()},[]);const I=()=>{g(te.getProjects()),b(te.getBalance())},R=z=>{z===""?l("overview"):(h(z),l("project-details")),window.scrollTo(0,0)},D=[{title:"Main",items:[{label:"Dashboard",id:"home",icon:r.jsx(KS,{size:18})},{label:"Campaigns",id:"overview",icon:r.jsx(Oh,{size:18}),active:i==="overview"||i==="project-details"||i==="add-project"}]},{title:"Finance",items:[{label:"Buy Credits",id:"buy-credits",icon:r.jsx(Ns,{size:18})},{label:"Wallet & History",id:"balance",icon:r.jsx(GP,{size:18})}]},{title:"User",items:[{label:"Support Tickets",id:"support",icon:r.jsx(x6,{size:18})},{label:"Profile & Billing",id:"profile",icon:r.jsx(za,{size:18})},{label:"Affiliate",id:"affiliate",icon:r.jsx(rv,{size:18})}]}],P=()=>{if(v)return r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 animate-pulse",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-200 mb-4 rounded-sm"}),r.jsx("div",{className:"text-xs font-bold uppercase tracking-widest",children:"Loading Database..."})]});switch(i){case"home":return r.jsx(H5,{projects:f,balance:y,onNavigateToProject:R,onNavigateToBuyCredits:()=>{l("buy-credits"),window.scrollTo(0,0)}});case"overview":return r.jsx(N5,{projects:f,onUpdate:I,onNavigateToProject:R,onAddProject:()=>{l("add-project"),window.scrollTo(0,0)}});case"project-details":return u?r.jsx(O5,{projectId:u,onBack:()=>l("overview"),onUpdate:I}):r.jsx("div",{children:"No Project Selected"});case"add-project":return r.jsx(L5,{onBack:()=>l("overview"),onCreated:I});case"buy-credits":return r.jsx(B5,{onBack:()=>l("home"),onPurchase:I});case"profile":return r.jsx(F5,{});case"balance":return r.jsx(q5,{});case"affiliate":return r.jsx($5,{});case"support":return r.jsx(K5,{});default:return r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[500px] text-center p-12 bg-white border border-gray-200 shadow-sm border-dashed",children:[r.jsx("div",{className:"bg-orange-50 p-6 rounded-full mb-6",children:r.jsx(_6,{className:"w-12 h-12 text-[#ff4d00]",strokeWidth:1.5})}),r.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-2 uppercase tracking-tight",children:"Under Construction"}),r.jsxs("p",{className:"text-gray-500 mb-8 max-w-md mx-auto leading-relaxed",children:["The ",r.jsx("span",{className:"font-bold text-gray-900",children:i.replace(/-/g," ")})," module is currently being upgraded to our new V2 architecture."]}),r.jsx("button",{onClick:()=>l("overview"),className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors",children:"Return to Dashboard"})]})}},M=()=>{switch(i){case"overview":return"Campaigns";case"home":return"Dashboard";case"project-details":return"Campaign Configuration";case"add-project":return"New Campaign";case"buy-credits":return"Wallet Top-Up";case"profile":return"My Profile";case"balance":return"Wallet & Transactions";case"affiliate":return"Affiliate Program";case"support":return"Support Helpdesk";default:return i.replace(/-/g," ")}};return r.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen flex font-sans text-gray-900",children:[r.jsx(XS,{menuSections:D,currentView:i==="project-details"||i==="add-project"?"overview":i,onNavigate:z=>{l(z),s(!1),window.scrollTo(0,0)},onLogout:n}),t&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-40 md:hidden backdrop-blur-sm",onClick:()=>s(!1),children:r.jsxs("div",{className:"bg-[#111] text-white w-72 h-full overflow-y-auto shadow-2xl",onClick:z=>z.stopPropagation(),children:[r.jsxs("div",{className:"p-8 pb-8 flex items-center gap-3 border-b border-gray-800",children:[r.jsx("div",{className:"w-8 h-8 bg-[#ff4d00] flex items-center justify-center",children:r.jsx("span",{className:"font-black text-black",children:"T"})}),r.jsx("span",{className:"text-xl font-black tracking-tighter",children:"TRAFFIC"})]}),D.map((z,le)=>r.jsx("div",{className:"py-6 border-b border-gray-900",children:r.jsx("ul",{children:z.items.map(L=>r.jsx("li",{children:r.jsxs("button",{onClick:()=>{l(L.id),s(!1)},className:`w-full text-left px-8 py-3 text-xs font-bold uppercase tracking-wider flex items-center gap-3
                                        ${i===L.id?"text-[#ff4d00] bg-gray-900":"text-gray-400"}`,children:[L.icon,L.label]})},L.id))})},le))]})}),r.jsxs("main",{className:"flex-1 md:ml-64 flex flex-col min-h-screen relative",children:[r.jsx(j5,{}),r.jsx(eE,{title:M(),onMobileMenuClick:()=>s(!0)}),r.jsx("div",{className:"flex-1 p-6 md:p-12 overflow-y-auto relative",children:r.jsx("div",{className:"max-w-screen-2xl mx-auto",children:P()})}),r.jsx("footer",{className:"px-12 py-8 border-t border-gray-200 mt-auto bg-white",children:r.jsxs("div",{className:"max-w-screen-2xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[r.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-[10px] font-bold uppercase tracking-widest text-gray-400",children:[r.jsx(Le,{to:"/helpdesk",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Helpdesk"}),r.jsx(Le,{to:"/legal/refund",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Refund Policy"}),r.jsx(Le,{to:"/legal/delivery",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Delivery Policy"}),r.jsx(Le,{to:"/legal/privacy",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Privacy Policy"}),r.jsx(Le,{to:"/legal/terms",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Terms of Service"}),r.jsx(Le,{to:"/legal/agb",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"AGB"}),r.jsx(Le,{to:"/legal/impressum",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Impressum"})]}),r.jsx("div",{className:"text-[10px] font-medium text-gray-400",children:" 2025 Traffic Creator Inc."})]})})]})]})},av=({onSuccess:n})=>{const e=Cu(),[t,s]=S.useState(""),[i,l]=S.useState(""),[u,h]=S.useState(""),[f,g]=S.useState(5e3),[y,b]=S.useState(40),[v,k]=S.useState(30),[I,R]=S.useState(!1),[D,P]=S.useState(""),[M,z]=S.useState(!1),le=[{value:15,label:"15 seconds"},{value:30,label:"30 seconds"},{value:60,label:"1 minute"},{value:120,label:"2 minutes"},{value:180,label:"3 minutes"},{value:300,label:"5 minutes"}],L=()=>!t||!t.includes("@")?(P("Please enter a valid email address"),!1):!i||i.length<3?(P("Project name must be at least 3 characters"),!1):!u||!u.startsWith("http://")&&!u.startsWith("https://")?(P("Please enter a valid URL starting with http:// or https://"),!1):!0,H=async T=>{var N;if(T.preventDefault(),P(""),!!L()){R(!0);try{const E=((N=le.find(G=>G.value===v))==null?void 0:N.label)||"30 seconds",O={desktop:60,mobile:30,tablet:10},F=await fetch("http://127.0.0.1:8001/quick-campaign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,project_name:i,target_url:u,total_visitors:f,settings:{bounce_rate:y,time_on_page:`${v} seconds`,device_split:O}})});if(!F.ok){const G=await F.json();throw new Error(G.detail||"Failed to create campaign")}z(!0),setTimeout(()=>{e("/dashboard"),n&&n()},2e3)}catch(E){P(E.message||"Something went wrong. Please try again.")}finally{R(!1)}}};return M?r.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:r.jsx(oa,{className:"w-10 h-10 text-white"})}),r.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-3",children:"Campaign Started!"}),r.jsxs("p",{className:"text-gray-600",children:["Your ",r.jsx("span",{className:"font-bold text-[#ff4d00]",children:f.toLocaleString()})," visitor campaign is running."]})]}):r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative rounded-3xl overflow-hidden shadow-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ff4d00] to-[#e04400] z-0"}),r.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 z-0 mix-blend-overlay"}),r.jsx("div",{className:"absolute -top-20 -right-20 w-96 h-96 bg-white opacity-10 rounded-full blur-3xl z-0"}),r.jsx("div",{className:"absolute -bottom-20 -left-20 w-96 h-96 bg-black opacity-10 rounded-full blur-3xl z-0"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"text-center mb-10 text-white",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md border border-white/30 px-4 py-2 text-xs font-bold uppercase tracking-widest mb-4 rounded-full shadow-sm",children:[r.jsx(Xn,{size:14,className:"fill-white text-white"})," Free Traffic Campaign"]}),r.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-4 drop-shadow-sm",children:["Get ",r.jsx("span",{className:"text-white underline decoration-white/30 decoration-4 underline-offset-4",children:"Real Visitors"})," Today"]}),r.jsx("p",{className:"text-xl font-medium text-white/90 max-w-2xl mx-auto",children:"Drive up to 10,000 visitors in 24 hours. No credit card required."})]}),r.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[r.jsx("div",{className:"lg:col-span-3",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden transform transition-all hover:scale-[1.01] duration-500",children:[r.jsxs("div",{className:"bg-gradient-to-r from-[#ff4d00] to-[#e04400] px-8 py-5 flex items-center gap-4 border-b border-white/10",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center shrink-0 shadow-inner",children:r.jsx(R6,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold uppercase tracking-wide text-sm",children:"Quick Campaign"}),r.jsx("p",{className:"text-white/80 text-xs",children:"Fill in the details below"})]})]}),r.jsxs("form",{onSubmit:H,className:"p-8 space-y-6",children:[D&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3 animate-in fade-in slide-in-from-top-2",children:[r.jsx(ev,{className:"text-red-500 shrink-0",size:20}),r.jsx("span",{className:"text-red-700 text-sm font-bold",children:D})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Email"}),r.jsxs("div",{className:"relative group",children:[r.jsx("input",{type:"email",value:t,onChange:T=>s(T.target.value),placeholder:"you@example.com",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none pl-11 shadow-sm"}),r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#ff4d00] transition-colors",children:r.jsx(ru,{size:16})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Project Name"}),r.jsx("input",{type:"text",value:i,onChange:T=>l(T.target.value),placeholder:"My Campaign",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none shadow-sm"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Target Website URL"}),r.jsxs("div",{className:"relative group",children:[r.jsx("input",{type:"url",value:u,onChange:T=>h(T.target.value),placeholder:"https://yourwebsite.com",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 pl-11 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none shadow-sm"}),r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#ff4d00] transition-colors",children:r.jsx(As,{size:16})})]})]}),r.jsxs("div",{className:"bg-gray-50/80 rounded-xl p-6 space-y-6 border border-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:[r.jsx(nu,{size:12})," Campaign Settings"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:"Visitors"}),r.jsx("span",{className:"text-lg font-black text-[#ff4d00] bg-white px-2 py-0.5 rounded shadow-sm border border-gray-100",children:f.toLocaleString()})]}),r.jsx("input",{type:"range",min:"1000",max:"10000",step:"500",value:f,onChange:T=>g(parseInt(T.target.value)),className:"w-full h-2 bg-gray-200 rounded-full appearance-none cursor-pointer accent-[#ff4d00] hover:accent-black transition-all"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Bounce Rate"}),r.jsxs("span",{className:"text-sm font-black text-gray-900",children:[y,"%"]})]}),r.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:y,onChange:T=>b(parseInt(T.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-full appearance-none cursor-pointer accent-gray-900 hover:accent-[#ff4d00] transition-all"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Time on Page"}),r.jsx("span",{className:"text-sm font-black text-gray-900",children:v<60?`${v}s`:`${Math.floor(v/60)}m ${v%60}s`})]}),r.jsx("input",{type:"range",min:"15",max:"300",step:"15",value:v,onChange:T=>k(parseInt(T.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-full appearance-none cursor-pointer accent-gray-900 hover:accent-[#ff4d00] transition-all"})]})]})]})]}),r.jsxs("div",{className:"bg-green-50 rounded-xl p-5 border border-green-100 flex items-center gap-4 shadow-sm",children:[r.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center border-4 border-green-100 shrink-0",children:r.jsx(oa,{size:20,className:"text-green-500 fill-green-50"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-green-800 font-extrabold text-sm uppercase tracking-wide block",children:"Free Campaign Summary"}),r.jsxs("span",{className:"text-green-600 text-xs font-medium",children:[f.toLocaleString()," visitors  24 hours duration"]})]}),r.jsx("span",{className:"text-2xl font-black text-green-600 tracking-tighter",children:"FREE"})]}),r.jsx("button",{type:"submit",disabled:I,className:"w-full bg-black text-white py-5 px-6 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-gray-900 transition-all shadow-xl hover:shadow-2xl disabled:opacity-70 disabled:cursor-not-allowed group flex items-center justify-center gap-3 transform active:scale-[0.98]",children:I?"Creating Campaign...":r.jsxs(r.Fragment,{children:["Start Free Campaign ",r.jsx(Ys,{className:"group-hover:translate-x-1 transition-transform"})]})})]})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[r.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[r.jsx("div",{className:"bg-orange-50 p-2 rounded-lg",children:r.jsx(GS,{className:"w-5 h-5 text-[#ff4d00]"})}),r.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Where You'll See Traffic"})]}),r.jsxs("ul",{className:"space-y-4 text-sm text-gray-600",children:[r.jsxs("li",{className:"flex gap-3 items-start",children:[r.jsx(lh,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),r.jsxs("span",{children:[r.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Google Analytics 4"})," Real-time and general traffic reports"]})]}),r.jsxs("li",{className:"flex gap-3 items-start",children:[r.jsx(lh,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),r.jsxs("span",{children:[r.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Google Search Console"})," Improved engagement signals"]})]}),r.jsxs("li",{className:"flex gap-3 items-start",children:[r.jsx(lh,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),r.jsxs("span",{children:[r.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Server Logs"})," Direct hit requests to your server"]})]}),r.jsxs("li",{className:"flex gap-3 items-start",children:[r.jsx(lh,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),r.jsxs("span",{children:[r.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Heatmaps"})," Session recordings and scroll depth"]})]})]})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[r.jsx("div",{className:"bg-orange-50 p-2 rounded-lg",children:r.jsx(Ji,{className:"w-5 h-5 text-[#ff4d00]"})}),r.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Traffic Sources"})]}),r.jsx("ul",{className:"space-y-3 text-sm font-medium text-gray-600",children:["Direct traffic (organic visitors)","Organic search (Google, Bing)","Social referrals (if enabled)","Referral from other sites"].map((T,N)=>r.jsxs("li",{className:"flex items-center gap-3",children:[r.jsx(su,{size:14,className:"text-[#ff4d00]"}),r.jsx("span",{children:T})]},N))})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[r.jsx("div",{className:"bg-green-50 p-2 rounded-lg",children:r.jsx(pl,{className:"w-5 h-5 text-green-600"})}),r.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Quality & Safety"})]}),r.jsx("ul",{className:"space-y-3 text-sm font-medium text-gray-600",children:["Residential IP addresses","Real browser fingerprints","GA4 compliant events","Anti-fingerprinting enabled"].map((T,N)=>r.jsxs("li",{className:"flex items-center gap-3",children:[r.jsx(oa,{size:14,className:"text-green-500"}),r.jsx("span",{children:T})]},N))})]})]})]})]})]})},Y5=({onLogin:n,onNavigate:e})=>{const[t,s]=S.useState(0),[i,l]=S.useState("business"),u=v=>{s(t===v?null:v)},h={"@context":"https://schema.org","@type":"Organization",name:"Traffic Creator",url:"http://localhost:3000/",description:"Premium website traffic generator for boosting SEO metrics and engagement.",brand:{"@type":"Brand",name:"Traffic Creator"}},f={"@context":"https://schema.org","@type":"WebSite",name:"Traffic Creator",url:"http://localhost:3000/",potentialAction:{"@type":"SearchAction",target:"http://localhost:3000/search?q={search_term_string}","query-input":"required name=search_term_string"}},g=[{icon:r.jsx(T6,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Smart Site Crawler",description:"Our advanced bots map your entire site architecture to distribute traffic naturally across deep links, not just your homepage."},{icon:r.jsx($a,{className:"w-6 h-6 text-[#ff4d00]"}),title:"GA4 Compliant Events",description:"Every visit generates real engagement signalsscrolls, clicks, and mouse movementsthat are fully verified by Google Analytics 4."},{icon:r.jsx(Ph,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Organic Growth Patterns",description:"Traffic volume follows natural diurnal curves and viral spikes, eliminating the flat-line patterns that trigger bot filters."},{icon:r.jsx(As,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Elite Residential IPs",description:"Traffic originates from verified residential ISPs in your target country, making it indistinguishable from real human visitors."},{icon:r.jsx(YS,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Live RSS Sync",description:"Automatically detect new blog posts and drive immediate traffic to them, signaling freshness to search engines."},{icon:r.jsx(v3,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Timezone Intelligence",description:"Visits are scheduled according to the local business hours of your target audience for maximum realism."},{icon:r.jsx(e3,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Social Signal Ready",description:"Seamlessly integrates with t.co, bit.ly, and other shorteners to simulate viral social media referral traffic."},{icon:r.jsx(Ji,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Hyper-Local Targeting",description:"Pinpoint your audience by city or region. Perfect for local SEO campaigns and brick-and-mortar businesses."}],y=[{icon:r.jsx(Xi,{size:32,className:"text-[#ff4d00]"}),title:"SEO Ranking Boost",metric:"+450%",desc:"How a niche blog went from Page 10 to Page 1 by signaling high user engagement to search algorithms."},{icon:r.jsx(Ph,{size:32,className:"text-[#ff4d00]"}),title:"Analytics Repair",metric:"15% Bounce",desc:"A SaaS company reduced their bounce rate from 80% to 15% to improve their domain authority score."},{icon:r.jsx(WP,{size:32,className:"text-[#ff4d00]"}),title:"Crypto Trending",metric:"#1 Spot",desc:"A new Token project used volume traffic to trend on CoinMarketCap and CoinGecko within 24 hours."},{icon:r.jsx(QP,{size:32,className:"text-[#ff4d00]"}),title:"Agency Growth",metric:"50+ Clients",desc:"A digital agency resold our traffic to their clients, improving client retention reports by 200%."}],b=[{question:"How quickly does traffic start?",answer:"Campaigns typically start within 5 minutes of approval. Our network handles over 50M requests daily, ensuring instant scalability."},{question:"Is this traffic Adsense safe?",answer:"Yes, our 'Breakthrough' and 'Agency' packages feature 100% Adsense safe traffic, filtered for high engagement and low bounce rates."},{question:"Can I target specific devices?",answer:"Absolutely. You can segment traffic by Desktop, Mobile (iOS/Android), and Tablet in the campaign settings."},{question:"Do you offer a money-back guarantee?",answer:"Yes. If we fail to deliver the purchased visitor count within 72 hours of the campaign start, you are eligible for a full refund."},{question:"Can I use the API for reselling?",answer:"Yes, our REST API is designed for agencies and resellers. You can programmatically create projects, check stats, and manage clients."},{question:"What is the difference between Bounce Rate and Return Rate?",answer:"Bounce Rate is the percentage of visitors who leave after one page. Return Rate is the percentage of visitors who come back to your site later. You can configure both."},{question:"How do I configure geolocation targeting?",answer:"In your project settings, simply select the countries you wish to target. For 'Agency' plans, you can specify individual cities."},{question:"Can I stop and restart my campaigns?",answer:"Yes, you have full control. You can pause, resume, or stop campaigns instantly from the dashboard at any time."}];return r.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans overflow-hidden",children:[r.jsxs(mg,{children:[r.jsx("title",{children:"Traffic Creator - Boost Your Website Traffic | Premium SEO Traffic Generator"}),r.jsx("meta",{name:"description",content:"Get high-quality, residential IP traffic to improve your SEO rankings and metrics. Fully compatible with GA4 and bypasses bot filters with randomized natural events."}),r.jsx("meta",{name:"keywords",content:"website traffic, boost traffic, SEO traffic, organic traffic, traffic generator, buy website traffic, traffic creator, website visitors, GA4 traffic"}),r.jsx("meta",{property:"og:title",content:"Traffic Creator - Boost Your Website Traffic"}),r.jsx("meta",{property:"og:description",content:"High-quality residential IP traffic for SEO boosting. Safe for GA4 and AdSense."}),r.jsx("meta",{property:"og:type",content:"website"}),r.jsx("meta",{property:"og:url",content:"http://localhost:3000/"}),r.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),r.jsx("meta",{name:"twitter:title",content:"Traffic Creator - Boost Your Website Traffic"}),r.jsx("meta",{name:"twitter:description",content:"Premium website traffic generator using residential IPs. Boost your SEO metrics safely."}),r.jsx("script",{type:"application/ld+json",children:JSON.stringify(h)}),r.jsx("script",{type:"application/ld+json",children:JSON.stringify(f)}),r.jsx("link",{rel:"icon",type:"image/svg+xml",href:"/favicon.svg"})]}),r.jsx("nav",{className:"border-b border-gray-100 bg-white/95 backdrop-blur-md sticky top-0 z-50 transition-all duration-300",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[r.jsx("span",{className:"text-2xl font-black text-[#ff4d00] tracking-tight group-hover:scale-105 transition-transform",children:"TRAFFIC"}),r.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),r.jsxs("div",{className:"flex items-center gap-8",children:[r.jsxs("div",{className:"hidden md:flex gap-8 text-sm font-bold uppercase tracking-wide text-gray-500",children:[r.jsx("a",{href:"#problem",className:"hover:text-[#ff4d00] transition-colors",children:"The Problem"}),r.jsx("a",{href:"#features",className:"hover:text-[#ff4d00] transition-colors",children:"Features"}),r.jsx("a",{href:"#pricing",className:"hover:text-[#ff4d00] transition-colors",children:"Pricing"})]}),r.jsx(Le,{to:"/login",className:"bg-black text-white px-6 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors shadow-md hover:shadow-lg flex items-center",children:"Dashboard Login"})]})]})}),r.jsxs("section",{className:"relative pt-32 pb-40 overflow-hidden bg-white",children:[r.jsx("div",{className:"absolute inset-0 z-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"40px 40px"}}),r.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-orange-100/40 rounded-full blur-3xl -translate-y-1/2 translate-x-1/3 z-0"}),r.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/5 border border-black/10 px-4 py-1.5 text-[10px] font-bold uppercase tracking-widest mb-8 rounded-full shadow-sm animate-in fade-in slide-in-from-bottom-4 backdrop-blur-sm",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-[#ff4d00] animate-pulse"})," Live Traffic Network Active"]}),r.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter leading-[0.9] mb-8 text-gray-900 animate-in fade-in slide-in-from-bottom-6",children:["DOMINATE",r.jsx("br",{}),r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-600",children:"SEARCH."})]}),r.jsxs("p",{className:"text-xl md:text-2xl text-gray-500 mb-10 max-w-lg leading-relaxed font-medium animate-in fade-in slide-in-from-bottom-8",children:["The world's first ",r.jsx("span",{className:"text-gray-900 font-bold",children:"intelligent traffic engine"}),". Boost SEO rankings with real residential visitors, certified purely organic by Google Analytics 4."]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 animate-in fade-in slide-in-from-bottom-10",children:[r.jsxs(Le,{to:"/signup",className:"group bg-[#ff4d00] text-white px-8 py-5 text-sm font-bold uppercase tracking-wider hover:bg-black transition-all shadow-[0_10px_40px_-10px_rgba(255,77,0,0.5)] hover:shadow-xl flex items-center justify-center gap-3 transform hover:-translate-y-1 rounded-sm",children:["Launch Campaign ",r.jsx(Ys,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),r.jsx(Le,{to:"/signup",className:"group bg-white border-2 border-gray-100 text-gray-900 px-8 py-5 text-sm font-bold uppercase tracking-wider hover:border-black transition-all transform hover:-translate-y-1 flex items-center justify-center rounded-sm",children:"View Live Demo"})]}),r.jsxs("div",{className:"mt-12 flex items-center gap-6 text-xs font-bold text-gray-400 uppercase tracking-widest animate-in fade-in slide-in-from-bottom-12",children:[r.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4].map(v=>r.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center text-[8px] overflow-hidden",children:r.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${v}`,alt:"User"})},v))}),r.jsx("div",{children:"Trusted by 2,000+ SEO Agencies"})]})]}),r.jsxs("div",{className:"relative flex items-center justify-center h-[600px] perspective-1000 animate-in fade-in duration-1000 lg:translate-x-10",children:[r.jsxs("div",{className:"relative w-96 h-96 animate-[spin_40s_linear_infinite] transform-style-3d",children:[r.jsx("div",{className:"absolute inset-0 rounded-full border border-gray-900/5"}),r.jsx("div",{className:"absolute inset-8 rounded-full border border-[#ff4d00]/20 transform rotate-12"}),r.jsx("div",{className:"absolute inset-16 rounded-full border border-[#ff4d00]/40 transform -rotate-12"}),r.jsx("div",{className:"absolute top-0 left-1/2 w-4 h-4 bg-[#ff4d00] rounded-full shadow-[0_0_20px_#ff4d00] -translate-x-1/2 -translate-y-1/2 animate-pulse"}),r.jsx("div",{className:"absolute bottom-0 left-1/2 w-3 h-3 bg-black rounded-full -translate-x-1/2 translate-y-1/2"}),r.jsx("div",{className:"absolute inset-24 bg-gradient-to-br from-orange-50 to-white rounded-full shadow-inner flex items-center justify-center border border-gray-100 backdrop-blur-sm",children:r.jsx(As,{className:"text-[#ff4d00] w-24 h-24 opacity-20 animate-pulse",strokeWidth:1})})]}),r.jsxs("div",{className:"absolute top-[20%] right-0 bg-white p-4 rounded-lg shadow-xl border border-gray-100 animate-[bounce_4s_infinite] max-w-[180px]",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("div",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Status"})]}),r.jsx("div",{className:"text-xl font-black text-gray-900",children:"+458%"}),r.jsx("div",{className:"text-[10px] text-gray-400",children:"Traffic Increase (7d)"})]}),r.jsxs("div",{className:"absolute bottom-[20%] left-0 bg-white p-4 rounded-lg shadow-xl border border-gray-100 animate-[bounce_5s_infinite] delay-1000 max-w-[180px]",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-[#ff4d00] rounded-full"}),r.jsx("div",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Live Users"})]}),r.jsx("div",{className:"text-xl font-black text-gray-900",children:"12,405"}),r.jsx("div",{className:"text-[10px] text-gray-400",children:"Active Sessions Now"})]})]})]})]}),r.jsx("section",{className:"bg-black py-10 overflow-hidden border-y border-gray-800",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center gap-8",children:[r.jsx("div",{className:"text-white text-xs font-bold uppercase tracking-widest whitespace-nowrap opacity-50",children:"Powering Leading Brands:"}),r.jsxs("div",{className:"flex-1 flex justify-between items-center gap-8 opacity-40 grayscale hover:grayscale-0 transition-all duration-500",children:[r.jsx("span",{className:"text-xl font-black text-white font-serif italic",children:"Vanguard."}),r.jsx("span",{className:"text-xl font-bold text-white tracking-widest",children:"NEXUS"}),r.jsx("span",{className:"text-xl font-bold text-white font-mono",children:"CODEBLOCK"}),r.jsxs("span",{className:"text-xl font-black text-white tracking-tighter",children:["turbo",r.jsx("span",{className:"text-[#ff4d00]",children:"boost"})]}),r.jsx("span",{className:"text-xl font-medium text-white",children:"Aperture Sci"})]})]})}),r.jsx("section",{id:"quick-campaign",className:"py-24 px-6 bg-orange-50/50",children:r.jsx(av,{})}),r.jsxs("section",{id:"problem",className:"bg-[#0a0a0a] py-32 px-6 border-y border-gray-900 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-gray-900 via-black to-[#1a1a1a] opacity-80"}),r.jsx("div",{className:"absolute top-0 left-1/2 w-[1000px] h-[1000px] bg-[#ff4d00] rounded-full blur-[120px] opacity-[0.03] -translate-x-1/2 -translate-y-1/2 pointer-events-none"}),r.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-20 items-center relative z-10",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-[#ff4d00] font-bold text-xs uppercase tracking-widest mb-4 flex items-center gap-2",children:[r.jsx(ua,{size:14})," Critical SEO Warning"]}),r.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-8 text-white leading-tight",children:["Is Your Website ",r.jsx("br",{}),r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-gray-500 to-gray-700",children:"Invisible?"})]}),r.jsxs("p",{className:"text-xl text-gray-400 leading-relaxed mb-10 font-light",children:["91% of content gets ",r.jsx("span",{className:"text-white font-bold",children:"zero traffic"})," from Google. Without active visitor signals, search algorithms deem your site irrelevant and bury it deep in the index."]}),r.jsx("div",{className:"space-y-6",children:[{title:"Low Domain Authority",desc:"Search engines trust sites with active user bases."},{title:"Poor Search Rankings",desc:"No clicks means no ranking improvements."},{title:"Zero Brand Visibility",desc:"Your competitors are taking your customers."},{title:"Stagnant Growth",desc:"Great content is useless if nobody sees it."}].map((v,k)=>r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full mt-2.5 shadow-[0_0_10px_#ff4d00]"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-bold text-sm uppercase tracking-wide mb-1",children:v.title}),r.jsx("div",{className:"text-gray-500 text-xs font-medium",children:v.desc})]})]},k))})]}),r.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border border-white/5 rounded-2xl bg-white/5 backdrop-blur-sm shadow-2xl relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#ff4d00]/5 to-transparent rounded-2xl"}),r.jsxs("div",{className:"relative w-72 h-72 rounded-full border border-white/10 bg-black flex items-center justify-center overflow-hidden mb-8 shadow-inner z-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-transparent via-[#ff4d00]/30 to-transparent animate-[spin_3s_linear_infinite]",style:{clipPath:"polygon(50% 50%, 100% 0, 100% 50%)"}}),r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),r.jsx("div",{className:"absolute w-3/4 h-3/4 border border-white/10 rounded-full"}),r.jsx("div",{className:"absolute w-1/2 h-1/2 border border-white/10 rounded-full"}),r.jsx("div",{className:"absolute w-1/4 h-1/4 border border-white/10 rounded-full"}),r.jsx("div",{className:"w-3 h-3 bg-red-600 rounded-full animate-ping shadow-[0_0_20px_#ff0000]"}),r.jsx("div",{className:"absolute bottom-1/2 translate-y-8 font-mono text-[10px] text-red-500 uppercase tracking-widest font-bold animate-pulse bg-black/80 px-2 py-1 rounded",children:"No Traffic Signal"})]}),r.jsxs("div",{className:"text-center space-y-2 relative z-10",children:[r.jsx("div",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Search Engine Void"}),r.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Crawlers are skipping your site due to inactivity."})]})]})]})]}),r.jsxs("section",{className:"py-32 px-6 bg-white relative overflow-hidden",children:[r.jsx("div",{className:"hidden lg:block absolute top-[50%] left-0 w-full h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent border-t border-dashed border-gray-300"}),r.jsxs("div",{className:"max-w-7xl mx-auto text-center mb-20 relative z-10",children:[r.jsx("div",{className:"inline-block bg-[#ff4d00] text-white text-[10px] font-bold uppercase tracking-widest px-3 py-1 mb-4 rounded-sm",children:"Modus Operations"}),r.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-4 text-gray-900",children:"The Traffic Injection Engine"}),r.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto text-lg leading-relaxed",children:"We bridge the gap between obscurity and authority by injecting high-quality, targeted traffic directly to your URLs."})]}),r.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12 relative z-10",children:[{title:"Target Identification",desc:"Input your URL. Our system analyzes your niche, keywords, and ideal geographic demographics.",icon:r.jsx(su,{className:"w-8 h-8 text-[#ff4d00]"})},{title:"Traffic Calibration",desc:"Configure behavior patterns, bounce rates, and session durations to match organic profiles.",icon:r.jsx($S,{className:"w-8 h-8 text-[#ff4d00]"})},{title:"Authority Surge",desc:"As consistent traffic flows, search engines validate your site, boosting DA and ranking position.",icon:r.jsx(Xi,{className:"w-8 h-8 text-[#ff4d00]"})}].map((v,k)=>r.jsxs("div",{className:"bg-white border border-gray-100 p-8 text-center hover:border-[#ff4d00] hover:shadow-2xl transition-all duration-300 group rounded-xl transform hover:-translate-y-2 relative",children:[r.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 w-12 h-12 bg-white border border-gray-100 rounded-full flex items-center justify-center text-xl font-black text-gray-300 group-hover:text-[#ff4d00] group-hover:border-[#ff4d00] transition-colors shadow-sm",children:k+1}),r.jsx("div",{className:"mt-8 mb-6 flex justify-center opacity-80 group-hover:scale-110 transition-transform duration-300",children:v.icon}),r.jsx("h3",{className:"text-lg font-black text-gray-900 mb-3 uppercase tracking-wide",children:v.title}),r.jsx("p",{className:"text-gray-500 text-sm leading-relaxed font-medium",children:v.desc})]},k))})]}),r.jsx("section",{id:"features",className:"py-32 px-6 bg-[#f8f9fa] border-y border-gray-200",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-20 gap-6",children:[r.jsxs("div",{className:"max-w-xl",children:[r.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-6 text-gray-900",children:"Enterprise Capabilities"}),r.jsx("div",{className:"w-20 h-1.5 bg-[#ff4d00] mb-6"}),r.jsx("p",{className:"text-gray-500 text-lg leading-relaxed",children:"Built for agencies and high-growth businesses. Our platform provides the granular control needed for complex SEO strategies."})]}),r.jsxs(Le,{to:"/signup",className:"hidden md:flex items-center gap-2 font-bold text-[#ff4d00] border-b-2 border-[#ff4d00] pb-1 hover:text-black hover:border-black transition-all uppercase tracking-widest text-xs",children:["View All Features ",r.jsx(Ys,{size:14})]})]}),r.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:g.map((v,k)=>r.jsx("div",{className:"bg-white p-8 border border-gray-100 hover:border-[#ff4d00] transition-all duration-300 group shadow-sm hover:shadow-xl rounded-xl flex flex-col justify-between h-full",children:r.jsxs("div",{children:[r.jsx("div",{className:"bg-gray-50 w-12 h-12 flex items-center justify-center mb-6 group-hover:bg-[#ff4d00] transition-colors rounded-lg text-[#ff4d00] group-hover:text-white shadow-inner",children:v.icon}),r.jsx("h3",{className:"text-sm font-black mb-3 uppercase tracking-wide text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:v.title}),r.jsx("p",{className:"text-gray-500 text-xs leading-relaxed font-medium",children:v.description})]})},k))}),r.jsx("div",{className:"mt-12 text-center md:hidden",children:r.jsxs(Le,{to:"/signup",className:"inline-flex items-center gap-2 font-bold text-[#ff4d00] border-b-2 border-[#ff4d00] pb-1 uppercase tracking-widest text-xs",children:["View All Features ",r.jsx(Ys,{size:14})]})})]})}),r.jsx("section",{id:"pricing",className:"py-32 px-6 bg-white border-b border-gray-100",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-6 text-gray-900",children:"Scalable Traffic Plans"}),r.jsx("p",{className:"text-gray-500 max-w-md mx-auto mb-10 font-medium text-lg",children:i==="business"?"One-time credits. No monthly commitment. Use them whenever you need a boost.":"High-volume monthly pools designed for agencies managing multiple clients."}),r.jsxs("div",{className:"inline-flex bg-gray-100 p-1.5 rounded-lg",children:[r.jsx("button",{onClick:()=>l("business"),className:`px-8 py-3 text-xs font-bold uppercase tracking-wider rounded-md transition-all ${i==="business"?"bg-white text-gray-900 shadow-md":"text-gray-500 hover:text-gray-900"}`,children:"For Business"}),r.jsx("button",{onClick:()=>l("agency"),className:`px-8 py-3 text-xs font-bold uppercase tracking-wider rounded-md transition-all ${i==="agency"?"bg-[#ff4d00] text-white shadow-md":"text-gray-500 hover:text-[#ff4d00]"}`,children:"For Agencies"})]})]}),i==="business"?r.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:[{name:"Foundation",traffic:"50,000",price:"29",desc:"Perfect for testing new landing pages and verifying analytics setup."},{name:"Momentum",traffic:"300,000",price:"129",desc:"Ideal for small business sites needing a consistent baseline."},{name:"Breakthrough",traffic:"1,000,000",price:"399",desc:"The growth standard. Sufficient data to impact domain authority.",featured:!0},{name:"Apex",traffic:"3,000,000+",price:"999",desc:"Maximum power for competitive niches and large e-commerce sites."}].map((v,k)=>r.jsxs("div",{className:`flex flex-col bg-white relative transition-all duration-300 rounded-2xl ${v.featured?"border-2 border-[#ff4d00] shadow-2xl scale-105 z-10":"border border-gray-100 hover:border-gray-200 hover:shadow-xl"} p-8`,children:[v.featured&&r.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-[#ff4d00] text-white px-4 py-1.5 text-[10px] font-bold uppercase tracking-widest shadow-md rounded-full",children:"Most Popular"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-2",children:v.name}),r.jsxs("div",{className:"flex items-baseline gap-1",children:[r.jsx("span",{className:"text-4xl font-black text-gray-900",children:v.price}),r.jsx("span",{className:"text-gray-400 text-xs font-medium uppercase",children:"/ lifetime"})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-center border border-gray-100",children:[r.jsx("div",{className:"text-sm font-bold text-gray-900",children:v.traffic}),r.jsx("div",{className:"text-[10px] uppercase text-gray-500 font-bold tracking-wide",children:"Traffic Credits"})]}),r.jsx("p",{className:"text-xs text-gray-500 font-medium mb-8 min-h-[40px] leading-relaxed",children:v.desc}),r.jsxs("ul",{className:"space-y-3 mb-8 flex-1 border-t border-gray-50 pt-6",children:[r.jsxs("li",{className:"text-xs text-gray-600 flex gap-2 font-medium",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-1"})," Full Feature Access"]}),r.jsxs("li",{className:"text-xs text-gray-600 flex gap-2 font-medium",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-1"})," Geo Targeting (Country)"]}),r.jsxs("li",{className:"text-xs text-gray-600 flex gap-2 font-medium",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-1"})," Mobile/Desktop Split"]})]}),r.jsx(Le,{to:"/signup",className:`w-full py-4 text-xs font-bold uppercase tracking-widest transition-all text-center rounded-lg ${v.featured?"bg-[#ff4d00] text-white hover:bg-black shadow-lg hover:shadow-xl":"bg-black text-white hover:bg-gray-800"}`,children:"Select Plan"})]},k))}):r.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[{name:"Agency Pro",traffic:"5 Million",price:"1,249",features:["Client Dashboard","Traffic Pooling","Priority Support"]},{name:"Agency Scale",traffic:"15 Million",price:"2,999",featured:!0,features:["Client Dashboard","Traffic Pooling","White-Label Reports","Dedicated Manager"]},{name:"Agency Enterprise",traffic:"50 Million+",price:"Custom",features:["Everything in Scale","Full API Access","Custom Integrations","Strategy Calls"]}].map((v,k)=>r.jsxs("div",{className:`flex flex-col bg-white relative transition-all duration-300 rounded-2xl ${v.featured?"border-2 border-[#ff4d00] shadow-2xl z-10 scale-105":"border border-gray-100 hover:shadow-xl"} p-10`,children:[v.featured&&r.jsx("div",{className:"absolute top-0 right-10 -translate-y-1/2 bg-[#ff4d00] text-white px-4 py-1 text-[10px] font-bold uppercase tracking-widest rounded-full",children:"Top Value"}),r.jsx("h3",{className:"text-lg font-black uppercase tracking-tight text-gray-900 mb-2",children:v.name}),r.jsx("div",{className:"text-4xl font-black text-gray-900 mb-2",children:v.price}),r.jsxs("div",{className:"text-sm font-bold text-gray-500 mb-8 pb-4 border-b border-gray-100",children:["Monthly Pool: ",r.jsx("span",{className:"text-black",children:v.traffic})]}),r.jsx("ul",{className:"space-y-4 mb-10 flex-1",children:v.features.map((I,R)=>r.jsxs("li",{className:"text-sm text-gray-600 flex items-center gap-3 font-medium",children:[r.jsx(QS,{size:16,className:"text-[#ff4d00]"})," ",I]},R))}),r.jsx(Le,{to:"/signup",className:"w-full bg-black text-white py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors shadow-lg text-center rounded-lg",children:v.price==="Custom"?"Contact Sales team":"Start Subscription"})]},k))})]})}),r.jsx("section",{className:"py-32 px-6 bg-[#f8f9fa] border-t border-gray-200",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-20 text-center",children:[r.jsx("div",{className:"text-[#ff4d00] text-xs font-bold uppercase tracking-widest mb-2",children:"Real Results"}),r.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight text-gray-900",children:"Proven Performance"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:y.map((v,k)=>r.jsxs("div",{className:"bg-white border border-gray-100 p-8 hover:border-[#ff4d00] transition-all group hover:shadow-xl rounded-xl",children:[r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsx("div",{className:"opacity-80 group-hover:opacity-100 transition-opacity text-[#ff4d00] bg-orange-50 w-12 h-12 flex items-center justify-center rounded-lg",children:v.icon}),r.jsx("div",{className:"bg-green-100 text-green-700 px-2 py-1 text-[10px] font-bold uppercase tracking-wide rounded-sm",children:"Verified"})]}),r.jsx("div",{className:"text-3xl font-black text-gray-900 mb-2 group-hover:text-[#ff4d00] transition-colors",children:v.metric}),r.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide text-gray-400 mb-4",children:v.title}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-medium",children:v.desc})]},k))})]})}),r.jsxs("section",{className:"py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/0 via-black/0 to-black/20"}),r.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[r.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white tracking-tighter mb-8 leading-[0.9]",children:["READY TO BREAK",r.jsx("br",{}),"THE INTERNET?"]}),r.jsx("p",{className:"text-white/90 text-xl font-medium mb-12 max-w-2xl mx-auto",children:"Join 5,000+ marketers driving millions of visitors today. No contracts. Instant delivery."}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-6",children:[r.jsx(Le,{to:"/signup",className:"bg-black text-white px-10 py-5 text-sm font-bold uppercase tracking-widest hover:scale-105 transition-transform shadow-xl rounded-sm border-2 border-transparent hover:border-white",children:"Get Started Now"}),r.jsx(Le,{to:"/signup",className:"bg-white text-[#ff4d00] px-10 py-5 text-sm font-bold uppercase tracking-widest hover:scale-105 transition-transform shadow-xl rounded-sm",children:"Talk to Sales"})]})]})]}),r.jsx("section",{id:"faq",className:"py-32 px-6 bg-[#f9fafb]",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h2",{className:"text-3xl font-black uppercase tracking-tight mb-16 text-center text-gray-900",children:"Questions?"}),r.jsx("div",{className:"space-y-4",children:b.map((v,k)=>r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[r.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left",onClick:()=>u(k),children:[r.jsx("span",{className:"font-bold text-gray-900",children:v.question}),t===k?r.jsx(FS,{size:20,className:"text-[#ff4d00]"}):r.jsx(Zb,{size:20,className:"text-gray-400"})]}),t===k&&r.jsx("div",{className:"px-6 pb-6 text-gray-600 leading-relaxed text-sm animate-in fade-in slide-in-from-top-2 border-t border-gray-100 pt-4",children:v.answer})]},k))})]})}),r.jsx("footer",{className:"bg-black text-white py-16 px-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[r.jsx("div",{className:"text-2xl font-black text-white tracking-tight",children:"TRAFFIC CREATOR"}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-8 text-xs font-bold uppercase tracking-widest text-gray-500 text-center md:text-left",children:[r.jsx(Le,{to:"/blog",className:"hover:text-white uppercase",children:"Blog"}),r.jsx(Le,{to:"/helpdesk",className:"hover:text-white uppercase",children:"Help Center"}),r.jsx(Le,{to:"/legal/refund",className:"hover:text-white uppercase",children:"Refund Policy"}),r.jsx(Le,{to:"/legal/privacy",className:"hover:text-white uppercase",children:"Privacy Policy"}),r.jsx(Le,{to:"/legal/terms",className:"hover:text-white uppercase",children:"Terms of Service"})]}),r.jsx("div",{className:"text-xs text-gray-600",children:" 2025 Traffic Creator Inc."})]})})]})},Q5=({onLogin:n,onNavigate:e})=>{const[t,s]=S.useState(!1),i={"@context":"https://schema.org","@type":"Product",name:"Organic Website Traffic Generator",description:"Premium organic traffic service to boost SEO rankings and manipulate CTS with real residential IPs.",brand:{"@type":"Brand",name:"Traffic Creator"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.9",reviewCount:"1250"}},l=[{icon:r.jsx(Sr,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Boost Organic CTR",desc:"Our visitors search for your keywords and click your result, signaling high relevance to search algorithms."},{icon:r.jsx(Yn,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Increase Dwell Time",desc:"Visitors stay on your site for minutes, scroll through content, and interact, drastically reducing bounce rates."},{icon:r.jsx(As,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Local SEO Dominance",desc:"Target traffic from specific cities or regions to rank higher in local search results and map packs."},{icon:r.jsx(pl,{className:"w-6 h-6 text-[#ff4d00]"}),title:"100% Human Behavior",desc:"Mouse movements, scrolling, and clicks are randomized to mimic real human interaction perfectly."}],u=[{feature:"Traffic Source",us:"Real Residential IPs",them:"Data Center Proxies"},{feature:"Behavior",us:"Scrolls, Clicks, Reads",them:"Static Hits"},{feature:"Google Analytics",us:"100% Recognized",them:"Often Filtered / Bot"},{feature:"Effect on SEO",us:"Positive Ranking Signal",them:"Neutral or Negative"},{feature:"AdSense Safe",us:"Yes, Verified",them:"High Risk of Ban"}];return r.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans overflow-x-hidden",children:[r.jsxs(mg,{children:[r.jsx("title",{children:"Buy Organic Website Traffic | Boost SEO Rankings & CTR"}),r.jsx("meta",{name:"description",content:"Generate high-quality organic website traffic to improve SERP rankings. Real residential IPs, keyword targeting, and natural user behavior for SEO professionals."}),r.jsx("meta",{name:"keywords",content:"organic website traffic, buy organic traffic, seo traffic, ctr manipulation, boost rankings, real website visitors"}),r.jsx("link",{rel:"icon",type:"image/svg+xml",href:"/favicon.svg"}),r.jsx("script",{type:"application/ld+json",children:JSON.stringify(i)})]}),r.jsx("nav",{className:"fixed w-full top-0 z-50 transition-all duration-300 bg-white/95 backdrop-blur-md border-b border-gray-100/50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[r.jsx("span",{className:"text-2xl font-black text-[#ff4d00] tracking-tight group-hover:scale-105 transition-transform",children:"TRAFFIC"}),r.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),r.jsxs("div",{className:"flex items-center gap-8",children:[r.jsxs("div",{className:"hidden md:flex gap-8 text-sm font-bold uppercase tracking-wide text-gray-500",children:[r.jsxs("a",{href:"#how-it-works",className:"hover:text-[#ff4d00] transition-colors relative group",children:["How It Works",r.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]}),r.jsxs("a",{href:"#benefits",className:"hover:text-[#ff4d00] transition-colors relative group",children:["Features",r.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]}),r.jsxs(Le,{to:"/pricing",className:"hover:text-[#ff4d00] transition-colors relative group",children:["Pricing",r.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]})]}),r.jsx(Le,{to:"/login",className:"bg-black text-white px-6 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-all shadow-md hover:shadow-lg hover:-translate-y-0.5 flex items-center rounded-sm",children:"Dashboard Login"})]})]})}),r.jsxs("section",{className:"pt-32 pb-32 px-6 relative overflow-hidden bg-white",children:[r.jsx("div",{className:"absolute top-0 right-0 w-[50%] h-[50%] bg-gradient-to-b from-orange-50/50 to-transparent pointer-events-none rounded-bl-[100px]"}),r.jsx("div",{className:"absolute top-40 left-10 w-4 h-4 rounded-full bg-orange-200 animate-pulse"}),r.jsx("div",{className:"absolute top-60 right-20 w-3 h-3 rounded-full bg-blue-200 animate-bounce delay-700"}),r.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-16 items-center relative z-10",children:[r.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-700",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-50 text-[#ff4d00] border border-orange-100 px-4 py-2 text-xs font-bold uppercase tracking-widest mb-8 rounded-full shadow-sm hover:shadow-md transition-shadow cursor-default",children:[r.jsx(Xn,{size:14,className:"fill-[#ff4d00]"})," SEO Intelligence Engine"]}),r.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tight leading-[0.9] mb-8 text-gray-900",children:["DOMINATE ",r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"ORGANIC"}),r.jsx("br",{}),"SEARCH RESULTS."]}),r.jsx("p",{className:"text-xl text-gray-500 mb-10 max-w-lg leading-relaxed font-medium",children:"The only organic website traffic generator designed for SEO professionals. Manipulate CTR, increase dwell time, and signal authority to Google."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs(Le,{to:"/signup",className:"group bg-[#ff4d00] text-white px-8 py-4 text-sm font-bold uppercase tracking-wider hover:bg-black transition-all shadow-xl hover:shadow-2xl flex items-center justify-center gap-3 rounded-sm transform hover:-translate-y-1",children:["Launch SEO Campaign",r.jsx(Ys,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),r.jsxs("a",{href:"#demo",className:"bg-white border border-gray-200 text-gray-900 px-8 py-4 text-sm font-bold uppercase tracking-wider hover:border-[#ff4d00] hover:text-[#ff4d00] transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2 rounded-sm group",children:[r.jsx(sv,{size:16,className:"group-hover:fill-[#ff4d00]"})," View Live Demo"]})]}),r.jsxs("div",{className:"mt-8 flex items-center gap-4 text-xs font-bold text-gray-400 uppercase tracking-widest",children:[r.jsx("span",{children:"Used by 15,000+ SEO Agencies"}),r.jsxs("div",{className:"flex -space-x-2",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white"}),r.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-300 border-2 border-white"}),r.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-400 border-2 border-white"})]})]})]}),r.jsxs("div",{className:"relative h-[550px] perspective-1000 group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-gray-100 to-gray-50 transform rotate-6 scale-95 opacity-50 rounded-2xl border border-gray-100 transition-transform duration-700 group-hover:rotate-3 group-hover:scale-95"}),r.jsxs("div",{className:"absolute inset-0 bg-white border border-gray-200 shadow-2xl rounded-2xl p-6 overflow-hidden transform transition-transform duration-700 group-hover:-translate-y-2 hover:shadow-[0_20px_50px_rgba(0,0,0,0.1)]",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent z-10 pointer-events-none"}),r.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-6 flex gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400/80"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400/80"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400/80"}),r.jsxs("div",{className:"ml-6 bg-gray-100 rounded-lg h-5 w-64 flex items-center px-2",children:[r.jsx(Oa,{size:10,className:"text-gray-400 mr-2"}),r.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-sm"})]})]}),r.jsx("div",{className:"space-y-6",children:[1,2,3].map(h=>r.jsxs("div",{className:`p-5 rounded-lg border transition-all duration-500 hover:shadow-lg cursor-default relative overflow-hidden ${h===1?"border-[#ff4d00]/20 bg-orange-50/30":"border-gray-50 bg-white"}`,children:[h===1&&r.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-[#ff4d00]"}),r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-[10px] font-bold text-gray-500",children:h===1?"TC":"Ad"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-sm mb-1"}),r.jsx("div",{className:"w-48 h-2 bg-gray-100 rounded-sm"})]})]}),r.jsx("div",{className:`w-3/4 h-5 rounded-sm mb-3 ${h===1?"bg-gradient-to-r from-[#ff4d00] to-orange-400":"bg-blue-100"}`}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-sm"}),r.jsx("div",{className:"w-5/6 h-2 bg-gray-100 rounded-sm"})]}),h===1&&r.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[#ff4d00] text-xs font-bold uppercase tracking-wider animate-pulse",children:[r.jsx(Xi,{size:12})," Rank #1  CTR Boost Active"]})]},h))}),r.jsxs("div",{className:"absolute bottom-6 right-6 bg-gray-900/95 backdrop-blur-md text-white p-5 rounded-xl shadow-2xl z-20 border border-gray-800 animate-in fade-in slide-in-from-bottom-4 delay-300",children:[r.jsxs("div",{className:"text-[10px] font-bold uppercase tracking-widest text-[#ff4d00] mb-2 flex items-center gap-2",children:[r.jsx($a,{size:12})," Performance"]}),r.jsx("div",{className:"text-4xl font-black mb-1",children:"18.4%"}),r.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"Organic CTR (7 Days)"}),r.jsx("div",{className:"w-full bg-gray-800 h-1 mt-3 rounded-full overflow-hidden",children:r.jsx("div",{className:"w-[70%] h-full bg-[#ff4d00]"})})]})]})]})]})]}),r.jsx("section",{id:"demo",className:"py-24 px-6 bg-white",children:r.jsx(av,{})}),r.jsx("section",{id:"benefits",className:"py-32 px-6 bg-white relative",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-24",children:[r.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-6",children:"Why Rank #1?"}),r.jsx("div",{className:"w-16 h-1.5 bg-[#ff4d00] mx-auto mb-8 rounded-full"}),r.jsxs("p",{className:"text-gray-500 max-w-2xl mx-auto text-lg leading-relaxed",children:["Search algorithms are evolving. Backlinks aren't enough. You need ",r.jsx("span",{className:"text-gray-900 font-bold",children:"User Signals"}),". Traffic Creator generates the perfect dwell time, scroll depth, and interaction metrics."]})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12",children:l.map((h,f)=>r.jsxs("div",{className:"flex gap-8 p-10 border border-gray-100 hover:border-[#ff4d00]/30 bg-white hover:bg-orange-50/20 shadow-sm hover:shadow-xl transition-all duration-300 group rounded-2xl relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 w-1 h-0 bg-[#ff4d00] group-hover:h-full transition-all duration-300"}),r.jsx("div",{className:"shrink-0",children:r.jsx("div",{className:"bg-orange-50 w-16 h-16 flex items-center justify-center rounded-2xl group-hover:bg-[#ff4d00] group-hover:rotate-6 transition-all duration-300 text-[#ff4d00] group-hover:text-white shadow-sm",children:h.icon})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 group-hover:text-[#ff4d00] transition-colors",children:h.title}),r.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:h.desc})]})]},f))})]})}),r.jsx("section",{className:"py-32 px-6 bg-[#f9fafb] border-t border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-20 items-center",children:[r.jsxs("div",{className:"space-y-12",children:[r.jsxs("div",{className:"pl-8 border-l-2 border-gray-200 hover:border-[#ff4d00] transition-colors duration-300",children:[r.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4 flex items-center gap-3",children:[r.jsx(su,{className:"text-[#ff4d00]",size:24})," Keyword Targeting"]}),r.jsx("p",{className:"text-gray-500 text-lg leading-relaxed font-medium",children:"Don't just send traffic to a URL. Our system mimics a user searching for your specific keywords on Google, finding your result, and clicking it. This is the ultimate signal for relevance."})]}),r.jsxs("div",{className:"pl-8 border-l-2 border-gray-200 hover:border-[#ff4d00] transition-colors duration-300",children:[r.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4 flex items-center gap-3",children:[r.jsx(E3,{className:"text-[#ff4d00]",size:24})," Complex Journeys"]}),r.jsx("p",{className:"text-gray-500 text-lg leading-relaxed font-medium",children:"Define multi-page paths. Visitors land on your blog post, read for 60 seconds, click to your pricing page, and then visit your contact form."})]})]}),r.jsxs("div",{className:"bg-[#111] text-gray-300 p-2 rounded-xl shadow-2xl relative overflow-hidden group",children:[r.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-gray-800 bg-[#151515] rounded-t-lg",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),r.jsxs("div",{className:"text-xs font-mono text-gray-500 ml-4 flex items-center gap-2",children:[r.jsx($S,{size:12})," campaign_config.json"]})]}),r.jsxs("div",{className:"p-8 font-mono text-xs md:text-sm leading-relaxed overflow-x-auto",children:[r.jsx("div",{className:"opacity-50 mb-4 text-[10px] uppercase tracking-widest",children:"// Traffic Configuration"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-purple-400",children:"const"})," ",r.jsx("span",{className:"text-blue-400",children:"campaign"})," = ","{"]}),r.jsxs("div",{className:"pl-4",children:[r.jsx("span",{className:"text-gray-400",children:"target:"})," ",r.jsx("span",{className:"text-green-400",children:'"Top 3 Positions"'}),","]}),r.jsxs("div",{className:"pl-4",children:[r.jsx("span",{className:"text-gray-400",children:"keywords:"})," ["]}),r.jsx("div",{className:"pl-8 text-orange-300",children:'"ranking boost services",'}),r.jsx("div",{className:"pl-8 text-orange-300",children:'"buy organic traffic",'}),r.jsx("div",{className:"pl-8 text-orange-300",children:'"seo ctr manipulation"'}),r.jsx("div",{className:"pl-4",children:"],"}),r.jsxs("div",{className:"pl-4",children:[r.jsx("span",{className:"text-gray-400",children:"behavior:"})," ","{"]}),r.jsxs("div",{className:"pl-8",children:[r.jsx("span",{className:"text-blue-300",children:"timeOnPage:"})," ",r.jsx("span",{className:"text-yellow-300",children:'"185s"'}),","]}),r.jsxs("div",{className:"pl-8",children:[r.jsx("span",{className:"text-blue-300",children:"scrollDepth:"})," ",r.jsx("span",{className:"text-yellow-300",children:'"85%"'}),","]}),r.jsxs("div",{className:"pl-8",children:[r.jsx("span",{className:"text-blue-300",children:"bounceRate:"})," ",r.jsx("span",{className:"text-yellow-300",children:'"12%"'})]}),r.jsx("div",{className:"pl-4",children:"}"}),r.jsxs("div",{children:["}",";"]}),r.jsxs("div",{className:"mt-6 flex items-center gap-2 text-green-500 text-[10px] font-bold uppercase tracking-widest",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})," compiler ready"]})]})]})]})})}),r.jsx("section",{className:"py-32 px-6 bg-white",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl font-black uppercase tracking-tight mb-4",children:"Quality Matters"}),r.jsx("p",{className:"text-gray-500",children:"Don't risk your domain authority with cheap bot traffic."})]}),r.jsxs("div",{className:"bg-white shadow-[0_10px_60px_rgba(0,0,0,0.05)] rounded-2xl overflow-hidden border border-gray-100",children:[r.jsxs("div",{className:"grid grid-cols-3 bg-gray-900 text-white p-6 text-xs font-bold uppercase tracking-widest",children:[r.jsx("div",{className:"pl-4",children:"Feature"}),r.jsxs("div",{className:"text-[#ff4d00] flex items-center gap-2",children:[r.jsx(Xn,{size:14,className:"fill-[#ff4d00]"})," Traffic Creator"]}),r.jsx("div",{className:"text-gray-500",children:"Cheap Bots"})]}),r.jsx("div",{className:"divide-y divide-gray-50",children:u.map((h,f)=>r.jsxs("div",{className:"grid grid-cols-3 p-6 items-center text-sm font-medium hover:bg-gray-50 transition-colors group",children:[r.jsxs("div",{className:"font-bold text-gray-900 flex items-center gap-3 pl-4",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 group-hover:bg-[#ff4d00] transition-colors"}),h.feature]}),r.jsxs("div",{className:"flex items-center gap-3 text-[#ff4d00] font-bold bg-orange-50/50 -my-6 py-6 border-x border-orange-100/50",children:[r.jsx(oa,{size:18,className:"ml-4"})," ",h.us]}),r.jsxs("div",{className:"text-gray-400 flex items-center gap-3 pl-4",children:[r.jsx(Ha,{size:16})," ",h.them]})]},f))})]})]})}),r.jsxs("section",{className:"py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),r.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[r.jsx("h2",{className:"text-5xl md:text-7xl font-black uppercase tracking-tight mb-8 text-white",children:"Start Ranking Now"}),r.jsx("p",{className:"text-xl text-white/90 mb-12 font-medium max-w-2xl mx-auto",children:"Your competitors are already doing it. Level the playing field with the world's most advanced organic traffic generator."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[r.jsxs(Le,{to:"/signup",className:"bg-white text-black px-12 py-5 text-sm font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-all shadow-2xl flex items-center justify-center gap-3 rounded-sm transform hover:-translate-y-1",children:["Start Free Trial ",r.jsx(Ys,{size:18})]}),r.jsx(Le,{to:"/pricing",className:"bg-transparent border-2 border-white text-white px-12 py-5 text-sm font-bold uppercase tracking-wider hover:bg-white hover:text-[#ff4d00] transition-all rounded-sm flex items-center justify-center",children:"View Pricing"})]}),r.jsx("div",{className:"mt-12 text-white/60 text-xs font-bold uppercase tracking-widest",children:"No Credit Card Required for Trial  100% Secure  Cancel Anytime"})]})]}),r.jsxs("footer",{className:"bg-black text-white py-20 px-6 border-t border-gray-900",children:[r.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-4 gap-12",children:[r.jsxs("div",{className:"col-span-2",children:[r.jsx("div",{className:"text-3xl font-black text-white tracking-tight mb-6",children:"TRAFFIC CREATOR"}),r.jsx("p",{className:"text-gray-500 max-w-sm mb-8",children:"The industry standard for SEO traffic generation. We help agencies and site owners improve their search visibility signals safely."}),r.jsx("div",{className:"flex gap-4",children:[1,2,3,4].map(h=>r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-900 flex items-center justify-center text-gray-500 hover:bg-[#ff4d00] hover:text-white transition-colors cursor-pointer",children:r.jsx(As,{size:16})},h))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Platform"}),r.jsxs("ul",{className:"space-y-4 text-sm font-medium text-gray-300",children:[r.jsx("li",{children:r.jsx(Le,{to:"/how-it-works",className:"hover:text-[#ff4d00] transition-colors",children:"How it Works"})}),r.jsx("li",{children:r.jsx(Le,{to:"/pricing",className:"hover:text-[#ff4d00] transition-colors",children:"Pricing"})}),r.jsx("li",{children:r.jsx(Le,{to:"/login",className:"hover:text-[#ff4d00] transition-colors",children:"Dashboard"})}),r.jsx("li",{children:r.jsx(Le,{to:"/affiliate",className:"hover:text-[#ff4d00] transition-colors",children:"Affiliate Program"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Company"}),r.jsxs("ul",{className:"space-y-4 text-sm font-medium text-gray-300",children:[r.jsx("li",{children:r.jsx(Le,{to:"/blog",className:"hover:text-[#ff4d00] transition-colors",children:"SEO Blog"})}),r.jsx("li",{children:r.jsx(Le,{to:"/helpdesk",className:"hover:text-[#ff4d00] transition-colors",children:"Help Center"})}),r.jsx("li",{children:r.jsx(Le,{to:"/legal/privacy",className:"hover:text-[#ff4d00] transition-colors",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx(Le,{to:"/legal/terms",className:"hover:text-[#ff4d00] transition-colors",children:"Terms of Service"})})]})]})]}),r.jsxs("div",{className:"max-w-7xl mx-auto mt-20 pt-8 border-t border-gray-900 flex justify-between items-center text-xs text-gray-600",children:[r.jsx("div",{children:" 2025 Traffic Creator Inc. All rights reserved."}),r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),r.jsx("span",{children:"Systems Operational"})]})]})]})]})},J5=({onLogin:n,onNavigate:e})=>{const[t,s]=S.useState(!1);return S.useEffect(()=>{const i=()=>s(window.scrollY>50);return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),r.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] text-gray-900 font-sans selection:bg-[#ff4d00] selection:text-white",children:[r.jsxs(mg,{children:[r.jsx("title",{children:"Traffic Creator - The Modern Way to Grow"}),r.jsx("meta",{name:"description",content:"Generate real, organic website traffic with our premium platform. Boost SEO, improve metrics, and grow your digital presence."}),r.jsx("link",{rel:"icon",type:"image/svg+xml",href:"/favicon.svg"})]}),r.jsx("nav",{className:`fixed w-full z-50 transition-all duration-300 ${t?"top-4":"top-0"}`,children:r.jsx("div",{className:`max-w-7xl mx-auto px-6 ${t?"py-4":"py-6"}`,children:r.jsxs("div",{className:`
            flex items-center justify-between px-6 py-3 rounded-2xl transition-all duration-300
            ${t?"bg-white/80 backdrop-blur-xl shadow-lg border border-gray-100":"bg-transparent"}
          `,children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[r.jsx("div",{className:"w-8 h-8 bg-black rounded-lg flex items-center justify-center text-white font-black text-xs",children:"TC"}),r.jsx("span",{className:"font-bold text-lg tracking-tight",children:"TrafficCreator"})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm font-medium text-gray-600",children:[r.jsx("a",{href:"#features",className:"hover:text-black transition-colors",children:"Features"}),r.jsx("a",{href:"#how-it-works",className:"hover:text-black transition-colors",children:"How it Works"}),r.jsx("a",{href:"#pricing",className:"hover:text-black transition-colors",children:"Pricing"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Le,{to:"/login",className:"text-sm font-bold hover:text-[#ff4d00] transition-colors hidden sm:block",children:"Log in"}),r.jsx(Le,{to:"/signup",className:"bg-black text-white px-5 py-2.5 rounded-xl text-sm font-bold hover:bg-[#ff4d00] hover:scale-105 transition-all shadow-xl shadow-orange-500/10",children:"Get Started"})]})]})})}),r.jsx("section",{className:"pt-40 pb-20 px-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-24",children:[r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-50 border border-orange-100 text-[#ff4d00] text-xs font-bold uppercase tracking-wider animate-in fade-in slide-in-from-bottom-4",children:[r.jsx(JS,{size:12,className:"fill-[#ff4d00]"}),"Trusted by 15,000+ Marketers"]}),r.jsxs("h1",{className:"text-6xl md:text-7xl font-black tracking-tight leading-[1] text-gray-900 animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100",children:["Traffic that ",r.jsx("br",{}),r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"actually converts."})]}),r.jsx("p",{className:"text-xl text-gray-500 max-w-lg leading-relaxed animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:"Stop relying on unpredictable algorithms. Take control of your website traffic with our residential network of real visitors."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 animate-in fade-in slide-in-from-bottom-10 duration-700 delay-300",children:[r.jsxs(Le,{to:"/signup",className:"bg-[#ff4d00] text-white px-8 py-4 rounded-2xl text-base font-bold hover:bg-black transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 flex items-center justify-center gap-2",children:["Start Free Trial ",r.jsx(Ys,{size:18})]}),r.jsxs("a",{href:"#how-it-works",className:"bg-white border border-gray-200 text-gray-900 px-8 py-4 rounded-2xl text-base font-bold hover:bg-gray-50 transition-all flex items-center justify-center gap-2",children:[r.jsx(sv,{size:18,className:"fill-gray-900"})," Watch Demo"]})]})]}),r.jsxs("div",{className:"relative h-[600px] w-full animate-in fade-in zoom-in duration-1000 delay-200",children:[r.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-gradient-to-bl from-orange-200/40 to-pink-200/40 rounded-full blur-3xl opacity-50"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-gradient-to-tr from-blue-200/40 to-green-200/40 rounded-full blur-3xl opacity-50"}),r.jsxs("div",{className:"absolute top-10 right-10 left-10 bottom-10",children:[r.jsxs("div",{className:"absolute top-0 right-0 w-72 bg-white rounded-3xl shadow-[0_30px_60px_-15px_rgba(0,0,0,0.1)] p-6 border border-gray-100 z-30 transform hover:scale-105 transition-transform duration-500",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("div",{className:"w-10 h-10 rounded-2xl bg-orange-50 flex items-center justify-center text-[#ff4d00]",children:r.jsx(Xi,{size:20})}),r.jsx("span",{className:"text-green-500 text-xs font-bold bg-green-50 px-2 py-1 rounded-full",children:"+124%"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-3xl font-black text-gray-900",children:"42.8k"}),r.jsx("div",{className:"text-sm text-gray-400 font-medium",children:"Monthly Visitors"})]}),r.jsx("div",{className:"mt-6 h-16 flex items-end gap-1",children:[40,60,45,70,85,65,90].map((i,l)=>r.jsx("div",{style:{height:`${i}%`},className:`flex-1 rounded-t-sm ${l===6?"bg-[#ff4d00]":"bg-gray-100"}`},l))})]}),r.jsxs("div",{className:"absolute bottom-10 left-0 w-80 bg-black text-white rounded-3xl shadow-2xl p-6 z-20 transform hover:-translate-y-2 transition-transform duration-500",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Live Traffic"}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),r.jsx("span",{className:"text-xs font-bold text-gray-300",children:"Active"})]})]}),r.jsx("div",{className:"space-y-4",children:["United States","Germany","United Kingdom"].map((i,l)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(As,{size:14,className:"text-gray-500"}),r.jsx("span",{className:"text-sm font-bold",children:i})]}),r.jsx("div",{className:"w-24 bg-gray-800 h-1.5 rounded-full overflow-hidden",children:r.jsx("div",{className:"bg-[#ff4d00] h-full",style:{width:`${80-l*20}%`}})})]},l))})]}),r.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 bg-white/60 backdrop-blur-xl border border-white/50 p-4 rounded-2xl shadow-xl z-10 flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-purple-500"}),r.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white p-1 rounded-full",children:r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full border-2 border-white"})})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Real Human"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Session: 2m 45s"})]})]})]})]})]})})}),r.jsx("section",{id:"features",className:"py-24 px-6 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-16 px-4",children:[r.jsx("span",{className:"text-[#ff4d00] font-bold tracking-wider uppercase text-xs mb-4 block",children:"Platform Capability"}),r.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-6",children:"Everything you need to grow."}),r.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto",children:"We've built the most advanced organic traffic generation engine on the market."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[300px]",children:[r.jsxs("div",{className:"md:col-span-2 bg-[#F5F5F7] rounded-3xl p-8 relative overflow-hidden group hover:shadow-xl transition-all duration-300",children:[r.jsxs("div",{className:"relative z-10 max-w-md",children:[r.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-[#ff4d00]",children:r.jsx(su,{size:24})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Precision Targeting"}),r.jsx("p",{className:"text-gray-500 font-medium",children:"Target by keyword, country, device, and even specific browser behavior. Our AI ensures every visitor matches your ideal profile."})]}),r.jsx("div",{className:"absolute right-0 bottom-0 w-1/2 h-full opacity-50 group-hover:scale-105 transition-transform duration-500",children:r.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[r.jsx("circle",{cx:"150",cy:"150",r:"100",fill:"#ff4d00",fillOpacity:"0.1"}),r.jsx("circle",{cx:"100",cy:"180",r:"80",fill:"#ff4d00",fillOpacity:"0.1"})]})})]}),r.jsxs("div",{className:"md:row-span-2 bg-black text-white rounded-3xl p-8 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-gradient-to-b from-gray-800/50 to-black pointer-events-none"}),r.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-2xl flex items-center justify-center mb-6 text-white border border-gray-700",children:r.jsx(pl,{size:24})}),r.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Residential IPs"}),r.jsx("p",{className:"text-gray-400 font-medium leading-relaxed",children:"We route all traffic through real residential networks. No data center IPs, no bot flags. Just pure, organic-looking traffic."})]}),r.jsxs("div",{className:"bg-gray-900/50 rounded-2xl p-4 border border-gray-800 mt-8 backdrop-blur-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),r.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"System Status"})]}),r.jsx("div",{className:"text-lg font-mono text-green-400",children:"100% Undetectable"})]})]})]}),r.jsxs("div",{className:"bg-[#FFF1EB] rounded-3xl p-8 group hover:shadow-xl transition-all duration-300",children:[r.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-[#ff4d00]",children:r.jsx(Xn,{size:24})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Instant Delivery"}),r.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Start receiving visitors within 60 seconds of launching your campaign."})]}),r.jsxs("div",{className:"bg-[#F0F9FF] rounded-3xl p-8 group hover:shadow-xl transition-all duration-300",children:[r.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-blue-500",children:r.jsx(lh,{size:24})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"GA4 Native"}),r.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Designed specifically to register correctly in Google Analytics 4 reports."})]})]})]})}),r.jsx("section",{className:"py-32 px-6 bg-white",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx(av,{})})}),r.jsx("section",{className:"py-32 px-6 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h2",{className:"text-5xl font-black text-gray-900 mb-8 tracking-tight",children:"Ready to break the internet?"}),r.jsx("p",{className:"text-xl text-gray-500 mb-12 max-w-xl mx-auto",children:"Join the thousands of marketers using Traffic Creator to gain an unfair advantage."}),r.jsxs("div",{className:"flex flex-col items-center gap-6",children:[r.jsx(Le,{to:"/signup",className:"bg-black text-white px-12 py-5 rounded-full text-lg font-bold hover:bg-[#ff4d00] transition-colors shadow-2xl hover:scale-105 transform duration-300",children:"Get Started for Free"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 font-medium",children:[r.jsx(_s,{size:16,className:"text-green-500"})," No credit card required",r.jsx("span",{className:"mx-2",children:""}),r.jsx(_s,{size:16,className:"text-green-500"})," Cancel anytime"]})]})]})}),r.jsx("footer",{className:"py-12 px-6 bg-white border-t border-gray-100",children:r.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6 text-sm text-gray-500 font-medium",children:[r.jsx("div",{children:" 2025 Traffic Creator Inc."}),r.jsxs("div",{className:"flex gap-8",children:[r.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Privacy"}),r.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Terms"}),r.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Twitter"})]})]})})]})},by=({onLogin:n,onNavigate:e,view:t})=>{const[s,i]=S.useState(""),[l,u]=S.useState(""),[h,f]=S.useState(""),[g,y]=S.useState(!1),[b,v]=S.useState(""),k=async I=>{I.preventDefault(),v(""),y(!0);const R=te.getSystemSettings();try{if(t==="signup"){if(!R.allowRegistrations)throw new Error("New registrations are currently disabled by administrator.");await te.register(h,s,l);const D=await te.login(s,l);n(D.role)}else if(t==="login"){const D=await te.login(s,l);if(R.maintenanceMode&&D.role!=="admin")throw new Error("System is currently under maintenance. Please try again later.");if(D.status==="suspended")throw new Error("Your account has been suspended. Please contact support.");await te.syncAll(),n(D.role)}}catch(D){v(D.message||"Authentication failed.")}finally{y(!1)}};return r.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:r.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r.jsxs(Le,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:[r.jsx(Js,{size:16})," Back to Home"]}),r.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[r.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),r.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),b&&r.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3",children:[r.jsx(ua,{className:"text-red-500 shrink-0",size:20}),r.jsx("span",{className:"text-red-700 text-xs font-bold leading-relaxed",children:b})]}),t==="forgot"?r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Reset Password"}),r.jsx("p",{className:"text-gray-500 mb-8",children:"Enter your email address and we'll send you a link to reset your password."}),r.jsxs("form",{onSubmit:I=>{I.preventDefault(),alert("Reset link sent!"),e("login")},className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(hl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"email",required:!0,className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"name@company.com"})]})]}),r.jsx("button",{className:"w-full bg-black text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors",children:"Send Reset Link"}),r.jsx("div",{className:"text-center",children:r.jsx(Le,{to:"/login",className:"text-xs font-bold text-gray-400 uppercase tracking-wider hover:text-black",children:"Back to Login"})})]})]}):r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:t==="login"?"Welcome Back":"Create Account"}),r.jsx("p",{className:"text-gray-500 mb-8",children:t==="login"?"Enter your credentials to access your dashboard.":"Start your first traffic campaign today."}),r.jsxs("form",{onSubmit:k,className:"space-y-6",children:[t==="signup"&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(za,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",required:!0,value:h,onChange:I=>f(I.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"John Doe"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(hl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"email",required:!0,value:s,onChange:I=>i(I.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"name@company.com"})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Password"}),t==="login"&&r.jsx(Le,{to:"/forgot",className:"text-[10px] font-bold text-[#ff4d00] uppercase tracking-wider hover:text-black",children:"Forgot?"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Oa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"password",required:!0,value:l,onChange:I=>u(I.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:""})]})]}),r.jsx("button",{type:"submit",disabled:g,className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:g?"Processing...":r.jsxs(r.Fragment,{children:[t==="login"?"Sign In":"Get Started"," ",r.jsx(Ys,{size:16})]})})]}),r.jsxs("div",{className:"mt-8 text-center pt-8 border-t border-gray-100",children:[r.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:t==="login"?"Don't have an account?":"Already have an account?"}),r.jsx(Le,{to:t==="login"?"/signup":"/login",className:"text-sm font-black text-gray-900 hover:text-[#ff4d00] uppercase tracking-wide block",children:t==="login"?"Create Account":"Login Here"})]})]})]})})},X5=({initialData:n,onSave:e})=>{const[t,s]=S.useState(n),[i,l]=S.useState(!1);S.useEffect(()=>{s(n)},[n]);const u=(f,g,y)=>{let b=parseFloat(y);isNaN(b)&&(b=0),s(v=>v.map(k=>k.id===f?{...k,[g]:b}:k))},h=async()=>{l(!0);try{await te.savePricing(t),e&&e(),alert("Traffic Campaign Configuration Saved to Database!")}catch(f){console.error(f),alert("Failed to save configuration")}finally{l(!1)}};return r.jsxs("div",{className:"bg-white p-8 md:p-10 shadow-sm border border-gray-100 min-h-[600px] animate-in fade-in",children:[r.jsxs("div",{className:"mb-10",children:[r.jsx("h3",{className:"text-[#ff4d00] text-xs font-bold uppercase tracking-widest mb-1",children:"Global Pricing Configuration"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Configure your traffic package rates per tier. Changes affect ALL new campaigns."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12",children:t.map(f=>r.jsxs("div",{className:"flex flex-col space-y-6 p-6 border border-gray-50 hover:border-gray-200 transition-colors bg-gray-50/50",children:[r.jsx("h4",{className:"text-xl font-black text-gray-900 mb-2 uppercase tracking-tight",children:f.name}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"CPM Rate ()"}),r.jsx("input",{type:"number",step:"0.01",value:f.hourlyRate,onChange:g=>u(f.id,"hourlyRate",g.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"Base Campaign Fee ()"}),r.jsx("input",{type:"number",value:f.baseFee,onChange:g=>u(f.id,"baseFee",g.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"Setup & Audit Fee ()"}),r.jsx("input",{type:"number",value:f.examFee,onChange:g=>u(f.id,"examFee",g.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]})]},f.id))}),r.jsx("div",{className:"mt-16 flex justify-end pt-8 border-t border-gray-100",children:r.jsx("button",{onClick:h,disabled:i,className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Global Configuration"})})]})},Z5=({transactions:n})=>{try{const e=[];for(let l=6;l>=0;l--){const u=new Date;u.setDate(u.getDate()-l),e.push(u.toLocaleDateString("en-US",{month:"short",day:"numeric"}))}const t=Array.isArray(n)?n:[],s=e.map(l=>t.filter(h=>h&&h.type==="credit"&&h.date===l).reduce((h,f)=>h+(Number(f.amount)||0),0)),i=Math.max(...s,100);return r.jsx("div",{className:"h-48 flex items-end justify-between gap-2",children:s.map((l,u)=>r.jsxs("div",{className:"flex-1 flex flex-col justify-end group",children:[r.jsx("div",{className:"bg-black group-hover:bg-[#ff4d00] transition-colors rounded-t-sm w-full relative",style:{height:`${l/i*100}%`,minHeight:"4px"},children:r.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 text-[9px] font-bold text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:["",l]})}),r.jsx("div",{className:"text-[9px] text-gray-400 text-center mt-2 font-mono",children:e[u]})]},u))})}catch{return r.jsx("div",{className:"text-xs text-red-500 p-4",children:"Error loading chart"})}},eM=({users:n=[],projects:e=[],tickets:t=[],transactions:s=[],stats:i,onNavigate:l})=>{var D,P,M,z,le,L,H;const u=Array.isArray(s)?s:[],h=Array.isArray(e)?e:[],f=Array.isArray(n)?n:[],g=Array.isArray(t)?t:[],y=((D=i==null?void 0:i.revenue)==null?void 0:D.total)??u.filter(T=>T&&T.type==="credit").reduce((T,N)=>T+(Number(N.amount)||0),0),b=((P=i==null?void 0:i.revenue)==null?void 0:P.today)??0,v=((M=i==null?void 0:i.projects)==null?void 0:M.active)??h.filter(T=>T&&T.status==="active").length,k=((z=i==null?void 0:i.users)==null?void 0:z.total)??f.length,I=((le=i==null?void 0:i.users)==null?void 0:le.new_today)??0,R=g.filter(T=>T&&T.status==="open").length;return r.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[r.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"Admin Overview"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors relative overflow-hidden group",children:[r.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[r.jsx(ru,{size:14})," Total Users"]}),r.jsx("div",{className:"text-4xl font-black text-gray-900",children:k}),I>0&&r.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[r.jsx(Ru,{size:10})," +",I," Today"]})]}),r.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[r.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[r.jsx(Oh,{size:14})," Active Projects"]}),r.jsx("div",{className:"text-4xl font-black text-gray-900",children:v}),((L=i==null?void 0:i.projects)==null?void 0:L.new_today)>0&&r.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[r.jsx(UP,{size:10})," +",(H=i==null?void 0:i.projects)==null?void 0:H.new_today," New Today"]})]}),r.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[r.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[r.jsx(Tr,{size:14})," Open Tickets"]}),r.jsx("div",{className:"text-4xl font-black text-gray-900",children:R})]}),r.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[r.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[r.jsx(Xi,{size:14})," Total Revenue"]}),r.jsxs("div",{className:"text-4xl font-black text-[#ff4d00]",children:["",(y||0).toLocaleString()]}),b>0&&r.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[r.jsx(Ns,{size:10})," +",b.toFixed(2)," Today"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[r.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm",children:[r.jsx("div",{className:"flex justify-between items-center mb-8",children:r.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Revenue Trend (7 Days)"})}),r.jsx(Z5,{transactions:u})]}),r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm flex flex-col",children:[r.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[r.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900",children:"Recent Registrations"}),r.jsx("button",{onClick:()=>l("admin-users"),className:"text-[10px] uppercase font-bold text-gray-400 hover:text-[#ff4d00]",children:"View All"})]}),r.jsx("div",{className:"divide-y divide-gray-100 flex-1 overflow-y-auto max-h-64",children:f.slice(0,5).map(T=>r.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:((T==null?void 0:T.name)||"?").charAt(0)}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-bold text-gray-900",children:(T==null?void 0:T.name)||"Unknown User"}),r.jsx("div",{className:"text-[9px] text-gray-400",children:(T==null?void 0:T.email)||"No Email"})]})]}),r.jsx("div",{className:"text-[9px] font-bold uppercase tracking-wide text-gray-400",children:(T==null?void 0:T.joinedDate)||"-"})]},(T==null?void 0:T.id)||Math.random()))})]})]})]})},tM=({users:n,transactions:e,tickets:t,onRefresh:s,onEditUser:i})=>{const[l,u]=S.useState(""),[h,f]=S.useState(1),[g,y]=S.useState(100),[b,v]=S.useState("all"),k=S.useMemo(()=>te.getProjects(),[n]),I=L=>{const H=k.filter(T=>T.userId===L);return{total:H.length,active:H.filter(T=>T.status==="active").length,expired:H.filter(T=>T.status==="completed"||T.status==="stopped").length,demo:H.filter(T=>T.plan==="Free Trial").length}},R=L=>e.filter(H=>H.userId===L&&H.type==="debit"&&H.status==="completed").reduce((H,T)=>H+T.amount,0),D=(L,H)=>{const T=new Date(L).getTime();return(Date.now()-T)/(1e3*60*60)<=H},P=S.useMemo(()=>{let L=n.filter(H=>H.name.toLowerCase().includes(l.toLowerCase())||H.email.toLowerCase().includes(l.toLowerCase())||H.id.includes(l));switch(b){case"balance":L.sort((H,T)=>T.balance-H.balance);break;case"spent":L.sort((H,T)=>R(T.id)-R(H.id));break;case"projects":L.sort((H,T)=>I(T.id).total-I(H.id).total);break;case"new_24h":L=L.filter(H=>D(H.joinedDate,24));break;case"new_7d":L=L.filter(H=>D(H.joinedDate,168));break;case"new_30d":L=L.filter(H=>D(H.joinedDate,720));break;default:L.sort((H,T)=>new Date(T.joinedDate).getTime()-new Date(H.joinedDate).getTime())}return L},[n,l,b,k,e]),M=Math.ceil(P.length/g),z=P.slice((h-1)*g,h*g);yr.useEffect(()=>{f(1)},[b,l,g]);const le=[{id:"all",label:"All Users",icon:r.jsx(ru,{size:14})},{id:"balance",label:"Highest Balance",icon:r.jsx(Gi,{size:14})},{id:"projects",label:"Most Projects",icon:r.jsx(Oh,{size:14})},{id:"spent",label:"Top Spenders",icon:r.jsx(Gi,{size:14})},{id:"new_24h",label:"New (24h)",icon:r.jsx(Yn,{size:14})},{id:"new_7d",label:"New (7d)",icon:r.jsx(Yn,{size:14})},{id:"new_30d",label:"New (30d)",icon:r.jsx(Yn,{size:14})}];return r.jsxs("div",{className:"animate-in fade-in",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-6 gap-4",children:[r.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"User Management"}),r.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[r.jsxs("div",{className:"relative flex-1 md:w-64",children:[r.jsx("input",{type:"text",placeholder:"Search users...",value:l,onChange:L=>u(L.target.value),className:"w-full bg-white border border-gray-200 pl-10 pr-4 py-2 text-sm outline-none focus:border-[#ff4d00]"}),r.jsx(Sr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14})]}),r.jsxs("select",{value:g,onChange:L=>y(Number(L.target.value)),className:"bg-white border border-gray-200 px-3 py-2 text-sm font-bold text-gray-600 outline-none focus:border-[#ff4d00]",children:[r.jsx("option",{value:10,children:"10 per page"}),r.jsx("option",{value:25,children:"25 per page"}),r.jsx("option",{value:50,children:"50 per page"}),r.jsx("option",{value:100,children:"100 per page"})]}),r.jsxs("button",{onClick:()=>{const L=`ID,Name,Email,Role,Status,Balance,Joined,LastActive
`,H=n.map(O=>`${O.id},"${O.name}",${O.email},${O.role},${O.status},${O.balance},${O.joinedDate},${O.lastIp||""}`).join(`
`),T=new Blob([L+H],{type:"text/csv"}),N=window.URL.createObjectURL(T),E=document.createElement("a");E.href=N,E.download=`users_export_${new Date().toISOString().split("T")[0]}.csv`,E.click(),alert("User export started.")},className:"flex items-center gap-2 bg-white border border-gray-200 px-3 py-2 text-sm font-bold text-gray-600 hover:text-black hover:border-black transition-colors",children:[r.jsx(Gi,{size:14,className:"rotate-45"})," Export"]})]})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-6 border-b border-gray-200 pb-2",children:le.map(L=>r.jsxs("button",{onClick:()=>v(L.id),className:`flex items-center gap-2 px-4 py-2 text-xs font-bold uppercase tracking-wide transition-colors rounded-sm
                        ${b===L.id?"bg-black text-white":"bg-white text-gray-500 hover:bg-gray-100"}
                    `,children:[L.icon," ",L.label]},L.id))}),r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden min-h-[500px]",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User Details"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Project Analytics"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Financials"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:z.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"No users found matching your criteria."})}):z.map(L=>{const H=I(L.id),T=R(L.id);return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:L.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-bold text-gray-900",children:L.name}),r.jsx("div",{className:"text-[10px] text-gray-400",children:L.email}),r.jsxs("div",{className:"text-[9px] text-gray-300 mt-0.5",children:["Joined: ",L.joinedDate]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("div",{className:"flex items-center gap-2 text-[10px] uppercase font-bold text-gray-600",children:[r.jsx(Oh,{size:10,className:"text-[#ff4d00]"})," ",H.total," Total"]}),r.jsxs("div",{className:"flex gap-3 text-[9px] text-gray-400 font-medium",children:[r.jsxs("span",{className:"text-green-600",children:[H.active," Active"]}),r.jsxs("span",{children:[H.expired," Expired"]}),H.demo>0&&r.jsxs("span",{className:"text-blue-500 flex items-center gap-0.5",children:[r.jsx(Xn,{size:8})," ",H.demo," Demo"]})]})]})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsxs("div",{className:"text-sm font-black text-gray-900",children:["",L.balance.toFixed(2)]}),r.jsxs("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:["Spent: ",T.toFixed(0)]})]}),r.jsx("td",{className:"px-6 py-4",children:L.status==="active"?r.jsxs("span",{className:"text-green-600 text-[10px] font-bold uppercase tracking-wide flex items-center gap-1",children:[r.jsx(oa,{size:10})," Active"]}):r.jsxs("span",{className:"text-red-600 text-[10px] font-bold uppercase tracking-wide flex items-center gap-1",children:[r.jsx(qP,{size:10})," Suspended"]})}),r.jsx("td",{className:"px-6 py-4 text-right flex justify-end gap-3 items-center",children:r.jsxs("button",{onClick:()=>i(L.id),className:"bg-gray-100 hover:bg-black hover:text-white text-gray-600 px-4 py-2 text-[10px] font-bold uppercase tracking-wider transition-colors rounded-sm flex items-center gap-2",children:[r.jsx(nv,{size:12})," Edit"]})})]},L.id)})})]})}),M>1&&r.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[r.jsxs("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:["Page ",h," of ",M," (",P.length," Users)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>f(Math.max(1,h-1)),disabled:h===1,className:"bg-white border border-gray-200 px-3 py-2 text-gray-600 hover:border-[#ff4d00] hover:text-[#ff4d00] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx(BS,{size:14})}),r.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,M)},(L,H)=>{let T=H+1;return M>5&&h>3&&(T=h-2+H),T>M?null:r.jsx("button",{onClick:()=>f(T),className:`w-8 h-8 text-xs font-bold flex items-center justify-center border transition-colors
                                            ${h===T?"bg-[#ff4d00] border-[#ff4d00] text-white":"bg-white border-gray-200 text-gray-600 hover:border-gray-300"}
                                        `,children:T},T)})}),r.jsx("button",{onClick:()=>f(Math.min(M,h+1)),disabled:h===M,className:"bg-white border border-gray-200 px-3 py-2 text-gray-600 hover:border-[#ff4d00] hover:text-[#ff4d00] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx(xg,{size:14})})]})]})]})]})},nM=({tickets:n,onRefresh:e})=>{var P;const[t,s]=S.useState(null),[i,l]=S.useState(""),[u,h]=S.useState("all"),[f,g]=S.useState([]),y=n.find(M=>M.id===t),b=[...n].sort((M,z)=>{const le=new Date(M.date).getTime();return new Date(z.date).getTime()-le}).filter(M=>u==="all"?!0:M.type===u);S.useEffect(()=>{t&&(te.markTicketRead(t),e())},[t]);const v=()=>{!i.trim()&&f.length===0||!t||(te.replyToTicket(t,i,"admin",f),l(""),g([]),e())},k=M=>{t&&(te.updateTicketStatus(t,M),e())},I=M=>{t&&(te.updateTicketPriority(t,M),e())},R=()=>{t&&confirm("Are you sure you want to permanently delete this ticket?")&&(te.deleteTicket(t),s(null),e())},D=M=>{if(M.target.files&&M.target.files[0]){const z=M.target.files[0].name;g([...f,z])}};return r.jsxs("div",{className:"animate-in fade-in h-[calc(100vh-140px)] flex flex-col",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Unified Inbox"}),r.jsxs("div",{className:"flex bg-white border border-gray-200 rounded-sm overflow-hidden",children:[r.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 text-xs font-bold uppercase ${u==="all"?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:"All"}),r.jsx("button",{onClick:()=>h("ticket"),className:`px-4 py-2 text-xs font-bold uppercase ${u==="ticket"?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:"Tickets"}),r.jsx("button",{onClick:()=>h("chat"),className:`px-4 py-2 text-xs font-bold uppercase ${u==="chat"?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:"Live Chats"})]})]}),r.jsxs("div",{className:"flex-1 bg-white border border-gray-200 shadow-sm flex overflow-hidden",children:[r.jsxs("div",{className:"w-1/3 border-r border-gray-200 flex flex-col",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{placeholder:"Search...",className:"w-full bg-[#f9fafb] border border-gray-200 pl-9 pr-4 py-2 text-xs font-bold outline-none focus:border-[#ff4d00]"}),r.jsx(Sr,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:b.length===0?r.jsx("div",{className:"p-8 text-center text-gray-400 text-xs",children:"No conversations found."}):b.map(M=>r.jsxs("div",{onClick:()=>s(M.id),className:`p-4 border-b border-gray-100 cursor-pointer transition-colors hover:bg-gray-50 ${t===M.id?"bg-orange-50 border-l-4 border-l-[#ff4d00]":"border-l-4 border-l-transparent"}`,children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${M.type==="chat"?"bg-blue-100 text-blue-600":"bg-gray-200 text-gray-600"}`,children:M.type}),r.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:M.date})]}),r.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-1 truncate",children:M.subject}),r.jsx("p",{className:"text-xs text-gray-500 truncate mb-2",children:M.lastMessage}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-gray-400 uppercase",children:[r.jsx(za,{size:10})," ",M.userName]}),M.status==="open"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"})]})]},M.id))})]}),y?r.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#fafafa]",children:[r.jsxs("div",{className:"bg-white p-6 border-b border-gray-200 flex justify-between items-start shadow-sm z-10",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:y.subject}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(za,{size:14})," ",y.userName]}),r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsxs("span",{className:"font-mono text-gray-400",children:["ID: ",y.id]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{value:y.priority,onChange:M=>I(M.target.value),className:`text-[10px] font-bold uppercase border-none outline-none cursor-pointer ${y.priority==="high"?"text-red-500":"text-gray-500"}`,children:[r.jsx("option",{value:"low",children:"Low Priority"}),r.jsx("option",{value:"medium",children:"Medium Priority"}),r.jsx("option",{value:"high",children:"High Priority"})]}),r.jsx("div",{className:"h-4 w-px bg-gray-200"}),r.jsxs("select",{value:y.status,onChange:M=>k(M.target.value),className:"bg-gray-100 text-gray-700 text-xs font-bold uppercase px-3 py-1.5 rounded-sm outline-none cursor-pointer hover:bg-gray-200",children:[r.jsx("option",{value:"open",children:"Open"}),r.jsx("option",{value:"in-progress",children:"In Progress"}),r.jsx("option",{value:"closed",children:"Closed"})]}),r.jsx("button",{onClick:R,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-sm transition-colors",children:r.jsx(Dl,{size:16})})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:(P=y.messages)==null?void 0:P.map(M=>r.jsx("div",{className:`flex ${M.sender==="admin"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[80%] ${M.sender==="admin"?"items-end":"items-start"} flex flex-col`,children:[r.jsxs("div",{className:`p-4 shadow-sm text-sm leading-relaxed ${M.sender==="admin"?"bg-black text-white rounded-l-lg rounded-tr-lg":"bg-white text-gray-900 border border-gray-200 rounded-r-lg rounded-tl-lg"}`,children:[M.text,M.attachments&&M.attachments.length>0&&r.jsx("div",{className:"mt-3 pt-3 border-t border-white/20 space-y-1",children:M.attachments.map((z,le)=>r.jsxs("div",{className:"flex items-center gap-2 text-xs opacity-80 bg-white/10 p-2 rounded-sm",children:[r.jsx(qc,{size:12})," ",z]},le))})]}),r.jsxs("span",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase tracking-wide",children:[M.sender==="admin"?"You":y.userName,"  ",M.date]})]})},M.id))}),r.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[f.length>0&&r.jsx("div",{className:"flex gap-2 mb-2 flex-wrap",children:f.map((M,z)=>r.jsxs("div",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-sm flex items-center gap-1",children:[M," ",r.jsx("button",{onClick:()=>g(f.filter(le=>le!==M)),children:r.jsx(Ha,{size:12})})]},z))}),r.jsxs("div",{className:"flex gap-2 items-end",children:[r.jsxs("label",{className:"p-3 text-gray-400 hover:text-black cursor-pointer transition-colors",children:[r.jsx(qc,{size:20}),r.jsx("input",{type:"file",className:"hidden",onChange:D})]}),r.jsx("textarea",{value:i,onChange:M=>l(M.target.value),placeholder:"Type your reply...",className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] resize-none h-12 min-h-[48px] max-h-32 transition-colors",onKeyDown:M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),v())}}),r.jsx("button",{onClick:v,disabled:!i&&f.length===0,className:"p-3 bg-[#ff4d00] text-white hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(fl,{size:20})})]})]})]}):r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-300",children:[r.jsx(Tr,{size:64,className:"mb-4 opacity-20"}),r.jsx("p",{className:"text-sm font-medium",children:"Select a conversation to view details"})]})]})]})},sM=({projects:n,onEditProject:e})=>{const[t,s]=S.useState(""),[i,l]=S.useState("all"),u=f=>{try{return new URL(f).hostname.replace("www.","")}catch{return f}},h=S.useMemo(()=>n.filter(f=>{var b;const g=f.name.toLowerCase().includes(t.toLowerCase())||f.id.toLowerCase().includes(t.toLowerCase())||((b=f.settings)==null?void 0:b.entryUrls)&&f.settings.entryUrls.toLowerCase().includes(t.toLowerCase()),y=i==="all"||f.status===i;return g&&y}),[n,t,i]);return r.jsxs("div",{className:"animate-in fade-in space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Mission Control"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[r.jsxs("div",{className:"relative group",children:[r.jsx(Sr,{className:"absolute left-3 top-2.5 text-gray-400 group-focus-within:text-[#ff4d00]",size:16}),r.jsx("input",{type:"text",placeholder:"Search by Domain, Name, or ID...",value:t,onChange:f=>s(f.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 text-sm font-bold w-full sm:w-64 outline-none focus:border-[#ff4d00] transition-colors"})]}),r.jsxs("select",{value:i,onChange:f=>l(f.target.value),className:"border border-gray-200 px-4 py-2 text-sm font-bold bg-white outline-none focus:border-[#ff4d00]",children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"active",children:"Active Only"}),r.jsx("option",{value:"stopped",children:"Stopped/Paused"}),r.jsx("option",{value:"completed",children:"Completed"})]})]})]}),r.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Campaign Target"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Client"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Plan & Traffic"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:h.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400 text-sm",children:"No campaigns found matching your criteria."})}):h.map(f=>{var g,y;return r.jsxs("tr",{className:"hover:bg-gray-50 group transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded text-gray-500",children:r.jsx(As,{size:16})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-bold text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:f.name}),r.jsx("div",{className:"text-xs text-gray-500 font-mono mt-0.5 max-w-[200px] truncate",title:(g=f.settings)==null?void 0:g.entryUrls,children:(y=f.settings)!=null&&y.entryUrls?u(f.settings.entryUrls):"No URL"}),r.jsxs("div",{className:"mt-1 text-[10px] text-gray-400 font-mono",children:["ID: ",f.id.substring(0,8),"..."]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-700",children:[r.jsx(za,{size:12,className:"text-gray-400"}),r.jsx("span",{children:f.userId||"Unknown User"})]})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("span",{className:`inline-block px-2 py-0.5 text-[10px] font-bold uppercase tracking-wide rounded mb-1 ${f.plan.toLowerCase().includes("agency")?"bg-purple-100 text-purple-700":f.plan.toLowerCase().includes("pro")?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:f.plan}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Expires: ",r.jsx("span",{className:"font-mono text-gray-700",children:f.expires})]})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-[9px] font-black uppercase tracking-wider rounded-full ${f.status==="active"?"bg-[#ff4d00]/10 text-[#ff4d00] ring-1 ring-[#ff4d00]/20":f.status==="completed"?"bg-green-100 text-green-700 ring-1 ring-green-600/20":"bg-gray-100 text-gray-500 ring-1 ring-gray-200"}`,children:[f.status==="active"?r.jsx(p6,{size:10,className:"fill-current"}):f.status==="stopped"?r.jsx(f6,{size:10}):null,f.status]})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("button",{onClick:()=>e(f.id),className:"bg-white border border-gray-200 hover:border-black hover:bg-black hover:text-white text-gray-600 px-3 py-1.5 text-[10px] font-bold uppercase tracking-wider transition-all rounded-sm flex items-center gap-2 ml-auto shadow-sm",children:[r.jsx(nv,{size:12})," Manage"]})})]},f.id)})})]})})})]})},rM=({transactions:n,onEditTransaction:e})=>r.jsxs("div",{className:"animate-in fade-in",children:[r.jsxs("div",{className:"flex justify-between items-end mb-6",children:[r.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Global Transactions"}),r.jsxs("button",{className:"flex items-center gap-2 bg-white border border-gray-200 px-4 py-2 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00]",children:[r.jsx(Mh,{size:14})," Export CSV"]})]}),r.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Trx ID"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User ID"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),r.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),r.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Action"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(t=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:t.id}),r.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:t.date}),r.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-400",children:t.userId||"N/A"}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:t.desc}),r.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${t.type==="credit"?"text-green-600":"text-red-500"}`,children:[t.type==="credit"?"+":"-","",t.amount.toFixed(2)]}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("button",{onClick:()=>e(t.id),className:"bg-gray-100 hover:bg-black hover:text-white text-gray-600 px-3 py-1.5 text-[10px] font-bold uppercase tracking-wider transition-colors rounded-sm flex items-center gap-2 ml-auto",children:[r.jsx(nv,{size:12})," Edit"]})})]},t.id))})]})})]}),aM=({initialSettings:n,onSave:e})=>{const[t,s]=S.useState(n),i=()=>{te.saveSystemSettings(t),e(),alert("System settings updated.")};return r.jsxs("div",{className:"animate-in fade-in max-w-2xl",children:[r.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"System Settings"}),r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Site Name"}),r.jsx("input",{value:t.siteName,onChange:l=>s({...t,siteName:l.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Support Email"}),r.jsx("input",{value:t.supportEmail,onChange:l=>s({...t,supportEmail:l.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2 flex items-center gap-1",children:[r.jsx(Jy,{size:12})," SparkTraffic API Key"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{value:t.sparkTrafficApiKey||"",onChange:l=>s({...t,sparkTrafficApiKey:l.target.value}),type:"password",className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-mono text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Enter API Key from v2.sparktraffic.com"}),r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:r.jsx(Jy,{size:16})})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[r.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Maintenance Mode"}),r.jsx("button",{onClick:()=>s({...t,maintenanceMode:!t.maintenanceMode}),className:`w-12 h-6 flex items-center p-1 transition-colors duration-300 ${t.maintenanceMode?"bg-[#ff4d00]":"bg-gray-300"}`,children:r.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${t.maintenanceMode?"translate-x-6":"translate-x-0"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[r.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Allow New Registrations"}),r.jsx("button",{onClick:()=>s({...t,allowRegistrations:!t.allowRegistrations}),className:`w-12 h-6 flex items-center p-1 transition-colors duration-300 ${t.allowRegistrations?"bg-green-500":"bg-gray-300"}`,children:r.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${t.allowRegistrations?"translate-x-6":"translate-x-0"}`})})]}),r.jsx("div",{className:"pt-4 border-t border-gray-100",children:r.jsxs("button",{onClick:i,className:"bg-black text-white px-8 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[r.jsx(Ga,{size:14})," Save Configuration"]})})]})]})},iM=({onRefresh:n})=>{const[e,t]=S.useState([]),[s,i]=S.useState(!1),[l,u]=S.useState(""),[h,f]=S.useState(""),[g,y]=S.useState("info"),[b,v]=S.useState(""),[k,I]=S.useState(""),[R,D]=S.useState(!1),[P,M]=S.useState(""),[z,le]=S.useState(""),L=60,H=250,T=async()=>{i(!0);const ie=await te.getAdminBroadcasts();t(ie),i(!1)};S.useEffect(()=>{T()},[]);const N=async()=>{if(!l.trim()||!h.trim())return;let ie;R&&P&&z&&(ie=new Date(`${P}T${z}`).toISOString()),await te.createBroadcast({title:l.substring(0,L),message:h.substring(0,H),type:g,isActive:!0,expiresAt:ie,actionUrl:b.trim()||void 0,actionText:k.trim()||void 0}),u(""),f(""),y("info"),v(""),I(""),D(!1),M(""),le(""),T(),n&&n()},E=async ie=>{await te.updateBroadcast(ie.id,{...ie,isActive:!ie.isActive}),T()},O=async ie=>{window.confirm("Are you sure you want to delete this broadcast?")&&(await te.deleteBroadcast(ie),T())},F=ie=>{if(u(ie.title),f(ie.message),y(ie.type),v(ie.actionUrl||""),I(ie.actionText||""),ie.expiresAt){const Re=new Date(ie.expiresAt);D(!0),M(Re.toISOString().split("T")[0]),le(Re.toTimeString().split(" ")[0].substring(0,5))}else D(!1);window.scrollTo({top:0,behavior:"smooth"})},G=ie=>{switch(ie){case"success":return"bg-green-500 border-green-500";case"warning":return"bg-orange-500 border-orange-500";case"critical":return"bg-red-500 border-red-500";default:return"bg-blue-500 border-blue-500"}},V=ie=>{switch(ie){case"success":return r.jsx(oa,{size:14,className:"text-white"});case"warning":return r.jsx(ua,{size:14,className:"text-white"});case"critical":return r.jsx(qS,{size:14,className:"text-white"});default:return r.jsx(eu,{size:14,className:"text-white"})}};return r.jsxs("div",{className:"animate-in fade-in",children:[r.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"System Broadcasts"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm mb-8",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(Xy,{size:14})," Create New Broadcast"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx(kc,{children:"Title / Headline"}),r.jsxs("span",{className:`text-[9px] font-bold ${l.length>L?"text-red-500":"text-gray-400"}`,children:[l.length,"/",L]})]}),r.jsx("input",{value:l,onChange:ie=>u(ie.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] font-bold",placeholder:"e.g. Scheduled Maintenance",maxLength:L+10})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx(kc,{children:"Message Body"}),r.jsxs("span",{className:`text-[9px] font-bold ${h.length>H?"text-red-500":"text-gray-400"}`,children:[h.length,"/",H]})]}),r.jsx("textarea",{value:h,onChange:ie=>f(ie.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] font-medium h-24 resize-none",placeholder:"Detailed explanation...",maxLength:H+20})]}),r.jsxs("div",{className:"w-full md:w-48",children:[r.jsx(kc,{children:"Type"}),r.jsxs("select",{value:g,onChange:ie=>y(ie.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",children:[r.jsx("option",{value:"info",children:"Info (Blue)"}),r.jsx("option",{value:"success",children:"Success (Green)"}),r.jsx("option",{value:"warning",children:"Warning (Orange)"}),r.jsx("option",{value:"critical",children:"Critical (Red)"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-50 pt-6",children:[r.jsxs("div",{children:[r.jsx(kc,{children:"Action URL (Optional)"}),r.jsx("input",{value:b,onChange:ie=>v(ie.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",placeholder:"https://example.com/blog"})]}),r.jsxs("div",{children:[r.jsx(kc,{children:"Action Button Text"}),r.jsx("input",{value:k,onChange:ie=>I(ie.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",placeholder:"Read More"})]})]}),r.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx(kc,{children:"Auto-Expire (Hidden after)"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>D(!R),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${R?"bg-[#ff4d00]":"bg-gray-300"}`,children:r.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${R?"translate-x-5":"translate-x-0"}`})}),r.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:R?"Enabled":"Disabled"})]})]}),R&&r.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-in fade-in slide-in-from-top-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1 block",children:"Expiry Date"}),r.jsx("input",{type:"date",value:P,onChange:ie=>M(ie.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1 block",children:"Expiry Time"}),r.jsx("input",{type:"time",value:z,onChange:ie=>le(ie.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]"})]})]})]}),r.jsxs("button",{onClick:N,disabled:l.length>L||h.length>H,className:"w-full bg-black text-white py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:hover:bg-black",children:[r.jsx(Xy,{size:14})," Publish Broadcast"]})]})]})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400",children:"Archived & Active"}),r.jsx("button",{onClick:T,className:"text-[10px] font-bold text-[#ff4d00] underline uppercase",children:"Refresh"})]}),r.jsxs("div",{className:"space-y-4",children:[s&&r.jsx("div",{className:"text-center p-4 text-gray-400 text-xs",children:"Loading..."}),!s&&e.length===0&&r.jsx("div",{className:"p-8 text-center text-gray-400 border border-gray-200 border-dashed bg-gray-50",children:"No broadcasts found."}),e.map(ie=>r.jsxs("div",{className:`p-6 border-l-4 shadow-sm bg-white relative group ${ie.isActive?G(ie.type).split(" ")[1]:"opacity-60 grayscale"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`flex items-center gap-1 text-[9px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded-sm text-white ${G(ie.type).split(" ")[0]}`,children:[V(ie.type)," ",ie.type]}),r.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:new Date(ie.createdAt).toLocaleDateString()})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>F(ie),className:"text-gray-300 hover:text-black transition-colors",title:"Duplicate Broadcast",children:r.jsx(dl,{size:14})}),r.jsx("button",{onClick:()=>O(ie.id),className:"text-gray-300 hover:text-red-500 transition-colors",children:r.jsx(Dl,{size:14})})]})]}),r.jsx("h4",{className:"font-black text-sm uppercase mb-1",children:ie.title}),r.jsx("p",{className:"text-xs font-medium text-gray-600 mb-3",children:ie.message}),ie.actionUrl&&r.jsxs("div",{className:"mb-3 flex items-center gap-1 text-[10px] font-bold text-[#ff4d00] uppercase tracking-wider",children:[r.jsx(yg,{size:10})," ",ie.actionText||"Action",": ",r.jsx("span",{className:"text-gray-400 font-medium normal-case",children:ie.actionUrl})]}),r.jsxs("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-50 text-[10px] text-gray-500 font-bold uppercase transition-colors",children:[ie.expiresAt&&r.jsxs("div",{className:"flex items-center gap-1 text-[#ff4d00]",children:[r.jsx(Yn,{size:12})," Expires: ",new Date(ie.expiresAt).toLocaleString()]}),!ie.expiresAt&&r.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[r.jsx(Yn,{size:12})," No Expiration"]})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("button",{onClick:()=>E(ie),className:`text-xs font-bold uppercase flex items-center gap-2 ${ie.isActive?"text-green-600":"text-gray-400"}`,children:[ie.isActive?r.jsx(l5,{size:20}):r.jsx(i5,{size:20}),ie.isActive?"Live":"Hidden"]})})]},ie.id))]})]})]})]})},kc=({children:n})=>r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:n}),oM=({onStartChat:n})=>{var k;const[e,t]=S.useState([]),[s,i]=S.useState(!0),[l,u]=S.useState(""),h=async()=>{const I=await te.getRealTimeVisitors();t(I),i(!1)};S.useEffect(()=>{h();const I=setInterval(h,1e4);return()=>clearInterval(I)},[]);const f=I=>{let D=te.getTickets().find(P=>(I.userId?P.userId===I.userId:!1)&&P.type==="chat"&&P.status!=="closed");if(!D){const P={id:`C-${Date.now().toString().slice(-4)}`,type:"chat",userId:I.userId||`guest-${Date.now()}`,userName:I.name,guestEmail:I.email!=="Unknown"?I.email:void 0,subject:"Admin Initiated Chat",status:"open",priority:"medium",date:new Date().toLocaleDateString(),lastMessage:"Admin started chat",unread:!1,messages:[{id:`m-${Date.now()}`,sender:"admin",text:"Hello! I noticed you are online. How can I help you today?",date:new Date().toLocaleString()}]};te.createTicket(P),D=P}n(D.id)},g=e.filter(I=>I.name.toLowerCase().includes(l.toLowerCase())||I.email.toLowerCase().includes(l.toLowerCase())||I.location.toLowerCase().includes(l.toLowerCase())),y=e.filter(I=>I.device==="Mobile").length,b=e.filter(I=>I.device==="Desktop").length,v=e.length>0?(k=e.sort((I,R)=>e.filter(D=>D.currentPage===I.currentPage).length-e.filter(D=>D.currentPage===R.currentPage).length).pop())==null?void 0:k.currentPage:"N/A";return r.jsxs("div",{className:"animate-in fade-in h-full flex flex-col",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-6 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("span",{className:"relative flex h-3 w-3",children:[r.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-500 opacity-75"}),r.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-green-600",children:"Live Network Data"})]}),r.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Real-Time Visitors"})]}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px]",children:[r.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Mobile"}),r.jsx("span",{className:"text-lg font-black text-gray-900",children:y})]}),r.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px]",children:[r.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Desktop"}),r.jsx("span",{className:"text-lg font-black text-gray-900",children:b})]}),r.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px] hidden md:flex",children:[r.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Top Page"}),r.jsx("span",{className:"text-xs font-black text-gray-900 truncate max-w-[80px]",children:v})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search IP, Name...",value:l,onChange:I=>u(I.target.value),className:"bg-white border border-gray-200 pl-10 pr-4 py-3 text-sm outline-none focus:border-[#ff4d00] shadow-sm w-48"}),r.jsx(Sr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14})]})]})]}),e.length===0&&!s&&r.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 mb-6 flex items-center gap-3",children:[r.jsx(ua,{className:"text-orange-500",size:20}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-bold text-orange-800",children:"No active visitors"}),r.jsx("p",{className:"text-xs text-orange-700",children:"The database is currently empty of live sessions. Open the site in an Incognito window to see yourself appear here."})]})]}),r.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden flex-1",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User Identity"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Current Page"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Last Active"}),r.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Environment"}),r.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400 animate-pulse",children:"Scanning live network..."})}):g.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400",children:"No active users found matching your filter."})}):g.map(I=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:I.name.charAt(0)}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[I.name,I.role==="guest"&&r.jsx("span",{className:"bg-gray-200 text-gray-600 text-[9px] px-1.5 py-0.5 rounded-sm uppercase",children:"Guest"})]}),r.jsx("div",{className:"text-[10px] text-gray-400",children:I.email}),r.jsxs("div",{className:"text-[9px] text-gray-300 mt-0.5 flex items-center gap-1",children:[r.jsx(As,{size:10})," ",I.location]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-xs font-bold text-gray-700 font-mono bg-gray-100 px-2 py-1 rounded-sm",children:I.currentPage})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-xs font-bold text-gray-600 flex items-center gap-1",children:[r.jsx(Yn,{size:12,className:"text-gray-400"})," ",I.lastActive]})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsxs("div",{className:"text-xs font-medium text-gray-600 flex items-center gap-2",children:[I.device.includes("Mobile")?r.jsx(uf,{size:14}):r.jsx(tu,{size:14}),I.device," / ",I.browser]}),r.jsx("div",{className:"text-[10px] text-gray-400 font-mono mt-1",children:I.ip})]}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("button",{onClick:()=>f(I),className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 ml-auto shadow-sm",children:[r.jsx(Tr,{size:12})," Chat"]})})]},I.id))})]})})})]})},lM=({userId:n,onBack:e,onUpdate:t})=>{var R;const[s,i]=S.useState(null),[l,u]=S.useState([]),[h,f]=S.useState([]),[g,y]=S.useState(""),[b,v]=S.useState("");S.useEffect(()=>{const P=te.getUsers().find(le=>le.id===n);i(P||null);const M=te.getTransactions();u(M.filter(le=>le.userId===n));const z=te.getTickets();f(z.filter(le=>le.userId===n))},[n]);const k=()=>{s&&(te.updateUser(s),t(),alert("User updated successfully."))},I=D=>{if(!s||!g)return;const P=parseFloat(g);if(isNaN(P)||P<=0)return alert("Invalid amount");te.adminAdjustBalance(s.id,P,D,b||"Manual Adjustment");const z=te.getUsers().find(le=>le.id===s.id);i(z||null),y(""),v(""),t(),alert(`Successfully ${D==="credit"?"added":"removed"} funds.`)};return s?r.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[r.jsx(Js,{size:14})," Back to List"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>{confirm(`Are you sure you want to login as ${s.name}? You will be signed out of your admin account.`)&&(te.setCurrentUser(s),window.location.href="/dashboard")},className:"bg-white border border-gray-300 text-gray-700 px-4 py-3 text-xs font-bold uppercase tracking-wider hover:bg-gray-50 transition-colors flex items-center gap-2",children:[r.jsx(o3,{size:14})," Login As User"]}),r.jsxs("button",{onClick:k,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[r.jsx(Ga,{size:14})," Save Changes"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6",children:"User Identity"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Full Name"}),r.jsx("input",{value:s.name,onChange:D=>i({...s,name:D.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email Address"}),r.jsx("input",{value:s.email,onChange:D=>i({...s,email:D.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Role"}),r.jsx(_t,{value:s.role,onChange:D=>i({...s,role:D}),options:[{value:"user",label:"User"},{value:"admin",label:"Admin"}]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Account Status"}),r.jsx(_t,{value:s.status,onChange:D=>i({...s,status:D}),options:[{value:"active",label:"Active"},{value:"suspended",label:"Suspended"}]})]}),r.jsxs("div",{className:"md:col-span-2 pt-2 border-t border-gray-100 mt-2",children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Internal Tags (Comma Separated)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{value:((R=s.tags)==null?void 0:R.join(", "))||"",onChange:D=>i({...s,tags:D.target.value.split(",").map(P=>P.trim()).filter(Boolean)}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-9 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"e.g. VIP, High Risk, Old Client"}),r.jsx(Vh,{className:"absolute left-3 top-3.5 text-gray-400",size:14})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Account Plan"}),r.jsx(_t,{value:s.plan||"free",onChange:D=>i({...s,plan:D}),options:[{value:"free",label:"Free Tier"},{value:"pro",label:"Pro ($29/mo)"},{value:"agency",label:"Agency ($99/mo)"}]})]}),s.status==="suspended"&&r.jsxs("div",{className:"md:col-span-2 bg-red-50 p-3 border border-red-100 rounded",children:[r.jsx("label",{className:"text-[10px] font-bold text-red-400 uppercase tracking-wide block mb-2",children:"Reason for Suspension"}),r.jsx("input",{value:s.banReason||"",onChange:D=>i({...s,banReason:D.target.value}),className:"w-full bg-white border border-red-200 p-2 text-sm text-red-900 outline-none focus:border-red-500",placeholder:"e.g. Violation of ToS..."})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx(Gi,{size:14})," Fund Management"]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[r.jsxs("div",{className:"flex-1 w-full",children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Amount"}),r.jsx("input",{type:"number",value:g,onChange:D=>y(D.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono font-medium outline-none focus:border-[#ff4d00]",placeholder:"0.00"})]}),r.jsxs("div",{className:"flex-[2] w-full",children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Reason"}),r.jsx("input",{type:"text",value:b,onChange:D=>v(D.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",placeholder:"e.g. Bonus, Refund, Adjustment"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>I("credit"),className:"bg-green-600 text-white px-4 py-3 text-xs font-bold uppercase tracking-wider hover:bg-green-700 transition-colors flex items-center gap-2",children:[r.jsx(Ru,{size:14})," Add"]}),r.jsxs("button",{onClick:()=>I("debit"),className:"bg-red-600 text-white px-4 py-3 text-xs font-bold uppercase tracking-wider hover:bg-red-700 transition-colors flex items-center gap-2",children:[r.jsx(x3,{size:14})," Deduct"]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-red-600 mb-6 flex items-center gap-2",children:[r.jsx(ua,{size:14})," Risk Control"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100 rounded",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Shadow Ban"}),r.jsx("div",{className:"text-[10px] text-gray-500",children:'User appears active but campaigns adhere to "Ghost Mode".'})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:s.shadowBanned||!1,onChange:D=>i({...s,shadowBanned:D.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-red-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100 rounded",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Email Verified"}),r.jsx("div",{className:"text-[10px] text-gray-500",children:"Manually override verification status."})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:s.isVerified||!1,onChange:D=>i({...s,isVerified:D.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-green-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100 rounded",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Last Known IP"}),r.jsx("div",{className:"text-[10px] text-gray-500",children:s.lastIp||"Unknown"})]}),r.jsx("div",{className:"px-2 py-1 bg-gray-200 text-gray-600 text-xs font-mono rounded",children:s.lastIp?s.lastIp:"N/A"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx(U6,{size:14})," Admin Notes (Private)"]}),r.jsx("textarea",{value:s.notes||"",onChange:D=>i({...s,notes:D.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-sm outline-none focus:border-[#ff4d00] min-h-[120px]",placeholder:"Add private notes about this user (e.g. 'Refunded on 12/12', 'VIP client')..."})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-[#111] text-white p-8",children:[r.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Current Balance"}),r.jsxs("div",{className:"text-4xl font-black text-[#ff4d00]",children:["",s.balance.toFixed(2)]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[r.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-4",children:"Quick Stats"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Transactions"}),r.jsx("span",{className:"font-bold",children:l.length})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Tickets"}),r.jsx("span",{className:"font-bold",children:h.length})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Projects"}),r.jsx("span",{className:"font-bold",children:s.projectsCount})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[r.jsx(Gi,{size:14})," Credit History"]}),r.jsx("button",{className:"text-[10px] font-bold text-gray-400 hover:text-black uppercase",children:"View All"})]}),r.jsxs("table",{className:"w-full text-left",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Desc"}),r.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-right",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-50",children:l.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-xs text-gray-400",children:"No transactions found."})}):l.slice(0,5).map(D=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:new Date(D.date).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-3 text-xs text-gray-900 font-medium",children:D.desc}),r.jsxs("td",{className:`px-6 py-3 text-xs font-bold ${D.type==="credit"?"text-green-600":"text-gray-900"}`,children:[D.type==="credit"?"+":"-","",D.amount.toFixed(2)]}),r.jsx("td",{className:"px-6 py-3 text-right",children:r.jsx("span",{className:`text-[9px] uppercase font-bold px-2 py-1 rounded-full ${D.status==="completed"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:D.status})})]},D.id))})]})]})]})]})]}):r.jsx("div",{children:"User not found."})},cM=({projectId:n,onBack:e,onUpdate:t})=>{const[s,i]=S.useState(null),[l,u]=S.useState(!1),[h,f]=S.useState(!0);if(S.useEffect(()=>{f(!0);const v=te.getProjectById(n);if(v){const k=JSON.parse(JSON.stringify(v));k.settings||(k.settings={trafficSpeed:100,bounceRate:0,returnRate:0,deviceSplit:70,deviceSpecific:"All",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:["United States"],geoTargets:[{id:"default-geo",country:"United States",percent:100}],trafficSource:"organic",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0}),k.settings.languages||(k.settings.languages=[k.settings.language||"en-US"]),k.settings.countries||(k.settings.countries=["United States"]),i(k)}f(!1)},[n]),h)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-500",children:"Loading project..."})});if(!s||!s.settings)return r.jsx("div",{children:"Project not found."});const g=()=>{s&&(u(!0),setTimeout(()=>{te.updateProject(s),u(!1),t(),alert("Project configuration saved successfully.")},500))},y=(v,k)=>{!s||!s.settings||i({...s,settings:{...s.settings,[v]:k}})};if(!s||!s.settings)return r.jsx("div",{children:"Project not found."});const b=s.settings;return r.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6 pb-12",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-[#f3f4f6] z-10 py-4 border-b border-gray-200",children:[r.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[r.jsx(Js,{size:14})," Back to Projects"]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Editing Campaign"}),r.jsx("div",{className:"text-sm font-black text-gray-900",children:s.name})]}),r.jsxs("button",{onClick:g,disabled:l,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 shadow-lg disabled:opacity-70 disabled:cursor-not-allowed",children:[r.jsx(Ga,{size:14})," ",l?"Saving...":"Save All Changes"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(ml,{size:14})," Core Configuration"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(At,{children:"Project Name"}),r.jsx("input",{value:s.name,onChange:v=>i({...s,name:v.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{children:[r.jsx(At,{children:"Target URL (Entry)"}),r.jsx("input",{value:b.entryUrls,onChange:v=>y("entryUrls",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(At,{children:"Plan Tier"}),r.jsx(_t,{value:s.plan,onChange:v=>i({...s,plan:v}),options:[{value:"Free Trial",label:"Free Trial"},{value:"Starter",label:"Starter"},{value:"Growth",label:"Growth"},{value:"Agency",label:"Agency"}]})]}),r.jsxs("div",{children:[r.jsx(At,{children:"Status"}),r.jsx(_t,{value:s.status,onChange:v=>i({...s,status:v}),options:[{value:"active",label:"Active"},{value:"stopped",label:"Stopped"},{value:"completed",label:"Completed"}]})]})]}),r.jsxs("div",{children:[r.jsx(At,{children:"Expiration Date"}),r.jsx("input",{value:s.expires,onChange:v=>i({...s,expires:v.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"YYYY-MM-DD"})]}),r.jsxs("div",{children:[r.jsx(At,{children:"Google Analytics ID"}),r.jsx("input",{value:b.gaId,onChange:v=>y("gaId",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"G-XXXXXXXXXX"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx($a,{size:14})," Visitor Behavior"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(At,{children:"Bounce Rate (%)"}),r.jsx("input",{type:"number",value:b.bounceRate,onChange:v=>y("bounceRate",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{children:[r.jsx(At,{children:"Return Rate (%)"}),r.jsx("input",{type:"number",value:b.returnRate,onChange:v=>y("returnRate",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),r.jsxs("div",{children:[r.jsx(At,{children:"Time On Page"}),r.jsx(_t,{value:b.timeOnPage,onChange:v=>y("timeOnPage",v),options:[{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"3 minutes",label:"3 minutes"},{value:"5 minutes",label:"5 minutes"}]})]}),r.jsxs("div",{children:[r.jsx(At,{children:"Traffic Speed (Priority)"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("input",{type:"range",min:"0",max:"100",value:b.trafficSpeed,onChange:v=>y("trafficSpeed",parseInt(v.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"}),r.jsxs("span",{className:"text-sm font-bold w-12",children:[b.trafficSpeed,"%"]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-end mb-2",children:[r.jsx(At,{children:"Device Split"}),r.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase flex gap-3",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(tu,{size:10})," Desktop: ",b.deviceSplit,"%"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(uf,{size:10})," Mobile: ",100-b.deviceSplit,"%"]})]})]}),r.jsx("input",{type:"range",min:"0",max:"100",value:b.deviceSplit,onChange:v=>y("deviceSplit",parseInt(v.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(Ji,{size:14})," Geolocation & Tech"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(At,{children:"Countries"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:b.countries.map(v=>r.jsxs("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 text-xs font-bold uppercase rounded-sm flex items-center gap-2",children:[v," ",r.jsx("button",{onClick:()=>y("countries",b.countries.filter(k=>k!==v)),className:"hover:text-red-500",children:""})]},v))}),r.jsx(_t,{value:"",onChange:v=>{v&&!b.countries.includes(v)&&y("countries",[...b.countries,v])},placeholder:"Add Country...",options:[{value:"United States",label:"United States"},{value:"United Kingdom",label:"United Kingdom"},{value:"Germany",label:"Germany"},{value:"France",label:"France"},{value:"Canada",label:"Canada"},{value:"India",label:"India"},{value:"Brazil",label:"Brazil"}]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(At,{children:"Browser Language"}),r.jsx("input",{value:b.languages.join(", "),onChange:v=>y("languages",v.target.value.split(", ")),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{children:[r.jsx(At,{children:"Timezone"}),r.jsx(_t,{value:b.timezone,onChange:v=>y("timezone",v),options:[{value:"UTC",label:"UTC"},{value:"EST",label:"EST"},{value:"PST",label:"PST"},{value:"CET",label:"CET"}]})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(nu,{size:14})," Advanced Interactions"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(At,{children:"Traffic Source Type"}),r.jsx(_t,{value:b.trafficSource,onChange:v=>y("trafficSource",v),options:[{value:"organic",label:"Organic (Search)"},{value:"direct",label:"Direct"},{value:"social",label:"Social"}]})]}),b.trafficSource==="organic"&&r.jsxs("div",{children:[r.jsx(At,{children:"Keywords (One per line)"}),r.jsx("textarea",{value:b.keywords,onChange:v=>y("keywords",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(At,{children:"Inner URLs Count"}),r.jsx("input",{type:"number",value:b.innerUrlCount,onChange:v=>y("innerUrlCount",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{children:[r.jsx(At,{children:"Scroll Events (%)"}),r.jsx("input",{type:"number",value:b.pageViewsWithScroll,onChange:v=>y("pageViewsWithScroll",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{children:[r.jsx(At,{children:"Internal Clicks"}),r.jsx("input",{type:"number",value:b.clickInternal,onChange:v=>y("clickInternal",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),r.jsxs("div",{children:[r.jsx(At,{children:"Inner URLs (CSV)"}),r.jsx("input",{value:b.innerUrls,onChange:v=>y("innerUrls",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-600 outline-none focus:border-[#ff4d00]",placeholder:"http://..., http://..."})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(ml,{size:14})," UTM & Attribution"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx(At,{children:"Campaign Source"}),r.jsx("input",{value:b.utmSource||"",onChange:v=>y("utmSource",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. google"})]}),r.jsxs("div",{children:[r.jsx(At,{children:"Campaign Medium"}),r.jsx("input",{value:b.utmMedium||"",onChange:v=>y("utmMedium",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. cpc"})]}),r.jsxs("div",{children:[r.jsx(At,{children:"Campaign Name"}),r.jsx("input",{value:b.utmCampaign||"",onChange:v=>y("utmCampaign",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. winter_sale"})]}),r.jsxs("div",{children:[r.jsx(At,{children:"Campaign Term"}),r.jsx("input",{value:b.utmTerm||"",onChange:v=>y("utmTerm",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. running_shoes"})]}),r.jsxs("div",{children:[r.jsx(At,{children:"Campaign Content"}),r.jsx("input",{value:b.utmContent||"",onChange:v=>y("utmContent",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. banner_wide"})]})]}),r.jsxs("p",{className:"mt-4 text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:["Supports: ","{{random_keyword}}, {{timestamp}}, {{device_type}}"]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm lg:col-span-2",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(Xn,{size:14})," System Features"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(Ic,{label:"Auto Renew",checked:b.autoRenew,onChange:v=>y("autoRenew",v)}),r.jsx(Ic,{label:"Cache Website",checked:b.cacheWebsite,onChange:v=>y("cacheWebsite",v)}),r.jsx(Ic,{label:"Minimize CPU",checked:b.minimizeCpu,onChange:v=>y("minimizeCpu",v)}),r.jsx(Ic,{label:"Anti-Fingerprint",checked:b.antiFingerprint,onChange:v=>y("antiFingerprint",v)}),r.jsx(Ic,{label:"Randomize Session",checked:b.randomizeSession,onChange:v=>y("randomizeSession",v)}),r.jsx(Ic,{label:"Auto Crawl",checked:b.autoCrawlEntry,onChange:v=>y("autoCrawlEntry",v)})]})]})]})]})},At=({children:n})=>r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:n}),Ic=({label:n,checked:e,onChange:t})=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[r.jsx("span",{className:"text-sm font-bold text-gray-700",children:n}),r.jsx("button",{onClick:()=>t(!e),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${e?"bg-[#ff4d00]":"bg-gray-300"}`,children:r.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${e?"translate-x-5":"translate-x-0"}`})})]}),uM=({trxId:n,onBack:e,onUpdate:t})=>{const[s,i]=S.useState(null);S.useEffect(()=>{const h=te.getTransactions().find(f=>f.id===n);i(h||null)},[n]);const l=()=>{s&&(te.updateTransaction(s),t(),alert("Transaction updated."))};return s?r.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[r.jsx(Js,{size:14})," Back to Transactions"]}),r.jsxs("button",{onClick:l,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[r.jsx(Ga,{size:14})," Save Changes"]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm max-w-3xl mx-auto",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8",children:["Edit Transaction: ",s.id]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Description"}),r.jsx("input",{value:s.desc,onChange:u=>i({...s,desc:u.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Amount ()"}),r.jsx("input",{type:"number",value:s.amount,onChange:u=>i({...s,amount:parseFloat(u.target.value)||0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Type"}),r.jsxs("select",{value:s.type,onChange:u=>i({...s,type:u.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[r.jsx("option",{value:"credit",children:"Credit (+)"}),r.jsx("option",{value:"debit",children:"Debit (-)"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Status"}),r.jsxs("select",{value:s.status,onChange:u=>i({...s,status:u.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"failed",children:"Failed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Date"}),r.jsx("input",{value:s.date,onChange:u=>i({...s,date:u.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]})]})]})]}):r.jsx("div",{children:"Transaction not found."})},dM={trafficSpeed:100,bounceRate:0,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:["United States"],geoTargets:[{id:"default-geo",country:"United States",percent:100}],trafficSource:"organic",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,urlVisitOrder:"random",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0},hM=({onBack:n,onSuccess:e})=>{const[t,s]=S.useState(""),[i,l]=S.useState(""),[u,h]=S.useState(1e3),[f,g]=S.useState(7),[y,b]=S.useState({...dM}),[v,k]=S.useState(!1),[I,R]=S.useState(null),[D,P]=S.useState(!1),[M,z]=S.useState("idle"),le=Math.round(u/f),L=(N,E)=>{b(O=>({...O,[N]:E}))},H=async()=>{if(!i){R("Please enter a target URL first");return}P(!0),z("idle");try{const N=await te.scanGA4(i);N?(L("gaId",N),z("success")):z("error")}catch{z("error")}finally{P(!1)}},T=async()=>{var N;if(!t||!i){R("Please enter a project name and target URL");return}if(u<100||f<1){R("Minimum 100 visitors and 1 day required");return}k(!0),R(null);try{const E={id:"proj_"+Date.now(),userId:((N=te.getCurrentUser())==null?void 0:N.id)||"admin",name:t,plan:"Custom",customTarget:{totalVisitors:u,durationDays:f,dailyLimit:le},expires:"Never",status:"active",settings:y,stats:[]};await te.addProject(E),e(),n()}catch(E){R(E.message||"Failed to create project")}finally{k(!1)}};return r.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6 pb-12",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-[#f3f4f6] z-10 py-4 border-b border-gray-200",children:[r.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[r.jsx(Js,{size:14})," Back to Projects"]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"New Campaign"}),r.jsx("div",{className:"text-sm font-black text-gray-900",children:"Create Project"})]}),r.jsxs("button",{onClick:T,disabled:v,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Ga,{size:14})," ",v?"Creating...":"Create Project"]})]})]}),I&&r.jsx("div",{className:"bg-red-50 border border-red-200 p-4 text-red-700 text-sm font-bold",children:I}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(ml,{size:14})," Core Configuration"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(qe,{children:"Project Name"}),r.jsx("input",{value:t,onChange:N=>s(N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"My Traffic Campaign"})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Target URL (Entry)"}),r.jsx("input",{value:i,onChange:N=>l(N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://example.com"})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Total Visitors"}),r.jsx("input",{type:"number",min:"100",value:u,onChange:N=>h(parseInt(N.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"1000"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(qe,{children:"Duration (Days)"}),r.jsx("input",{type:"number",min:"1",value:f,onChange:N=>g(parseInt(N.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Daily Visitors"}),r.jsxs("div",{className:"w-full bg-[#f3f4f6] border border-gray-200 p-3 text-sm font-bold text-[#ff4d00]",children:[le.toLocaleString()," /day"]})]})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Google Analytics ID"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("input",{value:y.gaId,onChange:N=>L("gaId",N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"G-XXXXXXXXXX"}),M==="success"&&r.jsx(oa,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-500"}),M==="error"&&r.jsx(ev,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-500"})]}),r.jsxs("button",{onClick:H,disabled:D||!i,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 text-xs font-bold uppercase tracking-wide flex items-center gap-2 transition-colors disabled:opacity-50",title:"Auto-detect GA ID from website",children:[D?r.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):r.jsx(Sr,{size:14}),"Detect"]})]}),M==="error"&&r.jsx("p",{className:"text-[10px] text-red-500 mt-1",children:"No Google Analytics ID found on this website"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx($a,{size:14})," Visitor Behavior"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(qe,{children:"Bounce Rate (%)"}),r.jsx("input",{type:"number",value:y.bounceRate,onChange:N=>L("bounceRate",parseInt(N.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Return Rate (%)"}),r.jsx("input",{type:"number",value:y.returnRate,onChange:N=>L("returnRate",parseInt(N.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Time On Page"}),r.jsx(_t,{value:y.timeOnPage,onChange:N=>L("timeOnPage",N),options:[{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"3 minutes",label:"3 minutes"},{value:"5 minutes",label:"5 minutes"}]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(Ji,{size:14})," Geolocation"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(qe,{children:"Countries"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:y.countries.map(N=>r.jsxs("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 text-xs font-bold uppercase rounded-sm flex items-center gap-2",children:[N," ",r.jsx("button",{onClick:()=>L("countries",y.countries.filter(E=>E!==N)),className:"hover:text-red-500",children:""})]},N))}),r.jsx(_t,{value:"",onChange:N=>{N&&!y.countries.includes(N)&&L("countries",[...y.countries,N])},placeholder:"Add Country...",options:[{value:"United States",label:"United States"},{value:"United Kingdom",label:"United Kingdom"},{value:"Germany",label:"Germany"},{value:"France",label:"France"},{value:"Canada",label:"Canada"},{value:"India",label:"India"},{value:"Brazil",label:"Brazil"}]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(qe,{children:"Browser Language"}),r.jsx("input",{value:y.languages.join(", "),onChange:N=>L("languages",N.target.value.split(", ")),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Timezone"}),r.jsx(_t,{value:y.timezone,onChange:N=>L("timezone",N),options:[{value:"UTC",label:"UTC"},{value:"EST",label:"EST"},{value:"PST",label:"PST"},{value:"CET",label:"CET"}]})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(nu,{size:14})," Traffic Source"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(qe,{children:"Traffic Source Type"}),r.jsx(_t,{value:y.trafficSource,onChange:N=>L("trafficSource",N),options:[{value:"organic",label:"Organic (Search)"},{value:"direct",label:"Direct"},{value:"social",label:"Social"}]})]}),y.trafficSource==="organic"&&r.jsxs("div",{children:[r.jsx(qe,{children:"Keywords (One per line)"}),r.jsx("textarea",{value:y.keywords,onChange:N=>L("keywords",N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`keyword1
keyword2`})]}),y.trafficSource==="social"&&r.jsxs("div",{children:[r.jsx(qe,{children:"Referral URLs (One per line)"}),r.jsx("textarea",{value:y.referralUrls,onChange:N=>L("referralUrls",N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://facebook.com
https://twitter.com`})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(ml,{size:14})," UTM & Attribution"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx(qe,{children:"Campaign Source"}),r.jsx("input",{value:y.utmSource||"",onChange:N=>L("utmSource",N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. google"})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Campaign Medium"}),r.jsx("input",{value:y.utmMedium||"",onChange:N=>L("utmMedium",N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. cpc"})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Campaign Name"}),r.jsx("input",{value:y.utmCampaign||"",onChange:N=>L("utmCampaign",N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. split_test"})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Campaign Term"}),r.jsx("input",{value:y.utmTerm||"",onChange:N=>L("utmTerm",N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. keyword"})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Campaign Content"}),r.jsx("input",{value:y.utmContent||"",onChange:N=>L("utmContent",N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. sidebar_ad"})]})]}),r.jsxs("p",{className:"mt-4 text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:["Supports: ","{{random_keyword}}, {{timestamp}}, {{device_type}}"]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(Ji,{size:14})," Proxy & Schedule"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx(qe,{children:"Proxy Mode"}),r.jsx(_t,{value:y.proxyMode||"auto",onChange:N=>L("proxyMode",N),options:[{value:"auto",label:"Auto-Rotate"},{value:"sticky",label:"Sticky Session"},{value:"custom",label:"Custom List"}]})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Visit Order"}),r.jsx(_t,{value:y.urlVisitOrder||"random",onChange:N=>L("urlVisitOrder",N),options:[{value:"random",label:"Random"},{value:"sequential",label:"Sequential Funnel"}]})]})]}),y.proxyMode==="custom"&&r.jsxs("div",{children:[r.jsx(qe,{children:"Custom Proxies"}),r.jsx("textarea",{value:y.customProxies,onChange:N=>L("customProxies",N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono outline-none focus:border-[#ff4d00] h-20",placeholder:"ip:port:user:pass"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(uf,{size:14})," Device Targeting"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(qe,{children:"Device Specific"}),r.jsx(_t,{value:y.deviceSpecific,onChange:N=>{N.includes("Mobile")&&L("deviceSplit",0),N.includes("Desktop")&&L("deviceSplit",100),L("deviceSpecific",N)},options:[{value:"All",label:"All Devices"},{value:"Desktop, Windows",label:"Windows Desktop"},{value:"Desktop, Mac",label:"Mac Desktop"},{value:"Mobile, iPhone",label:"iPhone"},{value:"Mobile, Android",label:"Android"}]})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Browser"}),r.jsx(_t,{value:y.browser||"Random",onChange:N=>L("browser",N),options:[{value:"Random",label:"Random"},{value:"Chrome",label:"Chrome"},{value:"Firefox",label:"Firefox"},{value:"Safari",label:"Safari"},{value:"Edge",label:"Edge"}]})]})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Device Split (Desktop/Tablet/Mobile)"}),r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[r.jsx("span",{className:"text-[10px] font-bold w-12 text-gray-500",children:"Desktop"}),r.jsx("input",{type:"range",min:"0",max:"100",value:y.deviceSplit,onChange:N=>{const E=parseInt(N.target.value),O=100-(y.tabletSplit||0);L("deviceSplit",Math.min(E,O))},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"}),r.jsxs("span",{className:"text-sm font-bold w-8",children:[y.deviceSplit,"%"]})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[r.jsx("span",{className:"text-[10px] font-bold w-12 text-gray-500",children:"Tablet"}),r.jsx("input",{type:"range",min:"0",max:"100",value:y.tabletSplit||0,onChange:N=>{const E=parseInt(N.target.value),O=100-y.deviceSplit;L("tabletSplit",Math.min(E,O))},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-gray-500"}),r.jsxs("span",{className:"text-sm font-bold w-8",children:[y.tabletSplit||0,"%"]})]}),r.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 text-right",children:["Mobile Remainder: ",100-y.deviceSplit-(y.tabletSplit||0),"%"]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(n3,{size:14})," Crawling Options"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(qe,{children:"Entry URLs (One per line)"}),r.jsx("textarea",{value:y.entryUrls,onChange:N=>L("entryUrls",N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://example.com
https://example.com/about`})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Inner URLs (One per line)"}),r.jsx("textarea",{value:y.innerUrls,onChange:N=>L("innerUrls",N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://example.com/page1
https://example.com/page2`})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Exit URLs (One per line)"}),r.jsx("textarea",{value:y.exitUrls,onChange:N=>L("exitUrls",N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:"https://example.com/thank-you"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:y.autoCrawlEntry,onChange:N=>L("autoCrawlEntry",N.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),r.jsx(qe,{className:"!mb-0",children:"Auto-crawl Entry"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:y.autoCrawlInner,onChange:N=>L("autoCrawlInner",N.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),r.jsx(qe,{className:"!mb-0",children:"Auto-crawl Inner"})]})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Inner URL Count"}),r.jsx("input",{type:"number",min:"0",value:y.innerUrlCount,onChange:N=>L("innerUrlCount",parseInt(N.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(J3,{size:14})," Advanced Options"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(qe,{children:"Sitemap URL"}),r.jsx("input",{value:y.sitemap,onChange:N=>L("sitemap",N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://example.com/sitemap.xml"})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"URL Shortener"}),r.jsx("input",{value:y.shortener,onChange:N=>L("shortener",N.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://short.url/..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:y.autoRenew,onChange:N=>L("autoRenew",N.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),r.jsx(qe,{className:"!mb-0",children:"Auto-renew"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:y.cacheWebsite,onChange:N=>L("cacheWebsite",N.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),r.jsx(qe,{className:"!mb-0",children:"Cache Website"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:y.minimizeCpu,onChange:N=>L("minimizeCpu",N.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),r.jsx(qe,{className:"!mb-0",children:"Minimize CPU"})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(pl,{size:14})," Session Behavior"]}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:y.randomizeSession,onChange:N=>L("randomizeSession",N.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),r.jsx(qe,{className:"!mb-0",children:"Randomize Session"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:y.antiFingerprint,onChange:N=>L("antiFingerprint",N.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),r.jsx(qe,{className:"!mb-0",children:"Anti-fingerprinting"})]})]})})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[r.jsx(_3,{size:14})," Interaction Settings"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(qe,{children:"Page Views with Scroll (%)"}),r.jsx("input",{type:"number",min:"0",max:"100",value:y.pageViewsWithScroll,onChange:N=>L("pageViewsWithScroll",parseInt(N.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(qe,{children:"Click External Links"}),r.jsx("input",{type:"number",min:"0",value:y.clickExternal,onChange:N=>L("clickExternal",parseInt(N.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),r.jsxs("div",{children:[r.jsx(qe,{children:"Click Internal Links"}),r.jsx("input",{type:"number",min:"0",value:y.clickInternal,onChange:N=>L("clickInternal",parseInt(N.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]})]})]})]})]})},qe=({children:n,className:e=""})=>r.jsx("label",{className:`text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2 ${e}`,children:n}),fM=()=>{const[n,e]=S.useState("GET /stats"),[t,s]=S.useState("{}"),[i,l]=S.useState([]),[u,h]=S.useState(!1),[f,g]=S.useState(null),y=[{method:"GET",path:"/health",desc:"Check system health and mode"},{method:"GET",path:"/stats",desc:"Global traffic throughput statistics"},{method:"GET",path:"/events",desc:"Recent 50 page-view events with metadata"},{method:"GET",path:"/projects",desc:"List all running and saved projects"},{method:"POST",path:"/projects",desc:"Create a new traffic project"},{method:"DELETE",path:"/projects/{id}",desc:"Remove a project and stop traffic"},{method:"POST",path:"/start",desc:"Immediate ad-hoc traffic burst"},{method:"POST",path:"/stop",desc:"Halt all active user simulations"},{method:"GET",path:"/proxies",desc:"List active proxy rotation pool"},{method:"POST",path:"/proxies",desc:"Add a new proxy to the pool"},{method:"GET",path:"/admin/stats",desc:"SaaS Business Metrics (Revenue, Users)"}],b=(R,D,P)=>{const M={id:Math.random().toString(36).substr(2,9),type:R,msg:D,time:new Date().toLocaleTimeString(),duration:P};l(z=>[M,...z].slice(0,50))},v=async()=>{h(!0);const[R,D]=n.split(" "),P="http://localhost:8001",M=performance.now();b("req",`${R} ${D}
Payload: ${t}`);try{const z={method:R,headers:{"Content-Type":"application/json",Authorization:"Bearer ADMIN_MOCK_TOKEN"}};R!=="GET"&&t!=="{}"&&(z.body=t);const le=await fetch(`${P}${D}`,z),L=performance.now(),H=Math.round(L-M);let T;try{T=await le.json()}catch{T={error:"Failed to parse JSON response"}}le.ok?b("res",JSON.stringify(T,null,2),H):b("err",`Error ${le.status}: ${JSON.stringify(T,null,2)}`,H)}catch(z){const le=performance.now();b("err",`Network Failure: ${z.message}`,Math.round(le-M))}finally{h(!1)}},k=(R,D)=>{navigator.clipboard.writeText(R),g(D),setTimeout(()=>g(null),2e3)},I=()=>l([]);return r.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-in fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 flex-shrink-0",children:[r.jsxs("div",{className:"flex items-end gap-3",children:[r.jsx("div",{className:"bg-black p-2 rounded-sm text-white shadow-lg",children:r.jsx(HS,{size:24})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-1",children:"Developer Hub"}),r.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"API Documentation & Debugger"})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"bg-white border border-gray-200 px-4 py-2 flex items-center gap-3 shadow-sm rounded-sm",children:[r.jsx(G3,{size:14,className:"text-green-500"}),r.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["Backend Status: ",r.jsx("span",{className:"text-green-600",children:"ONLINE"})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 px-4 py-2 flex items-center gap-3 shadow-sm rounded-sm",children:[r.jsx(Yn,{size:14,className:"text-blue-500"}),r.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["API Version: ",r.jsx("span",{className:"text-blue-600",children:"v1.2.0"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 flex-1 overflow-hidden",children:[r.jsxs("div",{className:"bg-white border border-gray-200 flex flex-col overflow-hidden shadow-sm rounded-sm",children:[r.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center justify-between",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[r.jsx(A6,{size:14})," Endpoints Reference"]}),r.jsx("span",{className:"text-[10px] font-bold bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"FastAPI Engine"})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:[r.jsx("div",{className:"space-y-6",children:y.map((R,D)=>r.jsxs("div",{className:"group border-b border-gray-100 pb-6 last:border-0 hover:bg-gray-50/50 p-2 -m-2 transition-colors rounded-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-sm uppercase tracking-tighter shadow-sm ${R.method==="GET"?"bg-blue-600 text-white":R.method==="POST"?"bg-green-600 text-white":R.method==="DELETE"?"bg-red-600 text-white":"bg-orange-600 text-white"}`,children:R.method}),r.jsx("code",{className:"text-xs font-bold text-gray-900",children:R.path}),r.jsxs("div",{className:"ml-auto flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{onClick:()=>k(R.path,`path-${D}`),className:"p-1 px-2 bg-gray-100 hover:bg-black hover:text-white text-[9px] font-bold uppercase rounded-sm border border-gray-200 transition-all",children:f===`path-${D}`?"Copied":"Copy"}),r.jsx("button",{onClick:()=>{e(`${R.method} ${R.path}`),R.method==="POST"&&s(`{
  "demo": true
}`)},className:"p-1 px-2 bg-[#ff4d00]/10 hover:bg-[#ff4d00] text-[#ff4d00] hover:text-white text-[9px] font-bold uppercase rounded-sm border border-[#ff4d00]/20 transition-all",children:"Test"})]})]}),r.jsx("p",{className:"text-gray-500 text-[11px] leading-relaxed",children:R.desc})]},D))}),r.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-100 rounded-sm",children:[r.jsxs("h4",{className:"text-xs font-bold text-orange-800 uppercase mb-3 flex items-center gap-2",children:[r.jsx(Jy,{size:14})," Security Headers"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between bg-white p-2 border border-orange-100 rounded-sm overflow-hidden",children:[r.jsx("code",{className:"text-[10px] text-gray-600",children:"Authorization: Bearer [token]"}),r.jsx("button",{onClick:()=>k("Authorization: Bearer YOUR_TOKEN","auth-header"),className:"text-[9px] font-bold text-orange-600 hover:underline",children:"Copy"})]}),r.jsxs("div",{className:"flex items-center justify-between bg-white p-2 border border-orange-100 rounded-sm overflow-hidden",children:[r.jsx("code",{className:"text-[10px] text-gray-600",children:"X-API-KEY: [your-key]"}),r.jsx("button",{onClick:()=>k("X-API-KEY: YOUR_KEY","x-key"),className:"text-[9px] font-bold text-orange-600 hover:underline",children:"Copy"})]}),r.jsx("p",{className:"text-[10px] text-orange-700/70 italic mt-2",children:"Admin requests bypass standard rate limits for maintenance purposes."})]})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-6 overflow-hidden",children:[r.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm rounded-sm",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[r.jsx(Xn,{size:14,className:"text-[#ff4d00]"})," API Scratchpad"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>s(`{
  "demo": true
}`),className:"text-[9px] font-bold text-gray-400 hover:text-black uppercase",children:"Sample"}),r.jsx("button",{onClick:()=>s("{}"),className:"text-[9px] font-bold text-gray-400 hover:text-black uppercase",children:"Reset"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative group",children:[r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300 group-focus-within:text-[#ff4d00] transition-colors",children:r.jsx($a,{size:14})}),r.jsx("input",{className:"w-full bg-gray-50 border border-gray-200 p-3 pl-10 text-xs font-mono outline-none focus:border-[#ff4d00] focus:bg-white transition-all rounded-sm",value:n,onChange:R=>e(R.target.value),placeholder:"METHOD /path (e.g. GET /health)"})]}),r.jsxs("button",{onClick:v,disabled:u,className:"bg-black text-white px-8 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] shadow-[0_4px_10px_rgba(0,0,0,0.1)] hover:shadow-[#ff4d00]/30 transition-all disabled:opacity-50 flex items-center gap-2 rounded-sm",children:[u?r.jsx(mM,{size:14,className:"animate-spin"}):r.jsx(fl,{size:14}),"Execute"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Request Body (JSON)"}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{className:"w-full bg-[#111] text-green-400 font-mono text-xs p-6 h-40 outline-none border border-gray-800 rounded-sm shadow-inner",value:t,onChange:R=>s(R.target.value),spellCheck:!1}),r.jsx("div",{className:"absolute right-4 bottom-4 text-[9px] font-bold text-gray-600 bg-[#1a1a1a] px-2 py-1 rounded-sm border border-gray-800",children:"UTF-8"})]})]})]})]}),r.jsxs("div",{className:"flex-1 bg-[#0a0a0a] border border-gray-800 flex flex-col overflow-hidden shadow-2xl rounded-sm",children:[r.jsxs("div",{className:"p-3 px-6 border-b border-gray-800 bg-[#111] flex items-center justify-between",children:[r.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[r.jsx(_p,{size:12})," Live Trace Diagnostic"]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("button",{onClick:()=>k(i.map(R=>`[${R.time}] ${R.type.toUpperCase()}: ${R.msg}`).join(`
`),"copy-logs"),className:"text-[10px] font-bold text-gray-500 hover:text-white uppercase flex items-center gap-1",children:[r.jsx(dl,{size:10})," ",f==="copy-logs"?"Copied":"Export"]}),r.jsxs("button",{onClick:I,className:"text-[10px] font-bold text-gray-500 hover:text-red-500 uppercase flex items-center gap-1",children:[r.jsx(Dl,{size:10})," Clear"]})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar space-y-4 font-mono",children:i.length===0?r.jsx("div",{className:"h-full flex items-center justify-center text-gray-700 text-[10px] uppercase font-bold tracking-[0.2em] italic opacity-50",children:"Waiting for telemetry..."}):i.map(R=>r.jsxs("div",{className:"animate-in slide-in-from-left-2 duration-300 border-l-2 border-gray-800 pl-4 py-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-1.5",children:[r.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-xs ${R.type==="req"?"bg-blue-500 text-white":R.type==="res"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:R.type==="req"?"REQUEST":R.type==="res"?"SUCCESS":"FAILURE"}),r.jsx("span",{className:"text-[9px] font-bold text-gray-600",children:R.time}),R.duration&&r.jsxs("span",{className:"text-[9px] font-bold text-gray-400 flex items-center gap-1",children:[r.jsx(Yn,{size:8})," ",R.duration,"ms"]}),r.jsx("button",{onClick:()=>k(R.msg,`copy-${R.id}`),className:"ml-auto text-[8px] font-bold text-gray-600 hover:text-white uppercase transition-colors",children:f===`copy-${R.id}`?"Copied":"Copy"})]}),r.jsx("div",{className:`text-[11px] leading-relaxed p-3 rounded-sm ${R.type==="req"?"bg-blue-950/20 text-blue-300/80":R.type==="res"?"bg-green-950/20 text-green-300":"bg-red-950/20 text-red-300"}`,children:r.jsx("pre",{className:"whitespace-pre-wrap break-all",children:R.msg})})]},R.id))})]})]})]})]})},mM=({size:n,className:e})=>r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),r.jsx("path",{d:"M21 3v5h-5"}),r.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),r.jsx("path",{d:"M8 16H3v5"})]}),pM=()=>{const[n,e]=S.useState("campaigns"),[t,s]=S.useState([]),[i,l]=S.useState(null),[u,h]=S.useState(null),[f,g]=S.useState(""),[y,b]=S.useState(""),[v,k]=S.useState(!1),[I,R]=S.useState(null);S.useEffect(()=>{D(),l(te.getLoyaltySettings()),h(te.getReferralSettings())},[]);const D=()=>{const M=te.getMarketingStats();s(M)},P=async()=>{!f||!y||(k(!0),await new Promise(M=>setTimeout(M,1500)),k(!1),R(new Date().toLocaleTimeString()),g(""),b(""),alert("Test email blast sent successfully (Simulated)!"))};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Marketing Hub"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage acquisition campaigns and outbound communications."})]})}),r.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[r.jsx("button",{onClick:()=>e("campaigns"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${n==="campaigns"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ph,{size:16}),r.jsx("span",{children:"Ad Tracking & Stats"})]})}),r.jsx("button",{onClick:()=>e("email"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${n==="email"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hl,{size:16}),r.jsx("span",{children:"Email Blasts"})]})}),r.jsx("button",{onClick:()=>e("loyalty"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${n==="loyalty"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gi,{size:16}),r.jsx("span",{children:"Loyalty & Referrals"})]})})]}),n==="campaigns"?r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.map(M=>{var z,le;return r.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-[10px] font-bold uppercase px-2 py-1 rounded bg-gray-100 text-gray-600",children:M.type.replace("_"," ")}),r.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-1 rounded
                                    ${M.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:M.status})]}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:M.name}),r.jsxs("p",{className:"text-xs text-gray-400 mb-6",children:["Created: ",M.dateCreated]}),r.jsx("div",{className:"grid grid-cols-2 gap-4 mt-auto",children:M.type==="email"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Opens"}),r.jsxs("p",{className:"text-xl font-mono font-bold text-gray-900",children:[M.openRate,"%"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Clicks"}),r.jsxs("p",{className:"text-xl font-mono font-bold text-gray-900",children:[M.clickRate,"%"]})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Clicks"}),r.jsx("p",{className:"text-xl font-mono font-bold text-gray-900",children:(z=M.clicks)==null?void 0:z.toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Revenue"}),r.jsxs("p",{className:"text-xl font-mono font-bold text-green-600",children:["$",(le=M.revenue)==null?void 0:le.toLocaleString()]})]})]})})]},M.id)}),r.jsxs("button",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center gap-3 text-gray-400 hover:text-[#ff4d00] hover:border-[#ff4d00] hover:bg-orange-50 transition-all group min-h-[200px]",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 group-hover:bg-[#ff4d00] flex items-center justify-center transition-colors",children:r.jsx(Ph,{size:24,className:"group-hover:text-white"})}),r.jsx("span",{className:"font-bold",children:"Track New URL"})]})]}):n==="email"?r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2 space-y-4",children:r.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[r.jsx(fl,{size:20,className:"text-[#ff4d00]"}),"Compose Blast"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subject Line"}),r.jsx("input",{type:"text",value:f,onChange:M=>g(M.target.value),className:"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent outline-none font-medium",placeholder:"e.g. Special Offer for Premium Members"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Target Audience"}),r.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded bg-gray-50 focus:ring-2 focus:ring-[#ff4d00] outline-none",children:[r.jsx("option",{value:"all",children:"All Users (Newsletter)"}),r.jsx("option",{value:"paid",children:"Active Paid Plans Only"}),r.jsx("option",{value:"inactive",children:"Inactive / Churned Users"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Message Body (HTML Supported)"}),r.jsx("textarea",{value:y,onChange:M=>b(M.target.value),className:"w-full p-4 border border-gray-300 rounded focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent outline-none min-h-[300px] font-mono text-sm",placeholder:"<h1>Hello {name},</h1>..."})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4",children:[r.jsx("p",{className:"text-sm text-gray-500",children:I&&`Last sent: ${I}`}),r.jsx("button",{onClick:P,disabled:v||!f||!y,className:`px-8 py-3 bg-[#ff4d00] text-white font-bold rounded shadow-lg shadow-orange-500/30 hover:bg-[#e64600] transition-all
                                            ${v||!f||!y?"opacity-50 cursor-not-allowed":"hover:transform hover:-translate-y-0.5"}`,children:v?"Sending...":"Send Broadcast"})]})]})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-6",children:[r.jsx("h4",{className:"font-bold text-blue-900 mb-2",children:"Best Practices"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-2 list-disc list-inside",children:[r.jsx("li",{children:"Keep subject lines under 60 chars"}),r.jsxs("li",{children:["Personalize using ","{name}"," tag"]}),r.jsx("li",{children:"Include a clear Call to Action"}),r.jsx("li",{children:"Test mobile rendering before sending"})]})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Previous Blasts"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 text-sm",children:[r.jsx("div",{className:"font-bold text-gray-800",children:"Spring Sale Announcement"}),r.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Sent: Mar 10  12,403 Recipients"})]}),r.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 text-sm",children:[r.jsx("div",{className:"font-bold text-gray-800",children:"Platform Update v2.1"}),r.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Sent: Feb 28  11,200 Recipients"})]})]})]})]})]}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:r.jsx(Gi,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Loyalty Program"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Reward users for spending."})]}),r.jsx("div",{className:"ml-auto",children:r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:i==null?void 0:i.enabled,onChange:M=>l(z=>z?{...z,enabled:M.target.checked}:null),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Points per $1 Spent"}),r.jsx("input",{type:"number",value:(i==null?void 0:i.pointsPerDollar)||"",onChange:M=>l(z=>z?{...z,pointsPerDollar:Number(M.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Redemption Rate (Points = $1)"}),r.jsx("input",{type:"number",value:(i==null?void 0:i.redemptionRate)||"",onChange:M=>l(z=>z?{...z,redemptionRate:Number(M.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),r.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Example: 100 points = $1 discount."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Bonus Signup Points"}),r.jsx("input",{type:"number",value:(i==null?void 0:i.bonusSignupPoints)||"",onChange:M=>l(z=>z?{...z,bonusSignupPoints:Number(M.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:r.jsx(nu,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Referral Program"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Incentivize word-of-mouth growth."})]}),r.jsx("div",{className:"ml-auto",children:r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:u==null?void 0:u.enabled,onChange:M=>h(z=>z?{...z,enabled:M.target.checked}:null),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Referrer Gets"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:"$"}),r.jsx("input",{type:"number",value:(u==null?void 0:u.referrerReward)||"",onChange:M=>h(z=>z?{...z,referrerReward:Number(M.target.value)}:null),className:"w-full p-2 pl-6 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),r.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Credit added to balance."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Referee Gets"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:"$"}),r.jsx("input",{type:"number",value:(u==null?void 0:u.refereeReward)||"",onChange:M=>h(z=>z?{...z,refereeReward:Number(M.target.value)}:null),className:"w-full p-2 pl-6 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),r.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Discount on first purchase."})]})]})})]}),r.jsx("div",{className:"lg:col-span-2 flex justify-end",children:r.jsx("button",{onClick:()=>{i&&te.saveLoyaltySettings(i),u&&te.saveReferralSettings(u),alert("Settings Saved!")},className:"bg-black text-white px-6 py-2 rounded font-bold hover:bg-gray-800",children:"Save Settings"})})]})]})},gM=({onRefresh:n})=>{const[e,t]=S.useState([]),[s,i]=S.useState(!1),[l,u]=S.useState(!1),[h,f]=S.useState({code:"",discountType:"percent",discountValue:0,active:!0,usedCount:0,allowedPlans:[],maxUsesPerUser:1}),[g,y]=S.useState("PROMO-"),[b,v]=S.useState(10);S.useEffect(()=>{k()},[]);const k=()=>{const P=te.getCoupons();t(P)},I=P=>{confirm("Are you sure you want to delete this coupon?")&&(te.deleteCoupon(P),k())},R=()=>{if(!h.code||!h.discountValue)return;const P={id:Date.now().toString(),code:h.code.toUpperCase(),discountType:h.discountType,discountValue:Number(h.discountValue),active:h.active||!1,usedCount:0,expiryDate:h.expiryDate,maxUses:h.maxUses,maxUsesPerUser:h.maxUsesPerUser,allowedPlans:h.allowedPlans};te.saveCoupon(P),i(!1),f({code:"",discountType:"percent",discountValue:0,active:!0,usedCount:0,allowedPlans:[],maxUsesPerUser:1}),k(),n()},D=()=>{const P=Date.now().toString(),M=[];for(let z=0;z<b;z++){const le=Math.random().toString(36).substring(2,6).toUpperCase();M.push({id:`${P}-${z}`,code:`${g}${le}`,discountType:h.discountType,discountValue:Number(h.discountValue),active:!0,usedCount:0,expiryDate:h.expiryDate,maxUses:1,maxUsesPerUser:1,bulkBatchId:P})}M.forEach(z=>te.saveCoupon(z)),i(!1),u(!1),k(),alert(`Successfully generated ${b} coupons!`)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Coupon Manager"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Create and manage discount codes for campaigns."})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>{i(!0),u(!0)},className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:[r.jsx(dl,{size:16}),r.jsx("span",{children:"Bulk Generate"})]}),r.jsxs("button",{onClick:()=>{i(!0),u(!1)},className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded-md hover:bg-gray-800 transition-colors",children:[r.jsx(Ru,{size:16}),r.jsx("span",{children:"Create Coupon"})]})]})]}),s&&r.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm animate-in fade-in slide-in-from-top-4",children:[r.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[l?r.jsx(dl,{className:"text-[#ff4d00]",size:20}):r.jsx(Vh,{className:"text-[#ff4d00]",size:20}),l?"Bulk Generate Coupons":"New Coupon"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400 border-b border-gray-100 pb-1",children:"Core Settings"}),l?r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Prefix"}),r.jsx("input",{type:"text",value:g,onChange:P=>y(P.target.value.toUpperCase()),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"e.g. SUMMER-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Quantity"}),r.jsx("input",{type:"number",value:b,onChange:P=>v(Number(P.target.value)),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",min:"1",max:"1000"})]})]}):r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Code"}),r.jsx("input",{type:"text",value:h.code,onChange:P=>f({...h,code:P.target.value.toUpperCase()}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"e.g. SUMMER2024"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Discount Value"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"number",value:h.discountValue,onChange:P=>f({...h,discountValue:Number(P.target.value)}),className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),r.jsxs("select",{value:h.discountType,onChange:P=>f({...h,discountType:P.target.value}),className:"p-2 border border-gray-300 rounded bg-gray-50",children:[r.jsx("option",{value:"percent",children:"% Off"}),r.jsx("option",{value:"fixed",children:"$ Off"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400 border-b border-gray-100 pb-1",children:"Restrictions & Limits"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Expiry Date"}),r.jsx("input",{type:"date",value:h.expiryDate||"",onChange:P=>f({...h,expiryDate:P.target.value}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Max Uses (Total)"}),r.jsx("input",{type:"number",value:h.maxUses||"",onChange:P=>f({...h,maxUses:Number(P.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"Unlimited"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Max Per User"}),r.jsx("input",{type:"number",value:h.maxUsesPerUser||"",onChange:P=>f({...h,maxUsesPerUser:Number(P.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Plan Restriction"}),r.jsxs("select",{multiple:!0,className:"w-full p-2 border border-gray-300 rounded text-xs h-[42px]",value:h.allowedPlans||[],onChange:P=>{const M=P.target,z=Array.from(M.selectedOptions,le=>le.value);f({...h,allowedPlans:z})},children:[r.jsx("option",{value:"foundation",children:"Foundation"}),r.jsx("option",{value:"momentum",children:"Momentum"}),r.jsx("option",{value:"breakthrough",children:"Breakthrough"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Duration"}),r.jsxs("select",{value:h.duration||"once",onChange:P=>f({...h,duration:P.target.value}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",children:[r.jsx("option",{value:"once",children:"Once"}),r.jsx("option",{value:"forever",children:"Forever"}),r.jsx("option",{value:"repeating",children:"Repeating"})]})]}),h.duration==="repeating"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Months"}),r.jsx("input",{type:"number",value:h.durationInMonths||"",onChange:P=>f({...h,durationInMonths:Number(P.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"3"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-100",children:[r.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900 font-medium",children:"Cancel"}),r.jsx("button",{onClick:l?D:R,className:"px-6 py-2 bg-[#ff4d00] text-white font-bold rounded hover:bg-[#e64600] transition-colors",children:l?`Generate ${b} Coupons`:"Save Coupon"})]})]}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:r.jsxs("table",{className:"w-full text-left",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Code"}),r.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Discount"}),r.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Usage"}),r.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Restrictions"}),r.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase text-right",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:r.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[r.jsx(Vh,{size:32,className:"text-gray-300"}),r.jsx("p",{children:"No coupons created yet."})]})})}):e.map(P=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsxs("div",{className:"font-mono font-bold text-gray-900 bg-gray-100 inline-flex items-center gap-2 px-2 py-1 rounded border border-gray-200 text-xs group",children:[P.code,r.jsx("button",{onClick:M=>{M.stopPropagation();const z=`${window.location.origin}?coupon=${P.code}`;navigator.clipboard.writeText(z),alert(`Copied: ${z}`)},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-black transition-all",title:"Copy Sharable Link",children:r.jsx(rv,{size:10})})]}),P.bulkBatchId&&r.jsx("span",{className:"ml-2 text-[10px] text-gray-400 uppercase tracking-wide border border-gray-200 px-1 rounded",children:"BULK"})]}),r.jsx("td",{className:"px-6 py-4 font-medium text-gray-700",children:P.discountType==="percent"?`${P.discountValue}%`:`$${P.discountValue}`}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-bold uppercase
                                            ${P.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:P.active?"Active":"Inactive"})}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[P.usedCount," ",P.maxUses?`/ ${P.maxUses}`:""]}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:P.allowedPlans&&P.allowedPlans.length>0?r.jsx("div",{className:"flex gap-1",children:P.allowedPlans.map(M=>r.jsx("span",{className:"text-[10px] bg-blue-50 text-blue-600 px-1.5 py-0.5 rounded capitalize border border-blue-100",children:M},M))}):r.jsx("span",{className:"text-gray-400 text-xs",children:"Global"})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("button",{onClick:()=>I(P.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete Coupon",children:r.jsx(Dl,{size:16})})})]},P.id))})]})}),r.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(ev,{className:"text-blue-500 mt-0.5 flex-shrink-0",size:18}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-bold text-blue-900",children:"Advanced Features"}),r.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Use ",r.jsx("strong",{children:"Bulk Generate"})," to create hundreds of unique codes for partners or affiliates. Use ",r.jsx("strong",{children:"Plan Restrictions"}),' to create "Upgrade Only" offers valid for specific premium tiers.']})]})]})]})},xM=()=>{const[n,e]=S.useState(null),[t,s]=S.useState(!1),[i,l]=S.useState(!1);S.useEffect(()=>{const h=te.getConversionSettings();e(h)},[]);const u=()=>{n&&(s(!0),te.saveConversionSettings(n),setTimeout(()=>{s(!1),l(!0),setTimeout(()=>l(!1),2e3)},800))};return n?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Conversion Boosters"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Tools to increase visitor engagement and sales."})]}),r.jsx("button",{onClick:u,disabled:t,className:"flex items-center gap-2 px-6 py-2 bg-[#ff4d00] text-white font-bold rounded shadow-lg shadow-orange-500/30 hover:bg-[#e64600] transition-all",children:t?r.jsx("span",{children:"Saving..."}):i?r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:18}),r.jsx("span",{children:"Saved!"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ga,{size:18}),r.jsx("span",{children:"Save Changes"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:r.jsx(Tr,{size:120})}),r.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[r.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:r.jsx(Tr,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Social Proof Notifications"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Show recent sales popups to build trust."})]}),r.jsx("div",{className:"ml-auto",children:r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:n.socialProof.enabled,onChange:h=>e({...n,socialProof:{...n.socialProof,enabled:h.target.checked}}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),r.jsxs("div",{className:"space-y-4 relative z-10",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Position"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("button",{onClick:()=>e({...n,socialProof:{...n.socialProof,position:"bottom-left"}}),className:`p-2 border rounded text-sm font-medium transition-all ${n.socialProof.position==="bottom-left"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:"Bottom Left"}),r.jsx("button",{onClick:()=>e({...n,socialProof:{...n.socialProof,position:"bottom-right"}}),className:`p-2 border rounded text-sm font-medium transition-all ${n.socialProof.position==="bottom-right"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:"Bottom Right"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Delay (Seconds)"}),r.jsx("input",{type:"number",value:n.socialProof.delay,onChange:h=>e({...n,socialProof:{...n.socialProof,delay:Number(h.target.value)}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Data Source"}),r.jsxs("select",{value:n.socialProof.showRealData?"real":"mock",onChange:h=>e({...n,socialProof:{...n.socialProof,showRealData:h.target.value==="real"}}),className:"w-full p-2 border border-gray-300 rounded bg-white",children:[r.jsx("option",{value:"mock",children:"Simulated (Mock)"}),r.jsx("option",{value:"real",children:"Real Sales Only"})]})]})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:r.jsx(nu,{size:120})}),r.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[r.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:r.jsx(nu,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Exit Intent Popup"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Capture users before they leave."})]}),r.jsx("div",{className:"ml-auto",children:r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:n.exitIntent.enabled,onChange:h=>e({...n,exitIntent:{...n.exitIntent,enabled:h.target.checked}}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),r.jsxs("div",{className:"space-y-4 relative z-10",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Headline"}),r.jsx("input",{type:"text",value:n.exitIntent.headline,onChange:h=>e({...n,exitIntent:{...n.exitIntent,headline:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subtext"}),r.jsx("input",{type:"text",value:n.exitIntent.subtext,onChange:h=>e({...n,exitIntent:{...n.exitIntent,subtext:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Coupon Code"}),r.jsx("input",{type:"text",value:n.exitIntent.couponCode||"",onChange:h=>e({...n,exitIntent:{...n.exitIntent,couponCode:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),r.jsx("div",{className:"flex items-end pb-3",children:r.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:n.exitIntent.showOncePerSession,onChange:h=>e({...n,exitIntent:{...n.exitIntent,showOncePerSession:h.target.checked}}),className:"rounded text-black focus:ring-black"}),"Show once per session"]})})]})]})]}),r.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:r.jsx($N,{size:120})}),r.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[r.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:r.jsx($N,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Global Promo Bar"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Top-of-page banner for announcements."})]}),r.jsx("div",{className:"ml-auto",children:r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:n.promoBar.enabled,onChange:h=>e({...n,promoBar:{...n.promoBar,enabled:h.target.checked}}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),r.jsxs("div",{className:"space-y-4 relative z-10",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Banner Message"}),r.jsx("input",{type:"text",value:n.promoBar.message,onChange:h=>e({...n,promoBar:{...n.promoBar,message:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Button Text"}),r.jsx("input",{type:"text",value:n.promoBar.buttonText||"",onChange:h=>e({...n,promoBar:{...n.promoBar,buttonText:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Button Link"}),r.jsx("input",{type:"text",value:n.promoBar.buttonLink||"",onChange:h=>e({...n,promoBar:{...n.promoBar,buttonLink:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Background Color"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:n.promoBar.backgroundColor,onChange:h=>e({...n,promoBar:{...n.promoBar,backgroundColor:h.target.value}}),className:"h-[38px] w-[50px] p-0 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:n.promoBar.backgroundColor,onChange:h=>e({...n,promoBar:{...n.promoBar,backgroundColor:h.target.value}}),className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none uppercase"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Countdown Timer End Date (Optional)"}),r.jsx("input",{type:"datetime-local",value:n.promoBar.endDate||"",onChange:h=>e({...n,promoBar:{...n.promoBar,endDate:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),r.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Set a date to show a countdown timer within the banner."})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-gray-400 mb-2",children:"Live Preview"}),r.jsxs("div",{className:"rounded-lg p-3 text-center text-sm font-medium flex items-center justify-center gap-4 shadow-sm",style:{backgroundColor:n.promoBar.backgroundColor,color:n.promoBar.textColor},children:[r.jsx("span",{children:n.promoBar.message}),n.promoBar.buttonText&&r.jsx("span",{className:"px-3 py-1 bg-white text-black text-xs font-bold rounded shadow-sm opacity-90",children:n.promoBar.buttonText})]})]})]})]})]})]}):r.jsx("div",{children:"Loading..."})},yM=({onLogout:n})=>{const e=Cu(),t=ma(),[s,i]=S.useState(!1),u=(()=>{const W=t.pathname;return W==="/admin"||W==="/admin/"?"admin-home":W.startsWith("/admin/users/edit/")?"admin-edit-user":W==="/admin/users"?"admin-users":W==="/admin/live"?"admin-live":W==="/admin/tickets"?"admin-tickets":W.startsWith("/admin/projects/edit/")?"admin-edit-project":W==="/admin/projects"?"admin-projects":W==="/admin/projects/create"?"admin-create-project":W.startsWith("/admin/transactions/edit/")?"admin-edit-transaction":W==="/admin/transactions"?"admin-transactions":W==="/admin/alerts"?"admin-alerts":W==="/admin/pricing"?"admin-pricing":W==="/admin/settings"?"admin-settings":W==="/admin/api-docs"?"admin-api-docs":W==="/admin/marketing"?"admin-marketing":W==="/admin/coupons"?"admin-coupons":W==="/admin/conversion"?"admin-conversion":"admin-home"})(),[h,f]=S.useState([]),[g,y]=S.useState([]),[b,v]=S.useState([]),[k,I]=S.useState([]),[R,D]=S.useState([]),[P,M]=S.useState(null),[z,le]=S.useState([]),[L,H]=S.useState(null);S.useEffect(()=>{te.init(),(async()=>{await te.syncProjects(),await T()})()},[]);const T=async()=>{try{const[W,ue,Pe,ze,q,U]=await Promise.all([te.getUsers(),te.getProjects(),te.getAllTransactionsAdmin(),te.getTickets(),te.getSystemSettings(),te.getAdminStats()]);f(W),y(ue),I(Pe),D(ze),q&&M(q),U&&H(U),v(te.getPricing()),le(te.getAlerts())}catch(W){console.error("Failed to refresh admin data:",W)}},N=W=>{const ue=te.getTickets();D(ue),e("/admin/tickets")},E=W=>{e(`/admin/users/edit/${W}`),window.scrollTo(0,0)},O=W=>{e(`/admin/projects/edit/${W}`),window.scrollTo(0,0)},F=W=>{e(`/admin/transactions/edit/${W}`),window.scrollTo(0,0)},G=[{title:"Admin Control",items:[{label:"Overview",id:"admin-home",path:"",icon:r.jsx(KS,{size:18})},{label:"User Management",id:"admin-users",path:"users",icon:r.jsx(ru,{size:18})},{label:"Live Users",id:"admin-live",path:"live",icon:r.jsx(YS,{size:18})},{label:"All Projects",id:"admin-projects",path:"projects",icon:r.jsx(Oh,{size:18})},{label:"Create Project",id:"admin-create-project",path:"projects/create",icon:r.jsx(Ru,{size:18})}]},{title:"Operations",items:[{label:"Transactions",id:"admin-transactions",path:"transactions",icon:r.jsx(Ns,{size:18})},{label:"Support Tickets",id:"admin-tickets",path:"tickets",icon:r.jsx(Tr,{size:18})},{label:"Broadcasts",id:"admin-alerts",path:"alerts",icon:r.jsx(Xy,{size:18})},{label:"API Documentation",id:"admin-api-docs",path:"api-docs",icon:r.jsx(HS,{size:18})}]},{title:"Growth",items:[{label:"Marketing Hub",id:"admin-marketing",path:"marketing",icon:r.jsx(Xi,{size:18})},{label:"Coupons",id:"admin-coupons",path:"coupons",icon:r.jsx(Vh,{size:18})},{label:"Conversion",id:"admin-conversion",path:"conversion",icon:r.jsx(Xn,{size:18})}]},{title:"Configuration",items:[{label:"Global Pricing",id:"admin-pricing",path:"pricing",icon:r.jsx(Ns,{size:18})},{label:"System Settings",id:"admin-settings",path:"settings",icon:r.jsx(ml,{size:18})}]}],V=()=>{const{id:W}=bp();return W?r.jsx(lM,{userId:W,onBack:()=>e("/admin/users"),onUpdate:T}):r.jsx("div",{children:"Error: No User ID selected"})},ie=()=>{const{id:W}=bp();return W?r.jsx(cM,{projectId:W,onBack:()=>e("/admin/projects"),onUpdate:T}):r.jsx("div",{children:"Error: No Project ID selected"})},Re=()=>{const{id:W}=bp();return W?r.jsx(uM,{trxId:W,onBack:()=>e("/admin/transactions"),onUpdate:T}):r.jsx("div",{children:"Error: No Transaction ID selected"})},X=()=>r.jsx(hM,{onBack:()=>e("/admin/projects"),onSuccess:T});return r.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen flex font-sans text-gray-900",children:[r.jsx(XS,{menuSections:G,currentView:u,onNavigate:W=>{e(`/admin/${{"admin-home":"","admin-users":"users","admin-live":"live","admin-projects":"projects","admin-create-project":"projects/create","admin-transactions":"transactions","admin-tickets":"tickets","admin-alerts":"alerts","admin-pricing":"pricing","admin-settings":"settings","admin-api-docs":"api-docs","admin-marketing":"marketing","admin-coupons":"coupons","admin-conversion":"conversion"}[W]||""}`),i(!1),window.scrollTo(0,0)},onLogout:n}),r.jsxs("main",{className:"flex-1 md:ml-64 flex flex-col min-h-screen relative",children:[r.jsx(eE,{title:"Super Admin Panel",onMobileMenuClick:()=>i(!0),isAdmin:!0}),r.jsx("div",{className:"flex-1 p-6 md:p-12 overflow-y-auto",children:r.jsx("div",{className:"max-w-screen-2xl mx-auto h-full",children:r.jsxs(PS,{children:[r.jsx(Ye,{index:!0,element:r.jsx(eM,{users:h,projects:g,tickets:R,transactions:k,onNavigate:W=>{e(`/admin/${{"admin-users":"users","admin-projects":"projects","admin-tickets":"tickets","admin-transactions":"transactions"}[W]||""}`)},stats:L})}),r.jsx(Ye,{path:"users",element:r.jsx(tM,{users:h,transactions:k,tickets:R,onRefresh:T,onEditUser:E})}),r.jsx(Ye,{path:"users/edit/:id",element:r.jsx(V,{})}),r.jsx(Ye,{path:"live",element:r.jsx(oM,{onStartChat:N})}),r.jsx(Ye,{path:"tickets",element:r.jsx(nM,{tickets:R,onRefresh:T})}),r.jsx(Ye,{path:"projects",element:r.jsx(sM,{projects:g,onEditProject:O})}),r.jsx(Ye,{path:"projects/edit/:id",element:r.jsx(ie,{})}),r.jsx(Ye,{path:"projects/create",element:r.jsx(X,{})}),r.jsx(Ye,{path:"transactions",element:r.jsx(rM,{transactions:k,onEditTransaction:F})}),r.jsx(Ye,{path:"transactions/edit/:id",element:r.jsx(Re,{})}),r.jsx(Ye,{path:"alerts",element:r.jsx(iM,{alerts:z,onRefresh:T})}),r.jsx(Ye,{path:"pricing",element:r.jsx(X5,{initialData:b,onSave:()=>v(te.getPricing())})}),r.jsx(Ye,{path:"settings",element:P?r.jsx(aM,{initialSettings:P,onSave:T}):r.jsx("div",{children:"Loading..."})}),r.jsx(Ye,{path:"api-docs",element:r.jsx(fM,{})}),r.jsx(Ye,{path:"marketing",element:r.jsx(pM,{})}),r.jsx(Ye,{path:"coupons",element:r.jsx(gM,{onRefresh:T})}),r.jsx(Ye,{path:"conversion",element:r.jsx(xM,{})}),r.jsx(Ye,{path:"*",element:r.jsx(Jr,{to:"/admin",replace:!0})})]})})})]})]})},bM=({type:n,onBack:e})=>{const t=()=>{switch(n){case"privacy":return"Privacy Policy";case"terms":return"Terms of Service";case"impressum":return"Impressum (Imprint)";case"agb":return"AGB (General Terms)";case"refund":return"Refund Policy";case"delivery":return"Delivery Policy";default:return"Legal Document"}},s=()=>{switch(n){case"impressum":return r.jsx(r.Fragment,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Angaben gem  5 TMG"}),r.jsx("p",{className:"font-bold text-gray-900",children:"Traffic Creator Inc."}),r.jsx("p",{children:"Tech Park Avenue 12"}),r.jsx("p",{children:"10115 Berlin"}),r.jsx("p",{children:"Germany"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Contact"}),r.jsxs("p",{children:[r.jsx("span",{className:"font-bold",children:"Phone:"})," +49 (0) 30 1234 5678"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-bold",children:"Email:"})," support@traffic-creator.com"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-bold",children:"Web:"})," www.traffic-creator.com"]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Represented By"}),r.jsx("p",{children:"John Doe, CEO"}),r.jsx("p",{children:"Jane Smith, CTO"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Register Entry"}),r.jsx("p",{children:"Entry in the Handelsregister."}),r.jsx("p",{children:"Registering Court: Amtsgericht Berlin-Charlottenburg"}),r.jsx("p",{children:"Registration Number: HRB 123456"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-4",children:"VAT ID"}),r.jsx("p",{children:"Sales tax identification number according to  27 a Umsatzsteuergesetz:"}),r.jsx("p",{className:"font-mono",children:"DE 123 456 789"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Dispute Resolution"}),r.jsx("p",{className:"text-sm text-gray-500",children:"We are not willing or obliged to participate in dispute resolution proceedings before a consumer arbitration board."})]})]})});case"agb":return r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Allgemeine Geschftsbedingungen (AGB) for Traffic Creator"}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Scope of Application"}),r.jsx("p",{children:"These General Terms and Conditions (AGB) apply to all business relationships between Traffic Creator Inc. (hereinafter: Provider) and its customers (hereinafter: Customer). The version valid at the time of the conclusion of the contract is authoritative."}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Conclusion of Contract"}),r.jsx("p",{children:'The presentation of services on the website does not constitute a legally binding offer but an invitation to order. By clicking the "Order" or "Pay" button, the Customer places a binding order for the services contained in the shopping cart.'}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Services"}),r.jsx("p",{children:"The Provider delivers website traffic to the URLs specified by the Customer. The Provider guarantees the delivery of the purchased number of visitors but does not guarantee specific actions by these visitors (e.g., sales, sign-ups) unless explicitly stated otherwise."}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Prices and Payment"}),r.jsx("p",{children:"All prices are final prices and include the statutory value-added tax (VAT) unless the Customer is based outside the EU or has a valid VAT ID. Payments are due immediately upon conclusion of the contract."}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Warranty and Liability"}),r.jsx("p",{children:"The Provider is liable for defects in accordance with the statutory provisions. Liability for slight negligence is excluded, provided that no essential contractual obligations are violated."})]});case"refund":return r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last Updated: October 24, 2025"}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. General Refund Policy"}),r.jsx("p",{children:"We strive to provide the highest quality traffic services. However, if you are not satisfied with our service, you may be eligible for a refund under specific conditions."}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Non-Delivery of Service"}),r.jsx("p",{children:"If we fail to deliver the purchased traffic within 72 hours of the scheduled start time, you are entitled to a full refund of the undelivered portion of your order."}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Technical Issues"}),r.jsx("p",{children:"If technical issues on our end prevent the delivery of traffic, we will pause the campaign and attempt to resolve the issue. If the issue cannot be resolved, a pro-rated refund will be issued to your wallet balance or original payment method."}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Non-Refundable Circumstances"}),r.jsx("p",{children:"Refunds are not granted if the traffic was delivered but did not result in sales, leads, or other specific user actions on your website. We guarantee visitors, not conversions."}),r.jsx("p",{className:"mt-4",children:"Furthermore, if your URL is taken offline or blocks our traffic source during the campaign, no refund will be issued."})]});case"delivery":return r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Service Delivery Standards"}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Delivery Timeframe"}),r.jsx("p",{children:"Traffic campaigns typically start within 5 to 15 minutes after payment confirmation and campaign approval. In some cases, such as manual reviews for sensitive categories, activation may take up to 24 hours."}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Method of Delivery"}),r.jsx("p",{children:"Services are delivered digitally. No physical products are shipped. You will receive a confirmation email once your campaign is active, and you can monitor progress in real-time via the Dashboard."}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Campaign Completion"}),r.jsx("p",{children:"A campaign is considered complete when the total number of purchased visitors has been delivered to the target URL. Delivery speed is determined by your campaign settings."})]});case"privacy":return r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"font-bold text-gray-900",children:"Last Updated: October 24, 2025"}),r.jsx("p",{children:"At Traffic Creator, we take your privacy seriously. This Privacy Policy describes how we collect, use, and protect your personal information."}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Information We Collect"}),r.jsx("p",{children:"We collect information you provide directly to us, such as when you create an account, purchase credits, or communicate with our support team. This may include your name, email address, payment information, and website URLs."}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. How We Use Your Information"}),r.jsx("p",{children:"We use the information we collect to operate, maintain, and improve our services, to process your transactions, and to communicate with you about your account and our services."}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Data Security"}),r.jsx("p",{children:"We implement appropriate technical and organizational measures to protect the security of your personal information. However, please note that no method of transmission over the Internet is 100% secure."})]});case"terms":return r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"font-bold text-gray-900",children:"Last Updated: October 24, 2025"}),r.jsx("p",{children:"Please read these Terms of Service carefully before using Traffic Creator. By accessing or using our services, you agree to be bound by these terms."}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Acceptable Use"}),r.jsx("p",{children:"You agree not to use our services for any unlawful purpose or in any way that violates these Terms. You are responsible for ensuring that your target URLs comply with all applicable laws and regulations."}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Payment and Refunds"}),r.jsx("p",{children:"All payments are final. Credits purchased are non-refundable unless the service is not delivered as described. We reserve the right to change our pricing at any time."}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Limitation of Liability"}),r.jsx("p",{children:"Traffic Creator shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of or inability to use the service."})]});default:return r.jsx("p",{children:"Content not available."})}};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsxs(mg,{children:[r.jsxs("title",{children:[t()," - Traffic Creator"]}),r.jsx("meta",{name:"description",content:`Official ${t()} for Traffic Creator. Please read carefully.`}),r.jsx("meta",{name:"keywords",content:`traffic creator ${n}, ${n} policy, legal ${n}, traffic generator legal`}),r.jsx("meta",{property:"og:title",content:`${t()} - Traffic Creator`}),r.jsx("meta",{property:"og:description",content:`Read our official ${t()} document.`}),r.jsx("meta",{property:"og:type",content:"article"}),r.jsx("meta",{property:"og:url",content:`http://localhost:3000/legal/${n}`})]}),r.jsx("div",{className:"border-b border-gray-100 bg-white sticky top-0 z-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-6 h-20 flex items-center justify-between",children:[r.jsxs(Le,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors text-xs font-bold uppercase tracking-wider",children:[r.jsx(Js,{size:16})," Back"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),r.jsx("span",{className:"text-[10px] font-bold bg-black text-white px-1.5 py-0.5 rounded-sm uppercase tracking-wide",children:"Creator"})]})]})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-20",children:[r.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-12 uppercase tracking-tight",children:t()}),r.jsx("div",{className:"prose prose-gray max-w-none text-gray-600 leading-relaxed font-sans",children:s()})]}),r.jsx("footer",{className:"bg-black text-white py-12 px-6 mt-20",children:r.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[r.jsx("div",{className:"text-xl font-black text-white tracking-tight",children:"TRAFFIC CREATOR"}),r.jsx("div",{className:"text-xs text-gray-600",children:" 2025 Traffic Creator Inc."})]})})]})},vM=({onBack:n})=>{const[e,t]=S.useState(""),[s,i]=S.useState("all"),[l,u]=S.useState(null),h=[{id:"all",label:"All Topics"},{id:"billing",label:"Billing & Payments",icon:r.jsx(Ns,{size:14})},{id:"technical",label:"Technical Support",icon:r.jsx(v5,{size:14})},{id:"general",label:"General Account",icon:r.jsx(As,{size:14})}],g=[{question:"How long does it take for traffic to start?",answer:"Campaigns typically start delivering traffic within 5-15 minutes after creation. However, depending on the complexity of your targeting (specific cities, devices), it may take up to an hour for the first hits to register.",category:"general"},{question:"Can I upgrade my plan later?",answer:"Yes, you can upgrade your plan at any time. Simply add funds to your wallet and create a new campaign with the desired higher tier. We recommend the 'Agency' plan for maximum volume.",category:"billing"},{question:"Why is my traffic not showing in Google Analytics?",answer:"Ensure you are looking at 'Realtime' reports. Also, verify that your GA4 ID is correct in the project settings. Some traffic filters in GA4 may exclude bot traffic by default; our 'Growth' plan is designed to bypass standard bot filters.",category:"technical"},{question:"Is this traffic safe for AdSense?",answer:"Our 'Growth' and 'Agency' traffic tiers are safe for AdSense as they utilize high-quality residential IPs. However, we always recommend monitoring your CTR (Click-Through Rate) and adjusting your campaign speed accordingly.",category:"technical"},{question:"What payment methods do you accept?",answer:"We accept Visa, Mastercard, American Express via Stripe. We also support PayPal and various Cryptocurrencies (BTC, ETH, USDT).",category:"billing"},{question:"How do I reset my API key?",answer:"Navigate to your Profile settings in the dashboard. Under the 'Developer Settings' section, click the refresh icon to invalidate your old key and generate a new one.",category:"general"}].filter(y=>(s==="all"||y.category===s)&&(y.question.toLowerCase().includes(e.toLowerCase())||y.answer.toLowerCase().includes(e.toLowerCase())));return r.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans",children:[r.jsxs("div",{className:"bg-[#111] text-white pt-20 pb-32 px-6 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-[#ff4d00] opacity-10 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"}),r.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[r.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-400 hover:text-white mb-8 text-xs font-bold uppercase tracking-wider transition-colors",children:[r.jsx(Js,{size:16})," Back to Home"]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-6",children:"How can we help?"}),r.jsxs("div",{className:"relative max-w-2xl",children:[r.jsx(Sr,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:e,onChange:y=>t(y.target.value),placeholder:"Search for answers...",className:"w-full bg-white text-gray-900 pl-16 pr-6 py-5 rounded-sm shadow-xl text-lg font-medium outline-none focus:ring-2 focus:ring-[#ff4d00]"})]})]})]}),r.jsxs("div",{className:"max-w-4xl mx-auto px-6 -mt-16 relative z-20 pb-20",children:[r.jsx("div",{className:"flex flex-wrap gap-4 mb-12",children:h.map(y=>r.jsxs("button",{onClick:()=>i(y.id),className:`px-6 py-4 rounded-sm shadow-sm flex items-center gap-3 text-sm font-bold uppercase tracking-wider transition-all
                            ${s===y.id?"bg-[#ff4d00] text-white transform -translate-y-1":"bg-white text-gray-600 hover:bg-gray-50"}
                        `,children:[y.icon,y.label]},y.id))}),r.jsx("div",{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"text-center py-20 bg-gray-50 border border-gray-100 rounded-sm",children:[r.jsx(Tr,{className:"mx-auto text-gray-300 mb-4",size:48}),r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"No results found"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your search terms or browse all categories."})]}):g.map((y,b)=>r.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm transition-all hover:border-gray-300",children:[r.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left",onClick:()=>u(l===b?null:b),children:[r.jsx("span",{className:"font-bold text-gray-900 text-lg",children:y.question}),l===b?r.jsx(FS,{size:20,className:"text-[#ff4d00]"}):r.jsx(Zb,{size:20,className:"text-gray-400"})]}),l===b&&r.jsx("div",{className:"px-6 pb-8 pt-2 text-gray-600 leading-relaxed animate-in fade-in slide-in-from-top-2 border-t border-gray-50",children:y.answer})]},b))}),r.jsxs("div",{className:"mt-20 bg-gray-50 border border-gray-200 p-10 text-center",children:[r.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4",children:"Still need help?"}),r.jsx("p",{className:"text-gray-500 mb-8 max-w-lg mx-auto",children:"Our support team is available 24/7 to assist you with any technical or billing inquiries."}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsxs("button",{className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[r.jsx(hl,{size:16})," Contact Support"]}),r.jsxs("button",{className:"bg-white border border-gray-300 text-gray-900 px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-gray-100 transition-colors flex items-center gap-2",children:[r.jsx(Tr,{size:16})," Live Chat"]})]})]})]}),r.jsx("footer",{className:"bg-black text-white py-12 px-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[r.jsx("div",{className:"text-xl font-black tracking-tight",children:"TRAFFIC CREATOR"}),r.jsx("div",{className:"text-xs text-gray-500",children:" 2025 Traffic Creator Inc."})]})})]})},wM=({onBack:n})=>{const[e,t]=S.useState("list"),[s,i]=S.useState(null),[l,u]=S.useState(""),[h,f]=S.useState("All"),[g,y]=S.useState(0),b=[{id:1,title:"The Ultimate Guide to Buying Website Traffic in 2025",slug:"ultimate-guide-buying-traffic",excerpt:"Everything you need to know about paid traffic sources, how to filter for quality, and strategies to boost your SEO rankings safely without getting penalized.",date:"Oct 24, 2025",author:"Alex Rivera",role:"Traffic Specialist",readTime:"8 min read",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",category:"Strategy",tags:["SEO","Traffic","Growth"],seoDescription:"Learn how to buy high-quality website traffic in 2025. A comprehensive guide for businesses to boost rankings safely."},{id:2,title:"5 SEO Myths Debunked: What Actually Works Now",slug:"5-seo-myths-debunked",excerpt:"Stop wasting time on outdated SEO tactics like keyword stuffing. We break down what actually works in the age of AI search engines and semantic search.",date:"Oct 18, 2025",author:"Sarah Chen",role:"SEO Director",readTime:"5 min read",image:"https://images.unsplash.com/photo-1504868584819-f8e8b4b6d7e3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",category:"SEO",tags:["Myths","Google","Ranking"],seoDescription:"We debunk the top 5 SEO myths of 2025. Discover modern strategies for AI-driven search engines."},{id:3,title:"Maximizing ROI on Display Campaigns",slug:"maximizing-roi-display",excerpt:"Learn how to optimize your display ad spend and target the right audience for higher conversion rates using behavioral data.",date:"Oct 10, 2025",author:"Mike Ross",readTime:"6 min read",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",category:"Marketing",tags:["Ads","ROI","Display"],seoDescription:"Increase your Return on Ad Spend (ROAS) with these display campaign optimization tips."},{id:4,title:"Why Bot Traffic Kills Your Analytics",slug:"bot-traffic-kills-analytics",excerpt:"Understanding the difference between good bots and bad bots, and how to filter them out of your Google Analytics 4 reports.",date:"Oct 05, 2025",author:"Alex Rivera",role:"Traffic Specialist",readTime:"4 min read",image:"https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",category:"Analytics",tags:["GA4","Bots","Data"],seoDescription:"Protect your data integrity. Learn why bot traffic skews analytics and how to prevent it."}],v=["All","Strategy","SEO","Marketing","Analytics"];S.useEffect(()=>{const L=()=>{const H=document.documentElement.scrollTop,T=document.documentElement.scrollHeight-document.documentElement.clientHeight,N=`${H/T}`;y(Number(N))};return window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L)},[]);const k=(L,H)=>{document.title=`${L} | Traffic Creator Journal`;let T=document.querySelector("meta[name='description']");T||(T=document.createElement("meta"),T.setAttribute("name","description"),document.head.appendChild(T)),T.setAttribute("content",H)},I=L=>{const H=b.find(T=>T.id===L);H&&(i(L),t("article"),k(H.title,H.seoDescription),window.scrollTo(0,0))},R=()=>{t("list"),i(null),k("Blog","Insights and strategies for traffic growth."),window.scrollTo(0,0)},D=()=>{const H=`<?xml version="1.0" encoding="UTF-8" ?>
        <rss version="2.0">
        <channel>
            <title>Traffic Creator Journal</title>
            <link>https://traffic-creator.com</link>
            <description>Digital Growth Insights</description>
            ${b.map(E=>`
        <item>
            <title>${E.title}</title>
            <link>https://traffic-creator.com/blog/${E.slug}</link>
            <description>${E.excerpt}</description>
            <pubDate>${new Date(E.date).toUTCString()}</pubDate>
            <guid>https://traffic-creator.com/blog/${E.slug}</guid>
        </item>
      `).join("")}
        </channel>
        </rss>`,T=new Blob([H],{type:"text/xml"}),N=URL.createObjectURL(T);window.open(N,"_blank")},P=b.find(L=>L.id===s),M=P?b.filter(L=>L.category===P.category&&L.id!==P.id):[],z=L=>{const H={"@context":"https://schema.org","@type":"BlogPosting",headline:L.title,image:[L.image],datePublished:new Date(L.date).toISOString(),author:[{"@type":"Person",name:L.author}],publisher:{"@type":"Organization",name:"Traffic Creator",logo:{"@type":"ImageObject",url:"https://traffic-creator.com/logo.png"}},description:L.seoDescription};return r.jsx("script",{type:"application/ld+json",children:JSON.stringify(H)})},le=b.filter(L=>{const H=L.title.toLowerCase().includes(l.toLowerCase())||L.excerpt.toLowerCase().includes(l.toLowerCase()),T=h==="All"||L.category===h;return H&&T});return e==="article"&&P?r.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900 pb-20",children:[z(P),r.jsx("div",{className:"fixed top-0 left-0 h-1 bg-[#ff4d00] z-[60]",style:{width:`${g*100}%`}}),r.jsxs("div",{className:"relative h-[60vh] bg-black group",children:[r.jsx("img",{src:P.image,className:"w-full h-full object-cover opacity-60 group-hover:opacity-50 transition-opacity duration-700",alt:"Cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"}),r.jsx("div",{className:"absolute top-0 left-0 w-full p-6 flex justify-between items-center z-10",children:r.jsxs("button",{onClick:R,className:"text-white flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors bg-black/20 backdrop-blur-md px-4 py-2 rounded-full",children:[r.jsx(Js,{size:14})," Back"]})}),r.jsx("div",{className:"absolute bottom-0 left-0 w-full p-8 md:p-16",children:r.jsxs("div",{className:"max-w-4xl mx-auto animate-in slide-in-from-bottom-10 fade-in duration-700",children:[r.jsx("div",{className:"flex gap-2 mb-6",children:r.jsx("span",{className:"bg-[#ff4d00] text-white px-3 py-1 text-[10px] font-black uppercase tracking-widest",children:P.category})}),r.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white leading-[1.1] mb-8",children:P.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-8 text-gray-300 text-sm font-medium border-t border-white/20 pt-8",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center text-white font-bold",children:P.author.charAt(0)}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-bold",children:P.author}),r.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:P.role})]})]}),r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Qy,{size:16})," ",P.date]}),r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Yn,{size:16})," ",P.readTime]})]})]})})]}),r.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-20 grid grid-cols-1 lg:grid-cols-4 gap-12",children:[r.jsxs("div",{className:"lg:col-span-3",children:[r.jsxs("div",{className:"prose prose-lg prose-gray max-w-none leading-relaxed prose-headings:font-black prose-headings:tracking-tight prose-a:text-[#ff4d00] prose-img:rounded-sm",children:[r.jsx("p",{className:"lead text-xl text-gray-600 mb-10 font-medium border-l-4 border-[#ff4d00] pl-6 italic",children:P.excerpt}),r.jsx("p",{children:"Buying website traffic can be a game-changer for new businesses looking to establish a digital footprint. However, the landscape is filled with low-quality bot traffic that can do more harm than good. In this guide, we'll explore how to navigate the market safely."}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mt-12 mb-6",children:"Understanding Traffic Sources"}),r.jsx("p",{children:"Not all traffic is created equal. The three main categories you need to be aware of are:"}),r.jsxs("ul",{children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Direct Traffic:"})," Visitors typing your URL directly. Great for brand authority."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Referral Traffic:"})," Visitors coming from other websites. Excellent for building backlinks."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Social Traffic:"})," Visitors from platforms like Facebook, Twitter, and Reddit."]})]}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mt-12 mb-6",children:"The Dangers of Bot Traffic"}),r.jsx("p",{children:'Cheap traffic providers often use "click farms" or automated scripts. These visitors bounce immediately (spend 0 seconds on site) and never convert. Search engines like Google can detect this behavior and may penalize your rankings.'}),r.jsxs("div",{className:"bg-gray-50 p-8 my-8 rounded-sm border-l-4 border-black",children:[r.jsxs("h4",{className:"font-black text-gray-900 mb-2 uppercase text-sm tracking-wide flex items-center gap-2",children:[r.jsx(Vh,{size:16,className:"text-[#ff4d00]"})," Pro Tip"]}),r.jsx("p",{className:"text-gray-600 text-sm m-0",children:'Always verify your traffic using Google Analytics 4 (GA4). Look at the "Engagement Time" metric. Real human traffic will have varied session durations, whereas bots often have exactly 0 or 30 seconds.'})]}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mt-12 mb-6",children:"How Traffic Creator Ensures Quality"}),r.jsx("p",{children:"At Traffic Creator, we use a proprietary filtering system that validates every visitor before they reach your site. We filter by:"}),r.jsxs("ol",{children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Device Fingerprinting:"})," Ensuring the request comes from a real physical device."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Behavioral Analysis:"})," Checking for natural mouse movements and scroll events."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"IP Reputation:"})," Blocking known datacenter IPs and proxies."]})]}),r.jsxs("p",{className:"mt-12",children:["Ready to boost your metrics? ",r.jsx("a",{href:"#",onClick:L=>{L.preventDefault(),n()},children:"Start your campaign today"})," and see the difference real traffic makes."]})]}),r.jsx("div",{className:"mt-20 pt-10 border-t border-gray-100",children:r.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:P.tags.map(L=>r.jsxs("span",{className:"bg-gray-100 hover:bg-gray-200 transition-colors text-gray-600 px-4 py-2 text-xs font-bold uppercase tracking-wide rounded-sm cursor-pointer",children:["#",L]},L))})})]}),r.jsxs("div",{className:"lg:col-span-1 space-y-12",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Share This"}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{className:"p-3 rounded-full border border-gray-200 text-gray-500 hover:text-[#ff4d00] hover:border-[#ff4d00] transition-all",onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("Link copied!")},children:r.jsx(rv,{size:18})})})]}),M.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-6",children:"Related Reads"}),r.jsx("div",{className:"space-y-6",children:M.map(L=>r.jsxs("div",{className:"group cursor-pointer",onClick:()=>I(L.id),children:[r.jsx("div",{className:"aspect-video bg-gray-100 mb-2 overflow-hidden rounded-sm",children:r.jsx("img",{src:L.image,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),r.jsx("h5",{className:"text-sm font-bold text-gray-900 group-hover:text-[#ff4d00] leading-tight mb-1",children:L.title}),r.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:L.date})]},L.id))})]}),r.jsxs("div",{className:"bg-[#111] text-white p-6 text-center rounded-sm",children:[r.jsx(hl,{className:"mx-auto mb-4 text-[#ff4d00]",size:24}),r.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Join the Inner Circle"}),r.jsx("p",{className:"text-gray-400 text-xs mb-6",children:"Get exclusive SEO tips delivered to your inbox."}),r.jsx("input",{type:"email",placeholder:"Email",className:"bg-white/10 border-none text-white placeholder-gray-500 px-4 py-2 w-full outline-none focus:ring-1 focus:ring-[#ff4d00] mb-2 text-sm"}),r.jsx("button",{className:"w-full bg-[#ff4d00] text-white px-4 py-2 font-bold uppercase text-xs tracking-wider hover:bg-white hover:text-black transition-colors",children:"Subscribe"})]})]})]})]}):r.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900",children:[r.jsx("div",{className:"border-b border-gray-100 sticky top-0 bg-white/95 backdrop-blur-sm z-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[r.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-[#ff4d00] transition-colors text-xs font-bold uppercase tracking-wider",children:[r.jsx(Js,{size:16})," Back to Home"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),r.jsx("span",{className:"text-[10px] font-bold bg-black text-white px-1.5 py-0.5 rounded-sm uppercase tracking-wide",children:"Journal"})]})]})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-20",children:[r.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[r.jsxs("h1",{className:"text-5xl md:text-7xl font-black uppercase tracking-tight mb-6 leading-[0.9]",children:["Digital ",r.jsx("span",{className:"text-[#ff4d00]",children:"Growth"}),r.jsx("br",{}),"Insights."]}),r.jsx("p",{className:"text-xl text-gray-500 leading-relaxed mb-10",children:"Expert advice on digital marketing, SEO strategies, and traffic optimization for the modern web."}),r.jsxs("div",{className:"relative max-w-xl mx-auto shadow-lg",children:[r.jsx("input",{type:"text",placeholder:"Search articles...",value:l,onChange:L=>u(L.target.value),className:"w-full bg-white border border-gray-200 py-4 pl-12 pr-4 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"}),r.jsx(Sr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),r.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-16",children:v.map(L=>r.jsx("button",{onClick:()=>f(L),className:`px-6 py-2 text-xs font-bold uppercase tracking-widest border transition-all rounded-full
                            ${h===L?"bg-black text-white border-black":"bg-white text-gray-500 border-gray-200 hover:border-gray-400"}
                        `,children:L},L))}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-12 gap-y-16",children:le.length===0?r.jsxs("div",{className:"col-span-3 text-center py-20 text-gray-400",children:[r.jsx(B6,{size:48,className:"mx-auto mb-4 opacity-20"}),r.jsx("p",{children:"No articles found matching your criteria."})]}):le.map((L,H)=>r.jsxs("article",{className:"group cursor-pointer flex flex-col h-full animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${H*100}ms`},onClick:()=>I(L.id),children:[r.jsxs("div",{className:"aspect-[4/3] overflow-hidden bg-gray-100 mb-6 relative rounded-sm",children:[r.jsx("img",{src:L.image,alt:L.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700",loading:"lazy"}),r.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-sm px-3 py-1 text-[10px] font-black uppercase tracking-widest text-black shadow-sm",children:L.category})]}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[L.date," ",r.jsx("span",{className:"w-1 h-1 bg-gray-300 rounded-full"})," ",L.readTime]}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3 group-hover:text-[#ff4d00] transition-colors leading-tight",children:L.title}),r.jsx("p",{className:"text-gray-500 text-sm leading-relaxed mb-6 flex-1 line-clamp-3",children:L.excerpt}),r.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-black group-hover:translate-x-2 transition-transform duration-300 mt-auto",children:["Read Article ",r.jsx(Ys,{size:14})]})]})]},L.id))})]}),r.jsx("footer",{className:"bg-black text-white py-12 px-6 mt-20",children:r.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6",children:[r.jsx("div",{className:"text-xl font-black tracking-tight",children:"TRAFFIC CREATOR"}),r.jsxs("div",{className:"flex gap-6 text-xs font-bold text-gray-500 uppercase tracking-widest",children:[r.jsxs("button",{onClick:D,className:"hover:text-white transition-colors flex items-center gap-2",children:[r.jsx(z3,{size:14})," RSS Feed"]}),r.jsx("button",{className:"hover:text-white transition-colors",children:"Newsletter"}),r.jsx("button",{className:"hover:text-white transition-colors",children:"Archive"})]}),r.jsx("div",{className:"text-xs text-gray-600",children:" 2025 Traffic Creator Inc."})]})})]})},_M=()=>{var L,H;const[n,e]=S.useState(!1),[t,s]=S.useState(null),[i,l]=S.useState(void 0),[u,h]=S.useState(null),[f,g]=S.useState(""),[y,b]=S.useState(""),[v,k]=S.useState(""),[I,R]=S.useState("");S.useEffect(()=>{const T=te.getCurrentUser();l(T);const N=async()=>{await D(T)};N();const E=setInterval(N,5e3);return()=>clearInterval(E)},[n]),S.useEffect(()=>{n&&t&&P()},[(L=t==null?void 0:t.messages)==null?void 0:L.length,n]);const D=async T=>{try{const N=await te.getTickets();let E;if(T)E=N.find(O=>O.userId===T.id&&O.status!=="closed");else{const O=localStorage.getItem("modus_guest_id");O&&(E=N.find(F=>F.userId===O&&F.status!=="closed"))}E&&s(E)}catch{console.error("Chat sync failed")}},P=()=>{setTimeout(()=>{u==null||u.scrollIntoView({behavior:"smooth"})},100)},M=async T=>{if(T.preventDefault(),!f||!y)return;let N=i==null?void 0:i.id;if(!N){let O=localStorage.getItem("modus_guest_id");O||(O=`guest_${Date.now().toString().slice(-6)}`,localStorage.setItem("modus_guest_id",O)),N=O}const E={subject:`Chat with ${f}`,priority:"medium",messages:[{id:Date.now().toString(),sender:i?"user":"guest",text:`Chat started by ${f}.`,date:new Date().toLocaleString()}]};await te.createTicket(E),await D(i),R("")},z=async()=>{if(!I.trim()||!t)return;const T=i?"user":"guest";await te.replyToTicket(t.id,I,T),await D(i),R(""),P()},le=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),z())};return r.jsxs("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col items-end font-sans",children:[n&&r.jsxs("div",{className:"mb-4 w-96 max-w-[calc(100vw-48px)] h-[600px] max-h-[80vh] bg-white shadow-2xl border border-gray-200 flex flex-col animate-in slide-in-from-bottom-5 duration-300",children:[r.jsxs("div",{className:"bg-black text-white p-5 flex justify-between items-center relative overflow-hidden",children:[r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"w-2 h-2 bg-[#ff4d00] rounded-full animate-pulse"}),r.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-[#ff4d00]",children:"Live Support"})]}),r.jsx("h3",{className:"text-lg font-bold",children:"Traffic Creator"})]}),r.jsx("button",{onClick:()=>e(!1),className:"relative z-10 text-gray-400 hover:text-white transition-colors",children:r.jsx(Ha,{size:20})}),r.jsx("div",{className:"absolute -right-6 -bottom-10 w-24 h-24 bg-[#ff4d00] opacity-20 rounded-full blur-xl"})]}),r.jsx("div",{className:"flex-1 overflow-hidden flex flex-col bg-[#f9fafb]",children:t?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-gray-100 p-3 text-center border-b border-gray-200",children:r.jsxs("p",{className:"text-[10px] text-gray-500 font-medium flex items-center justify-center gap-1",children:[r.jsx(Yn,{size:12})," Support will respond within, normally, 5 minutes."]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(H=t.messages)==null?void 0:H.map(T=>{var E;const N=T.sender==="user"||T.sender==="guest";return r.jsx("div",{className:`flex ${N?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[85%] flex flex-col ${N?"items-end":"items-start"}`,children:[r.jsx("div",{className:`p-3 text-sm shadow-sm ${N?"bg-black text-white rounded-l-lg rounded-tr-lg":"bg-white text-gray-900 border border-gray-200 rounded-r-lg rounded-tl-lg"}`,children:T.text}),r.jsxs("span",{className:"text-[9px] text-gray-400 mt-1 uppercase font-bold tracking-wide",children:[N?"You":"Support","  ",((E=T.date.split(",")[1])==null?void 0:E.trim())||"Now"]})]})},T.id)}),r.jsx("div",{ref:T=>h(T)})]}),r.jsx("div",{className:"p-3 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{value:I,onChange:T=>R(T.target.value),onKeyDown:le,className:"flex-1 bg-white border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] transition-colors",placeholder:"Type a message...",autoFocus:!0}),r.jsx("button",{className:"p-3 bg-[#ff4d00] text-white hover:bg-black transition-colors",onClick:z,disabled:!I.trim(),children:r.jsx(fl,{size:16})})]})})]}):r.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[r.jsxs("div",{className:"mb-6 text-center",children:[r.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"How can we help?"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["We typically reply within ",r.jsx("span",{className:"font-bold text-gray-900",children:"5 minutes"}),"."]})]}),r.jsxs("form",{onSubmit:M,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:["Full Name ",r.jsx("span",{className:"text-[#ff4d00]",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{required:!0,value:f,onChange:T=>g(T.target.value),className:"w-full bg-white border border-gray-200 p-3 pl-10 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"John Doe"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:["Email Address ",r.jsx("span",{className:"text-[#ff4d00]",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(hl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{required:!0,type:"email",value:y,onChange:T=>b(T.target.value),className:"w-full bg-white border border-gray-200 p-3 pl-10 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"name@company.com"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Phone Number (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx(WS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"tel",value:v,onChange:T=>k(T.target.value),className:"w-full bg-white border border-gray-200 p-3 pl-10 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"+1 (555) 000-0000"})]})]}),r.jsxs("button",{type:"submit",className:"w-full bg-black text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors mt-4 flex items-center justify-center gap-2",children:["Start Chat ",r.jsx(fl,{size:14})]})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center",children:r.jsx("p",{className:"text-[10px] text-gray-400",children:"By chatting you agree to our Privacy Policy."})})]})})]}),r.jsx("button",{onClick:()=>e(!n),className:`${n?"bg-black scale-90":"bg-[#ff4d00] hover:scale-110"} text-white p-4 shadow-[0_10px_20px_rgba(255,77,0,0.3)] transition-all duration-300 rounded-full flex items-center justify-center z-[100]`,children:n?r.jsx(Ha,{size:28}):r.jsx(Tr,{size:28})})]})},YN=({children:n,adminOnly:e})=>{const t=te.getCurrentUser();return t?e&&t.role!=="admin"?r.jsx(Jr,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:n}):r.jsx(Jr,{to:"/login",replace:!0})},jM=()=>{const{type:n}=bp(),e=Cu(),t=()=>{const s=te.getCurrentUser();s&&(s.role==="user"||s.role==="admin")?e("/dashboard"):e("/")};return r.jsx(bM,{type:n,onBack:t})},NM=()=>{const n=Cu(),e=ma();S.useEffect(()=>{te.init()},[]),S.useEffect(()=>{const l=te.getCurrentUser();if(l){const u=e.pathname.substring(1)||"landing";te.trackPresence(u,l)}},[e]);const t=l=>{n(l==="admin"?"/admin":"/dashboard"),window.scrollTo(0,0)},s=()=>{n("/"),window.scrollTo(0,0)},i=()=>{n("/"),window.scrollTo(0,0)};return r.jsxs(r.Fragment,{children:[r.jsxs(PS,{children:[r.jsx(Ye,{path:"/",element:r.jsx(Y5,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),r.jsx(Ye,{path:"/login",element:r.jsx(by,{view:"login",onLogin:t,onNavigate:l=>n(`/${l}`)})}),r.jsx(Ye,{path:"/signup",element:r.jsx(by,{view:"signup",onLogin:t,onNavigate:l=>n(`/${l}`)})}),r.jsx(Ye,{path:"/forgot",element:r.jsx(by,{view:"forgot",onLogin:t,onNavigate:l=>n(`/${l}`)})}),r.jsx(Ye,{path:"/dashboard",element:r.jsx(YN,{children:r.jsx(W5,{onLogout:s,onNavigate:l=>n(`/${l}`)})})}),r.jsx(Ye,{path:"/admin/*",element:r.jsx(YN,{adminOnly:!0,children:r.jsx(yM,{onLogout:s})})}),r.jsx(Ye,{path:"/helpdesk",element:r.jsx(vM,{onBack:i})}),r.jsx(Ye,{path:"/blog",element:r.jsx(wM,{onBack:i})}),r.jsx(Ye,{path:"/legal/:type",element:r.jsx(jM,{})}),r.jsx(Ye,{path:"/privacy",element:r.jsx(Jr,{to:"/legal/privacy",replace:!0})}),r.jsx(Ye,{path:"/terms",element:r.jsx(Jr,{to:"/legal/terms",replace:!0})}),r.jsx(Ye,{path:"/impressum",element:r.jsx(Jr,{to:"/legal/impressum",replace:!0})}),r.jsx(Ye,{path:"/agb",element:r.jsx(Jr,{to:"/legal/agb",replace:!0})}),r.jsx(Ye,{path:"/refund",element:r.jsx(Jr,{to:"/legal/refund",replace:!0})}),r.jsx(Ye,{path:"/delivery",element:r.jsx(Jr,{to:"/legal/delivery",replace:!0})}),r.jsx(Ye,{path:"/organic-website-traffic",element:r.jsx(Q5,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),r.jsx(Ye,{path:"/modern-traffic",element:r.jsx(J5,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),r.jsx(Ye,{path:"*",element:r.jsx(Jr,{to:"/",replace:!0})})]}),r.jsx(_M,{})]})},TM=()=>{};var QN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let i=n.charCodeAt(s);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},SM=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const i=n[t++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const l=n[t++];e[s++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=n[t++],u=n[t++],h=n[t++],f=((i&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const l=n[t++],u=n[t++];e[s++]=String.fromCharCode((i&15)<<12|(l&63)<<6|u&63)}}return e.join("")},nE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<n.length;i+=3){const l=n[i],u=i+1<n.length,h=u?n[i+1]:0,f=i+2<n.length,g=f?n[i+2]:0,y=l>>2,b=(l&3)<<4|h>>4;let v=(h&15)<<2|g>>6,k=g&63;f||(k=64,u||(v=64)),s.push(t[y],t[b],t[v],t[k])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):SM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<n.length;){const l=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const g=i<n.length?t[n.charAt(i)]:64;++i;const b=i<n.length?t[n.charAt(i)]:64;if(++i,l==null||h==null||g==null||b==null)throw new EM;const v=l<<2|h>>4;if(s.push(v),g!==64){const k=h<<4&240|g>>2;if(s.push(k),b!==64){const I=g<<6&192|b;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class EM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AM=function(n){const e=tE(n);return nE.encodeByteArray(e,!0)},Bp=function(n){return AM(n).replace(/\./g,"")},iv=function(n){try{return nE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Fp(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!kM(t)||(n[t]=Fp(n[t],e[t]));return n}function kM(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=()=>ov().__FIREBASE_DEFAULTS__,CM=()=>{if(typeof process>"u"||typeof QN>"u")return;const n=QN.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&iv(n[1]);return e&&JSON.parse(e)},lv=()=>{try{return TM()||IM()||CM()||RM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},cv=()=>{var n;return(n=lv())==null?void 0:n.config},DM=n=>{var e;return(e=lv())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",i=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Bp(JSON.stringify(t)),Bp(JSON.stringify(u)),""].join(".")}const yh={};function OM(){const n={prod:[],emulator:[]};for(const e of Object.keys(yh))yh[e]?n.emulator.push(e):n.prod.push(e);return n}function VM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let JN=!1;function rE(n,e){if(typeof window>"u"||typeof document>"u"||!Du(window.location.host)||yh[n]===e||yh[n]||JN)return;yh[n]=e;function t(v){return`__firebase__banner__${v}`}const s="__firebase__banner",l=OM().prod.length>0;function u(){const v=document.getElementById(s);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,k){v.setAttribute("width","24"),v.setAttribute("id",k),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function g(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{JN=!0,u()},v}function y(v,k){v.setAttribute("id",k),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function b(){const v=VM(s),k=t("text"),I=document.getElementById(k)||document.createElement("span"),R=t("learnmore"),D=document.getElementById(R)||document.createElement("a"),P=t("preprendIcon"),M=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const z=v.element;h(z),y(D,R);const le=g();f(M,P),z.append(M,I,D,le),document.body.appendChild(z)}l?(I.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function bg(){var e;const n=(e=lv())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UM(){return typeof window<"u"||aE()}function aE(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function zM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vg(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function uv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iE(){const n=Ut();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function oE(){return!bg()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lE(){return!bg()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function gl(){try{return typeof indexedDB=="object"}catch{return!1}}function dv(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var l;e(((l=i.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}function cE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="FirebaseError";class Rn extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=BM,Object.setPrototypeOf(this,Rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ja.prototype.create)}}class Ja{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},i=`${this.service}/${e}`,l=this.errors[e],u=l?FM(l,s):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new Rn(i,h,s)}}function FM(n,e){return n.replace(qM,(t,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const qM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function $M(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zi(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const i of t){if(!s.includes(i))return!1;const l=n[i],u=e[i];if(ZN(l)&&ZN(u)){if(!Zi(l,u))return!1}else if(l!==u)return!1}for(const i of s)if(!t.includes(i))return!1;return!0}function ZN(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $c(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,l]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function ch(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function uE(n,e){const t=new GM(n,e);return t.subscribe.bind(t)}class GM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let i;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");HM(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:s},i.next===void 0&&(i.next=vy),i.error===void 0&&(i.error=vy),i.complete===void 0&&(i.complete=vy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=1e3,WM=2,YM=14400*1e3,QM=.5;function eT(n,e=KM,t=WM){const s=e*Math.pow(t,n),i=Math.round(QM*s*(Math.random()-.5)*2);return Math.min(YM,s+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n){return n&&n._delegate?n._delegate:n}class Zn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new PM;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZM(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:i});s.resolve(l)}catch{}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(i)}return i}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const l=this.instances.get(s);return l&&e(l,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const i of s)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:XM(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XM(n){return n===Wo?void 0:n}function ZM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=[];var Qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qe||(Qe={}));const hE={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},eO=Qe.INFO,tO={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},nO=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),i=tO[e];if(i)console[i](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class df{constructor(e){this.name=e,this._logLevel=eO,this._logHandler=nO,this._userLogHandler=null,hv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}function sO(n){hv.forEach(e=>{e.setLogLevel(n)})}function rO(n,e){for(const t of hv){let s=null;e&&e.level&&(s=hE[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,l,...u)=>{const h=u.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");l>=(s??i.logLevel)&&n({level:Qe[l].toLowerCase(),message:h,args:u,type:i.name})}}}const aO=(n,e)=>e.some(t=>n instanceof t);let tT,nT;function iO(){return tT||(tT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oO(){return nT||(nT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fE=new WeakMap,eb=new WeakMap,mE=new WeakMap,wy=new WeakMap,fv=new WeakMap;function lO(n){const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Hi(n.result)),i()},u=()=>{s(n.error),i()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&fE.set(t,n)}).catch(()=>{}),fv.set(e,n),e}function cO(n){if(eb.has(n))return;const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),i()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});eb.set(n,e)}let tb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return eb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||mE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uO(n){tb=n(tb)}function dO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(_y(this),e,...t);return mE.set(s,e.sort?e.sort():[e]),Hi(s)}:oO().includes(n)?function(...e){return n.apply(_y(this),e),Hi(fE.get(this))}:function(...e){return Hi(n.apply(_y(this),e))}}function hO(n){return typeof n=="function"?dO(n):(n instanceof IDBTransaction&&cO(n),aO(n,iO())?new Proxy(n,tb):n)}function Hi(n){if(n instanceof IDBRequest)return lO(n);if(wy.has(n))return wy.get(n);const e=hO(n);return e!==n&&(wy.set(n,e),fv.set(e,n)),e}const _y=n=>fv.get(n);function pE(n,e,{blocked:t,upgrade:s,blocking:i,terminated:l}={}){const u=indexedDB.open(n,e),h=Hi(u);return s&&u.addEventListener("upgradeneeded",f=>{s(Hi(u.result),f.oldVersion,f.newVersion,Hi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),i&&f.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const fO=["get","getKey","getAll","getAllKeys","count"],mO=["put","add","delete","clear"],jy=new Map;function sT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jy.get(e))return jy.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,i=mO.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(i||fO.includes(t)))return;const l=async function(u,...h){const f=this.transaction(u,i?"readwrite":"readonly");let g=f.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),i&&f.done]))[0]};return jy.set(e,l),l}uO(n=>({...n,get:(e,t,s)=>sT(e,t)||n.get(e,t,s),has:(e,t)=>!!sT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(gO(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function gO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qp="@firebase/app",nb="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new df("@firebase/app"),xO="@firebase/app-compat",yO="@firebase/analytics-compat",bO="@firebase/analytics",vO="@firebase/app-check-compat",wO="@firebase/app-check",_O="@firebase/auth",jO="@firebase/auth-compat",NO="@firebase/database",TO="@firebase/data-connect",SO="@firebase/database-compat",EO="@firebase/functions",AO="@firebase/functions-compat",kO="@firebase/installations",IO="@firebase/installations-compat",CO="@firebase/messaging",RO="@firebase/messaging-compat",DO="@firebase/performance",PO="@firebase/performance-compat",MO="@firebase/remote-config",OO="@firebase/remote-config-compat",VO="@firebase/storage",LO="@firebase/storage-compat",UO="@firebase/firestore",zO="@firebase/ai",BO="@firebase/firestore-compat",FO="firebase",qO="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="[DEFAULT]",$O={[qp]:"fire-core",[xO]:"fire-core-compat",[bO]:"fire-analytics",[yO]:"fire-analytics-compat",[wO]:"fire-app-check",[vO]:"fire-app-check-compat",[_O]:"fire-auth",[jO]:"fire-auth-compat",[NO]:"fire-rtdb",[TO]:"fire-data-connect",[SO]:"fire-rtdb-compat",[EO]:"fire-fn",[AO]:"fire-fn-compat",[kO]:"fire-iid",[IO]:"fire-iid-compat",[CO]:"fire-fcm",[RO]:"fire-fcm-compat",[DO]:"fire-perf",[PO]:"fire-perf-compat",[MO]:"fire-rc",[OO]:"fire-rc-compat",[VO]:"fire-gcs",[LO]:"fire-gcs-compat",[UO]:"fire-fst",[BO]:"fire-fst-compat",[zO]:"fire-vertex","fire-js":"fire-js",[FO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new Map,au=new Map,iu=new Map;function Lh(n,e){try{n.container.addComponent(e)}catch(t){Ka.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gE(n,e){n.container.addOrOverwriteComponent(e)}function Xs(n){const e=n.name;if(iu.has(e))return Ka.debug(`There were multiple attempts to register component ${e}.`),!1;iu.set(e,n);for(const t of to.values())Lh(t,n);for(const t of au.values())Lh(t,n);return!0}function wg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function GO(n,e,t=eo){wg(n,e).clearInstance(t)}function mv(n){return n.options!==void 0}function xE(n){return mv(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function Pt(n){return n==null?!1:n.settings!==void 0}function HO(){iu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new Ja("app","Firebase",KO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yE=class{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(n,e){const t=iv(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,l=new Date().getTime();i-l<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class WO extends yE{constructor(e,t,s,i){const l=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,u={name:s,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,u,i);else{const h=e;super(h.options,u,i)}this._serverConfig={automaticDataCollectionEnabled:l,...t},this._serverConfig.authIdToken&&rT(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&rT(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Qn(qp,nb,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){gv(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ss.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=qO;function pv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:eo,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw Ss.create("bad-app-name",{appName:String(i)});if(t||(t=cv()),!t)throw Ss.create("no-options");const l=to.get(i);if(l){if(Zi(t,l.options)&&Zi(s,l.config))return l;throw Ss.create("duplicate-app",{appName:i})}const u=new dE(i);for(const f of iu.values())u.addComponent(f);const h=new yE(t,s,u);return to.set(i,h),h}function YO(n,e={}){if(UM()&&!aE())throw Ss.create("invalid-server-app-environment");let t,s=e||{};if(n&&(mv(n)?t=n.options:xE(n)?s=n:t=n),s.automaticDataCollectionEnabled===void 0&&(s.automaticDataCollectionEnabled=!0),t||(t=cv()),!t)throw Ss.create("no-options");const i={...s,...t};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const l=y=>[...y].reduce((b,v)=>Math.imul(31,b)+v.charCodeAt(0)|0,0);if(s.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Ss.create("finalization-registry-not-supported",{});const u=""+l(JSON.stringify(i)),h=au.get(u);if(h)return h.incRefCount(s.releaseOnDeref),h;const f=new dE(u);for(const y of iu.values())f.addComponent(y);const g=new WO(t,s,u,f);return au.set(u,g),g}function QO(n=eo){const e=to.get(n);if(!e&&n===eo&&cv())return pv();if(!e)throw Ss.create("no-app",{appName:n});return e}function JO(){return Array.from(to.values())}async function gv(n){let e=!1;const t=n.name;to.has(t)?(e=!0,to.delete(t)):au.has(t)&&n.decRefCount()<=0&&(au.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(s=>s.delete())),n.isDeleted=!0)}function Qn(n,e,t){let s=$O[n]??n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const u=[`Unable to register library "${s}" with version "${e}":`];i&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ka.warn(u.join(" "));return}Xs(new Zn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function bE(n,e){if(n!==null&&typeof n!="function")throw Ss.create("invalid-log-argument");rO(n,e)}function vE(n){sO(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="firebase-heartbeat-database",ZO=1,Uh="firebase-heartbeat-store";let Ny=null;function wE(){return Ny||(Ny=pE(XO,ZO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ss.create("idb-open",{originalErrorMessage:n.message})})),Ny}async function eV(n){try{const t=(await wE()).transaction(Uh),s=await t.objectStore(Uh).get(_E(n));return await t.done,s}catch(e){if(e instanceof Rn)Ka.warn(e.message);else{const t=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ka.warn(t.message)}}}async function aT(n,e){try{const s=(await wE()).transaction(Uh,"readwrite");await s.objectStore(Uh).put(e,_E(n)),await s.done}catch(t){if(t instanceof Rn)Ka.warn(t.message);else{const s=Ss.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ka.warn(s.message)}}}function _E(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=1024,nV=30;class sV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aV(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=iT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>nV){const u=iV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ka.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iT(),{heartbeatsToSend:s,unsentEntries:i}=rV(this._heartbeatsCache.heartbeats),l=Bp(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ka.warn(t),""}}}function iT(){return new Date().toISOString().substring(0,10)}function rV(n,e=tV){const t=[];let s=n.slice();for(const i of n){const l=t.find(u=>u.agent===i.agent);if(l){if(l.dates.push(i.date),oT(t)>e){l.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),oT(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class aV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gl()?dv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await eV(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return aT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return aT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function oT(n){return Bp(JSON.stringify({version:2,heartbeats:n})).length}function iV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(n){Xs(new Zn("platform-logger",e=>new pO(e),"PRIVATE")),Xs(new Zn("heartbeat",e=>new sV(e),"PRIVATE")),Qn(qp,nb,n),Qn(qp,nb,"esm2020"),Qn("fire-js","")}oV("");const lV=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Rn,SDK_VERSION:co,_DEFAULT_ENTRY_NAME:eo,_addComponent:Lh,_addOrOverwriteComponent:gE,_apps:to,_clearComponents:HO,_components:iu,_getProvider:wg,_isFirebaseApp:mv,_isFirebaseServerApp:Pt,_isFirebaseServerAppSettings:xE,_registerComponent:Xs,_removeServiceInstance:GO,_serverApps:au,deleteApp:gv,getApp:QO,getApps:JO,initializeApp:pv,initializeServerApp:YO,onLog:bE,registerVersion:Qn,setLogLevel:vE},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,t){this._delegate=e,this.firebase=t,Lh(e,new Zn("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),gv(this._delegate)))}_getService(e,t=eo){var i;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((i=s.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:t})}_removeServiceInstance(e,t=eo){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Lh(this._delegate,e)}_addOrOverwriteComponent(e){gE(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},lT=new Ja("app-compat","Firebase",uV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(n){const e={},t={__esModule:!0,initializeApp:l,app:i,registerVersion:Qn,setLogLevel:vE,onLog:bE,apps:null,SDK_VERSION:co,INTERNAL:{registerComponent:h,removeApp:s,useAsService:f,modularAPIs:lV}};t.default=t,Object.defineProperty(t,"apps",{get:u});function s(g){delete e[g]}function i(g){if(g=g||eo,!XN(e,g))throw lT.create("no-app",{appName:g});return e[g]}i.App=n;function l(g,y={}){const b=pv(g,y);if(XN(e,b.name))return e[b.name];const v=new n(b,t);return e[b.name]=v,v}function u(){return Object.keys(e).map(g=>e[g])}function h(g){const y=g.name,b=y.replace("-compat","");if(Xs(g)&&g.type==="PUBLIC"){const v=(k=i())=>{if(typeof k[b]!="function")throw lT.create("invalid-app-argument",{appName:y});return k[b]()};g.serviceProps!==void 0&&Fp(v,g.serviceProps),t[b]=v,n.prototype[b]=function(...k){return this._getService.bind(this,y).apply(this,g.multipleInstances?k:[])}}return g.type==="PUBLIC"?t[b]:null}function f(g,y){return y==="serverAuth"?null:y}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){const n=dV(cV);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:jE,extendNamespace:e,createSubscribe:uE,ErrorFactory:Ja,deepExtend:Fp};function e(t){Fp(n,t)}return n}const hV=jE();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=new df("@firebase/app-compat"),fV="@firebase/app-compat",mV="0.5.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(n){Qn(fV,mV,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=ov();if(n.firebase!==void 0){cT.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&cT.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const uo=hV;pV();var gV="firebase",xV="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uo.registerVersion(gV,xV,"app-compat");const Xd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Cc={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function NE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bV=yV,vV=NE,TE=new Ja("auth","Firebase",NE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new df("@firebase/auth");function wV(n,...e){$p.logLevel<=Qe.WARN&&$p.warn(`Auth (${co}): ${n}`,...e)}function Np(n,...e){$p.logLevel<=Qe.ERROR&&$p.error(`Auth (${co}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(n,...e){throw yv(n,...e)}function pn(n,...e){return yv(n,...e)}function xv(n,e,t){const s={...vV(),[e]:t};return new Ja("auth","Firebase",s).create(e,{appName:n.name})}function _n(n){return xv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mu(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Pn(n,"argument-error"),xv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yv(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return TE.create(n,...e)}function ge(n,e,...t){if(!n)throw yv(e,...t)}function ra(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Np(e),new Error(e)}function Er(n,e){n||ra(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function bv(){return uT()==="http:"||uT()==="https:"}function uT(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bv()||vg()||"connection"in navigator)?navigator.onLine:!0}function jV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Er(t>e,"Short delay should be less than long delay!"),this.isMobile=LM()||uv()}get(){return _V()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(n,e){Er(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ra("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ra("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ra("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SV=new hf(3e4,6e4);function Ht(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Kt(n,e,t,s,i={}){return EE(n,i,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const h=Pu({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:f,...l};return zM()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Du(n.emulatorConfig.host)&&(g.credentials="include"),SE.fetch()(await AE(n,n.config.apiHost,t,h),g)})}async function EE(n,e,t){n._canInitEmulator=!1;const s={...NV,...e};try{const i=new AV(n),l=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw uh(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw uh(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw uh(n,"user-disabled",u);const y=s[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw xv(n,y,g);Pn(n,y)}}catch(i){if(i instanceof Rn)throw i;Pn(n,"network-request-failed",{message:String(i)})}}async function Xa(n,e,t,s,i={}){const l=await Kt(n,e,t,s,i);return"mfaPendingCredential"in l&&Pn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function AE(n,e,t,s){const i=`${e}${t}?${s}`,l=n,u=l.config.emulator?vv(n.config,i):`${n.config.apiScheme}://${i}`;return TV.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function EV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(pn(this.auth,"network-request-failed")),SV.get())})}}function uh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const i=pn(n,e,s);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(n){return n!==void 0&&n.getResponse!==void 0}function hT(n){return n!==void 0&&n.enterprise!==void 0}class kE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EV(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(n){return(await Kt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function IE(n,e){return Kt(n,"GET","/v2/recaptchaConfig",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(n,e){return Kt(n,"POST","/v1/accounts:delete",e)}async function CV(n,e){return Kt(n,"POST","/v1/accounts:update",e)}async function Gp(n,e){return Kt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RV(n,e=!1){const t=Ee(n),s=await t.getIdToken(e),i=_g(s);ge(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:i,token:s,authTime:bh(Ty(i.auth_time)),issuedAtTime:bh(Ty(i.iat)),expirationTime:bh(Ty(i.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ty(n){return Number(n)*1e3}function _g(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Np("JWT malformed, contained fewer than 3 sections"),null;try{const i=iv(t);return i?JSON.parse(i):(Np("Failed to decode base64 JWT payload"),null)}catch(i){return Np("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fT(n){const e=_g(n);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Rn&&DV(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function DV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bh(this.lastLoginAt),this.creationTime=bh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(n){var b;const e=n.auth,t=await n.getIdToken(),s=await Wa(n,Gp(e,{idToken:t}));ge(s==null?void 0:s.users.length,e,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const l=(b=i.providerUserInfo)!=null&&b.length?CE(i.providerUserInfo):[],u=OV(n.providerData,l),h=n.isAnonymous,f=!(n.email&&i.passwordHash)&&!(u!=null&&u.length),g=h?f:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new sb(i.createdAt,i.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function MV(n){const e=Ee(n);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OV(n,e){return[...n.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function CE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(n,e){const t=await EE(n,{},async()=>{const s=Pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=n.config,u=await AE(n,i,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:s};return n.emulatorConfig&&Du(n.emulatorConfig.host)&&(f.credentials="include"),SE.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function LV(n,e){return Kt(n,"POST","/v2/accounts:revokeToken",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const t=fT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:i,expiresIn:l}=await VV(e,t);this.updateTokensAndExpiration(s,i,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:i,expirationTime:l}=t,u=new Kc;return s&&(ge(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),i&&(ge(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),l&&(ge(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kc,this.toJSON())}_performRefresh(){return ra("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(n,e){ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class vr{constructor({uid:e,auth:t,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new PV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new sb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Wa(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return RV(this,e)}reload(){return MV(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pt(this.auth.app))return Promise.reject(_n(this.auth));const e=await this.getIdToken();return await Wa(this,IV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,i=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,g=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:b,emailVerified:v,isAnonymous:k,providerData:I,stsTokenManager:R}=t;ge(b&&R,e,"internal-error");const D=Kc.fromJSON(this.name,R);ge(typeof b=="string",e,"internal-error"),Oi(s,e.name),Oi(i,e.name),ge(typeof v=="boolean",e,"internal-error"),ge(typeof k=="boolean",e,"internal-error"),Oi(l,e.name),Oi(u,e.name),Oi(h,e.name),Oi(f,e.name),Oi(g,e.name),Oi(y,e.name);const P=new vr({uid:b,auth:e,email:i,emailVerified:v,displayName:s,isAnonymous:k,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:D,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(P.providerData=I.map(M=>({...M}))),f&&(P._redirectEventId=f),P}static async _fromIdTokenResponse(e,t,s=!1){const i=new Kc;i.updateFromServerResponse(t);const l=new vr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Bh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const i=t.users[0];ge(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?CE(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(l!=null&&l.length),h=new Kc;h.updateFromIdToken(s);const f=new vr({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new sb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new Map;function Ts(n){Er(n instanceof Function,"Expected a class definition");let e=mT.get(n);return e?(Er(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,mT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}RE.type="NONE";const ou=RE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(n,e,t){return`firebase:${n}:${e}:${t}`}class Wc{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:i,name:l}=this.auth;this.fullUserKey=ll(this.userKey,i.apiKey,l),this.fullPersistenceKey=ll("persistence",i.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Gp(this.auth,{idToken:e}).catch(()=>{});return t?vr._fromGetAccountInfoResponse(this.auth,t,e):null}return vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Wc(Ts(ou),e,s);const i=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=i[0]||Ts(ou);const u=ll(s,e.config.apiKey,e.name);let h=null;for(const g of t)try{const y=await g._get(u);if(y){let b;if(typeof y=="string"){const v=await Gp(e,{idToken:y}).catch(()=>{});if(!v)break;b=await vr._fromGetAccountInfoResponse(e,v,y)}else b=vr._fromJSON(e,y);g!==l&&(h=b),l=g;break}}catch{}const f=i.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Wc(l,e,s):(l=f[0],h&&await l._set(u,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Wc(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VE(e))return"Blackberry";if(LE(e))return"Webos";if(PE(e))return"Safari";if((e.includes("chrome/")||ME(e))&&!e.includes("edge/"))return"Chrome";if(ff(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function DE(n=Ut()){return/firefox\//i.test(n)}function PE(n=Ut()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ME(n=Ut()){return/crios\//i.test(n)}function OE(n=Ut()){return/iemobile/i.test(n)}function ff(n=Ut()){return/android/i.test(n)}function VE(n=Ut()){return/blackberry/i.test(n)}function LE(n=Ut()){return/webos/i.test(n)}function mf(n=Ut()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UV(n=Ut()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function zV(n=Ut()){var e;return mf(n)&&!!((e=window.navigator)!=null&&e.standalone)}function BV(){return iE()&&document.documentMode===10}function UE(n=Ut()){return mf(n)||ff(n)||LE(n)||VE(n)||/windows phone/i.test(n)||OE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(n,e=[]){let t;switch(n){case"Browser":t=pT(Ut());break;case"Worker":t=`${pT(Ut())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${co}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((u,h)=>{try{const f=e(l);u(f)}catch(f){h(f)}});s.onAbort=t,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(n,e={}){return Kt(n,"GET","/v2/passwordPolicy",Ht(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=6;class GV{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??$V,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,t,s,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gT(this),this.idTokenSubscription=new gT(this),this.beforeStateQueue=new FV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ts(t)),this._initializationPromise=this.queue(async()=>{var s,i,l;if(!this._deleted&&(this.persistenceManager=await Wc.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gp(this,{idToken:e}),s=await vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Pt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(l=this.redirectUser)==null?void 0:l._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pt(this.app))return Promise.reject(_n(this));const t=e?Ee(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pt(this.app)?Promise.reject(_n(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pt(this.app)?Promise.reject(_n(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qV(this),t=new GV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ja("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await LV(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ts(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=await Wc.create(this,[Ts(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,i){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,s,i);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(Pt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&wV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function zt(n){return Ee(n)}class gT{constructor(e){this.auth=e,this.observer=null,this.addObserver=uE(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KV(n){pf=n}function wv(n){return pf.loadJS(n)}function WV(){return pf.recaptchaV2Script}function YV(){return pf.recaptchaEnterpriseScript}function QV(){return pf.gapiScript}function BE(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=500,XV=6e4,up=1e12;class ZV{constructor(e){this.auth=e,this.counter=up,this._widgets=new Map}render(e,t){const s=this.counter;return this._widgets.set(s,new n9(e,this.auth.name,t||{})),this.counter++,s}reset(e){var s;const t=e||up;(s=this._widgets.get(t))==null||s.delete(),this._widgets.delete(t)}getResponse(e){var s;const t=e||up;return((s=this._widgets.get(t))==null?void 0:s.getResponse())||""}async execute(e){var s;const t=e||up;return(s=this._widgets.get(t))==null||s.execute(),""}}class e9{constructor(){this.enterprise=new t9}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class t9{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class n9{constructor(e,t,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ge(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=s9(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},XV)},JV))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function s9(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<n;s++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const r9="recaptcha-enterprise",vh="NO_RECAPTCHA";class FE{constructor(e){this.type=r9,this.auth=zt(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{IE(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new kE(f);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(f=>{h(f)})})}function i(l,u,h){const f=window.grecaptcha;hT(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(vh)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new e9().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(h=>{if(!t&&hT(window.grecaptcha))i(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=YV();f.length!==0&&(f+=h),wv(f).then(()=>{i(h,l,u)}).catch(g=>{u(g)})}}).catch(h=>{u(h)})})}}async function Zd(n,e,t,s=!1,i=!1){const l=new FE(n);let u;if(i)u=vh;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ki(n,e,t,s,i){var l,u;if(i==="EMAIL_PASSWORD_PROVIDER")if((l=n._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Zd(n,e,t,t==="getOobCode");return s(n,h)}else return s(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Zd(n,e,t,t==="getOobCode");return s(n,f)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if((u=n._getRecaptchaConfig())!=null&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await Zd(n,e,t);return s(n,h).catch(async f=>{var g;if(((g=n._getRecaptchaConfig())==null?void 0:g.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const y=await Zd(n,e,t,!1,!0);return s(n,y)}return Promise.reject(f)})}else{const h=await Zd(n,e,t,!1,!0);return s(n,h)}else return Promise.reject(i+" provider is not supported.")}async function a9(n){const e=zt(n),t=await IE(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new kE(t);e.tenantId==null?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,s.isAnyProviderEnabled()&&new FE(e).verify()}function i9(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Ts);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function o9(n,e,t){const s=zt(n);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),l=qE(e),{host:u,port:h}=l9(e),f=h===null?"":`:${h}`,g={url:`${l}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(Zi(g,s.config.emulator)&&Zi(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Du(u)?(sE(`${l}//${u}${f}`),rE("Auth",!0)):i||c9()}function qE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function l9(n){const e=qE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const l=i[1];return{host:l,port:xT(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:xT(u)}}}function xT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function c9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ra("not implemented")}_getIdTokenResponse(e){return ra("not implemented")}_linkToIdToken(e,t){return ra("not implemented")}_getReauthenticationResolver(e){return ra("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $E(n,e){return Kt(n,"POST","/v1/accounts:resetPassword",Ht(n,e))}async function u9(n,e){return Kt(n,"POST","/v1/accounts:update",e)}async function d9(n,e){return Kt(n,"POST","/v1/accounts:signUp",e)}async function h9(n,e){return Kt(n,"POST","/v1/accounts:update",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(n,e){return Xa(n,"POST","/v1/accounts:signInWithPassword",Ht(n,e))}async function jg(n,e){return Kt(n,"POST","/v1/accounts:sendOobCode",Ht(n,e))}async function m9(n,e){return jg(n,e)}async function p9(n,e){return jg(n,e)}async function g9(n,e){return jg(n,e)}async function x9(n,e){return jg(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(n,e){return Xa(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))}async function b9(n,e){return Xa(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends Ou{constructor(e,t,s,i=null){super("password",s),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Fh(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Fh(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ki(e,t,"signInWithPassword",f9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return y9(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ki(e,s,"signUpPassword",d9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return b9(e,{idToken:t,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(n,e){return Xa(n,"POST","/v1/accounts:signInWithIdp",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9="http://localhost";class da extends Ou{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i,...l}=t;if(!s||!i)return null;const u=new da(s,i);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ba(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ba(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ba(e,t)}buildRequest(){const e={requestUri:v9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(n,e){return Kt(n,"POST","/v1/accounts:sendVerificationCode",Ht(n,e))}async function w9(n,e){return Xa(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,e))}async function _9(n,e){const t=await Xa(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,e));if(t.temporaryProof)throw uh(n,"account-exists-with-different-credential",t);return t}const j9={USER_NOT_FOUND:"user-not-found"};async function N9(n,e){const t={...e,operation:"REAUTH"};return Xa(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,t),j9)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends Ou{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new cl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new cl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return w9(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return _9(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return N9(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:s,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:s,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:s,phoneNumber:i,temporaryProof:l}=e;return!s&&!t&&!i&&!l?null:new cl({verificationId:t,verificationCode:s,phoneNumber:i,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S9(n){const e=$c(ch(n)).link,t=e?$c(ch(e)).deep_link_id:null,s=$c(ch(n)).deep_link_id;return(s?$c(ch(s)).link:null)||s||t||e||n}class Ng{constructor(e){const t=$c(ch(e)),s=t.apiKey??null,i=t.oobCode??null,l=T9(t.mode??null);ge(s&&i&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=S9(e);try{return new Ng(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(e,t){return Fh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Ng.parseLink(t);return ge(s,"argument-error"),Fh._fromEmailAndCode(e,s.code,s.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends Za{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yc extends Vu{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ge("providerId"in t&&"signInMethod"in t,"argument-error"),da._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ge(e.idToken||e.accessToken,"argument-error"),da._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Yc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Yc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s,oauthTokenSecret:i,pendingToken:l,nonce:u,providerId:h}=e;if(!s&&!i&&!t&&!l||!h)return null;try{return new Yc(h)._credential({idToken:t,accessToken:s,nonce:u,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Vu{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";ea.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return da._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ta.credential(t,s)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Vu{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return na.credential(e.oauthAccessToken)}catch{return null}}}na.GITHUB_SIGN_IN_METHOD="github.com";na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9="http://localhost";class lu extends Ou{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ba(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ba(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ba(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i,pendingToken:l}=t;return!s||!i||!l||s!==i?null:new lu(s,l)}static _create(e,t){return new lu(e,t)}buildRequest(){return{requestUri:E9,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="saml.";class Hp extends Za{constructor(e){ge(e.startsWith(A9),"argument-error"),super(e)}static credentialFromResult(e){return Hp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Hp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=lu.fromJSON(e);return ge(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:s}=e;if(!t||!s)return null;try{return lu._create(s,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Vu{constructor(){super("twitter.com")}static credential(e,t){return da._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return sa.credential(t,s)}catch{return null}}}sa.TWITTER_SIGN_IN_METHOD="twitter.com";sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GE(n,e){return Xa(n,"POST","/v1/accounts:signUp",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,i=!1){const l=await vr._fromIdTokenResponse(e,s,i),u=bT(s);return new Zs({user:l,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const i=bT(s);return new Zs({user:e,providerId:i,_tokenResponse:s,operationType:t})}}function bT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(n){var i;if(Pt(n.app))return Promise.reject(_n(n));const e=zt(n);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new Zs({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await GE(e,{returnSecureToken:!0}),s=await Zs._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends Rn{constructor(e,t,s,i){super(t.code,t.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Kp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,i){return new Kp(e,t,s,i)}}function HE(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Kp._fromErrorAndOperation(n,l,e,s):l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(n,e){const t=Ee(n);await Tg(!0,t,e);const{providerUserInfo:s}=await CV(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=KE(s||[]);return t.providerData=t.providerData.filter(l=>i.has(l.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function _v(n,e,t=!1){const s=await Wa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zs._forOperation(n,"link",s)}async function Tg(n,e,t){await Bh(e);const s=KE(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";ge(s.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WE(n,e,t=!1){const{auth:s}=n;if(Pt(s.app))return Promise.reject(_n(s));const i="reauthenticate";try{const l=await Wa(n,HE(s,i,e,n),t);ge(l.idToken,s,"internal-error");const u=_g(l.idToken);ge(u,s,"internal-error");const{sub:h}=u;return ge(n.uid===h,s,"user-mismatch"),Zs._forOperation(n,i,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Pn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(n,e,t=!1){if(Pt(n.app))return Promise.reject(_n(n));const s="signIn",i=await HE(n,s,e),l=await Zs._fromIdTokenResponse(n,s,i);return t||await n._updateCurrentUser(l.user),l}async function Sg(n,e){return YE(zt(n),e)}async function QE(n,e){const t=Ee(n);return await Tg(!1,t,e.providerId),_v(t,e)}async function JE(n,e){return WE(Ee(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(n,e){return Xa(n,"POST","/v1/accounts:signInWithCustomToken",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R9(n,e){if(Pt(n.app))return Promise.reject(_n(n));const t=zt(n),s=await C9(t,{token:e,returnSecureToken:!0}),i=await Zs._fromIdTokenResponse(t,"signIn",s);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?jv._fromServerResponse(e,t):"totpInfo"in t?Nv._fromServerResponse(e,t):Pn(e,"internal-error")}}class jv extends gf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new jv(t)}}class Nv extends gf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Nv(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(n,e,t){var s;ge(((s=t.url)==null?void 0:s.length)>0,n,"invalid-continue-uri"),ge(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ge(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ge(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ge(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tv(n){const e=zt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function D9(n,e,t){const s=zt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Eg(s,i,t),await Ki(s,i,"getOobCode",p9,"EMAIL_PASSWORD_PROVIDER")}async function P9(n,e,t){await $E(Ee(n),{oobCode:e,newPassword:t}).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Tv(n),s})}async function M9(n,e){await h9(Ee(n),{oobCode:e})}async function XE(n,e){const t=Ee(n),s=await $E(t,{oobCode:e}),i=s.requestType;switch(ge(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(s.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(s.mfaInfo,t,"internal-error");default:ge(s.email,t,"internal-error")}let l=null;return s.mfaInfo&&(l=gf._fromServerResponse(zt(t),s.mfaInfo)),{data:{email:(s.requestType==="VERIFY_AND_CHANGE_EMAIL"?s.newEmail:s.email)||null,previousEmail:(s.requestType==="VERIFY_AND_CHANGE_EMAIL"?s.email:s.newEmail)||null,multiFactorInfo:l},operation:i}}async function O9(n,e){const{data:t}=await XE(Ee(n),e);return t.email}async function V9(n,e,t){if(Pt(n.app))return Promise.reject(_n(n));const s=zt(n),u=await Ki(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GE,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Tv(n),f}),h=await Zs._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(h.user),h}function L9(n,e,t){return Pt(n.app)?Promise.reject(_n(n)):Sg(Ee(n),ho.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Tv(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(n,e,t){const s=zt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function l(u,h){ge(h.handleCodeInApp,s,"argument-error"),h&&Eg(s,u,h)}l(i,t),await Ki(s,i,"getOobCode",g9,"EMAIL_PASSWORD_PROVIDER")}function z9(n,e){const t=Ng.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function B9(n,e,t){if(Pt(n.app))return Promise.reject(_n(n));const s=Ee(n),i=ho.credentialWithLink(e,t||zh());return ge(i._tenantId===(s.tenantId||null),s,"tenant-id-mismatch"),Sg(s,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(n,e){return Kt(n,"POST","/v1/accounts:createAuthUri",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9(n,e){const t=bv()?zh():"http://localhost",s={identifier:e,continueUri:t},{signinMethods:i}=await F9(Ee(n),s);return i||[]}async function $9(n,e){const t=Ee(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Eg(t.auth,i,e);const{email:l}=await m9(t.auth,i);l!==n.email&&await n.reload()}async function G9(n,e,t){const s=Ee(n),l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Eg(s.auth,l,t);const{email:u}=await x9(s.auth,l);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H9(n,e){return Kt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Ee(n),l={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Wa(s,H9(s.auth,l));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const h=s.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=s.displayName,h.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function W9(n,e){const t=Ee(n);return Pt(t.auth.app)?Promise.reject(_n(t.auth)):ZE(t,e,null)}function Y9(n,e){return ZE(Ee(n),null,e)}async function ZE(n,e,t){const{auth:s}=n,l={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(l.email=e),t&&(l.password=t);const u=await Wa(n,u9(s,l));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(n){var i,l;if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(n!=null&&n.idToken)){const u=(l=(i=_g(n.idToken))==null?void 0:i.firebase)==null?void 0:l.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new Qc(s,h)}}if(!e)return null;switch(e){case"facebook.com":return new J9(s,t);case"github.com":return new X9(s,t);case"google.com":return new Z9(s,t);case"twitter.com":return new eL(s,t,n.screenName||null);case"custom":case"anonymous":return new Qc(s,null);default:return new Qc(s,e,t)}}class Qc{constructor(e,t,s={}){this.isNewUser=e,this.providerId=t,this.profile=s}}class eA extends Qc{constructor(e,t,s,i){super(e,t,s),this.username=i}}class J9 extends Qc{constructor(e,t){super(e,"facebook.com",t)}}class X9 extends eA{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class Z9 extends Qc{constructor(e,t){super(e,"google.com",t)}}class eL extends eA{constructor(e,t,s){super(e,"twitter.com",t,s)}}function tL(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:Q9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t,s){this.type=e,this.credential=t,this.user=s}static _fromIdtoken(e,t){return new nl("enroll",e,t)}static _fromMfaPendingCredential(e){return new nl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,s;if(e!=null&&e.multiFactorSession){if((t=e.multiFactorSession)!=null&&t.pendingCredential)return nl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((s=e.multiFactorSession)!=null&&s.idToken)return nl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,t,s){this.session=e,this.hints=t,this.signInResolver=s}static _fromError(e,t){const s=zt(e),i=t.customData._serverResponse,l=(i.mfaInfo||[]).map(h=>gf._fromServerResponse(s,h));ge(i.mfaPendingCredential,s,"internal-error");const u=nl._fromMfaPendingCredential(i.mfaPendingCredential);return new Sv(u,l,async h=>{const f=await h._process(s,u);delete i.mfaInfo,delete i.mfaPendingCredential;const g={...i,idToken:f.idToken,refreshToken:f.refreshToken};switch(t.operationType){case"signIn":const y=await Zs._fromIdTokenResponse(s,t.operationType,g);return await s._updateCurrentUser(y.user),y;case"reauthenticate":return ge(t.user,s,"internal-error"),Zs._forOperation(t.user,t.operationType,g);default:Pn(s,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function nL(n,e){var i;const t=Ee(n),s=e;return ge(e.customData.operationType,t,"argument-error"),ge((i=s.customData._serverResponse)==null?void 0:i.mfaPendingCredential,t,"argument-error"),Sv._fromError(t,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n,e){return Kt(n,"POST","/v2/accounts/mfaEnrollment:start",Ht(n,e))}function sL(n,e){return Kt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(n,e))}function rL(n,e){return Kt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(n,e))}class Ev{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(s=>gf._fromServerResponse(e.auth,s)))})}static _fromUser(e){return new Ev(e)}async getSession(){return nl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const s=e,i=await this.getSession(),l=await Wa(this.user,s._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(l),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,s=await this.user.getIdToken();try{const i=await Wa(this.user,rL(this.user.auth,{idToken:s,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:l})=>l!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Sy=new WeakMap;function aL(n){const e=Ee(n);return Sy.has(e)||Sy.set(e,Ev._fromUser(e)),Sy.get(e)}const Wp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wp,"1"),this.storage.removeItem(Wp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=1e3,oL=10;class nA extends tA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),i=this.localCache[t];s!==i&&e(t,i,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const s=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);BV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,oL):i()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},iL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nA.type="LOCAL";const Av=nA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA extends tA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}sA.type="SESSION";const xl=sA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const s=new Ag(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:i,data:l}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const h=Array.from(u).map(async g=>g(t.origin,l)),f=await lL(h);t.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ag.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,u;return new Promise((h,f)=>{const g=xf("",20);i.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},s);u={messageChannel:i,onMessage(b){const v=b;if(v.data.eventId===g)switch(v.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(v.data.response);break;default:clearTimeout(y),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return window}function uL(n){dn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}async function dL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hL(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function fL(){return kv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firebaseLocalStorageDb",mL=1,Yp="firebaseLocalStorage",aA="fbase_key";class yf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kg(n,e){return n.transaction([Yp],e?"readwrite":"readonly").objectStore(Yp)}function pL(){const n=indexedDB.deleteDatabase(rA);return new yf(n).toPromise()}function rb(){const n=indexedDB.open(rA,mL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Yp,{keyPath:aA})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Yp)?e(s):(s.close(),await pL(),e(await rb()))})})}async function wT(n,e,t){const s=kg(n,!0).put({[aA]:e,value:t});return new yf(s).toPromise()}async function gL(n,e){const t=kg(n,!1).get(e),s=await new yf(t).toPromise();return s===void 0?null:s.value}function _T(n,e){const t=kg(n,!0).delete(e);return new yf(t).toPromise()}const xL=800,yL=3;class iA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rb(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>yL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ag._getInstance(fL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await dL(),!this.activeServiceWorker)return;this.sender=new cL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rb();return await wT(e,Wp,"1"),await _T(e,Wp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>wT(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>gL(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_T(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=kg(i,!1).getAll();return new yf(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iA.type="LOCAL";const qh=iA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(n,e){return Kt(n,"POST","/v2/accounts/mfaSignIn:start",Ht(n,e))}function bL(n,e){return Kt(n,"POST","/v2/accounts/mfaSignIn:finalize",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=BE("rcb"),vL=new hf(3e4,6e4);class wL{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=dn().grecaptcha)!=null&&e.render)}load(e,t=""){return ge(_L(t),e,"argument-error"),this.shouldResolveImmediately(t)&&dT(dn().grecaptcha)?Promise.resolve(dn().grecaptcha):new Promise((s,i)=>{const l=dn().setTimeout(()=>{i(pn(e,"network-request-failed"))},vL.get());dn()[Ey]=()=>{dn().clearTimeout(l),delete dn()[Ey];const h=dn().grecaptcha;if(!h||!dT(h)){i(pn(e,"internal-error"));return}const f=h.render;h.render=(g,y)=>{const b=f(g,y);return this.counter++,b},this.hostLanguage=t,s(h)};const u=`${WV()}?${Pu({onload:Ey,render:"explicit",hl:t})}`;wv(u).catch(()=>{clearTimeout(l),i(pn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!((t=dn().grecaptcha)!=null&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function _L(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class jL{async load(e){return new ZV(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="recaptcha",NL={theme:"light",type:"image"};let TL=class{constructor(e,t,s={...NL}){this.parameters=s,this.type=wh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zt(e),this.isInvisible=this.parameters.size==="invisible",ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;ge(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jL:new wL,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),s=t.getResponse(e);return s||new Promise(i=>{const l=u=>{u&&(this.tokenChangeListeners.delete(l),i(u))};this.tokenChangeListeners.add(l),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(s=>s(t)),typeof e=="function")e(t);else if(typeof e=="string"){const s=dn()[e];typeof s=="function"&&s(t)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ge(bv()&&!kv(),this.auth,"internal-error"),await SL(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await kV(this.auth);ge(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function SL(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=cl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function EL(n,e,t){if(Pt(n.app))return Promise.reject(_n(n));const s=zt(n),i=await Ig(s,e,Ee(t));return new Iv(i,l=>Sg(s,l))}async function AL(n,e,t){const s=Ee(n);await Tg(!1,s,"phone");const i=await Ig(s.auth,e,Ee(t));return new Iv(i,l=>QE(s,l))}async function kL(n,e,t){const s=Ee(n);if(Pt(s.auth.app))return Promise.reject(_n(s.auth));const i=await Ig(s.auth,e,Ee(t));return new Iv(i,l=>JE(s,l))}async function Ig(n,e,t){var s;if(!n._getRecaptchaConfig())try{await a9(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const l=i.session;if("phoneNumber"in i){ge(l.type==="enroll",n,"internal-error");const u={idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ki(n,u,"mfaSmsEnrollment",async(y,b)=>{if(b.phoneEnrollmentInfo.captchaResponse===vh){ge((t==null?void 0:t.type)===wh,y,"argument-error");const v=await Ay(y,b,t);return vT(y,v)}return vT(y,b)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneSessionInfo.sessionInfo}else{ge(l.type==="signin",n,"internal-error");const u=((s=i.multiFactorHint)==null?void 0:s.uid)||i.multiFactorUid;ge(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:l.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ki(n,h,"mfaSmsSignIn",async(b,v)=>{if(v.phoneSignInInfo.captchaResponse===vh){ge((t==null?void 0:t.type)===wh,b,"argument-error");const k=await Ay(b,v,t);return jT(b,k)}return jT(b,v)},"PHONE_PROVIDER").catch(b=>Promise.reject(b))).phoneResponseInfo.sessionInfo}}else{const l={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ki(n,l,"sendVerificationCode",async(g,y)=>{if(y.captchaResponse===vh){ge((t==null?void 0:t.type)===wh,g,"argument-error");const b=await Ay(g,y,t);return yT(g,b)}return yT(g,y)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).sessionInfo}}finally{t==null||t._reset()}}async function IL(n,e){const t=Ee(n);if(Pt(t.auth.app))return Promise.reject(_n(t.auth));await _v(t,e)}async function Ay(n,e,t){ge(t.type===wh,n,"argument-error");const s=await t.verify();ge(typeof s=="string",n,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const l=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,f=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:s,captchaResponse:u,clientType:h,recaptchaVersion:f}}),i}else if("phoneSignInInfo"in i){const l=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:l,clientType:u,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:s}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl=class Tp{constructor(e){this.providerId=Tp.PROVIDER_ID,this.auth=zt(e)}verifyPhoneNumber(e,t){return Ig(this.auth,e,Ee(t))}static credential(e,t){return cl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Tp.credentialFromTaggedObject(t)}static credentialFromError(e){return Tp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:s}=e;return t&&s?cl._fromTokenResponse(t,s):null}};yl.PROVIDER_ID="phone";yl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(n,e){return e?Ts(e):(ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends Ou{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ba(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CL(n){return YE(n.auth,new Cv(n),n.bypassAuthState)}function RL(n){const{auth:e,user:t}=n;return ge(t,e,"internal-error"),WE(t,new Cv(n),n.bypassAuthState)}async function DL(n){const{auth:e,user:t}=n;return ge(t,e,"internal-error"),_v(t,new Cv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,t,s,i,l=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:i,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CL;case"linkViaPopup":case"linkViaRedirect":return DL;case"reauthViaPopup":case"reauthViaRedirect":return RL;default:Pn(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=new hf(2e3,1e4);async function ML(n,e,t){if(Pt(n.app))return Promise.reject(pn(n,"operation-not-supported-in-this-environment"));const s=zt(n);Mu(n,e,Za);const i=Pl(s,t);return new Va(s,"signInViaPopup",e,i).executeNotNull()}async function OL(n,e,t){const s=Ee(n);if(Pt(s.auth.app))return Promise.reject(pn(s.auth,"operation-not-supported-in-this-environment"));Mu(s.auth,e,Za);const i=Pl(s.auth,t);return new Va(s.auth,"reauthViaPopup",e,i,s).executeNotNull()}async function VL(n,e,t){const s=Ee(n);Mu(s.auth,e,Za);const i=Pl(s.auth,t);return new Va(s.auth,"linkViaPopup",e,i,s).executeNotNull()}class Va extends oA{constructor(e,t,s,i,l){super(e,t,i,l),this.provider=s,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=xf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PL.get())};e()}}Va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="pendingRedirect",_h=new Map;class UL extends oA{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const s=await zL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zL(n,e){const t=cA(e),s=lA(n);if(!await s._isAvailable())return!1;const i=await s._get(t)==="true";return await s._remove(t),i}async function Rv(n,e){return lA(n)._set(cA(e),"true")}function BL(){_h.clear()}function Dv(n,e){_h.set(n._key(),e)}function lA(n){return Ts(n._redirectPersistence)}function cA(n){return ll(LL,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(n,e,t){return qL(n,e,t)}async function qL(n,e,t){if(Pt(n.app))return Promise.reject(_n(n));const s=zt(n);Mu(n,e,Za),await s._initializationPromise;const i=Pl(s,t);return await Rv(i,s),i._openRedirect(s,e,"signInViaRedirect")}function $L(n,e,t){return GL(n,e,t)}async function GL(n,e,t){const s=Ee(n);if(Mu(s.auth,e,Za),Pt(s.auth.app))return Promise.reject(_n(s.auth));await s.auth._initializationPromise;const i=Pl(s.auth,t);await Rv(i,s.auth);const l=await uA(s);return i._openRedirect(s.auth,e,"reauthViaRedirect",l)}function HL(n,e,t){return KL(n,e,t)}async function KL(n,e,t){const s=Ee(n);Mu(s.auth,e,Za),await s.auth._initializationPromise;const i=Pl(s.auth,t);await Tg(!1,s,e.providerId),await Rv(i,s.auth);const l=await uA(s);return i._openRedirect(s.auth,e,"linkViaRedirect",l)}async function WL(n,e){return await zt(n)._initializationPromise,Cg(n,e,!1)}async function Cg(n,e,t=!1){if(Pt(n.app))return Promise.reject(_n(n));const s=zt(n),i=Pl(s,e),u=await new UL(s,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}async function uA(n){const e=xf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=600*1e3;class dA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!hA(e)){const i=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(pn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YL&&this.cachedEventUids.clear(),this.cachedEventUids.has(NT(e))}saveEventToCache(e){this.cachedEventUids.add(NT(e)),this.lastProcessedEventTime=Date.now()}}function NT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function hA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(n,e={}){return Kt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XL=/^https?/;async function ZL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await fA(n);for(const t of e)try{if(e8(t))return}catch{}Pn(n,"unauthorized-domain")}function e8(n){const e=zh(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!XL.test(t))return!1;if(JL.test(n))return s===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=new hf(3e4,6e4);function TT(){const n=dn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function n8(n){return new Promise((e,t)=>{var i,l,u;function s(){TT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TT(),t(pn(n,"network-request-failed"))},timeout:t8.get()})}if((l=(i=dn().gapi)==null?void 0:i.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((u=dn().gapi)!=null&&u.load)s();else{const h=BE("iframefcb");return dn()[h]=()=>{gapi.load?s():t(pn(n,"network-request-failed"))},wv(`${QV()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Sp=null,e})}let Sp=null;function s8(n){return Sp=Sp||n8(n),Sp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=new hf(5e3,15e3),a8="__/auth/iframe",i8="emulator/auth/iframe",o8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c8(n){const e=n.config;ge(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vv(e,i8):`https://${n.config.authDomain}/${a8}`,s={apiKey:e.apiKey,appName:n.name,v:co},i=l8.get(n.config.apiHost);i&&(s.eid=i);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Pu(s).slice(1)}`}async function u8(n){const e=await s8(n),t=dn().gapi;return ge(t,n,"internal-error"),e.open({where:document.body,url:c8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o8,dontclear:!0},s=>new Promise(async(i,l)=>{await s.restyle({setHideOnLeave:!1});const u=pn(n,"network-request-failed"),h=dn().setTimeout(()=>{l(u)},r8.get());function f(){dn().clearTimeout(h),i(s)}s.ping(f).then(f,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h8=500,f8=600,m8="_blank",p8="http://localhost";class ST{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g8(n,e,t,s=h8,i=f8){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const f={...d8,width:s.toString(),height:i.toString(),top:l,left:u},g=Ut().toLowerCase();t&&(h=ME(g)?m8:t),DE(g)&&(e=e||p8,f.scrollbars="yes");const y=Object.entries(f).reduce((v,[k,I])=>`${v}${k}=${I},`,"");if(zV(g)&&h!=="_self")return x8(e||"",h),new ST(null);const b=window.open(e||"",h,y);ge(b,n,"popup-blocked");try{b.focus()}catch{}return new ST(b)}function x8(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="__/auth/handler",b8="emulator/auth/handler",v8=encodeURIComponent("fac");async function ab(n,e,t,s,i,l){ge(n.config.authDomain,n,"auth-domain-config-required"),ge(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:co,eventId:i};if(e instanceof Za){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",$M(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries(l||{}))u[y]=b}if(e instanceof Vu){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),g=f?`#${v8}=${encodeURIComponent(f)}`:"";return`${w8(n)}?${Pu(h).slice(1)}${g}`}function w8({config:n}){return n.emulator?vv(n,b8):`https://${n.authDomain}/${y8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="webStorageSupport";class _8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xl,this._completeRedirectFn=Cg,this._overrideRedirectResult=Dv}async _openPopup(e,t,s,i){var u;Er((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const l=await ab(e,t,s,zh(),i);return g8(e,l,xf())}async _openRedirect(e,t,s,i){await this._originValidation(e);const l=await ab(e,t,s,zh(),i);return uL(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:l}=this.eventManagers[t];return i?Promise.resolve(i):(Er(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await u8(e),s=new dA(e);return t.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ky,{type:ky},i=>{var u;const l=(u=i==null?void 0:i[0])==null?void 0:u[ky];l!==void 0&&t(!!l),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ZL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return UE()||PE()||mf()}}const j8=_8;class N8{constructor(e){this.factorId=e}_process(e,t,s){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,s);case"signin":return this._finalizeSignIn(e,t.credential);default:return ra("unexpected MultiFactorSessionType")}}}class Pv extends N8{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Pv(e)}_finalizeEnroll(e,t,s){return sL(e,{idToken:t,displayName:s,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return bL(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class mA{constructor(){}static assertion(e){return Pv._fromCredential(e)}}mA.FACTOR_ID="phone";var ET="@firebase/auth",AT="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E8(n){Xs(new Zn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=s.options;ge(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zE(n)},g=new HV(s,i,l,f);return i9(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Xs(new Zn("auth-internal",e=>{const t=zt(e.getProvider("auth").getImmediate());return(s=>new T8(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(ET,AT,S8(n)),Qn(ET,AT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=300;DM("authIdTokenMaxAge");function k8(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}KV({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=i=>{const l=pn("internal-error");l.customData=i,t(l)},s.type="text/javascript",s.charset="UTF-8",k8().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E8("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=2e3;async function C8(n,e,t){const{BuildInfo:s}=bl();Er(e.sessionId,"AuthEvent did not contain a session ID");const i=await O8(e.sessionId),l={};return mf()?l.ibi=s.packageName:ff()?l.apn=s.packageName:Pn(n,"operation-not-supported-in-this-environment"),s.displayName&&(l.appDisplayName=s.displayName),l.sessionId=i,ab(n,t,e.type,void 0,e.eventId??void 0,l)}async function R8(n){const{BuildInfo:e}=bl(),t={};mf()?t.iosBundleId=e.packageName:ff()?t.androidPackageName=e.packageName:Pn(n,"operation-not-supported-in-this-environment"),await fA(n,t)}function D8(n){const{cordova:e}=bl();return new Promise(t=>{e.plugins.browsertab.isAvailable(s=>{let i=null;s?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,UV()?"_blank":"_system","location=yes"),t(i)})})}async function P8(n,e,t){const{cordova:s}=bl();let i=()=>{};try{await new Promise((l,u)=>{let h=null;function f(){var v;l();const b=(v=s.plugins.browsertab)==null?void 0:v.close;typeof b=="function"&&b(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function g(){h||(h=window.setTimeout(()=>{u(pn(n,"redirect-cancelled-by-user"))},I8))}function y(){(document==null?void 0:document.visibilityState)==="visible"&&g()}e.addPassiveListener(f),document.addEventListener("resume",g,!1),ff()&&document.addEventListener("visibilitychange",y,!1),i=()=>{e.removePassiveListener(f),document.removeEventListener("resume",g,!1),document.removeEventListener("visibilitychange",y,!1),h&&window.clearTimeout(h)}})}finally{i()}}function M8(n){var t,s,i,l,u,h,f,g,y,b;const e=bl();ge(typeof((t=e==null?void 0:e.universalLinks)==null?void 0:t.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ge(typeof((s=e==null?void 0:e.BuildInfo)==null?void 0:s.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ge(typeof((u=(l=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:l.browsertab)==null?void 0:u.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge(typeof((g=(f=(h=e==null?void 0:e.cordova)==null?void 0:h.plugins)==null?void 0:f.browsertab)==null?void 0:g.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge(typeof((b=(y=e==null?void 0:e.cordova)==null?void 0:y.InAppBrowser)==null?void 0:b.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function O8(n){const e=V8(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function V8(n){if(Er(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let s=0;s<n.length;s++)t[s]=n.charCodeAt(s);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=20;class U8 extends dA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function z8(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:q8(),postBody:null,tenantId:n.tenantId,error:pn(n,"no-auth-event")}}function B8(n,e){return ib()._set(ob(n),e)}async function kT(n){const e=await ib()._get(ob(n));return e&&await ib()._remove(ob(n)),e}function F8(n,e){var s,i;const t=G8(e);if(t.includes("/__/auth/callback")){const l=Ep(t),u=l.firebaseError?$8(decodeURIComponent(l.firebaseError)):null,h=(i=(s=u==null?void 0:u.code)==null?void 0:s.split("auth/"))==null?void 0:i[1],f=h?pn(h):null;return f?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:t,postBody:null}}return null}function q8(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<L8;t++){const s=Math.floor(Math.random()*e.length);n.push(e.charAt(s))}return n.join("")}function ib(){return Ts(Av)}function ob(n){return ll("authEvent",n.config.apiKey,n.name)}function $8(n){try{return JSON.parse(n)}catch{return null}}function G8(n){const e=Ep(n),t=e.link?decodeURIComponent(e.link):void 0,s=Ep(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Ep(i).link||i||s||t||n}function Ep(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return $c(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=500;class K8{constructor(){this._redirectPersistence=xl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Cg,this._overrideRedirectResult=Dv}async _initialize(e){const t=e._key();let s=this.eventManagers.get(t);return s||(s=new U8(e),this.eventManagers.set(t,s),this.attachCallbackListeners(e,s)),s}_openPopup(e){Pn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,s,i){M8(e);const l=await this._initialize(e);await l.initialized(),l.resetRedirect(),BL(),await this._originValidation(e);const u=z8(e,s,i);await B8(e,u);const h=await C8(e,u,t),f=await D8(h);return P8(e,l,f)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=R8(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:s,handleOpenURL:i,BuildInfo:l}=bl(),u=setTimeout(async()=>{await kT(e),t.onEvent(IT())},H8),h=async y=>{clearTimeout(u);const b=await kT(e);let v=null;b&&(y!=null&&y.url)&&(v=F8(b,y.url)),t.onEvent(v||IT())};typeof s<"u"&&typeof s.subscribe=="function"&&s.subscribe(null,h);const f=i,g=`${l.packageName.toLowerCase()}://`;bl().handleOpenURL=async y=>{if(y.toLowerCase().startsWith(g)&&h({url:y}),typeof f=="function")try{f(y)}catch(b){console.error(b)}}}}const W8=K8;function IT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(n,e){zt(n)._logFramework(e)}var Q8="@firebase/auth-compat",J8="0.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=1e3;function jh(){var n;return((n=self==null?void 0:self.location)==null?void 0:n.protocol)||null}function Z8(){return jh()==="http:"||jh()==="https:"}function pA(n=Ut()){return!!((jh()==="file:"||jh()==="ionic:"||jh()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function eU(){return uv()||bg()}function tU(){return iE()&&(document==null?void 0:document.documentMode)===11}function nU(n=Ut()){return/Edge\/\d+/.test(n)}function sU(n=Ut()){return tU()||nU(n)}function gA(){try{const n=self.localStorage,e=xf();if(n)return n.setItem(e,"1"),n.removeItem(e),sU()?gl():!0}catch{return Mv()&&gl()}return!1}function Mv(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Iy(){return(Z8()||vg()||pA())&&!eU()&&gA()&&!Mv()}function xA(){return pA()&&typeof document<"u"}async function rU(){return xA()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},X8);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function aU(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js={LOCAL:"local",NONE:"none",SESSION:"session"},eh=ge,yA="persistence";function iU(n,e){if(eh(Object.values(js).includes(e),n,"invalid-persistence-type"),uv()){eh(e!==js.SESSION,n,"unsupported-persistence-type");return}if(bg()){eh(e===js.NONE,n,"unsupported-persistence-type");return}if(Mv()){eh(e===js.NONE||e===js.LOCAL&&gl(),n,"unsupported-persistence-type");return}eh(e===js.NONE||gA(),n,"unsupported-persistence-type")}async function lb(n){await n._initializationPromise;const e=bA(),t=ll(yA,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function oU(n,e){const t=bA();if(!t)return[];const s=ll(yA,n,e);switch(t.getItem(s)){case js.NONE:return[ou];case js.LOCAL:return[qh,xl];case js.SESSION:return[xl];default:return[]}}function bA(){var n;try{return((n=aU())==null?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=ge;class Fi{constructor(){this.browserResolver=Ts(j8),this.cordovaResolver=Ts(W8),this.underlyingResolver=null,this._redirectPersistence=xl,this._completeRedirectFn=Cg,this._overrideRedirectResult=Dv}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,s,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,s,i)}async _openRedirect(e,t,s,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,s,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return xA()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lU(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await rU();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n){return n.unwrap()}function cU(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(n){return wA(n)}function dU(n,e){var s;const t=(s=e.customData)==null?void 0:s._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new hU(n,nL(n,e))}else if(t){const i=wA(e),l=e;i&&(l.credential=i,l.tenantId=t.tenantId||void 0,l.email=t.email||void 0,l.phoneNumber=t.phoneNumber||void 0)}}function wA(n){const{_tokenResponse:e}=n instanceof Rn?n.customData:n;if(!e)return null;if(!(n instanceof Rn)&&"temporaryProof"in e&&"phoneNumber"in e)return yl.credentialFromResult(n);const t=e.providerId;if(!t||t===Xd.PASSWORD)return null;let s;switch(t){case Xd.GOOGLE:s=ta;break;case Xd.FACEBOOK:s=ea;break;case Xd.GITHUB:s=na;break;case Xd.TWITTER:s=sa;break;default:const{oauthIdToken:i,oauthAccessToken:l,oauthTokenSecret:u,pendingToken:h,nonce:f}=e;return!l&&!u&&!i&&!h?null:h?t.startsWith("saml.")?lu._create(t,h):da._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:i,accessToken:l}):new Yc(t).credential({idToken:i,accessToken:l,rawNonce:f})}return n instanceof Rn?s.credentialFromError(n):s.credentialFromResult(n)}function ls(n,e){return e.catch(t=>{throw t instanceof Rn&&dU(n,t),t}).then(t=>{const s=t.operationType,i=t.user;return{operationType:s,credential:uU(t),additionalUserInfo:tL(t),user:Rg.getOrCreate(i)}})}async function cb(n,e){const t=await e;return{verificationId:t.verificationId,confirm:s=>ls(n,t.confirm(s))}}class hU{constructor(e,t){this.resolver=t,this.auth=cU(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ls(vA(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rg=class dh{constructor(e){this._delegate=e,this.multiFactor=aL(e)}static getOrCreate(e){return dh.USER_MAP.has(e)||dh.USER_MAP.set(e,new dh(e)),dh.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ls(this.auth,QE(this._delegate,e))}async linkWithPhoneNumber(e,t){return cb(this.auth,AL(this._delegate,e,t))}async linkWithPopup(e){return ls(this.auth,VL(this._delegate,e,Fi))}async linkWithRedirect(e){return await lb(zt(this.auth)),HL(this._delegate,e,Fi)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ls(this.auth,JE(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return cb(this.auth,kL(this._delegate,e,t))}reauthenticateWithPopup(e){return ls(this.auth,OL(this._delegate,e,Fi))}async reauthenticateWithRedirect(e){return await lb(zt(this.auth)),$L(this._delegate,e,Fi)}sendEmailVerification(e){return $9(this._delegate,e)}async unlink(e){return await I9(this._delegate,e),this}updateEmail(e){return W9(this._delegate,e)}updatePassword(e){return Y9(this._delegate,e)}updatePhoneNumber(e){return IL(this._delegate,e)}updateProfile(e){return K9(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return G9(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Rg.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=ge;class ub{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:s}=e.options;th(s,"invalid-api-key",{appName:e.name}),th(s,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Fi:void 0;this._delegate=t.initialize({options:{persistence:fU(s,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(bV),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Rg.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){o9(this._delegate,e,t)}applyActionCode(e){return M9(this._delegate,e)}checkActionCode(e){return XE(this._delegate,e)}confirmPasswordReset(e,t){return P9(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ls(this._delegate,V9(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return q9(this._delegate,e)}isSignInWithEmailLink(e){return z9(this._delegate,e)}async getRedirectResult(){th(Iy(),this._delegate,"operation-not-supported-in-this-environment");const e=await WL(this._delegate,Fi);return e?ls(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Y8(this._delegate,e)}onAuthStateChanged(e,t,s){const{next:i,error:l,complete:u}=CT(e,t,s);return this._delegate.onAuthStateChanged(i,l,u)}onIdTokenChanged(e,t,s){const{next:i,error:l,complete:u}=CT(e,t,s);return this._delegate.onIdTokenChanged(i,l,u)}sendSignInLinkToEmail(e,t){return U9(this._delegate,e,t)}sendPasswordResetEmail(e,t){return D9(this._delegate,e,t||void 0)}async setPersistence(e){iU(this._delegate,e);let t;switch(e){case js.SESSION:t=xl;break;case js.LOCAL:t=await Ts(qh)._isAvailable()?qh:Av;break;case js.NONE:t=ou;break;default:return Pn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ls(this._delegate,k9(this._delegate))}signInWithCredential(e){return ls(this._delegate,Sg(this._delegate,e))}signInWithCustomToken(e){return ls(this._delegate,R9(this._delegate,e))}signInWithEmailAndPassword(e,t){return ls(this._delegate,L9(this._delegate,e,t))}signInWithEmailLink(e,t){return ls(this._delegate,B9(this._delegate,e,t))}signInWithPhoneNumber(e,t){return cb(this._delegate,EL(this._delegate,e,t))}async signInWithPopup(e){return th(Iy(),this._delegate,"operation-not-supported-in-this-environment"),ls(this._delegate,ML(this._delegate,e,Fi))}async signInWithRedirect(e){return th(Iy(),this._delegate,"operation-not-supported-in-this-environment"),await lb(this._delegate),FL(this._delegate,e,Fi)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return O9(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}ub.Persistence=js;function CT(n,e,t){let s=n;typeof n!="function"&&({next:s,error:e,complete:t}=n);const i=s;return{next:u=>i(u&&Rg.getOrCreate(u)),error:e,complete:t}}function fU(n,e){const t=oU(n,e);if(typeof self<"u"&&!t.includes(qh)&&t.push(qh),typeof window<"u")for(const s of[Av,xl])t.includes(s)||t.push(s);return t.includes(ou)||t.push(ou),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{static credential(e,t){return yl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new yl(vA(uo.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Ov.PHONE_SIGN_IN_METHOD=yl.PHONE_SIGN_IN_METHOD;Ov.PROVIDER_ID=yl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=ge;class pU{constructor(e,t,s=uo.app()){var i;mU((i=s.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:s.name}),this._delegate=new TL(s.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU="auth-compat";function xU(n){n.INTERNAL.registerComponent(new Zn(gU,e=>{const t=e.getProvider("app-compat").getImmediate(),s=e.getProvider("auth");return new ub(t,s)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Cc.EMAIL_SIGNIN,PASSWORD_RESET:Cc.PASSWORD_RESET,RECOVER_EMAIL:Cc.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Cc.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Cc.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Cc.VERIFY_EMAIL}},EmailAuthProvider:ho,FacebookAuthProvider:ea,GithubAuthProvider:na,GoogleAuthProvider:ta,OAuthProvider:Yc,SAMLAuthProvider:Hp,PhoneAuthProvider:Ov,PhoneMultiFactorGenerator:mA,RecaptchaVerifier:pU,TwitterAuthProvider:sa,Auth:ub,AuthCredential:Ou,Error:Rn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(Q8,J8)}xU(uo);var RT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,_A;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,N){function E(){}E.prototype=N.prototype,T.F=N.prototype,T.prototype=new E,T.prototype.constructor=T,T.D=function(O,F,G){for(var V=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)V[ie-2]=arguments[ie];return N.prototype[F].apply(O,V)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,N,E){E||(E=0);const O=Array(16);if(typeof N=="string")for(var F=0;F<16;++F)O[F]=N.charCodeAt(E++)|N.charCodeAt(E++)<<8|N.charCodeAt(E++)<<16|N.charCodeAt(E++)<<24;else for(F=0;F<16;++F)O[F]=N[E++]|N[E++]<<8|N[E++]<<16|N[E++]<<24;N=T.g[0],E=T.g[1],F=T.g[2];let G=T.g[3],V;V=N+(G^E&(F^G))+O[0]+3614090360&4294967295,N=E+(V<<7&4294967295|V>>>25),V=G+(F^N&(E^F))+O[1]+3905402710&4294967295,G=N+(V<<12&4294967295|V>>>20),V=F+(E^G&(N^E))+O[2]+606105819&4294967295,F=G+(V<<17&4294967295|V>>>15),V=E+(N^F&(G^N))+O[3]+3250441966&4294967295,E=F+(V<<22&4294967295|V>>>10),V=N+(G^E&(F^G))+O[4]+4118548399&4294967295,N=E+(V<<7&4294967295|V>>>25),V=G+(F^N&(E^F))+O[5]+1200080426&4294967295,G=N+(V<<12&4294967295|V>>>20),V=F+(E^G&(N^E))+O[6]+2821735955&4294967295,F=G+(V<<17&4294967295|V>>>15),V=E+(N^F&(G^N))+O[7]+4249261313&4294967295,E=F+(V<<22&4294967295|V>>>10),V=N+(G^E&(F^G))+O[8]+1770035416&4294967295,N=E+(V<<7&4294967295|V>>>25),V=G+(F^N&(E^F))+O[9]+2336552879&4294967295,G=N+(V<<12&4294967295|V>>>20),V=F+(E^G&(N^E))+O[10]+4294925233&4294967295,F=G+(V<<17&4294967295|V>>>15),V=E+(N^F&(G^N))+O[11]+2304563134&4294967295,E=F+(V<<22&4294967295|V>>>10),V=N+(G^E&(F^G))+O[12]+1804603682&4294967295,N=E+(V<<7&4294967295|V>>>25),V=G+(F^N&(E^F))+O[13]+4254626195&4294967295,G=N+(V<<12&4294967295|V>>>20),V=F+(E^G&(N^E))+O[14]+2792965006&4294967295,F=G+(V<<17&4294967295|V>>>15),V=E+(N^F&(G^N))+O[15]+1236535329&4294967295,E=F+(V<<22&4294967295|V>>>10),V=N+(F^G&(E^F))+O[1]+4129170786&4294967295,N=E+(V<<5&4294967295|V>>>27),V=G+(E^F&(N^E))+O[6]+3225465664&4294967295,G=N+(V<<9&4294967295|V>>>23),V=F+(N^E&(G^N))+O[11]+643717713&4294967295,F=G+(V<<14&4294967295|V>>>18),V=E+(G^N&(F^G))+O[0]+3921069994&4294967295,E=F+(V<<20&4294967295|V>>>12),V=N+(F^G&(E^F))+O[5]+3593408605&4294967295,N=E+(V<<5&4294967295|V>>>27),V=G+(E^F&(N^E))+O[10]+38016083&4294967295,G=N+(V<<9&4294967295|V>>>23),V=F+(N^E&(G^N))+O[15]+3634488961&4294967295,F=G+(V<<14&4294967295|V>>>18),V=E+(G^N&(F^G))+O[4]+3889429448&4294967295,E=F+(V<<20&4294967295|V>>>12),V=N+(F^G&(E^F))+O[9]+568446438&4294967295,N=E+(V<<5&4294967295|V>>>27),V=G+(E^F&(N^E))+O[14]+3275163606&4294967295,G=N+(V<<9&4294967295|V>>>23),V=F+(N^E&(G^N))+O[3]+4107603335&4294967295,F=G+(V<<14&4294967295|V>>>18),V=E+(G^N&(F^G))+O[8]+1163531501&4294967295,E=F+(V<<20&4294967295|V>>>12),V=N+(F^G&(E^F))+O[13]+2850285829&4294967295,N=E+(V<<5&4294967295|V>>>27),V=G+(E^F&(N^E))+O[2]+4243563512&4294967295,G=N+(V<<9&4294967295|V>>>23),V=F+(N^E&(G^N))+O[7]+1735328473&4294967295,F=G+(V<<14&4294967295|V>>>18),V=E+(G^N&(F^G))+O[12]+2368359562&4294967295,E=F+(V<<20&4294967295|V>>>12),V=N+(E^F^G)+O[5]+4294588738&4294967295,N=E+(V<<4&4294967295|V>>>28),V=G+(N^E^F)+O[8]+2272392833&4294967295,G=N+(V<<11&4294967295|V>>>21),V=F+(G^N^E)+O[11]+1839030562&4294967295,F=G+(V<<16&4294967295|V>>>16),V=E+(F^G^N)+O[14]+4259657740&4294967295,E=F+(V<<23&4294967295|V>>>9),V=N+(E^F^G)+O[1]+2763975236&4294967295,N=E+(V<<4&4294967295|V>>>28),V=G+(N^E^F)+O[4]+1272893353&4294967295,G=N+(V<<11&4294967295|V>>>21),V=F+(G^N^E)+O[7]+4139469664&4294967295,F=G+(V<<16&4294967295|V>>>16),V=E+(F^G^N)+O[10]+3200236656&4294967295,E=F+(V<<23&4294967295|V>>>9),V=N+(E^F^G)+O[13]+681279174&4294967295,N=E+(V<<4&4294967295|V>>>28),V=G+(N^E^F)+O[0]+3936430074&4294967295,G=N+(V<<11&4294967295|V>>>21),V=F+(G^N^E)+O[3]+3572445317&4294967295,F=G+(V<<16&4294967295|V>>>16),V=E+(F^G^N)+O[6]+76029189&4294967295,E=F+(V<<23&4294967295|V>>>9),V=N+(E^F^G)+O[9]+3654602809&4294967295,N=E+(V<<4&4294967295|V>>>28),V=G+(N^E^F)+O[12]+3873151461&4294967295,G=N+(V<<11&4294967295|V>>>21),V=F+(G^N^E)+O[15]+530742520&4294967295,F=G+(V<<16&4294967295|V>>>16),V=E+(F^G^N)+O[2]+3299628645&4294967295,E=F+(V<<23&4294967295|V>>>9),V=N+(F^(E|~G))+O[0]+4096336452&4294967295,N=E+(V<<6&4294967295|V>>>26),V=G+(E^(N|~F))+O[7]+1126891415&4294967295,G=N+(V<<10&4294967295|V>>>22),V=F+(N^(G|~E))+O[14]+2878612391&4294967295,F=G+(V<<15&4294967295|V>>>17),V=E+(G^(F|~N))+O[5]+4237533241&4294967295,E=F+(V<<21&4294967295|V>>>11),V=N+(F^(E|~G))+O[12]+1700485571&4294967295,N=E+(V<<6&4294967295|V>>>26),V=G+(E^(N|~F))+O[3]+2399980690&4294967295,G=N+(V<<10&4294967295|V>>>22),V=F+(N^(G|~E))+O[10]+4293915773&4294967295,F=G+(V<<15&4294967295|V>>>17),V=E+(G^(F|~N))+O[1]+2240044497&4294967295,E=F+(V<<21&4294967295|V>>>11),V=N+(F^(E|~G))+O[8]+1873313359&4294967295,N=E+(V<<6&4294967295|V>>>26),V=G+(E^(N|~F))+O[15]+4264355552&4294967295,G=N+(V<<10&4294967295|V>>>22),V=F+(N^(G|~E))+O[6]+2734768916&4294967295,F=G+(V<<15&4294967295|V>>>17),V=E+(G^(F|~N))+O[13]+1309151649&4294967295,E=F+(V<<21&4294967295|V>>>11),V=N+(F^(E|~G))+O[4]+4149444226&4294967295,N=E+(V<<6&4294967295|V>>>26),V=G+(E^(N|~F))+O[11]+3174756917&4294967295,G=N+(V<<10&4294967295|V>>>22),V=F+(N^(G|~E))+O[2]+718787259&4294967295,F=G+(V<<15&4294967295|V>>>17),V=E+(G^(F|~N))+O[9]+3951481745&4294967295,T.g[0]=T.g[0]+N&4294967295,T.g[1]=T.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,T.g[2]=T.g[2]+F&4294967295,T.g[3]=T.g[3]+G&4294967295}s.prototype.v=function(T,N){N===void 0&&(N=T.length);const E=N-this.blockSize,O=this.C;let F=this.h,G=0;for(;G<N;){if(F==0)for(;G<=E;)i(this,T,G),G+=this.blockSize;if(typeof T=="string"){for(;G<N;)if(O[F++]=T.charCodeAt(G++),F==this.blockSize){i(this,O),F=0;break}}else for(;G<N;)if(O[F++]=T[G++],F==this.blockSize){i(this,O),F=0;break}}this.h=F,this.o+=N},s.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var N=1;N<T.length-8;++N)T[N]=0;N=this.o*8;for(var E=T.length-8;E<T.length;++E)T[E]=N&255,N/=256;for(this.v(T),T=Array(16),N=0,E=0;E<4;++E)for(let O=0;O<32;O+=8)T[N++]=this.g[E]>>>O&255;return T};function l(T,N){var E=h;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=N(T)}function u(T,N){this.h=N;const E=[];let O=!0;for(let F=T.length-1;F>=0;F--){const G=T[F]|0;O&&G==N||(E[F]=G,O=!1)}this.g=E}var h={};function f(T){return-128<=T&&T<128?l(T,function(N){return new u([N|0],N<0?-1:0)}):new u([T|0],T<0?-1:0)}function g(T){if(isNaN(T)||!isFinite(T))return b;if(T<0)return D(g(-T));const N=[];let E=1;for(let O=0;T>=E;O++)N[O]=T/E|0,E*=4294967296;return new u(N,0)}function y(T,N){if(T.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(T.charAt(0)=="-")return D(y(T.substring(1),N));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=g(Math.pow(N,8));let O=b;for(let G=0;G<T.length;G+=8){var F=Math.min(8,T.length-G);const V=parseInt(T.substring(G,G+F),N);F<8?(F=g(Math.pow(N,F)),O=O.j(F).add(g(V))):(O=O.j(E),O=O.add(g(V)))}return O}var b=f(0),v=f(1),k=f(16777216);n=u.prototype,n.m=function(){if(R(this))return-D(this).m();let T=0,N=1;for(let E=0;E<this.g.length;E++){const O=this.i(E);T+=(O>=0?O:4294967296+O)*N,N*=4294967296}return T},n.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(I(this))return"0";if(R(this))return"-"+D(this).toString(T);const N=g(Math.pow(T,6));var E=this;let O="";for(;;){const F=le(E,N).g;E=P(E,F.j(N));let G=((E.g.length>0?E.g[0]:E.h)>>>0).toString(T);if(E=F,I(E))return G+O;for(;G.length<6;)G="0"+G;O=G+O}},n.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function I(T){if(T.h!=0)return!1;for(let N=0;N<T.g.length;N++)if(T.g[N]!=0)return!1;return!0}function R(T){return T.h==-1}n.l=function(T){return T=P(this,T),R(T)?-1:I(T)?0:1};function D(T){const N=T.g.length,E=[];for(let O=0;O<N;O++)E[O]=~T.g[O];return new u(E,~T.h).add(v)}n.abs=function(){return R(this)?D(this):this},n.add=function(T){const N=Math.max(this.g.length,T.g.length),E=[];let O=0;for(let F=0;F<=N;F++){let G=O+(this.i(F)&65535)+(T.i(F)&65535),V=(G>>>16)+(this.i(F)>>>16)+(T.i(F)>>>16);O=V>>>16,G&=65535,V&=65535,E[F]=V<<16|G}return new u(E,E[E.length-1]&-2147483648?-1:0)};function P(T,N){return T.add(D(N))}n.j=function(T){if(I(this)||I(T))return b;if(R(this))return R(T)?D(this).j(D(T)):D(D(this).j(T));if(R(T))return D(this.j(D(T)));if(this.l(k)<0&&T.l(k)<0)return g(this.m()*T.m());const N=this.g.length+T.g.length,E=[];for(var O=0;O<2*N;O++)E[O]=0;for(O=0;O<this.g.length;O++)for(let F=0;F<T.g.length;F++){const G=this.i(O)>>>16,V=this.i(O)&65535,ie=T.i(F)>>>16,Re=T.i(F)&65535;E[2*O+2*F]+=V*Re,M(E,2*O+2*F),E[2*O+2*F+1]+=G*Re,M(E,2*O+2*F+1),E[2*O+2*F+1]+=V*ie,M(E,2*O+2*F+1),E[2*O+2*F+2]+=G*ie,M(E,2*O+2*F+2)}for(T=0;T<N;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=N;T<2*N;T++)E[T]=0;return new u(E,0)};function M(T,N){for(;(T[N]&65535)!=T[N];)T[N+1]+=T[N]>>>16,T[N]&=65535,N++}function z(T,N){this.g=T,this.h=N}function le(T,N){if(I(N))throw Error("division by zero");if(I(T))return new z(b,b);if(R(T))return N=le(D(T),N),new z(D(N.g),D(N.h));if(R(N))return N=le(T,D(N)),new z(D(N.g),N.h);if(T.g.length>30){if(R(T)||R(N))throw Error("slowDivide_ only works with positive integers.");for(var E=v,O=N;O.l(T)<=0;)E=L(E),O=L(O);var F=H(E,1),G=H(O,1);for(O=H(O,2),E=H(E,2);!I(O);){var V=G.add(O);V.l(T)<=0&&(F=F.add(E),G=V),O=H(O,1),E=H(E,1)}return N=P(T,F.j(N)),new z(F,N)}for(F=b;T.l(N)>=0;){for(E=Math.max(1,Math.floor(T.m()/N.m())),O=Math.ceil(Math.log(E)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),G=g(E),V=G.j(N);R(V)||V.l(T)>0;)E-=O,G=g(E),V=G.j(N);I(G)&&(G=v),F=F.add(G),T=P(T,V)}return new z(F,T)}n.B=function(T){return le(this,T).h},n.and=function(T){const N=Math.max(this.g.length,T.g.length),E=[];for(let O=0;O<N;O++)E[O]=this.i(O)&T.i(O);return new u(E,this.h&T.h)},n.or=function(T){const N=Math.max(this.g.length,T.g.length),E=[];for(let O=0;O<N;O++)E[O]=this.i(O)|T.i(O);return new u(E,this.h|T.h)},n.xor=function(T){const N=Math.max(this.g.length,T.g.length),E=[];for(let O=0;O<N;O++)E[O]=this.i(O)^T.i(O);return new u(E,this.h^T.h)};function L(T){const N=T.g.length+1,E=[];for(let O=0;O<N;O++)E[O]=T.i(O)<<1|T.i(O-1)>>>31;return new u(E,T.h)}function H(T,N){const E=N>>5;N%=32;const O=T.g.length-E,F=[];for(let G=0;G<O;G++)F[G]=N>0?T.i(G+E)>>>N|T.i(G+E+1)<<32-N:T.i(G+E);return new u(F,T.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,_A=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,Wi=u}).apply(typeof RT<"u"?RT:typeof self<"u"?self:typeof window<"u"?window:{});var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jA,hh,NA,Ap,db,TA,SA,EA;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof dp=="object"&&dp];for(var w=0;w<m.length;++w){var j=m[w];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var s=t(this);function i(m,w){if(w)e:{var j=s;m=m.split(".");for(var C=0;C<m.length-1;C++){var J=m[C];if(!(J in j))break e;j=j[J]}m=m[m.length-1],C=j[m],w=w(C),w!=C&&w!=null&&e(j,m,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(w){var j=[],C;for(C in w)Object.prototype.hasOwnProperty.call(w,C)&&j.push([C,w[C]]);return j}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function f(m,w,j){return m.call.apply(m.bind,arguments)}function g(m,w,j){return g=f,g.apply(null,arguments)}function y(m,w){var j=Array.prototype.slice.call(arguments,1);return function(){var C=j.slice();return C.push.apply(C,arguments),m.apply(this,C)}}function b(m,w){function j(){}j.prototype=w.prototype,m.Z=w.prototype,m.prototype=new j,m.prototype.constructor=m,m.Ob=function(C,J,re){for(var xe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)xe[Be-2]=arguments[Be];return w.prototype[J].apply(C,xe)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function k(m){const w=m.length;if(w>0){const j=Array(w);for(let C=0;C<w;C++)j[C]=m[C];return j}return[]}function I(m,w){for(let C=1;C<arguments.length;C++){const J=arguments[C];var j=typeof J;if(j=j!="object"?j:J?Array.isArray(J)?"array":j:"null",j=="array"||j=="object"&&typeof J.length=="number"){j=m.length||0;const re=J.length||0;m.length=j+re;for(let xe=0;xe<re;xe++)m[j+xe]=J[xe]}else m.push(J)}}class R{constructor(w,j){this.i=w,this.j=j,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function D(m){u.setTimeout(()=>{throw m},0)}function P(){var m=T;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class M{constructor(){this.h=this.g=null}add(w,j){const C=z.get();C.set(w,j),this.h?this.h.next=C:this.g=C,this.h=C}}var z=new R(()=>new le,m=>m.reset());class le{constructor(){this.next=this.g=this.h=null}set(w,j){this.h=w,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let L,H=!1,T=new M,N=()=>{const m=Promise.resolve(void 0);L=()=>{m.then(E)}};function E(){for(var m;m=P();){try{m.h.call(m.g)}catch(j){D(j)}var w=z;w.j(m),w.h<100&&(w.h++,m.next=w.g,w.g=m)}H=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const j=()=>{};u.addEventListener("test",j,w),u.removeEventListener("test",j,w)}catch{}return m})();function V(m){return/^[\s\xa0]*$/.test(m)}function ie(m,w){F.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,w)}b(ie,F),ie.prototype.init=function(m,w){const j=this.type=m.type,C=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget,w||(j=="mouseover"?w=m.fromElement:j=="mouseout"&&(w=m.toElement)),this.relatedTarget=w,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),X=0;function W(m,w,j,C,J){this.listener=m,this.proxy=null,this.src=w,this.type=j,this.capture=!!C,this.ha=J,this.key=++X,this.da=this.fa=!1}function ue(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Pe(m,w,j){for(const C in m)w.call(j,m[C],C,m)}function ze(m,w){for(const j in m)w.call(void 0,m[j],j,m)}function q(m){const w={};for(const j in m)w[j]=m[j];return w}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(m,w){let j,C;for(let J=1;J<arguments.length;J++){C=arguments[J];for(j in C)m[j]=C[j];for(let re=0;re<U.length;re++)j=U[re],Object.prototype.hasOwnProperty.call(C,j)&&(m[j]=C[j])}}function ve(m){this.src=m,this.g={},this.h=0}ve.prototype.add=function(m,w,j,C,J){const re=m.toString();m=this.g[re],m||(m=this.g[re]=[],this.h++);const xe=Me(m,w,C,J);return xe>-1?(w=m[xe],j||(w.fa=!1)):(w=new W(w,this.src,re,!!C,J),w.fa=j,m.push(w)),w};function Ae(m,w){const j=w.type;if(j in m.g){var C=m.g[j],J=Array.prototype.indexOf.call(C,w,void 0),re;(re=J>=0)&&Array.prototype.splice.call(C,J,1),re&&(ue(w),m.g[j].length==0&&(delete m.g[j],m.h--))}}function Me(m,w,j,C){for(let J=0;J<m.length;++J){const re=m[J];if(!re.da&&re.listener==w&&re.capture==!!j&&re.ha==C)return J}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Tt={};function gt(m,w,j,C,J){if(Array.isArray(w)){for(let re=0;re<w.length;re++)gt(m,w[re],j,C,J);return null}return j=nr(j),m&&m[Re]?m.J(w,j,h(C)?!!C.capture:!1,J):Te(m,w,j,!1,C,J)}function Te(m,w,j,C,J,re){if(!w)throw Error("Invalid event type");const xe=h(J)?!!J.capture:!!J;let Be=er(m);if(Be||(m[He]=Be=new ve(m)),j=Be.add(w,j,C,xe,re),j.proxy)return j;if(C=Mn(),j.proxy=C,C.src=m,C.listener=j,m.addEventListener)G||(J=xe),J===void 0&&(J=!1),m.addEventListener(w.toString(),C,J);else if(m.attachEvent)m.attachEvent($n(w.toString()),C);else if(m.addListener&&m.removeListener)m.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return j}function Mn(){function m(j){return w.call(m.src,m.listener,j)}const w=pa;return m}function fn(m,w,j,C,J){if(Array.isArray(w))for(var re=0;re<w.length;re++)fn(m,w[re],j,C,J);else C=h(C)?!!C.capture:!!C,j=nr(j),m&&m[Re]?(m=m.i,re=String(w).toString(),re in m.g&&(w=m.g[re],j=Me(w,j,C,J),j>-1&&(ue(w[j]),Array.prototype.splice.call(w,j,1),w.length==0&&(delete m.g[re],m.h--)))):m&&(m=er(m))&&(w=m.g[w.toString()],m=-1,w&&(m=Me(w,j,C,J)),(j=m>-1?w[m]:null)&&On(j))}function On(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[Re])Ae(w.i,m);else{var j=m.type,C=m.proxy;w.removeEventListener?w.removeEventListener(j,C,m.capture):w.detachEvent?w.detachEvent($n(j),C):w.addListener&&w.removeListener&&w.removeListener(C),(j=er(w))?(Ae(j,m),j.h==0&&(j.src=null,w[He]=null)):ue(m)}}}function $n(m){return m in Tt?Tt[m]:Tt[m]="on"+m}function pa(m,w){if(m.da)m=!0;else{w=new ie(w,this);const j=m.listener,C=m.ha||m.src;m.fa&&On(m),m=j.call(C,w)}return m}function er(m){return m=m[He],m instanceof ve?m:null}var tr="__closure_events_fn_"+(Math.random()*1e9>>>0);function nr(m){return typeof m=="function"?m:(m[tr]||(m[tr]=function(w){return m.handleEvent(w)}),m[tr])}function Bt(){O.call(this),this.i=new ve(this),this.M=this,this.G=null}b(Bt,O),Bt.prototype[Re]=!0,Bt.prototype.removeEventListener=function(m,w,j,C){fn(this,m,w,j,C)};function Ft(m,w){var j,C=m.G;if(C)for(j=[];C;C=C.G)j.push(C);if(m=m.M,C=w.type||w,typeof w=="string")w=new F(w,m);else if(w instanceof F)w.target=w.target||m;else{var J=w;w=new F(C,m),pe(w,J)}J=!0;let re,xe;if(j)for(xe=j.length-1;xe>=0;xe--)re=w.g=j[xe],J=sr(re,C,!0,w)&&J;if(re=w.g=m,J=sr(re,C,!0,w)&&J,J=sr(re,C,!1,w)&&J,j)for(xe=0;xe<j.length;xe++)re=w.g=j[xe],J=sr(re,C,!1,w)&&J}Bt.prototype.N=function(){if(Bt.Z.N.call(this),this.i){var m=this.i;for(const w in m.g){const j=m.g[w];for(let C=0;C<j.length;C++)ue(j[C]);delete m.g[w],m.h--}}this.G=null},Bt.prototype.J=function(m,w,j,C){return this.i.add(String(m),w,!1,j,C)},Bt.prototype.K=function(m,w,j,C){return this.i.add(String(m),w,!0,j,C)};function sr(m,w,j,C){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();let J=!0;for(let re=0;re<w.length;++re){const xe=w[re];if(xe&&!xe.da&&xe.capture==j){const Be=xe.listener,Yt=xe.ha||xe.src;xe.fa&&Ae(m.i,xe),J=Be.call(Yt,C)!==!1&&J}}return J&&!C.defaultPrevented}function Y(m,w){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=g(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:u.setTimeout(m,w||0)}function De(m){m.g=Y(()=>{m.g=null,m.i&&(m.i=!1,De(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class ke extends O{constructor(w,j){super(),this.m=w,this.l=j,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:De(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ve(m){O.call(this),this.h=m,this.g={}}b(Ve,O);var Cs=[];function rr(m){Pe(m.g,function(w,j){this.g.hasOwnProperty(j)&&On(w)},m),m.g={}}Ve.prototype.N=function(){Ve.Z.N.call(this),rr(this)},Ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rs=u.JSON.stringify,kr=u.JSON.parse,yo=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function Ul(){}function zl(){}var ar={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nn(){F.call(this,"d")}b(Nn,F);function Ds(){F.call(this,"c")}b(Ds,F);var Wt={},Mf=null;function Bl(){return Mf=Mf||new Bt}Wt.Ia="serverreachability";function Of(m){F.call(this,Wt.Ia,m)}b(Of,F);function Ir(m){const w=Bl();Ft(w,new Of(w))}Wt.STAT_EVENT="statevent";function bo(m,w){F.call(this,Wt.STAT_EVENT,m),this.stat=w}b(bo,F);function tn(m){const w=Bl();Ft(w,new bo(w,m))}Wt.Ja="timingevent";function Cr(m,w){F.call(this,Wt.Ja,m),this.size=w}b(Cr,F);function Rr(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},w)}function ir(){this.g=!0}ir.prototype.ua=function(){this.g=!1};function ix(m,w,j,C,J,re){m.info(function(){if(m.g)if(re){var xe="",Be=re.split("&");for(let ot=0;ot<Be.length;ot++){var Yt=Be[ot].split("=");if(Yt.length>1){const It=Yt[0];Yt=Yt[1];const Vs=It.split("_");xe=Vs.length>=2&&Vs[1]=="type"?xe+(It+"="+Yt+"&"):xe+(It+"=redacted&")}}}else xe=null;else xe=re;return"XMLHTTP REQ ("+C+") [attempt "+J+"]: "+w+`
`+j+`
`+xe})}function Vf(m,w,j,C,J,re,xe){m.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+J+"]: "+w+`
`+j+`
`+re+" "+xe})}function Dr(m,w,j,C){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+ox(m,j)+(C?" "+C:"")})}function vo(m,w){m.info(function(){return"TIMEOUT: "+w})}ir.prototype.info=function(){};function ox(m,w){if(!m.g)return w;if(!w)return null;try{const re=JSON.parse(w);if(re){for(m=0;m<re.length;m++)if(Array.isArray(re[m])){var j=re[m];if(!(j.length<2)){var C=j[1];if(Array.isArray(C)&&!(C.length<1)){var J=C[0];if(J!="noop"&&J!="stop"&&J!="close")for(let xe=1;xe<C.length;xe++)C[xe]=""}}}}return Rs(re)}catch{return w}}var wo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ku;function _o(){}b(_o,Ul),_o.prototype.g=function(){return new XMLHttpRequest},Ku=new _o;function ga(m){return encodeURIComponent(String(m))}function Lf(m){var w=1;m=m.split(":");const j=[];for(;w>0&&m.length;)j.push(m.shift()),w--;return m.length&&j.push(m.join(":")),j}function or(m,w,j,C){this.j=m,this.i=w,this.l=j,this.S=C||1,this.V=new Ve(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lr}function lr(){this.i=null,this.g="",this.h=!1}var nn={},xn={};function Pr(m,w,j){m.M=1,m.A=jo(rn(w)),m.u=j,m.R=!0,Fl(m,null)}function Fl(m,w){m.F=Date.now(),Mr(m),m.B=rn(m.A);var j=m.B,C=m.S;Array.isArray(C)||(C=[String(C)]),Hl(j.i,"t",C),m.C=0,j=m.j.L,m.h=new lr,m.g=Zf(m.j,j?w:null,!m.u),m.P>0&&(m.O=new ke(g(m.Y,m,m.g),m.P)),w=m.V,j=m.g,C=m.ba;var J="readystatechange";Array.isArray(J)||(J&&(Cs[0]=J.toString()),J=Cs);for(let re=0;re<J.length;re++){const xe=gt(j,J[re],C||w.handleEvent,!1,w.h||w);if(!xe)break;w.g[xe.key]=xe}w=m.J?q(m.J):{},m.u?(m.v||(m.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,w)):(m.v="GET",m.g.ea(m.B,m.v,null,w)),Ir(),ix(m.i,m.v,m.B,m.l,m.S,m.u)}or.prototype.ba=function(m){m=m.target;const w=this.O;w&&dr(m)==3?w.j():this.Y(m)},or.prototype.Y=function(m){try{if(m==this.g)e:{const Be=dr(this.g),Yt=this.g.ya(),ot=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||Tn(this.g)))){this.K||Be!=4||Yt==7||(Yt==8||ot<=0?Ir(3):Ir(2)),Or(this);var w=this.g.ca();this.X=w;var j=lx(this);if(this.o=w==200,Vf(this.i,this.v,this.B,this.l,this.S,Be,w),this.o){if(this.U&&!this.L){t:{if(this.g){var C,J=this.g;if((C=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(C)){var re=C;break t}}re=null}if(m=re)Dr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vr(this,m);else{this.o=!1,this.m=3,tn(12),hs(this),Ps(this);break e}}if(this.R){m=!0;let It;for(;!this.K&&this.C<j.length;)if(It=zf(this,j),It==xn){Be==4&&(this.m=4,tn(14),m=!1),Dr(this.i,this.l,null,"[Incomplete Response]");break}else if(It==nn){this.m=4,tn(15),Dr(this.i,this.l,j,"[Invalid Chunk]"),m=!1;break}else Dr(this.i,this.l,It,null),Vr(this,It);if(Uf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||j.length!=0||this.h.h||(this.m=1,tn(16),m=!1),this.o=this.o&&m,!m)Dr(this.i,this.l,j,"[Invalid Chunked Response]"),hs(this),Ps(this);else if(j.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),ld(xe),xe.P=!0,tn(11))}}else Dr(this.i,this.l,j,null),Vr(this,j);Be==4&&hs(this),this.o&&!this.K&&(Be==4?Yf(this.j,this):(this.o=!1,Mr(this)))}else ya(this.g),w==400&&j.indexOf("Unknown SID")>0?(this.m=3,tn(12)):(this.m=0,tn(13)),hs(this),Ps(this)}}}catch{}finally{}};function lx(m){if(!Uf(m))return m.g.la();const w=Tn(m.g);if(w==="")return"";let j="";const C=w.length,J=dr(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return hs(m),Ps(m),"";m.h.i=new u.TextDecoder}for(let re=0;re<C;re++)m.h.h=!0,j+=m.h.i.decode(w[re],{stream:!(J&&re==C-1)});return w.length=0,m.h.g+=j,m.C=0,m.h.g}function Uf(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function zf(m,w){var j=m.C,C=w.indexOf(`
`,j);return C==-1?xn:(j=Number(w.substring(j,C)),isNaN(j)?nn:(C+=1,C+j>w.length?xn:(w=w.slice(C,C+j),m.C=C+j,w)))}or.prototype.cancel=function(){this.K=!0,hs(this)};function Mr(m){m.T=Date.now()+m.H,ql(m,m.H)}function ql(m,w){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Rr(g(m.aa,m),w)}function Or(m){m.D&&(u.clearTimeout(m.D),m.D=null)}or.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(vo(this.i,this.B),this.M!=2&&(Ir(),tn(17)),hs(this),this.m=2,Ps(this)):ql(this,this.T-m)};function Ps(m){m.j.I==0||m.K||Yf(m.j,m)}function hs(m){Or(m);var w=m.O;w&&typeof w.dispose=="function"&&w.dispose(),m.O=null,rr(m.V),m.g&&(w=m.g,m.g=null,w.abort(),w.dispose())}function Vr(m,w){try{var j=m.j;if(j.I!=0&&(j.g==m||Ur(j.h,m))){if(!m.L&&Ur(j.h,m)&&j.I==3){try{var C=j.Ba.g.parse(w)}catch{C=null}if(Array.isArray(C)&&C.length==3){var J=C;if(J[0]==0){e:if(!j.v){if(j.g)if(j.g.F+3e3<m.F)Jl(j),di(j);else break e;Io(j),tn(18)}}else j.xa=J[1],0<j.xa-j.K&&J[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=Rr(g(j.Va,j),6e3));Lr(j.h)<=1&&j.ta&&(j.ta=void 0)}else Gr(j,11)}else if((m.L||j.g==m)&&Jl(j),!V(w))for(J=j.Ba.g.parse(w),w=0;w<J.length;w++){let ot=J[w];const It=ot[0];if(!(It<=j.K))if(j.K=It,ot=ot[1],j.I==2)if(ot[0]=="c"){j.M=ot[1],j.ba=ot[2];const Vs=ot[3];Vs!=null&&(j.ka=Vs,j.j.info("VER="+j.ka));const Hr=ot[4];Hr!=null&&(j.za=Hr,j.j.info("SVER="+j.za));const hr=ot[5];hr!=null&&typeof hr=="number"&&hr>0&&(C=1.5*hr,j.O=C,j.j.info("backChannelRequestTimeoutMs_="+C)),C=j;const fr=m.g;if(fr){const Co=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Co){var re=C.h;re.g||Co.indexOf("spdy")==-1&&Co.indexOf("quic")==-1&&Co.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Qu(re,re.h),re.h=null))}if(C.G){const Xl=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;Xl&&(C.wa=Xl,dt(C.J,C.G,Xl))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-m.F,j.j.info("Handshake RTT: "+j.T+"ms")),C=j;var xe=m;if(C.na=Xf(C,C.L?C.ba:null,C.W),xe.L){Ju(C.h,xe);var Be=xe,Yt=C.O;Yt&&(Be.H=Yt),Be.D&&(Or(Be),Mr(Be)),C.g=xe}else Kf(C);j.i.length>0&&$r(j)}else ot[0]!="stop"&&ot[0]!="close"||Gr(j,7);else j.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Gr(j,7):id(j):ot[0]!="noop"&&j.l&&j.l.qa(ot),j.A=0)}}Ir(4)}catch{}}var sn=class{constructor(m,w){this.g=m,this.map=w}};function Wu(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yu(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Lr(m){return m.h?1:m.g?m.g.size:0}function Ur(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function Qu(m,w){m.g?m.g.add(w):m.h=w}function Ju(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}Wu.prototype.cancel=function(){if(this.i=Xu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Xu(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const j of m.g.values())w=w.concat(j.G);return w}return k(m.i)}var Bf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $l(m,w){if(m){m=m.split("&");for(let j=0;j<m.length;j++){const C=m[j].indexOf("=");let J,re=null;C>=0?(J=m[j].substring(0,C),re=m[j].substring(C+1)):J=m[j],w(J,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function fs(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;m instanceof fs?(this.l=m.l,yn(this,m.j),this.o=m.o,this.g=m.g,ri(this,m.u),this.h=m.h,Zu(this,Gf(m.i)),this.m=m.m):m&&(w=String(m).match(Bf))?(this.l=!1,yn(this,w[1]||"",!0),this.o=zr(w[2]||""),this.g=zr(w[3]||"",!0),ri(this,w[4]),this.h=zr(w[5]||"",!0),Zu(this,w[6]||"",!0),this.m=zr(w[7]||"")):(this.l=!1,this.i=new ii(null,this.l))}fs.prototype.toString=function(){const m=[];var w=this.j;w&&m.push(No(w,Gl,!0),":");var j=this.g;return(j||w=="file")&&(m.push("//"),(w=this.o)&&m.push(No(w,Gl,!0),"@"),m.push(ga(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&m.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&m.push("/"),m.push(No(j,j.charAt(0)=="/"?ed:Ff,!0))),(j=this.i.toString())&&m.push("?",j),(j=this.m)&&m.push("#",No(j,qf)),m.join("")},fs.prototype.resolve=function(m){const w=rn(this);let j=!!m.j;j?yn(w,m.j):j=!!m.o,j?w.o=m.o:j=!!m.g,j?w.g=m.g:j=m.u!=null;var C=m.h;if(j)ri(w,m.u);else if(j=!!m.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var J=w.h.lastIndexOf("/");J!=-1&&(C=w.h.slice(0,J+1)+C)}if(J=C,J==".."||J==".")C="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){C=J.lastIndexOf("/",0)==0,J=J.split("/");const re=[];for(let xe=0;xe<J.length;){const Be=J[xe++];Be=="."?C&&xe==J.length&&re.push(""):Be==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),C&&xe==J.length&&re.push("")):(re.push(Be),C=!0)}C=re.join("/")}else C=J}return j?w.h=C:j=m.i.toString()!=="",j?Zu(w,Gf(m.i)):j=!!m.m,j&&(w.m=m.m),w};function rn(m){return new fs(m)}function yn(m,w,j){m.j=j?zr(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function ri(m,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);m.u=w}else m.u=null}function Zu(m,w,j){w instanceof ii?(m.i=w,Kl(m.i,m.l)):(j||(w=No(w,ai)),m.i=new ii(w,m.l))}function dt(m,w,j){m.i.set(w,j)}function jo(m){return dt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function zr(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function No(m,w,j){return typeof m=="string"?(m=encodeURI(m).replace(w,ts),j&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ts(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Gl=/[#\/\?@]/g,Ff=/[#\?:]/g,ed=/[#\?]/g,ai=/[#\?@]/g,qf=/#/g;function ii(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function ns(m){m.g||(m.g=new Map,m.h=0,m.i&&$l(m.i,function(w,j){m.add(decodeURIComponent(w.replace(/\+/g," ")),j)}))}n=ii.prototype,n.add=function(m,w){ns(this),this.i=null,m=oi(this,m);let j=this.g.get(m);return j||this.g.set(m,j=[]),j.push(w),this.h+=1,this};function $f(m,w){ns(m),w=oi(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function td(m,w){return ns(m),w=oi(m,w),m.g.has(w)}n.forEach=function(m,w){ns(this),this.g.forEach(function(j,C){j.forEach(function(J){m.call(w,J,C,this)},this)},this)};function nd(m,w){ns(m);let j=[];if(typeof w=="string")td(m,w)&&(j=j.concat(m.g.get(oi(m,w))));else for(m=Array.from(m.g.values()),w=0;w<m.length;w++)j=j.concat(m[w]);return j}n.set=function(m,w){return ns(this),this.i=null,m=oi(this,m),td(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},n.get=function(m,w){return m?(m=nd(this,m),m.length>0?String(m[0]):w):w};function Hl(m,w,j){$f(m,w),j.length>0&&(m.i=null,m.g.set(oi(m,w),k(j)),m.h+=j.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(let C=0;C<w.length;C++){var j=w[C];const J=ga(j);j=nd(this,j);for(let re=0;re<j.length;re++){let xe=J;j[re]!==""&&(xe+="="+ga(j[re])),m.push(xe)}}return this.i=m.join("&")};function Gf(m){const w=new ii;return w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),w}function oi(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function Kl(m,w){w&&!m.j&&(ns(m),m.i=null,m.g.forEach(function(j,C){const J=C.toLowerCase();C!=J&&($f(this,C),Hl(this,J,j))},m)),m.j=w}function cr(m,w){const j=new ir;if(u.Image){const C=new Image;C.onload=y(Ms,j,"TestLoadImage: loaded",!0,w,C),C.onerror=y(Ms,j,"TestLoadImage: error",!1,w,C),C.onabort=y(Ms,j,"TestLoadImage: abort",!1,w,C),C.ontimeout=y(Ms,j,"TestLoadImage: timeout",!1,w,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=m}else w(!1)}function sd(m,w){const j=new ir,C=new AbortController,J=setTimeout(()=>{C.abort(),Ms(j,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:C.signal}).then(re=>{clearTimeout(J),re.ok?Ms(j,"TestPingServer: ok",!0,w):Ms(j,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(J),Ms(j,"TestPingServer: error",!1,w)})}function Ms(m,w,j,C,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),C(j)}catch{}}function li(){this.g=new yo}function Br(m){this.i=m.Sb||null,this.h=m.ab||!1}b(Br,Ul),Br.prototype.g=function(){return new To(this.i,this.h)};function To(m,w){Bt.call(this),this.H=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(To,Bt),n=To.prototype,n.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=w,this.readyState=1,ur(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(w.body=m),(this.H||u).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wl(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wl(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?ci(this):ur(this),this.readyState==3&&Wl(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,ci(this))},n.Na=function(m){this.g&&(this.response=m,ci(this))},n.ga=function(){this.g&&ci(this)};function ci(m){m.readyState=4,m.l=null,m.j=null,m.B=null,ur(m)}n.setRequestHeader=function(m,w){this.A.append(m,w)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var j=w.next();!j.done;)j=j.value,m.push(j[0]+": "+j[1]),j=w.next();return m.join(`\r
`)};function ur(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(To.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Os(m){let w="";return Pe(m,function(j,C){w+=C,w+=":",w+=j,w+=`\r
`}),w}function So(m,w,j){e:{for(C in j){var C=!1;break e}C=!0}C||(j=Os(j),typeof m=="string"?j!=null&&ga(j):dt(m,w,j))}function xt(m){Bt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(xt,Bt);var Fr=/^https?$/i,rd=["POST","PUT"];n=xt.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,w,j,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ku.g(),this.g.onreadystatechange=v(g(this.Ca,this));try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(re){Eo(this,re);return}if(m=j||"",j=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var J in C)j.set(J,C[J]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const re of C.keys())j.set(re,C.get(re));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(j.keys()).find(re=>re.toLowerCase()=="content-type"),J=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(rd,w,void 0)>=0)||C||J||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,xe]of j)this.g.setRequestHeader(re,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(re){Eo(this,re)}};function Eo(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.o=5,ad(m),xa(m)}function ad(m){m.A||(m.A=!0,Ft(m,"complete"),Ft(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Ft(this,"complete"),Ft(this,"abort"),xa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xa(this,!0)),xt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ao(this):this.Xa())},n.Xa=function(){Ao(this)};function Ao(m){if(m.h&&typeof l<"u"){if(m.v&&dr(m)==4)setTimeout(m.Ca.bind(m),0);else if(Ft(m,"readystatechange"),dr(m)==4){m.h=!1;try{const re=m.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var j;if(!(j=w)){var C;if(C=re===0){let xe=String(m.D).match(Bf)[1]||null;!xe&&u.self&&u.self.location&&(xe=u.self.location.protocol.slice(0,-1)),C=!Fr.test(xe?xe.toLowerCase():"")}j=C}if(j)Ft(m,"complete"),Ft(m,"success");else{m.o=6;try{var J=dr(m)>2?m.g.statusText:""}catch{J=""}m.l=J+" ["+m.ca()+"]",ad(m)}}finally{xa(m)}}}}function xa(m,w){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const j=m.g;m.g=null,w||Ft(m,"ready");try{j.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function dr(m){return m.g?m.g.readyState:0}n.ca=function(){try{return dr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),kr(w)}};function Tn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ya(m){const w={};m=(m.g&&dr(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<m.length;C++){if(V(m[C]))continue;var j=Lf(m[C]);const J=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const re=w[J]||[];w[J]=re,re.push(j)}ze(w,function(C){return C.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(m,w,j){return j&&j.internalChannelParams&&j.internalChannelParams[m]||w}function ui(m){this.za=0,this.i=[],this.j=new ir,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qr("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qr("baseRetryDelayMs",5e3,m),this.Za=qr("retryDelaySeedMs",1e4,m),this.Ta=qr("forwardChannelMaxRetries",2,m),this.va=qr("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Wu(m&&m.concurrentRequestLimit),this.Ba=new li,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ui.prototype,n.ka=8,n.I=1,n.connect=function(m,w,j,C){tn(0),this.W=m,this.H=w||{},j&&C!==void 0&&(this.H.OSID=j,this.H.OAID=C),this.F=this.X,this.J=Xf(this,null,this.W),$r(this)};function id(m){if(Yl(m),m.I==3){var w=m.V++,j=rn(m.J);if(dt(j,"SID",m.M),dt(j,"RID",w),dt(j,"TYPE","terminate"),ko(m,j),w=new or(m,m.j,w),w.M=2,w.A=jo(rn(j)),j=!1,u.navigator&&u.navigator.sendBeacon)try{j=u.navigator.sendBeacon(w.A.toString(),"")}catch{}!j&&u.Image&&(new Image().src=w.A,j=!0),j||(w.g=Zf(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Mr(w)}Jf(m)}function di(m){m.g&&(ld(m),m.g.cancel(),m.g=null)}function Yl(m){di(m),m.v&&(u.clearTimeout(m.v),m.v=null),Jl(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function $r(m){if(!Yu(m.h)&&!m.m){m.m=!0;var w=m.Ea;L||N(),H||(L(),H=!0),T.add(w,m),m.D=0}}function Ql(m,w){return Lr(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=w.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Rr(g(m.Ea,m,w),Qf(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const J=new or(this,this.j,m);let re=this.o;if(this.U&&(re?(re=q(re),pe(re,this.U)):re=this.U),this.u!==null||this.R||(J.J=re,re=null),this.S)e:{for(var w=0,j=0;j<this.i.length;j++){t:{var C=this.i[j];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(w+=C,w>4096){w=j;break e}if(w===4096||j===this.i.length-1){w=j+1;break e}}w=1e3}else w=1e3;w=Hf(this,J,w),j=rn(this.J),dt(j,"RID",m),dt(j,"CVER",22),this.G&&dt(j,"X-HTTP-Session-Id",this.G),ko(this,j),re&&(this.R?w="headers="+ga(Os(re))+"&"+w:this.u&&So(j,this.u,re)),Qu(this.h,J),this.Ra&&dt(j,"TYPE","init"),this.S?(dt(j,"$req",w),dt(j,"SID","null"),J.U=!0,Pr(J,j,null)):Pr(J,j,w),this.I=2}}else this.I==3&&(m?od(this,m):this.i.length==0||Yu(this.h)||od(this))};function od(m,w){var j;w?j=w.l:j=m.V++;const C=rn(m.J);dt(C,"SID",m.M),dt(C,"RID",j),dt(C,"AID",m.K),ko(m,C),m.u&&m.o&&So(C,m.u,m.o),j=new or(m,m.j,j,m.D+1),m.u===null&&(j.J=m.o),w&&(m.i=w.G.concat(m.i)),w=Hf(m,j,1e3),j.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Qu(m.h,j),Pr(j,C,w)}function ko(m,w){m.H&&Pe(m.H,function(j,C){dt(w,C,j)}),m.l&&Pe({},function(j,C){dt(w,C,j)})}function Hf(m,w,j){j=Math.min(m.i.length,j);const C=m.l?g(m.l.Ka,m.l,m):null;e:{var J=m.i;let Be=-1;for(;;){const Yt=["count="+j];Be==-1?j>0?(Be=J[0].g,Yt.push("ofs="+Be)):Be=0:Yt.push("ofs="+Be);let ot=!0;for(let It=0;It<j;It++){var re=J[It].g;const Vs=J[It].map;if(re-=Be,re<0)Be=Math.max(0,J[It].g-100),ot=!1;else try{re="req"+re+"_"||"";try{var xe=Vs instanceof Map?Vs:Object.entries(Vs);for(const[Hr,hr]of xe){let fr=hr;h(hr)&&(fr=Rs(hr)),Yt.push(re+Hr+"="+encodeURIComponent(fr))}}catch(Hr){throw Yt.push(re+"type="+encodeURIComponent("_badmap")),Hr}}catch{C&&C(Vs)}}if(ot){xe=Yt.join("&");break e}}xe=void 0}return m=m.i.splice(0,j),w.G=m,xe}function Kf(m){if(!m.g&&!m.v){m.Y=1;var w=m.Da;L||N(),H||(L(),H=!0),T.add(w,m),m.A=0}}function Io(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Rr(g(m.Da,m),Qf(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Wf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Rr(g(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tn(10),di(this),Wf(this))};function ld(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function Wf(m){m.g=new or(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var w=rn(m.na);dt(w,"RID","rpc"),dt(w,"SID",m.M),dt(w,"AID",m.K),dt(w,"CI",m.F?"0":"1"),!m.F&&m.ia&&dt(w,"TO",m.ia),dt(w,"TYPE","xmlhttp"),ko(m,w),m.u&&m.o&&So(w,m.u,m.o),m.O&&(m.g.H=m.O);var j=m.g;m=m.ba,j.M=1,j.A=jo(rn(w)),j.u=null,j.R=!0,Fl(j,m)}n.Va=function(){this.C!=null&&(this.C=null,di(this),Io(this),tn(19))};function Jl(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function Yf(m,w){var j=null;if(m.g==w){Jl(m),ld(m),m.g=null;var C=2}else if(Ur(m.h,w))j=w.G,Ju(m.h,w),C=1;else return;if(m.I!=0){if(w.o)if(C==1){j=w.u?w.u.length:0,w=Date.now()-w.F;var J=m.D;C=Bl(),Ft(C,new Cr(C,j)),$r(m)}else Kf(m);else if(J=w.m,J==3||J==0&&w.X>0||!(C==1&&Ql(m,w)||C==2&&Io(m)))switch(j&&j.length>0&&(w=m.h,w.i=w.i.concat(j)),J){case 1:Gr(m,5);break;case 4:Gr(m,10);break;case 3:Gr(m,6);break;default:Gr(m,2)}}}function Qf(m,w){let j=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(j*=2),j*w}function Gr(m,w){if(m.j.info("Error code "+w),w==2){var j=g(m.bb,m),C=m.Ua;const J=!C;C=new fs(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||yn(C,"https"),jo(C),J?cr(C.toString(),j):sd(C.toString(),j)}else tn(2);m.I=0,m.l&&m.l.pa(w),Jf(m),Yl(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function Jf(m){if(m.I=0,m.ja=[],m.l){const w=Xu(m.h);(w.length!=0||m.i.length!=0)&&(I(m.ja,w),I(m.ja,m.i),m.h.i.length=0,k(m.i),m.i.length=0),m.l.oa()}}function Xf(m,w,j){var C=j instanceof fs?rn(j):new fs(j);if(C.g!="")w&&(C.g=w+"."+C.g),ri(C,C.u);else{var J=u.location;C=J.protocol,w=w?w+"."+J.hostname:J.hostname,J=+J.port;const re=new fs(null);C&&yn(re,C),w&&(re.g=w),J&&ri(re,J),j&&(re.h=j),C=re}return j=m.G,w=m.wa,j&&w&&dt(C,j,w),dt(C,"VER",m.ka),ko(m,C),C}function Zf(m,w,j){if(w&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Aa&&!m.ma?new xt(new Br({ab:j})):new xt(m.ma),w.Fa(m.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function em(){}n=em.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function hi(){}hi.prototype.g=function(m,w){return new Gn(m,w)};function Gn(m,w){Bt.call(this),this.g=new ui(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(m?m["X-WebChannel-Client-Profile"]=w.sa:m={"X-WebChannel-Client-Profile":w.sa}),this.g.U=m,(m=w&&w.Qb)&&!V(m)&&(this.g.u=m),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.G=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new ba(this)}b(Gn,Bt),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){id(this.g)},Gn.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var j={};j.__data__=m,m=j}else this.v&&(j={},j.__data__=Rs(m),m=j);w.i.push(new sn(w.Ya++,m)),w.I==3&&$r(w)},Gn.prototype.N=function(){this.g.l=null,delete this.j,id(this.g),delete this.g,Gn.Z.N.call(this)};function tm(m){Nn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){e:{for(const j in w){m=j;break e}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}b(tm,Nn);function nm(){Ds.call(this),this.status=1}b(nm,Ds);function ba(m){this.g=m}b(ba,em),ba.prototype.ra=function(){Ft(this.g,"a")},ba.prototype.qa=function(m){Ft(this.g,new tm(m))},ba.prototype.pa=function(m){Ft(this.g,new nm)},ba.prototype.oa=function(){Ft(this.g,"b")},hi.prototype.createWebChannel=hi.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,EA=function(){return new hi},SA=function(){return Bl()},TA=Wt,db={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wo.NO_ERROR=0,wo.TIMEOUT=8,wo.HTTP_ERROR=6,Ap=wo,Hu.COMPLETE="complete",NA=Hu,zl.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",Bt.prototype.listen=Bt.prototype.J,hh=zl,xt.prototype.listenOnce=xt.prototype.K,xt.prototype.getLastError=xt.prototype.Ha,xt.prototype.getLastErrorCode=xt.prototype.ya,xt.prototype.getStatus=xt.prototype.ca,xt.prototype.getResponseJson=xt.prototype.La,xt.prototype.getResponseText=xt.prototype.la,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Fa,jA=xt}).apply(typeof dp<"u"?dp:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu="12.8.0";function yU(n){Lu=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new df("@firebase/firestore");function Lc(){return no.logLevel}function bU(n){no.setLogLevel(n)}function me(n,...e){if(no.logLevel<=Qe.DEBUG){const t=e.map(Vv);no.debug(`Firestore (${Lu}): ${n}`,...t)}}function Xt(n,...e){if(no.logLevel<=Qe.ERROR){const t=e.map(Vv);no.error(`Firestore (${Lu}): ${n}`,...t)}}function ha(n,...e){if(no.logLevel<=Qe.WARN){const t=e.map(Vv);no.warn(`Firestore (${Lu}): ${n}`,...t)}}function Vv(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,AA(n,s,t)}function AA(n,e,t){let s=`FIRESTORE (${Lu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Xt(s),new Error(s)}function je(n,e,t,s){let i="Unexpected state";typeof t=="string"?i=t:s=t,n||AA(e,i,s)}function vU(n,e){n||we(57014,e)}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Rn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(wn.UNAUTHENTICATED)))}shutdown(){}}class _U{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class jU{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0,42304);let s=this.i;const i=f=>this.i!==s?(s=this.i,t(f)):Promise.resolve();let l=new Dn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Dn,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},h=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Dn)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(je(typeof s.accessToken=="string",31837,{l:s}),new kA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class NU{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class TU{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new NU(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SU{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){je(this.o===void 0,3512);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const i=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>i(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?i(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new DT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=EU(40);for(let l=0;l<i.length;++l)s.length<20&&i[l]<t&&(s+=e.charAt(i[l]%62))}return s}}function Oe(n,e){return n<e?-1:n>e?1:0}function hb(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const i=n.charAt(s),l=e.charAt(s);if(i!==l)return Cy(i)===Cy(l)?Oe(i,l):Cy(i)?1:-1}return Oe(n.length,e.length)}const AU=55296,kU=57343;function Cy(n){const e=n.charCodeAt(0);return e>=AU&&e<=kU}function cu(n,e,t){return n.length===e.length&&n.every(((s,i)=>t(s,e[i])))}function IA(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="__name__";class Xr{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&we(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let i=0;i<s;i++){const l=Xr.compareSegments(e.get(i),t.get(i));if(l!==0)return l}return Oe(e.length,t.length)}static compareSegments(e,t){const s=Xr.isNumericId(e),i=Xr.isNumericId(t);return s&&!i?-1:!s&&i?1:s&&i?Xr.extractNumericId(e).compare(Xr.extractNumericId(t)):hb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wi.fromString(e.substring(4,e.length-2))}}class Je extends Xr{construct(e,t,s){return new Je(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((i=>i.length>0)))}return new Je(t)}static emptyPath(){return new Je([])}}const IU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends Xr{construct(e,t,s){return new Mt(e,t,s)}static isValidIdentifier(e){return IU.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PT}static keyField(){return new Mt([PT])}static fromServerFormat(e){const t=[];let s="",i=0;const l=()=>{if(s.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new fe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=f,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(s+=h,i++):(l(),i++)}if(l(),u)throw new fe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(t)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(n,e,t){if(!t)throw new fe(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CA(n,e,t,s){if(e===!0&&s===!0)throw new fe(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function MT(n){if(!ye.isDocumentKey(n))throw new fe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function OT(n){if(ye.isDocumentKey(n))throw new fe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function RA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Dg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function it(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dg(n);throw new fe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function DA(n,e){if(e<=0)throw new fe(se.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(n,e){const t={typeString:n};return e&&(t.value=e),t}function bf(n,e){if(!RA(n))throw new fe(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const i=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const u=n[s];if(i&&typeof u!==i){t=`JSON field '${s}' must be a ${i}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new fe(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=-62135596800,LT=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*LT);return new ut(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<VT)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LT}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bf(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:hn("string",ut._jsonSchemaVersion),seconds:hn("number"),nanoseconds:hn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ut(0,0))}static max(){return new Se(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=-1;class Qp{constructor(e,t,s,i){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=i}}function fb(n){return n.fields.find((e=>e.kind===2))}function Yo(n){return n.fields.filter((e=>e.kind!==2))}Qp.UNKNOWN_ID=-1;class kp{constructor(e,t){this.fieldPath=e,this.kind=t}}class $h{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new $h(0,ks.min())}}function PA(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(s===1e9?new ut(t+1,0):new ut(t,s));return new ks(i,ye.empty(),e)}function MA(n){return new ks(n.readTime,n.key,uu)}class ks{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ks(Se.min(),ye.empty(),uu)}static max(){return new ks(Se.max(),ye.empty(),uu)}}function zv(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==OA)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q(((s,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.reject(t)}static resolve(e){return new Q(((t,s)=>{t(e)}))}static reject(e){return new Q(((t,s)=>{s(e)}))}static waitFor(e){return new Q(((t,s)=>{let i=0,l=0,u=!1;e.forEach((h=>{++i,h.next((()=>{++l,u&&l===i&&t()}),(f=>s(f)))})),u=!0,l===i&&t()}))}static or(e){let t=Q.resolve(!1);for(const s of e)t=t.next((i=>i?Q.resolve(i):s()));return t}static forEach(e,t){const s=[];return e.forEach(((i,l)=>{s.push(t.call(this,i,l))})),this.waitFor(s)}static mapArray(e,t){return new Q(((s,i)=>{const l=e.length,u=new Array(l);let h=0;for(let f=0;f<l;f++){const g=f;t(e[g]).next((y=>{u[g]=y,++h,h===l&&s(u)}),(y=>i(y)))}}))}static doWhile(e,t){return new Q(((s,i)=>{const l=()=>{e()===!0?t().next((()=>{l()}),i):s()};l()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="SimpleDb";class Pg{static open(e,t,s,i){try{return new Pg(t,e.transaction(i,s))}catch(l){throw new Nh(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Dn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Nh(e,t.error)):this.S.resolve()},this.transaction.onerror=s=>{const i=Bv(s.target.error);this.S.reject(new Nh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(me(ws,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new RU(t)}}class la{static delete(e){return me(ws,"Removing database:",e),Jo(ov().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!gl())return!1;if(la.F())return!0;const e=Ut(),t=la.M(e),s=0<t&&t<10,i=LA(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||l)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}constructor(e,t,s){this.name=e,this.version=t,this.N=s,this.B=null,la.M(Ut())===12.2&&Xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(me(ws,"Opening database:",this.name),this.db=await new Promise(((t,s)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=l=>{const u=l.target.result;t(u)},i.onblocked=()=>{s(new Nh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=l=>{const u=l.target.error;u.name==="VersionError"?s(new fe(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?s(new fe(se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):s(new Nh(e,u))},i.onupgradeneeded=l=>{me(ws,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const u=l.target.result;this.N.k(u,i.transaction,l.oldVersion,this.version).next((()=>{me(ws,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,s,i){const l=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const h=Pg.open(this.db,e,l?"readonly":"readwrite",s),f=i(h).next((g=>(h.C(),g))).catch((g=>(h.abort(g),Q.reject(g)))).toPromise();return f.catch((()=>{})),await h.D,f}catch(h){const f=h,g=f.name!=="FirebaseError"&&u<3;if(me(ws,"Transaction failed with error:",f.message,"Retrying:",g),this.close(),!g)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function LA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class CU{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return Jo(this.U.delete())}}class Nh extends fe{constructor(e,t){super(se.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function mo(n){return n.name==="IndexedDbTransactionError"}class RU{constructor(e){this.store=e}put(e,t){let s;return t!==void 0?(me(ws,"PUT",this.store.name,e,t),s=this.store.put(t,e)):(me(ws,"PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Jo(s)}add(e){return me(ws,"ADD",this.store.name,e,e),Jo(this.store.add(e))}get(e){return Jo(this.store.get(e)).next((t=>(t===void 0&&(t=null),me(ws,"GET",this.store.name,e,t),t)))}delete(e){return me(ws,"DELETE",this.store.name,e),Jo(this.store.delete(e))}count(){return me(ws,"COUNT",this.store.name),Jo(this.store.count())}H(e,t){const s=this.options(e,t),i=s.index?this.store.index(s.index):this.store;if(typeof i.getAll=="function"){const l=i.getAll(s.range);return new Q(((u,h)=>{l.onerror=f=>{h(f.target.error)},l.onsuccess=f=>{u(f.target.result)}}))}{const l=this.cursor(s),u=[];return this.J(l,((h,f)=>{u.push(f)})).next((()=>u))}}Z(e,t){const s=this.store.getAll(e,t===null?void 0:t);return new Q(((i,l)=>{s.onerror=u=>{l(u.target.error)},s.onsuccess=u=>{i(u.target.result)}}))}X(e,t){me(ws,"DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const i=this.cursor(s);return this.J(i,((l,u,h)=>h.delete()))}ee(e,t){let s;t?s=e:(s={},t=e);const i=this.cursor(s);return this.J(i,t)}te(e){const t=this.cursor({});return new Q(((s,i)=>{t.onerror=l=>{const u=Bv(l.target.error);i(u)},t.onsuccess=l=>{const u=l.target.result;u?e(u.primaryKey,u.value).next((h=>{h?u.continue():s()})):s()}}))}J(e,t){const s=[];return new Q(((i,l)=>{e.onerror=u=>{l(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const f=new CU(h),g=t(h.primaryKey,h.value,f);if(g instanceof Q){const y=g.catch((b=>(f.done(),Q.reject(b))));s.push(y)}f.isDone?i():f.G===null?h.continue():h.continue(f.G)}})).next((()=>Q.waitFor(s)))}options(e,t){let s;return e!==void 0&&(typeof e=="string"?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Jo(n){return new Q(((e,t)=>{n.onsuccess=s=>{const i=s.target.result;e(i)},n.onerror=s=>{const i=Bv(s.target.error);t(i)}}))}let UT=!1;function Bv(n){const e=la.M(Ut());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return UT||(UT=!0,setTimeout((()=>{throw s}),0)),s}}return n}const Th="IndexBackfiller";class DU{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){me(Th,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();me(Th,`Documents written: ${t}`)}catch(t){mo(t)?me(Th,"Ignoring IndexedDB error during index backfill: ",t):await fo(t)}await this.re(6e4)}))}}class PU{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const s=new Set;let i=t,l=!0;return Q.doWhile((()=>l===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!s.has(u))return me(Th,`Processing collection: ${u}`),this.oe(e,u,i).next((h=>{i-=h,s.add(u)}));l=!1})))).next((()=>t-i))}oe(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,s).next((l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(i,l))).next((h=>(me(Th,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>u.size))}))))}_e(e,t){let s=e;return t.changes.forEach(((i,l)=>{const u=MA(l);zv(u,s)>0&&(s=u)})),new ks(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cs.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=-1;function vf(n){return n==null}function Gh(n){return n===0&&1/n==-1/0}function UA(n){return typeof n=="number"&&Number.isInteger(n)&&!Gh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="";function Fn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zT(e)),e=MU(n.get(t),e);return zT(e)}function MU(n,e){let t=e;const s=n.length;for(let i=0;i<s;i++){const l=n.charAt(i);switch(l){case"\0":t+="";break;case Jp:t+="";break;default:t+=l}}return t}function zT(n){return n+Jp+""}function aa(n){const e=n.length;if(je(e>=2,64408,{path:n}),e===2)return je(n.charAt(0)===Jp&&n.charAt(1)==="",56145,{path:n}),Je.emptyPath();const t=e-2,s=[];let i="";for(let l=0;l<e;){const u=n.indexOf(Jp,l);switch((u<0||u>t)&&we(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(l,u);let f;i.length===0?f=h:(i+=h,f=i,i=""),s.push(f);break;case"":i+=n.substring(l,u),i+="\0";break;case"":i+=n.substring(l,u+1);break;default:we(61167,{path:n})}l=u+2}return new Je(s)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="remoteDocuments",wf="owner",Rc="owner",Hh="mutationQueues",OU="userId",xr="mutations",BT="batchId",sl="userMutationsIndex",FT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(n,e){return[n,Fn(e)]}function zA(n,e,t){return[n,Fn(e),t]}const VU={},du="documentMutations",Xp="remoteDocumentsV14",LU=["prefixPath","collectionGroup","readTime","documentId"],Cp="documentKeyIndex",UU=["prefixPath","collectionGroup","documentId"],BA="collectionGroupIndex",zU=["collectionGroup","readTime","prefixPath","documentId"],Kh="remoteDocumentGlobal",mb="remoteDocumentGlobalKey",hu="targets",FA="queryTargetsIndex",BU=["canonicalId","targetId"],fu="targetDocuments",FU=["targetId","path"],Fv="documentTargetsIndex",qU=["path","targetId"],Zp="targetGlobalKey",ul="targetGlobal",Wh="collectionParents",$U=["collectionId","parent"],mu="clientMetadata",GU="clientId",Mg="bundles",HU="bundleId",Og="namedQueries",KU="name",qv="indexConfiguration",WU="indexId",pb="collectionGroupIndex",YU="collectionGroup",Sh="indexState",QU=["indexId","uid"],qA="sequenceNumberIndex",JU=["uid","sequenceNumber"],Eh="indexEntries",XU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$A="documentKeyIndex",ZU=["indexId","uid","orderedDocumentKey"],Vg="documentOverlays",ez=["userId","collectionPath","documentId"],gb="collectionPathOverlayIndex",tz=["userId","collectionPath","largestBatchId"],GA="collectionGroupOverlayIndex",nz=["userId","collectionGroup","largestBatchId"],$v="globals",sz="name",HA=[Hh,xr,du,Qo,hu,wf,ul,fu,mu,Kh,Wh,Mg,Og],rz=[...HA,Vg],KA=[Hh,xr,du,Xp,hu,wf,ul,fu,mu,Kh,Wh,Mg,Og,Vg],WA=KA,Gv=[...WA,qv,Sh,Eh],az=Gv,YA=[...Gv,$v],iz=YA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb extends VA{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function gn(n,e){const t=be(n);return la.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function po(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function QA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,t){this.comparator=e,this.root=t||In.EMPTY}insert(e,t){return new Nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return t+s.left.size;i<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hp(this.root,e,this.comparator,!0)}}class hp{constructor(e,t,s,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,t,s,i,l){this.key=e,this.value=t,this.color=s??In.RED,this.left=i??In.EMPTY,this.right=l??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,i,l){return new In(e??this.key,t??this.value,s??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let i=this;const l=s(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,s),null):l===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return In.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,s,i,l){return this}insert(e,t,s){return new In(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $T(this.data.getIterator())}getIteratorFrom(e){return new $T(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=s.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new pt(this.comparator);return t.data=e,t}}class $T{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Dc(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new us([])}unionWith(e){let t=new pt(Mt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new us(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cu(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new JA("Invalid base64 string: "+l):l}})(e);return new Gt(t)}static fromUint8Array(e){const t=(function(i){let l="";for(let u=0;u<i.length;++u)l+=String.fromCharCode(i[u]);return l})(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let i=0;i<t.length;i++)s[i]=t.charCodeAt(i);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const lz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ya(n){if(je(!!n,39018),typeof n=="string"){let e=0;const t=lz.exec(n);if(je(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dt(n.seconds),nanos:Dt(n.nanos)}}function Dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qa(n){return typeof n=="string"?Gt.fromBase64String(n):Gt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="server_timestamp",ZA="__type__",ek="__previous_value__",tk="__local_write_time__";function Lg(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[ZA])==null?void 0:s.stringValue)===XA}function Ug(n){const e=n.mapValue.fields[ek];return Lg(e)?Ug(e):e}function Yh(n){const e=Ya(n.mapValue.fields[tk].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,t,s,i,l,u,h,f,g,y,b){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=i,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=y,this.apiKey=b}}const yb="(default)";class so{constructor(e,t){this.projectId=e,this.database=t||yb}static empty(){return new so("","")}get isDefaultDatabase(){return this.database===yb}isEqual(e){return e instanceof so&&e.projectId===this.projectId&&e.database===this.database}}function uz(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new fe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="__type__",nk="__max__",qi={mapValue:{fields:{__type__:{stringValue:nk}}}},Kv="__vector__",pu="value",Rp={nullValue:"NULL_VALUE"};function ro(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Lg(n)?4:sk(n)?9007199254740991:zg(n)?10:11:we(28295,{value:n})}function fa(n,e){if(n===e)return!0;const t=ro(n);if(t!==ro(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yh(n).isEqual(Yh(e));case 3:return(function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const u=Ya(i.timestampValue),h=Ya(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,l){return Qa(i.bytesValue).isEqual(Qa(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,l){return Dt(i.geoPointValue.latitude)===Dt(l.geoPointValue.latitude)&&Dt(i.geoPointValue.longitude)===Dt(l.geoPointValue.longitude)})(n,e);case 2:return(function(i,l){if("integerValue"in i&&"integerValue"in l)return Dt(i.integerValue)===Dt(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const u=Dt(i.doubleValue),h=Dt(l.doubleValue);return u===h?Gh(u)===Gh(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return cu(n.arrayValue.values||[],e.arrayValue.values||[],fa);case 10:case 11:return(function(i,l){const u=i.mapValue.fields||{},h=l.mapValue.fields||{};if(qT(u)!==qT(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!fa(u[f],h[f])))return!1;return!0})(n,e);default:return we(52216,{left:n})}}function Qh(n,e){return(n.values||[]).find((t=>fa(t,e)))!==void 0}function ao(n,e){if(n===e)return 0;const t=ro(n),s=ro(e);if(t!==s)return Oe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Dt(l.integerValue||l.doubleValue),f=Dt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return GT(n.timestampValue,e.timestampValue);case 4:return GT(Yh(n),Yh(e));case 5:return hb(n.stringValue,e.stringValue);case 6:return(function(l,u){const h=Qa(l),f=Qa(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),f=u.split("/");for(let g=0;g<h.length&&g<f.length;g++){const y=Oe(h[g],f[g]);if(y!==0)return y}return Oe(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=Oe(Dt(l.latitude),Dt(u.latitude));return h!==0?h:Oe(Dt(l.longitude),Dt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return HT(n.arrayValue,e.arrayValue);case 10:return(function(l,u){var v,k,I,R;const h=l.fields||{},f=u.fields||{},g=(v=h[pu])==null?void 0:v.arrayValue,y=(k=f[pu])==null?void 0:k.arrayValue,b=Oe(((I=g==null?void 0:g.values)==null?void 0:I.length)||0,((R=y==null?void 0:y.values)==null?void 0:R.length)||0);return b!==0?b:HT(g,y)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===qi.mapValue&&u===qi.mapValue)return 0;if(l===qi.mapValue)return 1;if(u===qi.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),g=u.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let b=0;b<f.length&&b<y.length;++b){const v=hb(f[b],y[b]);if(v!==0)return v;const k=ao(h[f[b]],g[y[b]]);if(k!==0)return k}return Oe(f.length,y.length)})(n.mapValue,e.mapValue);default:throw we(23264,{he:t})}}function GT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=Ya(n),s=Ya(e),i=Oe(t.seconds,s.seconds);return i!==0?i:Oe(t.nanos,s.nanos)}function HT(n,e){const t=n.values||[],s=e.values||[];for(let i=0;i<t.length&&i<s.length;++i){const l=ao(t[i],s[i]);if(l)return l}return Oe(t.length,s.length)}function gu(n){return bb(n)}function bb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Ya(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Qa(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ye.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",i=!0;for(const l of t.values||[])i?i=!1:s+=",",s+=bb(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let i="{",l=!0;for(const u of s)l?l=!1:i+=",",i+=`${u}:${bb(t.fields[u])}`;return i+"}"})(n.mapValue):we(61005,{value:n})}function Dp(n){switch(ro(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ug(n);return e?16+Dp(e):16;case 5:return 2*n.stringValue.length;case 6:return Qa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((i,l)=>i+Dp(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let i=0;return po(s.fields,((l,u)=>{i+=l.length+Dp(u)})),i})(n.mapValue);default:throw we(13486,{value:n})}}function vl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vb(n){return!!n&&"integerValue"in n}function Jh(n){return!!n&&"arrayValue"in n}function KT(n){return!!n&&"nullValue"in n}function WT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pp(n){return!!n&&"mapValue"in n}function zg(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Hv])==null?void 0:s.stringValue)===Kv}function Ah(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return po(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Ah(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ah(n.arrayValue.values[t]);return e}return{...n}}function sk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nk}const rk={mapValue:{fields:{[Hv]:{stringValue:Kv},[pu]:{arrayValue:{}}}}};function dz(n){return"nullValue"in n?Rp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?vl(so.empty(),ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?zg(n)?rk:{mapValue:{}}:we(35942,{value:n})}function hz(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?vl(so.empty(),ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?rk:"mapValue"in n?zg(n)?{mapValue:{}}:qi:we(61959,{value:n})}function YT(n,e){const t=ao(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function QT(n,e){const t=ao(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Pp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ah(t)}setAll(e){let t=Mt.emptyPath(),s={},i=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,s,i),s={},i=[],t=h.popLast()}u?s[h.lastSegment()]=Ah(u):i.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,i)}delete(e){const t=this.field(e.popLast());Pp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=t.mapValue.fields[e.get(s)];Pp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,s){po(t,((i,l)=>e[i]=l));for(const i of s)delete e[i]}clone(){return new Cn(Ah(this.value))}}function ak(n){const e=[];return po(n.fields,((t,s)=>{const i=new Mt([t]);if(Pp(s)){const l=ak(s.mapValue).fields;if(l.length===0)e.push(i);else for(const u of l)e.push(i.child(u))}else e.push(i)})),new us(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t,s,i,l,u,h){this.key=e,this.documentType=t,this.version=s,this.readTime=i,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new kt(e,0,Se.min(),Se.min(),Se.min(),Cn.empty(),0)}static newFoundDocument(e,t,s,i){return new kt(e,1,t,Se.min(),s,i,0)}static newNoDocument(e,t){return new kt(e,2,t,Se.min(),Se.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new kt(e,3,t,Se.min(),Se.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,t){this.position=e,this.inclusive=t}}function JT(n,e,t){let s=0;for(let i=0;i<n.position.length;i++){const l=e[i],u=n.position[i];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(u.referenceValue),t.key):s=ao(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function XT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fa(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t="asc"){this.field=e,this.dir=t}}function fz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{}class tt extends ik{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new mz(e,t,s):t==="array-contains"?new xz(e,s):t==="in"?new hk(e,s):t==="not-in"?new yz(e,s):t==="array-contains-any"?new bz(e,s):new tt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new pz(e,s):new gz(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ao(t,this.value)):t!==null&&ro(this.value)===ro(t)&&this.matchesComparison(ao(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mt extends ik{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new mt(e,t)}matches(e){return xu(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xu(n){return n.op==="and"}function wb(n){return n.op==="or"}function Wv(n){return ok(n)&&xu(n)}function ok(n){for(const e of n.filters)if(e instanceof mt)return!1;return!0}function _b(n){if(n instanceof tt)return n.field.canonicalString()+n.op.toString()+gu(n.value);if(Wv(n))return n.filters.map((e=>_b(e))).join(",");{const e=n.filters.map((t=>_b(t))).join(",");return`${n.op}(${e})`}}function lk(n,e){return n instanceof tt?(function(s,i){return i instanceof tt&&s.op===i.op&&s.field.isEqual(i.field)&&fa(s.value,i.value)})(n,e):n instanceof mt?(function(s,i){return i instanceof mt&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce(((l,u,h)=>l&&lk(u,i.filters[h])),!0):!1})(n,e):void we(19439)}function ck(n,e){const t=n.filters.concat(e);return mt.create(t,n.op)}function uk(n){return n instanceof tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${gu(t.value)}`})(n):n instanceof mt?(function(t){return t.op.toString()+" {"+t.getFilters().map(uk).join(" ,")+"}"})(n):"Filter"}class mz extends tt{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class pz extends tt{constructor(e,t){super(e,"in",t),this.keys=dk("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class gz extends tt{constructor(e,t){super(e,"not-in",t),this.keys=dk("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function dk(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((s=>ye.fromName(s.referenceValue)))}class xz extends tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jh(t)&&Qh(t.arrayValue,this.value)}}class hk extends tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Qh(this.value.arrayValue,t)}}class yz extends tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Qh(this.value.arrayValue,t)}}class bz extends tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Qh(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e,t=null,s=[],i=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=i,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function jb(n,e=null,t=[],s=[],i=null,l=null,u=null){return new vz(n,e,t,s,i,l,u)}function wl(n){const e=be(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>_b(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),vf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>gu(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>gu(s))).join(",")),e.Te=t}return e.Te}function _f(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!XT(n.startAt,e.startAt)&&XT(n.endAt,e.endAt)}function eg(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function tg(n,e){return n.filters.filter((t=>t instanceof tt&&t.field.isEqual(e)))}function ZT(n,e,t){let s=Rp,i=!0;for(const l of tg(n,e)){let u=Rp,h=!0;switch(l.op){case"<":case"<=":u=dz(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,h=!1;break;case"!=":case"not-in":u=Rp}YT({value:s,inclusive:i},{value:u,inclusive:h})<0&&(s=u,i=h)}if(t!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const u=t.position[l];YT({value:s,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(s=u,i=t.inclusive);break}}return{value:s,inclusive:i}}function e2(n,e,t){let s=qi,i=!0;for(const l of tg(n,e)){let u=qi,h=!0;switch(l.op){case">=":case">":u=hz(l.value),h=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,h=!1;break;case"!=":case"not-in":u=qi}QT({value:s,inclusive:i},{value:u,inclusive:h})>0&&(s=u,i=h)}if(t!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const u=t.position[l];QT({value:s,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(s=u,i=t.inclusive);break}}return{value:s,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,t=null,s=[],i=[],l=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=i,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function fk(n,e,t,s,i,l,u,h){return new ei(n,e,t,s,i,l,u,h)}function Uu(n){return new ei(n)}function t2(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function wz(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Yv(n){return n.collectionGroup!==null}function Jc(n){const e=be(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new pt(Mt.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Xh(l,s))})),t.has(Mt.keyField().canonicalString())||e.Ie.push(new Xh(Mt.keyField(),s))}return e.Ie}function Jn(n){const e=be(n);return e.Ee||(e.Ee=_z(e,Jc(n))),e.Ee}function _z(n,e){if(n.limitType==="F")return jb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const l=i.dir==="desc"?"asc":"desc";return new Xh(i.field,l)}));const t=n.endAt?new io(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new io(n.startAt.position,n.startAt.inclusive):null;return jb(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Nb(n,e){const t=n.filters.concat([e]);return new ei(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function jz(n,e){const t=n.explicitOrderBy.concat([e]);return new ei(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function ng(n,e,t){return new ei(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nz(n,e){return new ei(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,e,n.endAt)}function Tz(n,e){return new ei(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,e)}function jf(n,e){return _f(Jn(n),Jn(e))&&n.limitType===e.limitType}function mk(n){return`${wl(Jn(n))}|lt:${n.limitType}`}function Uc(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((i=>uk(i))).join(", ")}]`),vf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((i=>gu(i))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((i=>gu(i))).join(",")),`Target(${s})`})(Jn(n))}; limitType=${n.limitType})`}function Nf(n,e){return e.isFoundDocument()&&(function(s,i){const l=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,i){for(const l of Jc(s))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,i){for(const l of s.filters)if(!l.matches(i))return!1;return!0})(n,e)&&(function(s,i){return!(s.startAt&&!(function(u,h,f){const g=JT(u,h,f);return u.inclusive?g<=0:g<0})(s.startAt,Jc(s),i)||s.endAt&&!(function(u,h,f){const g=JT(u,h,f);return u.inclusive?g>=0:g>0})(s.endAt,Jc(s),i))})(n,e)}function pk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gk(n){return(e,t)=>{let s=!1;for(const i of Jc(n)){const l=Sz(i,e,t);if(l!==0)return l;s=s||i.field.isKeyField()}return 0}}function Sz(n,e,t){const s=n.field.isKeyField()?ye.comparator(e.key,t.key):(function(l,u,h){const f=u.data.field(l),g=h.data.field(l);return f!==null&&g!==null?ao(f,g):we(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[i,l]of s)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[t]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,((t,s)=>{for(const[i,l]of s)e(i,l)}))}isEmpty(){return QA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=new Nt(ye.comparator);function ds(){return Ez}const xk=new Nt(ye.comparator);function fh(...n){let e=xk;for(const t of n)e=e.insert(t.key,t);return e}function yk(n){let e=xk;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ia(){return kh()}function bk(){return kh()}function kh(){return new ti((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Az=new Nt(ye.comparator),kz=new pt(ye.comparator);function $e(...n){let e=kz;for(const t of n)e=e.add(t);return e}const Iz=new pt(Oe);function Qv(){return Iz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function vk(n){return{integerValue:""+n}}function wk(n,e){return UA(e)?vk(e):Jv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this._=void 0}}function Cz(n,e,t){return n instanceof yu?(function(i,l){const u={fields:{[ZA]:{stringValue:XA},[tk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&Lg(l)&&(l=Ug(l)),l&&(u.fields[ek]=l),{mapValue:u}})(t,e):n instanceof _l?jk(n,e):n instanceof jl?Nk(n,e):(function(i,l){const u=_k(i,l),h=n2(u)+n2(i.Ae);return vb(u)&&vb(i.Ae)?vk(h):Jv(i.serializer,h)})(n,e)}function Rz(n,e,t){return n instanceof _l?jk(n,e):n instanceof jl?Nk(n,e):t}function _k(n,e){return n instanceof bu?(function(s){return vb(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class yu extends Bg{}class _l extends Bg{constructor(e){super(),this.elements=e}}function jk(n,e){const t=Tk(e);for(const s of n.elements)t.some((i=>fa(i,s)))||t.push(s);return{arrayValue:{values:t}}}class jl extends Bg{constructor(e){super(),this.elements=e}}function Nk(n,e){let t=Tk(e);for(const s of n.elements)t=t.filter((i=>!fa(i,s)));return{arrayValue:{values:t}}}class bu extends Bg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function n2(n){return Dt(n.integerValue||n.doubleValue)}function Tk(n){return Jh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t){this.field=e,this.transform=t}}function Dz(n,e){return n.field.isEqual(e.field)&&(function(s,i){return s instanceof _l&&i instanceof _l||s instanceof jl&&i instanceof jl?cu(s.elements,i.elements,fa):s instanceof bu&&i instanceof bu?fa(s.Ae,i.Ae):s instanceof yu&&i instanceof yu})(n.transform,e.transform)}class Pz{constructor(e,t){this.version=e,this.transformResults=t}}class Ot{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ot}static exists(e){return new Ot(void 0,e)}static updateTime(e){return new Ot(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Fg{}function Sk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Bu(n.key,Ot.none()):new zu(n.key,n.data,Ot.none());{const t=n.data,s=Cn.empty();let i=new pt(Mt.comparator);for(let l of e.fields)if(!i.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),i=i.add(l)}return new ni(n.key,s,new us(i.toArray()),Ot.none())}}function Mz(n,e,t){n instanceof zu?(function(i,l,u){const h=i.value.clone(),f=r2(i.fieldTransforms,l,u.transformResults);h.setAll(f),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof ni?(function(i,l,u){if(!Mp(i.precondition,l))return void l.convertToUnknownDocument(u.version);const h=r2(i.fieldTransforms,l,u.transformResults),f=l.data;f.setAll(Ek(i)),f.setAll(h),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(i,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Ih(n,e,t,s){return n instanceof zu?(function(l,u,h,f){if(!Mp(l.precondition,u))return h;const g=l.value.clone(),y=a2(l.fieldTransforms,f,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,e,t,s):n instanceof ni?(function(l,u,h,f){if(!Mp(l.precondition,u))return h;const g=a2(l.fieldTransforms,f,u),y=u.data;return y.setAll(Ek(l)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(n,e,t,s):(function(l,u,h){return Mp(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function Oz(n,e){let t=null;for(const s of n.fieldTransforms){const i=e.data.field(s.field),l=_k(s.transform,i||null);l!=null&&(t===null&&(t=Cn.empty()),t.set(s.field,l))}return t||null}function s2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&cu(s,i,((l,u)=>Dz(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zu extends Fg{constructor(e,t,s,i=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ni extends Fg{constructor(e,t,s,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Ek(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function r2(n,e,t){const s=new Map;je(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let i=0;i<t.length;i++){const l=n[i],u=l.transform,h=e.data.field(l.field);s.set(l.field,Rz(u,h,t[i]))}return s}function a2(n,e,t){const s=new Map;for(const i of n){const l=i.transform,u=t.data.field(i.field);s.set(i.field,Cz(l,u,e))}return s}class Bu extends Fg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xv extends Fg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,t,s,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&Mz(l,e,s[i])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ih(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ih(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=bk();return this.mutations.forEach((i=>{const l=e.get(i.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(i.key)?null:h;const f=Sk(u,h);f!==null&&s.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),$e())}isEqual(e){return this.batchId===e.batchId&&cu(this.mutations,e.mutations,((t,s)=>s2(t,s)))&&cu(this.baseMutations,e.baseMutations,((t,s)=>s2(t,s)))}}class ew{constructor(e,t,s,i){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=i}static from(e,t,s){je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=(function(){return Az})();const l=e.mutations;for(let u=0;u<l.length;u++)i=i.insert(l[u].key,s[u].version);return new ew(e,t,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,st;function Ak(n){switch(n){case se.OK:return we(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function kk(n){if(n===void 0)return Xt("GRPC error has no .code"),se.UNKNOWN;switch(n){case un.OK:return se.OK;case un.CANCELLED:return se.CANCELLED;case un.UNKNOWN:return se.UNKNOWN;case un.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case un.INTERNAL:return se.INTERNAL;case un.UNAVAILABLE:return se.UNAVAILABLE;case un.UNAUTHENTICATED:return se.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case un.NOT_FOUND:return se.NOT_FOUND;case un.ALREADY_EXISTS:return se.ALREADY_EXISTS;case un.PERMISSION_DENIED:return se.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case un.ABORTED:return se.ABORTED;case un.OUT_OF_RANGE:return se.OUT_OF_RANGE;case un.UNIMPLEMENTED:return se.UNIMPLEMENTED;case un.DATA_LOSS:return se.DATA_LOSS;default:return we(39323,{code:n})}}(st=un||(un={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=new Wi([4294967295,4294967295],0);function i2(n){const e=Ik().encode(n),t=new _A;return t.update(e),new Uint8Array(t.digest())}function o2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Wi([t,s],0),new Wi([i,l],0)]}class nw{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new mh(`Invalid padding: ${t}`);if(s<0)throw new mh(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new mh(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new mh(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Wi.fromNumber(this.ge)}ye(e,t,s){let i=e.add(t.multiply(Wi.fromNumber(s)));return i.compare(Lz)===1&&(i=new Wi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=i2(e),[s,i]=o2(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,i,l);if(!this.we(u))return!1}return!0}static create(e,t,s){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new nw(l,i,t);return s.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=i2(e),[s,i]=o2(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,i,l);this.be(u)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class mh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t,s,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const i=new Map;return i.set(e,Ef.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Sf(Se.min(),i,new Nt(Oe),ds(),$e())}}class Ef{constructor(e,t,s,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ef(s,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t,s,i){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=i}}class Ck{constructor(e,t){this.targetId=e,this.Ce=t}}class Rk{constructor(e,t,s=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=i}}class l2{constructor(){this.ve=0,this.Fe=c2(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),t=$e(),s=$e();return this.Fe.forEach(((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:s=s.add(i);break;default:we(38017,{changeType:l})}})),new Ef(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=c2()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Uz{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.He=fp(),this.Je=fp(),this.Ze=new Nt(Oe)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,s=e.Ce.count,i=this.ot(t);if(i){const l=i.target;if(eg(l))if(s===0){const u=new ye(l.path);this.et(t,u,kt.newNoDocument(u,Se.min()))}else je(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:l=0}=t;let u,h;try{u=Qa(s).toUint8Array()}catch(f){if(f instanceof JA)return ha("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new nw(u,i,l)}catch(f){return ha(f instanceof mh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let i=0;return s.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&eg(h.target)){const f=new ye(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,kt.newNoDocument(f,e))}l.Be&&(t.set(u,l.ke()),l.Ke())}}));let s=$e();this.Je.forEach(((l,u)=>{let h=!0;u.forEachWhile((f=>{const g=this.ot(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const i=new Sf(e,t,this.Ze,this.je,s);return this.je=ds(),this.He=fp(),this.Je=fp(),this.Ze=new Nt(Oe),i}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.qe(t,1):i.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new l2,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new pt(Oe),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new pt(Oe),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new l2),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function fp(){return new Nt(ye.comparator)}function c2(){return new Nt(ye.comparator)}const zz={asc:"ASCENDING",desc:"DESCENDING"},Bz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fz={and:"AND",or:"OR"};class qz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tb(n,e){return n.useProto3Json||vf(e)?e:{value:e}}function vu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $z(n,e){return vu(n,e.toTimestamp())}function Zt(n){return je(!!n,49232),Se.fromTimestamp((function(t){const s=Ya(t);return new ut(s.seconds,s.nanos)})(n))}function sw(n,e){return Sb(n,e).canonicalString()}function Sb(n,e){const t=(function(i){return new Je(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Pk(n){const e=Je.fromString(n);return je($k(e),10190,{key:e.toString()}),e}function Zh(n,e){return sw(n.databaseId,e.path)}function ca(n,e){const t=Pk(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(Vk(t))}function Mk(n,e){return sw(n.databaseId,e)}function Ok(n){const e=Pk(n);return e.length===4?Je.emptyPath():Vk(e)}function Eb(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Vk(n){return je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function u2(n,e,t){return{name:Zh(n,e),fields:t.value.mapValue.fields}}function Lk(n,e,t){const s=ca(n,e.name),i=Zt(e.updateTime),l=e.createTime?Zt(e.createTime):Se.min(),u=new Cn({mapValue:{fields:e.fields}}),h=kt.newFoundDocument(s,i,l,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Gz(n,e){return"found"in e?(function(s,i){je(!!i.found,43571),i.found.name,i.found.updateTime;const l=ca(s,i.found.name),u=Zt(i.found.updateTime),h=i.found.createTime?Zt(i.found.createTime):Se.min(),f=new Cn({mapValue:{fields:i.found.fields}});return kt.newFoundDocument(l,u,h,f)})(n,e):"missing"in e?(function(s,i){je(!!i.missing,3894),je(!!i.readTime,22933);const l=ca(s,i.missing),u=Zt(i.readTime);return kt.newNoDocument(l,u)})(n,e):we(7234,{result:e})}function Hz(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(je(y===void 0||typeof y=="string",58123),Gt.fromBase64String(y||"")):(je(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Gt.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(g){const y=g.code===void 0?se.UNKNOWN:kk(g.code);return new fe(y,g.message||"")})(u);t=new Rk(s,i,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=ca(n,s.document.name),l=Zt(s.document.updateTime),u=s.document.createTime?Zt(s.document.createTime):Se.min(),h=new Cn({mapValue:{fields:s.document.fields}}),f=kt.newFoundDocument(i,l,u,h),g=s.targetIds||[],y=s.removedTargetIds||[];t=new Op(g,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=ca(n,s.document),l=s.readTime?Zt(s.readTime):Se.min(),u=kt.newNoDocument(i,l),h=s.removedTargetIds||[];t=new Op([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=ca(n,s.document),l=s.removedTargetIds||[];t=new Op([],l,i,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:l}=s,u=new Vz(i,l),h=s.targetId;t=new Ck(h,u)}}return t}function ef(n,e){let t;if(e instanceof zu)t={update:u2(n,e.key,e.value)};else if(e instanceof Bu)t={delete:Zh(n,e.key)};else if(e instanceof ni)t={update:u2(n,e.key,e.data),updateMask:Xz(e.fieldMask)};else{if(!(e instanceof Xv))return we(16599,{dt:e.type});t={verify:Zh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const h=u.transform;if(h instanceof yu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof _l)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof jl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof bu)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw we(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(i,l){return l.updateTime!==void 0?{updateTime:$z(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)})(n,e.precondition)),t}function Ab(n,e){const t=e.currentDocument?(function(l){return l.updateTime!==void 0?Ot.updateTime(Zt(l.updateTime)):l.exists!==void 0?Ot.exists(l.exists):Ot.none()})(e.currentDocument):Ot.none(),s=e.updateTransforms?e.updateTransforms.map((i=>(function(u,h){let f=null;if("setToServerValue"in h)je(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new yu;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];f=new _l(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];f=new jl(y)}else"increment"in h?f=new bu(u,h.increment):we(16584,{proto:h});const g=Mt.fromServerFormat(h.fieldPath);return new Tf(g,f)})(n,i))):[];if(e.update){e.update.name;const i=ca(n,e.update.name),l=new Cn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(f){const g=f.fieldPaths||[];return new us(g.map((y=>Mt.fromServerFormat(y))))})(e.updateMask);return new ni(i,l,u,t,s)}return new zu(i,l,t,s)}if(e.delete){const i=ca(n,e.delete);return new Bu(i,t)}if(e.verify){const i=ca(n,e.verify);return new Xv(i,t)}return we(1463,{proto:e})}function Kz(n,e){return n&&n.length>0?(je(e!==void 0,14353),n.map((t=>(function(i,l){let u=i.updateTime?Zt(i.updateTime):Zt(l);return u.isEqual(Se.min())&&(u=Zt(l)),new Pz(u,i.transformResults||[])})(t,e)))):[]}function Uk(n,e){return{documents:[Mk(n,e.path)]}}function zk(n,e){const t={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Mk(n,i);const l=(function(g){if(g.length!==0)return qk(mt.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((y=>(function(v){return{field:zc(v.field),direction:Yz(v.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Tb(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:i}}function Bk(n){let e=Ok(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let i=null;if(s>0){je(s===1,65062);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(b){const v=Fk(b);return v instanceof mt&&Wv(v)?v.getFilters():[v]})(t.where));let u=[];t.orderBy&&(u=(function(b){return b.map((v=>(function(I){return new Xh(Bc(I.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(v)))})(t.orderBy));let h=null;t.limit&&(h=(function(b){let v;return v=typeof b=="object"?b.value:b,vf(v)?null:v})(t.limit));let f=null;t.startAt&&(f=(function(b){const v=!!b.before,k=b.values||[];return new io(k,v)})(t.startAt));let g=null;return t.endAt&&(g=(function(b){const v=!b.before,k=b.values||[];return new io(k,v)})(t.endAt)),fk(e,i,u,l,h,"F",f,g)}function Wz(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Fk(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Bc(t.unaryFilter.field);return tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Bc(t.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Bc(t.unaryFilter.field);return tt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Bc(t.unaryFilter.field);return tt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(n):n.fieldFilter!==void 0?(function(t){return tt.create(Bc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return mt.create(t.compositeFilter.filters.map((s=>Fk(s))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(t.compositeFilter.op))})(n):we(30097,{filter:n})}function Yz(n){return zz[n]}function Qz(n){return Bz[n]}function Jz(n){return Fz[n]}function zc(n){return{fieldPath:n.canonicalString()}}function Bc(n){return Mt.fromServerFormat(n.fieldPath)}function qk(n){return n instanceof tt?(function(t){if(t.op==="=="){if(WT(t.value))return{unaryFilter:{field:zc(t.field),op:"IS_NAN"}};if(KT(t.value))return{unaryFilter:{field:zc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(WT(t.value))return{unaryFilter:{field:zc(t.field),op:"IS_NOT_NAN"}};if(KT(t.value))return{unaryFilter:{field:zc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zc(t.field),op:Qz(t.op),value:t.value}}})(n):n instanceof mt?(function(t){const s=t.getFilters().map((i=>qk(i)));return s.length===1?s[0]:{compositeFilter:{op:Jz(t.op),filters:s}}})(n):we(54877,{filter:n})}function Xz(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function $k(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function Gk(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,t,s,i,l=Se.min(),u=Se.min(),h=Gt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new La(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.yt=e}}function Zz(n,e){let t;if(e.document)t=Lk(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=ye.fromSegments(e.noDocument.path),i=Tl(e.noDocument.readTime);t=kt.newNoDocument(s,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we(56709);{const s=ye.fromSegments(e.unknownDocument.path),i=Tl(e.unknownDocument.version);t=kt.newUnknownDocument(s,i)}}return e.readTime&&t.setReadTime((function(i){const l=new ut(i[0],i[1]);return Se.fromTimestamp(l)})(e.readTime)),t}function d2(n,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:sg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document=(function(l,u){return{name:Zh(l,u.key),fields:u.data.value.mapValue.fields,updateTime:vu(l,u.version.toTimestamp()),createTime:vu(l,u.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Nl(e.version)};else{if(!e.isUnknownDocument())return we(57904,{document:e});s.unknownDocument={path:t.path.toArray(),version:Nl(e.version)}}return s}function sg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Nl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Tl(n){const e=new ut(n.seconds,n.nanoseconds);return Se.fromTimestamp(e)}function Xo(n,e){const t=(e.baseMutations||[]).map((l=>Ab(n.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const u=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const h=e.mutations[l+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const s=e.mutations.map((l=>Ab(n.yt,l))),i=ut.fromMillis(e.localWriteTimeMs);return new Zv(e.batchId,i,t,s)}function ph(n){const e=Tl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Tl(n.lastLimboFreeSnapshotVersion):Se.min();let s;return s=(function(l){return l.documents!==void 0})(n.query)?(function(l){const u=l.documents.length;return je(u===1,1966,{count:u}),Jn(Uu(Ok(l.documents[0])))})(n.query):(function(l){return Jn(Bk(l))})(n.query),new La(s,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Gt.fromBase64String(n.resumeToken))}function Kk(n,e){const t=Nl(e.snapshotVersion),s=Nl(e.lastLimboFreeSnapshotVersion);let i;i=eg(e.target)?Uk(n.yt,e.target):zk(n.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wl(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:i}}function rw(n){const e=Bk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ng(e,e.limit,"L"):e}function Ry(n,e){return new tw(e.largestBatchId,Ab(n.yt,e.overlayMutation))}function h2(n,e){const t=e.path.lastSegment();return[n,Fn(e.path.popLast()),t]}function f2(n,e,t,s){return{indexId:n,uid:e,sequenceNumber:t,readTime:Nl(s.readTime),documentKey:Fn(s.documentKey.path),largestBatchId:s.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{getBundleMetadata(e,t){return m2(e).get(t).next((s=>{if(s)return(function(l){return{id:l.bundleId,createTime:Tl(l.createTime),version:l.version}})(s)}))}saveBundleMetadata(e,t){return m2(e).put((function(i){return{bundleId:i.id,createTime:Nl(Zt(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return p2(e).get(t).next((s=>{if(s)return(function(l){return{name:l.name,query:rw(l.bundledQuery),readTime:Tl(l.readTime)}})(s)}))}saveNamedQuery(e,t){return p2(e).put((function(i){return{name:i.name,readTime:Nl(Zt(i.readTime)),bundledQuery:i.bundledQuery}})(t))}}function m2(n){return gn(n,Mg)}function p2(n){return gn(n,Og)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const s=t.uid||"";return new qg(e,s)}getOverlay(e,t){return nh(e).get(h2(this.userId,t)).next((s=>s?Ry(this.serializer,s):null))}getOverlays(e,t){const s=ia();return Q.forEach(t,(i=>this.getOverlay(e,i).next((l=>{l!==null&&s.set(i,l)})))).next((()=>s))}saveOverlays(e,t,s){const i=[];return s.forEach(((l,u)=>{const h=new tw(t,u);i.push(this.bt(e,h))})),Q.waitFor(i)}removeOverlaysForBatchId(e,t,s){const i=new Set;t.forEach((u=>i.add(Fn(u.getCollectionPath()))));const l=[];return i.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,s],[this.userId,u,s+1],!1,!0);l.push(nh(e).X(gb,h))})),Q.waitFor(l)}getOverlaysForCollection(e,t,s){const i=ia(),l=Fn(t),u=IDBKeyRange.bound([this.userId,l,s],[this.userId,l,Number.POSITIVE_INFINITY],!0);return nh(e).H(gb,u).next((h=>{for(const f of h){const g=Ry(this.serializer,f);i.set(g.getKey(),g)}return i}))}getOverlaysForCollectionGroup(e,t,s,i){const l=ia();let u;const h=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return nh(e).ee({index:GA,range:h},((f,g,y)=>{const b=Ry(this.serializer,g);l.size()<i||b.largestBatchId===u?(l.set(b.getKey(),b),u=b.largestBatchId):y.done()})).next((()=>l))}bt(e,t){return nh(e).put((function(i,l,u){const[h,f,g]=h2(l,u.mutation.key);return{userId:l,collectionPath:f,documentId:g,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:ef(i.yt,u.mutation)}})(this.serializer,this.userId,t))}}function nh(n){return gn(n,Vg)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{St(e){return gn(e,$v)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const s=t==null?void 0:t.value;return s?Gt.fromUint8Array(s):Gt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Dt(e.integerValue));else if("doubleValue"in e){const s=Dt(e.doubleValue);isNaN(s)?this.Ft(t,13):(this.Ft(t,15),Gh(s)?t.Mt(0):t.Mt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Ft(t,20),typeof s=="string"&&(s=Ya(s)),t.xt(`${s.seconds||""}`),t.Mt(s.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Qa(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.Ft(t,45),t.Mt(s.latitude||0),t.Mt(s.longitude||0)}else"mapValue"in e?sk(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):zg(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):we(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const s=e.fields||{};this.Ft(t,55);for(const i of Object.keys(s))this.Ot(i,t),this.Ct(s[i],t)}kt(e,t){var u,h;const s=e.fields||{};this.Ft(t,53);const i=pu,l=((h=(u=s[i].arrayValue)==null?void 0:u.values)==null?void 0:h.length)||0;this.Ft(t,15),t.Mt(Dt(l)),this.Ot(i,t),this.Ct(s[i],t)}qt(e,t){const s=e.values||[];this.Ft(t,50);for(const i of s)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),ye.fromName(e).path.forEach((s=>{this.Ft(t,60),this.$t(s,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Zo.Wt=new Zo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=255;function nB(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function g2(n){const e=64-(function(s){let i=0;for(let l=0;l<8;++l){const u=nB(255&s[l]);if(i+=u,u!==8)break}return i})(n);return Math.ceil(e/8)}class sB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Gt(s.value),s=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ht(s.value),s=t.next();this.Jt()}Zt(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Gt(s);else if(s<2048)this.Gt(960|s>>>6),this.Gt(128|63&s);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s);else{const i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ht(s);else if(s<2048)this.Ht(960|s>>>6),this.Ht(128|63&s);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|s>>>12),this.Ht(128|63&s>>>6),this.Ht(128|63&s);else{const i=t.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const t=this.en(e),s=g2(t);this.tn(1+s),this.buffer[this.position++]=255&s;for(let i=t.length-s;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){const t=this.en(e),s=g2(t);this.tn(1+s),this.buffer[this.position++]=~(255&s);for(let i=t.length-s;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(Pc),this.sn(255)}_n(){this.an(Pc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)})(e),s=!!(128&t[0]);t[0]^=s?255:128;for(let i=1;i<t.length;++i)t[i]^=s?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Pc?(this.sn(Pc),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Pc?(this.an(Pc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const i=new Uint8Array(s);i.set(this.buffer),this.buffer=i}}class rB{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class aB{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class sh{constructor(){this.cn=new sB,this.ascending=new rB(this.cn),this.descending=new aB(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t,s,i){this.hn=e,this.Pn=t,this.Tn=s,this.In=i}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,s=new Uint8Array(t);return s.set(this.In,0),t!==e?s.set([0],this.In.length):++s[s.length-1],new el(this.hn,this.Pn,this.Tn,s)}Rn(e,t,s){return{indexId:this.hn,uid:e,arrayValue:Vp(this.Tn),directionalValue:Vp(this.In),orderedDocumentKey:Vp(t),documentKey:s.path.toArray()}}An(e,t,s){const i=this.Rn(e,t,s);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Vi(n,e){let t=n.hn-e.hn;return t!==0?t:(t=x2(n.Tn,e.Tn),t!==0?t:(t=x2(n.In,e.In),t!==0?t:ye.comparator(n.Pn,e.Pn)))}function x2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const s=n[t]-e[t];if(s!==0)return s}return n.length-e.length}function Vp(n){return lE()?(function(t){let s="";for(let i=0;i<t.length;i++)s+=String.fromCharCode(t[i]);return s})(n):n}function y2(n){return typeof n!="string"?n:(function(t){const s=new Uint8Array(t.length);for(let i=0;i<t.length;i++)s[i]=t.charCodeAt(i);return s})(n)}class b2{constructor(e){this.Vn=new pt(((t,s)=>Mt.comparator(t.field,s.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const s=t;s.isInequality()?this.Vn=this.Vn.add(s):this.mn.push(s)}}get fn(){return this.Vn.size>1}gn(e){if(je(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=fb(e);if(t!==void 0&&!this.pn(t))return!1;const s=Yo(e);let i=new Set,l=0,u=0;for(;l<s.length&&this.pn(s[l]);++l)i=i.add(s[l].fieldPath.canonicalString());if(l===s.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!i.has(h.field.canonicalString())){const f=s[l];if(!this.yn(h,f)||!this.wn(this.dn[u++],f))return!1}++l}for(;l<s.length;++l){const h=s[l];if(u>=this.dn.length||!this.wn(this.dn[u++],h))return!1}return!0}bn(){if(this.fn)return null;let e=new pt(Mt.comparator);const t=[];for(const s of this.mn)if(!s.field.isKeyField())if(s.op==="array-contains"||s.op==="array-contains-any")t.push(new kp(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),t.push(new kp(s.field,0))}for(const s of this.dn)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),t.push(new kp(s.field,s.dir==="asc"?0:1)));return new Qp(Qp.UNKNOWN_ID,this.collectionId,t,$h.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const s=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===s}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(n){var t,s;if(je(n instanceof tt||n instanceof mt,20012),n instanceof tt){if(n instanceof hk){const i=((s=(t=n.value.arrayValue)==null?void 0:t.values)==null?void 0:s.map((l=>tt.create(n.field,"==",l))))||[];return mt.create(i,"or")}return n}const e=n.filters.map((i=>Wk(i)));return mt.create(e,n.op)}function iB(n){if(n.getFilters().length===0)return[];const e=Cb(Wk(n));return je(Yk(e),7391),kb(e)||Ib(e)?[e]:e.getFilters()}function kb(n){return n instanceof tt}function Ib(n){return n instanceof mt&&Wv(n)}function Yk(n){return kb(n)||Ib(n)||(function(t){if(t instanceof mt&&wb(t)){for(const s of t.getFilters())if(!kb(s)&&!Ib(s))return!1;return!0}return!1})(n)}function Cb(n){if(je(n instanceof tt||n instanceof mt,34018),n instanceof tt)return n;if(n.filters.length===1)return Cb(n.filters[0]);const e=n.filters.map((s=>Cb(s)));let t=mt.create(e,n.op);return t=rg(t),Yk(t)?t:(je(t instanceof mt,64498),je(xu(t),40251),je(t.filters.length>1,57927),t.filters.reduce(((s,i)=>aw(s,i))))}function aw(n,e){let t;return je(n instanceof tt||n instanceof mt,38388),je(e instanceof tt||e instanceof mt,25473),t=n instanceof tt?e instanceof tt?(function(i,l){return mt.create([i,l],"and")})(n,e):v2(n,e):e instanceof tt?v2(e,n):(function(i,l){if(je(i.filters.length>0&&l.filters.length>0,48005),xu(i)&&xu(l))return ck(i,l.getFilters());const u=wb(i)?i:l,h=wb(i)?l:i,f=u.filters.map((g=>aw(g,h)));return mt.create(f,"or")})(n,e),rg(t)}function v2(n,e){if(xu(e))return ck(e,n.getFilters());{const t=e.filters.map((s=>aw(n,s)));return mt.create(t,"or")}}function rg(n){if(je(n instanceof tt||n instanceof mt,11850),n instanceof tt)return n;const e=n.getFilters();if(e.length===1)return rg(e[0]);if(ok(n))return n;const t=e.map((i=>rg(i))),s=[];return t.forEach((i=>{i instanceof tt?s.push(i):i instanceof mt&&(i.op===n.op?s.push(...i.filters):s.push(i))})),s.length===1?s[0]:mt.create(s,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(){this.Sn=new iw}addToCollectionParentIndex(e,t){return this.Sn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(ks.min())}updateCollectionGroup(e,t,s){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class iw{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),i=this.index[t]||new pt(Je.comparator),l=!i.has(s);return this.index[t]=i.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),i=this.index[t];return i&&i.has(s)}getEntries(e){return(this.index[e]||new pt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="IndexedDbIndexManager",mp=new Uint8Array(0);class lB{constructor(e,t){this.databaseId=t,this.Dn=new iw,this.Cn=new ti((s=>wl(s)),((s,i)=>_f(s,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const s=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const l={collectionId:s,parent:Fn(i)};return _2(e).put(l)}return Q.resolve()}getCollectionParents(e,t){const s=[],i=IDBKeyRange.bound([t,""],[IA(t),""],!1,!0);return _2(e).H(i).next((l=>{for(const u of l){if(u.collectionId!==t)break;s.push(aa(u.parent))}return s}))}addFieldIndex(e,t){const s=rh(e),i=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(t);delete i.indexId;const l=s.add(i);if(t.indexState){const u=Oc(e);return l.next((h=>{u.put(f2(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return l.next()}deleteFieldIndex(e,t){const s=rh(e),i=Oc(e),l=Mc(e);return s.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=rh(e),s=Mc(e),i=Oc(e);return t.X().next((()=>s.X())).next((()=>i.X()))}createTargetIndexes(e,t){return Q.forEach(this.vn(t),(s=>this.getIndexType(e,s).next((i=>{if(i===0||i===1){const l=new b2(s).bn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,t){const s=Mc(e);let i=!0;const l=new Map;return Q.forEach(this.vn(t),(u=>this.Fn(e,u).next((h=>{i&&(i=!!h),l.set(u,h)})))).next((()=>{if(i){let u=$e();const h=[];return Q.forEach(l,((f,g)=>{me(w2,`Using index ${(function(z){return`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map((le=>`${le.fieldPath}:${le.kind}`)).join(",")}`})(f)} to execute ${wl(t)}`);const y=(function(z,le){const L=fb(le);if(L===void 0)return null;for(const H of tg(z,L.fieldPath))switch(H.op){case"array-contains-any":return H.value.arrayValue.values||[];case"array-contains":return[H.value]}return null})(g,f),b=(function(z,le){const L=new Map;for(const H of Yo(le))for(const T of tg(z,H.fieldPath))switch(T.op){case"==":case"in":L.set(H.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return L.set(H.fieldPath.canonicalString(),T.value),Array.from(L.values())}return null})(g,f),v=(function(z,le){const L=[];let H=!0;for(const T of Yo(le)){const N=T.kind===0?ZT(z,T.fieldPath,z.startAt):e2(z,T.fieldPath,z.startAt);L.push(N.value),H&&(H=N.inclusive)}return new io(L,H)})(g,f),k=(function(z,le){const L=[];let H=!0;for(const T of Yo(le)){const N=T.kind===0?e2(z,T.fieldPath,z.endAt):ZT(z,T.fieldPath,z.endAt);L.push(N.value),H&&(H=N.inclusive)}return new io(L,H)})(g,f),I=this.Mn(f,g,v),R=this.Mn(f,g,k),D=this.xn(f,g,b),P=this.On(f.indexId,y,I,v.inclusive,R,k.inclusive,D);return Q.forEach(P,(M=>s.Z(M,t.limit).next((z=>{z.forEach((le=>{const L=ye.fromSegments(le.documentKey);u.has(L)||(u=u.add(L),h.push(L))}))}))))})).next((()=>h))}return Q.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=iB(mt.create(e.filters,"and")).map((s=>jb(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,s,i,l,u,h){const f=(t!=null?t.length:1)*Math.max(s.length,l.length),g=f/(t!=null?t.length:1),y=[];for(let b=0;b<f;++b){const v=t?this.Nn(t[b/g]):mp,k=this.Bn(e,v,s[b%g],i),I=this.Ln(e,v,l[b%g],u),R=h.map((D=>this.Bn(e,v,D,!0)));y.push(...this.createRange(k,I,R))}return y}Bn(e,t,s,i){const l=new el(e,ye.empty(),t,s);return i?l:l.En()}Ln(e,t,s,i){const l=new el(e,ye.empty(),t,s);return i?l.En():l}Fn(e,t){const s=new b2(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((l=>{let u=null;for(const h of l)s.gn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(e,t){let s=2;const i=this.vn(t);return Q.forEach(i,(l=>this.Fn(e,l).next((u=>{u?s!==0&&u.fields.length<(function(f){let g=new pt(Mt.comparator),y=!1;for(const b of f.filters)for(const v of b.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?y=!0:g=g.add(v.field));for(const b of f.orderBy)b.field.isKeyField()||(g=g.add(b.field));return g.size+(y?1:0)})(l)&&(s=1):s=0})))).next((()=>(function(u){return u.limit!==null})(t)&&i.length>1&&s===2?1:s))}kn(e,t){const s=new sh;for(const i of Yo(e)){const l=t.data.field(i.fieldPath);if(l==null)return null;const u=s.ln(i.kind);Zo.Wt.Dt(l,u)}return s.un()}Nn(e){const t=new sh;return Zo.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const s=new sh;return Zo.Wt.Dt(vl(this.databaseId,t),s.ln((function(l){const u=Yo(l);return u.length===0?0:u[u.length-1].kind})(e))),s.un()}xn(e,t,s){if(s===null)return[];let i=[];i.push(new sh);let l=0;for(const u of Yo(e)){const h=s[l++];for(const f of i)if(this.qn(t,u.fieldPath)&&Jh(h))i=this.Un(i,u,h);else{const g=f.ln(u.kind);Zo.Wt.Dt(h,g)}}return this.$n(i)}Mn(e,t,s){return this.xn(e,t,s.position)}$n(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].un();return t}Un(e,t,s){const i=[...e],l=[];for(const u of s.arrayValue.values||[])for(const h of i){const f=new sh;f.seed(h.un()),Zo.Wt.Dt(u,f.ln(t.kind)),l.push(f)}return l}qn(e,t){return!!e.filters.find((s=>s instanceof tt&&s.field.isEqual(t)&&(s.op==="in"||s.op==="not-in")))}getFieldIndexes(e,t){const s=rh(e),i=Oc(e);return(t?s.H(pb,IDBKeyRange.bound(t,t)):s.H()).next((l=>{const u=[];return Q.forEach(l,(h=>i.get([h.indexId,this.uid]).next((f=>{u.push((function(y,b){const v=b?new $h(b.sequenceNumber,new ks(Tl(b.readTime),new ye(aa(b.documentKey)),b.largestBatchId)):$h.empty(),k=y.fields.map((([I,R])=>new kp(Mt.fromServerFormat(I),R)));return new Qp(y.indexId,y.collectionGroup,k,v)})(h,f))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((s,i)=>{const l=s.indexState.sequenceNumber-i.indexState.sequenceNumber;return l!==0?l:Oe(s.collectionGroup,i.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,s){const i=rh(e),l=Oc(e);return this.Wn(e).next((u=>i.H(pb,IDBKeyRange.bound(t,t)).next((h=>Q.forEach(h,(f=>l.put(f2(f.indexId,this.uid,u,s))))))))}updateIndexEntries(e,t){const s=new Map;return Q.forEach(t,((i,l)=>{const u=s.get(i.collectionGroup);return(u?Q.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next((h=>(s.set(i.collectionGroup,h),Q.forEach(h,(f=>this.Qn(e,i,f).next((g=>{const y=this.Gn(l,f);return g.isEqual(y)?Q.resolve():this.zn(e,l,f,g,y)})))))))}))}jn(e,t,s,i){return Mc(e).put(i.Rn(this.uid,this.Kn(s,t.key),t.key))}Hn(e,t,s,i){return Mc(e).delete(i.An(this.uid,this.Kn(s,t.key),t.key))}Qn(e,t,s){const i=Mc(e);let l=new pt(Vi);return i.ee({index:$A,range:IDBKeyRange.only([s.indexId,this.uid,Vp(this.Kn(s,t))])},((u,h)=>{l=l.add(new el(s.indexId,t,y2(h.arrayValue),y2(h.directionalValue)))})).next((()=>l))}Gn(e,t){let s=new pt(Vi);const i=this.kn(t,e);if(i==null)return s;const l=fb(t);if(l!=null){const u=e.data.field(l.fieldPath);if(Jh(u))for(const h of u.arrayValue.values||[])s=s.add(new el(t.indexId,e.key,this.Nn(h),i))}else s=s.add(new el(t.indexId,e.key,mp,i));return s}zn(e,t,s,i,l){me(w2,"Updating index entries for document '%s'",t.key);const u=[];return(function(f,g,y,b,v){const k=f.getIterator(),I=g.getIterator();let R=Dc(k),D=Dc(I);for(;R||D;){let P=!1,M=!1;if(R&&D){const z=y(R,D);z<0?M=!0:z>0&&(P=!0)}else R!=null?M=!0:P=!0;P?(b(D),D=Dc(I)):M?(v(R),R=Dc(k)):(R=Dc(k),D=Dc(I))}})(i,l,Vi,(h=>{u.push(this.jn(e,t,s,h))}),(h=>{u.push(this.Hn(e,t,s,h))})),Q.waitFor(u)}Wn(e){let t=1;return Oc(e).ee({index:qA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((s,i,l)=>{l.done(),t=i.sequenceNumber+1})).next((()=>t))}createRange(e,t,s){s=s.sort(((u,h)=>Vi(u,h))).filter(((u,h,f)=>!h||Vi(u,f[h-1])!==0));const i=[];i.push(e);for(const u of s){const h=Vi(u,e),f=Vi(u,t);if(h===0)i[0]=e.En();else if(h>0&&f<0)i.push(u),i.push(u.En());else if(f>0)break}i.push(t);const l=[];for(let u=0;u<i.length;u+=2){if(this.Jn(i[u],i[u+1]))return[];const h=i[u].An(this.uid,mp,ye.empty()),f=i[u+1].An(this.uid,mp,ye.empty());l.push(IDBKeyRange.bound(h,f))}return l}Jn(e,t){return Vi(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(j2)}getMinOffset(e,t){return Q.mapArray(this.vn(t),(s=>this.Fn(e,s).next((i=>i||we(44426))))).next(j2)}}function _2(n){return gn(n,Wh)}function Mc(n){return gn(n,Eh)}function rh(n){return gn(n,qv)}function Oc(n){return gn(n,Sh)}function j2(n){je(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<n.length;s++){const i=n[s].indexState.offset;zv(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ks(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qk=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(n,e,t){const s=n.store(xr),i=n.store(du),l=[],u=IDBKeyRange.only(t.batchId);let h=0;const f=s.ee({range:u},((y,b,v)=>(h++,v.delete())));l.push(f.next((()=>{je(h===1,47070,{batchId:t.batchId})})));const g=[];for(const y of t.mutations){const b=zA(e,y.key.path,t.batchId);l.push(i.delete(b)),g.push(y.key)}return Q.waitFor(l).next((()=>g))}function ag(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(Qk,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);class $g{constructor(e,t,s,i){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=i,this.Zn={}}static wt(e,t,s,i){je(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new $g(l,t,s,i)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Li(e).ee({index:sl,range:s},((i,l,u)=>{t=!1,u.done()})).next((()=>t))}addMutationBatch(e,t,s,i){const l=Fc(e),u=Li(e);return u.add({}).next((h=>{je(typeof h=="number",49019);const f=new Zv(h,t,s,i),g=(function(k,I,R){const D=R.baseMutations.map((M=>ef(k.yt,M))),P=R.mutations.map((M=>ef(k.yt,M)));return{userId:I,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:D,mutations:P}})(this.serializer,this.userId,f),y=[];let b=new pt(((v,k)=>Oe(v.canonicalString(),k.canonicalString())));for(const v of i){const k=zA(this.userId,v.key.path,h);b=b.add(v.key.path.popLast()),y.push(u.put(g)),y.push(l.put(k,VU))}return b.forEach((v=>{y.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Zn[h]=f.keys()})),Q.waitFor(y).next((()=>f))}))}lookupMutationBatch(e,t){return Li(e).get(t).next((s=>s?(je(s.userId===this.userId,48,"Unexpected user for mutation batch",{userId:s.userId,batchId:t}),Xo(this.serializer,s)):null))}Xn(e,t){return this.Zn[t]?Q.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((s=>{if(s){const i=s.keys();return this.Zn[t]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,i=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return Li(e).ee({index:sl,range:i},((u,h,f)=>{h.userId===this.userId&&(je(h.batchId>=s,47524,{Yn:s}),l=Xo(this.serializer,h)),f.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=Yi;return Li(e).ee({index:sl,range:t,reverse:!0},((i,l,u)=>{s=l.batchId,u.done()})).next((()=>s))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Yi],[this.userId,Number.POSITIVE_INFINITY]);return Li(e).H(sl,t).next((s=>s.map((i=>Xo(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Ip(this.userId,t.path),i=IDBKeyRange.lowerBound(s),l=[];return Fc(e).ee({range:i},((u,h,f)=>{const[g,y,b]=u,v=aa(y);if(g===this.userId&&t.path.isEqual(v))return Li(e).get(b).next((k=>{if(!k)throw we(61480,{er:u,batchId:b});je(k.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:k.userId,batchId:b}),l.push(Xo(this.serializer,k))}));f.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new pt(Oe);const i=[];return t.forEach((l=>{const u=Ip(this.userId,l.path),h=IDBKeyRange.lowerBound(u),f=Fc(e).ee({range:h},((g,y,b)=>{const[v,k,I]=g,R=aa(k);v===this.userId&&l.path.isEqual(R)?s=s.add(I):b.done()}));i.push(f)})),Q.waitFor(i).next((()=>this.tr(e,s)))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,i=s.length+1,l=Ip(this.userId,s),u=IDBKeyRange.lowerBound(l);let h=new pt(Oe);return Fc(e).ee({range:u},((f,g,y)=>{const[b,v,k]=f,I=aa(v);b===this.userId&&s.isPrefixOf(I)?I.length===i&&(h=h.add(k)):y.done()})).next((()=>this.tr(e,h)))}tr(e,t){const s=[],i=[];return t.forEach((l=>{i.push(Li(e).get(l).next((u=>{if(u===null)throw we(35274,{batchId:l});je(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:l}),s.push(Xo(this.serializer,u))})))})),Q.waitFor(i).next((()=>s))}removeMutationBatch(e,t){return Jk(e.le,this.userId,t).next((s=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),Q.forEach(s,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Q.resolve();const s=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),i=[];return Fc(e).ee({range:s},((l,u,h)=>{if(l[0]===this.userId){const f=aa(l[1]);i.push(f)}else h.done()})).next((()=>{je(i.length===0,56720,{rr:i.map((l=>l.canonicalString()))})}))}))}containsKey(e,t){return Xk(e,this.userId,t)}ir(e){return Zk(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Yi,lastStreamToken:""}))}}function Xk(n,e,t){const s=Ip(e,t.path),i=s[1],l=IDBKeyRange.lowerBound(s);let u=!1;return Fc(n).ee({range:l,Y:!0},((h,f,g)=>{const[y,b,v]=h;y===e&&b===i&&(u=!0),g.done()})).next((()=>u))}function Li(n){return gn(n,xr)}function Fc(n){return gn(n,du)}function Zk(n){return gn(n,Hh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Sl(0)}static ar(){return new Sl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const s=new Sl(t.highestTargetId);return t.highestTargetId=s.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>Se.fromTimestamp(new ut(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,s){return this.ur(e).next((i=>(i.highestListenSequenceNumber=t,s&&(i.lastRemoteSnapshotVersion=s.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.cr(e,i))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((s=>(s.targetCount+=1,this.hr(t,s),this.cr(e,s))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Vc(e).delete(t.targetId))).next((()=>this.ur(e))).next((s=>(je(s.targetCount>0,8065),s.targetCount-=1,this.cr(e,s))))}removeTargets(e,t,s){let i=0;const l=[];return Vc(e).ee(((u,h)=>{const f=ph(h);f.sequenceNumber<=t&&s.get(f.targetId)===null&&(i++,l.push(this.removeTargetData(e,f)))})).next((()=>Q.waitFor(l))).next((()=>i))}forEachTarget(e,t){return Vc(e).ee(((s,i)=>{const l=ph(i);t(l)}))}ur(e){return T2(e).get(Zp).next((t=>(je(t!==null,2888),t)))}cr(e,t){return T2(e).put(Zp,t)}lr(e,t){return Vc(e).put(Kk(this.serializer,t))}hr(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const s=wl(t),i=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return Vc(e).ee({range:i,index:FA},((u,h,f)=>{const g=ph(h);_f(t,g.target)&&(l=g,f.done())})).next((()=>l))}addMatchingKeys(e,t,s){const i=[],l=Bi(e);return t.forEach((u=>{const h=Fn(u.path);i.push(l.put({targetId:s,path:h})),i.push(this.referenceDelegate.addReference(e,s,u))})),Q.waitFor(i)}removeMatchingKeys(e,t,s){const i=Bi(e);return Q.forEach(t,(l=>{const u=Fn(l.path);return Q.waitFor([i.delete([s,u]),this.referenceDelegate.removeReference(e,s,l)])}))}removeMatchingKeysForTargetId(e,t){const s=Bi(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(i)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),i=Bi(e);let l=$e();return i.ee({range:s,Y:!0},((u,h,f)=>{const g=aa(u[1]),y=new ye(g);l=l.add(y)})).next((()=>l))}containsKey(e,t){const s=Fn(t.path),i=IDBKeyRange.bound([s],[IA(s)],!1,!0);let l=0;return Bi(e).ee({index:Fv,Y:!0,range:i},(([u,h],f,g)=>{u!==0&&(l++,g.done())})).next((()=>l>0))}At(e,t){return Vc(e).get(t).next((s=>s?ph(s):null))}}function Vc(n){return gn(n,hu)}function T2(n){return gn(n,ul)}function Bi(n){return gn(n,fu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="LruGarbageCollector",uB=1048576;function E2([n,e],[t,s]){const i=Oe(n,t);return i===0?Oe(e,s):i}class dB{constructor(e){this.Pr=e,this.buffer=new pt(E2),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();E2(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eI{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(S2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){mo(t)?me(S2,"Ignoring IndexedDB error during garbage collection: ",t):await fo(t)}await this.Ar(3e5)}))}}class hB{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(cs.ce);const s=new dB(t);return this.Vr.forEachTarget(e,(i=>s.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>s.Er(i))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(N2)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N2):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,i,l,u,h,f,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,u=Date.now(),this.nthSequenceNumber(e,i)))).next((b=>(s=b,h=Date.now(),this.removeTargets(e,s,t)))).next((b=>(l=b,f=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),Lc()<=Qe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(g-f)+`ms
Total Duration: ${g-y}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:b}))))}}function tI(n,e){return new hB(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,t){this.db=e,this.garbageCollector=tI(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((s=>t.next((i=>s+i))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((s,i)=>t(i)))}addReference(e,t,s){return pp(e,s)}removeReference(e,t,s){return pp(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return pp(e,t)}wr(e,t){return(function(i,l){let u=!1;return Zk(i).te((h=>Xk(i,h,l).next((f=>(f&&(u=!0),Q.resolve(!f)))))).next((()=>u))})(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.yr(e,((u,h)=>{if(h<=t){const f=this.wr(e,u).next((g=>{if(!g)return l++,s.getEntry(e,u).next((()=>(s.removeEntry(u,Se.min()),Bi(e).delete((function(b){return[0,Fn(b.path)]})(u)))))}));i.push(f)}})).next((()=>Q.waitFor(i))).next((()=>s.apply(e))).next((()=>l))}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return pp(e,t)}yr(e,t){const s=Bi(e);let i,l=cs.ce;return s.ee({index:Fv},(([u,h],{path:f,sequenceNumber:g})=>{u===0?(l!==cs.ce&&t(new ye(aa(i)),l),l=g,i=f):l=cs.ce})).next((()=>{l!==cs.ce&&t(new ye(aa(i)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pp(n,e){return Bi(n).put((function(s,i){return{targetId:0,path:Fn(s.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.changes=new ti((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Q.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Ko(e).put(s)}removeEntry(e,t,s){return Ko(e).delete((function(l,u){const h=l.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],sg(u),h[h.length-1]]})(t,s))}updateMetadata(e,t){return this.getMetadata(e).next((s=>(s.byteSize+=t,this.br(e,s))))}getEntry(e,t){let s=kt.newInvalidDocument(t);return Ko(e).ee({index:Cp,range:IDBKeyRange.only(ah(t))},((i,l)=>{s=this.Sr(t,l)})).next((()=>s))}Dr(e,t){let s={size:0,document:kt.newInvalidDocument(t)};return Ko(e).ee({index:Cp,range:IDBKeyRange.only(ah(t))},((i,l)=>{s={document:this.Sr(t,l),size:ag(l)}})).next((()=>s))}getEntries(e,t){let s=ds();return this.Cr(e,t,((i,l)=>{const u=this.Sr(i,l);s=s.insert(i,u)})).next((()=>s))}vr(e,t){let s=ds(),i=new Nt(ye.comparator);return this.Cr(e,t,((l,u)=>{const h=this.Sr(l,u);s=s.insert(l,h),i=i.insert(l,ag(u))})).next((()=>({documents:s,Fr:i})))}Cr(e,t,s){if(t.isEmpty())return Q.resolve();let i=new pt(I2);t.forEach((f=>i=i.add(f)));const l=IDBKeyRange.bound(ah(i.first()),ah(i.last())),u=i.getIterator();let h=u.getNext();return Ko(e).ee({index:Cp,range:l},((f,g,y)=>{const b=ye.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;h&&I2(h,b)<0;)s(h,null),h=u.getNext();h&&h.isEqual(b)&&(s(h,g),h=u.hasNext()?u.getNext():null),h?y.j(ah(h)):y.done()})).next((()=>{for(;h;)s(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,t,s,i,l){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),sg(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ko(e).H(IDBKeyRange.bound(h,f,!0)).next((g=>{l==null||l.incrementDocumentReadCount(g.length);let y=ds();for(const b of g){const v=this.Sr(ye.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);v.isFoundDocument()&&(Nf(t,v)||i.has(v.key))&&(y=y.insert(v.key,v))}return y}))}getAllFromCollectionGroup(e,t,s,i){let l=ds();const u=k2(t,s),h=k2(t,ks.max());return Ko(e).ee({index:BA,range:IDBKeyRange.bound(u,h,!0)},((f,g,y)=>{const b=this.Sr(ye.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);l=l.insert(b.key,b),l.size===i&&y.done()})).next((()=>l))}newChangeBuffer(e){return new pB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return A2(e).get(mb).next((t=>(je(!!t,20021),t)))}br(e,t){return A2(e).put(mb,t)}Sr(e,t){if(t){const s=Zz(this.serializer,t);if(!(s.isNoDocument()&&s.version.isEqual(Se.min())))return s}return kt.newInvalidDocument(e)}}function sI(n){return new mB(n)}class pB extends nI{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new ti((s=>s.toString()),((s,i)=>s.isEqual(i)))}applyChanges(e){const t=[];let s=0,i=new pt(((l,u)=>Oe(l.canonicalString(),u.canonicalString())));return this.changes.forEach(((l,u)=>{const h=this.Or.get(l);if(t.push(this.Mr.removeEntry(e,l,h.readTime)),u.isValidDocument()){const f=d2(this.Mr.serializer,u);i=i.add(l.path.popLast());const g=ag(f);s+=g-h.size,t.push(this.Mr.addEntry(e,l,f))}else if(s-=h.size,this.trackRemovals){const f=d2(this.Mr.serializer,u.convertToNoDocument(Se.min()));t.push(this.Mr.addEntry(e,l,f))}})),i.forEach((l=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,l))})),t.push(this.Mr.updateMetadata(e,s)),Q.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((s=>(this.Or.set(t,{size:s.size,readTime:s.document.readTime}),s.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:s,Fr:i})=>(i.forEach(((l,u)=>{this.Or.set(l,{size:u,readTime:s.get(l).readTime})})),s)))}}function A2(n){return gn(n,Kh)}function Ko(n){return gn(n,Xp)}function ah(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function k2(n,e){const t=e.documentKey.path.toArray();return[n,sg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function I2(n,e){const t=n.path.toArray(),s=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<s.length-2;++l)if(i=Oe(t[l],s[l]),i)return i;return i=Oe(t.length,s.length),i||(i=Oe(t[t.length-2],s[s.length-2]),i||Oe(t[t.length-1],s[s.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t,s,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(s=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(s!==null&&Ih(s.mutation,i,us.empty(),ut.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,$e()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=$e()){const i=ia();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,s).next((l=>{let u=fh();return l.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=ia();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,$e())))}populateOverlays(e,t,s){const i=[];return s.forEach((l=>{t.has(l)||i.push(l)})),this.documentOverlayCache.getOverlays(e,i).next((l=>{l.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,s,i){let l=ds();const u=kh(),h=(function(){return kh()})();return t.forEach(((f,g)=>{const y=s.get(g.key);i.has(g.key)&&(y===void 0||y.mutation instanceof ni)?l=l.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),Ih(y.mutation,g,y.mutation.getFieldMask(),ut.now())):u.set(g.key,us.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((g,y)=>u.set(g,y))),t.forEach(((g,y)=>h.set(g,new gB(y,u.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,t){const s=kh();let i=new Nt(((u,h)=>u-h)),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const g=t.get(f);if(g===null)return;let y=s.get(f)||us.empty();y=h.applyToLocalView(g,y),s.set(f,y);const b=(i.get(h.batchId)||$e()).add(f);i=i.insert(h.batchId,b)}))})).next((()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,y=f.value,b=bk();y.forEach((v=>{if(!l.has(v)){const k=Sk(t.get(v),s.get(v));k!==null&&b.set(v,k),l=l.add(v)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,b))}return Q.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,i){return wz(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,i):this.getDocumentsMatchingCollectionQuery(e,t,s,i)}getNextDocuments(e,t,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,i).next((l=>{const u=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,i-l.size):Q.resolve(ia());let h=uu,f=l;return u.next((g=>Q.forEach(g,((y,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(y)?Q.resolve():this.remoteDocumentCache.getEntry(e,y).next((v=>{f=f.insert(y,v)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,f,g,$e()))).next((y=>({batchId:h,changes:yk(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((s=>{let i=fh();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,i){const l=t.collectionGroup;let u=fh();return this.indexManager.getCollectionParents(e,l).next((h=>Q.forEach(h,(f=>{const g=(function(b,v){return new ei(v,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,i).next((y=>{y.forEach(((b,v)=>{u=u.insert(b,v)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,i)))).next((u=>{l.forEach(((f,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,kt.newInvalidDocument(y)))}));let h=fh();return u.forEach(((f,g)=>{const y=l.get(f);y!==void 0&&Ih(y.mutation,g,us.empty(),ut.now()),Nf(t,g)&&(h=h.insert(f,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Q.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Zt(i.createTime)}})(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(i){return{name:i.name,query:rw(i.bundledQuery),readTime:Zt(i.readTime)}})(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(){this.overlays=new Nt(ye.comparator),this.Lr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ia();return Q.forEach(t,(i=>this.getOverlay(e,i).next((l=>{l!==null&&s.set(i,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((i,l)=>{this.bt(e,t,l)})),Q.resolve()}removeOverlaysForBatchId(e,t,s){const i=this.Lr.get(s);return i!==void 0&&(i.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),Q.resolve()}getOverlaysForCollection(e,t,s){const i=ia(),l=t.length+1,u=new ye(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&f.largestBatchId>s&&i.set(f.getKey(),f)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,t,s,i){let l=new Nt(((g,y)=>g-y));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=ia(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const h=ia(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((g,y)=>h.set(g,y))),!(h.size()>=i)););return Q.resolve(h)}bt(e,t,s){const i=this.overlays.get(s.key);if(i!==null){const u=this.Lr.get(i.largestBatchId).delete(s.key);this.Lr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new tw(t,s));let l=this.Lr.get(t);l===void 0&&(l=$e(),this.Lr.set(t,l)),this.Lr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.kr=new pt(vn.Kr),this.qr=new pt(vn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new vn(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new vn(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new ye(new Je([])),s=new vn(t,e),i=new vn(t,e+1),l=[];return this.qr.forEachInRange([s,i],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ye(new Je([])),s=new vn(t,e),i=new vn(t,e+1);let l=$e();return this.qr.forEachInRange([s,i],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new vn(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class vn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ye.comparator(e.key,t.key)||Oe(e.Hr,t.Hr)}static Ur(e,t){return Oe(e.Hr,t.Hr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new pt(vn.Kr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,i){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Zv(l,t,s,i);this.mutationQueue.push(u);for(const h of i)this.Jr=this.Jr.add(new vn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Q.resolve(u)}lookupMutationBatch(e,t){return Q.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,i=this.Xr(s),l=i<0?0:i;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Yi:this.Yn-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new vn(t,0),i=new vn(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,i],(u=>{const h=this.Zr(u.Hr);l.push(h)})),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new pt(Oe);return t.forEach((i=>{const l=new vn(i,0),u=new vn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(h=>{s=s.add(h.Hr)}))})),Q.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,i=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const u=new vn(new ye(l),0);let h=new pt(Oe);return this.Jr.forEachWhile((f=>{const g=f.key.path;return!!s.isPrefixOf(g)&&(g.length===i&&(h=h.add(f.Hr)),!0)}),u),Q.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((s=>{const i=this.Zr(s);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){je(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Q.forEach(t.mutations,(i=>{const l=new vn(i.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new vn(t,0),i=this.Jr.firstAfterOrEqual(s);return Q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e){this.ti=e,this.docs=(function(){return new Nt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,i=this.docs.get(s),l=i?i.size:0,u=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Q.resolve(s?s.document.mutableCopy():kt.newInvalidDocument(t))}getEntries(e,t){let s=ds();return t.forEach((i=>{const l=this.docs.get(i);s=s.insert(i,l?l.document.mutableCopy():kt.newInvalidDocument(i))})),Q.resolve(s)}getDocumentsMatchingQuery(e,t,s,i){let l=ds();const u=t.path,h=new ye(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:y}}=f.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||zv(MA(y),s)<=0||(i.has(y.key)||Nf(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,s,i){we(9500)}ni(e,t){return Q.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new _B(this)}getSize(e){return Q.resolve(this.size)}}class _B extends nI{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,i)=>{i.isValidDocument()?t.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(s)})),Q.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.persistence=e,this.ri=new ti((t=>wl(t)),_f),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new ow,this.targetCount=0,this.oi=Sl._r()}forEachTarget(e,t){return this.ri.forEach(((s,i)=>t(i))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),Q.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Sl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.lr(t),Q.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,s){let i=0;const l=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=t&&s.get(h.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),Q.waitFor(l).next((()=>i))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return Q.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),Q.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach((u=>{l.push(i.markPotentiallyOrphaned(e,u))})),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return Q.resolve(s)}containsKey(e,t){return Q.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,t){this._i={},this.overlays={},this.ai=new cs(0),this.ui=!1,this.ui=!0,this.ci=new bB,this.referenceDelegate=e(this),this.li=new jB(this),this.indexManager=new oB,this.remoteDocumentCache=(function(i){return new wB(i)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Hk(t),this.Pi=new xB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new vB(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){me("MemoryPersistence","Starting transaction:",e);const i=new NB(this.ai.next());return this.referenceDelegate.Ti(),s(i).next((l=>this.referenceDelegate.Ii(i).next((()=>l)))).toPromise().then((l=>(i.raiseOnCommittedEvent(),l)))}Ei(e,t){return Q.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class NB extends VA{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.Ri=new ow,this.Ai=null}static Vi(e){return new Gg(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),Q.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((i=>this.di.add(i.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.di,(s=>{const i=ye.fromPath(s);return this.mi(e,i).next((l=>{l||t.removeEntry(i,Se.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Q.or([()=>Q.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class ig{constructor(e,t){this.persistence=e,this.fi=new ti((s=>Fn(s.path)),((s,i)=>s.isEqual(i))),this.garbageCollector=tI(this,t)}static Vi(e,t){return new ig(e,t)}Ti(){}Ii(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((i=>s+i))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return Q.forEach(this.fi,((s,i)=>this.wr(e,s,i).next((l=>l?Q.resolve():t(i)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const i=this.persistence.getRemoteDocumentCache(),l=i.newChangeBuffer();return i.ni(e,(u=>this.wr(e,u,t).next((h=>{h||(s++,l.removeEntry(u,Se.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Q.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dp(e.data.value)),t}wr(e,t,s){return Q.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.fi.get(t);return Q.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e){this.serializer=e}k(e,t,s,i){const l=new Pg("createOrUpgrade",t);s<1&&i>=1&&((function(f){f.createObjectStore(wf)})(e),(function(f){f.createObjectStore(Hh,{keyPath:OU}),f.createObjectStore(xr,{keyPath:BT,autoIncrement:!0}).createIndex(sl,FT,{unique:!0}),f.createObjectStore(du)})(e),C2(e),(function(f){f.createObjectStore(Qo)})(e));let u=Q.resolve();return s<3&&i>=3&&(s!==0&&((function(f){f.deleteObjectStore(fu),f.deleteObjectStore(hu),f.deleteObjectStore(ul)})(e),C2(e)),u=u.next((()=>(function(f){const g=f.store(ul),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Se.min().toTimestamp(),targetCount:0};return g.put(Zp,y)})(l)))),s<4&&i>=4&&(s!==0&&(u=u.next((()=>(function(f,g){return g.store(xr).H().next((b=>{f.deleteObjectStore(xr),f.createObjectStore(xr,{keyPath:BT,autoIncrement:!0}).createIndex(sl,FT,{unique:!0});const v=g.store(xr),k=b.map((I=>v.put(I)));return Q.waitFor(k)}))})(e,l)))),u=u.next((()=>{(function(f){f.createObjectStore(mu,{keyPath:GU})})(e)}))),s<5&&i>=5&&(u=u.next((()=>this.gi(l)))),s<6&&i>=6&&(u=u.next((()=>((function(f){f.createObjectStore(Kh)})(e),this.pi(l))))),s<7&&i>=7&&(u=u.next((()=>this.yi(l)))),s<8&&i>=8&&(u=u.next((()=>this.wi(e,l)))),s<9&&i>=9&&(u=u.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),s<10&&i>=10&&(u=u.next((()=>this.bi(l)))),s<11&&i>=11&&(u=u.next((()=>{(function(f){f.createObjectStore(Mg,{keyPath:HU})})(e),(function(f){f.createObjectStore(Og,{keyPath:KU})})(e)}))),s<12&&i>=12&&(u=u.next((()=>{(function(f){const g=f.createObjectStore(Vg,{keyPath:ez});g.createIndex(gb,tz,{unique:!1}),g.createIndex(GA,nz,{unique:!1})})(e)}))),s<13&&i>=13&&(u=u.next((()=>(function(f){const g=f.createObjectStore(Xp,{keyPath:LU});g.createIndex(Cp,UU),g.createIndex(BA,zU)})(e))).next((()=>this.Si(e,l))).next((()=>e.deleteObjectStore(Qo)))),s<14&&i>=14&&(u=u.next((()=>this.Di(e,l)))),s<15&&i>=15&&(u=u.next((()=>(function(f){f.createObjectStore(qv,{keyPath:WU,autoIncrement:!0}).createIndex(pb,YU,{unique:!1}),f.createObjectStore(Sh,{keyPath:QU}).createIndex(qA,JU,{unique:!1}),f.createObjectStore(Eh,{keyPath:XU}).createIndex($A,ZU,{unique:!1})})(e)))),s<16&&i>=16&&(u=u.next((()=>{t.objectStore(Sh).clear()})).next((()=>{t.objectStore(Eh).clear()}))),s<17&&i>=17&&(u=u.next((()=>{(function(f){f.createObjectStore($v,{keyPath:sz})})(e)}))),s<18&&i>=18&&lE()&&(u=u.next((()=>{t.objectStore(Sh).clear()})).next((()=>{t.objectStore(Eh).clear()}))),u}pi(e){let t=0;return e.store(Qo).ee(((s,i)=>{t+=ag(i)})).next((()=>{const s={byteSize:t};return e.store(Kh).put(mb,s)}))}gi(e){const t=e.store(Hh),s=e.store(xr);return t.H().next((i=>Q.forEach(i,(l=>{const u=IDBKeyRange.bound([l.userId,Yi],[l.userId,l.lastAcknowledgedBatchId]);return s.H(sl,u).next((h=>Q.forEach(h,(f=>{je(f.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const g=Xo(this.serializer,f);return Jk(e,l.userId,g).next((()=>{}))}))))}))))}yi(e){const t=e.store(fu),s=e.store(Qo);return e.store(ul).get(Zp).next((i=>{const l=[];return s.ee(((u,h)=>{const f=new Je(u),g=(function(b){return[0,Fn(b)]})(f);l.push(t.get(g).next((y=>y?Q.resolve():(b=>t.put({targetId:0,path:Fn(b),sequenceNumber:i.highestListenSequenceNumber}))(f))))})).next((()=>Q.waitFor(l)))}))}wi(e,t){e.createObjectStore(Wh,{keyPath:$U});const s=t.store(Wh),i=new iw,l=u=>{if(i.add(u)){const h=u.lastSegment(),f=u.popLast();return s.put({collectionId:h,parent:Fn(f)})}};return t.store(Qo).ee({Y:!0},((u,h)=>{const f=new Je(u);return l(f.popLast())})).next((()=>t.store(du).ee({Y:!0},(([u,h,f],g)=>{const y=aa(h);return l(y.popLast())}))))}bi(e){const t=e.store(hu);return t.ee(((s,i)=>{const l=ph(i),u=Kk(this.serializer,l);return t.put(u)}))}Si(e,t){const s=t.store(Qo),i=[];return s.ee(((l,u)=>{const h=t.store(Xp),f=(function(b){return b.document?new ye(Je.fromString(b.document.name).popFirst(5)):b.noDocument?ye.fromSegments(b.noDocument.path):b.unknownDocument?ye.fromSegments(b.unknownDocument.path):we(36783)})(u).path.toArray(),g={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(g))})).next((()=>Q.waitFor(i)))}Di(e,t){const s=t.store(xr),i=sI(this.serializer),l=new lw(Gg.Vi,this.serializer.yt);return s.H().next((u=>{const h=new Map;return u.forEach((f=>{let g=h.get(f.userId)??$e();Xo(this.serializer,f).keys().forEach((y=>g=g.add(y))),h.set(f.userId,g)})),Q.forEach(h,((f,g)=>{const y=new wn(g),b=qg.wt(this.serializer,y),v=l.getIndexManager(y),k=$g.wt(y,this.serializer,v,l.referenceDelegate);return new rI(i,k,b,v).recalculateAndSaveOverlaysForDocumentKeys(new xb(t,cs.ce),f).next()}))}))}}function C2(n){n.createObjectStore(fu,{keyPath:FU}).createIndex(Fv,qU,{unique:!0}),n.createObjectStore(hu,{keyPath:"targetId"}).createIndex(FA,BU,{unique:!0}),n.createObjectStore(ul)}const Ui="IndexedDbPersistence",Dy=18e5,Py=5e3,My="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",aI="main";class cw{constructor(e,t,s,i,l,u,h,f,g,y,b=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Ci=l,this.window=u,this.document=h,this.Fi=g,this.Mi=y,this.xi=b,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=v=>Promise.resolve(),!cw.v())throw new fe(se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fB(this,i),this.Ki=t+aI,this.serializer=new Hk(f),this.qi=new la(this.Ki,this.xi,new TB(this.serializer)),this.ci=new tB,this.li=new cB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=sI(this.serializer),this.Pi=new eB,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&Xt(Ui,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(se.FAILED_PRECONDITION,My);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new cs(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>gp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(mo(e))return me(Ui,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return me(Ui,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return ih(e).get(Rc).next((t=>Q.resolve(this.Xi(t))))}Yi(e){return gp(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Dy)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const s=gn(t,mu);return s.H().next((i=>{const l=this.ns(i,Dy),u=i.filter((h=>l.indexOf(h)===-1));return Q.forEach(u,(h=>s.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?Q.resolve(!0):ih(e).get(Rc).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Py)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new fe(se.FAILED_PRECONDITION,My);return!1}}return!(!this.networkEnabled||!this.inForeground)||gp(e).H().next((s=>this.ns(s,Py).find((i=>{if(this.clientId!==i.clientId){const l=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(l||u&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&me(Ui,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[wf,mu],(e=>{const t=new xb(e,cs.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((s=>this.ts(s.updateTimeMs,t)&&!this.ss(s.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>gp(e).H().next((t=>this.ns(t,Dy).map((s=>s.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return $g.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lB(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return qg.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,s){me(Ui,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",l=(function(f){return f===18?iz:f===17?YA:f===16?az:f===15?Gv:f===14?WA:f===13?KA:f===12?rz:f===11?HA:void we(60245)})(this.xi);let u;return this.qi.runTransaction(e,i,l,(h=>(u=new xb(h,this.ai?this.ai.next():cs.ce),t==="readwrite-primary"?this.ji(u).next((f=>!!f||this.Hi(u))).next((f=>{if(!f)throw Xt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new fe(se.FAILED_PRECONDITION,OA);return s(u)})).next((f=>this.Zi(u).next((()=>f)))):this.Ps(u).next((()=>s(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Ps(e){return ih(e).get(Rc).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Py)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new fe(se.FAILED_PRECONDITION,My)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ih(e).put(Rc,t)}static v(){return la.v()}Ji(e){const t=ih(e);return t.get(Rc).next((s=>this.Xi(s)?(me(Ui,"Releasing primary lease."),t.delete(Rc)):Q.resolve()))}ts(e,t){const s=Date.now();return!(e<s-t)&&(!(e>s)||(Xt(`Detected an update time that is in the future: ${e} > ${s}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;oE()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){var t;try{const s=((t=this.Ui)==null?void 0:t.getItem(this.rs(e)))!==null;return me(Ui,`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Xt(Ui,"Failed to get zombied client id.",s),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){Xt("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ih(n){return gn(n,wf)}function gp(n){return gn(n,mu)}function uw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t,s,i){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=i}static Es(e,t){let s=$e(),i=$e();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new dw(e,t.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return oE()?8:LA(Ut())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,i){const l={result:null};return this.gs(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,t,i,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new SB;return this.ys(e,t,u).next((h=>{if(l.result=h,this.As)return this.ws(e,t,u,h.size)}))})).next((()=>l.result))}ws(e,t,s,i){return s.documentReadCount<this.Vs?(Lc()<=Qe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Uc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Q.resolve()):(Lc()<=Qe.DEBUG&&me("QueryEngine","Query:",Uc(t),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.ds*i?(Lc()<=Qe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Uc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(t))):Q.resolve())}gs(e,t){if(t2(t))return Q.resolve(null);let s=Jn(t);return this.indexManager.getIndexType(e,s).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=ng(t,null,"F"),s=Jn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=$e(...l);return this.fs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,s).next((f=>{const g=this.bs(t,h);return this.Ss(t,g,u,f.readTime)?this.gs(e,ng(t,null,"F")):this.Ds(e,g,t,f)}))))})))))}ps(e,t,s,i){return t2(t)||i.isEqual(Se.min())?Q.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(t,l);return this.Ss(t,u,s,i)?Q.resolve(null):(Lc()<=Qe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uc(t)),this.Ds(e,u,t,PA(i,uu)).next((h=>h)))}))}bs(e,t){let s=new pt(gk(e));return t.forEach(((i,l)=>{Nf(e,l)&&(s=s.add(l))})),s}Ss(e,t,s,i){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ys(e,t,s){return Lc()<=Qe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Uc(t)),this.fs.getDocumentsMatchingQuery(e,t,ks.min(),s)}Ds(e,t,s,i){return this.fs.getDocumentsMatchingQuery(e,s,i).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="LocalStore",EB=3e8;class AB{constructor(e,t,s,i){this.persistence=e,this.Cs=t,this.serializer=i,this.vs=new Nt(Oe),this.Fs=new ti((l=>wl(l)),_f),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function oI(n,e,t,s){return new AB(n,e,t,s)}async function lI(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let i;return t.mutationQueue.getAllMutationBatches(s).next((l=>(i=l,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],h=[];let f=$e();for(const g of i){u.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}for(const g of l){h.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(s,f).next((g=>({Ns:g,removedBatchIds:u,addedBatchIds:h})))}))}))}function kB(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const i=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,g,y){const b=g.batch,v=b.keys();let k=Q.resolve();return v.forEach((I=>{k=k.next((()=>y.getEntry(f,I))).next((R=>{const D=g.docVersions.get(I);je(D!==null,48541),R.version.compareTo(D)<0&&(b.applyToRemoteDocument(R,g),R.isValidDocument()&&(R.setReadTime(g.commitVersion),y.addEntry(R)))}))})),k.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let f=$e();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(s,i)))}))}function cI(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function IB(n,e){const t=be(n),s=e.snapshotVersion;let i=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});i=t.vs;const h=[];e.targetChanges.forEach(((y,b)=>{const v=i.get(b);if(!v)return;h.push(t.li.removeMatchingKeys(l,y.removedDocuments,b).next((()=>t.li.addMatchingKeys(l,y.addedDocuments,b))));let k=v.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken(Gt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):y.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(y.resumeToken,s)),i=i.insert(b,k),(function(R,D,P){return R.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=EB?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(v,k,y)&&h.push(t.li.updateTargetData(l,k))}));let f=ds(),g=$e();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(uI(l,u,e.documentUpdates).next((y=>{f=y.Bs,g=y.Ls}))),!s.isEqual(Se.min())){const y=t.li.getLastRemoteSnapshotVersion(l).next((b=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(y)}return Q.waitFor(h).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,f,g))).next((()=>f))})).then((l=>(t.vs=i,l)))}function uI(n,e,t){let s=$e(),i=$e();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let u=ds();return t.forEach(((h,f)=>{const g=l.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Se.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):me(hw,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)})),{Bs:u,Ls:i}}))}function CB(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Yi),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function wu(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let i;return t.li.getTargetData(s,e).next((l=>l?(i=l,Q.resolve(i)):t.li.allocateTargetId(s).next((u=>(i=new La(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,i).next((()=>i)))))))})).then((s=>{const i=t.vs.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function _u(n,e,t){const s=be(n),i=s.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!mo(u))throw u;me(hw,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(i.target)}function og(n,e,t){const s=be(n);let i=Se.min(),l=$e();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,g,y){const b=be(f),v=b.Fs.get(y);return v!==void 0?Q.resolve(b.vs.get(v)):b.li.getTargetData(g,y)})(s,u,Jn(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,h.targetId).next((f=>{l=f}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,t?i:Se.min(),t?l:$e()))).next((h=>(fI(s,pk(e),h),{documents:h,ks:l})))))}function dI(n,e){const t=be(n),s=be(t.li),i=t.vs.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",(l=>s.At(l,e).next((u=>u?u.target:null))))}function hI(n,e){const t=be(n),s=t.Ms.get(e)||Se.min();return t.persistence.runTransaction("Get new document changes","readonly",(i=>t.xs.getAllFromCollectionGroup(i,e,PA(s,uu),Number.MAX_SAFE_INTEGER))).then((i=>(fI(t,e,i),i)))}function fI(n,e,t){let s=n.Ms.get(e)||Se.min();t.forEach(((i,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Ms.set(e,s)}async function RB(n,e,t,s){const i=be(n);let l=$e(),u=ds();for(const g of t){const y=e.Ks(g.metadata.name);g.document&&(l=l.add(y));const b=e.qs(g);b.setReadTime(e.Us(g.metadata.readTime)),u=u.insert(y,b)}const h=i.xs.newChangeBuffer({trackRemovals:!0}),f=await wu(i,(function(y){return Jn(Uu(Je.fromString(`__bundle__/docs/${y}`)))})(s));return i.persistence.runTransaction("Apply bundle documents","readwrite",(g=>uI(g,h,u).next((y=>(h.apply(g),y))).next((y=>i.li.removeMatchingKeysForTargetId(g,f.targetId).next((()=>i.li.addMatchingKeys(g,l,f.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(g,y.Bs,y.Ls))).next((()=>y.Bs))))))}async function DB(n,e,t=$e()){const s=await wu(n,Jn(rw(e.bundledQuery))),i=be(n);return i.persistence.runTransaction("Save named query","readwrite",(l=>{const u=Zt(e.readTime);if(s.snapshotVersion.compareTo(u)>=0)return i.Pi.saveNamedQuery(l,e);const h=s.withResumeToken(Gt.EMPTY_BYTE_STRING,u);return i.vs=i.vs.insert(h.targetId,h),i.li.updateTargetData(l,h).next((()=>i.li.removeMatchingKeysForTargetId(l,s.targetId))).next((()=>i.li.addMatchingKeys(l,t,s.targetId))).next((()=>i.Pi.saveNamedQuery(l,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firestore_clients";function R2(n,e){return`${mI}_${n}_${e}`}const pI="firestore_mutations";function D2(n,e,t){let s=`${pI}_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}const gI="firestore_targets";function Oy(n,e){return`${gI}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="SharedClientState";class lg{constructor(e,t,s,i){this.user=e,this.batchId=t,this.state=s,this.error=i}static $s(e,t,s){const i=JSON.parse(s);let l,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(l=new fe(i.error.code,i.error.message))),u?new lg(e,t,i.state,l):(Xt(Zr,`Failed to parse mutation state for ID '${t}': ${s}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ch{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static $s(e,t){const s=JSON.parse(t);let i,l=typeof s=="object"&&["not-current","current","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return l&&s.error&&(l=typeof s.error.message=="string"&&typeof s.error.code=="string",l&&(i=new fe(s.error.code,s.error.message))),l?new Ch(e,s.state,i):(Xt(Zr,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const s=JSON.parse(t);let i=typeof s=="object"&&s.activeTargetIds instanceof Array,l=Qv();for(let u=0;i&&u<s.activeTargetIds.length;++u)i=UA(s.activeTargetIds[u]),l=l.add(s.activeTargetIds[u]);return i?new cg(e,l):(Xt(Zr,`Failed to parse client data for instance '${e}': ${t}`),null)}}class fw{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new fw(t.clientId,t.onlineState):(Xt(Zr,`Failed to parse online state: ${e}`),null)}}class Rb{constructor(){this.activeTargetIds=Qv()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vy{constructor(e,t,s,i,l){this.window=e,this.Ci=t,this.persistenceKey=s,this.zs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new Nt(Oe),this.started=!1,this.Zs=[];const u=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Xs=R2(this.persistenceKey,this.zs),this.Ys=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new Rb),this.eo=new RegExp(`^${mI}_${u}_([^_]*)$`),this.no=new RegExp(`^${pI}_${u}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${gI}_${u}_(\\d+)$`),this.io=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this.so=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const s of e){if(s===this.zs)continue;const i=this.getItem(R2(this.persistenceKey,s));if(i){const l=cg.$s(s,i);l&&(this.Js=this.Js.insert(l.clientId,l))}}this.oo();const t=this.storage.getItem(this.io);if(t){const s=this._o(t);s&&this.ao(s)}for(const s of this.Zs)this.Hs(s);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach(((s,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,s){this.co(e,t,s),this.lo(e)}addLocalQueryTarget(e,t=!0){let s="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Oy(this.persistenceKey,e));if(i){const l=Ch.$s(e,i);l&&(s=l.state)}}return t&&this.ho.Qs(e),this.oo(),s}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Oy(this.persistenceKey,e))}updateQueryState(e,t,s){this.Po(e,t,s)}handleUserChange(e,t,s){t.forEach((i=>{this.lo(i)})),this.currentUser=e,s.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return me(Zr,"READ",e,t),t}setItem(e,t){me(Zr,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){me(Zr,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(me(Zr,"EVENT",t.key,t.newValue),t.key===this.Xs)return void Xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.eo.test(t.key)){if(t.newValue==null){const s=this.Eo(t.key);return this.Ro(s,null)}{const s=this.Ao(t.key,t.newValue);if(s)return this.Ro(s.clientId,s)}}else if(this.no.test(t.key)){if(t.newValue!==null){const s=this.Vo(t.key,t.newValue);if(s)return this.mo(s)}}else if(this.ro.test(t.key)){if(t.newValue!==null){const s=this.fo(t.key,t.newValue);if(s)return this.po(s)}}else if(t.key===this.io){if(t.newValue!==null){const s=this._o(t.newValue);if(s)return this.ao(s)}}else if(t.key===this.Ys){const s=(function(l){let u=cs.ce;if(l!=null)try{const h=JSON.parse(l);je(typeof h=="number",30636,{yo:l}),u=h}catch(h){Xt(Zr,"Failed to read sequence number from WebStorage",h)}return u})(t.newValue);s!==cs.ce&&this.sequenceNumberHandler(s)}else if(t.key===this.so){const s=this.wo(t.newValue);await Promise.all(s.map((i=>this.syncEngine.bo(i))))}}}else this.Zs.push(t)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,s){const i=new lg(this.currentUser,e,t,s),l=D2(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Ws())}lo(e){const t=D2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){const t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,s){const i=Oy(this.persistenceKey,e),l=new Ch(e,t,s);this.setItem(i,l.Ws())}Io(e){const t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){const t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){const s=this.Eo(e);return cg.$s(s,t)}Vo(e,t){const s=this.no.exec(e),i=Number(s[1]),l=s[2]!==void 0?s[2]:null;return lg.$s(new wn(l),i,t)}fo(e,t){const s=this.ro.exec(e),i=Number(s[1]);return Ch.$s(i,t)}_o(e){return fw.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);me(Zr,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){const s=t?this.Js.insert(e,t):this.Js.remove(e),i=this.uo(this.Js),l=this.uo(s),u=[],h=[];return l.forEach((f=>{i.has(f)||u.push(f)})),i.forEach((f=>{l.has(f)||h.push(f)})),this.syncEngine.Co(u,h).then((()=>{this.Js=s}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=Qv();return e.forEach(((s,i)=>{t=t.unionWith(i.activeTargetIds)})),t}}class xI{constructor(){this.vo=new Rb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Rb,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="ConnectivityMonitor";class M2{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(P2,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(P2,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp=null;function Db(){return xp===null?xp=(function(){return 268435456+Math.round(2147483648*Math.random())})():xp++,"0x"+xp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="RestConnection",MB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class OB{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${i}`,this.$o=this.databaseId.database===yb?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Wo(e,t,s,i,l){const u=Db(),h=this.Qo(e,t.toUriEncodedString());me(Ly,`Sending RPC '${e}' ${u}:`,h,s);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,l);const{host:g}=new URL(h),y=Du(g);return this.zo(e,h,f,s,y).then((b=>(me(Ly,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw ha(Ly,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",s),b}))}jo(e,t,s,i,l,u){return this.Wo(e,t,s,i,l)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,l)=>e[l]=i)),s&&s.headers.forEach(((i,l)=>e[l]=i))}Qo(e,t){const s=MB[e];let i=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection",oh=(n,e,t)=>{n.listen(e,(s=>{try{t(s)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Xc extends OB{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Xc.c_){const e=SA();oh(e,TA.STAT_EVENT,(t=>{t.stat===db.PROXY?me(Un,"STAT_EVENT: detected buffering proxy"):t.stat===db.NOPROXY&&me(Un,"STAT_EVENT: detected no buffering proxy")})),Xc.c_=!0}}zo(e,t,s,i,l){const u=Db();return new Promise(((h,f)=>{const g=new jA;g.setWithCredentials(!0),g.listenOnce(NA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ap.NO_ERROR:const b=g.getResponseJson();me(Un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case Ap.TIMEOUT:me(Un,`RPC '${e}' ${u} timed out`),f(new fe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Ap.HTTP_ERROR:const v=g.getStatus();if(me(Un,`RPC '${e}' ${u} failed with status:`,v,"response text:",g.getResponseText()),v>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const I=k==null?void 0:k.error;if(I&&I.status&&I.message){const R=(function(P){const M=P.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(M)>=0?M:se.UNKNOWN})(I.status);f(new fe(R,I.message))}else f(new fe(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new fe(se.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(Un,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(i);me(Un,`RPC '${e}' ${u} sending request:`,i),g.send(t,"POST",y,s,15)}))}T_(e,t,s){const i=Db(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,s),h.encodeInitMessageHeaders=!0;const g=l.join("");me(Un,`Creating RPC '${e}' stream ${i}: ${g}`,h);const y=u.createWebChannel(g,h);this.I_(y);let b=!1,v=!1;const k=new VB({Ho:I=>{v?me(Un,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(b||(me(Un,`Opening RPC '${e}' stream ${i} transport.`),y.open(),b=!0),me(Un,`RPC '${e}' stream ${i} sending:`,I),y.send(I))},Jo:()=>y.close()});return oh(y,hh.EventType.OPEN,(()=>{v||(me(Un,`RPC '${e}' stream ${i} transport opened.`),k.i_())})),oh(y,hh.EventType.CLOSE,(()=>{v||(v=!0,me(Un,`RPC '${e}' stream ${i} transport closed`),k.o_(),this.E_(y))})),oh(y,hh.EventType.ERROR,(I=>{v||(v=!0,ha(Un,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),k.o_(new fe(se.UNAVAILABLE,"The operation could not be completed")))})),oh(y,hh.EventType.MESSAGE,(I=>{var R;if(!v){const D=I.data[0];je(!!D,16349);const P=D,M=(P==null?void 0:P.error)||((R=P[0])==null?void 0:R.error);if(M){me(Un,`RPC '${e}' stream ${i} received error:`,M);const z=M.status;let le=(function(T){const N=un[T];if(N!==void 0)return kk(N)})(z),L=M.message;le===void 0&&(le=se.INTERNAL,L="Unknown error status: "+z+" with message "+M.message),v=!0,k.o_(new fe(le,L)),y.close()}else me(Un,`RPC '${e}' stream ${i} received:`,D),k.__(D)}})),Xc.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return EA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(n){return new Xc(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){return typeof window<"u"?window:null}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(n){return new qz(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xc.c_=!1;class mw{constructor(e,t,s=1e3,i=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=i,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-s);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="PersistentStream";class bI{constructor(e,t,s,i,l,u,h,f){this.Ci=e,this.b_=s,this.S_=i,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Xt(t.toString()),Xt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,i])=>{this.D_===t&&this.G_(s,i)}),(s=>{e((()=>{const i=new fe(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{s((()=>this.z_(i)))})),this.stream.onMessage((i=>{s((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(O2,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(me(O2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UB extends bI{constructor(e,t,s,i,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,i,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Hz(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Se.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?Zt(u.readTime):Se.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=Eb(this.serializer),t.addTarget=(function(l,u){let h;const f=u.target;if(h=eg(f)?{documents:Uk(l,f)}:{query:zk(l,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Dk(l,u.resumeToken);const g=Tb(l,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Se.min())>0){h.readTime=vu(l,u.snapshotVersion.toTimestamp());const g=Tb(l,u.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const s=Wz(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=Eb(this.serializer),t.removeTarget=e,this.K_(t)}}class zB extends bI{constructor(e,t,s,i,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,i,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Kz(e.writeResults,e.commitTime),s=Zt(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Eb(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>ef(this.serializer,s)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{}class FB extends BB{constructor(e,t,s,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,Sb(t,s),i,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(se.UNKNOWN,l.toString())}))}jo(e,t,s,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(e,Sb(t,s),i,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function qB(n,e,t,s){return new FB(n,e,t,s)}class $B{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xt(t),this.aa=!1):me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="RemoteStore";class GB{constructor(e,t,s,i,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{go(this)&&(me(El,"Restarting streams for network reachability change."),await(async function(f){const g=be(f);g.Ea.add(4),await Fu(g),g.Va.set("Unknown"),g.Ea.delete(4),await kf(g)})(this))}))})),this.Va=new $B(s,i)}}async function kf(n){if(go(n))for(const e of n.Ra)await e(!0)}async function Fu(n){for(const e of n.Ra)await e(!1)}function Hg(n,e){const t=be(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),xw(t)?gw(t):$u(t).O_()&&pw(t,e))}function ju(n,e){const t=be(n),s=$u(t);t.Ia.delete(e),s.O_()&&vI(t,e),t.Ia.size===0&&(s.O_()?s.L_():go(t)&&t.Va.set("Unknown"))}function pw(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$u(n).Z_(e)}function vI(n,e){n.da.$e(e),$u(n).X_(e)}function gw(n){n.da=new Uz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),$u(n).start(),n.Va.ua()}function xw(n){return go(n)&&!$u(n).x_()&&n.Ia.size>0}function go(n){return be(n).Ea.size===0}function wI(n){n.da=void 0}async function HB(n){n.Va.set("Online")}async function KB(n){n.Ia.forEach(((e,t)=>{pw(n,e)}))}async function WB(n,e){wI(n),xw(n)?(n.Va.ha(e),gw(n)):n.Va.set("Unknown")}async function YB(n,e,t){if(n.Va.set("Online"),e instanceof Rk&&e.state===2&&e.cause)try{await(async function(i,l){const u=l.cause;for(const h of l.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.Ia.delete(h),i.da.removeTarget(h))})(n,e)}catch(s){me(El,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ug(n,s)}else if(e instanceof Op?n.da.Xe(e):e instanceof Ck?n.da.st(e):n.da.tt(e),!t.isEqual(Se.min()))try{const s=await cI(n.localStore);t.compareTo(s)>=0&&await(function(l,u){const h=l.da.Tt(u);return h.targetChanges.forEach(((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,g)=>{const y=l.Ia.get(f);if(!y)return;l.Ia.set(f,y.withResumeToken(Gt.EMPTY_BYTE_STRING,y.snapshotVersion)),vI(l,f);const b=new La(y.target,f,g,y.sequenceNumber);pw(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(s){me(El,"Failed to raise snapshot:",s),await ug(n,s)}}async function ug(n,e,t){if(!mo(e))throw e;n.Ea.add(1),await Fu(n),n.Va.set("Offline"),t||(t=()=>cI(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{me(El,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await kf(n)}))}function _I(n,e){return e().catch((t=>ug(n,t,e)))}async function qu(n){const e=be(n),t=oo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yi;for(;QB(e);)try{const i=await CB(e.localStore,s);if(i===null){e.Ta.length===0&&t.L_();break}s=i.batchId,JB(e,i)}catch(i){await ug(e,i)}jI(e)&&NI(e)}function QB(n){return go(n)&&n.Ta.length<10}function JB(n,e){n.Ta.push(e);const t=oo(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function jI(n){return go(n)&&!oo(n).x_()&&n.Ta.length>0}function NI(n){oo(n).start()}async function XB(n){oo(n).ra()}async function ZB(n){const e=oo(n);for(const t of n.Ta)e.ea(t.mutations)}async function eF(n,e,t){const s=n.Ta.shift(),i=ew.from(s,e,t);await _I(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await qu(n)}async function tF(n,e){e&&oo(n).Y_&&await(async function(s,i){if((function(u){return Ak(u)&&u!==se.ABORTED})(i.code)){const l=s.Ta.shift();oo(s).B_(),await _I(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,i))),await qu(s)}})(n,e),jI(n)&&NI(n)}async function V2(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),me(El,"RemoteStore received new credentials");const s=go(t);t.Ea.add(3),await Fu(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await kf(t)}async function Pb(n,e){const t=be(n);e?(t.Ea.delete(2),await kf(t)):e||(t.Ea.add(2),await Fu(t),t.Va.set("Unknown"))}function $u(n){return n.ma||(n.ma=(function(t,s,i){const l=be(t);return l.sa(),new UB(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(n.datastore,n.asyncQueue,{Zo:HB.bind(null,n),Yo:KB.bind(null,n),t_:WB.bind(null,n),J_:YB.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),xw(n)?gw(n):n.Va.set("Unknown")):(await n.ma.stop(),wI(n))}))),n.ma}function oo(n){return n.fa||(n.fa=(function(t,s,i){const l=be(t);return l.sa(),new zB(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:XB.bind(null,n),t_:tF.bind(null,n),ta:ZB.bind(null,n),na:eF.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await qu(n)):(await n.fa.stop(),n.Ta.length>0&&(me(El,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t,s,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=i,this.removalCallback=l,this.deferred=new Dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,i,l){const u=Date.now()+s,h=new yw(e,t,u,i,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gu(n,e){if(Xt("AsyncQueue",`${e}: ${n}`),mo(n))return new fe(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{static emptySet(e){return new Zc(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=fh(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=s.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Zc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.ga=new Nt(ye.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Nu{constructor(e,t,s,i,l,u,h,f,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,i,l){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new Nu(e,t,Zc.emptySet(t),u,s,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==s[i].type||!t[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class sF{constructor(){this.queries=U2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const i=be(t),l=i.queries;i.queries=U2(),l.forEach(((u,h)=>{for(const f of h.ba)f.onError(s)}))})(this,new fe(se.ABORTED,"Firestore shutting down"))}}function U2(){return new ti((n=>mk(n)),jf)}async function bw(n,e){const t=be(n);let s=3;const i=e.query;let l=t.queries.get(i);l?!l.Sa()&&e.Da()&&(s=2):(l=new nF,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(i,!0);break;case 1:l.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=Gu(u,`Initialization of query '${Uc(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&ww(t)}async function vw(n,e){const t=be(n),s=e.query;let i=3;const l=t.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?i=e.Da()?0:1:!l.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function rF(n,e){const t=be(n);let s=!1;for(const i of e){const l=i.query,u=t.queries.get(l);if(u){for(const h of u.ba)h.Fa(i)&&(s=!0);u.wa=i}}s&&ww(t)}function aF(n,e,t){const s=be(n),i=s.queries.get(e);if(i)for(const l of i.ba)l.onError(t);s.queries.delete(e)}function ww(n){n.Ca.forEach((e=>{e.next()}))}var Mb,z2;(z2=Mb||(Mb={})).Ma="default",z2.Cache="cache";class _w{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Nu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mb.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,t){this.qa=e,this.byteLength=t}Ua(){return"metadata"in this.qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.serializer=e}Ks(e){return ca(this.serializer,e)}qs(e){return e.metadata.exists?Lk(this.serializer,e.document,!1):kt.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return Zt(e)}}class oF{constructor(e,t){this.$a=e,this.serializer=t,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=TI(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++t;const s=Je.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,s=new B2(this.serializer);for(const i of e)if(i.metadata.queries){const l=s.Ks(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||$e()).add(l);t.set(u,h)}}return t}async ja(e){const t=await RB(e,new B2(this.serializer),this.Qa,this.$a.id),s=this.za(this.documents);for(const i of this.Wa)await DB(e,i,s.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:t}}}function TI(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.key=e}}class EI{constructor(e){this.key=e}}class AI{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=$e(),this.mutatedKeys=$e(),this.eu=gk(e),this.tu=new Zc(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new L2,i=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((y,b)=>{const v=i.get(y),k=Nf(this.query,b)?b:null,I=!!v&&this.mutatedKeys.has(v.key),R=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let D=!1;v&&k?v.data.isEqual(k.data)?I!==R&&(s.track({type:3,doc:k}),D=!0):this.su(v,k)||(s.track({type:2,doc:k}),D=!0,(f&&this.eu(k,f)>0||g&&this.eu(k,g)<0)&&(h=!0)):!v&&k?(s.track({type:0,doc:k}),D=!0):v&&!k&&(s.track({type:1,doc:v}),D=!0,(f||g)&&(h=!0)),D&&(k?(u=u.add(k),l=R?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,i){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,b)=>(function(k,I){const R=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:D})}};return R(k)-R(I)})(y.type,b.type)||this.eu(y.doc,b.doc))),this.ou(s),i=i??!1;const h=t&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,g=f!==this.Xa;return this.Xa=f,u.length!==0||g?{snapshot:new Nu(this.query,e.tu,l,u,e.mutatedKeys,f===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L2,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=$e(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new EI(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new SI(s))})),t}cu(e){this.Za=e.ks,this.Ya=$e();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Nu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const xo="SyncEngine";class lF{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class cF{constructor(e){this.key=e,this.hu=!1}}class uF{constructor(e,t,s,i,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ti((h=>mk(h)),jf),this.Iu=new Map,this.Eu=new Set,this.Ru=new Nt(ye.comparator),this.Au=new Map,this.Vu=new ow,this.du={},this.mu=new Map,this.fu=Sl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dF(n,e,t=!0){const s=Kg(n);let i;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.lu()):i=await kI(s,e,t,!0),i}async function hF(n,e){const t=Kg(n);await kI(t,e,!0,!1)}async function kI(n,e,t,s){const i=await wu(n.localStore,Jn(e)),l=i.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let h;return s&&(h=await jw(n,e,l,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&Hg(n.remoteStore,i),h}async function jw(n,e,t,s,i){n.pu=(b,v,k)=>(async function(R,D,P,M){let z=D.view.ru(P);z.Ss&&(z=await og(R.localStore,D.query,!1).then((({documents:T})=>D.view.ru(T,z))));const le=M&&M.targetChanges.get(D.targetId),L=M&&M.targetMismatches.get(D.targetId)!=null,H=D.view.applyChanges(z,R.isPrimaryClient,le,L);return Ob(R,D.targetId,H.au),H.snapshot})(n,b,v,k);const l=await og(n.localStore,e,!0),u=new AI(e,l.ks),h=u.ru(l.documents),f=Ef.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",i),g=u.applyChanges(h,n.isPrimaryClient,f);Ob(n,t,g.au);const y=new lF(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function fF(n,e,t){const s=be(n),i=s.Tu.get(e),l=s.Iu.get(i.targetId);if(l.length>1)return s.Iu.set(i.targetId,l.filter((u=>!jf(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await _u(s.localStore,i.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(i.targetId),t&&ju(s.remoteStore,i.targetId),Tu(s,i.targetId)})).catch(fo)):(Tu(s,i.targetId),await _u(s.localStore,i.targetId,!0))}async function mF(n,e){const t=be(n),s=t.Tu.get(e),i=t.Iu.get(s.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ju(t.remoteStore,s.targetId))}async function pF(n,e,t){const s=Ew(n);try{const i=await(function(u,h){const f=be(u),g=ut.now(),y=h.reduce(((k,I)=>k.add(I.key)),$e());let b,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let I=ds(),R=$e();return f.xs.getEntries(k,y).next((D=>{I=D,I.forEach(((P,M)=>{M.isValidDocument()||(R=R.add(P))}))})).next((()=>f.localDocuments.getOverlayedDocuments(k,I))).next((D=>{b=D;const P=[];for(const M of h){const z=Oz(M,b.get(M.key).overlayedDocument);z!=null&&P.push(new ni(M.key,z,ak(z.value.mapValue),Ot.exists(!0)))}return f.mutationQueue.addMutationBatch(k,g,P,h)})).next((D=>{v=D;const P=D.applyToLocalDocumentSet(b,R);return f.documentOverlayCache.saveOverlays(k,D.batchId,P)}))})).then((()=>({batchId:v.batchId,changes:yk(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),(function(u,h,f){let g=u.du[u.currentUser.toKey()];g||(g=new Nt(Oe)),g=g.insert(h,f),u.du[u.currentUser.toKey()]=g})(s,i.batchId,t),await si(s,i.changes),await qu(s.remoteStore)}catch(i){const l=Gu(i,"Failed to persist write");t.reject(l)}}async function II(n,e){const t=be(n);try{const s=await IB(t.localStore,e);e.targetChanges.forEach(((i,l)=>{const u=t.Au.get(l);u&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?je(u.hu,14607):i.removedDocuments.size>0&&(je(u.hu,42227),u.hu=!1))})),await si(t,s,e)}catch(s){await fo(s)}}function F2(n,e,t){const s=be(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const i=[];s.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(u,h){const f=be(u);f.onlineState=h;let g=!1;f.queries.forEach(((y,b)=>{for(const v of b.ba)v.va(h)&&(g=!0)})),g&&ww(f)})(s.eventManager,e),i.length&&s.Pu.J_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gF(n,e,t){const s=be(n);s.sharedClientState.updateQueryState(e,"rejected",t);const i=s.Au.get(e),l=i&&i.key;if(l){let u=new Nt(ye.comparator);u=u.insert(l,kt.newNoDocument(l,Se.min()));const h=$e().add(l),f=new Sf(Se.min(),new Map,new Nt(Oe),u,h);await II(s,f),s.Ru=s.Ru.remove(l),s.Au.delete(e),Sw(s)}else await _u(s.localStore,e,!1).then((()=>Tu(s,e,t))).catch(fo)}async function xF(n,e){const t=be(n),s=e.batch.batchId;try{const i=await kB(t.localStore,e);Tw(t,s,null),Nw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await si(t,i)}catch(i){await fo(i)}}async function yF(n,e,t){const s=be(n);try{const i=await(function(u,h){const f=be(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return f.mutationQueue.lookupMutationBatch(g,h).next((b=>(je(b!==null,37113),y=b.keys(),f.mutationQueue.removeMutationBatch(g,b)))).next((()=>f.mutationQueue.performConsistencyCheck(g))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>f.localDocuments.getDocuments(g,y)))}))})(s.localStore,e);Tw(s,e,t),Nw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await si(s,i)}catch(i){await fo(i)}}async function bF(n,e){const t=be(n);go(t.remoteStore)||me(xo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=await(function(u){const h=be(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(f=>h.mutationQueue.getHighestUnacknowledgedBatchId(f)))})(t.localStore);if(s===Yi)return void e.resolve();const i=t.mu.get(s)||[];i.push(e),t.mu.set(s,i)}catch(s){const i=Gu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Nw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Tw(n,e,t){const s=be(n);let i=s.du[s.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),s.du[s.currentUser.toKey()]=i}}function Tu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((s=>{n.Vu.containsKey(s)||CI(n,s)}))}function CI(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(ju(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Sw(n))}function Ob(n,e,t){for(const s of t)s instanceof SI?(n.Vu.addReference(s.key,e),vF(n,s)):s instanceof EI?(me(xo,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,e),n.Vu.containsKey(s.key)||CI(n,s.key)):we(19791,{wu:s})}function vF(n,e){const t=e.key,s=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(s)||(me(xo,"New document in limbo: "+t),n.Eu.add(s),Sw(n))}function Sw(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Je.fromString(e)),s=n.fu.next();n.Au.set(s,new cF(t)),n.Ru=n.Ru.insert(t,s),Hg(n.remoteStore,new La(Jn(Uu(t.path)),s,"TargetPurposeLimboResolution",cs.ce))}}async function si(n,e,t){const s=be(n),i=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,f)=>{u.push(s.pu(f,e,t).then((g=>{var y;if((g||t)&&s.isPrimaryClient){const b=g?!g.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:y.current;s.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(g){i.push(g);const b=dw.Es(f.targetId,g);l.push(b)}})))})),await Promise.all(u),s.Pu.J_(i),await(async function(f,g){const y=be(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Q.forEach(g,(v=>Q.forEach(v.Ts,(k=>y.persistence.referenceDelegate.addReference(b,v.targetId,k))).next((()=>Q.forEach(v.Is,(k=>y.persistence.referenceDelegate.removeReference(b,v.targetId,k)))))))))}catch(b){if(!mo(b))throw b;me(hw,"Failed to update sequence numbers: "+b)}for(const b of g){const v=b.targetId;if(!b.fromCache){const k=y.vs.get(v),I=k.snapshotVersion,R=k.withLastLimboFreeSnapshotVersion(I);y.vs=y.vs.insert(v,R)}}})(s.localStore,l))}async function wF(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){me(xo,"User change. New user:",e.toKey());const s=await lI(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((f=>{f.reject(new fe(se.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await si(t,s.Ns)}}function _F(n,e){const t=be(n),s=t.Au.get(e);if(s&&s.hu)return $e().add(s.key);{let i=$e();const l=t.Iu.get(e);if(!l)return i;for(const u of l){const h=t.Tu.get(u);i=i.unionWith(h.view.nu)}return i}}async function jF(n,e){const t=be(n),s=await og(t.localStore,e.query,!0),i=e.view.cu(s);return t.isPrimaryClient&&Ob(t,e.targetId,i.au),i}async function NF(n,e){const t=be(n);return hI(t.localStore,e).then((s=>si(t,s)))}async function TF(n,e,t,s){const i=be(n),l=await(function(h,f){const g=be(h),y=be(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",(b=>y.Xn(b,f).next((v=>v?g.localDocuments.getDocuments(b,v):Q.resolve(null)))))})(i.localStore,e);l!==null?(t==="pending"?await qu(i.remoteStore):t==="acknowledged"||t==="rejected"?(Tw(i,e,s||null),Nw(i,e),(function(h,f){be(be(h).mutationQueue).nr(f)})(i.localStore,e)):we(6720,"Unknown batchState",{bu:t}),await si(i,l)):me(xo,"Cannot apply mutation batch with id: "+e)}async function SF(n,e){const t=be(n);if(Kg(t),Ew(t),e===!0&&t.gu!==!0){const s=t.sharedClientState.getAllActiveQueryTargets(),i=await q2(t,s.toArray());t.gu=!0,await Pb(t.remoteStore,!0);for(const l of i)Hg(t.remoteStore,l)}else if(e===!1&&t.gu!==!1){const s=[];let i=Promise.resolve();t.Iu.forEach(((l,u)=>{t.sharedClientState.isLocalQueryTarget(u)?s.push(u):i=i.then((()=>(Tu(t,u),_u(t.localStore,u,!0)))),ju(t.remoteStore,u)})),await i,await q2(t,s),(function(u){const h=be(u);h.Au.forEach(((f,g)=>{ju(h.remoteStore,g)})),h.Vu.zr(),h.Au=new Map,h.Ru=new Nt(ye.comparator)})(t),t.gu=!1,await Pb(t.remoteStore,!1)}}async function q2(n,e,t){const s=be(n),i=[],l=[];for(const u of e){let h;const f=s.Iu.get(u);if(f&&f.length!==0){h=await wu(s.localStore,Jn(f[0]));for(const g of f){const y=s.Tu.get(g),b=await jF(s,y);b.snapshot&&l.push(b.snapshot)}}else{const g=await dI(s.localStore,u);h=await wu(s.localStore,g),await jw(s,RI(g),u,!1,h.resumeToken)}i.push(h)}return s.Pu.J_(l),i}function RI(n){return fk(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function EF(n){return(function(t){return be(be(t).persistence).hs()})(be(n).localStore)}async function AF(n,e,t,s){const i=be(n);if(i.gu)return void me(xo,"Ignoring unexpected query state notification.");const l=i.Iu.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const u=await hI(i.localStore,pk(l[0])),h=Sf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Gt.EMPTY_BYTE_STRING);await si(i,u,h);break}case"rejected":await _u(i.localStore,e,!0),Tu(i,e,s);break;default:we(64155,t)}}async function kF(n,e,t){const s=Kg(n);if(s.gu){for(const i of e){if(s.Iu.has(i)&&s.sharedClientState.isActiveQueryTarget(i)){me(xo,"Adding an already active target "+i);continue}const l=await dI(s.localStore,i),u=await wu(s.localStore,l);await jw(s,RI(l),u.targetId,!1,u.resumeToken),Hg(s.remoteStore,u)}for(const i of t)s.Iu.has(i)&&await _u(s.localStore,i,!1).then((()=>{ju(s.remoteStore,i),Tu(s,i)})).catch(fo)}}function Kg(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=II.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_F.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gF.bind(null,e),e.Pu.J_=rF.bind(null,e.eventManager),e.Pu.yu=aF.bind(null,e.eventManager),e}function Ew(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yF.bind(null,e),e}function IF(n,e,t){const s=be(n);(async function(l,u,h){try{const f=await u.getMetadata();if(await(function(k,I){const R=be(k),D=Zt(I.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",(P=>R.Pi.getBundleMetadata(P,I.id))).then((P=>!!P&&P.createTime.compareTo(D)>=0))})(l.localStore,f))return await u.close(),h._completeWith((function(k){return{taskState:"Success",documentsLoaded:k.totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}})(f)),Promise.resolve(new Set);h._updateProgress(TI(f));const g=new oF(f,u.serializer);let y=await u.Su();for(;y;){const v=await g.Ga(y);v&&h._updateProgress(v),y=await u.Su()}const b=await g.ja(l.localStore);return await si(l,b.Ja,void 0),await(function(k,I){const R=be(k);return R.persistence.runTransaction("Save bundle","readwrite",(D=>R.Pi.saveBundleMetadata(D,I)))})(l.localStore,f),h._completeWith(b.progress),Promise.resolve(b.Ha)}catch(f){return ha(xo,`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}})(s,e,t).then((i=>{s.sharedClientState.notifyBundleLoaded(i)}))}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return oI(this.persistence,new iI,e.initialUser,this.serializer)}Cu(e){return new lw(Gg.Vi,this.serializer)}Du(e){return new xI}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class CF extends tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){je(this.persistence.referenceDelegate instanceof ig,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new eI(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new lw((s=>ig.Vi(s,t)),this.serializer)}}class DI extends tf{constructor(e,t,s){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Ew(this.xu.syncEngine),await qu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return oI(this.persistence,new iI,e.initialUser,this.serializer)}Fu(e,t){const s=this.persistence.referenceDelegate.garbageCollector;return new eI(s,e.asyncQueue,t)}Mu(e,t){const s=new PU(t,this.persistence);return new DU(e.asyncQueue,s)}Cu(e){const t=uw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new cw(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,yI(),Lp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new xI}}class RF extends DI{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof Vy&&(this.sharedClientState.syncEngine={So:TF.bind(null,t),Do:AF.bind(null,t),Co:kF.bind(null,t),hs:EF.bind(null,t),bo:NF.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi((async s=>{await SF(this.xu.syncEngine,s),this.gcScheduler&&(s&&!this.gcScheduler.started?this.gcScheduler.start():s||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(s&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():s||this.indexBackfillerScheduler.stop())}))}Du(e){const t=yI();if(!Vy.v(t))throw new fe(se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=uw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Vy(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class nf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>F2(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wF.bind(null,this.syncEngine),await Pb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sF})()}createDatastore(e){const t=Af(e.databaseInfo.databaseId),s=LB(e.databaseInfo);return qB(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,i,l,u,h){return new GB(s,i,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>F2(this.syncEngine,t,0)),(function(){return M2.v()?new M2:new PB})())}createSyncEngine(e,t){return(function(i,l,u,h,f,g,y){const b=new uF(i,l,u,h,f,g);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const l=be(i);me(El,"RemoteStore shutting down."),l.Ea.add(5),await Fu(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}nf.provider={build:()=>new nf};function $2(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new Dn,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((s=>{s&&s.Ua()?this.metadata.resolve(s.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(s==null?void 0:s.qa)}`))}),(s=>this.metadata.reject(s)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const t=this.Lu.decode(e),s=Number(t);isNaN(s)&&this.qu(`length string (${t}) is not valid number`);const i=await this.Uu(s);return new iF(JSON.parse(i),e.length+s)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PF=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new fe(se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(i,l){const u=be(i),h={documents:l.map((b=>Zh(u.serializer,b)))},f=await u.jo("BatchGetDocuments",u.serializer.databaseId,Je.emptyPath(),h,l.length),g=new Map;f.forEach((b=>{const v=Gz(u.serializer,b);g.set(v.key.toString(),v)}));const y=[];return l.forEach((b=>{const v=g.get(b.toString());je(!!v,55234,{key:b}),y.push(v)})),y})(this.datastore,e);return t.forEach((s=>this.recordVersion(s))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Bu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,s)=>{const i=ye.fromPath(s);this.mutations.push(new Xv(i,this.precondition(i)))})),await(async function(s,i){const l=be(s),u={writes:i.map((h=>ef(l.serializer,h)))};await l.Wo("Commit",l.serializer.databaseId,Je.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we(50498,{Gu:e.constructor.name});t=Se.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new fe(se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Se.min())?Ot.exists(!1):Ot.updateTime(t):Ot.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Se.min()))throw new fe(se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ot.updateTime(t)}return Ot.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,t,s,i,l){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=i,this.deferred=l,this.zu=s.maxAttempts,this.M_=new mw(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new PF(this.datastore),t=this.Ju(e);t&&t.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((i=>{this.Zu(i)}))))})).catch((s=>{this.Zu(s)}))}))}Ju(e){try{const t=this.updateFunction(e);return!vf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if((e==null?void 0:e.name)==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!Ak(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="FirestoreClient";class OF{constructor(e,t,s,i,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=i,this.user=wn.UNAUTHENTICATED,this.clientId=Lv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{me(lo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(me(lo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Gu(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Uy(n,e){n.asyncQueue.verifyOperationInProgress(),me(lo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async i=>{s.isEqual(i)||(await lI(e.localStore,i),s=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function G2(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Aw(n);me(lo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>V2(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,i)=>V2(e.remoteStore,i))),n._onlineComponents=e}async function Aw(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(lo,"Using user provided OfflineComponentProvider");try{await Uy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;ha("Error using user provided cache. Falling back to memory cache: "+t),await Uy(n,new tf)}}else me(lo,"Using default OfflineComponentProvider"),await Uy(n,new CF(void 0));return n._offlineComponents}async function Yg(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(lo,"Using user provided OnlineComponentProvider"),await G2(n,n._uninitializedComponentsProvider._online)):(me(lo,"Using default OnlineComponentProvider"),await G2(n,new nf))),n._onlineComponents}function PI(n){return Aw(n).then((e=>e.persistence))}function kw(n){return Aw(n).then((e=>e.localStore))}function MI(n){return Yg(n).then((e=>e.remoteStore))}function Iw(n){return Yg(n).then((e=>e.syncEngine))}function VF(n){return Yg(n).then((e=>e.datastore))}async function Su(n){const e=await Yg(n),t=e.eventManager;return t.onListen=dF.bind(null,e.syncEngine),t.onUnlisten=fF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mF.bind(null,e.syncEngine),t}function LF(n){return n.asyncQueue.enqueue((async()=>{const e=await PI(n),t=await MI(n);return e.setNetworkEnabled(!0),(function(i){const l=be(i);return l.Ea.delete(0),kf(l)})(t)}))}function UF(n){return n.asyncQueue.enqueue((async()=>{const e=await PI(n),t=await MI(n);return e.setNetworkEnabled(!1),(async function(i){const l=be(i);l.Ea.add(0),await Fu(l),l.Va.set("Offline")})(t)}))}function zF(n,e,t,s){const i=new Wg(s),l=new _w(e,i,t);return n.asyncQueue.enqueueAndForget((async()=>bw(await Su(n),l))),()=>{i.Nu(),n.asyncQueue.enqueueAndForget((async()=>vw(await Su(n),l)))}}function BF(n,e){const t=new Dn;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,l,u){try{const h=await(function(g,y){const b=be(g);return b.persistence.runTransaction("read document","readonly",(v=>b.localDocuments.getDocument(v,y)))})(i,l);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new fe(se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=Gu(h,`Failed to get document '${l} from cache`);u.reject(f)}})(await kw(n),e,t))),t.promise}function OI(n,e,t={}){const s=new Dn;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,f,g){const y=new Wg({next:v=>{y.Nu(),u.enqueueAndForget((()=>vw(l,b)));const k=v.docs.has(h);!k&&v.fromCache?g.reject(new fe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&v.fromCache&&f&&f.source==="server"?g.reject(new fe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(v)},error:v=>g.reject(v)}),b=new _w(Uu(h.path),y,{includeMetadataChanges:!0,Ka:!0});return bw(l,b)})(await Su(n),n.asyncQueue,e,t,s))),s.promise}function FF(n,e){const t=new Dn;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,l,u){try{const h=await og(i,l,!0),f=new AI(l,h.ks),g=f.ru(h.documents),y=f.applyChanges(g,!1);u.resolve(y.snapshot)}catch(h){const f=Gu(h,`Failed to execute query '${l} against cache`);u.reject(f)}})(await kw(n),e,t))),t.promise}function VI(n,e,t={}){const s=new Dn;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,f,g){const y=new Wg({next:v=>{y.Nu(),u.enqueueAndForget((()=>vw(l,b))),v.fromCache&&f.source==="server"?g.reject(new fe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(v)},error:v=>g.reject(v)}),b=new _w(h,y,{includeMetadataChanges:!0,Ka:!0});return bw(l,b)})(await Su(n),n.asyncQueue,e,t,s))),s.promise}function qF(n,e){const t=new Dn;return n.asyncQueue.enqueueAndForget((async()=>pF(await Iw(n),e,t))),t.promise}function $F(n,e){const t=new Wg(e);return n.asyncQueue.enqueueAndForget((async()=>(function(i,l){be(i).Ca.add(l),l.next()})(await Su(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(i,l){be(i).Ca.delete(l)})(await Su(n),t)))}}function GF(n,e,t){const s=new Dn;return n.asyncQueue.enqueueAndForget((async()=>{const i=await VF(n);new MF(n.asyncQueue,i,t,e,s).ju()})),s.promise}function HF(n,e,t,s){const i=(function(u,h){let f;return f=typeof u=="string"?Ik().encode(u):u,(function(y,b){return new DF(y,b)})((function(y,b){if(y instanceof Uint8Array)return $2(y,b);if(y instanceof ArrayBuffer)return $2(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(f),h)})(t,Af(e));n.asyncQueue.enqueueAndForget((async()=>{IF(await Iw(n),i,s)}))}function KF(n,e){return n.asyncQueue.enqueue((async()=>(function(s,i){const l=be(s);return l.persistence.runTransaction("Get named query","readonly",(u=>l.Pi.getNamedQuery(u,i)))})(await kw(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF="ComponentProvider",H2=new Map;function YF(n,e,t,s,i){return new cz(n,e,t,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,LI(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="firestore.googleapis.com",K2=!0;class W2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UI,this.ssl=K2}else this.host=e.host,this.ssl=e.ssl??K2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Qk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uB)throw new fe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LI(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,i){return s.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,t,s,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new wU;switch(s.type){case"firstParty":return new TU(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=H2.get(t);s&&(me(WF,"Removing Datastore"),H2.delete(t),s.terminate())})(this),Promise.resolve()}}function QF(n,e,t,s={}){var g;n=it(n,If);const i=Du(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;i&&(sE(`https://${h}`),rE("Firestore",!0)),l.host!==UI&&l.host!==h&&ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:h,ssl:i,emulatorOptions:s};if(!Zi(f,u)&&(n._setSettings(f),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=wn.MOCK_USER;else{y=MM(s.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new fe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new wn(v)}n._authCredentials=new _U(new kA(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let es=class zI{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new zI(this.firestore,e,this._query)}},jt=class gh{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gh(this.firestore,e,this._key)}toJSON(){return{type:gh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(bf(t,gh._jsonSchema))return new gh(e,s||null,new ye(Je.fromString(t.referencePath)))}};jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:hn("string",jt._jsonSchemaVersion),referencePath:hn("string")};let Qi=class BI extends es{constructor(e,t,s){super(e,t,Uu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ye(e))}withConverter(e){return new BI(this.firestore,e,this._path)}};function FI(n,e,...t){if(n=Ee(n),Uv("collection","path",e),n instanceof If){const s=Je.fromString(e,...t);return OT(s),new Qi(n,null,s)}{if(!(n instanceof jt||n instanceof Qi))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Je.fromString(e,...t));return OT(s),new Qi(n.firestore,null,s)}}function JF(n,e){if(n=it(n,If),Uv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fe(se.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new es(n,null,(function(s){return new ei(Je.emptyPath(),s)})(e))}function dg(n,e,...t){if(n=Ee(n),arguments.length===1&&(e=Lv.newId()),Uv("doc","path",e),n instanceof If){const s=Je.fromString(e,...t);return MT(s),new jt(n,null,new ye(s))}{if(!(n instanceof jt||n instanceof Qi))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Je.fromString(e,...t));return MT(s),new jt(n.firestore,n instanceof Qi?n.converter:null,new ye(s))}}function qI(n,e){return n=Ee(n),e=Ee(e),(n instanceof jt||n instanceof Qi)&&(e instanceof jt||e instanceof Qi)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function $I(n,e){return n=Ee(n),e=Ee(e),n instanceof es&&e instanceof es&&n.firestore===e.firestore&&jf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="AsyncQueue";class Q2{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mw(this,"async_queue_retry"),this._c=()=>{const s=Lp();s&&me(Y2,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Lp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Lp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Dn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!mo(e))throw e;me(Y2,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Xt("INTERNAL UNHANDLED ERROR: ",J2(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=yw.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(i),i}uc(){this.nc&&we(47125,{Pc:J2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function J2(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Dn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=-1;let en=class extends If{constructor(e,t,s,i){super(e,t,s,i),this.type="firestore",this._queue=new Q2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q2(e),this._firestoreClient=void 0,await e}}};function qn(n){if(n._terminated)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||GI(n),n._firestoreClient}function GI(n){var s,i,l,u;const e=n._freezeSettings(),t=YF(n._databaseId,((s=n._app)==null?void 0:s.options.appId)||"",n._persistenceKey,(i=n._app)==null?void 0:i.options.apiKey,e);n._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new OF(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}})(n._componentsProvider))}function e7(n,e){ha("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return HI(n,nf.provider,{build:s=>new DI(s,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function t7(n){ha("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();HI(n,nf.provider,{build:t=>new RF(t,e.cacheSizeBytes)})}function HI(n,e,t){if((n=it(n,en))._firestoreClient||n._terminated)throw new fe(se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new fe(se.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},GI(n)}function n7(n){if(n._initialized&&!n._terminated)throw new fe(se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Dn;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(s){if(!la.v())return Promise.resolve();const i=s+aI;await la.delete(i)})(uw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function s7(n){return(function(t){const s=new Dn;return t.asyncQueue.enqueueAndForget((async()=>bF(await Iw(t),s))),s.promise})(qn(n=it(n,en)))}function r7(n){return LF(qn(n=it(n,en)))}function a7(n){return UF(qn(n=it(n,en)))}function i7(n,e){const t=qn(n=it(n,en)),s=new XF;return HF(t,n._databaseId,e,s),s}function o7(n,e){return KF(qn(n=it(n,en)),e).then((t=>t?new es(n,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Gt.fromBase64String(e))}catch(t){throw new fe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bn(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bf(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:hn("string",Bn._jsonSchemaVersion),bytes:hn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(bf(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:hn("string",wr._jsonSchemaVersion),latitude:hn("number"),longitude:hn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,i){if(s.length!==i.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==i[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bf(e,_r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new _r(e.vectorValues);throw new fe(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_r._jsonSchemaVersion="firestore/vectorValue/1.0",_r._jsonSchema={type:hn("string",_r._jsonSchemaVersion),vectorValues:hn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7=/^__.*__$/;class c7{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ni(e,this.data,this.fieldMask,t,this.fieldTransforms):new zu(e,this.data,t,this.fieldTransforms)}}class KI{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ni(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:n})}}class Qg{constructor(e,t,s,i,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=i,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Qg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const t=(i=this.path)==null?void 0:i.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var i;const t=(i=this.path)==null?void 0:i.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return hg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(WI(this.dataSource)&&l7.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class u7{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Af(e)}createContext(e,t,s,i=!1){return new Qg({dataSource:e,methodName:t,targetDoc:s,path:Mt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ol(n){const e=n._freezeSettings(),t=Af(n._databaseId);return new u7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Jg(n,e,t,s,i,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,e,t,i);Vw("Data must be an object, but it was:",u,s);const h=JI(s,u);let f,g;if(l.merge)f=new us(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const b of l.mergeFields){const v=kl(e,b,t);if(!u.contains(v))throw new fe(se.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);e4(y,v)||y.push(v)}f=new us(y),g=u.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,g=u.fieldTransforms;return new c7(new Cn(h),f,g)}class Cf extends Ml{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}function YI(n,e,t){return new Qg({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Cw extends Ml{_toFieldTransform(e){return new Tf(e.path,new yu)}isEqual(e){return e instanceof Cw}}class Rw extends Ml{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=YI(this,e,!0),s=this.Ac.map((l=>Vl(l,t))),i=new _l(s);return new Tf(e.path,i)}isEqual(e){return e instanceof Rw&&Zi(this.Ac,e.Ac)}}class Dw extends Ml{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=YI(this,e,!0),s=this.Ac.map((l=>Vl(l,t))),i=new jl(s);return new Tf(e.path,i)}isEqual(e){return e instanceof Dw&&Zi(this.Ac,e.Ac)}}class Pw extends Ml{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new bu(e.serializer,wk(e.serializer,this.Vc));return new Tf(e.path,t)}isEqual(e){return e instanceof Pw&&this.Vc===e.Vc}}function Mw(n,e,t,s){const i=n.createContext(1,e,t);Vw("Data must be an object, but it was:",i,s);const l=[],u=Cn.empty();po(s,((f,g)=>{const y=ZI(e,f,t);g=Ee(g);const b=i.childContextForFieldPath(y);if(g instanceof Cf)l.push(y);else{const v=Vl(g,b);v!=null&&(l.push(y),u.set(y,v))}}));const h=new us(l);return new KI(u,h,i.fieldTransforms)}function Ow(n,e,t,s,i,l){const u=n.createContext(1,e,t),h=[kl(e,s,t)],f=[i];if(l.length%2!=0)throw new fe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<l.length;v+=2)h.push(kl(e,l[v])),f.push(l[v+1]);const g=[],y=Cn.empty();for(let v=h.length-1;v>=0;--v)if(!e4(g,h[v])){const k=h[v];let I=f[v];I=Ee(I);const R=u.childContextForFieldPath(k);if(I instanceof Cf)g.push(k);else{const D=Vl(I,R);D!=null&&(g.push(k),y.set(k,D))}}const b=new us(g);return new KI(y,b,u.fieldTransforms)}function QI(n,e,t,s=!1){return Vl(t,n.createContext(s?4:3,e))}function Vl(n,e){if(XI(n=Ee(n)))return Vw("Unsupported field value:",e,n),JI(n,e);if(n instanceof Ml)return(function(s,i){if(!WI(i.dataSource))throw i.createError(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(i);l&&i.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,i){const l=[];let u=0;for(const h of s){let f=Vl(h,i.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),u++}return{arrayValue:{values:l}}})(n,e)}return(function(s,i){if((s=Ee(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return wk(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ut.fromDate(s);return{timestampValue:vu(i.serializer,l)}}if(s instanceof ut){const l=new ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vu(i.serializer,l)}}if(s instanceof wr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:Dk(i.serializer,s._byteString)};if(s instanceof jt){const l=i.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw i.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:sw(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof _r)return(function(u,h){const f=u instanceof _r?u.toArray():u;return{mapValue:{fields:{[Hv]:{stringValue:Kv},[pu]:{arrayValue:{values:f.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return Jv(h.serializer,y)}))}}}}}})(s,i);if(Gk(s))return s._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Dg(s)}`)})(n,e)}function JI(n,e){const t={};return QA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(n,((s,i)=>{const l=Vl(i,e.childContextForField(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function XI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof wr||n instanceof Bn||n instanceof jt||n instanceof Ml||n instanceof _r||Gk(n))}function Vw(n,e,t){if(!XI(t)||!RA(t)){const s=Dg(t);throw s==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+s)}}function kl(n,e,t){if((e=Ee(e))instanceof Al)return e._internalPath;if(typeof e=="string")return ZI(n,e);throw hg("Field path arguments must be of type string or ",n,!1,void 0,t)}const d7=new RegExp("[~\\*/\\[\\]]");function ZI(n,e,t){if(e.search(d7)>=0)throw hg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Al(...e.split("."))._internalPath}catch{throw hg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hg(n,e,t,s,i){const l=s&&!s.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||u)&&(f+=" (found",l&&(f+=` in field ${s}`),u&&(f+=` in document ${i}`),f+=")"),new fe(se.INVALID_ARGUMENT,h+n+f)}function e4(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{convertValue(e,t="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return po(e,((i,l)=>{s[i]=this.convertValue(l,t)})),s}convertVectorValue(e){var s,i,l;const t=(l=(i=(s=e.fields)==null?void 0:s[pu].arrayValue)==null?void 0:i.values)==null?void 0:l.map((u=>Dt(u.doubleValue)));return new _r(t)}convertGeoPoint(e){return new wr(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ug(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Yh(e));default:return null}}convertTimestamp(e){const t=Ya(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Je.fromString(e);je($k(s),9688,{name:e});const i=new so(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return i.isEqual(t)||Xt(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Lw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(){return new Cf("deleteField")}function f7(){return new Cw("serverTimestamp")}function m7(...n){return new Rw("arrayUnion",n)}function p7(...n){return new Dw("arrayRemove",n)}function g7(n){return new Pw("increment",n)}const X2="@firebase/firestore",Z2="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const i=t;for(const l of s)if(l in i&&typeof i[l]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t,s,i,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(kl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class x7 extends sf{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uw{}class Rf extends Uw{}function zi(n,e,...t){let s=[];e instanceof Uw&&s.push(e),s=s.concat(t),(function(l){const u=l.filter((f=>f instanceof zw)).length,h=l.filter((f=>f instanceof Xg)).length;if(u>1||u>0&&h>0)throw new fe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const i of s)n=i._apply(n);return n}class Xg extends Rf{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Xg(e,t,s)}_apply(e){const t=this._parse(e);return s4(e._query,t),new es(e.firestore,e.converter,Nb(e._query,t))}_parse(e){const t=Ol(e.firestore);return(function(l,u,h,f,g,y,b){let v;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){tS(b,y);const I=[];for(const R of b)I.push(eS(f,l,R));v={arrayValue:{values:I}}}else v=eS(f,l,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||tS(b,y),v=QI(h,u,b,y==="in"||y==="not-in");return tt.create(g,y,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function y7(n,e,t){const s=e,i=kl("where",n);return Xg._create(i,s,t)}class zw extends Uw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zw(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:mt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,l){let u=i;const h=l.getFlattenedFilters();for(const f of h)s4(u,f),u=Nb(u,f)})(e._query,t),new es(e.firestore,e.converter,Nb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bw extends Rf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Bw(e,t)}_apply(e){const t=(function(i,l,u){if(i.startAt!==null)throw new fe(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xh(l,u)})(e._query,this._field,this._direction);return new es(e.firestore,e.converter,jz(e._query,t))}}function b7(n,e="asc"){const t=e,s=kl("orderBy",n);return Bw._create(s,t)}class Zg extends Rf{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Zg(e,t,s)}_apply(e){return new es(e.firestore,e.converter,ng(e._query,this._limit,this._limitType))}}function v7(n){return DA("limit",n),Zg._create("limit",n,"F")}function w7(n){return DA("limitToLast",n),Zg._create("limitToLast",n,"L")}class ex extends Rf{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new ex(e,t,s)}_apply(e){const t=n4(e,this.type,this._docOrFields,this._inclusive);return new es(e.firestore,e.converter,Nz(e._query,t))}}function _7(...n){return ex._create("startAt",n,!0)}function j7(...n){return ex._create("startAfter",n,!1)}class tx extends Rf{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new tx(e,t,s)}_apply(e){const t=n4(e,this.type,this._docOrFields,this._inclusive);return new es(e.firestore,e.converter,Tz(e._query,t))}}function N7(...n){return tx._create("endBefore",n,!1)}function T7(...n){return tx._create("endAt",n,!0)}function n4(n,e,t,s){if(t[0]=Ee(t[0]),t[0]instanceof sf)return(function(l,u,h,f,g){if(!f)throw new fe(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const b of Jc(l))if(b.field.isKeyField())y.push(vl(u,f.key));else{const v=f.data.field(b.field);if(Lg(v))throw new fe(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const k=b.field.canonicalString();throw new fe(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}y.push(v)}return new io(y,g)})(n._query,n.firestore._databaseId,e,t[0]._document,s);{const i=Ol(n.firestore);return(function(u,h,f,g,y,b){const v=u.explicitOrderBy;if(y.length>v.length)throw new fe(se.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let I=0;I<y.length;I++){const R=y[I];if(v[I].field.isKeyField()){if(typeof R!="string")throw new fe(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof R}`);if(!Yv(u)&&R.indexOf("/")!==-1)throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${R}' contains a slash.`);const D=u.path.child(Je.fromString(R));if(!ye.isDocumentKey(D))throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const P=new ye(D);k.push(vl(h,P))}else{const D=QI(f,g,R);k.push(D)}}return new io(k,b)})(n._query,n.firestore._databaseId,i,e,t,s)}}function eS(n,e,t){if(typeof(t=Ee(t))=="string"){if(t==="")throw new fe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yv(e)&&t.indexOf("/")!==-1)throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Je.fromString(t));if(!ye.isDocumentKey(s))throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vl(n,new ye(s))}if(t instanceof jt)return vl(n,t._key);throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dg(t)}.`)}function tS(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function s4(n,e){const t=(function(i,l){for(const u of i)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function nx(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class S7 extends Lw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,t)}}class rl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Qs=class r4 extends sf{constructor(e,t,s,i,l,u){super(e,t,s,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(kl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=r4._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:hn("string",Qs._jsonSchemaVersion),bundleSource:hn("string","DocumentSnapshot"),bundleName:hn("string"),bundle:hn("string")};let Rh=class extends Qs{data(e={}){return super.data(e)}},jr=class a4{constructor(e,t,s,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new rl(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Rh(this._firestore,this._userDataWriter,s.key,s,new rl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,l){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((h=>{const f=new Rh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new rl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const f=new Rh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new rl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,y=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:E7(h.type),doc:f,oldIndex:g,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=a4._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],i=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),i.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function E7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}function i4(n,e){return n instanceof Qs&&e instanceof Qs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof jr&&e instanceof jr&&n._firestore===e._firestore&&$I(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr._jsonSchemaVersion="firestore/querySnapshot/1.0",jr._jsonSchema={type:hn("string",jr._jsonSchemaVersion),bundleSource:hn("string","QuerySnapshot"),bundleName:hn("string"),bundle:hn("string")};const A7={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k7=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ol(e)}set(e,t,s){this._verifyNotCommitted();const i=$i(e,this._firestore),l=nx(i.converter,t,s),u=Jg(this._dataReader,"WriteBatch.set",i._key,l,i.converter!==null,s);return this._mutations.push(u.toMutation(i._key,Ot.none())),this}update(e,t,s,...i){this._verifyNotCommitted();const l=$i(e,this._firestore);let u;return u=typeof(t=Ee(t))=="string"||t instanceof Al?Ow(this._dataReader,"WriteBatch.update",l._key,t,s,i):Mw(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,Ot.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$i(e,this._firestore);return this._mutations=this._mutations.concat(new Bu(t._key,Ot.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function $i(n,e){if((n=Ee(n)).firestore!==e)throw new fe(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ol(e)}get(e){const t=$i(e,this._firestore),s=new S7(this._firestore);return this._transaction.lookup([t._key]).then((i=>{if(!i||i.length!==1)return we(24041);const l=i[0];if(l.isFoundDocument())return new sf(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new sf(this._firestore,s,t._key,null,t.converter);throw we(18433,{doc:l})}))}set(e,t,s){const i=$i(e,this._firestore),l=nx(i.converter,t,s),u=Jg(this._dataReader,"Transaction.set",i._key,l,i.converter!==null,s);return this._transaction.set(i._key,u),this}update(e,t,s,...i){const l=$i(e,this._firestore);let u;return u=typeof(t=Ee(t))=="string"||t instanceof Al?Ow(this._dataReader,"Transaction.update",l._key,t,s,i):Mw(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,u),this}delete(e){const t=$i(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C7=class extends I7{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=$i(e,this._firestore),s=new Ll(this._firestore);return super.get(e).then((i=>new Qs(this._firestore,s,t._key,i._document,new rl(!1,!1),t.converter)))}};function R7(n,e,t){n=it(n,en);const s={...A7,...t};(function(u){if(u.maxAttempts<1)throw new fe(se.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s);const i=qn(n);return GF(i,(l=>e(new C7(n,l))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(n){n=it(n,jt);const e=it(n.firestore,en),t=qn(e);return OI(t,n._key).then((s=>Fw(e,n,s)))}function P7(n){n=it(n,jt);const e=it(n.firestore,en),t=qn(e),s=new Ll(e);return BF(t,n._key).then((i=>new Qs(e,s,n._key,i,new rl(i!==null&&i.hasLocalMutations,!0),n.converter)))}function M7(n){n=it(n,jt);const e=it(n.firestore,en),t=qn(e);return OI(t,n._key,{source:"server"}).then((s=>Fw(e,n,s)))}function O7(n){n=it(n,es);const e=it(n.firestore,en),t=qn(e),s=new Ll(e);return t4(n._query),VI(t,n._query).then((i=>new jr(e,s,n,i)))}function V7(n){n=it(n,es);const e=it(n.firestore,en),t=qn(e),s=new Ll(e);return FF(t,n._query).then((i=>new jr(e,s,n,i)))}function L7(n){n=it(n,es);const e=it(n.firestore,en),t=qn(e),s=new Ll(e);return VI(t,n._query,{source:"server"}).then((i=>new jr(e,s,n,i)))}function nS(n,e,t){n=it(n,jt);const s=it(n.firestore,en),i=nx(n.converter,e,t),l=Ol(s);return Df(s,[Jg(l,"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ot.none())])}function sS(n,e,t,...s){n=it(n,jt);const i=it(n.firestore,en),l=Ol(i);let u;return u=typeof(e=Ee(e))=="string"||e instanceof Al?Ow(l,"updateDoc",n._key,e,t,s):Mw(l,"updateDoc",n._key,e),Df(i,[u.toMutation(n._key,Ot.exists(!0))])}function U7(n){return Df(it(n.firestore,en),[new Bu(n._key,Ot.none())])}function z7(n,e){const t=it(n.firestore,en),s=dg(n),i=nx(n.converter,e),l=Ol(n.firestore);return Df(t,[Jg(l,"addDoc",s._key,i,n.converter!==null,{}).toMutation(s._key,Ot.exists(!1))]).then((()=>s))}function o4(n,...e){var g,y,b;n=Ee(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Vb(e[s])||(t=e[s++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Vb(e[s])){const v=e[s];e[s]=(g=v.next)==null?void 0:g.bind(v),e[s+1]=(y=v.error)==null?void 0:y.bind(v),e[s+2]=(b=v.complete)==null?void 0:b.bind(v)}let l,u,h;if(n instanceof jt)u=it(n.firestore,en),h=Uu(n._key.path),l={next:v=>{e[s]&&e[s](Fw(u,n,v))},error:e[s+1],complete:e[s+2]};else{const v=it(n,es);u=it(v.firestore,en),h=v._query;const k=new Ll(u);l={next:I=>{e[s]&&e[s](new jr(u,k,v,I))},error:e[s+1],complete:e[s+2]},t4(n._query)}const f=qn(u);return zF(f,h,i,l)}function B7(n,e){n=it(n,en);const t=qn(n),s=Vb(e)?e:{next:e};return $F(t,s)}function Df(n,e){const t=qn(n);return qF(t,e)}function Fw(n,e,t){const s=t.docs.get(e._key),i=new Ll(n);return new Qs(n,i,e._key,s,new rl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){yU(co),Xs(new Zn("firestore",((s,{instanceIdentifier:i,options:l})=>{const u=s.getProvider("app").getImmediate(),h=new en(new jU(s.getProvider("auth-internal")),new SU(u,s.getProvider("app-check-internal")),uz(u,i),u);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Qn(X2,Z2,e),Qn(X2,Z2,"esm2020")})();const F7="@firebase/firestore-compat",q7="0.4.4";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){if(typeof Uint8Array>"u")throw new fe("unimplemented","Uint8Arrays are not available in this environment.")}function aS(){if(!oz())throw new fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}let l4=class Lb{constructor(e){this._delegate=e}static fromBase64String(e){return aS(),new Lb(Bn.fromBase64String(e))}static fromUint8Array(e){return rS(),new Lb(Bn.fromUint8Array(e))}toBase64(){return aS(),this._delegate.toBase64()}toUint8Array(){return rS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(n){return $7(n,["next","error","complete"])}function $7(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const s of e)if(s in t&&typeof t[s]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{enableIndexedDbPersistence(e,t){return e7(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return t7(e._delegate)}clearIndexedDbPersistence(e){return n7(e._delegate)}}class c4{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof so||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ha("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,s={}){QF(this._delegate,e,t,s)}enableNetwork(){return r7(this._delegate)}disableNetwork(){return a7(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,CA("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return s7(this._delegate)}onSnapshotsInSync(e){return B7(this._delegate,e)}get app(){if(!this._appCompat)throw new fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Eu(this,FI(this._delegate,e))}catch(t){throw Wn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ws(this,dg(this._delegate,e))}catch(t){throw Wn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Kn(this,JF(this._delegate,e))}catch(t){throw Wn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return R7(this._delegate,t=>e(new u4(this,t)))}batch(){return qn(this._delegate),new d4(new k7(this._delegate,e=>Df(this._delegate,e)))}loadBundle(e){return i7(this._delegate,e)}namedQuery(e){return o7(this._delegate,e).then(t=>t?new Kn(this,t):null)}}class sx extends Lw{constructor(e){super(),this.firestore=e}convertBytes(e){return new l4(new Bn(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ws.forKey(t,this.firestore,null)}}function H7(n){bU(n)}class u4{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new sx(e)}get(e){const t=al(e);return this._delegate.get(t).then(s=>new rf(this._firestore,new Qs(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const i=al(e);return s?(qw("Transaction.set",s),this._delegate.set(i,t,s)):this._delegate.set(i,t),this}update(e,t,s,...i){const l=al(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,s,...i),this}delete(e){const t=al(e);return this._delegate.delete(t),this}}class d4{constructor(e){this._delegate=e}set(e,t,s){const i=al(e);return s?(qw("WriteBatch.set",s),this._delegate.set(i,t,s)):this._delegate.set(i,t),this}update(e,t,s,...i){const l=al(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,s,...i),this}delete(e){const t=al(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Il{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Rh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new af(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Il.INSTANCES;let i=s.get(e);i||(i=new WeakMap,s.set(e,i));let l=i.get(t);return l||(l=new Il(e,new sx(e),t),i.set(t,l)),l}}Il.INSTANCES=new WeakMap;class Ws{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sx(e)}static forPath(e,t,s){if(e.length%2!==0)throw new fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ws(t,new jt(t._delegate,s,new ye(e)))}static forKey(e,t,s){return new Ws(t,new jt(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Eu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Eu(this.firestore,FI(this._delegate,e))}catch(t){throw Wn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ee(e),e instanceof jt?qI(this._delegate,e):!1}set(e,t){t=qw("DocumentReference.set",t);try{return t?nS(this._delegate,e,t):nS(this._delegate,e)}catch(s){throw Wn(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return arguments.length===1?sS(this._delegate,e):sS(this._delegate,e,t,...s)}catch(i){throw Wn(i,"updateDoc()","DocumentReference.update()")}}delete(){return U7(this._delegate)}onSnapshot(...e){const t=h4(e),s=f4(e,i=>new rf(this.firestore,new Qs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return o4(this._delegate,t,s)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=P7(this._delegate):(e==null?void 0:e.source)==="server"?t=M7(this._delegate):t=D7(this._delegate),t.then(s=>new rf(this.firestore,new Qs(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ws(this.firestore,e?this._delegate.withConverter(Il.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Wn(n,e,t){return n.message=n.message.replace(e,t),n}function h4(n){for(const e of n)if(typeof e=="object"&&!Ub(e))return e;return{}}function f4(n,e){var s,i;let t;return Ub(n[0])?t=n[0]:Ub(n[1])?t=n[1]:typeof n[0]=="function"?t={next:n[0],error:n[1],complete:n[2]}:t={next:n[1],error:n[2],complete:n[3]},{next:l=>{t.next&&t.next(e(l))},error:(s=t.error)==null?void 0:s.bind(t),complete:(i=t.complete)==null?void 0:i.bind(t)}}class rf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ws(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return i4(this._delegate,e._delegate)}}class af extends rf{data(e){const t=this._delegate.data(e);return this._delegate._converter||vU(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Kn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sx(e)}where(e,t,s){try{return new Kn(this.firestore,zi(this._delegate,y7(e,t,s)))}catch(i){throw Wn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Kn(this.firestore,zi(this._delegate,b7(e,t)))}catch(s){throw Wn(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Kn(this.firestore,zi(this._delegate,v7(e)))}catch(t){throw Wn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Kn(this.firestore,zi(this._delegate,w7(e)))}catch(t){throw Wn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Kn(this.firestore,zi(this._delegate,_7(...e)))}catch(t){throw Wn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Kn(this.firestore,zi(this._delegate,j7(...e)))}catch(t){throw Wn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Kn(this.firestore,zi(this._delegate,N7(...e)))}catch(t){throw Wn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Kn(this.firestore,zi(this._delegate,T7(...e)))}catch(t){throw Wn(t,"endAt()","Query.endAt()")}}isEqual(e){return $I(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=V7(this._delegate):(e==null?void 0:e.source)==="server"?t=L7(this._delegate):t=O7(this._delegate),t.then(s=>new zb(this.firestore,new jr(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=h4(e),s=f4(e,i=>new zb(this.firestore,new jr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return o4(this._delegate,t,s)}withConverter(e){return new Kn(this.firestore,e?this._delegate.withConverter(Il.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class K7{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new af(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Kn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new af(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new K7(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new af(this._firestore,s))})}isEqual(e){return i4(this._delegate,e._delegate)}}class Eu extends Kn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ws(this.firestore,e):null}doc(e){try{return e===void 0?new Ws(this.firestore,dg(this._delegate)):new Ws(this.firestore,dg(this._delegate,e))}catch(t){throw Wn(t,"doc()","CollectionReference.doc()")}}add(e){return z7(this._delegate,e).then(t=>new Ws(this.firestore,t))}isEqual(e){return qI(this._delegate,e._delegate)}withConverter(e){return new Eu(this.firestore,e?this._delegate.withConverter(Il.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function al(n){return it(n,jt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(...e){this._delegate=new Al(...e)}static documentId(){return new $w(Mt.keyField().canonicalString())}isEqual(e){return e=Ee(e),e instanceof Al?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{static serverTimestamp(){const e=f7();return e._methodName="FieldValue.serverTimestamp",new tl(e)}static delete(){const e=h7();return e._methodName="FieldValue.delete",new tl(e)}static arrayUnion(...e){const t=m7(...e);return t._methodName="FieldValue.arrayUnion",new tl(t)}static arrayRemove(...e){const t=p7(...e);return t._methodName="FieldValue.arrayRemove",new tl(t)}static increment(e){const t=g7(e);return t._methodName="FieldValue.increment",new tl(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7={Firestore:c4,GeoPoint:wr,Timestamp:ut,Blob:l4,Transaction:u4,WriteBatch:d4,DocumentReference:Ws,DocumentSnapshot:rf,Query:Kn,QueryDocumentSnapshot:af,QuerySnapshot:zb,CollectionReference:Eu,FieldPath:$w,FieldValue:tl,setLogLevel:H7,CACHE_SIZE_UNLIMITED:ZF};function Y7(n,e){n.INTERNAL.registerComponent(new Zn("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(s,i)},"PUBLIC").setServiceProps({...W7}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(n){Y7(n,(e,t)=>new c4(e,t,new G7)),n.registerVersion(F7,q7)}Q7(uo);const m4="@firebase/installations",Gw="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=1e4,g4=`w:${Gw}`,x4="FIS_v2",J7="https://firebaseinstallations.googleapis.com/v1",X7=3600*1e3,Z7="installations",eq="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Cl=new Ja(Z7,eq,tq);function y4(n){return n instanceof Rn&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4({projectId:n}){return`${J7}/projects/${n}/installations`}function v4(n){return{token:n.token,requestStatus:2,expiresIn:sq(n.expiresIn),creationTime:Date.now()}}async function w4(n,e){const s=(await e.json()).error;return Cl.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function _4({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function nq(n,{refreshToken:e}){const t=_4(n);return t.append("Authorization",rq(e)),t}async function j4(n){const e=await n();return e.status>=500&&e.status<600?n():e}function sq(n){return Number(n.replace("s","000"))}function rq(n){return`${x4} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aq({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const s=b4(n),i=_4(n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&i.append("x-firebase-client",g)}const u={fid:t,authVersion:x4,appId:n.appId,sdkVersion:g4},h={method:"POST",headers:i,body:JSON.stringify(u)},f=await j4(()=>fetch(s,h));if(f.ok){const g=await f.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:v4(g.authToken)}}else throw await w4("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=/^[cdef][\w-]{21}$/,Bb="";function lq(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=cq(n);return oq.test(t)?t:Bb}catch{return Bb}}function cq(n){return iq(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=new Map;function S4(n,e){const t=rx(n);E4(t,e),uq(t,e)}function E4(n,e){const t=T4.get(n);if(t)for(const s of t)s(e)}function uq(n,e){const t=dq();t&&t.postMessage({key:n,fid:e}),hq()}let il=null;function dq(){return!il&&"BroadcastChannel"in self&&(il=new BroadcastChannel("[Firebase] FID Change"),il.onmessage=n=>{E4(n.data.key,n.data.fid)}),il}function hq(){T4.size===0&&il&&(il.close(),il=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq="firebase-installations-database",mq=1,Rl="firebase-installations-store";let zy=null;function Hw(){return zy||(zy=pE(fq,mq,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Rl)}}})),zy}async function fg(n,e){const t=rx(n),i=(await Hw()).transaction(Rl,"readwrite"),l=i.objectStore(Rl),u=await l.get(t);return await l.put(e,t),await i.done,(!u||u.fid!==e.fid)&&S4(n,e.fid),e}async function A4(n){const e=rx(n),s=(await Hw()).transaction(Rl,"readwrite");await s.objectStore(Rl).delete(e),await s.done}async function ax(n,e){const t=rx(n),i=(await Hw()).transaction(Rl,"readwrite"),l=i.objectStore(Rl),u=await l.get(t),h=e(u);return h===void 0?await l.delete(t):await l.put(h,t),await i.done,h&&(!u||u.fid!==h.fid)&&S4(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kw(n){let e;const t=await ax(n.appConfig,s=>{const i=pq(s),l=gq(n,i);return e=l.registrationPromise,l.installationEntry});return t.fid===Bb?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function pq(n){const e=n||{fid:lq(),registrationStatus:0};return k4(e)}function gq(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Cl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=xq(n,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:yq(n)}:{installationEntry:e}}async function xq(n,e){try{const t=await aq(n,e);return fg(n.appConfig,t)}catch(t){throw y4(t)&&t.customData.serverCode===409?await A4(n.appConfig):await fg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function yq(n){let e=await iS(n.appConfig);for(;e.registrationStatus===1;)await N4(100),e=await iS(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Kw(n);return s||t}return e}function iS(n){return ax(n,e=>{if(!e)throw Cl.create("installation-not-found");return k4(e)})}function k4(n){return bq(n)?{fid:n.fid,registrationStatus:0}:n}function bq(n){return n.registrationStatus===1&&n.registrationTime+p4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vq({appConfig:n,heartbeatServiceProvider:e},t){const s=wq(n,t),i=nq(n,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&i.append("x-firebase-client",g)}const u={installation:{sdkVersion:g4,appId:n.appId}},h={method:"POST",headers:i,body:JSON.stringify(u)},f=await j4(()=>fetch(s,h));if(f.ok){const g=await f.json();return v4(g)}else throw await w4("Generate Auth Token",f)}function wq(n,{fid:e}){return`${b4(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ww(n,e=!1){let t;const s=await ax(n.appConfig,l=>{if(!I4(l))throw Cl.create("not-registered");const u=l.authToken;if(!e&&Nq(u))return l;if(u.requestStatus===1)return t=_q(n,e),l;{if(!navigator.onLine)throw Cl.create("app-offline");const h=Sq(l);return t=jq(n,h),h}});return t?await t:s.authToken}async function _q(n,e){let t=await oS(n.appConfig);for(;t.authToken.requestStatus===1;)await N4(100),t=await oS(n.appConfig);const s=t.authToken;return s.requestStatus===0?Ww(n,e):s}function oS(n){return ax(n,e=>{if(!I4(e))throw Cl.create("not-registered");const t=e.authToken;return Eq(t)?{...e,authToken:{requestStatus:0}}:e})}async function jq(n,e){try{const t=await vq(n,e),s={...e,authToken:t};return await fg(n.appConfig,s),t}catch(t){if(y4(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await A4(n.appConfig);else{const s={...e,authToken:{requestStatus:0}};await fg(n.appConfig,s)}throw t}}function I4(n){return n!==void 0&&n.registrationStatus===2}function Nq(n){return n.requestStatus===2&&!Tq(n)}function Tq(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+X7}function Sq(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function Eq(n){return n.requestStatus===1&&n.requestTime+p4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aq(n){const e=n,{installationEntry:t,registrationPromise:s}=await Kw(e);return s?s.catch(console.error):Ww(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kq(n,e=!1){const t=n;return await Iq(t),(await Ww(t,e)).token}async function Iq(n){const{registrationPromise:e}=await Kw(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(n){if(!n||!n.options)throw By("App Configuration");if(!n.name)throw By("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw By(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function By(n){return Cl.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="installations",Rq="installations-internal",Dq=n=>{const e=n.getProvider("app").getImmediate(),t=Cq(e),s=wg(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Pq=n=>{const e=n.getProvider("app").getImmediate(),t=wg(e,C4).getImmediate();return{getId:()=>Aq(t),getToken:i=>kq(t,i)}};function Mq(){Xs(new Zn(C4,Dq,"PUBLIC")),Xs(new Zn(Rq,Pq,"PRIVATE"))}Mq();Qn(m4,Gw);Qn(m4,Gw,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="analytics",Oq="firebase_id",Vq="origin",Lq=60*1e3,Uq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new df("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Es=new Ja("analytics","Analytics",zq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(n){if(!n.startsWith(Yw)){const e=Es.create("invalid-gtag-resource",{gtagURL:n});return jn.warn(e.message),""}return n}function R4(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Fq(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function qq(n,e){const t=Fq("firebase-js-sdk-policy",{createScriptURL:Bq}),s=document.createElement("script"),i=`${Yw}?l=${n}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(i):i,s.async=!0,document.head.appendChild(s)}function $q(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Gq(n,e,t,s,i,l){const u=s[i];try{if(u)await e[u];else{const f=(await R4(t)).find(g=>g.measurementId===i);f&&await e[f.appId]}}catch(h){jn.error(h)}n("config",i,l)}async function Hq(n,e,t,s,i){try{let l=[];if(i&&i.send_to){let u=i.send_to;Array.isArray(u)||(u=[u]);const h=await R4(t);for(const f of u){const g=h.find(b=>b.measurementId===f),y=g&&e[g.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",s,i||{})}catch(l){jn.error(l)}}function Kq(n,e,t,s){async function i(l,...u){try{if(l==="event"){const[h,f]=u;await Hq(n,e,t,h,f)}else if(l==="config"){const[h,f]=u;await Gq(n,e,t,s,h,f)}else if(l==="consent"){const[h,f]=u;n("consent",h,f)}else if(l==="get"){const[h,f,g]=u;n("get",h,f,g)}else if(l==="set"){const[h]=u;n("set",h)}else n(l,...u)}catch(h){jn.error(h)}}return i}function Wq(n,e,t,s,i){let l=function(...u){window[s].push(arguments)};return window[i]&&typeof window[i]=="function"&&(l=window[i]),window[i]=Kq(l,n,e,t),{gtagCore:l,wrappedGtag:window[i]}}function Yq(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Yw)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=30,Jq=1e3;class Xq{constructor(e={},t=Jq){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const D4=new Xq;function Zq(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function e$(n){var u;const{appId:e,apiKey:t}=n,s={method:"GET",headers:Zq(t)},i=Uq.replace("{app-id}",e),l=await fetch(i,s);if(l.status!==200&&l.status!==304){let h="";try{const f=await l.json();(u=f.error)!=null&&u.message&&(h=f.error.message)}catch{}throw Es.create("config-fetch-failed",{httpStatus:l.status,responseMessage:h})}return l.json()}async function t$(n,e=D4,t){const{appId:s,apiKey:i,measurementId:l}=n.options;if(!s)throw Es.create("no-app-id");if(!i){if(l)return{measurementId:l,appId:s};throw Es.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new r$;return setTimeout(async()=>{h.abort()},Lq),P4({appId:s,apiKey:i,measurementId:l},u,h,e)}async function P4(n,{throttleEndTimeMillis:e,backoffCount:t},s,i=D4){var h;const{appId:l,measurementId:u}=n;try{await n$(s,e)}catch(f){if(u)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:u};throw f}try{const f=await e$(n);return i.deleteThrottleMetadata(l),f}catch(f){const g=f;if(!s$(g)){if(i.deleteThrottleMetadata(l),u)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:l,measurementId:u};throw f}const y=Number((h=g==null?void 0:g.customData)==null?void 0:h.httpStatus)===503?eT(t,i.intervalMillis,Qq):eT(t,i.intervalMillis),b={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return i.setThrottleMetadata(l,b),jn.debug(`Calling attemptFetch again in ${y} millis`),P4(n,b,s,i)}}function n$(n,e){return new Promise((t,s)=>{const i=Math.max(e-Date.now(),0),l=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(l),s(Es.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function s$(n){if(!(n instanceof Rn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class r${constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function a$(n,e,t,s,i){if(i&&i.global){n("event",t,s);return}else{const l=await e,u={...s,send_to:l};n("event",t,u)}}async function i$(n,e,t,s){if(s&&s.global)return n("set",{screen_name:t}),Promise.resolve();{const i=await e;n("config",i,{update:!0,screen_name:t})}}async function o$(n,e,t,s){if(s&&s.global)return n("set",{user_id:t}),Promise.resolve();{const i=await e;n("config",i,{update:!0,user_id:t})}}async function l$(n,e,t,s){if(s&&s.global){const i={};for(const l of Object.keys(t))i[`user_properties.${l}`]=t[l];return n("set",i),Promise.resolve()}else{const i=await e;n("config",i,{update:!0,user_properties:t})}}async function c$(n,e){const t=await n;window[`ga-disable-${t}`]=!e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u$(){if(gl())try{await dv()}catch(n){return jn.warn(Es.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return jn.warn(Es.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function d$(n,e,t,s,i,l,u){const h=t$(n);h.then(v=>{t[v.measurementId]=v.appId,n.options.measurementId&&v.measurementId!==n.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>jn.error(v)),e.push(h);const f=u$().then(v=>{if(v)return s.getId()}),[g,y]=await Promise.all([h,f]);Yq(l)||qq(l,g.measurementId),i("js",new Date);const b=(u==null?void 0:u.config)??{};return b[Vq]="firebase",b.update=!0,y!=null&&(b[Oq]=y),i("config",g.measurementId,b),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h$=class{constructor(e){this.app=e}_delete(){return delete Fa[this.app.options.appId],Promise.resolve()}},Fa={},cS=[];const uS={};let Up="dataLayer",M4="gtag",dS,Pf,Fb=!1;function f$(n){if(Fb)throw Es.create("already-initialized");n.dataLayerName&&(Up=n.dataLayerName),n.gtagName&&(M4=n.gtagName)}function m$(){const n=[];if(vg()&&n.push("This is a browser extension environment."),cE()||n.push("Cookies are not available."),n.length>0){const e=n.map((s,i)=>`(${i+1}) ${s}`).join(" "),t=Es.create("invalid-analytics-context",{errorInfo:e});jn.warn(t.message)}}function p$(n,e,t){m$();const s=n.options.appId;if(!s)throw Es.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Es.create("no-api-key");if(Fa[s]!=null)throw Es.create("already-exists",{id:s});if(!Fb){$q(Up);const{wrappedGtag:l,gtagCore:u}=Wq(Fa,cS,uS,Up,M4);Pf=l,dS=u,Fb=!0}return Fa[s]=d$(n,cS,uS,e,dS,Up,t),new h$(n)}async function g$(){if(vg()||!cE()||!gl())return!1;try{return await dv()}catch{return!1}}function x$(n,e,t){n=Ee(n),i$(Pf,Fa[n.app.options.appId],e,t).catch(s=>jn.error(s))}function y$(n,e,t){n=Ee(n),o$(Pf,Fa[n.app.options.appId],e,t).catch(s=>jn.error(s))}function O4(n,e,t){n=Ee(n),l$(Pf,Fa[n.app.options.appId],e,t).catch(s=>jn.error(s))}function b$(n,e){n=Ee(n),c$(Fa[n.app.options.appId],e).catch(t=>jn.error(t))}function V4(n,e,t,s){n=Ee(n),a$(Pf,Fa[n.app.options.appId],e,t,s).catch(i=>jn.error(i))}const hS="@firebase/analytics",fS="0.10.19";function v$(){Xs(new Zn(lS,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return p$(s,i,t)},"PUBLIC")),Xs(new Zn("analytics-internal",n,"PRIVATE")),Qn(hS,fS),Qn(hS,fS,"esm2020");function n(e){try{const t=e.getProvider(lS).getImmediate();return{logEvent:(s,i,l)=>V4(t,s,i,l),setUserProperties:(s,i)=>O4(t,s,i)}}catch(t){throw Es.create("interop-component-reg-failed",{reason:t})}}}v$();const w$="@firebase/analytics-compat",_$="0.2.25";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,t){this.app=e,this._delegate=t}logEvent(e,t,s){V4(this._delegate,e,t,s)}setCurrentScreen(e,t){x$(this._delegate,e,t)}setUserId(e,t){y$(this._delegate,e,t)}setUserProperties(e,t){O4(this._delegate,e,t)}setAnalyticsCollectionEnabled(e){b$(this._delegate,e)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qb;(function(n){n.ADD_SHIPPING_INFO="add_shipping_info",n.ADD_PAYMENT_INFO="add_payment_info",n.ADD_TO_CART="add_to_cart",n.ADD_TO_WISHLIST="add_to_wishlist",n.BEGIN_CHECKOUT="begin_checkout",n.CHECKOUT_PROGRESS="checkout_progress",n.EXCEPTION="exception",n.GENERATE_LEAD="generate_lead",n.LOGIN="login",n.PAGE_VIEW="page_view",n.PURCHASE="purchase",n.REFUND="refund",n.REMOVE_FROM_CART="remove_from_cart",n.SCREEN_VIEW="screen_view",n.SEARCH="search",n.SELECT_CONTENT="select_content",n.SELECT_ITEM="select_item",n.SELECT_PROMOTION="select_promotion",n.SET_CHECKOUT_OPTION="set_checkout_option",n.SHARE="share",n.SIGN_UP="sign_up",n.TIMING_COMPLETE="timing_complete",n.VIEW_CART="view_cart",n.VIEW_ITEM="view_item",n.VIEW_ITEM_LIST="view_item_list",n.VIEW_PROMOTION="view_promotion",n.VIEW_SEARCH_RESULTS="view_search_results"})(qb||(qb={}));/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=n=>{const e=n.getProvider("app-compat").getImmediate(),t=n.getProvider("analytics").getImmediate();return new L4(e,t)};function N$(){const n={Analytics:L4,settings:f$,isSupported:g$,EventName:qb};uo.INTERNAL.registerComponent(new Zn("analytics-compat",j$,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}N$();uo.registerVersion(w$,_$);const T$={apiKey:"AIzaSyDxhDxNIO-Svce0yRajiWPT0Xw22IwPBvE",authDomain:"traffic-websites.firebaseapp.com",projectId:"traffic-websites",storageBucket:"traffic-websites.firebasestorage.app",messagingSenderId:"617379565314",appId:"1:617379565314:web:8f9ce22c31b2548cc4bc1b",measurementId:"G-SWTXXWP99R"},Qw=uo.initializeApp(T$);Qw.auth();Qw.firestore();Qw.analytics();const U4=document.getElementById("root");if(!U4)throw new Error("Could not find root element to mount to");const S$=AR.createRoot(U4);S$.render(r.jsx(yr.StrictMode,{children:r.jsx(vS,{children:r.jsx(vP,{children:r.jsx(NM,{})})})}));
