var L6=Object.defineProperty;var z6=(a,e,s)=>e in a?L6(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var Si=(a,e,s)=>z6(a,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();function Tu(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var eb={exports:{}},Fh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V2;function V6(){if(V2)return Fh;V2=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:a,type:r,key:c,ref:i!==void 0?i:null,props:l}}return Fh.Fragment=e,Fh.jsx=s,Fh.jsxs=s,Fh}var U2;function U6(){return U2||(U2=1,eb.exports=V6()),eb.exports}var t=U6(),tb={exports:{}},ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2;function F6(){if(F2)return ct;F2=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function E(K){return K===null||typeof K!="object"?null:(K=v&&K[v]||K["@@iterator"],typeof K=="function"?K:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function O(K,W,B){this.props=K,this.context=W,this.refs=T,this.updater=B||N}O.prototype.isReactComponent={},O.prototype.setState=function(K,W){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,W,"setState")},O.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function U(){}U.prototype=O.prototype;function M(K,W,B){this.props=K,this.context=W,this.refs=T,this.updater=B||N}var L=M.prototype=new U;L.constructor=M,S(L,O.prototype),L.isPureReactComponent=!0;var $=Array.isArray;function X(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function _(K,W,B){var F=B.ref;return{$$typeof:a,type:K,key:W,ref:F!==void 0?F:null,props:B}}function P(K,W){return _(K.type,W,K.props)}function D(K){return typeof K=="object"&&K!==null&&K.$$typeof===a}function z(K){var W={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(B){return W[B]})}var I=/\/+/g;function Z(K,W){return typeof K=="object"&&K!==null&&K.key!=null?z(""+K.key):W.toString(36)}function Ee(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(X,X):(K.status="pending",K.then(function(W){K.status==="pending"&&(K.status="fulfilled",K.value=W)},function(W){K.status==="pending"&&(K.status="rejected",K.reason=W)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function te(K,W,B,F,se){var je=typeof K;(je==="undefined"||je==="boolean")&&(K=null);var Ce=!1;if(K===null)Ce=!0;else switch(je){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(K.$$typeof){case a:case e:Ce=!0;break;case g:return Ce=K._init,te(Ce(K._payload),W,B,F,se)}}if(Ce)return se=se(K),Ce=F===""?"."+Z(K,0):F,$(se)?(B="",Ce!=null&&(B=Ce.replace(I,"$&/")+"/"),te(se,W,B,"",function(J){return J})):se!=null&&(D(se)&&(se=P(se,B+(se.key==null||K&&K.key===se.key?"":(""+se.key).replace(I,"$&/")+"/")+Ce)),W.push(se)),1;Ce=0;var Le=F===""?".":F+":";if($(K))for(var ze=0;ze<K.length;ze++)F=K[ze],je=Le+Z(F,ze),Ce+=te(F,W,B,je,se);else if(ze=E(K),typeof ze=="function")for(K=ze.call(K),ze=0;!(F=K.next()).done;)F=F.value,je=Le+Z(F,ze++),Ce+=te(F,W,B,je,se);else if(je==="object"){if(typeof K.then=="function")return te(Ee(K),W,B,F,se);throw W=String(K),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function G(K,W,B){if(K==null)return K;var F=[],se=0;return te(K,F,"","",function(je){return W.call(B,je,se++)}),F}function ye(K){if(K._status===-1){var W=K._result;W=W(),W.then(function(B){(K._status===0||K._status===-1)&&(K._status=1,K._result=B)},function(B){(K._status===0||K._status===-1)&&(K._status=2,K._result=B)}),K._status===-1&&(K._status=0,K._result=W)}if(K._status===1)return K._result.default;throw K._result}var Re=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},Pe={map:G,forEach:function(K,W,B){G(K,function(){W.apply(this,arguments)},B)},count:function(K){var W=0;return G(K,function(){W++}),W},toArray:function(K){return G(K,function(W){return W})||[]},only:function(K){if(!D(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return ct.Activity=b,ct.Children=Pe,ct.Component=O,ct.Fragment=s,ct.Profiler=i,ct.PureComponent=M,ct.StrictMode=r,ct.Suspense=u,ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,ct.__COMPILER_RUNTIME={__proto__:null,c:function(K){return C.H.useMemoCache(K)}},ct.cache=function(K){return function(){return K.apply(null,arguments)}},ct.cacheSignal=function(){return null},ct.cloneElement=function(K,W,B){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var F=S({},K.props),se=K.key;if(W!=null)for(je in W.key!==void 0&&(se=""+W.key),W)!R.call(W,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&W.ref===void 0||(F[je]=W[je]);var je=arguments.length-2;if(je===1)F.children=B;else if(1<je){for(var Ce=Array(je),Le=0;Le<je;Le++)Ce[Le]=arguments[Le+2];F.children=Ce}return _(K.type,se,F)},ct.createContext=function(K){return K={$$typeof:c,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:l,_context:K},K},ct.createElement=function(K,W,B){var F,se={},je=null;if(W!=null)for(F in W.key!==void 0&&(je=""+W.key),W)R.call(W,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(se[F]=W[F]);var Ce=arguments.length-2;if(Ce===1)se.children=B;else if(1<Ce){for(var Le=Array(Ce),ze=0;ze<Ce;ze++)Le[ze]=arguments[ze+2];se.children=Le}if(K&&K.defaultProps)for(F in Ce=K.defaultProps,Ce)se[F]===void 0&&(se[F]=Ce[F]);return _(K,je,se)},ct.createRef=function(){return{current:null}},ct.forwardRef=function(K){return{$$typeof:f,render:K}},ct.isValidElement=D,ct.lazy=function(K){return{$$typeof:g,_payload:{_status:-1,_result:K},_init:ye}},ct.memo=function(K,W){return{$$typeof:m,type:K,compare:W===void 0?null:W}},ct.startTransition=function(K){var W=C.T,B={};C.T=B;try{var F=K(),se=C.S;se!==null&&se(B,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(X,Re)}catch(je){Re(je)}finally{W!==null&&B.types!==null&&(W.types=B.types),C.T=W}},ct.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},ct.use=function(K){return C.H.use(K)},ct.useActionState=function(K,W,B){return C.H.useActionState(K,W,B)},ct.useCallback=function(K,W){return C.H.useCallback(K,W)},ct.useContext=function(K){return C.H.useContext(K)},ct.useDebugValue=function(){},ct.useDeferredValue=function(K,W){return C.H.useDeferredValue(K,W)},ct.useEffect=function(K,W){return C.H.useEffect(K,W)},ct.useEffectEvent=function(K){return C.H.useEffectEvent(K)},ct.useId=function(){return C.H.useId()},ct.useImperativeHandle=function(K,W,B){return C.H.useImperativeHandle(K,W,B)},ct.useInsertionEffect=function(K,W){return C.H.useInsertionEffect(K,W)},ct.useLayoutEffect=function(K,W){return C.H.useLayoutEffect(K,W)},ct.useMemo=function(K,W){return C.H.useMemo(K,W)},ct.useOptimistic=function(K,W){return C.H.useOptimistic(K,W)},ct.useReducer=function(K,W,B){return C.H.useReducer(K,W,B)},ct.useRef=function(K){return C.H.useRef(K)},ct.useState=function(K){return C.H.useState(K)},ct.useSyncExternalStore=function(K,W,B){return C.H.useSyncExternalStore(K,W,B)},ct.useTransition=function(){return C.H.useTransition()},ct.version="19.2.4",ct}var B2;function iw(){return B2||(B2=1,tb.exports=F6()),tb.exports}var w=iw();const He=Tu(w);var sb={exports:{}},Bh={},ab={exports:{}},rb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2;function B6(){return $2||($2=1,(function(a){function e(te,G){var ye=te.length;te.push(G);e:for(;0<ye;){var Re=ye-1>>>1,Pe=te[Re];if(0<i(Pe,G))te[Re]=G,te[ye]=Pe,ye=Re;else break e}}function s(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var G=te[0],ye=te.pop();if(ye!==G){te[0]=ye;e:for(var Re=0,Pe=te.length,K=Pe>>>1;Re<K;){var W=2*(Re+1)-1,B=te[W],F=W+1,se=te[F];if(0>i(B,ye))F<Pe&&0>i(se,B)?(te[Re]=se,te[F]=ye,Re=F):(te[Re]=B,te[W]=ye,Re=W);else if(F<Pe&&0>i(se,ye))te[Re]=se,te[F]=ye,Re=F;else break e}}return G}function i(te,G){var ye=te.sortIndex-G.sortIndex;return ye!==0?ye:te.id-G.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();a.unstable_now=function(){return c.now()-f}}var u=[],m=[],g=1,b=null,v=3,E=!1,N=!1,S=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function L(te){for(var G=s(m);G!==null;){if(G.callback===null)r(m);else if(G.startTime<=te)r(m),G.sortIndex=G.expirationTime,e(u,G);else break;G=s(m)}}function $(te){if(S=!1,L(te),!N)if(s(u)!==null)N=!0,X||(X=!0,z());else{var G=s(m);G!==null&&Ee($,G.startTime-te)}}var X=!1,C=-1,R=5,_=-1;function P(){return T?!0:!(a.unstable_now()-_<R)}function D(){if(T=!1,X){var te=a.unstable_now();_=te;var G=!0;try{e:{N=!1,S&&(S=!1,U(C),C=-1),E=!0;var ye=v;try{t:{for(L(te),b=s(u);b!==null&&!(b.expirationTime>te&&P());){var Re=b.callback;if(typeof Re=="function"){b.callback=null,v=b.priorityLevel;var Pe=Re(b.expirationTime<=te);if(te=a.unstable_now(),typeof Pe=="function"){b.callback=Pe,L(te),G=!0;break t}b===s(u)&&r(u),L(te)}else r(u);b=s(u)}if(b!==null)G=!0;else{var K=s(m);K!==null&&Ee($,K.startTime-te),G=!1}}break e}finally{b=null,v=ye,E=!1}G=void 0}}finally{G?z():X=!1}}}var z;if(typeof M=="function")z=function(){M(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Z=I.port2;I.port1.onmessage=D,z=function(){Z.postMessage(null)}}else z=function(){O(D,0)};function Ee(te,G){C=O(function(){te(a.unstable_now())},G)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(te){te.callback=null},a.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<te?Math.floor(1e3/te):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(te){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var ye=v;v=G;try{return te()}finally{v=ye}},a.unstable_requestPaint=function(){T=!0},a.unstable_runWithPriority=function(te,G){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ye=v;v=te;try{return G()}finally{v=ye}},a.unstable_scheduleCallback=function(te,G,ye){var Re=a.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Re+ye:Re):ye=Re,te){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=ye+Pe,te={id:g++,callback:G,priorityLevel:te,startTime:ye,expirationTime:Pe,sortIndex:-1},ye>Re?(te.sortIndex=ye,e(m,te),s(u)===null&&te===s(m)&&(S?(U(C),C=-1):S=!0,Ee($,ye-Re))):(te.sortIndex=Pe,e(u,te),N||E||(N=!0,X||(X=!0,z()))),te},a.unstable_shouldYield=P,a.unstable_wrapCallback=function(te){var G=v;return function(){var ye=v;v=G;try{return te.apply(this,arguments)}finally{v=ye}}}})(rb)),rb}var q2;function $6(){return q2||(q2=1,ab.exports=B6()),ab.exports}var nb={exports:{}},Aa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2;function q6(){if(H2)return Aa;H2=1;var a=iw();function e(u){var m="https://react.dev/errors/"+u;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(u,m,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:u,containerInfo:m,implementation:g}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(u,m){if(u==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Aa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Aa.createPortal=function(u,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(u,m,null,g)},Aa.flushSync=function(u){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,u)return u()}finally{c.T=m,r.p=g,r.d.f()}},Aa.preconnect=function(u,m){typeof u=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(u,m))},Aa.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Aa.preinit=function(u,m){if(typeof u=="string"&&m&&typeof m.as=="string"){var g=m.as,b=f(g,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(u,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:E}):g==="script"&&r.d.X(u,{crossOrigin:b,integrity:v,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Aa.preinitModule=function(u,m){if(typeof u=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);r.d.M(u,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(u)},Aa.preload=function(u,m){if(typeof u=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,b=f(g,m.crossOrigin);r.d.L(u,g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Aa.preloadModule=function(u,m){if(typeof u=="string")if(m){var g=f(m.as,m.crossOrigin);r.d.m(u,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(u)},Aa.requestFormReset=function(u){r.d.r(u)},Aa.unstable_batchedUpdates=function(u,m){return u(m)},Aa.useFormState=function(u,m,g){return c.H.useFormState(u,m,g)},Aa.useFormStatus=function(){return c.H.useHostTransitionStatus()},Aa.version="19.2.4",Aa}var G2;function H6(){if(G2)return nb.exports;G2=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),nb.exports=q6(),nb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2;function G6(){if(K2)return Bh;K2=1;var a=$6(),e=iw(),s=H6();function r(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var o=n,d=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(d=o.return),n=o.return;while(n)}return o.tag===3?d:null}function c(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function f(n){if(n.tag===31){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function u(n){if(l(n)!==n)throw Error(r(188))}function m(n){var o=n.alternate;if(!o){if(o=l(n),o===null)throw Error(r(188));return o!==n?null:n}for(var d=n,h=o;;){var x=d.return;if(x===null)break;var y=x.alternate;if(y===null){if(h=x.return,h!==null){d=h;continue}break}if(x.child===y.child){for(y=x.child;y;){if(y===d)return u(x),n;if(y===h)return u(x),o;y=y.sibling}throw Error(r(188))}if(d.return!==h.return)d=x,h=y;else{for(var k=!1,V=x.child;V;){if(V===d){k=!0,d=x,h=y;break}if(V===h){k=!0,h=x,d=y;break}V=V.sibling}if(!k){for(V=y.child;V;){if(V===d){k=!0,d=y,h=x;break}if(V===h){k=!0,h=y,d=x;break}V=V.sibling}if(!k)throw Error(r(189))}}if(d.alternate!==h)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?n:o}function g(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=g(n),o!==null)return o;n=n.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Z(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case O:return"Profiler";case T:return"StrictMode";case $:return"Suspense";case X:return"SuspenseList";case _:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case M:return n.displayName||"Context";case U:return(n._context.displayName||"Context")+".Consumer";case L:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return o=n.displayName||null,o!==null?o:Z(n.type)||"Memo";case R:o=n._payload,n=n._init;try{return Z(n(o))}catch{}}return null}var Ee=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Re=[],Pe=-1;function K(n){return{current:n}}function W(n){0>Pe||(n.current=Re[Pe],Re[Pe]=null,Pe--)}function B(n,o){Pe++,Re[Pe]=n.current,n.current=o}var F=K(null),se=K(null),je=K(null),Ce=K(null);function Le(n,o){switch(B(je,o),B(se,n),B(F,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?l2(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=l2(o),n=c2(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(F),B(F,n)}function ze(){W(F),W(se),W(je)}function J(n){n.memoizedState!==null&&B(Ce,n);var o=F.current,d=c2(o,n.type);o!==d&&(B(se,n),B(F,d))}function Qe(n){se.current===n&&(W(F),W(se)),Ce.current===n&&(W(Ce),Lh._currentValue=ye)}var Ze,lt;function Ne(n){if(Ze===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);Ze=o&&o[1]||"",lt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+n+lt}var Me=!1;function yt(n,o){if(!n||Me)return"";Me=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(be){var me=be}Reflect.construct(n,[],Se)}else{try{Se.call()}catch(be){me=be}n.call(Se.prototype)}}else{try{throw Error()}catch(be){me=be}(Se=n())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(be){if(be&&me&&typeof be.stack=="string")return[be.stack,me.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),k=y[0],V=y[1];if(k&&V){var Q=k.split(`
`),ue=V.split(`
`);for(x=h=0;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;for(;x<ue.length&&!ue[x].includes("DetermineComponentFrameRoot");)x++;if(h===Q.length||x===ue.length)for(h=Q.length-1,x=ue.length-1;1<=h&&0<=x&&Q[h]!==ue[x];)x--;for(;1<=h&&0<=x;h--,x--)if(Q[h]!==ue[x]){if(h!==1||x!==1)do if(h--,x--,0>x||Q[h]!==ue[x]){var _e=`
`+Q[h].replace(" at new "," at ");return n.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",n.displayName)),_e}while(1<=h&&0<=x);break}}}finally{Me=!1,Error.prepareStackTrace=d}return(d=n?n.displayName||n.name:"")?Ne(d):""}function we(n,o){switch(n.tag){case 26:case 27:case 5:return Ne(n.type);case 16:return Ne("Lazy");case 13:return n.child!==o&&o!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return yt(n.type,!1);case 11:return yt(n.type.render,!1);case 1:return yt(n.type,!0);case 31:return Ne("Activity");default:return""}}function re(n){try{var o="",d=null;do o+=we(n,d),d=n,n=n.return;while(n);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var qe=Object.prototype.hasOwnProperty,rt=a.unstable_scheduleCallback,ie=a.unstable_cancelCallback,Ue=a.unstable_shouldYield,is=a.unstable_requestPaint,It=a.unstable_now,Ss=a.unstable_getCurrentPriorityLevel,fe=a.unstable_ImmediatePriority,he=a.unstable_UserBlockingPriority,De=a.unstable_NormalPriority,nt=a.unstable_LowPriority,ut=a.unstable_IdlePriority,_t=a.log,Ut=a.unstable_setDisableYieldValue,Mt=null,os=null;function hs(n){if(typeof _t=="function"&&Ut(n),os&&typeof os.setStrictMode=="function")try{os.setStrictMode(Mt,n)}catch{}}var Ft=Math.clz32?Math.clz32:nn,Yi=Math.log,Tn=Math.LN2;function nn(n){return n>>>=0,n===0?32:31-(Yi(n)/Tn|0)|0}var aa=256,Mr=262144,ls=4194304;function Ca(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ae(n,o,d){var h=n.pendingLanes;if(h===0)return 0;var x=0,y=n.suspendedLanes,k=n.pingedLanes;n=n.warmLanes;var V=h&134217727;return V!==0?(h=V&~y,h!==0?x=Ca(h):(k&=V,k!==0?x=Ca(k):d||(d=V&~n,d!==0&&(x=Ca(d))))):(V=h&~y,V!==0?x=Ca(V):k!==0?x=Ca(k):d||(d=h&~n,d!==0&&(x=Ca(d)))),x===0?0:o!==0&&o!==x&&(o&y)===0&&(y=x&-x,d=o&-o,y>=d||y===32&&(d&4194048)!==0)?o:x}function Ge(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function pt(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zt(){var n=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),n}function Y(n){for(var o=[],d=0;31>d;d++)o.push(n);return o}function Be(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function it(n,o,d,h,x,y){var k=n.pendingLanes;n.pendingLanes=d,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=d,n.entangledLanes&=d,n.errorRecoveryDisabledLanes&=d,n.shellSuspendCounter=0;var V=n.entanglements,Q=n.expirationTimes,ue=n.hiddenUpdates;for(d=k&~d;0<d;){var _e=31-Ft(d),Se=1<<_e;V[_e]=0,Q[_e]=-1;var me=ue[_e];if(me!==null)for(ue[_e]=null,_e=0;_e<me.length;_e++){var be=me[_e];be!==null&&(be.lane&=-536870913)}d&=~Se}h!==0&&kt(n,h,0),y!==0&&x===0&&n.tag!==0&&(n.suspendedLanes|=y&~(k&~o))}function kt(n,o,d){n.pendingLanes|=o,n.suspendedLanes&=~o;var h=31-Ft(o);n.entangledLanes|=o,n.entanglements[h]=n.entanglements[h]|1073741824|d&261930}function $t(n,o){var d=n.entangledLanes|=o;for(n=n.entanglements;d;){var h=31-Ft(d),x=1<<h;x&o|n[h]&o&&(n[h]|=o),d&=~x}}function Ot(n,o){var d=o&-o;return d=(d&42)!==0?1:fs(d),(d&(n.suspendedLanes|o))!==0?0:d}function fs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function js(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Wa(){var n=G.p;return n!==0?n:(n=window.event,n===void 0?32:R2(n.type))}function Ya(n,o){var d=G.p;try{return G.p=n,o()}finally{G.p=d}}var Qa=Math.random().toString(36).slice(2),Bs="__reactFiber$"+Qa,ra="__reactProps$"+Qa,En="__reactContainer$"+Qa,zc="__reactEvents$"+Qa,i0="__reactListeners$"+Qa,Am="__reactHandles$"+Qa,Im="__reactResources$"+Qa,Cn="__reactMarker$"+Qa;function Vc(n){delete n[Bs],delete n[ra],delete n[zc],delete n[i0],delete n[Am]}function An(n){var o=n[Bs];if(o)return o;for(var d=n.parentNode;d;){if(o=d[En]||d[Bs]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(n=g2(n);n!==null;){if(d=n[Bs])return d;n=g2(n)}return o}n=d,d=n.parentNode}return null}function Or(n){if(n=n[Bs]||n[En]){var o=n.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return n}return null}function pr(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(r(33))}function In(n){var o=n[Im];return o||(o=n[Im]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function $s(n){n[Cn]=!0}var qu=new Set,Hu={};function Rn(n,o){Pn(n,o),Pn(n+"Capture",o)}function Pn(n,o){for(Hu[n]=o,n=0;n<o.length;n++)qu.add(o[n])}var Gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ku={},Wu={};function Rm(n){return qe.call(Wu,n)?!0:qe.call(Ku,n)?!1:Gu.test(n)?Wu[n]=!0:(Ku[n]=!0,!1)}function Uc(n,o,d){if(Rm(o))if(d===null)n.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+d)}}function gr(n,o,d){if(d===null)n.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+d)}}function qs(n,o,d,h){if(h===null)n.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(d);return}n.setAttributeNS(o,d,""+h)}}function na(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qi(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Yu(n,o,d){var h=Object.getOwnPropertyDescriptor(n.constructor.prototype,o);if(!n.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,y=h.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return x.call(this)},set:function(k){d=""+k,y.call(this,k)}}),Object.defineProperty(n,o,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function qt(n){if(!n._valueTracker){var o=Qi(n)?"checked":"value";n._valueTracker=Yu(n,o,""+n[o])}}function pl(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var d=o.getValue(),h="";return n&&(h=Qi(n)?n.checked?"true":"false":n.value),n=h,n!==d?(o.setValue(n),!0):!1}function Dn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var gl=/[\n"\\]/g;function Ja(n){return n.replace(gl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Fc(n,o,d,h,x,y,k,V){n.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?n.type=k:n.removeAttribute("type"),o!=null?k==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+na(o)):n.value!==""+na(o)&&(n.value=""+na(o)):k!=="submit"&&k!=="reset"||n.removeAttribute("value"),o!=null?Qu(n,k,na(o)):d!=null?Qu(n,k,na(d)):h!=null&&n.removeAttribute("value"),x==null&&y!=null&&(n.defaultChecked=!!y),x!=null&&(n.checked=x&&typeof x!="function"&&typeof x!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?n.name=""+na(V):n.removeAttribute("name")}function Pm(n,o,d,h,x,y,k,V){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),o!=null||d!=null){if(!(y!=="submit"&&y!=="reset"||o!=null)){qt(n);return}d=d!=null?""+na(d):"",o=o!=null?""+na(o):d,V||o===n.value||(n.value=o),n.defaultValue=o}h=h??x,h=typeof h!="function"&&typeof h!="symbol"&&!!h,n.checked=V?n.checked:!!h,n.defaultChecked=!!h,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(n.name=k),qt(n)}function Qu(n,o,d){o==="number"&&Dn(n.ownerDocument)===n||n.defaultValue===""+d||(n.defaultValue=""+d)}function Ji(n,o,d,h){if(n=n.options,o){o={};for(var x=0;x<d.length;x++)o["$"+d[x]]=!0;for(d=0;d<n.length;d++)x=o.hasOwnProperty("$"+n[d].value),n[d].selected!==x&&(n[d].selected=x),x&&h&&(n[d].defaultSelected=!0)}else{for(d=""+na(d),o=null,x=0;x<n.length;x++){if(n[x].value===d){n[x].selected=!0,h&&(n[x].defaultSelected=!0);return}o!==null||n[x].disabled||(o=n[x])}o!==null&&(o.selected=!0)}}function Dm(n,o,d){if(o!=null&&(o=""+na(o),o!==n.value&&(n.value=o),d==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=d!=null?""+na(d):""}function Xi(n,o,d,h){if(o==null){if(h!=null){if(d!=null)throw Error(r(92));if(Ee(h)){if(1<h.length)throw Error(r(93));h=h[0]}d=h}d==null&&(d=""),o=d}d=na(o),n.defaultValue=d,h=n.textContent,h===d&&h!==""&&h!==null&&(n.value=h),qt(n)}function Xa(n,o){if(o){var d=n.firstChild;if(d&&d===n.lastChild&&d.nodeType===3){d.nodeValue=o;return}}n.textContent=o}var Mm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ju(n,o,d){var h=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":h?n.setProperty(o,d):typeof d!="number"||d===0||Mm.has(o)?o==="float"?n.cssFloat=d:n[o]=(""+d).trim():n[o]=d+"px"}function Xu(n,o,d){if(o!=null&&typeof o!="object")throw Error(r(62));if(n=n.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?n.setProperty(h,""):h==="float"?n.cssFloat="":n[h]="");for(var x in o)h=o[x],o.hasOwnProperty(x)&&d[x]!==h&&Ju(n,x,h)}else for(var y in o)o.hasOwnProperty(y)&&Ju(n,y,o[y])}function Bc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $c(n){return Zi.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function on(){}var Zu=null;function Lr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var eo=null,Mn=null;function xl(n){var o=Or(n);if(o&&(n=o.stateNode)){var d=n[ra]||null;e:switch(n=o.stateNode,o.type){case"input":if(Fc(n,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=n;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Ja(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var h=d[o];if(h!==n&&h.form===n.form){var x=h[ra]||null;if(!x)throw Error(r(90));Fc(h,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(o=0;o<d.length;o++)h=d[o],h.form===n.form&&pl(h)}break e;case"textarea":Dm(n,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Ji(n,!!d.multiple,o,!1)}}}var qc=!1;function to(n,o,d){if(qc)return n(o,d);qc=!0;try{var h=n(o);return h}finally{if(qc=!1,(eo!==null||Mn!==null)&&(Cp(),eo&&(o=eo,n=Mn,Mn=eo=null,xl(o),n)))for(o=0;o<n.length;o++)xl(n[o])}}function ln(n,o){var d=n.stateNode;if(d===null)return null;var h=d[ra]||null;if(h===null)return null;d=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yl=!1;if(zr)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){yl=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{yl=!1}var On=null,eh=null,bl=null;function th(){if(bl)return bl;var n,o=eh,d=o.length,h,x="value"in On?On.value:On.textContent,y=x.length;for(n=0;n<d&&o[n]===x[n];n++);var k=d-n;for(h=1;h<=k&&o[d-h]===x[y-h];h++);return bl=x.slice(n,1<h?1-h:void 0)}function vl(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function li(){return!0}function cn(){return!1}function ha(n){function o(d,h,x,y,k){this._reactName=d,this._targetInst=x,this.type=h,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var V in n)n.hasOwnProperty(V)&&(d=n[V],this[V]=d?d(y):y[V]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?li:cn,this.isPropagationStopped=cn,this}return b(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),o}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ln=ha(ci),so=b({},ci,{view:0,detail:0}),sh=ha(so),ao,Hc,zn,Gc=b({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ro,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zn&&(zn&&n.type==="mousemove"?(ao=n.screenX-zn.screenX,Hc=n.screenY-zn.screenY):Hc=ao=0,zn=n),ao)},movementY:function(n){return"movementY"in n?n.movementY:Hc}}),ah=ha(Gc),wl=b({},Gc,{dataTransfer:0}),Lm=ha(wl),zm=b({},so,{relatedTarget:0}),jl=ha(zm),rh=b({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Vm=ha(rh),Kc=b({},ci,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Um=ha(Kc),Fm=b({},ci,{data:0}),Vn=ha(Fm),Bm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hm(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=qm[n])?!!o[n]:!1}function ro(){return Hm}var Oa=b({},so,{key:function(n){if(n.key){var o=Bm[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=vl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$m[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ro,charCode:function(n){return n.type==="keypress"?vl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Gm=ha(Oa),Km=b({},Gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),di=ha(Km),p=b({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ro}),j=ha(p),A=b({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=ha(A),ce=b({},Gc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xe=ha(ce),Oe=b({},ci,{newState:0,oldState:0}),ht=ha(Oe),Os=[9,13,27,32],Lt=zr&&"CompositionEvent"in window,ms=null;zr&&"documentMode"in document&&(ms=document.documentMode);var Vr=zr&&"TextEvent"in window&&!ms,Un=zr&&(!Lt||ms&&8<ms&&11>=ms),dn=" ",un=!1;function Nl(n,o){switch(n){case"keyup":return Os.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wc(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Yc=!1;function o5(n,o){switch(n){case"compositionend":return Wc(o);case"keypress":return o.which!==32?null:(un=!0,dn);case"textInput":return n=o.data,n===dn&&un?null:n;default:return null}}function l5(n,o){if(Yc)return n==="compositionend"||!Lt&&Nl(n,o)?(n=th(),bl=eh=On=null,Yc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Un&&o.locale!=="ko"?null:o.data;default:return null}}var c5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b1(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!c5[n.type]:o==="textarea"}function v1(n,o,d,h){eo?Mn?Mn.push(h):Mn=[h]:eo=h,o=Op(o,"onChange"),0<o.length&&(d=new Ln("onChange","change",null,d,h),n.push({event:d,listeners:o}))}var nh=null,ih=null;function d5(n){s2(n,0)}function Wm(n){var o=pr(n);if(pl(o))return n}function w1(n,o){if(n==="change")return o}var j1=!1;if(zr){var o0;if(zr){var l0="oninput"in document;if(!l0){var N1=document.createElement("div");N1.setAttribute("oninput","return;"),l0=typeof N1.oninput=="function"}o0=l0}else o0=!1;j1=o0&&(!document.documentMode||9<document.documentMode)}function _1(){nh&&(nh.detachEvent("onpropertychange",k1),ih=nh=null)}function k1(n){if(n.propertyName==="value"&&Wm(ih)){var o=[];v1(o,ih,n,Lr(n)),to(d5,o)}}function u5(n,o,d){n==="focusin"?(_1(),nh=o,ih=d,nh.attachEvent("onpropertychange",k1)):n==="focusout"&&_1()}function h5(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Wm(ih)}function f5(n,o){if(n==="click")return Wm(o)}function m5(n,o){if(n==="input"||n==="change")return Wm(o)}function p5(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var xr=typeof Object.is=="function"?Object.is:p5;function oh(n,o){if(xr(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var d=Object.keys(n),h=Object.keys(o);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var x=d[h];if(!qe.call(o,x)||!xr(n[x],o[x]))return!1}return!0}function S1(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function T1(n,o){var d=S1(n);n=0;for(var h;d;){if(d.nodeType===3){if(h=n+d.textContent.length,n<=o&&h>=o)return{node:d,offset:o-n};n=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=S1(d)}}function E1(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?E1(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function C1(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=Dn(n.document);o instanceof n.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)n=o.contentWindow;else break;o=Dn(n.document)}return o}function c0(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var g5=zr&&"documentMode"in document&&11>=document.documentMode,Qc=null,d0=null,lh=null,u0=!1;function A1(n,o,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;u0||Qc==null||Qc!==Dn(h)||(h=Qc,"selectionStart"in h&&c0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),lh&&oh(lh,h)||(lh=h,h=Op(d0,"onSelect"),0<h.length&&(o=new Ln("onSelect","select",null,o,d),n.push({event:o,listeners:h}),o.target=Qc)))}function _l(n,o){var d={};return d[n.toLowerCase()]=o.toLowerCase(),d["Webkit"+n]="webkit"+o,d["Moz"+n]="moz"+o,d}var Jc={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionrun:_l("Transition","TransitionRun"),transitionstart:_l("Transition","TransitionStart"),transitioncancel:_l("Transition","TransitionCancel"),transitionend:_l("Transition","TransitionEnd")},h0={},I1={};zr&&(I1=document.createElement("div").style,"AnimationEvent"in window||(delete Jc.animationend.animation,delete Jc.animationiteration.animation,delete Jc.animationstart.animation),"TransitionEvent"in window||delete Jc.transitionend.transition);function kl(n){if(h0[n])return h0[n];if(!Jc[n])return n;var o=Jc[n],d;for(d in o)if(o.hasOwnProperty(d)&&d in I1)return h0[n]=o[d];return n}var R1=kl("animationend"),P1=kl("animationiteration"),D1=kl("animationstart"),x5=kl("transitionrun"),y5=kl("transitionstart"),b5=kl("transitioncancel"),M1=kl("transitionend"),O1=new Map,f0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");f0.push("scrollEnd");function hn(n,o){O1.set(n,o),Rn(o,[n])}var Ym=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Ur=[],Xc=0,m0=0;function Qm(){for(var n=Xc,o=m0=Xc=0;o<n;){var d=Ur[o];Ur[o++]=null;var h=Ur[o];Ur[o++]=null;var x=Ur[o];Ur[o++]=null;var y=Ur[o];if(Ur[o++]=null,h!==null&&x!==null){var k=h.pending;k===null?x.next=x:(x.next=k.next,k.next=x),h.pending=x}y!==0&&L1(d,x,y)}}function Jm(n,o,d,h){Ur[Xc++]=n,Ur[Xc++]=o,Ur[Xc++]=d,Ur[Xc++]=h,m0|=h,n.lanes|=h,n=n.alternate,n!==null&&(n.lanes|=h)}function p0(n,o,d,h){return Jm(n,o,d,h),Xm(n)}function Sl(n,o){return Jm(n,null,null,o),Xm(n)}function L1(n,o,d){n.lanes|=d;var h=n.alternate;h!==null&&(h.lanes|=d);for(var x=!1,y=n.return;y!==null;)y.childLanes|=d,h=y.alternate,h!==null&&(h.childLanes|=d),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(x=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,x&&o!==null&&(x=31-Ft(d),n=y.hiddenUpdates,h=n[x],h===null?n[x]=[o]:h.push(o),o.lane=d|536870912),y):null}function Xm(n){if(50<Ah)throw Ah=0,_y=null,Error(r(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var Zc={};function v5(n,o,d,h){this.tag=n,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(n,o,d,h){return new v5(n,o,d,h)}function g0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ui(n,o){var d=n.alternate;return d===null?(d=yr(n.tag,o,n.key,n.mode),d.elementType=n.elementType,d.type=n.type,d.stateNode=n.stateNode,d.alternate=n,n.alternate=d):(d.pendingProps=o,d.type=n.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=n.flags&65011712,d.childLanes=n.childLanes,d.lanes=n.lanes,d.child=n.child,d.memoizedProps=n.memoizedProps,d.memoizedState=n.memoizedState,d.updateQueue=n.updateQueue,o=n.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=n.sibling,d.index=n.index,d.ref=n.ref,d.refCleanup=n.refCleanup,d}function z1(n,o){n.flags&=65011714;var d=n.alternate;return d===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=d.childLanes,n.lanes=d.lanes,n.child=d.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=d.memoizedProps,n.memoizedState=d.memoizedState,n.updateQueue=d.updateQueue,n.type=d.type,o=d.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function Zm(n,o,d,h,x,y){var k=0;if(h=n,typeof n=="function")g0(n)&&(k=1);else if(typeof n=="string")k=k6(n,d,F.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case _:return n=yr(31,d,o,x),n.elementType=_,n.lanes=y,n;case S:return Tl(d.children,x,y,o);case T:k=8,x|=24;break;case O:return n=yr(12,d,o,x|2),n.elementType=O,n.lanes=y,n;case $:return n=yr(13,d,o,x),n.elementType=$,n.lanes=y,n;case X:return n=yr(19,d,o,x),n.elementType=X,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:k=10;break e;case U:k=9;break e;case L:k=11;break e;case C:k=14;break e;case R:k=16,h=null;break e}k=29,d=Error(r(130,n===null?"null":typeof n,"")),h=null}return o=yr(k,d,o,x),o.elementType=n,o.type=h,o.lanes=y,o}function Tl(n,o,d,h){return n=yr(7,n,h,o),n.lanes=d,n}function x0(n,o,d){return n=yr(6,n,null,o),n.lanes=d,n}function V1(n){var o=yr(18,null,null,0);return o.stateNode=n,o}function y0(n,o,d){return o=yr(4,n.children!==null?n.children:[],n.key,o),o.lanes=d,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var U1=new WeakMap;function Fr(n,o){if(typeof n=="object"&&n!==null){var d=U1.get(n);return d!==void 0?d:(o={value:n,source:o,stack:re(o)},U1.set(n,o),o)}return{value:n,source:o,stack:re(o)}}var ed=[],td=0,ep=null,ch=0,Br=[],$r=0,no=null,Fn=1,Bn="";function hi(n,o){ed[td++]=ch,ed[td++]=ep,ep=n,ch=o}function F1(n,o,d){Br[$r++]=Fn,Br[$r++]=Bn,Br[$r++]=no,no=n;var h=Fn;n=Bn;var x=32-Ft(h)-1;h&=~(1<<x),d+=1;var y=32-Ft(o)+x;if(30<y){var k=x-x%5;y=(h&(1<<k)-1).toString(32),h>>=k,x-=k,Fn=1<<32-Ft(o)+x|d<<x|h,Bn=y+n}else Fn=1<<y|d<<x|h,Bn=n}function b0(n){n.return!==null&&(hi(n,1),F1(n,1,0))}function v0(n){for(;n===ep;)ep=ed[--td],ed[td]=null,ch=ed[--td],ed[td]=null;for(;n===no;)no=Br[--$r],Br[$r]=null,Bn=Br[--$r],Br[$r]=null,Fn=Br[--$r],Br[$r]=null}function B1(n,o){Br[$r++]=Fn,Br[$r++]=Bn,Br[$r++]=no,Fn=o.id,Bn=o.overflow,no=n}var fa=null,cs=null,Ct=!1,io=null,qr=!1,w0=Error(r(519));function oo(n){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dh(Fr(o,n)),w0}function $1(n){var o=n.stateNode,d=n.type,h=n.memoizedProps;switch(o[Bs]=n,o[ra]=h,d){case"dialog":vt("cancel",o),vt("close",o);break;case"iframe":case"object":case"embed":vt("load",o);break;case"video":case"audio":for(d=0;d<Rh.length;d++)vt(Rh[d],o);break;case"source":vt("error",o);break;case"img":case"image":case"link":vt("error",o),vt("load",o);break;case"details":vt("toggle",o);break;case"input":vt("invalid",o),Pm(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":vt("invalid",o);break;case"textarea":vt("invalid",o),Xi(o,h.value,h.defaultValue,h.children)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||h.suppressHydrationWarning===!0||i2(o.textContent,d)?(h.popover!=null&&(vt("beforetoggle",o),vt("toggle",o)),h.onScroll!=null&&vt("scroll",o),h.onScrollEnd!=null&&vt("scrollend",o),h.onClick!=null&&(o.onclick=on),o=!0):o=!1,o||oo(n,!0)}function q1(n){for(fa=n.return;fa;)switch(fa.tag){case 5:case 31:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:fa=fa.return}}function sd(n){if(n!==fa)return!1;if(!Ct)return q1(n),Ct=!0,!1;var o=n.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=n.type,d=!(d!=="form"&&d!=="button")||Vy(n.type,n.memoizedProps)),d=!d),d&&cs&&oo(n),q1(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));cs=p2(n)}else if(o===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));cs=p2(n)}else o===27?(o=cs,jo(n.type)?(n=qy,qy=null,cs=n):cs=o):cs=fa?Gr(n.stateNode.nextSibling):null;return!0}function El(){cs=fa=null,Ct=!1}function j0(){var n=io;return n!==null&&(sr===null?sr=n:sr.push.apply(sr,n),io=null),n}function dh(n){io===null?io=[n]:io.push(n)}var N0=K(null),Cl=null,fi=null;function lo(n,o,d){B(N0,o._currentValue),o._currentValue=d}function mi(n){n._currentValue=N0.current,W(N0)}function _0(n,o,d){for(;n!==null;){var h=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),n===d)break;n=n.return}}function k0(n,o,d,h){var x=n.child;for(x!==null&&(x.return=n);x!==null;){var y=x.dependencies;if(y!==null){var k=x.child;y=y.firstContext;e:for(;y!==null;){var V=y;y=x;for(var Q=0;Q<o.length;Q++)if(V.context===o[Q]){y.lanes|=d,V=y.alternate,V!==null&&(V.lanes|=d),_0(y.return,d,n),h||(k=null);break e}y=V.next}}else if(x.tag===18){if(k=x.return,k===null)throw Error(r(341));k.lanes|=d,y=k.alternate,y!==null&&(y.lanes|=d),_0(k,d,n),k=null}else k=x.child;if(k!==null)k.return=x;else for(k=x;k!==null;){if(k===n){k=null;break}if(x=k.sibling,x!==null){x.return=k.return,k=x;break}k=k.return}x=k}}function ad(n,o,d,h){n=null;for(var x=o,y=!1;x!==null;){if(!y){if((x.flags&524288)!==0)y=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var k=x.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var V=x.type;xr(x.pendingProps.value,k.value)||(n!==null?n.push(V):n=[V])}}else if(x===Ce.current){if(k=x.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(n!==null?n.push(Lh):n=[Lh])}x=x.return}n!==null&&k0(o,n,d,h),o.flags|=262144}function tp(n){for(n=n.firstContext;n!==null;){if(!xr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Al(n){Cl=n,fi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ma(n){return H1(Cl,n)}function sp(n,o){return Cl===null&&Al(n),H1(n,o)}function H1(n,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},fi===null){if(n===null)throw Error(r(308));fi=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else fi=fi.next=o;return d}var w5=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(d,h){n.push(h)}};this.abort=function(){o.aborted=!0,n.forEach(function(d){return d()})}},j5=a.unstable_scheduleCallback,N5=a.unstable_NormalPriority,Hs={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function S0(){return{controller:new w5,data:new Map,refCount:0}}function uh(n){n.refCount--,n.refCount===0&&j5(N5,function(){n.controller.abort()})}var hh=null,T0=0,rd=0,nd=null;function _5(n,o){if(hh===null){var d=hh=[];T0=0,rd=Ay(),nd={status:"pending",value:void 0,then:function(h){d.push(h)}}}return T0++,o.then(G1,G1),o}function G1(){if(--T0===0&&hh!==null){nd!==null&&(nd.status="fulfilled");var n=hh;hh=null,rd=0,nd=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function k5(n,o){var d=[],h={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return n.then(function(){h.status="fulfilled",h.value=o;for(var x=0;x<d.length;x++)(0,d[x])(o)},function(x){for(h.status="rejected",h.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),h}var K1=te.S;te.S=function(n,o){A_=It(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&_5(n,o),K1!==null&&K1(n,o)};var Il=K(null);function E0(){var n=Il.current;return n!==null?n:es.pooledCache}function ap(n,o){o===null?B(Il,Il.current):B(Il,o.pool)}function W1(){var n=E0();return n===null?null:{parent:Hs._currentValue,pool:n}}var id=Error(r(460)),C0=Error(r(474)),rp=Error(r(542)),np={then:function(){}};function Y1(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Q1(n,o,d){switch(d=n[d],d===void 0?n.push(o):d!==o&&(o.then(on,on),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,X1(n),n;default:if(typeof o.status=="string")o.then(on,on);else{if(n=es,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=o,n.status="pending",n.then(function(h){if(o.status==="pending"){var x=o;x.status="fulfilled",x.value=h}},function(h){if(o.status==="pending"){var x=o;x.status="rejected",x.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,X1(n),n}throw Pl=o,id}}function Rl(n){try{var o=n._init;return o(n._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Pl=d,id):d}}var Pl=null;function J1(){if(Pl===null)throw Error(r(459));var n=Pl;return Pl=null,n}function X1(n){if(n===id||n===rp)throw Error(r(483))}var od=null,fh=0;function ip(n){var o=fh;return fh+=1,od===null&&(od=[]),Q1(od,n,o)}function mh(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function op(n,o){throw o.$$typeof===v?Error(r(525)):(n=Object.prototype.toString.call(o),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function Z1(n){function o(ne,ee){if(n){var de=ne.deletions;de===null?(ne.deletions=[ee],ne.flags|=16):de.push(ee)}}function d(ne,ee){if(!n)return null;for(;ee!==null;)o(ne,ee),ee=ee.sibling;return null}function h(ne){for(var ee=new Map;ne!==null;)ne.key!==null?ee.set(ne.key,ne):ee.set(ne.index,ne),ne=ne.sibling;return ee}function x(ne,ee){return ne=ui(ne,ee),ne.index=0,ne.sibling=null,ne}function y(ne,ee,de){return ne.index=de,n?(de=ne.alternate,de!==null?(de=de.index,de<ee?(ne.flags|=67108866,ee):de):(ne.flags|=67108866,ee)):(ne.flags|=1048576,ee)}function k(ne){return n&&ne.alternate===null&&(ne.flags|=67108866),ne}function V(ne,ee,de,ke){return ee===null||ee.tag!==6?(ee=x0(de,ne.mode,ke),ee.return=ne,ee):(ee=x(ee,de),ee.return=ne,ee)}function Q(ne,ee,de,ke){var st=de.type;return st===S?_e(ne,ee,de.props.children,ke,de.key):ee!==null&&(ee.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===R&&Rl(st)===ee.type)?(ee=x(ee,de.props),mh(ee,de),ee.return=ne,ee):(ee=Zm(de.type,de.key,de.props,null,ne.mode,ke),mh(ee,de),ee.return=ne,ee)}function ue(ne,ee,de,ke){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==de.containerInfo||ee.stateNode.implementation!==de.implementation?(ee=y0(de,ne.mode,ke),ee.return=ne,ee):(ee=x(ee,de.children||[]),ee.return=ne,ee)}function _e(ne,ee,de,ke,st){return ee===null||ee.tag!==7?(ee=Tl(de,ne.mode,ke,st),ee.return=ne,ee):(ee=x(ee,de),ee.return=ne,ee)}function Se(ne,ee,de){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=x0(""+ee,ne.mode,de),ee.return=ne,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return de=Zm(ee.type,ee.key,ee.props,null,ne.mode,de),mh(de,ee),de.return=ne,de;case N:return ee=y0(ee,ne.mode,de),ee.return=ne,ee;case R:return ee=Rl(ee),Se(ne,ee,de)}if(Ee(ee)||z(ee))return ee=Tl(ee,ne.mode,de,null),ee.return=ne,ee;if(typeof ee.then=="function")return Se(ne,ip(ee),de);if(ee.$$typeof===M)return Se(ne,sp(ne,ee),de);op(ne,ee)}return null}function me(ne,ee,de,ke){var st=ee!==null?ee.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return st!==null?null:V(ne,ee,""+de,ke);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case E:return de.key===st?Q(ne,ee,de,ke):null;case N:return de.key===st?ue(ne,ee,de,ke):null;case R:return de=Rl(de),me(ne,ee,de,ke)}if(Ee(de)||z(de))return st!==null?null:_e(ne,ee,de,ke,null);if(typeof de.then=="function")return me(ne,ee,ip(de),ke);if(de.$$typeof===M)return me(ne,ee,sp(ne,de),ke);op(ne,de)}return null}function be(ne,ee,de,ke,st){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ne=ne.get(de)||null,V(ee,ne,""+ke,st);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case E:return ne=ne.get(ke.key===null?de:ke.key)||null,Q(ee,ne,ke,st);case N:return ne=ne.get(ke.key===null?de:ke.key)||null,ue(ee,ne,ke,st);case R:return ke=Rl(ke),be(ne,ee,de,ke,st)}if(Ee(ke)||z(ke))return ne=ne.get(de)||null,_e(ee,ne,ke,st,null);if(typeof ke.then=="function")return be(ne,ee,de,ip(ke),st);if(ke.$$typeof===M)return be(ne,ee,de,sp(ee,ke),st);op(ee,ke)}return null}function Ke(ne,ee,de,ke){for(var st=null,Rt=null,Je=ee,gt=ee=0,Tt=null;Je!==null&&gt<de.length;gt++){Je.index>gt?(Tt=Je,Je=null):Tt=Je.sibling;var Pt=me(ne,Je,de[gt],ke);if(Pt===null){Je===null&&(Je=Tt);break}n&&Je&&Pt.alternate===null&&o(ne,Je),ee=y(Pt,ee,gt),Rt===null?st=Pt:Rt.sibling=Pt,Rt=Pt,Je=Tt}if(gt===de.length)return d(ne,Je),Ct&&hi(ne,gt),st;if(Je===null){for(;gt<de.length;gt++)Je=Se(ne,de[gt],ke),Je!==null&&(ee=y(Je,ee,gt),Rt===null?st=Je:Rt.sibling=Je,Rt=Je);return Ct&&hi(ne,gt),st}for(Je=h(Je);gt<de.length;gt++)Tt=be(Je,ne,gt,de[gt],ke),Tt!==null&&(n&&Tt.alternate!==null&&Je.delete(Tt.key===null?gt:Tt.key),ee=y(Tt,ee,gt),Rt===null?st=Tt:Rt.sibling=Tt,Rt=Tt);return n&&Je.forEach(function(To){return o(ne,To)}),Ct&&hi(ne,gt),st}function at(ne,ee,de,ke){if(de==null)throw Error(r(151));for(var st=null,Rt=null,Je=ee,gt=ee=0,Tt=null,Pt=de.next();Je!==null&&!Pt.done;gt++,Pt=de.next()){Je.index>gt?(Tt=Je,Je=null):Tt=Je.sibling;var To=me(ne,Je,Pt.value,ke);if(To===null){Je===null&&(Je=Tt);break}n&&Je&&To.alternate===null&&o(ne,Je),ee=y(To,ee,gt),Rt===null?st=To:Rt.sibling=To,Rt=To,Je=Tt}if(Pt.done)return d(ne,Je),Ct&&hi(ne,gt),st;if(Je===null){for(;!Pt.done;gt++,Pt=de.next())Pt=Se(ne,Pt.value,ke),Pt!==null&&(ee=y(Pt,ee,gt),Rt===null?st=Pt:Rt.sibling=Pt,Rt=Pt);return Ct&&hi(ne,gt),st}for(Je=h(Je);!Pt.done;gt++,Pt=de.next())Pt=be(Je,ne,gt,Pt.value,ke),Pt!==null&&(n&&Pt.alternate!==null&&Je.delete(Pt.key===null?gt:Pt.key),ee=y(Pt,ee,gt),Rt===null?st=Pt:Rt.sibling=Pt,Rt=Pt);return n&&Je.forEach(function(O6){return o(ne,O6)}),Ct&&hi(ne,gt),st}function Xt(ne,ee,de,ke){if(typeof de=="object"&&de!==null&&de.type===S&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case E:e:{for(var st=de.key;ee!==null;){if(ee.key===st){if(st=de.type,st===S){if(ee.tag===7){d(ne,ee.sibling),ke=x(ee,de.props.children),ke.return=ne,ne=ke;break e}}else if(ee.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===R&&Rl(st)===ee.type){d(ne,ee.sibling),ke=x(ee,de.props),mh(ke,de),ke.return=ne,ne=ke;break e}d(ne,ee);break}else o(ne,ee);ee=ee.sibling}de.type===S?(ke=Tl(de.props.children,ne.mode,ke,de.key),ke.return=ne,ne=ke):(ke=Zm(de.type,de.key,de.props,null,ne.mode,ke),mh(ke,de),ke.return=ne,ne=ke)}return k(ne);case N:e:{for(st=de.key;ee!==null;){if(ee.key===st)if(ee.tag===4&&ee.stateNode.containerInfo===de.containerInfo&&ee.stateNode.implementation===de.implementation){d(ne,ee.sibling),ke=x(ee,de.children||[]),ke.return=ne,ne=ke;break e}else{d(ne,ee);break}else o(ne,ee);ee=ee.sibling}ke=y0(de,ne.mode,ke),ke.return=ne,ne=ke}return k(ne);case R:return de=Rl(de),Xt(ne,ee,de,ke)}if(Ee(de))return Ke(ne,ee,de,ke);if(z(de)){if(st=z(de),typeof st!="function")throw Error(r(150));return de=st.call(de),at(ne,ee,de,ke)}if(typeof de.then=="function")return Xt(ne,ee,ip(de),ke);if(de.$$typeof===M)return Xt(ne,ee,sp(ne,de),ke);op(ne,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,ee!==null&&ee.tag===6?(d(ne,ee.sibling),ke=x(ee,de),ke.return=ne,ne=ke):(d(ne,ee),ke=x0(de,ne.mode,ke),ke.return=ne,ne=ke),k(ne)):d(ne,ee)}return function(ne,ee,de,ke){try{fh=0;var st=Xt(ne,ee,de,ke);return od=null,st}catch(Je){if(Je===id||Je===rp)throw Je;var Rt=yr(29,Je,null,ne.mode);return Rt.lanes=ke,Rt.return=ne,Rt}finally{}}}var Dl=Z1(!0),eN=Z1(!1),co=!1;function A0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function I0(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function uo(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ho(n,o,d){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(zt&2)!==0){var x=h.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),h.pending=o,o=Xm(n),L1(n,null,d),o}return Jm(n,h,o,d),Xm(n)}function ph(n,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var h=o.lanes;h&=n.pendingLanes,d|=h,o.lanes=d,$t(n,d)}}function R0(n,o){var d=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var x=null,y=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};y===null?x=y=k:y=y.next=k,d=d.next}while(d!==null);y===null?x=y=o:y=y.next=o}else x=y=o;d={baseState:h.baseState,firstBaseUpdate:x,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},n.updateQueue=d;return}n=d.lastBaseUpdate,n===null?d.firstBaseUpdate=o:n.next=o,d.lastBaseUpdate=o}var P0=!1;function gh(){if(P0){var n=nd;if(n!==null)throw n}}function xh(n,o,d,h){P0=!1;var x=n.updateQueue;co=!1;var y=x.firstBaseUpdate,k=x.lastBaseUpdate,V=x.shared.pending;if(V!==null){x.shared.pending=null;var Q=V,ue=Q.next;Q.next=null,k===null?y=ue:k.next=ue,k=Q;var _e=n.alternate;_e!==null&&(_e=_e.updateQueue,V=_e.lastBaseUpdate,V!==k&&(V===null?_e.firstBaseUpdate=ue:V.next=ue,_e.lastBaseUpdate=Q))}if(y!==null){var Se=x.baseState;k=0,_e=ue=Q=null,V=y;do{var me=V.lane&-536870913,be=me!==V.lane;if(be?(St&me)===me:(h&me)===me){me!==0&&me===rd&&(P0=!0),_e!==null&&(_e=_e.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Ke=n,at=V;me=o;var Xt=d;switch(at.tag){case 1:if(Ke=at.payload,typeof Ke=="function"){Se=Ke.call(Xt,Se,me);break e}Se=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=at.payload,me=typeof Ke=="function"?Ke.call(Xt,Se,me):Ke,me==null)break e;Se=b({},Se,me);break e;case 2:co=!0}}me=V.callback,me!==null&&(n.flags|=64,be&&(n.flags|=8192),be=x.callbacks,be===null?x.callbacks=[me]:be.push(me))}else be={lane:me,tag:V.tag,payload:V.payload,callback:V.callback,next:null},_e===null?(ue=_e=be,Q=Se):_e=_e.next=be,k|=me;if(V=V.next,V===null){if(V=x.shared.pending,V===null)break;be=V,V=be.next,be.next=null,x.lastBaseUpdate=be,x.shared.pending=null}}while(!0);_e===null&&(Q=Se),x.baseState=Q,x.firstBaseUpdate=ue,x.lastBaseUpdate=_e,y===null&&(x.shared.lanes=0),xo|=k,n.lanes=k,n.memoizedState=Se}}function tN(n,o){if(typeof n!="function")throw Error(r(191,n));n.call(o)}function sN(n,o){var d=n.callbacks;if(d!==null)for(n.callbacks=null,n=0;n<d.length;n++)tN(d[n],o)}var ld=K(null),lp=K(0);function aN(n,o){n=Ni,B(lp,n),B(ld,o),Ni=n|o.baseLanes}function D0(){B(lp,Ni),B(ld,ld.current)}function M0(){Ni=lp.current,W(ld),W(lp)}var br=K(null),Hr=null;function fo(n){var o=n.alternate;B(Ls,Ls.current&1),B(br,n),Hr===null&&(o===null||ld.current!==null||o.memoizedState!==null)&&(Hr=n)}function O0(n){B(Ls,Ls.current),B(br,n),Hr===null&&(Hr=n)}function rN(n){n.tag===22?(B(Ls,Ls.current),B(br,n),Hr===null&&(Hr=n)):mo()}function mo(){B(Ls,Ls.current),B(br,br.current)}function vr(n){W(br),Hr===n&&(Hr=null),W(Ls)}var Ls=K(0);function cp(n){for(var o=n;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||By(d)||$y(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var pi=0,ft=null,Qt=null,Gs=null,dp=!1,cd=!1,Ml=!1,up=0,yh=0,dd=null,S5=0;function Ts(){throw Error(r(321))}function L0(n,o){if(o===null)return!1;for(var d=0;d<o.length&&d<n.length;d++)if(!xr(n[d],o[d]))return!1;return!0}function z0(n,o,d,h,x,y){return pi=y,ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,te.H=n===null||n.memoizedState===null?FN:Z0,Ml=!1,y=d(h,x),Ml=!1,cd&&(y=iN(o,d,h,x)),nN(n),y}function nN(n){te.H=wh;var o=Qt!==null&&Qt.next!==null;if(pi=0,Gs=Qt=ft=null,dp=!1,yh=0,dd=null,o)throw Error(r(300));n===null||Ks||(n=n.dependencies,n!==null&&tp(n)&&(Ks=!0))}function iN(n,o,d,h){ft=n;var x=0;do{if(cd&&(dd=null),yh=0,cd=!1,25<=x)throw Error(r(301));if(x+=1,Gs=Qt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}te.H=BN,y=o(d,h)}while(cd);return y}function T5(){var n=te.H,o=n.useState()[0];return o=typeof o.then=="function"?bh(o):o,n=n.useState()[0],(Qt!==null?Qt.memoizedState:null)!==n&&(ft.flags|=1024),o}function V0(){var n=up!==0;return up=0,n}function U0(n,o,d){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~d}function F0(n){if(dp){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}dp=!1}pi=0,Gs=Qt=ft=null,cd=!1,yh=up=0,dd=null}function La(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gs===null?ft.memoizedState=Gs=n:Gs=Gs.next=n,Gs}function zs(){if(Qt===null){var n=ft.alternate;n=n!==null?n.memoizedState:null}else n=Qt.next;var o=Gs===null?ft.memoizedState:Gs.next;if(o!==null)Gs=o,Qt=n;else{if(n===null)throw ft.alternate===null?Error(r(467)):Error(r(310));Qt=n,n={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Gs===null?ft.memoizedState=Gs=n:Gs=Gs.next=n}return Gs}function hp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bh(n){var o=yh;return yh+=1,dd===null&&(dd=[]),n=Q1(dd,n,o),o=ft,(Gs===null?o.memoizedState:Gs.next)===null&&(o=o.alternate,te.H=o===null||o.memoizedState===null?FN:Z0),n}function fp(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return bh(n);if(n.$$typeof===M)return ma(n)}throw Error(r(438,String(n)))}function B0(n){var o=null,d=ft.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var h=ft.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(x){return x.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=hp(),ft.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(n),h=0;h<n;h++)d[h]=P;return o.index++,d}function gi(n,o){return typeof o=="function"?o(n):o}function mp(n){var o=zs();return $0(o,Qt,n)}function $0(n,o,d){var h=n.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=d;var x=n.baseQueue,y=h.pending;if(y!==null){if(x!==null){var k=x.next;x.next=y.next,y.next=k}o.baseQueue=x=y,h.pending=null}if(y=n.baseState,x===null)n.memoizedState=y;else{o=x.next;var V=k=null,Q=null,ue=o,_e=!1;do{var Se=ue.lane&-536870913;if(Se!==ue.lane?(St&Se)===Se:(pi&Se)===Se){var me=ue.revertLane;if(me===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Se===rd&&(_e=!0);else if((pi&me)===me){ue=ue.next,me===rd&&(_e=!0);continue}else Se={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Q===null?(V=Q=Se,k=y):Q=Q.next=Se,ft.lanes|=me,xo|=me;Se=ue.action,Ml&&d(y,Se),y=ue.hasEagerState?ue.eagerState:d(y,Se)}else me={lane:Se,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Q===null?(V=Q=me,k=y):Q=Q.next=me,ft.lanes|=Se,xo|=Se;ue=ue.next}while(ue!==null&&ue!==o);if(Q===null?k=y:Q.next=V,!xr(y,n.memoizedState)&&(Ks=!0,_e&&(d=nd,d!==null)))throw d;n.memoizedState=y,n.baseState=k,n.baseQueue=Q,h.lastRenderedState=y}return x===null&&(h.lanes=0),[n.memoizedState,h.dispatch]}function q0(n){var o=zs(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=n;var h=d.dispatch,x=d.pending,y=o.memoizedState;if(x!==null){d.pending=null;var k=x=x.next;do y=n(y,k.action),k=k.next;while(k!==x);xr(y,o.memoizedState)||(Ks=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),d.lastRenderedState=y}return[y,h]}function oN(n,o,d){var h=ft,x=zs(),y=Ct;if(y){if(d===void 0)throw Error(r(407));d=d()}else d=o();var k=!xr((Qt||x).memoizedState,d);if(k&&(x.memoizedState=d,Ks=!0),x=x.queue,K0(dN.bind(null,h,x,n),[n]),x.getSnapshot!==o||k||Gs!==null&&Gs.memoizedState.tag&1){if(h.flags|=2048,ud(9,{destroy:void 0},cN.bind(null,h,x,d,o),null),es===null)throw Error(r(349));y||(pi&127)!==0||lN(h,o,d)}return d}function lN(n,o,d){n.flags|=16384,n={getSnapshot:o,value:d},o=ft.updateQueue,o===null?(o=hp(),ft.updateQueue=o,o.stores=[n]):(d=o.stores,d===null?o.stores=[n]:d.push(n))}function cN(n,o,d,h){o.value=d,o.getSnapshot=h,uN(o)&&hN(n)}function dN(n,o,d){return d(function(){uN(o)&&hN(n)})}function uN(n){var o=n.getSnapshot;n=n.value;try{var d=o();return!xr(n,d)}catch{return!0}}function hN(n){var o=Sl(n,2);o!==null&&ar(o,n,2)}function H0(n){var o=La();if(typeof n=="function"){var d=n;if(n=d(),Ml){hs(!0);try{d()}finally{hs(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:n},o}function fN(n,o,d,h){return n.baseState=d,$0(n,Qt,typeof h=="function"?h:gi)}function E5(n,o,d,h,x){if(xp(n))throw Error(r(485));if(n=o.action,n!==null){var y={payload:x,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){y.listeners.push(k)}};te.T!==null?d(!0):y.isTransition=!1,h(y),d=o.pending,d===null?(y.next=o.pending=y,mN(o,y)):(y.next=d.next,o.pending=d.next=y)}}function mN(n,o){var d=o.action,h=o.payload,x=n.state;if(o.isTransition){var y=te.T,k={};te.T=k;try{var V=d(x,h),Q=te.S;Q!==null&&Q(k,V),pN(n,o,V)}catch(ue){G0(n,o,ue)}finally{y!==null&&k.types!==null&&(y.types=k.types),te.T=y}}else try{y=d(x,h),pN(n,o,y)}catch(ue){G0(n,o,ue)}}function pN(n,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){gN(n,o,h)},function(h){return G0(n,o,h)}):gN(n,o,d)}function gN(n,o,d){o.status="fulfilled",o.value=d,xN(o),n.state=d,o=n.pending,o!==null&&(d=o.next,d===o?n.pending=null:(d=d.next,o.next=d,mN(n,d)))}function G0(n,o,d){var h=n.pending;if(n.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=d,xN(o),o=o.next;while(o!==h)}n.action=null}function xN(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function yN(n,o){return o}function bN(n,o){if(Ct){var d=es.formState;if(d!==null){e:{var h=ft;if(Ct){if(cs){t:{for(var x=cs,y=qr;x.nodeType!==8;){if(!y){x=null;break t}if(x=Gr(x.nextSibling),x===null){x=null;break t}}y=x.data,x=y==="F!"||y==="F"?x:null}if(x){cs=Gr(x.nextSibling),h=x.data==="F!";break e}}oo(h)}h=!1}h&&(o=d[0])}}return d=La(),d.memoizedState=d.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yN,lastRenderedState:o},d.queue=h,d=zN.bind(null,ft,h),h.dispatch=d,h=H0(!1),y=X0.bind(null,ft,!1,h.queue),h=La(),x={state:o,dispatch:null,action:n,pending:null},h.queue=x,d=E5.bind(null,ft,x,y,d),x.dispatch=d,h.memoizedState=n,[o,d,!1]}function vN(n){var o=zs();return wN(o,Qt,n)}function wN(n,o,d){if(o=$0(n,o,yN)[0],n=mp(gi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=bh(o)}catch(k){throw k===id?rp:k}else h=o;o=zs();var x=o.queue,y=x.dispatch;return d!==o.memoizedState&&(ft.flags|=2048,ud(9,{destroy:void 0},C5.bind(null,x,d),null)),[h,y,n]}function C5(n,o){n.action=o}function jN(n){var o=zs(),d=Qt;if(d!==null)return wN(o,d,n);zs(),o=o.memoizedState,d=zs();var h=d.queue.dispatch;return d.memoizedState=n,[o,h,!1]}function ud(n,o,d,h){return n={tag:n,create:d,deps:h,inst:o,next:null},o=ft.updateQueue,o===null&&(o=hp(),ft.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=n.next=n:(h=d.next,d.next=n,n.next=h,o.lastEffect=n),n}function NN(){return zs().memoizedState}function pp(n,o,d,h){var x=La();ft.flags|=n,x.memoizedState=ud(1|o,{destroy:void 0},d,h===void 0?null:h)}function gp(n,o,d,h){var x=zs();h=h===void 0?null:h;var y=x.memoizedState.inst;Qt!==null&&h!==null&&L0(h,Qt.memoizedState.deps)?x.memoizedState=ud(o,y,d,h):(ft.flags|=n,x.memoizedState=ud(1|o,y,d,h))}function _N(n,o){pp(8390656,8,n,o)}function K0(n,o){gp(2048,8,n,o)}function A5(n){ft.flags|=4;var o=ft.updateQueue;if(o===null)o=hp(),ft.updateQueue=o,o.events=[n];else{var d=o.events;d===null?o.events=[n]:d.push(n)}}function kN(n){var o=zs().memoizedState;return A5({ref:o,nextImpl:n}),function(){if((zt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function SN(n,o){return gp(4,2,n,o)}function TN(n,o){return gp(4,4,n,o)}function EN(n,o){if(typeof o=="function"){n=n();var d=o(n);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function CN(n,o,d){d=d!=null?d.concat([n]):null,gp(4,4,EN.bind(null,o,n),d)}function W0(){}function AN(n,o){var d=zs();o=o===void 0?null:o;var h=d.memoizedState;return o!==null&&L0(o,h[1])?h[0]:(d.memoizedState=[n,o],n)}function IN(n,o){var d=zs();o=o===void 0?null:o;var h=d.memoizedState;if(o!==null&&L0(o,h[1]))return h[0];if(h=n(),Ml){hs(!0);try{n()}finally{hs(!1)}}return d.memoizedState=[h,o],h}function Y0(n,o,d){return d===void 0||(pi&1073741824)!==0&&(St&261930)===0?n.memoizedState=o:(n.memoizedState=d,n=R_(),ft.lanes|=n,xo|=n,d)}function RN(n,o,d,h){return xr(d,o)?d:ld.current!==null?(n=Y0(n,d,h),xr(n,o)||(Ks=!0),n):(pi&42)===0||(pi&1073741824)!==0&&(St&261930)===0?(Ks=!0,n.memoizedState=d):(n=R_(),ft.lanes|=n,xo|=n,o)}function PN(n,o,d,h,x){var y=G.p;G.p=y!==0&&8>y?y:8;var k=te.T,V={};te.T=V,X0(n,!1,o,d);try{var Q=x(),ue=te.S;if(ue!==null&&ue(V,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var _e=k5(Q,h);vh(n,o,_e,Nr(n))}else vh(n,o,h,Nr(n))}catch(Se){vh(n,o,{then:function(){},status:"rejected",reason:Se},Nr())}finally{G.p=y,k!==null&&V.types!==null&&(k.types=V.types),te.T=k}}function I5(){}function Q0(n,o,d,h){if(n.tag!==5)throw Error(r(476));var x=DN(n).queue;PN(n,x,o,ye,d===null?I5:function(){return MN(n),d(h)})}function DN(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:ye},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:d},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function MN(n){var o=DN(n);o.next===null&&(o=n.alternate.memoizedState),vh(n,o.next.queue,{},Nr())}function J0(){return ma(Lh)}function ON(){return zs().memoizedState}function LN(){return zs().memoizedState}function R5(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var d=Nr();n=uo(d);var h=ho(o,n,d);h!==null&&(ar(h,o,d),ph(h,o,d)),o={cache:S0()},n.payload=o;return}o=o.return}}function P5(n,o,d){var h=Nr();d={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},xp(n)?VN(o,d):(d=p0(n,o,d,h),d!==null&&(ar(d,n,h),UN(d,o,h)))}function zN(n,o,d){var h=Nr();vh(n,o,d,h)}function vh(n,o,d,h){var x={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(xp(n))VN(o,x);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var k=o.lastRenderedState,V=y(k,d);if(x.hasEagerState=!0,x.eagerState=V,xr(V,k))return Jm(n,o,x,0),es===null&&Qm(),!1}catch{}finally{}if(d=p0(n,o,x,h),d!==null)return ar(d,n,h),UN(d,o,h),!0}return!1}function X0(n,o,d,h){if(h={lane:2,revertLane:Ay(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},xp(n)){if(o)throw Error(r(479))}else o=p0(n,d,h,2),o!==null&&ar(o,n,2)}function xp(n){var o=n.alternate;return n===ft||o!==null&&o===ft}function VN(n,o){cd=dp=!0;var d=n.pending;d===null?o.next=o:(o.next=d.next,d.next=o),n.pending=o}function UN(n,o,d){if((d&4194048)!==0){var h=o.lanes;h&=n.pendingLanes,d|=h,o.lanes=d,$t(n,d)}}var wh={readContext:ma,use:fp,useCallback:Ts,useContext:Ts,useEffect:Ts,useImperativeHandle:Ts,useLayoutEffect:Ts,useInsertionEffect:Ts,useMemo:Ts,useReducer:Ts,useRef:Ts,useState:Ts,useDebugValue:Ts,useDeferredValue:Ts,useTransition:Ts,useSyncExternalStore:Ts,useId:Ts,useHostTransitionStatus:Ts,useFormState:Ts,useActionState:Ts,useOptimistic:Ts,useMemoCache:Ts,useCacheRefresh:Ts};wh.useEffectEvent=Ts;var FN={readContext:ma,use:fp,useCallback:function(n,o){return La().memoizedState=[n,o===void 0?null:o],n},useContext:ma,useEffect:_N,useImperativeHandle:function(n,o,d){d=d!=null?d.concat([n]):null,pp(4194308,4,EN.bind(null,o,n),d)},useLayoutEffect:function(n,o){return pp(4194308,4,n,o)},useInsertionEffect:function(n,o){pp(4,2,n,o)},useMemo:function(n,o){var d=La();o=o===void 0?null:o;var h=n();if(Ml){hs(!0);try{n()}finally{hs(!1)}}return d.memoizedState=[h,o],h},useReducer:function(n,o,d){var h=La();if(d!==void 0){var x=d(o);if(Ml){hs(!0);try{d(o)}finally{hs(!1)}}}else x=o;return h.memoizedState=h.baseState=x,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:x},h.queue=n,n=n.dispatch=P5.bind(null,ft,n),[h.memoizedState,n]},useRef:function(n){var o=La();return n={current:n},o.memoizedState=n},useState:function(n){n=H0(n);var o=n.queue,d=zN.bind(null,ft,o);return o.dispatch=d,[n.memoizedState,d]},useDebugValue:W0,useDeferredValue:function(n,o){var d=La();return Y0(d,n,o)},useTransition:function(){var n=H0(!1);return n=PN.bind(null,ft,n.queue,!0,!1),La().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,d){var h=ft,x=La();if(Ct){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),es===null)throw Error(r(349));(St&127)!==0||lN(h,o,d)}x.memoizedState=d;var y={value:d,getSnapshot:o};return x.queue=y,_N(dN.bind(null,h,y,n),[n]),h.flags|=2048,ud(9,{destroy:void 0},cN.bind(null,h,y,d,o),null),d},useId:function(){var n=La(),o=es.identifierPrefix;if(Ct){var d=Bn,h=Fn;d=(h&~(1<<32-Ft(h)-1)).toString(32)+d,o="_"+o+"R_"+d,d=up++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=S5++,o="_"+o+"r_"+d.toString(32)+"_";return n.memoizedState=o},useHostTransitionStatus:J0,useFormState:bN,useActionState:bN,useOptimistic:function(n){var o=La();o.memoizedState=o.baseState=n;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=X0.bind(null,ft,!0,d),d.dispatch=o,[n,o]},useMemoCache:B0,useCacheRefresh:function(){return La().memoizedState=R5.bind(null,ft)},useEffectEvent:function(n){var o=La(),d={impl:n};return o.memoizedState=d,function(){if((zt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Z0={readContext:ma,use:fp,useCallback:AN,useContext:ma,useEffect:K0,useImperativeHandle:CN,useInsertionEffect:SN,useLayoutEffect:TN,useMemo:IN,useReducer:mp,useRef:NN,useState:function(){return mp(gi)},useDebugValue:W0,useDeferredValue:function(n,o){var d=zs();return RN(d,Qt.memoizedState,n,o)},useTransition:function(){var n=mp(gi)[0],o=zs().memoizedState;return[typeof n=="boolean"?n:bh(n),o]},useSyncExternalStore:oN,useId:ON,useHostTransitionStatus:J0,useFormState:vN,useActionState:vN,useOptimistic:function(n,o){var d=zs();return fN(d,Qt,n,o)},useMemoCache:B0,useCacheRefresh:LN};Z0.useEffectEvent=kN;var BN={readContext:ma,use:fp,useCallback:AN,useContext:ma,useEffect:K0,useImperativeHandle:CN,useInsertionEffect:SN,useLayoutEffect:TN,useMemo:IN,useReducer:q0,useRef:NN,useState:function(){return q0(gi)},useDebugValue:W0,useDeferredValue:function(n,o){var d=zs();return Qt===null?Y0(d,n,o):RN(d,Qt.memoizedState,n,o)},useTransition:function(){var n=q0(gi)[0],o=zs().memoizedState;return[typeof n=="boolean"?n:bh(n),o]},useSyncExternalStore:oN,useId:ON,useHostTransitionStatus:J0,useFormState:jN,useActionState:jN,useOptimistic:function(n,o){var d=zs();return Qt!==null?fN(d,Qt,n,o):(d.baseState=n,[n,d.queue.dispatch])},useMemoCache:B0,useCacheRefresh:LN};BN.useEffectEvent=kN;function ey(n,o,d,h){o=n.memoizedState,d=d(h,o),d=d==null?o:b({},o,d),n.memoizedState=d,n.lanes===0&&(n.updateQueue.baseState=d)}var ty={enqueueSetState:function(n,o,d){n=n._reactInternals;var h=Nr(),x=uo(h);x.payload=o,d!=null&&(x.callback=d),o=ho(n,x,h),o!==null&&(ar(o,n,h),ph(o,n,h))},enqueueReplaceState:function(n,o,d){n=n._reactInternals;var h=Nr(),x=uo(h);x.tag=1,x.payload=o,d!=null&&(x.callback=d),o=ho(n,x,h),o!==null&&(ar(o,n,h),ph(o,n,h))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var d=Nr(),h=uo(d);h.tag=2,o!=null&&(h.callback=o),o=ho(n,h,d),o!==null&&(ar(o,n,d),ph(o,n,d))}};function $N(n,o,d,h,x,y,k){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,y,k):o.prototype&&o.prototype.isPureReactComponent?!oh(d,h)||!oh(x,y):!0}function qN(n,o,d,h){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,h),o.state!==n&&ty.enqueueReplaceState(o,o.state,null)}function Ol(n,o){var d=o;if("ref"in o){d={};for(var h in o)h!=="ref"&&(d[h]=o[h])}if(n=n.defaultProps){d===o&&(d=b({},d));for(var x in n)d[x]===void 0&&(d[x]=n[x])}return d}function HN(n){Ym(n)}function GN(n){console.error(n)}function KN(n){Ym(n)}function yp(n,o){try{var d=n.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function WN(n,o,d){try{var h=n.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function sy(n,o,d){return d=uo(d),d.tag=3,d.payload={element:null},d.callback=function(){yp(n,o)},d}function YN(n){return n=uo(n),n.tag=3,n}function QN(n,o,d,h){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var y=h.value;n.payload=function(){return x(y)},n.callback=function(){WN(o,d,h)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(n.callback=function(){WN(o,d,h),typeof x!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var V=h.stack;this.componentDidCatch(h.value,{componentStack:V!==null?V:""})})}function D5(n,o,d,h,x){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=d.alternate,o!==null&&ad(o,d,x,!0),d=br.current,d!==null){switch(d.tag){case 31:case 13:return Hr===null?Ap():d.alternate===null&&Es===0&&(Es=3),d.flags&=-257,d.flags|=65536,d.lanes=x,h===np?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([h]):o.add(h),Ty(n,h,x)),!1;case 22:return d.flags|=65536,h===np?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([h]):d.add(h)),Ty(n,h,x)),!1}throw Error(r(435,d.tag))}return Ty(n,h,x),Ap(),!1}if(Ct)return o=br.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=x,h!==w0&&(n=Error(r(422),{cause:h}),dh(Fr(n,d)))):(h!==w0&&(o=Error(r(423),{cause:h}),dh(Fr(o,d))),n=n.current.alternate,n.flags|=65536,x&=-x,n.lanes|=x,h=Fr(h,d),x=sy(n.stateNode,h,x),R0(n,x),Es!==4&&(Es=2)),!1;var y=Error(r(520),{cause:h});if(y=Fr(y,d),Ch===null?Ch=[y]:Ch.push(y),Es!==4&&(Es=2),o===null)return!0;h=Fr(h,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,n=x&-x,d.lanes|=n,n=sy(d.stateNode,h,n),R0(d,n),!1;case 1:if(o=d.type,y=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(yo===null||!yo.has(y))))return d.flags|=65536,x&=-x,d.lanes|=x,x=YN(x),QN(x,n,d,h),R0(d,x),!1}d=d.return}while(d!==null);return!1}var ay=Error(r(461)),Ks=!1;function pa(n,o,d,h){o.child=n===null?eN(o,null,d,h):Dl(o,n.child,d,h)}function JN(n,o,d,h,x){d=d.render;var y=o.ref;if("ref"in h){var k={};for(var V in h)V!=="ref"&&(k[V]=h[V])}else k=h;return Al(o),h=z0(n,o,d,k,y,x),V=V0(),n!==null&&!Ks?(U0(n,o,x),xi(n,o,x)):(Ct&&V&&b0(o),o.flags|=1,pa(n,o,h,x),o.child)}function XN(n,o,d,h,x){if(n===null){var y=d.type;return typeof y=="function"&&!g0(y)&&y.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=y,ZN(n,o,y,h,x)):(n=Zm(d.type,null,h,o,o.mode,x),n.ref=o.ref,n.return=o,o.child=n)}if(y=n.child,!uy(n,x)){var k=y.memoizedProps;if(d=d.compare,d=d!==null?d:oh,d(k,h)&&n.ref===o.ref)return xi(n,o,x)}return o.flags|=1,n=ui(y,h),n.ref=o.ref,n.return=o,o.child=n}function ZN(n,o,d,h,x){if(n!==null){var y=n.memoizedProps;if(oh(y,h)&&n.ref===o.ref)if(Ks=!1,o.pendingProps=h=y,uy(n,x))(n.flags&131072)!==0&&(Ks=!0);else return o.lanes=n.lanes,xi(n,o,x)}return ry(n,o,d,h,x)}function e_(n,o,d,h){var x=h.children,y=n!==null?n.memoizedState:null;if(n===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(y=y!==null?y.baseLanes|d:d,n!==null){for(h=o.child=n.child,x=0;h!==null;)x=x|h.lanes|h.childLanes,h=h.sibling;h=x&~y}else h=0,o.child=null;return t_(n,o,y,d,h)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&ap(o,y!==null?y.cachePool:null),y!==null?aN(o,y):D0(),rN(o);else return h=o.lanes=536870912,t_(n,o,y!==null?y.baseLanes|d:d,d,h)}else y!==null?(ap(o,y.cachePool),aN(o,y),mo(),o.memoizedState=null):(n!==null&&ap(o,null),D0(),mo());return pa(n,o,x,d),o.child}function jh(n,o){return n!==null&&n.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function t_(n,o,d,h,x){var y=E0();return y=y===null?null:{parent:Hs._currentValue,pool:y},o.memoizedState={baseLanes:d,cachePool:y},n!==null&&ap(o,null),D0(),rN(o),n!==null&&ad(n,o,h,!0),o.childLanes=x,null}function bp(n,o){return o=wp({mode:o.mode,children:o.children},n.mode),o.ref=n.ref,n.child=o,o.return=n,o}function s_(n,o,d){return Dl(o,n.child,null,d),n=bp(o,o.pendingProps),n.flags|=2,vr(o),o.memoizedState=null,n}function M5(n,o,d){var h=o.pendingProps,x=(o.flags&128)!==0;if(o.flags&=-129,n===null){if(Ct){if(h.mode==="hidden")return n=bp(o,h),o.lanes=536870912,jh(null,n);if(O0(o),(n=cs)?(n=m2(n,qr),n=n!==null&&n.data==="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:no!==null?{id:Fn,overflow:Bn}:null,retryLane:536870912,hydrationErrors:null},d=V1(n),d.return=o,o.child=d,fa=o,cs=null)):n=null,n===null)throw oo(o);return o.lanes=536870912,null}return bp(o,h)}var y=n.memoizedState;if(y!==null){var k=y.dehydrated;if(O0(o),x)if(o.flags&256)o.flags&=-257,o=s_(n,o,d);else if(o.memoizedState!==null)o.child=n.child,o.flags|=128,o=null;else throw Error(r(558));else if(Ks||ad(n,o,d,!1),x=(d&n.childLanes)!==0,Ks||x){if(h=es,h!==null&&(k=Ot(h,d),k!==0&&k!==y.retryLane))throw y.retryLane=k,Sl(n,k),ar(h,n,k),ay;Ap(),o=s_(n,o,d)}else n=y.treeContext,cs=Gr(k.nextSibling),fa=o,Ct=!0,io=null,qr=!1,n!==null&&B1(o,n),o=bp(o,h),o.flags|=4096;return o}return n=ui(n.child,{mode:h.mode,children:h.children}),n.ref=o.ref,o.child=n,n.return=o,n}function vp(n,o){var d=o.ref;if(d===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(n===null||n.ref!==d)&&(o.flags|=4194816)}}function ry(n,o,d,h,x){return Al(o),d=z0(n,o,d,h,void 0,x),h=V0(),n!==null&&!Ks?(U0(n,o,x),xi(n,o,x)):(Ct&&h&&b0(o),o.flags|=1,pa(n,o,d,x),o.child)}function a_(n,o,d,h,x,y){return Al(o),o.updateQueue=null,d=iN(o,h,d,x),nN(n),h=V0(),n!==null&&!Ks?(U0(n,o,y),xi(n,o,y)):(Ct&&h&&b0(o),o.flags|=1,pa(n,o,d,y),o.child)}function r_(n,o,d,h,x){if(Al(o),o.stateNode===null){var y=Zc,k=d.contextType;typeof k=="object"&&k!==null&&(y=ma(k)),y=new d(h,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ty,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=h,y.state=o.memoizedState,y.refs={},A0(o),k=d.contextType,y.context=typeof k=="object"&&k!==null?ma(k):Zc,y.state=o.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(ey(o,d,k,h),y.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(k=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),k!==y.state&&ty.enqueueReplaceState(y,y.state,null),xh(o,h,y,x),gh(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(n===null){y=o.stateNode;var V=o.memoizedProps,Q=Ol(d,V);y.props=Q;var ue=y.context,_e=d.contextType;k=Zc,typeof _e=="object"&&_e!==null&&(k=ma(_e));var Se=d.getDerivedStateFromProps;_e=typeof Se=="function"||typeof y.getSnapshotBeforeUpdate=="function",V=o.pendingProps!==V,_e||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(V||ue!==k)&&qN(o,y,h,k),co=!1;var me=o.memoizedState;y.state=me,xh(o,h,y,x),gh(),ue=o.memoizedState,V||me!==ue||co?(typeof Se=="function"&&(ey(o,d,Se,h),ue=o.memoizedState),(Q=co||$N(o,d,Q,h,me,ue,k))?(_e||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ue),y.props=h,y.state=ue,y.context=k,h=Q):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{y=o.stateNode,I0(n,o),k=o.memoizedProps,_e=Ol(d,k),y.props=_e,Se=o.pendingProps,me=y.context,ue=d.contextType,Q=Zc,typeof ue=="object"&&ue!==null&&(Q=ma(ue)),V=d.getDerivedStateFromProps,(ue=typeof V=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==Se||me!==Q)&&qN(o,y,h,Q),co=!1,me=o.memoizedState,y.state=me,xh(o,h,y,x),gh();var be=o.memoizedState;k!==Se||me!==be||co||n!==null&&n.dependencies!==null&&tp(n.dependencies)?(typeof V=="function"&&(ey(o,d,V,h),be=o.memoizedState),(_e=co||$N(o,d,_e,h,me,be,Q)||n!==null&&n.dependencies!==null&&tp(n.dependencies))?(ue||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,be,Q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,be,Q)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||k===n.memoizedProps&&me===n.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&me===n.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=be),y.props=h,y.state=be,y.context=Q,h=_e):(typeof y.componentDidUpdate!="function"||k===n.memoizedProps&&me===n.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&me===n.memoizedState||(o.flags|=1024),h=!1)}return y=h,vp(n,o),h=(o.flags&128)!==0,y||h?(y=o.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,n!==null&&h?(o.child=Dl(o,n.child,null,x),o.child=Dl(o,null,d,x)):pa(n,o,d,x),o.memoizedState=y.state,n=o.child):n=xi(n,o,x),n}function n_(n,o,d,h){return El(),o.flags|=256,pa(n,o,d,h),o.child}var ny={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iy(n){return{baseLanes:n,cachePool:W1()}}function oy(n,o,d){return n=n!==null?n.childLanes&~d:0,o&&(n|=jr),n}function i_(n,o,d){var h=o.pendingProps,x=!1,y=(o.flags&128)!==0,k;if((k=y)||(k=n!==null&&n.memoizedState===null?!1:(Ls.current&2)!==0),k&&(x=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,n===null){if(Ct){if(x?fo(o):mo(),(n=cs)?(n=m2(n,qr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:no!==null?{id:Fn,overflow:Bn}:null,retryLane:536870912,hydrationErrors:null},d=V1(n),d.return=o,o.child=d,fa=o,cs=null)):n=null,n===null)throw oo(o);return $y(n)?o.lanes=32:o.lanes=536870912,null}var V=h.children;return h=h.fallback,x?(mo(),x=o.mode,V=wp({mode:"hidden",children:V},x),h=Tl(h,x,d,null),V.return=o,h.return=o,V.sibling=h,o.child=V,h=o.child,h.memoizedState=iy(d),h.childLanes=oy(n,k,d),o.memoizedState=ny,jh(null,h)):(fo(o),ly(o,V))}var Q=n.memoizedState;if(Q!==null&&(V=Q.dehydrated,V!==null)){if(y)o.flags&256?(fo(o),o.flags&=-257,o=cy(n,o,d)):o.memoizedState!==null?(mo(),o.child=n.child,o.flags|=128,o=null):(mo(),V=h.fallback,x=o.mode,h=wp({mode:"visible",children:h.children},x),V=Tl(V,x,d,null),V.flags|=2,h.return=o,V.return=o,h.sibling=V,o.child=h,Dl(o,n.child,null,d),h=o.child,h.memoizedState=iy(d),h.childLanes=oy(n,k,d),o.memoizedState=ny,o=jh(null,h));else if(fo(o),$y(V)){if(k=V.nextSibling&&V.nextSibling.dataset,k)var ue=k.dgst;k=ue,h=Error(r(419)),h.stack="",h.digest=k,dh({value:h,source:null,stack:null}),o=cy(n,o,d)}else if(Ks||ad(n,o,d,!1),k=(d&n.childLanes)!==0,Ks||k){if(k=es,k!==null&&(h=Ot(k,d),h!==0&&h!==Q.retryLane))throw Q.retryLane=h,Sl(n,h),ar(k,n,h),ay;By(V)||Ap(),o=cy(n,o,d)}else By(V)?(o.flags|=192,o.child=n.child,o=null):(n=Q.treeContext,cs=Gr(V.nextSibling),fa=o,Ct=!0,io=null,qr=!1,n!==null&&B1(o,n),o=ly(o,h.children),o.flags|=4096);return o}return x?(mo(),V=h.fallback,x=o.mode,Q=n.child,ue=Q.sibling,h=ui(Q,{mode:"hidden",children:h.children}),h.subtreeFlags=Q.subtreeFlags&65011712,ue!==null?V=ui(ue,V):(V=Tl(V,x,d,null),V.flags|=2),V.return=o,h.return=o,h.sibling=V,o.child=h,jh(null,h),h=o.child,V=n.child.memoizedState,V===null?V=iy(d):(x=V.cachePool,x!==null?(Q=Hs._currentValue,x=x.parent!==Q?{parent:Q,pool:Q}:x):x=W1(),V={baseLanes:V.baseLanes|d,cachePool:x}),h.memoizedState=V,h.childLanes=oy(n,k,d),o.memoizedState=ny,jh(n.child,h)):(fo(o),d=n.child,n=d.sibling,d=ui(d,{mode:"visible",children:h.children}),d.return=o,d.sibling=null,n!==null&&(k=o.deletions,k===null?(o.deletions=[n],o.flags|=16):k.push(n)),o.child=d,o.memoizedState=null,d)}function ly(n,o){return o=wp({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function wp(n,o){return n=yr(22,n,null,o),n.lanes=0,n}function cy(n,o,d){return Dl(o,n.child,null,d),n=ly(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function o_(n,o,d){n.lanes|=o;var h=n.alternate;h!==null&&(h.lanes|=o),_0(n.return,o,d)}function dy(n,o,d,h,x,y){var k=n.memoizedState;k===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:x,treeForkCount:y}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=h,k.tail=d,k.tailMode=x,k.treeForkCount=y)}function l_(n,o,d){var h=o.pendingProps,x=h.revealOrder,y=h.tail;h=h.children;var k=Ls.current,V=(k&2)!==0;if(V?(k=k&1|2,o.flags|=128):k&=1,B(Ls,k),pa(n,o,h,d),h=Ct?ch:0,!V&&n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&o_(n,d,o);else if(n.tag===19)o_(n,d,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(x){case"forwards":for(d=o.child,x=null;d!==null;)n=d.alternate,n!==null&&cp(n)===null&&(x=d),d=d.sibling;d=x,d===null?(x=o.child,o.child=null):(x=d.sibling,d.sibling=null),dy(o,!1,x,d,y,h);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=o.child,o.child=null;x!==null;){if(n=x.alternate,n!==null&&cp(n)===null){o.child=x;break}n=x.sibling,x.sibling=d,d=x,x=n}dy(o,!0,d,null,y,h);break;case"together":dy(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function xi(n,o,d){if(n!==null&&(o.dependencies=n.dependencies),xo|=o.lanes,(d&o.childLanes)===0)if(n!==null){if(ad(n,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(r(153));if(o.child!==null){for(n=o.child,d=ui(n,n.pendingProps),o.child=d,d.return=o;n.sibling!==null;)n=n.sibling,d=d.sibling=ui(n,n.pendingProps),d.return=o;d.sibling=null}return o.child}function uy(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&tp(n)))}function O5(n,o,d){switch(o.tag){case 3:Le(o,o.stateNode.containerInfo),lo(o,Hs,n.memoizedState.cache),El();break;case 27:case 5:J(o);break;case 4:Le(o,o.stateNode.containerInfo);break;case 10:lo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,O0(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(fo(o),o.flags|=128,null):(d&o.child.childLanes)!==0?i_(n,o,d):(fo(o),n=xi(n,o,d),n!==null?n.sibling:null);fo(o);break;case 19:var x=(n.flags&128)!==0;if(h=(d&o.childLanes)!==0,h||(ad(n,o,d,!1),h=(d&o.childLanes)!==0),x){if(h)return l_(n,o,d);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),B(Ls,Ls.current),h)break;return null;case 22:return o.lanes=0,e_(n,o,d,o.pendingProps);case 24:lo(o,Hs,n.memoizedState.cache)}return xi(n,o,d)}function c_(n,o,d){if(n!==null)if(n.memoizedProps!==o.pendingProps)Ks=!0;else{if(!uy(n,d)&&(o.flags&128)===0)return Ks=!1,O5(n,o,d);Ks=(n.flags&131072)!==0}else Ks=!1,Ct&&(o.flags&1048576)!==0&&F1(o,ch,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(n=Rl(o.elementType),o.type=n,typeof n=="function")g0(n)?(h=Ol(n,h),o.tag=1,o=r_(null,o,n,h,d)):(o.tag=0,o=ry(null,o,n,h,d));else{if(n!=null){var x=n.$$typeof;if(x===L){o.tag=11,o=JN(null,o,n,h,d);break e}else if(x===C){o.tag=14,o=XN(null,o,n,h,d);break e}}throw o=Z(n)||n,Error(r(306,o,""))}}return o;case 0:return ry(n,o,o.type,o.pendingProps,d);case 1:return h=o.type,x=Ol(h,o.pendingProps),r_(n,o,h,x,d);case 3:e:{if(Le(o,o.stateNode.containerInfo),n===null)throw Error(r(387));h=o.pendingProps;var y=o.memoizedState;x=y.element,I0(n,o),xh(o,h,null,d);var k=o.memoizedState;if(h=k.cache,lo(o,Hs,h),h!==y.cache&&k0(o,[Hs],d,!0),gh(),h=k.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=n_(n,o,h,d);break e}else if(h!==x){x=Fr(Error(r(424)),o),dh(x),o=n_(n,o,h,d);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(cs=Gr(n.firstChild),fa=o,Ct=!0,io=null,qr=!0,d=eN(o,null,h,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(El(),h===x){o=xi(n,o,d);break e}pa(n,o,h,d)}o=o.child}return o;case 26:return vp(n,o),n===null?(d=v2(o.type,null,o.pendingProps,null))?o.memoizedState=d:Ct||(d=o.type,n=o.pendingProps,h=Lp(je.current).createElement(d),h[Bs]=o,h[ra]=n,ga(h,d,n),$s(h),o.stateNode=h):o.memoizedState=v2(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return J(o),n===null&&Ct&&(h=o.stateNode=x2(o.type,o.pendingProps,je.current),fa=o,qr=!0,x=cs,jo(o.type)?(qy=x,cs=Gr(h.firstChild)):cs=x),pa(n,o,o.pendingProps.children,d),vp(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&Ct&&((x=h=cs)&&(h=h6(h,o.type,o.pendingProps,qr),h!==null?(o.stateNode=h,fa=o,cs=Gr(h.firstChild),qr=!1,x=!0):x=!1),x||oo(o)),J(o),x=o.type,y=o.pendingProps,k=n!==null?n.memoizedProps:null,h=y.children,Vy(x,y)?h=null:k!==null&&Vy(x,k)&&(o.flags|=32),o.memoizedState!==null&&(x=z0(n,o,T5,null,null,d),Lh._currentValue=x),vp(n,o),pa(n,o,h,d),o.child;case 6:return n===null&&Ct&&((n=d=cs)&&(d=f6(d,o.pendingProps,qr),d!==null?(o.stateNode=d,fa=o,cs=null,n=!0):n=!1),n||oo(o)),null;case 13:return i_(n,o,d);case 4:return Le(o,o.stateNode.containerInfo),h=o.pendingProps,n===null?o.child=Dl(o,null,h,d):pa(n,o,h,d),o.child;case 11:return JN(n,o,o.type,o.pendingProps,d);case 7:return pa(n,o,o.pendingProps,d),o.child;case 8:return pa(n,o,o.pendingProps.children,d),o.child;case 12:return pa(n,o,o.pendingProps.children,d),o.child;case 10:return h=o.pendingProps,lo(o,o.type,h.value),pa(n,o,h.children,d),o.child;case 9:return x=o.type._context,h=o.pendingProps.children,Al(o),x=ma(x),h=h(x),o.flags|=1,pa(n,o,h,d),o.child;case 14:return XN(n,o,o.type,o.pendingProps,d);case 15:return ZN(n,o,o.type,o.pendingProps,d);case 19:return l_(n,o,d);case 31:return M5(n,o,d);case 22:return e_(n,o,d,o.pendingProps);case 24:return Al(o),h=ma(Hs),n===null?(x=E0(),x===null&&(x=es,y=S0(),x.pooledCache=y,y.refCount++,y!==null&&(x.pooledCacheLanes|=d),x=y),o.memoizedState={parent:h,cache:x},A0(o),lo(o,Hs,x)):((n.lanes&d)!==0&&(I0(n,o),xh(o,null,null,d),gh()),x=n.memoizedState,y=o.memoizedState,x.parent!==h?(x={parent:h,cache:h},o.memoizedState=x,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=x),lo(o,Hs,h)):(h=y.cache,lo(o,Hs,h),h!==x.cache&&k0(o,[Hs],d,!0))),pa(n,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function yi(n){n.flags|=4}function hy(n,o,d,h,x){if((o=(n.mode&32)!==0)&&(o=!1),o){if(n.flags|=16777216,(x&335544128)===x)if(n.stateNode.complete)n.flags|=8192;else if(O_())n.flags|=8192;else throw Pl=np,C0}else n.flags&=-16777217}function d_(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!k2(o))if(O_())n.flags|=8192;else throw Pl=np,C0}function jp(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?Zt():536870912,n.lanes|=o,pd|=o)}function Nh(n,o){if(!Ct)switch(n.tailMode){case"hidden":o=n.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?n.tail=null:d.sibling=null;break;case"collapsed":d=n.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function ds(n){var o=n.alternate!==null&&n.alternate.child===n.child,d=0,h=0;if(o)for(var x=n.child;x!==null;)d|=x.lanes|x.childLanes,h|=x.subtreeFlags&65011712,h|=x.flags&65011712,x.return=n,x=x.sibling;else for(x=n.child;x!==null;)d|=x.lanes|x.childLanes,h|=x.subtreeFlags,h|=x.flags,x.return=n,x=x.sibling;return n.subtreeFlags|=h,n.childLanes=d,o}function L5(n,o,d){var h=o.pendingProps;switch(v0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ds(o),null;case 1:return ds(o),null;case 3:return d=o.stateNode,h=null,n!==null&&(h=n.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),mi(Hs),ze(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(sd(o)?yi(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,j0())),ds(o),null;case 26:var x=o.type,y=o.memoizedState;return n===null?(yi(o),y!==null?(ds(o),d_(o,y)):(ds(o),hy(o,x,null,h,d))):y?y!==n.memoizedState?(yi(o),ds(o),d_(o,y)):(ds(o),o.flags&=-16777217):(n=n.memoizedProps,n!==h&&yi(o),ds(o),hy(o,x,n,h,d)),null;case 27:if(Qe(o),d=je.current,x=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==h&&yi(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return ds(o),null}n=F.current,sd(o)?$1(o):(n=x2(x,h,d),o.stateNode=n,yi(o))}return ds(o),null;case 5:if(Qe(o),x=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==h&&yi(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return ds(o),null}if(y=F.current,sd(o))$1(o);else{var k=Lp(je.current);switch(y){case 1:y=k.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:y=k.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":y=k.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":y=k.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":y=k.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?k.createElement("select",{is:h.is}):k.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?k.createElement(x,{is:h.is}):k.createElement(x)}}y[Bs]=o,y[ra]=h;e:for(k=o.child;k!==null;){if(k.tag===5||k.tag===6)y.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===o)break e;for(;k.sibling===null;){if(k.return===null||k.return===o)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}o.stateNode=y;e:switch(ga(y,x,h),x){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&yi(o)}}return ds(o),hy(o,o.type,n===null?null:n.memoizedProps,o.pendingProps,d),null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==h&&yi(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(n=je.current,sd(o)){if(n=o.stateNode,d=o.memoizedProps,h=null,x=fa,x!==null)switch(x.tag){case 27:case 5:h=x.memoizedProps}n[Bs]=o,n=!!(n.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||i2(n.nodeValue,d)),n||oo(o,!0)}else n=Lp(n).createTextNode(h),n[Bs]=o,o.stateNode=n}return ds(o),null;case 31:if(d=o.memoizedState,n===null||n.memoizedState!==null){if(h=sd(o),d!==null){if(n===null){if(!h)throw Error(r(318));if(n=o.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Bs]=o}else El(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ds(o),n=!1}else d=j0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),n=!0;if(!n)return o.flags&256?(vr(o),o):(vr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return ds(o),null;case 13:if(h=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(x=sd(o),h!==null&&h.dehydrated!==null){if(n===null){if(!x)throw Error(r(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Bs]=o}else El(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ds(o),x=!1}else x=j0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=x),x=!0;if(!x)return o.flags&256?(vr(o),o):(vr(o),null)}return vr(o),(o.flags&128)!==0?(o.lanes=d,o):(d=h!==null,n=n!==null&&n.memoizedState!==null,d&&(h=o.child,x=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(x=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==x&&(h.flags|=2048)),d!==n&&d&&(o.child.flags|=8192),jp(o,o.updateQueue),ds(o),null);case 4:return ze(),n===null&&Dy(o.stateNode.containerInfo),ds(o),null;case 10:return mi(o.type),ds(o),null;case 19:if(W(Ls),h=o.memoizedState,h===null)return ds(o),null;if(x=(o.flags&128)!==0,y=h.rendering,y===null)if(x)Nh(h,!1);else{if(Es!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(y=cp(n),y!==null){for(o.flags|=128,Nh(h,!1),n=y.updateQueue,o.updateQueue=n,jp(o,n),o.subtreeFlags=0,n=d,d=o.child;d!==null;)z1(d,n),d=d.sibling;return B(Ls,Ls.current&1|2),Ct&&hi(o,h.treeForkCount),o.child}n=n.sibling}h.tail!==null&&It()>Tp&&(o.flags|=128,x=!0,Nh(h,!1),o.lanes=4194304)}else{if(!x)if(n=cp(y),n!==null){if(o.flags|=128,x=!0,n=n.updateQueue,o.updateQueue=n,jp(o,n),Nh(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Ct)return ds(o),null}else 2*It()-h.renderingStartTime>Tp&&d!==536870912&&(o.flags|=128,x=!0,Nh(h,!1),o.lanes=4194304);h.isBackwards?(y.sibling=o.child,o.child=y):(n=h.last,n!==null?n.sibling=y:o.child=y,h.last=y)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=It(),n.sibling=null,d=Ls.current,B(Ls,x?d&1|2:d&1),Ct&&hi(o,h.treeForkCount),n):(ds(o),null);case 22:case 23:return vr(o),M0(),h=o.memoizedState!==null,n!==null?n.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(d&536870912)!==0&&(o.flags&128)===0&&(ds(o),o.subtreeFlags&6&&(o.flags|=8192)):ds(o),d=o.updateQueue,d!==null&&jp(o,d.retryQueue),d=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048),n!==null&&W(Il),null;case 24:return d=null,n!==null&&(d=n.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),mi(Hs),ds(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function z5(n,o){switch(v0(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return mi(Hs),ze(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return Qe(o),null;case 31:if(o.memoizedState!==null){if(vr(o),o.alternate===null)throw Error(r(340));El()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 13:if(vr(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(r(340));El()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return W(Ls),null;case 4:return ze(),null;case 10:return mi(o.type),null;case 22:case 23:return vr(o),M0(),n!==null&&W(Il),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return mi(Hs),null;case 25:return null;default:return null}}function u_(n,o){switch(v0(o),o.tag){case 3:mi(Hs),ze();break;case 26:case 27:case 5:Qe(o);break;case 4:ze();break;case 31:o.memoizedState!==null&&vr(o);break;case 13:vr(o);break;case 19:W(Ls);break;case 10:mi(o.type);break;case 22:case 23:vr(o),M0(),n!==null&&W(Il);break;case 24:mi(Hs)}}function _h(n,o){try{var d=o.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var x=h.next;d=x;do{if((d.tag&n)===n){h=void 0;var y=d.create,k=d.inst;h=y(),k.destroy=h}d=d.next}while(d!==x)}}catch(V){Gt(o,o.return,V)}}function po(n,o,d){try{var h=o.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var y=x.next;h=y;do{if((h.tag&n)===n){var k=h.inst,V=k.destroy;if(V!==void 0){k.destroy=void 0,x=o;var Q=d,ue=V;try{ue()}catch(_e){Gt(x,Q,_e)}}}h=h.next}while(h!==y)}}catch(_e){Gt(o,o.return,_e)}}function h_(n){var o=n.updateQueue;if(o!==null){var d=n.stateNode;try{sN(o,d)}catch(h){Gt(n,n.return,h)}}}function f_(n,o,d){d.props=Ol(n.type,n.memoizedProps),d.state=n.memoizedState;try{d.componentWillUnmount()}catch(h){Gt(n,o,h)}}function kh(n,o){try{var d=n.ref;if(d!==null){switch(n.tag){case 26:case 27:case 5:var h=n.stateNode;break;case 30:h=n.stateNode;break;default:h=n.stateNode}typeof d=="function"?n.refCleanup=d(h):d.current=h}}catch(x){Gt(n,o,x)}}function $n(n,o){var d=n.ref,h=n.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(x){Gt(n,o,x)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Gt(n,o,x)}else d.current=null}function m_(n){var o=n.type,d=n.memoizedProps,h=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(x){Gt(n,n.return,x)}}function fy(n,o,d){try{var h=n.stateNode;i6(h,n.type,d,o),h[ra]=o}catch(x){Gt(n,n.return,x)}}function p_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&jo(n.type)||n.tag===4}function my(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||p_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&jo(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function py(n,o,d){var h=n.tag;if(h===5||h===6)n=n.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(n,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(n),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=on));else if(h!==4&&(h===27&&jo(n.type)&&(d=n.stateNode,o=null),n=n.child,n!==null))for(py(n,o,d),n=n.sibling;n!==null;)py(n,o,d),n=n.sibling}function Np(n,o,d){var h=n.tag;if(h===5||h===6)n=n.stateNode,o?d.insertBefore(n,o):d.appendChild(n);else if(h!==4&&(h===27&&jo(n.type)&&(d=n.stateNode),n=n.child,n!==null))for(Np(n,o,d),n=n.sibling;n!==null;)Np(n,o,d),n=n.sibling}function g_(n){var o=n.stateNode,d=n.memoizedProps;try{for(var h=n.type,x=o.attributes;x.length;)o.removeAttributeNode(x[0]);ga(o,h,d),o[Bs]=n,o[ra]=d}catch(y){Gt(n,n.return,y)}}var bi=!1,Ws=!1,gy=!1,x_=typeof WeakSet=="function"?WeakSet:Set,ia=null;function V5(n,o){if(n=n.containerInfo,Ly=qp,n=C1(n),c0(n)){if("selectionStart"in n)var d={start:n.selectionStart,end:n.selectionEnd};else e:{d=(d=n.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var x=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{d.nodeType,y.nodeType}catch{d=null;break e}var k=0,V=-1,Q=-1,ue=0,_e=0,Se=n,me=null;t:for(;;){for(var be;Se!==d||x!==0&&Se.nodeType!==3||(V=k+x),Se!==y||h!==0&&Se.nodeType!==3||(Q=k+h),Se.nodeType===3&&(k+=Se.nodeValue.length),(be=Se.firstChild)!==null;)me=Se,Se=be;for(;;){if(Se===n)break t;if(me===d&&++ue===x&&(V=k),me===y&&++_e===h&&(Q=k),(be=Se.nextSibling)!==null)break;Se=me,me=Se.parentNode}Se=be}d=V===-1||Q===-1?null:{start:V,end:Q}}else d=null}d=d||{start:0,end:0}}else d=null;for(zy={focusedElem:n,selectionRange:d},qp=!1,ia=o;ia!==null;)if(o=ia,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,ia=n;else for(;ia!==null;){switch(o=ia,y=o.alternate,n=o.flags,o.tag){case 0:if((n&4)!==0&&(n=o.updateQueue,n=n!==null?n.events:null,n!==null))for(d=0;d<n.length;d++)x=n[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,d=o,x=y.memoizedProps,y=y.memoizedState,h=d.stateNode;try{var Ke=Ol(d.type,x);n=h.getSnapshotBeforeUpdate(Ke,y),h.__reactInternalSnapshotBeforeUpdate=n}catch(at){Gt(d,d.return,at)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,d=n.nodeType,d===9)Fy(n);else if(d===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Fy(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=o.sibling,n!==null){n.return=o.return,ia=n;break}ia=o.return}}function y_(n,o,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:wi(n,d),h&4&&_h(5,d);break;case 1:if(wi(n,d),h&4)if(n=d.stateNode,o===null)try{n.componentDidMount()}catch(k){Gt(d,d.return,k)}else{var x=Ol(d.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(x,o,n.__reactInternalSnapshotBeforeUpdate)}catch(k){Gt(d,d.return,k)}}h&64&&h_(d),h&512&&kh(d,d.return);break;case 3:if(wi(n,d),h&64&&(n=d.updateQueue,n!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{sN(n,o)}catch(k){Gt(d,d.return,k)}}break;case 27:o===null&&h&4&&g_(d);case 26:case 5:wi(n,d),o===null&&h&4&&m_(d),h&512&&kh(d,d.return);break;case 12:wi(n,d);break;case 31:wi(n,d),h&4&&w_(n,d);break;case 13:wi(n,d),h&4&&j_(n,d),h&64&&(n=d.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(d=W5.bind(null,d),m6(n,d))));break;case 22:if(h=d.memoizedState!==null||bi,!h){o=o!==null&&o.memoizedState!==null||Ws,x=bi;var y=Ws;bi=h,(Ws=o)&&!y?ji(n,d,(d.subtreeFlags&8772)!==0):wi(n,d),bi=x,Ws=y}break;case 30:break;default:wi(n,d)}}function b_(n){var o=n.alternate;o!==null&&(n.alternate=null,b_(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&Vc(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ps=null,Za=!1;function vi(n,o,d){for(d=d.child;d!==null;)v_(n,o,d),d=d.sibling}function v_(n,o,d){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(Mt,d)}catch{}switch(d.tag){case 26:Ws||$n(d,o),vi(n,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Ws||$n(d,o);var h=ps,x=Za;jo(d.type)&&(ps=d.stateNode,Za=!1),vi(n,o,d),Dh(d.stateNode),ps=h,Za=x;break;case 5:Ws||$n(d,o);case 6:if(h=ps,x=Za,ps=null,vi(n,o,d),ps=h,Za=x,ps!==null)if(Za)try{(ps.nodeType===9?ps.body:ps.nodeName==="HTML"?ps.ownerDocument.body:ps).removeChild(d.stateNode)}catch(y){Gt(d,o,y)}else try{ps.removeChild(d.stateNode)}catch(y){Gt(d,o,y)}break;case 18:ps!==null&&(Za?(n=ps,h2(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,d.stateNode),Nd(n)):h2(ps,d.stateNode));break;case 4:h=ps,x=Za,ps=d.stateNode.containerInfo,Za=!0,vi(n,o,d),ps=h,Za=x;break;case 0:case 11:case 14:case 15:po(2,d,o),Ws||po(4,d,o),vi(n,o,d);break;case 1:Ws||($n(d,o),h=d.stateNode,typeof h.componentWillUnmount=="function"&&f_(d,o,h)),vi(n,o,d);break;case 21:vi(n,o,d);break;case 22:Ws=(h=Ws)||d.memoizedState!==null,vi(n,o,d),Ws=h;break;default:vi(n,o,d)}}function w_(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Nd(n)}catch(d){Gt(o,o.return,d)}}}function j_(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Nd(n)}catch(d){Gt(o,o.return,d)}}function U5(n){switch(n.tag){case 31:case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new x_),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new x_),o;default:throw Error(r(435,n.tag))}}function _p(n,o){var d=U5(n);o.forEach(function(h){if(!d.has(h)){d.add(h);var x=Y5.bind(null,n,h);h.then(x,x)}})}function er(n,o){var d=o.deletions;if(d!==null)for(var h=0;h<d.length;h++){var x=d[h],y=n,k=o,V=k;e:for(;V!==null;){switch(V.tag){case 27:if(jo(V.type)){ps=V.stateNode,Za=!1;break e}break;case 5:ps=V.stateNode,Za=!1;break e;case 3:case 4:ps=V.stateNode.containerInfo,Za=!0;break e}V=V.return}if(ps===null)throw Error(r(160));v_(y,k,x),ps=null,Za=!1,y=x.alternate,y!==null&&(y.return=null),x.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)N_(o,n),o=o.sibling}var fn=null;function N_(n,o){var d=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:er(o,n),tr(n),h&4&&(po(3,n,n.return),_h(3,n),po(5,n,n.return));break;case 1:er(o,n),tr(n),h&512&&(Ws||d===null||$n(d,d.return)),h&64&&bi&&(n=n.updateQueue,n!==null&&(h=n.callbacks,h!==null&&(d=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var x=fn;if(er(o,n),tr(n),h&512&&(Ws||d===null||$n(d,d.return)),h&4){var y=d!==null?d.memoizedState:null;if(h=n.memoizedState,d===null)if(h===null)if(n.stateNode===null){e:{h=n.type,d=n.memoizedProps,x=x.ownerDocument||x;t:switch(h){case"title":y=x.getElementsByTagName("title")[0],(!y||y[Cn]||y[Bs]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=x.createElement(h),x.head.insertBefore(y,x.querySelector("head > title"))),ga(y,h,d),y[Bs]=n,$s(y),h=y;break e;case"link":var k=N2("link","href",x).get(h+(d.href||""));if(k){for(var V=0;V<k.length;V++)if(y=k[V],y.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&y.getAttribute("rel")===(d.rel==null?null:d.rel)&&y.getAttribute("title")===(d.title==null?null:d.title)&&y.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice(V,1);break t}}y=x.createElement(h),ga(y,h,d),x.head.appendChild(y);break;case"meta":if(k=N2("meta","content",x).get(h+(d.content||""))){for(V=0;V<k.length;V++)if(y=k[V],y.getAttribute("content")===(d.content==null?null:""+d.content)&&y.getAttribute("name")===(d.name==null?null:d.name)&&y.getAttribute("property")===(d.property==null?null:d.property)&&y.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&y.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice(V,1);break t}}y=x.createElement(h),ga(y,h,d),x.head.appendChild(y);break;default:throw Error(r(468,h))}y[Bs]=n,$s(y),h=y}n.stateNode=h}else _2(x,n.type,n.stateNode);else n.stateNode=j2(x,h,n.memoizedProps);else y!==h?(y===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):y.count--,h===null?_2(x,n.type,n.stateNode):j2(x,h,n.memoizedProps)):h===null&&n.stateNode!==null&&fy(n,n.memoizedProps,d.memoizedProps)}break;case 27:er(o,n),tr(n),h&512&&(Ws||d===null||$n(d,d.return)),d!==null&&h&4&&fy(n,n.memoizedProps,d.memoizedProps);break;case 5:if(er(o,n),tr(n),h&512&&(Ws||d===null||$n(d,d.return)),n.flags&32){x=n.stateNode;try{Xa(x,"")}catch(Ke){Gt(n,n.return,Ke)}}h&4&&n.stateNode!=null&&(x=n.memoizedProps,fy(n,x,d!==null?d.memoizedProps:x)),h&1024&&(gy=!0);break;case 6:if(er(o,n),tr(n),h&4){if(n.stateNode===null)throw Error(r(162));h=n.memoizedProps,d=n.stateNode;try{d.nodeValue=h}catch(Ke){Gt(n,n.return,Ke)}}break;case 3:if(Up=null,x=fn,fn=zp(o.containerInfo),er(o,n),fn=x,tr(n),h&4&&d!==null&&d.memoizedState.isDehydrated)try{Nd(o.containerInfo)}catch(Ke){Gt(n,n.return,Ke)}gy&&(gy=!1,__(n));break;case 4:h=fn,fn=zp(n.stateNode.containerInfo),er(o,n),tr(n),fn=h;break;case 12:er(o,n),tr(n);break;case 31:er(o,n),tr(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,_p(n,h)));break;case 13:er(o,n),tr(n),n.child.flags&8192&&n.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Sp=It()),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,_p(n,h)));break;case 22:x=n.memoizedState!==null;var Q=d!==null&&d.memoizedState!==null,ue=bi,_e=Ws;if(bi=ue||x,Ws=_e||Q,er(o,n),Ws=_e,bi=ue,tr(n),h&8192)e:for(o=n.stateNode,o._visibility=x?o._visibility&-2:o._visibility|1,x&&(d===null||Q||bi||Ws||Ll(n)),d=null,o=n;;){if(o.tag===5||o.tag===26){if(d===null){Q=d=o;try{if(y=Q.stateNode,x)k=y.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{V=Q.stateNode;var Se=Q.memoizedProps.style,me=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;V.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Ke){Gt(Q,Q.return,Ke)}}}else if(o.tag===6){if(d===null){Q=o;try{Q.stateNode.nodeValue=x?"":Q.memoizedProps}catch(Ke){Gt(Q,Q.return,Ke)}}}else if(o.tag===18){if(d===null){Q=o;try{var be=Q.stateNode;x?f2(be,!0):f2(Q.stateNode,!1)}catch(Ke){Gt(Q,Q.return,Ke)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=n.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,_p(n,d))));break;case 19:er(o,n),tr(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,_p(n,h)));break;case 30:break;case 21:break;default:er(o,n),tr(n)}}function tr(n){var o=n.flags;if(o&2){try{for(var d,h=n.return;h!==null;){if(p_(h)){d=h;break}h=h.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var x=d.stateNode,y=my(n);Np(n,y,x);break;case 5:var k=d.stateNode;d.flags&32&&(Xa(k,""),d.flags&=-33);var V=my(n);Np(n,V,k);break;case 3:case 4:var Q=d.stateNode.containerInfo,ue=my(n);py(n,ue,Q);break;default:throw Error(r(161))}}catch(_e){Gt(n,n.return,_e)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function __(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;__(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function wi(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)y_(n,o.alternate,o),o=o.sibling}function Ll(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:po(4,o,o.return),Ll(o);break;case 1:$n(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&f_(o,o.return,d),Ll(o);break;case 27:Dh(o.stateNode);case 26:case 5:$n(o,o.return),Ll(o);break;case 22:o.memoizedState===null&&Ll(o);break;case 30:Ll(o);break;default:Ll(o)}n=n.sibling}}function ji(n,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,x=n,y=o,k=y.flags;switch(y.tag){case 0:case 11:case 15:ji(x,y,d),_h(4,y);break;case 1:if(ji(x,y,d),h=y,x=h.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ue){Gt(h,h.return,ue)}if(h=y,x=h.updateQueue,x!==null){var V=h.stateNode;try{var Q=x.shared.hiddenCallbacks;if(Q!==null)for(x.shared.hiddenCallbacks=null,x=0;x<Q.length;x++)tN(Q[x],V)}catch(ue){Gt(h,h.return,ue)}}d&&k&64&&h_(y),kh(y,y.return);break;case 27:g_(y);case 26:case 5:ji(x,y,d),d&&h===null&&k&4&&m_(y),kh(y,y.return);break;case 12:ji(x,y,d);break;case 31:ji(x,y,d),d&&k&4&&w_(x,y);break;case 13:ji(x,y,d),d&&k&4&&j_(x,y);break;case 22:y.memoizedState===null&&ji(x,y,d),kh(y,y.return);break;case 30:break;default:ji(x,y,d)}o=o.sibling}}function xy(n,o){var d=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==d&&(n!=null&&n.refCount++,d!=null&&uh(d))}function yy(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&uh(n))}function mn(n,o,d,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)k_(n,o,d,h),o=o.sibling}function k_(n,o,d,h){var x=o.flags;switch(o.tag){case 0:case 11:case 15:mn(n,o,d,h),x&2048&&_h(9,o);break;case 1:mn(n,o,d,h);break;case 3:mn(n,o,d,h),x&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&uh(n)));break;case 12:if(x&2048){mn(n,o,d,h),n=o.stateNode;try{var y=o.memoizedProps,k=y.id,V=y.onPostCommit;typeof V=="function"&&V(k,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Q){Gt(o,o.return,Q)}}else mn(n,o,d,h);break;case 31:mn(n,o,d,h);break;case 13:mn(n,o,d,h);break;case 23:break;case 22:y=o.stateNode,k=o.alternate,o.memoizedState!==null?y._visibility&2?mn(n,o,d,h):Sh(n,o):y._visibility&2?mn(n,o,d,h):(y._visibility|=2,hd(n,o,d,h,(o.subtreeFlags&10256)!==0||!1)),x&2048&&xy(k,o);break;case 24:mn(n,o,d,h),x&2048&&yy(o.alternate,o);break;default:mn(n,o,d,h)}}function hd(n,o,d,h,x){for(x=x&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var y=n,k=o,V=d,Q=h,ue=k.flags;switch(k.tag){case 0:case 11:case 15:hd(y,k,V,Q,x),_h(8,k);break;case 23:break;case 22:var _e=k.stateNode;k.memoizedState!==null?_e._visibility&2?hd(y,k,V,Q,x):Sh(y,k):(_e._visibility|=2,hd(y,k,V,Q,x)),x&&ue&2048&&xy(k.alternate,k);break;case 24:hd(y,k,V,Q,x),x&&ue&2048&&yy(k.alternate,k);break;default:hd(y,k,V,Q,x)}o=o.sibling}}function Sh(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=n,h=o,x=h.flags;switch(h.tag){case 22:Sh(d,h),x&2048&&xy(h.alternate,h);break;case 24:Sh(d,h),x&2048&&yy(h.alternate,h);break;default:Sh(d,h)}o=o.sibling}}var Th=8192;function fd(n,o,d){if(n.subtreeFlags&Th)for(n=n.child;n!==null;)S_(n,o,d),n=n.sibling}function S_(n,o,d){switch(n.tag){case 26:fd(n,o,d),n.flags&Th&&n.memoizedState!==null&&S6(d,fn,n.memoizedState,n.memoizedProps);break;case 5:fd(n,o,d);break;case 3:case 4:var h=fn;fn=zp(n.stateNode.containerInfo),fd(n,o,d),fn=h;break;case 22:n.memoizedState===null&&(h=n.alternate,h!==null&&h.memoizedState!==null?(h=Th,Th=16777216,fd(n,o,d),Th=h):fd(n,o,d));break;default:fd(n,o,d)}}function T_(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function Eh(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];ia=h,C_(h,n)}T_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)E_(n),n=n.sibling}function E_(n){switch(n.tag){case 0:case 11:case 15:Eh(n),n.flags&2048&&po(9,n,n.return);break;case 3:Eh(n);break;case 12:Eh(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,kp(n)):Eh(n);break;default:Eh(n)}}function kp(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];ia=h,C_(h,n)}T_(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:po(8,o,o.return),kp(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,kp(o));break;default:kp(o)}n=n.sibling}}function C_(n,o){for(;ia!==null;){var d=ia;switch(d.tag){case 0:case 11:case 15:po(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:uh(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,ia=h;else e:for(d=n;ia!==null;){h=ia;var x=h.sibling,y=h.return;if(b_(h),h===d){ia=null;break e}if(x!==null){x.return=y,ia=x;break e}ia=y}}}var F5={getCacheForType:function(n){var o=ma(Hs),d=o.data.get(n);return d===void 0&&(d=n(),o.data.set(n,d)),d},cacheSignal:function(){return ma(Hs).controller.signal}},B5=typeof WeakMap=="function"?WeakMap:Map,zt=0,es=null,bt=null,St=0,Ht=0,wr=null,go=!1,md=!1,by=!1,Ni=0,Es=0,xo=0,zl=0,vy=0,jr=0,pd=0,Ch=null,sr=null,wy=!1,Sp=0,A_=0,Tp=1/0,Ep=null,yo=null,Xs=0,bo=null,gd=null,_i=0,jy=0,Ny=null,I_=null,Ah=0,_y=null;function Nr(){return(zt&2)!==0&&St!==0?St&-St:te.T!==null?Ay():Wa()}function R_(){if(jr===0)if((St&536870912)===0||Ct){var n=Mr;Mr<<=1,(Mr&3932160)===0&&(Mr=262144),jr=n}else jr=536870912;return n=br.current,n!==null&&(n.flags|=32),jr}function ar(n,o,d){(n===es&&(Ht===2||Ht===9)||n.cancelPendingCommit!==null)&&(xd(n,0),vo(n,St,jr,!1)),Be(n,d),((zt&2)===0||n!==es)&&(n===es&&((zt&2)===0&&(zl|=d),Es===4&&vo(n,St,jr,!1)),qn(n))}function P_(n,o,d){if((zt&6)!==0)throw Error(r(327));var h=!d&&(o&127)===0&&(o&n.expiredLanes)===0||Ge(n,o),x=h?H5(n,o):Sy(n,o,!0),y=h;do{if(x===0){md&&!h&&vo(n,o,0,!1);break}else{if(d=n.current.alternate,y&&!$5(d)){x=Sy(n,o,!1),y=!1;continue}if(x===2){if(y=o,n.errorRecoveryDisabledLanes&y)var k=0;else k=n.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var V=n;x=Ch;var Q=V.current.memoizedState.isDehydrated;if(Q&&(xd(V,k).flags|=256),k=Sy(V,k,!1),k!==2){if(by&&!Q){V.errorRecoveryDisabledLanes|=y,zl|=y,x=4;break e}y=sr,sr=x,y!==null&&(sr===null?sr=y:sr.push.apply(sr,y))}x=k}if(y=!1,x!==2)continue}}if(x===1){xd(n,0),vo(n,o,0,!0);break}e:{switch(h=n,y=x,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:vo(h,o,jr,!go);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(x=Sp+300-It(),10<x)){if(vo(h,o,jr,!go),ae(h,0,!0)!==0)break e;_i=o,h.timeoutHandle=d2(D_.bind(null,h,d,sr,Ep,wy,o,jr,zl,pd,go,y,"Throttled",-0,0),x);break e}D_(h,d,sr,Ep,wy,o,jr,zl,pd,go,y,null,-0,0)}}break}while(!0);qn(n)}function D_(n,o,d,h,x,y,k,V,Q,ue,_e,Se,me,be){if(n.timeoutHandle=-1,Se=o.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},S_(o,y,Se);var Ke=(y&62914560)===y?Sp-It():(y&4194048)===y?A_-It():0;if(Ke=T6(Se,Ke),Ke!==null){_i=y,n.cancelPendingCommit=Ke(B_.bind(null,n,o,y,d,h,x,k,V,Q,_e,Se,null,me,be)),vo(n,y,k,!ue);return}}B_(n,o,y,d,h,x,k,V,Q)}function $5(n){for(var o=n;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var x=d[h],y=x.getSnapshot;x=x.value;try{if(!xr(y(),x))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function vo(n,o,d,h){o&=~vy,o&=~zl,n.suspendedLanes|=o,n.pingedLanes&=~o,h&&(n.warmLanes|=o),h=n.expirationTimes;for(var x=o;0<x;){var y=31-Ft(x),k=1<<y;h[y]=-1,x&=~k}d!==0&&kt(n,d,o)}function Cp(){return(zt&6)===0?(Ih(0),!1):!0}function ky(){if(bt!==null){if(Ht===0)var n=bt.return;else n=bt,fi=Cl=null,F0(n),od=null,fh=0,n=bt;for(;n!==null;)u_(n.alternate,n),n=n.return;bt=null}}function xd(n,o){var d=n.timeoutHandle;d!==-1&&(n.timeoutHandle=-1,c6(d)),d=n.cancelPendingCommit,d!==null&&(n.cancelPendingCommit=null,d()),_i=0,ky(),es=n,bt=d=ui(n.current,null),St=o,Ht=0,wr=null,go=!1,md=Ge(n,o),by=!1,pd=jr=vy=zl=xo=Es=0,sr=Ch=null,wy=!1,(o&8)!==0&&(o|=o&32);var h=n.entangledLanes;if(h!==0)for(n=n.entanglements,h&=o;0<h;){var x=31-Ft(h),y=1<<x;o|=n[x],h&=~y}return Ni=o,Qm(),d}function M_(n,o){ft=null,te.H=wh,o===id||o===rp?(o=J1(),Ht=3):o===C0?(o=J1(),Ht=4):Ht=o===ay?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,wr=o,bt===null&&(Es=1,yp(n,Fr(o,n.current)))}function O_(){var n=br.current;return n===null?!0:(St&4194048)===St?Hr===null:(St&62914560)===St||(St&536870912)!==0?n===Hr:!1}function L_(){var n=te.H;return te.H=wh,n===null?wh:n}function z_(){var n=te.A;return te.A=F5,n}function Ap(){Es=4,go||(St&4194048)!==St&&br.current!==null||(md=!0),(xo&134217727)===0&&(zl&134217727)===0||es===null||vo(es,St,jr,!1)}function Sy(n,o,d){var h=zt;zt|=2;var x=L_(),y=z_();(es!==n||St!==o)&&(Ep=null,xd(n,o)),o=!1;var k=Es;e:do try{if(Ht!==0&&bt!==null){var V=bt,Q=wr;switch(Ht){case 8:ky(),k=6;break e;case 3:case 2:case 9:case 6:br.current===null&&(o=!0);var ue=Ht;if(Ht=0,wr=null,yd(n,V,Q,ue),d&&md){k=0;break e}break;default:ue=Ht,Ht=0,wr=null,yd(n,V,Q,ue)}}q5(),k=Es;break}catch(_e){M_(n,_e)}while(!0);return o&&n.shellSuspendCounter++,fi=Cl=null,zt=h,te.H=x,te.A=y,bt===null&&(es=null,St=0,Qm()),k}function q5(){for(;bt!==null;)V_(bt)}function H5(n,o){var d=zt;zt|=2;var h=L_(),x=z_();es!==n||St!==o?(Ep=null,Tp=It()+500,xd(n,o)):md=Ge(n,o);e:do try{if(Ht!==0&&bt!==null){o=bt;var y=wr;t:switch(Ht){case 1:Ht=0,wr=null,yd(n,o,y,1);break;case 2:case 9:if(Y1(y)){Ht=0,wr=null,U_(o);break}o=function(){Ht!==2&&Ht!==9||es!==n||(Ht=7),qn(n)},y.then(o,o);break e;case 3:Ht=7;break e;case 4:Ht=5;break e;case 7:Y1(y)?(Ht=0,wr=null,U_(o)):(Ht=0,wr=null,yd(n,o,y,7));break;case 5:var k=null;switch(bt.tag){case 26:k=bt.memoizedState;case 5:case 27:var V=bt;if(k?k2(k):V.stateNode.complete){Ht=0,wr=null;var Q=V.sibling;if(Q!==null)bt=Q;else{var ue=V.return;ue!==null?(bt=ue,Ip(ue)):bt=null}break t}}Ht=0,wr=null,yd(n,o,y,5);break;case 6:Ht=0,wr=null,yd(n,o,y,6);break;case 8:ky(),Es=6;break e;default:throw Error(r(462))}}G5();break}catch(_e){M_(n,_e)}while(!0);return fi=Cl=null,te.H=h,te.A=x,zt=d,bt!==null?0:(es=null,St=0,Qm(),Es)}function G5(){for(;bt!==null&&!Ue();)V_(bt)}function V_(n){var o=c_(n.alternate,n,Ni);n.memoizedProps=n.pendingProps,o===null?Ip(n):bt=o}function U_(n){var o=n,d=o.alternate;switch(o.tag){case 15:case 0:o=a_(d,o,o.pendingProps,o.type,void 0,St);break;case 11:o=a_(d,o,o.pendingProps,o.type.render,o.ref,St);break;case 5:F0(o);default:u_(d,o),o=bt=z1(o,Ni),o=c_(d,o,Ni)}n.memoizedProps=n.pendingProps,o===null?Ip(n):bt=o}function yd(n,o,d,h){fi=Cl=null,F0(o),od=null,fh=0;var x=o.return;try{if(D5(n,x,o,d,St)){Es=1,yp(n,Fr(d,n.current)),bt=null;return}}catch(y){if(x!==null)throw bt=x,y;Es=1,yp(n,Fr(d,n.current)),bt=null;return}o.flags&32768?(Ct||h===1?n=!0:md||(St&536870912)!==0?n=!1:(go=n=!0,(h===2||h===9||h===3||h===6)&&(h=br.current,h!==null&&h.tag===13&&(h.flags|=16384))),F_(o,n)):Ip(o)}function Ip(n){var o=n;do{if((o.flags&32768)!==0){F_(o,go);return}n=o.return;var d=L5(o.alternate,o,Ni);if(d!==null){bt=d;return}if(o=o.sibling,o!==null){bt=o;return}bt=o=n}while(o!==null);Es===0&&(Es=5)}function F_(n,o){do{var d=z5(n.alternate,n);if(d!==null){d.flags&=32767,bt=d;return}if(d=n.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(n=n.sibling,n!==null)){bt=n;return}bt=n=d}while(n!==null);Es=6,bt=null}function B_(n,o,d,h,x,y,k,V,Q){n.cancelPendingCommit=null;do Rp();while(Xs!==0);if((zt&6)!==0)throw Error(r(327));if(o!==null){if(o===n.current)throw Error(r(177));if(y=o.lanes|o.childLanes,y|=m0,it(n,d,y,k,V,Q),n===es&&(bt=es=null,St=0),gd=o,bo=n,_i=d,jy=y,Ny=x,I_=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Q5(De,function(){return K_(),null})):(n.callbackNode=null,n.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=te.T,te.T=null,x=G.p,G.p=2,k=zt,zt|=4;try{V5(n,o,d)}finally{zt=k,G.p=x,te.T=h}}Xs=1,$_(),q_(),H_()}}function $_(){if(Xs===1){Xs=0;var n=bo,o=gd,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=te.T,te.T=null;var h=G.p;G.p=2;var x=zt;zt|=4;try{N_(o,n);var y=zy,k=C1(n.containerInfo),V=y.focusedElem,Q=y.selectionRange;if(k!==V&&V&&V.ownerDocument&&E1(V.ownerDocument.documentElement,V)){if(Q!==null&&c0(V)){var ue=Q.start,_e=Q.end;if(_e===void 0&&(_e=ue),"selectionStart"in V)V.selectionStart=ue,V.selectionEnd=Math.min(_e,V.value.length);else{var Se=V.ownerDocument||document,me=Se&&Se.defaultView||window;if(me.getSelection){var be=me.getSelection(),Ke=V.textContent.length,at=Math.min(Q.start,Ke),Xt=Q.end===void 0?at:Math.min(Q.end,Ke);!be.extend&&at>Xt&&(k=Xt,Xt=at,at=k);var ne=T1(V,at),ee=T1(V,Xt);if(ne&&ee&&(be.rangeCount!==1||be.anchorNode!==ne.node||be.anchorOffset!==ne.offset||be.focusNode!==ee.node||be.focusOffset!==ee.offset)){var de=Se.createRange();de.setStart(ne.node,ne.offset),be.removeAllRanges(),at>Xt?(be.addRange(de),be.extend(ee.node,ee.offset)):(de.setEnd(ee.node,ee.offset),be.addRange(de))}}}}for(Se=[],be=V;be=be.parentNode;)be.nodeType===1&&Se.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Se.length;V++){var ke=Se[V];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}qp=!!Ly,zy=Ly=null}finally{zt=x,G.p=h,te.T=d}}n.current=o,Xs=2}}function q_(){if(Xs===2){Xs=0;var n=bo,o=gd,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=te.T,te.T=null;var h=G.p;G.p=2;var x=zt;zt|=4;try{y_(n,o.alternate,o)}finally{zt=x,G.p=h,te.T=d}}Xs=3}}function H_(){if(Xs===4||Xs===3){Xs=0,is();var n=bo,o=gd,d=_i,h=I_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Xs=5:(Xs=0,gd=bo=null,G_(n,n.pendingLanes));var x=n.pendingLanes;if(x===0&&(yo=null),js(d),o=o.stateNode,os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(Mt,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=te.T,x=G.p,G.p=2,te.T=null;try{for(var y=n.onRecoverableError,k=0;k<h.length;k++){var V=h[k];y(V.value,{componentStack:V.stack})}}finally{te.T=o,G.p=x}}(_i&3)!==0&&Rp(),qn(n),x=n.pendingLanes,(d&261930)!==0&&(x&42)!==0?n===_y?Ah++:(Ah=0,_y=n):Ah=0,Ih(0)}}function G_(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,uh(o)))}function Rp(){return $_(),q_(),H_(),K_()}function K_(){if(Xs!==5)return!1;var n=bo,o=jy;jy=0;var d=js(_i),h=te.T,x=G.p;try{G.p=32>d?32:d,te.T=null,d=Ny,Ny=null;var y=bo,k=_i;if(Xs=0,gd=bo=null,_i=0,(zt&6)!==0)throw Error(r(331));var V=zt;if(zt|=4,E_(y.current),k_(y,y.current,k,d),zt=V,Ih(0,!1),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(Mt,y)}catch{}return!0}finally{G.p=x,te.T=h,G_(n,o)}}function W_(n,o,d){o=Fr(d,o),o=sy(n.stateNode,o,2),n=ho(n,o,2),n!==null&&(Be(n,2),qn(n))}function Gt(n,o,d){if(n.tag===3)W_(n,n,d);else for(;o!==null;){if(o.tag===3){W_(o,n,d);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(yo===null||!yo.has(h))){n=Fr(d,n),d=YN(2),h=ho(o,d,2),h!==null&&(QN(d,h,o,n),Be(h,2),qn(h));break}}o=o.return}}function Ty(n,o,d){var h=n.pingCache;if(h===null){h=n.pingCache=new B5;var x=new Set;h.set(o,x)}else x=h.get(o),x===void 0&&(x=new Set,h.set(o,x));x.has(d)||(by=!0,x.add(d),n=K5.bind(null,n,o,d),o.then(n,n))}function K5(n,o,d){var h=n.pingCache;h!==null&&h.delete(o),n.pingedLanes|=n.suspendedLanes&d,n.warmLanes&=~d,es===n&&(St&d)===d&&(Es===4||Es===3&&(St&62914560)===St&&300>It()-Sp?(zt&2)===0&&xd(n,0):vy|=d,pd===St&&(pd=0)),qn(n)}function Y_(n,o){o===0&&(o=Zt()),n=Sl(n,o),n!==null&&(Be(n,o),qn(n))}function W5(n){var o=n.memoizedState,d=0;o!==null&&(d=o.retryLane),Y_(n,d)}function Y5(n,o){var d=0;switch(n.tag){case 31:case 13:var h=n.stateNode,x=n.memoizedState;x!==null&&(d=x.retryLane);break;case 19:h=n.stateNode;break;case 22:h=n.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),Y_(n,d)}function Q5(n,o){return rt(n,o)}var Pp=null,bd=null,Ey=!1,Dp=!1,Cy=!1,wo=0;function qn(n){n!==bd&&n.next===null&&(bd===null?Pp=bd=n:bd=bd.next=n),Dp=!0,Ey||(Ey=!0,X5())}function Ih(n,o){if(!Cy&&Dp){Cy=!0;do for(var d=!1,h=Pp;h!==null;){if(n!==0){var x=h.pendingLanes;if(x===0)var y=0;else{var k=h.suspendedLanes,V=h.pingedLanes;y=(1<<31-Ft(42|n)+1)-1,y&=x&~(k&~V),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(d=!0,Z_(h,y))}else y=St,y=ae(h,h===es?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Ge(h,y)||(d=!0,Z_(h,y));h=h.next}while(d);Cy=!1}}function J5(){Q_()}function Q_(){Dp=Ey=!1;var n=0;wo!==0&&l6()&&(n=wo);for(var o=It(),d=null,h=Pp;h!==null;){var x=h.next,y=J_(h,o);y===0?(h.next=null,d===null?Pp=x:d.next=x,x===null&&(bd=d)):(d=h,(n!==0||(y&3)!==0)&&(Dp=!0)),h=x}Xs!==0&&Xs!==5||Ih(n),wo!==0&&(wo=0)}function J_(n,o){for(var d=n.suspendedLanes,h=n.pingedLanes,x=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var k=31-Ft(y),V=1<<k,Q=x[k];Q===-1?((V&d)===0||(V&h)!==0)&&(x[k]=pt(V,o)):Q<=o&&(n.expiredLanes|=V),y&=~V}if(o=es,d=St,d=ae(n,n===o?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h=n.callbackNode,d===0||n===o&&(Ht===2||Ht===9)||n.cancelPendingCommit!==null)return h!==null&&h!==null&&ie(h),n.callbackNode=null,n.callbackPriority=0;if((d&3)===0||Ge(n,d)){if(o=d&-d,o===n.callbackPriority)return o;switch(h!==null&&ie(h),js(d)){case 2:case 8:d=he;break;case 32:d=De;break;case 268435456:d=ut;break;default:d=De}return h=X_.bind(null,n),d=rt(d,h),n.callbackPriority=o,n.callbackNode=d,o}return h!==null&&h!==null&&ie(h),n.callbackPriority=2,n.callbackNode=null,2}function X_(n,o){if(Xs!==0&&Xs!==5)return n.callbackNode=null,n.callbackPriority=0,null;var d=n.callbackNode;if(Rp()&&n.callbackNode!==d)return null;var h=St;return h=ae(n,n===es?h:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h===0?null:(P_(n,h,o),J_(n,It()),n.callbackNode!=null&&n.callbackNode===d?X_.bind(null,n):null)}function Z_(n,o){if(Rp())return null;P_(n,o,!0)}function X5(){d6(function(){(zt&6)!==0?rt(fe,J5):Q_()})}function Ay(){if(wo===0){var n=rd;n===0&&(n=aa,aa<<=1,(aa&261888)===0&&(aa=256)),wo=n}return wo}function e2(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:$c(""+n)}function t2(n,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,n.id&&d.setAttribute("form",n.id),o.parentNode.insertBefore(d,o),n=new FormData(n),d.parentNode.removeChild(d),n}function Z5(n,o,d,h,x){if(o==="submit"&&d&&d.stateNode===x){var y=e2((x[ra]||null).action),k=h.submitter;k&&(o=(o=k[ra]||null)?e2(o.formAction):k.getAttribute("formAction"),o!==null&&(y=o,k=null));var V=new Ln("action","action",null,h,x);n.push({event:V,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(wo!==0){var Q=k?t2(x,k):new FormData(x);Q0(d,{pending:!0,data:Q,method:x.method,action:y},null,Q)}}else typeof y=="function"&&(V.preventDefault(),Q=k?t2(x,k):new FormData(x),Q0(d,{pending:!0,data:Q,method:x.method,action:y},y,Q))},currentTarget:x}]})}}for(var Iy=0;Iy<f0.length;Iy++){var Ry=f0[Iy],e6=Ry.toLowerCase(),t6=Ry[0].toUpperCase()+Ry.slice(1);hn(e6,"on"+t6)}hn(R1,"onAnimationEnd"),hn(P1,"onAnimationIteration"),hn(D1,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(x5,"onTransitionRun"),hn(y5,"onTransitionStart"),hn(b5,"onTransitionCancel"),hn(M1,"onTransitionEnd"),Pn("onMouseEnter",["mouseout","mouseover"]),Pn("onMouseLeave",["mouseout","mouseover"]),Pn("onPointerEnter",["pointerout","pointerover"]),Pn("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rh));function s2(n,o){o=(o&4)!==0;for(var d=0;d<n.length;d++){var h=n[d],x=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var k=h.length-1;0<=k;k--){var V=h[k],Q=V.instance,ue=V.currentTarget;if(V=V.listener,Q!==y&&x.isPropagationStopped())break e;y=V,x.currentTarget=ue;try{y(x)}catch(_e){Ym(_e)}x.currentTarget=null,y=Q}else for(k=0;k<h.length;k++){if(V=h[k],Q=V.instance,ue=V.currentTarget,V=V.listener,Q!==y&&x.isPropagationStopped())break e;y=V,x.currentTarget=ue;try{y(x)}catch(_e){Ym(_e)}x.currentTarget=null,y=Q}}}}function vt(n,o){var d=o[zc];d===void 0&&(d=o[zc]=new Set);var h=n+"__bubble";d.has(h)||(a2(o,n,2,!1),d.add(h))}function Py(n,o,d){var h=0;o&&(h|=4),a2(d,n,h,o)}var Mp="_reactListening"+Math.random().toString(36).slice(2);function Dy(n){if(!n[Mp]){n[Mp]=!0,qu.forEach(function(d){d!=="selectionchange"&&(s6.has(d)||Py(d,!1,n),Py(d,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Mp]||(o[Mp]=!0,Py("selectionchange",!1,o))}}function a2(n,o,d,h){switch(R2(o)){case 2:var x=A6;break;case 8:x=I6;break;default:x=Yy}d=x.bind(null,o,d,n),x=void 0,!yl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),h?x!==void 0?n.addEventListener(o,d,{capture:!0,passive:x}):n.addEventListener(o,d,!0):x!==void 0?n.addEventListener(o,d,{passive:x}):n.addEventListener(o,d,!1)}function My(n,o,d,h,x){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var k=h.tag;if(k===3||k===4){var V=h.stateNode.containerInfo;if(V===x)break;if(k===4)for(k=h.return;k!==null;){var Q=k.tag;if((Q===3||Q===4)&&k.stateNode.containerInfo===x)return;k=k.return}for(;V!==null;){if(k=An(V),k===null)return;if(Q=k.tag,Q===5||Q===6||Q===26||Q===27){h=y=k;continue e}V=V.parentNode}}h=h.return}to(function(){var ue=y,_e=Lr(d),Se=[];e:{var me=O1.get(n);if(me!==void 0){var be=Ln,Ke=n;switch(n){case"keypress":if(vl(d)===0)break e;case"keydown":case"keyup":be=Gm;break;case"focusin":Ke="focus",be=jl;break;case"focusout":Ke="blur",be=jl;break;case"beforeblur":case"afterblur":be=jl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=j;break;case R1:case P1:case D1:be=Vm;break;case M1:be=q;break;case"scroll":case"scrollend":be=sh;break;case"wheel":be=xe;break;case"copy":case"cut":case"paste":be=Um;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=di;break;case"toggle":case"beforetoggle":be=ht}var at=(o&4)!==0,Xt=!at&&(n==="scroll"||n==="scrollend"),ne=at?me!==null?me+"Capture":null:me;at=[];for(var ee=ue,de;ee!==null;){var ke=ee;if(de=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||de===null||ne===null||(ke=ln(ee,ne),ke!=null&&at.push(Ph(ee,ke,de))),Xt)break;ee=ee.return}0<at.length&&(me=new be(me,Ke,null,d,_e),Se.push({event:me,listeners:at}))}}if((o&7)===0){e:{if(me=n==="mouseover"||n==="pointerover",be=n==="mouseout"||n==="pointerout",me&&d!==Zu&&(Ke=d.relatedTarget||d.fromElement)&&(An(Ke)||Ke[En]))break e;if((be||me)&&(me=_e.window===_e?_e:(me=_e.ownerDocument)?me.defaultView||me.parentWindow:window,be?(Ke=d.relatedTarget||d.toElement,be=ue,Ke=Ke?An(Ke):null,Ke!==null&&(Xt=l(Ke),at=Ke.tag,Ke!==Xt||at!==5&&at!==27&&at!==6)&&(Ke=null)):(be=null,Ke=ue),be!==Ke)){if(at=ah,ke="onMouseLeave",ne="onMouseEnter",ee="mouse",(n==="pointerout"||n==="pointerover")&&(at=di,ke="onPointerLeave",ne="onPointerEnter",ee="pointer"),Xt=be==null?me:pr(be),de=Ke==null?me:pr(Ke),me=new at(ke,ee+"leave",be,d,_e),me.target=Xt,me.relatedTarget=de,ke=null,An(_e)===ue&&(at=new at(ne,ee+"enter",Ke,d,_e),at.target=de,at.relatedTarget=Xt,ke=at),Xt=ke,be&&Ke)t:{for(at=a6,ne=be,ee=Ke,de=0,ke=ne;ke;ke=at(ke))de++;ke=0;for(var st=ee;st;st=at(st))ke++;for(;0<de-ke;)ne=at(ne),de--;for(;0<ke-de;)ee=at(ee),ke--;for(;de--;){if(ne===ee||ee!==null&&ne===ee.alternate){at=ne;break t}ne=at(ne),ee=at(ee)}at=null}else at=null;be!==null&&r2(Se,me,be,at,!1),Ke!==null&&Xt!==null&&r2(Se,Xt,Ke,at,!0)}}e:{if(me=ue?pr(ue):window,be=me.nodeName&&me.nodeName.toLowerCase(),be==="select"||be==="input"&&me.type==="file")var Rt=w1;else if(b1(me))if(j1)Rt=m5;else{Rt=h5;var Je=u5}else be=me.nodeName,!be||be.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?ue&&Bc(ue.elementType)&&(Rt=w1):Rt=f5;if(Rt&&(Rt=Rt(n,ue))){v1(Se,Rt,d,_e);break e}Je&&Je(n,me,ue),n==="focusout"&&ue&&me.type==="number"&&ue.memoizedProps.value!=null&&Qu(me,"number",me.value)}switch(Je=ue?pr(ue):window,n){case"focusin":(b1(Je)||Je.contentEditable==="true")&&(Qc=Je,d0=ue,lh=null);break;case"focusout":lh=d0=Qc=null;break;case"mousedown":u0=!0;break;case"contextmenu":case"mouseup":case"dragend":u0=!1,A1(Se,d,_e);break;case"selectionchange":if(g5)break;case"keydown":case"keyup":A1(Se,d,_e)}var gt;if(Lt)e:{switch(n){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else Yc?Nl(n,d)&&(Tt="onCompositionEnd"):n==="keydown"&&d.keyCode===229&&(Tt="onCompositionStart");Tt&&(Un&&d.locale!=="ko"&&(Yc||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Yc&&(gt=th()):(On=_e,eh="value"in On?On.value:On.textContent,Yc=!0)),Je=Op(ue,Tt),0<Je.length&&(Tt=new Vn(Tt,n,null,d,_e),Se.push({event:Tt,listeners:Je}),gt?Tt.data=gt:(gt=Wc(d),gt!==null&&(Tt.data=gt)))),(gt=Vr?o5(n,d):l5(n,d))&&(Tt=Op(ue,"onBeforeInput"),0<Tt.length&&(Je=new Vn("onBeforeInput","beforeinput",null,d,_e),Se.push({event:Je,listeners:Tt}),Je.data=gt)),Z5(Se,n,ue,d,_e)}s2(Se,o)})}function Ph(n,o,d){return{instance:n,listener:o,currentTarget:d}}function Op(n,o){for(var d=o+"Capture",h=[];n!==null;){var x=n,y=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||y===null||(x=ln(n,d),x!=null&&h.unshift(Ph(n,x,y)),x=ln(n,o),x!=null&&h.push(Ph(n,x,y))),n.tag===3)return h;n=n.return}return[]}function a6(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function r2(n,o,d,h,x){for(var y=o._reactName,k=[];d!==null&&d!==h;){var V=d,Q=V.alternate,ue=V.stateNode;if(V=V.tag,Q!==null&&Q===h)break;V!==5&&V!==26&&V!==27||ue===null||(Q=ue,x?(ue=ln(d,y),ue!=null&&k.unshift(Ph(d,ue,Q))):x||(ue=ln(d,y),ue!=null&&k.push(Ph(d,ue,Q)))),d=d.return}k.length!==0&&n.push({event:o,listeners:k})}var r6=/\r\n?/g,n6=/\u0000|\uFFFD/g;function n2(n){return(typeof n=="string"?n:""+n).replace(r6,`
`).replace(n6,"")}function i2(n,o){return o=n2(o),n2(n)===o}function Jt(n,o,d,h,x,y){switch(d){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Xa(n,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Xa(n,""+h);break;case"className":gr(n,"class",h);break;case"tabIndex":gr(n,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(n,d,h);break;case"style":Xu(n,h,y);break;case"data":if(o!=="object"){gr(n,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||d!=="href")){n.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(d);break}h=$c(""+h),n.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){n.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(d==="formAction"?(o!=="input"&&Jt(n,o,"name",x.name,x,null),Jt(n,o,"formEncType",x.formEncType,x,null),Jt(n,o,"formMethod",x.formMethod,x,null),Jt(n,o,"formTarget",x.formTarget,x,null)):(Jt(n,o,"encType",x.encType,x,null),Jt(n,o,"method",x.method,x,null),Jt(n,o,"target",x.target,x,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(d);break}h=$c(""+h),n.setAttribute(d,h);break;case"onClick":h!=null&&(n.onclick=on);break;case"onScroll":h!=null&&vt("scroll",n);break;case"onScrollEnd":h!=null&&vt("scrollend",n);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(d=h.__html,d!=null){if(x.children!=null)throw Error(r(60));n.innerHTML=d}}break;case"multiple":n.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":n.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){n.removeAttribute("xlink:href");break}d=$c(""+h),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(d,""+h):n.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(d,""):n.removeAttribute(d);break;case"capture":case"download":h===!0?n.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(d,h):n.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?n.setAttribute(d,h):n.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?n.removeAttribute(d):n.setAttribute(d,h);break;case"popover":vt("beforetoggle",n),vt("toggle",n),Uc(n,"popover",h);break;case"xlinkActuate":qs(n,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":qs(n,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":qs(n,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":qs(n,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":qs(n,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":qs(n,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":qs(n,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":qs(n,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":qs(n,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Uc(n,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Om.get(d)||d,Uc(n,d,h))}}function Oy(n,o,d,h,x,y){switch(d){case"style":Xu(n,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(d=h.__html,d!=null){if(x.children!=null)throw Error(r(60));n.innerHTML=d}}break;case"children":typeof h=="string"?Xa(n,h):(typeof h=="number"||typeof h=="bigint")&&Xa(n,""+h);break;case"onScroll":h!=null&&vt("scroll",n);break;case"onScrollEnd":h!=null&&vt("scrollend",n);break;case"onClick":h!=null&&(n.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hu.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),o=d.slice(2,x?d.length-7:void 0),y=n[ra]||null,y=y!=null?y[d]:null,typeof y=="function"&&n.removeEventListener(o,y,x),typeof h=="function")){typeof y!="function"&&y!==null&&(d in n?n[d]=null:n.hasAttribute(d)&&n.removeAttribute(d)),n.addEventListener(o,h,x);break e}d in n?n[d]=h:h===!0?n.setAttribute(d,""):Uc(n,d,h)}}}function ga(n,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",n),vt("load",n);var h=!1,x=!1,y;for(y in d)if(d.hasOwnProperty(y)){var k=d[y];if(k!=null)switch(y){case"src":h=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Jt(n,o,y,k,d,null)}}x&&Jt(n,o,"srcSet",d.srcSet,d,null),h&&Jt(n,o,"src",d.src,d,null);return;case"input":vt("invalid",n);var V=y=k=x=null,Q=null,ue=null;for(h in d)if(d.hasOwnProperty(h)){var _e=d[h];if(_e!=null)switch(h){case"name":x=_e;break;case"type":k=_e;break;case"checked":Q=_e;break;case"defaultChecked":ue=_e;break;case"value":y=_e;break;case"defaultValue":V=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,o));break;default:Jt(n,o,h,_e,d,null)}}Pm(n,y,V,Q,ue,k,x,!1);return;case"select":vt("invalid",n),h=k=y=null;for(x in d)if(d.hasOwnProperty(x)&&(V=d[x],V!=null))switch(x){case"value":y=V;break;case"defaultValue":k=V;break;case"multiple":h=V;default:Jt(n,o,x,V,d,null)}o=y,d=k,n.multiple=!!h,o!=null?Ji(n,!!h,o,!1):d!=null&&Ji(n,!!h,d,!0);return;case"textarea":vt("invalid",n),y=x=h=null;for(k in d)if(d.hasOwnProperty(k)&&(V=d[k],V!=null))switch(k){case"value":h=V;break;case"defaultValue":x=V;break;case"children":y=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:Jt(n,o,k,V,d,null)}Xi(n,h,x,y);return;case"option":for(Q in d)if(d.hasOwnProperty(Q)&&(h=d[Q],h!=null))switch(Q){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Jt(n,o,Q,h,d,null)}return;case"dialog":vt("beforetoggle",n),vt("toggle",n),vt("cancel",n),vt("close",n);break;case"iframe":case"object":vt("load",n);break;case"video":case"audio":for(h=0;h<Rh.length;h++)vt(Rh[h],n);break;case"image":vt("error",n),vt("load",n);break;case"details":vt("toggle",n);break;case"embed":case"source":case"link":vt("error",n),vt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in d)if(d.hasOwnProperty(ue)&&(h=d[ue],h!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Jt(n,o,ue,h,d,null)}return;default:if(Bc(o)){for(_e in d)d.hasOwnProperty(_e)&&(h=d[_e],h!==void 0&&Oy(n,o,_e,h,d,void 0));return}}for(V in d)d.hasOwnProperty(V)&&(h=d[V],h!=null&&Jt(n,o,V,h,d,null))}function i6(n,o,d,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,y=null,k=null,V=null,Q=null,ue=null,_e=null;for(be in d){var Se=d[be];if(d.hasOwnProperty(be)&&Se!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":Q=Se;default:h.hasOwnProperty(be)||Jt(n,o,be,null,h,Se)}}for(var me in h){var be=h[me];if(Se=d[me],h.hasOwnProperty(me)&&(be!=null||Se!=null))switch(me){case"type":y=be;break;case"name":x=be;break;case"checked":ue=be;break;case"defaultChecked":_e=be;break;case"value":k=be;break;case"defaultValue":V=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,o));break;default:be!==Se&&Jt(n,o,me,be,h,Se)}}Fc(n,k,V,Q,ue,_e,y,x);return;case"select":be=k=V=me=null;for(y in d)if(Q=d[y],d.hasOwnProperty(y)&&Q!=null)switch(y){case"value":break;case"multiple":be=Q;default:h.hasOwnProperty(y)||Jt(n,o,y,null,h,Q)}for(x in h)if(y=h[x],Q=d[x],h.hasOwnProperty(x)&&(y!=null||Q!=null))switch(x){case"value":me=y;break;case"defaultValue":V=y;break;case"multiple":k=y;default:y!==Q&&Jt(n,o,x,y,h,Q)}o=V,d=k,h=be,me!=null?Ji(n,!!d,me,!1):!!h!=!!d&&(o!=null?Ji(n,!!d,o,!0):Ji(n,!!d,d?[]:"",!1));return;case"textarea":be=me=null;for(V in d)if(x=d[V],d.hasOwnProperty(V)&&x!=null&&!h.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Jt(n,o,V,null,h,x)}for(k in h)if(x=h[k],y=d[k],h.hasOwnProperty(k)&&(x!=null||y!=null))switch(k){case"value":me=x;break;case"defaultValue":be=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==y&&Jt(n,o,k,x,h,y)}Dm(n,me,be);return;case"option":for(var Ke in d)if(me=d[Ke],d.hasOwnProperty(Ke)&&me!=null&&!h.hasOwnProperty(Ke))switch(Ke){case"selected":n.selected=!1;break;default:Jt(n,o,Ke,null,h,me)}for(Q in h)if(me=h[Q],be=d[Q],h.hasOwnProperty(Q)&&me!==be&&(me!=null||be!=null))switch(Q){case"selected":n.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:Jt(n,o,Q,me,h,be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in d)me=d[at],d.hasOwnProperty(at)&&me!=null&&!h.hasOwnProperty(at)&&Jt(n,o,at,null,h,me);for(ue in h)if(me=h[ue],be=d[ue],h.hasOwnProperty(ue)&&me!==be&&(me!=null||be!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,o));break;default:Jt(n,o,ue,me,h,be)}return;default:if(Bc(o)){for(var Xt in d)me=d[Xt],d.hasOwnProperty(Xt)&&me!==void 0&&!h.hasOwnProperty(Xt)&&Oy(n,o,Xt,void 0,h,me);for(_e in h)me=h[_e],be=d[_e],!h.hasOwnProperty(_e)||me===be||me===void 0&&be===void 0||Oy(n,o,_e,me,h,be);return}}for(var ne in d)me=d[ne],d.hasOwnProperty(ne)&&me!=null&&!h.hasOwnProperty(ne)&&Jt(n,o,ne,null,h,me);for(Se in h)me=h[Se],be=d[Se],!h.hasOwnProperty(Se)||me===be||me==null&&be==null||Jt(n,o,Se,me,h,be)}function o2(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o6(){if(typeof performance.getEntriesByType=="function"){for(var n=0,o=0,d=performance.getEntriesByType("resource"),h=0;h<d.length;h++){var x=d[h],y=x.transferSize,k=x.initiatorType,V=x.duration;if(y&&V&&o2(k)){for(k=0,V=x.responseEnd,h+=1;h<d.length;h++){var Q=d[h],ue=Q.startTime;if(ue>V)break;var _e=Q.transferSize,Se=Q.initiatorType;_e&&o2(Se)&&(Q=Q.responseEnd,k+=_e*(Q<V?1:(V-ue)/(Q-ue)))}if(--h,o+=8*(y+k)/(x.duration/1e3),n++,10<n)break}}if(0<n)return o/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Ly=null,zy=null;function Lp(n){return n.nodeType===9?n:n.ownerDocument}function l2(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c2(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function Vy(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Uy=null;function l6(){var n=window.event;return n&&n.type==="popstate"?n===Uy?!1:(Uy=n,!0):(Uy=null,!1)}var d2=typeof setTimeout=="function"?setTimeout:void 0,c6=typeof clearTimeout=="function"?clearTimeout:void 0,u2=typeof Promise=="function"?Promise:void 0,d6=typeof queueMicrotask=="function"?queueMicrotask:typeof u2<"u"?function(n){return u2.resolve(null).then(n).catch(u6)}:d2;function u6(n){setTimeout(function(){throw n})}function jo(n){return n==="head"}function h2(n,o){var d=o,h=0;do{var x=d.nextSibling;if(n.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(h===0){n.removeChild(x),Nd(o);return}h--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")h++;else if(d==="html")Dh(n.ownerDocument.documentElement);else if(d==="head"){d=n.ownerDocument.head,Dh(d);for(var y=d.firstChild;y;){var k=y.nextSibling,V=y.nodeName;y[Cn]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&y.rel.toLowerCase()==="stylesheet"||d.removeChild(y),y=k}}else d==="body"&&Dh(n.ownerDocument.body);d=x}while(d);Nd(o)}function f2(n,o){var d=n;n=0;do{var h=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),h&&h.nodeType===8)if(d=h.data,d==="/$"){if(n===0)break;n--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||n++;d=h}while(d)}function Fy(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Fy(d),Vc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}n.removeChild(d)}}function h6(n,o,d,h){for(;n.nodeType===1;){var x=d;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(h){if(!n[Cn])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==x.rel||n.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||n.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||n.getAttribute("title")!==(x.title==null?null:x.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(x.src==null?null:x.src)||n.getAttribute("type")!==(x.type==null?null:x.type)||n.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var y=x.name==null?null:""+x.name;if(x.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Gr(n.nextSibling),n===null)break}return null}function f6(n,o,d){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!d||(n=Gr(n.nextSibling),n===null))return null;return n}function m2(n,o){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Gr(n.nextSibling),n===null))return null;return n}function By(n){return n.data==="$?"||n.data==="$~"}function $y(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function m6(n,o){var d=n.ownerDocument;if(n.data==="$~")n._reactRetry=o;else if(n.data!=="$?"||d.readyState!=="loading")o();else{var h=function(){o(),d.removeEventListener("DOMContentLoaded",h)};d.addEventListener("DOMContentLoaded",h),n._reactRetry=h}}function Gr(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return n}var qy=null;function p2(n){n=n.nextSibling;for(var o=0;n;){if(n.nodeType===8){var d=n.data;if(d==="/$"||d==="/&"){if(o===0)return Gr(n.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}n=n.nextSibling}return null}function g2(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var d=n.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return n;o--}else d!=="/$"&&d!=="/&"||o++}n=n.previousSibling}return null}function x2(n,o,d){switch(o=Lp(d),n){case"html":if(n=o.documentElement,!n)throw Error(r(452));return n;case"head":if(n=o.head,!n)throw Error(r(453));return n;case"body":if(n=o.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Dh(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);Vc(n)}var Kr=new Map,y2=new Set;function zp(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ki=G.d;G.d={f:p6,r:g6,D:x6,C:y6,L:b6,m:v6,X:j6,S:w6,M:N6};function p6(){var n=ki.f(),o=Cp();return n||o}function g6(n){var o=Or(n);o!==null&&o.tag===5&&o.type==="form"?MN(o):ki.r(n)}var vd=typeof document>"u"?null:document;function b2(n,o,d){var h=vd;if(h&&typeof o=="string"&&o){var x=Ja(o);x='link[rel="'+n+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),y2.has(x)||(y2.add(x),n={rel:n,crossOrigin:d,href:o},h.querySelector(x)===null&&(o=h.createElement("link"),ga(o,"link",n),$s(o),h.head.appendChild(o)))}}function x6(n){ki.D(n),b2("dns-prefetch",n,null)}function y6(n,o){ki.C(n,o),b2("preconnect",n,o)}function b6(n,o,d){ki.L(n,o,d);var h=vd;if(h&&n&&o){var x='link[rel="preload"][as="'+Ja(o)+'"]';o==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+Ja(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+Ja(d.imageSizes)+'"]')):x+='[href="'+Ja(n)+'"]';var y=x;switch(o){case"style":y=wd(n);break;case"script":y=jd(n)}Kr.has(y)||(n=b({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:n,as:o},d),Kr.set(y,n),h.querySelector(x)!==null||o==="style"&&h.querySelector(Mh(y))||o==="script"&&h.querySelector(Oh(y))||(o=h.createElement("link"),ga(o,"link",n),$s(o),h.head.appendChild(o)))}}function v6(n,o){ki.m(n,o);var d=vd;if(d&&n){var h=o&&typeof o.as=="string"?o.as:"script",x='link[rel="modulepreload"][as="'+Ja(h)+'"][href="'+Ja(n)+'"]',y=x;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=jd(n)}if(!Kr.has(y)&&(n=b({rel:"modulepreload",href:n},o),Kr.set(y,n),d.querySelector(x)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Oh(y)))return}h=d.createElement("link"),ga(h,"link",n),$s(h),d.head.appendChild(h)}}}function w6(n,o,d){ki.S(n,o,d);var h=vd;if(h&&n){var x=In(h).hoistableStyles,y=wd(n);o=o||"default";var k=x.get(y);if(!k){var V={loading:0,preload:null};if(k=h.querySelector(Mh(y)))V.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":o},d),(d=Kr.get(y))&&Hy(n,d);var Q=k=h.createElement("link");$s(Q),ga(Q,"link",n),Q._p=new Promise(function(ue,_e){Q.onload=ue,Q.onerror=_e}),Q.addEventListener("load",function(){V.loading|=1}),Q.addEventListener("error",function(){V.loading|=2}),V.loading|=4,Vp(k,o,h)}k={type:"stylesheet",instance:k,count:1,state:V},x.set(y,k)}}}function j6(n,o){ki.X(n,o);var d=vd;if(d&&n){var h=In(d).hoistableScripts,x=jd(n),y=h.get(x);y||(y=d.querySelector(Oh(x)),y||(n=b({src:n,async:!0},o),(o=Kr.get(x))&&Gy(n,o),y=d.createElement("script"),$s(y),ga(y,"link",n),d.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(x,y))}}function N6(n,o){ki.M(n,o);var d=vd;if(d&&n){var h=In(d).hoistableScripts,x=jd(n),y=h.get(x);y||(y=d.querySelector(Oh(x)),y||(n=b({src:n,async:!0,type:"module"},o),(o=Kr.get(x))&&Gy(n,o),y=d.createElement("script"),$s(y),ga(y,"link",n),d.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(x,y))}}function v2(n,o,d,h){var x=(x=je.current)?zp(x):null;if(!x)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=wd(d.href),d=In(x).hoistableStyles,h=d.get(o),h||(h={type:"style",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){n=wd(d.href);var y=In(x).hoistableStyles,k=y.get(n);if(k||(x=x.ownerDocument||x,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,k),(y=x.querySelector(Mh(n)))&&!y._p&&(k.instance=y,k.state.loading=5),Kr.has(n)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Kr.set(n,d),y||_6(x,n,d,k.state))),o&&h===null)throw Error(r(528,""));return k}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=jd(d),d=In(x).hoistableScripts,h=d.get(o),h||(h={type:"script",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function wd(n){return'href="'+Ja(n)+'"'}function Mh(n){return'link[rel="stylesheet"]['+n+"]"}function w2(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function _6(n,o,d,h){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=n.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),ga(o,"link",d),$s(o),n.head.appendChild(o))}function jd(n){return'[src="'+Ja(n)+'"]'}function Oh(n){return"script[async]"+n}function j2(n,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var h=n.querySelector('style[data-href~="'+Ja(d.href)+'"]');if(h)return o.instance=h,$s(h),h;var x=b({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(n.ownerDocument||n).createElement("style"),$s(h),ga(h,"style",x),Vp(h,d.precedence,n),o.instance=h;case"stylesheet":x=wd(d.href);var y=n.querySelector(Mh(x));if(y)return o.state.loading|=4,o.instance=y,$s(y),y;h=w2(d),(x=Kr.get(x))&&Hy(h,x),y=(n.ownerDocument||n).createElement("link"),$s(y);var k=y;return k._p=new Promise(function(V,Q){k.onload=V,k.onerror=Q}),ga(y,"link",h),o.state.loading|=4,Vp(y,d.precedence,n),o.instance=y;case"script":return y=jd(d.src),(x=n.querySelector(Oh(y)))?(o.instance=x,$s(x),x):(h=d,(x=Kr.get(y))&&(h=b({},d),Gy(h,x)),n=n.ownerDocument||n,x=n.createElement("script"),$s(x),ga(x,"link",h),n.head.appendChild(x),o.instance=x);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Vp(h,d.precedence,n));return o.instance}function Vp(n,o,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=h.length?h[h.length-1]:null,y=x,k=0;k<h.length;k++){var V=h[k];if(V.dataset.precedence===o)y=V;else if(y!==x)break}y?y.parentNode.insertBefore(n,y.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(n,o.firstChild))}function Hy(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function Gy(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var Up=null;function N2(n,o,d){if(Up===null){var h=new Map,x=Up=new Map;x.set(d,h)}else x=Up,h=x.get(d),h||(h=new Map,x.set(d,h));if(h.has(n))return h;for(h.set(n,null),d=d.getElementsByTagName(n),x=0;x<d.length;x++){var y=d[x];if(!(y[Cn]||y[Bs]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var k=y.getAttribute(o)||"";k=n+k;var V=h.get(k);V?V.push(y):h.set(k,[y])}}return h}function _2(n,o,d){n=n.ownerDocument||n,n.head.insertBefore(d,o==="title"?n.querySelector("head > title"):null)}function k6(n,o,d){if(d===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function k2(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function S6(n,o,d,h){if(d.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=wd(h.href),y=o.querySelector(Mh(x));if(y){o=y._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(n.count++,n=Fp.bind(n),o.then(n,n)),d.state.loading|=4,d.instance=y,$s(y);return}y=o.ownerDocument||o,h=w2(h),(x=Kr.get(x))&&Hy(h,x),y=y.createElement("link"),$s(y);var k=y;k._p=new Promise(function(V,Q){k.onload=V,k.onerror=Q}),ga(y,"link",h),d.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(n.count++,d=Fp.bind(n),o.addEventListener("load",d),o.addEventListener("error",d))}}var Ky=0;function T6(n,o){return n.stylesheets&&n.count===0&&$p(n,n.stylesheets),0<n.count||0<n.imgCount?function(d){var h=setTimeout(function(){if(n.stylesheets&&$p(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+o);0<n.imgBytes&&Ky===0&&(Ky=62500*o6());var x=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&$p(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>Ky?50:800)+o);return n.unsuspend=d,function(){n.unsuspend=null,clearTimeout(h),clearTimeout(x)}}:null}function Fp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$p(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Bp=null;function $p(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Bp=new Map,o.forEach(E6,n),Bp=null,Fp.call(n))}function E6(n,o){if(!(o.state.loading&4)){var d=Bp.get(n);if(d)var h=d.get(null);else{d=new Map,Bp.set(n,d);for(var x=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<x.length;y++){var k=x[y];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),h=k)}h&&d.set(null,h)}x=o.instance,k=x.getAttribute("data-precedence"),y=d.get(k)||h,y===h&&d.set(null,x),d.set(k,x),this.count++,h=Fp.bind(this),x.addEventListener("load",h),x.addEventListener("error",h),y?y.parentNode.insertBefore(x,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(x,n.firstChild)),o.state.loading|=4}}var Lh={$$typeof:M,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function C6(n,o,d,h,x,y,k,V,Q){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Y(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y(0),this.hiddenUpdates=Y(null),this.identifierPrefix=h,this.onUncaughtError=x,this.onCaughtError=y,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function S2(n,o,d,h,x,y,k,V,Q,ue,_e,Se){return n=new C6(n,o,d,k,Q,ue,_e,Se,V),o=1,y===!0&&(o|=24),y=yr(3,null,null,o),n.current=y,y.stateNode=n,o=S0(),o.refCount++,n.pooledCache=o,o.refCount++,y.memoizedState={element:h,isDehydrated:d,cache:o},A0(y),n}function T2(n){return n?(n=Zc,n):Zc}function E2(n,o,d,h,x,y){x=T2(x),h.context===null?h.context=x:h.pendingContext=x,h=uo(o),h.payload={element:d},y=y===void 0?null:y,y!==null&&(h.callback=y),d=ho(n,h,o),d!==null&&(ar(d,n,o),ph(d,n,o))}function C2(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var d=n.retryLane;n.retryLane=d!==0&&d<o?d:o}}function Wy(n,o){C2(n,o),(n=n.alternate)&&C2(n,o)}function A2(n){if(n.tag===13||n.tag===31){var o=Sl(n,67108864);o!==null&&ar(o,n,67108864),Wy(n,67108864)}}function I2(n){if(n.tag===13||n.tag===31){var o=Nr();o=fs(o);var d=Sl(n,o);d!==null&&ar(d,n,o),Wy(n,o)}}var qp=!0;function A6(n,o,d,h){var x=te.T;te.T=null;var y=G.p;try{G.p=2,Yy(n,o,d,h)}finally{G.p=y,te.T=x}}function I6(n,o,d,h){var x=te.T;te.T=null;var y=G.p;try{G.p=8,Yy(n,o,d,h)}finally{G.p=y,te.T=x}}function Yy(n,o,d,h){if(qp){var x=Qy(h);if(x===null)My(n,o,h,Hp,d),P2(n,h);else if(P6(x,n,o,d,h))h.stopPropagation();else if(P2(n,h),o&4&&-1<R6.indexOf(n)){for(;x!==null;){var y=Or(x);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var k=Ca(y.pendingLanes);if(k!==0){var V=y;for(V.pendingLanes|=2,V.entangledLanes|=2;k;){var Q=1<<31-Ft(k);V.entanglements[1]|=Q,k&=~Q}qn(y),(zt&6)===0&&(Tp=It()+500,Ih(0))}}break;case 31:case 13:V=Sl(y,2),V!==null&&ar(V,y,2),Cp(),Wy(y,2)}if(y=Qy(h),y===null&&My(n,o,h,Hp,d),y===x)break;x=y}x!==null&&h.stopPropagation()}else My(n,o,h,null,d)}}function Qy(n){return n=Lr(n),Jy(n)}var Hp=null;function Jy(n){if(Hp=null,n=An(n),n!==null){var o=l(n);if(o===null)n=null;else{var d=o.tag;if(d===13){if(n=c(o),n!==null)return n;n=null}else if(d===31){if(n=f(o),n!==null)return n;n=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return Hp=n,null}function R2(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ss()){case fe:return 2;case he:return 8;case De:case nt:return 32;case ut:return 268435456;default:return 32}default:return 32}}var Xy=!1,No=null,_o=null,ko=null,zh=new Map,Vh=new Map,So=[],R6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P2(n,o){switch(n){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":zh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vh.delete(o.pointerId)}}function Uh(n,o,d,h,x,y){return n===null||n.nativeEvent!==y?(n={blockedOn:o,domEventName:d,eventSystemFlags:h,nativeEvent:y,targetContainers:[x]},o!==null&&(o=Or(o),o!==null&&A2(o)),n):(n.eventSystemFlags|=h,o=n.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),n)}function P6(n,o,d,h,x){switch(o){case"focusin":return No=Uh(No,n,o,d,h,x),!0;case"dragenter":return _o=Uh(_o,n,o,d,h,x),!0;case"mouseover":return ko=Uh(ko,n,o,d,h,x),!0;case"pointerover":var y=x.pointerId;return zh.set(y,Uh(zh.get(y)||null,n,o,d,h,x)),!0;case"gotpointercapture":return y=x.pointerId,Vh.set(y,Uh(Vh.get(y)||null,n,o,d,h,x)),!0}return!1}function D2(n){var o=An(n.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){n.blockedOn=o,Ya(n.priority,function(){I2(d)});return}}else if(o===31){if(o=f(d),o!==null){n.blockedOn=o,Ya(n.priority,function(){I2(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){n.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gp(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var d=Qy(n.nativeEvent);if(d===null){d=n.nativeEvent;var h=new d.constructor(d.type,d);Zu=h,d.target.dispatchEvent(h),Zu=null}else return o=Or(d),o!==null&&A2(o),n.blockedOn=d,!1;o.shift()}return!0}function M2(n,o,d){Gp(n)&&d.delete(o)}function D6(){Xy=!1,No!==null&&Gp(No)&&(No=null),_o!==null&&Gp(_o)&&(_o=null),ko!==null&&Gp(ko)&&(ko=null),zh.forEach(M2),Vh.forEach(M2)}function Kp(n,o){n.blockedOn===o&&(n.blockedOn=null,Xy||(Xy=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,D6)))}var Wp=null;function O2(n){Wp!==n&&(Wp=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Wp===n&&(Wp=null);for(var o=0;o<n.length;o+=3){var d=n[o],h=n[o+1],x=n[o+2];if(typeof h!="function"){if(Jy(h||d)===null)continue;break}var y=Or(d);y!==null&&(n.splice(o,3),o-=3,Q0(y,{pending:!0,data:x,method:d.method,action:h},h,x))}}))}function Nd(n){function o(Q){return Kp(Q,n)}No!==null&&Kp(No,n),_o!==null&&Kp(_o,n),ko!==null&&Kp(ko,n),zh.forEach(o),Vh.forEach(o);for(var d=0;d<So.length;d++){var h=So[d];h.blockedOn===n&&(h.blockedOn=null)}for(;0<So.length&&(d=So[0],d.blockedOn===null);)D2(d),d.blockedOn===null&&So.shift();if(d=(n.ownerDocument||n).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var x=d[h],y=d[h+1],k=x[ra]||null;if(typeof y=="function")k||O2(d);else if(k){var V=null;if(y&&y.hasAttribute("formAction")){if(x=y,k=y[ra]||null)V=k.formAction;else if(Jy(x)!==null)continue}else V=k.action;typeof V=="function"?d[h+1]=V:(d.splice(h,3),h-=3),O2(d)}}}function L2(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(k){return x=k})},focusReset:"manual",scroll:"manual"})}function o(){x!==null&&(x(),x=null),h||setTimeout(d,20)}function d(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,x=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){h=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),x!==null&&(x(),x=null)}}}function Zy(n){this._internalRoot=n}Yp.prototype.render=Zy.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(r(409));var d=o.current,h=Nr();E2(d,h,n,o,null,null)},Yp.prototype.unmount=Zy.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;E2(n.current,2,null,n,null,null),Cp(),o[En]=null}};function Yp(n){this._internalRoot=n}Yp.prototype.unstable_scheduleHydration=function(n){if(n){var o=Wa();n={blockedOn:null,target:n,priority:o};for(var d=0;d<So.length&&o!==0&&o<So[d].priority;d++);So.splice(d,0,n),d===0&&D2(n)}};var z2=e.version;if(z2!=="19.2.4")throw Error(r(527,z2,"19.2.4"));G.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=m(o),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var M6={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{Mt=Qp.inject(M6),os=Qp}catch{}}return Bh.createRoot=function(n,o){if(!i(n))throw Error(r(299));var d=!1,h="",x=HN,y=GN,k=KN;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=S2(n,1,!1,null,null,d,h,null,x,y,k,L2),n[En]=o.current,Dy(n),new Zy(o)},Bh.hydrateRoot=function(n,o,d){if(!i(n))throw Error(r(299));var h=!1,x="",y=HN,k=GN,V=KN,Q=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(y=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(V=d.onRecoverableError),d.formState!==void 0&&(Q=d.formState)),o=S2(n,1,!0,o,d??null,h,x,Q,y,k,V,L2),o.context=T2(null),d=o.current,h=Nr(),h=fs(h),x=uo(h),x.callback=null,ho(d,x,h),d=h,o.current.lanes=d,Be(o,d),qn(o),n[En]=o.current,Dy(n),new Yp(o)},Bh.version="19.2.4",Bh}var W2;function K6(){if(W2)return sb.exports;W2=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),sb.exports=G6(),sb.exports}var W6=K6();const Y6=Tu(W6);var ib,Y2;function Q6(){if(Y2)return ib;Y2=1;var a=typeof Element<"u",e=typeof Map=="function",s=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(l,c){if(l===c)return!0;if(l&&c&&typeof l=="object"&&typeof c=="object"){if(l.constructor!==c.constructor)return!1;var f,u,m;if(Array.isArray(l)){if(f=l.length,f!=c.length)return!1;for(u=f;u--!==0;)if(!i(l[u],c[u]))return!1;return!0}var g;if(e&&l instanceof Map&&c instanceof Map){if(l.size!==c.size)return!1;for(g=l.entries();!(u=g.next()).done;)if(!c.has(u.value[0]))return!1;for(g=l.entries();!(u=g.next()).done;)if(!i(u.value[1],c.get(u.value[0])))return!1;return!0}if(s&&l instanceof Set&&c instanceof Set){if(l.size!==c.size)return!1;for(g=l.entries();!(u=g.next()).done;)if(!c.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(c)){if(f=l.length,f!=c.length)return!1;for(u=f;u--!==0;)if(l[u]!==c[u])return!1;return!0}if(l.constructor===RegExp)return l.source===c.source&&l.flags===c.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof c.valueOf=="function")return l.valueOf()===c.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof c.toString=="function")return l.toString()===c.toString();if(m=Object.keys(l),f=m.length,f!==Object.keys(c).length)return!1;for(u=f;u--!==0;)if(!Object.prototype.hasOwnProperty.call(c,m[u]))return!1;if(a&&l instanceof Element)return!1;for(u=f;u--!==0;)if(!((m[u]==="_owner"||m[u]==="__v"||m[u]==="__o")&&l.$$typeof)&&!i(l[m[u]],c[m[u]]))return!1;return!0}return l!==l&&c!==c}return ib=function(c,f){try{return i(c,f)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},ib}var J6=Q6();const X6=Tu(J6);var ob,Q2;function Z6(){if(Q2)return ob;Q2=1;var a=function(e,s,r,i,l,c,f,u){if(!e){var m;if(s===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[r,i,l,c,f,u],b=0;m=new Error(s.replace(/%s/g,function(){return g[b++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return ob=a,ob}var e3=Z6();const J2=Tu(e3);var lb,X2;function t3(){return X2||(X2=1,lb=function(e,s,r,i){var l=r?r.call(i,e,s):void 0;if(l!==void 0)return!!l;if(e===s)return!0;if(typeof e!="object"||!e||typeof s!="object"||!s)return!1;var c=Object.keys(e),f=Object.keys(s);if(c.length!==f.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(s),m=0;m<c.length;m++){var g=c[m];if(!u(g))return!1;var b=e[g],v=s[g];if(l=r?r.call(i,b,v,g):void 0,l===!1||l===void 0&&b!==v)return!1}return!0}),lb}var s3=t3();const a3=Tu(s3);var nT=(a=>(a.BASE="base",a.BODY="body",a.HEAD="head",a.HTML="html",a.LINK="link",a.META="meta",a.NOSCRIPT="noscript",a.SCRIPT="script",a.STYLE="style",a.TITLE="title",a.FRAGMENT="Symbol(react.fragment)",a))(nT||{}),cb={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Z2=Object.values(nT),ow={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},r3=Object.entries(ow).reduce((a,[e,s])=>(a[s]=e,a),{}),xn="data-rh",Fd={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Bd=(a,e)=>{for(let s=a.length-1;s>=0;s-=1){const r=a[s];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},n3=a=>{let e=Bd(a,"title");const s=Bd(a,Fd.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),s&&e)return s.replace(/%s/g,()=>e);const r=Bd(a,Fd.DEFAULT_TITLE);return e||r||void 0},i3=a=>Bd(a,Fd.ON_CHANGE_CLIENT_STATE)||(()=>{}),db=(a,e)=>e.filter(s=>typeof s[a]<"u").map(s=>s[a]).reduce((s,r)=>({...s,...r}),{}),o3=(a,e)=>e.filter(s=>typeof s.base<"u").map(s=>s.base).reverse().reduce((s,r)=>{if(!s.length){const i=Object.keys(r);for(let l=0;l<i.length;l+=1){const f=i[l].toLowerCase();if(a.indexOf(f)!==-1&&r[f])return s.concat(r)}}return s},[]),l3=a=>console&&typeof console.warn=="function"&&console.warn(a),$h=(a,e,s)=>{const r={};return s.filter(i=>Array.isArray(i[a])?!0:(typeof i[a]<"u"&&l3(`Helmet: ${a} should be of type "Array". Instead found type "${typeof i[a]}"`),!1)).map(i=>i[a]).reverse().reduce((i,l)=>{const c={};l.filter(u=>{let m;const g=Object.keys(u);for(let v=0;v<g.length;v+=1){const E=g[v],N=E.toLowerCase();e.indexOf(N)!==-1&&!(m==="rel"&&u[m].toLowerCase()==="canonical")&&!(N==="rel"&&u[N].toLowerCase()==="stylesheet")&&(m=N),e.indexOf(E)!==-1&&(E==="innerHTML"||E==="cssText"||E==="itemprop")&&(m=E)}if(!m||!u[m])return!1;const b=u[m].toLowerCase();return r[m]||(r[m]={}),c[m]||(c[m]={}),r[m][b]?!1:(c[m][b]=!0,!0)}).reverse().forEach(u=>i.push(u));const f=Object.keys(c);for(let u=0;u<f.length;u+=1){const m=f[u],g={...r[m],...c[m]};r[m]=g}return i},[]).reverse()},c3=(a,e)=>{if(Array.isArray(a)&&a.length){for(let s=0;s<a.length;s+=1)if(a[s][e])return!0}return!1},d3=a=>({baseTag:o3(["href"],a),bodyAttributes:db("bodyAttributes",a),defer:Bd(a,Fd.DEFER),encode:Bd(a,Fd.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:db("htmlAttributes",a),linkTags:$h("link",["rel","href"],a),metaTags:$h("meta",["name","charset","http-equiv","property","itemprop"],a),noscriptTags:$h("noscript",["innerHTML"],a),onChangeClientState:i3(a),scriptTags:$h("script",["src","innerHTML"],a),styleTags:$h("style",["cssText"],a),title:n3(a),titleAttributes:db("titleAttributes",a),prioritizeSeoTags:c3(a,Fd.PRIORITIZE_SEO_TAGS)}),iT=a=>Array.isArray(a)?a.join(""):a,u3=(a,e)=>{const s=Object.keys(a);for(let r=0;r<s.length;r+=1)if(e[s[r]]&&e[s[r]].includes(a[s[r]]))return!0;return!1},ub=(a,e)=>Array.isArray(a)?a.reduce((s,r)=>(u3(r,e)?s.priority.push(r):s.default.push(r),s),{priority:[],default:[]}):{default:a,priority:[]},ek=(a,e)=>({...a,[e]:void 0}),h3=["noscript","script","style"],Qb=(a,e=!0)=>e===!1?String(a):String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),oT=a=>Object.keys(a).reduce((e,s)=>{const r=typeof a[s]<"u"?`${s}="${a[s]}"`:`${s}`;return e?`${e} ${r}`:r},""),f3=(a,e,s,r)=>{const i=oT(s),l=iT(e);return i?`<${a} ${xn}="true" ${i}>${Qb(l,r)}</${a}>`:`<${a} ${xn}="true">${Qb(l,r)}</${a}>`},m3=(a,e,s=!0)=>e.reduce((r,i)=>{const l=i,c=Object.keys(l).filter(m=>!(m==="innerHTML"||m==="cssText")).reduce((m,g)=>{const b=typeof l[g]>"u"?g:`${g}="${Qb(l[g],s)}"`;return m?`${m} ${b}`:b},""),f=l.innerHTML||l.cssText||"",u=h3.indexOf(a)===-1;return`${r}<${a} ${xn}="true" ${c}${u?"/>":`>${f}</${a}>`}`},""),lT=(a,e={})=>Object.keys(a).reduce((s,r)=>{const i=ow[r];return s[i||r]=a[r],s},e),p3=(a,e,s)=>{const r={key:e,[xn]:!0},i=lT(s,r);return[He.createElement("title",i,e)]},hg=(a,e)=>e.map((s,r)=>{const i={key:r,[xn]:!0};return Object.keys(s).forEach(l=>{const f=ow[l]||l;if(f==="innerHTML"||f==="cssText"){const u=s.innerHTML||s.cssText;i.dangerouslySetInnerHTML={__html:u}}else i[f]=s[l]}),He.createElement(a,i)}),Yr=(a,e,s=!0)=>{switch(a){case"title":return{toComponent:()=>p3(a,e.title,e.titleAttributes),toString:()=>f3(a,e.title,e.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>lT(e),toString:()=>oT(e)};default:return{toComponent:()=>hg(a,e),toString:()=>m3(a,e,s)}}},g3=({metaTags:a,linkTags:e,scriptTags:s,encode:r})=>{const i=ub(a,cb.meta),l=ub(e,cb.link),c=ub(s,cb.script);return{priorityMethods:{toComponent:()=>[...hg("meta",i.priority),...hg("link",l.priority),...hg("script",c.priority)],toString:()=>`${Yr("meta",i.priority,r)} ${Yr("link",l.priority,r)} ${Yr("script",c.priority,r)}`},metaTags:i.default,linkTags:l.default,scriptTags:c.default}},x3=a=>{const{baseTag:e,bodyAttributes:s,encode:r=!0,htmlAttributes:i,noscriptTags:l,styleTags:c,title:f="",titleAttributes:u,prioritizeSeoTags:m}=a;let{linkTags:g,metaTags:b,scriptTags:v}=a,E={toComponent:()=>{},toString:()=>""};return m&&({priorityMethods:E,linkTags:g,metaTags:b,scriptTags:v}=g3(a)),{priority:E,base:Yr("base",e,r),bodyAttributes:Yr("bodyAttributes",s,r),htmlAttributes:Yr("htmlAttributes",i,r),link:Yr("link",g,r),meta:Yr("meta",b,r),noscript:Yr("noscript",l,r),script:Yr("script",v,r),style:Yr("style",c,r),title:Yr("title",{title:f,titleAttributes:u},r)}},Jb=x3,Jp=[],cT=!!(typeof window<"u"&&window.document&&window.document.createElement),Xb=class{constructor(a,e){Si(this,"instances",[]);Si(this,"canUseDOM",cT);Si(this,"context");Si(this,"value",{setHelmet:a=>{this.context.helmet=a},helmetInstances:{get:()=>this.canUseDOM?Jp:this.instances,add:a=>{(this.canUseDOM?Jp:this.instances).push(a)},remove:a=>{const e=(this.canUseDOM?Jp:this.instances).indexOf(a);(this.canUseDOM?Jp:this.instances).splice(e,1)}}});this.context=a,this.canUseDOM=e||!1,e||(a.helmet=Jb({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},y3={},dT=He.createContext(y3),ec,uT=(ec=class extends w.Component{constructor(s){super(s);Si(this,"helmetData");this.helmetData=new Xb(this.props.context||{},ec.canUseDOM)}render(){return He.createElement(dT.Provider,{value:this.helmetData.value},this.props.children)}},Si(ec,"canUseDOM",cT),ec),_d=(a,e)=>{const s=document.head||document.querySelector("head"),r=s.querySelectorAll(`${a}[${xn}]`),i=[].slice.call(r),l=[];let c;return e&&e.length&&e.forEach(f=>{const u=document.createElement(a);for(const m in f)if(Object.prototype.hasOwnProperty.call(f,m))if(m==="innerHTML")u.innerHTML=f.innerHTML;else if(m==="cssText")u.styleSheet?u.styleSheet.cssText=f.cssText:u.appendChild(document.createTextNode(f.cssText));else{const g=m,b=typeof f[g]>"u"?"":f[g];u.setAttribute(m,b)}u.setAttribute(xn,"true"),i.some((m,g)=>(c=g,u.isEqualNode(m)))?i.splice(c,1):l.push(u)}),i.forEach(f=>{var u;return(u=f.parentNode)==null?void 0:u.removeChild(f)}),l.forEach(f=>s.appendChild(f)),{oldTags:i,newTags:l}},Zb=(a,e)=>{const s=document.getElementsByTagName(a)[0];if(!s)return;const r=s.getAttribute(xn),i=r?r.split(","):[],l=[...i],c=Object.keys(e);for(const f of c){const u=e[f]||"";s.getAttribute(f)!==u&&s.setAttribute(f,u),i.indexOf(f)===-1&&i.push(f);const m=l.indexOf(f);m!==-1&&l.splice(m,1)}for(let f=l.length-1;f>=0;f-=1)s.removeAttribute(l[f]);i.length===l.length?s.removeAttribute(xn):s.getAttribute(xn)!==c.join(",")&&s.setAttribute(xn,c.join(","))},b3=(a,e)=>{typeof a<"u"&&document.title!==a&&(document.title=iT(a)),Zb("title",e)},tk=(a,e)=>{const{baseTag:s,bodyAttributes:r,htmlAttributes:i,linkTags:l,metaTags:c,noscriptTags:f,onChangeClientState:u,scriptTags:m,styleTags:g,title:b,titleAttributes:v}=a;Zb("body",r),Zb("html",i),b3(b,v);const E={baseTag:_d("base",s),linkTags:_d("link",l),metaTags:_d("meta",c),noscriptTags:_d("noscript",f),scriptTags:_d("script",m),styleTags:_d("style",g)},N={},S={};Object.keys(E).forEach(T=>{const{newTags:O,oldTags:U}=E[T];O.length&&(N[T]=O),U.length&&(S[T]=E[T].oldTags)}),e&&e(),u(a,N,S)},qh=null,v3=a=>{qh&&cancelAnimationFrame(qh),a.defer?qh=requestAnimationFrame(()=>{tk(a,()=>{qh=null})}):(tk(a),qh=null)},w3=v3,sk=class extends w.Component{constructor(){super(...arguments);Si(this,"rendered",!1)}shouldComponentUpdate(e){return!a3(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:s}=this.props.context;let r=null;const i=d3(e.get().map(l=>{const c={...l.props};return delete c.context,c}));uT.canUseDOM?w3(i):Jb&&(r=Jb(i)),s(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Yb,j3=(Yb=class extends w.Component{shouldComponentUpdate(a){return!X6(ek(this.props,"helmetData"),ek(a,"helmetData"))}mapNestedChildrenToProps(a,e){if(!e)return null;switch(a.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${a.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(a,e,s,r){return{...e,[a.type]:[...e[a.type]||[],{...s,...this.mapNestedChildrenToProps(a,r)}]}}mapObjectTypeChildren(a,e,s,r){switch(a.type){case"title":return{...e,[a.type]:r,titleAttributes:{...s}};case"body":return{...e,bodyAttributes:{...s}};case"html":return{...e,htmlAttributes:{...s}};default:return{...e,[a.type]:{...s}}}}mapArrayTypeChildrenToProps(a,e){let s={...e};return Object.keys(a).forEach(r=>{s={...s,[r]:a[r]}}),s}warnOnInvalidChildren(a,e){return J2(Z2.some(s=>a.type===s),typeof a.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Z2.join(", ")} are allowed. Helmet does not support rendering <${a.type}> elements. Refer to our API for more information.`),J2(!e||typeof e=="string"||Array.isArray(e)&&!e.some(s=>typeof s!="string"),`Helmet expects a string as a child of <${a.type}>. Did you forget to wrap your children in braces? ( <${a.type}>{\`\`}</${a.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(a,e){let s={};return He.Children.forEach(a,r=>{if(!r||!r.props)return;const{children:i,...l}=r.props,c=Object.keys(l).reduce((u,m)=>(u[r3[m]||m]=l[m],u),{});let{type:f}=r;switch(typeof f=="symbol"?f=f.toString():this.warnOnInvalidChildren(r,i),f){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(r,s,c,i);break;default:e=this.mapObjectTypeChildren(r,e,c,i);break}}),this.mapArrayTypeChildrenToProps(s,e)}render(){const{children:a,...e}=this.props;let s={...e},{helmetData:r}=e;if(a&&(s=this.mapChildrenToProps(a,s)),r&&!(r instanceof Xb)){const i=r;r=new Xb(i.context,!0),delete s.helmetData}return r?He.createElement(sk,{...s,context:r.value}):He.createElement(dT.Consumer,null,i=>He.createElement(sk,{...s,context:i}))}},Si(Yb,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Yb);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ak="popstate";function N3(a={}){function e(r,i){let{pathname:l,search:c,hash:f}=r.location;return ev("",{pathname:l,search:c,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:If(i)}return k3(e,s,null,a)}function ws(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Zr(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _3(){return Math.random().toString(36).substring(2,10)}function rk(a,e){return{usr:a.state,key:a.key,idx:e}}function ev(a,e,s=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Eu(e):e,state:s,key:e&&e.key||r||_3()}}function If({pathname:a="/",search:e="",hash:s=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(a+=s.charAt(0)==="#"?s:"#"+s),a}function Eu(a){let e={};if(a){let s=a.indexOf("#");s>=0&&(e.hash=a.substring(s),a=a.substring(0,s));let r=a.indexOf("?");r>=0&&(e.search=a.substring(r),a=a.substring(0,r)),a&&(e.pathname=a)}return e}function k3(a,e,s,r={}){let{window:i=document.defaultView,v5Compat:l=!1}=r,c=i.history,f="POP",u=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function b(){f="POP";let T=g(),O=T==null?null:T-m;m=T,u&&u({action:f,location:S.location,delta:O})}function v(T,O){f="PUSH";let U=ev(S.location,T,O);m=g()+1;let M=rk(U,m),L=S.createHref(U);try{c.pushState(M,"",L)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(L)}l&&u&&u({action:f,location:S.location,delta:1})}function E(T,O){f="REPLACE";let U=ev(S.location,T,O);m=g();let M=rk(U,m),L=S.createHref(U);c.replaceState(M,"",L),l&&u&&u({action:f,location:S.location,delta:0})}function N(T){return S3(T)}let S={get action(){return f},get location(){return a(i,c)},listen(T){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(ak,b),u=T,()=>{i.removeEventListener(ak,b),u=null}},createHref(T){return e(i,T)},createURL:N,encodeLocation(T){let O=N(T);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:E,go(T){return c.go(T)}};return S}function S3(a,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),ws(s,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:If(a);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function hT(a,e,s="/"){return T3(a,e,s,!1)}function T3(a,e,s,r){let i=typeof e=="string"?Eu(e):e,l=Oi(i.pathname||"/",s);if(l==null)return null;let c=fT(a);E3(c);let f=null;for(let u=0;f==null&&u<c.length;++u){let m=V3(l);f=L3(c[u],m,r)}return f}function fT(a,e=[],s=[],r="",i=!1){let l=(c,f,u=i,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&u)return;ws(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let b=Ii([r,g.relativePath]),v=s.concat(g);c.children&&c.children.length>0&&(ws(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),fT(c.children,e,v,b,u)),!(c.path==null&&!c.index)&&e.push({path:b,score:M3(b,c.index),routesMeta:v})};return a.forEach((c,f)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))l(c,f);else for(let m of mT(c.path))l(c,f,!0,m)}),e}function mT(a){let e=a.split("/");if(e.length===0)return[];let[s,...r]=e,i=s.endsWith("?"),l=s.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let c=mT(r.join("/")),f=[];return f.push(...c.map(u=>u===""?l:[l,u].join("/"))),i&&f.push(...c),f.map(u=>a.startsWith("/")&&u===""?"/":u)}function E3(a){a.sort((e,s)=>e.score!==s.score?s.score-e.score:O3(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var C3=/^:[\w-]+$/,A3=3,I3=2,R3=1,P3=10,D3=-2,nk=a=>a==="*";function M3(a,e){let s=a.split("/"),r=s.length;return s.some(nk)&&(r+=D3),e&&(r+=I3),s.filter(i=>!nk(i)).reduce((i,l)=>i+(C3.test(l)?A3:l===""?R3:P3),r)}function O3(a,e){return a.length===e.length&&a.slice(0,-1).every((r,i)=>r===e[i])?a[a.length-1]-e[e.length-1]:0}function L3(a,e,s=!1){let{routesMeta:r}=a,i={},l="/",c=[];for(let f=0;f<r.length;++f){let u=r[f],m=f===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",b=Dg({path:u.relativePath,caseSensitive:u.caseSensitive,end:m},g),v=u.route;if(!b&&m&&s&&!r[r.length-1].route.index&&(b=Dg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},g)),!b)return null;Object.assign(i,b.params),c.push({params:i,pathname:Ii([l,b.pathname]),pathnameBase:$3(Ii([l,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(l=Ii([l,b.pathnameBase]))}return c}function Dg(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,r]=z3(a.path,a.caseSensitive,a.end),i=e.match(s);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:b},v)=>{if(g==="*"){let N=f[v]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const E=f[v];return b&&!E?m[g]=void 0:m[g]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:a}}function z3(a,e=!1,s=!0){Zr(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],i="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,u)=>(r.push({paramName:f,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(r.push({paramName:"*"}),i+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":a!==""&&a!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function V3(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zr(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Oi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=a.charAt(s);return r&&r!=="/"?null:a.slice(s)||"/"}var U3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function F3(a,e="/"){let{pathname:s,search:r="",hash:i=""}=typeof a=="string"?Eu(a):a,l;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?l=ik(s.substring(1),"/"):l=ik(s,e)):l=e,{pathname:l,search:q3(r),hash:H3(i)}}function ik(a,e){let s=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function hb(a,e,s,r){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B3(a){return a.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function lw(a){let e=B3(a);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function cw(a,e,s,r=!1){let i;typeof a=="string"?i=Eu(a):(i={...a},ws(!i.pathname||!i.pathname.includes("?"),hb("?","pathname","search",i)),ws(!i.pathname||!i.pathname.includes("#"),hb("#","pathname","hash",i)),ws(!i.search||!i.search.includes("#"),hb("#","search","hash",i)));let l=a===""||i.pathname==="",c=l?"/":i.pathname,f;if(c==null)f=s;else{let b=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),b-=1;i.pathname=v.join("/")}f=b>=0?e[b]:"/"}let u=F3(i,f),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(m||g)&&(u.pathname+="/"),u}var Ii=a=>a.join("/").replace(/\/\/+/g,"/"),$3=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),q3=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,H3=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,G3=class{constructor(a,e,s,r=!1){this.status=a,this.statusText=e||"",this.internal=r,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function K3(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function W3(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var pT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gT(a,e){let s=a;if(typeof s!="string"||!U3.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let r=s,i=!1;if(pT)try{let l=new URL(window.location.href),c=s.startsWith("//")?new URL(l.protocol+s):new URL(s),f=Oi(c.pathname,e);c.origin===l.origin&&f!=null?s=f+c.search+c.hash:i=!0}catch{Zr(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xT=["POST","PUT","PATCH","DELETE"];new Set(xT);var Y3=["GET",...xT];new Set(Y3);var Cu=w.createContext(null);Cu.displayName="DataRouter";var ux=w.createContext(null);ux.displayName="DataRouterState";var Q3=w.createContext(!1),yT=w.createContext({isTransitioning:!1});yT.displayName="ViewTransition";var J3=w.createContext(new Map);J3.displayName="Fetchers";var X3=w.createContext(null);X3.displayName="Await";var Dr=w.createContext(null);Dr.displayName="Navigation";var am=w.createContext(null);am.displayName="Location";var Sn=w.createContext({outlet:null,matches:[],isDataRoute:!1});Sn.displayName="Route";var dw=w.createContext(null);dw.displayName="RouteError";var bT="REACT_ROUTER_ERROR",Z3="REDIRECT",eP="ROUTE_ERROR_RESPONSE";function tP(a){if(a.startsWith(`${bT}:${Z3}:{`))try{let e=JSON.parse(a.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function sP(a){if(a.startsWith(`${bT}:${eP}:{`))try{let e=JSON.parse(a.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new G3(e.status,e.statusText,e.data)}catch{}}function aP(a,{relative:e}={}){ws(Au(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=w.useContext(Dr),{hash:i,pathname:l,search:c}=rm(a,{relative:e}),f=l;return s!=="/"&&(f=l==="/"?s:Ii([s,l])),r.createHref({pathname:f,search:c,hash:i})}function Au(){return w.useContext(am)!=null}function hr(){return ws(Au(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(am).location}var vT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wT(a){w.useContext(Dr).static||w.useLayoutEffect(a)}function ta(){let{isDataRoute:a}=w.useContext(Sn);return a?gP():rP()}function rP(){ws(Au(),"useNavigate() may be used only in the context of a <Router> component.");let a=w.useContext(Cu),{basename:e,navigator:s}=w.useContext(Dr),{matches:r}=w.useContext(Sn),{pathname:i}=hr(),l=JSON.stringify(lw(r)),c=w.useRef(!1);return wT(()=>{c.current=!0}),w.useCallback((u,m={})=>{if(Zr(c.current,vT),!c.current)return;if(typeof u=="number"){s.go(u);return}let g=cw(u,JSON.parse(l),i,m.relative==="path");a==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ii([e,g.pathname])),(m.replace?s.replace:s.push)(g,m.state,m)},[e,s,l,i,a])}w.createContext(null);function $d(){let{matches:a}=w.useContext(Sn),e=a[a.length-1];return e?e.params:{}}function rm(a,{relative:e}={}){let{matches:s}=w.useContext(Sn),{pathname:r}=hr(),i=JSON.stringify(lw(s));return w.useMemo(()=>cw(a,JSON.parse(i),r,e==="path"),[a,i,r,e])}function nP(a,e){return jT(a,e)}function jT(a,e,s,r,i){var U;ws(Au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(Dr),{matches:c}=w.useContext(Sn),f=c[c.length-1],u=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",b=f&&f.route;{let M=b&&b.path||"";_T(m,!b||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=hr(),E;if(e){let M=typeof e=="string"?Eu(e):e;ws(g==="/"||((U=M.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),E=M}else E=v;let N=E.pathname||"/",S=N;if(g!=="/"){let M=g.replace(/^\//,"").split("/");S="/"+N.replace(/^\//,"").split("/").slice(M.length).join("/")}let T=hT(a,{pathname:S});Zr(b||T!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Zr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=dP(T&&T.map(M=>Object.assign({},M,{params:Object.assign({},u,M.params),pathname:Ii([g,l.encodeLocation?l.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:Ii([g,l.encodeLocation?l.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),c,s,r,i);return e&&O?w.createElement(am.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},O):O}function iP(){let a=pP(),e=K3(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",a),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),s?w.createElement("pre",{style:i},s):null,c)}var oP=w.createElement(iP,null),NT=class extends w.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const s=sP(a.digest);s&&(a=s)}let e=a!==void 0?w.createElement(Sn.Provider,{value:this.props.routeContext},w.createElement(dw.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?w.createElement(lP,{error:a},e):e}};NT.contextType=Q3;var fb=new WeakMap;function lP({children:a,error:e}){let{basename:s}=w.useContext(Dr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=tP(e.digest);if(r){let i=fb.get(e);if(i)throw i;let l=gT(r.location,s);if(pT&&!fb.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw fb.set(e,c),c}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return a}function cP({routeContext:a,match:e,children:s}){let r=w.useContext(Cu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Sn.Provider,{value:a},s)}function dP(a,e=[],s=null,r=null,i=null){if(a==null){if(!s)return null;if(s.errors)a=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)a=s.matches;else return null}let l=a,c=s==null?void 0:s.errors;if(c!=null){let g=l.findIndex(b=>b.route.id&&(c==null?void 0:c[b.route.id])!==void 0);ws(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,u=-1;if(s)for(let g=0;g<l.length;g++){let b=l[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(u=g),b.route.id){let{loaderData:v,errors:E}=s,N=b.route.loader&&!v.hasOwnProperty(b.route.id)&&(!E||E[b.route.id]===void 0);if(b.route.lazy||N){f=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}let m=s&&r?(g,b)=>{var v,E;r(g,{location:s.location,params:((E=(v=s.matches)==null?void 0:v[0])==null?void 0:E.params)??{},unstable_pattern:W3(s.matches),errorInfo:b})}:void 0;return l.reduceRight((g,b,v)=>{let E,N=!1,S=null,T=null;s&&(E=c&&b.route.id?c[b.route.id]:void 0,S=b.route.errorElement||oP,f&&(u<0&&v===0?(_T("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,T=null):u===v&&(N=!0,T=b.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,v+1)),U=()=>{let M;return E?M=S:N?M=T:b.route.Component?M=w.createElement(b.route.Component,null):b.route.element?M=b.route.element:M=g,w.createElement(cP,{match:b,routeContext:{outlet:g,matches:O,isDataRoute:s!=null},children:M})};return s&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?w.createElement(NT,{location:s.location,revalidation:s.revalidation,component:S,error:E,children:U(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:m}):U()},null)}function uw(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uP(a){let e=w.useContext(Cu);return ws(e,uw(a)),e}function hP(a){let e=w.useContext(ux);return ws(e,uw(a)),e}function fP(a){let e=w.useContext(Sn);return ws(e,uw(a)),e}function hw(a){let e=fP(a),s=e.matches[e.matches.length-1];return ws(s.route.id,`${a} can only be used on routes that contain a unique "id"`),s.route.id}function mP(){return hw("useRouteId")}function pP(){var r;let a=w.useContext(dw),e=hP("useRouteError"),s=hw("useRouteError");return a!==void 0?a:(r=e.errors)==null?void 0:r[s]}function gP(){let{router:a}=uP("useNavigate"),e=hw("useNavigate"),s=w.useRef(!1);return wT(()=>{s.current=!0}),w.useCallback(async(i,l={})=>{Zr(s.current,vT),s.current&&(typeof i=="number"?await a.navigate(i):await a.navigate(i,{fromRouteId:e,...l}))},[a,e])}var ok={};function _T(a,e,s){!e&&!ok[a]&&(ok[a]=!0,Zr(!1,s))}w.memo(xP);function xP({routes:a,future:e,state:s,onError:r}){return jT(a,void 0,s,r,e)}function pn({to:a,replace:e,state:s,relative:r}){ws(Au(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(Dr);Zr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(Sn),{pathname:c}=hr(),f=ta(),u=cw(a,lw(l),c,r==="path"),m=JSON.stringify(u);return w.useEffect(()=>{f(JSON.parse(m),{replace:e,state:s,relative:r})},[f,m,r,e,s]),null}function Xe(a){ws(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yP({basename:a="/",children:e=null,location:s,navigationType:r="POP",navigator:i,static:l=!1,unstable_useTransitions:c}){ws(!Au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=a.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:f,navigator:i,static:l,unstable_useTransitions:c,future:{}}),[f,i,l,c]);typeof s=="string"&&(s=Eu(s));let{pathname:m="/",search:g="",hash:b="",state:v=null,key:E="default"}=s,N=w.useMemo(()=>{let S=Oi(m,f);return S==null?null:{location:{pathname:S,search:g,hash:b,state:v,key:E},navigationType:r}},[f,m,g,b,v,E,r]);return Zr(N!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:w.createElement(Dr.Provider,{value:u},w.createElement(am.Provider,{children:e,value:N}))}function fw({children:a,location:e}){return nP(tv(a),e)}function tv(a,e=[]){let s=[];return w.Children.forEach(a,(r,i)=>{if(!w.isValidElement(r))return;let l=[...e,i];if(r.type===w.Fragment){s.push.apply(s,tv(r.props.children,l));return}ws(r.type===Xe,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ws(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=tv(r.props.children,l)),s.push(c)}),s}var fg="get",mg="application/x-www-form-urlencoded";function hx(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function bP(a){return hx(a)&&a.tagName.toLowerCase()==="button"}function vP(a){return hx(a)&&a.tagName.toLowerCase()==="form"}function wP(a){return hx(a)&&a.tagName.toLowerCase()==="input"}function jP(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function NP(a,e){return a.button===0&&(!e||e==="_self")&&!jP(a)}function sv(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((e,s)=>{let r=a[s];return e.concat(Array.isArray(r)?r.map(i=>[s,i]):[[s,r]])},[]))}function _P(a,e){let s=sv(a);return e&&e.forEach((r,i)=>{s.has(i)||e.getAll(i).forEach(l=>{s.append(i,l)})}),s}var Xp=null;function kP(){if(Xp===null)try{new FormData(document.createElement("form"),0),Xp=!1}catch{Xp=!0}return Xp}var SP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mb(a){return a!=null&&!SP.has(a)?(Zr(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mg}"`),null):a}function TP(a,e){let s,r,i,l,c;if(vP(a)){let f=a.getAttribute("action");r=f?Oi(f,e):null,s=a.getAttribute("method")||fg,i=mb(a.getAttribute("enctype"))||mg,l=new FormData(a)}else if(bP(a)||wP(a)&&(a.type==="submit"||a.type==="image")){let f=a.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=a.getAttribute("formaction")||f.getAttribute("action");if(r=u?Oi(u,e):null,s=a.getAttribute("formmethod")||f.getAttribute("method")||fg,i=mb(a.getAttribute("formenctype"))||mb(f.getAttribute("enctype"))||mg,l=new FormData(f,a),!kP()){let{name:m,type:g,value:b}=a;if(g==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,b)}}else{if(hx(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=fg,r=null,i=mg,c=a}return l&&i==="text/plain"&&(c=l,l=void 0),{action:r,method:s.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mw(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function EP(a,e,s,r){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&Oi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function CP(a,e){if(a.id in e)return e[a.id];try{let s=await import(a.module);return e[a.id]=s,s}catch(s){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AP(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function IP(a,e,s){let r=await Promise.all(a.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await CP(l,s);return c.links?c.links():[]}return[]}));return MP(r.flat(1).filter(AP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function lk(a,e,s,r,i,l){let c=(u,m)=>s[m]?u.route.id!==s[m].route.id:!0,f=(u,m)=>{var g;return s[m].pathname!==u.pathname||((g=s[m].route.path)==null?void 0:g.endsWith("*"))&&s[m].params["*"]!==u.params["*"]};return l==="assets"?e.filter((u,m)=>c(u,m)||f(u,m)):l==="data"?e.filter((u,m)=>{var b;let g=r.routes[u.route.id];if(!g||!g.hasLoader)return!1;if(c(u,m)||f(u,m))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((b=s[0])==null?void 0:b.params)||{},nextUrl:new URL(a,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function RP(a,e,{includeHydrateFallback:s}={}){return PP(a.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function PP(a){return[...new Set(a)]}function DP(a){let e={},s=Object.keys(a).sort();for(let r of s)e[r]=a[r];return e}function MP(a,e){let s=new Set;return new Set(e),a.reduce((r,i)=>{let l=JSON.stringify(DP(i));return s.has(l)||(s.add(l),r.push({key:l,link:i})),r},[])}function kT(){let a=w.useContext(Cu);return mw(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function OP(){let a=w.useContext(ux);return mw(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var pw=w.createContext(void 0);pw.displayName="FrameworkContext";function ST(){let a=w.useContext(pw);return mw(a,"You must render this element inside a <HydratedRouter> element"),a}function LP(a,e){let s=w.useContext(pw),[r,i]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:f,onBlur:u,onMouseEnter:m,onMouseLeave:g,onTouchStart:b}=e,v=w.useRef(null);w.useEffect(()=>{if(a==="render"&&c(!0),a==="viewport"){let S=O=>{O.forEach(U=>{c(U.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[a]),w.useEffect(()=>{if(r){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[r]);let E=()=>{i(!0)},N=()=>{i(!1),c(!1)};return s?a!=="intent"?[l,v,{}]:[l,v,{onFocus:Hh(f,E),onBlur:Hh(u,N),onMouseEnter:Hh(m,E),onMouseLeave:Hh(g,N),onTouchStart:Hh(b,E)}]:[!1,v,{}]}function Hh(a,e){return s=>{a&&a(s),s.defaultPrevented||e(s)}}function zP({page:a,...e}){let{router:s}=kT(),r=w.useMemo(()=>hT(s.routes,a,s.basename),[s.routes,a,s.basename]);return r?w.createElement(UP,{page:a,matches:r,...e}):null}function VP(a){let{manifest:e,routeModules:s}=ST(),[r,i]=w.useState([]);return w.useEffect(()=>{let l=!1;return IP(a,e,s).then(c=>{l||i(c)}),()=>{l=!0}},[a,e,s]),r}function UP({page:a,matches:e,...s}){let r=hr(),{future:i,manifest:l,routeModules:c}=ST(),{basename:f}=kT(),{loaderData:u,matches:m}=OP(),g=w.useMemo(()=>lk(a,e,m,l,r,"data"),[a,e,m,l,r]),b=w.useMemo(()=>lk(a,e,m,l,r,"assets"),[a,e,m,l,r]),v=w.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let S=new Set,T=!1;if(e.forEach(U=>{var L;let M=l.routes[U.route.id];!M||!M.hasLoader||(!g.some($=>$.route.id===U.route.id)&&U.route.id in u&&((L=c[U.route.id])!=null&&L.shouldRevalidate)||M.hasClientLoader?T=!0:S.add(U.route.id))}),S.size===0)return[];let O=EP(a,f,i.unstable_trailingSlashAwareDataRequests,"data");return T&&S.size>0&&O.searchParams.set("_routes",e.filter(U=>S.has(U.route.id)).map(U=>U.route.id).join(",")),[O.pathname+O.search]},[f,i.unstable_trailingSlashAwareDataRequests,u,r,l,g,e,a,c]),E=w.useMemo(()=>RP(b,l),[b,l]),N=VP(b);return w.createElement(w.Fragment,null,v.map(S=>w.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...s})),E.map(S=>w.createElement("link",{key:S,rel:"modulepreload",href:S,...s})),N.map(({key:S,link:T})=>w.createElement("link",{key:S,nonce:s.nonce,...T,crossOrigin:T.crossOrigin??s.crossOrigin})))}function FP(...a){return e=>{a.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var BP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BP&&(window.__reactRouterVersion="7.13.0")}catch{}function $P({basename:a,children:e,unstable_useTransitions:s,window:r}){let i=w.useRef();i.current==null&&(i.current=N3({window:r,v5Compat:!0}));let l=i.current,[c,f]=w.useState({action:l.action,location:l.location}),u=w.useCallback(m=>{s===!1?f(m):w.startTransition(()=>f(m))},[s]);return w.useLayoutEffect(()=>l.listen(u),[l,u]),w.createElement(yP,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:s})}var TT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=w.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:i,reloadDocument:l,replace:c,state:f,target:u,to:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:v,...E},N){let{basename:S,unstable_useTransitions:T}=w.useContext(Dr),O=typeof m=="string"&&TT.test(m),U=gT(m,S);m=U.to;let M=aP(m,{relative:i}),[L,$,X]=LP(r,E),C=KP(m,{replace:c,state:f,target:u,preventScrollReset:g,relative:i,viewTransition:b,unstable_defaultShouldRevalidate:v,unstable_useTransitions:T});function R(P){e&&e(P),P.defaultPrevented||C(P)}let _=w.createElement("a",{...E,...X,href:U.absoluteURL||M,onClick:U.isExternal||l?e:R,ref:FP(N,$),target:u,"data-discover":!O&&s==="render"?"true":void 0});return L&&!O?w.createElement(w.Fragment,null,_,w.createElement(zP,{page:M})):_});Ye.displayName="Link";var qP=w.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:i=!1,style:l,to:c,viewTransition:f,children:u,...m},g){let b=rm(c,{relative:m.relative}),v=hr(),E=w.useContext(ux),{navigator:N,basename:S}=w.useContext(Dr),T=E!=null&&XP(b)&&f===!0,O=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,U=v.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;s||(U=U.toLowerCase(),M=M?M.toLowerCase():null,O=O.toLowerCase()),M&&S&&(M=Oi(M,S)||M);const L=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let $=U===O||!i&&U.startsWith(O)&&U.charAt(L)==="/",X=M!=null&&(M===O||!i&&M.startsWith(O)&&M.charAt(O.length)==="/"),C={isActive:$,isPending:X,isTransitioning:T},R=$?e:void 0,_;typeof r=="function"?_=r(C):_=[r,$?"active":null,X?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(C):l;return w.createElement(Ye,{...m,"aria-current":R,className:_,ref:g,style:P,to:c,viewTransition:f},typeof u=="function"?u(C):u)});qP.displayName="NavLink";var HP=w.forwardRef(({discover:a="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:i,state:l,method:c=fg,action:f,onSubmit:u,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:v,...E},N)=>{let{unstable_useTransitions:S}=w.useContext(Dr),T=QP(),O=JP(f,{relative:m}),U=c.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&TT.test(f),L=$=>{if(u&&u($),$.defaultPrevented)return;$.preventDefault();let X=$.nativeEvent.submitter,C=(X==null?void 0:X.getAttribute("formmethod"))||c,R=()=>T(X||$.currentTarget,{fetcherKey:e,method:C,navigate:s,replace:i,state:l,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:v});S&&s!==!1?w.startTransition(()=>R()):R()};return w.createElement("form",{ref:N,method:U,action:O,onSubmit:r?u:L,...E,"data-discover":!M&&a==="render"?"true":void 0})});HP.displayName="Form";function GP(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ET(a){let e=w.useContext(Cu);return ws(e,GP(a)),e}function KP(a,{target:e,replace:s,state:r,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:u}={}){let m=ta(),g=hr(),b=rm(a,{relative:l});return w.useCallback(v=>{if(NP(v,e)){v.preventDefault();let E=s!==void 0?s:If(g)===If(b),N=()=>m(a,{replace:E,state:r,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});u?w.startTransition(()=>N()):N()}},[g,m,b,s,r,e,a,i,l,c,f,u])}function fx(a){Zr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(sv(a)),s=w.useRef(!1),r=hr(),i=w.useMemo(()=>_P(r.search,s.current?null:e.current),[r.search]),l=ta(),c=w.useCallback((f,u)=>{const m=sv(typeof f=="function"?f(new URLSearchParams(i)):f);s.current=!0,l("?"+m,u)},[l,i]);return[i,c]}var WP=0,YP=()=>`__${String(++WP)}__`;function QP(){let{router:a}=ET("useSubmit"),{basename:e}=w.useContext(Dr),s=mP(),r=a.fetch,i=a.navigate;return w.useCallback(async(l,c={})=>{let{action:f,method:u,encType:m,formData:g,body:b}=TP(l,e);if(c.navigate===!1){let v=c.fetcherKey||YP();await r(v,s,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||u,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||u,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,i,e,s])}function JP(a,{relative:e}={}){let{basename:s}=w.useContext(Dr),r=w.useContext(Sn);ws(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),l={...rm(a||".",{relative:e})},c=hr();if(a==null){l.search=c.search;let f=new URLSearchParams(l.search),u=f.getAll("index");if(u.some(g=>g==="")){f.delete("index"),u.filter(b=>b).forEach(b=>f.append("index",b));let g=f.toString();l.search=g?`?${g}`:""}}return(!a||a===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(l.pathname=l.pathname==="/"?s:Ii([s,l.pathname])),If(l)}function XP(a,{relative:e}={}){let s=w.useContext(yT);ws(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ET("useViewTransitionState"),i=rm(a,{relative:e});if(!s.isTransitioning)return!1;let l=Oi(s.currentLocation.pathname,r)||s.currentLocation.pathname,c=Oi(s.nextLocation.pathname,r)||s.nextLocation.pathname;return Dg(i.pathname,c)!=null||Dg(i.pathname,l)!=null}/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eD=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),ck=a=>{const e=eD(a);return e.charAt(0).toUpperCase()+e.slice(1)},CT=(...a)=>a.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),tD=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=w.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:c,...f},u)=>w.createElement("svg",{ref:u,...sD,width:e,height:e,stroke:a,strokeWidth:r?Number(s)*24/Number(e):s,className:CT("lucide",i),...!l&&!tD(f)&&{"aria-hidden":"true"},...f},[...c.map(([m,g])=>w.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(a,e)=>{const s=w.forwardRef(({className:r,...i},l)=>w.createElement(aD,{ref:l,iconNode:e,className:CT(`lucide-${ZP(ck(a))}`,`lucide-${a}`,r),...i}));return s.displayName=ck(a),s};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Er=ge("activity",rD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],iD=ge("archive",nD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],lD=ge("arrow-down-left",oD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],dD=ge("arrow-down",cD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ur=ge("arrow-left",uD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Rs=ge("arrow-right",hD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],mD=ge("arrow-up-down",fD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],AT=ge("arrow-up-right",pD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],xD=ge("arrow-up",gD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Rf=ge("award",yD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vD=ge("ban",bD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],jD=ge("banknote",wD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],av=ge("bell",ND);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]],IT=ge("bitcoin",_D);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],SD=ge("bold",kD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ED=ge("briefcase",TD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],pb=ge("building-2",CD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],ID=ge("calculator",AD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ri=ge("calendar",RD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],DD=ge("camera",PD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Wl=ge("chart-column",MD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],LD=ge("chart-no-axes-column-increasing",OD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Jd=ge("chart-no-axes-column",zD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ja=ge("check",VD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dr=ge("chevron-down",UD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],gw=ge("chevron-left",FD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ac=ge("chevron-right",BD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],il=ge("chevron-up",$D);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Na=ge("circle-alert",qD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xt=ge("circle-check-big",HD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Go=ge("circle-check",GD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],dk=ge("circle-pause",KD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uk=ge("circle-play",WD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],QD=ge("circle-question-mark",YD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ic=ge("circle-x",JD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ss=ge("clock",XD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],RT=ge("code",ZD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],tM=ge("coins",eM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],aM=ge("cookie",sM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],oa=ge("copy",rM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],iM=ge("cpu",nM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ta=ge("credit-card",oM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],cM=ge("database",lM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ri=ge("dollar-sign",dM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ei=ge("download",uM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fM=ge("earth",hM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],oc=ge("external-link",mM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Pf=ge("eye-off",pM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ic=ge("eye",gM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],yM=ge("facebook",xM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],PT=ge("file-code",bM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xd=ge("file-text",vM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],hk=ge("flag",wM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Vo=ge("flame",jM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],_M=ge("folder-plus",NM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],SM=ge("folder",kM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Rc=ge("funnel",TM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],nr=ge("gift",EM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ns=ge("globe",CM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],fk=ge("hard-drive",AM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],mk=ge("hash",IM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],DT=ge("history",RM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],DM=ge("hourglass",PM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],lc=ge("info",MM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],LM=ge("instagram",OM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],VM=ge("italic",zM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Zd=ge("key",UM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],MT=ge("landmark",FM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],jn=ge("layers",BM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],OT=ge("layout-dashboard",$M);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],pk=ge("layout-template",qM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],GM=ge("link-2",HM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Df=ge("link",KM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],YM=ge("list",WM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Is=ge("loader-circle",QM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ir=ge("lock",JM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],LT=ge("log-in",XM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],eO=ge("log-out",ZM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Nn=ge("mail",tO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ko=ge("map-pin",sO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],rv=ge("megaphone",aO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],nO=ge("menu",rO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],oO=ge("message-circle",iO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],en=ge("message-square",lO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M5 12h14",key:"1ays0h"}]],gk=ge("minus",cO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],cc=ge("monitor",dO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],hO=ge("moon",uO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],mO=ge("mouse-pointer-2",fO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],Wo=ge("mouse-pointer",pO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],xO=ge("octagon-alert",gO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],bO=ge("panels-top-left",yO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],pf=ge("paperclip",vO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Mg=ge("pause",wO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xw=ge("pen",jO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],zT=ge("pencil",NO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],kO=ge("phone",_O);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],dc=ge("play",SO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ir=ge("plus",TO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],CO=ge("printer",EO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],mx=ge("radio",AO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],VT=ge("receipt",IO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Sr=ge("refresh-cw",RO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],DO=ge("rocket",PO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xk=ge("rotate-ccw",MO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],LO=ge("rss",OO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tn=ge("save",zO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ha=ge("search",VO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],eu=ge("send",UO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],UT=ge("server",FO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pi=ge("settings",BO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],yw=ge("share-2",$O);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nv=ge("shield-check",qO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_a=ge("shield",HO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],bw=ge("shopping-cart",GO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],FT=ge("sliders-vertical",KO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],px=ge("smartphone",WO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gx=ge("sparkles",YO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tc=ge("square-check-big",QO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],XO=ge("square-pen",JO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],tu=ge("square",ZO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],sn=ge("star",e9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],s9=ge("sun",t9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],iv=ge("tag",a9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ti=ge("target",r9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],BT=ge("terminal",n9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],o9=ge("ticket",i9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],c9=ge("toggle-left",l9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],u9=ge("toggle-right",d9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_n=ge("trash-2",h9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ba=ge("trending-up",f9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],as=ge("triangle-alert",m9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],sc=ge("trophy",p9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],x9=ge("twitter",g9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],su=ge("upload",y9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],v9=ge("user-check",b9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],va=ge("user",w9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rr=ge("users",j9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],$T=ge("wallet",N9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],k9=ge("wifi-off",_9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],T9=ge("wifi",S9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],C9=ge("wrench",E9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zs=ge("x",A9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],R9=ge("youtube",I9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Vt=ge("zap",P9),le=typeof window<"u"?window.location.origin:"",D9="",yk=()=>!1,qT=a=>typeof localStorage<"u"?localStorage.getItem(a):null;let Ei=qT("tgp_token");qT("modus_current_user_id");const ve=async(a,e={})=>{const s={"Content-Type":"application/json",...e.headers};Ei&&(s.Authorization=`Bearer ${Ei}`);const r=await fetch(a,{...e,headers:s});return r.status===401&&(Ei=null,localStorage.removeItem("tgp_token"),window.dispatchEvent(new Event("auth-expired"))),r},bk=(a,e=30)=>{const s=[],r=new Map(a.map(i=>[i.date,i]));for(let i=e-1;i>=0;i--){const l=new Date;l.setDate(l.getDate()-i);const c=l.toISOString().split("T")[0],f=r.get(c);s.push(f||{date:c,visitors:0,pageviews:0})}return s},H={init:()=>{console.log("Remote Database Initialized")},getCurrentUser:()=>{try{const a=localStorage.getItem("modus_current_user");return a?JSON.parse(a):void 0}catch(a){console.error("Failed to parse user data from localStorage:",a),localStorage.removeItem("modus_current_user");return}},refreshCurrentUser:async()=>{var a,e;try{const s=await ve(`${le}/users/me`);if(!s.ok){if(s.status===401){H.logout();return}throw new Error("Failed to fetch user")}const r=await s.json(),i={id:r.id,email:r.email,name:r.name||((a=r.email)==null?void 0:a.split("@")[0])||"User",role:r.role,balance:r.balance,balanceEconomy:r.balance_economy,balanceProfessional:r.balance_professional,balanceExpert:r.balance_expert,status:r.status||"active",joinedDate:((e=r.created_at)==null?void 0:e.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:r.projects_count||0,apiKey:r.api_key,isVerified:r.is_verified??!1,phone:r.phone,company:r.company,vatId:r.vat_id,address:r.address,city:r.city,country:r.country,zip:r.zip,website:r.website,displayName:r.display_name,bio:r.bio,jobTitle:r.job_title,publicProfile:r.public_profile,twoFactorEnabled:r.two_factor_enabled,emailFrequency:r.email_frequency,loginNotificationEnabled:r.login_notification_enabled,newsletterSub:r.newsletter_sub,soundEffects:r.sound_effects,developerMode:r.developer_mode,apiWhitelist:r.api_whitelist,webhookSecret:r.webhook_secret,accessibility:r.accessibility,socialLinks:r.social_links,recoveryEmail:r.recovery_email,timezone:r.timezone,language:r.language,themeAccentColor:r.theme_accent_color,dateFormat:r.date_format,numberFormat:r.number_format,requirePasswordReset:r.require_password_reset,avatarUrl:r.avatar_url};return H.setCurrentUser(i),i}catch(s){console.error("Failed to refresh user:",s);return}},setCurrentUser:a=>{a?(localStorage.setItem("modus_current_user",JSON.stringify(a)),localStorage.setItem("modus_current_user_id",a.id),a.id):(localStorage.removeItem("modus_current_user"),localStorage.removeItem("modus_current_user_id"))},logout:()=>{Ei=null,localStorage.removeItem("tgp_token"),localStorage.removeItem("modus_current_user"),localStorage.removeItem("modus_current_user_id"),window.localStorage.clear(),window.location.href="/login"},login:async(a,e)=>{var u,m;const s=new URLSearchParams;s.append("username",a),s.append("password",e);const r=await fetch(`${le}/auth/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s});if(!r.ok)throw new Error("Invalid email or password");const i=await r.json();Ei=i.access_token,localStorage.setItem("tgp_token",i.access_token);const c=await(await ve(`${le}/users/me`)).json(),f={id:c.id,email:c.email,name:((u=c.email)==null?void 0:u.split("@")[0])||c.name||"User",role:c.role,balance:c.balance,balanceEconomy:c.balance_economy,balanceProfessional:c.balance_professional,balanceExpert:c.balance_expert,status:"active",joinedDate:((m=c.created_at)==null?void 0:m.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:c.projects_count||0,apiKey:c.api_key,isVerified:c.is_verified??!1,phone:c.phone,company:c.company,vatId:c.vat_id,address:c.address,city:c.city,country:c.country,zip:c.zip,website:c.website,displayName:c.display_name,bio:c.bio,jobTitle:c.job_title,publicProfile:c.public_profile,twoFactorEnabled:c.two_factor_enabled,emailFrequency:c.email_frequency,loginNotificationEnabled:c.login_notification_enabled,newsletterSub:c.newsletter_sub,soundEffects:c.sound_effects,developerMode:c.developer_mode,apiWhitelist:c.api_whitelist,webhookSecret:c.webhook_secret,accessibility:c.accessibility,socialLinks:c.social_links,loginHistory:c.login_history,recoveryEmail:c.recovery_email,timezone:c.timezone,language:c.language,themeAccentColor:c.theme_accent_color,skillsBadges:c.skills_badges,referralCode:c.referral_code,supportPin:c.support_pin,dateFormat:c.date_format,numberFormat:c.number_format,requirePasswordReset:c.require_password_reset,gamificationXp:c.gamification_xp,gamificationLevel:c.gamification_level,gamificationTotalSpent:c.gamification_total_spent,gamificationPermanentDiscount:c.gamification_permanent_discount,streakDays:c.streak_days,streakBest:c.streak_best};if(H.setCurrentUser(f),yk()){const g=window.location.pathname+window.location.search,b=`${D9}/sso?token=${encodeURIComponent(i.access_token)}&return=${encodeURIComponent(g)}`;window.location.href=b}return f},validateSsoToken:async a=>{var e,s;try{const r=await fetch(`${le}/auth/validate-sso`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a})});if(!r.ok)return{valid:!1};const i=await r.json();if(!i.valid||!i.user)return{valid:!1};const l=i.user;return{valid:!0,user:{id:l.id,email:l.email,name:((e=l.email)==null?void 0:e.split("@")[0])||l.name||"User",role:l.role,balance:l.balance,balanceEconomy:l.balance_economy,balanceProfessional:l.balance_professional,balanceExpert:l.balance_expert,status:"active",joinedDate:((s=l.created_at)==null?void 0:s.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:l.projects_count||0,apiKey:l.api_key,isVerified:l.is_verified??!1,phone:l.phone,company:l.company,vatId:l.vat_id,address:l.address,city:l.city,country:l.country,zip:l.zip,website:l.website,displayName:l.display_name,bio:l.bio,jobTitle:l.job_title,publicProfile:l.public_profile,twoFactorEnabled:l.two_factor_enabled,emailFrequency:l.email_frequency,loginNotificationEnabled:l.login_notification_enabled,newsletterSub:l.newsletter_sub,soundEffects:l.sound_effects,developerMode:l.developer_mode,apiWhitelist:l.api_whitelist,webhookSecret:l.webhook_secret,accessibility:l.accessibility,socialLinks:l.social_links,loginHistory:l.login_history,recoveryEmail:l.recovery_email,timezone:l.timezone,language:l.language,themeAccentColor:l.theme_accent_color,skillsBadges:l.skills_badges,referralCode:l.referral_code,supportPin:l.support_pin,dateFormat:l.date_format,numberFormat:l.number_format,requirePasswordReset:l.require_password_reset,gamificationXp:l.gamification_xp,gamificationLevel:l.gamification_level,gamificationTotalSpent:l.gamification_total_spent,gamificationPermanentDiscount:l.gamification_permanent_discount,streakDays:l.streak_days,streakBest:l.streak_best},token:a}}catch{return{valid:!1}}},register:async(a,e,s)=>{const r=await fetch(`${le}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:e,password:s})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Registration failed")}if(yk())return H.login(e,s);await r.json()},verifyEmail:async a=>{const e=await fetch(`${le}/auth/verify-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:a})});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Email verification failed")}return await e.json()},resendVerificationEmail:async a=>{const e=await fetch(`${le}/auth/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Failed to resend verification email")}return await e.json()},forgotPassword:async a=>{const e=await fetch(`${le}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Failed to send reset email")}return await e.json()},resetPassword:async(a,e)=>{const s=await fetch(`${le}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a,new_password:e})});if(!s.ok){const r=await s.json();throw new Error(r.detail||"Password reset failed")}return await s.json()},getProjects:()=>{const a=localStorage.getItem("modus_projects_cache");return a?JSON.parse(a):[]},getAdminProjects:()=>{const a=localStorage.getItem("modus_admin_projects_cache");return a?JSON.parse(a):[]},syncProjects:async()=>{try{const a=await ve(`${le}/projects`);if(!a.ok)return;const e=await a.json();let s={};try{const i=await ve(`${le}/projects/stats?days=30`);i.ok&&(s=await i.json())}catch(i){console.error("Failed to fetch project stats:",i)}const r=e.map(i=>({id:i.id,userId:i.user_id,name:i.name,plan:i.plan_type||"Custom",tier:i.tier,status:i.status,startAt:i.start_at,expires:i.expires_at||"Never",expiresAt:i.expires_at,createdAt:i.created_at,settings:i.settings,stats:bk(s[i.id]||[],30),totalHits:i.total_hits||0,hitsToday:i.hits_today||0,dailyLimit:i.daily_limit||0,totalTarget:i.total_target||0,customTarget:{totalVisitors:i.total_target||0,dailyLimit:i.daily_limit||0}}));localStorage.setItem("modus_projects_cache",JSON.stringify(r))}catch(a){console.error("Failed to sync projects:",a)}},syncProjectStats:async(a,e=30)=>{try{const s=await ve(`${le}/projects/${a}/stats?days=${e}`);return s.ok?await s.json():[]}catch(s){return console.error("Failed to fetch project stats:",s),[]}},syncProjectStatsHourly:async(a,e=24)=>{try{const s=await ve(`${le}/projects/${a}/stats/hourly?hours=${e}`);return s.ok?await s.json():[]}catch(s){return console.error("Failed to fetch hourly project stats:",s),[]}},syncProjectStatsLive:async a=>{try{const e=await ve(`${le}/projects/${a}/stats/live`);return e.ok?await e.json():[]}catch(e){return console.error("Failed to fetch live project stats:",e),[]}},getCalculatedExpiry:async a=>{try{const e=await ve(`${le}/projects/${a}/expires-calculated`);return e.ok?await e.json():{daysRemaining:null,expiresDate:null,balance:0,totalDailyConsumption:0,message:"Failed to calculate"}}catch(e){return console.error("Failed to fetch calculated expiry:",e),{daysRemaining:null,expiresDate:null,balance:0,totalDailyConsumption:0,message:"Error"}}},getActiveNow:async()=>{try{const a=await ve(`${le}/projects/active-now`);return a.ok?await a.json():{activeNow:0,projects:{}}}catch(a){return console.error("Failed to fetch active now:",a),{activeNow:0,projects:{}}}},syncAdminProjects:async()=>{try{const a=await ve(`${le}/admin/projects`);if(!a.ok)return;const e=await a.json();let s={};try{const i=await ve(`${le}/projects/stats?days=30`);i.ok&&(s=await i.json())}catch(i){console.error("Failed to fetch project stats:",i)}const r=e.map(i=>({id:i.id,userId:i.user_id,name:i.name,plan:i.plan_type||"Custom",tier:i.tier,status:i.status,expires:i.expires_at||"Never",expiresAt:i.expires_at,createdAt:i.created_at,settings:i.settings,stats:bk(s[i.id]||[],30),totalHits:i.total_hits||0,hitsToday:i.hits_today||0,dailyLimit:i.daily_limit||0,totalTarget:i.total_target||0,priority:i.priority||0,forceStopReason:i.force_stop_reason,isHidden:i.is_hidden||!1,internalTags:i.internal_tags||[],notes:i.notes,isFlagged:i.is_flagged||!1,userEmail:i.user_email,userName:i.user_name,userBalance:i.user_balance}));localStorage.setItem("modus_admin_projects_cache",JSON.stringify(r))}catch(a){console.error("Failed to sync admin projects:",a)}},bulkUpdateAdminProjects:async(a,e)=>{try{await Promise.all(a.map(async s=>{(await ve(`${le}/admin/projects/${s}`,{method:"PUT",body:JSON.stringify(e)})).ok||console.error(`Failed to update project ${s}`)})),await H.syncAdminProjects()}catch(s){console.error("Failed to bulk update projects:",s)}},getProjectById:a=>{let s=H.getProjects().find(r=>r.id===a);return s||(s=H.getAdminProjects().find(i=>i.id===a)),s},addProject:async a=>{var i,l;const e={name:a.name,plan_type:a.plan,tier:a.tier,settings:a.settings,daily_limit:((i=a.customTarget)==null?void 0:i.dailyLimit)||0,total_target:((l=a.customTarget)==null?void 0:l.totalVisitors)||0,start_at:a.startAt||null},s=await ve(`${le}/projects`,{method:"POST",body:JSON.stringify(e)});if(!s.ok){const c=await s.json().catch(()=>({}));throw new Error(c.detail||"Failed to create project")}const r=await s.json();return await H.syncProjects(),r},addProjectAdmin:async(a,e,s=!1)=>{var c,f;const r={name:a.name,plan_type:a.plan,tier:a.tier,settings:a.settings,daily_limit:((c=a.customTarget)==null?void 0:c.dailyLimit)||0,total_target:((f=a.customTarget)==null?void 0:f.totalVisitors)||0,start_at:a.startAt||null,user_email:e,deduct_credits:s},i=await ve(`${le}/admin/projects`,{method:"POST",body:JSON.stringify(r)});if(!i.ok){const u=await i.json().catch(()=>({}));throw new Error(u.detail||"Failed to create project as admin")}const l=await i.json();return await H.syncProjects(),l},updateProject:async a=>{var i,l,c;const e=((i=a.settings)==null?void 0:i.scheduleTrafficAmount)||((l=a.customTarget)==null?void 0:l.dailyLimit)||0,s={name:a.name,settings:a.settings,daily_limit:e,total_target:((c=a.customTarget)==null?void 0:c.totalVisitors)||0,status:a.status,tier:a.tier};if(!(await ve(`${le}/projects/${a.id}`,{method:"PUT",body:JSON.stringify(s)})).ok)throw new Error("Failed to update project");return await H.syncProjects(),H.getProjects()},updateProjectStatus:async(a,e)=>(await ve(`${le}/projects/${a}/${e==="active"?"start":"stop"}`,{method:"POST"}),await H.syncProjects(),H.getProjects()),deleteProject:async a=>(await ve(`${le}/projects/${a}`,{method:"DELETE"}),await H.syncProjects(),H.getProjects()),cloneProject:async a=>{if(!(await ve(`${le}/projects/${a}/clone`,{method:"POST"})).ok)throw new Error("Failed to clone project");return await H.syncProjects(),H.getProjects()},updateProjectAdmin:async a=>{var r,i,l,c;const e={name:a.name,settings:a.settings,daily_limit:a.daily_limit||((r=a.customTarget)==null?void 0:r.dailyLimit)||0,total_target:a.total_target||((i=a.customTarget)==null?void 0:i.totalVisitors)||0,status:a.status,tier:a.tier,plan_type:a.plan,expires:a.expires,priority:((l=a.settings)==null?void 0:l.adminPriority)||0,force_stop_reason:((c=a.settings)==null?void 0:c.forceStopReason)||""};if(!(await ve(`${le}/admin/projects/${a.id}`,{method:"PUT",body:JSON.stringify(e)})).ok)throw new Error("Failed to update project as admin");return await H.syncProjects(),H.getProjects()},updateProjectStatusAdmin:async(a,e)=>{if(!(await ve(`${le}/admin/projects/${a}`,{method:"PUT",body:JSON.stringify({status:e})})).ok)throw new Error("Failed to update project status");return await H.syncProjects(),H.getProjects()},bulkUpdateProjectStatus:async(a,e)=>(await Promise.all(a.map(s=>ve(`${le}/projects/${s}/${e==="active"?"start":"stop"}`,{method:"POST"}))),await H.syncProjects(),H.getProjects()),bulkDeleteProjects:async a=>(await Promise.all(a.map(e=>ve(`${le}/projects/${e}`,{method:"DELETE"}))),await H.syncProjects(),H.getProjects()),getMaxTierBalance:()=>{const a=H.getCurrentUser(),e=[(a==null?void 0:a.balanceEconomy)??0,(a==null?void 0:a.balanceProfessional)??0,(a==null?void 0:a.balanceExpert)??0];return Math.max(...e)},getBalance:()=>H.getMaxTierBalance(),syncAll:async()=>{await Promise.all([H.syncProjects(),H.syncTransactions(),H.syncSettings(),H.syncUsers(),H.syncAllTransactions(),H.syncTickets(),H.syncTickets(),H.syncNotifications(),H.syncAlerts()])},getUsers:()=>{const a=localStorage.getItem("modus_users_cache");return a?JSON.parse(a):[]},getAdmins:()=>H.getUsers().filter(e=>e.role==="admin"),syncUsers:async()=>{const a=await ve(`${le}/admin/users`);if(!a.ok)return[];const s=(await a.json()).map(r=>{var i;return{id:r.id,email:r.email,name:r.name||r.email.split("@")[0],role:r.role,balance:r.balance,balanceEconomy:r.balance_economy,balanceProfessional:r.balance_professional,balanceExpert:r.balance_expert,status:r.status||"active",joinedDate:((i=r.created_at)==null?void 0:i.split("T")[0])||r.joinedDate||new Date().toISOString().split("T")[0],projectsCount:r.projects_count||0,plan:r.plan||"free",shadowBanned:r.shadow_banned||!1,isVerified:r.is_verified||!1,notes:r.notes||"",tags:r.tags||[],banReason:r.ban_reason||"",lastIp:r.last_ip||"",lastActive:r.last_active||"",spamScore:r.spam_score||0,ipSharedWithCount:r.ip_shared_with_count||0,affiliateEarnings:r.affiliate_earnings||0}});return localStorage.setItem("modus_users_cache",JSON.stringify(s)),s},getUserStats:async()=>{try{const a=await ve(`${le}/admin/users/stats`);if(!a.ok)return null;const e=await a.json();return{totalUsers:e.total_users,activeUsers24h:e.active_users_24h,activeUsers7d:e.active_users_7d,newUsersToday:e.new_users_today,newUsers7d:e.new_users_7d,newUsers30d:e.new_users_30d,highRiskUsers:e.high_risk_users,fraudAlertsCount:e.fraud_alerts_count}}catch(a){return console.error("Failed to fetch user stats:",a),null}},getFraudAlerts:async()=>{try{const a=await ve(`${le}/admin/fraud-alerts`);return a.ok?(await a.json()).map(s=>({id:s.id,type:s.type,ip:s.ip,userIds:s.user_ids,userEmails:s.user_emails,affiliateEarnings:s.affiliate_earnings,hasAffiliateRelation:s.has_affiliate_relation,detectedAt:s.detected_at,riskLevel:s.risk_level})):[]}catch(a){return console.error("Failed to fetch fraud alerts:",a),[]}},updateUser:async a=>{const e=H.getUsers(),s=e.findIndex(r=>r.id===a.id);return s>=0&&(e[s]=a,localStorage.setItem("modus_users_cache",JSON.stringify(e))),a},getTransactions:()=>{const a=localStorage.getItem("modus_transactions_cache");return a?JSON.parse(a):[]},syncTransactions:async()=>{const a=await ve(`${le}/transactions`);if(!a.ok)return[];const s=(await a.json()).map(r=>{var i;return{id:r.id,date:((i=r.created_at)==null?void 0:i.split("T")[0])||r.date||new Date().toISOString().split("T")[0],desc:r.description||r.desc,amount:r.amount,status:r.status||"completed",type:r.type,userId:r.user_id||r.userId,tier:r.tier,hits:r.hits,reference:r.reference}});return localStorage.setItem("modus_transactions_cache",JSON.stringify(s)),s},getAllTransactionsAdmin:()=>{const a=localStorage.getItem("modus_admin_transactions_cache");return a?JSON.parse(a):[]},syncAllTransactions:async()=>{const a=await ve(`${le}/admin/transactions`);if(!a.ok)return[];const s=(await a.json()).map(r=>{var i;return{id:r.id,date:((i=r.created_at)==null?void 0:i.split("T")[0])||r.date||new Date().toISOString().split("T")[0],desc:r.description||r.desc,amount:r.amount,status:r.status||"completed",type:r.type,userId:r.user_id||r.userId,tier:r.tier,hits:r.hits,reference:r.reference}});return localStorage.setItem("modus_admin_transactions_cache",JSON.stringify(s)),s},createPaymentIntent:async(a,e="eur")=>{const s=localStorage.getItem("tgp_token");if(!s)throw new Error("Not authenticated");const r=await fetch(`${le}/create-payment-intent`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({amount:a,currency:e})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to create payment intent")}return await r.json()},createCheckoutSession:async a=>{const e=localStorage.getItem("tgp_token");if(!e)throw new Error("Not authenticated");const s=window.location.origin,r=await fetch(`${le}/subscriptions/create-checkout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({price_id:a,success_url:`${s}/dashboard/payment-success?type=subscription&session_id={CHECKOUT_SESSION_ID}`,cancel_url:`${s}/pricing?subscription=cancelled`})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to create checkout session")}return await r.json()},createCreditsCheckout:async a=>{const e=localStorage.getItem("tgp_token");if(!e)throw new Error("Not authenticated");const s=window.location.origin,r=await fetch(`${le}/stripe/create-checkout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({tier:a.tier,visitors:a.visitors,bulk_months:a.bulk_months,currency:a.currency||"eur",success_url:`${s}/dashboard/payment-success?type=credits&session_id={CHECKOUT_SESSION_ID}`,cancel_url:`${s}/dashboard/buy-credits?payment=cancelled`})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to create checkout session")}return await r.json()},createPortalSession:async()=>{const a=localStorage.getItem("tgp_token");if(!a)throw new Error("Not authenticated");const e=window.location.origin,s=await fetch(`${le}/subscriptions/portal`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({return_url:`${e}/dashboard`})});if(!s.ok){const r=await s.json();throw new Error(r.detail||"Failed to create portal session")}return await s.json()},getCurrentSubscription:async()=>{const a=localStorage.getItem("tgp_token");if(!a)throw new Error("Not authenticated");const e=await fetch(`${le}/subscriptions/current`,{headers:{Authorization:`Bearer ${a}`}});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Failed to get subscription")}return await e.json()},purchaseCredits:async(a,e,s,r)=>{const i=H.getCurrentUser();if(!i)return 0;await ve(`${le}/webhooks/deposit`,{method:"POST",body:JSON.stringify({user_email:i.email,amount:a,description:e,tier:s,hits:r})});const c=await(await ve(`${le}/users/me`)).json();return H.setCurrentUser({...i,balance:c.balance,balanceEconomy:c.balance_economy,balanceProfessional:c.balance_professional,balanceExpert:c.balance_expert}),await H.syncTransactions(),c.balance},getTickets:a=>{const e=localStorage.getItem("modus_tickets_cache");let s=e?JSON.parse(e):[];if(a&&(a.status&&(s=s.filter(r=>r.status===a.status)),a.category&&(s=s.filter(r=>r.category===a.category)),a.search)){const r=a.search.toLowerCase();s=s.filter(i=>{var l,c;return i.subject.toLowerCase().includes(r)||((l=i.lastMessage)==null?void 0:l.toLowerCase().includes(r))||((c=i.messages)==null?void 0:c.some(f=>f.text.toLowerCase().includes(r)))})}return s},syncTickets:async a=>{let e=`${le}/tickets`;const s=new URLSearchParams;a!=null&&a.status&&s.append("status",a.status),a!=null&&a.category&&s.append("category",a.category),a!=null&&a.search&&s.append("search",a.search),s.toString()&&(e+=`?${s.toString()}`);const r=await ve(e);if(!r.ok)return;const l=(await r.json()).map(c=>{var f,u,m;return{id:c.id,type:c.type||"ticket",userId:c.user_id,userName:c.user_name||((f=c.user_email)==null?void 0:f.split("@")[0])||"User",userEmail:c.user_email,subject:c.subject,status:c.status||"open",priority:c.priority||"low",category:c.category||"general",assigneeId:c.assignee_id,assigneeName:c.assignee_name,tags:c.tags||[],projectId:c.project_id,projectName:c.project_name,attachmentUrls:c.attachment_urls||[],date:((u=c.created_at)==null?void 0:u.split("T")[0])||new Date().toLocaleDateString(),lastMessage:((m=c.messages)==null?void 0:m.length)>0?c.messages[c.messages.length-1].text:"Ticket created",messages:c.messages||[],unread:!1,updatedAt:c.updated_at,slaDueAt:c.sla_due_at}});localStorage.setItem("modus_tickets_cache",JSON.stringify(l))},createTicket:async a=>{const e={subject:a.subject,priority:a.priority||"low",type:a.type||"ticket",category:a.category||"general",project_id:a.projectId,attachment_urls:a.attachmentUrls||[],messages:a.messages||[]};return await ve(`${le}/tickets`,{method:"POST",body:JSON.stringify(e)}),await H.syncTickets(),H.getTickets()},closeTicket:async a=>{if(!(await ve(`${le}/tickets/${a}/close`,{method:"POST"})).ok)throw new Error("Failed to close ticket");await H.syncTickets()},uploadTicketAttachment:async a=>{const e=new FormData;e.append("file",a);const s=localStorage.getItem("tgp_token"),r=await fetch(`${le}/tickets/upload`,{method:"POST",headers:s?{Authorization:`Bearer ${s}`}:{},body:e});if(!r.ok)throw new Error("Failed to upload file");return await r.json()},getNotifications:()=>{const a=localStorage.getItem("modus_notifications_cache");return a?JSON.parse(a):[]},syncNotifications:async()=>{const a=await ve(`${le}/notifications`);if(!a.ok)return;const s=(await a.json()).map(r=>{var i;return{id:r.id,userId:r.user_id,title:r.title,message:r.message,date:((i=r.created_at)==null?void 0:i.split("T")[0])||new Date().toLocaleDateString(),read:r.is_read,type:r.type||"info"}});localStorage.setItem("modus_notifications_cache",JSON.stringify(s))},getAdminNotifications:()=>H.getNotifications(),markNotificationRead:async a=>{await ve(`${le}/notifications/${a}/read`,{method:"PUT"}),await H.syncNotifications()},markAllNotificationsRead:async()=>{await ve(`${le}/notifications/mark-all-read`,{method:"PUT"}),await H.syncNotifications()},getSystemSettings:()=>{const a=localStorage.getItem("modus_settings_cache");return a?JSON.parse(a):{siteName:"Traffic Creator",maintenanceMode:!1,allowRegistrations:!0,supportEmail:"support@traffic-creator.com",minDeposit:10}},syncSettings:async()=>{const a=await fetch(`${le}/settings`);if(!a.ok)return;const e=await a.json();localStorage.setItem("modus_settings_cache",JSON.stringify(e.settings))},saveSystemSettings:async a=>{await ve(`${le}/settings`,{method:"PUT",body:JSON.stringify({settings:a})}),localStorage.setItem("modus_settings_cache",JSON.stringify(a))},trackPresence:(a,e)=>{const s=localStorage.getItem("modus_session_token");ve(`${le}/users/presence`,{method:"POST",body:JSON.stringify({session_token:s,current_page:a,user_agent:navigator.userAgent,device:/Mobi|Android/i.test(navigator.userAgent)?"mobile":"desktop"})}).then(r=>r.json()).then(r=>{r.session_token&&localStorage.setItem("modus_session_token",r.session_token)}).catch(()=>{})},getTicketById:a=>H.getTickets().find(s=>s.id===a),replyToTicket:async(a,e,s,r,i)=>{const l={text:e,sender:s,attachments:r||[],is_internal_note:i||!1},c=await ve(`${le}/tickets/${a}/reply`,{method:"POST",body:JSON.stringify(l)});if(!c.ok)throw console.error("Failed to reply to ticket"),new Error("Failed to send reply");return await H.syncTickets(),await c.json()},markTicketRead:async a=>{const e=H.getTickets(),s=e.find(r=>r.id===a);s&&(s.unread=!1,localStorage.setItem("modus_tickets_cache",JSON.stringify(e)))},updateTicketStatus:async(a,e)=>{if(!(await ve(`${le}/tickets/${a}`,{method:"PUT",body:JSON.stringify({status:e})})).ok)throw new Error("Failed to update ticket status");await H.syncTickets()},updateTicketPriority:async(a,e)=>{if(!(await ve(`${le}/tickets/${a}`,{method:"PUT",body:JSON.stringify({priority:e})})).ok)throw new Error("Failed to update ticket priority");await H.syncTickets()},deleteTicket:async a=>{if(!(await ve(`${le}/tickets/${a}`,{method:"DELETE"})).ok)throw new Error("Failed to delete ticket");await H.syncTickets()},bulkUpdateTickets:async(a,e)=>{if(!(await ve(`${le}/tickets/bulk-action`,{method:"PUT",body:JSON.stringify({ticket_ids:a,action:e})})).ok)throw new Error("Failed to perform bulk action");await H.syncTickets()},assignTicket:async(a,e)=>{if(!(await ve(`${le}/tickets/${a}/assign?assignee_id=${e||""}`,{method:"PUT"})).ok)throw new Error("Failed to assign ticket");await H.syncTickets()},updateTicketTags:async(a,e)=>{if(!(await ve(`${le}/tickets/${a}`,{method:"PUT",body:JSON.stringify({tags:e})})).ok)throw new Error("Failed to update ticket tags");await H.syncTickets()},getTicketTemplates:async()=>{const a=await ve(`${le}/ticket-templates`);return a.ok?await a.json():[]},createTicketTemplate:async a=>{const e=await ve(`${le}/ticket-templates`,{method:"POST",body:JSON.stringify({...a,is_active:!0})});if(!e.ok)throw new Error("Failed to create template");return await e.json()},deleteTicketTemplate:async a=>{if(!(await ve(`${le}/ticket-templates/${a}`,{method:"DELETE"})).ok)throw new Error("Failed to delete template")},getUserStatsById:async a=>{const e=await ve(`${le}/users/${a}/stats`);if(!e.ok)throw new Error("Failed to get user stats");return await e.json()},savePricing:async a=>{const e=H.getSystemSettings();e.pricingPlans=a,await H.saveSystemSettings(e)},updateUserProfile:async a=>{var l,c;console.log("Updating profile on backend:",a);const e={name:a.name,email:a.email,phone:a.phone,company:a.company,vat_id:a.vatId,address:a.address,city:a.city,country:a.country,zip:a.zip,website:a.website,display_name:a.displayName,bio:a.bio,job_title:a.jobTitle,public_profile:a.publicProfile,two_factor_enabled:a.twoFactorEnabled,email_frequency:a.emailFrequency,login_notification_enabled:a.loginNotificationEnabled,newsletter_sub:a.newsletterSub,sound_effects:a.soundEffects,developer_mode:a.developerMode,api_whitelist:a.apiWhitelist,webhook_secret:a.webhookSecret,accessibility:a.accessibility,social_links:a.socialLinks,recovery_email:a.recoveryEmail,timezone:a.timezone,language:a.language,theme_accent_color:a.themeAccentColor,date_format:a.dateFormat,number_format:a.numberFormat,require_password_reset:a.requirePasswordReset},s=await ve(`${le}/users/me`,{method:"PUT",body:JSON.stringify(e)});if(!s.ok){const f=await s.json();throw new Error(f.detail||"Failed to update profile")}const r=await s.json(),i={id:r.id,email:r.email,name:r.name||((l=r.email)==null?void 0:l.split("@")[0])||"User",role:r.role,balance:r.balance,balanceEconomy:r.balance_economy,balanceProfessional:r.balance_professional,balanceExpert:r.balance_expert,status:r.status||"active",joinedDate:((c=r.created_at)==null?void 0:c.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:r.projects_count||0,apiKey:r.api_key,isVerified:r.is_verified??!1,phone:r.phone,company:r.company,vatId:r.vat_id,address:r.address,city:r.city,country:r.country,zip:r.zip,website:r.website,displayName:r.display_name,bio:r.bio,jobTitle:r.job_title,publicProfile:r.public_profile,twoFactorEnabled:r.two_factor_enabled,emailFrequency:r.email_frequency,loginNotificationEnabled:r.login_notification_enabled,newsletterSub:r.newsletter_sub,soundEffects:r.sound_effects,developerMode:r.developer_mode,apiWhitelist:r.api_whitelist,webhookSecret:r.webhook_secret,accessibility:r.accessibility,socialLinks:r.social_links,recoveryEmail:r.recovery_email,timezone:r.timezone,language:r.language,themeAccentColor:r.theme_accent_color,dateFormat:r.date_format,numberFormat:r.number_format,requirePasswordReset:r.require_password_reset,avatarUrl:r.avatar_url};return H.setCurrentUser(i),i},regenerateApiKey:async()=>{const a=await ve(`${le}/auth/api-key`,{method:"POST"});if(!a.ok)throw new Error("Failed to regenerate key");const e=await a.json(),s=H.getCurrentUser();return s&&(s.apiKey=e.api_key,H.setCurrentUser(s)),e.api_key},changePassword:async(a,e,s)=>{const r=await ve(`${le}/auth/password`,{method:"PUT",body:JSON.stringify({current_password:a,new_password:e,confirm_password:s})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Password update failed")}return await r.json()},logoutAllSessions:async()=>{const a=await ve(`${le}/auth/logout-all`,{method:"POST"});if(!a.ok)throw new Error("Failed to logout all sessions");return await a.json()},exportUserData:async()=>{const a=await ve(`${le}/users/me/export`);if(!a.ok)throw new Error("Export failed");return await a.json()},uploadAvatar:async a=>{const e=localStorage.getItem("tgp_token"),s={};e&&(s.Authorization=`Bearer ${e}`);const r=new FormData;r.append("file",a);const i=await fetch(`${le}/users/me/avatar`,{method:"POST",headers:s,body:r});if(!i.ok)throw new Error("Avatar upload failed");const l=await i.json(),c=H.getCurrentUser();return c&&(c.avatarUrl=l.avatar_url,H.setCurrentUser(c)),l.avatar_url},deleteAccount:async()=>{if(!(await ve(`${le}/users/me`,{method:"DELETE"})).ok)throw new Error("Account deletion failed");H.logout()},getPricing:()=>{const a=H.getSystemSettings();return a.pricingPlans&&a.pricingPlans.length>0?a.pricingPlans:[{id:"foundation",name:"Foundation",hourlyRate:.58,baseFee:29,examFee:0},{id:"momentum",name:"Momentum",hourlyRate:.43,baseFee:129,examFee:0},{id:"breakthrough",name:"Breakthrough",hourlyRate:.4,baseFee:399,examFee:0},{id:"apex",name:"Apex",hourlyRate:.33,baseFee:999,examFee:0}]},getAlerts:()=>{const a=localStorage.getItem("modus_alerts_cache");return a?JSON.parse(a):[]},syncAlerts:async()=>{try{const a=await ve(`${le}/admin/broadcasts`);if(!a.ok)return;const s=(await a.json()).map(r=>({id:r.id,message:r.message,type:r.type,active:r.is_active,date:r.created_at,targetType:"all",title:r.title}));localStorage.setItem("modus_alerts_cache",JSON.stringify(s))}catch(a){console.error("Failed to sync alerts:",a)}},checkBroadcastTarget:(a,e)=>{if(!a.active)return!1;if(!e)return a.targetType==="all";switch(a.targetType){case"all":return!0;case"paying":return e.projectsCount>0;case"active_7d":const s=new Date(e.joinedDate).getTime(),r=10080*60*1e3;return Date.now()-s>r;case"specific":return a.targetUserIds?a.targetUserIds.includes(e.id):!1;default:return!1}},getRealTimeVisitors:async()=>{try{const a=await ve(`${le}/admin/active-users`);return a.ok?(await a.json()).map(s=>{var r,i,l;return{id:s.id,userId:(r=s.user)==null?void 0:r.id,name:((i=s.user)==null?void 0:i.name)||"Guest",email:((l=s.user)==null?void 0:l.email)||"",role:s.role,currentPage:s.currentPage,durationMinutes:s.durationMinutes,device:s.device,browser:s.browser,ip:s.ip,location:s.location,totalVisits:s.totalVisits,status:s.status,lastActive:s.lastActive}}):[]}catch(a){return console.error("Failed to fetch real-time visitors:",a),[]}},scanGA4:async a=>{const e=await ve(`${le}/tools/scan-ga4?url=${encodeURIComponent(a)}`);if(!e.ok){const r=await e.json().catch(()=>({}));throw new Error(r.detail||"GA4 ID not found")}return(await e.json()).tid},spendCredits:(a,e)=>{const s=H.getCurrentUser();return!s||s.balance<a?!1:(s.balance-=a,H.setCurrentUser(s),H.purchaseCredits(-a,e).catch(console.error),!0)},getActiveBroadcasts:async()=>{try{const a=await fetch(`${le}/broadcasts/active`);return a.ok?(await a.json()).map(s=>({id:s.id,title:s.title,message:s.message,type:s.type,isActive:s.is_active,createdAt:s.created_at,expiresAt:s.expires_at,actionUrl:s.action_url,actionText:s.action_text})):[]}catch(a){return console.error("Failed to fetch active broadcasts",a),[]}},getAdminBroadcasts:async()=>{try{const a=await ve(`${le}/admin/broadcasts`);return a.ok?(await a.json()).map(s=>({id:s.id,title:s.title,message:s.message,type:s.type,isActive:s.is_active,createdAt:s.created_at,expiresAt:s.expires_at,actionUrl:s.action_url,actionText:s.action_text})):[]}catch(a){return console.error("Failed to fetch admin broadcasts",a),[]}},createBroadcast:async a=>{const e={title:a.title,message:a.message,type:a.type,is_active:a.isActive,expires_at:a.expiresAt?new Date(a.expiresAt).toISOString():null,action_url:a.actionUrl,action_text:a.actionText};await ve(`${le}/admin/broadcasts`,{method:"POST",body:JSON.stringify(e)})},updateBroadcast:async(a,e)=>{const s={title:e.title,message:e.message,type:e.type,is_active:e.isActive,expires_at:e.expiresAt?new Date(e.expiresAt).toISOString():null,action_url:e.actionUrl,action_text:e.actionText};await ve(`${le}/admin/broadcasts/${a}`,{method:"PUT",body:JSON.stringify(s)})},deleteBroadcast:async a=>{await ve(`${le}/admin/broadcasts/${a}`,{method:"DELETE"})},getAdminStats:async()=>{try{const a=await ve(`${le}/admin/stats`);return a.ok?await a.json():null}catch(a){return console.error("Failed to fetch admin stats",a),null}},getCoupons:async()=>{try{const a=await ve(`${le}/admin/coupons`);if(!a.ok)throw new Error("Failed to fetch");return(await a.json()).map(s=>({id:s.id,code:s.code,discountType:s.discount_type,discountValue:s.discount_value,minPurchase:s.min_purchase,maxUses:s.max_uses,usedCount:s.used_count,maxUsesPerUser:s.max_uses_per_user,planRestriction:s.plan_restriction,duration:s.duration,expiryDate:s.expires_at?s.expires_at.split("T")[0]:null,active:s.is_active}))}catch{return[]}},saveCoupon:async a=>{const e={code:a.code,discount_type:a.discountType==="percent"?"percentage":"fixed",discount_value:a.discountValue,min_purchase:a.minPurchase||0,max_uses:a.maxUses,max_uses_per_user:a.maxUsesPerUser||1,plan_restriction:a.planRestriction,duration:a.duration||"once",expires_at:a.expiryDate||null};a.id?await ve(`${le}/admin/coupons/${a.id}`,{method:"PUT",body:JSON.stringify(e)}):await ve(`${le}/admin/coupons`,{method:"POST",body:JSON.stringify(e)})},deleteCoupon:async a=>{await ve(`${le}/admin/coupons/${a}`,{method:"DELETE"})},getMarketingStats:async()=>{try{const a=await ve(`${le}/admin/marketing`);if(!a.ok)throw new Error("Failed to fetch");return(await a.json()).map(s=>({id:s.id,name:s.name,type:s.campaign_type,status:s.status,clicks:s.clicks,conversions:s.conversions,revenue:s.revenue,spend:s.spend,dateCreated:s.created_at?s.created_at.split("T")[0]:new Date().toISOString().split("T")[0]}))}catch{return[]}},createMarketingCampaign:async a=>{await ve(`${le}/admin/marketing`,{method:"POST",body:JSON.stringify({name:a.name,campaign_type:a.type||"ad_tracking",start_date:a.dateCreated||null,end_date:null})})},sendEmailBlast:async(a,e,s="all")=>{await ve(`${le}/admin/email-blast`,{method:"POST",body:JSON.stringify({subject:a,body:e,target_audience:s})})},getConversionSettings:async()=>{try{const a=await ve(`${le}/conversion-settings`);if(!a.ok)throw new Error("Failed to fetch");const e=await a.json();return{socialProof:{enabled:e.socialProofEnabled,position:e.socialProofPosition,delay:e.socialProofDelay,showRealData:e.socialProofShowSimulated,customMessages:[]},exitIntent:{enabled:e.exitIntentEnabled,headline:e.exitIntentHeadline,subtext:e.exitIntentSubtext,couponCode:e.exitIntentCouponCode,showOncePerSession:!0},promoBar:{enabled:e.promoBarEnabled,message:e.promoBarMessage,buttonText:e.promoBarButtonText,buttonLink:e.promoBarButtonUrl,backgroundColor:e.promoBarBackgroundColor,textColor:e.promoBarTextColor}}}catch{return{socialProof:{enabled:!1,position:"bottom-left",delay:5,showRealData:!1,customMessages:[]},exitIntent:{enabled:!1,headline:"Wait! Don't miss out.",subtext:"Get 20% off with code: STAY20",couponCode:"STAY20",showOncePerSession:!0},promoBar:{enabled:!1,message:"Limited Time Offer!",buttonText:"Claim Offer",buttonLink:"/pricing",backgroundColor:"#ff4d00",textColor:"#ffffff"}}}},saveConversionSettings:async a=>{await ve(`${le}/conversion-settings`,{method:"PUT",body:JSON.stringify({social_proof_enabled:a.socialProof.enabled,social_proof_position:a.socialProof.position,social_proof_delay:a.socialProof.delay,social_proof_show_simulated:a.socialProof.showRealData,exit_intent_enabled:a.exitIntent.enabled,exit_intent_headline:a.exitIntent.headline,exit_intent_subtext:a.exitIntent.subtext,exit_intent_coupon_code:a.exitIntent.couponCode,promo_bar_enabled:a.promoBar.enabled,promo_bar_message:a.promoBar.message,promo_bar_button_text:a.promoBar.buttonText,promo_bar_button_url:a.promoBar.buttonLink,promo_bar_background_color:a.promoBar.backgroundColor,promo_bar_text_color:a.promoBar.textColor})})},getLoyaltySettings:async()=>{try{const a=await ve(`${le}/loyalty-settings`);if(!a.ok)throw new Error("Failed to fetch");const e=await a.json();return{enabled:e.enabled,pointsPerDollar:e.pointsPerDollar,redemptionRate:e.redemptionRate,bonusSignupPoints:e.bonusSignupPoints}}catch{return{enabled:!1,pointsPerDollar:1,redemptionRate:100,bonusSignupPoints:50}}},saveLoyaltySettings:async a=>{await ve(`${le}/loyalty-settings`,{method:"PUT",body:JSON.stringify(a)})},getReferralSettings:async()=>{try{const a=await ve(`${le}/referral-settings`);if(!a.ok)throw new Error("Failed to fetch");const e=await a.json();return{enabled:e.enabled,referrerReward:e.referrerRewardValue,refereeReward:e.refereeRewardValue,rewardType:e.referrerRewardType}}catch{return{enabled:!1,referrerReward:25,refereeReward:25,rewardType:"credit"}}},saveReferralSettings:async a=>{await ve(`${le}/referral-settings`,{method:"PUT",body:JSON.stringify({enabled:a.enabled,referrer_reward_type:a.rewardType,referrer_reward_value:a.referrerReward,referee_reward_type:a.rewardType,referee_reward_value:a.refereeReward})})},getBankTransfers:async(a="all")=>{const e=await ve(`${le}/admin/bank-transfers?status_filter=${a}`);return e.ok?await e.json():[]},getMyBankTransfers:async()=>{const a=await ve(`${le}/bank-transfer/my-proofs`);return a.ok?await a.json():[]},getFAQs:async()=>{try{const a=await fetch(`${le}/faqs`);return a.ok?await a.json():[]}catch{return[]}},approveBankTransfer:async(a,e,s)=>{const r=await ve(`${le}/admin/bank-transfers/${a}/approve`,{method:"PUT",body:JSON.stringify({approved:e,admin_notes:s})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to process transfer")}return await r.json()},updateTransaction:async a=>{var r;const e=await ve(`${le}/admin/transactions/${a.id}`,{method:"PUT",body:JSON.stringify({description:a.desc,amount:a.amount,type:a.type,status:a.status,tier:a.tier,reference:a.reference})});if(!e.ok){const i=await e.json();throw new Error(i.detail||"Failed to update transaction")}const s=await e.json();return await H.syncAllTransactions(),{id:s.id,date:((r=s.created_at)==null?void 0:r.split("T")[0])||a.date,desc:s.description||a.desc,amount:s.amount,status:s.status,type:s.type,userId:s.user_id,tier:s.tier,reference:s.reference}},getUserDetails:async a=>{var r;const e=await ve(`${le}/admin/users/${a}/details`);if(!e.ok)throw new Error("Failed to fetch user details");const s=await e.json();return{user:{id:s.user.id,email:s.user.email,role:s.user.role,balance:s.user.balance,balanceEconomy:s.user.balance_economy,balanceProfessional:s.user.balance_professional,balanceExpert:s.user.balance_expert,status:s.user.status,plan:s.user.plan,isVerified:s.user.is_verified,shadowBanned:s.user.shadow_banned,notes:s.user.notes,tags:s.user.tags||[],banReason:s.user.ban_reason,lastIp:s.user.last_ip,joinedDate:(r=s.user.created_at)==null?void 0:r.split("T")[0]},tierBalances:s.tier_balances,totalSpent:s.total_spent,totalHitsPurchased:s.total_hits_purchased,totalHitsUsed:s.total_hits_used,transactionsCount:s.transactions_count,projectsCount:s.projects_count,ticketsCount:s.tickets_count,referralsCount:s.referrals_count,referralEarnings:s.referral_earnings,notificationPrefs:s.notification_prefs}},getUserActivity:async(a,e=50,s=0,r)=>{let i=`${le}/admin/users/${a}/activity?limit=${e}&offset=${s}`;r&&(i+=`&action_type=${r}`);const l=await ve(i);if(!l.ok)throw new Error("Failed to fetch activity");return(await l.json()).map(f=>({id:f.id,userId:f.user_id,actionType:f.action_type,actionDetail:f.action_detail,ipAddress:f.ip_address,userAgent:f.user_agent,createdAt:f.created_at}))},getUserSessions:async a=>{const e=await ve(`${le}/admin/users/${a}/sessions`);if(!e.ok)throw new Error("Failed to fetch sessions");return(await e.json()).map(r=>({id:r.id,userId:r.user_id,ipAddress:r.ip_address,userAgent:r.user_agent,deviceInfo:r.device_info,location:r.location,createdAt:r.created_at,lastActivity:r.last_activity,expiresAt:r.expires_at,isActive:r.is_active}))},terminateUserSession:async(a,e)=>{if(!(await ve(`${le}/admin/users/${a}/sessions/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to terminate session")},getImpersonationLog:async a=>{const e=await ve(`${le}/admin/users/${a}/impersonation-log`);if(!e.ok)throw new Error("Failed to fetch impersonation log");return(await e.json()).map(r=>({id:r.id,adminId:r.admin_id,targetUserId:r.target_user_id,action:r.action,ipAddress:r.ip_address,createdAt:r.created_at,adminEmail:r.admin_email}))},getBalanceAdjustments:async a=>{const e=await ve(`${le}/admin/users/${a}/balance-adjustments`);if(!e.ok)throw new Error("Failed to fetch balance adjustments");return(await e.json()).map(r=>({id:r.id,userId:r.user_id,adminId:r.admin_id,adjustmentType:r.adjustment_type,tier:r.tier,amount:r.amount,hits:r.hits,reason:r.reason,notes:r.notes,createdAt:r.created_at,adminEmail:r.admin_email}))},adjustUserBalance:async(a,e)=>{const s=await ve(`${le}/admin/users/${a}/adjust-balance`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adjustment_type:e.adjustmentType,tier:e.tier,amount:e.amount,hits:e.hits,reason:e.reason,notes:e.notes})});if(!s.ok){let r="Failed to adjust balance";try{r=(await s.json()).detail||r}catch{}throw new Error(r)}},addBonusHits:async(a,e)=>{const s=await ve(`${le}/admin/users/${a}/add-bonus-hits`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){let r="Failed to add bonus hits";try{r=(await s.json()).detail||r}catch{}throw new Error(r)}},getUserEmails:async(a,e=50)=>{const s=await ve(`${le}/admin/users/${a}/emails?limit=${e}`);if(!s.ok)throw new Error("Failed to fetch emails");return(await s.json()).map(i=>({id:i.id,userId:i.user_id,emailType:i.email_type,toEmail:i.to_email,subject:i.subject,status:i.status,errorMessage:i.error_message,sentAt:i.sent_at,deliveredAt:i.delivered_at}))},getUserReferrals:async a=>{const e=await ve(`${le}/admin/users/${a}/referrals`);if(!e.ok)throw new Error("Failed to fetch referrals");const s=await e.json();return{referrals:(s.referrals||[]).map(r=>({id:r.id,email:r.email,name:r.name,status:r.status,createdAt:r.created_at,totalSpent:r.total_spent,earningsFromRef:r.earnings_from_ref})),totalReferrals:s.total_referrals,totalEarnings:s.total_earnings}},getUserNotificationPrefs:async a=>{const e=await ve(`${le}/admin/users/${a}/notification-prefs`);if(!e.ok)throw new Error("Failed to fetch notification prefs");const s=await e.json();return{id:s.id,userId:s.user_id,emailMarketing:s.email_marketing,emailTransactional:s.email_transactional,emailAlerts:s.email_alerts,browserNotifications:s.browser_notifications,newsletterSub:s.newsletter_sub,emailFrequency:s.email_frequency,updatedAt:s.updated_at}},updateUserNotificationPrefs:async(a,e)=>{if(!(await ve(`${le}/admin/users/${a}/notification-prefs`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to update notification prefs")},sendPasswordReset:async a=>{if(!(await ve(`${le}/admin/users/${a}/send-password-reset`,{method:"POST"})).ok)throw new Error("Failed to send password reset")},resendVerification:async a=>{if(!(await ve(`${le}/admin/users/${a}/resend-verification`,{method:"POST"})).ok)throw new Error("Failed to resend verification")},adminRegenerateApiKey:async a=>{const e=await ve(`${le}/admin/users/${a}/regenerate-api-key`,{method:"POST"});if(!e.ok)throw new Error("Failed to regenerate API key");return(await e.json()).api_key},startImpersonation:async a=>{const e=await ve(`${le}/admin/impersonate/${a}`,{method:"POST"});if(!e.ok)throw new Error("Failed to start impersonation");const s=await e.json();Ei&&localStorage.setItem("tgp_admin_token",Ei),localStorage.setItem("tgp_token",s.token),Ei=s.token;const r=await ve(`${le}/users/me`);if(!r.ok)throw new Error("Failed to fetch impersonated user details");const i=await r.json(),l={id:i.id,email:i.email,name:i.name||i.email.split("@")[0],role:i.role,balance:i.balance,balanceEconomy:i.balance_economy,balanceProfessional:i.balance_professional,balanceExpert:i.balance_expert,status:i.status,plan:i.plan,isVerified:i.is_verified,shadowBanned:i.shadow_banned,notes:i.notes,tags:i.tags,banReason:i.ban_reason,createdAt:i.created_at,joinedDate:i.created_at||new Date().toISOString(),projectsCount:0,lastIp:i.last_ip,lastActive:i.last_active,phone:i.phone,company:i.company,vatId:i.vat_id,address:i.address,city:i.city,country:i.country,zip:i.zip,website:i.website,displayName:i.display_name,bio:i.bio,jobTitle:i.job_title,publicProfile:i.public_profile,twoFactorEnabled:i.two_factor_enabled,emailFrequency:i.email_frequency,loginNotificationEnabled:i.login_notification_enabled,newsletterSub:i.newsletter_sub,soundEffects:i.sound_effects,developerMode:i.developer_mode,apiWhitelist:i.api_whitelist,webhookSecret:i.webhook_secret,accessibility:i.accessibility,socialLinks:i.social_links,recoveryEmail:i.recovery_email,timezone:i.timezone,language:i.language,themeAccentColor:i.theme_accent_color,dateFormat:i.date_format,numberFormat:i.number_format,requirePasswordReset:i.require_password_reset};H.setCurrentUser(l)},stopImpersonation:async()=>{const a=localStorage.getItem("tgp_admin_token");if(!a)throw new Error("No admin session found");localStorage.setItem("tgp_token",a),Ei=a,localStorage.removeItem("tgp_admin_token");const e=await ve(`${le}/users/me`);if(!e.ok)throw new Error("Failed to restore admin user details");const s=await e.json(),r={id:s.id,email:s.email,name:s.name||s.email.split("@")[0],role:s.role,balance:s.balance,balanceEconomy:s.balance_economy,balanceProfessional:s.balance_professional,balanceExpert:s.balance_expert,status:s.status,plan:s.plan,isVerified:s.is_verified,shadowBanned:s.shadow_banned,notes:s.notes,tags:s.tags,banReason:s.ban_reason,createdAt:s.created_at,joinedDate:s.created_at||new Date().toISOString(),projectsCount:0,lastIp:s.last_ip,lastActive:s.last_active};H.setCurrentUser(r)},adminExportUserData:async a=>{const e=await ve(`${le}/admin/users/${a}/export`);if(!e.ok)throw new Error("Failed to export user data");return e.json()},getUserTransactions:async a=>{const e=await ve(`${le}/transactions`);return e.ok?(await e.json()).filter(i=>i.user_id===a).map(i=>{var l;return{id:i.id,date:((l=i.created_at)==null?void 0:l.split("T")[0])||new Date().toISOString().split("T")[0],desc:i.description||"",amount:i.amount,status:i.status||"completed",type:i.type,userId:i.user_id,tier:i.tier,hits:i.hits,reference:i.reference}}):[]},getUserProjects:async a=>{const e=await ve(`${le}/admin/projects`);return e.ok?(await e.json()).filter(i=>i.user_id===a).map(i=>{var l;return{id:i.id,userId:i.user_id,name:i.name,plan:i.plan_type||"Custom",tier:i.tier,status:i.status,customTarget:{totalVisitors:i.total_target||0,durationDays:30,dailyLimit:i.daily_limit||0},expires:((l=i.expires_at)==null?void 0:l.split("T")[0])||"",createdAt:i.created_at,settings:i.settings}}):[]},getUserTickets:async a=>{const e=await ve(`${le}/tickets`);return e.ok?(await e.json()).filter(i=>i.user_id===a).map(i=>{var l,c;return{id:i.id,type:i.type||"ticket",userId:i.user_id,userName:"",subject:i.subject,status:i.status||"open",priority:i.priority||"low",date:((l=i.created_at)==null?void 0:l.split("T")[0])||"",lastMessage:((c=i.messages)==null?void 0:c.length)>0?i.messages[i.messages.length-1].text:"",messages:i.messages||[],unread:!1}}):[]},adminUpdateUser:async(a,e)=>{if(!(await ve(`${le}/admin/users/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to update user")},updateUserStatus:async(a,e)=>(await H.adminUpdateUser(a,{status:e}),H.getUsers()),adminAdjustBalance:async(a,e,s,r)=>{await H.adjustUserBalance(a,{adjustmentType:s,tier:"general",amount:e,reason:r})},createAlert:async(a,e,s="System Alert")=>{const r={title:s,message:a,type:e,is_active:!0};await ve(`${le}/admin/broadcasts`,{method:"POST",body:JSON.stringify(r)}),await H.syncAlerts()},toggleAlert:async(a,e)=>{const r=H.getAlerts().find(l=>l.id===a);if(!r)return;const i={title:r.title||"System Alert",message:r.message,type:r.type,is_active:e};await ve(`${le}/admin/broadcasts/${a}`,{method:"PUT",body:JSON.stringify(i)}),await H.syncAlerts()},deleteAlert:async a=>{await ve(`${le}/admin/broadcasts/${a}`,{method:"DELETE"}),await H.syncAlerts()},getBenefitTypes:async()=>{const a=await ve(`${le}/benefits/types`);return a.ok?(await a.json()).map(s=>({id:s.id,type:s.type,category:s.category,name:s.name,value:s.value,requirements:s.requirements,active:s.active,displayOrder:s.display_order})):[]},getMyBenefitRequests:async a=>{const e=a?`${le}/benefits/my-requests?status=${a}`:`${le}/benefits/my-requests`,s=await ve(e);return s.ok?(await s.json()).map(i=>({id:i.id,userId:i.user_id,benefitType:i.benefit_type,benefitCategory:i.benefit_category,url:i.url,description:i.description,screenshotUrl:i.screenshot_url,claimedValue:i.claimed_value,approvedValue:i.approved_value,status:i.status,adminNotes:i.admin_notes,fraudFlagged:i.fraud_flagged,fraudReason:i.fraud_reason,submittedAt:i.submitted_at,reviewedAt:i.reviewed_at,reviewedBy:i.reviewed_by})):[]},getBenefitBalance:async()=>{const a=await ve(`${le}/benefits/balance`);if(!a.ok)return{benefitBalance:0,totalBenefitsClaimed:0,pendingRequests:0,approvedRequests:0,rejectedRequests:0};const e=await a.json();return{benefitBalance:e.benefit_balance,totalBenefitsClaimed:e.total_benefits_claimed,pendingRequests:e.pending_requests,approvedRequests:e.approved_requests,rejectedRequests:e.rejected_requests}},submitBenefit:async a=>{const e=await ve(`${le}/benefits/submit`,{method:"POST",body:JSON.stringify(a)});if(!e.ok){const r=await e.json();throw new Error(r.detail||"Failed to submit benefit")}const s=await e.json();return{id:s.id,userId:s.user_id,benefitType:s.benefit_type,benefitCategory:s.benefit_category,url:s.url,description:s.description,screenshotUrl:s.screenshot_url,claimedValue:s.claimed_value,approvedValue:s.approved_value,status:s.status,adminNotes:s.admin_notes,fraudFlagged:s.fraud_flagged,fraudReason:s.fraud_reason,submittedAt:s.submitted_at,reviewedAt:s.reviewed_at,reviewedBy:s.reviewed_by}},getAffiliateDashboard:async()=>{const a=await ve(`${le}/affiliate/dashboard`);if(!a.ok)throw new Error("Failed to fetch affiliate dashboard");const e=await a.json();return{tier:{id:e.tier.id,userId:e.tier.user_id,tierLevel:e.tier.tier_level,tierName:e.tier.tier_name,commissionRateL1:e.tier.commission_rate_l1,commissionRateL2:e.tier.commission_rate_l2,commissionRateL3:e.tier.commission_rate_l3,totalReferralsL1:e.tier.total_referrals_l1,totalReferralsL2:e.tier.total_referrals_l2,totalReferralsL3:e.tier.total_referrals_l3,totalEarnings:e.tier.total_earnings,pendingPayout:e.tier.pending_payout,lifetimePayout:e.tier.lifetime_payout,lastTierUpdate:e.tier.last_tier_update},relations:e.relations.map(s=>({id:s.id,userId:s.user_id,referrerL1Id:s.referrer_l1_id,referrerL2Id:s.referrer_l2_id,referrerL3Id:s.referrer_l3_id})),referralLink:e.referral_link,totalReferrals:e.total_referrals,totalEarnings:e.total_earnings,pendingPayout:e.pending_payout,benefitBalance:e.benefit_balance}},getAffiliateTier:async()=>{const a=await ve(`${le}/affiliate/tier`);if(!a.ok)throw new Error("Failed to fetch affiliate tier");const e=await a.json();return{id:e.id,userId:e.user_id,tierLevel:e.tier_level,tierName:e.tier_name,commissionRateL1:e.commission_rate_l1,commissionRateL2:e.commission_rate_l2,commissionRateL3:e.commission_rate_l3,totalReferralsL1:e.total_referrals_l1,totalReferralsL2:e.total_referrals_l2,totalReferralsL3:e.total_referrals_l3,totalEarnings:e.total_earnings,pendingPayout:e.pending_payout,lifetimePayout:e.lifetime_payout,lastTierUpdate:e.last_tier_update}},getAffiliateReferrals:async(a=1)=>{const e=await ve(`${le}/affiliate/referrals?tier=${a}`);return e.ok?await e.json():[]},requestPayout:async a=>{const e=await ve(`${le}/affiliate/payouts/request`,{method:"POST",body:JSON.stringify(a)});if(!e.ok){const r=await e.json();throw new Error(r.detail||"Failed to request payout")}const s=await e.json();return{id:s.id,userId:s.user_id,amount:s.amount,method:s.method,payoutDetails:s.payout_details,status:s.status,adminNotes:s.admin_notes,requestedAt:s.requested_at,processedAt:s.processed_at,processedBy:s.processed_by,transactionHash:s.transaction_hash}},getMyPayouts:async()=>{const a=await ve(`${le}/affiliate/payouts`);return a.ok?(await a.json()).map(s=>({id:s.id,userId:s.user_id,amount:s.amount,method:s.method,payoutDetails:s.payout_details,status:s.status,adminNotes:s.admin_notes,requestedAt:s.requested_at,processedAt:s.processed_at,processedBy:s.processed_by,transactionHash:s.transaction_hash})):[]},getPendingBenefits:async()=>{const a=await ve(`${le}/admin/benefits/pending`);return a.ok?await a.json():[]},getBenefitsHistory:async a=>{const e=a?`${le}/admin/benefits/history?status=${a}`:`${le}/admin/benefits/history`,s=await ve(e);return s.ok?await s.json():[]},approveBenefit:async(a,e,s)=>{if(!(await ve(`${le}/admin/benefits/${a}/approve`,{method:"POST",body:JSON.stringify({approved_value:e,status:"approved",admin_notes:s})})).ok)throw new Error("Failed to approve benefit")},rejectBenefit:async(a,e,s=!1,r)=>{if(!(await ve(`${le}/admin/benefits/${a}/reject`,{method:"POST",body:JSON.stringify({status:"rejected",admin_notes:e,fraud_flagged:s,fraud_reason:r})})).ok)throw new Error("Failed to reject benefit")},getPendingPayouts:async()=>{const a=await ve(`${le}/admin/payouts/pending`);return a.ok?await a.json():[]},approvePayout:async(a,e)=>{if(!(await ve(`${le}/admin/payouts/${a}/approve`,{method:"POST",body:JSON.stringify({status:"approved",admin_notes:e})})).ok)throw new Error("Failed to approve payout")},rejectPayout:async(a,e)=>{if(!(await ve(`${le}/admin/payouts/${a}/reject`,{method:"POST",body:JSON.stringify({status:"rejected",admin_notes:e})})).ok)throw new Error("Failed to reject payout")},markPayoutPaid:async(a,e,s)=>{if(!(await ve(`${le}/admin/payouts/${a}/mark-paid`,{method:"POST",body:JSON.stringify({status:"paid",transaction_hash:e,admin_notes:s})})).ok)throw new Error("Failed to mark payout as paid")},getAllAffiliates:async()=>{const a=await ve(`${le}/admin/affiliates`);return a.ok?await a.json():[]},updateAffiliateTier:async(a,e)=>{if(!(await ve(`${le}/admin/affiliates/${a}/tier-update`,{method:"POST",body:JSON.stringify({tier_level:e})})).ok)throw new Error("Failed to update affiliate tier")},getProxyConfig:async()=>{const a=await ve(`${le}/admin/proxies/config`);if(a.status===404)return null;if(!a.ok)throw new Error("Failed to fetch proxy config");const e=await a.json();return{id:e.id,name:e.name,providerType:e.provider_type,username:e.username,serviceName:e.service_name,proxyHost:e.proxy_host,httpPort:e.http_port_start||e.http_port||9e3,httpPortStart:e.http_port_start,httpPortEnd:e.http_port_end,isActive:e.is_active,sessionLifetimeMinutes:e.session_lifetime_minutes,bandwidthLimitGb:e.bandwidth_limit_gb,bandwidthUsedGb:e.bandwidth_used_gb||0,notificationEmail:e.notification_email,warnAt80:e.warn_at_80,warnAt50:e.warn_at_50,warnAt20:e.warn_at_20,lastSyncAt:e.last_sync_at,createdAt:e.created_at}},saveProxyConfig:async a=>{const e=await ve(`${le}/admin/proxies/config`,{method:"POST",body:JSON.stringify({username:a.username,password:a.password,service_name:a.serviceName,proxy_host:a.proxyHost,http_port:a.httpPort,session_lifetime_minutes:a.sessionLifetimeMinutes,bandwidth_limit_gb:a.bandwidthLimitGb,notification_email:a.notificationEmail,is_active:a.isActive,warn_at_80:a.warnAt80,warn_at_50:a.warnAt50,warn_at_20:a.warnAt20})});if(!e.ok){const r=await e.json();throw new Error(r.detail||"Failed to save proxy config")}const s=await e.json();return{id:s.id,name:s.name,providerType:s.provider_type,username:s.username,serviceName:s.service_name,proxyHost:s.proxy_host,httpPortStart:s.http_port_start,httpPortEnd:s.http_port_end,isActive:s.is_active,sessionLifetimeMinutes:s.session_lifetime_minutes,bandwidthLimitGb:s.bandwidth_limit_gb,bandwidthUsedGb:s.bandwidth_used_gb||0,notificationEmail:s.notification_email,warnAt80:s.warn_at_80,warnAt50:s.warn_at_50,warnAt20:s.warn_at_20,lastSyncAt:s.last_sync_at,createdAt:s.created_at}},testProxyConnection:async()=>await(await ve(`${le}/admin/proxies/test`,{method:"POST"})).json(),syncProxyLocations:async()=>await(await ve(`${le}/admin/proxies/sync-locations`,{method:"POST"})).json(),getProxyUsage:async()=>await(await ve(`${le}/admin/proxies/usage`)).json(),getGeoLocations:async()=>{const a=await ve(`${le}/admin/proxies/locations`);return a.ok?(await a.json()).map(s=>({countryCode:s.country_code,countryName:s.country_name,states:s.states||[],cities:s.cities||[]})):[]},getProxySessions:async(a=!0)=>{const e=await ve(`${le}/admin/proxies/sessions?active_only=${a}`);return e.ok?(await e.json()).map(r=>({id:r.id,sessionId:r.session_id,country:r.country,countryCode:r.country_code,state:r.state,city:r.city,ipAddress:r.ip_address,isActive:r.is_active,port:r.port,requestCount:r.request_count,createdAt:r.created_at,expiresAt:r.expires_at,lastUsedAt:r.last_used_at})):[]},releaseProxySession:async a=>{if(!(await ve(`${le}/admin/proxies/sessions/${a}/release`,{method:"POST"})).ok)throw new Error("Failed to release session")},releaseAllProxySessions:async()=>await(await ve(`${le}/admin/proxies/sessions/release-all`,{method:"POST"})).json(),cleanupProxySessions:async()=>await(await ve(`${le}/admin/proxies/cleanup`,{method:"POST"})).json(),testProxyTraffic:async a=>await(await ve(`${le}/admin/proxies/test-traffic`,{method:"POST",body:JSON.stringify({country_code:a.countryCode,country_name:a.countryName,state:a.state,city:a.city})})).json(),getProxyLogs:async a=>{const e=new URLSearchParams;a!=null&&a.limit&&e.set("limit",a.limit.toString()),a!=null&&a.offset&&e.set("offset",a.offset.toString()),a!=null&&a.successOnly&&e.set("success_only","true"),a!=null&&a.errorsOnly&&e.set("errors_only","true");const s=await ve(`${le}/admin/proxies/logs?${e.toString()}`);return s.ok?(await s.json()).map(i=>({id:i.id,sessionId:i.session_id,projectId:i.project_id,requestUrl:i.request_url,responseCode:i.response_code,latencyMs:i.latency_ms,errorMessage:i.error_message,countryCode:i.country_code,state:i.state,city:i.city,ipAddress:i.ip_address,success:i.success,createdAt:i.created_at})):[]},getProxyLogStats:async()=>{const e=await(await ve(`${le}/admin/proxies/logs/stats`)).json();return{total:e.total,successful:e.successful,failed:e.failed,successRate:e.success_rate,avgLatencyMs:e.avg_latency_ms}}},HT=({menuSections:a,currentView:e,onNavigate:s,onLogout:r})=>{var c;const[i,l]=w.useState(()=>H.getCurrentUser());return w.useEffect(()=>{const f=H.getCurrentUser();f&&l(f)},[]),t.jsxs("aside",{className:"w-64 bg-[#111111] text-white flex flex-col h-screen fixed left-0 top-0 z-20 hidden md:flex border-r border-gray-800 shadow-xl",children:[t.jsxs("div",{className:"p-8 pb-10 flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-[#ff4d00] flex items-center justify-center",children:t.jsx("span",{className:"font-black text-black text-lg",children:"T"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-black text-white tracking-tighter leading-none",children:"TRAFFIC"}),t.jsx("p",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-widest mt-0.5",children:"Bot OS"})]})]}),t.jsx("nav",{className:"flex-1 overflow-y-auto px-4 custom-scrollbar",children:t.jsx("div",{className:"space-y-6",children:a.map((f,u)=>t.jsx("div",{className:u>0?"pt-6 border-t border-gray-800/50":"",children:t.jsx("ul",{className:"space-y-1",children:f.items.map(m=>{const g=e===m.id;return t.jsx("li",{children:t.jsxs("button",{onClick:()=>s(m.id),className:`w-full group flex items-center justify-between px-4 py-3.5 text-[11px] font-bold uppercase tracking-widest transition-all duration-200 rounded-sm
                          ${g?"bg-[#ff4d00] text-white shadow-[0_0_15px_rgba(255,77,0,0.3)]":"text-gray-400 hover:bg-[#1a1a1a] hover:text-white"}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[m.icon&&t.jsx("span",{className:g?"text-white":"text-gray-600 group-hover:text-[#ff4d00]",children:m.icon}),t.jsx("span",{children:m.label})]}),g&&t.jsx(Ac,{size:14,className:"animate-in slide-in-from-left-2"})]})},m.id)})})},u))})}),t.jsxs("div",{className:"p-4 border-t border-gray-800 bg-[#0a0a0a] space-y-4",children:[i&&t.jsxs("div",{className:"px-4 py-2 bg-[#1a1a1a] rounded-sm border border-gray-800/50",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(va,{size:12,className:"text-[#ff4d00]"}),t.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-tighter truncate",children:i.email})]}),t.jsxs("div",{className:"text-[9px] font-mono text-gray-500 truncate",title:i.id,children:["ID: ",((c=i.id)==null?void 0:c.substring(0,8).toUpperCase())||"N/A"]})]}),t.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 py-3 border border-gray-800 text-[11px] font-bold text-gray-400 uppercase tracking-widest hover:text-[#ff4d00] hover:border-[#ff4d00] hover:bg-[#111] transition-all rounded-sm",children:[t.jsx(eO,{size:14}),t.jsx("span",{children:"Logout"})]})]})]})},GT=({title:a,onMobileMenuClick:e,isAdmin:s=!1})=>{const[r,i]=w.useState(!1),[l,c]=w.useState([]),f=ta(),u=hr(),m=!s&&(u.pathname==="/dashboard"||u.pathname==="/dashboard/campaigns"||u.pathname.startsWith("/dashboard/campaigns")||u.pathname==="/dashboard/buy-credits"||u.pathname==="/dashboard/balance");w.useEffect(()=>{const S=async()=>{try{const O=await(s?H.getAdminNotifications():H.getNotifications());c(O)}catch(O){console.error("Failed to fetch notifications:",O)}};S();const T=setInterval(S,1e4);return()=>clearInterval(T)},[s]);const g=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),b=l.filter(S=>!S.read).length,v=async S=>{await H.markNotificationRead(S),c(T=>T.map(O=>O.id===S?{...O,read:!0}:O))},E=async()=>{await H.markAllNotificationsRead(),c(S=>S.map(T=>({...T,read:!0})))},N=S=>{switch(S){case"success":return t.jsx(xt,{size:16,className:"text-green-500"});case"warning":return t.jsx(as,{size:16,className:"text-orange-500"});default:return t.jsx(lc,{size:16,className:"text-blue-500"})}};return t.jsxs("header",{className:"bg-white h-20 px-8 flex items-center justify-between sticky top-0 z-20 shadow-sm md:shadow-none relative",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:bg-gray-100 rounded-md",onClick:e,children:t.jsx(nO,{size:24})}),t.jsx("h2",{className:"text-xl font-black tracking-wide text-gray-900 uppercase",children:a})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[m&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>f("/dashboard/buy-credits"),className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 shadow-md border border-gray-800",children:[t.jsx(bw,{size:16}),t.jsx("span",{className:"hidden sm:inline",children:"Buy Traffic"}),t.jsx("span",{className:"sm:hidden",children:"Traffic"})]}),t.jsxs("button",{onClick:()=>f("/dashboard/campaigns/new"),className:"bg-[#ff4d00] text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#e64500] transition-colors flex items-center gap-2 shadow-md",children:[t.jsx(Ir,{size:16}),t.jsx("span",{className:"hidden sm:inline",children:"Create a Project"}),t.jsx("span",{className:"sm:hidden",children:"Create"})]})]}),t.jsxs("div",{className:"relative cursor-pointer",children:[t.jsxs("button",{onClick:()=>i(!r),className:"relative p-1",children:[t.jsx(av,{className:b>0?"text-[#ff4d00]":"text-gray-400",size:22,strokeWidth:2}),b>0&&t.jsx("span",{className:"absolute top-0 right-0 block h-2.5 w-2.5 rounded-full ring-2 ring-white bg-red-600 transform translate-x-1/4 -translate-y-1/4 animate-pulse"})]}),r&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>i(!1)}),t.jsxs("div",{className:"absolute right-0 top-full mt-4 w-80 bg-white border border-gray-200 shadow-xl z-40 animate-in fade-in slide-in-from-top-2 rounded-sm overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[t.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:["Notifications (",b,")"]}),b>0&&t.jsx("button",{onClick:E,className:"text-[10px] font-bold text-[#ff4d00] uppercase hover:underline",children:"Mark all read"})]}),t.jsx("div",{className:"max-h-80 overflow-y-auto",children:l.length===0?t.jsx("div",{className:"p-8 text-center text-xs text-gray-400",children:"No notifications"}):l.map(S=>t.jsx("div",{className:`p-4 border-b border-gray-50 hover:bg-gray-50 transition-colors ${S.read?"":"bg-orange-50/30"}`,children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"mt-1 flex-shrink-0",children:N(S.type)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsx("h4",{className:`text-xs font-bold ${S.read?"text-gray-500":"text-gray-900"}`,children:S.title}),!S.read&&t.jsx("button",{onClick:()=>v(S.id),className:"text-gray-300 hover:text-[#ff4d00]",children:t.jsx(ja,{size:12})})]}),t.jsx("p",{className:"text-[11px] text-gray-500 mt-1 leading-relaxed",children:S.message}),t.jsx("div",{className:"text-[9px] text-gray-300 mt-2 font-mono",children:S.date})]})]})},S.id))})]})]})]}),t.jsx("div",{className:"hidden md:block w-px h-8 bg-gray-200"}),t.jsx("div",{className:"text-sm font-medium text-gray-500 tracking-wide hidden md:block",children:g})]})]})},M9=()=>{const[a,e]=w.useState([]);w.useEffect(()=>{const r=async()=>{const l=await H.getActiveBroadcasts(),c=JSON.parse(localStorage.getItem("dismissed_broadcasts")||"[]");e(l.filter(f=>!c.includes(f.id)))};r();const i=setInterval(r,6e4);return()=>clearInterval(i)},[]);const s=r=>{const i=JSON.parse(localStorage.getItem("dismissed_broadcasts")||"[]");i.includes(r)||(i.push(r),localStorage.setItem("dismissed_broadcasts",JSON.stringify(i))),e(a.filter(l=>l.id!==r))};return a.length===0?null:t.jsx("div",{className:"flex flex-col w-full z-50 sticky top-0",children:a.map(r=>t.jsx("div",{className:`w-full px-4 py-3 flex items-center justify-between shadow-sm relative animate-in slide-in-from-top duration-300 ${r.type==="critical"?"bg-red-600 text-white":r.type==="warning"?"bg-orange-500 text-white":r.type==="success"?"bg-green-600 text-white":"bg-blue-600 text-white"}`,children:t.jsxs("div",{className:"flex items-center gap-3 container max-w-screen-2xl mx-auto px-6 md:px-12",children:[r.type==="critical"&&t.jsx(ic,{size:20}),r.type==="warning"&&t.jsx(as,{size:20}),r.type==="success"&&t.jsx(xt,{size:20}),r.type==="info"&&t.jsx(lc,{size:20}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-1 md:gap-3 flex-1",children:[t.jsx("span",{className:"font-black uppercase tracking-wider text-xs",children:r.title}),t.jsx("span",{className:"hidden md:inline w-1 h-1 bg-white rounded-full opacity-50"}),t.jsx("span",{className:"font-medium text-sm",children:r.message}),r.actionUrl&&t.jsx("a",{href:r.actionUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 bg-white text-black text-[10px] font-black uppercase tracking-widest rounded-sm hover:bg-gray-100 transition-colors ml-0 md:ml-4 self-start md:self-auto",children:r.actionText||"Read More"})]}),t.jsx("button",{onClick:()=>s(r.id),className:"text-white/80 hover:text-white transition-colors p-1",children:t.jsx(Zs,{size:18})})]})},r.id))})},O9=({email:a,onDismiss:e,onVerified:s})=>{const[r,i]=w.useState(!1),[l,c]=w.useState(!1),[f,u]=w.useState(""),[m,g]=w.useState(!1),[b,v]=w.useState(["","","",""]),[E,N]=w.useState("idle"),[S,T]=w.useState(""),O=w.useRef([]);if(m)return null;const U=async()=>{i(!0),u("");try{await H.resendVerificationEmail(a),c(!0)}catch(_){u(_.message||"Failed to send email")}finally{i(!1)}},M=()=>{g(!0),e&&e()},L=(_,P)=>{var z;if(!/^\d*$/.test(P))return;const D=[...b];D[_]=P.slice(-1),v(D),P&&_<3&&((z=O.current[_+1])==null||z.focus()),D.every(I=>I!=="")&&D.join("").length===4&&C(D.join(""))},$=(_,P)=>{var D;P.key==="Backspace"&&!b[_]&&_>0&&((D=O.current[_-1])==null||D.focus())},X=_=>{_.preventDefault();const P=_.clipboardData.getData("text").replace(/\D/g,"").slice(0,4),D=[...b];P.split("").forEach((z,I)=>{I<4&&(D[I]=z)}),v(D),D.every(z=>z!=="")&&C(D.join(""))},C=async _=>{N("loading"),T("");try{await H.verifyEmail(_),N("success"),T("Email verified successfully!"),s&&s(),setTimeout(()=>{g(!0)},2e3)}catch(P){N("error"),T(P.message||"Invalid code. Please try again."),v(["","","",""]),setTimeout(()=>{var D;(D=O.current[0])==null||D.focus()},100)}},R=()=>{var _;v(["","","",""]),N("idle"),T(""),(_=O.current[0])==null||_.focus()};return E==="success"?t.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center justify-center py-3 gap-3",children:[t.jsx(xt,{className:"shrink-0",size:20}),t.jsx("p",{className:"text-sm font-bold",children:S})]})})}):t.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[t.jsx(as,{className:"shrink-0",size:20}),t.jsx("div",{className:"flex-1",children:t.jsx("p",{className:"text-sm font-bold",children:l?"Verification email sent! Check your inbox.":"Please verify your email address to create projects."})})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[t.jsx("div",{className:"flex gap-1.5",children:b.map((_,P)=>t.jsx("input",{ref:D=>{O.current[P]=D},type:"text",inputMode:"numeric",maxLength:1,value:_,onChange:D=>L(P,D.target.value),onKeyDown:D=>$(P,D),onPaste:P===0?X:void 0,disabled:E==="loading",className:"w-9 h-10 text-center text-lg font-bold border-2 border-white/40 rounded-lg focus:border-white focus:outline-none bg-white/20 text-white placeholder-white/50 disabled:opacity-50",placeholder:"0"},P))}),E==="loading"&&t.jsx(Is,{className:"animate-spin",size:18}),E==="error"&&t.jsxs("button",{onClick:R,className:"flex items-center gap-1 bg-red-500/80 hover:bg-red-600 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors",children:[t.jsx(ic,{size:14})," Retry"]}),E==="idle"&&t.jsx("button",{onClick:U,disabled:r,className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wider transition-colors disabled:opacity-50",children:r?t.jsxs(t.Fragment,{children:[t.jsx(Is,{className:"animate-spin",size:14})," Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Nn,{size:14})," Resend"]})}),t.jsx("button",{onClick:M,className:"p-1 hover:bg-white/20 rounded transition-colors","aria-label":"Dismiss",children:t.jsx(Zs,{size:16})})]})]}),f&&t.jsx("div",{className:"pt-2 text-xs font-medium text-white/90",children:f}),E==="error"&&S&&t.jsx("div",{className:"pt-2 text-xs font-medium text-white/90",children:S})]})})},vk=a=>{if(!a)return"-";try{const e=new Date(a);return isNaN(e.getTime())?"-":e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return"-"}},pg=a=>{if(!a)return null;try{const e=new Date(a),s=new Date;return Math.ceil((e.getTime()-s.getTime())/(1e3*60*60*24))}catch{return null}},L9=a=>{const e=pg(a);return e===null?"":e<0||e<=3?"text-red-600 bg-red-50 px-2 py-1 rounded":e<=7?"text-amber-600 bg-amber-50 px-2 py-1 rounded":""},z9=a=>{var r;const e=(r=a.settings)==null?void 0:r.trafficSource;return e?{organic:"Organic",social:"Social",referral:"Referral",direct:"Direct",custom:"Custom"}[e]||e.charAt(0).toUpperCase()+e.slice(1):"Direct"},V9=a=>{var s;switch((s=a.settings)==null?void 0:s.trafficSource){case"organic":return"bg-green-100 text-green-700";case"social":return"bg-blue-100 text-blue-700";case"referral":return"bg-purple-100 text-purple-700";case"direct":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-600"}},U9=({projects:a,onUpdate:e,onNavigateToProject:s,onAddProject:r})=>{const[i,l]=w.useState(""),[c,f]=w.useState(""),[u,m]=w.useState(""),[g,b]=w.useState("all"),[v,E]=w.useState("all"),[N,S]=w.useState({start:"",end:""}),[T,O]=w.useState("startAt"),[U,M]=w.useState("desc"),[L,$]=w.useState(1),X=10,[C,R]=w.useState([]),_=W=>{switch(W){case"completed":return"bg-gray-900 text-white";case"active":return"bg-[#ff4d00] text-white";case"stopped":return"bg-gray-100 text-gray-500 border border-gray-200"}},P=W=>{T===W?M(U==="asc"?"desc":"asc"):(O(W),M("desc"))},D=({field:W})=>T!==W?t.jsx(mD,{size:12,className:"ml-1 opacity-30"}):U==="asc"?t.jsx(xD,{size:12,className:"ml-1 text-[#ff4d00]"}):t.jsx(dD,{size:12,className:"ml-1 text-[#ff4d00]"}),z=w.useMemo(()=>{let W=a.filter(B=>{const F=B.id.toLowerCase().includes(i.toLowerCase()),se=B.name.toLowerCase().includes(c.toLowerCase()),je=B.plan.toLowerCase().includes(u.toLowerCase()),Ce=g==="all"||B.status===g;let Le=!0;if(v==="7days"){const J=pg(B.expiresAt);Le=J!==null&&J>=0&&J<=7}else if(v==="expired"){const J=pg(B.expiresAt);Le=J!==null&&J<0}let ze=!0;if(N.start||N.end){const J=B.createdAt?new Date(B.createdAt).getTime():0,Qe=N.start?new Date(N.start).getTime():0,Ze=N.end?new Date(N.end).getTime()+864e5:1/0;J===0?ze=!1:ze=J>=Qe&&J<Ze}return F&&se&&je&&Ce&&Le&&ze});return W.sort((B,F)=>{let se="",je="";switch(T){case"name":se=B.name.toLowerCase(),je=F.name.toLowerCase();break;case"startAt":se=B.startAt||B.createdAt?new Date(B.startAt||B.createdAt||0).getTime():0,je=F.startAt||F.createdAt?new Date(F.startAt||F.createdAt||0).getTime():0;break;case"expiresAt":se=B.expiresAt?new Date(B.expiresAt).getTime():1/0,je=F.expiresAt?new Date(F.expiresAt).getTime():1/0;break;case"totalHits":se=B.totalHits||0,je=F.totalHits||0;break;case"status":se=B.status,je=F.status;break;case"dailyLimit":se=B.dailyLimit||0,je=F.dailyLimit||0;break}return typeof se=="string"&&typeof je=="string"?U==="asc"?se.localeCompare(je):je.localeCompare(se):U==="asc"?se-je:je-se}),W},[a,i,c,u,g,v,N,T,U]),I=Math.ceil(z.length/X),Z=z.slice((L-1)*X,L*X),Ee=W=>{W>=1&&W<=I&&$(W)},te=async W=>{const B=W.status==="active"?"stopped":"active";await H.updateProjectStatus(W.id,B),e()},G=async W=>{if(C.length!==0)if(W==="delete")confirm(`Are you sure you want to delete ${C.length} campaigns?`)&&(await H.bulkDeleteProjects(C),R([]),e());else{const B=W==="resume"?"active":"stopped";await H.bulkUpdateProjectStatus(C,B),R([]),e()}},ye=()=>{const W=Z.map(F=>F.id),B=W.every(F=>C.includes(F));R(B?F=>F.filter(se=>!W.includes(se)):F=>Array.from(new Set([...F,...W])))},Re=W=>{C.includes(W)?R(B=>B.filter(F=>F!==W)):R(B=>[...B,W])},Pe=()=>{l(""),f(""),m(""),b("all"),E("all"),S({start:"",end:""})};He.useEffect(()=>{$(1),R([])},[i,c,u,g,v,N]);const K=Z.length>0&&Z.every(W=>C.includes(W.id));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tight",children:"Campaign Manager"}),t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mt-1",children:"Manage your traffic sources"})]}),t.jsxs("button",{onClick:r,className:"bg-[#ff4d00] hover:bg-[#e64600] text-white px-6 py-3 text-xs font-black uppercase tracking-widest transition-colors flex items-center gap-2 shadow-lg shadow-orange-500/20",children:[t.jsx(Ir,{size:16,strokeWidth:3}),"Create Project"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Rc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Filter by ID...",value:i,onChange:W=>l(W.target.value),className:"w-full pl-9 pr-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-900 focus:outline-none focus:border-[#ff4d00] placeholder-gray-400"})]}),t.jsx("input",{type:"text",placeholder:"Filter by Name...",value:c,onChange:W=>f(W.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-900 focus:outline-none focus:border-[#ff4d00] placeholder-gray-400"}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:u,onChange:W=>m(W.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-500 focus:outline-none focus:border-[#ff4d00] appearance-none",children:[t.jsx("option",{value:"",children:"All Plans"}),t.jsx("option",{value:"Free Trial",children:"Free Trial"}),t.jsx("option",{value:"Starter",children:"Starter"}),t.jsx("option",{value:"Growth",children:"Growth"}),t.jsx("option",{value:"Agency",children:"Agency"})]}),t.jsx(dr,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:g,onChange:W=>b(W.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-500 focus:outline-none focus:border-[#ff4d00] appearance-none",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"stopped",children:"Stopped"}),t.jsx("option",{value:"completed",children:"Completed"})]}),t.jsx(dr,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:v,onChange:W=>E(W.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-500 focus:outline-none focus:border-[#ff4d00] appearance-none",children:[t.jsx("option",{value:"all",children:"All Dates"}),t.jsx("option",{value:"7days",children:"Expiring in 7 days"}),t.jsx("option",{value:"expired",children:"Already expired"})]}),t.jsx(dr,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),t.jsx("input",{type:"date",placeholder:"Start date",value:N.start,onChange:W=>S(B=>({...B,start:W.target.value})),className:"w-full px-3 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-500 focus:outline-none focus:border-[#ff4d00]"}),t.jsx("input",{type:"date",placeholder:"End date",value:N.end,onChange:W=>S(B=>({...B,end:W.target.value})),className:"w-full px-3 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-500 focus:outline-none focus:border-[#ff4d00]"})]}),t.jsx("div",{className:"flex justify-end mt-3",children:t.jsxs("button",{onClick:Pe,className:"px-4 py-2 border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:text-gray-900 hover:border-gray-400 transition-colors flex items-center gap-2",children:[t.jsx(Zs,{size:14})," Clear Filters"]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden min-h-[600px] flex flex-col",children:[t.jsx("div",{className:"overflow-x-auto flex-1",children:t.jsxs("table",{className:"w-full min-w-[1200px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-[#f9fafb] border-b border-gray-200",children:[t.jsx("th",{className:"w-12 px-4 py-4 text-left",children:t.jsx("button",{onClick:ye,className:"flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:K?t.jsx(tc,{size:16,className:"text-[#ff4d00]"}):t.jsx(tu,{size:16})})}),t.jsx("th",{className:"w-28 px-4 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"ID"}),t.jsx("th",{className:"px-4 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest cursor-pointer hover:text-gray-600 select-none",onClick:()=>P("name"),children:t.jsxs("span",{className:"flex items-center",children:["Name ",t.jsx(D,{field:"name"})]})}),t.jsx("th",{className:"w-24 px-4 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Plan"}),t.jsx("th",{className:"w-28 px-4 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest cursor-pointer hover:text-gray-600 select-none",onClick:()=>P("startAt"),children:t.jsxs("span",{className:"flex items-center",children:["Start ",t.jsx(D,{field:"startAt"})]})}),t.jsx("th",{className:"w-28 px-4 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest cursor-pointer hover:text-gray-600 select-none",onClick:()=>P("expiresAt"),children:t.jsxs("span",{className:"flex items-center",children:["End ",t.jsx(D,{field:"expiresAt"})]})}),t.jsx("th",{className:"w-32 px-4 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Progress"}),t.jsx("th",{className:"w-24 px-4 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest cursor-pointer hover:text-gray-600 select-none",onClick:()=>P("dailyLimit"),children:t.jsxs("span",{className:"flex items-center",children:["Daily ",t.jsx(D,{field:"dailyLimit"})]})}),t.jsx("th",{className:"w-20 px-4 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Source"}),t.jsx("th",{className:"w-24 px-4 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest cursor-pointer hover:text-gray-600 select-none",onClick:()=>P("totalHits"),children:t.jsxs("span",{className:"flex items-center",children:["Hits ",t.jsx(D,{field:"totalHits"})]})}),t.jsx("th",{className:"w-28 px-4 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest cursor-pointer hover:text-gray-600 select-none",onClick:()=>P("status"),children:t.jsxs("span",{className:"flex items-center",children:["Status ",t.jsx(D,{field:"status"})]})}),t.jsx("th",{className:"w-20 px-4 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:Z.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:12,className:"px-6 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(Ns,{size:32,className:"text-gray-300"}),t.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"No campaigns found"}),t.jsx("span",{className:"text-gray-300 text-xs",children:"Try adjusting your filters or create a new campaign"})]})})}):Z.map(W=>{var je;const B=W.totalTarget&&W.totalTarget>0?Math.min(100,Math.round((W.totalHits||0)/W.totalTarget*100)):null,F=pg(W.expiresAt),se=L9(W.expiresAt);return t.jsxs("tr",{className:`transition-colors group ${C.includes(W.id)?"bg-orange-50/50":"hover:bg-gray-50"} ${W.status==="active"?"border-l-2 border-l-[#ff4d00]":""}`,children:[t.jsx("td",{className:"px-4 py-4",children:t.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),Re(W.id)},className:"flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:C.includes(W.id)?t.jsx(tc,{size:16,className:"text-[#ff4d00]"}):t.jsx(tu,{size:16})})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("span",{className:"text-[11px] font-black text-[#ff4d00] font-mono tracking-tighter uppercase",title:W.id,children:W.id.substring(0,8)})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-black text-gray-900 truncate max-w-[200px]",title:W.name,children:W.name}),((je=W.settings)==null?void 0:je.entryUrls)&&t.jsx("a",{href:W.settings.entryUrls,target:"_blank",rel:"noreferrer",className:"text-gray-300 hover:text-[#ff4d00] flex-shrink-0",onClick:Ce=>Ce.stopPropagation(),children:t.jsx(oc,{size:12})})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("span",{className:"text-xs font-medium text-gray-600",children:W.plan})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("span",{className:"text-xs text-gray-500",children:vk(W.startAt||W.createdAt)})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:`text-xs ${se||"text-gray-500"}`,children:vk(W.expiresAt)}),F!==null&&F>=0&&F<=7&&t.jsxs("span",{className:"text-[10px] text-amber-600 flex items-center gap-1 mt-0.5",children:[t.jsx(as,{size:10}),F===0?"Expires today":`${F}d left`]}),F!==null&&F<0&&t.jsxs("span",{className:"text-[10px] text-red-600 flex items-center gap-1 mt-0.5",children:[t.jsx(as,{size:10}),"Expired ",Math.abs(F),"d ago"]})]})}),t.jsx("td",{className:"px-4 py-4",children:B!==null?t.jsxs("div",{className:"w-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("span",{className:"text-[10px] font-bold text-gray-600",children:[B,"%"]}),t.jsxs("span",{className:"text-[10px] text-gray-400",children:[(W.totalHits||0).toLocaleString()," / ",(W.totalTarget||0).toLocaleString()]})]}),t.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${W.status==="completed"?"bg-gray-600":W.status==="active"?"bg-[#ff4d00]":"bg-gray-400"}`,style:{width:`${B}%`}})})]}):t.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[t.jsx(Vt,{size:12}),t.jsx("span",{className:"text-xs",children:(W.totalHits||0).toLocaleString()})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("span",{className:"text-xs text-gray-500",children:W.dailyLimit?`${W.dailyLimit.toLocaleString()}/d`:"-"})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-[10px] font-bold rounded ${V9(W)}`,children:z9(W)})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-bold text-gray-900",children:(W.totalHits||0).toLocaleString()}),W.status==="active"&&t.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 text-[10px] font-black uppercase tracking-wider rounded-sm ${_(W.status)}`,children:[W.status==="stopped"&&t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 mr-2"}),W.status==="active"&&t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white mr-2 animate-pulse"}),W.status]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),te(W)},className:`p-1.5 rounded transition-colors ${W.status==="active"?"text-gray-400 hover:text-amber-600 hover:bg-amber-50":"text-gray-400 hover:text-green-600 hover:bg-green-50"}`,title:W.status==="active"?"Pause campaign":"Start campaign",children:W.status==="active"?t.jsx(Mg,{size:14}):t.jsx(dc,{size:14})}),t.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),s(W.id)},className:"text-gray-400 hover:text-[#ff4d00] transition-colors p-1.5 hover:bg-orange-50 rounded",title:"Settings",children:t.jsx(Pi,{size:14})})]})})]},W.id)})})]})}),t.jsxs("div",{className:"p-4 border-t border-gray-200 bg-[#f9fafb] flex items-center justify-between mt-auto",children:[t.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:["Showing ",z.length===0?0:Math.min((L-1)*X+1,z.length)," - ",Math.min(L*X,z.length)," of ",z.length]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>Ee(L-1),disabled:L===1,className:"px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[t.jsx(gw,{size:14})," Prev"]}),t.jsx("div",{className:"flex items-center gap-1 px-2",children:Array.from({length:Math.min(I,5)},(W,B)=>{let F=B+1;return I>5&&L>3&&(F=L-2+B),F>I?null:t.jsx("button",{onClick:()=>Ee(F),className:`w-8 h-8 flex items-center justify-center text-xs font-bold border ${L===F?"border-[#ff4d00] text-[#ff4d00] bg-orange-50":"border-transparent text-gray-400 hover:text-gray-600"}`,children:F},F)})}),t.jsxs("button",{onClick:()=>Ee(L+1),disabled:L===I||I===0,className:"px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Next ",t.jsx(Ac,{size:14})]})]})]})]}),C.length>0&&t.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50",children:t.jsxs("div",{className:"bg-gray-900 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-6 border border-gray-800",children:[t.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 border-r border-gray-700 pr-6 mr-2",children:[C.length," Selected"]}),t.jsxs("button",{onClick:()=>G("resume"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors",children:[t.jsx(dc,{size:14})," Resume"]}),t.jsxs("button",{onClick:()=>G("pause"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors",children:[t.jsx(Mg,{size:14})," Pause"]}),t.jsx("div",{className:"w-px h-4 bg-gray-700 mx-2"}),t.jsxs("button",{onClick:()=>G("delete"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-red-500 transition-colors",children:[t.jsx(_n,{size:14})," Delete"]}),t.jsx("button",{onClick:()=>R([]),className:"ml-4 text-gray-500 hover:text-white",children:t.jsx(Zs,{size:14})})]})})]})},ba=({value:a,onChange:e,options:s,placeholder:r="Select...",disabled:i=!1,className:l=""})=>{const[c,f]=w.useState(!1),u=w.useRef(null),m=s.find(b=>b.value===a);w.useEffect(()=>{const b=v=>{u.current&&!u.current.contains(v.target)&&f(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const g=b=>{e(b),f(!1)};return t.jsxs("div",{className:`relative ${l}`,ref:u,children:[t.jsxs("button",{type:"button",onClick:()=>!i&&f(!c),className:`w-full bg-[#f9fafb] border ${c?"border-[#ff4d00]":"border-gray-200"} p-3 text-sm font-bold text-gray-900 outline-none flex justify-between items-center transition-all duration-200 rounded-sm ${i?"opacity-50 cursor-not-allowed":"cursor-pointer hover:border-gray-300"}`,children:[t.jsx("span",{className:`truncate ${m?"text-gray-900":"text-gray-400"}`,children:m?m.label:r}),t.jsx(dr,{size:16,className:`text-gray-400 transition-transform duration-200 flex-shrink-0 ml-2 ${c?"rotate-180 text-[#ff4d00]":""}`})]}),c&&t.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-[0_10px_40px_-10px_rgba(0,0,0,0.2)] z-50 max-h-60 overflow-y-auto mt-1 animate-in fade-in zoom-in-95 duration-100 rounded-sm",children:s.map(b=>t.jsxs("button",{type:"button",onClick:()=>g(b.value),className:"w-full text-left px-4 py-3 text-sm font-medium text-gray-700 hover:bg-[#ff4d00] hover:text-white flex justify-between items-center transition-colors border-b border-gray-50 last:border-0",children:[t.jsx("span",{className:"truncate",children:b.label}),a===b.value&&t.jsx(ja,{size:14,className:"flex-shrink-0 ml-2"})]},b.value))})]})},rf={AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia and Herzegovina",BW:"Botswana",BR:"Brazil",BN:"Brunei",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",CV:"Cabo Verde",KH:"Cambodia",CM:"Cameroon",CA:"Canada",BQ:"Caribbean Netherlands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CK:"Cook Islands",CR:"Costa Rica",HR:"Croatia",CW:"Curacao",CY:"Cyprus",CZ:"Czechia",CD:"Democratic Republic of the Congo",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",SZ:"Eswatini",ET:"Ethiopia",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern and Antarctic Lands",GA:"Gabon",GE:"Georgia",DE:"Germany",GH:"Ghana",GR:"Greece",GD:"Grenada",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Laos",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MR:"Mauritania",MU:"Mauritius",MX:"Mexico",FM:"Micronesia",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar (Burma)",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MK:"North Macedonia",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn Islands",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",CG:"Republic of the Congo",RO:"Romania",RU:"Russia",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena, Ascension and Tristan da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",KR:"South Korea",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SE:"Sweden",CH:"Switzerland",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",BS:"The Bahamas",GM:"The Gambia",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkiye",TM:"Turkmenistan",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VA:"Vatican City",VE:"Venezuela",VN:"Vietnam",WF:"Wallis and Futuna",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},Qr=Object.entries(rf).map(([a,e])=>({code:a,name:e})),KT=["Afrikaans","Albanian","Amharic","Arabic","Armenian","Azerbaijani","Basque","Belarusian","Bengali","Bosnian","Bulgarian","Catalan","Cebuano","Chichewa","Chinese (Simplified)","Chinese (Traditional)","Corsican","Croatian","Czech","Danish","Dutch","English (US)","English (UK)","Esperanto","Estonian","Filipino","Finnish","French","Frisian","Galician","Georgian","German","Greek","Gujarati","Haitian Creole","Hausa","Hawaiian","Hebrew","Hindi","Hmong","Hungarian","Icelandic","Igbo","Indonesian","Irish","Italian","Japanese","Javanese","Kannada","Kazakh","Khmer","Kinyarwanda","Korean","Kurdish (Kurmanji)","Kyrgyz","Lao","Latin","Latvian","Lithuanian","Luxembourgish","Macedonian","Malagasy","Malay","Malayalam","Maltese","Maori","Marathi","Mongolian","Myanmar (Burmese)","Nepali","Norwegian","Odia (Oriya)","Pashto","Persian","Polish","Portuguese","Punjabi","Romanian","Russian","Samoan","Scots Gaelic","Serbian","Sesotho","Shona","Sindhi","Sinhala","Slovak","Slovenian","Somali","Spanish","Sundanese","Swahili","Swedish","Tajik","Tamil","Tatar","Telugu","Thai","Turkish","Turkmen","Ukrainian","Urdu","Uyghur","Uzbek","Vietnamese","Welsh","Xhosa","Yiddish","Yoruba","Zulu"],xx=[{value:"Direct",label:"Direct"},{value:"Organic (General)",label:"Organic (General)"},{value:"Organic, Google Search",label:"Organic - Google Search"},{value:"Organic, Google News",label:"Organic - Google News"},{value:"Organic, Google Images",label:"Organic - Google Images"},{value:"Organic, Google Video",label:"Organic - Google Video"},{value:"Organic, Bing",label:"Organic - Bing"},{value:"Organic, DuckDuckGo",label:"Organic - DuckDuckGo"},{value:"Organic, YouTube",label:"Organic - YouTube"},{value:"Social (General)",label:"Social (General)"},{value:"Social, Instagram",label:"Social - Instagram"},{value:"Social, Facebook",label:"Social - Facebook"},{value:"Social, LinkedIn",label:"Social - LinkedIn"},{value:"Social, X, Twitter",label:"Social - X (Twitter)"},{value:"Social, Pinterest",label:"Social - Pinterest"},{value:"Referral",label:"Referral"},{value:"Chatbots (General)",label:"Chatbots (General)"},{value:"Chatbots, Meta AI",label:"Chatbots - Meta AI"},{value:"Chatbots, Perplexity AI",label:"Chatbots - Perplexity AI"},{value:"Chatbots, ChatGPT",label:"Chatbots - ChatGPT"},{value:"Chatbots, Claude AI",label:"Chatbots - Claude AI"},{value:"Chatbots, Mistral AI",label:"Chatbots - Mistral AI"},{value:"Chatbots, Microsoft Copilot",label:"Chatbots - Copilot"},{value:"Chatbots, Gemini",label:"Chatbots - Gemini"},{value:"Chatbots, Groq",label:"Chatbots - Groq"},{value:"Messengers (General)",label:"Messengers (General)"},{value:"Messengers, WhatsApp",label:"Messengers - WhatsApp"},{value:"Messengers, WeChat",label:"Messengers - WeChat"},{value:"Messengers, Telegram",label:"Messengers - Telegram"},{value:"Messengers, Viber",label:"Messengers - Viber"}],vw=[{value:"5 seconds",label:"5 seconds"},{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"2 minutes",label:"2 minutes"},{value:"3 minutes",label:"3 minutes"},{value:"4 minutes",label:"4 minutes"},{value:"5 minutes",label:"5 minutes"}],F9=()=>{const a=[];for(let e=-12;e<=14;e++){const s=e>=0?"+":"-",r=Math.abs(e),i=`(GMT${s}${r.toString().padStart(2,"0")}:00) GMT${s}${r}`;if(a.push({value:`GMT${s}${r}`,label:i}),[3,4,5,6,9].includes(r)){const l=`(GMT${s}${r.toString().padStart(2,"0")}:30) GMT${s}${r}:30`;a.push({value:`GMT${s}${r}:30`,label:l})}}return a},ww=F9(),B9=[{value:"random",label:"Random Selection"},{value:"sequential",label:"Sequential Funnel"}],$9=(a,e=30)=>{const s=[],r=new Map(a.map(i=>[i.date,i]));for(let i=e-1;i>=0;i--){const l=new Date;l.setDate(l.getDate()-i);const c=l.toISOString().split("T")[0],f=r.get(c);s.push(f||{date:c,visitors:0,pageviews:0})}return s},q9=({projectId:a,onBack:e,onUpdate:s})=>{var Mr,ls,Ca;const r=ta(),[i,l]=w.useState(void 0),[c,f]=w.useState(!0),[u,m]=w.useState(void 0),[g,b]=w.useState(!1),[v,E]=w.useState(!1),[N,S]=w.useState([]),[T,O]=w.useState([]),[U,M]=w.useState(!1),[L,$]=w.useState(!1),[X,C]=w.useState(""),[R,_]=w.useState([]),[P,D]=w.useState("pageviews"),[z,I]=w.useState("daily"),[Z,Ee]=w.useState(!1),[te,G]=w.useState([]),ye=w.useRef(null),[Re,Pe]=w.useState(!1),[K,W]=w.useState(""),[B,F]=w.useState(!1),[se,je]=w.useState(null),[Ce,Le]=w.useState(!1),[ze,J]=w.useState(""),[Qe,Ze]=w.useState(!1),[lt,Ne]=w.useState(""),[Me,yt]=w.useState(!1);if(w.useEffect(()=>{var pt,Zt;const ae=H.getProjectById(a);if(l(ae),ae){let Y=ae.settings||{bounceRate:0,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,geoTargets:[],countries:["US"],trafficSource:"Direct",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,urlVisitOrder:"random",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0};if((!Y.geoTargets||Y.geoTargets.length===0)&&((pt=Y.countries)==null?void 0:pt.length)>0){const Be=Y.countries.length,it=Math.floor(100/Be),kt=100-it*Be;Y.geoTargets=Y.countries.map(($t,Ot)=>{const fs=Object.keys(rf).find(js=>rf[js]===$t)||$t;return{id:`geo-${Date.now()}-${Ot}`,country:rf[fs]||fs,countryCode:fs,percent:Ot===0?it+kt:it}})}Y.languages||(Y.languages=[Y.language||"en-US"]),!Y.scheduleTrafficAmount&&((Zt=ae.customTarget)!=null&&Zt.dailyLimit)&&(Y.scheduleTrafficAmount=ae.customTarget.dailyLimit),m(Y)}const Ge=H.getSystemSettings();_(Ge.payloadTemplates||[]),f(!1)},[a]),w.useEffect(()=>{(async()=>{const Ge=await H.getCalculatedExpiry(a);je(Ge)})()},[a]),w.useEffect(()=>{(async()=>{Ee(!0);const Ge=await H.syncProjectStats(a,30);S($9(Ge,30)),Ee(!1)})()},[a]),w.useEffect(()=>{(async()=>{if(z==="hourly"){Ee(!0);const Ge=await H.syncProjectStatsHourly(a,24);O(Ge),Ee(!1)}})()},[a,z]),w.useEffect(()=>{const ae=async()=>{if(z==="live"){Ee(!0);const Ge=await H.syncProjectStatsLive(a);G(Ge),Ee(!1)}};return z==="live"&&(ae(),ye.current=setInterval(ae,300*1e3)),()=>{ye.current&&(clearInterval(ye.current),ye.current=null)}},[a,z]),w.useEffect(()=>{const ae=()=>{Ze(!1),yt(!1)};return document.addEventListener("click",ae),()=>document.removeEventListener("click",ae)},[]),c||!i||!u)return t.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading Configuration..."});const we=i.plan==="Free Trial",re=(ae,Ge)=>{we||m(pt=>pt?{...pt,[ae]:Ge}:void 0)},qe=async()=>{if(we)return;if(!u.entryUrls||u.entryUrls.trim()===""){alert("Entry URLs are mandatory. Please provide at least one URL.");return}const ae=(u.geoTargets||[]).reduce((Zt,Y)=>Zt+Y.percent,0);if(ae!==100&&(u.geoTargets||[]).length>0){alert(`Total location percentage must equal 100%. Current total: ${ae}%`);return}b(!0),E(!1);const Ge={...u,countries:(u.geoTargets||[]).map(Zt=>Zt.country),language:(u.languages||[])[0]||"en-US"},pt={...i,settings:Ge};try{await H.updateProject(pt),l(pt),E(!0),setTimeout(()=>E(!1),2e3),s&&s()}catch(Zt){console.error("Failed to save project:",Zt),alert("Failed to save project settings. Please try again.")}finally{b(!1)}},rt=async()=>{if(!i)return;const ae=i.status==="active"?"stopped":"active";try{await H.updateProjectStatus(i.id,ae),l({...i,status:ae}),s&&s()}catch(Ge){console.error("Failed to update project status:",Ge),alert("Failed to update project status. Please try again.")}},ie=async()=>{if(i&&confirm(`Clone "${i.name}"? A copy will be created with status "paused".`))try{await H.cloneProject(i.id),s&&s(),r("/dashboard/campaigns")}catch(ae){console.error("Failed to clone project:",ae),alert("Failed to clone project. Please try again.")}},Ue=async()=>{if(i&&confirm(`Are you sure you want to delete "${i.name}"? This action cannot be undone.`))try{await H.deleteProject(i.id),s&&s(),r("/dashboard/campaigns")}catch(ae){console.error("Failed to delete project:",ae),alert("Failed to delete project. Please try again.")}},is=()=>{if(!X.trim())return;const ae=H.getSystemSettings(),Ge={id:`tpl-${Date.now()}`,name:X,json:JSON.stringify(u)},pt={...ae,payloadTemplates:[...ae.payloadTemplates||[],Ge]};H.saveSystemSettings(pt),_(pt.payloadTemplates||[]),C(""),M(!1),alert("Template saved successfully!")},It=ae=>{const Ge=R.find(pt=>pt.id===ae);if(Ge)try{const pt=JSON.parse(Ge.json);m({...u,...pt}),$(!1),alert("Template loaded. Please review settings before saving.")}catch{alert("Failed to parse template data.")}},Ss=async()=>{var Ge;const ae=(Ge=(u.entryUrls||"").split(`
`)[0])==null?void 0:Ge.trim();if(!ae){alert("Please enter an Entry URL first.");return}Le(!0);try{const pt=await H.scanGA4(ae);re("gaId",pt),alert(`Found Analytics ID: ${pt}`)}catch(pt){alert(`Scan failed: ${pt.message||"No GA ID found"}`)}finally{Le(!1)}},fe=ae=>{if(we||(u.geoTargets||[]).find(kt=>kt.country===ae))return;const pt=(u.geoTargets||[]).length+1,Zt=Math.floor(100/pt),Y=(u.geoTargets||[]).map(kt=>({...kt,percent:Zt})),Be=100-Zt*(pt-1),it={id:`geo-${Date.now()}`,country:rf[ae]||ae,countryCode:ae,percent:Be};re("geoTargets",[...Y,it]),Ne("")},he=ae=>{we||re("geoTargets",(u.geoTargets||[]).filter(Ge=>Ge.id!==ae))},De=(ae,Ge)=>{if(we)return;const pt=(u.geoTargets||[]).map(Zt=>Zt.id===ae?{...Zt,percent:Ge}:Zt);re("geoTargets",pt)},nt=ae=>{we||((u.languages||[]).includes(ae)||re("languages",[...u.languages||[],ae]),J(""))},ut=ae=>{we||re("languages",(u.languages||[]).filter(Ge=>Ge!==ae))},_t=ae=>(ae||"").split(`
`).filter(Ge=>Ge.trim().length>0).length,Ut=_t(u==null?void 0:u.entryUrls),Mt=_t(u==null?void 0:u.innerUrls),os=_t(u==null?void 0:u.exitUrls),hs=Ut+Mt+os,Ft=N.length>0?N:i.stats||[];Ft.length>0&&Math.max(...Ft.map(ae=>P==="visitors"?ae.visitors:ae.pageviews||ae.visitors));const Yi=KT.filter(ae=>ae.toLowerCase().includes(ze.toLowerCase())),Tn=Qr.filter(ae=>ae.name.toLowerCase().includes(lt.toLowerCase())),nn=((Mr=i.customTarget)==null?void 0:Mr.totalVisitors)||0,aa=((ls=i.customTarget)==null?void 0:ls.dailyLimit)||0;return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center bg-white p-6 border border-gray-200 shadow-sm sticky top-0 z-10",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-sm text-gray-500 transition-colors",children:t.jsx(ur,{size:20})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Project Configuration"}),t.jsxs("span",{className:`text-[8px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded border ${i.plan==="Expert"?"bg-green-50 text-green-700 border-green-200":i.plan==="Professional"?"bg-blue-50 text-blue-700 border-blue-200":"bg-orange-50 text-orange-700 border-orange-200"}`,children:[i.plan," Plan"]})]}),Re?t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("input",{type:"text",value:K,onChange:ae=>W(ae.target.value),onKeyDown:ae=>{ae.key==="Enter"&&K.trim()&&(l({...i,name:K.trim()}),Pe(!1)),ae.key==="Escape"&&(Pe(!1),W(i.name))},onBlur:()=>{K.trim()&&l({...i,name:K.trim()}),Pe(!1)},className:"text-2xl font-black text-gray-900 bg-gray-100 px-2 py-1 outline-none focus:ring-2 focus:ring-[#ff4d00]",autoFocus:!0})}):t.jsxs("div",{className:"flex items-center gap-2 group",children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900",children:i.name}),t.jsx("button",{onClick:()=>{W(i.name),Pe(!0)},className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",title:"Edit project name",children:t.jsx(zT,{size:16,className:"text-[#ff4d00]"})})]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 mr-4 border-r border-gray-200 pr-4",children:[t.jsxs("button",{onClick:()=>M(!0),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(tn,{size:14,className:"text-[#ff4d00]"})," Save Template"]}),t.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(su,{size:14,className:"text-[#ff4d00]"})," Load Template"]})]}),v&&t.jsxs("span",{className:"text-green-600 text-xs font-bold uppercase tracking-wider animate-in fade-in slide-in-from-right-2 mr-4 flex items-center gap-1",children:[t.jsx(Go,{size:14})," Saved"]}),we?t.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 text-gray-500 px-4 py-2.5 text-xs font-bold uppercase tracking-wider border border-gray-200 cursor-not-allowed",children:[t.jsx(ir,{size:14})," Read Only"]}):t.jsxs("button",{onClick:qe,disabled:g,className:"flex items-center gap-2 bg-[#ff4d00] text-white px-5 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors disabled:opacity-70 shadow-lg",children:[t.jsx(tn,{size:14})," ",g?"Saving...":"Save Changes"]}),t.jsxs("button",{onClick:ie,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(oa,{size:14,className:"text-[#ff4d00]"})," Clone"]}),t.jsxs("button",{onClick:rt,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[i.status==="active"?t.jsx(Mg,{size:14,className:"text-[#ff4d00]"}):t.jsx(dc,{size:14,className:"text-[#ff4d00]"}),i.status==="active"?"Pause":"Resume"]}),t.jsxs("button",{onClick:Ue,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(_n,{size:14,className:"text-[#ff4d00]"})," Delete"]})]})]}),U&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white p-6 w-full max-w-md shadow-xl border border-gray-200",children:[t.jsx("h3",{className:"text-sm font-bold uppercase mb-4",children:"Save Configuration as Template"}),t.jsx("input",{value:X,onChange:ae=>C(ae.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] mb-4",placeholder:"Template Name (e.g. Mobile US Organic)"}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 text-xs font-bold uppercase text-gray-500",children:"Cancel"}),t.jsx("button",{onClick:is,className:"px-4 py-2 text-xs font-bold uppercase bg-black text-white hover:bg-[#ff4d00]",children:"Save"})]})]})}),L&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white p-6 w-full max-w-md shadow-xl border border-gray-200",children:[t.jsx("h3",{className:"text-sm font-bold uppercase mb-4",children:"Load Template"}),t.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto",children:R.length===0?t.jsx("p",{className:"text-xs text-gray-400",children:"No templates found."}):R.map(ae=>t.jsx("button",{onClick:()=>It(ae.id),className:"w-full text-left p-3 bg-gray-50 hover:bg-gray-100 text-sm font-medium border border-transparent hover:border-gray-200",children:ae.name},ae.id))}),t.jsx("button",{onClick:()=>$(!1),className:"w-full px-4 py-2 text-xs font-bold uppercase bg-black text-white hover:bg-gray-800",children:"Close"})]})}),we&&t.jsxs("div",{className:"bg-orange-50 border-l-4 border-[#ff4d00] p-4 flex items-start gap-3 shadow-sm",children:[t.jsx(Vt,{className:"text-[#ff4d00] shrink-0",size:20}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-orange-900 uppercase tracking-wide",children:"Free Trial Mode"}),t.jsx("p",{className:"text-xs text-orange-700 mt-1 leading-relaxed",children:"This project is running on a high-speed demonstration plan (6,000 hits/4h). Settings are locked."})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(ti,{size:14})," Total Target"]}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:nn>0?nn.toLocaleString():i.plan})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(Jd,{size:14})," Daily Speed"]}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:aa>0?`${aa.toLocaleString()}/day`:"N/A"})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(Er,{size:14})," Hits Total"]}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:((Ca=i.totalHits)==null?void 0:Ca.toLocaleString())||0})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(mx,{size:14})," Status"]}),t.jsx("div",{className:`text-sm font-black uppercase tracking-wide ${i.status==="active"?"text-green-600":i.status==="stopped"?"text-red-600":"text-gray-500"}`,children:i.status==="completed"?"Expired":i.status})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(ri,{size:14})," Expires"]}),se?t.jsx("div",{children:se.message?t.jsx("div",{className:"text-sm font-bold text-orange-500",children:se.message}):se.daysRemaining!==null?t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:se.expiresDate}),t.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:[se.daysRemaining.toFixed(1)," days remaining"]})]}):t.jsx("div",{className:"text-sm font-bold text-gray-900",children:i.expires})}):t.jsx("div",{className:"text-sm font-bold text-gray-900",children:i.expires})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("button",{onClick:()=>F(!B),className:"w-full flex items-center justify-between p-6 hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ri,{size:18,className:"text-[#ff4d00]"}),t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Traffic Schedule"})]}),B?t.jsx(il,{size:18,className:"text-gray-400"}):t.jsx(dr,{size:18,className:"text-gray-400"})]}),B&&t.jsx("div",{className:"p-6 pt-0 border-t border-gray-100 animate-in fade-in slide-in-from-top-2",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-4",children:[t.jsxs("div",{children:[t.jsx(As,{children:"Start Date"}),t.jsx("input",{type:"date",value:u.scheduleStart||"",onChange:ae=>re("scheduleStart",ae.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",disabled:we})]}),t.jsxs("div",{children:[t.jsx(As,{children:"End Date"}),t.jsx("input",{type:"date",value:u.scheduleEnd||"",onChange:ae=>re("scheduleEnd",ae.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",disabled:we})]}),t.jsxs("div",{children:[t.jsx(As,{children:"Daily Traffic (Hits per Day)"}),t.jsx("input",{type:"number",value:u.scheduleTrafficAmount||"",onChange:ae=>re("scheduleTrafficAmount",parseInt(ae.target.value)||0),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"Hits per day",disabled:we})]}),t.jsxs("div",{children:[t.jsx(As,{children:"Distribution Pattern"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>re("schedulePattern","even"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wider border transition-colors ${u.schedulePattern==="even"||!u.schedulePattern?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 text-gray-600 hover:border-gray-300"}`,disabled:we,children:"Even"}),t.jsx("button",{onClick:()=>re("schedulePattern","realistic"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wider border transition-colors ${u.schedulePattern==="realistic"?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 text-gray-600 hover:border-gray-300"}`,disabled:we,children:"Realistic"})]}),u.schedulePattern==="realistic"&&t.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:"Traffic varies by time of day and day of week for natural patterns."})]})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Traffic Statistics"}),t.jsxs("div",{className:"flex bg-gray-100 rounded-sm p-1",children:[t.jsx("button",{onClick:()=>I("daily"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${z==="daily"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"30 Days"}),t.jsx("button",{onClick:()=>I("hourly"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${z==="hourly"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"24 Hours"}),t.jsx("button",{onClick:()=>I("live"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${z==="live"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"Live"})]})]}),t.jsxs("div",{className:"text-xs text-gray-500 font-bold",children:["Total Views:",t.jsx("span",{className:"text-gray-900 ml-1",children:(z==="daily"?Ft:z==="hourly"?T:te).reduce((ae,Ge)=>ae+(Ge.pageviews||Ge.visitors),0).toLocaleString()})]})]}),z==="live"&&t.jsxs("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-sm flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-[#ff4d00] rounded-full animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-orange-700 uppercase tracking-wide",children:"Live Traffic - Updated every 5 minutes"})]}),t.jsx("div",{className:"h-64 flex items-end justify-between gap-1 w-full px-4 border-b border-gray-100 pb-2",children:Z?t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm animate-pulse",children:"Loading statistics..."}):(z==="daily"?Ft:z==="hourly"?T:te).length===0?t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:z==="live"?"No live traffic data available.":"No traffic data available."}):(z==="daily"?Ft:z==="hourly"?T:te).map((ae,Ge)=>{const pt=ae.pageviews||ae.visitors,Y=Math.max(...(z==="daily"?Ft:z==="hourly"?T:te).map(kt=>kt.pageviews||kt.visitors),1),Be=Y>0?pt/Y*100:0,it=z==="daily"?ae.date:z==="hourly"?ae.hour:ae.time;return t.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative h-full",children:[t.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap",children:[it,": ",pt.toLocaleString()]}),t.jsx("div",{className:"w-full opacity-80 hover:opacity-100 transition-opacity rounded-t-sm min-w-[4px] bg-[#ff4d00]",style:{height:`${Be}%`,minHeight:"4px"}})]},Ge)})})]}),t.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-6 ${we?"opacity-70 pointer-events-none grayscale-[0.5]":""}`,children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(gb,{})," Basic Settings"]}),t.jsxs("div",{className:"space-y-8",children:[t.jsx(xb,{label:"Bounce Rate",value:u.bounceRate,onChange:ae=>re("bounceRate",ae),suffix:"%"}),t.jsx(xb,{label:"Visitor Returning Rate",value:u.returnRate,onChange:ae=>re("returnRate",ae),suffix:"%"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx(As,{children:"Device Distribution"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>{re("deviceSplit",100),re("tabletSplit",0)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Desktop Only"}),t.jsx("button",{onClick:()=>{re("deviceSplit",33),re("tabletSplit",33)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Balanced"}),t.jsx("button",{onClick:()=>{re("deviceSplit",0),re("tabletSplit",0)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Mobile Only"})]})]}),t.jsxs("div",{className:"relative h-4 bg-gray-100 rounded-sm overflow-hidden flex text-[8px] font-bold text-white uppercase text-center leading-4 shadow-inner",children:[t.jsx("div",{className:"h-full bg-[#ff4d00]",style:{width:`${u.deviceSplit}%`},children:u.deviceSplit>10&&"Desktop"}),t.jsx("div",{className:"h-full bg-gray-600",style:{width:`${u.tabletSplit||0}%`},children:(u.tabletSplit||0)>10&&"Tablet"}),t.jsx("div",{className:"h-full bg-black/80",style:{width:`${100-u.deviceSplit-(u.tabletSplit||0)}%`},children:100-u.deviceSplit-(u.tabletSplit||0)>10&&"Mobile"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase mb-1",children:[t.jsxs("span",{className:"flex items-center gap-1 text-[#ff4d00]",children:[t.jsx(cc,{size:12})," Desktop"]}),t.jsxs("span",{children:[u.deviceSplit,"%"]})]}),t.jsx("input",{type:"range",min:"0",max:"100",value:u.deviceSplit,onChange:ae=>{const Ge=parseInt(ae.target.value),pt=100-(u.tabletSplit||0);re("deviceSplit",Math.min(Ge,pt))},className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]",disabled:we})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase mb-1",children:[t.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[t.jsx(cc,{size:12})," Tablet"]}),t.jsxs("span",{children:[u.tabletSplit||0,"%"]})]}),t.jsx("input",{type:"range",min:"0",max:"100",value:u.tabletSplit||0,onChange:ae=>{const Ge=parseInt(ae.target.value),pt=100-u.deviceSplit;re("tabletSplit",Math.min(Ge,pt))},className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-gray-600",disabled:we})]}),t.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase bg-gray-50 p-2 rounded-sm border border-gray-100",children:[t.jsxs("span",{className:"flex items-center gap-1 text-black",children:[t.jsx(px,{size:12})," Mobile Remainder"]}),t.jsxs("span",{className:"text-black",children:[Math.max(0,100-u.deviceSplit-(u.tabletSplit||0)),"%"]})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(gb,{})," Additional Settings"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(As,{children:"Time On Page"}),t.jsx(ba,{value:u.timeOnPage,onChange:ae=>re("timeOnPage",ae),options:vw,disabled:we})]}),t.jsxs("div",{children:[t.jsx(As,{children:"Timezone"}),t.jsx(ba,{value:u.timezone,onChange:ae=>re("timezone",ae),options:ww,disabled:we})]}),t.jsxs("div",{className:"relative",onClick:ae=>ae.stopPropagation(),children:[t.jsx(As,{children:"Browser Languages"}),t.jsxs("div",{className:"bg-[#f9fafb] border border-gray-200 p-2 min-h-[48px] flex flex-wrap gap-2",children:[(u.languages||[]).map(ae=>t.jsxs("span",{className:"bg-white border border-gray-200 text-xs font-bold uppercase px-2 py-1 flex items-center gap-1 rounded-sm",children:[ae," ",t.jsx("button",{onClick:()=>ut(ae),className:"hover:text-red-500",children:t.jsx(Zs,{size:10})})]},ae)),t.jsx("input",{value:ze,onChange:ae=>{J(ae.target.value),Ze(!0)},onFocus:()=>Ze(!0),className:"flex-1 bg-transparent text-sm outline-none min-w-[80px]",placeholder:(u.languages||[]).length===0?"Select Language...":"",disabled:we})]}),Qe&&t.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-xl max-h-60 overflow-y-auto z-50",children:Yi.map(ae=>t.jsx("div",{className:"p-3 text-sm hover:bg-orange-50 cursor-pointer",onClick:()=>{nt(ae),Ze(!1)},children:ae},ae))})]}),t.jsxs("div",{children:[t.jsx(As,{children:"Google Analytics ID"}),t.jsxs("div",{className:"relative flex items-center",children:[t.jsx("input",{value:u.gaId,onChange:ae=>re("gaId",ae.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium text-gray-900 pr-10",placeholder:"G-XXXXXXXXXX",disabled:we}),t.jsx("button",{onClick:Ss,className:"absolute right-2 text-xs font-bold text-gray-400 hover:text-[#ff4d00] uppercase tracking-wide flex items-center gap-1",title:"Scan Entry URL for GA ID",disabled:Ce||we,children:Ce?t.jsx(Sr,{size:14,className:"animate-spin"}):t.jsx(Ha,{size:14})})]})]})]})]})]}),i.plan==="Economy"&&t.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 mx-6 flex items-center justify-between shadow-sm animate-in fade-in slide-in-from-top-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Na,{size:20,className:"text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold text-orange-900 uppercase tracking-tight",children:"Tier Limitation: Economy"}),t.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Organic/Social sources, Residential IPs, and GA4 Automation are disabled on this plan."})]})]})}),t.jsxs("div",{className:we?"opacity-70 pointer-events-none grayscale-[0.5]":"",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Ns,{size:16})," URL Configuration"]}),t.jsxs("div",{className:"space-y-8",children:[t.jsx(xb,{label:"Inner URLs Limit",value:u.innerUrlCount,onChange:ae=>re("innerUrlCount",ae),max:10}),t.jsx("div",{className:"flex items-end justify-between border-b border-gray-100 pb-2 mb-2",children:t.jsx(As,{children:"Visit Behavior"})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:t.jsxs("div",{className:"bg-gray-50 p-3 rounded-sm border border-gray-100",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-2",children:"Visit Order"}),t.jsx(ba,{value:u.urlVisitOrder||"random",onChange:ae=>re("urlVisitOrder",ae),options:B9,disabled:we}),t.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 leading-tight",children:[t.jsx("strong",{children:"Sequential:"})," Landing  Inner 1  Inner 2.",t.jsx("br",{}),t.jsx("strong",{children:"Random:"})," Picks random pages from pool."]})]})}),t.jsx(yb,{label:"Entry URLs",value:u.entryUrls,onChange:ae=>re("entryUrls",ae),checked:u.autoCrawlEntry,onCheck:ae=>re("autoCrawlEntry",ae),countLabel:`Total: ${hs}/10`,required:!0}),t.jsx(yb,{label:"Inner URLs",value:u.innerUrls,onChange:ae=>re("innerUrls",ae),checked:u.autoCrawlInner,onCheck:ae=>re("autoCrawlInner",ae),countLabel:`Total: ${hs}/10`}),t.jsx(yb,{label:"Exit URLs",value:u.exitUrls,onChange:ae=>re("exitUrls",ae),checked:u.autoCrawlExit,onCheck:ae=>re("autoCrawlExit",ae),countLabel:`Total: ${hs}/10`}),t.jsxs("div",{className:i.plan==="Economy"?"opacity-50 pointer-events-none":"",children:[t.jsx(As,{children:"Sitemap / RSS Feed"}),t.jsx("input",{value:u.sitemap||"",onChange:ae=>re("sitemap",ae.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"https://example.com/sitemap.xml"}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Automatically discover URLs from your sitemap"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",onClick:ae=>ae.stopPropagation(),children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Ko,{size:16})," Location Targeting"]}),t.jsxs("div",{className:"mb-4",children:[t.jsx(As,{children:"Search Countries"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{value:lt,onChange:ae=>{Ne(ae.target.value),yt(!0)},onFocus:()=>yt(!0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"Type to search (e.g. United States)",disabled:we}),t.jsx(Ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),Me&&lt&&t.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-xl max-h-60 overflow-y-auto z-50 mt-1",children:Tn.map(ae=>t.jsxs("div",{className:"p-3 text-sm hover:bg-orange-50 cursor-pointer font-medium flex items-center gap-2",onClick:()=>{fe(ae.code),yt(!1)},children:[t.jsx("img",{src:`https://flagcdn.com/w20/${ae.code.toLowerCase()}.png`,alt:ae.code,className:"w-4 h-auto rounded-sm",onError:Ge=>{Ge.target.style.display="none"}}),ae.name]},ae.code))})]}),(u.geoTargets||[]).length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"flex justify-between items-center mb-2",children:t.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase",children:["Selected (",(u.geoTargets||[]).length,")"]})}),t.jsx("div",{className:"space-y-2",children:(u.geoTargets||[]).map(ae=>{const Ge=Qr.find(Y=>Y.code===ae.country),Zt=100-(u.geoTargets||[]).reduce((Y,Be)=>Be.id!==ae.id?Y+Be.percent:Y,0);return t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-100",children:[t.jsx("img",{src:`https://flagcdn.com/w24/${ae.country.toLowerCase()}.png`,alt:ae.country,className:"w-6 h-auto rounded-sm",onError:Y=>{Y.target.style.display="none"}}),t.jsx("span",{className:"flex-1 font-bold text-sm text-gray-900",children:(Ge==null?void 0:Ge.name)||ae.country}),t.jsx("input",{type:"range",min:"0",max:Zt,value:ae.percent,onChange:Y=>De(ae.id,parseInt(Y.target.value)),className:"w-24 accent-[#ff4d00]"}),t.jsx("input",{type:"number",min:"0",max:Zt,value:ae.percent,onChange:Y=>De(ae.id,parseInt(Y.target.value)||0),className:"w-16 p-1 text-center text-sm font-bold border border-gray-200 outline-none focus:border-[#ff4d00]"}),t.jsx("span",{className:"text-sm font-bold text-gray-400",children:"%"}),t.jsx("button",{onClick:()=>he(ae.id),className:"text-gray-400 hover:text-red-500",children:t.jsx(Zs,{size:14})})]},ae.id)})}),t.jsxs("div",{className:`text-right mt-2 text-sm font-bold ${(u.geoTargets||[]).reduce((ae,Ge)=>ae+Ge.percent,0)===100?"text-green-600":"text-orange-500"}`,children:["Total: ",(u.geoTargets||[]).reduce((ae,Ge)=>ae+Ge.percent,0),"%"]})]}),(u.geoTargets||[]).length===0&&t.jsx("div",{className:"text-center p-4 text-xs text-gray-400 bg-gray-50 border border-dashed border-gray-200",children:"No countries selected. Traffic will be global."})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Er,{size:16})," Traffic Source"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(As,{children:"Source Type"}),t.jsx(ba,{value:u.trafficSource,onChange:ae=>re("trafficSource",ae),options:xx,disabled:we})]}),(u.trafficSource||"").includes("Organic")&&t.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[t.jsx(As,{children:"Keywords (One per line)"}),t.jsx("textarea",{value:u.keywords||"",onChange:ae=>re("keywords",ae.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none",placeholder:`keyword 1
keyword 2`,disabled:we})]}),((u.trafficSource||"").includes("Social")||(u.trafficSource||"").includes("Referral"))&&t.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[t.jsx(As,{children:"Referrer URLs (One per line)"}),t.jsx("textarea",{value:u.referralUrls||"",onChange:ae=>re("referralUrls",ae.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none",placeholder:`https://referrer-site.com/post
https://social-media.com/share`,disabled:we})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",onClick:ae=>ae.stopPropagation(),children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(ti,{size:16})," Tracking & Attribution (UTM)"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(As,{children:"Campaign Source"}),t.jsx("input",{value:u.utmSource||"",onChange:ae=>re("utmSource",ae.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. google, newsletter",disabled:we})]}),t.jsxs("div",{children:[t.jsx(As,{children:"Campaign Medium"}),t.jsx("input",{value:u.utmMedium||"",onChange:ae=>re("utmMedium",ae.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. cpc, banner",disabled:we})]}),t.jsxs("div",{children:[t.jsx(As,{children:"Campaign Name"}),t.jsx("input",{value:u.utmCampaign||"",onChange:ae=>re("utmCampaign",ae.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. spring_sale",disabled:we})]}),t.jsxs("div",{children:[t.jsx(As,{children:"Campaign Term"}),t.jsx("input",{value:u.utmTerm||"",onChange:ae=>re("utmTerm",ae.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. running shoes",disabled:we})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(As,{children:"Campaign Content"}),t.jsx("input",{value:u.utmContent||"",onChange:ae=>re("utmContent",ae.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. logolink, textlink",disabled:we}),t.jsxs("div",{className:"mt-2 flex gap-2",children:[t.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{random_keyword}}"}),t.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{timestamp}}"}),t.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{device_type}}"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mb-20 mt-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(gb,{})," General Settings"]}),t.jsxs("div",{className:`flex items-center justify-between p-6 mb-8 border-2 rounded-sm transition-all duration-300 relative overflow-hidden
                    ${u.autoRenew?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white"} 
                `,children:[t.jsxs("div",{className:"relative z-10 max-w-xl",children:[t.jsxs("span",{className:"text-lg font-bold text-gray-900 flex items-center gap-3",children:[t.jsx(Vt,{size:20,className:u.autoRenew?"text-green-600":"text-gray-400"}),"Auto Renew Campaign"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2 leading-relaxed",children:"Automatically renew this campaign using wallet credits when it expires."})]}),t.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[t.jsx("button",{onClick:()=>re("autoRenew",!u.autoRenew),className:`w-14 h-8 flex items-center p-1 transition-colors duration-300 rounded-full ${u.autoRenew?"bg-green-500":"bg-gray-200"}`,disabled:we,children:t.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${u.autoRenew?"translate-x-6":"translate-x-0"}`})}),t.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${u.autoRenew?"text-green-600":"text-gray-400"}`,children:u.autoRenew?"Active":"Disabled"})]})]}),t.jsx("div",{className:"h-px bg-gray-100 my-8"}),t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-400 mb-6 flex items-center gap-2",children:[t.jsx(sn,{size:14,className:"text-yellow-500"})," Premium Expert Features"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.jsxs("div",{className:`relative ${i.plan!=="Expert"?"opacity-50":""}`,children:[t.jsx(H9,{label:"Automatic Website Crawler",checked:u.websiteCrawler||!1,onChange:ae=>i.plan==="Expert"&&re("websiteCrawler",ae)}),i.plan!=="Expert"&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/10 cursor-not-allowed pointer-events-auto",title:"Expert Tier Required"})]})})]})]})]})},gb=()=>t.jsx("div",{className:"w-1 h-3 bg-[#ff4d00] mr-1"}),As=({children:a,required:e})=>t.jsxs("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:[a," ",e&&t.jsx("span",{className:"text-red-500",children:"*"})]}),xb=({label:a,value:e,onChange:s,suffix:r="",max:i=100})=>t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx(As,{children:a}),t.jsxs("span",{className:"text-xs font-bold text-[#ff4d00]",children:[e,r]})]}),t.jsx("input",{type:"range",min:"0",max:i,value:e,onChange:l=>s(parseInt(l.target.value)),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"})]}),yb=({label:a,value:e,onChange:s,checked:r,onCheck:i,countLabel:l,placeholder:c,required:f})=>t.jsx("div",{className:"flex items-start gap-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:r,onChange:u=>i(u.target.checked),className:"accent-[#ff4d00] w-4 h-4"}),t.jsx(As,{required:f,children:a})]}),l&&t.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:l})]}),t.jsx("textarea",{value:e,onChange:u=>s(u.target.value),rows:4,className:`w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium text-gray-900 transition-colors resize-y ${r?"":"opacity-50"}`,placeholder:c||"https://example.com/page",disabled:!r})]})}),H9=({label:a,checked:e,onChange:s})=>t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:a}),t.jsx("button",{onClick:()=>s(!e),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${e?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${e?"translate-x-5":"translate-x-0"}`})})]}),wk=new Set(["bit.ly","tinyurl.com","t.co","goo.gl","ow.ly","is.gd","buff.ly","short.link","rebrand.ly","bl.ink","tiny.cc","lnkd.in","db.tt","qr.ae","amzn.to","ow.ly","bit.do","mcaf.ee","twe.ly","tr.im","x.co","v.gd","clicky.me","budurl.com","shorturl.at","cutt.ly","rb.gy","short.gy","tiny.pl","b.link","u.to","j.mp","disq.us","shrinkearn.com","clk.sh","sh.st","fc.lc","uii.io","exe.io","linkshort.pro","link1s.net","otolink.net","adshort.pro","adslink.pw","d.link","clk.ink","123link.pw","short.pe","linkwi.ru","mitly.us","adfly.mobi","clk.press","uii.io","exe.io","we.tl","send.cm","drive.google.com","docs.google.com","forms.gle","spreadsheets","s.id","linktr.ee","lnk.bio","beacons.ai","campsite.bio","milkshake.app","withkoji.com","bio.link","cara.app","creators","g.page","maps.app.goo.gl","play.google.com","apps.apple.com","open.spotify.com","music.apple.com","podcasts.apple.com","youtube.com","youtu.be","vm.tiktok.com","instagram.com","facebook.com","fb.watch","twitter.com","x.com","linkedin.com","pinterest.com","reddit.com","tumblr.com","medium.com","substack.com","patreon.com","ko-fi.com","buymeacoffee.com"]),jk=new Set(["wix.com","wixsite.com","wordpress.com","wordpress.org","blogspot.com","blogger.com","tumblr.com","weebly.com","weeblysite.com","squarespace.com","square.site","github.io","gitlab.io","vercel.app","netlify.app","netlify.com","herokuapp.com","heroku.com","firebaseapp.com","web.app","pages.dev","cloudflare.io","surge.sh","now.sh","zeit.co","glitch.me","repl.co","replit.com","pythonanywhere.com","000webhostapp.com","infinityfree.com","awardspace.com","byethost.com","hostinger.com","000webhost.com","neocities.org","angelfire.com","tripod.com","geocities.com","homestead.com","webs.com","freehostia.com","zoho.com","zoho.eu","zendesk.com","freshdesk.com","helpscout.com","intercom.com","crisp.chat","tawk.to","mailchimp.com","campaign-archive.com","campaign-archive1.com","substack.com","medium.com","ghost.io","posthaven.com","typepad.com","livejournal.com","hatenablog.com","carrd.co","sites.google.com","notion.site","notion.so","coda.io","airtable.com","swingbybio.com","taplink.at","linkbio.co","linktr.ee","milkshake.website","about.me","bio.site","beacons.ai","solo.to","popshopamerica.com","allmylinks.com","myurls.bio","haybio.link","kroslinks.com","linkhub.pro","magiclink.bio"]),Nk=new Set(["clickmagick.com","clickmagick.net","clickmeter.com","click.org","clickperfect.com","click.org","prettylink.com","prettylinks.com","geniuslink.com","fairlink.com","linklockr.com","improvemyurl.com","adtrackzgold.com","linktrackr.com","hypertracker.com","click.org","adcrun.ch","ity.im","qrf.in","1url.com","viralurl.com","viralhosts.com","le-vel.com","jvz3.com","jvz4.com","jvz6.com","jvz7.com","jvz8.com","jvz9.com","jvz10.com","jvzoo.com","warriorplus.com","clickbank.net","shareasale.com","cj.com","impact.com","partnerize.com","awin1.com","tradedoubler.com","zazzle.com"]),G9=[/^127\./,/^10\./,/^192\.168\./,/^172\.(1[6-9]|2[0-9]|3[01])\./,/^169\.254\./,/^::1$/,/^fc00:/,/^fd00:/,/^fe80:/,/^localhost$/i,/^0\.0\.0\.0$/,/^local\./i],WT=["file://","data:","javascript:","about:","vbscript:","mailto:"];function uc(a){return a?(a=a.toLowerCase().trim(),a.startsWith("www.")&&(a=a.substring(4)),a):""}function YT(a){if(!a)return"";a=a.trim(),!a.startsWith("http://")&&!a.startsWith("https://")&&(a="https://"+a);try{const e=new URL(a);let s=e.hostname||e.pathname;return s.includes(":")&&(s=s.split(":")[0]),uc(s)}catch{return uc(a)}}function jw(a){if(a=uc(a),!a)return"";const e=a.split(".");return e.length>=2?e[e.length-1].length===2&&e.length>=3?e.slice(-3).join("."):e.slice(-2).join("."):a}function K9(a){const e=uc(a),s=jw(e);return wk.has(e)||wk.has(s)}function W9(a){const s=uc(a).split(".");if(s.length>=3){const r=s.slice(-2).join(".");if(jk.has(r))return!0;const i=s.slice(-3).join(".");if(jk.has(i))return!0}return!1}function Y9(a){const e=uc(a),s=jw(e);return Nk.has(e)||Nk.has(s)}function Q9(a){if(!a)return!1;const e=a.toLowerCase().trim();for(const r of WT)if(e.startsWith(r))return!0;const s=YT(a);for(const r of G9)if(r.test(s))return!0;return!1}function J9(a){if(!a)return!1;const e=a.toLowerCase().trim();for(const s of WT)if(e.startsWith(s))return!1;return!0}function ov(a,e){if(!a)return{isValid:!1,errorMessage:"URL is required"};if(a=a.trim(),!J9(a))return{isValid:!1,errorMessage:"Invalid URL protocol. Use http:// or https://"};if(Q9(a))return{isValid:!1,errorMessage:"Private or local addresses are not allowed"};const s=YT(a);if(!s)return{isValid:!1,errorMessage:"Could not parse domain from URL"};if(K9(s))return{isValid:!1,errorMessage:"URL shorteners are not allowed on free tier. Please use your full website URL."};if(W9(s))return{isValid:!1,errorMessage:"Free website hosts are not allowed on free tier. Please use a custom domain or upgrade to a paid plan."};if(Y9(s))return{isValid:!1,errorMessage:"Rotating or redirect link services are not allowed. Please use a direct URL to your website."};if(e&&e.length>0){const r=e.map(l=>uc(l)),i=jw(s);if(r.includes(s)||r.includes(i))return{isValid:!1,errorMessage:"This domain is not allowed on free tier. Please upgrade or use a different website."}}return{isValid:!0,errorMessage:null}}const bb=[{id:1,label:"Identity",icon:Ns},{id:2,label:"Volume",icon:jn},{id:3,label:"Geo",icon:Ko},{id:4,label:"Behavior",icon:Vt},{id:5,label:"Review",icon:ja}],X9=[{id:"facebook",label:"Facebook"},{id:"twitter",label:"X (Twitter)"},{id:"instagram",label:"Instagram"},{id:"linkedin",label:"LinkedIn"},{id:"pinterest",label:"Pinterest"},{id:"youtube",label:"YouTube"},{id:"tiktok",label:"TikTok"},{id:"reddit",label:"Reddit"}],Z9=({onBack:a,onCreated:e})=>{const s=ta(),[r,i]=w.useState(1),[l,c]=w.useState(!1),[f,u]=w.useState(""),[m,g]=w.useState([]),[b,v]=w.useState(null);w.useEffect(()=>{(async()=>{await H.syncTransactions(),g(H.getTransactions());const De=H.getSystemSettings();De&&v(De)})()},[]);const E=he=>{const De=m.filter(ut=>ut.type!=="debit"&&ut.tier===he&&ut.hits).reduce((ut,_t)=>ut+(_t.hits||0),0),nt=m.filter(ut=>ut.type==="debit"&&ut.tier===he&&ut.hits).reduce((ut,_t)=>ut+(_t.hits||0),0);return De-nt};w.useMemo(()=>["expert","professional","economy"].filter(De=>E(De)>0),[m]);const N=()=>E("expert")>0?"expert":E("professional")>0?"professional":E("economy")>0?"economy":"expert",[S,T]=w.useState(N()),[O,U]=w.useState(""),[M,L]=w.useState(""),[$,X]=w.useState(""),[C,R]=w.useState(!1),[_,P]=w.useState(1e3),[D,z]=w.useState(100),[I,Z]=w.useState(()=>new Date().toISOString().split("T")[0]),[Ee,te]=w.useState(10),[G,ye]=w.useState([]),[Re,Pe]=w.useState({}),[K,W]=w.useState(""),[B,F]=w.useState(35),[se,je]=w.useState("3 minutes"),[Ce,Le]=w.useState("Direct"),[ze,J]=w.useState(""),[Qe,Ze]=w.useState(""),[lt,Ne]=w.useState([]),Me=w.useMemo(()=>{if(S!=="economy"||!M)return null;const he=ov(M,b==null?void 0:b.blockedDomainsForFree);return he.isValid?null:he.errorMessage},[M,S,b]),yt=async()=>{var he,De;if(M){R(!0),u("");try{const nt=await H.scanGA4(M);nt?X(nt):u("No GA4 ID found on this page. Please enter manually.")}catch(nt){(he=nt==null?void 0:nt.message)!=null&&he.includes("credentials")||(De=nt==null?void 0:nt.message)!=null&&De.includes("401")?u("Session expired. Please enter GA-ID manually or refresh the page."):u((nt==null?void 0:nt.message)||"Failed to scan for GA4. Please enter manually.")}finally{R(!1)}}},we=he=>{if(G.includes(he)){const De=G.filter(nt=>nt!==he);ye(De),Pe(nt=>{const ut={...nt};if(delete ut[he],De.length>0){const _t=Math.floor(100/De.length);De.forEach(Mt=>{ut[Mt]=_t});const Ut=100-_t*De.length;Ut>0&&De.length>0&&(ut[De[0]]+=Ut)}return ut})}else{const De=[...G,he];ye(De);const nt=Math.floor(100/De.length),ut={};De.forEach(Ut=>{ut[Ut]=nt});const _t=100-nt*De.length;_t>0&&(ut[he]+=_t),Pe(ut)}},re=(he,De)=>{Pe(nt=>{const ut=Object.entries(nt).filter(([Mt])=>Mt!==he).reduce((Mt,[,os])=>Mt+os,0),_t=Math.max(0,100-ut),Ut=Math.max(0,Math.min(_t,De));return{...nt,[he]:Ut}})},qe=w.useMemo(()=>Object.values(Re).reduce((he,De)=>he+De,0),[Re]),rt=()=>{if(G.length===0)return;const he=Math.floor(100/G.length),De={};G.forEach(ut=>{De[ut]=he});const nt=100-he*G.length;nt>0&&G.length>0&&(De[G[0]]+=nt),Pe(De)},ie=he=>{lt.includes(he)?Ne(De=>De.filter(nt=>nt!==he)):Ne(De=>[...De,he])},Ue=()=>{if(u(""),r===1){if(!O.trim())return u("Please enter a project name.");if(!M.trim())return u("Please enter a target URL.");if(!$.trim())return u("Google Analytics ID is required.")}if(r===2){if(_<100)return u("Minimum 100 hits required.");if(D<1)return u("Minimum 1 hit per day required.");if(Ee<1)return u("Minimum 1 day duration required.");const he=E(S);if(_>he)return u(`Insufficient ${S} hits. Available: ${he.toLocaleString()}`)}if(r===3){if(G.length===0)return u("Please select at least one country.");if(qe!==100)return u("Country distribution must total 100%.")}if(r===4){if((Ce==="Organic (General)"||Ce.startsWith("Organic"))&&!ze.trim())return u("Please enter keywords for organic traffic.");if((Ce==="Social (General)"||Ce.startsWith("Social"))&&lt.length===0)return u("Please select at least one social platform.");if(Ce==="Referral"&&!Qe.trim())return u("Please enter referral URLs.")}r<5?i(r+1):It()},is=()=>{r>1?i(r-1):a()},It=async()=>{var he;c(!0),u("");try{const De=new Date(I),nt=new Date(De.getTime()+Ee*24*60*60*1e3),ut=G.map(hs=>({id:`geo-${hs}`,country:hs,percent:Re[hs]||0})),_t={bounceRate:B,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:se,timezone:"UTC",language:"en-US",languages:["en-US"],gaId:$,urlVisitOrder:"random",entryUrls:M,innerUrls:"",exitUrls:"",autoCrawlEntry:!0,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:G,geoTargets:ut,trafficSource:Ce,keywords:ze,referralUrls:Qe,socialPlatforms:lt,proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0,residentialIps:S!=="economy",citiesGeoTargeting:S!=="economy",nightDayVolume:S==="expert",websiteCrawler:S==="expert",ga4NaturalEvents:S==="expert",randomizeDailyVolume:S==="expert"},Ut={id:"proj_"+Date.now(),userId:((he=H.getCurrentUser())==null?void 0:he.id)||"unknown",name:O,plan:S.charAt(0).toUpperCase()+S.slice(1),tier:S,customTarget:{totalVisitors:_,durationDays:Ee,dailyLimit:D},startAt:De.toISOString(),expires:nt.toISOString().split("T")[0],createdAt:new Date().toISOString(),status:"active",settings:_t},Mt=await H.addProject(Ut);e();const os=(Mt==null?void 0:Mt.id)||Ut.id;s(`/dashboard/campaigns/${os}`)}catch(De){console.error("Project creation error:",De),u(De.message||"Failed to create project. Please try again.")}finally{c(!1)}},Ss=K?Qr.filter(he=>he.name.toLowerCase().includes(K.toLowerCase())||he.code.toLowerCase().includes(K.toLowerCase())):Qr,fe=()=>({1:["UTM Tracking","Sitemap Crawling"],2:["Night/Day Volume","Auto-Renew","Schedule Burst Mode"],3:["City-Level Targeting","Language Settings","Device Split"],4:["Device Targeting","Browser Selection","Session Randomization"]})[r]||[];return t.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-gray-500 hover:text-black transition-colors font-bold text-xs uppercase tracking-wider",children:[t.jsx(ur,{size:16})," Back to Projects"]}),t.jsx("div",{className:"flex items-center gap-2",children:bb.map((he,De)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`
                                w-10 h-10 rounded-full flex items-center justify-center text-xs font-black
                                ${r===he.id?"bg-[#ff4d00] text-white shadow-lg scale-110":r>he.id?"bg-black text-white":"bg-gray-100 text-gray-400"}
                                transition-all duration-300
                            `,children:r>he.id?t.jsx(ja,{size:14}):he.id}),De<bb.length-1&&t.jsx("div",{className:`w-8 h-1 mx-1 ${r>he.id?"bg-black":"bg-gray-100"}`})]},he.id))})]}),t.jsx("div",{className:"flex justify-center mb-4",children:t.jsxs("span",{className:"text-sm font-bold text-gray-500",children:["Step ",r,": ",bb[r-1].label]})}),f&&t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3 mb-6 animate-in fade-in",children:[t.jsx(Na,{className:"text-red-500",size:20}),t.jsx("span",{className:"text-red-700 text-sm font-bold",children:f})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[r===1&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Project Identity"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Configure the basic details of your traffic campaign."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block",children:"Select Traffic Quality Tier"}),t.jsx("div",{className:"grid grid-cols-3 gap-4",children:["expert","professional","economy"].map(he=>{const De=E(he),nt=S===he,ut=De===0;return t.jsxs("button",{onClick:()=>!ut&&T(he),disabled:ut,className:`p-4 border-2 transition-all flex flex-col gap-1 text-left rounded-lg
                                                ${nt?"border-[#ff4d00] bg-orange-50 shadow-md":"border-gray-100 bg-white hover:border-gray-200"}
                                                ${ut?"opacity-40 cursor-not-allowed":""}
                                            `,children:[t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00]",children:he==="expert"?" Premium":he==="professional"?"Standard":"Value"}),t.jsx("span",{className:"font-bold text-gray-900 capitalize",children:he}),t.jsxs("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:[De.toLocaleString()," hits"]})]},he)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Project Name *"}),t.jsx("input",{type:"text",value:O,onChange:he=>U(he.target.value),placeholder:"e.g. Q4 Marketing Campaign",className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-lg font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Target URL *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ns,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"url",value:M,onChange:he=>L(he.target.value),onBlur:()=>{M&&!$&&yt()},placeholder:"https://example.com",className:`w-full bg-[#f9fafb] border p-4 pl-12 text-lg font-medium font-mono text-gray-700 focus:border-[#ff4d00] outline-none ${Me?"border-red-300":"border-gray-200"}`})]}),Me&&t.jsxs("div",{className:"mt-3 flex items-center gap-2 text-red-600 text-sm font-medium",children:[t.jsx(Na,{size:16}),Me]})]}),t.jsxs("div",{className:"p-6 bg-gray-50 border border-gray-100 rounded-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Google Analytics ID *"}),t.jsx("button",{onClick:yt,disabled:!M||C,className:"text-[10px] font-bold uppercase tracking-wider text-[#ff4d00] hover:underline disabled:opacity-50",children:C?"Scanning...":"Auto-Detect"})]}),t.jsx("input",{type:"text",value:$,onChange:he=>X(he.target.value),placeholder:"G-XXXXXXXXXX",className:"w-full bg-white border border-gray-200 p-3 text-sm font-mono text-gray-700 outline-none focus:border-[#ff4d00]"})]})]}),r===2&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Traffic Volume"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Define how much traffic you want and when it should run."})]}),t.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:["economy","professional","expert"].map(he=>t.jsxs("div",{className:`p-4 border-2 transition-all ${S===he?"border-[#ff4d00] bg-orange-50":"border-gray-100 bg-gray-50 opacity-50"}`,children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1",children:he}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:E(he).toLocaleString()}),t.jsx("div",{className:"text-[10px] text-gray-400",children:"hits available"})]},he))}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Total Hits *"}),t.jsx("input",{type:"number",min:"100",value:_,onChange:he=>P(parseInt(he.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-2xl font-black text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Hits per Day *"}),t.jsx("input",{type:"number",min:"1",value:D,onChange:he=>z(parseInt(he.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-2xl font-black text-gray-900 focus:border-[#ff4d00] outline-none"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Start Date *"}),t.jsx("input",{type:"date",value:I,onChange:he=>Z(he.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-lg font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Duration (Days) *"}),t.jsx("input",{type:"number",min:"1",value:Ee,onChange:he=>te(parseInt(he.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-lg font-bold text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Days"})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 flex flex-col md:flex-row justify-between items-center gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Campaign Duration"}),t.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[Ee," days"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Total Cost"}),t.jsxs("div",{className:"text-3xl font-black text-[#ff4d00]",children:[_.toLocaleString()," ",t.jsx("span",{className:"text-sm font-bold text-gray-400",children:"hits"})]})]})]})]}),r===3&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Geographic Targeting"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Select countries for your traffic and set the distribution."})]}),t.jsxs("div",{className:"relative mb-4",children:[t.jsx(Ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),t.jsx("input",{type:"text",placeholder:"Search countries...",value:K,onChange:he=>W(he.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 text-sm focus:border-[#ff4d00] outline-none"}),K&&t.jsx("button",{onClick:()=>W(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t.jsx(Zs,{size:14})})]}),G.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase",children:["Selected (",G.length,")"]}),t.jsx("button",{onClick:rt,className:"text-[10px] font-bold text-[#ff4d00] uppercase hover:underline",children:"Distribute Evenly"})]}),t.jsx("div",{className:"space-y-2",children:G.map(he=>{const De=Qr.find(Ut=>Ut.code===he),nt=Re[he]||0,_t=100-(qe-nt);return t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-100",children:[t.jsx("img",{src:`https://flagcdn.com/w24/${he.toLowerCase()}.png`,alt:he,className:"w-6 h-auto rounded-sm",onError:Ut=>{Ut.target.style.display="none"}}),t.jsx("span",{className:"flex-1 font-bold text-sm text-gray-900",children:(De==null?void 0:De.name)||he}),t.jsx("input",{type:"range",min:"0",max:_t,value:nt,onChange:Ut=>re(he,parseInt(Ut.target.value)),className:"w-24 accent-[#ff4d00]"}),t.jsx("input",{type:"number",min:"0",max:_t,value:nt,onChange:Ut=>re(he,parseInt(Ut.target.value)||0),className:"w-16 p-1 text-center text-sm font-bold border border-gray-200 outline-none focus:border-[#ff4d00]"}),t.jsx("span",{className:"text-sm font-bold text-gray-400",children:"%"}),t.jsx("button",{onClick:()=>we(he),className:"text-gray-400 hover:text-red-500",children:t.jsx(Zs,{size:14})})]},he)})}),t.jsxs("div",{className:`text-right mt-2 text-sm font-bold ${qe===100?"text-green-600":"text-orange-500"}`,children:["Total: ",qe,"%"]})]}),t.jsx("div",{className:"border border-gray-200 max-h-[300px] overflow-y-auto",children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-1 p-1",children:Ss.slice(0,100).map(he=>t.jsxs("button",{onClick:()=>we(he.code),className:`p-2 text-left border text-xs font-bold flex justify-between items-center transition-all ${G.includes(he.code)?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-transparent bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[t.jsxs("span",{className:"flex items-center gap-2 truncate",children:[t.jsx("img",{src:`https://flagcdn.com/w20/${he.code.toLowerCase()}.png`,alt:he.code,className:"w-4 h-auto rounded-sm flex-shrink-0",onError:De=>{De.target.style.display="none"}}),t.jsx("span",{className:"truncate",children:he.name})]}),G.includes(he.code)&&t.jsx(ja,{size:12,className:"flex-shrink-0"})]},he.code))})})]}),r===4&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Traffic Behavior"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Configure how visitors interact with your site."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Bounce Rate"}),t.jsxs("div",{className:"bg-gray-50 p-6 border border-gray-200 text-center",children:[t.jsxs("div",{className:"text-4xl font-black text-gray-900 mb-2",children:[B,"%"]}),t.jsx("p",{className:"text-xs text-gray-500 font-medium mb-4",children:"Visitors leaving immediately"}),t.jsx("input",{type:"range",min:"0",max:"100",value:B,onChange:he=>F(parseInt(he.target.value)),className:"w-full accent-[#ff4d00]"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Time on Page"}),t.jsx(ba,{value:se,onChange:je,options:vw})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Traffic Source"}),t.jsx(ba,{value:Ce,onChange:Le,options:xx})]}),(Ce==="Organic (General)"||Ce.startsWith("Organic"))&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Keywords (one per line)"}),t.jsx("textarea",{value:ze,onChange:he=>J(he.target.value),placeholder:`keyword1
keyword2
keyword3`,className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24"})]}),(Ce==="Social (General)"||Ce.startsWith("Social"))&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Social Platforms"}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:X9.map(he=>t.jsx("button",{onClick:()=>ie(he.id),className:`p-2 text-xs font-bold border transition-all ${lt.includes(he.id)?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 bg-gray-50 text-gray-600 hover:border-gray-300"}`,children:he.label},he.id))})]}),Ce==="Referral"&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Referral URLs (one per line)"}),t.jsx("textarea",{value:Qe,onChange:he=>Ze(he.target.value),placeholder:`https://example.com/page1
https://example.com/page2`,className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24"})]})]}),r===5&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Review Campaign"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Confirm all settings before creating your project."})]}),t.jsx("div",{className:`p-4 border-2 ${E(S)>=_?"border-green-300 bg-green-50":"border-red-300 bg-red-50"}`,children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:[S.charAt(0).toUpperCase()+S.slice(1)," Balance"]}),t.jsxs("div",{className:"text-lg font-black text-gray-900",children:[E(S).toLocaleString()," available"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xs text-gray-500 font-bold",children:"Required"}),t.jsx("div",{className:`text-xl font-black ${E(S)>=_?"text-green-600":"text-red-600"}`,children:_.toLocaleString()})]})]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Wr,{label:"Project Name",value:O}),t.jsx(Wr,{label:"Tier",value:S.toUpperCase()}),t.jsx(Wr,{label:"Target URL",value:M,isUrl:!0}),t.jsx(Wr,{label:"Google Analytics",value:$}),t.jsx("div",{className:"h-px bg-gray-100"}),t.jsx(Wr,{label:"Total Hits",value:`${_.toLocaleString()} hits`,highlight:!0}),t.jsx(Wr,{label:"Daily Limit",value:`${D.toLocaleString()} hits/day`}),t.jsx(Wr,{label:"Start Date",value:I}),t.jsx(Wr,{label:"Duration",value:`${Ee} days`}),t.jsx("div",{className:"h-px bg-gray-100"}),t.jsx(Wr,{label:"Countries",value:G.length>0?`${G.length} selected`:"None"}),t.jsx("div",{className:"h-px bg-gray-100"}),t.jsx(Wr,{label:"Bounce Rate",value:`${B}%`}),t.jsx(Wr,{label:"Time on Page",value:se}),t.jsx(Wr,{label:"Traffic Source",value:Ce})]}),t.jsxs("div",{className:"mt-8 bg-blue-50 p-4 flex items-start gap-3 border border-blue-100",children:[t.jsx(lc,{className:"text-blue-500 flex-shrink-0",size:18}),t.jsxs("div",{className:"text-xs text-blue-700 font-medium leading-relaxed",children:[t.jsx("p",{className:"font-bold mb-1",children:"After creation, more settings will be available:"}),t.jsx("p",{children:"UTM Tracking, Device Split, Browser Selection, Sitemap Crawling, City-Level Targeting, and more."})]})]})]})]}),t.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Pi,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Available after creation"})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:fe().map((he,De)=>t.jsx("span",{className:"text-[10px] font-bold text-gray-500 bg-white px-2 py-1 border border-gray-200",children:he},De))})]}),t.jsxs("div",{className:"flex justify-between pt-6",children:[t.jsx("button",{onClick:is,className:"px-8 py-4 text-xs font-bold uppercase tracking-wider text-gray-500 hover:text-black transition-colors",children:r===1?"Cancel":"Previous Step"}),t.jsxs("button",{onClick:Ue,disabled:l||r===5&&S==="economy"&&!!Me,className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-lg",children:[l?"Creating...":r===5?"Create Project":"Next Step",!l&&r<5&&t.jsx(ur,{className:"rotate-180",size:16})]})]})]})},Wr=({label:a,value:e,isUrl:s=!1,highlight:r=!1})=>t.jsxs("div",{className:`flex justify-between items-center p-3 ${r?"bg-orange-50 border border-orange-100":""}`,children:[t.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:a}),s?t.jsx("span",{className:"text-sm font-bold text-[#ff4d00] truncate max-w-[200px]",children:e}):t.jsx("span",{className:`text-sm font-bold ${r?"text-[#ff4d00] text-lg":"text-gray-900"}`,children:e})]}),Yo=[{id:"economy",name:"Economy",factor:.35,quality:"10% Quality",features:["Residential IPs","Multiple Traffic Sources","Standard Proxy Pool","Geo Targeting Worldwide"],color:"border-gray-200"},{id:"professional",name:"Professional",factor:.65,quality:"50% Quality",popular:!0,features:["Residential Geo IPs","Country Geo Targeting","RSS and Sitemap Support","URL Shorteners"],color:"border-orange-300"},{id:"expert",name:"Expert",factor:1,quality:"100% Quality",features:["State & City Targeting","Night & Day Volume","Automatic Website Crawler","GA4 Natural Events"],color:"border-[#ff4d00]"}],lv=[6e4,5e5,1e6,1e7,5e7],eL=[1,6,24],nm={economy:{6e4:{1:9.96,6:47.81,24:143.42},5e5:{1:57.96,6:278.21,24:834.62},1e6:{1:99.96,6:479.81,24:1439.42},1e7:{1:699.96,6:3359.81,24:10079.42},5e7:{1:2799.96,6:13439.81,24:40319.42}},professional:{6e4:{1:19.96,6:95.81,24:287.42},5e5:{1:115.92,6:556.42,24:1669.25},1e6:{1:199.96,6:959.81,24:2879.42},1e7:{1:1399.96,6:6719.81,24:20159.42},5e7:{1:5599.96,6:26879.81,24:80639.42}},expert:{6e4:{1:29.96,6:143.81,24:431.42},5e5:{1:173.96,6:835.01,24:2505.02},1e6:{1:299.96,6:1439.81,24:4319.42},1e7:{1:2099.96,6:10079.81,24:30239.42},5e7:{1:8399.96,6:40319.81,24:120959.42}}},tL=(a,e,s=1)=>{const r=nm[a];if(!r)return 0;const i=r[e];return i&&(i[s]||i[1])||0},Nw=(a,e,s=1)=>{const r=tL(a,e,s),i=e*s;return r/i*1e3},_w=(a,e="EUR")=>new Intl.NumberFormat("de-DE",{style:"currency",currency:e}).format(a),kw=a=>`${a.toFixed(2)}`;function gg(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gg=function(e){return typeof e}:gg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(a)}var QT="clover",sL=function(e){return e===3?"v3":e},JT="https://js.stripe.com",aL="".concat(JT,"/").concat(QT,"/stripe.js"),rL=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,nL=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var iL=function(e){return rL.test(e)||nL.test(e)},oL=function(){for(var e=document.querySelectorAll('script[src^="'.concat(JT,'"]')),s=0;s<e.length;s++){var r=e[s];if(iL(r.src))return r}return null},_k=function(e){var s="",r=document.createElement("script");r.src="".concat(aL).concat(s);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},lL=function(e,s){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.7.0",startTime:s})},Gh=null,Zp=null,eg=null,cL=function(e){return function(s){e(new Error("Failed to load Stripe.js",{cause:s}))}},dL=function(e,s){return function(){window.Stripe?e(window.Stripe):s(new Error("Stripe.js not available"))}},uL=function(e){return Gh!==null?Gh:(Gh=new Promise(function(s,r){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe){s(window.Stripe);return}try{var i=oL();if(!(i&&e)){if(!i)i=_k(e);else if(i&&eg!==null&&Zp!==null){var l;i.removeEventListener("load",eg),i.removeEventListener("error",Zp),(l=i.parentNode)===null||l===void 0||l.removeChild(i),i=_k(e)}}eg=dL(s,r),Zp=cL(r),i.addEventListener("load",eg),i.addEventListener("error",Zp)}catch(c){r(c);return}}),Gh.catch(function(s){return Gh=null,Promise.reject(s)}))},hL=function(e,s,r){if(e===null)return null;var i=s[0];if(typeof i!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(gg(i)," instead."));var l=i.match(/^pk_test/),c=sL(e.version),f=QT;l&&c!==f&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("8.7.0"," expected Stripe.js@").concat(f,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var u=e.apply(void 0,s);return lL(u,r),u},Kh,XT=!1,ZT=function(){return Kh||(Kh=uL(null).catch(function(e){return Kh=null,Promise.reject(e)}),Kh)};Promise.resolve().then(function(){return ZT()}).catch(function(a){XT||console.warn(a)});var fL=function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];XT=!0;var i=Date.now();return ZT().then(function(l){return hL(l,s,i)})},vb={exports:{}},wb,kk;function mL(){if(kk)return wb;kk=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wb=a,wb}var jb,Sk;function pL(){if(Sk)return jb;Sk=1;var a=mL();function e(){}function s(){}return s.resetWarningCache=e,jb=function(){function r(c,f,u,m,g,b){if(b!==a){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:s,resetWarningCache:e};return l.PropTypes=l,l},jb}var Tk;function gL(){return Tk||(Tk=1,vb.exports=pL()()),vb.exports}var xL=gL();const ts=Tu(xL);function Ek(a,e){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable})),s.push.apply(s,r)}return s}function Ck(a){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(s),!0).forEach(function(r){eE(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Ek(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}function xg(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xg=function(e){return typeof e}:xg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(a)}function eE(a,e,s){return e in a?Object.defineProperty(a,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[e]=s,a}function yL(a,e){if(a==null)return{};var s={},r=Object.keys(a),i,l;for(l=0;l<r.length;l++)i=r[l],!(e.indexOf(i)>=0)&&(s[i]=a[i]);return s}function bL(a,e){if(a==null)return{};var s=yL(a,e),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);for(i=0;i<l.length;i++)r=l[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(a,r)&&(s[r]=a[r])}return s}function tE(a,e){return vL(a)||wL(a,e)||jL(a,e)||NL()}function vL(a){if(Array.isArray(a))return a}function wL(a,e){var s=a&&(typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"]);if(s!=null){var r=[],i=!0,l=!1,c,f;try{for(s=s.call(a);!(i=(c=s.next()).done)&&(r.push(c.value),!(e&&r.length===e));i=!0);}catch(u){l=!0,f=u}finally{try{!i&&s.return!=null&&s.return()}finally{if(l)throw f}}return r}}function jL(a,e){if(a){if(typeof a=="string")return Ak(a,e);var s=Object.prototype.toString.call(a).slice(8,-1);if(s==="Object"&&a.constructor&&(s=a.constructor.name),s==="Map"||s==="Set")return Array.from(a);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Ak(a,e)}}function Ak(a,e){(e==null||e>a.length)&&(e=a.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=a[s];return r}function NL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var za=function(e,s,r){var i=!!r,l=He.useRef(r);He.useEffect(function(){l.current=r},[r]),He.useEffect(function(){if(!i||!e)return function(){};var c=function(){l.current&&l.current.apply(l,arguments)};return e.on(s,c),function(){e.off(s,c)}},[i,s,e,l])},cv=function(e){var s=He.useRef(e);return He.useEffect(function(){s.current=e},[e]),s.current},au=function(e){return e!==null&&xg(e)==="object"},_L=function(e){return au(e)&&typeof e.then=="function"},kL=function(e){return au(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Ik="[object Object]",SL=function a(e,s){if(!au(e)||!au(s))return e===s;var r=Array.isArray(e),i=Array.isArray(s);if(r!==i)return!1;var l=Object.prototype.toString.call(e)===Ik,c=Object.prototype.toString.call(s)===Ik;if(l!==c)return!1;if(!l&&!r)return e===s;var f=Object.keys(e),u=Object.keys(s);if(f.length!==u.length)return!1;for(var m={},g=0;g<f.length;g+=1)m[f[g]]=!0;for(var b=0;b<u.length;b+=1)m[u[b]]=!0;var v=Object.keys(m);if(v.length!==f.length)return!1;var E=e,N=s,S=function(O){return a(E[O],N[O])};return v.every(S)},sE=function(e,s,r){return au(e)?Object.keys(e).reduce(function(i,l){var c=!au(s)||!SL(e[l],s[l]);return r.includes(l)?(c&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),i):c?Ck(Ck({},i||{}),{},eE({},l,e[l])):i},null):null},aE="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Rk=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aE;if(e===null||kL(e))return e;throw new Error(s)},TL=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aE;if(_L(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return Rk(i,s)})};var r=Rk(e,s);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},EL=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"5.6.0"}),e.registerAppInfo({name:"react-stripe-js",version:"5.6.0",url:"https://stripe.com/docs/stripe-js/react"}))},yx=He.createContext(null);yx.displayName="ElementsContext";var rE=function(e,s){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(s," in an <Elements> provider."));return e},nE=function(e){var s=e.stripe,r=e.options,i=e.children,l=He.useMemo(function(){return TL(s)},[s]),c=He.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(r):null}}),f=tE(c,2),u=f[0],m=f[1];He.useEffect(function(){var v=!0,E=function(S){m(function(T){return T.stripe?T:{stripe:S,elements:S.elements(r)}})};return l.tag==="async"&&!u.stripe?l.stripePromise.then(function(N){N&&v&&E(N)}):l.tag==="sync"&&!u.stripe&&E(l.stripe),function(){v=!1}},[l,u,r]);var g=cv(s);He.useEffect(function(){g!==null&&g!==s&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,s]);var b=cv(r);return He.useEffect(function(){if(u.elements){var v=sE(r,b,["clientSecret","fonts"]);v&&u.elements.update(v)}},[r,b,u.elements]),He.useEffect(function(){EL(u.stripe)},[u.stripe]),He.createElement(yx.Provider,{value:u},i)};nE.propTypes={stripe:ts.any,options:ts.object};var CL=function(e){var s=He.useContext(yx);return rE(s,e)},AL=function(){var e=CL("calls useElements()"),s=e.elements;return s};ts.func.isRequired;var iE=He.createContext(null);iE.displayName="CheckoutContext";ts.any,ts.shape({clientSecret:ts.oneOfType([ts.string,ts.instanceOf(Promise)]).isRequired,elementsOptions:ts.object}).isRequired;var dv=function(e){var s=He.useContext(iE),r=He.useContext(yx);if(s){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return s}else return rE(r,e)},IL=["mode"],RL=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},fr=function(e,s){var r="".concat(RL(e),"Element"),i=function(u){var m=u.id,g=u.className,b=u.options,v=b===void 0?{}:b,E=u.onBlur,N=u.onFocus,S=u.onReady,T=u.onChange,O=u.onEscape,U=u.onClick,M=u.onLoadError,L=u.onLoaderStart,$=u.onNetworksChange,X=u.onConfirm,C=u.onCancel,R=u.onShippingAddressChange,_=u.onShippingRateChange,P=u.onSavedPaymentMethodRemove,D=u.onSavedPaymentMethodUpdate,z=dv("mounts <".concat(r,">")),I="elements"in z?z.elements:null,Z="checkoutState"in z?z.checkoutState:null,Ee=(Z==null?void 0:Z.type)==="success"||(Z==null?void 0:Z.type)==="loading"?Z.sdk:null,te=He.useState(null),G=tE(te,2),ye=G[0],Re=G[1],Pe=He.useRef(null),K=He.useRef(null);za(ye,"blur",E),za(ye,"focus",N),za(ye,"escape",O),za(ye,"click",U),za(ye,"loaderror",M),za(ye,"loaderstart",L),za(ye,"networkschange",$),za(ye,"confirm",X),za(ye,"cancel",C),za(ye,"shippingaddresschange",R),za(ye,"shippingratechange",_),za(ye,"savedpaymentmethodremove",P),za(ye,"savedpaymentmethodupdate",D),za(ye,"change",T);var W;S&&(e==="expressCheckout"?W=S:W=function(){S(ye)}),za(ye,"ready",W),He.useLayoutEffect(function(){if(Pe.current===null&&K.current!==null&&(I||Ee)){var F=null;if(Ee)switch(e){case"paymentForm":F=Ee.createPaymentFormElement(v);break;case"payment":F=Ee.createPaymentElement(v);break;case"address":if("mode"in v){var se=v.mode,je=bL(v,IL);if(se==="shipping")F=Ee.createShippingAddressElement(je);else if(se==="billing")F=Ee.createBillingAddressElement(je);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":F=Ee.createExpressCheckoutElement(v);break;case"currencySelector":F=Ee.createCurrencySelectorElement();break;case"taxId":F=Ee.createTaxIdElement(v);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else I&&(F=I.create(e,v));Pe.current=F,Re(F),F&&F.mount(K.current)}},[I,Ee,v]);var B=cv(v);return He.useEffect(function(){if(Pe.current){var F=sE(v,B,["paymentRequest"]);F&&"update"in Pe.current&&Pe.current.update(F)}},[v,B]),He.useLayoutEffect(function(){return function(){if(Pe.current&&typeof Pe.current.destroy=="function")try{Pe.current.destroy(),Pe.current=null}catch{}}},[]),He.createElement("div",{id:m,className:g,ref:K})},l=function(u){dv("mounts <".concat(r,">"));var m=u.id,g=u.className;return He.createElement("div",{id:m,className:g})},c=s?l:i;return c.propTypes={id:ts.string,className:ts.string,onChange:ts.func,onBlur:ts.func,onFocus:ts.func,onReady:ts.func,onEscape:ts.func,onClick:ts.func,onLoadError:ts.func,onLoaderStart:ts.func,onNetworksChange:ts.func,onConfirm:ts.func,onCancel:ts.func,onShippingAddressChange:ts.func,onShippingRateChange:ts.func,onSavedPaymentMethodRemove:ts.func,onSavedPaymentMethodUpdate:ts.func,options:ts.object},c.displayName=r,c.__elementType=e,c},mr=typeof window>"u",PL=He.createContext(null);PL.displayName="EmbeddedCheckoutProviderContext";var DL=function(){var e=dv("calls useStripe()"),s=e.stripe;return s};fr("auBankAccount",mr);fr("card",mr);fr("cardNumber",mr);fr("cardExpiry",mr);fr("cardCvc",mr);fr("iban",mr);var ML=fr("payment",mr);fr("expressCheckout",mr);fr("paymentRequestButton",mr);fr("linkAuthentication",mr);fr("address",mr);fr("shippingAddress",mr);fr("paymentMethodMessaging",mr);fr("taxId",mr);var OL=Object.defineProperty,Og=Object.getOwnPropertySymbols,oE=Object.prototype.hasOwnProperty,lE=Object.prototype.propertyIsEnumerable,Pk=(a,e,s)=>e in a?OL(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s,uv=(a,e)=>{for(var s in e||(e={}))oE.call(e,s)&&Pk(a,s,e[s]);if(Og)for(var s of Og(e))lE.call(e,s)&&Pk(a,s,e[s]);return a},hv=(a,e)=>{var s={};for(var r in a)oE.call(a,r)&&e.indexOf(r)<0&&(s[r]=a[r]);if(a!=null&&Og)for(var r of Og(a))e.indexOf(r)<0&&lE.call(a,r)&&(s[r]=a[r]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var hc;(a=>{const e=class wt{constructor(u,m,g,b){if(this.version=u,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],u<wt.MIN_VERSION||u>wt.MAX_VERSION)throw new RangeError("Version value out of range");if(b<-1||b>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let v=[];for(let N=0;N<this.size;N++)v.push(!1);for(let N=0;N<this.size;N++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const E=this.addEccAndInterleave(g);if(this.drawCodewords(E),b==-1){let N=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);const T=this.getPenaltyScore();T<N&&(b=S,N=T),this.applyMask(S)}}i(0<=b&&b<=7),this.mask=b,this.applyMask(b),this.drawFormatBits(b),this.isFunction=[]}static encodeText(u,m){const g=a.QrSegment.makeSegments(u);return wt.encodeSegments(g,m)}static encodeBinary(u,m){const g=a.QrSegment.makeBytes(u);return wt.encodeSegments([g],m)}static encodeSegments(u,m,g=1,b=40,v=-1,E=!0){if(!(wt.MIN_VERSION<=g&&g<=b&&b<=wt.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let N,S;for(N=g;;N++){const M=wt.getNumDataCodewords(N,m)*8,L=c.getTotalBits(u,N);if(L<=M){S=L;break}if(N>=b)throw new RangeError("Data too long")}for(const M of[wt.Ecc.MEDIUM,wt.Ecc.QUARTILE,wt.Ecc.HIGH])E&&S<=wt.getNumDataCodewords(N,M)*8&&(m=M);let T=[];for(const M of u){s(M.mode.modeBits,4,T),s(M.numChars,M.mode.numCharCountBits(N),T);for(const L of M.getData())T.push(L)}i(T.length==S);const O=wt.getNumDataCodewords(N,m)*8;i(T.length<=O),s(0,Math.min(4,O-T.length),T),s(0,(8-T.length%8)%8,T),i(T.length%8==0);for(let M=236;T.length<O;M^=253)s(M,8,T);let U=[];for(;U.length*8<T.length;)U.push(0);return T.forEach((M,L)=>U[L>>>3]|=M<<7-(L&7)),new wt(N,m,U,v)}getModule(u,m){return 0<=u&&u<this.size&&0<=m&&m<this.size&&this.modules[m][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let g=0;g<this.size;g++)this.setFunctionModule(6,g,g%2==0),this.setFunctionModule(g,6,g%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const u=this.getAlignmentPatternPositions(),m=u.length;for(let g=0;g<m;g++)for(let b=0;b<m;b++)g==0&&b==0||g==0&&b==m-1||g==m-1&&b==0||this.drawAlignmentPattern(u[g],u[b]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){const m=this.errorCorrectionLevel.formatBits<<3|u;let g=m;for(let v=0;v<10;v++)g=g<<1^(g>>>9)*1335;const b=(m<<10|g)^21522;i(b>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,r(b,v));this.setFunctionModule(8,7,r(b,6)),this.setFunctionModule(8,8,r(b,7)),this.setFunctionModule(7,8,r(b,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,r(b,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,r(b,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,r(b,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let g=0;g<12;g++)u=u<<1^(u>>>11)*7973;const m=this.version<<12|u;i(m>>>18==0);for(let g=0;g<18;g++){const b=r(m,g),v=this.size-11+g%3,E=Math.floor(g/3);this.setFunctionModule(v,E,b),this.setFunctionModule(E,v,b)}}drawFinderPattern(u,m){for(let g=-4;g<=4;g++)for(let b=-4;b<=4;b++){const v=Math.max(Math.abs(b),Math.abs(g)),E=u+b,N=m+g;0<=E&&E<this.size&&0<=N&&N<this.size&&this.setFunctionModule(E,N,v!=2&&v!=4)}}drawAlignmentPattern(u,m){for(let g=-2;g<=2;g++)for(let b=-2;b<=2;b++)this.setFunctionModule(u+b,m+g,Math.max(Math.abs(b),Math.abs(g))!=1)}setFunctionModule(u,m,g){this.modules[m][u]=g,this.isFunction[m][u]=!0}addEccAndInterleave(u){const m=this.version,g=this.errorCorrectionLevel;if(u.length!=wt.getNumDataCodewords(m,g))throw new RangeError("Invalid argument");const b=wt.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][m],v=wt.ECC_CODEWORDS_PER_BLOCK[g.ordinal][m],E=Math.floor(wt.getNumRawDataModules(m)/8),N=b-E%b,S=Math.floor(E/b);let T=[];const O=wt.reedSolomonComputeDivisor(v);for(let M=0,L=0;M<b;M++){let $=u.slice(L,L+S-v+(M<N?0:1));L+=$.length;const X=wt.reedSolomonComputeRemainder($,O);M<N&&$.push(0),T.push($.concat(X))}let U=[];for(let M=0;M<T[0].length;M++)T.forEach((L,$)=>{(M!=S-v||$>=N)&&U.push(L[M])});return i(U.length==E),U}drawCodewords(u){if(u.length!=Math.floor(wt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let g=this.size-1;g>=1;g-=2){g==6&&(g=5);for(let b=0;b<this.size;b++)for(let v=0;v<2;v++){const E=g-v,S=(g+1&2)==0?this.size-1-b:b;!this.isFunction[S][E]&&m<u.length*8&&(this.modules[S][E]=r(u[m>>>3],7-(m&7)),m++)}}i(m==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let g=0;g<this.size;g++){let b;switch(u){case 0:b=(g+m)%2==0;break;case 1:b=m%2==0;break;case 2:b=g%3==0;break;case 3:b=(g+m)%3==0;break;case 4:b=(Math.floor(g/3)+Math.floor(m/2))%2==0;break;case 5:b=g*m%2+g*m%3==0;break;case 6:b=(g*m%2+g*m%3)%2==0;break;case 7:b=((g+m)%2+g*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][g]&&b&&(this.modules[m][g]=!this.modules[m][g])}}getPenaltyScore(){let u=0;for(let v=0;v<this.size;v++){let E=!1,N=0,S=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[v][T]==E?(N++,N==5?u+=wt.PENALTY_N1:N>5&&u++):(this.finderPenaltyAddHistory(N,S),E||(u+=this.finderPenaltyCountPatterns(S)*wt.PENALTY_N3),E=this.modules[v][T],N=1);u+=this.finderPenaltyTerminateAndCount(E,N,S)*wt.PENALTY_N3}for(let v=0;v<this.size;v++){let E=!1,N=0,S=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[T][v]==E?(N++,N==5?u+=wt.PENALTY_N1:N>5&&u++):(this.finderPenaltyAddHistory(N,S),E||(u+=this.finderPenaltyCountPatterns(S)*wt.PENALTY_N3),E=this.modules[T][v],N=1);u+=this.finderPenaltyTerminateAndCount(E,N,S)*wt.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let E=0;E<this.size-1;E++){const N=this.modules[v][E];N==this.modules[v][E+1]&&N==this.modules[v+1][E]&&N==this.modules[v+1][E+1]&&(u+=wt.PENALTY_N2)}let m=0;for(const v of this.modules)m=v.reduce((E,N)=>E+(N?1:0),m);const g=this.size*this.size,b=Math.ceil(Math.abs(m*20-g*10)/g)-1;return i(0<=b&&b<=9),u+=b*wt.PENALTY_N4,i(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{const u=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2;let g=[6];for(let b=this.size-7;g.length<u;b-=m)g.splice(1,0,b);return g}}static getNumRawDataModules(u){if(u<wt.MIN_VERSION||u>wt.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*u+128)*u+64;if(u>=2){const g=Math.floor(u/7)+2;m-=(25*g-10)*g-55,u>=7&&(m-=36)}return i(208<=m&&m<=29648),m}static getNumDataCodewords(u,m){return Math.floor(wt.getNumRawDataModules(u)/8)-wt.ECC_CODEWORDS_PER_BLOCK[m.ordinal][u]*wt.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let m=[];for(let b=0;b<u-1;b++)m.push(0);m.push(1);let g=1;for(let b=0;b<u;b++){for(let v=0;v<m.length;v++)m[v]=wt.reedSolomonMultiply(m[v],g),v+1<m.length&&(m[v]^=m[v+1]);g=wt.reedSolomonMultiply(g,2)}return m}static reedSolomonComputeRemainder(u,m){let g=m.map(b=>0);for(const b of u){const v=b^g.shift();g.push(0),m.forEach((E,N)=>g[N]^=wt.reedSolomonMultiply(E,v))}return g}static reedSolomonMultiply(u,m){if(u>>>8||m>>>8)throw new RangeError("Byte out of range");let g=0;for(let b=7;b>=0;b--)g=g<<1^(g>>>7)*285,g^=(m>>>b&1)*u;return i(g>>>8==0),g}finderPenaltyCountPatterns(u){const m=u[1];i(m<=this.size*3);const g=m>0&&u[2]==m&&u[3]==m*3&&u[4]==m&&u[5]==m;return(g&&u[0]>=m*4&&u[6]>=m?1:0)+(g&&u[6]>=m*4&&u[0]>=m?1:0)}finderPenaltyTerminateAndCount(u,m,g){return u&&(this.finderPenaltyAddHistory(m,g),m=0),m+=this.size,this.finderPenaltyAddHistory(m,g),this.finderPenaltyCountPatterns(g)}finderPenaltyAddHistory(u,m){m[0]==0&&(u+=this.size),m.pop(),m.unshift(u)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],a.QrCode=e;function s(f,u,m){if(u<0||u>31||f>>>u)throw new RangeError("Value out of range");for(let g=u-1;g>=0;g--)m.push(f>>>g&1)}function r(f,u){return(f>>>u&1)!=0}function i(f){if(!f)throw new Error("Assertion error")}const l=class Cs{constructor(u,m,g){if(this.mode=u,this.numChars=m,this.bitData=g,m<0)throw new RangeError("Invalid argument");this.bitData=g.slice()}static makeBytes(u){let m=[];for(const g of u)s(g,8,m);return new Cs(Cs.Mode.BYTE,u.length,m)}static makeNumeric(u){if(!Cs.isNumeric(u))throw new RangeError("String contains non-numeric characters");let m=[];for(let g=0;g<u.length;){const b=Math.min(u.length-g,3);s(parseInt(u.substring(g,g+b),10),b*3+1,m),g+=b}return new Cs(Cs.Mode.NUMERIC,u.length,m)}static makeAlphanumeric(u){if(!Cs.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],g;for(g=0;g+2<=u.length;g+=2){let b=Cs.ALPHANUMERIC_CHARSET.indexOf(u.charAt(g))*45;b+=Cs.ALPHANUMERIC_CHARSET.indexOf(u.charAt(g+1)),s(b,11,m)}return g<u.length&&s(Cs.ALPHANUMERIC_CHARSET.indexOf(u.charAt(g)),6,m),new Cs(Cs.Mode.ALPHANUMERIC,u.length,m)}static makeSegments(u){return u==""?[]:Cs.isNumeric(u)?[Cs.makeNumeric(u)]:Cs.isAlphanumeric(u)?[Cs.makeAlphanumeric(u)]:[Cs.makeBytes(Cs.toUtf8ByteArray(u))]}static makeEci(u){let m=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<128)s(u,8,m);else if(u<16384)s(2,2,m),s(u,14,m);else if(u<1e6)s(6,3,m),s(u,21,m);else throw new RangeError("ECI assignment value out of range");return new Cs(Cs.Mode.ECI,0,m)}static isNumeric(u){return Cs.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return Cs.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,m){let g=0;for(const b of u){const v=b.mode.numCharCountBits(m);if(b.numChars>=1<<v)return 1/0;g+=4+v+b.bitData.length}return g}static toUtf8ByteArray(u){u=encodeURI(u);let m=[];for(let g=0;g<u.length;g++)u.charAt(g)!="%"?m.push(u.charCodeAt(g)):(m.push(parseInt(u.substring(g+1,g+3),16)),g+=2);return m}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=l;a.QrSegment=l})(hc||(hc={}));(a=>{(e=>{const s=class{constructor(i,l){this.ordinal=i,this.formatBits=l}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),e.Ecc=s})(a.QrCode||(a.QrCode={}))})(hc||(hc={}));(a=>{(e=>{const s=class{constructor(i,l){this.modeBits=i,this.numBitsCharCount=l}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),e.Mode=s})(a.QrSegment||(a.QrSegment={}))})(hc||(hc={}));var Vd=hc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var LL={L:Vd.QrCode.Ecc.LOW,M:Vd.QrCode.Ecc.MEDIUM,Q:Vd.QrCode.Ecc.QUARTILE,H:Vd.QrCode.Ecc.HIGH},cE=128,dE="L",uE="#FFFFFF",hE="#000000",fE=!1,mE=1,zL=4,VL=0,UL=.1;function pE(a,e=0){const s=[];return a.forEach(function(r,i){let l=null;r.forEach(function(c,f){if(!c&&l!==null){s.push(`M${l+e} ${i+e}h${f-l}v1H${l+e}z`),l=null;return}if(f===r.length-1){if(!c)return;l===null?s.push(`M${f+e},${i+e} h1v1H${f+e}z`):s.push(`M${l+e},${i+e} h${f+1-l}v1H${l+e}z`);return}c&&l===null&&(l=f)})}),s.join("")}function gE(a,e){return a.slice().map((s,r)=>r<e.y||r>=e.y+e.h?s:s.map((i,l)=>l<e.x||l>=e.x+e.w?i:!1))}function FL(a,e,s,r){if(r==null)return null;const i=a.length+s*2,l=Math.floor(e*UL),c=i/e,f=(r.width||l)*c,u=(r.height||l)*c,m=r.x==null?a.length/2-f/2:r.x*c,g=r.y==null?a.length/2-u/2:r.y*c,b=r.opacity==null?1:r.opacity;let v=null;if(r.excavate){let N=Math.floor(m),S=Math.floor(g),T=Math.ceil(f+m-N),O=Math.ceil(u+g-S);v={x:N,y:S,w:T,h:O}}const E=r.crossOrigin;return{x:m,y:g,h:u,w:f,excavation:v,opacity:b,crossOrigin:E}}function BL(a,e){return e!=null?Math.max(Math.floor(e),0):a?zL:VL}function xE({value:a,level:e,minVersion:s,includeMargin:r,marginSize:i,imageSettings:l,size:c,boostLevel:f}){let u=He.useMemo(()=>{const N=(Array.isArray(a)?a:[a]).reduce((S,T)=>(S.push(...Vd.QrSegment.makeSegments(T)),S),[]);return Vd.QrCode.encodeSegments(N,LL[e],s,void 0,void 0,f)},[a,e,s,f]);const{cells:m,margin:g,numCells:b,calculatedImageSettings:v}=He.useMemo(()=>{let E=u.getModules();const N=BL(r,i),S=E.length+N*2,T=FL(E,c,N,l);return{cells:E,margin:N,numCells:S,calculatedImageSettings:T}},[u,c,l,r,i]);return{qrcode:u,margin:g,cells:m,numCells:b,calculatedImageSettings:v}}var $L=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),qL=He.forwardRef(function(e,s){const r=e,{value:i,size:l=cE,level:c=dE,bgColor:f=uE,fgColor:u=hE,includeMargin:m=fE,minVersion:g=mE,boostLevel:b,marginSize:v,imageSettings:E}=r,S=hv(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:T}=S,O=hv(S,["style"]),U=E==null?void 0:E.src,M=He.useRef(null),L=He.useRef(null),$=He.useCallback(Z=>{M.current=Z,typeof s=="function"?s(Z):s&&(s.current=Z)},[s]),[X,C]=He.useState(!1),{margin:R,cells:_,numCells:P,calculatedImageSettings:D}=xE({value:i,level:c,minVersion:g,boostLevel:b,includeMargin:m,marginSize:v,imageSettings:E,size:l});He.useEffect(()=>{if(M.current!=null){const Z=M.current,Ee=Z.getContext("2d");if(!Ee)return;let te=_;const G=L.current,ye=D!=null&&G!==null&&G.complete&&G.naturalHeight!==0&&G.naturalWidth!==0;ye&&D.excavation!=null&&(te=gE(_,D.excavation));const Re=window.devicePixelRatio||1;Z.height=Z.width=l*Re;const Pe=l/P*Re;Ee.scale(Pe,Pe),Ee.fillStyle=f,Ee.fillRect(0,0,P,P),Ee.fillStyle=u,$L?Ee.fill(new Path2D(pE(te,R))):_.forEach(function(K,W){K.forEach(function(B,F){B&&Ee.fillRect(F+R,W+R,1,1)})}),D&&(Ee.globalAlpha=D.opacity),ye&&Ee.drawImage(G,D.x+R,D.y+R,D.w,D.h)}}),He.useEffect(()=>{C(!1)},[U]);const z=uv({height:l,width:l},T);let I=null;return U!=null&&(I=He.createElement("img",{src:U,key:U,style:{display:"none"},onLoad:()=>{C(!0)},ref:L,crossOrigin:D==null?void 0:D.crossOrigin})),He.createElement(He.Fragment,null,He.createElement("canvas",uv({style:z,height:l,width:l,ref:$,role:"img"},O)),I)});qL.displayName="QRCodeCanvas";var yE=He.forwardRef(function(e,s){const r=e,{value:i,size:l=cE,level:c=dE,bgColor:f=uE,fgColor:u=hE,includeMargin:m=fE,minVersion:g=mE,boostLevel:b,title:v,marginSize:E,imageSettings:N}=r,S=hv(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:T,cells:O,numCells:U,calculatedImageSettings:M}=xE({value:i,level:c,minVersion:g,boostLevel:b,includeMargin:m,marginSize:E,imageSettings:N,size:l});let L=O,$=null;N!=null&&M!=null&&(M.excavation!=null&&(L=gE(O,M.excavation)),$=He.createElement("image",{href:N.src,height:M.h,width:M.w,x:M.x+T,y:M.y+T,preserveAspectRatio:"none",opacity:M.opacity,crossOrigin:M.crossOrigin}));const X=pE(L,T);return He.createElement("svg",uv({height:l,width:l,viewBox:`0 0 ${U} ${U}`,ref:s,role:"img"},S),!!v&&He.createElement("title",null,v),He.createElement("path",{fill:f,d:`M0,0 h${U}v${U}H0z`,shapeRendering:"crispEdges"}),He.createElement("path",{fill:u,d:X,shapeRendering:"crispEdges"}),$)});yE.displayName="QRCodeSVG";const HL=fL("pk_live_51ST5n8JLE5bW6f8EX9PlyQhzw3NNyU4DUGc2YNvdUWM8eDVJBh2U0gKQylFvHAe32IuWDka1uQwaVsSvU4186txw00lanUMTEu"),Dk={USD:{name:"Easytrafficbot Ug",accountNumber:"8314422210",accountType:"Checking",routingNumber:"026073150",swift:"TRWIBEB1XXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from USA (Wire & ACH)"},EUR:{name:"Easytrafficbot Ug",iban:"BE86 9679 9171 7050",swift:"TRWIBEB1XXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for SEPA transfers within Europe"},GBP:{name:"Easytrafficbot Ug",accountNumber:"46701141",sortCode:"23-08-01",iban:"GB79 TRWI 2308 0146 7011 41",swift:"TRWIGB2LXXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from UK"},AUD:{name:"Easytrafficbot Ug",accountNumber:"218673731",bsb:"774-001",swift:"TRWIAUS1XXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from Australia"},RON:{name:"Easytrafficbot Ug",iban:"RO60 BREL 0005 6028 6239 0100",bankName:"Wise / BREL",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from Romania"}},Mk={"ETH (ERC20)":{name:"Ethereum (ETH)",network:"Ethereum (ERC20)",address:"0x4F692276Ed837aa458245f4184B4331bE3142233",note:"Send only ETH to this address on the Ethereum network."},"USDC (ERC20)":{name:"USD Coin (USDC)",network:"Ethereum (ERC20)",address:"0x4F692276Ed837aa458245f4184B4331bE3142233",note:"Send only USDC to this address on the Ethereum network."},"USDT (ERC20)":{name:"Tether (USDT)",network:"Ethereum (ERC20)",address:"0x4F692276Ed837aa458245f4184B4331bE3142233",note:"Send only USDT to this address on the Ethereum network."},"USDT (TRC20)":{name:"Tether (USDT)",network:"Tron (TRC20)",address:"TBvarbCL58BtFLnytADapLHmNDvuif3eo9",note:"Send only USDT to this address on the Tron network."},"BTC (Bitcoin)":{name:"Bitcoin (BTC)",network:"Bitcoin",address:"bc1qurxk796p6kwuem3usaqamy74yesh6tlu97m3ju",note:"Send only BTC to this address on the Bitcoin network."}},GL=({amount:a,onSuccess:e,onError:s})=>{const r=DL(),i=AL(),[l,c]=w.useState(null),[f,u]=w.useState(!1),m=async g=>{if(g.preventDefault(),!r||!i)return;u(!0);const{error:b,paymentIntent:v}=await r.confirmPayment({elements:i,confirmParams:{return_url:window.location.href},redirect:"if_required"});b?(c(b.message||"An unexpected error occurred."),s(b.message||"Payment failed"),u(!1)):v&&v.status==="succeeded"?(c("Payment successful!"),e(v.id)):(c("Unexpected state."),u(!1))};return t.jsxs("form",{onSubmit:m,className:"space-y-6",children:[t.jsx(ML,{}),l&&t.jsx("div",{className:"text-red-500 text-sm font-bold bg-red-50 p-3 rounded",children:l}),t.jsxs("button",{disabled:f||!r||!i,className:"w-full bg-[#ff4d00] text-white py-4 text-sm font-black uppercase tracking-widest hover:bg-black transition-colors disabled:opacity-50 mt-4 flex items-center justify-center gap-2",children:[f?t.jsx(Is,{className:"animate-spin",size:16}):t.jsx(ir,{size:16}),f?"Processing...":`Pay ${a.toFixed(2)}`]})]})},KL=({onBack:a,onPurchase:e})=>{const s=ta(),[r,i]=w.useState(1),[l,c]=w.useState(Yo[0]),[f,u]=w.useState(0),[m,g]=w.useState(1),[b,v]=w.useState(0),[E,N]=w.useState(!1),[S,T]=w.useState("card"),[O,U]=w.useState(""),[M,L]=w.useState("USD"),[$,X]=w.useState("USDT (TRC20)"),[C,R]=w.useState(null),[_,P]=w.useState(!1),[D,z]=w.useState(!1),[I,Z]=w.useState(null),[Ee,te]=w.useState(""),[G,ye]=w.useState(null);w.useEffect(()=>{var Ne;if(v(H.getBalance()),(S==="bank"||S==="crypto")&&r===2&&!Ee){const Me=H.getCurrentUser(),yt=((Ne=Me==null?void 0:Me.id)==null?void 0:Ne.substring(0,8).toUpperCase())||"XXXXX",we=Date.now().toString(36).toUpperCase();te(`TGP-${yt}-${we}`)}},[S,r]),w.useEffect(()=>{v(H.getBalance())},[]);const Re=H.getCurrentUser(),Pe=(Re==null?void 0:Re.gamificationPermanentDiscount)||0,K=lv[f],W=nm[l.id][K][m],B=W*Pe/100,F=W-B,se=K*m,je=F/(se/1e3),Ce=async()=>{if(S==="card"){N(!0);try{const Ne=await H.createCreditsCheckout({tier:l.id,visitors:K,bulk_months:m,currency:"eur"});Ne.url?window.location.href=Ne.url:alert("Failed to initialize Stripe checkout.")}catch(Ne){alert("Checkout Error: "+Ne.message)}finally{N(!1)}}else i(2)},Le=async Ne=>{N(!0),await H.purchaseCredits(W,`Traffic Credits (${se.toLocaleString()} ${l.name}) - Stripe ${Ne}`,l.id,se),v(H.getBalance()),N(!1),e&&e(),s(`/dashboard/payment-success?type=credits&amount=${F.toFixed(2)}&credits=${se}`)},ze=(Ne,Me)=>{navigator.clipboard.writeText(Ne),Z(Me),setTimeout(()=>Z(null),2e3)},J=Ne=>{Ne.target.files&&Ne.target.files[0]&&R(Ne.target.files[0])},Qe=async()=>{if(!C){alert("Please select a file to upload.");return}P(!0);try{const Ne=new FormData;Ne.append("file",C),Ne.append("amount",F.toString()),Ne.append("tier",l.id),Ne.append("hits",se.toString()),Ne.append("currency",S==="crypto"?$:M),Ne.append("notes",`${S==="crypto"?"Crypto":"Bank"} transfer for ${se.toLocaleString()} ${l.name} visitors - Ref: ${Ee}`);const Me=localStorage.getItem("tgp_token");if(!(await fetch(`${le}/bank-transfer/proof`,{method:"POST",headers:{Authorization:`Bearer ${Me}`},body:Ne})).ok)throw new Error("Upload failed");z(!0)}catch(Ne){alert("Upload failed: "+Ne.message)}finally{P(!1)}},Ze=Ne=>{const Me=Dk[Ne];return t.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Account Holder:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Me.name}),t.jsx("button",{onClick:()=>ze(Me.name,"name"),className:"text-gray-400 hover:text-[#ff4d00]",children:I==="name"?t.jsx(xt,{size:14,className:"text-green-500"}):t.jsx(oa,{size:14})})]})]}),Me.iban&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"IBAN:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Me.iban}),t.jsx("button",{onClick:()=>ze(Me.iban,"iban"),className:"text-gray-400 hover:text-[#ff4d00]",children:I==="iban"?t.jsx(xt,{size:14,className:"text-green-500"}):t.jsx(oa,{size:14})})]})]}),Me.accountNumber&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Account Number:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Me.accountNumber}),t.jsx("button",{onClick:()=>ze(Me.accountNumber,"account"),className:"text-gray-400 hover:text-[#ff4d00]",children:I==="account"?t.jsx(xt,{size:14,className:"text-green-500"}):t.jsx(oa,{size:14})})]})]}),Me.routingNumber&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Routing Number:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Me.routingNumber}),t.jsx("button",{onClick:()=>ze(Me.routingNumber,"routing"),className:"text-gray-400 hover:text-[#ff4d00]",children:I==="routing"?t.jsx(xt,{size:14,className:"text-green-500"}):t.jsx(oa,{size:14})})]})]}),Me.sortCode&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Sort-Code:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Me.sortCode}),t.jsx("button",{onClick:()=>ze(Me.sortCode,"sortcode"),className:"text-gray-400 hover:text-[#ff4d00]",children:I==="sortcode"?t.jsx(xt,{size:14,className:"text-green-500"}):t.jsx(oa,{size:14})})]})]}),Me.bsb&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"BSB-Code:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Me.bsb}),t.jsx("button",{onClick:()=>ze(Me.bsb,"bsb"),className:"text-gray-400 hover:text-[#ff4d00]",children:I==="bsb"?t.jsx(xt,{size:14,className:"text-green-500"}):t.jsx(oa,{size:14})})]})]}),Me.swift&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"SWIFT/BIC:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Me.swift}),t.jsx("button",{onClick:()=>ze(Me.swift,"swift"),className:"text-gray-400 hover:text-[#ff4d00]",children:I==="swift"?t.jsx(xt,{size:14,className:"text-green-500"}):t.jsx(oa,{size:14})})]})]}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Bank Name:"}),t.jsx("span",{className:"font-bold",children:Me.bankName})]}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Reference:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold text-[#ff4d00]",children:Ee}),t.jsx("button",{onClick:()=>ze(Ee,"ref"),className:"text-gray-400 hover:text-[#ff4d00]",children:I==="ref"?t.jsx(xt,{size:14,className:"text-green-500"}):t.jsx(oa,{size:14})})]})]}),t.jsx("div",{className:"mt-3 p-2 bg-gray-50 border border-gray-200 rounded",children:t.jsx("p",{className:"text-xs text-gray-500",children:Me.note})})]})},lt=Ne=>{const Me=Mk[Ne];return t.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Asset:"}),t.jsx("span",{className:"font-bold",children:Me.name})]}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Network:"}),t.jsx("span",{className:"font-bold",children:Me.network})]}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Address:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold break-all max-w-[200px] sm:max-w-none",children:Me.address}),t.jsx("button",{onClick:()=>ze(Me.address,"crypto_address"),className:"text-gray-400 hover:text-[#ff4d00] flex-shrink-0",children:I==="crypto_address"?t.jsx(xt,{size:14,className:"text-green-500"}):t.jsx(oa,{size:14})})]})]}),t.jsx("div",{className:"py-4 flex justify-center border-b border-gray-100",children:t.jsx("div",{className:"p-4 bg-white border border-gray-100 shadow-sm rounded-lg",children:t.jsx(yE,{value:Me.address,size:150,fgColor:"#000000",bgColor:"#FFFFFF"})})}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Reference / Tx Hash:"}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:"font-bold text-[#ff4d00]",children:"Required"})})]}),t.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded text-blue-800",children:[t.jsx("p",{className:"text-xs font-bold",children:Me.note}),t.jsx("p",{className:"text-xs mt-1",children:"Please pay the exact invoice amount or higher. After making the payment, please upload a screenshot or mention your transaction hash as proof."})]})]})};return E&&r===1?t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[500px] text-center",children:[t.jsx(Is,{className:"w-16 h-16 text-[#ff4d00] animate-spin mb-6"}),t.jsx("h3",{className:"text-2xl font-black uppercase text-gray-900 mb-2",children:"Connecting Secure Gateway"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Please wait..."})]}):t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[t.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-gray-200 pb-8",children:t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Exchange & Funding"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Purchase Traffic Credits"})]})}),r===1?t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Yo.map(Ne=>t.jsxs("button",{onClick:()=>c(Ne),className:`relative p-8 border-2 transition-all duration-300 text-left flex flex-col min-h-[280px] ${l.id===Ne.id?`${Ne.color} bg-white shadow-xl translate-y-[-4px]`:"border-transparent bg-gray-50 opacity-60 hover:opacity-100"}`,children:[Ne.popular&&t.jsx("div",{className:"absolute top-0 right-0 bg-[#ff4d00] text-white text-[9px] font-black uppercase px-3 py-1.5",children:"Recommended"}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 text-gray-400",children:[t.jsx(jn,{size:20}),t.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:Ne.quality})]}),t.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter mb-2",children:Ne.name}),t.jsxs("div",{className:"text-sm font-bold text-[#ff4d00] mb-8",children:["",Ne.factor.toFixed(2)," Price Factor"]}),t.jsx("ul",{className:"space-y-3 mt-auto",children:Ne.features.slice(0,3).map((Me,yt)=>t.jsxs("li",{className:"text-xs font-medium text-gray-500 flex items-center gap-2",children:[t.jsx(ja,{size:12,className:"text-[#ff4d00]"})," ",Me]},yt))})]},Ne.id))}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-12",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(FT,{size:14,className:"text-[#ff4d00]"})," Volume Configurator"]}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1",children:"Select your traffic volume"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:K.toLocaleString()}),t.jsx("div",{className:"text-[10px] font-black text-[#ff4d00] uppercase tracking-widest",children:"Hits Per Credit"})]})]}),t.jsxs("div",{className:"relative mb-16 px-4",children:[t.jsx("input",{type:"range",min:"0",max:"4",step:"1",value:f,onChange:Ne=>u(parseInt(Ne.target.value)),className:"w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer accent-[#ff4d00] relative z-20"}),t.jsx("div",{className:"absolute top-6 left-0 w-full flex justify-between text-[10px] font-bold text-gray-400 uppercase tracking-wider px-1",children:lv.map((Ne,Me)=>t.jsxs("div",{className:"flex flex-col items-center cursor-pointer hover:text-black",onClick:()=>u(Me),children:[t.jsx("div",{className:"h-2 w-0.5 bg-gray-300 mb-1"}),t.jsx("span",{children:Ne>=1e6?`${Ne/1e6}M`:`${Ne/1e3}k`})]},Ne))})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-8",children:[t.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-4",children:"Bulk Packages"}),t.jsx("div",{className:"grid grid-cols-3 gap-4",children:eL.map(Ne=>t.jsxs("button",{onClick:()=>g(Ne),className:`relative py-4 border-2 flex flex-col items-center justify-center transition-all ${m===Ne?"border-[#ff4d00] bg-orange-50 text-black":"border-gray-100 text-gray-400 hover:border-gray-300"}`,children:[Ne>1&&t.jsxs("div",{className:"absolute -top-3 bg-[#ff4d00] text-white text-[9px] font-black uppercase px-2 py-0.5 rounded-full shadow-sm",children:["Save ",Ne===6?"20%":"40%"]}),t.jsxs("div",{className:"text-xl font-black",children:[Ne,"x"]}),t.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest opacity-60",children:"Credits Included"})]},Ne))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 mb-6 flex items-center gap-2",children:[t.jsx($T,{size:14,className:"text-[#ff4d00]"})," Payment Method"]}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:()=>T("card"),className:`p-4 border-2 transition-all flex flex-col items-center gap-3 text-center ${S==="card"?"border-[#ff4d00] bg-orange-50 shadow-lg ring-1 ring-[#ff4d00]":"border-gray-100 hover:border-gray-200"}`,children:[t.jsx(Ta,{size:28,className:S==="card"?"text-[#ff4d00]":"text-gray-300"}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Card"})]}),t.jsxs("button",{onClick:()=>T("crypto"),className:`p-4 border-2 transition-all flex flex-col items-center gap-3 text-center ${S==="crypto"?"border-[#ff4d00] bg-orange-50 shadow-lg":"border-gray-100 hover:border-gray-200"}`,children:[t.jsx(IT,{size:28,className:S==="crypto"?"text-[#ff4d00]":"text-gray-300"}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Crypto"})]}),t.jsxs("button",{onClick:()=>T("bank"),className:`p-4 border-2 transition-all flex flex-col items-center gap-3 text-center ${S==="bank"?"border-[#ff4d00] bg-orange-50 shadow-lg":"border-gray-100 hover:border-gray-200"}`,children:[t.jsx(MT,{size:28,className:S==="bank"?"text-[#ff4d00]":"text-gray-300"}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Bank"})]})]})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-[#111] text-white p-10 shadow-2xl relative overflow-hidden sticky top-8 min-h-[500px]",children:[t.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10 rotate-12",children:t.jsx(bw,{size:180})}),t.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-gray-400 mb-12 relative",children:"Package Summary"}),t.jsxs("div",{className:"space-y-8 relative",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Plan"}),t.jsx("div",{className:"font-black text-base uppercase",children:l.name})]}),t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Volume"}),t.jsxs("div",{className:"font-black text-base",children:[K.toLocaleString()," ",t.jsxs("span",{className:"text-gray-500",children:["x",m]})]})]}),t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Total Hits"}),t.jsx("div",{className:"font-black text-base text-[#ff4d00]",children:se.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Pricing Tier"}),t.jsxs("div",{className:"font-black text-base text-gray-300",children:["",je.toFixed(2)," CPM"]})]}),Pe>0&&t.jsxs("div",{className:"flex justify-between items-end text-[#ff4d00]",children:[t.jsxs("div",{className:"text-xs font-black uppercase tracking-widest flex items-center gap-1",children:[t.jsx(sn,{size:12,fill:"currentColor"})," Level ",(Re==null?void 0:Re.gamificationLevel)||1," Discount"]}),t.jsxs("div",{className:"font-black text-base",children:["-",Pe,"%"]})]}),t.jsx("div",{className:"h-px bg-gray-800 my-10"}),m>1?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center text-gray-400",children:[t.jsx("div",{className:"text-xs font-bold uppercase tracking-widest",children:"Original Total"}),t.jsxs("div",{className:"text-base line-through",children:["",W.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"flex justify-between items-center text-green-400 pb-2",children:[t.jsxs("div",{className:"text-xs font-black uppercase tracking-widest bg-green-900/40 px-2 py-1 rounded text-green-400 border border-green-800/50",children:["Save ",m===6?"20%":"40%"]}),t.jsxs("div",{className:"text-base font-bold",children:["-",B.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-sm font-black uppercase tracking-widest",children:"Total Due"}),t.jsxs("div",{className:"text-4xl font-black text-white",children:["",F.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}):t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"text-sm font-black uppercase tracking-widest",children:["Total Due ",t.jsx("span",{className:"text-[10px] text-gray-500 block",children:"No bulk discount applied"})]}),t.jsxs("div",{className:"text-4xl font-black text-white",children:["",F.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("button",{onClick:Ce,className:"w-full bg-[#ff4d00] text-white py-6 text-sm font-black uppercase tracking-widest hover:bg-white hover:text-black transition-all flex items-center justify-center gap-3 mt-10 shadow-[0_15px_30px_rgba(255,77,0,0.3)] group",children:["Proceed to Checkout ",t.jsx(Rs,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),t.jsxs("div",{className:"mt-10 flex items-center justify-center gap-2 text-gray-500",children:[t.jsx(ir,{size:14}),t.jsx("span",{className:"text-[10px] uppercase font-black tracking-[0.2em]",children:"Tiered Rate Calculator v4.1"})]})]})]})})]}):t.jsxs("div",{className:"mx-auto space-y-8 animate-in slide-in-from-right-8 duration-500 pb-20 w-full mb-16",children:[t.jsxs("button",{onClick:()=>i(1),className:"flex items-center gap-2 text-gray-500 hover:text-black text-sm font-bold uppercase tracking-wider mb-6",children:[t.jsx(Rs,{size:16,className:"rotate-180"})," Back to Configuration"]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 md:p-14 shadow-xl min-h-[700px] w-full",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h3",{className:"text-4xl font-black text-gray-900 uppercase tracking-tighter mb-4",children:"Secure Checkout"}),t.jsxs("p",{className:"text-gray-500 text-lg",children:["Completing payment of ",t.jsxs("span",{className:"font-bold text-[#ff4d00] text-xl",children:["",F.toFixed(2)]})," via ",S==="card"?"Stripe Secure":S]})]}),S==="card"&&O&&t.jsx("div",{className:"max-w-3xl mx-auto",children:t.jsx(nE,{stripe:HL,options:{clientSecret:O,appearance:{theme:"stripe",variables:{colorPrimary:"#ff4d00"}}},children:t.jsx(GL,{amount:F,onSuccess:Le,onError:Ne=>alert(Ne)})})}),(S==="bank"||S==="crypto")&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-6 shadow-md",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(lc,{size:28,className:"text-green-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xl font-black text-green-800 mb-2",children:"Instant Credit Upon Confirmation"}),t.jsxs("p",{className:"text-base text-green-700",children:["Upload your transfer confirmation. After validation, traffic will be ",t.jsx("strong",{className:"text-green-900",children:"instantly"})," credited to your account."]})]})]})}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-black uppercase tracking-widest text-gray-400 mb-4 block flex items-center gap-2",children:[t.jsx(jn,{size:14})," ",S==="crypto"?"Select Asset":"Select Currency"]}),t.jsx("div",{className:"flex flex-wrap gap-4",children:S==="bank"?Object.keys(Dk).map(Ne=>{const Me={USD:"$",EUR:"",GBP:"",AUD:"A$",RON:"lei"};return t.jsxs("button",{onClick:()=>L(Ne),className:`px-6 py-3 text-base font-bold uppercase tracking-wider transition-all flex items-center gap-2 ${M===Ne?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx("span",{className:"text-lg",children:Me[Ne]}),Ne]},Ne)}):Object.keys(Mk).map(Ne=>t.jsx("button",{onClick:()=>X(Ne),className:`px-4 py-3 text-xs sm:text-sm font-bold uppercase tracking-wider transition-all ${$===Ne?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:Ne},Ne))})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-5",children:[t.jsx("h4",{className:"text-sm font-black uppercase tracking-widest text-gray-900",children:S==="crypto"?"Crypto Address":`Bank Details (${M})`}),S==="bank"&&t.jsx("span",{className:"text-xs font-bold text-[#ff4d00] uppercase",children:"Recommended"})]}),S==="crypto"?lt($):Ze(M)]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("label",{className:"text-sm font-black uppercase tracking-widest text-gray-400 mb-4 block",children:"Upload Transfer Confirmation"}),D?t.jsxs("div",{className:"bg-green-50 border border-green-200 p-10 text-center h-full flex flex-col items-center justify-center",children:[t.jsx(xt,{size:72,className:"text-green-500 mb-6"}),t.jsx("p",{className:"text-lg font-bold text-green-800 mb-3",children:"Upload Successful!"}),t.jsx("p",{className:"text-base text-green-600",children:"Your transfer is being reviewed. You will receive instant credit upon validation."})]}):t.jsxs("div",{className:"space-y-5 h-full flex flex-col",children:[t.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-10 text-center hover:border-[#ff4d00] transition-colors cursor-pointer flex-1 flex flex-col items-center justify-center",children:[t.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.webp",onChange:J,className:"hidden",id:"proof-upload"}),t.jsxs("label",{htmlFor:"proof-upload",className:"cursor-pointer",children:[t.jsx(su,{size:48,className:"mx-auto text-gray-400 mb-5"}),t.jsx("p",{className:"text-lg font-medium text-gray-600",children:C?C.name:"Click here or drag a file"}),t.jsx("p",{className:"text-sm text-gray-400 mt-3",children:"PDF, JPG, PNG (max. 10MB)"})]})]}),t.jsx("button",{onClick:Qe,disabled:!C||_,className:"w-full bg-[#ff4d00] text-white py-6 text-base font-black uppercase tracking-widest hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:_?t.jsxs(t.Fragment,{children:[t.jsx(Is,{className:"animate-spin",size:20}),"Uploading..."]}):t.jsxs(t.Fragment,{children:[t.jsx(su,{size:20}),"Upload & Release Traffic"]})}),t.jsx("div",{className:"bg-gray-50 border border-gray-200 p-5 text-center",children:t.jsxs("p",{className:"text-base text-gray-500",children:["Amount: ",t.jsxs("strong",{className:"text-[#ff4d00] text-lg",children:["",F.toFixed(2)]})," for ",t.jsxs("strong",{children:[se.toLocaleString()," ",l.name," Visitors"]})]})})]})]})]})]}),t.jsxs("div",{className:"flex justify-center items-center gap-2 opacity-50",children:[t.jsx(ir,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"256-Bit SSL Encrypted & Verified"})]})]}),t.jsxs("div",{className:"mt-20 pt-16 border-t border-gray-200",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h3",{className:"text-3xl font-black text-gray-900 uppercase tracking-tighter mb-4",children:"Frequently Asked Questions"}),t.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:"Everything you need to know about purchasing and using our traffic credits."})]}),t.jsx("div",{className:"max-w-4xl mx-auto space-y-4",children:[{q:"What are traffic credits?",a:"Traffic credits are our internal currency. 1 credit equals 1 unique visitor to your website. You purchase credits in bulk and can spend them on any active projects or campaigns you create in your dashboard."},{q:"Do my credits expire?",a:"No, purchased credits never expire. They remain in your account indefinitely until you use them on campaigns. You have complete flexibility on when and how to deploy your traffic."},{q:"How fast is the delivery?",a:"Traffic delivery begins immediately after your campaign goes live. You can control the exact speed, from a slow drip (e.g., 100 visitors/day) to a massive surge, depending on your project settings."},{q:"What defines 'High Quality' vs. other tiers?",a:"Our tiers dictate the routing network and residential IP quality. Higher tiers use premium, low-fraud-score residential proxies that heavily mimic real user behavior, offering longer session times and better geographic precision."},{q:"How do Crypto/Bank payments work?",a:"For Crypto and Bank Wire, you'll transfer the exact amount to the provided details and upload a screenshot or transaction hash. Our team verifies this manually (usually within 1-12 hours) and instantly releases the credits to your account upon confirmation."}].map((Ne,Me)=>t.jsxs("div",{className:"border border-gray-200 bg-white overflow-hidden transition-all duration-300",children:[t.jsxs("button",{onClick:()=>ye(G===Me?null:Me),className:"w-full flex justify-between items-center p-6 text-left hover:bg-gray-50 focus:outline-none",children:[t.jsx("span",{className:"font-bold text-gray-900 text-lg pr-8",children:Ne.q}),t.jsx("div",{className:`flex-shrink-0 transition-transform duration-300 text-[#ff4d00] ${G===Me?"rotate-180":""}`,children:t.jsx(dr,{size:20})})]}),t.jsx("div",{className:`transition-all duration-300 ease-in-out ${G===Me?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:t.jsx("div",{className:"p-6 pt-0 text-gray-600 leading-relaxed border-t border-gray-100",children:Ne.a})})]},Me))})]})]})},WL=()=>{var z;const[a,e]=w.useState("contact"),[s,r]=w.useState(!1),[i,l]=w.useState("idle"),[c,f]=w.useState(void 0),[u,m]=w.useState(!1),[g,b]=w.useState(""),[v,E]=w.useState(""),[N,S]=w.useState({current:"",new:"",confirm:""}),[T,O]=w.useState(""),[U,M]=w.useState(""),L=w.useRef(null),$=()=>{var I;(I=L.current)==null||I.click()},X=async I=>{if(I.target.files&&I.target.files[0])try{const Z=await H.uploadAvatar(I.target.files[0]);c&&f({...c,avatarUrl:Z}),alert("Avatar updated successfully!")}catch(Z){alert("Failed to upload avatar: "+Z.message)}},C=async()=>{if(confirm("DANGER: Are you sure you want to delete your account? This action is irreversible.")&&prompt("Type 'DELETE' to confirm account deletion:")==="DELETE")try{await H.deleteAccount(),alert("Account deleted. Goodbye.")}catch(Z){alert(Z.message)}};w.useEffect(()=>{const I=H.getCurrentUser();f(I)},[]);const R=async()=>{if(c){r(!0),l("idle");try{const I=await H.updateUserProfile(c);I&&f(I),l("success"),setTimeout(()=>l("idle"),3e3)}catch(I){console.error(I),l("error"),setTimeout(()=>l("idle"),3e3)}finally{r(!1)}}},_=(I,Z)=>{c&&f({...c,[I]:Z})},P=async()=>{if(O(""),M(""),N.new!==N.confirm){O("New passwords do not match.");return}try{await H.changePassword(N.current,N.new,N.confirm),M("Password updated successfully."),S({current:"",new:"",confirm:""})}catch(I){O(I.message)}},D=async()=>{if(confirm("Log out of all other sessions? You will need to log in again on other devices."))try{await H.logoutAllSessions(),alert("All other sessions invalidted.")}catch(I){alert(I.message)}};return c?t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex items-end justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Account Management"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"My Profile"})]}),t.jsx("button",{onClick:R,disabled:s||i==="success",className:`px-6 py-3 text-xs font-bold uppercase tracking-wider transition-all duration-300 flex items-center gap-2 ${i==="success"?"bg-green-500 text-white hover:bg-green-600":i==="error"?"bg-red-500 text-white hover:bg-red-600":"bg-black text-white hover:bg-[#ff4d00]"} disabled:opacity-70`,children:i==="success"?t.jsxs(t.Fragment,{children:[t.jsx(Go,{size:14,className:"animate-in zoom-in spin-in-90 duration-300"})," Saved!"]}):i==="error"?t.jsxs(t.Fragment,{children:[t.jsx(as,{size:14})," Failed"]}):t.jsxs(t.Fragment,{children:[t.jsx(tn,{size:14})," ",s?"Saving...":"Save Changes"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 text-center shadow-sm",children:[t.jsxs("div",{className:"relative inline-block mb-6 group",children:[t.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-full flex items-center justify-center border-4 border-white shadow-lg mx-auto overflow-hidden",children:c.avatarUrl?t.jsx("img",{src:`${le}${c.avatarUrl}`,alt:c.name,className:"w-full h-full object-cover"}):t.jsx("span",{className:"text-4xl font-black text-gray-300",children:c.name.split(" ").map(I=>I[0]).join("")})}),t.jsx("button",{onClick:$,className:"absolute bottom-0 right-0 bg-[#ff4d00] text-white p-2 rounded-full hover:bg-black transition-colors shadow-md",children:t.jsx(DD,{size:16})}),t.jsx("input",{type:"file",ref:L,onChange:X,className:"hidden",accept:"image/png, image/jpeg, image/webp"})]}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:c.name}),t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mt-1",children:c.role}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 flex justify-center gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-black text-gray-900",children:c.projectsCount}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Campaigns"})]}),t.jsx("div",{className:"w-px bg-gray-200"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-black text-green-600",children:c.status}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Status"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("button",{onClick:()=>e("contact"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${a==="contact"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[t.jsx(va,{size:16})," Contact Details"]}),t.jsxs("button",{onClick:()=>e("security"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${a==="security"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[t.jsx(_a,{size:16})," Security & 2FA"]}),t.jsxs("button",{onClick:()=>e("notifications"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${a==="notifications"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[t.jsx(av,{size:16})," Notifications"]})]})]}),t.jsx("div",{className:"lg:col-span-2 space-y-6",children:a==="contact"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(va,{size:14})," Personal Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(xa,{children:"Full Name"}),t.jsx(Va,{value:c.name,onChange:I=>_("name",I),icon:t.jsx(va,{size:16})})]}),t.jsxs("div",{children:[t.jsx(xa,{children:"Display Name (Nickname)"}),t.jsx(Va,{value:c.displayName||"",onChange:I=>_("displayName",I),icon:t.jsx(mk,{size:16}),placeholder:"The Traffic King"})]}),t.jsxs("div",{children:[t.jsx(xa,{children:"Email Address"}),t.jsx(Va,{value:c.email,onChange:I=>_("email",I),icon:t.jsx(Nn,{size:16})})]}),t.jsxs("div",{children:[t.jsx(xa,{children:"Phone Number"}),t.jsx(Va,{value:c.phone||"",onChange:I=>_("phone",I),icon:t.jsx(kO,{size:16}),placeholder:"+1 (555) 000-0000"})]}),t.jsxs("div",{children:[t.jsx(xa,{children:"Job Title"}),t.jsx(Va,{value:c.jobTitle||"",onChange:I=>_("jobTitle",I),icon:t.jsx(pb,{size:16}),placeholder:"SEO Manager"})]}),t.jsxs("div",{children:[t.jsx(xa,{children:"Website"}),t.jsx(Va,{value:c.website||"",onChange:I=>_("website",I),icon:t.jsx(Ns,{size:16}),placeholder:"https://yourpage.com"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(xa,{children:"Personal Bio"}),t.jsx("textarea",{value:c.bio||"",onChange:I=>_("bio",I.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none min-h-[100px]",placeholder:"Tell us a bit about yourself..."})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(pb,{size:14})," Company & Address"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(xa,{children:"Company Name"}),t.jsx(Va,{value:c.company||"",onChange:I=>_("company",I),icon:t.jsx(pb,{size:16})})]}),t.jsxs("div",{children:[t.jsx(xa,{children:"VAT ID / Tax ID"}),t.jsx(Va,{value:c.vatId||"",onChange:I=>_("vatId",I),icon:t.jsx(mk,{size:16})})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(xa,{children:"Street Address"}),t.jsx(Va,{value:c.address||"",onChange:I=>_("address",I),icon:t.jsx(Ko,{size:16})})]}),t.jsxs("div",{children:[t.jsx(xa,{children:"City"}),t.jsx(Va,{value:c.city||"",onChange:I=>_("city",I)})]}),t.jsxs("div",{children:[t.jsx(xa,{children:"Zip / Postal Code"}),t.jsx(Va,{value:c.zip||"",onChange:I=>_("zip",I)})]}),t.jsxs("div",{children:[t.jsx(xa,{children:"Country"}),t.jsx(Va,{value:c.country||"",onChange:I=>_("country",I),placeholder:"e.g. Germany"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Ns,{size:14})," Visibility"]}),t.jsx(Eo,{label:"Public Profile Visibility",checked:c.publicProfile||!1,onChange:I=>f({...c,publicProfile:I})}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-2",children:"When enabled, other users can see your shared campaign stats and badges."})]})]}):a==="security"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(_a,{size:14})," Security & Authentication"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-bold text-gray-600",children:"Two-Factor Authentication (2FA)"}),t.jsx("button",{className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors",children:"Enable 2FA"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Add an extra layer of security to your account by requiring a verification code from your phone."}),t.jsx("div",{className:"border-t border-gray-100 pt-6",children:t.jsx(Eo,{label:"Require password on all devices every 30 days",checked:c.requirePasswordReset||!1,onChange:I=>_("requirePasswordReset",I.toString())})})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(ir,{size:14})," Change Password"]}),T&&t.jsx("p",{className:"text-red-500 text-xs mb-4",children:T}),U&&t.jsx("p",{className:"text-green-500 text-xs mb-4",children:U}),t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs("div",{children:[t.jsx(xa,{children:"Current Password"}),t.jsx(Va,{type:"password",value:N.current,onChange:I=>S({...N,current:I}),icon:t.jsx(ir,{size:16})})]}),t.jsxs("div",{children:[t.jsx(xa,{children:"New Password"}),t.jsx(Va,{type:"password",value:N.new,onChange:I=>S({...N,new:I}),icon:t.jsx(ir,{size:16})})]}),t.jsxs("div",{children:[t.jsx(xa,{children:"Confirm New Password"}),t.jsx(Va,{type:"password",value:N.confirm,onChange:I=>S({...N,confirm:I}),icon:t.jsx(ir,{size:16})})]}),t.jsx("button",{onClick:P,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors self-start",children:"Update Password"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(ss,{size:14})," Recent Login History"]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left text-xs font-bold",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-100 pb-2",children:[t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"Date & Time"}),t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"IP Address"}),t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"Device / Browser"}),t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest text-right",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:(c.loginHistory||[]).length>0?(z=c.loginHistory)==null?void 0:z.map((I,Z)=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"py-4 text-gray-900",children:I.date}),t.jsx("td",{className:"py-4 text-gray-500 font-mono",children:I.ip}),t.jsx("td",{className:"py-4 text-gray-600",children:I.device}),t.jsx("td",{className:"py-4 text-right",children:Z===0?t.jsx("span",{className:"text-green-600",children:"Current Session"}):t.jsx("span",{className:"text-gray-400",children:"Previous"})})]},Z)):t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"No recent login history found."})})})]})}),t.jsx("button",{onClick:D,className:"mt-6 w-full py-3 border border-gray-200 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 transition-colors",children:"Log out of all other sessions"}),t.jsxs("div",{className:"mt-12 pt-12 border-t border-gray-200",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-red-600 mb-4 flex items-center gap-2",children:[t.jsx(as,{size:14})," Danger Zone"]}),t.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),t.jsx("button",{onClick:C,className:"bg-red-50 text-red-600 border border-red-200 px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-red-600 hover:text-white transition-colors",children:"Delete My Account"})]})]})]}):a==="notifications"?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[t.jsx(av,{size:14})," Notification Preferences"]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(xa,{children:"Email Frequency"}),t.jsxs("select",{value:c.emailFrequency||"instant",onChange:I=>_("emailFrequency",I.target.value),className:"bg-gray-100 border-none p-2 text-[10px] font-black uppercase tracking-widest outline-none",children:[t.jsx("option",{value:"instant",children:"Instant"}),t.jsx("option",{value:"daily",children:"Daily Digest"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx(Eo,{label:"Campaign Status Alerts",checked:!0}),t.jsx(Eo,{label:"Low Balance Warnings",checked:!0}),t.jsx(Eo,{label:"New Login Notifications",checked:c.loginNotificationEnabled||!1,onChange:I=>_("loginNotificationEnabled",I.toString())})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx(Eo,{label:"Marketing & Product Updates",checked:c.newsletterSub||!1,onChange:I=>_("newsletterSub",I.toString())}),t.jsx(Eo,{label:"Weekly Performance Reports",checked:!0}),t.jsx(Eo,{label:"Sound Effects (UI)",checked:c.soundEffects||!1,onChange:I=>_("soundEffects",I.toString())})]})]})]})}):null})]})]}):t.jsx("div",{children:"Loading..."})},Eo=({label:a,checked:e,onChange:s})=>{const[r,i]=w.useState(e);w.useEffect(()=>{i(e)},[e]);const l=()=>{const c=!r;i(c),s&&s(c)};return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-bold text-gray-600",children:a}),t.jsx("button",{onClick:l,className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${r?"bg-[#ff4d00]":"bg-gray-200"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${r?"translate-x-5":"translate-x-0"}`})})]})},xa=({children:a})=>t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:a}),Va=({value:a,onChange:e,icon:s,type:r="text",placeholder:i})=>t.jsxs("div",{className:"relative",children:[s&&t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:s}),t.jsx("input",{type:r,value:a,onChange:l=>e(l.target.value),className:`w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none transition-colors ${s?"pl-10":""}`,placeholder:i})]}),YL=()=>{const[a,e]=w.useState([]),[s,r]=w.useState(null),[i,l]=w.useState(void 0),[c,f]=w.useState("all"),[u,m]=w.useState("all");w.useEffect(()=>{(async()=>{l(H.getCurrentUser()),await H.syncTransactions(),e(H.getTransactions())})();const O=setInterval(()=>{l(H.getCurrentUser())},2e3);return()=>clearInterval(O)},[]);const g=T=>{const O=a.filter(M=>M.type!=="debit"&&M.tier===T&&M.hits).reduce((M,L)=>M+(L.hits||0),0),U=a.filter(M=>M.type==="debit"&&M.tier===T&&M.hits).reduce((M,L)=>M+(L.hits||0),0);return O-U},b=T=>T?{economy:"Economy",professional:"Professional",expert:"Expert"}[T]||T:"General",v=T=>T&&{economy:"bg-gray-100 text-gray-600",professional:"bg-orange-100 text-orange-600",expert:"bg-[#ff4d00]/10 text-[#ff4d00]"}[T]||"bg-gray-100 text-gray-600",E=a.filter(T=>{if(u!=="all"&&T.tier!==u)return!1;if(c!=="all"){const O=new Date(T.date),U=new Date,M=c==="7d"?7:c==="30d"?30:90,L=new Date(U.getTime()-M*24*60*60*1e3);if(O<L)return!1}return!0}),N=()=>{if(E.length===0){alert("No transactions to download.");return}const T=["ID","Date","Description","Type","Amount","Status","Balance Tier","Hits","Reference"],O=E.map($=>[$.id,$.date,`"${$.desc.replace(/"/g,'""')}"`,$.type,$.amount.toFixed(2),$.status,b($.tier),$.hits?($.type==="debit"?"-":"+")+$.hits.toString():"",$.reference||""]),U="data:text/csv;charset=utf-8,"+T.join(",")+`
`+O.map($=>$.join(",")).join(`
`),M=encodeURI(U),L=document.createElement("a");L.setAttribute("href",M),L.setAttribute("download",`traffic_statement_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(L),L.click(),document.body.removeChild(L)},S=({trx:T,onClose:O})=>t.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:O,children:t.jsxs("div",{className:"bg-white w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-200",onClick:U=>U.stopPropagation(),children:[t.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-6 h-6 bg-[#ff4d00] flex items-center justify-center",children:t.jsx("span",{className:"font-black text-black text-xs",children:"M"})}),t.jsx("span",{className:"font-black text-lg tracking-tight",children:"TRAFFIC GEN"})]}),t.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-widest",children:"Receipt"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-xl font-bold text-gray-900 mb-1",children:["",T.amount.toFixed(2)]}),T.hits&&t.jsxs("div",{className:`text-sm font-bold mb-1 ${T.type==="debit"?"text-red-600":"text-green-600"}`,children:["(",T.type==="debit"?"-":"+",T.hits.toLocaleString()," hits)"]}),t.jsx("div",{className:`text-xs font-bold uppercase tracking-wide px-2 py-0.5 inline-block ${T.status==="completed"?"bg-green-100 text-green-700":"bg-gray-100"}`,children:T.status})]})]}),t.jsxs("div",{className:"p-8 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Date"}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:T.date})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Transaction ID"}),t.jsx("div",{className:"text-sm font-mono text-gray-600",children:T.id})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Type"}),t.jsx("div",{className:"text-sm font-bold text-gray-900 capitalize",children:T.type==="debit"?"Purchase":"Deposit"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Balance Tier"}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:b(T.tier)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Reference"}),t.jsx("div",{className:"text-sm font-mono text-gray-600",children:T.reference||"-"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"User"}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:(i==null?void 0:i.name)||"User"})]})]}),t.jsxs("div",{className:"bg-gray-50 p-4 border border-gray-100",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Description"}),t.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.desc})]})]}),t.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex justify-end gap-3",children:[t.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase hover:bg-gray-100",children:[t.jsx(CO,{size:14})," Print"]}),t.jsx("button",{onClick:O,className:"px-4 py-2 bg-black text-white text-xs font-bold uppercase hover:bg-[#ff4d00]",children:"Close"})]})]})});return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[s&&t.jsx(S,{trx:s,onClose:()=>r(null)}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Financial Overview"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Balances"})]}),t.jsxs("button",{onClick:N,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(ei,{size:14})," Statement"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white border-b-4 border-gray-200 p-8 shadow-sm hover:translate-y-[-2px] transition-transform",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsx("div",{className:"p-2 bg-gray-100 rounded-sm text-gray-600",children:t.jsx(jn,{size:20})}),t.jsx("span",{className:"text-[10px] font-bold bg-gray-100 px-2 py-1 uppercase tracking-widest text-gray-500",children:"Economy"})]}),t.jsx("div",{className:"text-3xl font-black text-gray-900 mb-1",children:g("economy").toLocaleString()}),t.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Hits Available"})]}),t.jsxs("div",{className:"bg-white border-b-4 border-orange-300 p-8 shadow-sm hover:translate-y-[-2px] transition-transform relative overflow-hidden",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[t.jsx("div",{className:"p-2 bg-orange-50 rounded-sm text-orange-500",children:t.jsx(Rf,{size:20})}),t.jsx("span",{className:"text-[10px] font-bold bg-orange-100 text-orange-600 px-2 py-1 uppercase tracking-widest",children:"Professional"})]}),t.jsx("div",{className:"text-3xl font-black text-gray-900 mb-1 relative z-10",children:g("professional").toLocaleString()}),t.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide relative z-10",children:"Hits Available"}),t.jsx(Rf,{className:"absolute -bottom-4 -right-4 text-orange-50 w-32 h-32 rotate-12"})]}),t.jsxs("div",{className:"bg-[#111] border-b-4 border-[#ff4d00] text-white p-8 shadow-lg hover:translate-y-[-2px] transition-transform relative overflow-hidden",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[t.jsx("div",{className:"p-2 bg-[#ff4d00] rounded-sm text-white",children:t.jsx(Vt,{size:20})}),t.jsx("span",{className:"text-[10px] font-bold bg-[#ff4d00] text-white px-2 py-1 uppercase tracking-widest",children:"Expert"})]}),t.jsx("div",{className:"text-3xl font-black text-white mb-1 relative z-10",children:g("expert").toLocaleString()}),t.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide relative z-10",children:"Hits Available"}),t.jsx(Vt,{className:"absolute -bottom-4 -right-4 text-gray-800 w-32 h-32 rotate-12 opacity-20"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(ss,{size:14,className:"text-[#ff4d00]"})," Transaction History"]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("select",{value:c,onChange:T=>f(T.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase tracking-wide",children:[t.jsx("option",{value:"all",children:"All Time"}),t.jsx("option",{value:"7d",children:"Last 7 Days"}),t.jsx("option",{value:"30d",children:"Last 30 Days"}),t.jsx("option",{value:"90d",children:"Last 90 Days"})]}),t.jsxs("select",{value:u,onChange:T=>m(T.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase tracking-wide",children:[t.jsx("option",{value:"all",children:"All Balances"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-[#f9fafb] border-b border-gray-100",children:[t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Balance"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hits"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Reference"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:E.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"text-center p-8 text-sm text-gray-400",children:"No transactions found."})}):E.map(T=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:T.date}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:T.desc}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-black uppercase tracking-wider rounded-sm ${v(T.tier)}`,children:b(T.tier)})}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:T.hits?t.jsxs("span",{className:T.type==="debit"?"text-red-600":"text-green-600",children:[T.type==="debit"?"-":"+",T.hits.toLocaleString()]}):"-"}),t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:T.reference||"-"}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-[9px] font-black uppercase tracking-wider rounded-sm",children:T.status})}),t.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${T.type==="debit"?"text-gray-900":"text-green-600"}`,children:[T.type==="debit"?"-":"+","",T.amount.toFixed(2),T.hits?t.jsxs("span",{className:`block text-[10px] ${T.type==="debit"?"text-red-500":"text-green-500"}`,children:["(",T.type==="debit"?"-":"+",T.hits.toLocaleString()," hits)"]}):null]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("button",{onClick:()=>r(T),className:"text-gray-400 hover:text-[#ff4d00] transition-colors",children:t.jsx(ei,{size:14})})})]},T.id))})]})})]})]})},QL=()=>{var Pe,K,W,B,F,se,je,Ce,Le,ze,J,Qe,Ze,lt,Ne,Me,yt;const[a,e]=w.useState("overview"),[s,r]=w.useState(!0),[i,l]=w.useState(null),[c,f]=w.useState(null),[u,m]=w.useState([]),[g,b]=w.useState(null),[v,E]=w.useState([]),[N,S]=w.useState(!1),[T,O]=w.useState(null),[U,M]=w.useState({url:"",description:""}),[L,$]=w.useState(!1),[X,C]=w.useState(!1),[R,_]=w.useState({amount:"",method:"paypal",paypalEmail:"",bankName:"",bankIban:"",bankSwift:""}),[P,D]=w.useState(!1),[z,I]=w.useState([]);w.useEffect(()=>{const we=H.getCurrentUser();l(we),Z()},[]);const Z=async()=>{try{const[we,re,qe,rt,ie]=await Promise.all([H.getAffiliateDashboard().catch(()=>null),H.getBenefitTypes().catch(()=>[]),H.getBenefitBalance().catch(()=>null),H.getMyBenefitRequests().catch(()=>[]),H.getMyPayouts().catch(()=>[])]);f(we),m(re),b(qe),E(rt),I(ie)}catch(we){console.error(we)}finally{r(!1)}},Ee=async()=>{if(!(!T||!U.url)){$(!0);try{await H.submitBenefit({benefit_type:T.type,benefit_category:T.category,url:U.url,description:U.description,claimed_value:T.value}),await Z(),S(!1),M({url:"",description:""}),O(null)}catch(we){alert(we.message||"Failed to submit benefit")}finally{$(!1)}}},te=async()=>{const we=parseFloat(R.amount);if(!we||we<=0){alert("Please enter a valid amount");return}const re=R.method==="paypal"?50:100;if(we<re){alert(`Minimum payout is ${re} for ${R.method==="paypal"?"PayPal":"Bank Transfer"}`);return}if(R.method==="paypal"&&!R.paypalEmail){alert("Please enter your PayPal email");return}if(R.method==="bank"&&(!R.bankName||!R.bankIban)){alert("Please enter your bank details");return}D(!0);try{await H.requestPayout({amount:we,method:R.method,payout_details:R.method==="paypal"?{email:R.paypalEmail}:{bank_name:R.bankName,iban:R.bankIban,swift:R.bankSwift}}),await Z(),C(!1),_({amount:"",method:"paypal",paypalEmail:"",bankName:"",bankIban:"",bankSwift:""}),alert("Payout request submitted successfully! We will process it within 5 business days.")}catch(qe){alert(qe.message||"Failed to request payout")}finally{D(!1)}},G=we=>["#cd7f32","#c0c0c0","#ffd700","#e5e4e2","#b9f2ff","#ff4d00"][Math.min(we-1,5)],ye=we=>{switch(we){case"youtube":return t.jsx(R9,{size:20});case"blog":return t.jsx(Df,{size:20});case"facebook":return t.jsx(yM,{size:20});case"reddit":return t.jsx(oO,{size:20});case"twitter":return t.jsx(x9,{size:20});case"instagram":return t.jsx(LM,{size:20});case"tiktok":return t.jsx(sn,{size:20});case"review":return t.jsx(sn,{size:20});default:return t.jsx(nr,{size:20})}};if(s)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-[#ff4d00] border-t-transparent rounded-full"})});const Re=(c==null?void 0:c.referralLink)||`https://modus-traffic.com/ref/u/${i==null?void 0:i.id}`;return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Partner Program"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Affiliate Dashboard"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Nb,{active:a==="overview",onClick:()=>e("overview"),icon:t.jsx(Ba,{size:14}),children:"Overview"}),t.jsx(Nb,{active:a==="benefits",onClick:()=>e("benefits"),icon:t.jsx(nr,{size:14}),children:"Benefits"}),t.jsx(Nb,{active:a==="payouts",onClick:()=>e("payouts"),icon:t.jsx(Ri,{size:14}),children:"Payouts"})]})]}),a==="overview"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 text-center shadow-sm relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gray-50 rounded-full -mt-16 -mr-16 z-0"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center border-4 border-gray-100 shadow-md mx-auto mb-6 bg-white",children:t.jsx(Rf,{size:40,style:{color:G(((Pe=c==null?void 0:c.tier)==null?void 0:Pe.tierLevel)||1)}})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:((K=c==null?void 0:c.tier)==null?void 0:K.tierName)||"Bronze Starter"}),t.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:["Current Tier Level ",((W=c==null?void 0:c.tier)==null?void 0:W.tierLevel)||1,"/6"]}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 flex justify-center gap-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-2xl font-black text-[#ff4d00]",children:[((((B=c==null?void 0:c.tier)==null?void 0:B.commissionRateL1)||.15)*100).toFixed(0),"%"]}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Comm. Rate"})]}),t.jsx("div",{className:"w-px bg-gray-200"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:(c==null?void 0:c.totalReferrals)||0}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Referrals"})]})]})]})]}),t.jsx(Co,{title:"Your Referral Link",icon:t.jsx(Df,{size:14}),children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 flex items-center font-mono text-xs font-bold text-gray-600 truncate",children:Re}),t.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Re),alert("Copied!")},className:"bg-black hover:bg-[#ff4d00] text-white p-3 shadow-sm transition-colors",children:t.jsx(oa,{size:16})})]})})]}),t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsx(Ok,{label:"Total Earnings",value:`${(((F=c==null?void 0:c.tier)==null?void 0:F.totalEarnings)||0).toFixed(2)}`,subtext:"All time earnings"}),t.jsx(Ok,{label:"Pending Payout",value:`${(((se=c==null?void 0:c.tier)==null?void 0:se.pendingPayout)||0).toFixed(2)}`,subtext:"Available for withdrawal",highlight:!0})]}),t.jsx(Co,{title:"Referral Network Performance",icon:t.jsx(Rr,{size:14}),children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-[#ff4d00] text-white flex items-center justify-center font-bold text-xs",children:"L1"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Direct Referrals"}),t.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:[(((je=c==null?void 0:c.tier)==null?void 0:je.commissionRateL1)||.15)*100,"% Commission"]})]})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:((Ce=c==null?void 0:c.tier)==null?void 0:Ce.totalReferralsL1)||0})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold text-xs",children:"L2"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Level 2 (Indirect)"}),t.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:[(((Le=c==null?void 0:c.tier)==null?void 0:Le.commissionRateL2)||.05)*100,"% Override"]})]})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:((ze=c==null?void 0:c.tier)==null?void 0:ze.totalReferralsL2)||0})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500 text-white flex items-center justify-center font-bold text-xs",children:"L3"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Level 3 (Network)"}),t.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:[(((J=c==null?void 0:c.tier)==null?void 0:J.commissionRateL3)||.02)*100,"% Override"]})]})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:((Qe=c==null?void 0:c.tier)==null?void 0:Qe.totalReferralsL3)||0})]})]})}),g&&g.benefitBalance>0&&t.jsx("div",{className:"bg-black text-white p-8 relative overflow-hidden shadow-lg",children:t.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-2",children:"Available Credits"}),t.jsxs("div",{className:"text-4xl font-black",children:["",g.benefitBalance.toFixed(2)]}),t.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Use these credits for your own traffic campaigns."})]}),t.jsx(Ta,{size:48,className:"text-[#333]"})]})})]})]}),a==="benefits"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs(Co,{title:"Credit Balance",icon:t.jsx(Ta,{size:14}),children:[t.jsxs("div",{className:"text-center py-6",children:[t.jsxs("div",{className:"text-3xl font-black text-gray-900 mb-1",children:["",((g==null?void 0:g.benefitBalance)||0).toFixed(2)]}),t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Available Balance"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-6 border-t border-gray-100",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xl font-black text-gray-900",children:(g==null?void 0:g.pendingRequests)||0}),t.jsx("div",{className:"text-[9px] text-gray-400 uppercase tracking-wide",children:"Pending"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xl font-black text-green-600",children:g==null?void 0:g.totalBenefitsClaimed.toFixed(2)}),t.jsx("div",{className:"text-[9px] text-gray-400 uppercase tracking-wide",children:"Earned"})]})]})]}),t.jsxs("div",{className:"bg-[#ff4d00] text-white p-8",children:[t.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Earn More Credits"}),t.jsx("p",{className:"text-xs font-medium opacity-80 mb-6",children:"Complete simple tasks to earn free traffic credits for your campaigns."}),t.jsx("button",{onClick:()=>S(!0),className:"w-full bg-white text-black text-xs font-bold uppercase tracking-wider py-3 hover:bg-black hover:text-white transition-colors",children:"Submit Activity"})]})]}),t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsx(Co,{title:"Available Opportunities",icon:t.jsx(nr,{size:14}),children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.slice(0,8).map(we=>t.jsxs("div",{onClick:()=>{O(we),S(!0)},className:"border border-gray-100 p-4 hover:border-[#ff4d00] hover:shadow-md transition-all cursor-pointer group bg-gray-50",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsx("div",{className:"p-2 bg-white rounded-md shadow-sm text-gray-600 group-hover:text-[#ff4d00] transition-colors",children:ye(we.type)}),t.jsxs("span",{className:"text-sm font-black text-[#ff4d00]",children:["",we.value]})]}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:we.category}),t.jsx("div",{className:"text-[10px] text-gray-500 mt-1 line-clamp-1",children:we.name})]},we.id))})}),t.jsx(Co,{title:"Recent Submissions",icon:t.jsx(ss,{size:14}),children:v.length===0?t.jsx("div",{className:"text-center py-12 text-gray-400 text-sm",children:"No submissions yet. Start earning today!"}):t.jsx("div",{className:"divide-y divide-gray-100",children:v.map(we=>t.jsxs("div",{className:"py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`p-2 rounded-full ${we.status==="approved"?"bg-green-100 text-green-600":we.status==="rejected"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:we.status==="approved"?t.jsx(Go,{size:16}):we.status==="rejected"?t.jsx(Na,{size:16}):t.jsx(ss,{size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-bold text-gray-900 uppercase",children:we.benefitCategory}),t.jsx("div",{className:"text-[10px] text-gray-500 truncate max-w-[200px]",children:we.url})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-black",children:["",we.approvedValue||we.claimedValue]}),t.jsx("div",{className:`text-[9px] font-bold uppercase tracking-wider ${we.status==="approved"?"text-green-600":we.status==="rejected"?"text-red-500":"text-yellow-500"}`,children:we.status})]})]},we.id))})})]})]}),a==="payouts"&&t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs(Co,{title:"Cashout Earnings",icon:t.jsx(Ri,{size:14}),children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"p-6 bg-[#f9fafb] border border-gray-200 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Available to Payout"}),t.jsxs("div",{className:"text-3xl font-black text-green-600",children:["",(((Ze=c==null?void 0:c.tier)==null?void 0:Ze.pendingPayout)||0).toFixed(2)]})]}),t.jsxs("div",{className:"p-6 bg-white border border-gray-200 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Min. PayPal"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:"50.00"})]}),t.jsxs("div",{className:"p-6 bg-white border border-gray-200 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Min. Bank Transfer"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:"100.00"})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"bg-white p-3 shadow-sm rounded-full",children:t.jsx(nv,{size:24,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"Secure Payout Processing"}),t.jsx("p",{className:"text-xs text-gray-500 max-w-md",children:"Payouts are processed manually within 5 business days. Please ensure your billing details are up to date in your profile."})]})]}),t.jsx("button",{onClick:()=>C(!0),disabled:(((lt=c==null?void 0:c.tier)==null?void 0:lt.pendingPayout)||0)<50,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Request Payout"})]})]}),t.jsx(Co,{title:"Financial History",icon:t.jsx(Ba,{size:14}),children:t.jsxs("div",{className:"grid grid-cols-2 gap-8 p-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Lifetime Earnings"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:["",(((Ne=c==null?void 0:c.tier)==null?void 0:Ne.totalEarnings)||0).toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Total Paid Out"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:["",(((Me=c==null?void 0:c.tier)==null?void 0:Me.lifetimePayout)||0).toFixed(2)]})]})]})}),t.jsx(Co,{title:"Payout History",icon:t.jsx(ss,{size:14}),children:z.length===0?t.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"No payout requests yet"}):t.jsx("div",{className:"divide-y divide-gray-100",children:z.map(we=>t.jsxs("div",{className:"py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`p-2 rounded-full ${we.status==="paid"?"bg-green-100 text-green-600":we.status==="approved"?"bg-blue-100 text-blue-600":we.status==="rejected"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:we.status==="paid"?t.jsx(Go,{size:16}):we.status==="rejected"?t.jsx(Na,{size:16}):t.jsx(ss,{size:16})}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-xs font-bold text-gray-900",children:["",we.amount.toFixed(2)]}),t.jsx("div",{className:"text-[10px] text-gray-500",children:we.method==="paypal"?"PayPal":"Bank Transfer"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-[9px] font-bold uppercase tracking-wider ${we.status==="paid"?"text-green-600":we.status==="approved"?"text-blue-600":we.status==="rejected"?"text-red-500":"text-yellow-500"}`,children:we.status}),t.jsx("div",{className:"text-[10px] text-gray-400",children:new Date(we.requestedAt).toLocaleDateString()})]})]},we.id))})})]}),N&&t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white max-w-lg w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[t.jsxs("h3",{className:"text-lg font-black uppercase tracking-tight flex items-center gap-2",children:[t.jsx(nr,{size:20,className:"text-[#ff4d00]"})," Submit Activity"]}),t.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-black transition-colors",children:t.jsx("span",{className:"text-2xl",children:""})})]}),t.jsxs("div",{className:"p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsx(Ti,{children:"Activity Type"}),t.jsxs("select",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",value:(T==null?void 0:T.id)||"",onChange:we=>{const re=u.find(qe=>qe.id===we.target.value);O(re||null)},children:[t.jsx("option",{value:"",children:"Select activity..."}),u.map(we=>t.jsxs("option",{value:we.id,children:[we.name," - ",we.value]},we.id))]})]}),t.jsxs("div",{children:[t.jsx(Ti,{children:"Proof URL"}),t.jsx(kd,{value:U.url,onChange:we=>M({...U,url:we}),placeholder:"https://..."})]}),t.jsxs("div",{children:[t.jsx(Ti,{children:"Description / Comments"}),t.jsx("textarea",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none min-h-[100px]",placeholder:"Additional details...",value:U.description,onChange:we=>M({...U,description:we.target.value})})]}),T&&t.jsxs("div",{className:"bg-gray-50 border border-gray-100 p-4 flex justify-between items-center",children:[t.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Estimated Value"}),t.jsxs("div",{className:"text-2xl font-black text-[#ff4d00]",children:["",T.value]})]})]}),t.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3",children:[t.jsx("button",{onClick:()=>S(!1),className:"flex-1 border border-gray-200 py-3 text-xs font-bold uppercase hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Ee,disabled:!T||!U.url||L,className:"flex-1 bg-black text-white py-3 text-xs font-bold uppercase hover:bg-[#ff4d00] transition-colors disabled:opacity-50",children:L?"Submitting...":"Submit Request"})]})]})}),X&&t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white max-w-lg w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[t.jsxs("h3",{className:"text-lg font-black uppercase tracking-tight flex items-center gap-2",children:[t.jsx(Ri,{size:20,className:"text-[#ff4d00]"})," Request Payout"]}),t.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-black transition-colors",children:t.jsx("span",{className:"text-2xl",children:""})})]}),t.jsxs("div",{className:"p-8 space-y-6",children:[t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Available Balance"}),t.jsxs("div",{className:"text-3xl font-black text-green-600",children:["",(((yt=c==null?void 0:c.tier)==null?void 0:yt.pendingPayout)||0).toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx(Ti,{children:"Amount ()"}),t.jsx(kd,{value:R.amount,onChange:we=>_({...R,amount:we}),placeholder:"0.00",type:"number"})]}),t.jsxs("div",{children:[t.jsx(Ti,{children:"Payout Method"}),t.jsxs("select",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",value:R.method,onChange:we=>_({...R,method:we.target.value}),children:[t.jsx("option",{value:"paypal",children:"PayPal (Min. 50)"}),t.jsx("option",{value:"bank",children:"Bank Transfer (Min. 100)"})]})]}),R.method==="paypal"?t.jsxs("div",{children:[t.jsx(Ti,{children:"PayPal Email"}),t.jsx(kd,{value:R.paypalEmail,onChange:we=>_({...R,paypalEmail:we}),placeholder:"your@email.com",type:"email"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx(Ti,{children:"Bank Name"}),t.jsx(kd,{value:R.bankName,onChange:we=>_({...R,bankName:we}),placeholder:"Bank Name"})]}),t.jsxs("div",{children:[t.jsx(Ti,{children:"IBAN"}),t.jsx(kd,{value:R.bankIban,onChange:we=>_({...R,bankIban:we}),placeholder:"DE89 3704 0044 0532 0130 00"})]}),t.jsxs("div",{children:[t.jsx(Ti,{children:"SWIFT/BIC (Optional)"}),t.jsx(kd,{value:R.bankSwift,onChange:we=>_({...R,bankSwift:we}),placeholder:"DEUTDEFF"})]})]}),t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 text-xs text-yellow-800",children:[t.jsx("strong",{children:"Note:"})," Payouts are processed manually within 5 business days. Ensure your details are correct."]})]}),t.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3",children:[t.jsx("button",{onClick:()=>C(!1),className:"flex-1 border border-gray-200 py-3 text-xs font-bold uppercase hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:te,disabled:P,className:"flex-1 bg-black text-white py-3 text-xs font-bold uppercase hover:bg-[#ff4d00] transition-colors disabled:opacity-50",children:P?"Processing...":"Submit Request"})]})]})})]})},Co=({title:a,icon:e,children:s})=>t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm h-full",children:[t.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[e," ",a]}),s]}),Ok=({label:a,value:e,subtext:s,highlight:r})=>t.jsxs("div",{className:`p-6 border ${r?"border-[#ff4d00]/30 bg-[#fff5f0]":"border-gray-200 bg-white"}`,children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:a}),t.jsx("div",{className:`text-3xl font-black ${r?"text-[#ff4d00]":"text-gray-900"}`,children:e}),s&&t.jsx("div",{className:"text-[10px] text-gray-500 mt-1",children:s})]}),Nb=({active:a,onClick:e,children:s,icon:r})=>t.jsxs("button",{onClick:e,className:`px-4 py-2 text-[10px] font-bold uppercase tracking-widest flex items-center gap-2 transition-all border ${a?"bg-black text-white border-black":"bg-white text-gray-500 border-gray-200 hover:border-gray-300"}`,children:[r," ",s]}),Ti=({children:a})=>t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-2",children:a}),kd=({value:a,onChange:e,placeholder:s,type:r="text"})=>t.jsx("input",{type:r,value:a,onChange:i=>e(i.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:s}),JL=({targetDate:a})=>{const[e,s]=w.useState(null);return w.useEffect(()=>{const r=setInterval(()=>{const i=new Date().getTime(),l=new Date(a).getTime()-i;l<0?(s(null),clearInterval(r)):s({days:Math.floor(l/864e5),hours:Math.floor(l%864e5/36e5),minutes:Math.floor(l%36e5/6e4),seconds:Math.floor(l%6e4/1e3)})},1e3);return()=>clearInterval(r)},[a]),e?t.jsxs("div",{className:"flex gap-2 mt-3 font-mono text-sm font-black text-black bg-white/20 p-2 rounded-sm inline-flex",children:[t.jsxs("span",{children:[String(e.days).padStart(2,"0"),"d"]}),":",t.jsxs("span",{children:[String(e.hours).padStart(2,"0"),"h"]}),":",t.jsxs("span",{children:[String(e.minutes).padStart(2,"0"),"m"]}),":",t.jsxs("span",{children:[String(e.seconds).padStart(2,"0"),"s"]})]}):null},XL=({stats:a})=>{const e=Math.max(...a.map(s=>s.visitors),1);return t.jsx("div",{className:"h-32 flex items-end justify-between gap-1 w-full mt-4",children:a.map((s,r)=>{const i=s.visitors/e*100;return t.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative h-full",children:[t.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap",children:[s.date,": ",s.visitors.toLocaleString()]}),t.jsx("div",{className:"bg-[#ff4d00] opacity-30 group-hover:opacity-100 transition-all rounded-t-sm",style:{height:`${i}%`,minHeight:"4px"}})]},r)})})},ZL=({projects:a,balance:e,onNavigateToProject:s,onNavigateToBuyCredits:r,onNavigateToSupport:i})=>{var B;const[l,c]=w.useState([]),[f,u]=w.useState([]),[m,g]=w.useState(null),[b,v]=w.useState(""),[E,N]=w.useState(""),[S,T]=w.useState(""),[O,U]=w.useState(!1),[M,L]=w.useState(!1),[$,X]=w.useState(0),[C,R]=w.useState(null),[_,P]=w.useState(!1),[D,z]=w.useState(null),[I,Z]=w.useState(!1);w.useEffect(()=>{const F=H.getCurrentUser();g(F||null),c(H.getTransactions().slice(0,5));const se=async()=>{try{const Ne=await fetch(`${window.location.origin}/users/me/gamification`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(Ne.ok){const Me=await Ne.json();R(Me),L(Me.streak_days>0&&!await je())}}catch(Ne){console.error("Failed to fetch gamification:",Ne)}},je=async()=>{try{const Ne=await fetch(`${window.location.origin}/users/me/streak`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(Ne.ok)return(await Ne.json()).can_claim_today}catch{}return!0};se();const Le=H.getAlerts().filter(Ne=>H.checkBroadcastTarget(Ne,F));u(Le);const ze=["Use alt tags on all images for better accessibility and SEO ranking.","Improve page load speed by compressing images and using lazy loading.","Use descriptive and keyword-rich title tags for every page.","Internal linking helps search engines understand your site structure.","Write unique meta descriptions to improve click-through rates."];N(ze[Math.floor(Math.random()*ze.length)]);const J=["The first website was published in 1991 by Tim Berners-Lee.","Over 50% of web traffic comes from mobile devices.","Google processes over 3.5 billion searches per day.","The average bounce rate for websites is between 41% and 55%."];T(J[Math.floor(Math.random()*J.length)]);const Qe=setInterval(()=>{v(new Date().toUTCString().split(" ")[4]+" UTC")},1e3),Ze=async()=>{try{const Ne=await H.getActiveNow();X(Ne.activeNow)}catch{}};Ze();const lt=setInterval(Ze,5e3);return()=>{clearInterval(Qe),clearInterval(lt)}},[e]);const Ee=a.filter(F=>F.status==="active"),te=He.useMemo(()=>{const F=[];for(let se=29;se>=0;se--){const je=new Date;je.setDate(je.getDate()-se);const Ce=je.toLocaleDateString("en-US",{month:"short",day:"numeric"});let Le=0;a.forEach(ze=>{var Qe;const J=(Qe=ze.stats)==null?void 0:Qe.find(Ze=>Ze.date===je.toISOString().split("T")[0]);J&&(Le+=J.visitors)}),F.push({date:Ce,visitors:Le})}return F},[a]),G=a.reduce((F,se)=>{var Ce;const je=((Ce=se.stats)==null?void 0:Ce.reduce((Le,ze)=>Le+ze.visitors,0))||0;return F+je},0),ye=F=>{switch(F){case"error":return t.jsx(xO,{size:18});case"warning":return t.jsx(as,{size:18});case"promo":return t.jsx(sn,{size:18});default:return t.jsx(lc,{size:18})}},Re=F=>F>=1e6?(F/1e6).toFixed(1)+"M":F>=1e3?(F/1e3).toFixed(1)+"k":F.toString(),Pe=()=>{const F=new Date().getHours();return F<12?"Good Morning":F<18?"Good Afternoon":"Good Evening"},K=()=>{navigator.clipboard.writeText(`https://traffic.com/ref/${(m==null?void 0:m.id)||"user"}`),U(!0),setTimeout(()=>U(!1),2e3)},W=async()=>{if(!(I||M)){Z(!0);try{const se=await(await fetch(`${window.location.origin}/users/me/daily-bonus`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`,"Content-Type":"application/json"}})).json();z(se),P(!0),se.success&&(L(!0),R(je=>je?{...je,streak_days:se.streak_days,streak_best:se.streak_best}:null))}catch(F){console.error("Failed to claim bonus:",F)}finally{Z(!1)}}};return t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[f.length>0&&t.jsx("div",{className:"space-y-3",children:f.map(F=>t.jsxs("div",{className:`p-4 border-l-4 shadow-sm flex items-start gap-3 rounded-r-sm ${F.type==="error"?"bg-red-50 border-red-500 text-red-700":F.type==="promo"?"bg-yellow-50 border-yellow-500 text-yellow-800":F.type==="warning"?"bg-orange-50 border-orange-500 text-orange-700":"bg-blue-50 border-blue-500 text-blue-700"}`,children:[t.jsx("div",{className:"mt-0.5 shrink-0",children:ye(F.type)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-bold",children:F.message}),F.countdownEnds&&t.jsx(JL,{targetDate:F.countdownEnds}),t.jsx("p",{className:"text-[10px] font-medium opacity-70 mt-1 uppercase tracking-wider",children:F.date})]})]},F.id))}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-end gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1 flex items-center gap-2",children:[t.jsx(s9,{size:12,strokeWidth:3})," ",Pe()]}),t.jsxs("h2",{className:"text-4xl font-black text-gray-900 tracking-tight uppercase",children:["Welcome, ",((B=m==null?void 0:m.name)==null?void 0:B.split(" ")[0])||"User"]}),t.jsxs("p",{className:"text-sm text-gray-400 font-bold uppercase tracking-wider mt-1",children:["Your network performance is ",t.jsx("span",{className:"text-green-600",children:"Optimal"})]})]}),t.jsx("div",{className:"flex flex-col items-end gap-3",children:t.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-black uppercase bg-white px-4 py-2 border border-gray-200 shadow-sm rounded-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ss,{size:12,className:"text-[#ff4d00]"}),t.jsx("span",{className:"text-gray-900",children:b})]}),t.jsx("div",{className:"w-px h-3 bg-gray-200"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full animate-pulse"}),t.jsx("span",{className:"text-[#ff4d00]",children:"Server Online"})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors rounded-sm",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(Ba,{size:64,className:"text-[#ff4d00]"})}),t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Total Hits Sent"}),t.jsx("div",{className:"text-4xl font-black text-gray-900 mb-2",children:Re(G)}),t.jsxs("div",{className:"text-[10px] font-black text-[#ff4d00] flex items-center gap-1 uppercase tracking-wider",children:[t.jsx(Er,{size:12})," Active Now: ",$]})]}),t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors cursor-pointer rounded-sm",onClick:()=>s(""),children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(Vt,{size:64,className:"text-[#ff4d00]"})}),t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Active Projects"}),t.jsx("div",{className:"text-4xl font-black text-gray-900 mb-2",children:Ee.length}),t.jsxs("div",{className:"text-[10px] font-black text-gray-500 flex items-center gap-1 uppercase tracking-wider",children:["Manage Campaigns ",t.jsx(Rs,{size:10,className:"group-hover:translate-x-1 transition-transform"})]})]}),t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors cursor-pointer rounded-sm",onClick:r,children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(Ta,{size:64,className:"text-[#ff4d00]"})}),t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Available Hits"}),t.jsx("div",{className:"text-4xl font-black text-gray-900 mb-2",children:(e??0).toLocaleString()}),t.jsxs("div",{className:"text-[10px] font-black text-[#ff4d00] flex items-center gap-1 uppercase tracking-wider",children:["Buy Hits ",t.jsx(Ir,{size:10,className:"group-hover:rotate-90 transition-transform"})]})]}),t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors rounded-sm",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(sn,{size:64,className:"text-[#ff4d00]"})}),t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsxs("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["Level ",(C==null?void 0:C.level)||1," ",(C==null?void 0:C.level_name)||"Novice"]}),t.jsxs("span",{className:"text-[10px] font-black text-[#ff4d00]",children:[C!=null&&C.xp_to_next?Math.min(100,Math.round(C.xp/(C.xp+C.xp_to_next)*100)):100,"%"]})]}),t.jsx("div",{className:"text-2xl font-black text-gray-900 mb-3 uppercase tracking-tight",children:"Growth Path"}),t.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden shadow-inner",children:t.jsx("div",{className:"h-full bg-[#ff4d00] transition-all duration-1000",style:{width:`${C!=null&&C.xp_to_next?Math.min(100,Math.round(C.xp/(C.xp+C.xp_to_next)*100)):100}%`}})}),t.jsxs("div",{className:"mt-2 text-[9px] font-black text-gray-400 uppercase tracking-widest",children:[C!=null&&C.discount_percent?`${C.discount_percent}% Discount Active  `:"","Next: ",(C==null?void 0:C.next_reward)||"Max Level"]}),(C==null?void 0:C.pending_bonus_hits)&&C.pending_bonus_hits>0&&!C.pending_bonus_claimed&&t.jsxs("button",{className:"mt-3 w-full bg-[#ff4d00] text-white py-2 text-[9px] font-black uppercase tracking-widest rounded-sm hover:bg-black transition-colors animate-pulse",children:[t.jsx(gx,{size:12,className:"inline mr-1"})," Claim Level Bonus: +",C.pending_bonus_hits.toLocaleString()," Hits"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 rounded-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(LD,{size:14,className:"text-[#ff4d00]"})," Network Throughput"]}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1",children:"Last 30 days volume"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-gray-500 uppercase",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full"})," Hits"]})})]}),t.jsx(XL,{stats:te})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm flex flex-col rounded-sm overflow-hidden",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Er,{size:14,className:"text-[#ff4d00]"})," Recent Campaigns"]}),t.jsxs("button",{onClick:()=>s(""),className:"text-[10px] font-black text-gray-400 uppercase tracking-widest hover:text-[#ff4d00] transition-colors flex items-center gap-1",children:["View Full List ",t.jsx(Rs,{size:10})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Project Name"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Pricing Plan"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Status"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-50",children:[a.slice(0,5).map(F=>t.jsxs("tr",{className:"hover:bg-orange-50/30 cursor-pointer transition-colors group",onClick:()=>s(F.id),children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-xs font-bold text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:F.name}),t.jsx("div",{className:"text-[10px] text-gray-400 font-mono mt-0.5 uppercase tracking-tighter",children:F.id})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 px-2 py-1 bg-gray-100 rounded-sm",children:F.plan})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-[9px] font-black uppercase tracking-wider rounded-sm ${F.status==="active"?"bg-[#ff4d00] text-white":F.status==="completed"?"bg-black text-white":"bg-gray-100 text-gray-400"}`,children:F.status})})]},F.id)),a.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:3,className:"p-12 text-center text-[10px] font-black uppercase tracking-widest text-gray-400",children:"No projects found. Create your first campaign to get started."})})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-sm shadow-sm flex gap-4 hover:border-[#ff4d00] transition-colors",children:[t.jsx("div",{className:"mt-1",children:t.jsx(lc,{size:18,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-[#ff4d00] uppercase tracking-widest mb-1",children:"Weekly SEO Insight"}),t.jsxs("p",{className:"text-xs text-gray-700 leading-relaxed font-bold",children:['"',E,'"']})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-sm shadow-sm flex gap-4 hover:border-[#ff4d00] transition-colors",children:[t.jsx("div",{className:"mt-1",children:t.jsx(Ns,{size:18,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-[#ff4d00] uppercase tracking-widest mb-1",children:"Internet Statistics"}),t.jsxs("p",{className:"text-xs text-gray-700 leading-relaxed font-bold",children:['"',S,'"']})]})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 rounded-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 mb-6 flex items-center gap-2",children:[t.jsx(Vt,{size:14,className:"text-[#ff4d00]"})," Command Center"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{onClick:()=>s("new"),className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-black hover:text-white transition-all rounded-sm group",children:[t.jsx(Er,{size:20,className:"mb-2 text-[#ff4d00]"}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:"New Project"})]}),t.jsxs("button",{onClick:r,className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-black hover:text-white transition-all rounded-sm group",children:[t.jsx(Ta,{size:20,className:"mb-2 text-gray-400 group-hover:text-[#ff4d00]"}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:"Buy Credits"})]}),t.jsxs("button",{onClick:W,disabled:M||I,className:`flex flex-col items-center justify-center p-4 transition-all rounded-sm group ${M?"bg-[#ff4d00]/10 text-[#ff4d00]":"bg-gray-50 hover:bg-[#ff4d00] hover:text-white"}`,children:[t.jsx(nr,{size:20,className:`mb-2 ${M?"text-[#ff4d00]":"text-gray-400 group-hover:text-white"}`}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:I?"Claiming...":M?"Claimed":"Daily Bonus"})]}),t.jsxs("button",{onClick:()=>i?i():window.location.href="/dashboard/support",className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-blue-600 hover:text-white transition-all rounded-sm group",children:[t.jsx(en,{size:20,className:"mb-2 text-gray-400 group-hover:text-white"}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:"Get Support"})]})]})]}),t.jsxs("div",{className:"bg-[#111] text-white p-6 rounded-sm shadow-xl relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00] opacity-10 rounded-full -mr-16 -mt-16 blur-2xl group-hover:opacity-20 transition-opacity"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest mb-1",children:"Activity Streak"}),t.jsxs("div",{className:"text-3xl font-black flex items-center gap-3 mb-6",children:[(C==null?void 0:C.streak_days)||0," DAYS ",t.jsx(Vt,{size:24,className:"text-[#ff4d00] fill-[#ff4d00] animate-pulse"})]}),t.jsx("div",{className:"flex gap-1.5 h-1.5 mb-3",children:[1,2,3,4,5,6,7].map(F=>t.jsx("div",{className:`${F<=Math.min((C==null?void 0:C.streak_days)||0,7)?"bg-[#ff4d00]":"bg-gray-800"} flex-1 rounded-full`},F))}),t.jsxs("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:["Best: ",(C==null?void 0:C.streak_best)||0," days  Day 7 bonus: +10,000 hits"]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 rounded-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(Rr,{size:14,className:"text-[#ff4d00]"})," Affiliate Portal"]}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mb-4 tracking-tight",children:"Earn 20% lifetime commission"}),t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsx("div",{className:"flex-1 bg-gray-50 border border-gray-200 text-[10px] px-3 py-2.5 rounded-sm font-mono text-gray-500 truncate",children:m!=null&&m.referralCode?`modus-traffic.com/ref/${m.referralCode}`:`modus-traffic.com/ref/u/${(m==null?void 0:m.id)||"..."}`}),t.jsx("button",{onClick:K,className:`px-4 rounded-sm border transition-all flex items-center justify-center ${O?"bg-green-600 border-green-600 text-white":"bg-white border-gray-200 hover:border-[#ff4d00] hover:text-[#ff4d00]"}`,children:O?t.jsx(ja,{size:14}):t.jsx(oa,{size:14})})]}),t.jsxs("button",{onClick:()=>window.location.href="/dashboard/affiliate",className:"w-full bg-black text-white py-2.5 text-[10px] font-black uppercase tracking-widest hover:bg-[#ff4d00] transition-colors rounded-sm flex items-center justify-center gap-2",children:["Open Affiliate Portal ",t.jsx(Rs,{size:12})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-sm overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[t.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Wallet History"}),t.jsx(ss,{size:12,className:"text-gray-400"})]}),t.jsx("div",{className:"divide-y divide-gray-100",children:l.length>0?l.slice(0,3).map(F=>t.jsxs("div",{className:"p-4 flex justify-between items-center bg-white hover:bg-gray-50 transition-colors group",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-1.5 rounded-sm ${F.type==="debit"?"bg-orange-50 text-[#ff4d00]":"bg-green-50 text-green-600"}`,children:F.type==="debit"?t.jsx(Rs,{size:10,className:"rotate-45"}):t.jsx(Ir,{size:10})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black text-gray-700 uppercase tracking-tight truncate w-32",children:F.desc}),t.jsx("div",{className:"text-[9px] text-gray-400 font-bold uppercase",children:F.date})]})]}),t.jsxs("div",{className:`text-xs font-black ${F.type==="debit"?"text-gray-900":"text-green-600"}`,children:[F.type==="debit"?"-":"+","",F.amount.toFixed(0)]})]},F.id)):t.jsx("div",{className:"p-8 text-center text-[10px] font-black uppercase tracking-widest text-gray-400",children:"No transactions recorded."})}),l.length>0&&t.jsx("button",{onClick:()=>window.location.href="/dashboard/balance",className:"w-full py-3 bg-gray-50 text-[9px] font-black uppercase tracking-widest text-gray-400 hover:text-[#ff4d00] transition-colors border-t border-gray-100",children:"View Full Wallet"})]})]})]}),_&&D&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-sm shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-in slide-in-from-bottom-4 duration-300",children:[t.jsxs("div",{className:"bg-[#ff4d00] p-6 text-center relative",children:[t.jsx("button",{onClick:()=>P(!1),className:"absolute top-4 right-4 text-white/70 hover:text-white",children:t.jsx(Zs,{size:20})}),t.jsx(nr,{size:48,className:"mx-auto mb-3 text-white animate-bounce"}),t.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:D.success?"Bonus Claimed!":"Already Claimed"})]}),t.jsx("div",{className:"p-8 text-center",children:D.success?t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-4xl font-black text-[#ff4d00] mb-2",children:["+",D.hits.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-gray-500 font-bold uppercase tracking-widest mb-4",children:[D.tier.charAt(0).toUpperCase()+D.tier.slice(1)," Hits Added"]}),t.jsx("div",{className:"bg-gray-50 rounded-sm p-4 mb-6",children:t.jsxs("div",{className:"flex items-center justify-center gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Current Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:[D.streak_days," Days"]})]}),t.jsx("div",{className:"w-px h-10 bg-gray-200"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Best Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:[D.streak_best," Days"]})]})]})}),t.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Come back tomorrow to continue your streak and earn more bonus hits!"})]}):t.jsx("p",{className:"text-gray-600",children:D.message})}),t.jsx("div",{className:"bg-gray-50 px-8 py-4",children:t.jsx("button",{onClick:()=>P(!1),className:"w-full bg-black text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-[#ff4d00] transition-colors rounded-sm",children:"Got it!"})})]})})]})},ez=()=>{var yt,we;const[a,e]=w.useState([]),[s,r]=w.useState([]),[i,l]=w.useState(null),[c,f]=w.useState(!0),[u,m]=w.useState(!1),[g,b]=w.useState(!1),[v,E]=w.useState("all"),[N,S]=w.useState(""),[T,O]=w.useState(!1),[U,M]=w.useState(""),[L,$]=w.useState(""),[X,C]=w.useState("medium"),[R,_]=w.useState("general"),[P,D]=w.useState(""),[z,I]=w.useState([]),[Z,Ee]=w.useState(!1),[te,G]=w.useState(""),[ye,Re]=w.useState([]),[Pe,K]=w.useState(!1),W=w.useRef(null),B=w.useRef(null),F=w.useRef(null),se=H.getCurrentUser(),je=a.find(re=>re.id===i);w.useEffect(()=>{Ce()},[]),w.useEffect(()=>{je&&setTimeout(()=>{var re;(re=W.current)==null||re.scrollIntoView({behavior:"smooth"})},100)},[(yt=je==null?void 0:je.messages)==null?void 0:yt.length]);const Ce=async()=>{if(se){f(!0);try{await H.syncProjects(),await H.syncTickets(),r(H.getProjects()),e(H.getTickets())}catch(re){console.error("Failed to refresh data",re)}finally{f(!1)}}},Le=a.filter(re=>{var qe,rt;if(v!=="all"&&re.status!==v)return!1;if(N){const ie=N.toLowerCase();return re.subject.toLowerCase().includes(ie)||((qe=re.lastMessage)==null?void 0:qe.toLowerCase().includes(ie))||((rt=re.messages)==null?void 0:rt.some(Ue=>Ue.text.toLowerCase().includes(ie)))}return!0}).sort((re,qe)=>new Date(qe.date).getTime()-new Date(re.date).getTime()),ze=async(re,qe)=>{var It;const rt=(It=re.target.files)==null?void 0:It[0];if(!rt)return;const ie=qe?Re:I,Ue=qe?ye:z,is=qe?K:Ee;is(!0);try{const Ss=await H.uploadTicketAttachment(rt);ie([...Ue,Ss])}catch(Ss){console.error("Upload failed",Ss),alert("Failed to upload file. Please try again.")}finally{is(!1)}},J=async re=>{if(re.preventDefault(),!(!U||!L||!se)){b(!0);try{const qe={subject:U,priority:X,category:R,projectId:P||void 0,attachmentUrls:z.map(rt=>rt.url),messages:[{id:Date.now().toString(),sender:"user",text:L,date:new Date().toLocaleString(),attachments:z.map(rt=>rt.url)}]};await H.createTicket(qe),O(!1),M(""),$(""),C("medium"),_("general"),D(""),I([]),await Ce()}catch(qe){console.error("Failed to create ticket",qe),alert("Failed to create ticket. Please try again.")}finally{b(!1)}}},Qe=async()=>{if(!(!i||!te&&ye.length===0)){m(!0);try{await H.replyToTicket(i,te,"user",ye.map(re=>re.url)),G(""),Re([]),await Ce()}catch(re){console.error("Failed to reply",re),alert("Failed to send reply. Please try again.")}finally{m(!1)}}},Ze=async()=>{if(i&&confirm("Are you sure you want to close this ticket?"))try{await H.closeTicket(i),await Ce()}catch(re){console.error("Failed to close ticket",re),alert("Failed to close ticket. Please try again.")}},lt=re=>{re.key==="Enter"&&!re.shiftKey&&(re.preventDefault(),Qe())},Ne=re=>{const qe={billing:"bg-yellow-100 text-yellow-700",technical:"bg-blue-100 text-blue-700",sales:"bg-green-100 text-green-700",general:"bg-gray-100 text-gray-600"};return qe[re||"general"]||qe.general},Me=re=>{const qe={open:"bg-green-100 text-green-700","in-progress":"bg-blue-100 text-blue-700",closed:"bg-gray-200 text-gray-500"};return qe[re]||qe.open};return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12 h-[calc(100vh-140px)] flex flex-col",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mb-2 flex-shrink-0",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Helpdesk"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Support Tickets"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("a",{href:"/helpdesk",target:"_blank",rel:"noopener noreferrer",className:"border border-gray-200 text-gray-600 px-4 py-3 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors flex items-center gap-2 bg-white",children:[t.jsx(oc,{size:14})," FAQ / Help"]}),t.jsxs("button",{onClick:()=>O(!0),className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(Ir,{size:14})," New Ticket"]})]})]}),T&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-200 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50 sticky top-0 z-10",children:[t.jsx("h3",{className:"text-sm font-bold uppercase tracking-wide",children:"Create New Ticket"}),t.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-black",children:t.jsx(Zs,{size:18})})]}),t.jsxs("form",{onSubmit:J,className:"p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Subject *"}),t.jsx("input",{value:U,onChange:re=>M(re.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Brief description of your issue",required:!0})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Category"}),t.jsxs("select",{value:R,onChange:re=>_(re.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",children:[t.jsx("option",{value:"general",children:"General"}),t.jsx("option",{value:"billing",children:"Billing"}),t.jsx("option",{value:"technical",children:"Technical"}),t.jsx("option",{value:"sales",children:"Sales"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Priority"}),t.jsxs("select",{value:X,onChange:re=>C(re.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",children:[t.jsx("option",{value:"low",children:"Low - General Question"}),t.jsx("option",{value:"medium",children:"Medium - Technical Issue"}),t.jsx("option",{value:"high",children:"High - Urgent / Billing"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Related Project (Optional)"}),t.jsxs("select",{value:P,onChange:re=>D(re.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",children:[t.jsx("option",{value:"",children:"None"}),s.map(re=>t.jsx("option",{value:re.id,children:re.name},re.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Message *"}),t.jsx("textarea",{value:L,onChange:re=>$(re.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none h-32 resize-none",placeholder:"Describe your issue in detail...",required:!0})]}),z.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Attachments"}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:z.map((re,qe)=>t.jsxs("div",{className:"text-xs bg-gray-100 px-3 py-2 rounded-sm text-gray-600 flex items-center gap-2",children:[t.jsx(pf,{size:10})," ",re.filename,t.jsx("button",{type:"button",onClick:()=>I(z.filter((rt,ie)=>ie!==qe)),className:"text-gray-400 hover:text-red-500",children:t.jsx(Zs,{size:12})})]},qe))})]}),t.jsx("input",{ref:B,type:"file",className:"hidden",onChange:re=>ze(re,!1),accept:"image/*,.pdf,.doc,.docx,.txt"}),t.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[t.jsxs("button",{type:"button",onClick:()=>{var re;return(re=B.current)==null?void 0:re.click()},disabled:Z,className:"flex items-center gap-2 text-xs font-bold text-gray-500 hover:text-[#ff4d00] uppercase tracking-wide disabled:opacity-50",children:[Z?t.jsx(Is,{size:16,className:"animate-spin"}):t.jsx(su,{size:16}),Z?"Uploading...":"Attach File"]}),t.jsxs("button",{type:"submit",disabled:g||Z,className:"bg-[#ff4d00] text-white px-8 py-3 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors flex items-center gap-2 disabled:opacity-50",children:[g?t.jsx(Is,{size:14,className:"animate-spin"}):t.jsx(eu,{size:14}),g?"Creating...":"Submit Ticket"]})]})]})]})}),t.jsxs("div",{className:"flex-1 bg-white border border-gray-200 shadow-sm flex overflow-hidden",children:[t.jsxs("div",{className:`${je?"hidden md:flex":"flex"} w-full md:w-1/3 border-r border-gray-200 flex-col`,children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 space-y-3",children:[t.jsx("div",{className:"flex bg-white border border-gray-200 rounded-sm overflow-hidden",children:["all","open","in-progress","closed"].map(re=>t.jsx("button",{onClick:()=>E(re),className:`flex-1 px-3 py-2 text-[10px] font-bold uppercase ${v===re?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:re==="all"?"All":re},re))}),t.jsxs("div",{className:"relative",children:[t.jsx(Ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),t.jsx("input",{value:N,onChange:re=>S(re.target.value),placeholder:"Search tickets...",className:"w-full bg-white border border-gray-200 pl-9 pr-4 py-2 text-xs font-bold outline-none focus:border-[#ff4d00]"})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:c?t.jsxs("div",{className:"p-8 text-center text-gray-400 text-sm flex items-center justify-center gap-2",children:[t.jsx(Is,{size:16,className:"animate-spin"})," Loading..."]}):Le.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:N||v!=="all"?"No tickets match your filters.":"No tickets found. Create one to get started."}):Le.map(re=>t.jsxs("div",{onClick:()=>l(re.id),className:`p-5 border-b border-gray-100 cursor-pointer transition-colors hover:bg-gray-50 group ${i===re.id?"bg-orange-50":""}`,children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${Me(re.status)}`,children:re.status}),re.category&&t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${Ne(re.category)}`,children:re.category})]}),t.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:re.date})]}),t.jsx("h4",{className:`text-sm font-bold mb-1 truncate ${i===re.id?"text-[#ff4d00]":"text-gray-900"}`,children:re.subject}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:re.lastMessage}),re.projectName&&t.jsxs("div",{className:"mt-2 text-[9px] font-bold text-gray-400 uppercase tracking-wide flex items-center gap-1",children:["Project: ",re.projectName]}),re.type==="chat"&&t.jsxs("div",{className:"mt-2 text-[9px] font-bold text-blue-500 uppercase tracking-wide flex items-center gap-1",children:[t.jsx(en,{size:10})," Live Chat Log"]})]},re.id))})]}),je?t.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#fafafa]",children:[t.jsxs("div",{className:"bg-white p-6 border-b border-gray-200 shadow-sm flex justify-between items-start z-10",children:[t.jsxs("div",{children:[t.jsxs("button",{onClick:()=>l(null),className:"md:hidden text-gray-500 mb-2 flex items-center gap-1 text-xs font-bold uppercase",children:[t.jsx(Ac,{className:"rotate-180",size:12})," Back"]}),t.jsx("h2",{className:"text-lg font-bold text-gray-900",children:je.subject}),t.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-400",children:[t.jsxs("span",{className:"font-mono",children:["ID: ",je.id]}),je.projectName&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsxs("span",{children:["Project: ",je.projectName]})]}),je.category&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{className:`${Ne(je.category)} px-1.5 py-0.5 rounded-sm font-bold uppercase`,children:je.category})]})]})]}),t.jsx("div",{className:"flex items-center gap-3",children:je.status!=="closed"?t.jsxs("button",{onClick:Ze,className:"flex items-center gap-1 text-xs font-bold text-gray-500 hover:text-red-600 uppercase transition-colors",children:[t.jsx(Go,{size:14})," Close Ticket"]}):t.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 uppercase",children:[t.jsx(Go,{size:14})," Closed"]})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(we=je.messages)==null?void 0:we.map(re=>{var qe,rt;return t.jsx("div",{className:`flex ${re.sender==="user"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[85%] ${re.sender==="user"?"items-end":"items-start"} flex flex-col`,children:[t.jsxs("div",{className:`p-4 shadow-sm text-sm leading-relaxed ${re.sender==="user"?"bg-black text-white rounded-l-lg rounded-tr-lg":"bg-white text-gray-900 border border-gray-200 rounded-r-lg rounded-tl-lg"}`,children:[re.text,(((qe=re.attachments)==null?void 0:qe.length)||0)>0&&t.jsx("div",{className:"mt-3 pt-3 border-t border-white/20 space-y-1",children:(rt=re.attachments)==null?void 0:rt.map((ie,Ue)=>t.jsxs("a",{href:ie,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs opacity-80 bg-white/10 p-2 rounded-sm hover:bg-white/20 transition-colors",children:[t.jsx(pf,{size:12})," ",ie.split("/").pop()]},Ue))})]}),t.jsxs("span",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase tracking-wide",children:[re.sender==="user"?"You":"Support Team","  ",re.date]})]})},re.id)}),t.jsx("div",{ref:W})]}),je.status!=="closed"&&t.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[ye.length>0&&t.jsx("div",{className:"flex gap-2 mb-2 flex-wrap",children:ye.map((re,qe)=>t.jsxs("div",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-sm flex items-center gap-1",children:[re.filename,t.jsx("button",{onClick:()=>Re(ye.filter((rt,ie)=>ie!==qe)),className:"text-gray-400 hover:text-red-500",children:t.jsx(Zs,{size:12})})]},qe))}),t.jsx("input",{ref:F,type:"file",className:"hidden",onChange:re=>ze(re,!0),accept:"image/*,.pdf,.doc,.docx,.txt"}),t.jsxs("div",{className:"flex gap-2 items-end",children:[t.jsx("button",{onClick:()=>{var re;return(re=F.current)==null?void 0:re.click()},disabled:Pe,className:"p-3 text-gray-400 hover:text-black transition-colors disabled:opacity-50",children:Pe?t.jsx(Is,{size:20,className:"animate-spin"}):t.jsx(pf,{size:20})}),t.jsx("textarea",{value:te,onChange:re=>G(re.target.value),onKeyDown:lt,placeholder:"Type your reply...",className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] resize-none h-12 min-h-[48px] max-h-32 transition-colors"}),t.jsx("button",{onClick:Qe,disabled:!te&&ye.length===0||u,className:"p-3 bg-[#ff4d00] text-white hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?t.jsx(Is,{size:20,className:"animate-spin"}):t.jsx(eu,{size:20})})]})]})]}):t.jsxs("div",{className:"hidden md:flex flex-1 flex-col items-center justify-center text-gray-300 bg-gray-50/50",children:[t.jsx(en,{size:64,className:"mb-4 opacity-20"}),t.jsx("p",{className:"text-sm font-medium",children:"Select a ticket to view details"})]})]})]})},Li=({title:a,description:e,keywords:s,image:r,schema:i,type:l="website",noindex:c=!1})=>{const f=hr(),u="https://traffic-creator.com",m=`${u}${f.pathname}`,g=`${u}/og-image.png`,b=r?r.startsWith("http")?r:`${u}${r}`:g;return t.jsxs(j3,{children:[t.jsx("title",{children:a}),t.jsx("meta",{name:"description",content:e}),s&&t.jsx("meta",{name:"keywords",content:s}),t.jsx("link",{rel:"canonical",href:m}),c?t.jsx("meta",{name:"robots",content:"noindex, nofollow"}):t.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),t.jsx("meta",{property:"og:type",content:l}),t.jsx("meta",{property:"og:url",content:m}),t.jsx("meta",{property:"og:title",content:a}),t.jsx("meta",{property:"og:description",content:e}),t.jsx("meta",{property:"og:image",content:b}),t.jsx("meta",{property:"og:site_name",content:"Traffic Creator"}),t.jsx("meta",{property:"og:locale",content:"en_US"}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:url",content:m}),t.jsx("meta",{name:"twitter:title",content:a}),t.jsx("meta",{name:"twitter:description",content:e}),t.jsx("meta",{name:"twitter:image",content:b}),i&&t.jsx("script",{type:"application/ld+json",children:JSON.stringify(i)})]})},tz=()=>{const[a,e]=w.useState(1),[s,r]=w.useState("monthly"),[i,l]=w.useState(null),[c,f]=w.useState(!1),[u,m]=w.useState("subscriptions"),[g,b]=w.useState("professional"),v={starter_monthly:"price_1T19GZJLE5bW6f8EPNVSoaGp",starter_yearly:"price_starter_yearly",professional_monthly:"price_professional_monthly",professional_yearly:"price_professional_yearly",agency_monthly:"price_agency_monthly",agency_yearly:"price_agency_yearly"},E=[{id:"starter",name:"Starter",subtitle:"Perfect for niche blogs",price:s==="monthly"?29:24,priceId:s==="monthly"?v.starter_monthly:v.starter_yearly,icon:t.jsx(Vt,{className:"text-gray-400",size:24}),features:["5,000 Monthly Visitors","5 Keywords Tracking","Geo-Targeting (Standard)","Desktop Traffic Only","Standard Proxy Pool"],color:"border-gray-200"},{id:"professional",name:"Professional",subtitle:"Best for growth-stage sites",price:s==="monthly"?79:64,priceId:s==="monthly"?v.professional_monthly:v.professional_yearly,icon:t.jsx(DO,{className:"text-[#ff4d00]",size:24}),features:["25,000 Monthly Visitors","20 Keywords Tracking","Geo-Targeting (Advanced)","Mobile + Desktop Traffic","Social & Referral Traffic","High-Retention Visits"],popular:!0,color:"border-[#ff4d00]"},{id:"agency",name:"Agency",subtitle:"Enterprise-grade throughput",price:s==="monthly"?249:199,priceId:s==="monthly"?v.agency_monthly:v.agency_yearly,icon:t.jsx(BT,{className:"text-purple-600",size:24}),features:["100,000 Monthly Visitors","Unlimited Keywords","Global Proxy Network","Residential Proxy Access","API Management","Dedicated Support Manager"],color:"border-purple-600"}],N=()=>t.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl font-black text-gray-900 uppercase tracking-tighter mb-4",children:"Why Choose Us?"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Compare our premium traffic against standard alternatives."})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-xl overflow-hidden mb-12",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[t.jsx("th",{className:"px-8 py-6 text-xs font-black uppercase tracking-widest text-gray-400",children:"Feature"}),t.jsx("th",{className:"px-8 py-6 text-xs font-black uppercase tracking-widest text-[#ff4d00]",children:"Traffic Bot OS"}),t.jsx("th",{className:"px-8 py-6 text-xs font-black uppercase tracking-widest text-gray-300",children:"Other Ad Networks"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:[{label:"Real Keyword Search",us:!0,them:!1},{label:"Residential Proxy Pool",us:!0,them:"Limited"},{label:"Bounce Rate Control",us:!0,them:!1},{label:"Human Interaction Emulation",us:!0,them:!1},{label:"GEO-Targeting Precision",us:"City Level",them:"Country Level"},{label:"SEO Authority Impact",us:"Direct Growth",them:"None / Risk"}].map((U,M)=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-8 py-5 text-sm font-bold text-gray-700",children:U.label}),t.jsx("td",{className:"px-8 py-5 text-sm font-black text-gray-900",children:typeof U.us=="boolean"?U.us?t.jsx(ja,{className:"text-green-500",size:18}):"No":U.us}),t.jsx("td",{className:"px-8 py-5 text-sm font-medium text-gray-400",children:typeof U.them=="boolean"?U.them?t.jsx(ja,{size:18}):"No":U.them})]},M))})]})}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("button",{onClick:()=>e(2),className:"group bg-black text-white px-12 py-5 text-xs font-black uppercase tracking-widest hover:bg-[#ff4d00] transition-all flex items-center gap-3 shadow-[0_10px_30px_rgba(0,0,0,0.1)] hover:shadow-[0_10px_30px_rgba(255,77,0,0.2)]",children:["View Plans & Pricing ",t.jsx(Rs,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})})]}),S=()=>t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-500",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-4xl font-black text-gray-900 uppercase tracking-tighter mb-6",children:"Simple, Transparent Pricing"}),t.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[t.jsxs("button",{onClick:()=>m("subscriptions"),className:`px-8 py-3 text-xs font-black uppercase tracking-widest transition-all ${u==="subscriptions"?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(Ta,{size:14,className:"inline mr-2"}),"Subscriptions"]}),t.jsxs("button",{onClick:()=>m("credits"),className:`px-8 py-3 text-xs font-black uppercase tracking-widest transition-all ${u==="credits"?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(bw,{size:14,className:"inline mr-2"}),"Credit Packs"]})]}),u==="subscriptions"&&t.jsxs("div",{className:"inline-flex items-center p-1 bg-gray-100 rounded-sm border border-gray-200",children:[t.jsx("button",{onClick:()=>r("monthly"),className:`px-6 py-2 text-[10px] font-black uppercase tracking-widest transition-all ${s==="monthly"?"bg-white text-black shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Monthly"}),t.jsxs("button",{onClick:()=>r("yearly"),className:`px-6 py-2 text-[10px] font-black uppercase tracking-widest transition-all relative ${s==="yearly"?"bg-white text-black shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:["Yearly",t.jsx("span",{className:"absolute -top-4 -right-2 bg-green-500 text-white text-[8px] px-1.5 py-0.5 rounded-full font-black animate-bounce",children:"-20%"})]})]})]}),u==="subscriptions"?t.jsx(t.Fragment,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto mb-16",children:E.map(U=>t.jsxs("div",{className:`bg-white p-8 border-2 ${U.color} relative overflow-hidden transition-all hover:scale-[1.02] hover:shadow-2xl flex flex-col`,children:[U.popular&&t.jsx("div",{className:"absolute top-4 right-[-35px] bg-[#ff4d00] text-white text-[8px] font-black uppercase tracking-widest py-1.5 px-12 rotate-45",children:"Most Popular"}),t.jsxs("div",{className:"mb-8",children:[t.jsx("div",{className:"p-3 bg-gray-50 inline-block rounded-sm mb-4",children:U.icon}),t.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:U.name}),t.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-widest mt-1",children:U.subtitle})]}),t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsxs("span",{className:"text-4xl font-black text-gray-900",children:["",U.price]}),t.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest",children:"/ month"})]}),t.jsx("p",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-widest mt-1",children:s==="yearly"?"Billed annually":"Cancel anytime"})]}),t.jsx("ul",{className:"space-y-4 mb-10 flex-1",children:U.features.map((M,L)=>t.jsxs("li",{className:"flex items-start gap-3 text-xs font-medium text-gray-600",children:[t.jsx(ja,{className:"text-[#ff4d00] shrink-0",size:14}),t.jsx("span",{children:M})]},L))}),t.jsx("button",{onClick:()=>{l(U.id),e(3)},className:`w-full py-4 text-[10px] font-black uppercase tracking-widest transition-all ${U.popular?"bg-[#ff4d00] text-white hover:bg-black":"bg-black text-white hover:bg-[#ff4d00]"}`,children:"Get Started Now"})]},U.id))})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Yo.map(U=>t.jsxs("button",{onClick:()=>b(U.id),className:`px-6 py-3 text-xs font-black uppercase tracking-widest transition-all ${g===U.id?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${U.popular?"ring-2 ring-[#ff4d00]/30":""}`,children:[U.name,U.popular&&t.jsx("span",{className:"ml-2 text-[10px]",children:""})]},U.id))}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 max-w-6xl mx-auto mb-16",children:lv.map((U,M)=>{var R;const L=((R=nm[g][U])==null?void 0:R[1])||0,$=Nw(g,U,1),X=Yo.find(_=>_.id===g),C=U===5e5;return t.jsxs("div",{className:`bg-white p-6 border-2 ${C?"border-[#ff4d00] shadow-xl scale-105 relative":"border-gray-200"} flex flex-col`,children:[C&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-[#ff4d00] text-white text-[8px] font-black uppercase tracking-widest px-3 py-1 rounded-full",children:"Popular"}),t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:U>=1e6?`${U/1e6}M`:`${U/1e3}k`}),t.jsx("div",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-widest",children:"Visitors"})]}),t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{className:"text-3xl font-black text-gray-900",children:_w(L)}),t.jsxs("div",{className:"text-[9px] text-[#ff4d00] font-bold",children:[kw($),"/1k"]})]}),t.jsx("ul",{className:"space-y-2 mb-6 flex-1 text-[10px]",children:X==null?void 0:X.features.slice(0,2).map((_,P)=>t.jsxs("li",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx(ja,{size:10,className:"text-green-500"}),_]},P))}),t.jsx(Ye,{to:"/dashboard/buy-credits",className:`w-full py-3 text-[9px] font-black uppercase tracking-widest text-center ${C?"bg-[#ff4d00] text-white hover:bg-black":"bg-black text-white hover:bg-[#ff4d00]"}`,children:"Buy Now"})]},U)})}),t.jsx("div",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 rounded-2xl p-8 max-w-4xl mx-auto mb-8",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"Bulk Discounts"}),t.jsx("p",{className:"text-gray-400 text-sm",children:"Save up to 40% with multi-packs"})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"6x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-20%"})]}),t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"24x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-40%"})]})]})]})})]}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("button",{onClick:()=>e(1),className:"text-gray-400 hover:text-black text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[t.jsx(ur,{size:14})," Back to Comparison"]})})]}),T=async()=>{if(!i)return;const U=E.find(M=>M.id===i);if(U){f(!0);try{const M=await H.createCheckoutSession(U.priceId);M.url&&(window.location.href=M.url)}catch(M){console.error("Checkout error:",M),alert("Failed to start checkout. Please try again.")}finally{f(!1)}}},O=()=>{const U=E.find(M=>M.id===i)||E[1];return t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-500 flex flex-col lg:flex-row gap-12 max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex-1 space-y-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tighter mb-2",children:"Customize Your Package"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Add premium features to boost your campaign performance."})]}),t.jsx("div",{className:"space-y-4",children:[{id:"proxies",label:"Residential Proxy Pool",price:15,icon:t.jsx(_a,{size:18})},{id:"mobile",label:"Mobile Device Emulation",price:10,icon:t.jsx(Ns,{size:18})},{id:"referrers",label:"Custom Web Referrers",price:12,icon:t.jsx(Rr,{size:18})},{id:"keywords",label:"Extra Keyword Slots (+5)",price:9,icon:t.jsx(Ha,{size:18})}].map(M=>t.jsxs("div",{className:"bg-white border border-gray-100 p-6 flex justify-between items-center group hover:border-[#ff4d00] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-gray-50 group-hover:bg-orange-50 group-hover:text-[#ff4d00] transition-colors",children:M.icon}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase tracking-tight",children:M.label}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Premium Add-on"})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("span",{className:"text-sm font-black text-gray-900",children:["+",M.price,"/mo"]}),t.jsx("div",{className:"w-5 h-5 border-2 border-gray-200 rounded-sm flex items-center justify-center"})]})]},M.id))})]}),t.jsxs("div",{className:"w-full lg:w-[400px]",children:[t.jsxs("div",{className:"bg-black text-white p-8 sticky top-8 rounded-sm overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00] opacity-10 translate-x-16 -translate-y-16 rotate-45"}),t.jsx("h3",{className:"text-xl font-black uppercase tracking-tighter mb-8 relative",children:"Order Summary"}),t.jsxs("div",{className:"space-y-6 mb-12 relative",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400 text-[10px] font-black uppercase tracking-widest",children:"Selected Plan"}),t.jsx("span",{className:"font-bold text-sm",children:U.name})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400 text-[10px] font-black uppercase tracking-widest",children:"Billing Cycle"}),t.jsx("span",{className:"font-bold text-sm",children:s==="yearly"?"Yearly (-20%)":"Monthly"})]}),t.jsxs("div",{className:"pt-6 border-t border-gray-800 flex justify-between items-center text-xl",children:[t.jsx("span",{className:"font-black uppercase tracking-tighter",children:"Total Due"}),t.jsxs("span",{className:"text-[#ff4d00] font-black",children:["",U.price,".00"]})]})]}),t.jsx("button",{onClick:T,disabled:c,className:"w-full bg-[#ff4d00] py-5 text-xs font-black uppercase tracking-widest hover:bg-white hover:text-black transition-all shadow-[0_20px_40px_rgba(255,77,0,0.3)] disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Processing...":"Complete Purchase"}),t.jsx("p",{className:"text-[9px] text-gray-500 font-bold text-center mt-6 uppercase tracking-widest",children:"Safe & Secure Checkout via Stripe"})]}),t.jsxs("button",{onClick:()=>e(2),className:"w-full mt-4 text-gray-400 hover:text-black text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 py-4 border border-transparent hover:border-gray-200 transition-all",children:[t.jsx(ur,{size:14})," Back to Plans"]})]})]})};return t.jsx("div",{className:"min-h-screen bg-[#f3f4f6] py-20 px-6 font-sans",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx(Li,{title:"Pricing Plans 2024 - Scalable Website Traffic Packages | Traffic Creator",description:"Transparent pricing for 2024. Start with our flexible credit packs or choose a monthly agency plan. High-quality residential traffic starting at just 29.",keywords:"traffic creator pricing, buy website visitors, organic traffic cost, agency traffic reseller, seo traffic packages 2024",type:"product",schema:{"@context":"https://schema.org","@type":"Product",name:"Traffic Creator Traffic Packages",description:"High-quality, targeted website traffic for SEO and analytics improvement.",offers:{"@type":"AggregateOffer",lowPrice:"29.00",highPrice:"2999.00",priceCurrency:"EUR"}}}),t.jsx("div",{className:"flex justify-center mb-20",children:t.jsx("div",{className:"flex items-center gap-4",children:[1,2,3].map(U=>t.jsxs(He.Fragment,{children:[t.jsx("div",{className:`w-10 h-10 flex items-center justify-center text-xs font-black border-2 transition-all
                    ${a>=U?"border-[#ff4d00] text-[#ff4d00] bg-white":"border-gray-300 text-gray-300"}`,children:U}),U<3&&t.jsx("div",{className:`w-8 h-0.5 ${a>U?"bg-[#ff4d00]":"bg-gray-300"}`})]},U))})}),a===1&&N(),a===2&&S(),a===3&&O()]})})},sz=()=>{const[a,e]=w.useState(null),[s,r]=w.useState(null),[i,l]=w.useState([]),[c,f]=w.useState("all"),[u,m]=w.useState(!0),[g,b]=w.useState(!1);w.useEffect(()=>{v()},[]);const v=async()=>{try{const L=H.getCurrentUser();if(L){e(L),l(H.getTransactions());try{const $=await H.getCurrentSubscription();r($)}catch{}}}catch(L){console.error("Error loading data:",L)}finally{m(!1)}},E=async()=>{b(!0);try{const L=await H.createPortalSession();L.url&&(window.location.href=L.url)}catch(L){console.error("Error opening portal:",L),alert("Failed to open billing portal. Please try again.")}finally{b(!1)}},N=async L=>{try{const $=await fetch(`${window.location.origin}/users/me/invoices/${L}`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if($.ok){const X=await $.text(),C=window.open("","_blank");C?(C.document.write(X),C.document.close()):alert("Please allow popups to view invoices")}else alert("Invoice not available. Please try again later.")}catch{alert("Failed to load invoice")}},S=i.filter(L=>c==="all"?!0:L.type===c),T=L=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(L),O=L=>new Date(L).toLocaleDateString("de-DE",{day:"2-digit",month:"short",year:"numeric"}),U=L=>{switch(L){case"starter":return"bg-gray-500";case"professional":return"bg-[#ff4d00]";case"agency":return"bg-purple-600";default:return"bg-gray-500"}},M=L=>{switch(L){case"active":return"bg-green-500";case"past_due":return"bg-yellow-500";case"canceled":return"bg-red-500";default:return"bg-gray-500"}};return u?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Is,{className:"animate-spin text-[#ff4d00]",size:32})}):t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-end gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Finance"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Billing & Payments"})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("button",{onClick:()=>window.location.href="/dashboard/buy-credits",className:"bg-[#ff4d00] text-white px-6 py-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center gap-2",children:[t.jsx($T,{size:14})," Buy Credits"]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Vt,{size:14,className:"text-[#ff4d00]"})," Current Subscription"]})}),t.jsx("div",{className:"p-6",children:s&&s.status!=="inactive"?t.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`px-4 py-2 text-white font-black text-sm uppercase ${U(s.plan)}`,children:s.plan||"Free"}),t.jsx("div",{className:`px-3 py-1 text-white text-xs font-bold uppercase ${M(s.status)}`,children:s.status}),s.current_period_end&&t.jsxs("span",{className:"text-xs text-gray-500",children:["Renews: ",new Date(s.current_period_end).toLocaleDateString()]})]}),t.jsxs("button",{onClick:E,disabled:g,className:"bg-black text-white px-6 py-2 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors disabled:opacity-50 flex items-center gap-2",children:[g&&t.jsx(Is,{className:"animate-spin",size:14}),"Manage Subscription"]})]}):t.jsxs("div",{className:"text-center py-6",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No active subscription"}),t.jsx("a",{href:"/dashboard/buy-credits",className:"inline-block bg-[#ff4d00] text-white px-6 py-2 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"View Plans"})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Ta,{size:14,className:"text-[#ff4d00]"})," Payment Methods"]})}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"bg-[#f9fafb] p-4 rounded-full",children:t.jsx(_a,{size:24,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"Secure Payment Management"}),t.jsx("p",{className:"text-xs text-gray-500 max-w-md",children:"Manage your payment methods securely through our payment provider. Add, remove, or update cards anytime."})]})]}),t.jsxs("button",{onClick:E,disabled:g,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors disabled:opacity-50 flex items-center gap-2",children:[g&&t.jsx(Is,{className:"animate-spin",size:14}),t.jsx(Ta,{size:14})," Manage Payment Methods"]})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row justify-between md:items-center gap-4",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Xd,{size:14,className:"text-[#ff4d00]"})," Transaction History"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rc,{size:14,className:"text-gray-400"}),t.jsxs("select",{value:c,onChange:L=>f(L.target.value),className:"bg-gray-50 border border-gray-200 px-3 py-2 text-xs font-bold uppercase tracking-widest outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"all",children:"All Transactions"}),t.jsx("option",{value:"credit",children:"Credits Only"}),t.jsx("option",{value:"debit",children:"Debits Only"})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-center text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Invoice"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:S.length>0?S.map(L=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ri,{size:12,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-700",children:O(L.date)})]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("span",{className:"text-xs font-bold text-gray-900",children:L.desc}),L.tier&&t.jsx("span",{className:"ml-2 text-[8px] font-black uppercase px-2 py-0.5 rounded bg-gray-100 text-gray-500",children:L.tier})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("span",{className:`inline-flex items-center gap-1 text-[9px] font-black uppercase tracking-wider px-2 py-1 rounded-sm ${L.type==="debit"?"bg-orange-50 text-[#ff4d00]":"bg-green-50 text-green-700"}`,children:[L.type==="debit"?t.jsx(AT,{size:10}):t.jsx(lD,{size:10}),L.type]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:`text-sm font-black ${L.type==="debit"?"text-gray-900":"text-green-600"}`,children:[L.type==="debit"?"-":"+",T(L.amount)]})}),t.jsx("td",{className:"px-6 py-4 text-center",children:t.jsxs("button",{onClick:()=>N(L.id),className:"inline-flex items-center gap-1 text-[9px] font-bold text-gray-400 hover:text-[#ff4d00] uppercase tracking-widest transition-colors",children:[t.jsx(ei,{size:12})," View"]})})]},L.id)):t.jsx("tr",{children:t.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400",children:[t.jsx(Xd,{size:32,className:"mx-auto mb-3 opacity-50"}),t.jsx("p",{className:"text-sm font-bold",children:"No transactions found"})]})})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Total Spent"}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:T(i.filter(L=>L.type==="debit").reduce((L,$)=>L+$.amount,0))})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Total Top-ups"}),t.jsx("div",{className:"text-2xl font-black text-green-600",children:T(i.filter(L=>L.type!=="debit").reduce((L,$)=>L+$.amount,0))})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Transactions"}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:i.length})]})]})]})},tg=[{level:1,name:"Novice",xp_required:0,spend_required:0,bonus_hits:0,discount:0,color:"#9ca3af"},{level:2,name:"Rookie",xp_required:100,spend_required:10,bonus_hits:2e3,discount:0,color:"#6b7280"},{level:3,name:"Explorer",xp_required:250,spend_required:25,bonus_hits:3e3,discount:0,color:"#6b7280"},{level:4,name:"Starter",xp_required:500,spend_required:50,bonus_hits:5e3,discount:1,color:"#22c55e"},{level:5,name:"Builder",xp_required:1e3,spend_required:100,bonus_hits:8e3,discount:2,color:"#22c55e"},{level:6,name:"Achiever",xp_required:2e3,spend_required:200,bonus_hits:12e3,discount:2,color:"#22c55e"},{level:7,name:"Strategist",xp_required:3500,spend_required:350,bonus_hits:15e3,discount:3,color:"#3b82f6"},{level:8,name:"Professional",xp_required:5e3,spend_required:500,bonus_hits:2e4,discount:4,color:"#3b82f6"},{level:9,name:"Expert",xp_required:7500,spend_required:750,bonus_hits:3e4,discount:5,color:"#3b82f6"},{level:10,name:"Master",xp_required:1e4,spend_required:1e3,bonus_hits:4e4,discount:6,color:"#8b5cf6"},{level:11,name:"Veteran",xp_required:15e3,spend_required:1500,bonus_hits:5e4,discount:7,color:"#8b5cf6"},{level:12,name:"Champion",xp_required:2e4,spend_required:2e3,bonus_hits:6e4,discount:8,color:"#8b5cf6"},{level:13,name:"Elite",xp_required:3e4,spend_required:3e3,bonus_hits:8e4,discount:9,color:"#ec4899"},{level:14,name:"Premier",xp_required:4e4,spend_required:4e3,bonus_hits:1e5,discount:10,color:"#ec4899"},{level:15,name:"Supreme",xp_required:6e4,spend_required:6e3,bonus_hits:12e4,discount:11,color:"#ec4899"},{level:16,name:"Titan",xp_required:8e4,spend_required:8e3,bonus_hits:15e4,discount:12,color:"#f59e0b"},{level:17,name:"Legend",xp_required:12e4,spend_required:12e3,bonus_hits:18e4,discount:13,color:"#f59e0b"},{level:18,name:"Mythic",xp_required:18e4,spend_required:18e3,bonus_hits:22e4,discount:14,color:"#f59e0b"},{level:19,name:"Immortal",xp_required:25e4,spend_required:25e3,bonus_hits:28e4,discount:15,color:"#ef4444"},{level:20,name:"Apex",xp_required:5e5,spend_required:5e4,bonus_hits:5e5,discount:20,color:"#ff4d00"}],az=[{days:"1-2",hits:1e3},{days:"3-4",hits:2e3},{days:"5-6",hits:3e3},{days:"7",hits:1e4,milestone:!0},{days:"8-13",hits:1e4},{days:"14",hits:15e3,milestone:!0},{days:"15-29",hits:15e3},{days:"30+",hits:2e4,milestone:!0}],rz=[{action:"1 Spent",xp:10,icon:t.jsx(Ta,{size:24,className:"text-[#ff4d00]"})},{action:"Daily Login",xp:5,icon:t.jsx(v9,{size:24,className:"text-[#ff4d00]"})},{action:"Create Project",xp:20,icon:t.jsx(_M,{size:24,className:"text-[#ff4d00]"})},{action:"7-Day Streak",xp:50,icon:t.jsx(Vo,{size:24,className:"text-[#ff4d00]"})},{action:"Referral Payout",xp:100,icon:t.jsx(Rr,{size:24,className:"text-[#ff4d00]"})}],nz=()=>{var M,L,$,X;const[a,e]=w.useState(null),[s,r]=w.useState(!0),[i,l]=w.useState(!1),[c,f]=w.useState(!1),[u,m]=w.useState(null),[g,b]=w.useState(!1),[v,E]=w.useState(!0);w.useEffect(()=>{N()},[]);const N=async()=>{try{const C=await fetch(`${window.location.origin}/users/me/gamification`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(C.ok){const _=await C.json();e(_)}const R=await fetch(`${window.location.origin}/users/me/streak`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(R.ok){const _=await R.json();E(_.can_claim_today)}}catch(C){console.error("Failed to fetch gamification data:",C)}finally{r(!1)}},S=async()=>{if(!i){l(!0);try{const C=await fetch(`${window.location.origin}/users/me/claim-level-bonus`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`,"Content-Type":"application/json"}});if(C.ok){const R=await C.json();alert(R.message),N()}else{const R=await C.json();alert(R.detail||"Failed to claim bonus")}}catch{alert("Failed to claim bonus")}finally{l(!1)}}},T=async()=>{if(!(c||!v)){f(!0);try{const R=await(await fetch(`${window.location.origin}/users/me/daily-bonus`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`,"Content-Type":"application/json"}})).json();m(R),b(!0),R.success&&(E(!1),N())}catch(C){console.error("Failed to claim daily bonus:",C)}finally{f(!1)}}};if(s)return t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-[#ff4d00] border-t-transparent rounded-full"})});const O=tg[a!=null&&a.level?a.level-1:0]||tg[0],U=a!=null&&a.xp_to_next?Math.round(a.xp/(a.xp+a.xp_to_next)*100):100;return t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-end gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Rewards Program"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Gamification"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 px-6 py-3 shadow-sm text-center",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Total XP"}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:((M=a==null?void 0:a.xp)==null?void 0:M.toLocaleString())||0})]}),t.jsxs("div",{className:"bg-[#ff4d00] text-white px-6 py-4 shadow-sm text-center",children:[t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest mb-1 opacity-80",children:"Your Discount"}),t.jsxs("div",{className:"text-2xl font-black",children:[(a==null?void 0:a.discount_percent)||0,"% OFF"]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(sn,{size:14,className:"text-[#ff4d00]"})," Your Progress"]})}),t.jsxs("div",{className:"p-8 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#ff4d00] opacity-5 rounded-full -mr-32 -mt-32 blur-3xl"}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center gap-8",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"w-32 h-32 rounded-full flex items-center justify-center text-white font-black text-3xl",style:{backgroundColor:O.color},children:["Lv",(a==null?void 0:a.level)||1]}),t.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-white border border-gray-200 px-3 py-1 text-[10px] font-black uppercase tracking-widest rounded-full shadow-sm",children:O.name})]}),t.jsxs("div",{className:"flex-1 w-full",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("span",{className:"text-xs font-bold text-gray-500",children:[((L=a==null?void 0:a.xp)==null?void 0:L.toLocaleString())||0," XP"]}),t.jsxs("span",{className:"text-xs font-bold text-[#ff4d00]",children:[U,"%"]})]}),t.jsx("div",{className:"w-full bg-gray-100 h-4 rounded-full overflow-hidden shadow-inner",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-[#ff4d00] to-[#ff8c00] transition-all duration-1000 rounded-full",style:{width:`${U}%`}})}),t.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[t.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:["Next: ",(($=tg[Math.min((a==null?void 0:a.level)||1,19)])==null?void 0:$.name)||"Apex"]}),t.jsxs("span",{className:"text-[10px] font-bold text-gray-400",children:[((X=a==null?void 0:a.xp_to_next)==null?void 0:X.toLocaleString())||0," XP needed"]})]}),(a==null?void 0:a.pending_bonus_hits)&&a.pending_bonus_hits>0&&!a.pending_bonus_claimed&&t.jsxs("button",{onClick:S,disabled:i,className:"mt-4 w-full bg-[#ff4d00] text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-black transition-colors rounded-sm flex items-center justify-center gap-2 disabled:opacity-70",children:[t.jsx(gx,{size:14})," ",i?"Claiming...":`Claim Level ${a.level} Bonus: +${a.pending_bonus_hits.toLocaleString()} Hits`]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a1a] to-black text-white p-8 shadow-2xl relative overflow-hidden rounded-lg border border-gray-800",children:[t.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-[#ff4d00] opacity-10 rounded-full -mr-24 -mt-24 blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-[#ff4d00] opacity-5 rounded-full -ml-16 -mb-16 blur-2xl"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest flex items-center gap-3 text-gray-300",children:[t.jsx(nr,{size:18,className:"text-[#ff4d00]"})," Daily Rewards"]}),v&&t.jsx("span",{className:"bg-[#ff4d00] text-white text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full animate-pulse shadow-[0_0_15px_rgba(255,77,0,0.5)]",children:"Ready to Claim"})]}),t.jsxs("div",{className:"flex items-end gap-4 mb-6",children:[t.jsx("div",{className:"text-5xl font-black text-white leading-none",children:(a==null?void 0:a.streak_days)||0}),t.jsxs("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-1 flex items-center gap-2",children:["Day Streak ",t.jsx(Vo,{size:14,className:"text-[#ff4d00]"})]})]}),t.jsxs("div",{className:"bg-black/30 p-4 rounded-lg mb-6 backdrop-blur-sm border border-white/5",children:[t.jsx("div",{className:"flex gap-2 mb-2",children:[1,2,3,4,5,6,7].map(C=>{const R=((a==null?void 0:a.streak_days)||0)%7>=C||((a==null?void 0:a.streak_days)||0)>=7&&C<=7,_=((a==null?void 0:a.streak_days)||0)%7===C-1&&v;return t.jsx("div",{className:`flex-1 h-3 rounded-full transition-all duration-300 ${R?"bg-gradient-to-r from-[#ff4d00] to-[#ff8c00] shadow-[0_0_10px_rgba(255,77,0,0.3)]":"bg-gray-800"} ${_?"animate-pulse ring-2 ring-[#ff4d00] ring-offset-2 ring-offset-black":""}`},C)})}),t.jsxs("div",{className:"flex justify-between text-[10px] uppercase font-bold text-gray-500 mt-2 px-1",children:[t.jsx("span",{children:"Day 1"}),t.jsx("span",{children:"Day 7 (Bonus)"})]})]}),t.jsxs("button",{onClick:T,disabled:!v||c,className:`w-full py-4 text-sm font-black uppercase tracking-widest transition-all duration-300 rounded flex items-center justify-center gap-3 shadow-lg ${v?"bg-gradient-to-r from-[#ff4d00] to-[#ff6b00] hover:from-[#ff3300] hover:to-[#ff5500] text-white shadow-[#ff4d00]/20 transform hover:-translate-y-1":"bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700"}`,children:[t.jsx(nr,{size:18,className:v?"animate-bounce":""}),c?"Claiming Reward...":v?"Claim Daily Bonus":"Come Back Tomorrow"]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2 mb-4",children:[t.jsx(Vo,{size:14,className:"text-[#ff4d00]"})," Streak Rewards"]}),t.jsx("div",{className:"space-y-3",children:az.map((C,R)=>t.jsxs("div",{className:`flex items-center justify-between p-3 rounded-sm ${C.milestone?"bg-[#ff4d00]/5 border border-[#ff4d00]/20":"bg-gray-50"}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[C.milestone&&t.jsx(sc,{size:14,className:"text-[#ff4d00]"}),t.jsxs("span",{className:"text-xs font-bold text-gray-700",children:["Day ",C.days]})]}),t.jsxs("span",{className:"text-xs font-black text-[#ff4d00]",children:["+",C.hits.toLocaleString()," Hits"]})]},R))}),t.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-sm",children:t.jsxs("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:["Best Streak: ",t.jsxs("span",{className:"text-gray-900",children:[(a==null?void 0:a.streak_best)||0," Days"]})]})})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(sc,{size:14,className:"text-[#ff4d00]"})," All 20 Levels"]})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Level"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Name"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Required"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Bonus Hits"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Discount"}),t.jsx("th",{className:"px-6 py-4 text-center text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:tg.map(C=>{const R=(a==null?void 0:a.level)===C.level,_=((a==null?void 0:a.level)||1)>=C.level;return t.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${R?"bg-[#ff4d00]/5":""}`,children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-black",style:{backgroundColor:C.color},children:C.level})})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"text-xs font-bold text-gray-900",children:C.name})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"text-xs text-gray-500",children:[t.jsxs("span",{className:"font-bold",children:[C.xp_required.toLocaleString()," XP"]}),t.jsxs("span",{className:"text-gray-400 ml-2",children:["or ",C.spend_required.toLocaleString()]})]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("span",{className:`text-xs font-black ${C.bonus_hits>0?"text-green-600":"text-gray-400"}`,children:C.bonus_hits>0?`+${C.bonus_hits.toLocaleString()}`:"-"})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("span",{className:`text-xs font-black ${C.discount>0?"text-[#ff4d00]":"text-gray-400"}`,children:C.discount>0?`${C.discount}%`:"-"})}),t.jsx("td",{className:"px-6 py-4 text-center",children:R?t.jsxs("span",{className:"inline-flex items-center gap-1 bg-[#ff4d00] text-white text-[8px] font-black uppercase tracking-widest px-2 py-1 rounded-full",children:[t.jsx(sn,{size:10})," Current"]}):_?t.jsxs("span",{className:"inline-flex items-center gap-1 bg-green-100 text-green-700 text-[8px] font-black uppercase tracking-widest px-2 py-1 rounded-full",children:[t.jsx(Go,{size:10})," Unlocked"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 bg-gray-100 text-gray-400 text-[8px] font-black uppercase tracking-widest px-2 py-1 rounded-full",children:[t.jsx(ir,{size:10})," Locked"]})})]},C.level)})})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2 mb-6",children:[t.jsx(ti,{size:14,className:"text-[#ff4d00]"})," How to Earn XP"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:rz.map((C,R)=>t.jsxs("div",{className:"bg-white border border-gray-100 p-6 text-center rounded-lg shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1 group",children:[t.jsx("div",{className:"flex justify-center mb-4 transform group-hover:scale-110 transition-transform duration-300",children:t.jsx("div",{className:"p-3 bg-gray-50 rounded-full group-hover:bg-[#ff4d00]/10 transition-colors",children:C.icon})}),t.jsx("div",{className:"text-xs font-black text-gray-900 uppercase tracking-wide mb-1",children:C.action}),t.jsxs("div",{className:"text-base font-black text-[#ff4d00]",children:["+",C.xp," XP"]})]},R))})]}),g&&u&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 animate-in fade-in duration-300 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-in zoom-in-95 duration-300 relative",children:[t.jsx("div",{className:"absolute top-0 w-full h-2 bg-gradient-to-r from-[#ff4d00] to-[#ff8c00]"}),t.jsxs("div",{className:"p-8 pb-0 text-center relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-gray-50 to-white -z-10"}),t.jsx("div",{className:"inline-flex p-4 rounded-full bg-[#ff4d00]/10 mb-4 animate-bounce",children:t.jsx(nr,{size:48,className:"text-[#ff4d00]"})}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight mb-2",children:u.success?"Bonus Unlocked!":"Already Claimed"}),u.success?t.jsx("p",{className:"text-gray-500 font-medium",children:"Keep your streak alive for bigger rewards!"}):t.jsx("p",{className:"text-gray-500 font-medium",children:u.message})]}),t.jsx("div",{className:"p-8 text-center",children:u.success&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col items-center justify-center py-6 bg-gradient-to-br from-gray-900 to-black text-white rounded-lg mb-6 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute inset-0 bg-[#ff4d00] opacity-10 blur-xl group-hover:opacity-20 transition-opacity"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("p",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-1",children:"You Received"}),t.jsxs("p",{className:"text-5xl font-black text-[#ff4d00] mb-1",children:["+",u.hits.toLocaleString()]}),t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Economy Hits"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Current Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900 flex justify-center items-center gap-1",children:[u.streak_days," ",t.jsx(Vo,{size:16,className:"text-[#ff4d00]"})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Best Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900 flex justify-center items-center gap-1",children:[u.streak_best," ",t.jsx(sc,{size:16,className:"text-[#fbbf24]"})]})]})]})]})}),t.jsx("div",{className:"px-8 pb-8",children:t.jsx("button",{onClick:()=>b(!1),className:"w-full bg-[#ff4d00] text-white py-4 text-sm font-black uppercase tracking-widest hover:bg-black transition-all duration-300 rounded shadow-lg shadow-[#ff4d00]/20 hover:shadow-xl transform hover:-translate-y-0.5",children:"Continue"})})]})})]})},iz=()=>{const a=ta(),[e]=fx(),[s,r]=w.useState(!0),[i,l]=w.useState(null),[c,f]=w.useState(null);w.useEffect(()=>{(async()=>{try{const b=e.get("type"),v=e.get("session_id"),E=e.get("amount"),N=e.get("plan"),S=e.get("credits");if(!b){f("Invalid payment confirmation"),r(!1);return}const O=new Date().toLocaleDateString("de-DE",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});if(l(b==="subscription"?{type:"subscription",planName:N||"Professional Plan",date:O,sessionId:v||void 0}:{type:"credits",amount:E?parseFloat(E):void 0,credits:S?parseInt(S):void 0,date:O,sessionId:v||void 0}),window.history.replaceState){const U=window.location.pathname;window.history.replaceState({},document.title,U)}}catch(b){console.error("Error loading payment details:",b),f("Failed to load payment details")}finally{r(!1)}})()},[e]);const u=g=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(g),m=()=>{i!=null&&i.sessionId?window.open(`https://billing.stripe.com/p/session/${i.sessionId}`,"_blank"):a("/dashboard/billing")};return s?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Is,{className:"animate-spin text-[#ff4d00]",size:32})}):c||!i?t.jsx("div",{className:"max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Ta,{size:32,className:"text-red-500"})}),t.jsx("h1",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight mb-3",children:"Payment Information Unavailable"}),t.jsx("p",{className:"text-gray-500 mb-8",children:c||"We could not retrieve your payment details."}),t.jsx("button",{onClick:()=>a("/dashboard"),className:"bg-[#ff4d00] text-white px-8 py-3 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Go to Dashboard"})]})}):t.jsxs("div",{className:"max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500 pb-12",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-8 text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 animate-in zoom-in duration-300",children:t.jsx(xt,{size:40,className:"text-green-500"})}),t.jsx("h1",{className:"text-3xl font-black text-white uppercase tracking-tight mb-2",children:"Payment Successful"}),t.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Thank you for your purchase"})]}),t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"bg-gray-50 border border-gray-100 p-6 mb-8",children:[t.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-400 mb-4",children:"Transaction Details"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-2",children:[t.jsx(Ta,{size:14})," Type"]}),t.jsx("span",{className:"text-sm font-bold text-gray-900 uppercase",children:i.type==="subscription"?"Subscription":"Credits Purchase"})]}),i.type==="subscription"&&i.planName&&t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Plan"}),t.jsx("span",{className:"text-sm font-black text-[#ff4d00] uppercase",children:i.planName})]}),i.type==="credits"&&i.amount&&t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),t.jsx("span",{className:"text-sm font-black text-gray-900",children:u(i.amount)})]}),i.type==="credits"&&i.credits&&t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Traffic Credits"}),t.jsxs("span",{className:"text-sm font-bold text-green-600",children:["+",i.credits.toLocaleString()," hits"]})]}),t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-2",children:[t.jsx(ri,{size:14})," Date"]}),t.jsx("span",{className:"text-sm font-bold text-gray-900",children:i.date})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("button",{onClick:m,className:"flex-1 flex items-center justify-center gap-2 bg-white border-2 border-gray-200 text-gray-900 py-4 text-xs font-bold uppercase tracking-widest hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors",children:[t.jsx(VT,{size:14})," View Receipt"]}),t.jsxs(Ye,{to:"/dashboard/billing",className:"flex-1 flex items-center justify-center gap-2 bg-black text-white py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors",children:["View Billing ",t.jsx(Rs,{size:14})]})]})]})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(Ye,{to:"/dashboard/campaigns/new",className:"inline-flex items-center gap-2 text-[#ff4d00] text-sm font-bold hover:text-black transition-colors",children:["Start a new campaign ",t.jsx(Rs,{size:14})]})})]})},oz=()=>{const[a,e]=w.useState([]),[s,r]=w.useState([]),[i,l]=w.useState(!0),[c,f]=w.useState(null),[u,m]=w.useState(""),[g,b]=w.useState(null),[v,E]=w.useState(!1),[N,S]=w.useState(!1),[T,O]=w.useState("");w.useEffect(()=>{U()},[]);const U=async()=>{try{const[$,X]=await Promise.all([fetch(`${window.location.origin}/benefits/types`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch(`${window.location.origin}/benefits/my-requests`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})]);$.ok&&e(await $.json()),X.ok&&r(await X.json())}catch($){console.error($)}finally{l(!1)}},M=$=>{$.target.files&&$.target.files.length>0&&b($.target.files[0])},L=async $=>{if($.preventDefault(),!!c){if(!u){O("Please provide a URL.");return}O("");try{E(!0);let X="";if(g){const R=new FormData;R.append("file",g);const _=await fetch(`${window.location.origin}/benefits/upload-screenshot`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:R});if(!_.ok)throw new Error("Failed to upload screenshot");X=(await _.json()).url}S(!0);const C=await fetch(`${window.location.origin}/benefits/submit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({benefit_type:c.type,benefit_category:c.category,url:u,screenshot_url:X,claimed_value:c.value,description:""})});if(!C.ok){const R=await C.json();throw new Error(R.detail||"Failed to submit request")}await U(),f(null),m(""),b(null)}catch(X){O(X.message||"An error occurred during submission.")}finally{E(!1),S(!1)}}};return i?t.jsx("div",{className:"flex h-screen items-center justify-center",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-[#ff4d00] border-t-transparent rounded-full"})}):t.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[t.jsxs("div",{className:"bg-gradient-to-r from-gray-900 to-black rounded-3xl p-8 lg:p-12 text-white overflow-hidden relative shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-10 pointer-events-none",children:t.jsx(nr,{size:200})}),t.jsxs("div",{className:"relative z-10 max-w-2xl",children:[t.jsxs("h1",{className:"text-4xl md:text-5xl font-black mb-6 tracking-tight text-white flex items-center gap-4",children:["Free Traffic ",t.jsx(nr,{className:"text-[#ff4d00]",size:40})]}),t.jsx("p",{className:"text-xl text-gray-400 font-light leading-relaxed",children:"Earn free credits by completing promotional tasks. Share your experience, create content, and help us grow to receive instant traffic credits to your account."})]})]}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900",children:"Available Tasks"}),t.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:a.map($=>{const X=$.requirements||{},C=X.frequency||"all_time",R=X.max_claims||0;return t.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 hover:shadow-xl hover:border-[#ff4d00]/30 transition-all duration-300 group",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"inline-block px-3 py-1 bg-[#ff4d00]/10 text-[#ff4d00] text-xs font-black uppercase tracking-wider rounded-full mb-3",children:$.type}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-tight group-hover:text-[#ff4d00] transition-colors",children:$.name})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-2xl font-black text-[#ff4d00]",children:["",$.value]}),t.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Credit Value"})]})]}),X.description&&t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:X.description}),t.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[t.jsx("h4",{className:"text-xs font-black text-gray-900 uppercase mb-2",children:"Requirements"}),t.jsxs("ul",{className:"space-y-2",children:[Object.keys(X).map(_=>_==="description"||_==="frequency"||_==="max_claims"?null:t.jsxs("li",{className:"text-xs text-gray-600 flex items-center gap-2",children:[t.jsx(xt,{size:12,className:"text-green-500"}),_.replace("min_","Minimum "),": ",t.jsx("span",{className:"font-bold",children:X[_]})]},_)),R>0&&t.jsxs("li",{className:"text-xs text-blue-600 flex items-center gap-2 font-medium",children:[t.jsx(xt,{size:12,className:"text-blue-500"}),"Limit: ",R," time(s) ",C==="all_time"?"":C]})]})]}),t.jsx("button",{onClick:()=>f($),className:"w-full py-3 bg-gray-900 text-white text-sm font-bold uppercase rounded-xl hover:bg-[#ff4d00] transition-colors",children:"Claim Reward"})]},$.id)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900",children:"Your Claims"}),t.jsx("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-lg",children:s.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(nr,{className:"mx-auto text-gray-300 mb-3",size:32}),t.jsx("p",{className:"text-sm text-gray-500",children:"No claims submitted yet."})]}):t.jsx("div",{className:"space-y-4",children:s.map(($,X)=>{var C;return t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-100",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900 mb-1",children:((C=a.find(R=>R.type===$.benefit_type&&R.category===$.benefit_category))==null?void 0:C.name)||$.benefit_type}),t.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[t.jsx(ss,{size:12})," ",new Date($.submitted_at).toLocaleDateString()]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-black text-gray-900",children:["",$.claimed_value]}),t.jsx("div",{className:`text-[10px] font-bold uppercase tracking-wider py-1 px-2 rounded-full inline-block mt-1 ${$.status==="approved"?"bg-green-100 text-green-700":$.status==="rejected"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:$.status})]})]},X)})})})]})]}),c&&t.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white max-w-lg w-full rounded-3xl p-8 shadow-2xl relative",children:[t.jsx("button",{onClick:()=>{f(null),O("")},className:"absolute top-6 right-6 text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Na,{size:24})}),t.jsxs("div",{className:"mb-6",children:[t.jsx("span",{className:"inline-block px-3 py-1 bg-[#ff4d00]/10 text-[#ff4d00] text-xs font-black uppercase tracking-wider rounded-full mb-2",children:"Claim Reward"}),t.jsx("h3",{className:"text-2xl font-black text-gray-900",children:c.name}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Submit proof of your completed task below."})]}),T&&t.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-xl text-sm mb-6 flex items-start gap-2 border border-red-100",children:[t.jsx(Na,{size:18,className:"shrink-0 mt-0.5"}),t.jsx("p",{children:T})]}),t.jsxs("form",{onSubmit:L,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 ml-1",children:"Task Link (URL)"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:t.jsx(Df,{size:18,className:"text-gray-400"})}),t.jsx("input",{type:"url",required:!0,value:u,onChange:$=>m($.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent transition-all outline-none",placeholder:"https://..."})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 ml-1",children:"Screenshot Proof"}),t.jsxs("div",{className:"relative group cursor-pointer",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:M,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),t.jsxs("div",{className:"w-full p-8 border-2 border-dashed border-gray-200 rounded-xl bg-gray-50 group-hover:bg-[#ff4d00]/5 group-hover:border-[#ff4d00]/30 transition-all text-center",children:[t.jsx(su,{size:32,className:`mx-auto mb-3 ${g?"text-[#ff4d00]":"text-gray-400"}`}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:g?g.name:"Click or drag image here"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB"})]})]})]}),t.jsxs("div",{className:"pt-4 flex gap-4",children:[t.jsx("button",{type:"button",onClick:()=>{f(null),O("")},className:"flex-1 px-6 py-4 text-sm font-bold text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors uppercase",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:v||N,className:"flex-1 px-6 py-4 text-sm font-bold text-white bg-[#ff4d00] hover:bg-[#e64600] rounded-xl transition-colors uppercase disabled:opacity-50 relative overflow-hidden",children:v||N?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),v?"Uploading...":"Submitting..."]}):"Submit Claim"})]})]})]})})]})},lz=({onLogout:a})=>{var T,O;const[e,s]=w.useState(!1),r=ta(),l=hr().pathname.replace("/dashboard","").substring(1)||"home",[c,f]=w.useState([]),[u,m]=w.useState(0),[g,b]=w.useState(!0);w.useEffect(()=>{H.init(),(async()=>{await H.syncProjects(),f(H.getProjects()),m(H.getMaxTierBalance()),b(!1)})()},[]);const v=()=>{f(H.getProjects()),m(H.getBalance())},E=U=>{r(U===""?"/dashboard/campaigns":`/dashboard/campaigns/${U}`),window.scrollTo(0,0)},N=[{title:"Main",items:[{label:"Dashboard",id:"home",path:"/dashboard",icon:t.jsx(OT,{size:18})},{label:"Campaigns",id:"campaigns",path:"/dashboard/campaigns",icon:t.jsx(jn,{size:18}),active:l.startsWith("campaigns")},{label:"Free Traffic",id:"free-traffic",path:"/dashboard/free-traffic",icon:t.jsx(nr,{size:18})}]},{title:"Finance",items:[{label:"Billing",id:"billing",path:"/dashboard/billing",icon:t.jsx(VT,{size:18})},{label:"Buy Credits",id:"buy-credits",path:"/dashboard/buy-credits",icon:t.jsx(Ta,{size:18})},{label:"Balance",id:"balance",path:"/dashboard/balance",icon:t.jsx(jD,{size:18})}]},{title:"Account",items:[{label:"Gamification",id:"gamification",path:"/dashboard/gamification",icon:t.jsx(sn,{size:18})},{label:"Support Tickets",id:"support",path:"/dashboard/support",icon:t.jsx(QD,{size:18})},{label:"Profile",id:"profile",path:"/dashboard/profile",icon:t.jsx(va,{size:18})},{label:"Affiliate",id:"affiliate",path:"/dashboard/affiliate",icon:t.jsx(yw,{size:18})}]}];w.useEffect(()=>{document.title=`${S()} | Traffic Creator`},[l]);const S=()=>l==="home"||l===""?"Dashboard":l.startsWith("campaigns")?"Campaigns":l==="free-traffic"?"Free Traffic":l==="billing"?"Billing & Payments":l==="buy-credits"?"Wallet Top-Up":l==="gamification"?"Gamification":l==="profile"?"My Profile":l==="balance"?"Balance":l==="affiliate"?"Affiliate Program":l==="support"?"Support Helpdesk":l==="payment-success"?"Payment Successful":l.replace(/-/g," ");return g?t.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-gray-400 animate-pulse bg-[#f3f4f6]",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-200 mb-4 rounded-sm"}),t.jsx("div",{className:"text-xs font-bold uppercase tracking-widest",children:"Loading Database..."})]}):t.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen flex font-sans text-gray-900",children:[t.jsx(HT,{menuSections:N,currentView:l.startsWith("campaigns")?"campaigns":l===""?"home":l,onNavigate:U=>{const L=N.flatMap($=>$.items).find($=>$.id===U);L!=null&&L.path?r(L.path):r("/dashboard"),s(!1),window.scrollTo(0,0)},onLogout:a}),e&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-40 md:hidden backdrop-blur-sm",onClick:()=>s(!1),children:t.jsxs("div",{className:"bg-[#111] text-white w-72 h-full overflow-y-auto shadow-2xl",onClick:U=>U.stopPropagation(),children:[t.jsxs("div",{className:"p-8 pb-8 flex items-center gap-3 border-b border-gray-800",children:[t.jsx("div",{className:"w-8 h-8 bg-[#ff4d00] flex items-center justify-center",children:t.jsx("span",{className:"font-black text-black",children:"T"})}),t.jsx("span",{className:"text-xl font-black tracking-tighter",children:"TRAFFIC BOT"})]}),N.map((U,M)=>t.jsx("div",{className:"py-6 border-b border-gray-900",children:t.jsx("ul",{children:U.items.map(L=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>{r(L.path||"/dashboard"),s(!1)},className:`w-full text-left px-8 py-3 text-xs font-bold uppercase tracking-wider flex items-center gap-3
                                        ${l===L.id?"text-[#ff4d00] bg-gray-900":"text-gray-400"}`,children:[L.icon,L.label]})},L.id))})},M))]})}),t.jsxs("main",{className:"flex-1 md:ml-64 flex flex-col min-h-screen relative",children:[t.jsx(M9,{}),!((T=H.getCurrentUser())!=null&&T.isVerified)&&((O=H.getCurrentUser())==null?void 0:O.email)&&t.jsx(O9,{email:H.getCurrentUser().email,onVerified:()=>{const U=H.getCurrentUser();U&&(U.isVerified=!0,localStorage.setItem("modus_current_user",JSON.stringify(U)))}}),localStorage.getItem("tgp_admin_token")&&t.jsxs("div",{className:"bg-red-600 text-white px-6 py-3 flex items-center justify-between shadow-lg relative z-50",children:[t.jsxs("div",{className:"flex items-center gap-2 font-bold text-sm uppercase tracking-wide",children:[t.jsx(va,{size:18}),t.jsx("span",{children:"Viewing as User Mode"})]}),t.jsx("button",{onClick:async()=>{try{await H.stopImpersonation(),window.location.href="/admin"}catch{alert("Failed to return to admin")}},className:"bg-white text-red-600 px-4 py-1.5 rounded text-xs font-bold uppercase hover:bg-red-50",children:"Return to Admin"})]}),t.jsx(GT,{title:S(),onMobileMenuClick:()=>s(!0)}),t.jsx("div",{className:"flex-1 p-6 md:p-12 overflow-y-auto relative",children:t.jsx("div",{className:"max-w-screen-2xl mx-auto",children:t.jsxs(fw,{children:[t.jsx(Xe,{path:"/",element:t.jsx(ZL,{projects:c,balance:u,onNavigateToProject:E,onNavigateToBuyCredits:()=>r("/dashboard/buy-credits"),onNavigateToSupport:()=>r("/dashboard/support")})}),t.jsx(Xe,{path:"/campaigns",element:t.jsx(U9,{projects:c,onUpdate:v,onNavigateToProject:E,onAddProject:()=>r("/dashboard/campaigns/new")})}),t.jsx(Xe,{path:"/campaigns/new",element:t.jsx(Z9,{onBack:()=>r("/dashboard/campaigns"),onCreated:v})}),t.jsx(Xe,{path:"/campaigns/:projectId",element:t.jsx(cz,{onUpdate:v})}),t.jsx(Xe,{path:"/buy-credits",element:t.jsx(KL,{onBack:()=>r("/dashboard"),onPurchase:v})}),t.jsx(Xe,{path:"/billing",element:t.jsx(sz,{})}),t.jsx(Xe,{path:"/gamification",element:t.jsx(nz,{})}),t.jsx(Xe,{path:"/profile",element:t.jsx(WL,{})}),t.jsx(Xe,{path:"/balance",element:t.jsx(YL,{})}),t.jsx(Xe,{path:"/pricing",element:t.jsx(tz,{})}),t.jsx(Xe,{path:"/affiliate",element:t.jsx(QL,{})}),t.jsx(Xe,{path:"/support",element:t.jsx(ez,{})}),t.jsx(Xe,{path:"/payment-success",element:t.jsx(iz,{})}),t.jsx(Xe,{path:"/free-traffic",element:t.jsx(oz,{})}),t.jsx(Xe,{path:"*",element:t.jsx(pn,{to:"/dashboard",replace:!0})})]})})}),t.jsx("footer",{className:"px-12 py-8 border-t border-gray-200 mt-auto bg-white",children:t.jsxs("div",{className:"max-w-screen-2xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[t.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-[10px] font-bold uppercase tracking-widest text-gray-400",children:[t.jsx(Ye,{to:"/helpdesk",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Helpdesk"}),t.jsx(Ye,{to:"/legal/refund",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Refund Policy"}),t.jsx(Ye,{to:"/legal/delivery",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Delivery Policy"}),t.jsx(Ye,{to:"/legal/privacy",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Privacy Policy"}),t.jsx(Ye,{to:"/legal/terms",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Terms of Service"}),t.jsx(Ye,{to:"/legal/agb",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"AGB"}),t.jsx(Ye,{to:"/legal/impressum",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Impressum"})]}),t.jsx("div",{className:"text-[10px] font-medium text-gray-400",children:" 2024 EasyTrafficBot UG"})]})})]})]})},cz=({onUpdate:a})=>{const{projectId:e}=$d(),s=ta();return e?t.jsx(q9,{projectId:e,onBack:()=>s("/dashboard/campaigns"),onUpdate:a}):t.jsx("div",{children:"Invalid Project ID"})},dz=new Set(["10minutemail.com","guerrillamail.com","mailinator.com","tempmail.com","throwaway.email","fakeinbox.com","dispostable.com","mailnesia.com","tempail.com","mohmal.com","yopmail.com","guerrillamailblock.com","sharklasers.com","grr.la","pokemail.net","spam4.me","gishpuppy.com","temp-mail.org","emailondeck.com","throwam.com","getairmail.com","maildrop.cc","getnada.com","tempmailaddress.com","randomail.net","emailfake.com","mail7.io","mailboxhub.com","tempail.com","fake-email.org","email-temp.com","tempmailo.com","fastmail.com","mailinator.org","disposableemail.com","discard.email","mail.gov","incognitomail.com","spambox.us","mailcatch.com","zippymail.info","tempemail.net","spam.la","spamfree.eu","spamfree.org","spamgoes.in","spamhereplease.com","spamherelots.com","spamhole.com","spamkiller.com","spammotel.com","spamobox.com","spamspot.com","spamthis.co.uk","spamthisplease.com","supergreatmail.com","supermailer.jp","superplatyna.com","supplymail.com","suremail.info","svk.jp","sweetxxx.de","tafmail.com","tagmymail.com","tapchicoma.com","techemail.com","techgroup.me","teleworm.com","teleworm.us","temp-link.net","temp-mail.com","temp-mail.de","temp-mail.org","tempail.com","tempalias.com","tempe-mail.com","tempemail.co.za","tempemail.com","tempemail.org","tempinbox.co.uk","tempinbox.com","tempmail.co","tempmail.de","tempmail.eu","tempmail.it","tempmail.us","tempmail2.com","tempmaildemo.com","tempmailer.com","tempmailer.de","tempmailo.com","tempomail.fr","temporaryemail.net","temporaryemail.us","temporaryforwarding.com","temporaryinbox.com","temporarymailaddress.com","tempthe.net","tempymail.com","thankyou2010.com","thc.st","theaviors.com","thebearshark.com","thelimestones.com","themailinator.com","thembones.com.au","themostemail.com","themail.com","themail2.com","themail3.com","themail4.com","thismail.net","thisurl.website","thraml.com","thrma.com","throam.com","thrott.com","throwawayemail.com","throwawaymail.com","throwawaymailaddress.com","throya.com","thrubay.com","thunderbolt.scientific.research","tiapz.com","tic.ec","tilien.com","timgiare.com","timkassouf.com","tinoza.org","tipidbox.com","tittbit.in","tizi.com","tkitc.de","tlpn.org","tmail.com","tmail.net","tmail.ws","tmails.net","tmpmail.net","tmpmail.org","toddsbighug.com","toiea.com","tokem.co","tokenmail.de","tonymanso.com","toomail.biz","top101.de","top1mail.ru","top1post.ru","topinrock.cf","topofertasdehoy.com","topranklist.de","toprumours.com","tormail.org","toss.pw","tosunkaya.com","totalvista.com","totesmail.com","toton123.com","tp-qa-mail.com","tqoai.com","tradermail.info","tranceversal.com","trash-ads.com","trash-mail.at","trash-mail.cf","trash-mail.com","trash-mail.de","trash-mail.ga","trash-mail.gq","trash-mail.ml","trash-mail.tk","trash-me.com","trash2009.com","trash2010.com","trash2011.com","trashcanmail.com","trashdevil.com","trashdevil.de","trashemail.de","trashemails.de","trashinbox.com","trashmail.at","trashmail.com","trashmail.de","trashmail.gq","trashmail.io","trashmail.me","trashmail.net","trashmail.org","trashmail.ws","trashmailer.com","trashmailgenerator.de","trashymail.com","trasz.com","trayna.com","trbvm.com","trbvn.com","trbvo.com","trgovinanaveliko.net","trialmail.de","trickmail.net","trillianpro.com","trollproject.com","tropicalbass.info","trungtamtoeic.com","tryalert.com","tryninja.io","tts.co","tualias.com","turoid.com","turual.com","tvchd.com","tverya.com","twklyml.com","twocowmail.net","twoweirdtricks.com","txtadvertise.com","tyhe.ro","tyldd.com","tympe.net","uacro.com","ubismail.net","ubm.md","ucche.us","ucupdong.ml","uemail99.com","ufacturing.com","uggsrock.com","uguuchantele.com","uhe2.com","uhhu.ru","uiu.us","ujijima1129.gq","uk.to","umail.net","undo.it","unids.com","unimark.org","unionfinan.com","unmail.ru","uooos.com","uorak.com","upliftnow.com","uplipht.com","uploadnolimit.com","upozowac.info","urfunktion.se","urhen.com","uroid.com","us.af","us.to","usa.cc","usako.net","ush.iobb.net","usmail.top","utiket.us","uu2.ovh","uu5.ovh","uu6.ovh","uu7.ovh","uu8.ovh","uu9.ovh","uwork4.us","uyhip.com","vaati.org","vancemail.xyz","vankin.de","vctel.com","vda.ro","vdig.com","veanlo.com","vemomail.win","venompen.com","veo.kr","ver0.cf","ver0.ga","ver0.gq","ver0.ml","ver0.tk","vercelli.cf","vercelli.ga","vercelli.gq","vercelli.ml","verdejo.com","veryprice.co","vesa.pw","vfemail.net","via.tokyo.jp","victime.ninja","victoriantwins.com","vidchart.com","viditag.com","viewcastmedia.com","viewcastmedia.net","vigilantkeep.net","vigoro.com","vikingsonly.com","vinernet.com","vipepe.com","vipmail.name","vipmail.pw","vipxm.net","viralplays.com","virtualemail.info","visal007.tk","visal168.cf","visal168.ga","visal168.gq","visal168.ml","visal168.tk","vixletdev.com","vkcode.ru","vmailing.net","vmpanda.com","vnedu.me","vntech.org","vocaloidland.com","voial.com","voila21.net","voltaer.com","vorga.org","votiputox.org","voxelcore.com","vpn.st","vps30.com","vps911.net","vradportal.com","vremya24.com","vrmtr.com","vsimcard.com","vssms.com","vtxmail.us","vuiy.pw","vztc.com","w3internet.co.uk","w4.gov","wakingupesther.com","walala.org","walkmail.net","walkmail.ru","wallm.com","wanko.be","watch-harry-potter.com","watchever.biz","watchfull.net","watchironman3onlinefreefullmovie.com","waterisgone.com","watrf.com","wavdb.com","wazabi.club","wazow.com","wbml.net","web-ideal.fr","web-mail.pp.ua","web.demic.eu","webcontact-france.eu","webemail.me","webmail.co.zw","webtrip.ch","webuser.in","wee.my","wef.gr","wefjo.grn.cc","wegwerfemail.de","wegwerfemail.info","wegwerfemail.net","wegwerfemail.org","wegwerfemailadresse.com","wegwerfmail.de","wegwerfmail.info","wegwerfmail.net","wegwerfmail.org","wegwrfmail.de","wegwrfmail.net","wegwrfmail.org","wekawa.com","welikecookies.com","wellsfargocomcard.com","wemel.com","wer.ez.lv","wetrainbayarea.com","wetrainbayarea.org","wfgdfhj.tk","wg0.com","wh4f.org","whatiaas.com","whatifanalytics.com","whatpaas.com","whatsaas.com","whiffles.org","whopy.com","whtjddn.33mail.com","whyspam.me","wibblesmith.com","wickmail.net","widaryanto.info","wierie.tk","wifimaple.com","wifioak.com","wikidocuslava.ru","wilemail.com","willhackforfood.biz","willselfdestruct.com","wimsg.com","winemaven.info","wins.com.br","wlist.ro","wmail.cf","wmail.club","wokcy.com","wolfsmail.tk","wollan.info","worldspace.link","wpdork.com","wpg.im","wralawfirm.com","writeme.us","wronghead.com","ws.gy","wsym.de","wudet.men","wuespnj.xyz","wupics.com","wuzup.net","wuzupmail.net","wv Inside.com","wwjmp.com","wwwnew.eu","wxnw.net","x24.com","xagloo.co","xbaby69.top","xcode.ro","xcompress.com","xcpy.com","xenon.bounceme.net","xjoi.com","xl.cx","xmail.com","xmaily.com","xn--9kq967o.com","xn--d-bga.net","xoxy.net","xplode.me","xpo.cc","xqx.luk2.com","xr.ftpserver.biz","xsufilmtop.com","xwaretech.com","xwaretech.info","xwaretech.net","xww.ro","xxhamsterxx.ga","xxi2.com","xxolittle.com","xxvk.ru","xy9ce.tk","xyzfree.net","xzsok.com","yabai-oppai.tk","yahmail.top","yamail.win","yanet.me","yannmail.win","yapped.net","yaqp.com","yarnpedia.tk","ycare.de","ycn.ro","ye.vc","yecp.ru","yedi.org","yep.it","yhg.biz","ynmrealty.com","yodx.ro","yogamaven.com","yomail.info","yoo.ro","yopmail.com","yopmail.fr","yopmail.gq","yopmail.net","yopmail.org","yopmail.pp.ua","yordanmail.cf","yoshi.hirochi.biz","you-spam.com","yougotgoated.com","youmail.ga","youmailr.com","youneedmore.info","youpymail.com","yourdomain.com","youremail.cf","yourewronghereswhy.com","yourlms.biz","yourtube.ml","yroid.com","yspend.com","ytpayy.com","yugasandrika.com","yui.it","yuirg.com","ywhmail.com","ywz.ro","yyolf.net","z0d.eu","z1p.biz","z86.ru","zaktouni.fr","zarabotokdoma11.ru","zasod.com","zaym-zaym.ru","zcrcd.com","zdenka.net","ze.tc","zebins.com","zebins.eu","zehnminuten.de","zehnminutenmail.de","zemzar.net","zepp.dk","zetmail.com","zfymail.com","zhaohao.eu","zhcne.com","zhewei88.com","zhorachu.com","zik.dj","zipcad.com","zipcad.net","zipo1.gq","zippymail.info","zipsendtest.com","zoaxe.com","zoemail.com","zoemail.net","zoemail.org","zoetropes.org","zombie-hive.com","zomg.info","zumpul.com","zv68.com","zxcv.com","zxcvbnm.com","zymuying.com","zzi.us","zzrgg.com","zzz.com","mail.ru","inbox.ru","list.ru","bk.ru"]);function Uo(a){if(!a||!a.includes("@"))return!1;const e=a.split("@")[1].toLowerCase().trim();return dz.has(e)}const uz=window.location.origin,Sw=({onSuccess:a})=>{const e=ta(),[s,r]=w.useState(""),[i,l]=w.useState(""),[c,f]=w.useState(""),[u,m]=w.useState(5e3),[g,b]=w.useState(40),[v,E]=w.useState(30),[N,S]=w.useState(!1),[T,O]=w.useState(""),[U,M]=w.useState(!1),[L,$]=w.useState(""),X=w.useMemo(()=>s&&Uo(s)?"Temporary emails not allowed. Please use your real email.":null,[s]),C=w.useMemo(()=>{if(!c)return null;const D=ov(c);return D.isValid?null:D.errorMessage},[c]),R=D=>{if(D<60)return`${D} seconds`;const z=Math.floor(D/60),I=D%60;return I>0?`${z}m ${I}s`:`${z} minute${z>1?"s":""}`},_=()=>{if(!s||!s.includes("@"))return O("Please enter a valid email address"),!1;if(Uo(s))return O("Temporary email addresses are not allowed. Please use a permanent email address."),!1;if(!i||i.length<3)return O("Project name must be at least 3 characters"),!1;if(!c||!c.startsWith("http://")&&!c.startsWith("https://"))return O("Please enter a valid URL starting with http:// or https://"),!1;const D=ov(c);return D.isValid?!0:(O(D.errorMessage||"Invalid URL"),!1)},P=async D=>{if(D.preventDefault(),O(""),!!_()){S(!0);try{const z={desktop:60,mobile:30,tablet:10},I=await fetch(`${uz}/quick-campaign`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,project_name:i,target_url:c,total_visitors:u,settings:{bounce_rate:g,time_on_page:R(v),device_split:z}})});if(!I.ok){const Ee=await I.json();throw new Error(Ee.detail||"Failed to create campaign")}const Z=await I.json();Z.access_token&&(localStorage.setItem("token",Z.access_token),$(Z.generated_password)),M(!0),Z.generated_password||setTimeout(()=>{e("/dashboard"),a&&a()},2e3)}catch(z){O(z.message||"Something went wrong. Please try again.")}finally{S(!1)}}};return U?t.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12 relative z-10",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:t.jsx(xt,{className:"w-10 h-10 text-white"})}),t.jsx("h3",{className:"text-2xl font-black text-white md:text-gray-900 mb-3 drop-shadow-sm",children:"Campaign Started!"}),t.jsxs("p",{className:"text-white/90 md:text-gray-600 mb-8 max-w-lg mx-auto",children:["Your ",t.jsx("span",{className:"font-bold text-white md:text-[#ff4d00]",children:u.toLocaleString()})," visitor campaign is running."]}),L&&t.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl border border-gray-100 max-w-md mx-auto transform transition-all animate-in zoom-in-95 duration-500",children:[t.jsx("h4",{className:"text-xl font-black text-gray-900 mb-3",children:"Your Account Details"}),t.jsx("p",{className:"text-sm font-medium text-gray-500 mb-6",children:"We've automatically created an account for you. Please save your password below."}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-5 rounded-xl flex items-center justify-between group mb-8",children:[t.jsx("code",{className:"text-[#ff4d00] font-mono font-black text-xl tracking-wider select-all",children:L}),t.jsx("button",{onClick:()=>{navigator.clipboard.writeText(L),alert("Copied to clipboard!")},className:"text-gray-400 hover:text-[#ff4d00] text-xs font-bold uppercase tracking-widest transition-colors flex items-center gap-1",title:"Copy to clipboard",children:"Copy"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>{e("/profile"),a&&a()},className:"w-full bg-[#ff4d00] text-white py-4 px-6 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-[#e04400] transition-colors shadow-lg hover:shadow-xl transform active:scale-[0.98]",children:"Change Password Now"}),t.jsx("button",{onClick:()=>{e("/dashboard"),a&&a()},className:"w-full bg-gray-100 text-gray-900 py-4 px-6 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-gray-200 transition-colors transform active:scale-[0.98]",children:"Go to Dashboard"})]})]})]}):t.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative rounded-3xl overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ff4d00] to-[#e04400] z-0"}),t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 z-0 mix-blend-overlay"}),t.jsx("div",{className:"absolute -top-20 -right-20 w-96 h-96 bg-white opacity-10 rounded-full blur-3xl z-0"}),t.jsx("div",{className:"absolute -bottom-20 -left-20 w-96 h-96 bg-black opacity-10 rounded-full blur-3xl z-0"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"text-center mb-10 text-white",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md border border-white/30 px-4 py-2 text-xs font-bold uppercase tracking-widest mb-4 rounded-full shadow-sm",children:[t.jsx(Vt,{size:14,className:"fill-white text-white"})," Free Traffic Campaign"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-4 drop-shadow-sm",children:["Get ",t.jsx("span",{className:"text-white underline decoration-white/30 decoration-4 underline-offset-4",children:"Real Visitors"})," Today"]}),t.jsx("p",{className:"text-xl font-medium text-white/90 max-w-2xl mx-auto",children:"Drive up to 10,000 visitors in 24 hours. No credit card required."})]}),t.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[t.jsx("div",{className:"lg:col-span-3",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden transform transition-all hover:scale-[1.01] duration-500",children:[t.jsxs("div",{className:"bg-gradient-to-r from-[#ff4d00] to-[#e04400] px-8 py-5 flex items-center gap-4 border-b border-white/10",children:[t.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center shrink-0 shadow-inner",children:t.jsx(fM,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-bold uppercase tracking-wide text-sm",children:"Quick Campaign"}),t.jsx("p",{className:"text-white/80 text-xs",children:"Fill in the details below"})]})]}),t.jsxs("form",{onSubmit:P,className:"p-8 space-y-6",children:[T&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3 animate-in fade-in slide-in-from-top-2",children:[t.jsx(Na,{className:"text-red-500 shrink-0",size:20}),t.jsx("span",{className:"text-red-700 text-sm font-bold",children:T})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Email"}),t.jsxs("div",{className:"relative group",children:[t.jsx("input",{type:"email",value:s,onChange:D=>r(D.target.value),placeholder:"you@example.com",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none pl-11 shadow-sm"}),t.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#ff4d00] transition-colors",children:t.jsx(Rr,{size:16})})]}),X&&t.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[t.jsx(Na,{size:12})," ",X]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Project Name"}),t.jsx("input",{type:"text",value:i,onChange:D=>l(D.target.value),placeholder:"My Campaign",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none shadow-sm"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Target Website URL"}),t.jsxs("div",{className:"relative group",children:[t.jsx("input",{type:"url",value:c,onChange:D=>f(D.target.value),placeholder:"https://yourwebsite.com",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 pl-11 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none shadow-sm"}),t.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#ff4d00] transition-colors",children:t.jsx(Ns,{size:16})})]}),C&&t.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[t.jsx(Na,{size:12})," ",C]})]}),t.jsxs("div",{className:"bg-gray-50/80 rounded-xl p-6 space-y-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:[t.jsx(Wo,{size:12})," Campaign Settings"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:"Visitors"}),t.jsx("span",{className:"text-lg font-black text-[#ff4d00] bg-white px-2 py-0.5 rounded shadow-sm border border-gray-100",children:u.toLocaleString()})]}),t.jsx("input",{type:"range",min:"1000",max:"10000",step:"500",value:u,onChange:D=>m(parseInt(D.target.value)),className:"w-full h-2 bg-gray-200 rounded-full appearance-none cursor-pointer accent-[#ff4d00] hover:accent-black transition-all"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Bounce Rate"}),t.jsxs("span",{className:"text-sm font-black text-gray-900",children:[g,"%"]})]}),t.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:g,onChange:D=>b(parseInt(D.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-full appearance-none cursor-pointer accent-gray-900 hover:accent-[#ff4d00] transition-all"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Time on Page"}),t.jsx("span",{className:"text-sm font-black text-gray-900",children:v<60?`${v}s`:`${Math.floor(v/60)}m ${v%60}s`})]}),t.jsx("input",{type:"range",min:"15",max:"300",step:"15",value:v,onChange:D=>E(parseInt(D.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-full appearance-none cursor-pointer accent-gray-900 hover:accent-[#ff4d00] transition-all"})]})]})]})]}),t.jsxs("div",{className:"bg-green-50 rounded-xl p-5 border border-green-100 flex items-center gap-4 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center border-4 border-green-100 shrink-0",children:t.jsx(xt,{size:20,className:"text-green-500 fill-green-50"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-green-800 font-extrabold text-sm uppercase tracking-wide block",children:"Free Campaign Summary"}),t.jsxs("span",{className:"text-green-600 text-xs font-medium",children:[u.toLocaleString()," visitors  24 hours duration"]})]}),t.jsx("span",{className:"text-2xl font-black text-green-600 tracking-tighter",children:"FREE"})]}),t.jsx("button",{type:"submit",disabled:N||!!X||!!C,className:"w-full bg-black text-white py-5 px-6 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-gray-900 transition-all shadow-xl hover:shadow-2xl disabled:opacity-70 disabled:cursor-not-allowed group flex items-center justify-center gap-3 transform active:scale-[0.98]",children:N?"Creating Campaign...":t.jsxs(t.Fragment,{children:["Start Free Campaign ",t.jsx(Rs,{className:"group-hover:translate-x-1 transition-transform"})]})})]})]})}),t.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[t.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[t.jsx("div",{className:"bg-orange-50 p-2 rounded-lg",children:t.jsx(Ic,{className:"w-5 h-5 text-[#ff4d00]"})}),t.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Where You'll See Traffic"})]}),t.jsxs("ul",{className:"space-y-4 text-sm text-gray-600",children:[t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(Wl,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Google Analytics 4"})," Real-time and general traffic reports"]})]}),t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(Wl,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Google Search Console"})," Improved engagement signals"]})]}),t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(Wl,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Server Logs"})," Direct hit requests to your server"]})]}),t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(Wl,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Heatmaps"})," Session recordings and scroll depth"]})]})]})]}),t.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[t.jsx("div",{className:"bg-orange-50 p-2 rounded-lg",children:t.jsx(Ko,{className:"w-5 h-5 text-[#ff4d00]"})}),t.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Traffic Sources"})]}),t.jsx("ul",{className:"space-y-3 text-sm font-medium text-gray-600",children:["Direct traffic (organic visitors)","Organic search (Google, Bing)","Social referrals (if enabled)","Referral from other sites"].map((D,z)=>t.jsxs("li",{className:"flex items-center gap-3",children:[t.jsx(ti,{size:14,className:"text-[#ff4d00]"}),t.jsx("span",{children:D})]},z))})]}),t.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[t.jsx("div",{className:"bg-green-50 p-2 rounded-lg",children:t.jsx(_a,{className:"w-5 h-5 text-green-600"})}),t.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Quality & Safety"})]}),t.jsx("ul",{className:"space-y-3 text-sm font-medium text-gray-600",children:["Residential IP addresses","Real browser fingerprints","GA4 compliant events","Anti-fingerprinting enabled"].map((D,z)=>t.jsxs("li",{className:"flex items-center gap-3",children:[t.jsx(xt,{size:14,className:"text-green-500"}),t.jsx("span",{children:D})]},z))})]})]})]})]})]})},hz=({onLogin:a,onNavigate:e})=>{const[s,r]=w.useState(0),[i,l]=w.useState("business"),[c,f]=w.useState("economy"),u=N=>{r(s===N?null:N)},m={"@context":"https://schema.org","@type":"Organization",name:"Traffic Creator",url:"https://traffic-creator.com/",description:"Premium website traffic generator for boosting SEO metrics and engagement.",brand:{"@type":"Brand",name:"Traffic Creator"}},g={"@context":"https://schema.org","@type":"WebSite",name:"Traffic Creator",url:"https://traffic-creator.com/",potentialAction:{"@type":"SearchAction",target:"https://traffic-creator.com/search?q={search_term_string}","query-input":"required name=search_term_string"}},b=[{icon:t.jsx(iM,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Smart Site Crawler",description:"Our advanced bots map your entire site architecture to distribute traffic naturally across deep links, not just your homepage."},{icon:t.jsx(Er,{className:"w-6 h-6 text-[#ff4d00]"}),title:"GA4 Compliant Events",description:"Every visit generates real engagement signalsscrolls, clicks, and mouse movementsthat are fully verified by Google Analytics 4."},{icon:t.jsx(Jd,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Organic Growth Patterns",description:"Traffic volume follows natural diurnal curves and viral spikes, eliminating the flat-line patterns that trigger bot filters."},{icon:t.jsx(Ns,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Elite Residential IPs",description:"Traffic originates from verified residential ISPs in your target country, making it indistinguishable from real human visitors."},{icon:t.jsx(mx,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Live RSS Sync",description:"Automatically detect new blog posts and drive immediate traffic to them, signaling freshness to search engines."},{icon:t.jsx(hO,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Timezone Intelligence",description:"Visits are scheduled according to the local business hours of your target audience for maximum realism."},{icon:t.jsx(GM,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Social Signal Ready",description:"Seamlessly integrates with t.co, bit.ly, and other shorteners to simulate viral social media referral traffic."},{icon:t.jsx(Ko,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Hyper-Local Targeting",description:"Pinpoint your audience by city or region. Perfect for local SEO campaigns and brick-and-mortar businesses."}],v=[{icon:t.jsx(Ba,{size:32,className:"text-[#ff4d00]"}),title:"SEO Ranking Boost",metric:"+450%",desc:"How a niche blog went from Page 10 to Page 1 by signaling high user engagement to search algorithms."},{icon:t.jsx(Jd,{size:32,className:"text-[#ff4d00]"}),title:"Analytics Repair",metric:"15% Bounce",desc:"A SaaS company reduced their bounce rate from 80% to 15% to improve their domain authority score."},{icon:t.jsx(IT,{size:32,className:"text-[#ff4d00]"}),title:"Crypto Trending",metric:"#1 Spot",desc:"A new Token project used volume traffic to trend on CoinMarketCap and CoinGecko within 24 hours."},{icon:t.jsx(ED,{size:32,className:"text-[#ff4d00]"}),title:"Agency Growth",metric:"50+ Clients",desc:"A digital agency resold our traffic to their clients, improving client retention reports by 200%."}],E=[{question:"How quickly does traffic start?",answer:"Campaigns typically start within 5 minutes of approval. Our network handles over 50M requests daily, ensuring instant scalability."},{question:"Is this traffic Adsense safe?",answer:"Yes, our 'Breakthrough' and 'Agency' packages feature 100% Adsense safe traffic, filtered for high engagement and low bounce rates."},{question:"Can I target specific devices?",answer:"Absolutely. You can segment traffic by Desktop, Mobile (iOS/Android), and Tablet in the campaign settings."},{question:"Do you offer a money-back guarantee?",answer:"Yes. If we fail to deliver the purchased visitor count within 72 hours of the campaign start, you are eligible for a full refund."},{question:"Can I use the API for reselling?",answer:"Yes, our REST API is designed for agencies and resellers. You can programmatically create projects, check stats, and manage clients."},{question:"What is the difference between Bounce Rate and Return Rate?",answer:"Bounce Rate is the percentage of visitors who leave after one page. Return Rate is the percentage of visitors who come back to your site later. You can configure both."},{question:"How do I configure geolocation targeting?",answer:"In your project settings, simply select the countries you wish to target. For 'Agency' plans, you can specify individual cities."},{question:"Can I stop and restart my campaigns?",answer:"Yes, you have full control. You can pause, resume, or stop campaigns instantly from the dashboard at any time."}];return t.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans overflow-hidden",children:[t.jsx(Li,{title:"Traffic Creator - #1 Website Traffic Generator for SEO & Rankings (2026)",description:"Boost your SEO rankings in 2026 with real residential website traffic. Traffic Creator helps you manipulate CTR, increase dwell time, and improve domain authority naturally using advanced AI-driven behavioral simulation.",keywords:"website traffic 2026, boost traffic, SEO traffic, organic traffic, traffic generator, buy website traffic, traffic creator, website visitors, GA4 traffic, CTR manipulation",schema:[m,g]}),t.jsx("nav",{className:"border-b border-gray-100 bg-white/95 backdrop-blur-md sticky top-0 z-50 transition-all duration-300",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[t.jsx("span",{className:"text-2xl font-black text-[#ff4d00] tracking-tight group-hover:scale-105 transition-transform",children:"TRAFFIC"}),t.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-[#ff4d00] text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"flex items-center gap-8",children:[t.jsxs("div",{className:"hidden md:flex gap-8 text-sm font-bold uppercase tracking-wide text-gray-500",children:[t.jsx("a",{href:"#problem",className:"hover:text-[#ff4d00] transition-colors",children:"The Problem"}),t.jsx("a",{href:"#features",className:"hover:text-[#ff4d00] transition-colors",children:"Features"}),t.jsx("a",{href:"#streak-bonus",className:"hover:text-[#ff4d00] transition-colors",children:"Unlimited Free Traffic"}),t.jsx(Ye,{to:"/#pricing",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Pricing"})]}),t.jsx(Ye,{to:"/login",className:"bg-[#ff4d00] text-white px-6 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors shadow-md hover:shadow-lg flex items-center",children:"Dashboard Login"})]})]})}),t.jsxs("section",{className:"relative pt-32 pb-40 overflow-hidden bg-white",children:[t.jsx("div",{className:"absolute inset-0 z-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"40px 40px"}}),t.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-orange-100/40 rounded-full blur-3xl -translate-y-1/2 translate-x-1/3 z-0"}),t.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/5 border border-black/10 px-4 py-1.5 text-[10px] font-bold uppercase tracking-widest mb-8 rounded-full shadow-sm animate-in fade-in slide-in-from-bottom-4 backdrop-blur-sm",children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-[#ff4d00] animate-pulse"})," Live Traffic Network Active"]}),t.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter leading-[0.9] mb-8 text-gray-900 animate-in fade-in slide-in-from-bottom-6",children:["DOMINATE",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-600",children:"SEARCH."})]}),t.jsxs("p",{className:"text-xl md:text-2xl text-gray-500 mb-10 max-w-lg leading-relaxed font-medium animate-in fade-in slide-in-from-bottom-8",children:["The world's first ",t.jsx("span",{className:"text-gray-900 font-bold",children:"intelligent traffic engine"}),". Boost SEO rankings with real residential visitors, certified purely organic by Google Analytics 4."]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 animate-in fade-in slide-in-from-bottom-10",children:[t.jsxs(Ye,{to:"/signup",className:"group bg-[#ff4d00] text-white px-8 py-5 text-sm font-bold uppercase tracking-wider hover:bg-black transition-all shadow-[0_10px_40px_-10px_rgba(255,77,0,0.5)] hover:shadow-xl flex items-center justify-center gap-3 transform hover:-translate-y-1 rounded-sm",children:["Launch Campaign ",t.jsx(Rs,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),t.jsx(Ye,{to:"/signup",className:"group bg-white border-2 border-gray-100 text-gray-900 px-8 py-5 text-sm font-bold uppercase tracking-wider hover:border-black transition-all transform hover:-translate-y-1 flex items-center justify-center rounded-sm",children:"View Live Demo"})]}),t.jsxs("div",{className:"mt-12 flex items-center gap-6 text-xs font-bold text-gray-400 uppercase tracking-widest animate-in fade-in slide-in-from-bottom-12",children:[t.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4].map(N=>t.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center text-[8px] overflow-hidden",children:t.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${N}`,alt:"User"})},N))}),t.jsx("div",{children:"Trusted by 2,000+ SEO Agencies"})]})]}),t.jsxs("div",{className:"relative flex items-center justify-center h-[600px] perspective-1000 animate-in fade-in duration-1000 lg:translate-x-10",children:[t.jsxs("div",{className:"relative w-96 h-96 animate-[spin_40s_linear_infinite] transform-style-3d",children:[t.jsx("div",{className:"absolute inset-0 rounded-full border border-gray-900/5"}),t.jsx("div",{className:"absolute inset-8 rounded-full border border-[#ff4d00]/20 transform rotate-12"}),t.jsx("div",{className:"absolute inset-16 rounded-full border border-[#ff4d00]/40 transform -rotate-12"}),t.jsx("div",{className:"absolute top-0 left-1/2 w-4 h-4 bg-[#ff4d00] rounded-full shadow-[0_0_20px_#ff4d00] -translate-x-1/2 -translate-y-1/2 animate-pulse"}),t.jsx("div",{className:"absolute bottom-0 left-1/2 w-3 h-3 bg-black rounded-full -translate-x-1/2 translate-y-1/2"}),t.jsx("div",{className:"absolute inset-24 bg-gradient-to-br from-orange-50 to-white rounded-full shadow-inner flex items-center justify-center border border-gray-100 backdrop-blur-sm",children:t.jsx(Ns,{className:"text-[#ff4d00] w-24 h-24 opacity-20 animate-pulse",strokeWidth:1})})]}),t.jsxs("div",{className:"absolute top-[20%] right-0 bg-white p-4 rounded-lg shadow-xl border border-gray-100 animate-[bounce_4s_infinite] max-w-[180px]",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsx("div",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Status"})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:"+458%"}),t.jsx("div",{className:"text-[10px] text-gray-400",children:"Traffic Increase (7d)"})]}),t.jsxs("div",{className:"absolute bottom-[20%] left-0 bg-white p-4 rounded-lg shadow-xl border border-gray-100 animate-[bounce_5s_infinite] delay-1000 max-w-[180px]",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-[#ff4d00] rounded-full"}),t.jsx("div",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Live Users"})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:"12,405"}),t.jsx("div",{className:"text-[10px] text-gray-400",children:"Active Sessions Now"})]})]})]})]}),t.jsx("section",{className:"bg-[#ff4d00] py-10 overflow-hidden border-y border-orange-600",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center gap-8",children:[t.jsx("div",{className:"text-white text-xs font-bold uppercase tracking-widest whitespace-nowrap opacity-50",children:"Powering Leading Brands:"}),t.jsxs("div",{className:"flex-1 flex justify-between items-center gap-8 opacity-40 grayscale hover:grayscale-0 transition-all duration-500",children:[t.jsx("span",{className:"text-xl font-black text-white font-serif italic",children:"Vanguard."}),t.jsx("span",{className:"text-xl font-bold text-white tracking-widest",children:"NEXUS"}),t.jsx("span",{className:"text-xl font-bold text-white font-mono",children:"CODEBLOCK"}),t.jsxs("span",{className:"text-xl font-black text-white tracking-tighter",children:["turbo",t.jsx("span",{className:"text-[#ff4d00]",children:"boost"})]}),t.jsx("span",{className:"text-xl font-medium text-white",children:"Aperture Sci"})]})]})}),t.jsx("section",{id:"quick-campaign",className:"py-24 px-6 bg-orange-50/50",children:t.jsx(Sw,{})}),t.jsx("section",{id:"streak-bonus",className:"py-24 px-6 bg-[#FAFAFA]",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-50 border border-orange-100 text-[#ff4d00] text-xs font-bold uppercase tracking-wider mb-6 animate-in fade-in slide-in-from-bottom-4",children:[t.jsx(Vo,{size:14,className:"fill-[#ff4d00]"}),"100% Free Forever"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-6 tracking-tight",children:["Get Up to 20,000 ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"Free Hits Daily"})]}),t.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto",children:"Just log in and claim. No credit card. No purchase. Just free traffic."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8",children:[t.jsxs("div",{className:"lg:col-span-8 bg-white rounded-3xl p-8 border border-gray-100 shadow-xl shadow-orange-500/5 overflow-hidden relative",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(sc,{className:"text-[#ff4d00]",size:24}),"30-Day Streak"]}),t.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"free hits per month  that's real traffic to your website"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-4xl font-black text-gray-900",children:"342,000"}),t.jsx("div",{className:"text-sm font-medium text-[#ff4d00]",children:"monthly potential"})]})]}),t.jsx("div",{className:"space-y-3",children:[{days:"Day 1-2",amount:"1,000",icon:Wo},{days:"Day 3-4",amount:"2,000",icon:Rr},{days:"Day 5-6",amount:"3,000",icon:Ba},{days:"Day 7-13",amount:"10,000",icon:Vt,highlight:!0},{days:"Day 14-29",amount:"15,000",icon:Vo,highlight:!0},{days:"Day 30+",amount:"20,000",icon:sc,highlight:!0,last:!0}].map((N,S)=>t.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all hover:scale-[1.01] ${N.highlight?"bg-orange-50/50 border-orange-100":"bg-gray-50/50 border-gray-100"}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${N.highlight?"bg-white text-[#ff4d00] shadow-sm":"bg-white text-gray-400"}`,children:t.jsx(N.icon,{size:20})}),t.jsx("span",{className:`font-bold ${N.highlight?"text-gray-900":"text-gray-500"}`,children:N.days})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-xl font-black ${N.last?"text-[#ff4d00]":"text-gray-900"}`,children:N.amount}),t.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"hits/day"})]})]},S))})]}),t.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[t.jsxs("div",{className:"bg-black text-white rounded-3xl p-8 relative overflow-hidden flex flex-col justify-between group h-min min-h-[300px]",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00]/30 rounded-full blur-3xl group-hover:bg-[#ff4d00]/50 transition-colors duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-2xl flex items-center justify-center mb-6 border border-gray-700 text-[#ff4d00]",children:t.jsx(ri,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-gray-300",children:"Yearly Potential"}),t.jsx("div",{className:"text-4xl lg:text-5xl font-black mt-3 tracking-tight",children:"7,042,000"})]}),t.jsx("p",{className:"text-gray-400 text-sm font-medium relative z-10 mt-6",children:"free hits per year with consistent daily claims"})]}),t.jsxs("div",{className:"bg-[#FFF1EB] rounded-3xl p-8 flex flex-col justify-center h-min min-h-[220px]",children:[t.jsx("div",{className:"mb-4",children:t.jsx("span",{className:"text-[#ff4d00] font-bold text-sm uppercase tracking-wider",children:"What's it worth?"})}),t.jsx("div",{className:"text-5xl font-black text-gray-900 mb-2",children:"700+"}),t.jsx("p",{className:"text-gray-600 font-medium",children:"in value based on our standard CPM pricing"})]})]})]}),t.jsx("div",{className:"max-w-3xl mx-auto mt-12 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-300",children:t.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 flex items-center justify-center gap-3 shadow-lg hover:-translate-y-1 transition-transform cursor-default",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsxs("p",{className:"font-bold text-gray-900",children:[t.jsx("span",{className:"text-[#ff4d00]",children:"12,847 users"})," claimed their free bonus today"]})]})})]})}),t.jsxs("section",{id:"problem",className:"bg-[#ff4d00] py-32 px-6 border-y border-orange-600 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-orange-600 via-orange-700 to-orange-800 opacity-90"}),t.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-20 items-center relative z-10",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-white font-bold text-xs uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(as,{size:14})," Critical SEO Warning"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-8 text-white leading-tight",children:["Is Your Website ",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-200 to-white",children:"Invisible?"})]}),t.jsxs("p",{className:"text-xl text-orange-100 leading-relaxed mb-10 font-light",children:["91% of content gets ",t.jsx("span",{className:"text-white font-bold",children:"zero traffic"})," from Google. Without active visitor signals, search algorithms deem your site irrelevant and bury it deep in the index."]}),t.jsx("div",{className:"space-y-6",children:[{title:"Low Domain Authority",desc:"Search engines trust sites with active user bases."},{title:"Poor Search Rankings",desc:"No clicks means no ranking improvements."},{title:"Zero Brand Visibility",desc:"Your competitors are taking your customers."},{title:"Stagnant Growth",desc:"Great content is useless if nobody sees it."}].map((N,S)=>t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full mt-2.5 shadow-[0_0_10px_rgba(255,255,255,0.5)]"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-bold text-sm uppercase tracking-wide mb-1",children:N.title}),t.jsx("div",{className:"text-orange-200 text-xs font-medium",children:N.desc})]})]},S))})]}),t.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border border-white/20 rounded-2xl bg-white/10 backdrop-blur-sm shadow-2xl relative",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/10 to-transparent rounded-2xl"}),t.jsxs("div",{className:"relative w-72 h-72 rounded-full border border-white/20 bg-white/10 flex items-center justify-center overflow-hidden mb-8 shadow-inner z-10",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-transparent via-white/30 to-transparent animate-[spin_3s_linear_infinite]",style:{clipPath:"polygon(50% 50%, 100% 0, 100% 50%)"}}),t.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.2) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),t.jsx("div",{className:"absolute w-3/4 h-3/4 border border-white/20 rounded-full"}),t.jsx("div",{className:"absolute w-1/2 h-1/2 border border-white/20 rounded-full"}),t.jsx("div",{className:"absolute w-1/4 h-1/4 border border-white/20 rounded-full"}),t.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-ping shadow-[0_0_20px_rgba(255,255,255,0.8)]"}),t.jsx("div",{className:"absolute bottom-1/2 translate-y-8 font-mono text-[10px] text-white uppercase tracking-widest font-bold animate-pulse bg-black/50 px-2 py-1 rounded",children:"No Traffic Signal"})]}),t.jsxs("div",{className:"text-center space-y-2 relative z-10",children:[t.jsx("div",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Search Engine Void"}),t.jsx("p",{className:"text-sm text-orange-200 font-medium",children:"Crawlers are skipping your site due to inactivity."})]})]})]})]}),t.jsxs("section",{className:"py-32 px-6 bg-white relative overflow-hidden",children:[t.jsx("div",{className:"hidden lg:block absolute top-[50%] left-0 w-full h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent border-t border-dashed border-gray-300"}),t.jsxs("div",{className:"max-w-7xl mx-auto text-center mb-20 relative z-10",children:[t.jsx("div",{className:"inline-block bg-[#ff4d00] text-white text-[10px] font-bold uppercase tracking-widest px-3 py-1 mb-4 rounded-sm",children:"Modus Operations"}),t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-4 text-gray-900",children:"The Traffic Injection Engine"}),t.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto text-lg leading-relaxed",children:"We bridge the gap between obscurity and authority by injecting high-quality, targeted traffic directly to your URLs."})]}),t.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12 relative z-10",children:[{title:"Target Identification",desc:"Input your URL. Our system analyzes your niche, keywords, and ideal geographic demographics.",icon:t.jsx(ti,{className:"w-8 h-8 text-[#ff4d00]"})},{title:"Traffic Calibration",desc:"Configure behavior patterns, bounce rates, and session durations to match organic profiles.",icon:t.jsx(RT,{className:"w-8 h-8 text-[#ff4d00]"})},{title:"Authority Surge",desc:"As consistent traffic flows, search engines validate your site, boosting DA and ranking position.",icon:t.jsx(Ba,{className:"w-8 h-8 text-[#ff4d00]"})}].map((N,S)=>t.jsxs("div",{className:"bg-white border border-gray-100 p-8 text-center hover:border-[#ff4d00] hover:shadow-2xl transition-all duration-300 group rounded-xl transform hover:-translate-y-2 relative",children:[t.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 w-12 h-12 bg-white border border-gray-100 rounded-full flex items-center justify-center text-xl font-black text-gray-300 group-hover:text-[#ff4d00] group-hover:border-[#ff4d00] transition-colors shadow-sm",children:S+1}),t.jsx("div",{className:"mt-8 mb-6 flex justify-center opacity-80 group-hover:scale-110 transition-transform duration-300",children:N.icon}),t.jsx("h3",{className:"text-lg font-black text-gray-900 mb-3 uppercase tracking-wide",children:N.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed font-medium",children:N.desc})]},S))})]}),t.jsx("section",{id:"features",className:"py-32 px-6 bg-[#f8f9fa] border-y border-gray-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-20 gap-6",children:[t.jsxs("div",{className:"max-w-xl",children:[t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-6 text-gray-900",children:"Enterprise Capabilities"}),t.jsx("div",{className:"w-20 h-1.5 bg-[#ff4d00] mb-6"}),t.jsx("p",{className:"text-gray-500 text-lg leading-relaxed",children:"Built for agencies and high-growth businesses. Our platform provides the granular control needed for complex SEO strategies."})]}),t.jsxs(Ye,{to:"/signup",className:"hidden md:flex items-center gap-2 font-bold text-[#ff4d00] border-b-2 border-[#ff4d00] pb-1 hover:text-black hover:border-black transition-all uppercase tracking-widest text-xs",children:["View All Features ",t.jsx(Rs,{size:14})]})]}),t.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:b.map((N,S)=>t.jsx("div",{className:"bg-white p-8 border border-gray-100 hover:border-[#ff4d00] transition-all duration-300 group shadow-sm hover:shadow-xl rounded-xl flex flex-col justify-between h-full",children:t.jsxs("div",{children:[t.jsx("div",{className:"bg-gray-50 w-12 h-12 flex items-center justify-center mb-6 group-hover:bg-[#ff4d00] transition-colors rounded-lg text-[#ff4d00] group-hover:text-white shadow-inner",children:N.icon}),t.jsx("h3",{className:"text-sm font-black mb-3 uppercase tracking-wide text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:N.title}),t.jsx("p",{className:"text-gray-500 text-xs leading-relaxed font-medium",children:N.description})]})},S))}),t.jsx("div",{className:"mt-12 text-center md:hidden",children:t.jsxs(Ye,{to:"/signup",className:"inline-flex items-center gap-2 font-bold text-[#ff4d00] border-b-2 border-[#ff4d00] pb-1 uppercase tracking-widest text-xs",children:["View All Features ",t.jsx(Rs,{size:14})]})})]})}),t.jsx("section",{id:"pricing",className:"py-24 px-6 bg-gradient-to-b from-white via-gray-50/30 to-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#ff4d00]/10 text-[#ff4d00] px-4 py-2 rounded-full text-xs font-bold uppercase tracking-widest mb-6",children:[t.jsx(gx,{size:14})," Transparent Pricing"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-4 text-gray-900",children:["Pay Only For ",t.jsx("span",{className:"text-[#ff4d00]",children:"Results"})]}),t.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto font-medium text-lg mb-8",children:"No hidden fees. No monthly contracts. Volume discounts up to 60%. Choose your quality tier."}),t.jsxs("div",{className:"inline-flex bg-gray-900 p-1.5 rounded-xl shadow-2xl",children:[t.jsx("button",{onClick:()=>l("business"),className:`px-8 py-3.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all ${i==="business"?"bg-[#ff4d00] text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Credit Packs"}),t.jsx("button",{onClick:()=>l("agency"),className:`px-8 py-3.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all ${i==="agency"?"bg-[#ff4d00] text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Agency Plans"})]})]}),i==="business"?t.jsxs("div",{className:"space-y-16",children:[t.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Yo.map(N=>t.jsxs("button",{onClick:()=>f(N.id),className:`px-6 py-3 text-xs font-bold uppercase tracking-widest transition-all ${c===N.id?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${N.popular?"ring-2 ring-[#ff4d00]/30":""}`,children:[N.name,N.popular&&t.jsx("span",{className:"ml-2 text-[10px]",children:""})]},N.id))}),t.jsx("div",{className:"grid md:grid-cols-4 gap-4",children:[{volume:6e4,name:"Starter",desc:"Test new landing pages"},{volume:5e5,name:"Growth",desc:"Small business baseline",badge:"Most Popular",badgeColor:"bg-[#ff4d00]"},{volume:1e6,name:"Business",desc:"Impact domain authority",highlight:!0,badge:"Best Value",badgeColor:"bg-green-500"},{volume:1e7,name:"Enterprise",desc:"Competitive niches"}].map((N,S)=>{var L;const T=(L=nm[c])==null?void 0:L[N.volume],O=(T==null?void 0:T[1])??null,U=O!==null?Nw(c,N.volume,1):0,M=Yo.find($=>$.id===c);return O===null?null:t.jsx("div",{className:`relative group transition-all duration-500 ${N.highlight?"md:-mt-4 md:mb-4":""}`,children:t.jsxs("div",{className:`h-full flex flex-col bg-white transition-all duration-300 rounded-2xl ${N.highlight?"border-2 border-[#ff4d00] shadow-2xl shadow-[#ff4d00]/20 scale-105 z-10":"border border-gray-100 hover:border-[#ff4d00]/50 hover:shadow-xl"} p-6`,children:[N.badge&&t.jsx("div",{className:`absolute -top-3 left-1/2 -translate-x-1/2 ${N.badgeColor} text-white px-4 py-1 text-[9px] font-bold uppercase tracking-widest shadow-lg rounded-full whitespace-nowrap`,children:N.badge}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-1",children:N.name}),t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-4xl font-black text-gray-900",children:_w(O)}),t.jsx("span",{className:"text-gray-400 text-xs font-medium",children:"one-time"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-4 mb-4 text-center border border-gray-100",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:N.volume>=1e6?`${N.volume/1e6}M`:`${N.volume/1e3}k`}),t.jsx("div",{className:"text-[10px] uppercase text-gray-500 font-bold tracking-wide",children:"Visitors"}),t.jsxs("div",{className:"text-[10px] text-[#ff4d00] font-bold mt-1",children:["~",kw(U),"/1k"]})]}),t.jsx("p",{className:"text-xs text-gray-500 font-medium mb-4 min-h-[32px]",children:N.desc}),t.jsx("ul",{className:"space-y-2 mb-6 flex-1 text-[11px]",children:M==null?void 0:M.features.slice(0,3).map(($,X)=>t.jsxs("li",{className:"text-gray-600 flex items-center gap-2 font-medium",children:[t.jsx(ja,{size:12,className:"text-green-500 flex-shrink-0"})," ",$]},X))}),t.jsx(Ye,{to:"/signup",className:`w-full py-3 text-xs font-bold uppercase tracking-widest transition-all text-center rounded-xl ${N.highlight?"bg-[#ff4d00] text-white hover:bg-black shadow-lg":"bg-gray-900 text-white hover:bg-[#ff4d00]"}`,children:"Get Started"})]})},S)})}),t.jsxs("div",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 rounded-3xl p-8 md:p-12 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20"}),t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#ff4d00]/20 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-[#ff4d00]/10 rounded-full blur-3xl"}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-8",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("div",{className:"w-16 h-16 bg-[#ff4d00] rounded-2xl flex items-center justify-center shadow-lg shadow-[#ff4d00]/30",children:t.jsx(Rr,{size:28,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-black text-white mb-1",children:"Bulk Discounts Available"}),t.jsxs("p",{className:"text-gray-400 text-sm",children:["Save up to ",t.jsx("span",{className:"text-[#ff4d00] font-bold",children:"40%"})," with multi-packs"]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"6x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-20%"})]}),t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"24x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-40%"})]})]})]})]})]}):t.jsxs("div",{className:"space-y-12",children:[t.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[{name:"Agency Pro",traffic:"5M",price:"1,249",perVisitor:"0.00025",features:["Client Dashboard","Traffic Pooling","Priority Support","API Access"],featured:!1},{name:"Agency Scale",traffic:"15M",price:"2,999",perVisitor:"0.00020",featured:!0,features:["Everything in Pro","White-Label Reports","Dedicated Manager","Custom Integrations"]},{name:"Agency Enterprise",traffic:"50M+",price:"Custom",perVisitor:"Volume",features:["Full API Access","Strategy Calls","SLA Guarantee","Custom Features"]}].map((N,S)=>t.jsx("div",{className:`relative h-full ${N.featured?"md:-mt-4 md:mb-4":""}`,children:t.jsxs("div",{className:`h-full flex flex-col bg-white relative transition-all duration-300 rounded-2xl ${N.featured?"border-2 border-[#ff4d00] shadow-2xl shadow-[#ff4d00]/20 z-10 scale-105":"border border-gray-100 hover:shadow-xl"} p-8`,children:[N.featured&&t.jsxs("div",{className:"absolute -top-3 right-8 bg-[#ff4d00] text-white px-4 py-1 text-[9px] font-bold uppercase tracking-widest rounded-full shadow-lg flex items-center gap-1",children:[t.jsx(sn,{size:10})," Best Value"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-2",children:N.name}),t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-4xl font-black text-gray-900",children:N.price}),N.price!=="Custom"&&t.jsx("span",{className:"text-gray-400 text-xs font-medium",children:"/month"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-[#ff4d00]/5 to-[#ff4d00]/10 rounded-xl p-4 mb-6 text-center border border-[#ff4d00]/20",children:[t.jsx("div",{className:"text-3xl font-black text-gray-900",children:N.traffic}),t.jsx("div",{className:"text-[10px] uppercase text-gray-500 font-bold tracking-wide",children:"Monthly Pool"}),t.jsxs("div",{className:"text-[10px] text-[#ff4d00] font-bold mt-1",children:["~",N.perVisitor,"/visitor"]})]}),t.jsx("ul",{className:"space-y-3 mb-8 flex-1",children:N.features.map((T,O)=>t.jsxs("li",{className:"text-sm text-gray-600 flex items-center gap-3 font-medium",children:[t.jsx(nv,{size:14,className:"text-[#ff4d00] flex-shrink-0"})," ",T]},O))}),t.jsx(Ye,{to:"/signup",className:`w-full py-4 text-xs font-bold uppercase tracking-widest text-center rounded-xl transition-all ${N.featured?"bg-[#ff4d00] text-white hover:bg-black shadow-lg":"bg-gray-900 text-white hover:bg-[#ff4d00]"}`,children:N.price==="Custom"?"Contact Sales":"Start Subscription"})]})},S))}),t.jsxs("div",{className:"bg-gradient-to-r from-[#ff4d00] to-[#ff6b35] rounded-2xl p-6 md:p-8 text-white text-center max-w-3xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[t.jsx(ID,{size:20}),t.jsx("h4",{className:"font-black uppercase tracking-wide",children:"Need a Custom Volume?"})]}),t.jsx("p",{className:"text-white/80 text-sm mb-4",children:"Contact us for enterprise pricing with up to 60% bulk discounts"}),t.jsx(Ye,{to:"/signup",className:"inline-block bg-white text-[#ff4d00] px-8 py-3 text-xs font-bold uppercase tracking-widest rounded-xl hover:bg-gray-100 transition-colors",children:"Get a Quote"})]})]}),t.jsx("div",{className:"mt-16 grid md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[{icon:t.jsx(Vt,{size:20}),title:"Instant Delivery",desc:"Campaigns start within 5 minutes"},{icon:t.jsx(nv,{size:20}),title:"Money-Back Guarantee",desc:"Full refund if we fail to deliver"},{icon:t.jsx(Ns,{size:20}),title:"Global Coverage",desc:"190+ countries available"}].map((N,S)=>t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-xl border border-gray-100",children:[t.jsx("div",{className:"w-10 h-10 bg-[#ff4d00]/10 rounded-lg flex items-center justify-center text-[#ff4d00]",children:N.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:N.title}),t.jsx("div",{className:"text-xs text-gray-500",children:N.desc})]})]},S))})]})}),t.jsx("section",{className:"py-32 px-6 bg-[#f8f9fa] border-t border-gray-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"mb-20 text-center",children:[t.jsx("div",{className:"text-[#ff4d00] text-xs font-bold uppercase tracking-widest mb-2",children:"Real Results"}),t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight text-gray-900",children:"Proven Performance"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:v.map((N,S)=>t.jsxs("div",{className:"bg-white border border-gray-100 p-8 hover:border-[#ff4d00] transition-all group hover:shadow-xl rounded-xl",children:[t.jsxs("div",{className:"flex justify-between items-start mb-6",children:[t.jsx("div",{className:"opacity-80 group-hover:opacity-100 transition-opacity text-[#ff4d00] bg-orange-50 w-12 h-12 flex items-center justify-center rounded-lg",children:N.icon}),t.jsx("div",{className:"bg-green-100 text-green-700 px-2 py-1 text-[10px] font-bold uppercase tracking-wide rounded-sm",children:"Verified"})]}),t.jsx("div",{className:"text-3xl font-black text-gray-900 mb-2 group-hover:text-[#ff4d00] transition-colors",children:N.metric}),t.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide text-gray-400 mb-4",children:N.title}),t.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-medium",children:N.desc})]},S))})]})}),t.jsxs("section",{className:"py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/0 via-black/0 to-black/20"}),t.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[t.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white tracking-tighter mb-8 leading-[0.9]",children:["READY TO BREAK",t.jsx("br",{}),"THE INTERNET?"]}),t.jsx("p",{className:"text-white/90 text-xl font-medium mb-12 max-w-2xl mx-auto",children:"Join 5,000+ marketers driving millions of visitors today. No contracts. Instant delivery."}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-6",children:[t.jsx(Ye,{to:"/signup",className:"bg-black text-white px-10 py-5 text-sm font-bold uppercase tracking-widest hover:scale-105 transition-transform shadow-xl rounded-sm border-2 border-transparent hover:border-white",children:"Get Started Now"}),t.jsx(Ye,{to:"/signup",className:"bg-white text-[#ff4d00] px-10 py-5 text-sm font-bold uppercase tracking-widest hover:scale-105 transition-transform shadow-xl rounded-sm",children:"Talk to Sales"})]})]})]}),t.jsx("section",{id:"faq",className:"py-32 px-6 bg-[#f9fafb]",children:t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsx("h2",{className:"text-3xl font-black uppercase tracking-tight mb-16 text-center text-gray-900",children:"Questions?"}),t.jsx("div",{className:"space-y-4",children:E.map((N,S)=>t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[t.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left",onClick:()=>u(S),children:[t.jsx("span",{className:"font-bold text-gray-900",children:N.question}),s===S?t.jsx(il,{size:20,className:"text-[#ff4d00]"}):t.jsx(dr,{size:20,className:"text-gray-400"})]}),s===S&&t.jsx("div",{className:"px-6 pb-6 text-gray-600 leading-relaxed text-sm animate-in fade-in slide-in-from-top-2 border-t border-gray-100 pt-4",children:N.answer})]},S))})]})}),t.jsx("footer",{className:"bg-[#ff4d00] text-white py-16 px-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[t.jsx("div",{className:"text-2xl font-black text-white tracking-tight",children:"TRAFFIC CREATOR"}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-8 text-xs font-bold uppercase tracking-widest text-white/70 text-center md:text-left",children:[t.jsx(Ye,{to:"/blog",className:"hover:text-white uppercase",children:"Blog"}),t.jsx(Ye,{to:"/helpdesk",className:"hover:text-white uppercase",children:"Help Center"}),t.jsx(Ye,{to:"/legal/refund",className:"hover:text-white uppercase",children:"Refund Policy"}),t.jsx(Ye,{to:"/legal/privacy",className:"hover:text-white uppercase",children:"Privacy Policy"}),t.jsx(Ye,{to:"/legal/terms",className:"hover:text-white uppercase",children:"Terms of Service"})]}),t.jsx("div",{className:"text-xs text-white/60",children:" 2026 Traffic Creator Inc."})]})})]})},fz=({onLogin:a,onNavigate:e})=>{const[s,r]=w.useState(!1),i={"@context":"https://schema.org","@type":"Product",name:"Organic Website Traffic Generator",description:"Premium organic traffic service to boost SEO rankings and manipulate CTS with real residential IPs.",brand:{"@type":"Brand",name:"Traffic Creator"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.9",reviewCount:"1250"}},l=[{icon:t.jsx(Ha,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Boost Organic CTR",desc:"Our visitors search for your keywords and click your result, signaling high relevance to search algorithms."},{icon:t.jsx(ss,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Increase Dwell Time",desc:"Visitors stay on your site for minutes, scroll through content, and interact, drastically reducing bounce rates."},{icon:t.jsx(Ns,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Local SEO Dominance",desc:"Target traffic from specific cities or regions to rank higher in local search results and map packs."},{icon:t.jsx(_a,{className:"w-6 h-6 text-[#ff4d00]"}),title:"100% Human Behavior",desc:"Mouse movements, scrolling, and clicks are randomized to mimic real human interaction perfectly."}],c=[{feature:"Traffic Source",us:"Real Residential IPs",them:"Data Center Proxies"},{feature:"Behavior",us:"Scrolls, Clicks, Reads",them:"Static Hits"},{feature:"Google Analytics",us:"100% Recognized",them:"Often Filtered / Bot"},{feature:"Effect on SEO",us:"Positive Ranking Signal",them:"Neutral or Negative"},{feature:"AdSense Safe",us:"Yes, Verified",them:"High Risk of Ban"}];return t.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans overflow-x-hidden",children:[t.jsx(Li,{title:"Buy Organic Website Traffic 2026 - Real Residential IPs & CTR Booster",description:"Get 100% real organic traffic from residential IPs in 2026. Our advanced AI traffic bot simulates human behavior (scroll, click, read) to boost your SERP rankings and improve engagement metrics.",keywords:"organic website traffic 2026, buy organic traffic, seo traffic, ctr manipulation, boost rankings, real website visitors, ai traffic bot",schema:i,type:"product"}),t.jsx("nav",{className:"fixed w-full top-0 z-50 transition-all duration-300 bg-white/95 backdrop-blur-md border-b border-gray-100/50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[t.jsx("span",{className:"text-2xl font-black text-[#ff4d00] tracking-tight group-hover:scale-105 transition-transform",children:"TRAFFIC"}),t.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"flex items-center gap-8",children:[t.jsxs("div",{className:"hidden md:flex gap-8 text-sm font-bold uppercase tracking-wide text-gray-500",children:[t.jsxs("a",{href:"#how-it-works",className:"hover:text-[#ff4d00] transition-colors relative group",children:["How It Works",t.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]}),t.jsxs("a",{href:"#benefits",className:"hover:text-[#ff4d00] transition-colors relative group",children:["Features",t.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]}),t.jsxs(Ye,{to:"/#pricing",className:"hover:text-[#ff4d00] transition-colors relative group",children:["Pricing",t.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]})]}),t.jsx(Ye,{to:"/login",className:"bg-black text-white px-6 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-all shadow-md hover:shadow-lg hover:-translate-y-0.5 flex items-center rounded-sm",children:"Dashboard Login"})]})]})}),t.jsxs("section",{className:"pt-32 pb-32 px-6 relative overflow-hidden bg-white",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[50%] h-[50%] bg-gradient-to-b from-orange-50/50 to-transparent pointer-events-none rounded-bl-[100px]"}),t.jsx("div",{className:"absolute top-40 left-10 w-4 h-4 rounded-full bg-orange-200 animate-pulse"}),t.jsx("div",{className:"absolute top-60 right-20 w-3 h-3 rounded-full bg-blue-200 animate-bounce delay-700"}),t.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-16 items-center relative z-10",children:[t.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-700",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-50 text-[#ff4d00] border border-orange-100 px-4 py-2 text-xs font-bold uppercase tracking-widest mb-8 rounded-full shadow-sm hover:shadow-md transition-shadow cursor-default",children:[t.jsx(Vt,{size:14,className:"fill-[#ff4d00]"})," SEO Intelligence Engine"]}),t.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tight leading-[0.9] mb-8 text-gray-900",children:["DOMINATE ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"ORGANIC"}),t.jsx("br",{}),"SEARCH RESULTS."]}),t.jsx("p",{className:"text-xl text-gray-500 mb-10 max-w-lg leading-relaxed font-medium",children:"The only organic website traffic generator designed for SEO professionals. Manipulate CTR, increase dwell time, and signal authority to Google."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs(Ye,{to:"/signup",className:"group bg-[#ff4d00] text-white px-8 py-4 text-sm font-bold uppercase tracking-wider hover:bg-black transition-all shadow-xl hover:shadow-2xl flex items-center justify-center gap-3 rounded-sm transform hover:-translate-y-1",children:["Launch SEO Campaign",t.jsx(Rs,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),t.jsxs("a",{href:"#demo",className:"bg-white border border-gray-200 text-gray-900 px-8 py-4 text-sm font-bold uppercase tracking-wider hover:border-[#ff4d00] hover:text-[#ff4d00] transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2 rounded-sm group",children:[t.jsx(dc,{size:16,className:"group-hover:fill-[#ff4d00]"})," View Live Demo"]})]}),t.jsxs("div",{className:"mt-8 flex items-center gap-4 text-xs font-bold text-gray-400 uppercase tracking-widest",children:[t.jsx("span",{children:"Used by 15,000+ SEO Agencies"}),t.jsxs("div",{className:"flex -space-x-2",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white"}),t.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-300 border-2 border-white"}),t.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-400 border-2 border-white"})]})]})]}),t.jsxs("div",{className:"relative h-[550px] perspective-1000 group",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-gray-100 to-gray-50 transform rotate-6 scale-95 opacity-50 rounded-2xl border border-gray-100 transition-transform duration-700 group-hover:rotate-3 group-hover:scale-95"}),t.jsxs("div",{className:"absolute inset-0 bg-white border border-gray-200 shadow-2xl rounded-2xl p-6 overflow-hidden transform transition-transform duration-700 group-hover:-translate-y-2 hover:shadow-[0_20px_50px_rgba(0,0,0,0.1)]",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent z-10 pointer-events-none"}),t.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-6 flex gap-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400/80"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400/80"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400/80"}),t.jsxs("div",{className:"ml-6 bg-gray-100 rounded-lg h-5 w-64 flex items-center px-2",children:[t.jsx(ir,{size:10,className:"text-gray-400 mr-2"}),t.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-sm"})]})]}),t.jsx("div",{className:"space-y-6",children:[1,2,3].map(f=>t.jsxs("div",{className:`p-5 rounded-lg border transition-all duration-500 hover:shadow-lg cursor-default relative overflow-hidden ${f===1?"border-[#ff4d00]/20 bg-orange-50/30":"border-gray-50 bg-white"}`,children:[f===1&&t.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-[#ff4d00]"}),t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-[10px] font-bold text-gray-500",children:f===1?"TC":"Ad"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-sm mb-1"}),t.jsx("div",{className:"w-48 h-2 bg-gray-100 rounded-sm"})]})]}),t.jsx("div",{className:`w-3/4 h-5 rounded-sm mb-3 ${f===1?"bg-gradient-to-r from-[#ff4d00] to-orange-400":"bg-blue-100"}`}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-sm"}),t.jsx("div",{className:"w-5/6 h-2 bg-gray-100 rounded-sm"})]}),f===1&&t.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[#ff4d00] text-xs font-bold uppercase tracking-wider animate-pulse",children:[t.jsx(Ba,{size:12})," Rank #1  CTR Boost Active"]})]},f))}),t.jsxs("div",{className:"absolute bottom-6 right-6 bg-gray-900/95 backdrop-blur-md text-white p-5 rounded-xl shadow-2xl z-20 border border-gray-800 animate-in fade-in slide-in-from-bottom-4 delay-300",children:[t.jsxs("div",{className:"text-[10px] font-bold uppercase tracking-widest text-[#ff4d00] mb-2 flex items-center gap-2",children:[t.jsx(Er,{size:12})," Performance"]}),t.jsx("div",{className:"text-4xl font-black mb-1",children:"18.4%"}),t.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"Organic CTR (7 Days)"}),t.jsx("div",{className:"w-full bg-gray-800 h-1 mt-3 rounded-full overflow-hidden",children:t.jsx("div",{className:"w-[70%] h-full bg-[#ff4d00]"})})]})]})]})]})]}),t.jsx("section",{id:"demo",className:"py-24 px-6 bg-white",children:t.jsx(Sw,{})}),t.jsx("section",{id:"benefits",className:"py-32 px-6 bg-white relative",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-24",children:[t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-6",children:"Why Rank #1?"}),t.jsx("div",{className:"w-16 h-1.5 bg-[#ff4d00] mx-auto mb-8 rounded-full"}),t.jsxs("p",{className:"text-gray-500 max-w-2xl mx-auto text-lg leading-relaxed",children:["Search algorithms are evolving. Backlinks aren't enough. You need ",t.jsx("span",{className:"text-gray-900 font-bold",children:"User Signals"}),". Traffic Creator generates the perfect dwell time, scroll depth, and interaction metrics."]})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12",children:l.map((f,u)=>t.jsxs("div",{className:"flex gap-8 p-10 border border-gray-100 hover:border-[#ff4d00]/30 bg-white hover:bg-orange-50/20 shadow-sm hover:shadow-xl transition-all duration-300 group rounded-2xl relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-1 h-0 bg-[#ff4d00] group-hover:h-full transition-all duration-300"}),t.jsx("div",{className:"shrink-0",children:t.jsx("div",{className:"bg-orange-50 w-16 h-16 flex items-center justify-center rounded-2xl group-hover:bg-[#ff4d00] group-hover:rotate-6 transition-all duration-300 text-[#ff4d00] group-hover:text-white shadow-sm",children:f.icon})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 group-hover:text-[#ff4d00] transition-colors",children:f.title}),t.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:f.desc})]})]},u))})]})}),t.jsx("section",{className:"py-32 px-6 bg-[#f9fafb] border-t border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-20 items-center",children:[t.jsxs("div",{className:"space-y-12",children:[t.jsxs("div",{className:"pl-8 border-l-2 border-gray-200 hover:border-[#ff4d00] transition-colors duration-300",children:[t.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4 flex items-center gap-3",children:[t.jsx(ti,{className:"text-[#ff4d00]",size:24})," Keyword Targeting"]}),t.jsx("p",{className:"text-gray-500 text-lg leading-relaxed font-medium",children:"Don't just send traffic to a URL. Our system mimics a user searching for your specific keywords on Google, finding your result, and clicking it. This is the ultimate signal for relevance."})]}),t.jsxs("div",{className:"pl-8 border-l-2 border-gray-200 hover:border-[#ff4d00] transition-colors duration-300",children:[t.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4 flex items-center gap-3",children:[t.jsx(bO,{className:"text-[#ff4d00]",size:24})," Complex Journeys"]}),t.jsx("p",{className:"text-gray-500 text-lg leading-relaxed font-medium",children:"Define multi-page paths. Visitors land on your blog post, read for 60 seconds, click to your pricing page, and then visit your contact form."})]})]}),t.jsxs("div",{className:"bg-[#111] text-gray-300 p-2 rounded-xl shadow-2xl relative overflow-hidden group",children:[t.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-gray-800 bg-[#151515] rounded-t-lg",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),t.jsxs("div",{className:"text-xs font-mono text-gray-500 ml-4 flex items-center gap-2",children:[t.jsx(RT,{size:12})," campaign_config.json"]})]}),t.jsxs("div",{className:"p-8 font-mono text-xs md:text-sm leading-relaxed overflow-x-auto",children:[t.jsx("div",{className:"opacity-50 mb-4 text-[10px] uppercase tracking-widest",children:"// Traffic Configuration"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-purple-400",children:"const"})," ",t.jsx("span",{className:"text-blue-400",children:"campaign"})," = ","{"]}),t.jsxs("div",{className:"pl-4",children:[t.jsx("span",{className:"text-gray-400",children:"target:"})," ",t.jsx("span",{className:"text-green-400",children:'"Top 3 Positions"'}),","]}),t.jsxs("div",{className:"pl-4",children:[t.jsx("span",{className:"text-gray-400",children:"keywords:"})," ["]}),t.jsx("div",{className:"pl-8 text-orange-300",children:'"ranking boost services",'}),t.jsx("div",{className:"pl-8 text-orange-300",children:'"buy organic traffic",'}),t.jsx("div",{className:"pl-8 text-orange-300",children:'"seo ctr manipulation"'}),t.jsx("div",{className:"pl-4",children:"],"}),t.jsxs("div",{className:"pl-4",children:[t.jsx("span",{className:"text-gray-400",children:"behavior:"})," ","{"]}),t.jsxs("div",{className:"pl-8",children:[t.jsx("span",{className:"text-blue-300",children:"timeOnPage:"})," ",t.jsx("span",{className:"text-yellow-300",children:'"185s"'}),","]}),t.jsxs("div",{className:"pl-8",children:[t.jsx("span",{className:"text-blue-300",children:"scrollDepth:"})," ",t.jsx("span",{className:"text-yellow-300",children:'"85%"'}),","]}),t.jsxs("div",{className:"pl-8",children:[t.jsx("span",{className:"text-blue-300",children:"bounceRate:"})," ",t.jsx("span",{className:"text-yellow-300",children:'"12%"'})]}),t.jsx("div",{className:"pl-4",children:"}"}),t.jsxs("div",{children:["}",";"]}),t.jsxs("div",{className:"mt-6 flex items-center gap-2 text-green-500 text-[10px] font-bold uppercase tracking-widest",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})," compiler ready"]})]})]})]})})}),t.jsx("section",{className:"py-32 px-6 bg-white",children:t.jsxs("div",{className:"max-w-5xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl font-black uppercase tracking-tight mb-4",children:"Quality Matters"}),t.jsx("p",{className:"text-gray-500",children:"Don't risk your domain authority with cheap bot traffic."})]}),t.jsxs("div",{className:"bg-white shadow-[0_10px_60px_rgba(0,0,0,0.05)] rounded-2xl overflow-hidden border border-gray-100",children:[t.jsxs("div",{className:"grid grid-cols-3 bg-gray-900 text-white p-6 text-xs font-bold uppercase tracking-widest",children:[t.jsx("div",{className:"pl-4",children:"Feature"}),t.jsxs("div",{className:"text-[#ff4d00] flex items-center gap-2",children:[t.jsx(Vt,{size:14,className:"fill-[#ff4d00]"})," Traffic Creator"]}),t.jsx("div",{className:"text-gray-500",children:"Cheap Bots"})]}),t.jsx("div",{className:"divide-y divide-gray-50",children:c.map((f,u)=>t.jsxs("div",{className:"grid grid-cols-3 p-6 items-center text-sm font-medium hover:bg-gray-50 transition-colors group",children:[t.jsxs("div",{className:"font-bold text-gray-900 flex items-center gap-3 pl-4",children:[t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 group-hover:bg-[#ff4d00] transition-colors"}),f.feature]}),t.jsxs("div",{className:"flex items-center gap-3 text-[#ff4d00] font-bold bg-orange-50/50 -my-6 py-6 border-x border-orange-100/50",children:[t.jsx(xt,{size:18,className:"ml-4"})," ",f.us]}),t.jsxs("div",{className:"text-gray-400 flex items-center gap-3 pl-4",children:[t.jsx(Zs,{size:16})," ",f.them]})]},u))})]})]})}),t.jsxs("section",{className:"py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),t.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[t.jsx("h2",{className:"text-5xl md:text-7xl font-black uppercase tracking-tight mb-8 text-white",children:"Start Ranking Now"}),t.jsx("p",{className:"text-xl text-white/90 mb-12 font-medium max-w-2xl mx-auto",children:"Your competitors are already doing it. Level the playing field with the world's most advanced organic traffic generator."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[t.jsxs(Ye,{to:"/signup",className:"bg-white text-black px-12 py-5 text-sm font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-all shadow-2xl flex items-center justify-center gap-3 rounded-sm transform hover:-translate-y-1",children:["Start Free Trial ",t.jsx(Rs,{size:18})]}),t.jsx(Ye,{to:"/#pricing",className:"bg-transparent border-2 border-white text-white px-12 py-5 text-sm font-bold uppercase tracking-wider hover:bg-white hover:text-[#ff4d00] transition-all rounded-sm flex items-center justify-center",children:"View Pricing"})]}),t.jsx("div",{className:"mt-12 text-white/60 text-xs font-bold uppercase tracking-widest",children:"No Credit Card Required for Trial  100% Secure  Cancel Anytime"})]})]}),t.jsxs("footer",{className:"bg-black text-white py-20 px-6 border-t border-gray-900",children:[t.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-4 gap-12",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("div",{className:"text-3xl font-black text-white tracking-tight mb-6",children:"TRAFFIC CREATOR"}),t.jsx("p",{className:"text-gray-500 max-w-sm mb-8",children:"The industry standard for SEO traffic generation. We help agencies and site owners improve their search visibility signals safely."}),t.jsx("div",{className:"flex gap-4",children:[1,2,3,4].map(f=>t.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-900 flex items-center justify-center text-gray-500 hover:bg-[#ff4d00] hover:text-white transition-colors cursor-pointer",children:t.jsx(Ns,{size:16})},f))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Platform"}),t.jsxs("ul",{className:"space-y-4 text-sm font-medium text-gray-300",children:[t.jsx("li",{children:t.jsx(Ye,{to:"/how-it-works",className:"hover:text-[#ff4d00] transition-colors",children:"How it Works"})}),t.jsx("li",{children:t.jsx(Ye,{to:"/#pricing",className:"hover:text-[#ff4d00] transition-colors",children:"Pricing"})}),t.jsx("li",{children:t.jsx(Ye,{to:"/login",className:"hover:text-[#ff4d00] transition-colors",children:"Dashboard"})}),t.jsx("li",{children:t.jsx(Ye,{to:"/affiliate",className:"hover:text-[#ff4d00] transition-colors",children:"Affiliate Program"})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Company"}),t.jsxs("ul",{className:"space-y-4 text-sm font-medium text-gray-300",children:[t.jsx("li",{children:t.jsx(Ye,{to:"/blog",className:"hover:text-[#ff4d00] transition-colors",children:"SEO Blog"})}),t.jsx("li",{children:t.jsx(Ye,{to:"/helpdesk",className:"hover:text-[#ff4d00] transition-colors",children:"Help Center"})}),t.jsx("li",{children:t.jsx(Ye,{to:"/legal/privacy",className:"hover:text-[#ff4d00] transition-colors",children:"Privacy Policy"})}),t.jsx("li",{children:t.jsx(Ye,{to:"/legal/terms",className:"hover:text-[#ff4d00] transition-colors",children:"Terms of Service"})})]})]})]}),t.jsxs("div",{className:"max-w-7xl mx-auto mt-20 pt-8 border-t border-gray-900 flex justify-between items-center text-xs text-gray-600",children:[t.jsx("div",{children:" 2025 Traffic Creator Inc. All rights reserved."}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),t.jsx("span",{children:"Systems Operational"})]})]})]})]})},mz=({onLogin:a,onNavigate:e})=>{const[s,r]=w.useState(!1);return w.useEffect(()=>{const i=()=>r(window.scrollY>50);return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),t.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] text-gray-900 font-sans selection:bg-[#ff4d00] selection:text-white",children:[t.jsx(Li,{title:"Next-Gen Traffic Generation 2026 - AI-Driven SEO Visits",description:"Experience the future of traffic generation. AI-powered user behavior simulation for the most natural-looking analytics patterns in 2026.",keywords:"ai traffic generator 2026, modern seo traffic, behavioral traffic bot, next-gen seo tools"}),t.jsx("nav",{className:`fixed w-full z-50 transition-all duration-300 ${s?"top-4":"top-0"}`,children:t.jsx("div",{className:`max-w-7xl mx-auto px-6 ${s?"py-4":"py-6"}`,children:t.jsxs("div",{className:`
            flex items-center justify-between px-6 py-3 rounded-2xl transition-all duration-300
            ${s?"bg-white/80 backdrop-blur-xl shadow-lg border border-gray-100":"bg-transparent"}
          `,children:[t.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[t.jsx("div",{className:"w-8 h-8 bg-black rounded-lg flex items-center justify-center text-white font-black text-xs",children:"TC"}),t.jsx("span",{className:"font-bold text-lg tracking-tight",children:"TrafficCreator"})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm font-medium text-gray-600",children:[t.jsx("a",{href:"#features",className:"hover:text-black transition-colors",children:"Features"}),t.jsx("a",{href:"#how-it-works",className:"hover:text-black transition-colors",children:"How it Works"}),t.jsx("a",{href:"#pricing",className:"hover:text-black transition-colors",children:"Pricing"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Ye,{to:"/login",className:"text-sm font-bold hover:text-[#ff4d00] transition-colors hidden sm:block",children:"Log in"}),t.jsx(Ye,{to:"/signup",className:"bg-black text-white px-5 py-2.5 rounded-xl text-sm font-bold hover:bg-[#ff4d00] hover:scale-105 transition-all shadow-xl shadow-orange-500/10",children:"Get Started"})]})]})})}),t.jsx("section",{className:"pt-40 pb-20 px-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-24",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-50 border border-orange-100 text-[#ff4d00] text-xs font-bold uppercase tracking-wider animate-in fade-in slide-in-from-bottom-4",children:[t.jsx(sn,{size:12,className:"fill-[#ff4d00]"}),"Trusted by 15,000+ Marketers"]}),t.jsxs("h1",{className:"text-6xl md:text-7xl font-black tracking-tight leading-[1] text-gray-900 animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100",children:["Traffic that ",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"actually converts."})]}),t.jsx("p",{className:"text-xl text-gray-500 max-w-lg leading-relaxed animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:"Stop relying on unpredictable algorithms. Take control of your website traffic with our residential network of real visitors."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 animate-in fade-in slide-in-from-bottom-10 duration-700 delay-300",children:[t.jsxs(Ye,{to:"/signup",className:"bg-[#ff4d00] text-white px-8 py-4 rounded-2xl text-base font-bold hover:bg-black transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 flex items-center justify-center gap-2",children:["Start Free Trial ",t.jsx(Rs,{size:18})]}),t.jsxs("a",{href:"#how-it-works",className:"bg-white border border-gray-200 text-gray-900 px-8 py-4 rounded-2xl text-base font-bold hover:bg-gray-50 transition-all flex items-center justify-center gap-2",children:[t.jsx(dc,{size:18,className:"fill-gray-900"})," Watch Demo"]})]})]}),t.jsxs("div",{className:"relative h-[600px] w-full animate-in fade-in zoom-in duration-1000 delay-200",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-gradient-to-bl from-orange-200/40 to-pink-200/40 rounded-full blur-3xl opacity-50"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-gradient-to-tr from-blue-200/40 to-green-200/40 rounded-full blur-3xl opacity-50"}),t.jsxs("div",{className:"absolute top-10 right-10 left-10 bottom-10",children:[t.jsxs("div",{className:"absolute top-0 right-0 w-72 bg-white rounded-3xl shadow-[0_30px_60px_-15px_rgba(0,0,0,0.1)] p-6 border border-gray-100 z-30 transform hover:scale-105 transition-transform duration-500",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("div",{className:"w-10 h-10 rounded-2xl bg-orange-50 flex items-center justify-center text-[#ff4d00]",children:t.jsx(Ba,{size:20})}),t.jsx("span",{className:"text-green-500 text-xs font-bold bg-green-50 px-2 py-1 rounded-full",children:"+124%"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-3xl font-black text-gray-900",children:"42.8k"}),t.jsx("div",{className:"text-sm text-gray-400 font-medium",children:"Monthly Visitors"})]}),t.jsx("div",{className:"mt-6 h-16 flex items-end gap-1",children:[40,60,45,70,85,65,90].map((i,l)=>t.jsx("div",{style:{height:`${i}%`},className:`flex-1 rounded-t-sm ${l===6?"bg-[#ff4d00]":"bg-gray-100"}`},l))})]}),t.jsxs("div",{className:"absolute bottom-10 left-0 w-80 bg-black text-white rounded-3xl shadow-2xl p-6 z-20 transform hover:-translate-y-2 transition-transform duration-500",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Live Traffic"}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-gray-300",children:"Active"})]})]}),t.jsx("div",{className:"space-y-4",children:["United States","Germany","United Kingdom"].map((i,l)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ns,{size:14,className:"text-gray-500"}),t.jsx("span",{className:"text-sm font-bold",children:i})]}),t.jsx("div",{className:"w-24 bg-gray-800 h-1.5 rounded-full overflow-hidden",children:t.jsx("div",{className:"bg-[#ff4d00] h-full",style:{width:`${80-l*20}%`}})})]},l))})]}),t.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 bg-white/60 backdrop-blur-xl border border-white/50 p-4 rounded-2xl shadow-xl z-10 flex items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-purple-500"}),t.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white p-1 rounded-full",children:t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full border-2 border-white"})})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Real Human"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Session: 2m 45s"})]})]})]})]})]})})}),t.jsx("section",{id:"features",className:"py-24 px-6 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16 px-4",children:[t.jsx("span",{className:"text-[#ff4d00] font-bold tracking-wider uppercase text-xs mb-4 block",children:"Platform Capability"}),t.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-6",children:"Everything you need to grow."}),t.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto",children:"We've built the most advanced organic traffic generation engine on the market."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[300px]",children:[t.jsxs("div",{className:"md:col-span-2 bg-[#F5F5F7] rounded-3xl p-8 relative overflow-hidden group hover:shadow-xl transition-all duration-300",children:[t.jsxs("div",{className:"relative z-10 max-w-md",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-[#ff4d00]",children:t.jsx(ti,{size:24})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Precision Targeting"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Target by keyword, country, device, and even specific browser behavior. Our AI ensures every visitor matches your ideal profile."})]}),t.jsx("div",{className:"absolute right-0 bottom-0 w-1/2 h-full opacity-50 group-hover:scale-105 transition-transform duration-500",children:t.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[t.jsx("circle",{cx:"150",cy:"150",r:"100",fill:"#ff4d00",fillOpacity:"0.1"}),t.jsx("circle",{cx:"100",cy:"180",r:"80",fill:"#ff4d00",fillOpacity:"0.1"})]})})]}),t.jsxs("div",{className:"md:row-span-2 bg-black text-white rounded-3xl p-8 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-gradient-to-b from-gray-800/50 to-black pointer-events-none"}),t.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-2xl flex items-center justify-center mb-6 text-white border border-gray-700",children:t.jsx(_a,{size:24})}),t.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Residential IPs"}),t.jsx("p",{className:"text-gray-400 font-medium leading-relaxed",children:"We route all traffic through real residential networks. No data center IPs, no bot flags. Just pure, organic-looking traffic."})]}),t.jsxs("div",{className:"bg-gray-900/50 rounded-2xl p-4 border border-gray-800 mt-8 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"System Status"})]}),t.jsx("div",{className:"text-lg font-mono text-green-400",children:"100% Undetectable"})]})]})]}),t.jsxs("div",{className:"bg-[#FFF1EB] rounded-3xl p-8 group hover:shadow-xl transition-all duration-300",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-[#ff4d00]",children:t.jsx(Vt,{size:24})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Instant Delivery"}),t.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Start receiving visitors within 60 seconds of launching your campaign."})]}),t.jsxs("div",{className:"bg-[#F0F9FF] rounded-3xl p-8 group hover:shadow-xl transition-all duration-300",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-blue-500",children:t.jsx(Wl,{size:24})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"GA4 Native"}),t.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Designed specifically to register correctly in Google Analytics 4 reports."})]})]})]})}),t.jsx("section",{className:"py-32 px-6 bg-white",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsx(Sw,{})})}),t.jsx("section",{className:"py-24 px-6 bg-[#FAFAFA]",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-50 border border-orange-100 text-[#ff4d00] text-xs font-bold uppercase tracking-wider mb-6 animate-in fade-in slide-in-from-bottom-4",children:[t.jsx(Vo,{size:14,className:"fill-[#ff4d00]"}),"100% Free Forever"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-6 tracking-tight",children:["Get Up to 20,000 ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"Free Hits Daily"})]}),t.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto",children:"Just log in and claim. No credit card. No purchase. Just free traffic."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8",children:[t.jsxs("div",{className:"lg:col-span-8 bg-white rounded-3xl p-8 border border-gray-100 shadow-xl shadow-orange-500/5 overflow-hidden relative",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(sc,{className:"text-[#ff4d00]",size:24}),"30-Day Streak"]}),t.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"free hits per month  that's real traffic to your website"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-4xl font-black text-gray-900",children:"342,000"}),t.jsx("div",{className:"text-sm font-medium text-[#ff4d00]",children:"monthly potential"})]})]}),t.jsx("div",{className:"space-y-3",children:[{days:"Day 1-2",amount:"1,000",icon:Wo},{days:"Day 3-4",amount:"2,000",icon:Rr},{days:"Day 5-6",amount:"3,000",icon:Ba},{days:"Day 7-13",amount:"10,000",icon:Vt,highlight:!0},{days:"Day 14-29",amount:"15,000",icon:Vo,highlight:!0},{days:"Day 30+",amount:"20,000",icon:sc,highlight:!0,last:!0}].map((i,l)=>t.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all hover:scale-[1.01] ${i.highlight?"bg-orange-50/50 border-orange-100":"bg-gray-50/50 border-gray-100"}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${i.highlight?"bg-white text-[#ff4d00] shadow-sm":"bg-white text-gray-400"}`,children:t.jsx(i.icon,{size:20})}),t.jsx("span",{className:`font-bold ${i.highlight?"text-gray-900":"text-gray-500"}`,children:i.days})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-xl font-black ${i.last?"text-[#ff4d00]":"text-gray-900"}`,children:i.amount}),t.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"hits/day"})]})]},l))})]}),t.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[t.jsxs("div",{className:"bg-black text-white rounded-3xl p-8 relative overflow-hidden flex flex-col justify-between group h-min min-h-[300px]",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00]/30 rounded-full blur-3xl group-hover:bg-[#ff4d00]/50 transition-colors duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-2xl flex items-center justify-center mb-6 border border-gray-700 text-[#ff4d00]",children:t.jsx(ri,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-gray-300",children:"Yearly Potential"}),t.jsx("div",{className:"text-4xl lg:text-5xl font-black mt-3 tracking-tight",children:"7,042,000"})]}),t.jsx("p",{className:"text-gray-400 text-sm font-medium relative z-10 mt-6",children:"free hits per year with consistent daily claims"})]}),t.jsxs("div",{className:"bg-[#FFF1EB] rounded-3xl p-8 flex flex-col justify-center h-min min-h-[220px]",children:[t.jsx("div",{className:"mb-4",children:t.jsx("span",{className:"text-[#ff4d00] font-bold text-sm uppercase tracking-wider",children:"What's it worth?"})}),t.jsx("div",{className:"text-5xl font-black text-gray-900 mb-2",children:"700+"}),t.jsx("p",{className:"text-gray-600 font-medium",children:"in value based on our standard CPM pricing"})]})]})]}),t.jsx("div",{className:"max-w-3xl mx-auto mt-12 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-300",children:t.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 flex items-center justify-center gap-3 shadow-lg hover:-translate-y-1 transition-transform cursor-default",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsxs("p",{className:"font-bold text-gray-900",children:[t.jsx("span",{className:"text-[#ff4d00]",children:"12,847 users"})," claimed their free bonus today"]})]})})]})}),t.jsx("section",{className:"py-32 px-6 bg-gray-50 border-t border-gray-200",children:t.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[t.jsx("h2",{className:"text-5xl font-black text-gray-900 mb-8 tracking-tight",children:"Ready to break the internet?"}),t.jsx("p",{className:"text-xl text-gray-500 mb-12 max-w-xl mx-auto",children:"Join the thousands of marketers using Traffic Creator to gain an unfair advantage."}),t.jsxs("div",{className:"flex flex-col items-center gap-6",children:[t.jsx(Ye,{to:"/signup",className:"bg-black text-white px-12 py-5 rounded-full text-lg font-bold hover:bg-[#ff4d00] transition-colors shadow-2xl hover:scale-105 transform duration-300",children:"Get Started for Free"}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 font-medium",children:[t.jsx(ja,{size:16,className:"text-green-500"})," No credit card required",t.jsx("span",{className:"mx-2",children:""}),t.jsx(ja,{size:16,className:"text-green-500"})," Cancel anytime"]})]})]})}),t.jsx("footer",{className:"py-12 px-6 bg-white border-t border-gray-100",children:t.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6 text-sm text-gray-500 font-medium",children:[t.jsx("div",{children:" 2025 Traffic Creator Inc."}),t.jsxs("div",{className:"flex gap-8",children:[t.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Privacy"}),t.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Terms"}),t.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Twitter"})]})]})})]})},pz=({isOpen:a,onClose:e,initialMode:s="login",onSuccess:r,message:i})=>{const[l,c]=w.useState(s),[f,u]=w.useState(""),[m,g]=w.useState(""),[b,v]=w.useState(""),[E,N]=w.useState(!1),[S,T]=w.useState(""),O=async U=>{U.preventDefault(),T(""),N(!0);try{if(l==="signup"){if(Uo(f))throw new Error("Temporary email addresses are not allowed. Please use a permanent email address.");if(m.length<6)throw new Error("Password must be at least 6 characters");await H.register(b,f,m),e(),window.location.href=`/verify-email?email=${encodeURIComponent(f)}`}else{const M=await H.login(f,m);if(M.status==="suspended")throw new Error("Account suspended. Contact support.");await H.syncAll(),r(M.role),e()}}catch(M){T(M.message||"An error occurred")}finally{N(!1)}};return a?t.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[t.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),t.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[t.jsx("button",{onClick:e,className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors z-10",children:t.jsx(Zs,{size:18,className:"text-gray-500"})}),t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx("span",{className:"text-2xl font-black text-[#ff4d00]",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded uppercase",children:"Creator"})]}),i&&t.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(xt,{className:"text-green-500 shrink-0",size:20}),t.jsx("span",{className:"text-green-700 text-sm font-bold",children:i})]}),t.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1 mb-6",children:[t.jsx("button",{onClick:()=>{c("login"),T("")},className:`flex-1 py-3 rounded-lg text-sm font-bold uppercase tracking-wide transition-all ${l==="login"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"Login"}),t.jsx("button",{onClick:()=>{c("signup"),T("")},className:`flex-1 py-3 rounded-lg text-sm font-bold uppercase tracking-wide transition-all ${l==="signup"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"Sign Up"})]}),S&&t.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(as,{className:"text-red-500 shrink-0",size:18}),t.jsx("span",{className:"text-red-700 text-sm font-bold",children:S})]}),t.jsxs("form",{onSubmit:O,className:"space-y-5",children:[l==="signup"&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(va,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"text",required:!0,value:b,onChange:U=>v(U.target.value),className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all",placeholder:"John Doe"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(Nn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"email",required:!0,value:f,onChange:U=>u(U.target.value),className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all",placeholder:"you@example.com"})]}),l==="signup"&&f&&Uo(f)&&t.jsxs("p",{className:"text-red-500 text-xs mt-2 font-bold flex items-center gap-1",children:[t.jsx(as,{size:12})," Temporary emails not allowed. Please use your real email."]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"password",required:!0,value:m,onChange:U=>g(U.target.value),className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all",placeholder:""})]}),l==="signup"&&m.length>0&&m.length<6&&t.jsx("p",{className:"text-red-500 text-xs mt-2 font-bold",children:"Minimum 6 characters required"})]}),t.jsx("button",{type:"submit",disabled:E||l==="signup"&&Uo(f),className:"w-full bg-[#ff4d00] text-white p-4 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:E?t.jsxs(t.Fragment,{children:[t.jsx(Is,{className:"animate-spin",size:18})," Processing..."]}):t.jsxs(t.Fragment,{children:[l==="login"?"Sign In":"Create Account"," ",t.jsx(Rs,{size:18})]})})]})]})]})]}):null},gz=({onComplete:a})=>{const[e,s]=w.useState(""),[r,i]=w.useState("US"),[l,c]=w.useState("idle"),f=[{code:"US",name:"United States"},{code:"DE",name:"Germany"},{code:"GB",name:"United Kingdom"},{code:"FR",name:"France"},{code:"CA",name:"Canada"},{code:"AU",name:"Australia"},{code:"NL",name:"Netherlands"},{code:"ES",name:"Spain"},{code:"IT",name:"Italy"},{code:"BR",name:"Brazil"}],u=async g=>{g.preventDefault(),!(!e||!e.startsWith("http://")&&!e.startsWith("https://"))&&(c("analyzing"),await new Promise(b=>setTimeout(b,1200)),c("connecting"),await new Promise(b=>setTimeout(b,1500)),c("ready"),await new Promise(b=>setTimeout(b,800)),a("",e))},m={analyzing:{text:"Analyzing URL...",icon:t.jsx(Is,{className:"animate-spin",size:20})},connecting:{text:"Connecting to servers...",icon:t.jsx(Is,{className:"animate-spin",size:20})},ready:{text:"Traffic ready!",icon:t.jsx(xt,{size:20})}};return t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100 max-w-xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-10 h-10 bg-[#ff4d00]/10 rounded-xl flex items-center justify-center",children:t.jsx(Vt,{size:20,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-900",children:"Quick Traffic Test"}),t.jsx("p",{className:"text-xs text-gray-500",children:"No signup required to start"})]})]}),t.jsxs("form",{onSubmit:u,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Your Website URL"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ns,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"url",required:!0,value:e,onChange:g=>s(g.target.value),placeholder:"https://yourwebsite.com",disabled:l!=="idle",className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all disabled:opacity-50 disabled:cursor-not-allowed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Target Country"}),t.jsx("select",{value:r,onChange:g=>i(g.target.value),disabled:l!=="idle",className:"w-full bg-gray-50 border border-gray-200 p-4 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all disabled:opacity-50 disabled:cursor-not-allowed appearance-none cursor-pointer",children:f.map(g=>t.jsx("option",{value:g.code,children:g.name},g.code))})]}),l!=="idle"&&t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-xl",children:[t.jsx("div",{className:`text-[#ff4d00] ${l==="ready"?"text-green-500":""}`,children:m[l].icon}),t.jsx("span",{className:`text-sm font-bold ${l==="ready"?"text-green-600":"text-gray-600"}`,children:m[l].text})]}),t.jsx("button",{type:"submit",disabled:l!=="idle"||!e,className:"w-full bg-[#ff4d00] text-white p-4 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l==="idle"?t.jsxs(t.Fragment,{children:["Start Free Traffic ",t.jsx(Rs,{size:18})]}):"Processing..."})]}),t.jsx("p",{className:"text-xs text-gray-400 text-center mt-4",children:"Free 2,000 visitors  No credit card required"})]})},xz=({initialCount:a=12403,className:e=""})=>{const[s,r]=w.useState(a),[i,l]=w.useState(a);return w.useEffect(()=>{const c=setInterval(()=>{const f=Math.floor(Math.random()*25)-10;r(u=>Math.max(1e4,u+f))},3e3+Math.random()*2e3);return()=>clearInterval(c)},[]),w.useEffect(()=>{const m=(s-i)/20;let g=0;const b=setInterval(()=>{g++,g>=20?(l(s),clearInterval(b)):l(v=>Math.round(v+m))},500/20);return()=>clearInterval(b)},[s]),t.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t.jsxs("span",{className:"text-sm font-bold text-gray-600",children:[t.jsx("span",{className:"text-gray-900",children:i.toLocaleString()})," active visitors"]})]})},Lk=({onLogin:a,onNavigate:e})=>{const[s,r]=w.useState(!1),[i,l]=w.useState(!1),[c,f]=w.useState("signup"),[u,m]=w.useState(""),[g,b]=w.useState(""),[v,E]=w.useState(0),[N,S]=w.useState("professional");w.useEffect(()=>{const P=()=>r(window.scrollY>50);return window.addEventListener("scroll",P),()=>window.removeEventListener("scroll",P)},[]);const T={"@context":"https://schema.org","@type":"WebPage",name:"Free Website Traffic Generator - Get 2,000 Free Visitors | Traffic Creator",description:"Get free website traffic instantly. Traffic Creator offers 2,000 free visitors to boost your SEO rankings, CTR, and analytics data. No credit card required.",url:"https://traffic-creator.com/free-website-traffic",mainEntity:{"@type":"Service",name:"Free Website Traffic Generator",provider:{"@type":"Organization",name:"Traffic Creator"},offers:{"@type":"Offer",price:"0",priceCurrency:"USD",description:"2,000 free visitors for new users"}}},O={"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:"Is this traffic safe for my AdSense account?",acceptedAnswer:{"@type":"Answer",text:"Yes, our traffic is designed to be AdSense-safe. We use residential IPs and natural behavior patterns that mimic real visitors."}},{"@type":"Question",name:"Are these real visitors or bots?",acceptedAnswer:{"@type":"Answer",text:"We use high-quality traffic with residential IPs that appears as real visitors in your analytics. Each visit includes realistic behavior patterns."}},{"@type":"Question",name:"Will I see the traffic in Google Analytics?",acceptedAnswer:{"@type":"Answer",text:"Absolutely. All traffic is fully compatible with Google Analytics 4, Google Search Console, and other major analytics platforms."}},{"@type":"Question",name:"How do I get free website traffic?",acceptedAnswer:{"@type":"Answer",text:"Simply enter your website URL above, select your target country, and click 'Start Free Traffic'. Create a free account to receive 2,000 visitors at no cost."}}]},U=P=>{f(P),m(""),l(!0)},M=(P,D)=>{b(D),m("Your campaign is ready! Create a free account to receive 2,000 visitors."),f("signup"),l(!0)},L=P=>{l(!1),a()},$=P=>{E(v===P?null:P)},X=[{question:"How do I get free website traffic?",answer:"Simply enter your website URL above, select your target country, and click 'Start Free Traffic'. Create a free account to receive 2,000 visitors at no costno credit card required."},{question:"Is this traffic safe for my AdSense account?",answer:"Yes, our traffic is designed to be AdSense-safe. We use residential IPs and natural behavior patterns that mimic real visitors. Our traffic passes all major analytics filters."},{question:"Are these real visitors or bots?",answer:"We use high-quality traffic with residential IPs that appears as real visitors in your analytics. Each visit includes realistic behavior patterns: page views, time on site, and navigation patterns."},{question:"Will I see the traffic in Google Analytics?",answer:"Absolutely. All traffic is fully compatible with Google Analytics 4, Google Search Console, and other major analytics platforms. You'll see real-time visitors, sessions, and engagement metrics."},{question:"Are there any hidden costs or subscriptions?",answer:"No hidden fees, no mandatory subscriptions. Purchase credit packs as needed, or choose monthly plans for agencies. Everything is transparent and clearly priced."},{question:"What if I'm not satisfied?",answer:"We offer a full money-back guarantee. If we fail to deliver the promised visitor count within 72 hours, you're eligible for a complete refundno questions asked."},{question:"Can I target specific countries?",answer:"Yes! We offer geo-targeting for 190+ countries. Premium plans include city-level targeting for local SEO campaigns."}],C=[{volume:6e4,name:"Starter",desc:"Perfect for testing"},{volume:5e5,name:"Growth",desc:"Most popular choice",highlight:!0,badge:"Most Popular"},{volume:1e6,name:"Business",desc:"Serious growth",badge:"Best Value",badgeColor:"bg-green-500"}],R=[{icon:t.jsx(Ba,{size:32}),title:"Poor Rankings?",desc:"Google ignores sites without traffic signals. Your content stays buried on page 10."},{icon:t.jsx(Wo,{size:32}),title:"Low CTR?",desc:"Click-through rate is a ranking factor. Low engagement means lower visibility."},{icon:t.jsx(Ic,{size:32}),title:"No Analytics Data?",desc:"You can't optimize what you can't measure. Empty dashboards mean no insights."}],_=[{step:1,title:"Enter Your URL",desc:"Input your website address and select targeting options: country, device type, and traffic source.",icon:t.jsx(Ns,{size:24})},{step:2,title:"We Send Real Signals",desc:"Our residential network delivers traffic through real ISP connectionsnot data center IPs that get flagged.",icon:t.jsx(_a,{size:24})},{step:3,title:"Watch Results Live",desc:"Monitor your traffic in Google Analytics 4 in real-time. See visitors, sessions, and engagement metrics.",icon:t.jsx(Wl,{size:24})}];return t.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans overflow-x-hidden",children:[t.jsx(Li,{title:"Free Website Traffic Generator - Get 2,000 Free Visitors | Traffic Creator",description:"Get free website traffic instantly. Receive 2,000 free visitors to boost your SEO rankings, CTR, and analytics data. No credit card required. Real residential traffic from 190+ countries.",keywords:"free website traffic, free traffic generator, get free traffic, website traffic free, free visitors, free web traffic, boost website traffic free, free SEO traffic, traffic generator free, increase website traffic free",schema:[T,O]}),t.jsx("header",{className:`fixed w-full z-50 transition-all duration-300 ${s?"top-0 bg-white/95 backdrop-blur-md shadow-sm border-b border-gray-100":"top-0 bg-transparent"}`,children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-16 md:h-20 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[t.jsx("span",{className:"text-xl md:text-2xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-black text-white px-2 py-1 rounded uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[t.jsxs("nav",{className:"hidden md:flex items-center gap-8 text-sm font-bold text-gray-500",children:[t.jsx("a",{href:"#problem",className:"hover:text-[#ff4d00] transition-colors",children:"Problem"}),t.jsx("a",{href:"#how-it-works",className:"hover:text-[#ff4d00] transition-colors",children:"How It Works"}),t.jsx("a",{href:"#pricing",className:"hover:text-[#ff4d00] transition-colors",children:"Pricing"})]}),t.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[t.jsx("button",{onClick:()=>U("login"),className:"text-sm font-bold text-gray-600 hover:text-[#ff4d00] transition-colors px-3 py-2",children:"Login"}),t.jsx("button",{onClick:()=>U("signup"),className:"bg-[#ff4d00] text-white px-4 md:px-6 py-2.5 text-xs md:text-sm font-bold uppercase tracking-wide hover:bg-black transition-colors rounded-xl shadow-lg shadow-orange-500/20",children:"Sign Up"})]})]})]})}),t.jsxs("section",{className:"relative pt-28 md:pt-40 pb-16 md:pb-24 px-6 overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 z-0",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-gradient-to-bl from-orange-100/50 to-transparent rounded-full blur-3xl -translate-y-1/2 translate-x-1/3"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-gradient-to-tr from-blue-50/50 to-transparent rounded-full blur-3xl translate-y-1/2 -translate-x-1/3"})]}),t.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-50 border border-orange-100 px-4 py-2 rounded-full text-xs font-bold text-[#ff4d00] uppercase tracking-wide mb-6",children:[t.jsx(sn,{size:14,className:"fill-[#ff4d00]"}),"100% Free - No Credit Card Required"]}),t.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black tracking-tight leading-[1.1] mb-6",children:["Free Website Traffic",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"in Under 5 Minutes"})]}),t.jsxs("p",{className:"text-lg md:text-xl text-gray-500 max-w-2xl mx-auto leading-relaxed mb-8",children:["Get ",t.jsx("span",{className:"font-bold text-gray-700",children:"2,000 free visitors"})," to your website. Boost SEO rankings, improve CTR, and fill your analytics with real residential traffic from 190+ countries."]})]}),t.jsx(gz,{onComplete:M})]})]}),t.jsx("section",{className:"bg-gray-50 border-y border-gray-100 py-8 px-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[t.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:t.jsx("span",{className:"font-bold uppercase tracking-wide text-xs",children:"Compatible with:"})}),t.jsx("div",{className:"flex flex-wrap items-center justify-center gap-8 md:gap-12",children:["Google Analytics","Semrush","WordPress","Ahrefs"].map((P,D)=>t.jsxs("div",{className:"flex items-center gap-2 opacity-60 hover:opacity-100 transition-opacity",children:[t.jsx(Wl,{size:18,className:"text-gray-400"}),t.jsx("span",{className:"text-sm font-bold text-gray-700",children:P})]},D))}),t.jsx(xz,{className:"shrink-0 bg-white px-4 py-2 rounded-full border border-gray-200"})]})})}),t.jsx("section",{id:"problem",className:"py-20 md:py-32 px-6 bg-gradient-to-b from-gray-50 to-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-red-50 text-red-600 px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wide mb-4",children:[t.jsx(as,{size:14}),"The Problem"]}),t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Why Your Website Is Struggling"}),t.jsx("p",{className:"text-gray-500 max-w-xl mx-auto",children:"91% of content gets zero traffic from Google. Without visitor signals, search engines ignore your site."})]}),t.jsx("div",{className:"grid md:grid-cols-3 gap-6 md:gap-8",children:R.map((P,D)=>t.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl p-8 hover:shadow-xl hover:border-[#ff4d00]/30 transition-all group",children:[t.jsx("div",{className:"w-14 h-14 bg-red-50 rounded-xl flex items-center justify-center mb-6 text-red-500 group-hover:bg-[#ff4d00] group-hover:text-white transition-colors",children:P.icon}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:P.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:P.desc})]},D))})]})}),t.jsx("section",{id:"how-it-works",className:"py-20 md:py-32 px-6 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#ff4d00]/10 text-[#ff4d00] px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wide mb-4",children:[t.jsx(Vt,{size:14}),"How It Works"]}),t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Three Simple Steps"}),t.jsx("p",{className:"text-gray-500 max-w-xl mx-auto",children:"Start receiving quality traffic in under 5 minutes. No technical knowledge required."})]}),t.jsx("div",{className:"space-y-12 md:space-y-0 md:grid md:grid-cols-3 md:gap-8",children:_.map((P,D)=>t.jsxs("div",{className:"relative flex flex-col md:flex-col items-start md:items-center text-left md:text-center group",children:[D<_.length-1&&t.jsx("div",{className:"hidden md:block absolute top-12 left-[60%] w-[80%] h-0.5 bg-gradient-to-r from-[#ff4d00]/30 to-transparent"}),t.jsxs("div",{className:"flex items-center gap-4 md:flex-col md:gap-0 md:mb-6",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-[#ff4d00]/10 to-orange-50 rounded-2xl flex items-center justify-center text-[#ff4d00] mb-0 md:mb-4 shrink-0 group-hover:scale-110 transition-transform",children:P.icon}),t.jsxs("div",{className:"md:hidden",children:[t.jsxs("div",{className:"text-xs font-bold text-[#ff4d00] uppercase tracking-wide mb-1",children:["Step ",P.step]}),t.jsx("h3",{className:"text-lg font-bold",children:P.title}),t.jsx("p",{className:"text-gray-500 text-sm mt-1",children:P.desc})]})]}),t.jsxs("div",{className:"hidden md:block",children:[t.jsxs("div",{className:"text-xs font-bold text-[#ff4d00] uppercase tracking-wide mb-2",children:["Step ",P.step]}),t.jsx("h3",{className:"text-lg font-bold mb-2",children:P.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:P.desc})]})]},D))})]})}),t.jsx("section",{id:"pricing",className:"py-20 md:py-32 px-6 bg-gray-50",children:t.jsxs("div",{className:"max-w-5xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#ff4d00]/10 text-[#ff4d00] px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wide mb-4",children:[t.jsx(gx,{size:14}),"Transparent Pricing"]}),t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Pay Only For Results"}),t.jsx("p",{className:"text-gray-500 max-w-xl mx-auto",children:"No hidden fees. No monthly contracts. Choose your package and start immediately."})]}),t.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Yo.map(P=>t.jsxs("button",{onClick:()=>S(P.id),className:`px-6 py-3 text-xs font-bold uppercase tracking-widest transition-all ${N===P.id?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${P.popular?"ring-2 ring-[#ff4d00]/30":""}`,children:[P.name,P.popular&&t.jsx("span",{className:"ml-2 text-[10px]",children:""})]},P.id))}),t.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:C.map((P,D)=>{var Ee;const z=((Ee=nm[N][P.volume])==null?void 0:Ee[1])||0,I=Nw(N,P.volume,1),Z=Yo.find(te=>te.id===N);return t.jsxs("div",{className:`relative bg-white rounded-2xl p-8 border transition-all ${P.highlight?"border-2 border-[#ff4d00] shadow-2xl shadow-[#ff4d00]/20 scale-105 z-10":"border-gray-100 hover:border-[#ff4d00]/30 hover:shadow-xl"}`,children:[P.badge&&t.jsx("div",{className:`absolute -top-3 left-1/2 -translate-x-1/2 ${P.badgeColor||"bg-[#ff4d00]"} text-white px-4 py-1 text-[10px] font-bold uppercase tracking-widest rounded-full whitespace-nowrap shadow-lg`,children:P.badge}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:P.name}),t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-4xl font-black text-gray-900",children:_w(z)}),t.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"one-time"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-4 mb-6 text-center border border-gray-100",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:P.volume>=1e6?`${P.volume/1e6}M`:`${P.volume/1e3}k`}),t.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wide",children:"Visitors"}),t.jsxs("div",{className:"text-xs text-[#ff4d00] font-bold mt-1",children:["~",kw(I),"/1k"]})]}),t.jsx("p",{className:"text-sm text-gray-500 mb-6",children:P.desc}),t.jsx("ul",{className:"space-y-3 mb-8",children:Z==null?void 0:Z.features.slice(0,4).map((te,G)=>t.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(ja,{size:16,className:"text-green-500 shrink-0"}),te]},G))}),t.jsx("button",{onClick:()=>U("signup"),className:`w-full py-4 rounded-xl text-sm font-bold uppercase tracking-wide transition-all ${P.highlight?"bg-[#ff4d00] text-white hover:bg-black shadow-lg":"bg-gray-900 text-white hover:bg-[#ff4d00]"}`,children:"Get Started"})]},D)})}),t.jsxs("div",{className:"mt-12 flex flex-wrap justify-center gap-6 text-sm text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xt,{size:16,className:"text-green-500"}),"Instant delivery"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xt,{size:16,className:"text-green-500"}),"Money-back guarantee"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xt,{size:16,className:"text-green-500"}),"190+ countries"]})]})]})}),t.jsx("section",{id:"faq",className:"py-20 md:py-32 px-6 bg-white",children:t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Frequently Asked Questions"}),t.jsx("p",{className:"text-gray-500",children:"Everything you need to know before getting started."})]}),t.jsx("div",{className:"space-y-4",children:X.map((P,D)=>t.jsxs("div",{className:"bg-gray-50 border border-gray-100 rounded-xl overflow-hidden",children:[t.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left hover:bg-gray-100 transition-colors",onClick:()=>$(D),children:[t.jsx("span",{className:"font-bold text-gray-900 pr-4",children:P.question}),v===D?t.jsx(il,{size:20,className:"text-[#ff4d00] shrink-0"}):t.jsx(dr,{size:20,className:"text-gray-400 shrink-0"})]}),v===D&&t.jsx("div",{className:"px-6 pb-6 text-gray-600 text-sm leading-relaxed border-t border-gray-100 pt-4",children:P.answer})]},D))})]})}),t.jsxs("section",{className:"py-20 md:py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600/50 to-transparent"}),t.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[t.jsx("h2",{className:"text-3xl md:text-5xl font-black text-white tracking-tight mb-6",children:"Ready to Boost Your Traffic?"}),t.jsx("p",{className:"text-white/80 text-lg mb-8 max-w-xl mx-auto",children:"Join thousands of marketers who trust Traffic Creator for their SEO campaigns."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsxs("button",{onClick:()=>U("signup"),className:"bg-black text-white px-8 py-4 rounded-xl text-sm font-bold uppercase tracking-wide hover:bg-white hover:text-black transition-colors shadow-xl",children:["Start Free Trial ",t.jsx(Rs,{size:18,className:"inline ml-2"})]}),t.jsx(Ye,{to:"/#pricing",className:"bg-white/10 backdrop-blur-sm border border-white/20 text-white px-8 py-4 rounded-xl text-sm font-bold uppercase tracking-wide hover:bg-white/20 transition-colors",children:"View All Plans"})]}),t.jsxs("div",{className:"mt-8 flex items-center justify-center gap-6 text-white/60 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ja,{size:16})," No credit card"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ja,{size:16})," Cancel anytime"]})]})]})]}),t.jsx("footer",{className:"bg-gray-900 text-white py-12 px-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl font-black text-[#ff4d00]",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-white/10 text-white px-2 py-1 rounded uppercase",children:"Creator"})]}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-gray-400",children:[t.jsx(Ye,{to:"/blog",className:"hover:text-white transition-colors",children:"Blog"}),t.jsx(Ye,{to:"/helpdesk",className:"hover:text-white transition-colors",children:"Help Center"}),t.jsx(Ye,{to:"/legal/privacy",className:"hover:text-white transition-colors",children:"Privacy"}),t.jsx(Ye,{to:"/legal/terms",className:"hover:text-white transition-colors",children:"Terms"}),t.jsx(Ye,{to:"/legal/refund",className:"hover:text-white transition-colors",children:"Refund Policy"})]}),t.jsx("div",{className:"text-sm text-gray-500",children:" 2025 Traffic Creator Inc."})]})})}),t.jsx(pz,{isOpen:i,onClose:()=>l(!1),initialMode:c,onSuccess:L,message:u})]})},_b=({onLogin:a,onNavigate:e,view:s})=>{const r=ta(),[i,l]=w.useState(""),[c,f]=w.useState(""),[u,m]=w.useState(""),[g,b]=w.useState(!1),[v,E]=w.useState(""),[N,S]=w.useState(""),[T,O]=w.useState(!1),U=async()=>{if(i){b(!0);try{await H.resendVerificationEmail(i),r(`/verify-email?email=${encodeURIComponent(i)}`)}catch(L){E(L.message||"Failed to resend verification email")}finally{b(!1)}}},M=async L=>{L.preventDefault(),E(""),S(""),b(!0),O(!1);try{if(s==="signup"){if(Uo(i))throw new Error("Temporary email addresses are not allowed. Please use a permanent email address.");if(c.length<6)throw new Error("Password must be at least 6 characters long");const $=await H.register(u,i,c);if($&&$.role){await H.syncAll(),a($.role);return}r(`/verify-email?email=${encodeURIComponent(i)}`);return}else if(s==="login"){const $=await H.login(i,c);if($.status==="suspended")throw new Error("Your account has been suspended. Please contact support.");await H.syncAll(),a($.role)}else s==="forgot"&&(await H.forgotPassword(i),S("Password reset link sent! Check your email."),l(""))}catch($){const X=$.message||"An error occurred";E(X),(X.toLowerCase().includes("verify")||X.toLowerCase().includes("verification"))&&O(!0)}finally{b(!1)}};return t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsxs(Ye,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:[t.jsx(ur,{size:16})," Back to Home"]}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Bot"})]}),v&&t.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3",children:[t.jsx(as,{className:"text-red-500 shrink-0",size:20}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-red-700 text-xs font-bold leading-relaxed",children:v}),T&&t.jsx("button",{onClick:U,className:"block mt-2 text-[#ff4d00] text-xs font-bold underline hover:no-underline",children:"Resend verification email"})]})]}),N&&t.jsxs("div",{className:"mb-6 bg-green-50 border-l-4 border-green-500 p-4 flex items-center gap-3",children:[t.jsx(xt,{className:"text-green-500 shrink-0",size:20}),t.jsx("span",{className:"text-green-700 text-xs font-bold leading-relaxed",children:N})]}),s==="forgot"?t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Reset Password"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"Enter your email address and we'll send you a link to reset your password."}),t.jsxs("form",{onSubmit:M,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Nn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"email",required:!0,value:i,onChange:L=>l(L.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"name@company.com"})]})]}),t.jsx("button",{type:"submit",disabled:g,className:"w-full bg-black text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:g?t.jsxs(t.Fragment,{children:[t.jsx(Is,{className:"animate-spin",size:16})," Sending..."]}):"Send Reset Link"}),t.jsx("div",{className:"text-center",children:t.jsx(Ye,{to:"/login",className:"text-xs font-bold text-gray-400 uppercase tracking-wider hover:text-black",children:"Back to Login"})})]})]}):t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:s==="login"?"Welcome Back":"Create Account"}),t.jsx("p",{className:"text-gray-500 mb-8",children:s==="login"?"Enter your credentials to access your dashboard.":"Start your first traffic campaign today."}),t.jsxs("form",{onSubmit:M,className:"space-y-6",children:[s==="signup"&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(va,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"text",required:!0,value:u,onChange:L=>m(L.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"John Doe"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Nn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"email",required:!0,value:i,onChange:L=>l(L.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"name@company.com"})]}),s==="signup"&&i&&Uo(i)&&t.jsxs("p",{className:"text-red-500 text-xs mt-2 font-bold flex items-center gap-1",children:[t.jsx(as,{size:12})," Temporary emails not allowed. Please use your real email."]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Password"}),s==="login"&&t.jsx(Ye,{to:"/forgot",className:"text-[10px] font-bold text-[#ff4d00] uppercase tracking-wider hover:text-black",children:"Forgot?"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"password",required:!0,value:c,onChange:L=>f(L.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:s==="signup"?"Min. 6 characters":""})]}),s==="signup"&&c.length>0&&c.length<6&&t.jsx("p",{className:"text-red-500 text-xs mt-1 font-bold",children:"Password must be at least 6 characters"})]}),t.jsx("button",{type:"submit",disabled:g||s==="signup"&&Uo(i),className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:g?t.jsxs(t.Fragment,{children:[t.jsx(Is,{className:"animate-spin",size:16})," Processing..."]}):t.jsxs(t.Fragment,{children:[s==="login"?"Sign In":"Get Started"," ",t.jsx(Rs,{size:16})]})})]}),t.jsxs("div",{className:"mt-8 text-center pt-8 border-t border-gray-100",children:[t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:s==="login"?"Don't have an account?":"Already have an account?"}),t.jsx(Ye,{to:s==="login"?"/signup":"/login",className:"text-sm font-black text-gray-900 hover:text-[#ff4d00] uppercase tracking-wide block",children:s==="login"?"Create Account":"Login Here"})]})]})]})})},yz=({initialData:a,onSave:e})=>{const[s,r]=w.useState(a),[i,l]=w.useState(!1);w.useEffect(()=>{r(a)},[a]);const c=(u,m,g)=>{let b=parseFloat(g);isNaN(b)&&(b=0),r(v=>v.map(E=>E.id===u?{...E,[m]:b}:E))},f=async()=>{l(!0);try{await H.savePricing(s),e&&e(),alert("Traffic Campaign Configuration Saved to Database!")}catch(u){console.error(u),alert("Failed to save configuration")}finally{l(!1)}};return t.jsxs("div",{className:"bg-white p-8 md:p-10 shadow-sm border border-gray-100 min-h-[600px] animate-in fade-in",children:[t.jsxs("div",{className:"mb-10",children:[t.jsx("h3",{className:"text-[#ff4d00] text-xs font-bold uppercase tracking-widest mb-1",children:"Global Pricing Configuration"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"Configure your traffic package rates per tier. Changes affect ALL new campaigns."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12",children:s.map(u=>t.jsxs("div",{className:"flex flex-col space-y-6 p-6 border border-gray-50 hover:border-gray-200 transition-colors bg-gray-50/50",children:[t.jsx("h4",{className:"text-xl font-black text-gray-900 mb-2 uppercase tracking-tight",children:u.name}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"CPM Rate ()"}),t.jsx("input",{type:"number",step:"0.01",value:u.hourlyRate,onChange:m=>c(u.id,"hourlyRate",m.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"Base Campaign Fee ()"}),t.jsx("input",{type:"number",value:u.baseFee,onChange:m=>c(u.id,"baseFee",m.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"Setup & Audit Fee ()"}),t.jsx("input",{type:"number",value:u.examFee,onChange:m=>c(u.id,"examFee",m.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]})]},u.id))}),t.jsx("div",{className:"mt-16 flex justify-end pt-8 border-t border-gray-100",children:t.jsx("button",{onClick:f,disabled:i,className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Global Configuration"})})]})},bz=({transactions:a})=>{try{const e=[];for(let l=6;l>=0;l--){const c=new Date;c.setDate(c.getDate()-l),e.push(c.toLocaleDateString("en-US",{month:"short",day:"numeric"}))}const s=Array.isArray(a)?a:[],r=e.map(l=>s.filter(f=>f&&f.type==="credit"&&f.date===l).reduce((f,u)=>f+(Number(u.amount)||0),0)),i=Math.max(...r,100);return t.jsx("div",{className:"h-48 flex items-end justify-between gap-2",children:r.map((l,c)=>t.jsxs("div",{className:"flex-1 flex flex-col justify-end group",children:[t.jsx("div",{className:"bg-black group-hover:bg-[#ff4d00] transition-colors rounded-t-sm w-full relative",style:{height:`${l/i*100}%`,minHeight:"4px"},children:t.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 text-[9px] font-bold text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:["",l]})}),t.jsx("div",{className:"text-[9px] text-gray-400 text-center mt-2 font-mono",children:e[c]})]},c))})}catch{return t.jsx("div",{className:"text-xs text-red-500 p-4",children:"Error loading chart"})}},vz=({users:a=[],projects:e=[],tickets:s=[],transactions:r=[],stats:i,onNavigate:l})=>{var U,M,L,$,X,C,R;const[c,f]=w.useState([]);w.useEffect(()=>{H.getFraudAlerts().then(_=>{f(_.filter(P=>P.riskLevel==="high"||P.riskLevel==="medium"))})},[]);const u=Array.isArray(r)?r:[],m=Array.isArray(e)?e:[],g=Array.isArray(a)?a:[],b=Array.isArray(s)?s:[],v=((U=i==null?void 0:i.revenue)==null?void 0:U.total)??u.filter(_=>_&&_.type==="credit").reduce((_,P)=>_+(Number(P.amount)||0),0),E=((M=i==null?void 0:i.revenue)==null?void 0:M.today)??0,N=((L=i==null?void 0:i.projects)==null?void 0:L.active)??m.filter(_=>_&&_.status==="active").length,S=(($=i==null?void 0:i.users)==null?void 0:$.total)??g.length,T=((X=i==null?void 0:i.users)==null?void 0:X.new_today)??0,O=b.filter(_=>_&&_.status==="open").length;return t.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"Admin Overview"}),c.length>0&&t.jsxs("div",{className:"bg-red-50 border border-red-200 p-6 shadow-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest text-red-600 flex items-center gap-2",children:[t.jsx(as,{size:16})," Fraud Alerts (",c.length,")"]}),t.jsxs("button",{onClick:()=>l("admin-users"),className:"text-[10px] uppercase font-bold text-red-600 hover:text-red-800 flex items-center gap-1",children:["View All ",t.jsx(oc,{size:10})]})]}),t.jsx("div",{className:"space-y-3",children:c.slice(0,3).map(_=>t.jsxs("div",{className:"bg-white p-4 border border-red-100 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(_a,{size:12,className:_.riskLevel==="high"?"text-red-600":"text-yellow-600"}),t.jsxs("span",{className:"text-xs font-bold text-gray-900",children:[_.userEmails.length," Accounts share IP: ",_.ip]}),t.jsx("span",{className:`text-[9px] px-2 py-0.5 rounded font-bold uppercase ${_.riskLevel==="high"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:_.riskLevel})]}),t.jsxs("div",{className:"text-[10px] text-gray-500",children:[_.userEmails.slice(0,2).join(", "),_.userEmails.length>2&&` +${_.userEmails.length-2} more`]})]}),_.affiliateEarnings>0&&t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-[9px] text-gray-400 uppercase",children:"Affiliate Earnings"}),t.jsxs("div",{className:"text-sm font-black text-red-600",children:["",_.affiliateEarnings.toFixed(2)]})]})]},_.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors relative overflow-hidden group",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(Rr,{size:14})," Total Users"]}),t.jsx("div",{className:"text-4xl font-black text-gray-900",children:S}),T>0&&t.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[t.jsx(Ir,{size:10})," +",T," Today"]})]}),t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(jn,{size:14})," Active Projects"]}),t.jsx("div",{className:"text-4xl font-black text-gray-900",children:N}),((C=i==null?void 0:i.projects)==null?void 0:C.new_today)>0&&t.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[t.jsx(AT,{size:10})," +",(R=i==null?void 0:i.projects)==null?void 0:R.new_today," New Today"]})]}),t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(en,{size:14})," Open Tickets"]}),t.jsx("div",{className:"text-4xl font-black text-gray-900",children:O})]}),t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(Ba,{size:14})," Total Revenue"]}),t.jsxs("div",{className:"text-4xl font-black text-[#ff4d00]",children:["",(v||0).toLocaleString()]}),E>0&&t.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[t.jsx(Ta,{size:10})," +",E.toFixed(2)," Today"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"flex justify-between items-center mb-8",children:t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Revenue Trend (7 Days)"})}),t.jsx(bz,{transactions:u})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm flex flex-col",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900",children:"Recent Registrations"}),t.jsx("button",{onClick:()=>l("admin-users"),className:"text-[10px] uppercase font-bold text-gray-400 hover:text-[#ff4d00]",children:"View All"})]}),t.jsx("div",{className:"divide-y divide-gray-100 flex-1 overflow-y-auto max-h-64",children:g.slice(0,5).map(_=>t.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:((_==null?void 0:_.name)||"?").charAt(0)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-bold text-gray-900",children:(_==null?void 0:_.name)||"Unknown User"}),t.jsx("div",{className:"text-[9px] text-gray-400",children:(_==null?void 0:_.email)||"No Email"})]})]}),t.jsx("div",{className:"text-[9px] font-bold uppercase tracking-wide text-gray-400",children:(_==null?void 0:_.joinedDate)||"-"})]},(_==null?void 0:_.id)||Math.random()))})]})]})]})},wz=({users:a,projects:e,transactions:s,tickets:r,onRefresh:i,onEditUser:l})=>{const[c,f]=w.useState(""),[u,m]=w.useState(1),[g,b]=w.useState(100),[v,E]=w.useState("all"),[N,S]=w.useState(null);w.useEffect(()=>{H.getUserStats().then(S)},[a]);const T=_=>{const P=e.filter(D=>D.userId===_);return{total:P.length,active:P.filter(D=>D.status==="active").length,expired:P.filter(D=>D.status==="completed"||D.status==="stopped").length,demo:P.filter(D=>D.plan==="Free Trial").length}},O=_=>s.filter(P=>P.userId===_&&P.type==="debit"&&P.status==="completed").reduce((P,D)=>P+D.amount,0),U=(_,P)=>{const D=new Date(_).getTime();return(Date.now()-D)/(1e3*60*60)<=P},M=_=>{if(!_)return{text:"Never",isOnline:!1};const P=new Date(_).getTime(),z=Date.now()-P,I=Math.floor(z/(1e3*60)),Z=Math.floor(z/(1e3*60*60)),Ee=Math.floor(z/(1e3*60*60*24)),te=Math.floor(Ee/7),G=Math.floor(Ee/30);return I<5?{text:"Online now",isOnline:!0}:I<60?{text:`${I}m ago`,isOnline:!1}:Z<24?{text:`${Z}h ago`,isOnline:!1}:Ee<7?{text:`${Ee}d ago`,isOnline:!1}:te<4?{text:`${te}w ago`,isOnline:!1}:{text:`${G}mo ago`,isOnline:!1}},L=_=>_<=30?{bg:"bg-green-100",text:"text-green-700",label:"Low"}:_<=60?{bg:"bg-yellow-100",text:"text-yellow-700",label:"Medium"}:{bg:"bg-red-100",text:"text-red-700",label:"High"},$=w.useMemo(()=>{let _=a.filter(P=>P.name.toLowerCase().includes(c.toLowerCase())||P.email.toLowerCase().includes(c.toLowerCase())||P.id.includes(c));switch(v){case"balance":_.sort((P,D)=>D.balance-P.balance);break;case"spent":_.sort((P,D)=>O(D.id)-O(P.id));break;case"projects":_.sort((P,D)=>T(D.id).total-T(P.id).total);break;case"new_24h":_=_.filter(P=>U(P.joinedDate,24));break;case"new_7d":_=_.filter(P=>U(P.joinedDate,168));break;case"new_30d":_=_.filter(P=>U(P.joinedDate,720));break;case"high_risk":_=_.filter(P=>(P.spamScore||0)>=60);break;case"ip_sharing":_=_.filter(P=>(P.ipSharedWithCount||0)>=1);break;case"fraud":_=_.filter(P=>(P.ipSharedWithCount||0)>=1&&(P.affiliateEarnings||0)>0);break;default:_.sort((P,D)=>new Date(D.joinedDate).getTime()-new Date(P.joinedDate).getTime())}return _},[a,c,v,e,s]),X=Math.ceil($.length/g),C=$.slice((u-1)*g,u*g);He.useEffect(()=>{m(1)},[v,c,g]);const R=[{id:"all",label:"All Users",icon:t.jsx(Rr,{size:14}),count:N==null?void 0:N.totalUsers},{id:"high_risk",label:"High Risk",icon:t.jsx(as,{size:14}),count:N==null?void 0:N.highRiskUsers,highlight:!0},{id:"ip_sharing",label:"IP Sharing",icon:t.jsx(_a,{size:14})},{id:"fraud",label:"Fraud Suspicion",icon:t.jsx(as,{size:14}),highlight:!0},{id:"balance",label:"Highest Balance",icon:t.jsx(Ri,{size:14})},{id:"projects",label:"Most Projects",icon:t.jsx(jn,{size:14})},{id:"spent",label:"Top Spenders",icon:t.jsx(Ri,{size:14})},{id:"new_24h",label:"New (24h)",icon:t.jsx(ss,{size:14}),count:N==null?void 0:N.newUsersToday},{id:"new_7d",label:"New (7d)",icon:t.jsx(ss,{size:14}),count:N==null?void 0:N.newUsers7d},{id:"new_30d",label:"New (30d)",icon:t.jsx(ss,{size:14}),count:N==null?void 0:N.newUsers30d}];return t.jsxs("div",{className:"animate-in fade-in",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-6 gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"User Management"}),N&&t.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-xs font-bold text-gray-500",children:[t.jsxs("span",{children:["Total: ",t.jsx("span",{className:"text-black",children:N.totalUsers.toLocaleString()})]}),t.jsxs("span",{children:["Active (24h): ",t.jsx("span",{className:"text-green-600",children:N.activeUsers24h})]}),t.jsxs("span",{children:["Active (7d): ",t.jsx("span",{className:"text-green-600",children:N.activeUsers7d})]}),N.highRiskUsers>0&&t.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[t.jsx(as,{size:10})," High Risk: ",N.highRiskUsers]}),N.fraudAlertsCount>0&&t.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[t.jsx(_a,{size:10})," Fraud Alerts: ",N.fraudAlertsCount]})]})]}),t.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[t.jsxs("div",{className:"relative flex-1 md:w-64",children:[t.jsx("input",{type:"text",placeholder:"Search users...",value:c,onChange:_=>f(_.target.value),className:"w-full bg-white border border-gray-200 pl-10 pr-4 py-2 text-sm outline-none focus:border-[#ff4d00]"}),t.jsx(Ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14})]}),t.jsxs("select",{value:g,onChange:_=>b(Number(_.target.value)),className:"bg-white border border-gray-200 px-3 py-2 text-sm font-bold text-gray-600 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:10,children:"10 per page"}),t.jsx("option",{value:25,children:"25 per page"}),t.jsx("option",{value:50,children:"50 per page"}),t.jsx("option",{value:100,children:"100 per page"})]}),t.jsxs("button",{onClick:()=>{const _=`ID,Name,Email,Role,Status,Balance,Joined,LastActive,SpamScore,IPSharedWith
`,P=a.map(Z=>`${Z.id},"${Z.name}",${Z.email},${Z.role},${Z.status},${Z.balance},${Z.joinedDate},${Z.lastActive||""},${Z.spamScore||0},${Z.ipSharedWithCount||0}`).join(`
`),D=new Blob([_+P],{type:"text/csv"}),z=window.URL.createObjectURL(D),I=document.createElement("a");I.href=z,I.download=`users_export_${new Date().toISOString().split("T")[0]}.csv`,I.click()},className:"flex items-center gap-2 bg-white border border-gray-200 px-3 py-2 text-sm font-bold text-gray-600 hover:text-black hover:border-black transition-colors",children:[t.jsx(Ri,{size:14,className:"rotate-45"})," Export"]})]})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-6 border-b border-gray-200 pb-2",children:R.map(_=>t.jsxs("button",{onClick:()=>E(_.id),className:`flex items-center gap-2 px-4 py-2 text-xs font-bold uppercase tracking-wide transition-colors rounded-sm
                        ${v===_.id?"bg-black text-white":_.highlight?"bg-red-50 text-red-600 hover:bg-red-100 border border-red-200":"bg-white text-gray-500 hover:bg-gray-100"}
                    `,children:[_.icon," ",_.label,_.count!==void 0&&_.count>0&&t.jsx("span",{className:`px-1.5 py-0.5 rounded text-[9px] ${v===_.id?"bg-white/20":"bg-gray-200"}`,children:_.count})]},_.id))}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden min-h-[500px]",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User Details"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Last Active"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Projects"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Financials"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Risk"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:C.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"p-8 text-center text-gray-400",children:"No users found matching your criteria."})}):C.map(_=>{var Ee;const P=T(_.id),D=O(_.id),z=M(_.lastActive),I=L(_.spamScore||0),Z=(_.spamScore||0)>=60;return t.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${Z?"bg-red-50":""}`,children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:_.name.charAt(0)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:_.name}),t.jsx("div",{className:"text-[10px] text-gray-400",children:_.email}),t.jsxs("div",{className:"text-[9px] text-gray-300 mt-0.5",children:["Joined: ",_.joinedDate]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[z.isOnline&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t.jsx("span",{className:`text-[10px] font-medium ${z.isOnline?"text-green-600":"text-gray-500"}`,children:z.text})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-2 text-[10px] uppercase font-bold text-gray-600",children:[t.jsx(jn,{size:10,className:"text-[#ff4d00]"})," ",P.total," Total"]}),t.jsxs("div",{className:"flex flex-col gap-1 text-[9px] text-gray-400 font-medium mt-1",children:[t.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-green-500"}),P.active," Active"]}),P.demo>0&&t.jsxs("span",{className:"text-blue-500 flex items-center gap-1",children:[t.jsx(Vt,{size:8})," ",P.demo," Demo"]})]})]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("div",{className:"text-sm font-black text-gray-900",children:["",_.balance.toFixed(2)]}),t.jsxs("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:["Spent: ",D.toFixed(0)]}),(_.affiliateEarnings||0)>0&&t.jsxs("div",{className:"text-[9px] text-[#ff4d00] font-bold flex items-center gap-1",children:[t.jsx(Ba,{size:8})," Aff: ",(Ee=_.affiliateEarnings)==null?void 0:Ee.toFixed(2)]})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-[9px] font-bold ${I.bg} ${I.text}`,children:[t.jsx(_a,{size:10}),I.label," (",_.spamScore||0,")"]}),(_.ipSharedWithCount||0)>0&&t.jsxs("span",{className:"text-[8px] text-orange-600 font-bold flex items-center gap-1",children:[t.jsx(as,{size:8}),_.ipSharedWithCount," shared IP"]})]})}),t.jsx("td",{className:"px-6 py-4",children:_.status==="active"?t.jsxs("span",{className:"text-green-600 text-[10px] font-bold uppercase tracking-wide flex items-center gap-1",children:[t.jsx(xt,{size:10})," Active"]}):t.jsxs("span",{className:"text-red-600 text-[10px] font-bold uppercase tracking-wide flex items-center gap-1",children:[t.jsx(vD,{size:10})," Suspended"]})}),t.jsx("td",{className:"px-6 py-4 text-right flex justify-end gap-3 items-center",children:t.jsxs("button",{onClick:()=>l(_.id),className:"bg-gray-100 hover:bg-black hover:text-white text-gray-600 px-4 py-2 text-[10px] font-bold uppercase tracking-wider transition-colors rounded-sm flex items-center gap-2",children:[t.jsx(xw,{size:12})," Edit"]})})]},_.id)})})]})}),X>1&&t.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:["Page ",u," of ",X," (",$.length," Users)"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>m(Math.max(1,u-1)),disabled:u===1,className:"bg-white border border-gray-200 px-3 py-2 text-gray-600 hover:border-[#ff4d00] hover:text-[#ff4d00] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsx(gw,{size:14})}),t.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,X)},(_,P)=>{let D=P+1;return X>5&&u>3&&(D=u-2+P),D>X?null:t.jsx("button",{onClick:()=>m(D),className:`w-8 h-8 text-xs font-bold flex items-center justify-center border transition-colors
                                            ${u===D?"bg-[#ff4d00] border-[#ff4d00] text-white":"bg-white border-gray-200 text-gray-600 hover:border-gray-300"}
                                        `,children:D},D)})}),t.jsx("button",{onClick:()=>m(Math.min(X,u+1)),disabled:u===X,className:"bg-white border border-gray-200 px-3 py-2 text-gray-600 hover:border-[#ff4d00] hover:text-[#ff4d00] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsx(Ac,{size:14})})]})]})]})]})},zk={billing:{bg:"bg-red-100",text:"text-red-600"},technical:{bg:"bg-blue-100",text:"text-blue-600"},urgent:{bg:"bg-orange-100",text:"text-orange-600"},feature:{bg:"bg-purple-100",text:"text-purple-600"},bug:{bg:"bg-red-100",text:"text-red-600"},default:{bg:"bg-gray-100",text:"text-gray-600"}},jz=({tickets:a,onRefresh:e,admins:s})=>{var It,Ss;const[r,i]=w.useState(null),[l,c]=w.useState(""),[f,u]=w.useState([]),[m,g]=w.useState([]),[b,v]=w.useState(""),[E,N]=w.useState("all"),[S,T]=w.useState(!1),[O,U]=w.useState(!1),[M,L]=w.useState([]),[$,X]=w.useState(!1),[C,R]=w.useState(null),[_,P]=w.useState(!0),[D,z]=w.useState([]),[I,Z]=w.useState(""),[Ee,te]=w.useState(s||[]),[G,ye]=w.useState(!1),Re=w.useRef(null),Pe=a||[],K=Pe.find(fe=>fe.id===r),W=fe=>{var Ut;const he=(Ut=fe.messages)==null?void 0:Ut.filter(Mt=>Mt.sender!=="admin").pop(),De=he?new Date(he.date):new Date(fe.date),ut=new Date().getTime()-De.getTime(),_t=Math.floor(ut/6e4);if(_t<60)return{minutes:_t,color:"bg-green-500",label:`${_t}m`};if(_t<240){const Mt=Math.floor(_t/60);return{minutes:_t,color:"bg-yellow-500",label:`${Mt}h`}}else{const Mt=Math.floor(_t/60);return{minutes:_t,color:"bg-red-500",label:`${Mt}h`}}},B=Pe.filter(fe=>S?fe.status==="archived":E==="all"?fe.status!=="archived":E==="open"?fe.status==="open":E==="pending"?fe.status==="pending":E==="in-progress"?fe.status==="in-progress":E==="closed"?fe.status==="closed":!0).filter(fe=>{var he,De;return b===""||((he=fe.subject)==null?void 0:he.toLowerCase().includes(b.toLowerCase()))||((De=fe.userName)==null?void 0:De.toLowerCase().includes(b.toLowerCase()))}).sort((fe,he)=>new Date(he.date).getTime()-new Date(fe.date).getTime());w.useEffect(()=>{if(r){H.markTicketRead(r);const fe=Pe.find(he=>he.id===r);fe&&(z(fe.tags||[]),je(fe.userId)),e()}},[r]),w.useEffect(()=>{se(),F()},[]);const F=()=>{try{const fe=H.getAdmins();te(fe)}catch{te([])}},se=async()=>{const fe=await H.getTicketTemplates();L(fe)},je=async fe=>{try{const he=await H.getUserStatsById(fe);R(he)}catch{R(null)}},Ce=async()=>{if(!(!l.trim()&&f.length===0||!r))try{await H.replyToTicket(r,l,"admin",f,$),c(""),u([]),X(!1),e()}catch(fe){console.error("Failed to send message:",fe)}},Le=async fe=>{if(r)try{await H.updateTicketPriority(r,fe),e()}catch(he){console.error("Failed to update priority:",he)}},ze=async()=>{if(r&&confirm("Are you sure you want to permanently delete this ticket?"))try{await H.deleteTicket(r),i(null),e()}catch(fe){console.error("Failed to delete ticket:",fe)}},J=fe=>{fe.target.files&&fe.target.files[0]&&u([...f,fe.target.files[0].name])},Qe=fe=>{g(he=>he.includes(fe)?he.filter(De=>De!==fe):[...he,fe])},Ze=()=>{m.length===B.length?g([]):g(B.map(fe=>fe.id))},lt=async fe=>{if(m.length!==0)try{await H.bulkUpdateTickets(m,fe),g([]),e()}catch(he){console.error("Bulk action failed:",he),alert("Failed to perform action. Please try again.")}},Ne=async fe=>{if(r)try{await H.updateTicketStatus(r,fe),e()}catch(he){console.error("Status change failed:",he)}},Me=async()=>{if(r)try{await H.updateTicketStatus(r,"archived"),e()}catch(fe){console.error("Archive failed:",fe)}},yt=async()=>{if(r)try{await H.updateTicketStatus(r,"open"),e()}catch(fe){console.error("Unarchive failed:",fe)}},we=async fe=>{if(r)try{await H.assignTicket(r,fe),e()}catch(he){console.error("Failed to assign ticket:",he)}},re=async()=>{if(!I.trim()||!r)return;const fe=[...D,I.trim().toLowerCase()];z(fe);try{await H.updateTicketTags(r,fe),Z(""),e()}catch(he){console.error("Failed to add tag:",he)}},qe=async fe=>{if(!r)return;const he=D.filter(De=>De!==fe);z(he);try{await H.updateTicketTags(r,he),e()}catch(De){console.error("Failed to remove tag:",De)}},rt=fe=>{var he;c(De=>De+fe),U(!1),(he=Re.current)==null||he.focus()},ie=fe=>zk[fe]||zk.default,Ue=fe=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(fe),is=fe=>new Date(fe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return t.jsxs("div",{className:"animate-in fade-in h-[calc(100vh-140px)] flex flex-col",children:[t.jsx("div",{className:"flex justify-between items-center mb-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Support Tickets"}),m.length>0&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-xs font-bold text-gray-500",children:[m.length," selected"]}),t.jsx("button",{onClick:()=>lt("close"),className:"px-3 py-1.5 bg-green-500 text-white text-xs font-bold uppercase hover:bg-green-600 rounded-sm",children:"Close"}),t.jsx("button",{onClick:()=>lt("archive"),className:"px-3 py-1.5 bg-gray-500 text-white text-xs font-bold uppercase hover:bg-gray-600 rounded-sm",children:"Archive"}),t.jsx("button",{onClick:()=>lt("delete"),className:"px-3 py-1.5 bg-red-500 text-white text-xs font-bold uppercase hover:bg-red-600 rounded-sm",children:"Delete"})]})]})}),t.jsx("div",{className:"flex gap-1 mb-4 bg-gray-100 p-1 rounded-sm w-fit",children:[{id:"all",label:"All"},{id:"open",label:"Open"},{id:"in-progress",label:"In Progress"},{id:"pending",label:"Pending"},{id:"closed",label:"Closed"},{id:"archived",label:"Archived"}].map(fe=>t.jsx("button",{onClick:()=>{N(fe.id),T(fe.id==="archived")},className:`px-4 py-2 text-xs font-bold uppercase transition-colors rounded-sm ${E===fe.id?"bg-white text-black shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:fe.label},fe.id))}),t.jsx("div",{className:"flex gap-4 mb-4",children:t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx("input",{value:b,onChange:fe=>v(fe.target.value),placeholder:"Search tickets...",className:"w-full bg-white border border-gray-200 pl-9 pr-4 py-2 text-xs font-bold outline-none focus:border-[#ff4d00]"}),t.jsx(Ha,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})}),t.jsxs("div",{className:"flex-1 bg-white border border-gray-200 shadow-sm flex overflow-hidden",children:[t.jsxs("div",{className:"w-[400px] border-r border-gray-200 flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 bg-gray-50",children:[t.jsxs("button",{onClick:Ze,className:"flex items-center gap-2 text-xs font-bold text-gray-500 hover:text-gray-700",children:[m.length===B.length&&B.length>0?t.jsx(tc,{size:16}):t.jsx(tu,{size:16}),"Select All"]}),t.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[B.length," tickets"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:B.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-xs",children:"No conversations found."}):B.map(fe=>{var he;return t.jsx("div",{onClick:()=>i(fe.id),className:`p-4 border-b border-gray-100 cursor-pointer transition-colors hover:bg-gray-50 ${r===fe.id?"bg-orange-50 border-l-4 border-l-[#ff4d00]":"border-l-4 border-l-transparent"}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("button",{onClick:De=>{De.stopPropagation(),Qe(fe.id)},className:"mt-1 text-gray-400 hover:text-gray-600",children:m.includes(fe.id)?t.jsx(tc,{size:16,className:"text-[#ff4d00]"}):t.jsx(tu,{size:16})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex justify-between items-start mb-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${fe.type==="chat"?"bg-blue-100 text-blue-600":"bg-gray-200 text-gray-600"}`,children:fe.type}),fe.assigneeName&&t.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-300 flex items-center justify-center",children:t.jsx(va,{size:10,className:"text-white"})})]}),t.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:fe.date})]}),t.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-1 truncate",children:fe.subject}),t.jsx("p",{className:"text-xs text-gray-500 truncate mb-2",children:fe.lastMessage}),t.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:(he=fe.tags)==null?void 0:he.slice(0,3).map(De=>t.jsx("span",{className:`text-[9px] font-bold px-1.5 py-0.5 rounded ${ie(De).bg} ${ie(De).text}`,children:De},De))}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-gray-400 uppercase",children:[t.jsx(va,{size:10})," ",fe.userName]}),t.jsxs("div",{className:"flex items-center gap-2",children:[fe.status!=="closed"&&fe.status!=="archived"&&t.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold text-white ${W(fe).color}`,title:`Waiting for ${W(fe).label}`,children:[t.jsx(ss,{size:10}),W(fe).label]}),fe.priority==="high"&&t.jsx("span",{className:"text-[9px] font-bold text-red-500 uppercase",children:"HIGH"})]})]})]})]})},fe.id)})})]}),K?t.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#fafafa]",children:[t.jsxs("div",{className:"bg-white p-4 border-b border-gray-200 flex justify-between items-start shadow-sm z-10",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:K.subject}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 flex-wrap",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(va,{size:14})," ",K.userName||"User"]}),t.jsx("span",{className:"text-gray-300",children:"|"}),t.jsxs("span",{className:"font-mono text-gray-400",children:["ID: ",K.id.slice(0,8)]}),K.projectName&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-gray-300",children:"|"}),t.jsx("span",{children:K.projectName})]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[D.map(fe=>t.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1 ${ie(fe).bg} ${ie(fe).text}`,children:[fe,t.jsx("button",{onClick:()=>qe(fe),children:t.jsx(Zs,{size:10})})]},fe)),t.jsx("div",{className:"flex items-center gap-1",children:t.jsx("input",{value:I,onChange:fe=>Z(fe.target.value),onKeyDown:fe=>fe.key==="Enter"&&re(),placeholder:"+ tag",className:"w-16 text-[10px] px-1 py-0.5 border border-gray-200 rounded"})})]})]}),t.jsxs("div",{className:"flex flex-col items-end gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[K.status!=="archived"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>Ne("open"),className:`p-1.5 rounded-sm transition-colors ${K.status==="open"?"bg-red-100 text-red-600":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:"Open",children:t.jsx(xk,{size:14})}),t.jsx("button",{onClick:()=>Ne("in-progress"),className:`p-1.5 rounded-sm transition-colors ${K.status==="in-progress"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-blue-500 hover:bg-blue-50"}`,title:"In Progress",children:t.jsx(dc,{size:14})}),t.jsx("button",{onClick:()=>Ne("pending"),className:`p-1.5 rounded-sm transition-colors ${K.status==="pending"?"bg-amber-100 text-amber-600":"text-gray-400 hover:text-amber-500 hover:bg-amber-50"}`,title:"Pending",children:t.jsx(DM,{size:14})}),t.jsx("button",{onClick:()=>Ne("closed"),className:`p-1.5 rounded-sm transition-colors ${K.status==="closed"?"bg-green-100 text-green-600":"text-gray-400 hover:text-green-500 hover:bg-green-50"}`,title:"Close",children:t.jsx(tc,{size:14})}),t.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),t.jsx("button",{onClick:Me,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-sm",title:"Archive",children:t.jsx(iD,{size:14})})]}),K.status==="archived"&&t.jsx("button",{onClick:yt,className:"p-1.5 text-gray-400 hover:text-blue-500 hover:bg-blue-50 rounded-sm",title:"Unarchive",children:t.jsx(xk,{size:14})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>ye(!G),className:"flex items-center gap-1 px-2 py-1 text-[10px] font-bold uppercase border border-gray-200 rounded-sm hover:bg-gray-50",children:[K.assigneeName?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 rounded-full bg-[#ff4d00] flex items-center justify-center",children:t.jsx(va,{size:8,className:"text-white"})}),K.assigneeName]}):t.jsxs(t.Fragment,{children:[t.jsx(va,{size:12}),"Assign"]}),t.jsx(dr,{size:10})]}),G&&t.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 shadow-lg rounded-sm z-50",children:t.jsxs("div",{className:"p-1",children:[t.jsx("button",{onClick:()=>{we(null),ye(!1)},className:"w-full text-left px-3 py-2 text-xs hover:bg-gray-100 rounded-sm",children:"Unassigned"}),Ee.map(fe=>t.jsxs("button",{onClick:()=>{we(fe.id),ye(!1)},className:`w-full text-left px-3 py-2 text-xs hover:bg-gray-100 rounded-sm flex items-center gap-2 ${K.assigneeId===fe.id?"bg-orange-50 text-[#ff4d00]":""}`,children:[t.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center",children:t.jsx(va,{size:10})}),fe.name||fe.email]},fe.id))]})})]}),t.jsxs("select",{value:K.priority,onChange:fe=>Le(fe.target.value),className:`text-[10px] font-bold uppercase border border-gray-200 rounded-sm px-2 py-1 outline-none cursor-pointer ${K.priority==="high"?"text-red-500 border-red-200":"text-gray-500"}`,children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>P(!_),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-sm",title:"Toggle Customer Panel",children:t.jsx(Rr,{size:14})}),t.jsx("button",{onClick:ze,className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-sm",children:t.jsx(_n,{size:14})})]})]})]}),t.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:(It=K.messages)==null?void 0:It.map(fe=>t.jsx("div",{className:`flex ${fe.sender==="admin"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[80%] ${fe.sender==="admin"?"items-end":"items-start"} flex flex-col`,children:[fe.isInternalNote&&t.jsxs("span",{className:"text-[10px] font-bold text-amber-500 uppercase mb-1 flex items-center gap-1",children:[t.jsx(Pf,{size:10})," Internal Note"]}),t.jsxs("div",{className:`p-4 shadow-sm text-sm leading-relaxed ${fe.isInternalNote?"bg-amber-50 text-gray-900 border border-amber-200 rounded-lg":fe.sender==="admin"?"bg-black text-white rounded-l-lg rounded-tr-lg":"bg-white text-gray-900 border border-gray-200 rounded-r-lg rounded-tl-lg"}`,children:[fe.text,fe.attachments&&fe.attachments.length>0&&t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200/20 space-y-1",children:fe.attachments.map((he,De)=>t.jsxs("div",{className:"flex items-center gap-2 text-xs opacity-80 bg-white/10 p-2 rounded-sm",children:[t.jsx(pf,{size:12})," ",he]},De))})]}),t.jsxs("span",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase tracking-wide",children:[fe.sender==="admin"?"You":K.userName,"  ",fe.date]})]})},fe.id))}),t.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[O&&M.length>0&&t.jsxs("div",{className:"mb-2 p-2 bg-gray-50 border border-gray-200 rounded-sm max-h-40 overflow-y-auto",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2",children:"Quick Responses"}),M.map(fe=>t.jsxs("button",{onClick:()=>rt(fe.content),className:"w-full text-left px-2 py-1.5 text-xs hover:bg-gray-100 rounded-sm",children:[t.jsx("span",{className:"font-bold",children:fe.title}),t.jsxs("span",{className:"text-gray-400 ml-2",children:["/",fe.shortcut]})]},fe.id))]}),f.length>0&&t.jsx("div",{className:"flex gap-2 mb-2 flex-wrap",children:f.map((fe,he)=>t.jsxs("div",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-sm flex items-center gap-1",children:[fe," ",t.jsx("button",{onClick:()=>u(f.filter(De=>De!==fe)),children:t.jsx(Zs,{size:12})})]},he))}),t.jsxs("div",{className:"flex items-center gap-2 mb-2 text-xs",children:[t.jsxs("button",{onClick:()=>X(!$),className:`flex items-center gap-1 px-2 py-1 rounded-sm transition-colors ${$?"bg-amber-100 text-amber-700":"text-gray-400 hover:text-gray-600"}`,children:[$?t.jsx(Pf,{size:14}):t.jsx(Ic,{size:14}),$?"Internal Note":"Reply"]}),t.jsx("div",{className:"h-3 w-px bg-gray-200"}),t.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:t.jsx(SD,{size:14})}),t.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:t.jsx(VM,{size:14})}),t.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:t.jsx(YM,{size:14})}),t.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:t.jsx(Df,{size:14})})]}),t.jsxs("div",{className:"flex gap-2 items-end",children:[t.jsxs("label",{className:"p-2 text-gray-400 hover:text-black cursor-pointer transition-colors",children:[t.jsx(pf,{size:18}),t.jsx("input",{type:"file",className:"hidden",onChange:J})]}),t.jsx("textarea",{ref:Re,value:l,onChange:fe=>c(fe.target.value),onKeyDown:fe=>{fe.key==="/"&&l===""&&(fe.preventDefault(),U(!0)),fe.key==="Enter"&&!fe.shiftKey&&!O&&(fe.preventDefault(),Ce())},placeholder:$?"Internal note (not visible to customer)...":"Type your reply... (type / for templates)",className:`flex-1 bg-[#f9fafb] border p-2 text-sm outline-none resize-none h-16 min-h-[48px] max-h-32 transition-colors ${$?"border-amber-200 focus:border-amber-400":"border-gray-200 focus:border-[#ff4d00]"}`}),t.jsx("button",{onClick:Ce,disabled:!l&&f.length===0,className:`p-2.5 hover:opacity-80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${$?"bg-amber-500 text-white":"bg-[#ff4d00] text-white"}`,children:t.jsx(eu,{size:18})})]})]})]}),_&&C&&t.jsxs("div",{className:"w-64 border-l border-gray-200 bg-white p-4 overflow-y-auto",children:[t.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Customer Info"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Plan"}),t.jsx("div",{className:`inline-block px-2 py-1 rounded-sm text-xs font-bold ${C.plan==="enterprise"?"bg-purple-100 text-purple-600":C.plan==="professional"?"bg-blue-100 text-blue-600":C.plan==="pro"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:((Ss=C.plan)==null?void 0:Ss.toUpperCase())||"FREE"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Member Since"}),t.jsx("div",{className:"text-sm font-medium",children:is(C.created_at)})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Lifetime Value"}),t.jsx("div",{className:"text-sm font-bold text-green-600",children:Ue(C.lifetime_value)})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Total Tickets"}),t.jsx("div",{className:"text-sm font-medium",children:C.total_tickets})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Open Tickets"}),t.jsx("div",{className:"text-sm font-medium",children:C.open_tickets})]}),t.jsx("div",{className:"pt-4 border-t border-gray-100",children:t.jsx("button",{className:"w-full px-3 py-2 bg-gray-100 text-gray-700 text-xs font-bold uppercase hover:bg-gray-200 rounded-sm",children:"View All Tickets"})})]})]})]})]}):t.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-300",children:[t.jsx(en,{size:64,className:"mb-4 opacity-20"}),t.jsx("p",{className:"text-sm font-medium",children:"Select a conversation to view details"})]})]})]})},Nz=({projects:a,onEditProject:e,onEditUser:s,onBulkUpdate:r})=>{const[i,l]=w.useState(""),[c,f]=w.useState("all"),[u,m]=w.useState(new Set),[g,b]=w.useState(!1),[v,E]=w.useState(!1),[N,S]=w.useState({dateFrom:"",dateTo:"",tier:"",minHits:"",maxHits:"",minBalance:"",maxBalance:""}),[T,O]=w.useState([{key:"campaign",label:"Campaign",visible:!0,required:!0},{key:"email",label:"User Email",visible:!0},{key:"created",label:"Created",visible:!0},{key:"hits",label:"Total Hits",visible:!0},{key:"today",label:"Today",visible:!0},{key:"balance",label:"User Balance",visible:!0},{key:"tier",label:"Tier",visible:!0},{key:"expires",label:"Expires",visible:!0},{key:"status",label:"Status",visible:!0,required:!0},{key:"actions",label:"Actions",visible:!0,required:!0}]),U=w.useRef(null),M=B=>{try{return new URL(B).hostname.replace("www.","")}catch{return B}},L=B=>B?new Date(B).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-",$=B=>B?new Date(B).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",X=B=>B==null?"0":B.toLocaleString(),C=(B,F)=>{const se=B||F;if(!se)return null;const je=new Date(se),Ce=new Date;return Math.ceil((je.getTime()-Ce.getTime())/(1e3*60*60*24))},R=B=>{const F=C(B.expiresAt,B.expires);return F!==null&&F>=0&&F<=7},_=B=>!B.totalTarget||B.totalTarget===0?0:Math.min(100,Math.round((B.totalHits||0)/B.totalTarget*100)),P=B=>{const F=(B||"").toLowerCase();return F==="economy"?"Economy":F==="professional"?"Professional":F==="expert"?"Expert":"Standard"},D=B=>{const F=(B||"").toLowerCase();return F==="economy"?"bg-green-100 text-green-700":F==="professional"?"bg-blue-100 text-blue-700":F==="expert"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"},z=[{key:"all",label:"All",count:a.length},{key:"active",label:"Active",count:a.filter(B=>B.status==="active").length,icon:t.jsx(uk,{size:14})},{key:"stopped",label:"Stopped",count:a.filter(B=>B.status==="stopped").length,icon:t.jsx(dk,{size:14})},{key:"completed",label:"Completed",count:a.filter(B=>B.status==="completed").length},{key:"flagged",label:"Flagged",count:a.filter(B=>B.isFlagged).length,icon:t.jsx(hk,{size:14})},{key:"expiring",label:"Expiring Soon",count:a.filter(R).length,icon:t.jsx(ss,{size:14})},{key:"priority",label:"High Priority",count:a.filter(B=>(B.priority||0)>=5).length,icon:t.jsx(Vt,{size:14})}],I=w.useMemo(()=>a.filter(B=>{var Ce,Le;const F=B.name.toLowerCase().includes(i.toLowerCase())||B.id.toLowerCase().includes(i.toLowerCase())||B.userEmail&&B.userEmail.toLowerCase().includes(i.toLowerCase())||((Ce=B.settings)==null?void 0:Ce.entryUrls)&&B.settings.entryUrls.toLowerCase().includes(i.toLowerCase())||B.tier&&B.tier.toLowerCase().includes(i.toLowerCase());let se=!0;switch(c){case"active":se=B.status==="active";break;case"stopped":se=B.status==="stopped";break;case"completed":se=B.status==="completed";break;case"flagged":se=!!B.isFlagged;break;case"expiring":se=R(B);break;case"priority":se=(B.priority||0)>=5;break}let je=!0;if(N.dateFrom){const ze=B.createdAt?new Date(B.createdAt):null;ze&&ze<new Date(N.dateFrom)&&(je=!1)}if(N.dateTo){const ze=B.createdAt?new Date(B.createdAt):null;ze&&ze>new Date(N.dateTo)&&(je=!1)}return N.tier&&((Le=B.tier)==null?void 0:Le.toLowerCase())!==N.tier.toLowerCase()&&(je=!1),N.minHits&&(B.totalHits||0)<parseInt(N.minHits)&&(je=!1),N.maxHits&&(B.totalHits||0)>parseInt(N.maxHits)&&(je=!1),N.minBalance&&(B.userBalance||0)<parseFloat(N.minBalance)&&(je=!1),N.maxBalance&&(B.userBalance||0)>parseFloat(N.maxBalance)&&(je=!1),F&&se&&je}),[a,i,c,N]),Z=()=>{u.size===I.length?m(new Set):m(new Set(I.map(B=>B.id)))},Ee=B=>{const F=new Set(u);F.has(B)?F.delete(B):F.add(B),m(F)},te=B=>{if(u.size===0)return;const F={};switch(B){case"pause":F.status="stopped";break;case"activate":F.status="active";break;case"delete":break;case"priority":F.priority=5;break}r&&r(Array.from(u),F),m(new Set)},G=()=>{const B=["ID","Name","Email","Domain","Status","Tier","Total Hits","Today","Balance","Created","Expires"],F=I.map(Le=>{var ze;return[Le.id,Le.name,Le.userEmail||"",(ze=Le.settings)!=null&&ze.entryUrls?M(Le.settings.entryUrls):"",Le.status,Le.tier||"",Le.totalHits||0,Le.hitsToday||0,Le.userBalance||0,Le.createdAt||"",Le.expiresAt||Le.expires||""]}),se=[B,...F].map(Le=>Le.map(ze=>`"${String(ze).replace(/"/g,'""')}"`).join(",")).join(`
`),je=new Blob([se],{type:"text/csv;charset=utf-8;"}),Ce=document.createElement("a");Ce.href=URL.createObjectURL(je),Ce.download=`projects-export-${new Date().toISOString().split("T")[0]}.csv`,Ce.click()},ye=B=>{navigator.clipboard.writeText(B)},Re=B=>{O(F=>F.map(se=>se.key===B?{...se,visible:!se.visible}:se))},Pe=()=>{S({dateFrom:"",dateTo:"",tier:"",minHits:"",maxHits:"",minBalance:"",maxBalance:""})},K=Object.values(N).some(B=>B!==""),W=T.filter(B=>B.visible);return t.jsxs("div",{className:"animate-in fade-in space-y-4",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Mission Control"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("button",{onClick:G,className:"flex items-center gap-1.5 px-3 py-1.5 border border-gray-200 text-xs font-bold hover:bg-gray-50 transition-colors",children:[t.jsx(ei,{size:14})," Export CSV"]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>b(!g),className:"flex items-center gap-1.5 px-3 py-1.5 border border-gray-200 text-xs font-bold hover:bg-gray-50 transition-colors",children:[t.jsx(Pi,{size:14})," Columns",g?t.jsx(il,{size:14}):t.jsx(dr,{size:14})]}),g&&t.jsx("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 shadow-lg z-20 p-3 min-w-[180px]",children:T.map(B=>t.jsxs("label",{className:"flex items-center gap-2 py-1 cursor-pointer hover:bg-gray-50 px-1",children:[t.jsx("input",{type:"checkbox",checked:B.visible,disabled:B.required,onChange:()=>Re(B.key),className:"w-4 h-4"}),t.jsx("span",{className:"text-xs font-medium",children:B.label})]},B.key))})]})]})]}),t.jsx("div",{className:"flex gap-1 border-b border-gray-200 overflow-x-auto pb-px",children:z.map(B=>t.jsxs("button",{onClick:()=>f(B.key),className:`flex items-center gap-1.5 px-4 py-2.5 text-xs font-bold uppercase tracking-wide whitespace-nowrap border-b-2 transition-colors ${c===B.key?"border-[#ff4d00] text-[#ff4d00] bg-[#ff4d00]/5":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[B.icon,B.label,t.jsx("span",{className:`px-1.5 py-0.5 text-[10px] rounded ${c===B.key?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-500"}`,children:B.count})]},B.key))}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[t.jsxs("div",{className:"relative group",children:[t.jsx(Ha,{className:"absolute left-3 top-2.5 text-gray-400 group-focus-within:text-[#ff4d00]",size:16}),t.jsx("input",{type:"text",placeholder:"Search by Email, Domain, Name, ID, Tier...",value:i,onChange:B=>l(B.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 text-sm font-bold w-full sm:w-72 outline-none focus:border-[#ff4d00] transition-colors"})]}),t.jsxs("button",{onClick:()=>E(!v),className:`flex items-center gap-1.5 px-3 py-2 border text-sm font-bold transition-colors ${K?"border-[#ff4d00] text-[#ff4d00] bg-[#ff4d00]/5":"border-gray-200 hover:bg-gray-50"}`,children:[t.jsx(Rc,{size:14})," Advanced",K&&t.jsx("span",{className:"w-2 h-2 bg-[#ff4d00] rounded-full"})]})]}),u.size>0&&t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[#ff4d00]/5 border border-[#ff4d00]/20",children:[t.jsxs("span",{className:"text-xs font-bold text-[#ff4d00]",children:[u.size," selected"]}),t.jsx("button",{onClick:()=>te("activate"),className:"px-2 py-1 text-[10px] font-bold bg-green-100 text-green-700 hover:bg-green-200",children:"Activate"}),t.jsx("button",{onClick:()=>te("pause"),className:"px-2 py-1 text-[10px] font-bold bg-yellow-100 text-yellow-700 hover:bg-yellow-200",children:"Pause"}),t.jsx("button",{onClick:()=>te("priority"),className:"px-2 py-1 text-[10px] font-bold bg-purple-100 text-purple-700 hover:bg-purple-200",children:"High Priority"}),t.jsx("button",{onClick:()=>m(new Set),className:"p-1 hover:bg-gray-100",children:t.jsx(Zs,{size:14})})]})]}),v&&t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-7 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Created From"}),t.jsx("input",{type:"date",value:N.dateFrom,onChange:B=>S({...N,dateFrom:B.target.value}),className:"w-full px-2 py-1.5 border border-gray-200 text-xs"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Created To"}),t.jsx("input",{type:"date",value:N.dateTo,onChange:B=>S({...N,dateTo:B.target.value}),className:"w-full px-2 py-1.5 border border-gray-200 text-xs"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Tier"}),t.jsxs("select",{value:N.tier,onChange:B=>S({...N,tier:B.target.value}),className:"w-full px-2 py-1.5 border border-gray-200 text-xs bg-white",children:[t.jsx("option",{value:"",children:"All Tiers"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Min Hits"}),t.jsx("input",{type:"number",placeholder:"0",value:N.minHits,onChange:B=>S({...N,minHits:B.target.value}),className:"w-full px-2 py-1.5 border border-gray-200 text-xs"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Max Hits"}),t.jsx("input",{type:"number",placeholder:"999999",value:N.maxHits,onChange:B=>S({...N,maxHits:B.target.value}),className:"w-full px-2 py-1.5 border border-gray-200 text-xs"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Min Balance"}),t.jsx("input",{type:"number",step:"0.01",placeholder:"0",value:N.minBalance,onChange:B=>S({...N,minBalance:B.target.value}),className:"w-full px-2 py-1.5 border border-gray-200 text-xs"})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{onClick:Pe,className:"px-3 py-1.5 text-xs font-bold text-gray-500 hover:text-gray-700 border border-gray-200 hover:bg-white",children:"Clear Filters"})})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",ref:U,children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full min-w-[1200px]",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"w-10 px-3 py-3",children:t.jsx("button",{onClick:Z,className:"p-0.5",children:u.size===I.length&&I.length>0?t.jsx(tc,{size:16,className:"text-[#ff4d00]"}):t.jsx(tu,{size:16,className:"text-gray-400"})})}),W.map(B=>t.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest whitespace-nowrap",children:B.label},B.key))]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:I.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:W.length+1,className:"px-6 py-12 text-center text-gray-400 text-sm",children:"No campaigns found matching your criteria."})}):I.map(B=>{var je,Ce,Le,ze,J,Qe,Ze,lt,Ne,Me,yt,we;const F=C(B.expiresAt,B.expires),se=_(B);return t.jsxs("tr",{className:`hover:bg-gray-50 group transition-colors ${u.has(B.id)?"bg-[#ff4d00]/5":""}`,children:[t.jsx("td",{className:"w-10 px-3 py-3",children:t.jsx("button",{onClick:()=>Ee(B.id),className:"p-0.5",children:u.has(B.id)?t.jsx(tc,{size:16,className:"text-[#ff4d00]"}):t.jsx(tu,{size:16,className:"text-gray-300"})})}),((je=T.find(re=>re.key==="campaign"))==null?void 0:je.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"mt-0.5 p-1.5 bg-gray-100 rounded text-gray-500",children:t.jsx(Ns,{size:14})}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-sm font-bold text-gray-900 group-hover:text-[#ff4d00] transition-colors truncate",children:B.name}),B.isFlagged&&t.jsx(hk,{size:12,className:"text-red-500 fill-current"}),(B.priority||0)>=5&&t.jsx(Vt,{size:12,className:"text-yellow-500 fill-current"})]}),t.jsx("div",{className:"text-xs text-gray-500 font-mono mt-0.5 max-w-[200px] truncate",title:(Ce=B.settings)==null?void 0:Ce.entryUrls,children:(Le=B.settings)!=null&&Le.entryUrls?M(B.settings.entryUrls):"No URL"}),t.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[t.jsxs("span",{className:"text-[10px] text-gray-400 font-mono cursor-pointer hover:text-gray-600",onClick:()=>ye(B.id),title:"Click to copy",children:["ID: ",B.id.substring(0,8),"..."]}),t.jsx("button",{onClick:()=>ye(B.id),className:"p-0.5 hover:bg-gray-100 rounded",children:t.jsx(oa,{size:10,className:"text-gray-400"})})]})]})]})}),((ze=T.find(re=>re.key==="email"))==null?void 0:ze.visible)&&t.jsx("td",{className:"px-4 py-3",children:B.userEmail?t.jsxs("button",{onClick:()=>s&&s(B.userId),className:"flex items-center gap-1.5 text-xs font-medium text-gray-700 hover:text-[#ff4d00] transition-colors",title:"Click to view user",children:[t.jsx(Nn,{size:12,className:"text-gray-400"}),t.jsx("span",{className:"truncate max-w-[150px]",children:B.userEmail})]}):t.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),((J=T.find(re=>re.key==="created"))==null?void 0:J.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[t.jsx(ri,{size:12,className:"text-gray-400"}),t.jsx("span",{title:$(B.createdAt),children:L(B.createdAt)})]})}),((Qe=T.find(re=>re.key==="hits"))==null?void 0:Qe.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"min-w-[100px]",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-700",children:[X(B.totalHits)," / ",X(B.totalTarget)]}),t.jsx("div",{className:"mt-1 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all ${se>=100?"bg-green-500":se>=75?"bg-blue-500":"bg-[#ff4d00]"}`,style:{width:`${se}%`}})}),t.jsxs("div",{className:"text-[10px] text-gray-400 mt-0.5",children:[se,"%"]})]})}),((Ze=T.find(re=>re.key==="today"))==null?void 0:Ze.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"text-xs font-bold text-gray-700",children:X(B.hitsToday)})}),((lt=T.find(re=>re.key==="balance"))==null?void 0:lt.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:"text-xs font-bold text-gray-700",children:["$",(B.userBalance||0).toFixed(2)]})}),((Ne=T.find(re=>re.key==="tier"))==null?void 0:Ne.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`inline-block px-2 py-0.5 text-[10px] font-bold uppercase tracking-wide rounded ${D(B.tier)}`,children:P(B.tier)})}),((Me=T.find(re=>re.key==="expires"))==null?void 0:Me.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(ss,{size:12,className:`${F!==null&&F<=7?"text-yellow-500":"text-gray-400"}`}),t.jsx("span",{className:`text-xs ${F!==null&&F<=7?"text-yellow-700 font-bold":"text-gray-600"}`,children:L(B.expiresAt||B.expires)}),F!==null&&F<=7&&F>0&&t.jsxs("span",{className:"text-[10px] bg-yellow-100 text-yellow-700 px-1 rounded",children:[F,"d"]}),F!==null&&F<=0&&t.jsx("span",{className:"text-[10px] bg-red-100 text-red-700 px-1 rounded",children:"Expired"})]})}),((yt=T.find(re=>re.key==="status"))==null?void 0:yt.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 text-[9px] font-black uppercase tracking-wider rounded-full ${B.status==="active"?"bg-[#ff4d00]/10 text-[#ff4d00] ring-1 ring-[#ff4d00]/20":B.status==="completed"?"bg-green-100 text-green-700 ring-1 ring-green-600/20":"bg-gray-100 text-gray-500 ring-1 ring-gray-200"}`,children:[B.status==="active"?t.jsx(uk,{size:10,className:"fill-current"}):B.status==="stopped"?t.jsx(dk,{size:10}):null,B.status]})}),((we=T.find(re=>re.key==="actions"))==null?void 0:we.visible)&&t.jsx("td",{className:"px-4 py-3 text-right",children:t.jsxs("button",{onClick:()=>e(B.id),className:"bg-white border border-gray-200 hover:border-black hover:bg-black hover:text-white text-gray-600 px-3 py-1.5 text-[10px] font-bold uppercase tracking-wider transition-all rounded-sm inline-flex items-center gap-1.5 shadow-sm",children:[t.jsx(xw,{size:12})," Manage"]})})]},B.id)})})]})})}),t.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[t.jsxs("span",{children:["Showing ",I.length," of ",a.length," projects"]}),u.size>0&&t.jsxs("span",{children:[u.size," selected for bulk action"]})]})]})},_z=({transactions:a,onEditTransaction:e})=>t.jsxs("div",{className:"animate-in fade-in",children:[t.jsxs("div",{className:"flex justify-between items-end mb-6",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Global Transactions"}),t.jsxs("button",{className:"flex items-center gap-2 bg-white border border-gray-200 px-4 py-2 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00]",children:[t.jsx(ei,{size:14})," Export CSV"]})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Trx ID"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User ID"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:a.map(s=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:s.id}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:s.date}),t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-400",children:s.userId||"N/A"}),t.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:s.desc}),t.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${s.type==="credit"?"text-green-600":"text-red-500"}`,children:[s.type==="credit"?"+":"-","",s.amount.toFixed(2)]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("button",{onClick:()=>e(s.id),className:"bg-gray-100 hover:bg-black hover:text-white text-gray-600 px-3 py-1.5 text-[10px] font-bold uppercase tracking-wider transition-colors rounded-sm flex items-center gap-2 ml-auto",children:[t.jsx(xw,{size:12})," Edit"]})})]},s.id))})]})})]}),kz=({initialSettings:a,onSave:e})=>{const[s,r]=w.useState(a),i=()=>{H.saveSystemSettings(s),e(),alert("System settings updated.")};return t.jsxs("div",{className:"animate-in fade-in max-w-2xl",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"System Settings"}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Site Name"}),t.jsx("input",{value:s.siteName,onChange:l=>r({...s,siteName:l.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Support Email"}),t.jsx("input",{value:s.supportEmail,onChange:l=>r({...s,supportEmail:l.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2 flex items-center gap-1",children:[t.jsx(Zd,{size:12})," SparkTraffic API Key"]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{value:s.sparkTrafficApiKey||"",onChange:l=>r({...s,sparkTrafficApiKey:l.target.value}),type:"password",className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-mono text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Enter API Key from v2.sparktraffic.com"}),t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:t.jsx(Zd,{size:16})})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Maintenance Mode"}),t.jsx("button",{onClick:()=>r({...s,maintenanceMode:!s.maintenanceMode}),className:`w-12 h-6 flex items-center p-1 transition-colors duration-300 ${s.maintenanceMode?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${s.maintenanceMode?"translate-x-6":"translate-x-0"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Allow New Registrations"}),t.jsx("button",{onClick:()=>r({...s,allowRegistrations:!s.allowRegistrations}),className:`w-12 h-6 flex items-center p-1 transition-colors duration-300 ${s.allowRegistrations?"bg-green-500":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${s.allowRegistrations?"translate-x-6":"translate-x-0"}`})})]}),t.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[t.jsxs("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2 flex items-center gap-1",children:[t.jsx(_a,{size:12})," Blocked Domains (Free Tier)"]}),t.jsx("textarea",{value:(s.blockedDomainsForFree||[]).join(`
`),onChange:l=>r({...s,blockedDomainsForFree:l.target.value.split(`
`).map(c=>c.trim()).filter(Boolean)}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 focus:border-[#ff4d00] outline-none h-32 resize-y",placeholder:`competitor1.com
spammy-site.net
malware-domain.xyz`}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"One domain per line. These domains will be blocked for free tier users (in addition to URL shorteners, free subdomain services, and rotating link services which are blocked by default)."})]}),t.jsx("div",{className:"pt-4 border-t border-gray-100",children:t.jsxs("button",{onClick:i,className:"bg-black text-white px-8 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(tn,{size:14})," Save Configuration"]})})]})]})},Sz=({onRefresh:a})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!1),[l,c]=w.useState(""),[f,u]=w.useState(""),[m,g]=w.useState("info"),[b,v]=w.useState(""),[E,N]=w.useState(""),[S,T]=w.useState(!1),[O,U]=w.useState(""),[M,L]=w.useState(""),$=60,X=250,C=async()=>{i(!0);const Z=await H.getAdminBroadcasts();s(Z),i(!1)};w.useEffect(()=>{C()},[]);const R=async()=>{if(!l.trim()||!f.trim())return;let Z;S&&O&&M&&(Z=new Date(`${O}T${M}`).toISOString()),await H.createBroadcast({title:l.substring(0,$),message:f.substring(0,X),type:m,isActive:!0,expiresAt:Z,actionUrl:b.trim()||void 0,actionText:E.trim()||void 0}),c(""),u(""),g("info"),v(""),N(""),T(!1),U(""),L(""),C(),a&&a()},_=async Z=>{await H.updateBroadcast(Z.id,{...Z,isActive:!Z.isActive}),C()},P=async Z=>{window.confirm("Are you sure you want to delete this broadcast?")&&(await H.deleteBroadcast(Z),C())},D=Z=>{if(c(Z.title),u(Z.message),g(Z.type),v(Z.actionUrl||""),N(Z.actionText||""),Z.expiresAt){const Ee=new Date(Z.expiresAt);T(!0),U(Ee.toISOString().split("T")[0]),L(Ee.toTimeString().split(" ")[0].substring(0,5))}else T(!1);window.scrollTo({top:0,behavior:"smooth"})},z=Z=>{switch(Z){case"success":return"bg-green-500 border-green-500";case"warning":return"bg-orange-500 border-orange-500";case"critical":return"bg-red-500 border-red-500";default:return"bg-blue-500 border-blue-500"}},I=Z=>{switch(Z){case"success":return t.jsx(xt,{size:14,className:"text-white"});case"warning":return t.jsx(as,{size:14,className:"text-white"});case"critical":return t.jsx(ic,{size:14,className:"text-white"});default:return t.jsx(lc,{size:14,className:"text-white"})}};return t.jsxs("div",{className:"animate-in fade-in",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"System Broadcasts"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm mb-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(rv,{size:14})," Create New Broadcast"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx(Sd,{children:"Title / Headline"}),t.jsxs("span",{className:`text-[9px] font-bold ${l.length>$?"text-red-500":"text-gray-400"}`,children:[l.length,"/",$]})]}),t.jsx("input",{value:l,onChange:Z=>c(Z.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] font-bold",placeholder:"e.g. Scheduled Maintenance",maxLength:$+10})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx(Sd,{children:"Message Body"}),t.jsxs("span",{className:`text-[9px] font-bold ${f.length>X?"text-red-500":"text-gray-400"}`,children:[f.length,"/",X]})]}),t.jsx("textarea",{value:f,onChange:Z=>u(Z.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] font-medium h-24 resize-none",placeholder:"Detailed explanation...",maxLength:X+20})]}),t.jsxs("div",{className:"w-full md:w-48",children:[t.jsx(Sd,{children:"Type"}),t.jsxs("select",{value:m,onChange:Z=>g(Z.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"info",children:"Info (Blue)"}),t.jsx("option",{value:"success",children:"Success (Green)"}),t.jsx("option",{value:"warning",children:"Warning (Orange)"}),t.jsx("option",{value:"critical",children:"Critical (Red)"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-50 pt-6",children:[t.jsxs("div",{children:[t.jsx(Sd,{children:"Action URL (Optional)"}),t.jsx("input",{value:b,onChange:Z=>v(Z.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",placeholder:"https://example.com/blog"})]}),t.jsxs("div",{children:[t.jsx(Sd,{children:"Action Button Text"}),t.jsx("input",{value:E,onChange:Z=>N(Z.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",placeholder:"Read More"})]})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(Sd,{children:"Auto-Expire (Hidden after)"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>T(!S),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${S?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${S?"translate-x-5":"translate-x-0"}`})}),t.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:S?"Enabled":"Disabled"})]})]}),S&&t.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-in fade-in slide-in-from-top-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1 block",children:"Expiry Date"}),t.jsx("input",{type:"date",value:O,onChange:Z=>U(Z.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1 block",children:"Expiry Time"}),t.jsx("input",{type:"time",value:M,onChange:Z=>L(Z.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]"})]})]})]}),t.jsxs("button",{onClick:R,disabled:l.length>$||f.length>X,className:"w-full bg-black text-white py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:hover:bg-black",children:[t.jsx(rv,{size:14})," Publish Broadcast"]})]})]})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400",children:"Archived & Active"}),t.jsx("button",{onClick:C,className:"text-[10px] font-bold text-[#ff4d00] underline uppercase",children:"Refresh"})]}),t.jsxs("div",{className:"space-y-4",children:[r&&t.jsx("div",{className:"text-center p-4 text-gray-400 text-xs",children:"Loading..."}),!r&&e.length===0&&t.jsx("div",{className:"p-8 text-center text-gray-400 border border-gray-200 border-dashed bg-gray-50",children:"No broadcasts found."}),e.map(Z=>t.jsxs("div",{className:`p-6 border-l-4 shadow-sm bg-white relative group ${Z.isActive?z(Z.type).split(" ")[1]:"opacity-60 grayscale"}`,children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:`flex items-center gap-1 text-[9px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded-sm text-white ${z(Z.type).split(" ")[0]}`,children:[I(Z.type)," ",Z.type]}),t.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:new Date(Z.createdAt).toLocaleDateString()})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>D(Z),className:"text-gray-300 hover:text-black transition-colors",title:"Duplicate Broadcast",children:t.jsx(oa,{size:14})}),t.jsx("button",{onClick:()=>P(Z.id),className:"text-gray-300 hover:text-red-500 transition-colors",children:t.jsx(_n,{size:14})})]})]}),t.jsx("h4",{className:"font-black text-sm uppercase mb-1",children:Z.title}),t.jsx("p",{className:"text-xs font-medium text-gray-600 mb-3",children:Z.message}),Z.actionUrl&&t.jsxs("div",{className:"mb-3 flex items-center gap-1 text-[10px] font-bold text-[#ff4d00] uppercase tracking-wider",children:[t.jsx(oc,{size:10})," ",Z.actionText||"Action",": ",t.jsx("span",{className:"text-gray-400 font-medium normal-case",children:Z.actionUrl})]}),t.jsxs("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-50 text-[10px] text-gray-500 font-bold uppercase transition-colors",children:[Z.expiresAt&&t.jsxs("div",{className:"flex items-center gap-1 text-[#ff4d00]",children:[t.jsx(ss,{size:12})," Expires: ",new Date(Z.expiresAt).toLocaleString()]}),!Z.expiresAt&&t.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[t.jsx(ss,{size:12})," No Expiration"]})]}),t.jsx("div",{className:"mt-4",children:t.jsxs("button",{onClick:()=>_(Z),className:`text-xs font-bold uppercase flex items-center gap-2 ${Z.isActive?"text-green-600":"text-gray-400"}`,children:[Z.isActive?t.jsx(u9,{size:20}):t.jsx(c9,{size:20}),Z.isActive?"Live":"Hidden"]})})]},Z.id))]})]})]})]})},Sd=({children:a})=>t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:a}),Tz=({onStartChat:a})=>{var E;const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(""),f=async()=>{const N=await H.getRealTimeVisitors();s(N),i(!1)};w.useEffect(()=>{f();const N=setInterval(f,1e4);return()=>clearInterval(N)},[]);const u=N=>{let T=H.getTickets().find(O=>(N.userId?O.userId===N.userId:!1)&&O.type==="chat"&&O.status!=="closed");if(!T){const O={id:`C-${Date.now().toString().slice(-4)}`,type:"chat",userId:N.userId||`guest-${Date.now()}`,userName:N.name,guestEmail:N.email!=="Unknown"?N.email:void 0,subject:"Admin Initiated Chat",status:"open",priority:"medium",date:new Date().toLocaleDateString(),lastMessage:"Admin started chat",unread:!1,messages:[{id:`m-${Date.now()}`,sender:"admin",text:"Hello! I noticed you are online. How can I help you today?",date:new Date().toLocaleString()}]};H.createTicket(O),T=O}a(T.id)},m=e.filter(N=>N.name.toLowerCase().includes(l.toLowerCase())||N.email.toLowerCase().includes(l.toLowerCase())||N.location.toLowerCase().includes(l.toLowerCase())),g=e.filter(N=>N.device==="Mobile").length,b=e.filter(N=>N.device==="Desktop").length,v=e.length>0?(E=e.sort((N,S)=>e.filter(T=>T.currentPage===N.currentPage).length-e.filter(T=>T.currentPage===S.currentPage).length).pop())==null?void 0:E.currentPage:"N/A";return t.jsxs("div",{className:"animate-in fade-in h-full flex flex-col",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-6 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxs("span",{className:"relative flex h-3 w-3",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-500 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-green-600",children:"Live Network Data"})]}),t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Real-Time Visitors"})]}),t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px]",children:[t.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Mobile"}),t.jsx("span",{className:"text-lg font-black text-gray-900",children:g})]}),t.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px]",children:[t.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Desktop"}),t.jsx("span",{className:"text-lg font-black text-gray-900",children:b})]}),t.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px] hidden md:flex",children:[t.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Top Page"}),t.jsx("span",{className:"text-xs font-black text-gray-900 truncate max-w-[80px]",children:v})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search IP, Name...",value:l,onChange:N=>c(N.target.value),className:"bg-white border border-gray-200 pl-10 pr-4 py-3 text-sm outline-none focus:border-[#ff4d00] shadow-sm w-48"}),t.jsx(Ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14})]})]})]}),e.length===0&&!r&&t.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 mb-6 flex items-center gap-3",children:[t.jsx(as,{className:"text-orange-500",size:20}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-orange-800",children:"No active visitors"}),t.jsx("p",{className:"text-xs text-orange-700",children:"The database is currently empty of live sessions. Open the site in an Incognito window to see yourself appear here."})]})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden flex-1",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User Identity"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Current Page"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Last Active"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Environment"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:r?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400 animate-pulse",children:"Scanning live network..."})}):m.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400",children:"No active users found matching your filter."})}):m.map(N=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:N.name.charAt(0)}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[N.name,N.role==="guest"&&t.jsx("span",{className:"bg-gray-200 text-gray-600 text-[9px] px-1.5 py-0.5 rounded-sm uppercase",children:"Guest"})]}),t.jsx("div",{className:"text-[10px] text-gray-400",children:N.email}),t.jsxs("div",{className:"text-[9px] text-gray-300 mt-0.5 flex items-center gap-1",children:[t.jsx(Ns,{size:10})," ",N.location]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-gray-700 font-mono bg-gray-100 px-2 py-1 rounded-sm",children:N.currentPage})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"text-xs font-bold text-gray-600 flex items-center gap-1",children:[t.jsx(ss,{size:12,className:"text-gray-400"})," ",N.lastActive]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("div",{className:"text-xs font-medium text-gray-600 flex items-center gap-2",children:[N.device.includes("Mobile")?t.jsx(px,{size:14}):t.jsx(cc,{size:14}),N.device," / ",N.browser]}),t.jsx("div",{className:"text-[10px] text-gray-400 font-mono mt-1",children:N.ip})]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("button",{onClick:()=>u(N),className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 ml-auto shadow-sm",children:[t.jsx(en,{size:12})," Chat"]})})]},N.id))})]})})})]})},Ez=({userId:a,onNavigateToProject:e,onUpdate:s})=>{var W,B;const[r,i]=w.useState(null),[l,c]=w.useState([]),[f,u]=w.useState([]),[m,g]=w.useState([]),[b,v]=w.useState(!0),[E,N]=w.useState(null),[S,T]=w.useState(""),[O,U]=w.useState("economy"),[M,L]=w.useState(""),[$,X]=w.useState(!1);He.useEffect(()=>{C()},[a]);const C=async()=>{v(!0),N(null);try{const[F,se,je,Ce]=await Promise.all([H.getUserDetails(a),H.getUserTransactions(a),H.getUserProjects(a),H.getBalanceAdjustments(a)]);i(F),c(se),u(je),g(Ce)}catch(F){console.error("Failed to load user data:",F),N("Failed to load user data. Please try again.")}v(!1)},R=async()=>{if(!S||!M){alert("Please enter amount and reason");return}try{await H.addBonusHits(a,{tier:O,hits:parseInt(S),reason:M}),alert("Bonus hits added successfully"),X(!1),T(""),L(""),C(),s()}catch(F){alert(F.message||"Failed to add bonus hits")}},_=async()=>{if(confirm("Send password reset email to user?"))try{await H.sendPasswordReset(a),alert("Password reset email sent")}catch{alert("Failed to send password reset")}},P=async()=>{if(confirm("Resend verification email to user?"))try{await H.resendVerification(a),alert("Verification email sent")}catch{alert("Failed to send verification email")}},D=async()=>{if(confirm("Regenerate API key? This will invalidate the old key."))try{const F=await H.adminRegenerateApiKey(a);alert(`New API Key: ${F}`),C()}catch{alert("Failed to regenerate API key")}},z=async()=>{try{const F=await H.adminExportUserData(a),se=new Blob([JSON.stringify(F,null,2)],{type:"application/json"}),je=URL.createObjectURL(se),Ce=document.createElement("a");Ce.href=je,Ce.download=`user_${a}_export.json`,Ce.click(),URL.revokeObjectURL(je)}catch{alert("Failed to export user data")}},I=async()=>{if(!(r!=null&&r.user))return;const F=prompt("Enter suspension reason:");if(!F)return;const se={...r.user,status:"suspended",banReason:F};await H.updateUser(se),C(),s()},Z=async()=>{if(confirm("Log in as this user?"))try{await H.startImpersonation(a),window.location.href="/dashboard"}catch{alert("Failed to start impersonation")}};if(b)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."});if(E)return t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),E,t.jsx("button",{onClick:C,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]});if(!r)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No user details found."});const{user:Ee,tierBalances:te,totalSpent:G,totalHitsPurchased:ye,totalHitsUsed:Re,referralsCount:Pe,referralEarnings:K}=r;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(jn,{size:16,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Economy"})]}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:te.economy.toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]}),t.jsxs("div",{className:"bg-white border border-orange-200 p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Rf,{size:16,className:"text-orange-500"}),t.jsx("span",{className:"text-xs font-bold text-orange-500 uppercase",children:"Professional"})]}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:te.professional.toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]}),t.jsxs("div",{className:"bg-[#111] p-6 shadow-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Vt,{size:16,className:"text-[#ff4d00]"}),t.jsx("span",{className:"text-xs font-bold text-[#ff4d00] uppercase",children:"Expert"})]}),t.jsx("div",{className:"text-2xl font-black text-white",children:te.expert.toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-4",children:"Spending Summary"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Total Deposited"}),t.jsxs("div",{className:"text-xl font-black text-green-600",children:["",G.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Hits Purchased"}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:ye.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Hits Used"}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:Re.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Referrals"}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:Pe})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Referral Earnings"}),t.jsxs("div",{className:"text-xl font-black text-green-600",children:["",K.toFixed(2)]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("button",{onClick:()=>X(!$),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-xs font-bold uppercase hover:bg-green-700 transition-colors",children:[t.jsx(Ir,{size:14})," Add Bonus Hits"]}),t.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-xs font-bold uppercase hover:bg-blue-700 transition-colors",children:[t.jsx(Zd,{size:14})," Send Password Reset"]}),t.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white text-xs font-bold uppercase hover:bg-purple-700 transition-colors",children:[t.jsx(Sr,{size:14})," Resend Verification"]}),t.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white text-xs font-bold uppercase hover:bg-gray-700 transition-colors",children:[t.jsx(Zd,{size:14})," Regenerate API Key"]}),t.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-4 py-2 bg-[#ff4d00] text-white text-xs font-bold uppercase hover:bg-orange-700 transition-colors",children:[t.jsx(LT,{size:14})," Login As User"]}),t.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white text-xs font-bold uppercase hover:bg-gray-900 transition-colors",children:[t.jsx(ei,{size:14})," Export Data"]}),Ee.status==="active"?t.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-xs font-bold uppercase hover:bg-red-700 transition-colors",children:[t.jsx(as,{size:14})," Suspend Account"]}):t.jsxs("button",{onClick:async()=>{const F={...Ee,status:"active",banReason:""};await H.updateUser(F),C(),s()},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-xs font-bold uppercase hover:bg-green-700 transition-colors",children:[t.jsx(_a,{size:14})," Reactivate Account"]})]}),$&&t.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200",children:t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Tier"}),t.jsxs("select",{value:O,onChange:F=>U(F.target.value),className:"w-full p-2 text-sm border border-gray-200",children:[t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Hits"}),t.jsx("input",{type:"number",value:S,onChange:F=>T(F.target.value),placeholder:"50000",className:"w-full p-2 text-sm border border-gray-200"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Reason"}),t.jsx("input",{type:"text",value:M,onChange:F=>L(F.target.value),placeholder:"Bonus for testing",className:"w-full p-2 text-sm border border-gray-200"})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{onClick:R,className:"w-full py-2 bg-green-600 text-white text-xs font-bold uppercase hover:bg-green-700",children:"Add Hits"})})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Xd,{size:14})," Recent Projects (",f.length,")"]})}),f.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No projects found"}):t.jsx("div",{className:"divide-y divide-gray-50",children:f.slice(0,5).map(F=>{var se;return t.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 cursor-pointer",onClick:()=>e(F.id),children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-gray-900",children:F.name}),t.jsxs("div",{className:"text-xs text-gray-400",children:[F.tier,"  Created ",(se=F.createdAt)==null?void 0:se.split("T")[0]]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:`px-2 py-1 text-[10px] font-bold uppercase ${F.status==="active"?"bg-green-100 text-green-700":F.status==="stopped"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:F.status}),t.jsx(Ac,{size:16,className:"text-gray-400"})]})]},F.id)})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Ri,{size:14})," Recent Transactions (",l.length,")"]})}),l.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No transactions found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-right",children:"Amount"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:l.slice(0,5).map(F=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:F.date}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-900",children:F.desc}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:F.tier||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold",children:F.hits?F.hits.toLocaleString():"-"}),t.jsxs("td",{className:`px-6 py-3 text-xs font-bold text-right ${F.type==="credit"?"text-green-600":"text-gray-900"}`,children:[F.type==="credit"?"+":"-","",F.amount.toFixed(2)]})]},F.id))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(DT,{size:14})," Balance Adjustments (",m.length,")"]})}),m.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No balance adjustments found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Admin"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Reason"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:m.slice(0,5).map(F=>{var se;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:F.createdAt?new Date(F.createdAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-900",children:F.adminEmail||"System"}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:t.jsx("span",{className:F.adjustmentType==="credit"?"text-green-600":"text-red-600",children:F.adjustmentType})}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:F.tier||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold",children:t.jsxs("span",{className:F.adjustmentType==="credit"?"text-green-600":"text-red-600",children:[F.adjustmentType==="credit"?"+":"-",((se=F.hits)==null?void 0:se.toLocaleString())||"0"]})}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600",children:F.reason||"-"})]},F.id)})})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Ns,{size:14})," Login History"]}),((W=r==null?void 0:r.user)==null?void 0:W.lastIp)&&t.jsxs("span",{className:"text-xs text-gray-400",children:["Last IP: ",t.jsx("span",{className:"font-mono text-gray-600",children:r.user.lastIp})]})]}),!((B=r==null?void 0:r.user)!=null&&B.loginHistory)||r.user.loginHistory.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No login history found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"IP Address"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Device"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Type"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:r.user.loginHistory.map((F,se)=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:F.date||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs font-mono text-gray-900",children:F.ip||"-"}),t.jsxs("td",{className:"px-6 py-3 text-xs text-gray-600 flex items-center gap-2",children:[t.jsx(cc,{size:12,className:"text-gray-400"}),t.jsx("span",{className:"truncate max-w-[300px]",title:F.device,children:F.device||"-"})]}),t.jsx("td",{className:"px-6 py-3 text-xs",children:t.jsx("span",{className:`px-2 py-1 text-[10px] font-bold uppercase rounded ${F.type==="registration"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:F.type||"login"})})]},se))})]})]})]})},Cz=({userId:a})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(null),[f,u]=w.useState("all"),[m,g]=w.useState("all"),[b,v]=w.useState(1),E=20;w.useEffect(()=>{N()},[a]);const N=async()=>{i(!0),c(null);try{const L=await H.getUserTransactions(a);s(L)}catch(L){console.error("Failed to load transactions:",L),c("Failed to load transactions.")}i(!1)},S=e.filter(L=>!(f!=="all"&&L.type!==f||m!=="all"&&L.tier!==m)),T=Math.ceil(S.length/E),O=S.slice((b-1)*E,b*E),U=L=>{if(!L)return t.jsx("span",{className:"text-gray-400",children:"-"});const $={economy:"bg-gray-100 text-gray-600",professional:"bg-orange-100 text-orange-600",expert:"bg-[#ff4d00]/10 text-[#ff4d00]"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${$[L]||"bg-gray-100 text-gray-600"}`,children:L})},M=()=>{const L=["Date","Description","Tier","Hits","Amount","Status"],$=S.map(R=>[R.date,R.desc,R.tier||"",R.hits||"",R.amount.toFixed(2),R.status]),X="data:text/csv;charset=utf-8,"+L.join(",")+`
`+$.map(R=>R.join(",")).join(`
`),C=document.createElement("a");C.href=encodeURI(X),C.download=`transactions_${a}.csv`,C.click()};return r?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):l?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),l,t.jsx("button",{onClick:N,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rc,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filters:"})]}),t.jsxs("select",{value:f,onChange:L=>{u(L.target.value),v(1)},className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"credit",children:"Credits"}),t.jsx("option",{value:"debit",children:"Debits"})]}),t.jsxs("select",{value:m,onChange:L=>{g(L.target.value),v(1)},className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Tiers"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]}),t.jsx("div",{className:"flex-1"}),t.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white text-xs font-bold uppercase hover:bg-gray-900",children:[t.jsx(ei,{size:14})," Export CSV"]})]})}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-right",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-center",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:O.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No transactions found"})}):O.map(L=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 font-mono",children:L.date}),t.jsx("td",{className:"px-6 py-4 text-xs font-medium text-gray-900",children:L.desc}),t.jsx("td",{className:"px-6 py-4",children:U(L.tier)}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:L.hits?t.jsxs("span",{className:L.type==="credit"?"text-green-600":"text-red-600",children:[L.type==="credit"?"+":"-",L.hits.toLocaleString()]}):"-"}),t.jsxs("td",{className:`px-6 py-4 text-sm font-bold text-right ${L.type==="credit"?"text-green-600":"text-gray-900"}`,children:[L.type==="credit"?"+":"-","",L.amount.toFixed(2)]}),t.jsx("td",{className:"px-6 py-4 text-center",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${L.status==="completed"?"bg-green-100 text-green-700":L.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:L.status})})]},L.id))})]}),T>1&&t.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"text-xs text-gray-500",children:["Showing ",(b-1)*E+1," to ",Math.min(b*E,S.length)," of ",S.length]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>v(L=>Math.max(1,L-1)),disabled:b===1,className:"p-2 border border-gray-200 disabled:opacity-50",children:t.jsx(gw,{size:14})}),t.jsxs("span",{className:"text-xs font-bold",children:["Page ",b," of ",T]}),t.jsx("button",{onClick:()=>v(L=>Math.min(T,L+1)),disabled:b===T,className:"p-2 border border-gray-200 disabled:opacity-50",children:t.jsx(Ac,{size:14})})]})]})]})]})},Az=({userId:a,onNavigateToProject:e})=>{const[s,r]=w.useState([]),[i,l]=w.useState(!0),[c,f]=w.useState(null),[u,m]=w.useState("all"),[g,b]=w.useState("all");w.useEffect(()=>{v()},[a]);const v=async()=>{l(!0),f(null);try{const T=await H.getUserProjects(a);r(T)}catch(T){console.error("Failed to load projects:",T),f("Failed to load projects.")}l(!1)},E=s.filter(T=>!(u!=="all"&&T.status!==u||g!=="all"&&T.tier!==g)),N=T=>{const O={active:"bg-green-100 text-green-700",stopped:"bg-yellow-100 text-yellow-700",completed:"bg-gray-100 text-gray-700"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${O[T||""]||"bg-gray-100 text-gray-700"}`,children:T||"unknown"})},S=T=>{if(!T)return t.jsx("span",{className:"text-gray-400",children:"-"});const O={economy:"bg-gray-100 text-gray-600",professional:"bg-orange-100 text-orange-600",expert:"bg-[#ff4d00]/10 text-[#ff4d00]"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${O[T]||"bg-gray-100 text-gray-600"}`,children:T})};return i?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):c?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),c,t.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rc,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filters:"})]}),t.jsxs("select",{value:u,onChange:T=>m(T.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"stopped",children:"Stopped"}),t.jsx("option",{value:"completed",children:"Completed"})]}),t.jsxs("select",{value:g,onChange:T=>b(T.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Tiers"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]}),t.jsx("div",{className:"flex-1"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[E.length," projects"]})]})}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:E.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No projects found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits Sent"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Target"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Created"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Expires"}),t.jsx("th",{className:"px-6 py-3"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:E.map(T=>{var O,U,M;return t.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>e(T.id),children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"font-bold text-gray-900",children:T.name})}),t.jsx("td",{className:"px-6 py-4",children:N(T.status)}),t.jsx("td",{className:"px-6 py-4",children:S(T.tier)}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:(O=T.customTarget)!=null&&O.totalVisitors?T.customTarget.totalVisitors.toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:(U=T.customTarget)!=null&&U.dailyLimit?`${T.customTarget.dailyLimit.toLocaleString()}/day`:"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500 font-mono",children:((M=T.createdAt)==null?void 0:M.split("T")[0])||"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500 font-mono",children:T.expires||"-"}),t.jsx("td",{className:"px-6 py-4",children:t.jsx(Ac,{size:16,className:"text-gray-400"})})]},T.id)})})]})})]})},Iz=({userId:a})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(null),[f,u]=w.useState(null),[m,g]=w.useState(""),[b,v]=w.useState("all");w.useEffect(()=>{E()},[a]);const E=async()=>{i(!0),c(null);try{const O=await H.getUserTickets(a);s(O)}catch(O){console.error("Failed to load tickets:",O),c("Failed to load tickets.")}i(!1)},N=e.filter(O=>!(b!=="all"&&O.status!==b)),S=O=>{const U={open:"bg-green-100 text-green-700","in-progress":"bg-blue-100 text-blue-700",closed:"bg-gray-100 text-gray-700"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${U[O||""]||"bg-gray-100 text-gray-700"}`,children:O||"open"})},T=O=>{const U={low:"bg-gray-100 text-gray-600",medium:"bg-yellow-100 text-yellow-700",high:"bg-red-100 text-red-700"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${U[O||""]||"bg-gray-100 text-gray-600"}`,children:O||"low"})};return r?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):l?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),l,t.jsx("button",{onClick:E,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filter:"}),t.jsxs("select",{value:b,onChange:O=>v(O.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"open",children:"Open"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"closed",children:"Closed"})]}),t.jsx("div",{className:"flex-1"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[N.length," tickets"]})]})}),t.jsx("div",{className:"space-y-4",children:N.length===0?t.jsx("div",{className:"bg-white border border-gray-200 p-8 text-center text-gray-400",children:"No tickets found"}):N.map(O=>t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50",onClick:()=>u(f===O.id?null:O.id),children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(en,{size:16,className:"text-gray-400"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-gray-900",children:O.subject}),t.jsxs("div",{className:"text-xs text-gray-400",children:["Created: ",O.date]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[T(O.priority),S(O.status),f===O.id?t.jsx(il,{size:16}):t.jsx(dr,{size:16})]})]}),f===O.id&&t.jsxs("div",{className:"border-t border-gray-100",children:[t.jsx("div",{className:"p-4 max-h-96 overflow-y-auto space-y-4",children:O.messages&&O.messages.length>0?O.messages.map((U,M)=>t.jsxs("div",{className:`p-3 rounded ${U.sender==="admin"?"bg-blue-50 ml-8":"bg-gray-50 mr-8"}`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:`text-[10px] font-bold uppercase ${U.sender==="admin"?"text-blue-600":"text-gray-600"}`,children:U.sender==="admin"?"Support":"User"}),t.jsx("span",{className:"text-[10px] text-gray-400",children:U.date})]}),t.jsx("div",{className:"text-sm text-gray-700",children:U.text})]},M)):t.jsx("div",{className:"text-center text-gray-400 text-sm",children:"No messages yet"})}),O.status!=="closed"&&t.jsxs("div",{className:"p-4 border-t border-gray-100 flex gap-2",children:[t.jsx("input",{type:"text",value:m,onChange:U=>g(U.target.value),placeholder:"Type your reply...",className:"flex-1 p-3 border border-gray-200 text-sm"}),t.jsx("button",{className:"px-4 py-2 bg-[#ff4d00] text-white text-xs font-bold uppercase hover:bg-orange-700",children:t.jsx(eu,{size:14})})]})]})]},O.id))})]})},Rz=({userId:a,onUpdate:e})=>{const[s,r]=w.useState([]),[i,l]=w.useState([]),[c,f]=w.useState([]),[u,m]=w.useState(!0),[g,b]=w.useState(null);w.useEffect(()=>{v()},[a]);const v=async()=>{m(!0),b(null);try{const[N,S,T]=await Promise.all([H.getUserSessions(a),H.getImpersonationLog(a),H.getBalanceAdjustments(a)]);r(N),l(S),f(T)}catch(N){console.error("Failed to load security data:",N),b("Failed to load security data.")}m(!1)},E=async N=>{if(confirm("Terminate this session? User will be logged out."))try{await H.terminateUserSession(a,N),v()}catch{alert("Failed to terminate session")}};return u?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):g?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),g,t.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(cc,{size:14})," Active Sessions"]}),t.jsxs("span",{className:"text-xs text-gray-400",children:[s.length," active"]})]}),s.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No active sessions"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"IP Address"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Device"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Location"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Last Activity"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Expires"}),t.jsx("th",{className:"px-6 py-3"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:s.map(N=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-900",children:N.ipAddress||"Unknown"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 truncate max-w-[200px]",children:N.userAgent?N.userAgent.substring(0,50)+"...":"Unknown"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600",children:N.location||"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:N.lastActivity?new Date(N.lastActivity).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:N.expiresAt?new Date(N.expiresAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{onClick:()=>E(N.id),className:"text-red-500 hover:text-red-700",title:"Terminate Session",children:t.jsx(_n,{size:14})})})]},N.id))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(_a,{size:14})," Impersonation Log"]})}),i.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No impersonation history"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Admin"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Action"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"IP Address"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:i.map(N=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:N.createdAt?new Date(N.createdAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-900",children:N.adminEmail||N.adminId}),t.jsx("td",{className:"px-6 py-4 text-xs",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${N.action==="start"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:N.action})}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:N.ipAddress||"-"})]},N.id))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Zd,{size:14})," Balance Adjustment History"]})}),c.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No balance adjustments"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Admin"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Reason"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:c.map(N=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:N.createdAt?new Date(N.createdAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-900",children:N.adminEmail||"System"}),t.jsx("td",{className:"px-6 py-4 text-xs",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${N.adjustmentType==="credit"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:N.adjustmentType})}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 uppercase",children:N.tier||"-"}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:N.hits?`${N.adjustmentType==="credit"?"+":"-"}${N.hits.toLocaleString()}`:"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600",children:N.reason||"-"})]},N.id))})]})]})]})},Pz={login:{label:"Login",icon:"",color:"bg-green-50"},logout:{label:"Logout",icon:"",color:"bg-gray-50"},project_created:{label:"Project Created",icon:"",color:"bg-blue-50"},project_started:{label:"Project Started",icon:"",color:"bg-green-50"},project_stopped:{label:"Project Stopped",icon:"",color:"bg-yellow-50"},project_deleted:{label:"Project Deleted",icon:"",color:"bg-red-50"},purchase:{label:"Purchase",icon:"",color:"bg-green-50"},balance_adjusted:{label:"Balance Adjusted",icon:"",color:"bg-orange-50"},api_key_regenerated:{label:"API Key Regenerated",icon:"",color:"bg-purple-50"},settings_change:{label:"Settings Changed",icon:"",color:"bg-gray-50"},password_change:{label:"Password Changed",icon:"",color:"bg-blue-50"},ticket_created:{label:"Ticket Created",icon:"",color:"bg-indigo-50"},ticket_reply:{label:"Ticket Reply",icon:"",color:"bg-indigo-50"},impersonation_start:{label:"Impersonation Started",icon:"",color:"bg-red-50"},impersonation_end:{label:"Impersonation Ended",icon:"",color:"bg-red-50"}},Dz=({userId:a})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(null),[f,u]=w.useState("all"),[m,g]=w.useState(null);w.useEffect(()=>{b()},[a]);const b=async()=>{i(!0),c(null);try{const S=await H.getUserActivity(a,100,0,f!=="all"?f:void 0);s(S)}catch(S){console.error("Failed to load activities:",S),c("Failed to load activities.")}i(!1)};w.useEffect(()=>{b()},[f]);const v=e,E=S=>Pz[S]||{label:S,icon:"",color:"bg-gray-50"},N=Array.from(new Set(e.map(S=>S.actionType)));return r?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):l?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),l,t.jsx("button",{onClick:b,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rc,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filter:"})]}),t.jsxs("select",{value:f,onChange:S=>u(S.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Activities"}),N.map(S=>t.jsx("option",{value:S,children:E(S).label},S))]}),t.jsx("div",{className:"flex-1"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[v.length," activities"]})]})}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm",children:v.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No activity recorded yet"}):t.jsx("div",{className:"divide-y divide-gray-50",children:v.map(S=>{const T=E(S.actionType);return t.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>g(m===S.id?null:S.id),children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg ${T.color}`,children:T.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-bold text-gray-900",children:T.label}),t.jsx("span",{className:"ml-2 text-xs text-gray-400",children:S.createdAt?new Date(S.createdAt).toLocaleString():""})]}),m===S.id?t.jsx(il,{size:16,className:"text-gray-400"}):t.jsx(dr,{size:16,className:"text-gray-400"})]}),S.ipAddress&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["IP: ",S.ipAddress]}),m===S.id&&S.actionDetail&&Object.keys(S.actionDetail).length>0&&t.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded text-xs",children:[t.jsx("div",{className:"font-bold text-gray-500 mb-1",children:"Details:"}),t.jsx("pre",{className:"text-gray-600 whitespace-pre-wrap",children:JSON.stringify(S.actionDetail,null,2)})]}),m===S.id&&S.userAgent&&t.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded text-xs",children:[t.jsx("div",{className:"font-bold text-gray-500 mb-1",children:"User Agent:"}),t.jsx("div",{className:"text-gray-600 truncate",children:S.userAgent})]})]})]})},S.id)})})})]})},Mz=({userId:a,onUpdate:e})=>{const[s,r]=w.useState(!0),[i,l]=w.useState(null),[c,f]=w.useState(null),[u,m]=w.useState(""),[g,b]=w.useState(""),[v,E]=w.useState("user"),[N,S]=w.useState("active"),[T,O]=w.useState("free"),[U,M]=w.useState(""),[L,$]=w.useState(!1),[X,C]=w.useState(!1),[R,_]=w.useState(!1);w.useEffect(()=>{P()},[a]);const P=async()=>{r(!0),l(null);try{const z=await H.getUserDetails(a);if(z&&z.user){const I=z.user;f(I),m(I.email||""),b(I.name||""),E(I.role||"user"),S(I.status||"active"),O(I.plan||"free"),$(I.isVerified||!1)}}catch(z){console.error("Failed to load user profile:",z),l("Failed to load user profile.")}r(!1)},D=async()=>{_(!0);try{const z={email:u,name:g,role:v,status:N,plan:T,is_verified:L};U&&(z.password=U),await H.adminUpdateUser(a,z),M(""),e&&e(),alert("Profile updated successfully")}catch(z){console.error("Failed to update profile:",z),alert("Failed to update profile")}_(!1)};return s?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading profile..."}):i?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),i,t.jsx("button",{onClick:P,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsx("div",{className:"space-y-6 max-w-4xl",children:t.jsxs("div",{className:"bg-white border boundary-gray-200 p-6 shadow-sm rounded-lg",children:[t.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[t.jsx("span",{className:"text-[#ff4d00]",children:""})," User Profile"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"User ID"}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("input",{type:"text",value:a,readOnly:!0,className:"w-full bg-gray-50 border border-gray-200 p-2 text-sm text-gray-500 font-mono"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Email Address"}),t.jsx("input",{type:"email",value:u,onChange:z=>m(z.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Display Name"}),t.jsx("input",{type:"text",value:g,onChange:z=>b(z.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Role"}),t.jsxs("select",{value:v,onChange:z=>E(z.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Admin"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Account Status"}),t.jsxs("select",{value:N,onChange:z=>S(z.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"suspended",children:"Suspended"}),t.jsx("option",{value:"banned",children:"Banned"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subscription Plan"}),t.jsxs("select",{value:T,onChange:z=>O(z.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"free",children:"Free"}),t.jsx("option",{value:"pro",children:"Pro"}),t.jsx("option",{value:"agency",children:"Agency"})]})]}),t.jsx("div",{className:"flex items-center mt-6",children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:L,onChange:z=>$(z.target.checked),className:"w-4 h-4 text-[#ff4d00] focus:ring-[#ff4d00] border-gray-300 rounded"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Email Verified"})]})}),t.jsxs("div",{className:"col-span-2 border-t border-gray-100 pt-6 mt-2",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2",children:" Password Management"}),t.jsxs("div",{className:"bg-orange-50 p-4 rounded border border-orange-100",children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Set New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:X?"text":"password",value:U,onChange:z=>M(z.target.value),placeholder:"Enter new password to change...",className:"w-full border border-gray-300 p-2 pr-10 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none"}),t.jsx("button",{type:"button",onClick:()=>C(!X),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:X?t.jsx(Pf,{size:16}):t.jsx(Ic,{size:16})})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Leave blank to keep current password. Providing a value will update the password immediately upon save."})]})]})]}),t.jsx("div",{className:"mt-8 flex justify-end",children:t.jsxs("button",{onClick:D,disabled:R,className:"bg-[#ff4d00] text-white px-6 py-3 text-sm font-bold uppercase tracking-wider hover:bg-[#e64500] transition-colors flex items-center gap-2 disabled:opacity-50",children:[R?t.jsx(Sr,{className:"animate-spin",size:16}):t.jsx(tn,{size:16}),"Save Profile"]})})]})})},Oz=({userId:a,onUpdate:e})=>{const[s,r]=w.useState(null),[i,l]=w.useState([]),[c,f]=w.useState(!0),[u,m]=w.useState(!1),[g,b]=w.useState("economy"),[v,E]=w.useState("credit"),[N,S]=w.useState(""),[T,O]=w.useState(""),[U,M]=w.useState(""),[L,$]=w.useState(null);w.useEffect(()=>{X()},[a]);const X=async()=>{f(!0);try{const[z,I]=await Promise.all([H.getUserDetails(a),H.getBalanceAdjustments(a)]);r(z),l(I)}catch(z){console.error("Failed to load credits data:",z)}f(!1)},C=async()=>{if(!N||parseInt(N)<=0){$("Please enter a valid hit count");return}if(!T.trim()){$("Please provide a reason");return}m(!0),$(null);try{await H.adjustUserBalance(a,{adjustmentType:v,tier:g,amount:0,hits:parseInt(N),reason:T.trim(),notes:U.trim()||void 0}),S(""),O(""),M(""),await X(),e()}catch(z){$(z.message||"Failed to adjust balance. Please try again.")}m(!1)};if(c)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."});if(!s)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No user details found."});const{tierBalances:R}=s,_=z=>{switch(z){case"economy":return t.jsx(jn,{size:16,className:"text-gray-400"});case"professional":return t.jsx(Rf,{size:16,className:"text-orange-500"});case"expert":return t.jsx(Vt,{size:16,className:"text-[#ff4d00]"});default:return null}},P=z=>{switch(z){case"economy":return"Economy";case"professional":return"Professional";case"expert":return"Expert";default:return z}},D=z=>{switch(z){case"economy":return"border-gray-200";case"professional":return"border-orange-200";case"expert":return"border-[#ff4d00]/30 bg-[#111]";default:return"border-gray-200"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"grid grid-cols-3 gap-4",children:["economy","professional","expert"].map(z=>t.jsxs("div",{className:`bg-white border ${D(z)} p-6 shadow-sm `,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_(z),t.jsx("span",{className:`text-xs font-bold uppercase ${z==="expert"?"text-[#ff4d00]":z==="professional"?"text-orange-500":"text-gray-400"}`,children:P(z)})]}),t.jsx("div",{className:`text-2xl font-black ${z==="expert"?"text-white":"text-gray-900"}`,children:R[z].toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]},z))}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-4 flex items-center gap-2",children:[v==="credit"?t.jsx(Ir,{size:14}):t.jsx(gk,{size:14}),"Adjust Balance"]}),L&&t.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 text-xs flex items-center gap-2",children:[t.jsx(Na,{size:14}),L]}),t.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Tier"}),t.jsxs("select",{value:g,onChange:z=>b(z.target.value),className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none",children:[t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Operation"}),t.jsxs("select",{value:v,onChange:z=>E(z.target.value),className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none",children:[t.jsx("option",{value:"credit",children:"Add"}),t.jsx("option",{value:"debit",children:"Remove"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Hits"}),t.jsx("input",{type:"number",value:N,onChange:z=>S(z.target.value),placeholder:"10000",min:"1",className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none"})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Reason *"}),t.jsx("input",{type:"text",value:T,onChange:z=>O(z.target.value),placeholder:"Compensation for bug",className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none"})]}),t.jsx("div",{className:"flex items-end",children:t.jsxs("button",{onClick:C,disabled:u,className:`w-full py-2 text-white text-xs font-bold uppercase transition-colors flex items-center justify-center gap-2
                                ${v==="credit"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} ${u?"opacity-50 cursor-not-allowed":""}`,children:[u?t.jsx(Sr,{size:14,className:"animate-spin"}):v==="credit"?t.jsx(Ir,{size:14}):t.jsx(gk,{size:14}),v==="credit"?"Add Hits":"Remove Hits"]})})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Notes (optional)"}),t.jsx("input",{type:"text",value:U,onChange:z=>M(z.target.value),placeholder:"Additional details about this adjustment...",className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(DT,{size:14})," Adjustment History"]}),t.jsxs("span",{className:"text-xs text-gray-400",children:[i.length," records"]})]}),i.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No adjustments yet"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-right",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Reason"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Admin"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:i.map(z=>{var I;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:z.createdAt?new Date(z.createdAt).toLocaleDateString():"-"}),t.jsx("td",{className:"px-6 py-3 text-xs",children:t.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase rounded ${z.adjustmentType==="credit"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:z.adjustmentType==="credit"?"Added":"Removed"})}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:z.tier||"-"}),t.jsxs("td",{className:`px-6 py-3 text-xs font-bold text-right ${z.adjustmentType==="credit"?"text-green-600":"text-red-600"}`,children:[z.adjustmentType==="credit"?"+":"-",((I=z.hits)==null?void 0:I.toLocaleString())||"0"]}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-900 max-w-[200px] truncate",children:z.reason||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-500",children:z.adminEmail||"-"})]},z.id)})})]})]})]})},Lz=[{id:"overview",label:"Overview",icon:t.jsx(va,{size:16})},{id:"profile",label:"Profile",icon:t.jsx(va,{size:16})},{id:"credits",label:"Credits",icon:t.jsx(tM,{size:16})},{id:"transactions",label:"Transactions",icon:t.jsx(Ta,{size:16})},{id:"projects",label:"Projects",icon:t.jsx(SM,{size:16})},{id:"tickets",label:"Tickets",icon:t.jsx(o9,{size:16})},{id:"security",label:"Security",icon:t.jsx(_a,{size:16})},{id:"activity",label:"Activity",icon:t.jsx(Er,{size:16})}],zz=({userId:a,onBack:e,onUpdate:s})=>{const[r,i]=w.useState(null),[l,c]=w.useState("overview"),[f,u]=w.useState(!0);w.useEffect(()=>{m()},[a]);const m=async()=>{u(!0);try{const v=await H.getUserDetails(a);v&&v.user&&i(v.user)}catch(v){console.error(v)}u(!1)},g=v=>{window.location.href=`/admin/projects/edit/${v}`},b=async()=>{if(r)try{await H.startImpersonation(r.id),window.location.href="/dashboard"}catch(v){console.error("Failed to impersonate",v),alert("Failed to start impersonation session. Please try again.")}};return f?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading user details..."}):r?t.jsxs("div",{className:"animate-in fade-in space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-[#ff4d00] text-xs font-bold uppercase tracking-wide transition-colors",children:[t.jsx(ur,{size:14})," Back to Users"]}),t.jsx("div",{className:"flex items-center gap-2"})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm flex items-center justify-between rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-5",children:[t.jsx("div",{className:"w-14 h-14 bg-[#ff4d00] rounded-full flex items-center justify-center shadow-md",children:t.jsx("span",{className:"font-black text-white text-xl",children:r.name?r.name.charAt(0).toUpperCase():r.email.charAt(0).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-gray-900 text-xl",children:r.name||"Unnamed User"}),t.jsx("div",{className:"text-sm text-gray-500 font-mono",children:r.email}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase rounded border ${r.status==="active"?"bg-green-50 text-green-600 border-green-200":"bg-red-50 text-red-600 border-red-200"}`,children:r.status}),t.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase rounded border ${r.role==="admin"?"bg-purple-50 text-purple-600 border-purple-200":"bg-gray-50 text-gray-600 border-gray-200"}`,children:r.role}),t.jsxs("span",{className:"px-2 py-0.5 text-[10px] font-bold uppercase rounded border bg-blue-50 text-blue-600 border-blue-200",children:[r.plan," Plan"]})]})]})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-5 py-2.5 bg-black text-white text-xs font-bold uppercase hover:bg-gray-800 transition-colors border border-black shadow-sm",children:[t.jsx(LT,{size:14})," Login As User"]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-lg overflow-hidden",children:[t.jsx("div",{className:"flex overflow-x-auto border-b border-gray-100",children:Lz.map(v=>t.jsxs("button",{onClick:()=>c(v.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-bold uppercase tracking-wider border-b-2 transition-all whitespace-nowrap
                                ${l===v.id?"border-[#ff4d00] text-[#ff4d00] bg-orange-50/50":"border-transparent text-gray-500 hover:text-gray-900 hover:bg-gray-50"}`,children:[t.jsx("span",{className:l===v.id?"text-[#ff4d00]":"text-gray-400",children:v.icon}),t.jsx("span",{children:v.label})]},v.id))}),t.jsx("div",{className:"p-6 bg-gray-50/30 min-h-[400px]",children:t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300",children:[l==="overview"&&t.jsx(Ez,{userId:a,onNavigateToProject:g,onUpdate:s}),l==="profile"&&t.jsx(Mz,{userId:a,onUpdate:()=>{m(),s()}}),l==="credits"&&t.jsx(Oz,{userId:a,onUpdate:s}),l==="transactions"&&t.jsx(Cz,{userId:a}),l==="projects"&&t.jsx(Az,{userId:a,onNavigateToProject:g}),l==="tickets"&&t.jsx(Iz,{userId:a}),l==="security"&&t.jsx(Rz,{userId:a,onUpdate:s}),l==="activity"&&t.jsx(Dz,{userId:a})]})})]})]}):t.jsx("div",{className:"p-8 text-center text-red-500",children:"User not found"})},Vz=[{value:"random",label:"Random Selection"},{value:"sequential",label:"Sequential Funnel"}],Uz=(a,e=30)=>{const s=[],r=new Map(a.map(i=>[i.date,i]));for(let i=e-1;i>=0;i--){const l=new Date;l.setDate(l.getDate()-i);const c=l.toISOString().split("T")[0],f=r.get(c);s.push(f||{date:c,visitors:0,pageviews:0})}return s},Fz=({projectId:a,onBack:e,onUpdate:s})=>{var Ge,pt,Zt;const[r,i]=w.useState(null),[l,c]=w.useState(void 0),[f,u]=w.useState(!1),[m,g]=w.useState(!1),[b,v]=w.useState(!0),[E,N]=w.useState([]),[S,T]=w.useState([]),[O,U]=w.useState([]),[M,L]=w.useState(!1),[$,X]=w.useState(!1),[C,R]=w.useState(""),[_,P]=w.useState([]),[D,z]=w.useState("pageviews"),[I,Z]=w.useState("daily"),[Ee,te]=w.useState(!1),[G,ye]=w.useState([]),Re=w.useRef(null),[Pe,K]=w.useState(!1),[W,B]=w.useState(""),[F,se]=w.useState(!1),[je,Ce]=w.useState(0),[Le,ze]=w.useState(0),[J,Qe]=w.useState(null),[Ze,lt]=w.useState(!1),[Ne,Me]=w.useState(""),[yt,we]=w.useState(!1),[re,qe]=w.useState(""),[rt,ie]=w.useState(!1);if(w.useEffect(()=>{(async()=>{try{const Be=await H.getGeoLocations();U(Be)}catch(Be){console.error("Failed to load geo locations:",Be)}})()},[]),w.useEffect(()=>{var it,kt,$t;const Y=H.getProjectById(a);if(i(Y),Y){let Ot=Y.settings||{bounceRate:0,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,geoTargets:[],countries:["US"],trafficSource:"Direct",keywords:"",referralUrls:"",proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,urlVisitOrder:"random",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0,adminPriority:0,adminWeight:1,forceStopReason:""};if((!Ot.geoTargets||Ot.geoTargets.length===0)&&((it=Ot.countries)==null?void 0:it.length)>0){const fs=Ot.countries.length,js=Math.floor(100/fs),Wa=100-js*fs;Ot.geoTargets=Ot.countries.map((Ya,Qa)=>({id:`geo-${Date.now()}-${Qa}`,country:Ya,countryCode:Ya,percent:Qa===0?js+Wa:js}))}Ot.languages||(Ot.languages=[Ot.language||"en-US"]),(!Ot.geoTargets||Ot.geoTargets.length===0)&&(Ot.geoTargets=[{id:"default-geo",country:"United States",countryCode:"US",percent:100}]),Ot.geoTargets=Ot.geoTargets.map(fs=>{var js;return{...fs,countryCode:fs.countryCode||((js=Qr.find(Wa=>Wa.name===fs.country))==null?void 0:js.code)||""}}),c(Ot)}const Be=H.getSystemSettings();P(Be.payloadTemplates||[]),Y&&(Ce(Y.daily_limit||((kt=Y.customTarget)==null?void 0:kt.dailyLimit)||0),ze(Y.total_target||(($t=Y.customTarget)==null?void 0:$t.totalVisitors)||0)),v(!1)},[a]),w.useEffect(()=>{(async()=>{const Be=await H.getCalculatedExpiry(a);Qe(Be)})()},[a]),w.useEffect(()=>{(async()=>{te(!0);const Be=await H.syncProjectStats(a,30);N(Uz(Be,30)),te(!1)})()},[a]),w.useEffect(()=>{(async()=>{if(I==="hourly"){te(!0);const Be=await H.syncProjectStatsHourly(a,24);T(Be),te(!1)}})()},[a,I]),w.useEffect(()=>{const Y=async()=>{if(I==="live"){te(!0);const Be=await H.syncProjectStatsLive(a);ye(Be),te(!1)}};return I==="live"&&(Y(),Re.current=setInterval(Y,300*1e3)),()=>{Re.current&&(clearInterval(Re.current),Re.current=null)}},[a,I]),w.useEffect(()=>{const Y=()=>{we(!1),ie(!1)};return document.addEventListener("click",Y),()=>document.removeEventListener("click",Y)},[]),b||!r||!l)return t.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading Configuration..."});const Ue=(Y,Be)=>{c(it=>it?{...it,[Y]:Be}:void 0)},is=async()=>{if(!l.entryUrls||l.entryUrls.trim()===""){alert("Entry URLs are mandatory. Please provide at least one URL.");return}if(!je||je<=0){alert("Daily Limit must be greater than 0. Please configure traffic targets in the Traffic Schedule section.");return}if(!Le||Le<=0){alert("Total Target must be greater than 0. Please configure traffic targets in the Traffic Schedule section.");return}const Y=(l.geoTargets||[]).reduce((kt,$t)=>kt+$t.percent,0);if(Y!==100&&(l.geoTargets||[]).length>0){alert(`Total location percentage must equal 100%. Current total: ${Y}%`);return}u(!0),g(!1);const Be={...l,countries:(l.geoTargets||[]).map(kt=>kt.country),language:(l.languages||[])[0]||"en-US"},it={...r,settings:Be,daily_limit:je,total_target:Le,customTarget:{...r==null?void 0:r.customTarget,dailyLimit:je,totalVisitors:Le}};try{await H.updateProjectAdmin(it),i(it),g(!0),setTimeout(()=>g(!1),2e3),s()}catch(kt){console.error("Failed to save project:",kt),alert("Failed to save project settings. Please try again.")}finally{u(!1)}},It=async()=>{if(!r)return;const Y=r.status==="active"?"stopped":"active";try{await H.updateProjectStatusAdmin(r.id,Y),i({...r,status:Y}),s()}catch(Be){console.error("Failed to update project status:",Be),alert("Failed to update project status. Please try again.")}},Ss=async()=>{if(r&&confirm(`Clone "${r.name}"? A copy will be created with status "paused".`))try{await H.cloneProject(r.id),s(),alert("Project cloned successfully!")}catch(Y){console.error("Failed to clone project:",Y),alert("Failed to clone project. Please try again.")}},fe=async()=>{if(r&&confirm(`Are you sure you want to delete "${r.name}"? This action cannot be undone.`))try{await H.deleteProject(r.id),s(),e()}catch(Y){console.error("Failed to delete project:",Y),alert("Failed to delete project. Please try again.")}},he=()=>{if(!C.trim())return;const Y=H.getSystemSettings(),Be={id:`tpl-${Date.now()}`,name:C,json:JSON.stringify(l)},it={...Y,payloadTemplates:[...Y.payloadTemplates||[],Be]};H.saveSystemSettings(it),P(it.payloadTemplates||[]),R(""),L(!1),alert("Template saved successfully!")},De=Y=>{const Be=_.find(it=>it.id===Y);if(Be)try{const it=JSON.parse(Be.json);c({...l,...it}),X(!1),alert("Template loaded. Please review settings before saving.")}catch{alert("Failed to parse template data.")}},nt=async()=>{var Be;const Y=(Be=(l.entryUrls||"").split(`
`)[0])==null?void 0:Be.trim();if(!Y){alert("Please enter an Entry URL first.");return}lt(!0);try{const it=await H.scanGA4(Y);Ue("gaId",it),alert(`Found Analytics ID: ${it}`)}catch(it){alert(`Scan failed: ${it.message||"No GA ID found"}`)}finally{lt(!1)}},ut=Y=>{if((l.geoTargets||[]).find(Wa=>Wa.country===Y))return;const it=(l.geoTargets||[]).length+1,kt=Math.floor(100/it),$t=(l.geoTargets||[]).map(Wa=>({...Wa,percent:kt})),Ot=100-kt*(it-1),fs=Qr.find(Wa=>Wa.code===Y),js={id:`geo-${Date.now()}`,country:(fs==null?void 0:fs.name)||Y,countryCode:Y,percent:Ot};Ue("geoTargets",[...$t,js]),qe("")},_t=Y=>{Ue("geoTargets",(l.geoTargets||[]).filter(Be=>Be.id!==Y))},Ut=(Y,Be)=>{const it=(l.geoTargets||[]).map(kt=>kt.id===Y?{...kt,percent:Be}:kt);Ue("geoTargets",it)},Mt=Y=>{(l.languages||[]).includes(Y)||Ue("languages",[...l.languages||[],Y]),Me("")},os=Y=>{Ue("languages",(l.languages||[]).filter(Be=>Be!==Y))},hs=Y=>(Y||"").split(`
`).filter(Be=>Be.trim().length>0).length,Ft=hs(l==null?void 0:l.entryUrls),Yi=hs(l==null?void 0:l.innerUrls),Tn=hs(l==null?void 0:l.exitUrls),nn=Ft+Yi+Tn,aa=E.length>0?E:r.stats||[],Mr=KT.filter(Y=>Y.toLowerCase().includes(Ne.toLowerCase())),ls=Qr.filter(Y=>Y.name.toLowerCase().includes(re.toLowerCase())),Ca=((Ge=r.customTarget)==null?void 0:Ge.totalVisitors)||0,ae=((pt=r.customTarget)==null?void 0:pt.dailyLimit)||0;return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center bg-white p-6 border border-gray-200 shadow-sm sticky top-0 z-10",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-sm text-gray-500 transition-colors",children:t.jsx(ur,{size:20})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Project Configuration"}),t.jsxs("span",{className:`text-[8px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded border ${r.plan==="Expert"?"bg-green-50 text-green-700 border-green-200":r.plan==="Professional"?"bg-blue-50 text-blue-700 border-blue-200":"bg-orange-50 text-orange-700 border-orange-200"}`,children:[r.plan," Plan"]})]}),Pe?t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("input",{type:"text",value:W,onChange:Y=>B(Y.target.value),onKeyDown:Y=>{Y.key==="Enter"&&W.trim()&&(i({...r,name:W.trim()}),K(!1)),Y.key==="Escape"&&(K(!1),B(r.name))},onBlur:()=>{W.trim()&&i({...r,name:W.trim()}),K(!1)},className:"text-2xl font-black text-gray-900 bg-gray-100 px-2 py-1 outline-none focus:ring-2 focus:ring-[#ff4d00]",autoFocus:!0})}):t.jsxs("div",{className:"flex items-center gap-2 group",children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900",children:r.name}),t.jsx("button",{onClick:()=>{B(r.name),K(!0)},className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",title:"Edit project name",children:t.jsx(zT,{size:16,className:"text-[#ff4d00]"})})]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 mr-4 border-r border-gray-200 pr-4",children:[t.jsxs("button",{onClick:()=>L(!0),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(tn,{size:14,className:"text-[#ff4d00]"})," Save Template"]}),t.jsxs("button",{onClick:()=>X(!0),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(su,{size:14,className:"text-[#ff4d00]"})," Load Template"]})]}),m&&t.jsxs("span",{className:"text-green-600 text-xs font-bold uppercase tracking-wider animate-in fade-in slide-in-from-right-2 mr-4 flex items-center gap-1",children:[t.jsx(Go,{size:14})," Saved"]}),t.jsxs("button",{onClick:is,disabled:f,className:"flex items-center gap-2 bg-[#ff4d00] text-white px-5 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors disabled:opacity-70 shadow-lg",children:[t.jsx(tn,{size:14})," ",f?"Saving...":"Save Changes"]}),t.jsxs("button",{onClick:Ss,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(oa,{size:14,className:"text-[#ff4d00]"})," Clone"]}),t.jsxs("button",{onClick:It,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[r.status==="active"?t.jsx(Mg,{size:14,className:"text-[#ff4d00]"}):t.jsx(dc,{size:14,className:"text-[#ff4d00]"}),r.status==="active"?"Pause":"Resume"]}),t.jsxs("button",{onClick:fe,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(_n,{size:14,className:"text-[#ff4d00]"})," Delete"]})]})]}),M&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white p-6 w-full max-w-md shadow-xl border border-gray-200",children:[t.jsx("h3",{className:"text-sm font-bold uppercase mb-4",children:"Save Configuration as Template"}),t.jsx("input",{value:C,onChange:Y=>R(Y.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] mb-4",placeholder:"Template Name (e.g. Mobile US Organic)"}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-xs font-bold uppercase text-gray-500",children:"Cancel"}),t.jsx("button",{onClick:he,className:"px-4 py-2 text-xs font-bold uppercase bg-black text-white hover:bg-[#ff4d00]",children:"Save"})]})]})}),$&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white p-6 w-full max-w-md shadow-xl border border-gray-200",children:[t.jsx("h3",{className:"text-sm font-bold uppercase mb-4",children:"Load Template"}),t.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto",children:_.length===0?t.jsx("p",{className:"text-xs text-gray-400",children:"No templates found."}):_.map(Y=>t.jsx("button",{onClick:()=>De(Y.id),className:"w-full text-left p-3 bg-gray-50 hover:bg-gray-100 text-sm font-medium border border-transparent hover:border-gray-200",children:Y.name},Y.id))}),t.jsx("button",{onClick:()=>X(!1),className:"w-full px-4 py-2 text-xs font-bold uppercase bg-black text-white hover:bg-gray-800",children:"Close"})]})}),t.jsxs("div",{className:"bg-gray-900 text-white p-4 flex flex-wrap gap-6 items-center",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Plan"}),t.jsxs("select",{value:r.plan,onChange:Y=>i({...r,plan:Y.target.value}),className:"bg-gray-800 border border-gray-700 px-3 py-1.5 text-xs font-bold uppercase",children:[t.jsx("option",{value:"Free Trial",children:"Free Trial"}),t.jsx("option",{value:"Starter",children:"Starter"}),t.jsx("option",{value:"Growth",children:"Growth"}),t.jsx("option",{value:"Economy",children:"Economy"}),t.jsx("option",{value:"Professional",children:"Professional"}),t.jsx("option",{value:"Expert",children:"Expert"}),t.jsx("option",{value:"Agency",children:"Agency"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Status"}),t.jsxs("select",{value:r.status,onChange:Y=>i({...r,status:Y.target.value}),className:"bg-gray-800 border border-gray-700 px-3 py-1.5 text-xs font-bold uppercase",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"stopped",children:"Stopped"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"archived",children:"Archived (Admin)"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Priority"}),t.jsx("input",{type:"number",min:"-10",max:"10",value:l.adminPriority||0,onChange:Y=>Ue("adminPriority",parseInt(Y.target.value)),className:"w-16 bg-gray-800 border border-gray-700 px-2 py-1.5 text-xs font-bold text-center"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Weight"}),t.jsx("input",{type:"number",step:"0.1",min:"0.1",max:"5.0",value:l.adminWeight||1,onChange:Y=>Ue("adminWeight",parseFloat(Y.target.value)),className:"w-20 bg-gray-800 border border-gray-700 px-2 py-1.5 text-xs font-bold text-center"})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[t.jsx("span",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Expires"}),t.jsx("input",{type:"date",value:r.expires||"",onChange:Y=>i({...r,expires:Y.target.value}),className:"bg-gray-800 border border-gray-700 px-3 py-1.5 text-xs font-bold"})]}),r.status==="stopped"&&t.jsxs("div",{className:"flex items-center gap-3 w-full",children:[t.jsx("span",{className:"text-[10px] font-bold uppercase text-red-400",children:"Force Stop Reason"}),t.jsx("input",{value:l.forceStopReason||"",onChange:Y=>Ue("forceStopReason",Y.target.value),className:"flex-1 bg-gray-800 border border-red-900 px-3 py-1.5 text-xs font-bold text-red-100 placeholder-red-700",placeholder:"Reason shown to user..."})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(ti,{size:14})," Total Target"]}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:Ca>0?Ca.toLocaleString():r.plan})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(Jd,{size:14})," Daily Speed"]}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:ae>0?`${ae.toLocaleString()}/day`:"N/A"})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(Er,{size:14})," Hits Total"]}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:((Zt=r.totalHits)==null?void 0:Zt.toLocaleString())||0})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(mx,{size:14})," Status"]}),t.jsx("div",{className:`text-sm font-black uppercase tracking-wide ${r.status==="active"?"text-green-600":r.status==="stopped"?"text-red-600":"text-gray-500"}`,children:r.status==="completed"?"Expired":r.status})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(ri,{size:14})," Expires"]}),J?t.jsx("div",{children:J.message?t.jsx("div",{className:"text-sm font-bold text-orange-500",children:J.message}):J.daysRemaining!==null?t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:J.expiresDate}),t.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:[J.daysRemaining.toFixed(1)," days remaining"]})]}):t.jsx("div",{className:"text-sm font-bold text-gray-900",children:r.expires})}):t.jsx("div",{className:"text-sm font-bold text-gray-900",children:r.expires})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("button",{onClick:()=>se(!F),className:"w-full flex items-center justify-between p-6 hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ri,{size:18,className:"text-[#ff4d00]"}),t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Traffic Schedule"})]}),F?t.jsx(il,{size:18,className:"text-gray-400"}):t.jsx(dr,{size:18,className:"text-gray-400"})]}),F&&t.jsxs("div",{className:"p-6 pt-0 border-t border-gray-100 animate-in fade-in slide-in-from-top-2",children:[t.jsxs("div",{className:"mb-6 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[t.jsxs("h4",{className:"text-xs font-bold uppercase text-orange-700 mb-4 flex items-center gap-2",children:[t.jsx(ti,{size:14})," Traffic Targets (Required)"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(gs,{children:"Total Target (Total Visitors) *"}),t.jsx("input",{type:"number",min:"1",value:Le,onChange:Y=>ze(parseInt(Y.target.value)||0),className:"w-full bg-white border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. 10000"}),t.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Total number of visitors for this campaign"})]}),t.jsxs("div",{children:[t.jsx(gs,{children:"Daily Limit (Visitors per Day) *"}),t.jsx("input",{type:"number",min:"1",value:je,onChange:Y=>Ce(parseInt(Y.target.value)||0),className:"w-full bg-white border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. 500"}),t.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:Le>0&&je>0?`Duration: ${Math.ceil(Le/je)} days`:"Maximum visitors per day"})]})]}),(Le===0||je===0)&&t.jsx("div",{className:"mt-3 p-2 bg-red-100 border border-red-300 rounded text-xs text-red-700 font-bold",children:"Both Total Target and Daily Limit are required. Traffic will not be delivered without these values."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-4",children:[t.jsxs("div",{children:[t.jsx(gs,{children:"Start Date"}),t.jsx("input",{type:"date",value:l.scheduleStart||"",onChange:Y=>Ue("scheduleStart",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium"})]}),t.jsxs("div",{children:[t.jsx(gs,{children:"End Date"}),t.jsx("input",{type:"date",value:l.scheduleEnd||"",onChange:Y=>Ue("scheduleEnd",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium"})]}),t.jsxs("div",{children:[t.jsx(gs,{children:"Schedule Traffic Amount"}),t.jsx("input",{type:"number",value:l.scheduleTrafficAmount||"",onChange:Y=>Ue("scheduleTrafficAmount",parseInt(Y.target.value)||0),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"Hits per day"})]}),t.jsxs("div",{children:[t.jsx(gs,{children:"Distribution Pattern"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>Ue("schedulePattern","even"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wider border transition-colors ${l.schedulePattern==="even"||!l.schedulePattern?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:"Even"}),t.jsx("button",{onClick:()=>Ue("schedulePattern","realistic"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wider border transition-colors ${l.schedulePattern==="realistic"?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:"Realistic"})]}),l.schedulePattern==="realistic"&&t.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:"Traffic varies by time of day and day of week for natural patterns."})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Traffic Statistics"}),t.jsxs("div",{className:"flex bg-gray-100 rounded-sm p-1",children:[t.jsx("button",{onClick:()=>Z("daily"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${I==="daily"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"30 Days"}),t.jsx("button",{onClick:()=>Z("hourly"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${I==="hourly"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"24 Hours"}),t.jsx("button",{onClick:()=>Z("live"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${I==="live"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"Live"})]})]}),t.jsxs("div",{className:"text-xs text-gray-500 font-bold",children:["Total Views:",t.jsx("span",{className:"text-gray-900 ml-1",children:(I==="daily"?aa:I==="hourly"?S:G).reduce((Y,Be)=>Y+(Be.pageviews||Be.visitors),0).toLocaleString()})]})]}),I==="live"&&t.jsxs("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-sm flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-[#ff4d00] rounded-full animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-orange-700 uppercase tracking-wide",children:"Live Traffic - Updated every 5 minutes"})]}),t.jsx("div",{className:"h-64 flex items-end justify-between gap-1 w-full px-4 border-b border-gray-100 pb-2",children:Ee?t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm animate-pulse",children:"Loading statistics..."}):(I==="daily"?aa:I==="hourly"?S:G).length===0?t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:I==="live"?"No live traffic data available.":"No traffic data available."}):(I==="daily"?aa:I==="hourly"?S:G).map((Y,Be)=>{const it=Y.pageviews||Y.visitors,$t=Math.max(...(I==="daily"?aa:I==="hourly"?S:G).map(js=>js.pageviews||js.visitors),1),Ot=$t>0?it/$t*100:0,fs=I==="daily"?Y.date:I==="hourly"?Y.hour:Y.time;return t.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative h-full",children:[t.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap",children:[fs,": ",it.toLocaleString()]}),t.jsx("div",{className:"w-full opacity-80 hover:opacity-100 transition-opacity rounded-t-sm min-w-[4px] bg-[#ff4d00]",style:{height:`${Ot}%`,minHeight:"4px"}})]},Be)})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Pi,{})," Basic Settings"]}),t.jsxs("div",{className:"space-y-8",children:[t.jsx(kb,{label:"Bounce Rate",value:l.bounceRate,onChange:Y=>Ue("bounceRate",Y),suffix:"%"}),t.jsx(kb,{label:"Visitor Returning Rate",value:l.returnRate,onChange:Y=>Ue("returnRate",Y),suffix:"%"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx(gs,{children:"Device Distribution"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>{Ue("deviceSplit",100),Ue("tabletSplit",0)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Desktop Only"}),t.jsx("button",{onClick:()=>{Ue("deviceSplit",33),Ue("tabletSplit",33)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Balanced"}),t.jsx("button",{onClick:()=>{Ue("deviceSplit",0),Ue("tabletSplit",0)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Mobile Only"})]})]}),t.jsxs("div",{className:"relative h-4 bg-gray-100 rounded-sm overflow-hidden flex text-[8px] font-bold text-white uppercase text-center leading-4 shadow-inner",children:[t.jsx("div",{className:"h-full bg-[#ff4d00]",style:{width:`${l.deviceSplit}%`},children:l.deviceSplit>10&&"Desktop"}),t.jsx("div",{className:"h-full bg-gray-600",style:{width:`${l.tabletSplit||0}%`},children:(l.tabletSplit||0)>10&&"Tablet"}),t.jsx("div",{className:"h-full bg-black/80",style:{width:`${100-l.deviceSplit-(l.tabletSplit||0)}%`},children:100-l.deviceSplit-(l.tabletSplit||0)>10&&"Mobile"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase mb-1",children:[t.jsxs("span",{className:"flex items-center gap-1 text-[#ff4d00]",children:[t.jsx(cc,{size:12})," Desktop"]}),t.jsxs("span",{children:[l.deviceSplit,"%"]})]}),t.jsx("input",{type:"range",min:"0",max:"100",value:l.deviceSplit,onChange:Y=>{const Be=parseInt(Y.target.value),it=100-(l.tabletSplit||0);Ue("deviceSplit",Math.min(Be,it))},className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase mb-1",children:[t.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[t.jsx(cc,{size:12})," Tablet"]}),t.jsxs("span",{children:[l.tabletSplit||0,"%"]})]}),t.jsx("input",{type:"range",min:"0",max:"100",value:l.tabletSplit||0,onChange:Y=>{const Be=parseInt(Y.target.value),it=100-l.deviceSplit;Ue("tabletSplit",Math.min(Be,it))},className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-gray-600"})]}),t.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase bg-gray-50 p-2 rounded-sm border border-gray-100",children:[t.jsxs("span",{className:"flex items-center gap-1 text-black",children:[t.jsx(px,{size:12})," Mobile Remainder"]}),t.jsxs("span",{className:"text-black",children:[Math.max(0,100-l.deviceSplit-(l.tabletSplit||0)),"%"]})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Pi,{})," Additional Settings"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(gs,{children:"Time On Page"}),t.jsx(ba,{value:l.timeOnPage,onChange:Y=>Ue("timeOnPage",Y),options:vw})]}),t.jsxs("div",{children:[t.jsx(gs,{children:"Timezone"}),t.jsx(ba,{value:l.timezone,onChange:Y=>Ue("timezone",Y),options:ww})]}),t.jsxs("div",{className:"relative",onClick:Y=>Y.stopPropagation(),children:[t.jsx(gs,{children:"Browser Languages"}),t.jsxs("div",{className:"bg-[#f9fafb] border border-gray-200 p-2 min-h-[48px] flex flex-wrap gap-2",children:[(l.languages||[]).map(Y=>t.jsxs("span",{className:"bg-white border border-gray-200 text-xs font-bold uppercase px-2 py-1 flex items-center gap-1 rounded-sm",children:[Y," ",t.jsx("button",{onClick:()=>os(Y),className:"hover:text-red-500",children:t.jsx(Zs,{size:10})})]},Y)),t.jsx("input",{value:Ne,onChange:Y=>{Me(Y.target.value),we(!0)},onFocus:()=>we(!0),className:"flex-1 bg-transparent text-sm outline-none min-w-[80px]",placeholder:(l.languages||[]).length===0?"Select Language...":""})]}),yt&&t.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-xl max-h-60 overflow-y-auto z-50",children:Mr.map(Y=>t.jsx("div",{className:"p-3 text-sm hover:bg-orange-50 cursor-pointer",onClick:()=>{Mt(Y),we(!1)},children:Y},Y))})]}),t.jsxs("div",{children:[t.jsx(gs,{children:"Google Analytics ID"}),t.jsxs("div",{className:"relative flex items-center",children:[t.jsx("input",{value:l.gaId,onChange:Y=>Ue("gaId",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium text-gray-900 pr-10",placeholder:"G-XXXXXXXXXX"}),t.jsx("button",{onClick:nt,className:"absolute right-2 text-xs font-bold text-gray-400 hover:text-[#ff4d00] uppercase tracking-wide flex items-center gap-1",title:"Scan Entry URL for GA ID",disabled:Ze,children:Ze?t.jsx(Sr,{size:14,className:"animate-spin"}):t.jsx(Ha,{size:14})})]})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Ns,{size:16})," URL Configuration"]}),t.jsxs("div",{className:"space-y-8",children:[t.jsx(kb,{label:"Inner URLs Limit",value:l.innerUrlCount,onChange:Y=>Ue("innerUrlCount",Y),max:10}),t.jsx("div",{className:"flex items-end justify-between border-b border-gray-100 pb-2 mb-2",children:t.jsx(gs,{children:"Visit Behavior"})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:t.jsxs("div",{className:"bg-gray-50 p-3 rounded-sm border border-gray-100",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-2",children:"Visit Order"}),t.jsx(ba,{value:l.urlVisitOrder||"random",onChange:Y=>Ue("urlVisitOrder",Y),options:Vz}),t.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 leading-tight",children:[t.jsx("strong",{children:"Sequential:"})," Landing  Inner 1  Inner 2.",t.jsx("br",{}),t.jsx("strong",{children:"Random:"})," Picks random pages from pool."]})]})}),t.jsx(Sb,{label:"Entry URLs",value:l.entryUrls,onChange:Y=>Ue("entryUrls",Y),checked:l.autoCrawlEntry,onCheck:Y=>Ue("autoCrawlEntry",Y),countLabel:`Total: ${nn}/10`,required:!0}),t.jsx(Sb,{label:"Inner URLs",value:l.innerUrls,onChange:Y=>Ue("innerUrls",Y),checked:l.autoCrawlInner,onCheck:Y=>Ue("autoCrawlInner",Y),countLabel:`Total: ${nn}/10`}),t.jsx(Sb,{label:"Exit URLs",value:l.exitUrls,onChange:Y=>Ue("exitUrls",Y),checked:l.autoCrawlExit,onCheck:Y=>Ue("autoCrawlExit",Y),countLabel:`Total: ${nn}/10`}),t.jsxs("div",{children:[t.jsx(gs,{children:"Sitemap / RSS Feed"}),t.jsx("input",{value:l.sitemap||"",onChange:Y=>Ue("sitemap",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"https://example.com/sitemap.xml"}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Automatically discover URLs from your sitemap"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",onClick:Y=>Y.stopPropagation(),children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Ko,{size:16})," Location Targeting"]}),t.jsxs("div",{className:"mb-4",children:[t.jsx(gs,{children:"Search Countries"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{value:re,onChange:Y=>{qe(Y.target.value),ie(!0)},onFocus:()=>ie(!0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"Type to search (e.g. United States)"}),t.jsx(Ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),rt&&re&&t.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-xl max-h-60 overflow-y-auto z-50 mt-1",children:ls.map(Y=>t.jsxs("div",{className:"p-3 text-sm hover:bg-orange-50 cursor-pointer font-medium flex items-center gap-2",onClick:()=>{ut(Y.code),ie(!1)},children:[t.jsx("img",{src:`https://flagcdn.com/w20/${Y.code.toLowerCase()}.png`,alt:Y.code,className:"w-4 h-auto rounded-sm",onError:Be=>{Be.target.style.display="none"}}),Y.name]},Y.code))})]}),(l.geoTargets||[]).length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"flex justify-between items-center mb-2",children:t.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase",children:["Selected (",(l.geoTargets||[]).length,")"]})}),t.jsx("div",{className:"space-y-2",children:(l.geoTargets||[]).map(Y=>{const Be=Qr.find($t=>$t.code===Y.country),kt=100-(l.geoTargets||[]).reduce(($t,Ot)=>Ot.id!==Y.id?$t+Ot.percent:$t,0);return t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-100",children:[t.jsx("img",{src:`https://flagcdn.com/w24/${Y.country.toLowerCase()}.png`,alt:Y.country,className:"w-6 h-auto rounded-sm",onError:$t=>{$t.target.style.display="none"}}),t.jsx("span",{className:"flex-1 font-bold text-sm text-gray-900",children:(Be==null?void 0:Be.name)||Y.country}),t.jsx("input",{type:"range",min:"0",max:kt,value:Y.percent,onChange:$t=>Ut(Y.id,parseInt($t.target.value)),className:"w-24 accent-[#ff4d00]"}),t.jsx("input",{type:"number",min:"0",max:kt,value:Y.percent,onChange:$t=>Ut(Y.id,parseInt($t.target.value)||0),className:"w-16 p-1 text-center text-sm font-bold border border-gray-200 outline-none focus:border-[#ff4d00]"}),t.jsx("span",{className:"text-sm font-bold text-gray-400",children:"%"}),t.jsx("button",{onClick:()=>_t(Y.id),className:"text-gray-400 hover:text-red-500",children:t.jsx(Zs,{size:14})})]},Y.id)})}),t.jsxs("div",{className:`text-right mt-2 text-sm font-bold ${(l.geoTargets||[]).reduce((Y,Be)=>Y+Be.percent,0)===100?"text-green-600":"text-orange-500"}`,children:["Total: ",(l.geoTargets||[]).reduce((Y,Be)=>Y+Be.percent,0),"%"]})]}),(l.geoTargets||[]).length===0&&t.jsx("div",{className:"text-center p-4 text-xs text-gray-400 bg-gray-50 border border-dashed border-gray-200",children:"No countries selected. Traffic will be global."})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Er,{size:16})," Traffic Source"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(gs,{children:"Source Type"}),t.jsx(ba,{value:l.trafficSource,onChange:Y=>Ue("trafficSource",Y),options:xx})]}),(l.trafficSource||"").includes("Organic")&&t.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[t.jsx(gs,{children:"Keywords (One per line)"}),t.jsx("textarea",{value:l.keywords||"",onChange:Y=>Ue("keywords",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none",placeholder:`keyword 1
keyword 2`})]}),((l.trafficSource||"").includes("Social")||(l.trafficSource||"").includes("Referral"))&&t.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[t.jsx(gs,{children:"Referrer URLs (One per line)"}),t.jsx("textarea",{value:l.referralUrls||"",onChange:Y=>Ue("referralUrls",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none",placeholder:`https://referrer-site.com/post
https://social-media.com/share`})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",onClick:Y=>Y.stopPropagation(),children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(ti,{size:16})," Tracking & Attribution (UTM)"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(gs,{children:"Campaign Source"}),t.jsx("input",{value:l.utmSource||"",onChange:Y=>Ue("utmSource",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. google, newsletter"})]}),t.jsxs("div",{children:[t.jsx(gs,{children:"Campaign Medium"}),t.jsx("input",{value:l.utmMedium||"",onChange:Y=>Ue("utmMedium",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. cpc, banner"})]}),t.jsxs("div",{children:[t.jsx(gs,{children:"Campaign Name"}),t.jsx("input",{value:l.utmCampaign||"",onChange:Y=>Ue("utmCampaign",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. spring_sale"})]}),t.jsxs("div",{children:[t.jsx(gs,{children:"Campaign Term"}),t.jsx("input",{value:l.utmTerm||"",onChange:Y=>Ue("utmTerm",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. running shoes"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(gs,{children:"Campaign Content"}),t.jsx("input",{value:l.utmContent||"",onChange:Y=>Ue("utmContent",Y.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. logolink, textlink"}),t.jsxs("div",{className:"mt-2 flex gap-2",children:[t.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{random_keyword}}"}),t.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{timestamp}}"}),t.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{device_type}}"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mb-20 mt-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Pi,{})," General Settings"]}),t.jsxs("div",{className:`flex items-center justify-between p-6 mb-8 border-2 rounded-sm transition-all duration-300 relative overflow-hidden
                ${l.autoRenew?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white"} 
            `,children:[t.jsxs("div",{className:"relative z-10 max-w-xl",children:[t.jsxs("span",{className:"text-lg font-bold text-gray-900 flex items-center gap-3",children:[t.jsx(Vt,{size:20,className:l.autoRenew?"text-green-600":"text-gray-400"}),"Auto Renew Campaign"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2 leading-relaxed",children:"Automatically renew this campaign using wallet credits when it expires."})]}),t.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[t.jsx("button",{onClick:()=>Ue("autoRenew",!l.autoRenew),className:`w-14 h-8 flex items-center p-1 transition-colors duration-300 rounded-full ${l.autoRenew?"bg-green-500":"bg-gray-200"}`,children:t.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${l.autoRenew?"translate-x-6":"translate-x-0"}`})}),t.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${l.autoRenew?"text-green-600":"text-gray-400"}`,children:l.autoRenew?"Active":"Disabled"})]})]}),t.jsx("div",{className:"h-px bg-gray-100 my-8"}),t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-400 mb-6 flex items-center gap-2",children:[t.jsx(Vt,{size:14,className:"text-[#ff4d00]"})," System Features"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(sg,{label:"Cache Website",checked:l.cacheWebsite||!1,onChange:Y=>Ue("cacheWebsite",Y)}),t.jsx(sg,{label:"Minimize CPU",checked:l.minimizeCpu||!1,onChange:Y=>Ue("minimizeCpu",Y)}),t.jsx(sg,{label:"Anti-Fingerprint",checked:l.antiFingerprint!==!1,onChange:Y=>Ue("antiFingerprint",Y)}),t.jsx(sg,{label:"Randomize Session",checked:l.randomizeSession!==!1,onChange:Y=>Ue("randomizeSession",Y)})]})]})]})},gs=({children:a,required:e})=>t.jsxs("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:[a," ",e&&t.jsx("span",{className:"text-red-500",children:"*"})]}),kb=({label:a,value:e,onChange:s,suffix:r="",max:i=100})=>t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx(gs,{children:a}),t.jsxs("span",{className:"text-xs font-bold text-[#ff4d00]",children:[e,r]})]}),t.jsx("input",{type:"range",min:"0",max:i,value:e,onChange:l=>s(parseInt(l.target.value)),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"})]}),Sb=({label:a,value:e,onChange:s,checked:r,onCheck:i,countLabel:l,placeholder:c,required:f})=>t.jsx("div",{className:"flex items-start gap-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:r,onChange:u=>i(u.target.checked),className:"accent-[#ff4d00] w-4 h-4"}),t.jsx(gs,{required:f,children:a})]}),l&&t.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:l})]}),t.jsx("textarea",{value:e,onChange:u=>s(u.target.value),rows:4,className:`w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium text-gray-900 transition-colors resize-y ${r?"":"opacity-50"}`,placeholder:c||"https://example.com/page",disabled:!r})]})}),sg=({label:a,checked:e,onChange:s})=>t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:a}),t.jsx("button",{onClick:()=>s(!e),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${e?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${e?"translate-x-5":"translate-x-0"}`})})]}),Bz=({trxId:a,onBack:e,onUpdate:s})=>{const[r,i]=w.useState(null);w.useEffect(()=>{(async()=>{await H.syncAllTransactions();const u=H.getAllTransactionsAdmin().find(m=>m.id===a);i(u||null)})()},[a]);const l=async()=>{if(r)try{await H.updateTransaction(r),s(),alert("Transaction updated.")}catch(c){alert("Error: "+c.message)}};return r?t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[t.jsx(ur,{size:14})," Back to Transactions"]}),t.jsxs("button",{onClick:l,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(tn,{size:14})," Save Changes"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm max-w-3xl mx-auto",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8",children:["Edit Transaction: ",r.id]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Description"}),t.jsx("input",{value:r.desc,onChange:c=>i({...r,desc:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Amount ()"}),t.jsx("input",{type:"number",value:r.amount,onChange:c=>i({...r,amount:parseFloat(c.target.value)||0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Type"}),t.jsxs("select",{value:r.type,onChange:c=>i({...r,type:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"credit",children:"Credit (+)"}),t.jsx("option",{value:"debit",children:"Debit (-)"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Status"}),t.jsxs("select",{value:r.status,onChange:c=>i({...r,status:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"failed",children:"Failed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Date"}),t.jsx("input",{value:r.date,onChange:c=>i({...r,date:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Balance Tier"}),t.jsxs("select",{value:r.tier||"",onChange:c=>i({...r,tier:c.target.value||void 0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"",children:"General"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Reference"}),t.jsx("input",{value:r.reference||"",onChange:c=>i({...r,reference:c.target.value||void 0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"TGP-XXXXXXXX-XXXXXX"})]})]})]})]})]}):t.jsx("div",{children:"Transaction not found."})},$z={bounceRate:0,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:["United States"],geoTargets:[{id:"default-geo",country:"United States",countryCode:"US",percent:100}],trafficSource:"organic",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,urlVisitOrder:"random",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0},qz=({onBack:a,onSuccess:e})=>{var Le,ze;const[s,r]=w.useState(""),[i,l]=w.useState(""),[c,f]=w.useState(1e3),[u,m]=w.useState(7),[g,b]=w.useState({...$z}),[v,E]=w.useState(!1),[N,S]=w.useState(null),[T,O]=w.useState(!1),[U,M]=w.useState("idle"),[L,$]=w.useState("economy"),[X,C]=w.useState(!0),[R,_]=w.useState([]),[P,D]=w.useState(""),[z,I]=w.useState(""),[Z,Ee]=w.useState([]),[te,G]=w.useState(""),[ye,Re]=w.useState(""),[Pe,K]=w.useState(""),[W,B]=w.useState(100);He.useEffect(()=>{(async()=>{const Qe=await H.syncUsers();_(Qe);const Ze=H.getCurrentUser();Ze&&D(Ze.id)})()},[]),w.useEffect(()=>{(async()=>{try{const Qe=await H.getGeoLocations();Ee(Qe)}catch(Qe){console.error("Failed to load geo locations:",Qe)}})()},[]);const F=Math.round(c/u),se=(J,Qe)=>{b(Ze=>({...Ze,[J]:Qe}))},je=async()=>{if(!i){S("Please enter a target URL first");return}O(!0),M("idle");try{const J=await H.scanGA4(i);J?(se("gaId",J),M("success")):M("error")}catch{M("error")}finally{O(!1)}},Ce=async()=>{var J,Qe;if(!s||!i){S("Please enter a project name and target URL");return}if(c<100||u<1){S("Minimum 100 visitors and 1 day required");return}E(!0),S(null);try{const Ze={...g,entryUrls:i},lt={id:"proj_"+Date.now(),userId:P||((J=H.getCurrentUser())==null?void 0:J.id)||"admin",name:s,plan:"Custom",tier:L,customTarget:{totalVisitors:c,durationDays:u,dailyLimit:F},expires:"Never",status:"active",settings:Ze,stats:[]},Ne=R.find(yt=>yt.id===P),Me=(Ne==null?void 0:Ne.email)||((Qe=H.getCurrentUser())==null?void 0:Qe.email)||"";if(!Me)throw new Error("User email is required");await H.addProjectAdmin(lt,Me,X),e(),a()}catch(Ze){S(Ze.message||"Failed to create project")}finally{E(!1)}};return t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6 pb-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-[#f3f4f6] z-10 py-4 border-b border-gray-200",children:[t.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[t.jsx(ur,{size:14})," Back to Projects"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"New Campaign"}),t.jsx("div",{className:"text-sm font-black text-gray-900",children:"Create Project"})]}),t.jsxs("button",{onClick:Ce,disabled:v,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(tn,{size:14})," ",v?"Creating...":"Create Project"]})]})]}),N&&t.jsx("div",{className:"bg-red-50 border border-red-200 p-4 text-red-700 text-sm font-bold",children:N}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Pi,{size:14})," Core Configuration"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(dt,{children:"Project Name"}),t.jsx("input",{value:s,onChange:J=>r(J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"My Traffic Campaign"})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Project Owner (User)"}),t.jsxs("div",{className:"relative",children:[t.jsx(va,{className:"absolute left-3 top-3 text-gray-400",size:16}),t.jsxs("select",{value:P,onChange:J=>D(J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00] appearance-none",children:[t.jsx("option",{value:"",children:"Select a User..."}),R.map(J=>t.jsxs("option",{value:J.id,children:[J.name," (",J.email,") - ",J.role]},J.id))]})]})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Credits Tier"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["economy","professional","expert"].map(J=>t.jsx("button",{type:"button",onClick:()=>$(J),className:`p-3 text-xs font-bold uppercase border transition-colors ${L===J?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:J==="economy"?"Economy":J==="professional"?"Professional":"Expert"},J))})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 bg-gray-50",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Deduct Credits"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Deduct from user's balance"})]}),t.jsx("button",{type:"button",onClick:()=>C(!X),className:`w-12 h-6 flex items-center p-1 transition-colors duration-300 rounded-full ${X?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-300 ${X?"translate-x-6":"translate-x-0"}`})})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Target URL (Entry)"}),t.jsx("input",{value:i,onChange:J=>l(J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://example.com"})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Total Visitors"}),t.jsx("input",{type:"number",min:"100",value:c,onChange:J=>f(parseInt(J.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"1000"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(dt,{children:"Duration (Days)"}),t.jsx("input",{type:"number",min:"1",value:u,onChange:J=>m(parseInt(J.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Daily Visitors"}),t.jsxs("div",{className:"w-full bg-[#f3f4f6] border border-gray-200 p-3 text-sm font-bold text-[#ff4d00]",children:[F.toLocaleString()," /day"]})]})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Google Analytics ID"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("input",{value:g.gaId,onChange:J=>se("gaId",J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"G-XXXXXXXXXX"}),U==="success"&&t.jsx(xt,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-500"}),U==="error"&&t.jsx(Na,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-500"})]}),t.jsxs("button",{onClick:je,disabled:T||!i,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 text-xs font-bold uppercase tracking-wide flex items-center gap-2 transition-colors disabled:opacity-50",title:"Auto-detect GA ID from website",children:[T?t.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):t.jsx(Ha,{size:14}),"Detect"]})]}),U==="error"&&t.jsx("p",{className:"text-[10px] text-red-500 mt-1",children:"No Google Analytics ID found on this website"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Er,{size:14})," Visitor Behavior"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(dt,{children:"Bounce Rate (%)"}),t.jsx("input",{type:"number",value:g.bounceRate,onChange:J=>se("bounceRate",parseInt(J.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Return Rate (%)"}),t.jsx("input",{type:"number",value:g.returnRate,onChange:J=>se("returnRate",parseInt(J.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Time On Page"}),t.jsx(ba,{value:g.timeOnPage,onChange:J=>se("timeOnPage",J),options:[{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"3 minutes",label:"3 minutes"},{value:"5 minutes",label:"5 minutes"}]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Ko,{size:14})," Geo-Targeting"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx(dt,{children:"Traffic Distribution"}),t.jsxs("span",{className:`text-xs font-bold ${g.geoTargets.reduce((J,Qe)=>J+Qe.percent,0)===100?"text-green-600":"text-red-500"}`,children:["Total: ",g.geoTargets.reduce((J,Qe)=>J+Qe.percent,0),"%"]})]}),g.geoTargets.length>0&&t.jsx("div",{className:"space-y-2 mb-4",children:g.geoTargets.map((J,Qe)=>(Z.find(Ze=>Ze.countryCode===J.countryCode)||Qr.find(Ze=>Ze.name===J.country),t.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border border-gray-200 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[J.countryCode&&t.jsx("img",{src:`https://flagcdn.com/w20/${J.countryCode.toLowerCase()}.png`,alt:J.country,className:"w-5 h-auto"}),t.jsx("div",{children:t.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[J.country,J.state&&t.jsxs("span",{className:"text-gray-500 font-normal",children:[" / ",J.state]}),J.city&&t.jsxs("span",{className:"text-gray-400 font-normal",children:[" / ",J.city]})]})})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"number",min:"0",max:"100",value:J.percent,onChange:Ze=>{const lt=[...g.geoTargets];lt[Qe].percent=parseInt(Ze.target.value)||0,se("geoTargets",lt)},className:"w-16 bg-white border border-gray-200 p-1 text-sm font-bold text-center"}),t.jsx("span",{className:"text-xs text-gray-500",children:"%"}),t.jsx("button",{onClick:()=>se("geoTargets",g.geoTargets.filter(Ze=>Ze.id!==J.id)),className:"text-gray-400 hover:text-red-500",children:t.jsx(_n,{size:14})})]})]},J.id)))}),t.jsxs("div",{className:"bg-gray-50 border border-dashed border-gray-300 p-4",children:[t.jsx("div",{className:"text-xs font-bold text-gray-500 mb-3 uppercase",children:"Add Geo Target"}),t.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.jsx("div",{children:t.jsxs("select",{value:te,onChange:J=>{G(J.target.value),Re(""),K("")},className:"w-full bg-white border border-gray-200 p-2 text-xs font-medium",children:[t.jsx("option",{value:"",children:"Country..."}),(Z.length>0?Z:Qr.map(J=>({countryCode:J.code,countryName:J.name,states:[],cities:[]}))).map(J=>t.jsx("option",{value:J.countryCode,children:J.countryName},J.countryCode))]})}),t.jsx("div",{children:t.jsxs("select",{value:ye,onChange:J=>{Re(J.target.value),K("")},className:"w-full bg-white border border-gray-200 p-2 text-xs font-medium",disabled:!te,children:[t.jsx("option",{value:"",children:"State (optional)"}),te&&((Le=Z.find(J=>J.countryCode===te))==null?void 0:Le.states.map(J=>t.jsx("option",{value:J.name,children:J.name},J.code)))]})}),t.jsx("div",{children:t.jsxs("select",{value:Pe,onChange:J=>K(J.target.value),className:"w-full bg-white border border-gray-200 p-2 text-xs font-medium",disabled:!ye,children:[t.jsx("option",{value:"",children:"City (optional)"}),ye&&((ze=Z.find(J=>J.countryCode===te))==null?void 0:ze.cities.filter(J=>!ye||J.code.startsWith(ye.substring(0,2).toUpperCase())).map(J=>t.jsx("option",{value:J.name,children:J.name},J.code)))]})}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("input",{type:"number",min:"1",max:"100",value:W,onChange:J=>B(parseInt(J.target.value)||0),className:"w-14 bg-white border border-gray-200 p-2 text-xs font-bold text-center",placeholder:"%"}),t.jsx("button",{onClick:()=>{var lt;if(!te)return;const J=Z.find(Ne=>Ne.countryCode===te),Qe=(J==null?void 0:J.countryName)||((lt=Qr.find(Ne=>Ne.code===te))==null?void 0:lt.name)||te,Ze={id:`geo-${Date.now()}`,country:Qe,countryCode:te,state:ye||void 0,stateCode:ye?ye.substring(0,2).toUpperCase():void 0,city:Pe||void 0,percent:W};se("geoTargets",[...g.geoTargets,Ze]),G(""),Re(""),K(""),B(100)},disabled:!te,className:"flex-1 bg-[#ff4d00] text-white p-2 text-xs font-bold hover:bg-[#e64500] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:t.jsx(Ir,{size:14})})]})]})]}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-2",children:Z.length>0?"Geo-targeting uses proxy locations synced from Geonode. States and cities are optional.":"Configure Geonode proxy in Admin > Infrastructure for full geo-targeting with states/cities."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(dt,{children:"Browser Language"}),t.jsx("input",{value:g.languages.join(", "),onChange:J=>se("languages",J.target.value.split(", ")),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Timezone"}),t.jsx(ba,{value:g.timezone,onChange:J=>se("timezone",J),options:ww.slice(0,10)})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Wo,{size:14})," Traffic Source"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(dt,{children:"Traffic Source Type"}),t.jsx(ba,{value:g.trafficSource,onChange:J=>se("trafficSource",J),options:xx.slice(0,15)})]}),g.trafficSource==="organic"&&t.jsxs("div",{children:[t.jsx(dt,{children:"Keywords (One per line)"}),t.jsx("textarea",{value:g.keywords,onChange:J=>se("keywords",J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`keyword1
keyword2`})]}),g.trafficSource==="social"&&t.jsxs("div",{children:[t.jsx(dt,{children:"Referral URLs (One per line)"}),t.jsx("textarea",{value:g.referralUrls,onChange:J=>se("referralUrls",J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://facebook.com
https://twitter.com`})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Pi,{size:14})," UTM & Attribution"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(dt,{children:"Campaign Source"}),t.jsx("input",{value:g.utmSource||"",onChange:J=>se("utmSource",J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. google"})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Campaign Medium"}),t.jsx("input",{value:g.utmMedium||"",onChange:J=>se("utmMedium",J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. cpc"})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Campaign Name"}),t.jsx("input",{value:g.utmCampaign||"",onChange:J=>se("utmCampaign",J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. split_test"})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Campaign Term"}),t.jsx("input",{value:g.utmTerm||"",onChange:J=>se("utmTerm",J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. keyword"})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Campaign Content"}),t.jsx("input",{value:g.utmContent||"",onChange:J=>se("utmContent",J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. sidebar_ad"})]})]}),t.jsxs("p",{className:"mt-4 text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:["Supports: ","{{random_keyword}}, {{timestamp}}, {{device_type}}"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Ko,{size:14})," Proxy & Schedule"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(dt,{children:"Proxy Mode"}),t.jsx(ba,{value:g.proxyMode||"auto",onChange:J=>se("proxyMode",J),options:[{value:"auto",label:"Auto-Rotate"},{value:"sticky",label:"Sticky Session"},{value:"custom",label:"Custom List"}]})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Visit Order"}),t.jsx(ba,{value:g.urlVisitOrder||"random",onChange:J=>se("urlVisitOrder",J),options:[{value:"random",label:"Random"},{value:"sequential",label:"Sequential Funnel"}]})]})]}),g.proxyMode==="custom"&&t.jsxs("div",{children:[t.jsx(dt,{children:"Custom Proxies"}),t.jsx("textarea",{value:g.customProxies,onChange:J=>se("customProxies",J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono outline-none focus:border-[#ff4d00] h-20",placeholder:"ip:port:user:pass"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(px,{size:14})," Device Targeting"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(dt,{children:"Device Specific"}),t.jsx(ba,{value:g.deviceSpecific,onChange:J=>{J.includes("Mobile")&&se("deviceSplit",0),J.includes("Desktop")&&se("deviceSplit",100),se("deviceSpecific",J)},options:[{value:"All",label:"All Devices"},{value:"Desktop, Windows",label:"Windows Desktop"},{value:"Desktop, Mac",label:"Mac Desktop"},{value:"Mobile, iPhone",label:"iPhone"},{value:"Mobile, Android",label:"Android"}]})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Browser"}),t.jsx(ba,{value:g.browser||"Random",onChange:J=>se("browser",J),options:[{value:"Random",label:"Random"},{value:"Chrome",label:"Chrome"},{value:"Firefox",label:"Firefox"},{value:"Safari",label:"Safari"},{value:"Edge",label:"Edge"}]})]})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Device Split (Desktop/Tablet/Mobile)"}),t.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[t.jsx("span",{className:"text-[10px] font-bold w-12 text-gray-500",children:"Desktop"}),t.jsx("input",{type:"range",min:"0",max:"100",value:g.deviceSplit,onChange:J=>{const Qe=parseInt(J.target.value),Ze=100-(g.tabletSplit||0);se("deviceSplit",Math.min(Qe,Ze))},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"}),t.jsxs("span",{className:"text-sm font-bold w-8",children:[g.deviceSplit,"%"]})]}),t.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[t.jsx("span",{className:"text-[10px] font-bold w-12 text-gray-500",children:"Tablet"}),t.jsx("input",{type:"range",min:"0",max:"100",value:g.tabletSplit||0,onChange:J=>{const Qe=parseInt(J.target.value),Ze=100-g.deviceSplit;se("tabletSplit",Math.min(Qe,Ze))},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-gray-500"}),t.jsxs("span",{className:"text-sm font-bold w-8",children:[g.tabletSplit||0,"%"]})]}),t.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 text-right",children:["Mobile Remainder: ",100-g.deviceSplit-(g.tabletSplit||0),"%"]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Df,{size:14})," Crawling Options"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(dt,{children:"Entry URLs (One per line)"}),t.jsx("textarea",{value:g.entryUrls,onChange:J=>se("entryUrls",J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://example.com
https://example.com/about`})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Inner URLs (One per line)"}),t.jsx("textarea",{value:g.innerUrls,onChange:J=>se("innerUrls",J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://example.com/page1
https://example.com/page2`})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Exit URLs (One per line)"}),t.jsx("textarea",{value:g.exitUrls,onChange:J=>se("exitUrls",J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:"https://example.com/thank-you"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.autoCrawlEntry,onChange:J=>se("autoCrawlEntry",J.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(dt,{className:"!mb-0",children:"Auto-crawl Entry"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.autoCrawlInner,onChange:J=>se("autoCrawlInner",J.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(dt,{className:"!mb-0",children:"Auto-crawl Inner"})]})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Inner URL Count"}),t.jsx("input",{type:"number",min:"0",value:g.innerUrlCount,onChange:J=>se("innerUrlCount",parseInt(J.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(FT,{size:14})," Advanced Options"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(dt,{children:"Sitemap URL"}),t.jsx("input",{value:g.sitemap,onChange:J=>se("sitemap",J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://example.com/sitemap.xml"})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"URL Shortener"}),t.jsx("input",{value:g.shortener,onChange:J=>se("shortener",J.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://short.url/..."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.autoRenew,onChange:J=>se("autoRenew",J.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(dt,{className:"!mb-0",children:"Auto-renew"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.cacheWebsite,onChange:J=>se("cacheWebsite",J.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(dt,{className:"!mb-0",children:"Cache Website"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.minimizeCpu,onChange:J=>se("minimizeCpu",J.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(dt,{className:"!mb-0",children:"Minimize CPU"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(_a,{size:14})," Session Behavior"]}),t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.randomizeSession,onChange:J=>se("randomizeSession",J.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(dt,{className:"!mb-0",children:"Randomize Session"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.antiFingerprint,onChange:J=>se("antiFingerprint",J.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(dt,{className:"!mb-0",children:"Anti-fingerprinting"})]})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(mO,{size:14})," Interaction Settings"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(dt,{children:"Page Views with Scroll (%)"}),t.jsx("input",{type:"number",min:"0",max:"100",value:g.pageViewsWithScroll,onChange:J=>se("pageViewsWithScroll",parseInt(J.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(dt,{children:"Click External Links"}),t.jsx("input",{type:"number",min:"0",value:g.clickExternal,onChange:J=>se("clickExternal",parseInt(J.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(dt,{children:"Click Internal Links"}),t.jsx("input",{type:"number",min:"0",value:g.clickInternal,onChange:J=>se("clickInternal",parseInt(J.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]})]})]})]})]})},dt=({children:a,className:e=""})=>t.jsx("label",{className:`text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2 ${e}`,children:a}),Hz=()=>{const[a,e]=w.useState("GET /stats"),[s,r]=w.useState("{}"),[i,l]=w.useState([]),[c,f]=w.useState(!1),[u,m]=w.useState(null),g=[{method:"GET",path:"/health",desc:"Check system health and mode"},{method:"GET",path:"/stats",desc:"Global traffic throughput statistics"},{method:"GET",path:"/events",desc:"Recent 50 page-view events with metadata"},{method:"GET",path:"/projects",desc:"List all running and saved projects"},{method:"POST",path:"/projects",desc:"Create a new traffic project"},{method:"DELETE",path:"/projects/{id}",desc:"Remove a project and stop traffic"},{method:"POST",path:"/start",desc:"Immediate ad-hoc traffic burst"},{method:"POST",path:"/stop",desc:"Halt all active user simulations"},{method:"GET",path:"/proxies",desc:"List active proxy rotation pool"},{method:"POST",path:"/proxies",desc:"Add a new proxy to the pool"},{method:"GET",path:"/admin/stats",desc:"SaaS Business Metrics (Revenue, Users)"}],b=(S,T,O)=>{const U={id:Math.random().toString(36).substr(2,9),type:S,msg:T,time:new Date().toLocaleTimeString(),duration:O};l(M=>[U,...M].slice(0,50))},v=async()=>{f(!0);const[S,T]=a.split(" "),O=le,U=performance.now();b("req",`${S} ${T}
Payload: ${s}`);try{const M={method:S,headers:{"Content-Type":"application/json",Authorization:"Bearer ADMIN_MOCK_TOKEN"}};S!=="GET"&&s!=="{}"&&(M.body=s);const L=await fetch(`${O}${T}`,M),$=performance.now(),X=Math.round($-U);let C;try{C=await L.json()}catch{C={error:"Failed to parse JSON response"}}L.ok?b("res",JSON.stringify(C,null,2),X):b("err",`Error ${L.status}: ${JSON.stringify(C,null,2)}`,X)}catch(M){const L=performance.now();b("err",`Network Failure: ${M.message}`,Math.round(L-U))}finally{f(!1)}},E=(S,T)=>{navigator.clipboard.writeText(S),m(T),setTimeout(()=>m(null),2e3)},N=()=>l([]);return t.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-in fade-in",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6 flex-shrink-0",children:[t.jsxs("div",{className:"flex items-end gap-3",children:[t.jsx("div",{className:"bg-black p-2 rounded-sm text-white shadow-lg",children:t.jsx(PT,{size:24})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-1",children:"Developer Hub"}),t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"API Documentation & Debugger"})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 px-4 py-2 flex items-center gap-3 shadow-sm rounded-sm",children:[t.jsx(UT,{size:14,className:"text-green-500"}),t.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["Backend Status: ",t.jsx("span",{className:"text-green-600",children:"ONLINE"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 px-4 py-2 flex items-center gap-3 shadow-sm rounded-sm",children:[t.jsx(ss,{size:14,className:"text-blue-500"}),t.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["API Version: ",t.jsx("span",{className:"text-blue-600",children:"v1.2.0"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 flex-1 overflow-hidden",children:[t.jsxs("div",{className:"bg-white border border-gray-200 flex flex-col overflow-hidden shadow-sm rounded-sm",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center justify-between",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(cM,{size:14})," Endpoints Reference"]}),t.jsx("span",{className:"text-[10px] font-bold bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"FastAPI Engine"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:[t.jsx("div",{className:"space-y-6",children:g.map((S,T)=>t.jsxs("div",{className:"group border-b border-gray-100 pb-6 last:border-0 hover:bg-gray-50/50 p-2 -m-2 transition-colors rounded-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-sm uppercase tracking-tighter shadow-sm ${S.method==="GET"?"bg-blue-600 text-white":S.method==="POST"?"bg-green-600 text-white":S.method==="DELETE"?"bg-red-600 text-white":"bg-orange-600 text-white"}`,children:S.method}),t.jsx("code",{className:"text-xs font-bold text-gray-900",children:S.path}),t.jsxs("div",{className:"ml-auto flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:()=>E(S.path,`path-${T}`),className:"p-1 px-2 bg-gray-100 hover:bg-black hover:text-white text-[9px] font-bold uppercase rounded-sm border border-gray-200 transition-all",children:u===`path-${T}`?"Copied":"Copy"}),t.jsx("button",{onClick:()=>{e(`${S.method} ${S.path}`),S.method==="POST"&&r(`{
  "demo": true
}`)},className:"p-1 px-2 bg-[#ff4d00]/10 hover:bg-[#ff4d00] text-[#ff4d00] hover:text-white text-[9px] font-bold uppercase rounded-sm border border-[#ff4d00]/20 transition-all",children:"Test"})]})]}),t.jsx("p",{className:"text-gray-500 text-[11px] leading-relaxed",children:S.desc})]},T))}),t.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-100 rounded-sm",children:[t.jsxs("h4",{className:"text-xs font-bold text-orange-800 uppercase mb-3 flex items-center gap-2",children:[t.jsx(Zd,{size:14})," Security Headers"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between bg-white p-2 border border-orange-100 rounded-sm overflow-hidden",children:[t.jsx("code",{className:"text-[10px] text-gray-600",children:"Authorization: Bearer [token]"}),t.jsx("button",{onClick:()=>E("Authorization: Bearer YOUR_TOKEN","auth-header"),className:"text-[9px] font-bold text-orange-600 hover:underline",children:"Copy"})]}),t.jsxs("div",{className:"flex items-center justify-between bg-white p-2 border border-orange-100 rounded-sm overflow-hidden",children:[t.jsx("code",{className:"text-[10px] text-gray-600",children:"X-API-KEY: [your-key]"}),t.jsx("button",{onClick:()=>E("X-API-KEY: YOUR_KEY","x-key"),className:"text-[9px] font-bold text-orange-600 hover:underline",children:"Copy"})]}),t.jsx("p",{className:"text-[10px] text-orange-700/70 italic mt-2",children:"Admin requests bypass standard rate limits for maintenance purposes."})]})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-6 overflow-hidden",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm rounded-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Vt,{size:14,className:"text-[#ff4d00]"})," API Scratchpad"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>r(`{
  "demo": true
}`),className:"text-[9px] font-bold text-gray-400 hover:text-black uppercase",children:"Sample"}),t.jsx("button",{onClick:()=>r("{}"),className:"text-[9px] font-bold text-gray-400 hover:text-black uppercase",children:"Reset"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative group",children:[t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300 group-focus-within:text-[#ff4d00] transition-colors",children:t.jsx(Er,{size:14})}),t.jsx("input",{className:"w-full bg-gray-50 border border-gray-200 p-3 pl-10 text-xs font-mono outline-none focus:border-[#ff4d00] focus:bg-white transition-all rounded-sm",value:a,onChange:S=>e(S.target.value),placeholder:"METHOD /path (e.g. GET /health)"})]}),t.jsxs("button",{onClick:v,disabled:c,className:"bg-black text-white px-8 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] shadow-[0_4px_10px_rgba(0,0,0,0.1)] hover:shadow-[#ff4d00]/30 transition-all disabled:opacity-50 flex items-center gap-2 rounded-sm",children:[c?t.jsx(Gz,{size:14,className:"animate-spin"}):t.jsx(eu,{size:14}),"Execute"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Request Body (JSON)"}),t.jsxs("div",{className:"relative",children:[t.jsx("textarea",{className:"w-full bg-[#111] text-green-400 font-mono text-xs p-6 h-40 outline-none border border-gray-800 rounded-sm shadow-inner",value:s,onChange:S=>r(S.target.value),spellCheck:!1}),t.jsx("div",{className:"absolute right-4 bottom-4 text-[9px] font-bold text-gray-600 bg-[#1a1a1a] px-2 py-1 rounded-sm border border-gray-800",children:"UTF-8"})]})]})]})]}),t.jsxs("div",{className:"flex-1 bg-[#0a0a0a] border border-gray-800 flex flex-col overflow-hidden shadow-2xl rounded-sm",children:[t.jsxs("div",{className:"p-3 px-6 border-b border-gray-800 bg-[#111] flex items-center justify-between",children:[t.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[t.jsx(BT,{size:12})," Live Trace Diagnostic"]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("button",{onClick:()=>E(i.map(S=>`[${S.time}] ${S.type.toUpperCase()}: ${S.msg}`).join(`
`),"copy-logs"),className:"text-[10px] font-bold text-gray-500 hover:text-white uppercase flex items-center gap-1",children:[t.jsx(oa,{size:10})," ",u==="copy-logs"?"Copied":"Export"]}),t.jsxs("button",{onClick:N,className:"text-[10px] font-bold text-gray-500 hover:text-red-500 uppercase flex items-center gap-1",children:[t.jsx(_n,{size:10})," Clear"]})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar space-y-4 font-mono",children:i.length===0?t.jsx("div",{className:"h-full flex items-center justify-center text-gray-700 text-[10px] uppercase font-bold tracking-[0.2em] italic opacity-50",children:"Waiting for telemetry..."}):i.map(S=>t.jsxs("div",{className:"animate-in slide-in-from-left-2 duration-300 border-l-2 border-gray-800 pl-4 py-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-1.5",children:[t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-xs ${S.type==="req"?"bg-blue-500 text-white":S.type==="res"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:S.type==="req"?"REQUEST":S.type==="res"?"SUCCESS":"FAILURE"}),t.jsx("span",{className:"text-[9px] font-bold text-gray-600",children:S.time}),S.duration&&t.jsxs("span",{className:"text-[9px] font-bold text-gray-400 flex items-center gap-1",children:[t.jsx(ss,{size:8})," ",S.duration,"ms"]}),t.jsx("button",{onClick:()=>E(S.msg,`copy-${S.id}`),className:"ml-auto text-[8px] font-bold text-gray-600 hover:text-white uppercase transition-colors",children:u===`copy-${S.id}`?"Copied":"Copy"})]}),t.jsx("div",{className:`text-[11px] leading-relaxed p-3 rounded-sm ${S.type==="req"?"bg-blue-950/20 text-blue-300/80":S.type==="res"?"bg-green-950/20 text-green-300":"bg-red-950/20 text-red-300"}`,children:t.jsx("pre",{className:"whitespace-pre-wrap break-all",children:S.msg})})]},S.id))})]})]})]})]})},Gz=({size:a,className:e})=>t.jsxs("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[t.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),t.jsx("path",{d:"M21 3v5h-5"}),t.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),t.jsx("path",{d:"M8 16H3v5"})]}),Kz=()=>{const[a,e]=w.useState("campaigns"),[s,r]=w.useState([]),[i,l]=w.useState(null),[c,f]=w.useState(null),[u,m]=w.useState(""),[g,b]=w.useState(""),[v,E]=w.useState(!1),[N,S]=w.useState(null);w.useEffect(()=>{T(),H.getLoyaltySettings().then(l),H.getReferralSettings().then(f)},[]);const T=async()=>{const L=await H.getMarketingStats();r(L)},O=async()=>{i&&await H.saveLoyaltySettings(i)},U=async()=>{c&&await H.saveReferralSettings(c)},M=async()=>{if(!(!u||!g)){E(!0);try{await H.sendEmailBlast(u,g,"all"),alert("Email blast sent successfully!")}catch{alert("Failed to send email blast")}E(!1),S(new Date().toLocaleTimeString()),m(""),b("")}};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Marketing Hub"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Manage acquisition campaigns and outbound communications."})]})}),t.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[t.jsx("button",{onClick:()=>e("campaigns"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${a==="campaigns"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Jd,{size:16}),t.jsx("span",{children:"Ad Tracking & Stats"})]})}),t.jsx("button",{onClick:()=>e("email"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${a==="email"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Nn,{size:16}),t.jsx("span",{children:"Email Blasts"})]})}),t.jsx("button",{onClick:()=>e("loyalty"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${a==="loyalty"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ri,{size:16}),t.jsx("span",{children:"Loyalty & Referrals"})]})})]}),a==="campaigns"?t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.map(L=>{var $,X;return t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("span",{className:"text-[10px] font-bold uppercase px-2 py-1 rounded bg-gray-100 text-gray-600",children:L.type.replace("_"," ")}),t.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-1 rounded
                                    ${L.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:L.status})]}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:L.name}),t.jsxs("p",{className:"text-xs text-gray-400 mb-6",children:["Created: ",L.dateCreated]}),t.jsx("div",{className:"grid grid-cols-2 gap-4 mt-auto",children:L.type==="email"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Opens"}),t.jsxs("p",{className:"text-xl font-mono font-bold text-gray-900",children:[L.openRate,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Clicks"}),t.jsxs("p",{className:"text-xl font-mono font-bold text-gray-900",children:[L.clickRate,"%"]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Clicks"}),t.jsx("p",{className:"text-xl font-mono font-bold text-gray-900",children:($=L.clicks)==null?void 0:$.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Revenue"}),t.jsxs("p",{className:"text-xl font-mono font-bold text-green-600",children:["$",(X=L.revenue)==null?void 0:X.toLocaleString()]})]})]})})]},L.id)}),t.jsxs("button",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center gap-3 text-gray-400 hover:text-[#ff4d00] hover:border-[#ff4d00] hover:bg-orange-50 transition-all group min-h-[200px]",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 group-hover:bg-[#ff4d00] flex items-center justify-center transition-colors",children:t.jsx(Jd,{size:24,className:"group-hover:text-white"})}),t.jsx("span",{className:"font-bold",children:"Track New URL"})]})]}):a==="email"?t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[t.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[t.jsx(eu,{size:20,className:"text-[#ff4d00]"}),"Compose Blast"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subject Line"}),t.jsx("input",{type:"text",value:u,onChange:L=>m(L.target.value),className:"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent outline-none font-medium",placeholder:"e.g. Special Offer for Premium Members"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Target Audience"}),t.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded bg-gray-50 focus:ring-2 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"all",children:"All Users (Newsletter)"}),t.jsx("option",{value:"paid",children:"Active Paid Plans Only"}),t.jsx("option",{value:"inactive",children:"Inactive / Churned Users"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Message Body (HTML Supported)"}),t.jsx("textarea",{value:g,onChange:L=>b(L.target.value),className:"w-full p-4 border border-gray-300 rounded focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent outline-none min-h-[300px] font-mono text-sm",placeholder:"<h1>Hello {name},</h1>..."})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4",children:[t.jsx("p",{className:"text-sm text-gray-500",children:N&&`Last sent: ${N}`}),t.jsx("button",{onClick:M,disabled:v||!u||!g,className:`px-8 py-3 bg-[#ff4d00] text-white font-bold rounded shadow-lg shadow-orange-500/30 hover:bg-[#e64600] transition-all
                                            ${v||!u||!g?"opacity-50 cursor-not-allowed":"hover:transform hover:-translate-y-0.5"}`,children:v?"Sending...":"Send Broadcast"})]})]})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-6",children:[t.jsx("h4",{className:"font-bold text-blue-900 mb-2",children:"Best Practices"}),t.jsxs("ul",{className:"text-sm text-blue-800 space-y-2 list-disc list-inside",children:[t.jsx("li",{children:"Keep subject lines under 60 chars"}),t.jsxs("li",{children:["Personalize using ","{name}"," tag"]}),t.jsx("li",{children:"Include a clear Call to Action"}),t.jsx("li",{children:"Test mobile rendering before sending"})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[t.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Previous Blasts"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 text-sm",children:[t.jsx("div",{className:"font-bold text-gray-800",children:"Spring Sale Announcement"}),t.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Sent: Mar 10  12,403 Recipients"})]}),t.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 text-sm",children:[t.jsx("div",{className:"font-bold text-gray-800",children:"Platform Update v2.1"}),t.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Sent: Feb 28  11,200 Recipients"})]})]})]})]})]}):t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:t.jsx(Ri,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Loyalty Program"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Reward users for spending."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:i==null?void 0:i.enabled,onChange:L=>l($=>$?{...$,enabled:L.target.checked}:null),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Points per $1 Spent"}),t.jsx("input",{type:"number",value:(i==null?void 0:i.pointsPerDollar)||"",onChange:L=>l($=>$?{...$,pointsPerDollar:Number(L.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Redemption Rate (Points = $1)"}),t.jsx("input",{type:"number",value:(i==null?void 0:i.redemptionRate)||"",onChange:L=>l($=>$?{...$,redemptionRate:Number(L.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Example: 100 points = $1 discount."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Bonus Signup Points"}),t.jsx("input",{type:"number",value:(i==null?void 0:i.bonusSignupPoints)||"",onChange:L=>l($=>$?{...$,bonusSignupPoints:Number(L.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:t.jsx(Wo,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Referral Program"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Incentivize word-of-mouth growth."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c==null?void 0:c.enabled,onChange:L=>f($=>$?{...$,enabled:L.target.checked}:null),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Referrer Gets"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:"$"}),t.jsx("input",{type:"number",value:(c==null?void 0:c.referrerReward)||"",onChange:L=>f($=>$?{...$,referrerReward:Number(L.target.value)}:null),className:"w-full p-2 pl-6 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Credit added to balance."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Referee Gets"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:"$"}),t.jsx("input",{type:"number",value:(c==null?void 0:c.refereeReward)||"",onChange:L=>f($=>$?{...$,refereeReward:Number(L.target.value)}:null),className:"w-full p-2 pl-6 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Discount on first purchase."})]})]})})]}),t.jsx("div",{className:"lg:col-span-2 flex justify-end",children:t.jsx("button",{onClick:async()=>{await O(),await U(),alert("Settings Saved!")},className:"bg-black text-white px-6 py-2 rounded font-bold hover:bg-gray-800",children:"Save Settings"})})]})]})},Wz=({onRefresh:a})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!1),[l,c]=w.useState(!1),[f,u]=w.useState({code:"",discountType:"percent",discountValue:0,active:!0,usedCount:0,allowedPlans:[],maxUsesPerUser:1}),[m,g]=w.useState("PROMO-"),[b,v]=w.useState(10);w.useEffect(()=>{E()},[]);const E=async()=>{const O=await H.getCoupons();s(O)},N=async O=>{confirm("Are you sure you want to delete this coupon?")&&(await H.deleteCoupon(O),E())},S=async()=>{if(!f.code||!f.discountValue)return;const O={id:Date.now().toString(),code:f.code.toUpperCase(),discountType:f.discountType,discountValue:Number(f.discountValue),active:f.active||!1,usedCount:0,expiryDate:f.expiryDate,maxUses:f.maxUses,maxUsesPerUser:f.maxUsesPerUser,allowedPlans:f.allowedPlans};await H.saveCoupon(O),i(!1),u({code:"",discountType:"percent",discountValue:0,active:!0,usedCount:0,allowedPlans:[],maxUsesPerUser:1}),E(),a()},T=async()=>{for(let O=0;O<b;O++){const U=Math.random().toString(36).substring(2,6).toUpperCase(),M={id:`${Date.now()}-${O}`,code:`${m}${U}`,discountType:f.discountType,discountValue:Number(f.discountValue),active:!0,usedCount:0,expiryDate:f.expiryDate,maxUses:1,maxUsesPerUser:1};await H.saveCoupon(M)}i(!1),c(!1),E(),alert(`Successfully generated ${b} coupons!`)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Coupon Manager"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Create and manage discount codes for campaigns."})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>{i(!0),c(!0)},className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:[t.jsx(oa,{size:16}),t.jsx("span",{children:"Bulk Generate"})]}),t.jsxs("button",{onClick:()=>{i(!0),c(!1)},className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded-md hover:bg-gray-800 transition-colors",children:[t.jsx(Ir,{size:16}),t.jsx("span",{children:"Create Coupon"})]})]})]}),r&&t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm animate-in fade-in slide-in-from-top-4",children:[t.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[l?t.jsx(oa,{className:"text-[#ff4d00]",size:20}):t.jsx(iv,{className:"text-[#ff4d00]",size:20}),l?"Bulk Generate Coupons":"New Coupon"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400 border-b border-gray-100 pb-1",children:"Core Settings"}),l?t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Prefix"}),t.jsx("input",{type:"text",value:m,onChange:O=>g(O.target.value.toUpperCase()),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"e.g. SUMMER-"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Quantity"}),t.jsx("input",{type:"number",value:b,onChange:O=>v(Number(O.target.value)),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",min:"1",max:"1000"})]})]}):t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Code"}),t.jsx("input",{type:"text",value:f.code,onChange:O=>u({...f,code:O.target.value.toUpperCase()}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"e.g. SUMMER2024"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Discount Value"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"number",value:f.discountValue,onChange:O=>u({...f,discountValue:Number(O.target.value)}),className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),t.jsxs("select",{value:f.discountType,onChange:O=>u({...f,discountType:O.target.value}),className:"p-2 border border-gray-300 rounded bg-gray-50",children:[t.jsx("option",{value:"percent",children:"% Off"}),t.jsx("option",{value:"fixed",children:"$ Off"})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400 border-b border-gray-100 pb-1",children:"Restrictions & Limits"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Expiry Date"}),t.jsx("input",{type:"date",value:f.expiryDate||"",onChange:O=>u({...f,expiryDate:O.target.value}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Max Uses (Total)"}),t.jsx("input",{type:"number",value:f.maxUses||"",onChange:O=>u({...f,maxUses:Number(O.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"Unlimited"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Max Per User"}),t.jsx("input",{type:"number",value:f.maxUsesPerUser||"",onChange:O=>u({...f,maxUsesPerUser:Number(O.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Plan Restriction"}),t.jsxs("select",{multiple:!0,className:"w-full p-2 border border-gray-300 rounded text-xs h-[42px]",value:f.allowedPlans||[],onChange:O=>{const U=O.target,M=Array.from(U.selectedOptions,L=>L.value);u({...f,allowedPlans:M})},children:[t.jsx("option",{value:"foundation",children:"Foundation"}),t.jsx("option",{value:"momentum",children:"Momentum"}),t.jsx("option",{value:"breakthrough",children:"Breakthrough"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Duration"}),t.jsxs("select",{value:f.duration||"once",onChange:O=>u({...f,duration:O.target.value}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",children:[t.jsx("option",{value:"once",children:"Once"}),t.jsx("option",{value:"forever",children:"Forever"}),t.jsx("option",{value:"repeating",children:"Repeating"})]})]}),f.duration==="repeating"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Months"}),t.jsx("input",{type:"number",value:f.durationInMonths||"",onChange:O=>u({...f,durationInMonths:Number(O.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"3"})]})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-100",children:[t.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900 font-medium",children:"Cancel"}),t.jsx("button",{onClick:l?T:S,className:"px-6 py-2 bg-[#ff4d00] text-white font-bold rounded hover:bg-[#e64600] transition-colors",children:l?`Generate ${b} Coupons`:"Save Coupon"})]})]}),t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Code"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Discount"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Usage"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Restrictions"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:e.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:t.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[t.jsx(iv,{size:32,className:"text-gray-300"}),t.jsx("p",{children:"No coupons created yet."})]})})}):e.map(O=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("div",{className:"font-mono font-bold text-gray-900 bg-gray-100 inline-flex items-center gap-2 px-2 py-1 rounded border border-gray-200 text-xs group",children:[O.code,t.jsx("button",{onClick:U=>{U.stopPropagation();const M=`${window.location.origin}?coupon=${O.code}`;navigator.clipboard.writeText(M),alert(`Copied: ${M}`)},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-black transition-all",title:"Copy Sharable Link",children:t.jsx(yw,{size:10})})]}),O.bulkBatchId&&t.jsx("span",{className:"ml-2 text-[10px] text-gray-400 uppercase tracking-wide border border-gray-200 px-1 rounded",children:"BULK"})]}),t.jsx("td",{className:"px-6 py-4 font-medium text-gray-700",children:O.discountType==="percent"?`${O.discountValue}%`:`$${O.discountValue}`}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-bold uppercase
                                            ${O.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:O.active?"Active":"Inactive"})}),t.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[O.usedCount," ",O.maxUses?`/ ${O.maxUses}`:""]}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:O.allowedPlans&&O.allowedPlans.length>0?t.jsx("div",{className:"flex gap-1",children:O.allowedPlans.map(U=>t.jsx("span",{className:"text-[10px] bg-blue-50 text-blue-600 px-1.5 py-0.5 rounded capitalize border border-blue-100",children:U},U))}):t.jsx("span",{className:"text-gray-400 text-xs",children:"Global"})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("button",{onClick:()=>N(O.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete Coupon",children:t.jsx(_n,{size:16})})})]},O.id))})]})}),t.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 flex items-start gap-3",children:[t.jsx(Na,{className:"text-blue-500 mt-0.5 flex-shrink-0",size:18}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-blue-900",children:"Advanced Features"}),t.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Use ",t.jsx("strong",{children:"Bulk Generate"})," to create hundreds of unique codes for partners or affiliates. Use ",t.jsx("strong",{children:"Plan Restrictions"}),' to create "Upgrade Only" offers valid for specific premium tiers.']})]})]})]})},Yz=()=>{const[a,e]=w.useState(null),[s,r]=w.useState(!1),[i,l]=w.useState(!1);w.useEffect(()=>{H.getConversionSettings().then(f=>e(f))},[]);const c=async()=>{a&&(r(!0),await H.saveConversionSettings(a),setTimeout(()=>{r(!1),l(!0),setTimeout(()=>l(!1),2e3)},800))};return a?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Conversion Boosters"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Tools to increase visitor engagement and sales."})]}),t.jsx("button",{onClick:c,disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-[#ff4d00] text-white font-bold rounded shadow-lg shadow-orange-500/30 hover:bg-[#e64600] transition-all",children:s?t.jsx("span",{children:"Saving..."}):i?t.jsxs(t.Fragment,{children:[t.jsx(xt,{size:18}),t.jsx("span",{children:"Saved!"})]}):t.jsxs(t.Fragment,{children:[t.jsx(tn,{size:18}),t.jsx("span",{children:"Save Changes"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:t.jsx(en,{size:120})}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[t.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:t.jsx(en,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Social Proof Notifications"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Show recent sales popups to build trust."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:a.socialProof.enabled,onChange:f=>e({...a,socialProof:{...a.socialProof,enabled:f.target.checked}}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4 relative z-10",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Position"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("button",{onClick:()=>e({...a,socialProof:{...a.socialProof,position:"bottom-left"}}),className:`p-2 border rounded text-sm font-medium transition-all ${a.socialProof.position==="bottom-left"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:"Bottom Left"}),t.jsx("button",{onClick:()=>e({...a,socialProof:{...a.socialProof,position:"bottom-right"}}),className:`p-2 border rounded text-sm font-medium transition-all ${a.socialProof.position==="bottom-right"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:"Bottom Right"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Delay (Seconds)"}),t.jsx("input",{type:"number",value:a.socialProof.delay,onChange:f=>e({...a,socialProof:{...a.socialProof,delay:Number(f.target.value)}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Data Source"}),t.jsxs("select",{value:a.socialProof.showRealData?"real":"mock",onChange:f=>e({...a,socialProof:{...a.socialProof,showRealData:f.target.value==="real"}}),className:"w-full p-2 border border-gray-300 rounded bg-white",children:[t.jsx("option",{value:"mock",children:"Simulated (Mock)"}),t.jsx("option",{value:"real",children:"Real Sales Only"})]})]})]})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:t.jsx(Wo,{size:120})}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[t.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:t.jsx(Wo,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Exit Intent Popup"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Capture users before they leave."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:a.exitIntent.enabled,onChange:f=>e({...a,exitIntent:{...a.exitIntent,enabled:f.target.checked}}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4 relative z-10",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Headline"}),t.jsx("input",{type:"text",value:a.exitIntent.headline,onChange:f=>e({...a,exitIntent:{...a.exitIntent,headline:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subtext"}),t.jsx("input",{type:"text",value:a.exitIntent.subtext,onChange:f=>e({...a,exitIntent:{...a.exitIntent,subtext:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Coupon Code"}),t.jsx("input",{type:"text",value:a.exitIntent.couponCode||"",onChange:f=>e({...a,exitIntent:{...a.exitIntent,couponCode:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsx("div",{className:"flex items-end pb-3",children:t.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:a.exitIntent.showOncePerSession,onChange:f=>e({...a,exitIntent:{...a.exitIntent,showOncePerSession:f.target.checked}}),className:"rounded text-black focus:ring-black"}),"Show once per session"]})})]})]})]}),t.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:t.jsx(pk,{size:120})}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[t.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:t.jsx(pk,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Global Promo Bar"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Top-of-page banner for announcements."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:a.promoBar.enabled,onChange:f=>e({...a,promoBar:{...a.promoBar,enabled:f.target.checked}}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4 relative z-10",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Banner Message"}),t.jsx("input",{type:"text",value:a.promoBar.message,onChange:f=>e({...a,promoBar:{...a.promoBar,message:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Button Text"}),t.jsx("input",{type:"text",value:a.promoBar.buttonText||"",onChange:f=>e({...a,promoBar:{...a.promoBar,buttonText:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Button Link"}),t.jsx("input",{type:"text",value:a.promoBar.buttonLink||"",onChange:f=>e({...a,promoBar:{...a.promoBar,buttonLink:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Background Color"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"color",value:a.promoBar.backgroundColor,onChange:f=>e({...a,promoBar:{...a.promoBar,backgroundColor:f.target.value}}),className:"h-[38px] w-[50px] p-0 border border-gray-300 rounded cursor-pointer"}),t.jsx("input",{type:"text",value:a.promoBar.backgroundColor,onChange:f=>e({...a,promoBar:{...a.promoBar,backgroundColor:f.target.value}}),className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none uppercase"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Countdown Timer End Date (Optional)"}),t.jsx("input",{type:"datetime-local",value:a.promoBar.endDate||"",onChange:f=>e({...a,promoBar:{...a.promoBar,endDate:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Set a date to show a countdown timer within the banner."})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-400 mb-2",children:"Live Preview"}),t.jsxs("div",{className:"rounded-lg p-3 text-center text-sm font-medium flex items-center justify-center gap-4 shadow-sm",style:{backgroundColor:a.promoBar.backgroundColor,color:a.promoBar.textColor},children:[t.jsx("span",{children:a.promoBar.message}),a.promoBar.buttonText&&t.jsx("span",{className:"px-3 py-1 bg-white text-black text-xs font-bold rounded shadow-sm opacity-90",children:a.promoBar.buttonText})]})]})]})]})]})]}):t.jsx("div",{children:"Loading..."})},Qz=()=>{const[a,e]=w.useState([]),[s,r]=w.useState(!0),[i,l]=w.useState("all"),[c,f]=w.useState(null),[u,m]=w.useState(""),[g,b]=w.useState(!1);w.useEffect(()=>{v()},[i]);const v=async()=>{r(!0);try{const T=await H.getBankTransfers(i);e(T)}catch(T){console.error("Failed to load transfers",T)}r(!1)},E=async T=>{if(c){b(!0);try{await H.approveBankTransfer(c.id,T,u),f(null),m(""),await v()}catch(O){alert("Error: "+O.message)}b(!1)}},N=T=>{switch(T){case"approved":return t.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-[9px] font-black uppercase tracking-wider rounded-sm flex items-center gap-1",children:[t.jsx(xt,{size:10})," Approved"]});case"rejected":return t.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-[9px] font-black uppercase tracking-wider rounded-sm flex items-center gap-1",children:[t.jsx(ic,{size:10})," Rejected"]});default:return t.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-[9px] font-black uppercase tracking-wider rounded-sm flex items-center gap-1",children:[t.jsx(ss,{size:10})," Pending"]})}},S=T=>T?new Date(T).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return t.jsxs("div",{className:"animate-in fade-in space-y-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Payment Verification"}),t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Bank Transfer Proofs"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("select",{value:i,onChange:T=>l(T.target.value),className:"text-xs border border-gray-200 px-4 py-2 bg-white font-bold uppercase tracking-wide",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"rejected",children:"Rejected"})]}),t.jsxs("button",{onClick:v,className:"bg-white border border-gray-200 px-4 py-2 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00] flex items-center gap-2",children:[t.jsx(Sr,{size:14})," Refresh"]})]})]}),s?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Sr,{className:"animate-spin text-[#ff4d00]",size:32})}):a.length===0?t.jsxs("div",{className:"bg-white border border-gray-200 p-12 text-center",children:[t.jsx(Xd,{size:48,className:"mx-auto text-gray-300 mb-4"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No bank transfer proofs found."})]}):t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Reference"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tier"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:a.map(T=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:S(T.created_at)}),t.jsx("td",{className:"px-6 py-4 text-xs font-medium text-gray-900",children:T.user_email}),t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:T.reference}),t.jsxs("td",{className:"px-6 py-4 text-sm font-black text-gray-900",children:["",T.amount.toFixed(2)," ",t.jsxs("span",{className:"text-xs text-gray-400",children:["(",T.currency,")"]})]}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-600 capitalize",children:T.tier||"General"}),t.jsx("td",{className:"px-6 py-4",children:N(T.status)}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[t.jsx("a",{href:`${le}${T.file_url}`,download:T.file_name,className:"text-gray-400 hover:text-[#ff4d00] transition-colors",title:"Download",children:t.jsx(ei,{size:14})}),t.jsxs("button",{onClick:()=>f(T),className:"bg-black text-white px-4 py-2 text-[10px] font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(Ic,{size:12})," View"]})]})})]},T.id))})]})}),c&&t.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>f(null),children:t.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] overflow-auto shadow-2xl",onClick:T=>T.stopPropagation(),children:[t.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-start sticky top-0 bg-white",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Transfer Details"}),t.jsx("h3",{className:"text-xl font-black text-gray-900",children:c.reference})]}),N(c.status)]}),t.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"User Email"}),t.jsx("p",{className:"text-sm font-bold text-gray-900",children:c.user_email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Amount"}),t.jsxs("p",{className:"text-2xl font-black text-gray-900",children:["",c.amount.toFixed(2)," ",t.jsxs("span",{className:"text-sm text-gray-400",children:["(",c.currency,")"]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Tier"}),t.jsx("p",{className:"text-sm font-bold text-gray-900 capitalize",children:c.tier||"General"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Submitted"}),t.jsx("p",{className:"text-sm font-bold text-gray-900",children:S(c.created_at)})]}),c.notes&&t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"User Notes"}),t.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 border border-gray-200",children:c.notes})]}),c.admin_notes&&t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Admin Notes"}),t.jsx("p",{className:"text-sm text-gray-700 bg-yellow-50 p-3 border border-yellow-200",children:c.admin_notes})]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Proof Document"}),t.jsx("div",{className:"bg-gray-50 border border-gray-200 p-4",children:c.file_url.endsWith(".pdf")?t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Xd,{size:32,className:"text-red-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold",children:c.file_name}),t.jsxs("a",{href:`${le}${c.file_url}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-[#ff4d00] hover:underline flex items-center gap-1",children:["Open PDF ",t.jsx(oc,{size:10})]})]})]}),t.jsxs("a",{href:`${le}${c.file_url}`,download:c.file_name,className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(ei,{size:14})," Download"]})]}):t.jsxs("div",{className:"space-y-3",children:[t.jsx("img",{src:`${le}${c.file_url}`,alt:"Proof",className:"w-full h-auto max-h-64 object-contain"}),t.jsxs("a",{href:`${le}${c.file_url}`,download:c.file_name,className:"inline-flex items-center gap-2 bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors",children:[t.jsx(ei,{size:14})," Download Image"]})]})})]})})]}),c.status==="pending"&&t.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-2",children:"Admin Notes (Optional)"}),t.jsx("textarea",{value:u,onChange:T=>m(T.target.value),className:"w-full border border-gray-200 p-3 text-sm",rows:3,placeholder:"Add notes about this transfer..."})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:()=>E(!0),disabled:g,className:"flex-1 bg-green-500 text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-green-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[g?t.jsx(Sr,{className:"animate-spin",size:14}):t.jsx(xt,{size:14}),"Approve & Credit"]}),t.jsxs("button",{onClick:()=>E(!1),disabled:g,className:"flex-1 bg-red-500 text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[g?t.jsx(Sr,{className:"animate-spin",size:14}):t.jsx(ic,{size:14}),"Reject"]})]})]}),c.status!=="pending"&&t.jsx("div",{className:"p-6 border-t border-gray-200 flex justify-end",children:t.jsx("button",{onClick:()=>f(null),className:"bg-gray-100 hover:bg-gray-200 px-6 py-3 text-xs font-bold uppercase tracking-wider",children:"Close"})})]})})]})},Jz=()=>{const[a,e]=w.useState("pending"),[s,r]=w.useState([]),[i,l]=w.useState([]),[c,f]=w.useState([]),[u,m]=w.useState(!0),[g,b]=w.useState(null),[v,E]=w.useState({approvedValue:"",adminNotes:"",fraudFlagged:!1,fraudReason:""}),[N,S]=w.useState(!1),[T,O]=w.useState(0),[U,M]=w.useState(!1),[L,$]=w.useState(null),[X,C]=w.useState(""),[R,_]=w.useState(!1);w.useEffect(()=>{P()},[]);const P=async()=>{try{const[G,ye,Re,Pe]=await Promise.all([H.getPendingBenefits().catch(()=>[]),fetch(`${window.location.origin}/admin/benefit-types`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}}).then(W=>W.json()).then(W=>Array.isArray(W)?W:[]).catch(()=>[]),H.getBenefitsHistory().catch(()=>[]),fetch(`${window.location.origin}/settings`).then(W=>W.json()).catch(()=>({settings:{}}))]);r(G),l(ye),f(Re);const K=Pe.settings||{};O(K.newUserSignupCreditsEconomy||0)}catch(G){console.error(G)}finally{m(!1)}},D=async()=>{M(!0);try{const Re={...(await fetch(`${window.location.origin}/settings`).then(Pe=>Pe.json()).catch(()=>({settings:{}}))).settings||{},newUserSignupCreditsEconomy:T};await fetch(`${window.location.origin}/settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:Re})}),alert("Signup credits saved successfully!")}catch(G){alert(G.message||"Failed to save")}finally{M(!1)}},z=G=>{$(G),C(JSON.stringify(G.requirements||{},null,2))},I=()=>{$({type:"",category:"",name:"",value:0,active:!0,display_order:0}),C(`{
  "description": "",
  "max_claims": 0,
  "frequency": "all_time"
}`)},Z=async()=>{_(!0);try{let G={};try{G=JSON.parse(X)}catch{throw new Error("Invalid JSON in requirements")}const ye={...L,requirements:G},Re=ye.id;delete ye.id,delete ye.created_at;let Pe=`${window.location.origin}/admin/benefit-types`,K="POST";Re&&(Pe+=`/${Re}`,K="PUT");const W=await fetch(Pe,{method:K,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("tgp_token")}`},body:JSON.stringify(ye)});if(!W.ok){const B=await W.json();throw new Error(B.detail||"Failed to save")}$(null),await P()}catch(G){alert("Error: "+G.message)}finally{_(!1)}},Ee=async()=>{if(g){S(!0);try{await H.approveBenefit(g.id,parseFloat(v.approvedValue)||g.claimed_value,v.adminNotes),await P(),b(null),E({approvedValue:"",adminNotes:"",fraudFlagged:!1,fraudReason:""})}catch(G){alert(G.message||"Failed to approve")}finally{S(!1)}}},te=async()=>{if(g){S(!0);try{await H.rejectBenefit(g.id,v.adminNotes,v.fraudFlagged,v.fraudReason),await P(),b(null),E({approvedValue:"",adminNotes:"",fraudFlagged:!1,fraudReason:""})}catch(G){alert(G.message||"Failed to reject")}finally{S(!1)}}};return u?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-[#ff4d00] border-t-transparent rounded-full"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-black text-gray-900",children:"Benefits Management"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Review marketing activity submissions and manage benefit types"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>e("pending"),className:`px-4 py-2 text-xs font-bold uppercase ${a==="pending"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:["Pending (",s.length,")"]}),t.jsx("button",{onClick:()=>e("types"),className:`px-4 py-2 text-xs font-bold uppercase ${a==="types"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:"Benefit Types"}),t.jsx("button",{onClick:()=>e("history"),className:`px-4 py-2 text-xs font-bold uppercase ${a==="history"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:"History"}),t.jsx("button",{onClick:()=>e("signup"),className:`px-4 py-2 text-xs font-bold uppercase ${a==="signup"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:"Signup Credits"})]})]}),a==="pending"&&t.jsx("div",{className:"space-y-4",children:s.length===0?t.jsxs("div",{className:"bg-white border border-gray-200 p-12 text-center",children:[t.jsx(nr,{size:48,className:"mx-auto text-gray-300 mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No pending benefit requests"})]}):s.map(G=>t.jsx("div",{className:"bg-white border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"bg-yellow-100 p-3",children:t.jsx(ss,{size:24,className:"text-yellow-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"text-sm font-bold text-gray-900",children:G.user_email}),t.jsx("span",{className:"text-xs bg-gray-100 px-2 py-0.5",children:G.benefit_type}),t.jsx("span",{className:"text-xs bg-[#ff4d00]/10 text-[#ff4d00] px-2 py-0.5",children:G.benefit_category})]}),t.jsxs("a",{href:G.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:[G.url," ",t.jsx(oc,{size:12})]}),G.screenshot_url&&t.jsxs("a",{href:G.screenshot_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 hover:underline flex items-center gap-1 mt-1",children:["View Screenshot ",t.jsx(oc,{size:12})]}),G.description&&t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:G.description}),t.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Submitted: ",new Date(G.submitted_at).toLocaleString()]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-2xl font-black text-[#ff4d00]",children:["",G.claimed_value]}),t.jsx("div",{className:"text-xs text-gray-500",children:"Claimed"}),t.jsx("div",{className:"flex gap-2 mt-4",children:t.jsx("button",{onClick:()=>{b(G),E({...v,approvedValue:String(G.claimed_value)})},className:"px-3 py-1 bg-green-500 text-white text-xs font-bold uppercase hover:bg-green-600",children:"Review"})})]})]})},G.id))}),a==="types"&&t.jsxs("div",{className:"bg-white border border-gray-200",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[t.jsx("h3",{className:"font-bold",children:"Benefit Types Configuration"}),t.jsxs("button",{onClick:I,className:"px-3 py-1 bg-[#ff4d00] text-white text-xs font-bold uppercase flex items-center gap-1 hover:bg-[#e64600]",children:[t.jsx(Ir,{size:14})," Add Type"]})]}),t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left p-4 text-xs font-bold text-gray-500 uppercase",children:"Type"}),t.jsx("th",{className:"text-left p-4 text-xs font-bold text-gray-500 uppercase",children:"Category"}),t.jsx("th",{className:"text-left p-4 text-xs font-bold text-gray-500 uppercase",children:"Name"}),t.jsx("th",{className:"text-right p-4 text-xs font-bold text-gray-500 uppercase",children:"Value"}),t.jsx("th",{className:"text-center p-4 text-xs font-bold text-gray-500 uppercase",children:"Active"}),t.jsx("th",{className:"text-right p-4 text-xs font-bold text-gray-500 uppercase",children:"Actions"})]})}),t.jsx("tbody",{children:i.map(G=>t.jsxs("tr",{className:"border-t border-gray-100",children:[t.jsx("td",{className:"p-4 text-sm",children:G.type}),t.jsx("td",{className:"p-4 text-sm",children:G.category}),t.jsx("td",{className:"p-4 text-sm font-medium",children:G.name}),t.jsxs("td",{className:"p-4 text-sm text-right font-bold",children:["",G.value]}),t.jsx("td",{className:"p-4 text-center",children:t.jsx("span",{className:`px-2 py-1 text-xs ${G.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:G.active?"Active":"Inactive"})}),t.jsx("td",{className:"p-4 text-right",children:t.jsx("button",{onClick:()=>z(G),className:"p-1 text-gray-400 hover:text-[#ff4d00]",children:t.jsx(XO,{size:16})})})]},G.id))})]})]}),a==="history"&&t.jsxs("div",{className:"bg-white border border-gray-200",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Processed Benefits"})}),c.length===0?t.jsxs("div",{className:"p-12 text-center text-gray-400",children:[t.jsx(ss,{size:32,className:"mx-auto mb-3 opacity-50"}),t.jsx("p",{className:"text-sm font-bold",children:"No processed benefits yet"})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"User"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Claimed"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Approved"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Reviewed"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:c.map(G=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:G.user_email}),t.jsxs("td",{className:"px-6 py-4 text-xs text-gray-600",children:[G.benefit_type," / ",G.benefit_category]}),t.jsxs("td",{className:"px-6 py-4 text-xs font-bold",children:["",G.claimed_value]}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-green-600",children:G.approved_value?`${G.approved_value}`:"-"}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("span",{className:`inline-flex items-center gap-1 text-[9px] font-black uppercase tracking-wider px-2 py-1 rounded-sm ${G.status==="approved"?"bg-green-100 text-green-700":G.status==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-500"}`,children:[G.status==="approved"?t.jsx(xt,{size:10}):G.status==="rejected"?t.jsx(ic,{size:10}):t.jsx(ss,{size:10}),G.status]}),G.fraud_flagged&&t.jsx("span",{className:"ml-2 text-[8px] text-red-600 font-black uppercase",children:"Fraud"})]}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:G.reviewed_at?new Date(G.reviewed_at).toLocaleDateString():"-"})]},G.id))})]})})]}),a==="signup"&&t.jsxs("div",{className:"bg-white border border-gray-200",children:[t.jsxs("div",{className:"p-6 border-b border-gray-200",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"New User Signup Bonus (Economy Credits)"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configure how many economy credits new users receive for free when they register"})]}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"max-w-md",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Signup Bonus (Economy Credits)"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"relative flex-1",children:t.jsx("input",{type:"number",min:"0",step:"100",value:T,onChange:G=>O(parseInt(G.target.value)||0),className:"pl-4 pr-4 py-2 w-full border border-gray-300 focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent",placeholder:"0"})}),t.jsx("span",{className:"text-gray-500",children:"credits"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Set to 0 to disable signup bonus. New users will not receive any economy credits upon registration."}),t.jsx("div",{className:"mt-6 flex items-center gap-4",children:t.jsxs("button",{onClick:D,disabled:U,className:"px-4 py-2 bg-[#ff4d00] text-white font-bold uppercase text-xs flex items-center gap-2 hover:bg-[#e64600] disabled:opacity-50",children:[U?t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):t.jsx(tn,{size:16}),U?"Saving...":"Save Settings"]})}),t.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200",children:[t.jsxs("h4",{className:"text-sm font-bold text-blue-900 flex items-center gap-2",children:[t.jsx(Rr,{size:16}),"How it works"]}),t.jsxs("ul",{className:"mt-2 text-xs text-blue-800 space-y-1",children:[t.jsxs("li",{children:[" When a new user registers, they will automatically receive ",T.toLocaleString()," economy credits"]}),t.jsx("li",{children:" Credits are added to their economy balance immediately"}),t.jsx("li",{children:" A transaction record is created for tracking"}),t.jsx("li",{children:" This setting applies to all new registrations"})]})]})]})})]}),g&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white max-w-lg w-full p-6",children:[t.jsx("h3",{className:"text-xl font-bold mb-4",children:"Review Benefit Request"}),t.jsxs("div",{className:"bg-gray-50 p-4 mb-4",children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"User:"}),t.jsx("span",{className:"text-sm font-bold",children:g.user_email})]}),t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Type:"}),t.jsxs("span",{className:"text-sm font-bold",children:[g.benefit_type," / ",g.benefit_category]})]}),t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Claimed:"}),t.jsxs("span",{className:"text-sm font-bold text-[#ff4d00]",children:["",g.claimed_value]})]}),t.jsxs("div",{className:"mt-2 pt-2 border-t flex flex-col gap-2",children:[t.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"View Link "}),g.screenshot_url&&t.jsx("a",{href:g.screenshot_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"View Screenshot "})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Approved Value ()"}),t.jsx("input",{type:"number",className:"w-full border p-3",value:v.approvedValue,onChange:G=>E({...v,approvedValue:G.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Admin Notes"}),t.jsx("textarea",{className:"w-full border p-3",rows:3,value:v.adminNotes,onChange:G=>E({...v,adminNotes:G.target.value})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"fraud",checked:v.fraudFlagged,onChange:G=>E({...v,fraudFlagged:G.target.checked})}),t.jsxs("label",{htmlFor:"fraud",className:"text-sm text-red-600 font-bold flex items-center gap-1",children:[t.jsx(as,{size:14})," Flag as Fraud"]})]}),v.fraudFlagged&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Fraud Reason"}),t.jsx("input",{type:"text",className:"w-full border p-3 border-red-300",value:v.fraudReason,onChange:G=>E({...v,fraudReason:G.target.value}),placeholder:"Reason for fraud flag..."})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>b(null),className:"flex-1 border py-3 text-xs font-bold uppercase",children:"Cancel"}),t.jsx("button",{onClick:te,disabled:N,className:"flex-1 bg-red-500 text-white py-3 text-xs font-bold uppercase disabled:opacity-50",children:"Reject"}),t.jsx("button",{onClick:Ee,disabled:N,className:"flex-1 bg-green-500 text-white py-3 text-xs font-bold uppercase disabled:opacity-50",children:"Approve"})]})]})}),L&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsx("h3",{className:"text-xl font-bold mb-4",children:L.id?"Edit Benefit Type":"Add Benefit Type"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Type"}),t.jsx("input",{type:"text",className:"w-full border p-2",value:L.type,onChange:G=>$({...L,type:G.target.value}),placeholder:"e.g. youtube, blog"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Category"}),t.jsx("input",{type:"text",className:"w-full border p-2",value:L.category,onChange:G=>$({...L,category:G.target.value}),placeholder:"e.g. viral, premium"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Name"}),t.jsx("input",{type:"text",className:"w-full border p-2",value:L.name,onChange:G=>$({...L,name:G.target.value}),placeholder:"e.g. YouTube Video"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Value ()"}),t.jsx("input",{type:"number",step:"0.01",className:"w-full border p-2",value:L.value,onChange:G=>$({...L,value:parseFloat(G.target.value)||0})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Display Order"}),t.jsx("input",{type:"number",className:"w-full border p-2",value:L.display_order,onChange:G=>$({...L,display_order:parseInt(G.target.value)||0})})]}),t.jsxs("div",{className:"flex items-center pt-6",children:[t.jsx("input",{type:"checkbox",id:"bt-active",checked:L.active,onChange:G=>$({...L,active:G.target.checked}),className:"mr-2"}),t.jsx("label",{htmlFor:"bt-active",className:"text-sm font-bold",children:"Active"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Requirements (JSON)"}),t.jsx("textarea",{className:"w-full border p-2 font-mono text-sm",rows:6,value:X,onChange:G=>C(G.target.value)}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Requires valid JSON. Common fields: "description", "max_claims", "frequency" ("all_time", "daily", "weekly", "monthly").'})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>$(null),className:"flex-1 border py-3 text-xs font-bold uppercase",children:"Cancel"}),t.jsx("button",{onClick:Z,disabled:R,className:"flex-1 bg-[#ff4d00] text-white py-3 text-xs font-bold uppercase disabled:opacity-50",children:R?"Saving...":"Save"})]})]})})]})},Xz=()=>{var lt,Ne,Me,yt,we,re,qe,rt;const[a,e]=w.useState({username:"",password:"",serviceName:"RESIDENTIAL-PREMIUM",proxyHost:"92.204.164.15",httpPort:9e3,sessionLifetimeMinutes:30,bandwidthLimitGb:void 0,notificationEmail:"support@traffic-creator.com",isActive:!0,warnAt80:!0,warnAt50:!0,warnAt20:!0}),[s,r]=w.useState(null),[i,l]=w.useState([]),[c,f]=w.useState(null),[u,m]=w.useState(!0),[g,b]=w.useState(!1),[v,E]=w.useState(!1),[N,S]=w.useState(!1),[T,O]=w.useState(!1),[U,M]=w.useState(null),[L,$]=w.useState([]),[X,C]=w.useState(""),[R,_]=w.useState(""),[P,D]=w.useState(""),[z,I]=w.useState(!1),[Z,Ee]=w.useState(null),[te,G]=w.useState([]),[ye,Re]=w.useState(null),[Pe,K]=w.useState(!1);w.useEffect(()=>{F(),W(),B()},[]);const W=async()=>{try{const ie=await H.getGeoLocations();$(ie)}catch(ie){console.error("Failed to load geo locations:",ie)}},B=async(ie=!1)=>{try{const[Ue,is]=await Promise.all([H.getProxyLogs({limit:50,errorsOnly:ie}),H.getProxyLogStats()]);G(Ue),Re(is)}catch(Ue){console.error("Failed to load proxy logs:",Ue)}},F=async()=>{m(!0);try{const ie=await H.getProxyConfig();ie&&(r(ie),e({username:ie.username,password:"",serviceName:ie.serviceName,proxyHost:ie.proxyHost||"92.204.164.15",httpPort:ie.httpPort||9e3,sessionLifetimeMinutes:ie.sessionLifetimeMinutes,bandwidthLimitGb:ie.bandwidthLimitGb,notificationEmail:ie.notificationEmail,isActive:ie.isActive,warnAt80:ie.warnAt80,warnAt50:ie.warnAt50,warnAt20:ie.warnAt20}));const[Ue,is]=await Promise.all([H.getProxySessions(!0),H.getProxyUsage()]);l(Ue),f(is)}catch(ie){console.error("Failed to load proxy data:",ie)}finally{m(!1)}},se=async()=>{if(!a.username||!a.password){M({type:"error",text:"Username and password are required"});return}b(!0),M(null);try{const ie=await H.saveProxyConfig(a);r(ie),M({type:"success",text:"Proxy configuration saved successfully"})}catch(ie){M({type:"error",text:ie.message||"Failed to save configuration"})}finally{b(!1)}},je=async()=>{E(!0),M(null);try{const ie=await H.testProxyConnection();if(ie.success){M({type:"success",text:`Connection successful! Bandwidth: ${ie.bandwidth_used_gb||0} GB used`});const Ue=await H.getProxyUsage();f(Ue)}else M({type:"error",text:ie.message||"Connection failed"})}catch(ie){M({type:"error",text:ie.message||"Test failed"})}finally{E(!1)}},Ce=async()=>{S(!0),M(null);try{const ie=await H.syncProxyLocations();M({type:"success",text:`Synced ${ie.locations_synced} geo locations`})}catch(ie){M({type:"error",text:ie.message||"Sync failed"})}finally{S(!1)}},Le=async ie=>{try{await H.releaseProxySession(ie),l(i.filter(Ue=>Ue.id!==ie)),M({type:"success",text:"Session released"})}catch(Ue){M({type:"error",text:Ue.message||"Failed to release session"})}},ze=async()=>{try{const ie=await H.releaseAllProxySessions();l([]),M({type:"success",text:`Released ${ie.sessions_released} sessions`})}catch(ie){M({type:"error",text:ie.message||"Failed to release sessions"})}},J=async()=>{var ie,Ue;if(!X){M({type:"error",text:"Please select a country for testing"});return}I(!0),Ee(null),M(null);try{const is=L.find(Ss=>Ss.countryCode===X),It=await H.testProxyTraffic({countryCode:X,countryName:is==null?void 0:is.countryName,state:R||void 0,city:P||void 0});Ee(It),It.success?M({type:"success",text:`Test successful! IP: ${(ie=It.detected)==null?void 0:ie.ip} (${(Ue=It.detected)==null?void 0:Ue.country})`}):M({type:"error",text:It.message||"Test failed"})}catch(is){M({type:"error",text:is.message||"Test failed"})}finally{I(!1)}},Qe=c!=null&&c.bandwidthLimitGb&&c.bandwidthUsedGb?c.bandwidthUsedGb/c.bandwidthLimitGb*100:s!=null&&s.bandwidthLimitGb&&s.bandwidthUsedGb?s.bandwidthUsedGb/s.bandwidthLimitGb*100:0,Ze=ie=>ie>=100?"bg-red-500":ie>=80?"bg-orange-500":ie>=50?"bg-yellow-500":"bg-green-500";return u?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"text-gray-500",children:"Loading proxy configuration..."})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-black text-gray-900",children:"Proxy Provider"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configure Geonode Residential Proxies for geo-targeted traffic"})]}),t.jsx("div",{className:"flex items-center gap-2",children:s!=null&&s.isActive?t.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-sm font-bold",children:[t.jsx(T9,{size:16})," Active"]}):t.jsxs("span",{className:"flex items-center gap-1 text-gray-400 text-sm font-bold",children:[t.jsx(k9,{size:16})," Inactive"]})})]}),U&&t.jsxs("div",{className:`p-4 border flex items-center gap-2 ${U.type==="success"?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"}`,children:[U.type==="success"?t.jsx(xt,{size:16}):t.jsx(Na,{size:16}),U.text]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(fk,{size:14})," Configuration"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Username"}),t.jsx("input",{type:"text",value:a.username,onChange:ie=>e({...a,username:ie.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"geonode_username"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:T?"text":"password",value:a.password,onChange:ie=>e({...a,password:ie.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pr-10 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:""}),t.jsx("button",{type:"button",onClick:()=>O(!T),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:T?t.jsx(Pf,{size:16}):t.jsx(Ic,{size:16})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Service Name"}),t.jsx("input",{type:"text",value:a.serviceName,onChange:ie=>e({...a,serviceName:ie.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"RESIDENTIAL-PREMIUM"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Proxy Host / IP"}),t.jsx("input",{type:"text",value:a.proxyHost,onChange:ie=>e({...a,proxyHost:ie.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"92.204.164.15"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Proxy Port"}),t.jsx("input",{type:"number",value:a.httpPort,onChange:ie=>e({...a,httpPort:parseInt(ie.target.value)||9e3}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"9000"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Session Lifetime (min)"}),t.jsx("input",{type:"number",value:a.sessionLifetimeMinutes,onChange:ie=>e({...a,sessionLifetimeMinutes:parseInt(ie.target.value)||30}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Bandwidth Limit (GB)"}),t.jsx("input",{type:"number",value:a.bandwidthLimitGb||"",onChange:ie=>e({...a,bandwidthLimitGb:ie.target.value?parseFloat(ie.target.value):void 0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"Optional"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2 flex items-center gap-1",children:[t.jsx(Nn,{size:12})," Notification Email"]}),t.jsx("input",{type:"email",value:a.notificationEmail,onChange:ie=>e({...a,notificationEmail:ie.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Bandwidth Alerts"}),t.jsxs("div",{className:"flex flex-wrap gap-4",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:a.warnAt80,onChange:ie=>e({...a,warnAt80:ie.target.checked}),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded"}),"80%"]}),t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:a.warnAt50,onChange:ie=>e({...a,warnAt50:ie.target.checked}),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded"}),"50%"]}),t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:a.warnAt20,onChange:ie=>e({...a,warnAt20:ie.target.checked}),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded"}),"20%"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 border-t border-gray-100 pt-4",children:[t.jsx("input",{type:"checkbox",checked:a.isActive,onChange:ie=>e({...a,isActive:ie.target.checked}),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded"}),t.jsx("span",{className:"text-sm font-bold",children:"Proxy Active"})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsxs("button",{onClick:se,disabled:g,className:"flex-1 bg-black text-white px-4 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[t.jsx(tn,{size:14})," ",g?"Saving...":"Save"]}),t.jsxs("button",{onClick:je,disabled:v||!a.username,className:"bg-gray-100 text-gray-700 px-4 py-3 text-xs font-bold uppercase tracking-wider hover:bg-gray-200 transition-colors flex items-center gap-2 disabled:opacity-50",children:[v?t.jsx(Sr,{size:14,className:"animate-spin"}):t.jsx(Er,{size:14})," Test"]}),t.jsxs("button",{onClick:Ce,disabled:N||!s,className:"bg-gray-100 text-gray-700 px-4 py-3 text-xs font-bold uppercase tracking-wider hover:bg-gray-200 transition-colors flex items-center gap-2 disabled:opacity-50",children:[t.jsx(Sr,{size:14})," Sync"]})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(fk,{size:14})," Usage & Status"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[t.jsx("span",{className:"font-bold",children:"Bandwidth"}),t.jsxs("span",{className:"text-gray-500",children:[(c==null?void 0:c.bandwidthUsedGb)||(s==null?void 0:s.bandwidthUsedGb)||0," GB / ",(c==null?void 0:c.bandwidthLimitGb)||(s==null?void 0:s.bandwidthLimitGb)||"?"," GB"]})]}),t.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full transition-all ${Ze(Qe)}`,style:{width:`${Math.min(Qe,100)}%`}})}),t.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[Qe.toFixed(1),"%"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 p-4 border border-gray-100",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Active Sessions"}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:i.length})]}),t.jsxs("div",{className:"bg-gray-50 p-4 border border-gray-100",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Last Sync"}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:s!=null&&s.lastSyncAt?new Date(s.lastSyncAt).toLocaleString():"Never"})]})]}),t.jsxs("button",{onClick:ze,disabled:i.length===0,className:"w-full bg-red-50 text-red-600 px-4 py-3 text-xs font-bold uppercase tracking-wider hover:bg-red-100 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 border border-red-200",children:[t.jsx(_n,{size:14})," Release All Sessions"]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(ss,{size:14})," Active Sessions"]}),i.length===0?t.jsx("div",{className:"text-center text-gray-400 py-8",children:"No active sessions"}):t.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:i.map(ie=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-100",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"text-sm font-bold",children:[ie.country||"Unknown",ie.state&&` / ${ie.state}`,ie.city&&` / ${ie.city}`]}),t.jsxs("div",{className:"text-xs text-gray-400",children:[ie.sessionId,"  ",ie.requestCount," requests"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"text-xs text-gray-400",children:ie.expiresAt?`${Math.max(0,Math.floor((new Date(ie.expiresAt).getTime()-Date.now())/6e4))}m`:""}),t.jsx("button",{onClick:()=>Le(ie.id),className:"text-red-500 hover:text-red-700",children:t.jsx(_n,{size:14})})]})]},ie.id))})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Vt,{size:14})," Test Proxy Traffic"]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Country"}),t.jsxs("select",{value:X,onChange:ie=>{C(ie.target.value),_(""),D("")},className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium",disabled:!(s!=null&&s.isActive),children:[t.jsx("option",{value:"",children:"Select Country..."}),L.map(ie=>t.jsx("option",{value:ie.countryCode,children:ie.countryName},ie.countryCode))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"State (optional)"}),t.jsxs("select",{value:R,onChange:ie=>{_(ie.target.value),D("")},className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium",disabled:!X,children:[t.jsx("option",{value:"",children:"Any State"}),X&&((lt=L.find(ie=>ie.countryCode===X))==null?void 0:lt.states.map(ie=>t.jsx("option",{value:ie.name,children:ie.name},ie.code)))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"City (optional)"}),t.jsxs("select",{value:P,onChange:ie=>D(ie.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium",disabled:!R,children:[t.jsx("option",{value:"",children:"Any City"}),R&&((Ne=L.find(ie=>ie.countryCode===X))==null?void 0:Ne.cities.filter(ie=>ie.code.startsWith(R.substring(0,2).toUpperCase())).map(ie=>t.jsx("option",{value:ie.name,children:ie.name},ie.code)))]})]})]}),t.jsx("button",{onClick:J,disabled:z||!X||!(s!=null&&s.isActive),className:"bg-[#ff4d00] text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#e64500] transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:z?t.jsxs(t.Fragment,{children:[t.jsx(Sr,{size:14,className:"animate-spin"})," Testing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Vt,{size:14})," Run Test"]})}),L.length===0&&t.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"No geo locations loaded. Sync from Geonode first."})]}),t.jsx("div",{children:Z?t.jsx("div",{className:`p-4 border ${Z.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:Z.success?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-green-700 font-bold",children:[t.jsx(xt,{size:16})," Test Successful"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"IP Address:"}),t.jsx("span",{className:"font-mono font-bold ml-2",children:(Me=Z.detected)==null?void 0:Me.ip})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Latency:"}),t.jsxs("span",{className:"font-bold ml-2",children:[Z.latency_ms,"ms"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Country:"}),t.jsxs("span",{className:"font-bold ml-2",children:[(yt=Z.detected)==null?void 0:yt.country," (",(we=Z.detected)==null?void 0:we.country_code,")"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Region:"}),t.jsx("span",{className:"font-bold ml-2",children:(re=Z.detected)==null?void 0:re.region})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"City:"}),t.jsx("span",{className:"font-bold ml-2",children:(qe=Z.detected)==null?void 0:qe.city})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"ISP:"}),t.jsx("span",{className:"font-bold ml-2",children:(rt=Z.detected)==null?void 0:rt.isp})]})]}),t.jsx("div",{className:`flex items-center gap-2 text-sm ${Z.geo_match?"text-green-600":"text-yellow-600"}`,children:Z.geo_match?t.jsxs(t.Fragment,{children:[t.jsx(xt,{size:14})," Geo-location matches request"]}):t.jsxs(t.Fragment,{children:[t.jsx(Na,{size:14})," Geo-location does not match request"]})})]}):t.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[t.jsx(Na,{size:16}),t.jsx("span",{children:Z.message})]})}):t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-8 text-center text-gray-400",children:[t.jsx(Ns,{size:32,className:"mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"Select a country and run a test to verify proxy geo-location"})]})})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[t.jsx(Xd,{size:14})," Proxy Logs"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[ye&&t.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ba,{size:12,className:"text-green-500"}),t.jsxs("span",{className:"font-bold",children:[ye.successRate,"%"]}),t.jsx("span",{className:"text-gray-400",children:"success"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("span",{className:"font-bold",children:[ye.avgLatencyMs,"ms"]}),t.jsx("span",{className:"text-gray-400",children:"avg latency"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"font-bold text-red-500",children:ye.failed}),t.jsx("span",{className:"text-gray-400",children:"errors"})]})]}),t.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium",children:[t.jsx("input",{type:"checkbox",checked:Pe,onChange:ie=>{K(ie.target.checked),B(ie.target.checked)},className:"w-3 h-3"}),"Errors only"]}),t.jsx("button",{onClick:()=>B(Pe),className:"text-xs text-gray-500 hover:text-gray-700",children:t.jsx(Sr,{size:14})})]})]}),te.length===0?t.jsx("div",{className:"text-center text-gray-400 py-8",children:"No proxy logs yet"}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200",children:[t.jsx("th",{className:"text-left py-2 px-2 font-bold text-gray-400 uppercase",children:"Time"}),t.jsx("th",{className:"text-left py-2 px-2 font-bold text-gray-400 uppercase",children:"Status"}),t.jsx("th",{className:"text-left py-2 px-2 font-bold text-gray-400 uppercase",children:"Location"}),t.jsx("th",{className:"text-left py-2 px-2 font-bold text-gray-400 uppercase",children:"IP"}),t.jsx("th",{className:"text-left py-2 px-2 font-bold text-gray-400 uppercase",children:"Latency"}),t.jsx("th",{className:"text-left py-2 px-2 font-bold text-gray-400 uppercase",children:"Error"})]})}),t.jsx("tbody",{children:te.map(ie=>t.jsxs("tr",{className:`border-b border-gray-100 ${ie.success?"":"bg-red-50"}`,children:[t.jsx("td",{className:"py-2 px-2 text-gray-500",children:ie.createdAt?new Date(ie.createdAt).toLocaleString():""}),t.jsx("td",{className:"py-2 px-2",children:ie.success?t.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[t.jsx(xt,{size:12})," ",ie.responseCode||"OK"]}):t.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[t.jsx(Na,{size:12})," ",ie.responseCode||"Error"]})}),t.jsx("td",{className:"py-2 px-2",children:ie.countryCode&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("img",{src:`https://flagcdn.com/w16/${ie.countryCode.toLowerCase()}.png`,alt:ie.countryCode,className:"w-4 h-auto"}),ie.countryCode,ie.state&&t.jsxs("span",{className:"text-gray-400",children:["/",ie.state]}),ie.city&&t.jsxs("span",{className:"text-gray-300",children:["/",ie.city]})]})}),t.jsx("td",{className:"py-2 px-2 font-mono text-gray-500",children:ie.ipAddress||""}),t.jsx("td",{className:"py-2 px-2",children:ie.latencyMs?`${ie.latencyMs}ms`:""}),t.jsx("td",{className:"py-2 px-2 text-red-600 max-w-xs truncate",children:ie.errorMessage||""})]},ie.id))})]})})]})]})},Zz=({onLogout:a})=>{const e=ta(),s=hr(),[r,i]=w.useState(!1),c=(()=>{const G=s.pathname;return G==="/admin"||G==="/admin/"?"admin-home":G.startsWith("/admin/users/edit/")?"admin-edit-user":G==="/admin/users"?"admin-users":G==="/admin/live"?"admin-live":G==="/admin/tickets"?"admin-tickets":G.startsWith("/admin/projects/edit/")?"admin-edit-project":G==="/admin/projects"?"admin-projects":G==="/admin/projects/create"?"admin-create-project":G.startsWith("/admin/transactions/edit/")?"admin-edit-transaction":G==="/admin/transactions"?"admin-transactions":G==="/admin/alerts"?"admin-alerts":G==="/admin/pricing"?"admin-pricing":G==="/admin/settings"?"admin-settings":G==="/admin/api-docs"?"admin-api-docs":G==="/admin/marketing"?"admin-marketing":G==="/admin/coupons"?"admin-coupons":G==="/admin/conversion"?"admin-conversion":G==="/admin/bank-transfers"?"admin-bank-transfers":G==="/admin/proxies"?"admin-proxies":"admin-home"})(),[f,u]=w.useState([]),[m,g]=w.useState([]),[b,v]=w.useState([]),[E,N]=w.useState([]),[S,T]=w.useState([]),[O,U]=w.useState(null),[M,L]=w.useState([]),[$,X]=w.useState(null);w.useEffect(()=>{H.init(),(async()=>{await Promise.all([H.syncProjects(),H.syncAdminProjects()]),await C()})()},[]);const C=async()=>{try{const[G,ye,Re]=await Promise.all([H.syncUsers(),H.syncAllTransactions(),H.getAdminStats(),H.syncAdminProjects(),H.syncTickets(),H.syncSettings(),H.syncAlerts()]);u(G||[]),N(ye||[]),Re&&X(Re),g(H.getAdminProjects()),T(H.getTickets()),L(H.getAlerts());const Pe=H.getSystemSettings();Pe&&U(Pe),v(H.getPricing())}catch(G){console.error("Failed to refresh admin data:",G)}},R=G=>{const ye=H.getTickets();T(ye),e("/admin/tickets")},_=G=>{e(`/admin/users/edit/${G}`),window.scrollTo(0,0)},P=G=>{e(`/admin/projects/edit/${G}`),window.scrollTo(0,0)},D=G=>{e(`/admin/transactions/edit/${G}`),window.scrollTo(0,0)},z=[{title:"Admin Control",items:[{label:"Overview",id:"admin-home",path:"",icon:t.jsx(OT,{size:18})},{label:"User Management",id:"admin-users",path:"users",icon:t.jsx(Rr,{size:18})},{label:"Live Users",id:"admin-live",path:"live",icon:t.jsx(mx,{size:18})},{label:"All Projects",id:"admin-projects",path:"projects",icon:t.jsx(jn,{size:18})},{label:"Create Project",id:"admin-create-project",path:"projects/create",icon:t.jsx(Ir,{size:18})}]},{title:"Operations",items:[{label:"Transactions",id:"admin-transactions",path:"transactions",icon:t.jsx(Ta,{size:18})},{label:"Bank Transfers",id:"admin-bank-transfers",path:"bank-transfers",icon:t.jsx(MT,{size:18})},{label:"Support Tickets",id:"admin-tickets",path:"tickets",icon:t.jsx(en,{size:18})},{label:"Broadcasts",id:"admin-alerts",path:"alerts",icon:t.jsx(rv,{size:18})},{label:"API Documentation",id:"admin-api-docs",path:"api-docs",icon:t.jsx(PT,{size:18})}]},{title:"Growth",items:[{label:"Marketing Hub",id:"admin-marketing",path:"marketing",icon:t.jsx(Ba,{size:18})},{label:"Coupons",id:"admin-coupons",path:"coupons",icon:t.jsx(iv,{size:18})},{label:"Conversion",id:"admin-conversion",path:"conversion",icon:t.jsx(Vt,{size:18})},{label:"Benefits",id:"admin-benefits",path:"benefits",icon:t.jsx(Ba,{size:18})}]},{title:"Infrastructure",items:[{label:"Proxy Provider",id:"admin-proxies",path:"proxies",icon:t.jsx(UT,{size:18})}]},{title:"Configuration",items:[{label:"Global Pricing",id:"admin-pricing",path:"pricing",icon:t.jsx(Ta,{size:18})},{label:"System Settings",id:"admin-settings",path:"settings",icon:t.jsx(Pi,{size:18})}]}],I=()=>{const{id:G}=$d();return G?t.jsx(zz,{userId:G,onBack:()=>e("/admin/users"),onUpdate:C}):t.jsx("div",{children:"Error: No User ID selected"})},Z=()=>{const{id:G}=$d();return G?t.jsx(Fz,{projectId:G,onBack:()=>e("/admin/projects"),onUpdate:C}):t.jsx("div",{children:"Error: No Project ID selected"})},Ee=()=>{const{id:G}=$d();return G?t.jsx(Bz,{trxId:G,onBack:()=>e("/admin/transactions"),onUpdate:C}):t.jsx("div",{children:"Error: No Transaction ID selected"})},te=()=>t.jsx(qz,{onBack:()=>e("/admin/projects"),onSuccess:C});return t.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen flex font-sans text-gray-900",children:[t.jsx(HT,{menuSections:z,currentView:c,onNavigate:G=>{e(`/admin/${{"admin-home":"","admin-users":"users","admin-live":"live","admin-projects":"projects","admin-create-project":"projects/create","admin-transactions":"transactions","admin-tickets":"tickets","admin-alerts":"alerts","admin-pricing":"pricing","admin-settings":"settings","admin-api-docs":"api-docs","admin-marketing":"marketing","admin-coupons":"coupons","admin-conversion":"conversion","admin-benefits":"benefits","admin-bank-transfers":"bank-transfers","admin-proxies":"proxies"}[G]||""}`),i(!1),window.scrollTo(0,0)},onLogout:a}),t.jsxs("main",{className:"flex-1 md:ml-64 flex flex-col min-h-screen relative",children:[t.jsx(GT,{title:"Super Admin Panel",onMobileMenuClick:()=>i(!0),isAdmin:!0}),t.jsx("div",{className:"flex-1 p-6 md:p-12 overflow-y-auto",children:t.jsx("div",{className:"max-w-screen-2xl mx-auto h-full",children:t.jsxs(fw,{children:[t.jsx(Xe,{index:!0,element:t.jsx(vz,{users:f,projects:m,tickets:S,transactions:E,onNavigate:G=>{e(`/admin/${{"admin-users":"users","admin-projects":"projects","admin-tickets":"tickets","admin-transactions":"transactions"}[G]||""}`)},stats:$})}),t.jsx(Xe,{path:"users",element:t.jsx(wz,{users:f,projects:m,transactions:E,tickets:S,onRefresh:C,onEditUser:_})}),t.jsx(Xe,{path:"users/edit/:id",element:t.jsx(I,{})}),t.jsx(Xe,{path:"live",element:t.jsx(Tz,{onStartChat:R})}),t.jsx(Xe,{path:"tickets",element:t.jsx(jz,{tickets:S,onRefresh:C})}),t.jsx(Xe,{path:"projects",element:t.jsx(Nz,{projects:m,onEditProject:P,onEditUser:_,onBulkUpdate:async(G,ye)=>{await H.bulkUpdateAdminProjects(G,ye),C()}})}),t.jsx(Xe,{path:"projects/edit/:id",element:t.jsx(Z,{})}),t.jsx(Xe,{path:"projects/create",element:t.jsx(te,{})}),t.jsx(Xe,{path:"transactions",element:t.jsx(_z,{transactions:E,onEditTransaction:D})}),t.jsx(Xe,{path:"transactions/edit/:id",element:t.jsx(Ee,{})}),t.jsx(Xe,{path:"alerts",element:t.jsx(Sz,{alerts:M,onRefresh:C})}),t.jsx(Xe,{path:"pricing",element:t.jsx(yz,{initialData:b,onSave:()=>v(H.getPricing())})}),t.jsx(Xe,{path:"settings",element:O?t.jsx(kz,{initialSettings:O,onSave:C}):t.jsx("div",{children:"Loading..."})}),t.jsx(Xe,{path:"api-docs",element:t.jsx(Hz,{})}),t.jsx(Xe,{path:"marketing",element:t.jsx(Kz,{})}),t.jsx(Xe,{path:"coupons",element:t.jsx(Wz,{onRefresh:C})}),t.jsx(Xe,{path:"conversion",element:t.jsx(Yz,{})}),t.jsx(Xe,{path:"bank-transfers",element:t.jsx(Qz,{})}),t.jsx(Xe,{path:"benefits",element:t.jsx(Jz,{})}),t.jsx(Xe,{path:"proxies",element:t.jsx(Xz,{})}),t.jsx(Xe,{path:"*",element:t.jsx(pn,{to:"/admin",replace:!0})})]})})})]})]})},e8=({type:a,onBack:e})=>{const s=()=>{switch(a){case"privacy":return"Privacy Policy | Traffic Creator - Secure Website Traffic";case"terms":return"Terms of Use | Service Agreement - Traffic Creator";case"impressum":return"Impressum & Legal Imprint - EasyTrafficBot UG";case"agb":return"General Terms and Conditions (AGB) - Traffic Creator";case"refund":return"Refund & Cancellation Policy - Traffic Creator";case"delivery":return"Service Delivery Standards | Digital fulfillment";default:return"Legal Documentation - Traffic Creator"}},r=()=>{switch(a){case"privacy":return"Learn how Traffic Creator collects, uses, and protects your personal data in accordance with GDPR and international privacy standards.";case"terms":return"Our Terms of Use outline the legal agreement between you and Traffic Creator regarding your use of our website and services.";case"impressum":return"Official legal imprint and corporate information for EasyTrafficBot UG, the parent company of Traffic Creator.";case"agb":return"Read our General Terms and Conditions (AGB) for a detailed overview of our service agreements, pricing, and liability policies.";case"refund":return"Information about our refund policy, satisfaction guarantees, and the process for requesting a refund at Traffic Creator.";case"delivery":return"Understand our digital service delivery standards, including campaign activation times and fulfillment processes.";default:return"Official legal documentation for Traffic Creator services and website usage."}},i=()=>{switch(a){case"privacy":return"Privacy Policy";case"terms":return"Terms of Use";case"impressum":return"Impressum (Imprint)";case"agb":return"AGB (General Terms)";case"refund":return"Refund Policy";case"delivery":return"Delivery Policy";default:return"Legal Document"}},l=()=>{switch(a){case"impressum":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last modified: February 06, 2024"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 text-sm text-gray-600",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Information according to  5 TMG"}),t.jsx("p",{className:"font-bold text-gray-900",children:"EasyTrafficBot UG"}),t.jsx("p",{children:"Arrenbergsche Hfe 6"}),t.jsx("p",{children:"Building 44"}),t.jsx("p",{children:"42117 Wuppertal"}),t.jsx("p",{className:"mt-2 text-xs",children:"Commercial Register: HRB 30863"}),t.jsx("p",{className:"text-xs",children:"Registration Court: Amtsgericht Wuppertal"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Contact"}),t.jsxs("p",{children:[t.jsx("span",{className:"font-bold",children:"Phone:"})," +84373832085"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-bold",children:"Fax:"})," +49 (0) 123 44 55 99"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-bold",children:"E-Mail:"})," support@traffic-creator.com"]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Represented by"}),t.jsx("p",{children:"Martin Freiwald"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"EU Dispute Resolution"}),t.jsx("p",{children:"The European Commission provides a platform for online dispute resolution (ODR):"}),t.jsx("a",{href:"https://ec.europa.eu/consumers/odr/",target:"_blank",rel:"noopener noreferrer",className:"text-[#ff4d00] hover:underline break-all",children:"https://ec.europa.eu/consumers/odr/"}),t.jsx("p",{className:"mt-2 italic",children:"You can find our e-mail address above in the imprint."})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Consumer dispute resolution/Universal arbitration board"}),t.jsx("p",{children:"We are not willing or obliged to participate in dispute resolution proceedings before a consumer arbitration board."})]})]})]});case"agb":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"General Terms and Conditions (AGB) for Traffic Bot"}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Scope of Application"}),t.jsx("p",{children:"These General Terms and Conditions (AGB) apply to all business relationships between EasyTrafficBot UG (hereinafter: Provider) and its customers (hereinafter: Customer). The version valid at the time of the conclusion of the contract is authoritative."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Conclusion of Contract"}),t.jsx("p",{children:'The presentation of services on the website does not constitute a legally binding offer but an invitation to order. By clicking the "Order" or "Pay" button, the Customer places a binding order for the services contained in the shopping cart.'}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Services"}),t.jsx("p",{children:"The Provider delivers website traffic to the URLs specified by the Customer. The Provider guarantees the delivery of the purchased number of visitors but does not guarantee specific actions by these visitors (e.g., sales, sign-ups) unless explicitly stated otherwise."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Prices and Payment"}),t.jsx("p",{children:"All prices are final prices and include the statutory value-added tax (VAT) unless the Customer is based outside the EU or has a valid VAT ID. Payments are due immediately upon conclusion of the contract."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Warranty and Liability"}),t.jsx("p",{children:"The Provider is liable for defects in accordance with the statutory provisions. Liability for slight negligence is excluded, provided that no essential contractual obligations are violated."})]});case"refund":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last modified: September 25, 2024"}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"1. Right of Withdrawal"}),t.jsx("p",{children:"As a consumer based in the European Union, you have the right to withdraw from this contract within 14 days without giving any reason. The withdrawal period will expire after 14 days from the day of the conclusion of the contract."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"2. Effects of Withdrawal"}),t.jsx("p",{children:"If you withdraw from this contract, we shall reimburse to you all payments received from you, including the costs of delivery (with the exception of the supplementary costs resulting from your choice of a type of delivery other than the least expensive type of standard delivery offered by us), without undue delay and in any event not later than 14 days from the day on which we are informed about your decision to withdraw from this contract."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"3. Exceptions to the Right of Withdrawal"}),t.jsx("p",{children:"The right of withdrawal does not apply to:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"The supply of digital content which is not supplied on a tangible medium if the performance has begun with your prior express consent and acknowledgment that you thereby lose your right of withdrawal."}),t.jsx("li",{children:"Services that have been fully performed if the performance has begun with your prior express consent, and with acknowledgment that you will lose your right of withdrawal once the contract has been fully performed."})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"4. How to Exercise Your Right of Withdrawal"}),t.jsx("p",{children:"To exercise your right of withdrawal, you must inform us of your decision to withdraw from this contract by an unequivocal statement (e.g., a letter sent by post or email). You may use the attached model withdrawal form, but it is not obligatory."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"5. Refunds for Defective Products or Services"}),t.jsx("p",{children:"If the product or service you received is defective or not as described, you are entitled to a repair, replacement, or refund. Please contact our customer service team to initiate this process."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"6. Subscription Services"}),t.jsx("p",{children:'You may cancel your subscription at any time. Refunds for the remaining unused period will be provided on a pro-rata basis. If you cancel within the first 30 days of your subscription ("trial period"), you are eligible for a full refund.'})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"7. Non-Refundable Items and Situations"}),t.jsx("p",{children:"The following items, services, or situations are non-refundable:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"Custom or personalized services"}),t.jsx("li",{children:"Downloadable software or digital products that have been accessed or downloaded"}),t.jsx("li",{children:"Services that have already been fully performed"}),t.jsx("li",{children:"Traffic creation services where the failure to deliver traffic is due to factors beyond our control"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"8. Traffic Delivery Issues Outside Our Control"}),t.jsx("p",{children:"Refunds will not be issued in cases where the failure to deliver traffic is due to factors beyond our control, including but not duration to:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"Changes in search engine algorithms or policies"}),t.jsx("li",{children:"Changes in social media platform algorithms or policies"}),t.jsx("li",{children:"Restrictions or bans imposed on the client's website by third-party platforms"}),t.jsx("li",{children:"Client's website being offline or experiencing technical issues"}),t.jsx("li",{children:"Content on the client's website violating our terms of service or the terms of service of traffic sources"}),t.jsx("li",{children:"Force majeure events (e.g., natural disasters, global pandemics, significant internet outages)"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"9. Refund Processing Time"}),t.jsx("p",{children:"Refunds will be processed within 5-10 business days of approval. The time it takes for the refund to appear in your account may vary depending on your payment method and financial institution."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"10. Contact Us"}),t.jsx("p",{children:"If you have any questions about our refund policy or wish to request a refund, please contact us at: support@traffic-creator.com"})]})]})]});case"delivery":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Service Delivery Standards"}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Delivery Timeframe"}),t.jsx("p",{children:"Traffic campaigns typically start within 5 to 15 minutes after payment confirmation and campaign approval. In some cases, such as manual reviews for sensitive categories, activation may take up to 24 hours."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Method of Delivery"}),t.jsx("p",{children:"Services are delivered digitally. No physical products are shipped. You will receive a confirmation email once your campaign is active, and you can monitor progress in real-time via the Dashboard."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Campaign Completion"}),t.jsx("p",{children:"A campaign is considered complete when the total number of purchased visitors has been delivered to the target URL. Delivery speed is determined by your campaign settings."})]});case"privacy":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last Updated: October 27, 2023"}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"1. Interpretation and Definitions"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-bold text-gray-800",children:"Interpretation"}),t.jsx("p",{children:"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."}),t.jsx("h4",{className:"font-bold text-gray-800",children:"Definitions"}),t.jsx("p",{children:"For the purposes of this Privacy Policy:"}),t.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Account"})," means a unique account created for You to access our Service or parts of our Service."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Company"}),' (referred to as either "the Company", "We", "Us" or "Our" in this Agreement) refers to EasyTrafficBot UG, Arrenbergsche Hfe 6, 42117.']}),t.jsxs("li",{children:[t.jsx("strong",{children:"Cookies"})," are small files that are placed on Your computer, mobile device or any other device by a website..."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Personal Data"})," is any information that relates to an identified or identifiable individual."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Service"})," refers to the Website."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Usage Data"})," refers to data collected automatically, either generated by the use of the Service or from the Service infrastructure itself."]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"2. Collecting and Using Your Personal Data"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-bold text-gray-800 underline",children:"Types of Data Collected"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Personal Data:"})," While using Our Service, We may ask You to provide Us with certain personally identifiable information that can be used to contact or identify You. Personally identifiable information may include, but is not limited to: Email address, First name and last name, Usage Data."]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Usage Data:"})," Usage Data is collected automatically when using the Service. It may include information such as Your Device's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that You visit, the time and date of Your visit, the time spent on those pages, unique device identifiers and other diagnostic data."]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"3. Tracking Technologies and Cookies"}),t.jsx("p",{children:"We use Cookies and similar tracking technologies to track the activity on Our Service and store certain information. Tracking technologies used are beacons, tags, and scripts to collect and track information and to improve and analyze Our Service."}),t.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-2",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Necessary / Essential Cookies:"})," These Cookies are essential to provide You with services available through the Website."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Cookies Policy / Notice Acceptance Cookies:"})," These Cookies identify if users have accepted the use of cookies on the Website."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Functionality Cookies:"})," These Cookies allow us to remember choices You make when You use the Website."]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"4. Use of Your Personal Data"}),t.jsx("p",{children:"The Company may use Personal Data for the following purposes:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-2",children:[t.jsx("li",{children:"To provide and maintain our Service."}),t.jsx("li",{children:"To manage Your Account."}),t.jsx("li",{children:"For the performance of a contract."}),t.jsx("li",{children:"To contact You."}),t.jsx("li",{children:"To provide You with news, special offers and general information."})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"5. Delete Your Personal Data"}),t.jsx("p",{children:"You have the right to delete or request that We assist in deleting the Personal Data that We have collected about You. Our Service may give You the ability to delete certain information about You from within the Service."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"6. Contact Us"}),t.jsx("p",{children:"If you have any questions about this Privacy Policy, You can contact us by email: support@traffic-creator.com"})]})]})]});case"terms":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last modified: September 25, 2024"}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"1. Introduction"}),t.jsx("p",{children:"Welcome to Traffic Bot. These Terms of Use (the 'Terms') constitute a legally binding agreement between you ('the User') and Traffic Bot ('we', 'our', or 'us') regarding your access to and use of our website and services. By accessing or using our services, you confirm your acceptance of these Terms in full."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"2. User Obligations"}),t.jsx("p",{children:"When using our services, you agree to:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"Provide accurate and complete information (such as your name, email, etc.) when creating an account"}),t.jsx("li",{children:"Maintain the security of your account credentials"}),t.jsx("li",{children:"Use our services only for lawful purposes and in accordance with these Terms"}),t.jsx("li",{children:"Not attempt to interfere with or disrupt our services or servers"}),t.jsx("li",{children:"Not use our services to distribute malware or other harmful code"}),t.jsx("li",{children:"Notify us immediately of any unauthorized access to or use of your account"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"3. Privacy Policy"}),t.jsx("p",{children:"We respect your privacy and are committed to protecting your personal data. Our Privacy Policy outlines how we collect, use, and protect your personal information."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"4. Intellectual Property Rights"}),t.jsx("p",{children:"All content, features, and functionality of our services are owned by Traffic Bot and are protected by international copyright, trademark, and other intellectual property laws. You may not reproduce, modify, distribute, or otherwise exploit any intellectual property belonging to Traffic Bot without our express written consent."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"5. Limitation of Liability"}),t.jsx("p",{children:"To the fullest extent permitted by law, Traffic Bot shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses resulting from your use or inability to use our services."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"6. Termination"}),t.jsx("p",{children:"We reserve the right to terminate or suspend your account at our sole discretion, without prior notice, for reasons including but not limited to violations of these Terms, illegal activity, or prolonged periods of inactivity."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"7. Governing Law"}),t.jsx("p",{children:"These Terms shall be governed by the laws of Germany, without reference to conflict of law principles. Any legal disputes shall be exclusively resolved in the courts of Wuppertal."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"8. Dispute Resolution"}),t.jsx("p",{children:"Any disputes arising out of or related to these Terms or our services shall first be attempted to be resolved through good-faith negotiations. If such negotiations fail, both parties agree to resolve the dispute through binding arbitration."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"9. Amendments to Terms"}),t.jsx("p",{children:"We may modify these Terms from time to time. Material changes will be communicated via email, through a notice on our website, or other appropriate methods. Your continued use of our services following the posting of changes will confirm your acceptance of such changes."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"10. Acceptance of Terms"}),t.jsx("p",{children:"By accessing or using our services, you confirm that you have read, understood, and agree to be bound by these Terms of Use. If you do not agree, you must not use our services."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"11. Severability"}),t.jsx("p",{children:"If any provision of these Terms is held to be unenforceable or invalid, such provision will be changed and interpreted to accomplish the objectives of such provision to the greatest extent possible under applicable law, and the remaining provisions will continue in full force and effect."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"12. Third-Party Services"}),t.jsx("p",{children:"Our services may contain links to third-party websites or services that are not owned or controlled by Traffic Bot. We have no control over, and assume no responsibility for, the content, privacy policies, or practices of any third-party websites or services."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"13. Contact Us"}),t.jsx("p",{children:"If you have any questions about these Terms of Use, please contact us at: support@traffic-creator.com"})]})]})]});default:return t.jsx("p",{children:"Content not available."})}};return t.jsxs("div",{className:"min-h-screen bg-white",children:[t.jsx(Li,{title:s(),description:r(),keywords:`traffic bot ${a}, website traffic ${a}, seo traffic legal, easytrafficbot ug documentation`,type:"article",schema:{"@context":"https://schema.org","@type":"WebPage",publisher:{"@type":"Organization",name:"Traffic Creator",logo:"https://traffic-creator.com/logo.png"}}}),t.jsx("div",{className:"border-b border-gray-100 bg-white sticky top-0 z-50",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs(Ye,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors text-xs font-bold uppercase tracking-wider",children:[t.jsx(ur,{size:16})," Back"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-[10px] font-bold bg-black text-white px-1.5 py-0.5 rounded-sm uppercase tracking-wide",children:"Bot"})]})]})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-20",children:[t.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-12 uppercase tracking-tight",children:i()}),t.jsx("div",{className:"prose prose-gray max-w-none text-gray-600 leading-relaxed font-sans",children:l()})]}),t.jsx("footer",{className:"bg-black text-white py-12 px-6 mt-20",children:t.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[t.jsx("div",{className:"text-xl font-black text-white tracking-tight",children:"TRAFFIC BOT"}),t.jsx("div",{className:"text-xs text-gray-600",children:" 2024 EasyTrafficBot UG"})]})})]})},t8=({onBack:a})=>{const[e,s]=w.useState(""),[r,i]=w.useState("all"),[l,c]=w.useState(null),[f,u]=w.useState([]);w.useEffect(()=>{H.getFAQs().then(u).catch(()=>u([]))},[]);const m=[{id:"all",label:"All Topics"},{id:"billing",label:"Billing & Payments",icon:t.jsx(Ta,{size:14})},{id:"technical",label:"Technical Support",icon:t.jsx(C9,{size:14})},{id:"general",label:"General Account",icon:t.jsx(Ns,{size:14})}],g=[{id:"1",question:"How long does it take for traffic to start?",answer:"Campaigns typically start delivering traffic within 5-15 minutes after creation. However, depending on the complexity of your targeting (specific cities, devices), it may take up to an hour for the first hits to register.",category:"general"},{id:"2",question:"Can I upgrade my plan later?",answer:"Yes, you can upgrade your plan at any time. Simply add funds to your wallet and create a new campaign with the desired higher tier. We recommend the 'Agency' plan for maximum volume.",category:"billing"},{id:"3",question:"Why is my traffic not showing in Google Analytics?",answer:"Ensure you are looking at 'Realtime' reports. Also, verify that your GA4 ID is correct in the project settings. Some traffic filters in GA4 may exclude bot traffic by default; our 'Growth' plan is designed to bypass standard bot filters.",category:"technical"},{id:"4",question:"Is this traffic safe for AdSense?",answer:"Our 'Growth' and 'Agency' traffic tiers are safe for AdSense as they utilize high-quality residential IPs. However, we always recommend monitoring your CTR (Click-Through Rate) and adjusting your campaign speed accordingly.",category:"technical"},{id:"5",question:"What payment methods do you accept?",answer:"We accept Visa, Mastercard, American Express via Stripe. We also support PayPal and various Cryptocurrencies (BTC, ETH, USDT).",category:"billing"},{id:"6",question:"How do I reset my API key?",answer:"Navigate to your Profile settings in the dashboard. Under the 'Developer Settings' section, click the refresh icon to invalidate your old key and generate a new one.",category:"general"}],v=(f.length>0?f:g).filter(E=>(r==="all"||E.category===r)&&(E.question.toLowerCase().includes(e.toLowerCase())||E.answer.toLowerCase().includes(e.toLowerCase())));return t.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans",children:[t.jsx(Li,{title:"Help Center & Documentation 2024 - Traffic Bot Support",description:"Find answers to common questions, setup guides, and API documentation for Traffic Bot in 2024.",keywords:"traffic bot support 2024, help center, documentation, faq, seo tool support",type:"article",schema:{"@context":"https://schema.org","@type":"FAQPage",mainEntity:v.map(E=>({"@type":"Question",name:E.question,acceptedAnswer:{"@type":"Answer",text:E.answer}}))}}),t.jsxs("div",{className:"bg-[#111] text-white pt-20 pb-32 px-6 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-[#ff4d00] opacity-10 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"}),t.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[t.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-gray-400 hover:text-white mb-8 text-xs font-bold uppercase tracking-wider transition-colors",children:[t.jsx(ur,{size:16})," Back to Home"]}),t.jsx("h1",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-6",children:"How can we help?"}),t.jsxs("div",{className:"relative max-w-2xl",children:[t.jsx(Ha,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",value:e,onChange:E=>s(E.target.value),placeholder:"Search for answers...",className:"w-full bg-white text-gray-900 pl-16 pr-6 py-5 rounded-sm shadow-xl text-lg font-medium outline-none focus:ring-2 focus:ring-[#ff4d00]"})]})]})]}),t.jsxs("div",{className:"max-w-4xl mx-auto px-6 -mt-16 relative z-20 pb-20",children:[t.jsx("div",{className:"flex flex-wrap gap-4 mb-12",children:m.map(E=>t.jsxs("button",{onClick:()=>i(E.id),className:`px-6 py-4 rounded-sm shadow-sm flex items-center gap-3 text-sm font-bold uppercase tracking-wider transition-all
                            ${r===E.id?"bg-[#ff4d00] text-white transform -translate-y-1":"bg-white text-gray-600 hover:bg-gray-50"}
                        `,children:[E.icon,E.label]},E.id))}),t.jsx("div",{className:"space-y-4",children:v.length===0?t.jsxs("div",{className:"text-center py-20 bg-gray-50 border border-gray-100 rounded-sm",children:[t.jsx(en,{className:"mx-auto text-gray-300 mb-4",size:48}),t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"No results found"}),t.jsx("p",{className:"text-gray-500",children:"Try adjusting your search terms or browse all categories."})]}):v.map((E,N)=>t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm transition-all hover:border-gray-300",children:[t.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left",onClick:()=>c(l===N?null:N),children:[t.jsx("span",{className:"font-bold text-gray-900 text-lg",children:E.question}),l===N?t.jsx(il,{size:20,className:"text-[#ff4d00]"}):t.jsx(dr,{size:20,className:"text-gray-400"})]}),l===N&&t.jsx("div",{className:"px-6 pb-8 pt-2 text-gray-600 leading-relaxed animate-in fade-in slide-in-from-top-2 border-t border-gray-50",children:E.answer})]},N))}),t.jsxs("div",{className:"mt-20 bg-gray-50 border border-gray-200 p-10 text-center",children:[t.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4",children:"Still need help?"}),t.jsx("p",{className:"text-gray-500 mb-8 max-w-lg mx-auto",children:"Our support team is available 24/7 to assist you with any technical or billing inquiries."}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsxs("button",{className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(Nn,{size:16})," Contact Support"]}),t.jsxs("button",{className:"bg-white border border-gray-300 text-gray-900 px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-gray-100 transition-colors flex items-center gap-2",children:[t.jsx(en,{size:16})," Live Chat"]})]})]})]}),t.jsx("footer",{className:"bg-black text-white py-12 px-6",children:t.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[t.jsx("div",{className:"text-xl font-black tracking-tight",children:"TRAFFIC BOT"}),t.jsx("div",{className:"text-xs text-gray-500",children:" 2024 EasyTrafficBot UG"})]})})]})},Vk=({onBack:a})=>{const{slug:e}=$d(),s=ta(),[r,i]=w.useState([]),[l,c]=w.useState(null),[f,u]=w.useState(!0),[m,g]=w.useState(null),[b,v]=w.useState(""),[E,N]=w.useState("All"),[S,T]=w.useState(e?"article":"list");w.useEffect(()=>{(async()=>{try{const D=await(await fetch("/api/blog/articles")).json();i(D),u(!1)}catch(P){console.error("Error fetching articles:",P),u(!1)}})()},[]),w.useEffect(()=>{e?(async()=>{try{const P=await fetch(`/api/blog/articles/${e}`);if(P.ok){const D=await P.json();c(D.content)}}catch(P){console.error("Error fetching article content:",P)}})():c(null)},[e]);const O=["All","Reviews","SEO","Marketing","Guides","Crypto","Strategy","Analytics"];w.useEffect(()=>{if(!f)if(e){const _=r.find(P=>P.slug===e);_?(g(_.id),T("article")):s("/blog")}else T("list"),g(null)},[e,r,f]);const U=_=>{const P=r.find(D=>D.id===_);P&&(s(`/blog/${P.slug}`),window.scrollTo(0,0))},M=()=>{s("/blog"),window.scrollTo(0,0)},L=()=>{const P=`<?xml version="1.0" encoding="UTF-8" ?>
        <rss version="2.0">
        <channel>
            <title>Traffic Creator Journal</title>
            <link>https://traffic-creator.com</link>
            <description>Digital Growth Insights</description>
            ${r.map(I=>`
        <item>
            <title>${I.title}</title>
            <link>https://traffic-creator.com/blog/${I.slug}</link>
            <description>${I.excerpt}</description>
            <pubDate>${new Date(I.date).toUTCString()}</pubDate>
            <guid>https://traffic-creator.com/blog/${I.slug}</guid>
        </item>
      `).join("")}
        </channel>
        </rss>`,D=new Blob([P],{type:"text/xml"}),z=URL.createObjectURL(D);window.open(z,"_blank")},$=r.find(_=>_.id===m),X=$?r.filter(_=>_.category===$.category&&_.id!==$.id):[],C=S==="article"&&$?{title:`${$.title} | Traffic Creator Journal`,description:$.seoDescription,keywords:$.tags.join(", "),type:"article",image:$.image,schema:{"@context":"https://schema.org","@type":"BlogPosting",headline:$.title,image:[$.image],datePublished:new Date($.date).toISOString(),author:[{"@type":"Person",name:$.author}],publisher:{"@type":"Organization",name:"Traffic Creator",logo:{"@type":"ImageObject",url:"https://traffic-creator.com/logo.png"}},description:$.seoDescription}}:{title:"SEO & Traffic Generation Blog 2026 | Traffic Creator Insights",description:"Expert guides for 2026 on improving website traffic, CTR manipulation strategies, and technical SEO best practices for modern algorithms.",keywords:"seo blog 2026, traffic generation tips, ranking strategies, digital marketing insights",type:"website"},R=r.filter(_=>{const P=_.title.toLowerCase().includes(b.toLowerCase())||_.excerpt.toLowerCase().includes(b.toLowerCase()),D=E==="All"||_.category===E;return P&&D});return S==="article"&&$?t.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900 pb-20 selection:bg-[#ff4d00]/30 underline-offset-4",children:[t.jsx(Li,{...C}),t.jsx(s8,{}),t.jsxs("div",{className:"relative h-[60vh] bg-gray-900 group",children:[t.jsx("img",{src:$.image,className:"w-full h-full object-cover opacity-60 group-hover:opacity-50 transition-opacity duration-700",alt:"Cover"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent"})," ",t.jsx("div",{className:"absolute top-0 left-0 w-full p-6 flex justify-between items-center z-10",children:t.jsxs("button",{onClick:M,className:"text-white flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors bg-black/20 backdrop-blur-md px-4 py-2 rounded-full",children:[t.jsx(ur,{size:14})," Back"]})}),t.jsx("div",{className:"absolute bottom-0 left-0 w-full p-8 md:p-16",children:t.jsxs("div",{className:"max-w-4xl mx-auto animate-in slide-in-from-bottom-10 fade-in duration-700",children:[t.jsx("div",{className:"flex gap-2 mb-6",children:t.jsx("span",{className:"bg-[#ff4d00] text-white px-3 py-1 text-[10px] font-black uppercase tracking-widest",children:$.category})}),t.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white leading-[1.1] mb-8 drop-shadow-lg",children:$.title}),t.jsxs("div",{className:"flex flex-wrap items-center gap-8 text-gray-200 text-sm font-medium border-t border-white/20 pt-8",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center text-white font-bold",children:$.author.charAt(0)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-bold",children:$.author}),t.jsx("div",{className:"text-xs text-gray-300 uppercase tracking-wide",children:$.role})]})]}),t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(ri,{size:16})," ",$.date]}),t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(ss,{size:16})," ",$.readTime]})]})]})})]}),t.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-20 grid grid-cols-1 lg:grid-cols-4 gap-12",children:[t.jsxs("div",{className:"lg:col-span-3",children:[t.jsx("p",{className:"text-xl text-gray-600 mb-10 font-medium border-l-4 border-[#ff4d00] pl-6 italic",children:$.excerpt}),l?t.jsx("div",{className:"article-content-wrapper text-gray-800",dangerouslySetInnerHTML:{__html:l}}):t.jsxs("div",{className:"prose prose-lg prose-slate max-w-none leading-relaxed prose-headings:font-black prose-headings:tracking-tight prose-a:text-[#ff4d00] prose-img:rounded-sm space-y-6",children:[t.jsxs("div",{className:"animate-pulse space-y-4",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),t.jsx("p",{className:"text-gray-400",children:"Loading article content..."})]}),t.jsx("div",{className:"mt-20 pt-10 border-t border-gray-200",children:t.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:$.tags.map(_=>t.jsxs("span",{className:"bg-gray-100 hover:bg-gray-200 transition-colors text-gray-600 px-4 py-2 text-xs font-bold uppercase tracking-wide rounded-sm cursor-pointer",children:["#",_]},_))})})]}),t.jsxs("div",{className:"lg:col-span-1 space-y-12",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 mb-4",children:"Share This"}),t.jsx("div",{className:"flex gap-2",children:t.jsx("button",{className:"p-3 rounded-full border border-gray-200 text-gray-500 hover:text-[#ff4d00] hover:border-[#ff4d00] transition-all",onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("Link copied!")},children:t.jsx(yw,{size:18})})})]}),X.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 mb-6",children:"Related Reads"}),t.jsx("div",{className:"space-y-6",children:X.slice(0,5).map(_=>t.jsxs("div",{className:"group cursor-pointer",onClick:()=>U(_.id),children:[t.jsx("div",{className:"aspect-video bg-gray-100 mb-2 overflow-hidden rounded-sm",children:t.jsx("img",{src:_.image,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),t.jsx("h5",{className:"text-sm font-bold text-gray-900 group-hover:text-[#ff4d00] leading-tight mb-1",children:_.title}),t.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:_.date})]},_.id))})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-100 text-gray-900 p-6 text-center rounded-sm",children:[t.jsx(Nn,{className:"mx-auto mb-4 text-[#ff4d00]",size:24}),t.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Join the Inner Circle"}),t.jsx("p",{className:"text-gray-500 text-xs mb-6",children:"Get exclusive SEO tips delivered to your inbox."}),t.jsx("input",{type:"email",placeholder:"Email",className:"bg-white border border-gray-200 text-gray-900 placeholder-gray-400 px-4 py-2 w-full outline-none focus:ring-1 focus:ring-[#ff4d00] mb-2 text-sm"}),t.jsx("button",{className:"w-full bg-[#ff4d00] text-white px-4 py-2 font-bold uppercase text-xs tracking-wider hover:bg-black hover:text-white transition-colors",children:"Subscribe"})]})]})]})]}):t.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900",children:[t.jsx(Li,{...C}),t.jsx("div",{className:"border-b border-gray-200 sticky top-0 bg-white/95 backdrop-blur-md z-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-gray-500 hover:text-[#ff4d00] transition-colors text-xs font-bold uppercase tracking-wider",children:[t.jsx(ur,{size:16})," Back to Home"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-[10px] font-bold bg-black text-white px-1.5 py-0.5 rounded-sm uppercase tracking-wide",children:"Journal"})]})]})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-20",children:[t.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[t.jsxs("h1",{className:"text-5xl md:text-7xl font-black uppercase tracking-tight mb-6 leading-[0.9] text-gray-900",children:["Digital ",t.jsx("span",{className:"text-[#ff4d00]",children:"Growth"}),t.jsx("br",{}),"Insights."]}),t.jsx("p",{className:"text-xl text-gray-500 leading-relaxed mb-10",children:"Expert advice on digital marketing, SEO strategies, and traffic optimization for the modern web."}),t.jsxs("div",{className:"relative max-w-xl mx-auto shadow-xl",children:[t.jsx("input",{type:"text",placeholder:"Search articles...",value:b,onChange:_=>v(_.target.value),className:"w-full bg-white border border-gray-200 py-4 pl-12 pr-4 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00] transition-colors rounded-sm"}),t.jsx(Ha,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),t.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-16",children:O.map(_=>t.jsx("button",{onClick:()=>N(_),className:`px-6 py-2 text-xs font-bold uppercase tracking-widest border transition-all rounded-full
                            ${E===_?"bg-[#ff4d00] text-white border-[#ff4d00] shadow-lg":"bg-gray-50 text-gray-500 border-gray-200 hover:border-gray-400 hover:text-black"}
                        `,children:_},_))}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-12 gap-y-16",children:R.length===0?t.jsxs("div",{className:"col-span-3 text-center py-20 text-gray-400",children:[t.jsx(Rc,{size:48,className:"mx-auto mb-4 opacity-20"}),t.jsx("p",{children:"No articles found matching your criteria."})]}):R.map((_,P)=>t.jsxs("article",{className:"group cursor-pointer flex flex-col h-full animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${P*100}ms`},onClick:()=>U(_.id),children:[t.jsxs("div",{className:"aspect-[4/3] overflow-hidden bg-gray-100 mb-6 relative rounded-sm group shadow-sm",children:[t.jsx("img",{src:_.image,alt:_.title,className:"w-full h-full object-cover transform scale-100 group-hover:scale-110 transition-transform duration-1000 opacity-90 group-hover:opacity-100",loading:"lazy"}),t.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-md px-3 py-1 text-[10px] font-black uppercase tracking-widest text-[#ff4d00] shadow-sm border border-gray-100",children:_.category})]}),t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[_.date," ",t.jsx("span",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full"})," ",_.readTime]}),t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-3 group-hover:text-[#ff4d00] transition-colors leading-tight tracking-tight",children:_.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed mb-6 flex-1 line-clamp-3",children:_.excerpt}),t.jsxs("div",{className:"flex items-center gap-2 text-xs font-black uppercase tracking-widest text-[#ff4d00] group-hover:translate-x-2 transition-transform duration-300 mt-auto",children:["Read Article ",t.jsx(Rs,{size:14})]})]})]},_.id))})]}),t.jsx("footer",{className:"bg-gray-900 text-white py-12 px-6 mt-20",children:t.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6",children:[t.jsx("div",{className:"text-xl font-black tracking-tight",children:"TRAFFIC CREATOR"}),t.jsxs("div",{className:"flex gap-6 text-xs font-bold text-gray-500 uppercase tracking-widest",children:[t.jsxs("button",{onClick:L,className:"hover:text-white transition-colors flex items-center gap-2",children:[t.jsx(LO,{size:14})," RSS Feed"]}),t.jsx("button",{className:"hover:text-white transition-colors",children:"Newsletter"}),t.jsx("button",{className:"hover:text-white transition-colors",children:"Archive"})]}),t.jsx("div",{className:"text-xs text-gray-600",children:" 2026 Traffic Creator Inc."})]})})]})},s8=()=>{const[a,e]=w.useState(0);return w.useEffect(()=>{const s=()=>{const r=document.documentElement.scrollTop,i=document.documentElement.scrollHeight-document.documentElement.clientHeight;if(i===0)return;const l=r/i;e(l)};return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[]),t.jsx("div",{className:"fixed top-0 left-0 h-1 bg-[#ff4d00] z-[60] transition-all duration-100 ease-out",style:{width:`${a*100}%`}})};/*! js-cookie v3.0.5 | MIT */function ag(a){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)a[r]=s[r]}return a}var a8={read:function(a){return a[0]==='"'&&(a=a.slice(1,-1)),a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(a){return encodeURIComponent(a).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function fv(a,e){function s(i,l,c){if(!(typeof document>"u")){c=ag({},e,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var f="";for(var u in c)c[u]&&(f+="; "+u,c[u]!==!0&&(f+="="+c[u].split(";")[0]));return document.cookie=i+"="+a.write(l,i)+f}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var l=document.cookie?document.cookie.split("; "):[],c={},f=0;f<l.length;f++){var u=l[f].split("="),m=u.slice(1).join("=");try{var g=decodeURIComponent(u[0]);if(c[g]=a.read(m,g),i===g)break}catch{}}return i?c[i]:c}}return Object.create({set:s,get:r,remove:function(i,l){s(i,"",ag({},l,{expires:-1}))},withAttributes:function(i){return fv(this.converter,ag({},this.attributes,i))},withConverter:function(i){return fv(ag({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(a)}})}var Lg=fv(a8,{path:"/"});const r8=({condition:a,wrapper:e,children:s})=>a?e(s):s,mv={TOP:"top",BOTTOM:"bottom"};var Tw=(a=>(a.STRICT="strict",a.LAX="lax",a.NONE="none",a))(Tw||{});const pv={HIDDEN:"hidden",BY_COOKIE_VALUE:"byCookieValue"},bE="CookieConsent",n8=({children:a,...e})=>He.createElement("button",{...e},a),nf={disableStyles:!1,hideOnAccept:!0,hideOnDecline:!0,location:mv.BOTTOM,visible:pv.BY_COOKIE_VALUE,onAccept:a=>{},onDecline:()=>{},cookieName:bE,cookieValue:"true",declineCookieValue:"false",setDeclineCookie:!0,buttonText:"I understand",declineButtonText:"I decline",debug:!1,expires:365,containerClasses:"CookieConsent",contentClasses:"",buttonClasses:"",buttonWrapperClasses:"",declineButtonClasses:"",buttonId:"rcc-confirm-button",declineButtonId:"rcc-decline-button",extraCookieOptions:{},disableButtonStyles:!1,enableDeclineButton:!1,flipButtons:!1,sameSite:Tw.LAX,ButtonComponent:n8,overlay:!1,overlayClasses:"",onOverlayClick:()=>{},acceptOnOverlayClick:!1,ariaAcceptLabel:"Accept cookies",ariaDeclineLabel:"Decline cookies",acceptOnScroll:!1,acceptOnScrollPercentage:25,customContentAttributes:{},customContainerAttributes:{},customButtonProps:{},customDeclineButtonProps:{},customButtonWrapperAttributes:{},style:{},buttonStyle:{},declineButtonStyle:{},contentStyle:{},overlayStyle:{}},i8={visible:!1,style:{alignItems:"baseline",background:"#353535",color:"white",display:"flex",flexWrap:"wrap",justifyContent:"space-between",left:"0",position:"fixed",width:"100%",zIndex:"999"},buttonStyle:{background:"#ffd42d",border:"0",borderRadius:"0px",boxShadow:"none",color:"black",cursor:"pointer",flex:"0 0 auto",padding:"5px 10px",margin:"15px"},declineButtonStyle:{background:"#c12a2a",border:"0",borderRadius:"0px",boxShadow:"none",color:"#e5e5e5",cursor:"pointer",flex:"0 0 auto",padding:"5px 10px",margin:"15px"},contentStyle:{flex:"1 0 300px",margin:"15px"},overlayStyle:{position:"fixed",left:0,top:0,width:"100%",height:"100%",zIndex:"999",backgroundColor:"rgba(0,0,0,0.3)"}},o8=(a=bE)=>{const e=Lg.get(a);return e===void 0?Lg.get(vE(a)):e},vE=a=>`${a}-legacy`,wE=class extends w.Component{constructor(){super(...arguments),this.state=i8,this.handleScroll=()=>{const{acceptOnScrollPercentage:e}={...nf,...this.props},s=document.documentElement,r=document.body,i="scrollTop",l="scrollHeight";(s[i]||r[i])/((s[l]||r[l])-s.clientHeight)*100>e&&this.accept(!0)},this.removeScrollListener=()=>{const{acceptOnScroll:e}=this.props;e&&globalThis.removeEventListener("scroll",this.handleScroll)}}componentDidMount(){const{debug:e}=this.props;(this.getCookieValue()===void 0||e)&&(this.setState({visible:!0}),this.props.acceptOnScroll&&globalThis.addEventListener("scroll",this.handleScroll,{passive:!0}))}componentWillUnmount(){this.removeScrollListener()}accept(e=!1){const{cookieName:s,cookieValue:r,hideOnAccept:i,onAccept:l}={...nf,...this.props};this.setCookie(s,r),l(e??!1),i&&(this.setState({visible:!1}),this.removeScrollListener())}overlayClick(){const{acceptOnOverlayClick:e,onOverlayClick:s}={...nf,...this.props};e&&this.accept(),s()}decline(){const{cookieName:e,declineCookieValue:s,hideOnDecline:r,onDecline:i,setDeclineCookie:l}={...nf,...this.props};l&&this.setCookie(e,s),i(),r&&this.setState({visible:!1})}setCookie(e,s){const{extraCookieOptions:r,expires:i,sameSite:l}=this.props;let{cookieSecurity:c}=this.props;c===void 0&&(c=globalThis.location?globalThis.location.protocol==="https:":!0);const f={expires:i,...r,sameSite:l,secure:c};l===Tw.NONE&&Lg.set(vE(e),s,f),Lg.set(e,s,f)}getCookieValue(){const{cookieName:e}=this.props;return o8(e)}render(){switch(this.props.visible){case pv.HIDDEN:return null;case pv.BY_COOKIE_VALUE:if(!this.state.visible)return null;break}const{location:e,style:s,buttonStyle:r,declineButtonStyle:i,contentStyle:l,disableStyles:c,buttonText:f,declineButtonText:u,containerClasses:m,contentClasses:g,buttonClasses:b,buttonWrapperClasses:v,declineButtonClasses:E,buttonId:N,declineButtonId:S,disableButtonStyles:T,enableDeclineButton:O,flipButtons:U,ButtonComponent:M,overlay:L,overlayClasses:$,overlayStyle:X,ariaAcceptLabel:C,ariaDeclineLabel:R,customContainerAttributes:_,customContentAttributes:P,customButtonProps:D,customDeclineButtonProps:z,customButtonWrapperAttributes:I}=this.props;let Z={},Ee={},te={},G={},ye={};switch(c?(Z=Object.assign({},s),Ee=Object.assign({},r),te=Object.assign({},i),G=Object.assign({},l),ye=Object.assign({},X)):(Z=Object.assign({},{...this.state.style,...s}),G=Object.assign({},{...this.state.contentStyle,...l}),ye=Object.assign({},{...this.state.overlayStyle,...X}),T?(Ee=Object.assign({},r),te=Object.assign({},i)):(Ee=Object.assign({},{...this.state.buttonStyle,...r}),te=Object.assign({},{...this.state.declineButtonStyle,...i}))),e){case mv.TOP:Z.top="0";break;case mv.BOTTOM:Z.bottom="0";break}const Re=[];return O&&Re.push(He.createElement(M,{key:"declineButton",style:te,className:E,id:S,"aria-label":R,onClick:()=>{this.decline()},...z},u)),Re.push(He.createElement(M,{key:"acceptButton",style:Ee,className:b,id:N,"aria-label":C,onClick:()=>{this.accept()},...D},f)),U&&Re.reverse(),He.createElement(r8,{condition:L,wrapper:Pe=>He.createElement("div",{style:ye,className:$,onClick:()=>{this.overlayClick()},onKeyDown:K=>{(K.key==="Enter"||K.key===" ")&&(K.preventDefault(),this.overlayClick())},role:"button",tabIndex:0,"aria-label":"Close cookie consent banner"},Pe)},He.createElement("div",{className:`${m}`,style:Z,..._},He.createElement("div",{style:G,className:g,...P},this.props.children),He.createElement("div",{className:`${v}`,...I},Re.map(Pe=>Pe))))}};wE.defaultProps=nf;let l8=wE;const c8=()=>{const[a,e]=w.useState(!1);return t.jsx(t.Fragment,{children:t.jsxs(l8,{location:"bottom",buttonText:"Accept All",declineButtonText:"Decline",manageCookieUseUrl:"#",onAccept:s=>{console.log(s?"Cookie accepted by scrolling":"Cookie accepted by button")},enableDeclineButton:!0,flipButtons:!0,cookieName:"trafficgen_cookie_consent",expires:365,style:{background:"#1a1a1a",color:"#ffffff",padding:"20px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"15px",fontSize:"14px",zIndex:9999},buttonStyle:{background:"#ff4d00",color:"#ffffff",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},declineButtonStyle:{background:"transparent",color:"#999999",border:"1px solid #666666",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},overlay:!0,children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",flex:1},children:[t.jsx(aM,{size:24,color:"#ff4d00"}),t.jsxs("div",{children:[t.jsx("strong",{style:{color:"#ff4d00",fontSize:"15px"},children:" Cookie Consent"}),t.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"13px",color:"#cccccc"},children:'We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.'})]})]}),t.jsx("button",{onClick:()=>e(!a),style:{background:"transparent",border:"none",color:"#ff4d00",cursor:"pointer",fontSize:"12px",textDecoration:"underline",marginTop:"10px"},children:a?"Hide Details":"Learn More"}),a&&t.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#2a2a2a",borderRadius:"4px",width:"100%",fontSize:"12px"},children:[t.jsx("h4",{style:{margin:"0 0 10px 0",color:"#ff4d00"},children:"Cookie Categories"}),t.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#cccccc"},children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Essential:"})," Required for the website to function properly"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Analytics:"})," Help us understand how visitors interact with our website"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Marketing:"})," Used to track visitors across websites for ad targeting"]})]}),t.jsx("p",{style:{marginTop:"10px",color:"#999999"},children:'You can manage your cookie preferences at any time by clicking "Decline" or clearing your browser cookies.'})]})]})})},d8=()=>{const[a]=fx(),e=ta(),[s,r]=w.useState("input"),[i,l]=w.useState(""),[c,f]=w.useState(["","","",""]),[u,m]=w.useState(""),g=w.useRef([]),[b,v]=w.useState("idle");w.useEffect(()=>{const M=a.get("email");M&&m(M)},[a]),w.useEffect(()=>{g.current[0]&&g.current[0].focus()},[]);const E=(M,L)=>{var X;if(!/^\d*$/.test(L))return;const $=[...c];$[M]=L.slice(-1),f($),L&&M<3&&((X=g.current[M+1])==null||X.focus()),$.every(C=>C!=="")&&$.join("").length===4&&T($.join(""))},N=(M,L)=>{var $;L.key==="Backspace"&&!c[M]&&M>0&&(($=g.current[M-1])==null||$.focus())},S=M=>{M.preventDefault();const L=M.clipboardData.getData("text").replace(/\D/g,"").slice(0,4),$=[...c];L.split("").forEach((X,C)=>{C<4&&($[C]=X)}),f($),$.every(X=>X!=="")&&T($.join(""))},T=async M=>{r("loading");try{await H.verifyEmail(M),r("success"),l("Your email has been verified successfully! You can now log in and create projects.")}catch(L){r("error"),l(L.message||"Verification failed. The code may have expired.")}},O=async()=>{if(u){v("sending");try{await H.resendVerificationEmail(u),v("sent")}catch{v("idle")}}},U=()=>{var M;f(["","","",""]),r("input"),l(""),(M=g.current[0])==null||M.focus()};return t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ye,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),s==="input"&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Nn,{className:"text-[#ff4d00]",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Enter Verification Code"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"We've sent a 4-digit code to your email. Enter it below to verify your account."}),t.jsx("div",{className:"flex justify-center gap-3 mb-6",children:c.map((M,L)=>t.jsx("input",{ref:$=>{g.current[L]=$},type:"text",inputMode:"numeric",maxLength:1,value:M,onChange:$=>E(L,$.target.value),onKeyDown:$=>N(L,$),onPaste:L===0?S:void 0,className:"w-14 h-16 text-center text-2xl font-bold border-2 border-gray-200 rounded-xl focus:border-[#ff4d00] focus:outline-none transition-colors"},L))}),t.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"The code expires in 24 hours"}),u&&t.jsx("button",{onClick:O,disabled:b!=="idle",className:"text-sm text-[#ff4d00] hover:text-[#e64500] font-medium disabled:text-gray-400",children:b==="sending"?"Sending...":b==="sent"?"Code sent!":"Didn't receive a code? Resend"})]}),s==="loading"&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Is,{className:"animate-spin mx-auto mb-4 text-[#ff4d00]",size:48}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Verifying your code..."})]}),s==="success"&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(xt,{className:"text-green-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Email Verified!"}),t.jsx("p",{className:"text-gray-500 mb-8",children:i}),t.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Continue to Login"})]}),s==="error"&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(ic,{className:"text-red-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Verification Failed"}),t.jsx("p",{className:"text-gray-500 mb-8",children:i}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("button",{onClick:U,className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Try Again"}),t.jsx(Ye,{to:"/login",className:"block text-center text-sm font-bold text-gray-400 hover:text-[#ff4d00]",children:"Back to Login"})]})]})]})})},u8=()=>{const[a]=fx(),e=ta(),[s,r]=w.useState(""),[i,l]=w.useState(""),[c,f]=w.useState(!1),[u,m]=w.useState(!1),[g,b]=w.useState(""),[v,E]=w.useState(!1),N=a.get("token"),S=async T=>{if(T.preventDefault(),b(""),s.length<6){b("Password must be at least 6 characters long");return}if(s!==i){b("Passwords do not match");return}if(!N){b("Invalid reset link. No token provided.");return}m(!0);try{await H.resetPassword(N,s),E(!0)}catch(O){b(O.message||"Password reset failed. The link may have expired.")}finally{m(!1)}};return N?v?t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ye,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(xt,{className:"text-green-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Password Reset!"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"Your password has been successfully reset. You can now log in with your new password."}),t.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Continue to Login"})]})]})}):t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ye,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Reset Password"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"Enter your new password below."}),g&&t.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3",children:[t.jsx(as,{className:"text-red-500 shrink-0",size:20}),t.jsx("span",{className:"text-red-700 text-xs font-bold leading-relaxed",children:g})]}),t.jsxs("form",{onSubmit:S,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:c?"text":"password",required:!0,value:s,onChange:T=>r(T.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 pr-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"Min. 6 characters"}),t.jsx("button",{type:"button",onClick:()=>f(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?t.jsx(Pf,{size:18}):t.jsx(Ic,{size:18})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:c?"text":"password",required:!0,value:i,onChange:T=>l(T.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"Confirm your password"})]})]}),t.jsx("button",{type:"submit",disabled:u,className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:u?t.jsxs(t.Fragment,{children:[t.jsx(Is,{className:"animate-spin",size:16})," Resetting..."]}):t.jsxs(t.Fragment,{children:["Reset Password ",t.jsx(Rs,{size:16})]})})]})]})}):t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ye,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(as,{className:"text-red-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Invalid Link"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"This password reset link is invalid or has expired."}),t.jsx(Ye,{to:"/forgot",className:"block w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors text-center",children:"Request New Link"})]})]})})},h8=()=>{const a=ta(),[e]=fx(),[s,r]=w.useState("");return w.useEffect(()=>{const i=e.get("token"),l=e.get("return")||"/dashboard";if(!i){r("No token provided"),setTimeout(()=>a("/login"),2e3);return}H.validateSsoToken(i).then(async c=>{c.valid&&c.user&&c.token?(localStorage.setItem("tgp_token",c.token),H.setCurrentUser(c.user),await H.syncAll(),a(l)):(r("Session validation failed. Please login again."),setTimeout(()=>a("/login"),2e3))}).catch(()=>{r("Session validation failed. Please login again."),setTimeout(()=>a("/login"),2e3)})},[e,a]),s?t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full text-center",children:[t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3 mb-6",children:[t.jsx(as,{className:"text-red-500 shrink-0",size:20}),t.jsx("span",{className:"text-red-700 text-xs font-bold",children:s})]}),t.jsx("p",{className:"text-gray-500 text-xs",children:"Redirecting to login..."})]})}):t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Is,{className:"animate-spin mx-auto mb-4 text-[#ff4d00]",size:32}),t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Logging you in..."})]})})},f8=({children:a})=>{var i;const[e,s]=w.useState({hasError:!1,error:null}),r=l=>{s({hasError:!0,error:l})};return He.useEffect(()=>{const l=c=>{r(c.reason)};return window.addEventListener("unhandledrejection",l),()=>window.removeEventListener("unhandledrejection",l)},[]),e.hasError?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center p-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),t.jsx("p",{className:"text-gray-600 mb-4",children:(i=e.error)==null?void 0:i.message}),t.jsx("button",{onClick:()=>window.location.href="/login",className:"bg-[#ff4d00] text-white px-6 py-2 rounded font-bold",children:"Go to Login"})]})}):t.jsx(t.Fragment,{children:a})},Uk=({children:a,adminOnly:e})=>{const s=H.getCurrentUser();return s?e&&s.role!=="admin"?t.jsx(pn,{to:"/dashboard",replace:!0}):t.jsx(t.Fragment,{children:a}):t.jsx(pn,{to:"/login",replace:!0})},m8=()=>{const{type:a}=$d(),e=ta(),s=()=>{const r=H.getCurrentUser();r&&(r.role==="user"||r.role==="admin")?e("/dashboard"):e("/")};return t.jsx(e8,{type:a,onBack:s})},p8=()=>{const a=ta(),e=hr();w.useEffect(()=>{H.init()},[]),w.useEffect(()=>{const l=H.getCurrentUser();if(l){const c=e.pathname.substring(1)||"landing";H.trackPresence(c,l)}},[e]);const s=l=>{a(l==="admin"?"/admin":"/dashboard"),window.scrollTo(0,0)},r=()=>{a("/"),window.scrollTo(0,0)},i=()=>{a("/"),window.scrollTo(0,0)};return t.jsxs(f8,{children:[t.jsxs(fw,{children:[t.jsx(Xe,{path:"/",element:t.jsx(hz,{onLogin:()=>a("/login"),onNavigate:l=>a(`/${l}`)})}),t.jsx(Xe,{path:"/login",element:t.jsx(_b,{view:"login",onLogin:s,onNavigate:l=>a(`/${l}`)})}),t.jsx(Xe,{path:"/signup",element:t.jsx(_b,{view:"signup",onLogin:s,onNavigate:l=>a(`/${l}`)})}),t.jsx(Xe,{path:"/forgot",element:t.jsx(_b,{view:"forgot",onLogin:s,onNavigate:l=>a(`/${l}`)})}),t.jsx(Xe,{path:"/verify-email",element:t.jsx(d8,{})}),t.jsx(Xe,{path:"/reset-password",element:t.jsx(u8,{})}),t.jsx(Xe,{path:"/sso",element:t.jsx(h8,{})}),t.jsx(Xe,{path:"/dashboard/*",element:t.jsx(Uk,{children:t.jsx(lz,{onLogout:r,onNavigate:l=>a(`/${l}`)})})}),t.jsx(Xe,{path:"/admin/*",element:t.jsx(Uk,{adminOnly:!0,children:t.jsx(Zz,{onLogout:r})})}),t.jsx(Xe,{path:"/helpdesk",element:t.jsx(t8,{onBack:i})}),t.jsx(Xe,{path:"/blog",element:t.jsx(Vk,{onBack:i})}),t.jsx(Xe,{path:"/blog/:slug",element:t.jsx(Vk,{onBack:i})}),t.jsx(Xe,{path:"/legal/:type",element:t.jsx(m8,{})}),t.jsx(Xe,{path:"/privacy",element:t.jsx(pn,{to:"/legal/privacy",replace:!0})}),t.jsx(Xe,{path:"/terms",element:t.jsx(pn,{to:"/legal/terms",replace:!0})}),t.jsx(Xe,{path:"/impressum",element:t.jsx(pn,{to:"/legal/impressum",replace:!0})}),t.jsx(Xe,{path:"/agb",element:t.jsx(pn,{to:"/legal/agb",replace:!0})}),t.jsx(Xe,{path:"/refund",element:t.jsx(pn,{to:"/legal/refund",replace:!0})}),t.jsx(Xe,{path:"/delivery",element:t.jsx(pn,{to:"/legal/delivery",replace:!0})}),t.jsx(Xe,{path:"/organic-website-traffic",element:t.jsx(fz,{onLogin:()=>a("/login"),onNavigate:l=>a(`/${l}`)})}),t.jsx(Xe,{path:"/modern-traffic",element:t.jsx(mz,{onLogin:()=>a("/login"),onNavigate:l=>a(`/${l}`)})}),t.jsx(Xe,{path:"/free-website-traffic",element:t.jsx(Lk,{onLogin:()=>a("/login"),onNavigate:l=>a(`/${l}`)})}),t.jsx(Xe,{path:"/landing2",element:t.jsx(Lk,{onLogin:()=>a("/login"),onNavigate:l=>a(`/${l}`)})}),t.jsx(Xe,{path:"*",element:t.jsx(pn,{to:"/",replace:!0})})]}),t.jsx(c8,{})]})},g8=()=>{};var Fk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=function(a){const e=[];let s=0;for(let r=0;r<a.length;r++){let i=a.charCodeAt(r);i<128?e[s++]=i:i<2048?(e[s++]=i>>6|192,e[s++]=i&63|128):(i&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(a.charCodeAt(++r)&1023),e[s++]=i>>18|240,e[s++]=i>>12&63|128,e[s++]=i>>6&63|128,e[s++]=i&63|128):(e[s++]=i>>12|224,e[s++]=i>>6&63|128,e[s++]=i&63|128)}return e},x8=function(a){const e=[];let s=0,r=0;for(;s<a.length;){const i=a[s++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const l=a[s++];e[r++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=a[s++],c=a[s++],f=a[s++],u=((i&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const l=a[s++],c=a[s++];e[r++]=String.fromCharCode((i&15)<<12|(l&63)<<6|c&63)}}return e.join("")},NE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<a.length;i+=3){const l=a[i],c=i+1<a.length,f=c?a[i+1]:0,u=i+2<a.length,m=u?a[i+2]:0,g=l>>2,b=(l&3)<<4|f>>4;let v=(f&15)<<2|m>>6,E=m&63;u||(E=64,c||(v=64)),r.push(s[g],s[b],s[v],s[E])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(jE(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):x8(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<a.length;){const l=s[a.charAt(i++)],f=i<a.length?s[a.charAt(i)]:0;++i;const m=i<a.length?s[a.charAt(i)]:64;++i;const b=i<a.length?s[a.charAt(i)]:64;if(++i,l==null||f==null||m==null||b==null)throw new y8;const v=l<<2|f>>4;if(r.push(v),m!==64){const E=f<<4&240|m>>2;if(r.push(E),b!==64){const N=m<<6&192|b;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class y8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b8=function(a){const e=jE(a);return NE.encodeByteArray(e,!0)},zg=function(a){return b8(a).replace(/\./g,"")},Ew=function(a){try{return NE.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Vg(a,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const s=e;return new Date(s.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return e}for(const s in e)!e.hasOwnProperty(s)||!v8(s)||(a[s]=Vg(a[s],e[s]));return a}function v8(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=()=>Cw().__FIREBASE_DEFAULTS__,j8=()=>{if(typeof process>"u"||typeof Fk>"u")return;const a=Fk.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},N8=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Ew(a[1]);return e&&JSON.parse(e)},Aw=()=>{try{return g8()||w8()||j8()||N8()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Iw=()=>{var a;return(a=Aw())==null?void 0:a.config},_8=a=>{var e;return(e=Aw())==null?void 0:e[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _E(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",i=a.iat||0,l=a.sub||a.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...a};return[zg(JSON.stringify(s)),zg(JSON.stringify(c)),""].join(".")}const gf={};function T8(){const a={prod:[],emulator:[]};for(const e of Object.keys(gf))gf[e]?a.emulator.push(e):a.prod.push(e);return a}function E8(a){let e=document.getElementById(a),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),s=!0),{created:s,element:e}}let Bk=!1;function kE(a,e){if(typeof window>"u"||typeof document>"u"||!Iu(window.location.host)||gf[a]===e||gf[a]||Bk)return;gf[a]=e;function s(v){return`__firebase__banner__${v}`}const r="__firebase__banner",l=T8().prod.length>0;function c(){const v=document.getElementById(r);v&&v.remove()}function f(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Bk=!0,c()},v}function g(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function b(){const v=E8(r),E=s("text"),N=document.getElementById(E)||document.createElement("span"),S=s("learnmore"),T=document.getElementById(S)||document.createElement("a"),O=s("preprendIcon"),U=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const M=v.element;f(M),g(T,S);const L=m();u(U,O),M.append(U,N,T,L),document.body.appendChild(M)}l?(N.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_s())}function bx(){var e;const a=(e=Aw())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A8(){return typeof window<"u"||SE()}function SE(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function I8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vx(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function Rw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TE(){const a=_s();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function EE(){return!bx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CE(){return!bx()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function fc(){try{return typeof indexedDB=="object"}catch{return!1}}function Pw(){return new Promise((a,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),s||self.indexedDB.deleteDatabase(r),a(!0)},i.onupgradeneeded=()=>{s=!1},i.onerror=()=>{var l;e(((l=i.error)==null?void 0:l.message)||"")}}catch(s){e(s)}})}function AE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8="FirebaseError";class ka extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=R8,Object.setPrototypeOf(this,ka.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bi.prototype.create)}}class Bi{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},i=`${this.service}/${e}`,l=this.errors[e],c=l?P8(l,r):"Error",f=`${this.serviceName}: ${c} (${i}).`;return new ka(i,f,r)}}function P8(a,e){return a.replace(D8,(s,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const D8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(a,e){return Object.prototype.hasOwnProperty.call(a,e)}function M8(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function Qo(a,e){if(a===e)return!0;const s=Object.keys(a),r=Object.keys(e);for(const i of s){if(!r.includes(i))return!1;const l=a[i],c=e[i];if(qk(l)&&qk(c)){if(!Qo(l,c))return!1}else if(l!==c)return!1}for(const i of r)if(!s.includes(i))return!1;return!0}function qk(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(a){const e=[];for(const[s,r]of Object.entries(a))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ud(a){const e={};return a.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,l]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function of(a){const e=a.indexOf("?");if(!e)return"";const s=a.indexOf("#",e);return a.substring(e,s>0?s:void 0)}function IE(a,e){const s=new O8(a,e);return s.subscribe.bind(s)}class O8{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let i;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");L8(e,["next","error","complete"])?i=e:i={next:e,error:s,complete:r},i.next===void 0&&(i.next=Tb),i.error===void 0&&(i.error=Tb),i.complete===void 0&&(i.complete=Tb);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L8(a,e){if(typeof a!="object"||a===null)return!1;for(const s of e)if(s in a&&typeof a[s]=="function")return!0;return!1}function Tb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8=1e3,V8=2,U8=14400*1e3,F8=.5;function Hk(a,e=z8,s=V8){const r=e*Math.pow(s,a),i=Math.round(F8*r*(Math.random()-.5)*2);return Math.min(U8,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(a){return a&&a._delegate?a._delegate:a}class Ga{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new k8;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:s});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q8(e))try{this.getOrInitializeService({instanceIdentifier:Ul})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);try{const l=this.getOrInitializeService({instanceIdentifier:i});r.resolve(l)}catch{}}}}clearInstance(e=Ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ul){return this.instances.has(e)}getOptions(e=Ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(i)}return i}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const l=this.instances.get(r);return l&&e(l,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const i of r)try{i(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$8(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ul){return this.component?this.component.multipleInstances?e:Ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $8(a){return a===Ul?void 0:a}function q8(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new B8(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=[];var jt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(jt||(jt={}));const PE={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},H8=jt.INFO,G8={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},K8=(a,e,...s)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),i=G8[e];if(i)console[i](`[${r}]  ${a.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class im{constructor(e){this.name=e,this._logLevel=H8,this._logHandler=K8,this._userLogHandler=null,Dw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}function W8(a){Dw.forEach(e=>{e.setLogLevel(a)})}function Y8(a,e){for(const s of Dw){let r=null;e&&e.level&&(r=PE[e.level]),a===null?s.userLogHandler=null:s.userLogHandler=(i,l,...c)=>{const f=c.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");l>=(r??i.logLevel)&&a({level:jt[l].toLowerCase(),message:f,args:c,type:i.name})}}}const Q8=(a,e)=>e.some(s=>a instanceof s);let Gk,Kk;function J8(){return Gk||(Gk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X8(){return Kk||(Kk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DE=new WeakMap,gv=new WeakMap,ME=new WeakMap,Eb=new WeakMap,Mw=new WeakMap;function Z8(a){const e=new Promise((s,r)=>{const i=()=>{a.removeEventListener("success",l),a.removeEventListener("error",c)},l=()=>{s(Fo(a.result)),i()},c=()=>{r(a.error),i()};a.addEventListener("success",l),a.addEventListener("error",c)});return e.then(s=>{s instanceof IDBCursor&&DE.set(s,a)}).catch(()=>{}),Mw.set(e,a),e}function eV(a){if(gv.has(a))return;const e=new Promise((s,r)=>{const i=()=>{a.removeEventListener("complete",l),a.removeEventListener("error",c),a.removeEventListener("abort",c)},l=()=>{s(),i()},c=()=>{r(a.error||new DOMException("AbortError","AbortError")),i()};a.addEventListener("complete",l),a.addEventListener("error",c),a.addEventListener("abort",c)});gv.set(a,e)}let xv={get(a,e,s){if(a instanceof IDBTransaction){if(e==="done")return gv.get(a);if(e==="objectStoreNames")return a.objectStoreNames||ME.get(a);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Fo(a[e])},set(a,e,s){return a[e]=s,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function tV(a){xv=a(xv)}function sV(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=a.call(Cb(this),e,...s);return ME.set(r,e.sort?e.sort():[e]),Fo(r)}:X8().includes(a)?function(...e){return a.apply(Cb(this),e),Fo(DE.get(this))}:function(...e){return Fo(a.apply(Cb(this),e))}}function aV(a){return typeof a=="function"?sV(a):(a instanceof IDBTransaction&&eV(a),Q8(a,J8())?new Proxy(a,xv):a)}function Fo(a){if(a instanceof IDBRequest)return Z8(a);if(Eb.has(a))return Eb.get(a);const e=aV(a);return e!==a&&(Eb.set(a,e),Mw.set(e,a)),e}const Cb=a=>Mw.get(a);function OE(a,e,{blocked:s,upgrade:r,blocking:i,terminated:l}={}){const c=indexedDB.open(a,e),f=Fo(c);return r&&c.addEventListener("upgradeneeded",u=>{r(Fo(c.result),u.oldVersion,u.newVersion,Fo(c.transaction),u)}),s&&c.addEventListener("blocked",u=>s(u.oldVersion,u.newVersion,u)),f.then(u=>{l&&u.addEventListener("close",()=>l()),i&&u.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const rV=["get","getKey","getAll","getAllKeys","count"],nV=["put","add","delete","clear"],Ab=new Map;function Wk(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Ab.get(e))return Ab.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,i=nV.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rV.includes(s)))return;const l=async function(c,...f){const u=this.transaction(c,i?"readwrite":"readonly");let m=u.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[s](...f),i&&u.done]))[0]};return Ab.set(e,l),l}tV(a=>({...a,get:(e,s,r)=>Wk(e,s)||a.get(e,s,r),has:(e,s)=>!!Wk(e,s)||a.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(oV(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function oV(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ug="@firebase/app",yv="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new im("@firebase/app"),lV="@firebase/app-compat",cV="@firebase/analytics-compat",dV="@firebase/analytics",uV="@firebase/app-check-compat",hV="@firebase/app-check",fV="@firebase/auth",mV="@firebase/auth-compat",pV="@firebase/database",gV="@firebase/data-connect",xV="@firebase/database-compat",yV="@firebase/functions",bV="@firebase/functions-compat",vV="@firebase/installations",wV="@firebase/installations-compat",jV="@firebase/messaging",NV="@firebase/messaging-compat",_V="@firebase/performance",kV="@firebase/performance-compat",SV="@firebase/remote-config",TV="@firebase/remote-config-compat",EV="@firebase/storage",CV="@firebase/storage-compat",AV="@firebase/firestore",IV="@firebase/ai",RV="@firebase/firestore-compat",PV="firebase",DV="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="[DEFAULT]",MV={[Ug]:"fire-core",[lV]:"fire-core-compat",[dV]:"fire-analytics",[cV]:"fire-analytics-compat",[hV]:"fire-app-check",[uV]:"fire-app-check-compat",[fV]:"fire-auth",[mV]:"fire-auth-compat",[pV]:"fire-rtdb",[gV]:"fire-data-connect",[xV]:"fire-rtdb-compat",[yV]:"fire-fn",[bV]:"fire-fn-compat",[vV]:"fire-iid",[wV]:"fire-iid-compat",[jV]:"fire-fcm",[NV]:"fire-fcm-compat",[_V]:"fire-perf",[kV]:"fire-perf-compat",[SV]:"fire-rc",[TV]:"fire-rc-compat",[EV]:"fire-gcs",[CV]:"fire-gcs-compat",[AV]:"fire-fst",[RV]:"fire-fst-compat",[IV]:"fire-vertex","fire-js":"fire-js",[PV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new Map,ru=new Map,nu=new Map;function Mf(a,e){try{a.container.addComponent(e)}catch(s){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,s)}}function LE(a,e){a.container.addOrOverwriteComponent(e)}function an(a){const e=a.name;if(nu.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;nu.set(e,a);for(const s of Xo.values())Mf(s,a);for(const s of ru.values())Mf(s,a);return!0}function wx(a,e){const s=a.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),a.container.getProvider(e)}function OV(a,e,s=Jo){wx(a,e).clearInstance(s)}function Ow(a){return a.options!==void 0}function zE(a){return Ow(a)?!1:"authIdToken"in a||"appCheckToken"in a||"releaseOnDeref"in a||"automaticDataCollectionEnabled"in a}function ys(a){return a==null?!1:a.settings!==void 0}function LV(){nu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new Bi("app","Firebase",zV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VE=class{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(a,e){const s=Ew(a.split(".")[1]);if(s===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(s).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(s).exp*1e3,l=new Date().getTime();i-l<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class VV extends VE{constructor(e,s,r,i){const l=s.automaticDataCollectionEnabled!==void 0?s.automaticDataCollectionEnabled:!0,c={name:r,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,c,i);else{const f=e;super(f.options,c,i)}this._serverConfig={automaticDataCollectionEnabled:l,...s},this._serverConfig.authIdToken&&Yk(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&Yk(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,s.releaseOnDeref=void 0,$a(Ug,yv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){zw(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Cr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=DV;function Lw(a,e={}){let s=a;typeof e!="object"&&(e={name:e});const r={name:Jo,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(s||(s=Iw()),!s)throw Cr.create("no-options");const l=Xo.get(i);if(l){if(Qo(s,l.options)&&Qo(r,l.config))return l;throw Cr.create("duplicate-app",{appName:i})}const c=new RE(i);for(const u of nu.values())c.addComponent(u);const f=new VE(s,r,c);return Xo.set(i,f),f}function UV(a,e={}){if(A8()&&!SE())throw Cr.create("invalid-server-app-environment");let s,r=e||{};if(a&&(Ow(a)?s=a.options:zE(a)?r=a:s=a),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),s||(s=Iw()),!s)throw Cr.create("no-options");const i={...r,...s};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const l=g=>[...g].reduce((b,v)=>Math.imul(31,b)+v.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Cr.create("finalization-registry-not-supported",{});const c=""+l(JSON.stringify(i)),f=ru.get(c);if(f)return f.incRefCount(r.releaseOnDeref),f;const u=new RE(c);for(const g of nu.values())u.addComponent(g);const m=new VV(s,r,c,u);return ru.set(c,m),m}function FV(a=Jo){const e=Xo.get(a);if(!e&&a===Jo&&Iw())return Lw();if(!e)throw Cr.create("no-app",{appName:a});return e}function BV(){return Array.from(Xo.values())}async function zw(a){let e=!1;const s=a.name;Xo.has(s)?(e=!0,Xo.delete(s)):ru.has(s)&&a.decRefCount()<=0&&(ru.delete(s),e=!0),e&&(await Promise.all(a.container.getProviders().map(r=>r.delete())),a.isDeleted=!0)}function $a(a,e,s){let r=MV[a]??a;s&&(r+=`-${s}`);const i=r.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(c.join(" "));return}an(new Ga(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function UE(a,e){if(a!==null&&typeof a!="function")throw Cr.create("invalid-log-argument");Y8(a,e)}function FE(a){W8(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="firebase-heartbeat-database",qV=1,Of="firebase-heartbeat-store";let Ib=null;function BE(){return Ib||(Ib=OE($V,qV,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Of)}catch(s){console.warn(s)}}}}).catch(a=>{throw Cr.create("idb-open",{originalErrorMessage:a.message})})),Ib}async function HV(a){try{const s=(await BE()).transaction(Of),r=await s.objectStore(Of).get($E(a));return await s.done,r}catch(e){if(e instanceof ka)zi.warn(e.message);else{const s=Cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zi.warn(s.message)}}}async function Qk(a,e){try{const r=(await BE()).transaction(Of,"readwrite");await r.objectStore(Of).put(e,$E(a)),await r.done}catch(s){if(s instanceof ka)zi.warn(s.message);else{const r=Cr.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});zi.warn(r.message)}}}function $E(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=1024,KV=30;class WV{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new QV(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,s;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Jk();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>KV){const c=JV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=Jk(),{heartbeatsToSend:r,unsentEntries:i}=YV(this._heartbeatsCache.heartbeats),l=zg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(s){return zi.warn(s),""}}}function Jk(){return new Date().toISOString().substring(0,10)}function YV(a,e=GV){const s=[];let r=a.slice();for(const i of a){const l=s.find(c=>c.agent===i.agent);if(l){if(l.dates.push(i.date),Xk(s)>e){l.dates.pop();break}}else if(s.push({agent:i.agent,dates:[i.date]}),Xk(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class QV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fc()?Pw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await HV(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Qk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Qk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Xk(a){return zg(JSON.stringify({version:2,heartbeats:a})).length}function JV(a){if(a.length===0)return-1;let e=0,s=a[0].date;for(let r=1;r<a.length;r++)a[r].date<s&&(s=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(a){an(new Ga("platform-logger",e=>new iV(e),"PRIVATE")),an(new Ga("heartbeat",e=>new WV(e),"PRIVATE")),$a(Ug,yv,a),$a(Ug,yv,"esm2020"),$a("fire-js","")}XV("");const ZV=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ka,SDK_VERSION:ol,_DEFAULT_ENTRY_NAME:Jo,_addComponent:Mf,_addOrOverwriteComponent:LE,_apps:Xo,_clearComponents:LV,_components:nu,_getProvider:wx,_isFirebaseApp:Ow,_isFirebaseServerApp:ys,_isFirebaseServerAppSettings:zE,_registerComponent:an,_removeServiceInstance:OV,_serverApps:ru,deleteApp:zw,getApp:FV,getApps:BV,initializeApp:Lw,initializeServerApp:UV,onLog:UE,registerVersion:$a,setLogLevel:FE},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,s){this._delegate=e,this.firebase=s,Mf(e,new Ga("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),zw(this._delegate)))}_getService(e,s=Jo){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:s})}_removeServiceInstance(e,s=Jo){this._delegate.container.getProvider(e).clearInstance(s)}_addComponent(e){Mf(this._delegate,e)}_addOrOverwriteComponent(e){LE(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Zk=new Bi("app-compat","Firebase",tU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(a){const e={},s={__esModule:!0,initializeApp:l,app:i,registerVersion:$a,setLogLevel:FE,onLog:UE,apps:null,SDK_VERSION:ol,INTERNAL:{registerComponent:f,removeApp:r,useAsService:u,modularAPIs:ZV}};s.default=s,Object.defineProperty(s,"apps",{get:c});function r(m){delete e[m]}function i(m){if(m=m||Jo,!$k(e,m))throw Zk.create("no-app",{appName:m});return e[m]}i.App=a;function l(m,g={}){const b=Lw(m,g);if($k(e,b.name))return e[b.name];const v=new a(b,s);return e[b.name]=v,v}function c(){return Object.keys(e).map(m=>e[m])}function f(m){const g=m.name,b=g.replace("-compat","");if(an(m)&&m.type==="PUBLIC"){const v=(E=i())=>{if(typeof E[b]!="function")throw Zk.create("invalid-app-argument",{appName:g});return E[b]()};m.serviceProps!==void 0&&Vg(v,m.serviceProps),s[b]=v,a.prototype[b]=function(...E){return this._getService.bind(this,g).apply(this,m.multipleInstances?E:[])}}return m.type==="PUBLIC"?s[b]:null}function u(m,g){return g==="serverAuth"?null:g}return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){const a=sU(eU);a.INTERNAL={...a.INTERNAL,createFirebaseNamespace:qE,extendNamespace:e,createSubscribe:IE,ErrorFactory:Bi,deepExtend:Vg};function e(s){Vg(a,s)}return a}const aU=qE();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new im("@firebase/app-compat"),rU="@firebase/app-compat",nU="0.5.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(a){$a(rU,nU,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const a=Cw();if(a.firebase!==void 0){eS.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=a.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&eS.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const ll=aU;iU();var oU="firebase",lU="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ll.registerVersion(oU,lU,"app-compat");const Wh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Td={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function HE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dU=cU,uU=HE,GE=new Bi("auth","Firebase",HE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=new im("@firebase/auth");function hU(a,...e){Fg.logLevel<=jt.WARN&&Fg.warn(`Auth (${ol}): ${a}`,...e)}function yg(a,...e){Fg.logLevel<=jt.ERROR&&Fg.error(`Auth (${ol}): ${a}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(a,...e){throw Uw(a,...e)}function ea(a,...e){return Uw(a,...e)}function Vw(a,e,s){const r={...uU(),[e]:s};return new Bi("auth","Firebase",r).create(e,{appName:a.name})}function da(a){return Vw(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pu(a,e,s){const r=s;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ea(a,"argument-error"),Vw(a,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Uw(a,...e){if(typeof a!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(s,...r)}return GE.create(a,...e)}function Ie(a,e,...s){if(!a)throw Uw(e,...s)}function Jn(a){const e="INTERNAL ASSERTION FAILED: "+a;throw yg(e),new Error(e)}function kn(a,e){a||Jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.href)||""}function Fw(){return tS()==="http:"||tS()==="https:"}function tS(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fw()||vx()||"connection"in navigator)?navigator.onLine:!0}function mU(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,s){this.shortDelay=e,this.longDelay=s,kn(s>e,"Short delay should be less than long delay!"),this.isMobile=C8()||Rw()}get(){return fU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(a,e){kn(a.emulator,"Emulator should always be set here");const{url:s}=a.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xU=new om(3e4,6e4);function Ds(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function Ms(a,e,s,r,i={}){return WE(a,i,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=Ru({key:a.config.apiKey,...c}).slice(1),u=await a._getAdditionalHeaders();u["Content-Type"]="application/json",a.languageCode&&(u["X-Firebase-Locale"]=a.languageCode);const m={method:e,headers:u,...l};return I8()||(m.referrerPolicy="no-referrer"),a.emulatorConfig&&Iu(a.emulatorConfig.host)&&(m.credentials="include"),KE.fetch()(await YE(a,a.config.apiHost,s,f),m)})}async function WE(a,e,s){a._canInitEmulator=!1;const r={...pU,...e};try{const i=new bU(a),l=await Promise.race([s(),i.promise]);i.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw lf(a,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[u,m]=f.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(a,"credential-already-in-use",c);if(u==="EMAIL_EXISTS")throw lf(a,"email-already-in-use",c);if(u==="USER_DISABLED")throw lf(a,"user-disabled",c);const g=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Vw(a,g,m);Ea(a,g)}}catch(i){if(i instanceof ka)throw i;Ea(a,"network-request-failed",{message:String(i)})}}async function $i(a,e,s,r,i={}){const l=await Ms(a,e,s,r,i);return"mfaPendingCredential"in l&&Ea(a,"multi-factor-auth-required",{_serverResponse:l}),l}async function YE(a,e,s,r){const i=`${e}${s}?${r}`,l=a,c=l.config.emulator?Bw(a.config,i):`${a.config.apiScheme}://${i}`;return gU.includes(s)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function yU(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(ea(this.auth,"network-request-failed")),xU.get())})}}function lf(a,e,s){const r={appName:a.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const i=ea(a,e,r);return i.customData._tokenResponse=s,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(a){return a!==void 0&&a.getResponse!==void 0}function aS(a){return a!==void 0&&a.enterprise!==void 0}class QE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===e)return yU(s.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(a){return(await Ms(a,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function JE(a,e){return Ms(a,"GET","/v2/recaptchaConfig",Ds(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU(a,e){return Ms(a,"POST","/v1/accounts:delete",e)}async function jU(a,e){return Ms(a,"POST","/v1/accounts:update",e)}async function Bg(a,e){return Ms(a,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NU(a,e=!1){const s=tt(a),r=await s.getIdToken(e),i=jx(r);Ie(i&&i.exp&&i.auth_time&&i.iat,s.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:i,token:r,authTime:xf(Rb(i.auth_time)),issuedAtTime:xf(Rb(i.iat)),expirationTime:xf(Rb(i.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Rb(a){return Number(a)*1e3}function jx(a){const[e,s,r]=a.split(".");if(e===void 0||s===void 0||r===void 0)return yg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ew(s);return i?JSON.parse(i):(yg("Failed to decode base64 JWT payload"),null)}catch(i){return yg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function rS(a){const e=jx(a);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vi(a,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof ka&&_U(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function _U({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=xf(this.lastLoginAt),this.creationTime=xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(a){var b;const e=a.auth,s=await a.getIdToken(),r=await Vi(a,Bg(e,{idToken:s}));Ie(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];a._notifyReloadListener(i);const l=(b=i.providerUserInfo)!=null&&b.length?XE(i.providerUserInfo):[],c=TU(a.providerData,l),f=a.isAnonymous,u=!(a.email&&i.passwordHash)&&!(c!=null&&c.length),m=f?u:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new bv(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(a,g)}async function SU(a){const e=tt(a);await zf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TU(a,e){return[...a.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function XE(a){return a.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(a,e){const s=await WE(a,{},async()=>{const r=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=a.config,c=await YE(a,i,"/v1/token",`key=${l}`),f=await a._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:f,body:r};return a.emulatorConfig&&Iu(a.emulatorConfig.host)&&(u.credentials="include"),KE.fetch()(c,u)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function CU(a,e){return Ms(a,"POST","/v2/accounts:revokeToken",Ds(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const s=rS(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:i,expiresIn:l}=await EU(e,s);this.updateTokensAndExpiration(r,i,Number(l))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:i,expirationTime:l}=s,c=new qd;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),l&&(Ie(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qd,this.toJSON())}_performRefresh(){return Jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(a,e){Ie(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class yn{constructor({uid:e,auth:s,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new kU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new bv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const s=await Vi(this,this.stsTokenManager.getToken(this.auth,e));return Ie(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return NU(this,e)}reload(){return SU(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new yn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await zf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ys(this.auth.app))return Promise.reject(da(this.auth));const e=await this.getIdToken();return await Vi(this,wU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const r=s.displayName??void 0,i=s.email??void 0,l=s.phoneNumber??void 0,c=s.photoURL??void 0,f=s.tenantId??void 0,u=s._redirectEventId??void 0,m=s.createdAt??void 0,g=s.lastLoginAt??void 0,{uid:b,emailVerified:v,isAnonymous:E,providerData:N,stsTokenManager:S}=s;Ie(b&&S,e,"internal-error");const T=qd.fromJSON(this.name,S);Ie(typeof b=="string",e,"internal-error"),Ao(r,e.name),Ao(i,e.name),Ie(typeof v=="boolean",e,"internal-error"),Ie(typeof E=="boolean",e,"internal-error"),Ao(l,e.name),Ao(c,e.name),Ao(f,e.name),Ao(u,e.name),Ao(m,e.name),Ao(g,e.name);const O=new yn({uid:b,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:E,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:T,createdAt:m,lastLoginAt:g});return N&&Array.isArray(N)&&(O.providerData=N.map(U=>({...U}))),u&&(O._redirectEventId=u),O}static async _fromIdTokenResponse(e,s,r=!1){const i=new qd;i.updateFromServerResponse(s);const l=new yn({uid:s.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zf(l),l}static async _fromGetAccountInfoResponse(e,s,r){const i=s.users[0];Ie(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?XE(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!(l!=null&&l.length),f=new qd;f.updateFromIdToken(r);const u=new yn({uid:i.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new bv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(l!=null&&l.length)};return Object.assign(u,m),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new Map;function Tr(a){kn(a instanceof Function,"Expected a class definition");let e=nS.get(a);return e?(kn(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,nS.set(a,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}ZE.type="NONE";const iu=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(a,e,s){return`firebase:${a}:${e}:${s}`}class Hd{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:i,name:l}=this.auth;this.fullUserKey=ac(this.userKey,i.apiKey,l),this.fullPersistenceKey=ac("persistence",i.apiKey,l),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await Bg(this.auth,{idToken:e}).catch(()=>{});return s?yn._fromGetAccountInfoResponse(this.auth,s,e):null}return yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new Hd(Tr(iu),e,r);const i=(await Promise.all(s.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=i[0]||Tr(iu);const c=ac(r,e.config.apiKey,e.name);let f=null;for(const m of s)try{const g=await m._get(c);if(g){let b;if(typeof g=="string"){const v=await Bg(e,{idToken:g}).catch(()=>{});if(!v)break;b=await yn._fromGetAccountInfoResponse(e,v,g)}else b=yn._fromJSON(e,g);m!==l&&(f=b),l=m;break}}catch{}const u=i.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!u.length?new Hd(l,e,r):(l=u[0],f&&await l._set(c,f.toJSON()),await Promise.all(s.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Hd(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rC(e))return"Blackberry";if(nC(e))return"Webos";if(tC(e))return"Safari";if((e.includes("chrome/")||sC(e))&&!e.includes("edge/"))return"Chrome";if(lm(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eC(a=_s()){return/firefox\//i.test(a)}function tC(a=_s()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sC(a=_s()){return/crios\//i.test(a)}function aC(a=_s()){return/iemobile/i.test(a)}function lm(a=_s()){return/android/i.test(a)}function rC(a=_s()){return/blackberry/i.test(a)}function nC(a=_s()){return/webos/i.test(a)}function cm(a=_s()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function AU(a=_s()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(a)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(a)}function IU(a=_s()){var e;return cm(a)&&!!((e=window.navigator)!=null&&e.standalone)}function RU(){return TE()&&document.documentMode===10}function iC(a=_s()){return cm(a)||lm(a)||nC(a)||rC(a)||/windows phone/i.test(a)||aC(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(a,e=[]){let s;switch(a){case"Browser":s=iS(_s());break;case"Worker":s=`${iS(_s())}-${a}`;break;default:s=a}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${ol}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=l=>new Promise((c,f)=>{try{const u=e(l);c(u)}catch(u){f(u)}});r.onAbort=s,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const i of s)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(a,e={}){return Ms(a,"GET","/v2/passwordPolicy",Ds(a,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=6;class OU{constructor(e){var r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??MU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),i&&(s.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,s,r,i){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oS(this),this.idTokenSubscription=new oS(this),this.beforeStateQueue=new PU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Tr(s)),this._initializationPromise=this.queue(async()=>{var r,i,l;if(!this._deleted&&(this.persistenceManager=await Hd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await Bg(this,{idToken:e}),r=await yn._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(ys(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!c||c===f)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await zf(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ys(this.app))return Promise.reject(da(this));const s=e?tt(e):null;return s&&Ie(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ys(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ys(this.app)?Promise.reject(da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DU(this),s=new OU(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bi("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await CU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Tr(e)||this._popupRedirectResolver;Ie(s,this,"argument-error"),this.redirectPersistenceManager=await Hd.create(this,[Tr(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)==null?void 0:s._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((s=this.currentUser)==null?void 0:s.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,i){if(this._deleted)return()=>{};const l=typeof s=="function"?s:s.next.bind(s);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof s=="function"){const u=e.addObserver(s,r,i);return()=>{c=!0,u()}}else{const u=e.addObserver(s);return()=>{c=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var s;if(ys(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((s=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getToken());return e!=null&&e.error&&hU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ks(a){return tt(a)}class oS{constructor(e){this.auth=e,this.observer=null,this.addObserver=IE(s=>this.observer=s)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zU(a){dm=a}function $w(a){return dm.loadJS(a)}function VU(){return dm.recaptchaV2Script}function UU(){return dm.recaptchaEnterpriseScript}function FU(){return dm.gapiScript}function lC(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=500,$U=6e4,rg=1e12;class qU{constructor(e){this.auth=e,this.counter=rg,this._widgets=new Map}render(e,s){const r=this.counter;return this._widgets.set(r,new KU(e,this.auth.name,s||{})),this.counter++,r}reset(e){var r;const s=e||rg;(r=this._widgets.get(s))==null||r.delete(),this._widgets.delete(s)}getResponse(e){var r;const s=e||rg;return((r=this._widgets.get(s))==null?void 0:r.getResponse())||""}async execute(e){var r;const s=e||rg;return(r=this._widgets.get(s))==null||r.execute(),""}}class HU{constructor(){this.enterprise=new GU}ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class GU{ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class KU{constructor(e,s,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Ie(i,"argument-error",{appName:s}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=WU(50);const{callback:e,"expired-callback":s}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,s)try{s()}catch{}this.isVisible&&this.execute()},$U)},BU))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function WU(a){const e=[],s="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<a;r++)e.push(s.charAt(Math.floor(Math.random()*s.length)));return e.join("")}const YU="recaptcha-enterprise",yf="NO_RECAPTCHA";class cC{constructor(e){this.type=YU,this.auth=ks(e)}async verify(e="verify",s=!1){async function r(l){if(!s){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{JE(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new QE(u);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(u=>{f(u)})})}function i(l,c,f){const u=window.grecaptcha;aS(u)?u.enterprise.ready(()=>{u.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(yf)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HU().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!s&&aS(window.grecaptcha))i(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let u=UU();u.length!==0&&(u+=f),$w(u).then(()=>{i(f,l,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function Yh(a,e,s,r=!1,i=!1){const l=new cC(a);let c;if(i)c=yf;else try{c=await l.verify(s)}catch{c=await l.verify(s,!0)}const f={...e};if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const u=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const u=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Bo(a,e,s,r,i){var l,c;if(i==="EMAIL_PASSWORD_PROVIDER")if((l=a._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Yh(a,e,s,s==="getOobCode");return r(a,f)}else return r(a,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Yh(a,e,s,s==="getOobCode");return r(a,u)}else return Promise.reject(f)});else if(i==="PHONE_PROVIDER")if((c=a._getRecaptchaConfig())!=null&&c.isProviderEnabled("PHONE_PROVIDER")){const f=await Yh(a,e,s);return r(a,f).catch(async u=>{var m;if(((m=a._getRecaptchaConfig())==null?void 0:m.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${s} flow.`);const g=await Yh(a,e,s,!1,!0);return r(a,g)}return Promise.reject(u)})}else{const f=await Yh(a,e,s,!1,!0);return r(a,f)}else return Promise.reject(i+" provider is not supported.")}async function QU(a){const e=ks(a),s=await JE(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new QE(s);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new cC(e).verify()}function JU(a,e){const s=(e==null?void 0:e.persistence)||[],r=(Array.isArray(s)?s:[s]).map(Tr);e!=null&&e.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function XU(a,e,s){const r=ks(a);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(s!=null&&s.disableWarnings),l=dC(e),{host:c,port:f}=ZU(e),u=f===null?"":`:${f}`,m={url:`${l}//${c}${u}/`},g=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(Qo(m,r.config.emulator)&&Qo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Iu(c)?(_E(`${l}//${c}${u}`),kE("Auth",!0)):i||eF()}function dC(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function ZU(a){const e=dC(a),s=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const l=i[1];return{host:l,port:lS(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:lS(c)}}}function lS(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function eF(){function a(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Jn("not implemented")}_getIdTokenResponse(e){return Jn("not implemented")}_linkToIdToken(e,s){return Jn("not implemented")}_getReauthenticationResolver(e){return Jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(a,e){return Ms(a,"POST","/v1/accounts:resetPassword",Ds(a,e))}async function tF(a,e){return Ms(a,"POST","/v1/accounts:update",e)}async function sF(a,e){return Ms(a,"POST","/v1/accounts:signUp",e)}async function aF(a,e){return Ms(a,"POST","/v1/accounts:update",Ds(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(a,e){return $i(a,"POST","/v1/accounts:signInWithPassword",Ds(a,e))}async function Nx(a,e){return Ms(a,"POST","/v1/accounts:sendOobCode",Ds(a,e))}async function nF(a,e){return Nx(a,e)}async function iF(a,e){return Nx(a,e)}async function oF(a,e){return Nx(a,e)}async function lF(a,e){return Nx(a,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cF(a,e){return $i(a,"POST","/v1/accounts:signInWithEmailLink",Ds(a,e))}async function dF(a,e){return $i(a,"POST","/v1/accounts:signInWithEmailLink",Ds(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends Du{constructor(e,s,r,i=null){super("password",r),this._email=e,this._password=s,this._tenantId=i}static _fromEmailAndPassword(e,s){return new Vf(e,s,"password")}static _fromEmailAndCode(e,s,r=null){return new Vf(e,s,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bo(e,s,"signInWithPassword",rF,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return cF(e,{email:this._email,oobCode:this._password});default:Ea(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":const r={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bo(e,r,"signUpPassword",sF,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return dF(e,{idToken:s,email:this._email,oobCode:this._password});default:Ea(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Di(a,e){return $i(a,"POST","/v1/accounts:signInWithIdp",Ds(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="http://localhost";class ni extends Du{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):Ea("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...l}=s;if(!r||!i)return null;const c=new ni(r,i);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const s=this.buildRequest();return Di(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,Di(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,Di(e,s)}buildRequest(){const e={requestUri:uF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=Ru(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(a,e){return Ms(a,"POST","/v1/accounts:sendVerificationCode",Ds(a,e))}async function hF(a,e){return $i(a,"POST","/v1/accounts:signInWithPhoneNumber",Ds(a,e))}async function fF(a,e){const s=await $i(a,"POST","/v1/accounts:signInWithPhoneNumber",Ds(a,e));if(s.temporaryProof)throw lf(a,"account-exists-with-different-credential",s);return s}const mF={USER_NOT_FOUND:"user-not-found"};async function pF(a,e){const s={...e,operation:"REAUTH"};return $i(a,"POST","/v1/accounts:signInWithPhoneNumber",Ds(a,s),mF)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Du{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,s){return new rc({verificationId:e,verificationCode:s})}static _fromTokenResponse(e,s){return new rc({phoneNumber:e,temporaryProof:s})}_getIdTokenResponse(e){return hF(e,this._makeVerificationRequest())}_linkToIdToken(e,s){return fF(e,{idToken:s,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return pF(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:s,verificationId:r,verificationCode:i}=this.params;return e&&s?{temporaryProof:e,phoneNumber:s}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:s,verificationCode:r,phoneNumber:i,temporaryProof:l}=e;return!r&&!s&&!i&&!l?null:new rc({verificationId:s,verificationCode:r,phoneNumber:i,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xF(a){const e=Ud(of(a)).link,s=e?Ud(of(e)).deep_link_id:null,r=Ud(of(a)).deep_link_id;return(r?Ud(of(r)).link:null)||r||s||e||a}class _x{constructor(e){const s=Ud(of(e)),r=s.apiKey??null,i=s.oobCode??null,l=gF(s.mode??null);Ie(r&&i&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=i,this.continueUrl=s.continueUrl??null,this.languageCode=s.lang??null,this.tenantId=s.tenantId??null}static parseLink(e){const s=xF(e);try{return new _x(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(e,s){return Vf._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const r=_x.parseLink(s);return Ie(r,"argument-error"),Vf._fromEmailAndCode(e,r.code,r.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends qi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gd extends Mu{static credentialFromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;return Ie("providerId"in s&&"signInMethod"in s,"argument-error"),ni._fromParams(s)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Ie(e.idToken||e.accessToken,"argument-error"),ni._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Gd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Gd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:l,nonce:c,providerId:f}=e;if(!r&&!i&&!s&&!l||!f)return null;try{return new Gd(f)._credential({idToken:s,accessToken:r,nonce:c,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends Mu{constructor(){super("facebook.com")}static credential(e){return ni._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kn.credentialFromTaggedObject(e)}static credentialFromError(e){return Kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kn.credential(e.oauthAccessToken)}catch{return null}}}Kn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return ni._fromParams({providerId:Wn.PROVIDER_ID,signInMethod:Wn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return Wn.credentialFromTaggedObject(e)}static credentialFromError(e){return Wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return Wn.credential(s,r)}catch{return null}}}Wn.GOOGLE_SIGN_IN_METHOD="google.com";Wn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends Mu{constructor(){super("github.com")}static credential(e){return ni._fromParams({providerId:Yn.PROVIDER_ID,signInMethod:Yn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yn.credentialFromTaggedObject(e)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yn.credential(e.oauthAccessToken)}catch{return null}}}Yn.GITHUB_SIGN_IN_METHOD="github.com";Yn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF="http://localhost";class ou extends Du{constructor(e,s){super(e,e),this.pendingToken=s}_getIdTokenResponse(e){const s=this.buildRequest();return Di(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,Di(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,Di(e,s)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:l}=s;return!r||!i||!l||r!==i?null:new ou(r,l)}static _create(e,s){return new ou(e,s)}buildRequest(){return{requestUri:yF,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="saml.";class $g extends qi{constructor(e){Ie(e.startsWith(bF),"argument-error"),super(e)}static credentialFromResult(e){return $g.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return $g.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const s=ou.fromJSON(e);return Ie(s,"argument-error"),s}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:s,providerId:r}=e;if(!s||!r)return null;try{return ou._create(r,s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends Mu{constructor(){super("twitter.com")}static credential(e,s){return ni._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Qn.credentialFromTaggedObject(e)}static credentialFromError(e){return Qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return Qn.credential(s,r)}catch{return null}}}Qn.TWITTER_SIGN_IN_METHOD="twitter.com";Qn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(a,e){return $i(a,"POST","/v1/accounts:signUp",Ds(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,i=!1){const l=await yn._fromIdTokenResponse(e,r,i),c=dS(r);return new rn({user:l,providerId:c,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const i=dS(r);return new rn({user:e,providerId:i,_tokenResponse:r,operationType:s})}}function dS(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vF(a){var i;if(ys(a.app))return Promise.reject(da(a));const e=ks(a);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new rn({user:e.currentUser,providerId:null,operationType:"signIn"});const s=await hC(e,{returnSecureToken:!0}),r=await rn._fromIdTokenResponse(e,"signIn",s,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg extends ka{constructor(e,s,r,i){super(s.code,s.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,i){return new qg(e,s,r,i)}}function fC(a,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(a):s._getIdTokenResponse(a)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qg._fromErrorAndOperation(a,l,e,r):l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(a){return new Set(a.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wF(a,e){const s=tt(a);await kx(!0,s,e);const{providerUserInfo:r}=await jU(s.auth,{idToken:await s.getIdToken(),deleteProvider:[e]}),i=mC(r||[]);return s.providerData=s.providerData.filter(l=>i.has(l.providerId)),i.has("phone")||(s.phoneNumber=null),await s.auth._persistUserIfCurrent(s),s}async function qw(a,e,s=!1){const r=await Vi(a,e._linkToIdToken(a.auth,await a.getIdToken()),s);return rn._forOperation(a,"link",r)}async function kx(a,e,s){await zf(e);const r=mC(e.providerData),i=a===!1?"provider-already-linked":"no-such-provider";Ie(r.has(s)===a,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(a,e,s=!1){const{auth:r}=a;if(ys(r.app))return Promise.reject(da(r));const i="reauthenticate";try{const l=await Vi(a,fC(r,i,e,a),s);Ie(l.idToken,r,"internal-error");const c=jx(l.idToken);Ie(c,r,"internal-error");const{sub:f}=c;return Ie(a.uid===f,r,"user-mismatch"),rn._forOperation(a,i,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ea(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(a,e,s=!1){if(ys(a.app))return Promise.reject(da(a));const r="signIn",i=await fC(a,r,e),l=await rn._fromIdTokenResponse(a,r,i);return s||await a._updateCurrentUser(l.user),l}async function Sx(a,e){return gC(ks(a),e)}async function xC(a,e){const s=tt(a);return await kx(!1,s,e.providerId),qw(s,e)}async function yC(a,e){return pC(tt(a),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF(a,e){return $i(a,"POST","/v1/accounts:signInWithCustomToken",Ds(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(a,e){if(ys(a.app))return Promise.reject(da(a));const s=ks(a),r=await jF(s,{token:e,returnSecureToken:!0}),i=await rn._fromIdTokenResponse(s,"signIn",r);return await s._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,s){this.factorId=e,this.uid=s.mfaEnrollmentId,this.enrollmentTime=new Date(s.enrolledAt).toUTCString(),this.displayName=s.displayName}static _fromServerResponse(e,s){return"phoneInfo"in s?Hw._fromServerResponse(e,s):"totpInfo"in s?Gw._fromServerResponse(e,s):Ea(e,"internal-error")}}class Hw extends um{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,s){return new Hw(s)}}class Gw extends um{constructor(e){super("totp",e)}static _fromServerResponse(e,s){return new Gw(s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(a,e,s){var r;Ie(((r=s.url)==null?void 0:r.length)>0,a,"invalid-continue-uri"),Ie(typeof s.dynamicLinkDomain>"u"||s.dynamicLinkDomain.length>0,a,"invalid-dynamic-link-domain"),Ie(typeof s.linkDomain>"u"||s.linkDomain.length>0,a,"invalid-hosting-link-domain"),e.continueUrl=s.url,e.dynamicLinkDomain=s.dynamicLinkDomain,e.linkDomain=s.linkDomain,e.canHandleCodeInApp=s.handleCodeInApp,s.iOS&&(Ie(s.iOS.bundleId.length>0,a,"missing-ios-bundle-id"),e.iOSBundleId=s.iOS.bundleId),s.android&&(Ie(s.android.packageName.length>0,a,"missing-android-pkg-name"),e.androidInstallApp=s.android.installApp,e.androidMinimumVersionCode=s.android.minimumVersion,e.androidPackageName=s.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kw(a){const e=ks(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _F(a,e,s){const r=ks(a),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};s&&Tx(r,i,s),await Bo(r,i,"getOobCode",iF,"EMAIL_PASSWORD_PROVIDER")}async function kF(a,e,s){await uC(tt(a),{oobCode:e,newPassword:s}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Kw(a),r})}async function SF(a,e){await aF(tt(a),{oobCode:e})}async function bC(a,e){const s=tt(a),r=await uC(s,{oobCode:e}),i=r.requestType;switch(Ie(i,s,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(r.newEmail,s,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(r.mfaInfo,s,"internal-error");default:Ie(r.email,s,"internal-error")}let l=null;return r.mfaInfo&&(l=um._fromServerResponse(ks(s),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:l},operation:i}}async function TF(a,e){const{data:s}=await bC(tt(a),e);return s.email}async function EF(a,e,s){if(ys(a.app))return Promise.reject(da(a));const r=ks(a),c=await Bo(r,{returnSecureToken:!0,email:e,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hC,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Kw(a),u}),f=await rn._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function CF(a,e,s){return ys(a.app)?Promise.reject(da(a)):Sx(tt(a),cl.credential(e,s)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Kw(a),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AF(a,e,s){const r=ks(a),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function l(c,f){Ie(f.handleCodeInApp,r,"argument-error"),f&&Tx(r,c,f)}l(i,s),await Bo(r,i,"getOobCode",oF,"EMAIL_PASSWORD_PROVIDER")}function IF(a,e){const s=_x.parseLink(e);return(s==null?void 0:s.operation)==="EMAIL_SIGNIN"}async function RF(a,e,s){if(ys(a.app))return Promise.reject(da(a));const r=tt(a),i=cl.credentialWithLink(e,s||Lf());return Ie(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Sx(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PF(a,e){return Ms(a,"POST","/v1/accounts:createAuthUri",Ds(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF(a,e){const s=Fw()?Lf():"http://localhost",r={identifier:e,continueUri:s},{signinMethods:i}=await PF(tt(a),r);return i||[]}async function MF(a,e){const s=tt(a),i={requestType:"VERIFY_EMAIL",idToken:await a.getIdToken()};e&&Tx(s.auth,i,e);const{email:l}=await nF(s.auth,i);l!==a.email&&await a.reload()}async function OF(a,e,s){const r=tt(a),l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await a.getIdToken(),newEmail:e};s&&Tx(r.auth,l,s);const{email:c}=await lF(r.auth,l);c!==a.email&&await a.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF(a,e){return Ms(a,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zF(a,{displayName:e,photoURL:s}){if(e===void 0&&s===void 0)return;const r=tt(a),l={idToken:await r.getIdToken(),displayName:e,photoUrl:s,returnSecureToken:!0},c=await Vi(r,LF(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:u})=>u==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function VF(a,e){const s=tt(a);return ys(s.auth.app)?Promise.reject(da(s.auth)):vC(s,e,null)}function UF(a,e){return vC(tt(a),null,e)}async function vC(a,e,s){const{auth:r}=a,l={idToken:await a.getIdToken(),returnSecureToken:!0};e&&(l.email=e),s&&(l.password=s);const c=await Vi(a,tF(r,l));await a._updateTokensIfNecessary(c,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(a){var i,l;if(!a)return null;const{providerId:e}=a,s=a.rawUserInfo?JSON.parse(a.rawUserInfo):{},r=a.isNewUser||a.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(a!=null&&a.idToken)){const c=(l=(i=jx(a.idToken))==null?void 0:i.firebase)==null?void 0:l.sign_in_provider;if(c){const f=c!=="anonymous"&&c!=="custom"?c:null;return new Kd(r,f)}}if(!e)return null;switch(e){case"facebook.com":return new BF(r,s);case"github.com":return new $F(r,s);case"google.com":return new qF(r,s);case"twitter.com":return new HF(r,s,a.screenName||null);case"custom":case"anonymous":return new Kd(r,null);default:return new Kd(r,e,s)}}class Kd{constructor(e,s,r={}){this.isNewUser=e,this.providerId=s,this.profile=r}}class wC extends Kd{constructor(e,s,r,i){super(e,s,r),this.username=i}}class BF extends Kd{constructor(e,s){super(e,"facebook.com",s)}}class $F extends wC{constructor(e,s){super(e,"github.com",s,typeof(s==null?void 0:s.login)=="string"?s==null?void 0:s.login:null)}}class qF extends Kd{constructor(e,s){super(e,"google.com",s)}}class HF extends wC{constructor(e,s,r){super(e,"twitter.com",s,r)}}function GF(a){const{user:e,_tokenResponse:s}=a;return e.isAnonymous&&!s?{providerId:null,isNewUser:!1,profile:null}:FF(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,s,r){this.type=e,this.credential=s,this.user=r}static _fromIdtoken(e,s){return new Yl("enroll",e,s)}static _fromMfaPendingCredential(e){return new Yl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var s,r;if(e!=null&&e.multiFactorSession){if((s=e.multiFactorSession)!=null&&s.pendingCredential)return Yl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return Yl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,s,r){this.session=e,this.hints=s,this.signInResolver=r}static _fromError(e,s){const r=ks(e),i=s.customData._serverResponse,l=(i.mfaInfo||[]).map(f=>um._fromServerResponse(r,f));Ie(i.mfaPendingCredential,r,"internal-error");const c=Yl._fromMfaPendingCredential(i.mfaPendingCredential);return new Ww(c,l,async f=>{const u=await f._process(r,c);delete i.mfaInfo,delete i.mfaPendingCredential;const m={...i,idToken:u.idToken,refreshToken:u.refreshToken};switch(s.operationType){case"signIn":const g=await rn._fromIdTokenResponse(r,s.operationType,m);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return Ie(s.user,r,"internal-error"),rn._forOperation(s.user,s.operationType,m);default:Ea(r,"internal-error")}})}async resolveSignIn(e){const s=e;return this.signInResolver(s)}}function KF(a,e){var i;const s=tt(a),r=e;return Ie(e.customData.operationType,s,"argument-error"),Ie((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,s,"argument-error"),Ww._fromError(s,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(a,e){return Ms(a,"POST","/v2/accounts/mfaEnrollment:start",Ds(a,e))}function WF(a,e){return Ms(a,"POST","/v2/accounts/mfaEnrollment:finalize",Ds(a,e))}function YF(a,e){return Ms(a,"POST","/v2/accounts/mfaEnrollment:withdraw",Ds(a,e))}class Yw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(s=>{s.mfaInfo&&(this.enrolledFactors=s.mfaInfo.map(r=>um._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Yw(e)}async getSession(){return Yl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,s){const r=e,i=await this.getSession(),l=await Vi(this.user,r._process(this.user.auth,i,s));return await this.user._updateTokensIfNecessary(l),this.user.reload()}async unenroll(e){const s=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Vi(this.user,YF(this.user.auth,{idToken:r,mfaEnrollmentId:s}));this.enrolledFactors=this.enrolledFactors.filter(({uid:l})=>l!==s),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Pb=new WeakMap;function QF(a){const e=tt(a);return Pb.has(e)||Pb.set(e,Yw._fromUser(e)),Pb.get(e)}const Hg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Hg,"1"),this.storage.removeItem(Hg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=1e3,XF=10;class NC extends jC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),i=this.localCache[s];r!==i&&e(s,i,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((c,f,u)=>{this.notifyListeners(c,u)});return}const r=e.key;s?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!s&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);RU()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XF):i()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},JF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}NC.type="LOCAL";const Qw=NC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C extends jC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}_C.type="SESSION";const mc=_C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(i=>i.isListeningto(e));if(s)return s;const r=new Ex(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:i,data:l}=s.data,c=this.handlersMap[i];if(!(c!=null&&c.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const f=Array.from(c).map(async m=>m(s.origin,l)),u=await ZF(f);s.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ex.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(a="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return a+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,c;return new Promise((f,u)=>{const m=hm("",20);i.port1.start();const g=setTimeout(()=>{u(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(b){const v=b;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(v.data.response);break;default:clearTimeout(g),clearTimeout(l),u(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:s},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return window}function tB(a){Qs().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function sB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aB(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)==null?void 0:a.controller)||null}function rB(){return Jw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="firebaseLocalStorageDb",nB=1,Gg="firebaseLocalStorage",SC="fbase_key";class fm{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Cx(a,e){return a.transaction([Gg],e?"readwrite":"readonly").objectStore(Gg)}function iB(){const a=indexedDB.deleteDatabase(kC);return new fm(a).toPromise()}function vv(){const a=indexedDB.open(kC,nB);return new Promise((e,s)=>{a.addEventListener("error",()=>{s(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Gg,{keyPath:SC})}catch(i){s(i)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(Gg)?e(r):(r.close(),await iB(),e(await vv()))})})}async function hS(a,e,s){const r=Cx(a,!0).put({[SC]:e,value:s});return new fm(r).toPromise()}async function oB(a,e){const s=Cx(a,!1).get(e),r=await new fm(s).toPromise();return r===void 0?null:r.value}function fS(a,e){const s=Cx(a,!0).delete(e);return new fm(s).toPromise()}const lB=800,cB=3;class TC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vv(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>cB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ex._getInstance(rB()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var s,r;if(this.activeServiceWorker=await sB(),!this.activeServiceWorker)return;this.sender=new eB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(s=e[0])!=null&&s.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vv();return await hS(e,Hg,"1"),await fS(e,Hg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>hS(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>oB(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>fS(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=Cx(i,!1).getAll();return new fm(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),s.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),s.push(i));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TC.type="LOCAL";const Uf=TC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(a,e){return Ms(a,"POST","/v2/accounts/mfaSignIn:start",Ds(a,e))}function dB(a,e){return Ms(a,"POST","/v2/accounts/mfaSignIn:finalize",Ds(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=lC("rcb"),uB=new om(3e4,6e4);class hB{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=Qs().grecaptcha)!=null&&e.render)}load(e,s=""){return Ie(fB(s),e,"argument-error"),this.shouldResolveImmediately(s)&&sS(Qs().grecaptcha)?Promise.resolve(Qs().grecaptcha):new Promise((r,i)=>{const l=Qs().setTimeout(()=>{i(ea(e,"network-request-failed"))},uB.get());Qs()[Db]=()=>{Qs().clearTimeout(l),delete Qs()[Db];const f=Qs().grecaptcha;if(!f||!sS(f)){i(ea(e,"internal-error"));return}const u=f.render;f.render=(m,g)=>{const b=u(m,g);return this.counter++,b},this.hostLanguage=s,r(f)};const c=`${VU()}?${Ru({onload:Db,render:"explicit",hl:s})}`;$w(c).catch(()=>{clearTimeout(l),i(ea(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var s;return!!((s=Qs().grecaptcha)!=null&&s.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function fB(a){return a.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(a)}class mB{async load(e){return new qU(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="recaptcha",pB={theme:"light",type:"image"};let gB=class{constructor(e,s,r={...pB}){this.parameters=r,this.type=bf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ks(e),this.isInvisible=this.parameters.size==="invisible",Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof s=="string"?document.getElementById(s):s;Ie(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mB:new hB,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),s=this.getAssertedRecaptcha(),r=s.getResponse(e);return r||new Promise(i=>{const l=c=>{c&&(this.tokenChangeListeners.delete(l),i(c))};this.tokenChangeListeners.add(l),this.isInvisible&&s.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return s=>{if(this.tokenChangeListeners.forEach(r=>r(s)),typeof e=="function")e(s);else if(typeof e=="string"){const r=Qs()[e];typeof r=="function"&&r(s)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const s=document.createElement("div");e.appendChild(s),e=s}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ie(Fw()&&!Jw(),this.auth,"internal-error"),await xB(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await vU(this.auth);Ie(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function xB(){let a=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}a=()=>e(),window.addEventListener("load",a)}).catch(e=>{throw a&&window.removeEventListener("load",a),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,s){this.verificationId=e,this.onConfirmation=s}confirm(e){const s=rc._fromVerification(this.verificationId,e);return this.onConfirmation(s)}}async function yB(a,e,s){if(ys(a.app))return Promise.reject(da(a));const r=ks(a),i=await Ax(r,e,tt(s));return new Xw(i,l=>Sx(r,l))}async function bB(a,e,s){const r=tt(a);await kx(!1,r,"phone");const i=await Ax(r.auth,e,tt(s));return new Xw(i,l=>xC(r,l))}async function vB(a,e,s){const r=tt(a);if(ys(r.auth.app))return Promise.reject(da(r.auth));const i=await Ax(r.auth,e,tt(s));return new Xw(i,l=>yC(r,l))}async function Ax(a,e,s){var r;if(!a._getRecaptchaConfig())try{await QU(a)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const l=i.session;if("phoneNumber"in i){Ie(l.type==="enroll",a,"internal-error");const c={idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Bo(a,c,"mfaSmsEnrollment",async(g,b)=>{if(b.phoneEnrollmentInfo.captchaResponse===yf){Ie((s==null?void 0:s.type)===bf,g,"argument-error");const v=await Mb(g,b,s);return uS(g,v)}return uS(g,b)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{Ie(l.type==="signin",a,"internal-error");const c=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;Ie(c,a,"missing-multi-factor-info");const f={mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Bo(a,f,"mfaSmsSignIn",async(b,v)=>{if(v.phoneSignInInfo.captchaResponse===yf){Ie((s==null?void 0:s.type)===bf,b,"argument-error");const E=await Mb(b,v,s);return mS(b,E)}return mS(b,v)},"PHONE_PROVIDER").catch(b=>Promise.reject(b))).phoneResponseInfo.sessionInfo}}else{const l={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Bo(a,l,"sendVerificationCode",async(m,g)=>{if(g.captchaResponse===yf){Ie((s==null?void 0:s.type)===bf,m,"argument-error");const b=await Mb(m,g,s);return cS(m,b)}return cS(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).sessionInfo}}finally{s==null||s._reset()}}async function wB(a,e){const s=tt(a);if(ys(s.auth.app))return Promise.reject(da(s.auth));await qw(s,e)}async function Mb(a,e,s){Ie(s.type===bf,a,"argument-error");const r=await s.verify();Ie(typeof r=="string",a,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const l=i.phoneEnrollmentInfo.phoneNumber,c=i.phoneEnrollmentInfo.captchaResponse,f=i.phoneEnrollmentInfo.clientType,u=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:r,captchaResponse:c,clientType:f,recaptchaVersion:u}}),i}else if("phoneSignInInfo"in i){const l=i.phoneSignInInfo.captchaResponse,c=i.phoneSignInInfo.clientType,f=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:l,clientType:c,recaptchaVersion:f}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=class bg{constructor(e){this.providerId=bg.PROVIDER_ID,this.auth=ks(e)}verifyPhoneNumber(e,s){return Ax(this.auth,e,tt(s))}static credential(e,s){return rc._fromVerification(e,s)}static credentialFromResult(e){const s=e;return bg.credentialFromTaggedObject(s)}static credentialFromError(e){return bg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:s,temporaryProof:r}=e;return s&&r?rc._fromTokenResponse(s,r):null}};pc.PROVIDER_ID="phone";pc.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(a,e){return e?Tr(e):(Ie(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends Du{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Di(e,this._buildIdpRequest())}_linkToIdToken(e,s){return Di(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return Di(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function jB(a){return gC(a.auth,new Zw(a),a.bypassAuthState)}function NB(a){const{auth:e,user:s}=a;return Ie(s,e,"internal-error"),pC(s,new Zw(a),a.bypassAuthState)}async function _B(a){const{auth:e,user:s}=a;return Ie(s,e,"internal-error"),qw(s,new Zw(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,s,r,i,l=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:i,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const u={auth:this.auth,requestUri:s,sessionId:r,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(u))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jB;case"linkViaPopup":case"linkViaRedirect":return _B;case"reauthViaPopup":case"reauthViaRedirect":return NB;default:Ea(this.auth,"internal-error")}}resolve(e){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=new om(2e3,1e4);async function SB(a,e,s){if(ys(a.app))return Promise.reject(ea(a,"operation-not-supported-in-this-environment"));const r=ks(a);Pu(a,e,qi);const i=Pc(r,s);return new Ci(r,"signInViaPopup",e,i).executeNotNull()}async function TB(a,e,s){const r=tt(a);if(ys(r.auth.app))return Promise.reject(ea(r.auth,"operation-not-supported-in-this-environment"));Pu(r.auth,e,qi);const i=Pc(r.auth,s);return new Ci(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function EB(a,e,s){const r=tt(a);Pu(r.auth,e,qi);const i=Pc(r.auth,s);return new Ci(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ci extends EC{constructor(e,s,r,i,l){super(e,s,i,l),this.provider=r,this.authWindow=null,this.pollId=null,Ci.currentPopupAction&&Ci.currentPopupAction.cancel(),Ci.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){kn(this.filter.length===1,"Popup operations only handle one event");const e=hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(ea(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ea(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ci.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,r;if((r=(s=this.authWindow)==null?void 0:s.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ea(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kB.get())};e()}}Ci.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB="pendingRedirect",vf=new Map;class AB extends EC{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=vf.get(this.auth._key());if(!e){try{const r=await IB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}vf.set(this.auth._key(),e)}return this.bypassAuthState||vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IB(a,e){const s=AC(e),r=CC(a);if(!await r._isAvailable())return!1;const i=await r._get(s)==="true";return await r._remove(s),i}async function ej(a,e){return CC(a)._set(AC(e),"true")}function RB(){vf.clear()}function tj(a,e){vf.set(a._key(),e)}function CC(a){return Tr(a._redirectPersistence)}function AC(a){return ac(CB,a.config.apiKey,a.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(a,e,s){return DB(a,e,s)}async function DB(a,e,s){if(ys(a.app))return Promise.reject(da(a));const r=ks(a);Pu(a,e,qi),await r._initializationPromise;const i=Pc(r,s);return await ej(i,r),i._openRedirect(r,e,"signInViaRedirect")}function MB(a,e,s){return OB(a,e,s)}async function OB(a,e,s){const r=tt(a);if(Pu(r.auth,e,qi),ys(r.auth.app))return Promise.reject(da(r.auth));await r.auth._initializationPromise;const i=Pc(r.auth,s);await ej(i,r.auth);const l=await IC(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",l)}function LB(a,e,s){return zB(a,e,s)}async function zB(a,e,s){const r=tt(a);Pu(r.auth,e,qi),await r.auth._initializationPromise;const i=Pc(r.auth,s);await kx(!1,r,e.providerId),await ej(i,r.auth);const l=await IC(r);return i._openRedirect(r.auth,e,"linkViaRedirect",l)}async function VB(a,e){return await ks(a)._initializationPromise,Ix(a,e,!1)}async function Ix(a,e,s=!1){if(ys(a.app))return Promise.reject(da(a));const r=ks(a),i=Pc(r,e),c=await new AB(r,i,s).execute();return c&&!s&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}async function IC(a){const e=hm(`${a.uid}:::`);return a._redirectEventId=e,await a.auth._setRedirectUser(a),await a.auth._persistUserIfCurrent(a),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=600*1e3;class RC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FB(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var r;if(e.error&&!PC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";s.onError(ea(this.auth,i))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UB&&this.cachedEventUids.clear(),this.cachedEventUids.has(pS(e))}saveEventToCache(e){this.cachedEventUids.add(pS(e)),this.lastProcessedEventTime=Date.now()}}function pS(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function PC({type:a,error:e}){return a==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FB(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PC(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(a,e={}){return Ms(a,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$B=/^https?/;async function qB(a){if(a.config.emulator)return;const{authorizedDomains:e}=await DC(a);for(const s of e)try{if(HB(s))return}catch{}Ea(a,"unauthorized-domain")}function HB(a){const e=Lf(),{protocol:s,hostname:r}=new URL(e);if(a.startsWith("chrome-extension://")){const c=new URL(a);return c.hostname===""&&r===""?s==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&c.hostname===r}if(!$B.test(s))return!1;if(BB.test(a))return r===a;const i=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=new om(3e4,6e4);function gS(){const a=Qs().___jsl;if(a!=null&&a.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let s=0;s<a.CP.length;s++)a.CP[s]=null}}function KB(a){return new Promise((e,s)=>{var i,l,c;function r(){gS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gS(),s(ea(a,"network-request-failed"))},timeout:GB.get()})}if((l=(i=Qs().gapi)==null?void 0:i.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Qs().gapi)!=null&&c.load)r();else{const f=lC("iframefcb");return Qs()[f]=()=>{gapi.load?r():s(ea(a,"network-request-failed"))},$w(`${FU()}?onload=${f}`).catch(u=>s(u))}}).catch(e=>{throw vg=null,e})}let vg=null;function WB(a){return vg=vg||KB(a),vg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=new om(5e3,15e3),QB="__/auth/iframe",JB="emulator/auth/iframe",XB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e7(a){const e=a.config;Ie(e.authDomain,a,"auth-domain-config-required");const s=e.emulator?Bw(e,JB):`https://${a.config.authDomain}/${QB}`,r={apiKey:e.apiKey,appName:a.name,v:ol},i=ZB.get(a.config.apiHost);i&&(r.eid=i);const l=a._getFrameworks();return l.length&&(r.fw=l.join(",")),`${s}?${Ru(r).slice(1)}`}async function t7(a){const e=await WB(a),s=Qs().gapi;return Ie(s,a,"internal-error"),e.open({where:document.body,url:e7(a),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XB,dontclear:!0},r=>new Promise(async(i,l)=>{await r.restyle({setHideOnLeave:!1});const c=ea(a,"network-request-failed"),f=Qs().setTimeout(()=>{l(c)},YB.get());function u(){Qs().clearTimeout(f),i(r)}r.ping(u).then(u,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a7=500,r7=600,n7="_blank",i7="http://localhost";class xS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o7(a,e,s,r=a7,i=r7){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const u={...s7,width:r.toString(),height:i.toString(),top:l,left:c},m=_s().toLowerCase();s&&(f=sC(m)?n7:s),eC(m)&&(e=e||i7,u.scrollbars="yes");const g=Object.entries(u).reduce((v,[E,N])=>`${v}${E}=${N},`,"");if(IU(m)&&f!=="_self")return l7(e||"",f),new xS(null);const b=window.open(e||"",f,g);Ie(b,a,"popup-blocked");try{b.focus()}catch{}return new xS(b)}function l7(a,e){const s=document.createElement("a");s.href=a,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7="__/auth/handler",d7="emulator/auth/handler",u7=encodeURIComponent("fac");async function wv(a,e,s,r,i,l){Ie(a.config.authDomain,a,"auth-domain-config-required"),Ie(a.config.apiKey,a,"invalid-api-key");const c={apiKey:a.config.apiKey,appName:a.name,authType:s,redirectUrl:r,v:ol,eventId:i};if(e instanceof qi){e.setDefaultLanguage(a.languageCode),c.providerId=e.providerId||"",M8(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries(l||{}))c[g]=b}if(e instanceof Mu){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(c.scopes=g.join(","))}a.tenantId&&(c.tid=a.tenantId);const f=c;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const u=await a._getAppCheckToken(),m=u?`#${u7}=${encodeURIComponent(u)}`:"";return`${h7(a)}?${Ru(f).slice(1)}${m}`}function h7({config:a}){return a.emulator?Bw(a,d7):`https://${a.authDomain}/${c7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="webStorageSupport";class f7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mc,this._completeRedirectFn=Ix,this._overrideRedirectResult=tj}async _openPopup(e,s,r,i){var c;kn((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await wv(e,s,r,Lf(),i);return o7(e,l,hm())}async _openRedirect(e,s,r,i){await this._originValidation(e);const l=await wv(e,s,r,Lf(),i);return tB(l),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:i,promise:l}=this.eventManagers[s];return i?Promise.resolve(i):(kn(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await t7(e),r=new RC(e);return s.register("authEvent",i=>(Ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Ob,{type:Ob},i=>{var c;const l=(c=i==null?void 0:i[0])==null?void 0:c[Ob];l!==void 0&&s(!!l),Ea(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=qB(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return iC()||tC()||cm()}}const m7=f7;class p7{constructor(e){this.factorId=e}_process(e,s,r){switch(s.type){case"enroll":return this._finalizeEnroll(e,s.credential,r);case"signin":return this._finalizeSignIn(e,s.credential);default:return Jn("unexpected MultiFactorSessionType")}}}class sj extends p7{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new sj(e)}_finalizeEnroll(e,s,r){return WF(e,{idToken:s,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,s){return dB(e,{mfaPendingCredential:s,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class MC{constructor(){}static assertion(e){return sj._fromCredential(e)}}MC.FACTOR_ID="phone";var yS="@firebase/auth",bS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y7(a){an(new Ga("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:c,authDomain:f,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oC(a)},m=new LU(r,i,l,u);return JU(m,s),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),an(new Ga("auth-internal",e=>{const s=ks(e.getProvider("auth").getImmediate());return(r=>new g7(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),$a(yS,bS,x7(a)),$a(yS,bS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7=300;_8("authIdTokenMaxAge");function v7(){var a;return((a=document.getElementsByTagName("head"))==null?void 0:a[0])??document}zU({loadJS(a){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=e,r.onerror=i=>{const l=ea("internal-error");l.customData=i,s(l)},r.type="text/javascript",r.charset="UTF-8",v7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y7("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=2e3;async function j7(a,e,s){const{BuildInfo:r}=gc();kn(e.sessionId,"AuthEvent did not contain a session ID");const i=await T7(e.sessionId),l={};return cm()?l.ibi=r.packageName:lm()?l.apn=r.packageName:Ea(a,"operation-not-supported-in-this-environment"),r.displayName&&(l.appDisplayName=r.displayName),l.sessionId=i,wv(a,s,e.type,void 0,e.eventId??void 0,l)}async function N7(a){const{BuildInfo:e}=gc(),s={};cm()?s.iosBundleId=e.packageName:lm()?s.androidPackageName=e.packageName:Ea(a,"operation-not-supported-in-this-environment"),await DC(a,s)}function _7(a){const{cordova:e}=gc();return new Promise(s=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(a):i=e.InAppBrowser.open(a,AU()?"_blank":"_system","location=yes"),s(i)})})}async function k7(a,e,s){const{cordova:r}=gc();let i=()=>{};try{await new Promise((l,c)=>{let f=null;function u(){var v;l();const b=(v=r.plugins.browsertab)==null?void 0:v.close;typeof b=="function"&&b(),typeof(s==null?void 0:s.close)=="function"&&s.close()}function m(){f||(f=window.setTimeout(()=>{c(ea(a,"redirect-cancelled-by-user"))},w7))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&m()}e.addPassiveListener(u),document.addEventListener("resume",m,!1),lm()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",m,!1),document.removeEventListener("visibilitychange",g,!1),f&&window.clearTimeout(f)}})}finally{i()}}function S7(a){var s,r,i,l,c,f,u,m,g,b;const e=gc();Ie(typeof((s=e==null?void 0:e.universalLinks)==null?void 0:s.subscribe)=="function",a,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ie(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ie(typeof((c=(l=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:l.browsertab)==null?void 0:c.openUrl)=="function",a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie(typeof((m=(u=(f=e==null?void 0:e.cordova)==null?void 0:f.plugins)==null?void 0:u.browsertab)==null?void 0:m.isAvailable)=="function",a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie(typeof((b=(g=e==null?void 0:e.cordova)==null?void 0:g.InAppBrowser)==null?void 0:b.open)=="function",a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function T7(a){const e=E7(a),s=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(s)).map(i=>i.toString(16).padStart(2,"0")).join("")}function E7(a){if(kn(/[0-9a-zA-Z]+/.test(a),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(a);const e=new ArrayBuffer(a.length),s=new Uint8Array(e);for(let r=0;r<a.length;r++)s[r]=a.charCodeAt(r);return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7=20;class A7 extends RC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(s=>s(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function I7(a,e,s=null){return{type:e,eventId:s,urlResponse:null,sessionId:D7(),postBody:null,tenantId:a.tenantId,error:ea(a,"no-auth-event")}}function R7(a,e){return jv()._set(Nv(a),e)}async function vS(a){const e=await jv()._get(Nv(a));return e&&await jv()._remove(Nv(a)),e}function P7(a,e){var r,i;const s=O7(e);if(s.includes("/__/auth/callback")){const l=wg(s),c=l.firebaseError?M7(decodeURIComponent(l.firebaseError)):null,f=(i=(r=c==null?void 0:c.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],u=f?ea(f):null;return u?{type:a.type,eventId:a.eventId,tenantId:a.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:a.type,eventId:a.eventId,tenantId:a.tenantId,sessionId:a.sessionId,urlResponse:s,postBody:null}}return null}function D7(){const a=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<C7;s++){const r=Math.floor(Math.random()*e.length);a.push(e.charAt(r))}return a.join("")}function jv(){return Tr(Qw)}function Nv(a){return ac("authEvent",a.config.apiKey,a.name)}function M7(a){try{return JSON.parse(a)}catch{return null}}function O7(a){const e=wg(a),s=e.link?decodeURIComponent(e.link):void 0,r=wg(s).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return wg(i).link||i||r||s||a}function wg(a){if(!(a!=null&&a.includes("?")))return{};const[e,...s]=a.split("?");return Ud(s.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=500;class z7{constructor(){this._redirectPersistence=mc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ix,this._overrideRedirectResult=tj}async _initialize(e){const s=e._key();let r=this.eventManagers.get(s);return r||(r=new A7(e),this.eventManagers.set(s,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Ea(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,s,r,i){S7(e);const l=await this._initialize(e);await l.initialized(),l.resetRedirect(),RB(),await this._originValidation(e);const c=I7(e,r,i);await R7(e,c);const f=await j7(e,c,s),u=await _7(f);return k7(e,l,u)}_isIframeWebStorageSupported(e,s){throw new Error("Method not implemented.")}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=N7(e)),this.originValidationPromises[s]}attachCallbackListeners(e,s){const{universalLinks:r,handleOpenURL:i,BuildInfo:l}=gc(),c=setTimeout(async()=>{await vS(e),s.onEvent(wS())},L7),f=async g=>{clearTimeout(c);const b=await vS(e);let v=null;b&&(g!=null&&g.url)&&(v=P7(b,g.url)),s.onEvent(v||wS())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,f);const u=i,m=`${l.packageName.toLowerCase()}://`;gc().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(m)&&f({url:g}),typeof u=="function")try{u(g)}catch(b){console.error(b)}}}}const V7=z7;function wS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ea("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(a,e){ks(a)._logFramework(e)}var F7="@firebase/auth-compat",B7="0.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=1e3;function wf(){var a;return((a=self==null?void 0:self.location)==null?void 0:a.protocol)||null}function q7(){return wf()==="http:"||wf()==="https:"}function OC(a=_s()){return!!((wf()==="file:"||wf()==="ionic:"||wf()==="capacitor:")&&a.toLowerCase().match(/iphone|ipad|ipod|android/))}function H7(){return Rw()||bx()}function G7(){return TE()&&(document==null?void 0:document.documentMode)===11}function K7(a=_s()){return/Edge\/\d+/.test(a)}function W7(a=_s()){return G7()||K7(a)}function LC(){try{const a=self.localStorage,e=hm();if(a)return a.setItem(e,"1"),a.removeItem(e),W7()?fc():!0}catch{return aj()&&fc()}return!1}function aj(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Lb(){return(q7()||vx()||OC())&&!H7()&&LC()&&!aj()}function zC(){return OC()&&typeof document<"u"}async function Y7(){return zC()?new Promise(a=>{const e=setTimeout(()=>{a(!1)},$7);document.addEventListener("deviceready",()=>{clearTimeout(e),a(!0)})}):!1}function Q7(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr={LOCAL:"local",NONE:"none",SESSION:"session"},Qh=Ie,VC="persistence";function J7(a,e){if(Qh(Object.values(kr).includes(e),a,"invalid-persistence-type"),Rw()){Qh(e!==kr.SESSION,a,"unsupported-persistence-type");return}if(bx()){Qh(e===kr.NONE,a,"unsupported-persistence-type");return}if(aj()){Qh(e===kr.NONE||e===kr.LOCAL&&fc(),a,"unsupported-persistence-type");return}Qh(e===kr.NONE||LC(),a,"unsupported-persistence-type")}async function _v(a){await a._initializationPromise;const e=UC(),s=ac(VC,a.config.apiKey,a.name);e&&e.setItem(s,a._getPersistenceType())}function X7(a,e){const s=UC();if(!s)return[];const r=ac(VC,a,e);switch(s.getItem(r)){case kr.NONE:return[iu];case kr.LOCAL:return[Uf,mc];case kr.SESSION:return[mc];default:return[]}}function UC(){var a;try{return((a=Q7())==null?void 0:a.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7=Ie;class Oo{constructor(){this.browserResolver=Tr(m7),this.cordovaResolver=Tr(V7),this.underlyingResolver=null,this._redirectPersistence=mc,this._completeRedirectFn=Ix,this._overrideRedirectResult=tj}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,s,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,s,r,i)}async _openRedirect(e,s,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,s,r,i)}_isIframeWebStorageSupported(e,s){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,s)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return zC()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Z7(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Y7();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(a){return a.unwrap()}function e$(a){return a.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(a){return BC(a)}function s$(a,e){var r;const s=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new a$(a,KF(a,e))}else if(s){const i=BC(e),l=e;i&&(l.credential=i,l.tenantId=s.tenantId||void 0,l.email=s.email||void 0,l.phoneNumber=s.phoneNumber||void 0)}}function BC(a){const{_tokenResponse:e}=a instanceof ka?a.customData:a;if(!e)return null;if(!(a instanceof ka)&&"temporaryProof"in e&&"phoneNumber"in e)return pc.credentialFromResult(a);const s=e.providerId;if(!s||s===Wh.PASSWORD)return null;let r;switch(s){case Wh.GOOGLE:r=Wn;break;case Wh.FACEBOOK:r=Kn;break;case Wh.GITHUB:r=Yn;break;case Wh.TWITTER:r=Qn;break;default:const{oauthIdToken:i,oauthAccessToken:l,oauthTokenSecret:c,pendingToken:f,nonce:u}=e;return!l&&!c&&!i&&!f?null:f?s.startsWith("saml.")?ou._create(s,f):ni._fromParams({providerId:s,signInMethod:s,pendingToken:f,idToken:i,accessToken:l}):new Gd(s).credential({idToken:i,accessToken:l,rawNonce:u})}return a instanceof ka?r.credentialFromError(a):r.credentialFromResult(a)}function rr(a,e){return e.catch(s=>{throw s instanceof ka&&s$(a,s),s}).then(s=>{const r=s.operationType,i=s.user;return{operationType:r,credential:t$(s),additionalUserInfo:GF(s),user:Rx.getOrCreate(i)}})}async function kv(a,e){const s=await e;return{verificationId:s.verificationId,confirm:r=>rr(a,s.confirm(r))}}class a${constructor(e,s){this.resolver=s,this.auth=e$(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return rr(FC(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rx=class cf{constructor(e){this._delegate=e,this.multiFactor=QF(e)}static getOrCreate(e){return cf.USER_MAP.has(e)||cf.USER_MAP.set(e,new cf(e)),cf.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return rr(this.auth,xC(this._delegate,e))}async linkWithPhoneNumber(e,s){return kv(this.auth,bB(this._delegate,e,s))}async linkWithPopup(e){return rr(this.auth,EB(this._delegate,e,Oo))}async linkWithRedirect(e){return await _v(ks(this.auth)),LB(this._delegate,e,Oo)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return rr(this.auth,yC(this._delegate,e))}reauthenticateWithPhoneNumber(e,s){return kv(this.auth,vB(this._delegate,e,s))}reauthenticateWithPopup(e){return rr(this.auth,TB(this._delegate,e,Oo))}async reauthenticateWithRedirect(e){return await _v(ks(this.auth)),MB(this._delegate,e,Oo)}sendEmailVerification(e){return MF(this._delegate,e)}async unlink(e){return await wF(this._delegate,e),this}updateEmail(e){return VF(this._delegate,e)}updatePassword(e){return UF(this._delegate,e)}updatePhoneNumber(e){return wB(this._delegate,e)}updateProfile(e){return zF(this._delegate,e)}verifyBeforeUpdateEmail(e,s){return OF(this._delegate,e,s)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Rx.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=Ie;class Sv{constructor(e,s){if(this.app=e,s.isInitialized()){this._delegate=s.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Jh(r,"invalid-api-key",{appName:e.name}),Jh(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Oo:void 0;this._delegate=s.initialize({options:{persistence:r$(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(dU),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Rx.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,s){XU(this._delegate,e,s)}applyActionCode(e){return SF(this._delegate,e)}checkActionCode(e){return bC(this._delegate,e)}confirmPasswordReset(e,s){return kF(this._delegate,e,s)}async createUserWithEmailAndPassword(e,s){return rr(this._delegate,EF(this._delegate,e,s))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return DF(this._delegate,e)}isSignInWithEmailLink(e){return IF(this._delegate,e)}async getRedirectResult(){Jh(Lb(),this._delegate,"operation-not-supported-in-this-environment");const e=await VB(this._delegate,Oo);return e?rr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){U7(this._delegate,e)}onAuthStateChanged(e,s,r){const{next:i,error:l,complete:c}=jS(e,s,r);return this._delegate.onAuthStateChanged(i,l,c)}onIdTokenChanged(e,s,r){const{next:i,error:l,complete:c}=jS(e,s,r);return this._delegate.onIdTokenChanged(i,l,c)}sendSignInLinkToEmail(e,s){return AF(this._delegate,e,s)}sendPasswordResetEmail(e,s){return _F(this._delegate,e,s||void 0)}async setPersistence(e){J7(this._delegate,e);let s;switch(e){case kr.SESSION:s=mc;break;case kr.LOCAL:s=await Tr(Uf)._isAvailable()?Uf:Qw;break;case kr.NONE:s=iu;break;default:return Ea("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(s)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return rr(this._delegate,vF(this._delegate))}signInWithCredential(e){return rr(this._delegate,Sx(this._delegate,e))}signInWithCustomToken(e){return rr(this._delegate,NF(this._delegate,e))}signInWithEmailAndPassword(e,s){return rr(this._delegate,CF(this._delegate,e,s))}signInWithEmailLink(e,s){return rr(this._delegate,RF(this._delegate,e,s))}signInWithPhoneNumber(e,s){return kv(this._delegate,yB(this._delegate,e,s))}async signInWithPopup(e){return Jh(Lb(),this._delegate,"operation-not-supported-in-this-environment"),rr(this._delegate,SB(this._delegate,e,Oo))}async signInWithRedirect(e){return Jh(Lb(),this._delegate,"operation-not-supported-in-this-environment"),await _v(this._delegate),PB(this._delegate,e,Oo)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return TF(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Sv.Persistence=kr;function jS(a,e,s){let r=a;typeof a!="function"&&({next:r,error:e,complete:s}=a);const i=r;return{next:c=>i(c&&Rx.getOrCreate(c)),error:e,complete:s}}function r$(a,e){const s=X7(a,e);if(typeof self<"u"&&!s.includes(Uf)&&s.push(Uf),typeof window<"u")for(const r of[Qw,mc])s.includes(r)||s.push(r);return s.includes(iu)||s.push(iu),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{static credential(e,s){return pc.credential(e,s)}constructor(){this.providerId="phone",this._delegate=new pc(FC(ll.auth()))}verifyPhoneNumber(e,s){return this._delegate.verifyPhoneNumber(e,s)}unwrap(){return this._delegate}}rj.PHONE_SIGN_IN_METHOD=pc.PHONE_SIGN_IN_METHOD;rj.PROVIDER_ID=pc.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$=Ie;class i${constructor(e,s,r=ll.app()){var i;n$((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new gB(r.auth(),e,s),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$="auth-compat";function l$(a){a.INTERNAL.registerComponent(new Ga(o$,e=>{const s=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Sv(s,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Td.EMAIL_SIGNIN,PASSWORD_RESET:Td.PASSWORD_RESET,RECOVER_EMAIL:Td.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Td.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Td.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Td.VERIFY_EMAIL}},EmailAuthProvider:cl,FacebookAuthProvider:Kn,GithubAuthProvider:Yn,GoogleAuthProvider:Wn,OAuthProvider:Gd,SAMLAuthProvider:$g,PhoneAuthProvider:rj,PhoneMultiFactorGenerator:MC,RecaptchaVerifier:i$,TwitterAuthProvider:Qn,Auth:Sv,AuthCredential:Du,Error:ka}).setInstantiationMode("LAZY").setMultipleInstances(!1)),a.registerVersion(F7,B7)}l$(ll);var NS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $o,$C;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,R){function _(){}_.prototype=R.prototype,C.F=R.prototype,C.prototype=new _,C.prototype.constructor=C,C.D=function(P,D,z){for(var I=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)I[Z-2]=arguments[Z];return R.prototype[D].apply(P,I)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,s),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,R,_){_||(_=0);const P=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)P[D]=R.charCodeAt(_++)|R.charCodeAt(_++)<<8|R.charCodeAt(_++)<<16|R.charCodeAt(_++)<<24;else for(D=0;D<16;++D)P[D]=R[_++]|R[_++]<<8|R[_++]<<16|R[_++]<<24;R=C.g[0],_=C.g[1],D=C.g[2];let z=C.g[3],I;I=R+(z^_&(D^z))+P[0]+3614090360&4294967295,R=_+(I<<7&4294967295|I>>>25),I=z+(D^R&(_^D))+P[1]+3905402710&4294967295,z=R+(I<<12&4294967295|I>>>20),I=D+(_^z&(R^_))+P[2]+606105819&4294967295,D=z+(I<<17&4294967295|I>>>15),I=_+(R^D&(z^R))+P[3]+3250441966&4294967295,_=D+(I<<22&4294967295|I>>>10),I=R+(z^_&(D^z))+P[4]+4118548399&4294967295,R=_+(I<<7&4294967295|I>>>25),I=z+(D^R&(_^D))+P[5]+1200080426&4294967295,z=R+(I<<12&4294967295|I>>>20),I=D+(_^z&(R^_))+P[6]+2821735955&4294967295,D=z+(I<<17&4294967295|I>>>15),I=_+(R^D&(z^R))+P[7]+4249261313&4294967295,_=D+(I<<22&4294967295|I>>>10),I=R+(z^_&(D^z))+P[8]+1770035416&4294967295,R=_+(I<<7&4294967295|I>>>25),I=z+(D^R&(_^D))+P[9]+2336552879&4294967295,z=R+(I<<12&4294967295|I>>>20),I=D+(_^z&(R^_))+P[10]+4294925233&4294967295,D=z+(I<<17&4294967295|I>>>15),I=_+(R^D&(z^R))+P[11]+2304563134&4294967295,_=D+(I<<22&4294967295|I>>>10),I=R+(z^_&(D^z))+P[12]+1804603682&4294967295,R=_+(I<<7&4294967295|I>>>25),I=z+(D^R&(_^D))+P[13]+4254626195&4294967295,z=R+(I<<12&4294967295|I>>>20),I=D+(_^z&(R^_))+P[14]+2792965006&4294967295,D=z+(I<<17&4294967295|I>>>15),I=_+(R^D&(z^R))+P[15]+1236535329&4294967295,_=D+(I<<22&4294967295|I>>>10),I=R+(D^z&(_^D))+P[1]+4129170786&4294967295,R=_+(I<<5&4294967295|I>>>27),I=z+(_^D&(R^_))+P[6]+3225465664&4294967295,z=R+(I<<9&4294967295|I>>>23),I=D+(R^_&(z^R))+P[11]+643717713&4294967295,D=z+(I<<14&4294967295|I>>>18),I=_+(z^R&(D^z))+P[0]+3921069994&4294967295,_=D+(I<<20&4294967295|I>>>12),I=R+(D^z&(_^D))+P[5]+3593408605&4294967295,R=_+(I<<5&4294967295|I>>>27),I=z+(_^D&(R^_))+P[10]+38016083&4294967295,z=R+(I<<9&4294967295|I>>>23),I=D+(R^_&(z^R))+P[15]+3634488961&4294967295,D=z+(I<<14&4294967295|I>>>18),I=_+(z^R&(D^z))+P[4]+3889429448&4294967295,_=D+(I<<20&4294967295|I>>>12),I=R+(D^z&(_^D))+P[9]+568446438&4294967295,R=_+(I<<5&4294967295|I>>>27),I=z+(_^D&(R^_))+P[14]+3275163606&4294967295,z=R+(I<<9&4294967295|I>>>23),I=D+(R^_&(z^R))+P[3]+4107603335&4294967295,D=z+(I<<14&4294967295|I>>>18),I=_+(z^R&(D^z))+P[8]+1163531501&4294967295,_=D+(I<<20&4294967295|I>>>12),I=R+(D^z&(_^D))+P[13]+2850285829&4294967295,R=_+(I<<5&4294967295|I>>>27),I=z+(_^D&(R^_))+P[2]+4243563512&4294967295,z=R+(I<<9&4294967295|I>>>23),I=D+(R^_&(z^R))+P[7]+1735328473&4294967295,D=z+(I<<14&4294967295|I>>>18),I=_+(z^R&(D^z))+P[12]+2368359562&4294967295,_=D+(I<<20&4294967295|I>>>12),I=R+(_^D^z)+P[5]+4294588738&4294967295,R=_+(I<<4&4294967295|I>>>28),I=z+(R^_^D)+P[8]+2272392833&4294967295,z=R+(I<<11&4294967295|I>>>21),I=D+(z^R^_)+P[11]+1839030562&4294967295,D=z+(I<<16&4294967295|I>>>16),I=_+(D^z^R)+P[14]+4259657740&4294967295,_=D+(I<<23&4294967295|I>>>9),I=R+(_^D^z)+P[1]+2763975236&4294967295,R=_+(I<<4&4294967295|I>>>28),I=z+(R^_^D)+P[4]+1272893353&4294967295,z=R+(I<<11&4294967295|I>>>21),I=D+(z^R^_)+P[7]+4139469664&4294967295,D=z+(I<<16&4294967295|I>>>16),I=_+(D^z^R)+P[10]+3200236656&4294967295,_=D+(I<<23&4294967295|I>>>9),I=R+(_^D^z)+P[13]+681279174&4294967295,R=_+(I<<4&4294967295|I>>>28),I=z+(R^_^D)+P[0]+3936430074&4294967295,z=R+(I<<11&4294967295|I>>>21),I=D+(z^R^_)+P[3]+3572445317&4294967295,D=z+(I<<16&4294967295|I>>>16),I=_+(D^z^R)+P[6]+76029189&4294967295,_=D+(I<<23&4294967295|I>>>9),I=R+(_^D^z)+P[9]+3654602809&4294967295,R=_+(I<<4&4294967295|I>>>28),I=z+(R^_^D)+P[12]+3873151461&4294967295,z=R+(I<<11&4294967295|I>>>21),I=D+(z^R^_)+P[15]+530742520&4294967295,D=z+(I<<16&4294967295|I>>>16),I=_+(D^z^R)+P[2]+3299628645&4294967295,_=D+(I<<23&4294967295|I>>>9),I=R+(D^(_|~z))+P[0]+4096336452&4294967295,R=_+(I<<6&4294967295|I>>>26),I=z+(_^(R|~D))+P[7]+1126891415&4294967295,z=R+(I<<10&4294967295|I>>>22),I=D+(R^(z|~_))+P[14]+2878612391&4294967295,D=z+(I<<15&4294967295|I>>>17),I=_+(z^(D|~R))+P[5]+4237533241&4294967295,_=D+(I<<21&4294967295|I>>>11),I=R+(D^(_|~z))+P[12]+1700485571&4294967295,R=_+(I<<6&4294967295|I>>>26),I=z+(_^(R|~D))+P[3]+2399980690&4294967295,z=R+(I<<10&4294967295|I>>>22),I=D+(R^(z|~_))+P[10]+4293915773&4294967295,D=z+(I<<15&4294967295|I>>>17),I=_+(z^(D|~R))+P[1]+2240044497&4294967295,_=D+(I<<21&4294967295|I>>>11),I=R+(D^(_|~z))+P[8]+1873313359&4294967295,R=_+(I<<6&4294967295|I>>>26),I=z+(_^(R|~D))+P[15]+4264355552&4294967295,z=R+(I<<10&4294967295|I>>>22),I=D+(R^(z|~_))+P[6]+2734768916&4294967295,D=z+(I<<15&4294967295|I>>>17),I=_+(z^(D|~R))+P[13]+1309151649&4294967295,_=D+(I<<21&4294967295|I>>>11),I=R+(D^(_|~z))+P[4]+4149444226&4294967295,R=_+(I<<6&4294967295|I>>>26),I=z+(_^(R|~D))+P[11]+3174756917&4294967295,z=R+(I<<10&4294967295|I>>>22),I=D+(R^(z|~_))+P[2]+718787259&4294967295,D=z+(I<<15&4294967295|I>>>17),I=_+(z^(D|~R))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+z&4294967295}r.prototype.v=function(C,R){R===void 0&&(R=C.length);const _=R-this.blockSize,P=this.C;let D=this.h,z=0;for(;z<R;){if(D==0)for(;z<=_;)i(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<R;)if(P[D++]=C.charCodeAt(z++),D==this.blockSize){i(this,P),D=0;break}}else for(;z<R;)if(P[D++]=C[z++],D==this.blockSize){i(this,P),D=0;break}}this.h=D,this.o+=R},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var _=C.length-8;_<C.length;++_)C[_]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,_=0;_<4;++_)for(let P=0;P<32;P+=8)C[R++]=this.g[_]>>>P&255;return C};function l(C,R){var _=f;return Object.prototype.hasOwnProperty.call(_,C)?_[C]:_[C]=R(C)}function c(C,R){this.h=R;const _=[];let P=!0;for(let D=C.length-1;D>=0;D--){const z=C[D]|0;P&&z==R||(_[D]=z,P=!1)}this.g=_}var f={};function u(C){return-128<=C&&C<128?l(C,function(R){return new c([R|0],R<0?-1:0)}):new c([C|0],C<0?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return T(m(-C));const R=[];let _=1;for(let P=0;C>=_;P++)R[P]=C/_|0,_*=4294967296;return new c(R,0)}function g(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return T(g(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=m(Math.pow(R,8));let P=b;for(let z=0;z<C.length;z+=8){var D=Math.min(8,C.length-z);const I=parseInt(C.substring(z,z+D),R);D<8?(D=m(Math.pow(R,D)),P=P.j(D).add(m(I))):(P=P.j(_),P=P.add(m(I)))}return P}var b=u(0),v=u(1),E=u(16777216);a=c.prototype,a.m=function(){if(S(this))return-T(this).m();let C=0,R=1;for(let _=0;_<this.g.length;_++){const P=this.i(_);C+=(P>=0?P:4294967296+P)*R,R*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(S(this))return"-"+T(this).toString(C);const R=m(Math.pow(C,6));var _=this;let P="";for(;;){const D=L(_,R).g;_=O(_,D.j(R));let z=((_.g.length>0?_.g[0]:_.h)>>>0).toString(C);if(_=D,N(_))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function S(C){return C.h==-1}a.l=function(C){return C=O(this,C),S(C)?-1:N(C)?0:1};function T(C){const R=C.g.length,_=[];for(let P=0;P<R;P++)_[P]=~C.g[P];return new c(_,~C.h).add(v)}a.abs=function(){return S(this)?T(this):this},a.add=function(C){const R=Math.max(this.g.length,C.g.length),_=[];let P=0;for(let D=0;D<=R;D++){let z=P+(this.i(D)&65535)+(C.i(D)&65535),I=(z>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);P=I>>>16,z&=65535,I&=65535,_[D]=I<<16|z}return new c(_,_[_.length-1]&-2147483648?-1:0)};function O(C,R){return C.add(T(R))}a.j=function(C){if(N(this)||N(C))return b;if(S(this))return S(C)?T(this).j(T(C)):T(T(this).j(C));if(S(C))return T(this.j(T(C)));if(this.l(E)<0&&C.l(E)<0)return m(this.m()*C.m());const R=this.g.length+C.g.length,_=[];for(var P=0;P<2*R;P++)_[P]=0;for(P=0;P<this.g.length;P++)for(let D=0;D<C.g.length;D++){const z=this.i(P)>>>16,I=this.i(P)&65535,Z=C.i(D)>>>16,Ee=C.i(D)&65535;_[2*P+2*D]+=I*Ee,U(_,2*P+2*D),_[2*P+2*D+1]+=z*Ee,U(_,2*P+2*D+1),_[2*P+2*D+1]+=I*Z,U(_,2*P+2*D+1),_[2*P+2*D+2]+=z*Z,U(_,2*P+2*D+2)}for(C=0;C<R;C++)_[C]=_[2*C+1]<<16|_[2*C];for(C=R;C<2*R;C++)_[C]=0;return new c(_,0)};function U(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function M(C,R){this.g=C,this.h=R}function L(C,R){if(N(R))throw Error("division by zero");if(N(C))return new M(b,b);if(S(C))return R=L(T(C),R),new M(T(R.g),T(R.h));if(S(R))return R=L(C,T(R)),new M(T(R.g),R.h);if(C.g.length>30){if(S(C)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var _=v,P=R;P.l(C)<=0;)_=$(_),P=$(P);var D=X(_,1),z=X(P,1);for(P=X(P,2),_=X(_,2);!N(P);){var I=z.add(P);I.l(C)<=0&&(D=D.add(_),z=I),P=X(P,1),_=X(_,1)}return R=O(C,D.j(R)),new M(D,R)}for(D=b;C.l(R)>=0;){for(_=Math.max(1,Math.floor(C.m()/R.m())),P=Math.ceil(Math.log(_)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=m(_),I=z.j(R);S(I)||I.l(C)>0;)_-=P,z=m(_),I=z.j(R);N(z)&&(z=v),D=D.add(z),C=O(C,I)}return new M(D,C)}a.B=function(C){return L(this,C).h},a.and=function(C){const R=Math.max(this.g.length,C.g.length),_=[];for(let P=0;P<R;P++)_[P]=this.i(P)&C.i(P);return new c(_,this.h&C.h)},a.or=function(C){const R=Math.max(this.g.length,C.g.length),_=[];for(let P=0;P<R;P++)_[P]=this.i(P)|C.i(P);return new c(_,this.h|C.h)},a.xor=function(C){const R=Math.max(this.g.length,C.g.length),_=[];for(let P=0;P<R;P++)_[P]=this.i(P)^C.i(P);return new c(_,this.h^C.h)};function $(C){const R=C.g.length+1,_=[];for(let P=0;P<R;P++)_[P]=C.i(P)<<1|C.i(P-1)>>>31;return new c(_,C.h)}function X(C,R){const _=R>>5;R%=32;const P=C.g.length-_,D=[];for(let z=0;z<P;z++)D[z]=R>0?C.i(z+_)>>>R|C.i(z+_+1)<<32-R:C.i(z+_);return new c(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$C=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,$o=c}).apply(typeof NS<"u"?NS:typeof self<"u"?self:typeof window<"u"?window:{});var ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qC,df,HC,jg,Tv,GC,KC,WC;(function(){var a,e=Object.defineProperty;function s(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof ng=="object"&&ng];for(var j=0;j<p.length;++j){var A=p[j];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=s(this);function i(p,j){if(j)e:{var A=r;p=p.split(".");for(var q=0;q<p.length-1;q++){var ce=p[q];if(!(ce in A))break e;A=A[ce]}p=p[p.length-1],q=A[p],j=j(q),j!=q&&j!=null&&e(A,p,{configurable:!0,writable:!0,value:j})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(j){var A=[],q;for(q in j)Object.prototype.hasOwnProperty.call(j,q)&&A.push([q,j[q]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(p){var j=typeof p;return j=="object"&&p!=null||j=="function"}function u(p,j,A){return p.call.apply(p.bind,arguments)}function m(p,j,A){return m=u,m.apply(null,arguments)}function g(p,j){var A=Array.prototype.slice.call(arguments,1);return function(){var q=A.slice();return q.push.apply(q,arguments),p.apply(this,q)}}function b(p,j){function A(){}A.prototype=j.prototype,p.Z=j.prototype,p.prototype=new A,p.prototype.constructor=p,p.Ob=function(q,ce,xe){for(var Oe=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)Oe[ht-2]=arguments[ht];return j.prototype[ce].apply(q,Oe)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function E(p){const j=p.length;if(j>0){const A=Array(j);for(let q=0;q<j;q++)A[q]=p[q];return A}return[]}function N(p,j){for(let q=1;q<arguments.length;q++){const ce=arguments[q];var A=typeof ce;if(A=A!="object"?A:ce?Array.isArray(ce)?"array":A:"null",A=="array"||A=="object"&&typeof ce.length=="number"){A=p.length||0;const xe=ce.length||0;p.length=A+xe;for(let Oe=0;Oe<xe;Oe++)p[A+Oe]=ce[Oe]}else p.push(ce)}}class S{constructor(j,A){this.i=j,this.j=A,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function T(p){c.setTimeout(()=>{throw p},0)}function O(){var p=C;let j=null;return p.g&&(j=p.g,p.g=p.g.next,p.g||(p.h=null),j.next=null),j}class U{constructor(){this.h=this.g=null}add(j,A){const q=M.get();q.set(j,A),this.h?this.h.next=q:this.g=q,this.h=q}}var M=new S(()=>new L,p=>p.reset());class L{constructor(){this.next=this.g=this.h=null}set(j,A){this.h=j,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let $,X=!1,C=new U,R=()=>{const p=Promise.resolve(void 0);$=()=>{p.then(_)}};function _(){for(var p;p=O();){try{p.h.call(p.g)}catch(A){T(A)}var j=M;j.j(p),j.h<100&&(j.h++,p.next=j.g,j.g=p)}X=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(p,j){this.type=p,this.g=this.target=j,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,j=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const A=()=>{};c.addEventListener("test",A,j),c.removeEventListener("test",A,j)}catch{}return p})();function I(p){return/^[\s\xa0]*$/.test(p)}function Z(p,j){D.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,j)}b(Z,D),Z.prototype.init=function(p,j){const A=this.type=p.type,q=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=j,j=p.relatedTarget,j||(A=="mouseover"?j=p.fromElement:A=="mouseout"&&(j=p.toElement)),this.relatedTarget=j,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),te=0;function G(p,j,A,q,ce){this.listener=p,this.proxy=null,this.src=j,this.type=A,this.capture=!!q,this.ha=ce,this.key=++te,this.da=this.fa=!1}function ye(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Re(p,j,A){for(const q in p)j.call(A,p[q],q,p)}function Pe(p,j){for(const A in p)j.call(void 0,p[A],A,p)}function K(p){const j={};for(const A in p)j[A]=p[A];return j}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(p,j){let A,q;for(let ce=1;ce<arguments.length;ce++){q=arguments[ce];for(A in q)p[A]=q[A];for(let xe=0;xe<W.length;xe++)A=W[xe],Object.prototype.hasOwnProperty.call(q,A)&&(p[A]=q[A])}}function F(p){this.src=p,this.g={},this.h=0}F.prototype.add=function(p,j,A,q,ce){const xe=p.toString();p=this.g[xe],p||(p=this.g[xe]=[],this.h++);const Oe=je(p,j,q,ce);return Oe>-1?(j=p[Oe],A||(j.fa=!1)):(j=new G(j,this.src,xe,!!q,ce),j.fa=A,p.push(j)),j};function se(p,j){const A=j.type;if(A in p.g){var q=p.g[A],ce=Array.prototype.indexOf.call(q,j,void 0),xe;(xe=ce>=0)&&Array.prototype.splice.call(q,ce,1),xe&&(ye(j),p.g[A].length==0&&(delete p.g[A],p.h--))}}function je(p,j,A,q){for(let ce=0;ce<p.length;++ce){const xe=p[ce];if(!xe.da&&xe.listener==j&&xe.capture==!!A&&xe.ha==q)return ce}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),Le={};function ze(p,j,A,q,ce){if(Array.isArray(j)){for(let xe=0;xe<j.length;xe++)ze(p,j[xe],A,q,ce);return null}return A=re(A),p&&p[Ee]?p.J(j,A,f(q)?!!q.capture:!1,ce):J(p,j,A,!1,q,ce)}function J(p,j,A,q,ce,xe){if(!j)throw Error("Invalid event type");const Oe=f(ce)?!!ce.capture:!!ce;let ht=yt(p);if(ht||(p[Ce]=ht=new F(p)),A=ht.add(j,A,q,Oe,xe),A.proxy)return A;if(q=Qe(),A.proxy=q,q.src=p,q.listener=A,p.addEventListener)z||(ce=Oe),ce===void 0&&(ce=!1),p.addEventListener(j.toString(),q,ce);else if(p.attachEvent)p.attachEvent(Ne(j.toString()),q);else if(p.addListener&&p.removeListener)p.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Qe(){function p(A){return j.call(p.src,p.listener,A)}const j=Me;return p}function Ze(p,j,A,q,ce){if(Array.isArray(j))for(var xe=0;xe<j.length;xe++)Ze(p,j[xe],A,q,ce);else q=f(q)?!!q.capture:!!q,A=re(A),p&&p[Ee]?(p=p.i,xe=String(j).toString(),xe in p.g&&(j=p.g[xe],A=je(j,A,q,ce),A>-1&&(ye(j[A]),Array.prototype.splice.call(j,A,1),j.length==0&&(delete p.g[xe],p.h--)))):p&&(p=yt(p))&&(j=p.g[j.toString()],p=-1,j&&(p=je(j,A,q,ce)),(A=p>-1?j[p]:null)&&lt(A))}function lt(p){if(typeof p!="number"&&p&&!p.da){var j=p.src;if(j&&j[Ee])se(j.i,p);else{var A=p.type,q=p.proxy;j.removeEventListener?j.removeEventListener(A,q,p.capture):j.detachEvent?j.detachEvent(Ne(A),q):j.addListener&&j.removeListener&&j.removeListener(q),(A=yt(j))?(se(A,p),A.h==0&&(A.src=null,j[Ce]=null)):ye(p)}}}function Ne(p){return p in Le?Le[p]:Le[p]="on"+p}function Me(p,j){if(p.da)p=!0;else{j=new Z(j,this);const A=p.listener,q=p.ha||p.src;p.fa&&lt(p),p=A.call(q,j)}return p}function yt(p){return p=p[Ce],p instanceof F?p:null}var we="__closure_events_fn_"+(Math.random()*1e9>>>0);function re(p){return typeof p=="function"?p:(p[we]||(p[we]=function(j){return p.handleEvent(j)}),p[we])}function qe(){P.call(this),this.i=new F(this),this.M=this,this.G=null}b(qe,P),qe.prototype[Ee]=!0,qe.prototype.removeEventListener=function(p,j,A,q){Ze(this,p,j,A,q)};function rt(p,j){var A,q=p.G;if(q)for(A=[];q;q=q.G)A.push(q);if(p=p.M,q=j.type||j,typeof j=="string")j=new D(j,p);else if(j instanceof D)j.target=j.target||p;else{var ce=j;j=new D(q,p),B(j,ce)}ce=!0;let xe,Oe;if(A)for(Oe=A.length-1;Oe>=0;Oe--)xe=j.g=A[Oe],ce=ie(xe,q,!0,j)&&ce;if(xe=j.g=p,ce=ie(xe,q,!0,j)&&ce,ce=ie(xe,q,!1,j)&&ce,A)for(Oe=0;Oe<A.length;Oe++)xe=j.g=A[Oe],ce=ie(xe,q,!1,j)&&ce}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var p=this.i;for(const j in p.g){const A=p.g[j];for(let q=0;q<A.length;q++)ye(A[q]);delete p.g[j],p.h--}}this.G=null},qe.prototype.J=function(p,j,A,q){return this.i.add(String(p),j,!1,A,q)},qe.prototype.K=function(p,j,A,q){return this.i.add(String(p),j,!0,A,q)};function ie(p,j,A,q){if(j=p.i.g[String(j)],!j)return!0;j=j.concat();let ce=!0;for(let xe=0;xe<j.length;++xe){const Oe=j[xe];if(Oe&&!Oe.da&&Oe.capture==A){const ht=Oe.listener,Os=Oe.ha||Oe.src;Oe.fa&&se(p.i,Oe),ce=ht.call(Os,q)!==!1&&ce}}return ce&&!q.defaultPrevented}function Ue(p,j){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=m(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:c.setTimeout(p,j||0)}function is(p){p.g=Ue(()=>{p.g=null,p.i&&(p.i=!1,is(p))},p.l);const j=p.h;p.h=null,p.m.apply(null,j)}class It extends P{constructor(j,A){super(),this.m=j,this.l=A,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:is(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(p){P.call(this),this.h=p,this.g={}}b(Ss,P);var fe=[];function he(p){Re(p.g,function(j,A){this.g.hasOwnProperty(A)&&lt(j)},p),p.g={}}Ss.prototype.N=function(){Ss.Z.N.call(this),he(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var De=c.JSON.stringify,nt=c.JSON.parse,ut=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function _t(){}function Ut(){}var Mt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function os(){D.call(this,"d")}b(os,D);function hs(){D.call(this,"c")}b(hs,D);var Ft={},Yi=null;function Tn(){return Yi=Yi||new qe}Ft.Ia="serverreachability";function nn(p){D.call(this,Ft.Ia,p)}b(nn,D);function aa(p){const j=Tn();rt(j,new nn(j))}Ft.STAT_EVENT="statevent";function Mr(p,j){D.call(this,Ft.STAT_EVENT,p),this.stat=j}b(Mr,D);function ls(p){const j=Tn();rt(j,new Mr(j,p))}Ft.Ja="timingevent";function Ca(p,j){D.call(this,Ft.Ja,p),this.size=j}b(Ca,D);function ae(p,j){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},j)}function Ge(){this.g=!0}Ge.prototype.ua=function(){this.g=!1};function pt(p,j,A,q,ce,xe){p.info(function(){if(p.g)if(xe){var Oe="",ht=xe.split("&");for(let Lt=0;Lt<ht.length;Lt++){var Os=ht[Lt].split("=");if(Os.length>1){const ms=Os[0];Os=Os[1];const Vr=ms.split("_");Oe=Vr.length>=2&&Vr[1]=="type"?Oe+(ms+"="+Os+"&"):Oe+(ms+"=redacted&")}}}else Oe=null;else Oe=xe;return"XMLHTTP REQ ("+q+") [attempt "+ce+"]: "+j+`
`+A+`
`+Oe})}function Zt(p,j,A,q,ce,xe,Oe){p.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ce+"]: "+j+`
`+A+`
`+xe+" "+Oe})}function Y(p,j,A,q){p.info(function(){return"XMLHTTP TEXT ("+j+"): "+it(p,A)+(q?" "+q:"")})}function Be(p,j){p.info(function(){return"TIMEOUT: "+j})}Ge.prototype.info=function(){};function it(p,j){if(!p.g)return j;if(!j)return null;try{const xe=JSON.parse(j);if(xe){for(p=0;p<xe.length;p++)if(Array.isArray(xe[p])){var A=xe[p];if(!(A.length<2)){var q=A[1];if(Array.isArray(q)&&!(q.length<1)){var ce=q[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(let Oe=1;Oe<q.length;Oe++)q[Oe]=""}}}}return De(xe)}catch{return j}}var kt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$t={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ot;function fs(){}b(fs,_t),fs.prototype.g=function(){return new XMLHttpRequest},Ot=new fs;function js(p){return encodeURIComponent(String(p))}function Wa(p){var j=1;p=p.split(":");const A=[];for(;j>0&&p.length;)A.push(p.shift()),j--;return p.length&&A.push(p.join(":")),A}function Ya(p,j,A,q){this.j=p,this.i=j,this.l=A,this.S=q||1,this.V=new Ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qa}function Qa(){this.i=null,this.g="",this.h=!1}var Bs={},ra={};function En(p,j,A){p.M=1,p.A=pl(qs(j)),p.u=A,p.R=!0,zc(p,null)}function zc(p,j){p.F=Date.now(),Cn(p),p.B=qs(p.A);var A=p.B,q=p.S;Array.isArray(q)||(q=[String(q)]),Bc(A.i,"t",q),p.C=0,A=p.j.L,p.h=new Qa,p.g=qm(p.j,A?j:null,!p.u),p.P>0&&(p.O=new It(m(p.Y,p,p.g),p.P)),j=p.V,A=p.g,q=p.ba;var ce="readystatechange";Array.isArray(ce)||(ce&&(fe[0]=ce.toString()),ce=fe);for(let xe=0;xe<ce.length;xe++){const Oe=ze(A,ce[xe],q||j.handleEvent,!1,j.h||j);if(!Oe)break;j.g[Oe.key]=Oe}j=p.J?K(p.J):{},p.u?(p.v||(p.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,j)):(p.v="GET",p.g.ea(p.B,p.v,null,j)),aa(),pt(p.i,p.v,p.B,p.l,p.S,p.u)}Ya.prototype.ba=function(p){p=p.target;const j=this.O;j&&cn(p)==3?j.j():this.Y(p)},Ya.prototype.Y=function(p){try{if(p==this.g)e:{const ht=cn(this.g),Os=this.g.ya(),Lt=this.g.ca();if(!(ht<3)&&(ht!=3||this.g&&(this.h.h||this.g.la()||ha(this.g)))){this.K||ht!=4||Os==7||(Os==8||Lt<=0?aa(3):aa(2)),An(this);var j=this.g.ca();this.X=j;var A=i0(this);if(this.o=j==200,Zt(this.i,this.v,this.B,this.l,this.S,ht,j),this.o){if(this.U&&!this.L){t:{if(this.g){var q,ce=this.g;if((q=ce.g?ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(q)){var xe=q;break t}}xe=null}if(p=xe)Y(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,In(this,p);else{this.o=!1,this.m=3,ls(12),pr(this),Or(this);break e}}if(this.R){p=!0;let ms;for(;!this.K&&this.C<A.length;)if(ms=Im(this,A),ms==ra){ht==4&&(this.m=4,ls(14),p=!1),Y(this.i,this.l,null,"[Incomplete Response]");break}else if(ms==Bs){this.m=4,ls(15),Y(this.i,this.l,A,"[Invalid Chunk]"),p=!1;break}else Y(this.i,this.l,ms,null),In(this,ms);if(Am(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||A.length!=0||this.h.h||(this.m=1,ls(16),p=!1),this.o=this.o&&p,!p)Y(this.i,this.l,A,"[Invalid Chunked Response]"),pr(this),Or(this);else if(A.length>0&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.aa&&!Oe.P&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),rh(Oe),Oe.P=!0,ls(11))}}else Y(this.i,this.l,A,null),In(this,A);ht==4&&pr(this),this.o&&!this.K&&(ht==4?Um(this.j,this):(this.o=!1,Cn(this)))}else ci(this.g),j==400&&A.indexOf("Unknown SID")>0?(this.m=3,ls(12)):(this.m=0,ls(13)),pr(this),Or(this)}}}catch{}finally{}};function i0(p){if(!Am(p))return p.g.la();const j=ha(p.g);if(j==="")return"";let A="";const q=j.length,ce=cn(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return pr(p),Or(p),"";p.h.i=new c.TextDecoder}for(let xe=0;xe<q;xe++)p.h.h=!0,A+=p.h.i.decode(j[xe],{stream:!(ce&&xe==q-1)});return j.length=0,p.h.g+=A,p.C=0,p.h.g}function Am(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Im(p,j){var A=p.C,q=j.indexOf(`
`,A);return q==-1?ra:(A=Number(j.substring(A,q)),isNaN(A)?Bs:(q+=1,q+A>j.length?ra:(j=j.slice(q,q+A),p.C=q+A,j)))}Ya.prototype.cancel=function(){this.K=!0,pr(this)};function Cn(p){p.T=Date.now()+p.H,Vc(p,p.H)}function Vc(p,j){if(p.D!=null)throw Error("WatchDog timer not null");p.D=ae(m(p.aa,p),j)}function An(p){p.D&&(c.clearTimeout(p.D),p.D=null)}Ya.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Be(this.i,this.B),this.M!=2&&(aa(),ls(17)),pr(this),this.m=2,Or(this)):Vc(this,this.T-p)};function Or(p){p.j.I==0||p.K||Um(p.j,p)}function pr(p){An(p);var j=p.O;j&&typeof j.dispose=="function"&&j.dispose(),p.O=null,he(p.V),p.g&&(j=p.g,p.g=null,j.abort(),j.dispose())}function In(p,j){try{var A=p.j;if(A.I!=0&&(A.g==p||Pn(A.h,p))){if(!p.L&&Pn(A.h,p)&&A.I==3){try{var q=A.Ba.g.parse(j)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ce=q;if(ce[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<p.F)Kc(A),ao(A);else break e;jl(A),ls(18)}}else A.xa=ce[1],0<A.xa-A.K&&ce[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=ae(m(A.Va,A),6e3));Rn(A.h)<=1&&A.ta&&(A.ta=void 0)}else Vn(A,11)}else if((p.L||A.g==p)&&Kc(A),!I(j))for(ce=A.Ba.g.parse(j),j=0;j<ce.length;j++){let Lt=ce[j];const ms=Lt[0];if(!(ms<=A.K))if(A.K=ms,Lt=Lt[1],A.I==2)if(Lt[0]=="c"){A.M=Lt[1],A.ba=Lt[2];const Vr=Lt[3];Vr!=null&&(A.ka=Vr,A.j.info("VER="+A.ka));const Un=Lt[4];Un!=null&&(A.za=Un,A.j.info("SVER="+A.za));const dn=Lt[5];dn!=null&&typeof dn=="number"&&dn>0&&(q=1.5*dn,A.O=q,A.j.info("backChannelRequestTimeoutMs_="+q)),q=A;const un=p.g;if(un){const Nl=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nl){var xe=q.h;xe.g||Nl.indexOf("spdy")==-1&&Nl.indexOf("quic")==-1&&Nl.indexOf("h2")==-1||(xe.j=xe.l,xe.g=new Set,xe.h&&(Gu(xe,xe.h),xe.h=null))}if(q.G){const Wc=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Wc&&(q.wa=Wc,qt(q.J,q.G,Wc))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-p.F,A.j.info("Handshake RTT: "+A.T+"ms")),q=A;var Oe=p;if(q.na=$m(q,q.L?q.ba:null,q.W),Oe.L){Ku(q.h,Oe);var ht=Oe,Os=q.O;Os&&(ht.H=Os),ht.D&&(An(ht),Cn(ht)),q.g=Oe}else zm(q);A.i.length>0&&zn(A)}else Lt[0]!="stop"&&Lt[0]!="close"||Vn(A,7);else A.I==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Vn(A,7):sh(A):Lt[0]!="noop"&&A.l&&A.l.qa(Lt),A.A=0)}}aa(4)}catch{}}var $s=class{constructor(p,j){this.g=p,this.map=j}};function qu(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hu(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Rn(p){return p.h?1:p.g?p.g.size:0}function Pn(p,j){return p.h?p.h==j:p.g?p.g.has(j):!1}function Gu(p,j){p.g?p.g.add(j):p.h=j}function Ku(p,j){p.h&&p.h==j?p.h=null:p.g&&p.g.has(j)&&p.g.delete(j)}qu.prototype.cancel=function(){if(this.i=Wu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Wu(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let j=p.i;for(const A of p.g.values())j=j.concat(A.G);return j}return E(p.i)}var Rm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uc(p,j){if(p){p=p.split("&");for(let A=0;A<p.length;A++){const q=p[A].indexOf("=");let ce,xe=null;q>=0?(ce=p[A].substring(0,q),xe=p[A].substring(q+1)):ce=p[A],j(ce,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function gr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;p instanceof gr?(this.l=p.l,na(this,p.j),this.o=p.o,this.g=p.g,Qi(this,p.u),this.h=p.h,Yu(this,Om(p.i)),this.m=p.m):p&&(j=String(p).match(Rm))?(this.l=!1,na(this,j[1]||"",!0),this.o=Dn(j[2]||""),this.g=Dn(j[3]||"",!0),Qi(this,j[4]),this.h=Dn(j[5]||"",!0),Yu(this,j[6]||"",!0),this.m=Dn(j[7]||"")):(this.l=!1,this.i=new Xi(null,this.l))}gr.prototype.toString=function(){const p=[];var j=this.j;j&&p.push(gl(j,Fc,!0),":");var A=this.g;return(A||j=="file")&&(p.push("//"),(j=this.o)&&p.push(gl(j,Fc,!0),"@"),p.push(js(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&p.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&p.push("/"),p.push(gl(A,A.charAt(0)=="/"?Qu:Pm,!0))),(A=this.i.toString())&&p.push("?",A),(A=this.m)&&p.push("#",gl(A,Dm)),p.join("")},gr.prototype.resolve=function(p){const j=qs(this);let A=!!p.j;A?na(j,p.j):A=!!p.o,A?j.o=p.o:A=!!p.g,A?j.g=p.g:A=p.u!=null;var q=p.h;if(A)Qi(j,p.u);else if(A=!!p.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var ce=j.h.lastIndexOf("/");ce!=-1&&(q=j.h.slice(0,ce+1)+q)}if(ce=q,ce==".."||ce==".")q="";else if(ce.indexOf("./")!=-1||ce.indexOf("/.")!=-1){q=ce.lastIndexOf("/",0)==0,ce=ce.split("/");const xe=[];for(let Oe=0;Oe<ce.length;){const ht=ce[Oe++];ht=="."?q&&Oe==ce.length&&xe.push(""):ht==".."?((xe.length>1||xe.length==1&&xe[0]!="")&&xe.pop(),q&&Oe==ce.length&&xe.push("")):(xe.push(ht),q=!0)}q=xe.join("/")}else q=ce}return A?j.h=q:A=p.i.toString()!=="",A?Yu(j,Om(p.i)):A=!!p.m,A&&(j.m=p.m),j};function qs(p){return new gr(p)}function na(p,j,A){p.j=A?Dn(j,!0):j,p.j&&(p.j=p.j.replace(/:$/,""))}function Qi(p,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);p.u=j}else p.u=null}function Yu(p,j,A){j instanceof Xi?(p.i=j,$c(p.i,p.l)):(A||(j=gl(j,Ji)),p.i=new Xi(j,p.l))}function qt(p,j,A){p.i.set(j,A)}function pl(p){return qt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Dn(p,j){return p?j?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function gl(p,j,A){return typeof p=="string"?(p=encodeURI(p).replace(j,Ja),A&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Ja(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Fc=/[#\/\?@]/g,Pm=/[#\?:]/g,Qu=/[#\?]/g,Ji=/[#\?@]/g,Dm=/#/g;function Xi(p,j){this.h=this.g=null,this.i=p||null,this.j=!!j}function Xa(p){p.g||(p.g=new Map,p.h=0,p.i&&Uc(p.i,function(j,A){p.add(decodeURIComponent(j.replace(/\+/g," ")),A)}))}a=Xi.prototype,a.add=function(p,j){Xa(this),this.i=null,p=Zi(this,p);let A=this.g.get(p);return A||this.g.set(p,A=[]),A.push(j),this.h+=1,this};function Mm(p,j){Xa(p),j=Zi(p,j),p.g.has(j)&&(p.i=null,p.h-=p.g.get(j).length,p.g.delete(j))}function Ju(p,j){return Xa(p),j=Zi(p,j),p.g.has(j)}a.forEach=function(p,j){Xa(this),this.g.forEach(function(A,q){A.forEach(function(ce){p.call(j,ce,q,this)},this)},this)};function Xu(p,j){Xa(p);let A=[];if(typeof j=="string")Ju(p,j)&&(A=A.concat(p.g.get(Zi(p,j))));else for(p=Array.from(p.g.values()),j=0;j<p.length;j++)A=A.concat(p[j]);return A}a.set=function(p,j){return Xa(this),this.i=null,p=Zi(this,p),Ju(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[j]),this.h+=1,this},a.get=function(p,j){return p?(p=Xu(this,p),p.length>0?String(p[0]):j):j};function Bc(p,j,A){Mm(p,j),A.length>0&&(p.i=null,p.g.set(Zi(p,j),E(A)),p.h+=A.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],j=Array.from(this.g.keys());for(let q=0;q<j.length;q++){var A=j[q];const ce=js(A);A=Xu(this,A);for(let xe=0;xe<A.length;xe++){let Oe=ce;A[xe]!==""&&(Oe+="="+js(A[xe])),p.push(Oe)}}return this.i=p.join("&")};function Om(p){const j=new Xi;return j.i=p.i,p.g&&(j.g=new Map(p.g),j.h=p.h),j}function Zi(p,j){return j=String(j),p.j&&(j=j.toLowerCase()),j}function $c(p,j){j&&!p.j&&(Xa(p),p.i=null,p.g.forEach(function(A,q){const ce=q.toLowerCase();q!=ce&&(Mm(this,q),Bc(this,ce,A))},p)),p.j=j}function on(p,j){const A=new Ge;if(c.Image){const q=new Image;q.onload=g(Lr,A,"TestLoadImage: loaded",!0,j,q),q.onerror=g(Lr,A,"TestLoadImage: error",!1,j,q),q.onabort=g(Lr,A,"TestLoadImage: abort",!1,j,q),q.ontimeout=g(Lr,A,"TestLoadImage: timeout",!1,j,q),c.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=p}else j(!1)}function Zu(p,j){const A=new Ge,q=new AbortController,ce=setTimeout(()=>{q.abort(),Lr(A,"TestPingServer: timeout",!1,j)},1e4);fetch(p,{signal:q.signal}).then(xe=>{clearTimeout(ce),xe.ok?Lr(A,"TestPingServer: ok",!0,j):Lr(A,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(ce),Lr(A,"TestPingServer: error",!1,j)})}function Lr(p,j,A,q,ce){try{ce&&(ce.onload=null,ce.onerror=null,ce.onabort=null,ce.ontimeout=null),q(A)}catch{}}function eo(){this.g=new ut}function Mn(p){this.i=p.Sb||null,this.h=p.ab||!1}b(Mn,_t),Mn.prototype.g=function(){return new xl(this.i,this.h)};function xl(p,j){qe.call(this),this.H=p,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(xl,qe),a=xl.prototype,a.open=function(p,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=j,this.readyState=1,ln(this)},a.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(j.body=p),(this.H||c).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,to(this)),this.readyState=0},a.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ln(this)),this.g&&(this.readyState=3,ln(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qc(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function qc(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}a.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var j=p.value?p.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!p.done}))&&(this.response=this.responseText+=j)}p.done?to(this):ln(this),this.readyState==3&&qc(this)}},a.Oa=function(p){this.g&&(this.response=this.responseText=p,to(this))},a.Na=function(p){this.g&&(this.response=p,to(this))},a.ga=function(){this.g&&to(this)};function to(p){p.readyState=4,p.l=null,p.j=null,p.B=null,ln(p)}a.setRequestHeader=function(p,j){this.A.append(p,j)},a.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],j=this.h.entries();for(var A=j.next();!A.done;)A=A.value,p.push(A[0]+": "+A[1]),A=j.next();return p.join(`\r
`)};function ln(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function zr(p){let j="";return Re(p,function(A,q){j+=q,j+=":",j+=A,j+=`\r
`}),j}function yl(p,j,A){e:{for(q in A){var q=!1;break e}q=!0}q||(A=zr(A),typeof p=="string"?A!=null&&js(A):qt(p,j,A))}function Yt(p){qe.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Yt,qe);var On=/^https?$/i,eh=["POST","PUT"];a=Yt.prototype,a.Fa=function(p){this.H=p},a.ea=function(p,j,A,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);j=j?j.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ot.g(),this.g.onreadystatechange=v(m(this.Ca,this));try{this.B=!0,this.g.open(j,String(p),!0),this.B=!1}catch(xe){bl(this,xe);return}if(p=A||"",A=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ce in q)A.set(ce,q[ce]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const xe of q.keys())A.set(xe,q.get(xe));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(A.keys()).find(xe=>xe.toLowerCase()=="content-type"),ce=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(eh,j,void 0)>=0)||q||ce||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xe,Oe]of A)this.g.setRequestHeader(xe,Oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(xe){bl(this,xe)}};function bl(p,j){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=j,p.o=5,th(p),li(p)}function th(p){p.A||(p.A=!0,rt(p,"complete"),rt(p,"error"))}a.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,rt(this,"complete"),rt(this,"abort"),li(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),Yt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?vl(this):this.Xa())},a.Xa=function(){vl(this)};function vl(p){if(p.h&&typeof l<"u"){if(p.v&&cn(p)==4)setTimeout(p.Ca.bind(p),0);else if(rt(p,"readystatechange"),cn(p)==4){p.h=!1;try{const xe=p.ca();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var A;if(!(A=j)){var q;if(q=xe===0){let Oe=String(p.D).match(Rm)[1]||null;!Oe&&c.self&&c.self.location&&(Oe=c.self.location.protocol.slice(0,-1)),q=!On.test(Oe?Oe.toLowerCase():"")}A=q}if(A)rt(p,"complete"),rt(p,"success");else{p.o=6;try{var ce=cn(p)>2?p.g.statusText:""}catch{ce=""}p.l=ce+" ["+p.ca()+"]",th(p)}}finally{li(p)}}}}function li(p,j){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const A=p.g;p.g=null,j||rt(p,"ready");try{A.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function cn(p){return p.g?p.g.readyState:0}a.ca=function(){try{return cn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(p){if(this.g){var j=this.g.responseText;return p&&j.indexOf(p)==0&&(j=j.substring(p.length)),nt(j)}};function ha(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function ci(p){const j={};p=(p.g&&cn(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<p.length;q++){if(I(p[q]))continue;var A=Wa(p[q]);const ce=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const xe=j[ce]||[];j[ce]=xe,xe.push(A)}Pe(j,function(q){return q.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ln(p,j,A){return A&&A.internalChannelParams&&A.internalChannelParams[p]||j}function so(p){this.za=0,this.i=[],this.j=new Ge,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ln("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ln("baseRetryDelayMs",5e3,p),this.Za=Ln("retryDelaySeedMs",1e4,p),this.Ta=Ln("forwardChannelMaxRetries",2,p),this.va=Ln("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new qu(p&&p.concurrentRequestLimit),this.Ba=new eo,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=so.prototype,a.ka=8,a.I=1,a.connect=function(p,j,A,q){ls(0),this.W=p,this.H=j||{},A&&q!==void 0&&(this.H.OSID=A,this.H.OAID=q),this.F=this.X,this.J=$m(this,null,this.W),zn(this)};function sh(p){if(Hc(p),p.I==3){var j=p.V++,A=qs(p.J);if(qt(A,"SID",p.M),qt(A,"RID",j),qt(A,"TYPE","terminate"),wl(p,A),j=new Ya(p,p.j,j),j.M=2,j.A=pl(qs(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(j.A.toString(),"")}catch{}!A&&c.Image&&(new Image().src=j.A,A=!0),A||(j.g=qm(j.j,null),j.g.ea(j.A)),j.F=Date.now(),Cn(j)}Bm(p)}function ao(p){p.g&&(rh(p),p.g.cancel(),p.g=null)}function Hc(p){ao(p),p.v&&(c.clearTimeout(p.v),p.v=null),Kc(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function zn(p){if(!Hu(p.h)&&!p.m){p.m=!0;var j=p.Ea;$||R(),X||($(),X=!0),C.add(j,p),p.D=0}}function Gc(p,j){return Rn(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=j.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=ae(m(p.Ea,p,j),Fm(p,p.D)),p.D++,!0)}a.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const ce=new Ya(this,this.j,p);let xe=this.o;if(this.U&&(xe?(xe=K(xe),B(xe,this.U)):xe=this.U),this.u!==null||this.R||(ce.J=xe,xe=null),this.S)e:{for(var j=0,A=0;A<this.i.length;A++){t:{var q=this.i[A];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(j+=q,j>4096){j=A;break e}if(j===4096||A===this.i.length-1){j=A+1;break e}}j=1e3}else j=1e3;j=Lm(this,ce,j),A=qs(this.J),qt(A,"RID",p),qt(A,"CVER",22),this.G&&qt(A,"X-HTTP-Session-Id",this.G),wl(this,A),xe&&(this.R?j="headers="+js(zr(xe))+"&"+j:this.u&&yl(A,this.u,xe)),Gu(this.h,ce),this.Ra&&qt(A,"TYPE","init"),this.S?(qt(A,"$req",j),qt(A,"SID","null"),ce.U=!0,En(ce,A,null)):En(ce,A,j),this.I=2}}else this.I==3&&(p?ah(this,p):this.i.length==0||Hu(this.h)||ah(this))};function ah(p,j){var A;j?A=j.l:A=p.V++;const q=qs(p.J);qt(q,"SID",p.M),qt(q,"RID",A),qt(q,"AID",p.K),wl(p,q),p.u&&p.o&&yl(q,p.u,p.o),A=new Ya(p,p.j,A,p.D+1),p.u===null&&(A.J=p.o),j&&(p.i=j.G.concat(p.i)),j=Lm(p,A,1e3),A.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Gu(p.h,A),En(A,q,j)}function wl(p,j){p.H&&Re(p.H,function(A,q){qt(j,q,A)}),p.l&&Re({},function(A,q){qt(j,q,A)})}function Lm(p,j,A){A=Math.min(p.i.length,A);const q=p.l?m(p.l.Ka,p.l,p):null;e:{var ce=p.i;let ht=-1;for(;;){const Os=["count="+A];ht==-1?A>0?(ht=ce[0].g,Os.push("ofs="+ht)):ht=0:Os.push("ofs="+ht);let Lt=!0;for(let ms=0;ms<A;ms++){var xe=ce[ms].g;const Vr=ce[ms].map;if(xe-=ht,xe<0)ht=Math.max(0,ce[ms].g-100),Lt=!1;else try{xe="req"+xe+"_"||"";try{var Oe=Vr instanceof Map?Vr:Object.entries(Vr);for(const[Un,dn]of Oe){let un=dn;f(dn)&&(un=De(dn)),Os.push(xe+Un+"="+encodeURIComponent(un))}}catch(Un){throw Os.push(xe+"type="+encodeURIComponent("_badmap")),Un}}catch{q&&q(Vr)}}if(Lt){Oe=Os.join("&");break e}}Oe=void 0}return p=p.i.splice(0,A),j.G=p,Oe}function zm(p){if(!p.g&&!p.v){p.Y=1;var j=p.Da;$||R(),X||($(),X=!0),C.add(j,p),p.A=0}}function jl(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=ae(m(p.Da,p),Fm(p,p.A)),p.A++,!0)}a.Da=function(){if(this.v=null,Vm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=ae(m(this.Wa,this),p)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ls(10),ao(this),Vm(this))};function rh(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function Vm(p){p.g=new Ya(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var j=qs(p.na);qt(j,"RID","rpc"),qt(j,"SID",p.M),qt(j,"AID",p.K),qt(j,"CI",p.F?"0":"1"),!p.F&&p.ia&&qt(j,"TO",p.ia),qt(j,"TYPE","xmlhttp"),wl(p,j),p.u&&p.o&&yl(j,p.u,p.o),p.O&&(p.g.H=p.O);var A=p.g;p=p.ba,A.M=1,A.A=pl(qs(j)),A.u=null,A.R=!0,zc(A,p)}a.Va=function(){this.C!=null&&(this.C=null,ao(this),jl(this),ls(19))};function Kc(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Um(p,j){var A=null;if(p.g==j){Kc(p),rh(p),p.g=null;var q=2}else if(Pn(p.h,j))A=j.G,Ku(p.h,j),q=1;else return;if(p.I!=0){if(j.o)if(q==1){A=j.u?j.u.length:0,j=Date.now()-j.F;var ce=p.D;q=Tn(),rt(q,new Ca(q,A)),zn(p)}else zm(p);else if(ce=j.m,ce==3||ce==0&&j.X>0||!(q==1&&Gc(p,j)||q==2&&jl(p)))switch(A&&A.length>0&&(j=p.h,j.i=j.i.concat(A)),ce){case 1:Vn(p,5);break;case 4:Vn(p,10);break;case 3:Vn(p,6);break;default:Vn(p,2)}}}function Fm(p,j){let A=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(A*=2),A*j}function Vn(p,j){if(p.j.info("Error code "+j),j==2){var A=m(p.bb,p),q=p.Ua;const ce=!q;q=new gr(q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||na(q,"https"),pl(q),ce?on(q.toString(),A):Zu(q.toString(),A)}else ls(2);p.I=0,p.l&&p.l.pa(j),Bm(p),Hc(p)}a.bb=function(p){p?(this.j.info("Successfully pinged google.com"),ls(2)):(this.j.info("Failed to ping google.com"),ls(1))};function Bm(p){if(p.I=0,p.ja=[],p.l){const j=Wu(p.h);(j.length!=0||p.i.length!=0)&&(N(p.ja,j),N(p.ja,p.i),p.h.i.length=0,E(p.i),p.i.length=0),p.l.oa()}}function $m(p,j,A){var q=A instanceof gr?qs(A):new gr(A);if(q.g!="")j&&(q.g=j+"."+q.g),Qi(q,q.u);else{var ce=c.location;q=ce.protocol,j=j?j+"."+ce.hostname:ce.hostname,ce=+ce.port;const xe=new gr(null);q&&na(xe,q),j&&(xe.g=j),ce&&Qi(xe,ce),A&&(xe.h=A),q=xe}return A=p.G,j=p.wa,A&&j&&qt(q,A,j),qt(q,"VER",p.ka),wl(p,q),q}function qm(p,j,A){if(j&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=p.Aa&&!p.ma?new Yt(new Mn({ab:A})):new Yt(p.ma),j.Fa(p.L),j}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hm(){}a=Hm.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ro(){}ro.prototype.g=function(p,j){return new Oa(p,j)};function Oa(p,j){qe.call(this),this.g=new so(j),this.l=p,this.h=j&&j.messageUrlParams||null,p=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(p?p["X-WebChannel-Content-Type"]=j.messageContentType:p={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(p?p["X-WebChannel-Client-Profile"]=j.sa:p={"X-WebChannel-Client-Profile":j.sa}),this.g.U=p,(p=j&&j.Qb)&&!I(p)&&(this.g.u=p),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!I(j)&&(this.g.G=j,p=this.h,p!==null&&j in p&&(p=this.h,j in p&&delete p[j])),this.j=new di(this)}b(Oa,qe),Oa.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Oa.prototype.close=function(){sh(this.g)},Oa.prototype.o=function(p){var j=this.g;if(typeof p=="string"){var A={};A.__data__=p,p=A}else this.v&&(A={},A.__data__=De(p),p=A);j.i.push(new $s(j.Ya++,p)),j.I==3&&zn(j)},Oa.prototype.N=function(){this.g.l=null,delete this.j,sh(this.g),delete this.g,Oa.Z.N.call(this)};function Gm(p){os.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var j=p.__sm__;if(j){e:{for(const A in j){p=A;break e}p=void 0}(this.i=p)&&(p=this.i,j=j!==null&&p in j?j[p]:void 0),this.data=j}else this.data=p}b(Gm,os);function Km(){hs.call(this),this.status=1}b(Km,hs);function di(p){this.g=p}b(di,Hm),di.prototype.ra=function(){rt(this.g,"a")},di.prototype.qa=function(p){rt(this.g,new Gm(p))},di.prototype.pa=function(p){rt(this.g,new Km)},di.prototype.oa=function(){rt(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,Oa.prototype.send=Oa.prototype.o,Oa.prototype.open=Oa.prototype.m,Oa.prototype.close=Oa.prototype.close,WC=function(){return new ro},KC=function(){return Tn()},GC=Ft,Tv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kt.NO_ERROR=0,kt.TIMEOUT=8,kt.HTTP_ERROR=6,jg=kt,$t.COMPLETE="complete",HC=$t,Ut.EventType=Mt,Mt.OPEN="a",Mt.CLOSE="b",Mt.ERROR="c",Mt.MESSAGE="d",qe.prototype.listen=qe.prototype.J,df=Ut,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,qC=Yt}).apply(typeof ng<"u"?ng:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ca.UNAUTHENTICATED=new ca(null),ca.GOOGLE_CREDENTIALS=new ca("google-credentials-uid"),ca.FIRST_PARTY=new ca("first-party-uid"),ca.MOCK_USER=new ca("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou="12.8.0";function c$(a){Ou=a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new im("@firebase/firestore");function Dd(){return Zo.logLevel}function d$(a){Zo.setLogLevel(a)}function Ae(a,...e){if(Zo.logLevel<=jt.DEBUG){const s=e.map(nj);Zo.debug(`Firestore (${Ou}): ${a}`,...s)}}function Vs(a,...e){if(Zo.logLevel<=jt.ERROR){const s=e.map(nj);Zo.error(`Firestore (${Ou}): ${a}`,...s)}}function ii(a,...e){if(Zo.logLevel<=jt.WARN){const s=e.map(nj);Zo.warn(`Firestore (${Ou}): ${a}`,...s)}}function nj(a){if(typeof a=="string")return a;try{return(function(s){return JSON.stringify(s)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(a,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,YC(a,r,s)}function YC(a,e,s){let r=`FIRESTORE (${Ou}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw Vs(r),new Error(r)}function We(a,e,s,r){let i="Unexpected state";typeof s=="string"?i=s:r=s,a||YC(e,i,r)}function u$(a,e){a||$e(57014,e)}function Fe(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends ka{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(ca.UNAUTHENTICATED)))}shutdown(){}}class f${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class m${constructor(e){this.t=e,this.currentUser=ca.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){We(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,s(u)):Promise.resolve();let l=new Sa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Sa,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const u=l;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},f=u=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((u=>f(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?f(u):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Sa)}}),0),c()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new QC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new ca(e)}}class p${constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=ca.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class g${constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new p$(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(ca.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _S{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x${constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ys(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){We(this.o===void 0,3512);const r=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?s(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const i=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>i(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?i(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _S(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(We(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new _S(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<a;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=y$(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<s&&(r+=e.charAt(i[l]%62))}return r}}function ot(a,e){return a<e?-1:a>e?1:0}function Ev(a,e){const s=Math.min(a.length,e.length);for(let r=0;r<s;r++){const i=a.charAt(r),l=e.charAt(r);if(i!==l)return zb(i)===zb(l)?ot(i,l):zb(i)?1:-1}return ot(a.length,e.length)}const b$=55296,v$=57343;function zb(a){const e=a.charCodeAt(0);return e>=b$&&e<=v$}function lu(a,e,s){return a.length===e.length&&a.every(((r,i)=>s(r,e[i])))}function JC(a){return a+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="__name__";class Hn{constructor(e,s,r){s===void 0?s=0:s>e.length&&$e(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&$e(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return Hn.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Hn?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let i=0;i<r;i++){const l=Hn.compareSegments(e.get(i),s.get(i));if(l!==0)return l}return ot(e.length,s.length)}static compareSegments(e,s){const r=Hn.isNumericId(e),i=Hn.isNumericId(s);return r&&!i?-1:!r&&i?1:r&&i?Hn.extractNumericId(e).compare(Hn.extractNumericId(s)):Ev(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $o.fromString(e.substring(4,e.length-2))}}class Nt extends Hn{construct(e,s,r){return new Nt(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((i=>i.length>0)))}return new Nt(s)}static emptyPath(){return new Nt([])}}const w$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bs extends Hn{construct(e,s,r){return new bs(e,s,r)}static isValidIdentifier(e){return w$.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kS}static keyField(){return new bs([kS])}static fromServerFormat(e){const s=[];let r="",i=0;const l=()=>{if(r.length===0)throw new Te(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if(f==="\\"){if(i+1===e.length)throw new Te(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Te(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else f==="`"?(c=!c,i++):f!=="."||c?(r+=f,i++):(l(),i++)}if(l(),c)throw new Te(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bs(s)}static emptyPath(){return new bs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Nt.fromString(e))}static fromName(e){return new Ve(Nt.fromString(e).popFirst(5))}static empty(){return new Ve(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return Nt.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(a,e,s){if(!s)throw new Te(pe.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function XC(a,e,s,r){if(e===!0&&r===!0)throw new Te(pe.INVALID_ARGUMENT,`${a} and ${s} cannot be used together.`)}function SS(a){if(!Ve.isDocumentKey(a))throw new Te(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function TS(a){if(Ve.isDocumentKey(a))throw new Te(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function ZC(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Px(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":$e(12329,{type:typeof a})}function Dt(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new Te(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Px(a);throw new Te(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return a}function eA(a,e){if(e<=0)throw new Te(pe.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(a,e){const s={typeString:a};return e&&(s.value=e),s}function mm(a,e){if(!ZC(a))throw new Te(pe.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const i=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){s=`JSON missing required field: '${r}'`;break}const c=a[r];if(i&&typeof c!==i){s=`JSON field '${r}' must be a ${i}.`;break}if(l!==void 0&&c!==l.value){s=`Expected '${r}' field to equal '${l.value}'`;break}}if(s)throw new Te(pe.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=-62135596800,CS=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*CS);return new Bt(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new Te(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new Te(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<ES)throw new Te(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CS}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mm(e,Bt._jsonSchema))return new Bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ES;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:Js("string",Bt._jsonSchemaVersion),seconds:Js("number"),nanoseconds:Js("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new Bt(0,0))}static max(){return new et(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;class Kg{constructor(e,s,r,i){this.indexId=e,this.collectionGroup=s,this.fields=r,this.indexState=i}}function Cv(a){return a.fields.find((e=>e.kind===2))}function Fl(a){return a.fields.filter((e=>e.kind!==2))}Kg.UNKNOWN_ID=-1;class Ng{constructor(e,s){this.fieldPath=e,this.kind=s}}class Ff{constructor(e,s){this.sequenceNumber=e,this.offset=s}static empty(){return new Ff(0,Pr.min())}}function tA(a,e){const s=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new Bt(s+1,0):new Bt(s,r));return new Pr(i,Ve.empty(),e)}function sA(a){return new Pr(a.readTime,a.key,cu)}class Pr{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new Pr(et.min(),Ve.empty(),cu)}static max(){return new Pr(et.max(),Ve.empty(),cu)}}function lj(a,e){let s=a.readTime.compareTo(e.readTime);return s!==0?s:(s=Ve.comparator(a.documentKey,e.documentKey),s!==0?s:ot(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(a){if(a.code!==pe.FAILED_PRECONDITION||a.message!==aA)throw a;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new oe(((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(s,l).next(r,i)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof oe?s:oe.resolve(s)}catch(s){return oe.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):oe.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):oe.reject(s)}static resolve(e){return new oe(((s,r)=>{s(e)}))}static reject(e){return new oe(((s,r)=>{r(e)}))}static waitFor(e){return new oe(((s,r)=>{let i=0,l=0,c=!1;e.forEach((f=>{++i,f.next((()=>{++l,c&&l===i&&s()}),(u=>r(u)))})),c=!0,l===i&&s()}))}static or(e){let s=oe.resolve(!1);for(const r of e)s=s.next((i=>i?oe.resolve(i):r()));return s}static forEach(e,s){const r=[];return e.forEach(((i,l)=>{r.push(s.call(this,i,l))})),this.waitFor(r)}static mapArray(e,s){return new oe(((r,i)=>{const l=e.length,c=new Array(l);let f=0;for(let u=0;u<l;u++){const m=u;s(e[m]).next((g=>{c[m]=g,++f,f===l&&r(c)}),(g=>i(g)))}}))}static doWhile(e,s){return new oe(((r,i)=>{const l=()=>{e()===!0?s().next((()=>{l()}),i):r()};l()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="SimpleDb";class Dx{static open(e,s,r,i){try{return new Dx(s,e.transaction(i,r))}catch(l){throw new jf(s,l)}}constructor(e,s){this.action=e,this.transaction=s,this.aborted=!1,this.S=new Sa,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{s.error?this.S.reject(new jf(e,s.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=cj(r.target.error);this.S.reject(new jf(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Ae(_r,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const s=this.transaction.objectStore(e);return new N$(s)}}class si{static delete(e){return Ae(_r,"Removing database:",e),$l(Cw().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!fc())return!1;if(si.F())return!0;const e=_s(),s=si.M(e),r=0<s&&s<10,i=nA(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,s){return e.store(s)}static M(e){const s=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,s,r){this.name=e,this.version=s,this.N=r,this.B=null,si.M(_s())===12.2&&Vs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Ae(_r,"Opening database:",this.name),this.db=await new Promise(((s,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=l=>{const c=l.target.result;s(c)},i.onblocked=()=>{r(new jf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=l=>{const c=l.target.error;c.name==="VersionError"?r(new Te(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new Te(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new jf(e,c))},i.onupgradeneeded=l=>{Ae(_r,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,i.transaction,l.oldVersion,this.version).next((()=>{Ae(_r,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=s=>this.K(s)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=s=>e(s))}async runTransaction(e,s,r,i){const l=s==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const f=Dx.open(this.db,e,l?"readonly":"readwrite",r),u=i(f).next((m=>(f.C(),m))).catch((m=>(f.abort(m),oe.reject(m)))).toPromise();return u.catch((()=>{})),await f.D,u}catch(f){const u=f,m=u.name!=="FirebaseError"&&c<3;if(Ae(_r,"Transaction failed with error:",u.message,"Retrying:",m),this.close(),!m)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function nA(a){const e=a.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}class j${constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return $l(this.U.delete())}}class jf extends Te{constructor(e,s){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function ul(a){return a.name==="IndexedDbTransactionError"}class N${constructor(e){this.store=e}put(e,s){let r;return s!==void 0?(Ae(_r,"PUT",this.store.name,e,s),r=this.store.put(s,e)):(Ae(_r,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$l(r)}add(e){return Ae(_r,"ADD",this.store.name,e,e),$l(this.store.add(e))}get(e){return $l(this.store.get(e)).next((s=>(s===void 0&&(s=null),Ae(_r,"GET",this.store.name,e,s),s)))}delete(e){return Ae(_r,"DELETE",this.store.name,e),$l(this.store.delete(e))}count(){return Ae(_r,"COUNT",this.store.name),$l(this.store.count())}H(e,s){const r=this.options(e,s),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const l=i.getAll(r.range);return new oe(((c,f)=>{l.onerror=u=>{f(u.target.error)},l.onsuccess=u=>{c(u.target.result)}}))}{const l=this.cursor(r),c=[];return this.J(l,((f,u)=>{c.push(u)})).next((()=>c))}}Z(e,s){const r=this.store.getAll(e,s===null?void 0:s);return new oe(((i,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{i(c.target.result)}}))}X(e,s){Ae(_r,"DELETE ALL",this.store.name);const r=this.options(e,s);r.Y=!1;const i=this.cursor(r);return this.J(i,((l,c,f)=>f.delete()))}ee(e,s){let r;s?r=e:(r={},s=e);const i=this.cursor(r);return this.J(i,s)}te(e){const s=this.cursor({});return new oe(((r,i)=>{s.onerror=l=>{const c=cj(l.target.error);i(c)},s.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next((f=>{f?c.continue():r()})):r()}}))}J(e,s){const r=[];return new oe(((i,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const u=new j$(f),m=s(f.primaryKey,f.value,u);if(m instanceof oe){const g=m.catch((b=>(u.done(),oe.reject(b))));r.push(g)}u.isDone?i():u.G===null?f.continue():f.continue(u.G)}})).next((()=>oe.waitFor(r)))}options(e,s){let r;return e!==void 0&&(typeof e=="string"?r=e:s=e),{index:r,range:s}}cursor(e){let s="next";if(e.reverse&&(s="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,s):r.openCursor(e.range,s)}return this.store.openCursor(e.range,s)}}function $l(a){return new oe(((e,s)=>{a.onsuccess=r=>{const i=r.target.result;e(i)},a.onerror=r=>{const i=cj(r.target.error);s(i)}}))}let AS=!1;function cj(a){const e=si.M(_s());if(e>=12.2&&e<13){const s="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(s)>=0){const r=new Te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return AS||(AS=!0,setTimeout((()=>{throw r}),0)),r}}return a}const Nf="IndexBackfiller";class _${constructor(e,s){this.asyncQueue=e,this.ne=s,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Ae(Nf,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const s=await this.ne.ie();Ae(Nf,`Documents written: ${s}`)}catch(s){ul(s)?Ae(Nf,"Ignoring IndexedDB error during index backfill: ",s):await dl(s)}await this.re(6e4)}))}}class k${constructor(e,s){this.localStore=e,this.persistence=s}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(s=>this.se(s,e)))}se(e,s){const r=new Set;let i=s,l=!0;return oe.doWhile((()=>l===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return Ae(Nf,`Processing collection: ${c}`),this.oe(e,c,i).next((f=>{i-=f,r.add(c)}));l=!1})))).next((()=>s-i))}oe(e,s,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,s).next((i=>this.localStore.localDocuments.getNextDocuments(e,s,i,r).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(i,l))).next((f=>(Ae(Nf,`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,s,f)))).next((()=>c.size))}))))}_e(e,s){let r=e;return s.changes.forEach(((i,l)=>{const c=sA(l);lj(c,r)>0&&(r=c)})),new Pr(r.readTime,r.documentKey,Math.max(s.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}or.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=-1;function pm(a){return a==null}function Bf(a){return a===0&&1/a==-1/0}function iA(a){return typeof a=="number"&&Number.isInteger(a)&&!Bf(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="";function Da(a){let e="";for(let s=0;s<a.length;s++)e.length>0&&(e=IS(e)),e=S$(a.get(s),e);return IS(e)}function S$(a,e){let s=e;const r=a.length;for(let i=0;i<r;i++){const l=a.charAt(i);switch(l){case"\0":s+="";break;case Wg:s+="";break;default:s+=l}}return s}function IS(a){return a+Wg+""}function Xn(a){const e=a.length;if(We(e>=2,64408,{path:a}),e===2)return We(a.charAt(0)===Wg&&a.charAt(1)==="",56145,{path:a}),Nt.emptyPath();const s=e-2,r=[];let i="";for(let l=0;l<e;){const c=a.indexOf(Wg,l);switch((c<0||c>s)&&$e(50515,{path:a}),a.charAt(c+1)){case"":const f=a.substring(l,c);let u;i.length===0?u=f:(i+=f,u=i,i=""),r.push(u);break;case"":i+=a.substring(l,c),i+="\0";break;case"":i+=a.substring(l,c+1);break;default:$e(61167,{path:a})}l=c+2}return new Nt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="remoteDocuments",gm="owner",Ed="owner",$f="mutationQueues",T$="userId",gn="mutations",RS="batchId",Ql="userMutationsIndex",PS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(a,e){return[a,Da(e)]}function oA(a,e,s){return[a,Da(e),s]}const E$={},du="documentMutations",Yg="remoteDocumentsV14",C$=["prefixPath","collectionGroup","readTime","documentId"],kg="documentKeyIndex",A$=["prefixPath","collectionGroup","documentId"],lA="collectionGroupIndex",I$=["collectionGroup","readTime","prefixPath","documentId"],qf="remoteDocumentGlobal",Av="remoteDocumentGlobalKey",uu="targets",cA="queryTargetsIndex",R$=["canonicalId","targetId"],hu="targetDocuments",P$=["targetId","path"],dj="documentTargetsIndex",D$=["path","targetId"],Qg="targetGlobalKey",nc="targetGlobal",Hf="collectionParents",M$=["collectionId","parent"],fu="clientMetadata",O$="clientId",Mx="bundles",L$="bundleId",Ox="namedQueries",z$="name",uj="indexConfiguration",V$="indexId",Iv="collectionGroupIndex",U$="collectionGroup",_f="indexState",F$=["indexId","uid"],dA="sequenceNumberIndex",B$=["uid","sequenceNumber"],kf="indexEntries",$$=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],uA="documentKeyIndex",q$=["indexId","uid","orderedDocumentKey"],Lx="documentOverlays",H$=["userId","collectionPath","documentId"],Rv="collectionPathOverlayIndex",G$=["userId","collectionPath","largestBatchId"],hA="collectionGroupOverlayIndex",K$=["userId","collectionGroup","largestBatchId"],hj="globals",W$="name",fA=[$f,gn,du,Bl,uu,gm,nc,hu,fu,qf,Hf,Mx,Ox],Y$=[...fA,Lx],mA=[$f,gn,du,Yg,uu,gm,nc,hu,fu,qf,Hf,Mx,Ox,Lx],pA=mA,fj=[...pA,uj,_f,kf],Q$=fj,gA=[...fj,hj],J$=gA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv extends rA{constructor(e,s){super(),this.le=e,this.currentSequenceNumber=s}}function sa(a,e){const s=Fe(a);return si.O(s.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(a){let e=0;for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&e++;return e}function hl(a,e){for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&e(s,a[s])}function xA(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,s){this.comparator=e,this.root=s||ya.EMPTY}insert(e,s){return new ns(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,ya.BLACK,null,null))}remove(e){return new ns(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ya.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return s+r.left.size;i<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ig(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ig(this.root,e,this.comparator,!1)}getReverseIterator(){return new ig(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ig(this.root,e,this.comparator,!0)}}class ig{constructor(e,s,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=s?r(e.key,s):1,s&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ya{constructor(e,s,r,i,l){this.key=e,this.value=s,this.color=r??ya.RED,this.left=i??ya.EMPTY,this.right=l??ya.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,i,l){return new ya(e??this.key,s??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,s,r),null):l===0?i.copy(null,s,null,null,null):i.copy(null,null,null,null,i.right.insert(e,s,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ya.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,i=this;if(s(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,s),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),s(e,i.key)===0){if(i.right.isEmpty())return ya.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,s))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ya.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ya.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}ya.EMPTY=null,ya.RED=!0,ya.BLACK=!1;ya.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,s,r,i,l){return this}insert(e,s,r){return new ya(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new ns(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;s(i.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new MS(this.data.getIterator())}getIteratorFrom(e){return new MS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const i=s.getNext().key,l=r.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new Wt(this.comparator);return s.data=e,s}}class MS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cd(a){return a.hasNext()?a.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.fields=e,e.sort(bs.comparator)}static empty(){return new lr([])}unionWith(e){let s=new Wt(bs.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new lr(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return lu(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new yA("Invalid base64 string: "+l):l}})(e);return new Ps(s)}static fromUint8Array(e){const s=(function(i){let l="";for(let c=0;c<i.length;++c)l+=String.fromCharCode(i[c]);return l})(e);return new Ps(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let i=0;i<s.length;i++)r[i]=s.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ps.EMPTY_BYTE_STRING=new Ps("");const Z$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(a){if(We(!!a,39018),typeof a=="string"){let e=0;const s=Z$.exec(a);if(We(!!s,46558,{timestamp:a}),s[1]){let i=s[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xs(a.seconds),nanos:xs(a.nanos)}}function xs(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Fi(a){return typeof a=="string"?Ps.fromBase64String(a):Ps.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="server_timestamp",vA="__type__",wA="__previous_value__",jA="__local_write_time__";function zx(a){var s,r;return((r=(((s=a==null?void 0:a.mapValue)==null?void 0:s.fields)||{})[vA])==null?void 0:r.stringValue)===bA}function Vx(a){const e=a.mapValue.fields[wA];return zx(e)?Vx(e):e}function Gf(a){const e=Ui(a.mapValue.fields[jA].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e,s,r,i,l,c,f,u,m,g,b){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=u,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=b}}const Dv="(default)";class el{constructor(e,s){this.projectId=e,this.database=s||Dv}static empty(){return new el("","")}get isDefaultDatabase(){return this.database===Dv}isEqual(e){return e instanceof el&&e.projectId===this.projectId&&e.database===this.database}}function tq(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Te(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new el(a.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="__type__",NA="__max__",Lo={mapValue:{fields:{__type__:{stringValue:NA}}}},pj="__vector__",mu="value",Sg={nullValue:"NULL_VALUE"};function tl(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?zx(a)?4:_A(a)?9007199254740991:Ux(a)?10:11:$e(28295,{value:a})}function oi(a,e){if(a===e)return!0;const s=tl(a);if(s!==tl(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Gf(a).isEqual(Gf(e));case 3:return(function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const c=Ui(i.timestampValue),f=Ui(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(i,l){return Fi(i.bytesValue).isEqual(Fi(l.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(i,l){return xs(i.geoPointValue.latitude)===xs(l.geoPointValue.latitude)&&xs(i.geoPointValue.longitude)===xs(l.geoPointValue.longitude)})(a,e);case 2:return(function(i,l){if("integerValue"in i&&"integerValue"in l)return xs(i.integerValue)===xs(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const c=xs(i.doubleValue),f=xs(l.doubleValue);return c===f?Bf(c)===Bf(f):isNaN(c)&&isNaN(f)}return!1})(a,e);case 9:return lu(a.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(i,l){const c=i.mapValue.fields||{},f=l.mapValue.fields||{};if(DS(c)!==DS(f))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(f[u]===void 0||!oi(c[u],f[u])))return!1;return!0})(a,e);default:return $e(52216,{left:a})}}function Kf(a,e){return(a.values||[]).find((s=>oi(s,e)))!==void 0}function sl(a,e){if(a===e)return 0;const s=tl(a),r=tl(e);if(s!==r)return ot(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return ot(a.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=xs(l.integerValue||l.doubleValue),u=xs(c.integerValue||c.doubleValue);return f<u?-1:f>u?1:f===u?0:isNaN(f)?isNaN(u)?0:-1:1})(a,e);case 3:return OS(a.timestampValue,e.timestampValue);case 4:return OS(Gf(a),Gf(e));case 5:return Ev(a.stringValue,e.stringValue);case 6:return(function(l,c){const f=Fi(l),u=Fi(c);return f.compareTo(u)})(a.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),u=c.split("/");for(let m=0;m<f.length&&m<u.length;m++){const g=ot(f[m],u[m]);if(g!==0)return g}return ot(f.length,u.length)})(a.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=ot(xs(l.latitude),xs(c.latitude));return f!==0?f:ot(xs(l.longitude),xs(c.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return LS(a.arrayValue,e.arrayValue);case 10:return(function(l,c){var v,E,N,S;const f=l.fields||{},u=c.fields||{},m=(v=f[mu])==null?void 0:v.arrayValue,g=(E=u[mu])==null?void 0:E.arrayValue,b=ot(((N=m==null?void 0:m.values)==null?void 0:N.length)||0,((S=g==null?void 0:g.values)==null?void 0:S.length)||0);return b!==0?b:LS(m,g)})(a.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Lo.mapValue&&c===Lo.mapValue)return 0;if(l===Lo.mapValue)return 1;if(c===Lo.mapValue)return-1;const f=l.fields||{},u=Object.keys(f),m=c.fields||{},g=Object.keys(m);u.sort(),g.sort();for(let b=0;b<u.length&&b<g.length;++b){const v=Ev(u[b],g[b]);if(v!==0)return v;const E=sl(f[u[b]],m[g[b]]);if(E!==0)return E}return ot(u.length,g.length)})(a.mapValue,e.mapValue);default:throw $e(23264,{he:s})}}function OS(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return ot(a,e);const s=Ui(a),r=Ui(e),i=ot(s.seconds,r.seconds);return i!==0?i:ot(s.nanos,r.nanos)}function LS(a,e){const s=a.values||[],r=e.values||[];for(let i=0;i<s.length&&i<r.length;++i){const l=sl(s[i],r[i]);if(l)return l}return ot(s.length,r.length)}function pu(a){return Mv(a)}function Mv(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(s){const r=Ui(s);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(s){return Fi(s).toBase64()})(a.bytesValue):"referenceValue"in a?(function(s){return Ve.fromName(s).toString()})(a.referenceValue):"geoPointValue"in a?(function(s){return`geo(${s.latitude},${s.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(s){let r="[",i=!0;for(const l of s.values||[])i?i=!1:r+=",",r+=Mv(l);return r+"]"})(a.arrayValue):"mapValue"in a?(function(s){const r=Object.keys(s.fields||{}).sort();let i="{",l=!0;for(const c of r)l?l=!1:i+=",",i+=`${c}:${Mv(s.fields[c])}`;return i+"}"})(a.mapValue):$e(61005,{value:a})}function Tg(a){switch(tl(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vx(a);return e?16+Tg(e):16;case 5:return 2*a.stringValue.length;case 6:return Fi(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,l)=>i+Tg(l)),0)})(a.arrayValue);case 10:case 11:return(function(r){let i=0;return hl(r.fields,((l,c)=>{i+=l.length+Tg(c)})),i})(a.mapValue);default:throw $e(13486,{value:a})}}function xc(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Ov(a){return!!a&&"integerValue"in a}function Wf(a){return!!a&&"arrayValue"in a}function zS(a){return!!a&&"nullValue"in a}function VS(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Eg(a){return!!a&&"mapValue"in a}function Ux(a){var s,r;return((r=(((s=a==null?void 0:a.mapValue)==null?void 0:s.fields)||{})[mj])==null?void 0:r.stringValue)===pj}function Sf(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return hl(a.mapValue.fields,((s,r)=>e.mapValue.fields[s]=Sf(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(a.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Sf(a.arrayValue.values[s]);return e}return{...a}}function _A(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===NA}const kA={mapValue:{fields:{[mj]:{stringValue:pj},[mu]:{arrayValue:{}}}}};function sq(a){return"nullValue"in a?Sg:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?xc(el.empty(),Ve.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?Ux(a)?kA:{mapValue:{}}:$e(35942,{value:a})}function aq(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?xc(el.empty(),Ve.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?kA:"mapValue"in a?Ux(a)?{mapValue:{}}:Lo:$e(61959,{value:a})}function US(a,e){const s=sl(a.value,e.value);return s!==0?s:a.inclusive&&!e.inclusive?-1:!a.inclusive&&e.inclusive?1:0}function FS(a,e){const s=sl(a.value,e.value);return s!==0?s:a.inclusive&&!e.inclusive?1:!a.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.value=e}static empty(){return new wa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!Eg(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sf(s)}setAll(e){let s=bs.emptyPath(),r={},i=[];e.forEach(((c,f)=>{if(!s.isImmediateParentOf(f)){const u=this.getFieldsMap(s);this.applyChanges(u,r,i),r={},i=[],s=f.popLast()}c?r[f.lastSegment()]=Sf(c):i.push(f.lastSegment())}));const l=this.getFieldsMap(s);this.applyChanges(l,r,i)}delete(e){const s=this.field(e.popLast());Eg(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=s.mapValue.fields[e.get(r)];Eg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=i),s=i}return s.mapValue.fields}applyChanges(e,s,r){hl(s,((i,l)=>e[i]=l));for(const i of r)delete e[i]}clone(){return new wa(Sf(this.value))}}function SA(a){const e=[];return hl(a.fields,((s,r)=>{const i=new bs([s]);if(Eg(r)){const l=SA(r.mapValue).fields;if(l.length===0)e.push(i);else for(const c of l)e.push(i.child(c))}else e.push(i)})),new lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,s,r,i,l,c,f){this.key=e,this.documentType=s,this.version=r,this.readTime=i,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new us(e,0,et.min(),et.min(),et.min(),wa.empty(),0)}static newFoundDocument(e,s,r,i){return new us(e,1,s,et.min(),r,i,0)}static newNoDocument(e,s){return new us(e,2,s,et.min(),et.min(),wa.empty(),0)}static newUnknownDocument(e,s){return new us(e,3,s,et.min(),et.min(),wa.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof us&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new us(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,s){this.position=e,this.inclusive=s}}function BS(a,e,s){let r=0;for(let i=0;i<a.position.length;i++){const l=e[i],c=a.position[i];if(l.field.isKeyField()?r=Ve.comparator(Ve.fromName(c.referenceValue),s.key):r=sl(c,s.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function $S(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let s=0;s<a.position.length;s++)if(!oi(a.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,s="asc"){this.field=e,this.dir=s}}function rq(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{}class Et extends TA{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new nq(e,s,r):s==="array-contains"?new lq(e,r):s==="in"?new PA(e,r):s==="not-in"?new cq(e,r):s==="array-contains-any"?new dq(e,r):new Et(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new iq(e,r):new oq(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(sl(s,this.value)):s!==null&&tl(this.value)===tl(s)&&this.matchesComparison(sl(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kt extends TA{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new Kt(e,s)}matches(e){return gu(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gu(a){return a.op==="and"}function Lv(a){return a.op==="or"}function gj(a){return EA(a)&&gu(a)}function EA(a){for(const e of a.filters)if(e instanceof Kt)return!1;return!0}function zv(a){if(a instanceof Et)return a.field.canonicalString()+a.op.toString()+pu(a.value);if(gj(a))return a.filters.map((e=>zv(e))).join(",");{const e=a.filters.map((s=>zv(s))).join(",");return`${a.op}(${e})`}}function CA(a,e){return a instanceof Et?(function(r,i){return i instanceof Et&&r.op===i.op&&r.field.isEqual(i.field)&&oi(r.value,i.value)})(a,e):a instanceof Kt?(function(r,i){return i instanceof Kt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((l,c,f)=>l&&CA(c,i.filters[f])),!0):!1})(a,e):void $e(19439)}function AA(a,e){const s=a.filters.concat(e);return Kt.create(s,a.op)}function IA(a){return a instanceof Et?(function(s){return`${s.field.canonicalString()} ${s.op} ${pu(s.value)}`})(a):a instanceof Kt?(function(s){return s.op.toString()+" {"+s.getFilters().map(IA).join(" ,")+"}"})(a):"Filter"}class nq extends Et{constructor(e,s,r){super(e,s,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const s=Ve.comparator(e.key,this.key);return this.matchesComparison(s)}}class iq extends Et{constructor(e,s){super(e,"in",s),this.keys=RA("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class oq extends Et{constructor(e,s){super(e,"not-in",s),this.keys=RA("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function RA(a,e){var s;return(((s=e.arrayValue)==null?void 0:s.values)||[]).map((r=>Ve.fromName(r.referenceValue)))}class lq extends Et{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return Wf(s)&&Kf(s.arrayValue,this.value)}}class PA extends Et{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&Kf(this.value.arrayValue,s)}}class cq extends Et{constructor(e,s){super(e,"not-in",s)}matches(e){if(Kf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Kf(this.value.arrayValue,s)}}class dq extends Et{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!Wf(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>Kf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,s=null,r=[],i=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Vv(a,e=null,s=[],r=[],i=null,l=null,c=null){return new uq(a,e,s,r,i,l,c)}function yc(a){const e=Fe(a);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>zv(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),pm(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>pu(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>pu(r))).join(",")),e.Te=s}return e.Te}function xm(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<a.orderBy.length;s++)if(!rq(a.orderBy[s],e.orderBy[s]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let s=0;s<a.filters.length;s++)if(!CA(a.filters[s],e.filters[s]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!$S(a.startAt,e.startAt)&&$S(a.endAt,e.endAt)}function Jg(a){return Ve.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function Xg(a,e){return a.filters.filter((s=>s instanceof Et&&s.field.isEqual(e)))}function qS(a,e,s){let r=Sg,i=!0;for(const l of Xg(a,e)){let c=Sg,f=!0;switch(l.op){case"<":case"<=":c=sq(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,f=!1;break;case"!=":case"not-in":c=Sg}US({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(s!==null){for(let l=0;l<a.orderBy.length;++l)if(a.orderBy[l].field.isEqual(e)){const c=s.position[l];US({value:r,inclusive:i},{value:c,inclusive:s.inclusive})<0&&(r=c,i=s.inclusive);break}}return{value:r,inclusive:i}}function HS(a,e,s){let r=Lo,i=!0;for(const l of Xg(a,e)){let c=Lo,f=!0;switch(l.op){case">=":case">":c=aq(l.value),f=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,f=!1;break;case"!=":case"not-in":c=Lo}FS({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(s!==null){for(let l=0;l<a.orderBy.length;++l)if(a.orderBy[l].field.isEqual(e)){const c=s.position[l];FS({value:r,inclusive:i},{value:c,inclusive:s.inclusive})>0&&(r=c,i=s.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,s=null,r=[],i=[],l=null,c="F",f=null,u=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function DA(a,e,s,r,i,l,c,f){return new Hi(a,e,s,r,i,l,c,f)}function Lu(a){return new Hi(a)}function GS(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function hq(a){return Ve.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function xj(a){return a.collectionGroup!==null}function Wd(a){const e=Fe(a);if(e.Ie===null){e.Ie=[];const s=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),s.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Wt(bs.comparator);return c.filters.forEach((u=>{u.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((l=>{s.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Yf(l,r))})),s.has(bs.keyField().canonicalString())||e.Ie.push(new Yf(bs.keyField(),r))}return e.Ie}function qa(a){const e=Fe(a);return e.Ee||(e.Ee=fq(e,Wd(a))),e.Ee}function fq(a,e){if(a.limitType==="F")return Vv(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((i=>{const l=i.dir==="desc"?"asc":"desc";return new Yf(i.field,l)}));const s=a.endAt?new al(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new al(a.startAt.position,a.startAt.inclusive):null;return Vv(a.path,a.collectionGroup,e,a.filters,a.limit,s,r)}}function Uv(a,e){const s=a.filters.concat([e]);return new Hi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),s,a.limit,a.limitType,a.startAt,a.endAt)}function mq(a,e){const s=a.explicitOrderBy.concat([e]);return new Hi(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}function Zg(a,e,s){return new Hi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,s,a.startAt,a.endAt)}function pq(a,e){return new Hi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,e,a.endAt)}function gq(a,e){return new Hi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,e)}function ym(a,e){return xm(qa(a),qa(e))&&a.limitType===e.limitType}function MA(a){return`${yc(qa(a))}|lt:${a.limitType}`}function Md(a){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((i=>IA(i))).join(", ")}]`),pm(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((i=>pu(i))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((i=>pu(i))).join(",")),`Target(${r})`})(qa(a))}; limitType=${a.limitType})`}function bm(a,e){return e.isFoundDocument()&&(function(r,i){const l=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ve.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(a,e)&&(function(r,i){for(const l of Wd(r))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0})(a,e)&&(function(r,i){for(const l of r.filters)if(!l.matches(i))return!1;return!0})(a,e)&&(function(r,i){return!(r.startAt&&!(function(c,f,u){const m=BS(c,f,u);return c.inclusive?m<=0:m<0})(r.startAt,Wd(r),i)||r.endAt&&!(function(c,f,u){const m=BS(c,f,u);return c.inclusive?m>=0:m>0})(r.endAt,Wd(r),i))})(a,e)}function OA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function LA(a){return(e,s)=>{let r=!1;for(const i of Wd(a)){const l=xq(i,e,s);if(l!==0)return l;r=r||i.field.isKeyField()}return 0}}function xq(a,e,s){const r=a.field.isKeyField()?Ve.comparator(e.key,s.key):(function(l,c,f){const u=c.data.field(l),m=f.data.field(l);return u!==null&&m!==null?sl(u,m):$e(42886)})(a.field,e,s);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return $e(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[i,l]of r)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,s]);i.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[s]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hl(this.inner,((s,r)=>{for(const[i,l]of r)e(i,l)}))}isEmpty(){return xA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq=new ns(Ve.comparator);function cr(){return yq}const zA=new ns(Ve.comparator);function uf(...a){let e=zA;for(const s of a)e=e.insert(s.key,s);return e}function VA(a){let e=zA;return a.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function Zn(){return Tf()}function UA(){return Tf()}function Tf(){return new Gi((a=>a.toString()),((a,e)=>a.isEqual(e)))}const bq=new ns(Ve.comparator),vq=new Wt(Ve.comparator);function mt(...a){let e=vq;for(const s of a)e=e.add(s);return e}const wq=new Wt(ot);function yj(){return wq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bf(e)?"-0":e}}function FA(a){return{integerValue:""+a}}function BA(a,e){return iA(e)?FA(e):bj(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this._=void 0}}function jq(a,e,s){return a instanceof xu?(function(i,l){const c={fields:{[vA]:{stringValue:bA},[jA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&zx(l)&&(l=Vx(l)),l&&(c.fields[wA]=l),{mapValue:c}})(s,e):a instanceof bc?qA(a,e):a instanceof vc?HA(a,e):(function(i,l){const c=$A(i,l),f=KS(c)+KS(i.Ae);return Ov(c)&&Ov(i.Ae)?FA(f):bj(i.serializer,f)})(a,e)}function Nq(a,e,s){return a instanceof bc?qA(a,e):a instanceof vc?HA(a,e):s}function $A(a,e){return a instanceof yu?(function(r){return Ov(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class xu extends Fx{}class bc extends Fx{constructor(e){super(),this.elements=e}}function qA(a,e){const s=GA(e);for(const r of a.elements)s.some((i=>oi(i,r)))||s.push(r);return{arrayValue:{values:s}}}class vc extends Fx{constructor(e){super(),this.elements=e}}function HA(a,e){let s=GA(e);for(const r of a.elements)s=s.filter((i=>!oi(i,r)));return{arrayValue:{values:s}}}class yu extends Fx{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function KS(a){return xs(a.integerValue||a.doubleValue)}function GA(a){return Wf(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,s){this.field=e,this.transform=s}}function _q(a,e){return a.field.isEqual(e.field)&&(function(r,i){return r instanceof bc&&i instanceof bc||r instanceof vc&&i instanceof vc?lu(r.elements,i.elements,oi):r instanceof yu&&i instanceof yu?oi(r.Ae,i.Ae):r instanceof xu&&i instanceof xu})(a.transform,e.transform)}class kq{constructor(e,s){this.version=e,this.transformResults=s}}class vs{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new vs}static exists(e){return new vs(void 0,e)}static updateTime(e){return new vs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cg(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Bx{}function KA(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Vu(a.key,vs.none()):new zu(a.key,a.data,vs.none());{const s=a.data,r=wa.empty();let i=new Wt(bs.comparator);for(let l of e.fields)if(!i.has(l)){let c=s.field(l);c===null&&l.length>1&&(l=l.popLast(),c=s.field(l)),c===null?r.delete(l):r.set(l,c),i=i.add(l)}return new Ki(a.key,r,new lr(i.toArray()),vs.none())}}function Sq(a,e,s){a instanceof zu?(function(i,l,c){const f=i.value.clone(),u=YS(i.fieldTransforms,l,c.transformResults);f.setAll(u),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(a,e,s):a instanceof Ki?(function(i,l,c){if(!Cg(i.precondition,l))return void l.convertToUnknownDocument(c.version);const f=YS(i.fieldTransforms,l,c.transformResults),u=l.data;u.setAll(WA(i)),u.setAll(f),l.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(a,e,s):(function(i,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,s)}function Ef(a,e,s,r){return a instanceof zu?(function(l,c,f,u){if(!Cg(l.precondition,c))return f;const m=l.value.clone(),g=QS(l.fieldTransforms,u,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(a,e,s,r):a instanceof Ki?(function(l,c,f,u){if(!Cg(l.precondition,c))return f;const m=QS(l.fieldTransforms,u,c),g=c.data;return g.setAll(WA(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(a,e,s,r):(function(l,c,f){return Cg(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(a,e,s)}function Tq(a,e){let s=null;for(const r of a.fieldTransforms){const i=e.data.field(r.field),l=$A(r.transform,i||null);l!=null&&(s===null&&(s=wa.empty()),s.set(r.field,l))}return s||null}function WS(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lu(r,i,((l,c)=>_q(l,c)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class zu extends Bx{constructor(e,s,r,i=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ki extends Bx{constructor(e,s,r,i,l=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function WA(a){const e=new Map;return a.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=a.data.field(s);e.set(s,r)}})),e}function YS(a,e,s){const r=new Map;We(a.length===s.length,32656,{Ve:s.length,de:a.length});for(let i=0;i<s.length;i++){const l=a[i],c=l.transform,f=e.data.field(l.field);r.set(l.field,Nq(c,f,s[i]))}return r}function QS(a,e,s){const r=new Map;for(const i of a){const l=i.transform,c=s.data.field(i.field);r.set(i.field,jq(l,c,e))}return r}class Vu extends Bx{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vj extends Bx{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,s,r,i){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&Sq(l,e,r[i])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=Ef(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=Ef(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=UA();return this.mutations.forEach((i=>{const l=e.get(i.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=s.has(i.key)?null:f;const u=KA(c,f);u!==null&&r.set(i.key,u),c.isValidDocument()||c.convertToNoDocument(et.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),mt())}isEqual(e){return this.batchId===e.batchId&&lu(this.mutations,e.mutations,((s,r)=>WS(s,r)))&&lu(this.baseMutations,e.baseMutations,((s,r)=>WS(s,r)))}}class jj{constructor(e,s,r,i){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=i}static from(e,s,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return bq})();const l=e.mutations;for(let c=0;c<l.length;c++)i=i.insert(l[c].key,r[c].version);return new jj(e,s,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ys,At;function YA(a){switch(a){case pe.OK:return $e(64938);case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return $e(15467,{code:a})}}function QA(a){if(a===void 0)return Vs("GRPC error has no .code"),pe.UNKNOWN;switch(a){case Ys.OK:return pe.OK;case Ys.CANCELLED:return pe.CANCELLED;case Ys.UNKNOWN:return pe.UNKNOWN;case Ys.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Ys.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Ys.INTERNAL:return pe.INTERNAL;case Ys.UNAVAILABLE:return pe.UNAVAILABLE;case Ys.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Ys.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Ys.NOT_FOUND:return pe.NOT_FOUND;case Ys.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Ys.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Ys.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Ys.ABORTED:return pe.ABORTED;case Ys.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Ys.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Ys.DATA_LOSS:return pe.DATA_LOSS;default:return $e(39323,{code:a})}}(At=Ys||(Ys={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq=new $o([4294967295,4294967295],0);function JS(a){const e=JA().encode(a),s=new $C;return s.update(e),new Uint8Array(s.digest())}function XS(a){const e=new DataView(a.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new $o([s,r],0),new $o([i,l],0)]}class _j{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new hf(`Invalid padding: ${s}`);if(r<0)throw new hf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hf(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new hf(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=$o.fromNumber(this.ge)}ye(e,s,r){let i=e.add(s.multiply($o.fromNumber(r)));return i.compare(Cq)===1&&(i=new $o([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=JS(e),[r,i]=XS(s);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,i,l);if(!this.we(c))return!1}return!0}static create(e,s,r){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new _j(l,i,s);return r.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const s=JS(e),[r,i]=XS(s);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,i,l);this.be(c)}}be(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class hf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,s,r,i,l){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const i=new Map;return i.set(e,jm.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new wm(et.min(),i,new ns(ot),cr(),mt())}}class jm{constructor(e,s,r,i,l){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new jm(r,s,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,s,r,i){this.Se=e,this.removedTargetIds=s,this.key=r,this.De=i}}class XA{constructor(e,s){this.targetId=e,this.Ce=s}}class ZA{constructor(e,s,r=Ps.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=i}}class ZS{constructor(){this.ve=0,this.Fe=e4(),this.Me=Ps.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=mt(),s=mt(),r=mt();return this.Fe.forEach(((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:s=s.add(i);break;case 1:r=r.add(i);break;default:$e(38017,{changeType:l})}})),new jm(this.Me,this.xe,e,s,r)}Ke(){this.Oe=!1,this.Fe=e4()}qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Aq{constructor(e){this.Ge=e,this.ze=new Map,this.je=cr(),this.He=og(),this.Je=og(),this.Ze=new ns(ot)}Xe(e){for(const s of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:$e(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((r,i)=>{this.rt(i)&&s(i)}))}st(e){const s=e.targetId,r=e.Ce.count,i=this.ot(s);if(i){const l=i.target;if(Jg(l))if(r===0){const c=new Ve(l.path);this.et(s,c,us.newNoDocument(c,et.min()))}else We(r===1,20013,{expectedCount:r});else{const c=this._t(s);if(c!==r){const f=this.ut(e),u=f?this.ct(f,e,c):1;if(u!==0){this.it(s);const m=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(s,m)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:l=0}=s;let c,f;try{c=Fi(r).toUint8Array()}catch(u){if(u instanceof yA)return ii("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{f=new _j(c,i,l)}catch(u){return ii(u instanceof hf?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return f.ge===0?null:f}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let i=0;return r.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(s,l,null),i++)})),i}Tt(e){const s=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Jg(f.target)){const u=new Ve(f.target.path);this.It(u).has(c)||this.Et(c,u)||this.et(c,u,us.newNoDocument(u,e))}l.Be&&(s.set(c,l.ke()),l.Ke())}}));let r=mt();this.Je.forEach(((l,c)=>{let f=!0;c.forEachWhile((u=>{const m=this.ot(u);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const i=new wm(e,s,this.Ze,this.je,r);return this.je=cr(),this.He=og(),this.Je=og(),this.Ze=new ns(ot),i}Ye(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).qe(s.key,r),this.je=this.je.insert(s.key,s),this.He=this.He.insert(s.key,this.It(s.key).add(e)),this.Je=this.Je.insert(s.key,this.Rt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,s)?i.qe(s,1):i.Ue(s),this.Je=this.Je.insert(s,this.Rt(s).delete(e)),this.Je=this.Je.insert(s,this.Rt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let s=this.ze.get(e);return s||(s=new ZS,this.ze.set(e,s)),s}Rt(e){let s=this.Je.get(e);return s||(s=new Wt(ot),this.Je=this.Je.insert(e,s)),s}It(e){let s=this.He.get(e);return s||(s=new Wt(ot),this.He=this.He.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||Ae("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ZS),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function og(){return new ns(Ve.comparator)}function e4(){return new ns(Ve.comparator)}const Iq={asc:"ASCENDING",desc:"DESCENDING"},Rq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pq={and:"AND",or:"OR"};class Dq{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function Fv(a,e){return a.useProto3Json||pm(e)?e:{value:e}}function bu(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eI(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Mq(a,e){return bu(a,e.toTimestamp())}function Us(a){return We(!!a,49232),et.fromTimestamp((function(s){const r=Ui(s);return new Bt(r.seconds,r.nanos)})(a))}function kj(a,e){return Bv(a,e).canonicalString()}function Bv(a,e){const s=(function(i){return new Nt(["projects",i.projectId,"databases",i.database])})(a).child("documents");return e===void 0?s:s.child(e)}function tI(a){const e=Nt.fromString(a);return We(uI(e),10190,{key:e.toString()}),e}function Qf(a,e){return kj(a.databaseId,e.path)}function ai(a,e){const s=tI(e);if(s.get(1)!==a.databaseId.projectId)throw new Te(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+a.databaseId.projectId);if(s.get(3)!==a.databaseId.database)throw new Te(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+a.databaseId.database);return new Ve(rI(s))}function sI(a,e){return kj(a.databaseId,e)}function aI(a){const e=tI(a);return e.length===4?Nt.emptyPath():rI(e)}function $v(a){return new Nt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function rI(a){return We(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function t4(a,e,s){return{name:Qf(a,e),fields:s.value.mapValue.fields}}function nI(a,e,s){const r=ai(a,e.name),i=Us(e.updateTime),l=e.createTime?Us(e.createTime):et.min(),c=new wa({mapValue:{fields:e.fields}}),f=us.newFoundDocument(r,i,l,c);return s&&f.setHasCommittedMutations(),s?f.setHasCommittedMutations():f}function Oq(a,e){return"found"in e?(function(r,i){We(!!i.found,43571),i.found.name,i.found.updateTime;const l=ai(r,i.found.name),c=Us(i.found.updateTime),f=i.found.createTime?Us(i.found.createTime):et.min(),u=new wa({mapValue:{fields:i.found.fields}});return us.newFoundDocument(l,c,f,u)})(a,e):"missing"in e?(function(r,i){We(!!i.missing,3894),We(!!i.readTime,22933);const l=ai(r,i.missing),c=Us(i.readTime);return us.newNoDocument(l,c)})(a,e):$e(7234,{result:e})}function Lq(a,e){let s;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:$e(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(We(g===void 0||typeof g=="string",58123),Ps.fromBase64String(g||"")):(We(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Ps.fromUint8Array(g||new Uint8Array))})(a,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(m){const g=m.code===void 0?pe.UNKNOWN:QA(m.code);return new Te(g,m.message||"")})(c);s=new ZA(r,i,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ai(a,r.document.name),l=Us(r.document.updateTime),c=r.document.createTime?Us(r.document.createTime):et.min(),f=new wa({mapValue:{fields:r.document.fields}}),u=us.newFoundDocument(i,l,c,f),m=r.targetIds||[],g=r.removedTargetIds||[];s=new Ag(m,g,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ai(a,r.document),l=r.readTime?Us(r.readTime):et.min(),c=us.newNoDocument(i,l),f=r.removedTargetIds||[];s=new Ag([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ai(a,r.document),l=r.removedTargetIds||[];s=new Ag([],l,i,null)}else{if(!("filter"in e))return $e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:l}=r,c=new Eq(i,l),f=r.targetId;s=new XA(f,c)}}return s}function Jf(a,e){let s;if(e instanceof zu)s={update:t4(a,e.key,e.value)};else if(e instanceof Vu)s={delete:Qf(a,e.key)};else if(e instanceof Ki)s={update:t4(a,e.key,e.data),updateMask:$q(e.fieldMask)};else{if(!(e instanceof vj))return $e(16599,{dt:e.type});s={verify:Qf(a,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const f=c.transform;if(f instanceof xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof bc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof vc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof yu)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw $e(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(i,l){return l.updateTime!==void 0?{updateTime:Mq(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:$e(27497)})(a,e.precondition)),s}function qv(a,e){const s=e.currentDocument?(function(l){return l.updateTime!==void 0?vs.updateTime(Us(l.updateTime)):l.exists!==void 0?vs.exists(l.exists):vs.none()})(e.currentDocument):vs.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(c,f){let u=null;if("setToServerValue"in f)We(f.setToServerValue==="REQUEST_TIME",16630,{proto:f}),u=new xu;else if("appendMissingElements"in f){const g=f.appendMissingElements.values||[];u=new bc(g)}else if("removeAllFromArray"in f){const g=f.removeAllFromArray.values||[];u=new vc(g)}else"increment"in f?u=new yu(c,f.increment):$e(16584,{proto:f});const m=bs.fromServerFormat(f.fieldPath);return new vm(m,u)})(a,i))):[];if(e.update){e.update.name;const i=ai(a,e.update.name),l=new wa({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(u){const m=u.fieldPaths||[];return new lr(m.map((g=>bs.fromServerFormat(g))))})(e.updateMask);return new Ki(i,l,c,s,r)}return new zu(i,l,s,r)}if(e.delete){const i=ai(a,e.delete);return new Vu(i,s)}if(e.verify){const i=ai(a,e.verify);return new vj(i,s)}return $e(1463,{proto:e})}function zq(a,e){return a&&a.length>0?(We(e!==void 0,14353),a.map((s=>(function(i,l){let c=i.updateTime?Us(i.updateTime):Us(l);return c.isEqual(et.min())&&(c=Us(l)),new kq(c,i.transformResults||[])})(s,e)))):[]}function iI(a,e){return{documents:[sI(a,e.path)]}}function oI(a,e){const s={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=sI(a,i);const l=(function(m){if(m.length!==0)return dI(Kt.create(m,"and"))})(e.filters);l&&(s.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(v){return{field:Od(v.field),direction:Uq(v.dir)}})(g)))})(e.orderBy);c&&(s.structuredQuery.orderBy=c);const f=Fv(a,e.limit);return f!==null&&(s.structuredQuery.limit=f),e.startAt&&(s.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:s,parent:i}}function lI(a){let e=aI(a.parent);const s=a.structuredQuery,r=s.from?s.from.length:0;let i=null;if(r>0){We(r===1,65062);const g=s.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let l=[];s.where&&(l=(function(b){const v=cI(b);return v instanceof Kt&&gj(v)?v.getFilters():[v]})(s.where));let c=[];s.orderBy&&(c=(function(b){return b.map((v=>(function(N){return new Yf(Ld(N.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(v)))})(s.orderBy));let f=null;s.limit&&(f=(function(b){let v;return v=typeof b=="object"?b.value:b,pm(v)?null:v})(s.limit));let u=null;s.startAt&&(u=(function(b){const v=!!b.before,E=b.values||[];return new al(E,v)})(s.startAt));let m=null;return s.endAt&&(m=(function(b){const v=!b.before,E=b.values||[];return new al(E,v)})(s.endAt)),DA(e,i,c,l,f,"F",u,m)}function Vq(a,e){const s=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:i})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function cI(a){return a.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=Ld(s.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ld(s.unaryFilter.field);return Et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ld(s.unaryFilter.field);return Et.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ld(s.unaryFilter.field);return Et.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}})(a):a.fieldFilter!==void 0?(function(s){return Et.create(Ld(s.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(s){return Kt.create(s.compositeFilter.filters.map((r=>cI(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $e(1026)}})(s.compositeFilter.op))})(a):$e(30097,{filter:a})}function Uq(a){return Iq[a]}function Fq(a){return Rq[a]}function Bq(a){return Pq[a]}function Od(a){return{fieldPath:a.canonicalString()}}function Ld(a){return bs.fromServerFormat(a.fieldPath)}function dI(a){return a instanceof Et?(function(s){if(s.op==="=="){if(VS(s.value))return{unaryFilter:{field:Od(s.field),op:"IS_NAN"}};if(zS(s.value))return{unaryFilter:{field:Od(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(VS(s.value))return{unaryFilter:{field:Od(s.field),op:"IS_NOT_NAN"}};if(zS(s.value))return{unaryFilter:{field:Od(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Od(s.field),op:Fq(s.op),value:s.value}}})(a):a instanceof Kt?(function(s){const r=s.getFilters().map((i=>dI(i)));return r.length===1?r[0]:{compositeFilter:{op:Bq(s.op),filters:r}}})(a):$e(54877,{filter:a})}function $q(a){const e=[];return a.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function uI(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function hI(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,s,r,i,l=et.min(),c=et.min(),f=Ps.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=u}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.yt=e}}function qq(a,e){let s;if(e.document)s=nI(a.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ve.fromSegments(e.noDocument.path),i=jc(e.noDocument.readTime);s=us.newNoDocument(r,i),e.hasCommittedMutations&&s.setHasCommittedMutations()}else{if(!e.unknownDocument)return $e(56709);{const r=Ve.fromSegments(e.unknownDocument.path),i=jc(e.unknownDocument.version);s=us.newUnknownDocument(r,i)}}return e.readTime&&s.setReadTime((function(i){const l=new Bt(i[0],i[1]);return et.fromTimestamp(l)})(e.readTime)),s}function s4(a,e){const s=e.key,r={prefixPath:s.getCollectionPath().popLast().toArray(),collectionGroup:s.collectionGroup,documentId:s.path.lastSegment(),readTime:ex(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(l,c){return{name:Qf(l,c.key),fields:c.data.value.mapValue.fields,updateTime:bu(l,c.version.toTimestamp()),createTime:bu(l,c.createTime.toTimestamp())}})(a.yt,e);else if(e.isNoDocument())r.noDocument={path:s.path.toArray(),readTime:wc(e.version)};else{if(!e.isUnknownDocument())return $e(57904,{document:e});r.unknownDocument={path:s.path.toArray(),version:wc(e.version)}}return r}function ex(a){const e=a.toTimestamp();return[e.seconds,e.nanoseconds]}function wc(a){const e=a.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function jc(a){const e=new Bt(a.seconds,a.nanoseconds);return et.fromTimestamp(e)}function ql(a,e){const s=(e.baseMutations||[]).map((l=>qv(a.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const f=e.mutations[l+1];c.updateTransforms=f.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const r=e.mutations.map((l=>qv(a.yt,l))),i=Bt.fromMillis(e.localWriteTimeMs);return new wj(e.batchId,i,s,r)}function ff(a){const e=jc(a.readTime),s=a.lastLimboFreeSnapshotVersion!==void 0?jc(a.lastLimboFreeSnapshotVersion):et.min();let r;return r=(function(l){return l.documents!==void 0})(a.query)?(function(l){const c=l.documents.length;return We(c===1,1966,{count:c}),qa(Lu(aI(l.documents[0])))})(a.query):(function(l){return qa(lI(l))})(a.query),new Ai(r,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,e,s,Ps.fromBase64String(a.resumeToken))}function mI(a,e){const s=wc(e.snapshotVersion),r=wc(e.lastLimboFreeSnapshotVersion);let i;i=Jg(e.target)?iI(a.yt,e.target):oI(a.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:yc(e.target),readTime:s,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Sj(a){const e=lI({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Zg(e,e.limit,"L"):e}function Vb(a,e){return new Nj(e.largestBatchId,qv(a.yt,e.overlayMutation))}function a4(a,e){const s=e.path.lastSegment();return[a,Da(e.path.popLast()),s]}function r4(a,e,s,r){return{indexId:a,uid:e,sequenceNumber:s,readTime:wc(r.readTime),documentKey:Da(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{getBundleMetadata(e,s){return n4(e).get(s).next((r=>{if(r)return(function(l){return{id:l.bundleId,createTime:jc(l.createTime),version:l.version}})(r)}))}saveBundleMetadata(e,s){return n4(e).put((function(i){return{bundleId:i.id,createTime:wc(Us(i.createTime)),version:i.version}})(s))}getNamedQuery(e,s){return i4(e).get(s).next((r=>{if(r)return(function(l){return{name:l.name,query:Sj(l.bundledQuery),readTime:jc(l.readTime)}})(r)}))}saveNamedQuery(e,s){return i4(e).put((function(i){return{name:i.name,readTime:wc(Us(i.readTime)),bundledQuery:i.bundledQuery}})(s))}}function n4(a){return sa(a,Mx)}function i4(a){return sa(a,Ox)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,s){this.serializer=e,this.userId=s}static wt(e,s){const r=s.uid||"";return new $x(e,r)}getOverlay(e,s){return Xh(e).get(a4(this.userId,s)).next((r=>r?Vb(this.serializer,r):null))}getOverlays(e,s){const r=Zn();return oe.forEach(s,(i=>this.getOverlay(e,i).next((l=>{l!==null&&r.set(i,l)})))).next((()=>r))}saveOverlays(e,s,r){const i=[];return r.forEach(((l,c)=>{const f=new Nj(s,c);i.push(this.bt(e,f))})),oe.waitFor(i)}removeOverlaysForBatchId(e,s,r){const i=new Set;s.forEach((c=>i.add(Da(c.getCollectionPath()))));const l=[];return i.forEach((c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(Xh(e).X(Rv,f))})),oe.waitFor(l)}getOverlaysForCollection(e,s,r){const i=Zn(),l=Da(s),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Xh(e).H(Rv,c).next((f=>{for(const u of f){const m=Vb(this.serializer,u);i.set(m.getKey(),m)}return i}))}getOverlaysForCollectionGroup(e,s,r,i){const l=Zn();let c;const f=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Xh(e).ee({index:hA,range:f},((u,m,g)=>{const b=Vb(this.serializer,m);l.size()<i||b.largestBatchId===c?(l.set(b.getKey(),b),c=b.largestBatchId):g.done()})).next((()=>l))}bt(e,s){return Xh(e).put((function(i,l,c){const[f,u,m]=a4(l,c.mutation.key);return{userId:l,collectionPath:u,documentId:m,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Jf(i.yt,c.mutation)}})(this.serializer,this.userId,s))}}function Xh(a){return sa(a,Lx)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{St(e){return sa(e,hj)}getSessionToken(e){return this.St(e).get("sessionToken").next((s=>{const r=s==null?void 0:s.value;return r?Ps.fromUint8Array(r):Ps.EMPTY_BYTE_STRING}))}setSessionToken(e,s){return this.St(e).put({name:"sessionToken",value:s.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){}Dt(e,s){this.Ct(e,s),s.vt()}Ct(e,s){if("nullValue"in e)this.Ft(s,5);else if("booleanValue"in e)this.Ft(s,10),s.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(s,15),s.Mt(xs(e.integerValue));else if("doubleValue"in e){const r=xs(e.doubleValue);isNaN(r)?this.Ft(s,13):(this.Ft(s,15),Bf(r)?s.Mt(0):s.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(s,20),typeof r=="string"&&(r=Ui(r)),s.xt(`${r.seconds||""}`),s.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,s),this.Nt(s);else if("bytesValue"in e)this.Ft(s,30),s.Bt(Fi(e.bytesValue)),this.Nt(s);else if("referenceValue"in e)this.Lt(e.referenceValue,s);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(s,45),s.Mt(r.latitude||0),s.Mt(r.longitude||0)}else"mapValue"in e?_A(e)?this.Ft(s,Number.MAX_SAFE_INTEGER):Ux(e)?this.kt(e.mapValue,s):(this.Kt(e.mapValue,s),this.Nt(s)):"arrayValue"in e?(this.qt(e.arrayValue,s),this.Nt(s)):$e(19022,{Ut:e})}Ot(e,s){this.Ft(s,25),this.$t(e,s)}$t(e,s){s.xt(e)}Kt(e,s){const r=e.fields||{};this.Ft(s,55);for(const i of Object.keys(r))this.Ot(i,s),this.Ct(r[i],s)}kt(e,s){var c,f;const r=e.fields||{};this.Ft(s,53);const i=mu,l=((f=(c=r[i].arrayValue)==null?void 0:c.values)==null?void 0:f.length)||0;this.Ft(s,15),s.Mt(xs(l)),this.Ot(i,s),this.Ct(r[i],s)}qt(e,s){const r=e.values||[];this.Ft(s,50);for(const i of r)this.Ct(i,s)}Lt(e,s){this.Ft(s,37),Ve.fromName(e).path.forEach((r=>{this.Ft(s,60),this.$t(r,s)}))}Ft(e,s){e.Mt(s)}Nt(e){e.Mt(2)}}Hl.Wt=new Hl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=255;function Kq(a){if(a===0)return 8;let e=0;return a>>4||(e+=4,a<<=4),a>>6||(e+=2,a<<=2),a>>7||(e+=1),e}function o4(a){const e=64-(function(r){let i=0;for(let l=0;l<8;++l){const c=Kq(255&r[l]);if(i+=c,c!==8)break}return i})(a);return Math.ceil(e/8)}class Wq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const s=e[Symbol.iterator]();let r=s.next();for(;!r.done;)this.Gt(r.value),r=s.next();this.zt()}jt(e){const s=e[Symbol.iterator]();let r=s.next();for(;!r.done;)this.Ht(r.value),r=s.next();this.Jt()}Zt(e){for(const s of e){const r=s.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(s<"\uD800"||"\uDBFF"<s)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=s.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const s of e){const r=s.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(s<"\uD800"||"\uDBFF"<s)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=s.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const s=this.en(e),r=o4(s);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=s.length-r;i<s.length;++i)this.buffer[this.position++]=255&s[i]}nn(e){const s=this.en(e),r=o4(s);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=s.length-r;i<s.length;++i)this.buffer[this.position++]=~(255&s[i])}rn(){this.sn(Ad),this.sn(255)}_n(){this.an(Ad),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const s=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(e),r=!!(128&s[0]);s[0]^=r?255:128;for(let i=1;i<s.length;++i)s[i]^=r?255:0;return s}Gt(e){const s=255&e;s===0?(this.sn(0),this.sn(255)):s===Ad?(this.sn(Ad),this.sn(0)):this.sn(s)}Ht(e){const s=255&e;s===0?(this.an(0),this.an(255)):s===Ad?(this.an(Ad),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const s=e+this.position;if(s<=this.buffer.length)return;let r=2*this.buffer.length;r<s&&(r=s);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Yq{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class Qq{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Zh{constructor(){this.cn=new Wq,this.ascending=new Yq(this.cn),this.descending=new Qq(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,s,r,i){this.hn=e,this.Pn=s,this.Tn=r,this.In=i}En(){const e=this.In.length,s=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(s);return r.set(this.In,0),s!==e?r.set([0],this.In.length):++r[r.length-1],new Gl(this.hn,this.Pn,this.Tn,r)}Rn(e,s,r){return{indexId:this.hn,uid:e,arrayValue:Ig(this.Tn),directionalValue:Ig(this.In),orderedDocumentKey:Ig(s),documentKey:r.path.toArray()}}An(e,s,r){const i=this.Rn(e,s,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Io(a,e){let s=a.hn-e.hn;return s!==0?s:(s=l4(a.Tn,e.Tn),s!==0?s:(s=l4(a.In,e.In),s!==0?s:Ve.comparator(a.Pn,e.Pn)))}function l4(a,e){for(let s=0;s<a.length&&s<e.length;++s){const r=a[s]-e[s];if(r!==0)return r}return a.length-e.length}function Ig(a){return CE()?(function(s){let r="";for(let i=0;i<s.length;i++)r+=String.fromCharCode(s[i]);return r})(a):a}function c4(a){return typeof a!="string"?a:(function(s){const r=new Uint8Array(s.length);for(let i=0;i<s.length;i++)r[i]=s.charCodeAt(i);return r})(a)}class d4{constructor(e){this.Vn=new Wt(((s,r)=>bs.comparator(s.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const s of e.filters){const r=s;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(We(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const s=Cv(e);if(s!==void 0&&!this.pn(s))return!1;const r=Fl(e);let i=new Set,l=0,c=0;for(;l<r.length&&this.pn(r[l]);++l)i=i.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.Vn.size>0){const f=this.Vn.getIterator().getNext();if(!i.has(f.field.canonicalString())){const u=r[l];if(!this.yn(f,u)||!this.wn(this.dn[c++],u))return!1}++l}for(;l<r.length;++l){const f=r[l];if(c>=this.dn.length||!this.wn(this.dn[c++],f))return!1}return!0}bn(){if(this.fn)return null;let e=new Wt(bs.comparator);const s=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")s.push(new Ng(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),s.push(new Ng(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),s.push(new Ng(r.field,r.dir==="asc"?0:1)));return new Kg(Kg.UNKNOWN_ID,this.collectionId,s,Ff.empty())}pn(e){for(const s of this.mn)if(this.yn(s,e))return!0;return!1}yn(e,s){if(e===void 0||!e.field.isEqual(s.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return s.kind===2===r}wn(e,s){return!!e.field.isEqual(s.fieldPath)&&(s.kind===0&&e.dir==="asc"||s.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(a){var s,r;if(We(a instanceof Et||a instanceof Kt,20012),a instanceof Et){if(a instanceof PA){const i=((r=(s=a.value.arrayValue)==null?void 0:s.values)==null?void 0:r.map((l=>Et.create(a.field,"==",l))))||[];return Kt.create(i,"or")}return a}const e=a.filters.map((i=>pI(i)));return Kt.create(e,a.op)}function Jq(a){if(a.getFilters().length===0)return[];const e=Kv(pI(a));return We(gI(e),7391),Hv(e)||Gv(e)?[e]:e.getFilters()}function Hv(a){return a instanceof Et}function Gv(a){return a instanceof Kt&&gj(a)}function gI(a){return Hv(a)||Gv(a)||(function(s){if(s instanceof Kt&&Lv(s)){for(const r of s.getFilters())if(!Hv(r)&&!Gv(r))return!1;return!0}return!1})(a)}function Kv(a){if(We(a instanceof Et||a instanceof Kt,34018),a instanceof Et)return a;if(a.filters.length===1)return Kv(a.filters[0]);const e=a.filters.map((r=>Kv(r)));let s=Kt.create(e,a.op);return s=tx(s),gI(s)?s:(We(s instanceof Kt,64498),We(gu(s),40251),We(s.filters.length>1,57927),s.filters.reduce(((r,i)=>Tj(r,i))))}function Tj(a,e){let s;return We(a instanceof Et||a instanceof Kt,38388),We(e instanceof Et||e instanceof Kt,25473),s=a instanceof Et?e instanceof Et?(function(i,l){return Kt.create([i,l],"and")})(a,e):u4(a,e):e instanceof Et?u4(e,a):(function(i,l){if(We(i.filters.length>0&&l.filters.length>0,48005),gu(i)&&gu(l))return AA(i,l.getFilters());const c=Lv(i)?i:l,f=Lv(i)?l:i,u=c.filters.map((m=>Tj(m,f)));return Kt.create(u,"or")})(a,e),tx(s)}function u4(a,e){if(gu(e))return AA(e,a.getFilters());{const s=e.filters.map((r=>Tj(a,r)));return Kt.create(s,"or")}}function tx(a){if(We(a instanceof Et||a instanceof Kt,11850),a instanceof Et)return a;const e=a.getFilters();if(e.length===1)return tx(e[0]);if(EA(a))return a;const s=e.map((i=>tx(i))),r=[];return s.forEach((i=>{i instanceof Et?r.push(i):i instanceof Kt&&(i.op===a.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Kt.create(r,a.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(){this.Sn=new Ej}addToCollectionParentIndex(e,s){return this.Sn.add(s),oe.resolve()}getCollectionParents(e,s){return oe.resolve(this.Sn.getEntries(s))}addFieldIndex(e,s){return oe.resolve()}deleteFieldIndex(e,s){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,s){return oe.resolve()}getDocumentsMatchingTarget(e,s){return oe.resolve(null)}getIndexType(e,s){return oe.resolve(0)}getFieldIndexes(e,s){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,s){return oe.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,s){return oe.resolve(Pr.min())}updateCollectionGroup(e,s,r){return oe.resolve()}updateIndexEntries(e,s){return oe.resolve()}}class Ej{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s]||new Wt(Nt.comparator),l=!i.has(r);return this.index[s]=i.add(r),l}has(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wt(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="IndexedDbIndexManager",lg=new Uint8Array(0);class Zq{constructor(e,s){this.databaseId=s,this.Dn=new Ej,this.Cn=new Gi((r=>yc(r)),((r,i)=>xm(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,s){if(!this.Dn.has(s)){const r=s.lastSegment(),i=s.popLast();e.addOnCommittedListener((()=>{this.Dn.add(s)}));const l={collectionId:r,parent:Da(i)};return f4(e).put(l)}return oe.resolve()}getCollectionParents(e,s){const r=[],i=IDBKeyRange.bound([s,""],[JC(s),""],!1,!0);return f4(e).H(i).next((l=>{for(const c of l){if(c.collectionId!==s)break;r.push(Xn(c.parent))}return r}))}addFieldIndex(e,s){const r=ef(e),i=(function(f){return{indexId:f.indexId,collectionGroup:f.collectionGroup,fields:f.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(s);delete i.indexId;const l=r.add(i);if(s.indexState){const c=Rd(e);return l.next((f=>{c.put(r4(f,this.uid,s.indexState.sequenceNumber,s.indexState.offset))}))}return l.next()}deleteFieldIndex(e,s){const r=ef(e),i=Rd(e),l=Id(e);return r.delete(s.indexId).next((()=>i.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const s=ef(e),r=Id(e),i=Rd(e);return s.X().next((()=>r.X())).next((()=>i.X()))}createTargetIndexes(e,s){return oe.forEach(this.vn(s),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const l=new d4(r).bn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,s){const r=Id(e);let i=!0;const l=new Map;return oe.forEach(this.vn(s),(c=>this.Fn(e,c).next((f=>{i&&(i=!!f),l.set(c,f)})))).next((()=>{if(i){let c=mt();const f=[];return oe.forEach(l,((u,m)=>{Ae(h4,`Using index ${(function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map((L=>`${L.fieldPath}:${L.kind}`)).join(",")}`})(u)} to execute ${yc(s)}`);const g=(function(M,L){const $=Cv(L);if($===void 0)return null;for(const X of Xg(M,$.fieldPath))switch(X.op){case"array-contains-any":return X.value.arrayValue.values||[];case"array-contains":return[X.value]}return null})(m,u),b=(function(M,L){const $=new Map;for(const X of Fl(L))for(const C of Xg(M,X.fieldPath))switch(C.op){case"==":case"in":$.set(X.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return $.set(X.fieldPath.canonicalString(),C.value),Array.from($.values())}return null})(m,u),v=(function(M,L){const $=[];let X=!0;for(const C of Fl(L)){const R=C.kind===0?qS(M,C.fieldPath,M.startAt):HS(M,C.fieldPath,M.startAt);$.push(R.value),X&&(X=R.inclusive)}return new al($,X)})(m,u),E=(function(M,L){const $=[];let X=!0;for(const C of Fl(L)){const R=C.kind===0?HS(M,C.fieldPath,M.endAt):qS(M,C.fieldPath,M.endAt);$.push(R.value),X&&(X=R.inclusive)}return new al($,X)})(m,u),N=this.Mn(u,m,v),S=this.Mn(u,m,E),T=this.xn(u,m,b),O=this.On(u.indexId,g,N,v.inclusive,S,E.inclusive,T);return oe.forEach(O,(U=>r.Z(U,s.limit).next((M=>{M.forEach((L=>{const $=Ve.fromSegments(L.documentKey);c.has($)||(c=c.add($),f.push($))}))}))))})).next((()=>f))}return oe.resolve(null)}))}vn(e){let s=this.Cn.get(e);return s||(e.filters.length===0?s=[e]:s=Jq(Kt.create(e.filters,"and")).map((r=>Vv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,s),s)}On(e,s,r,i,l,c,f){const u=(s!=null?s.length:1)*Math.max(r.length,l.length),m=u/(s!=null?s.length:1),g=[];for(let b=0;b<u;++b){const v=s?this.Nn(s[b/m]):lg,E=this.Bn(e,v,r[b%m],i),N=this.Ln(e,v,l[b%m],c),S=f.map((T=>this.Bn(e,v,T,!0)));g.push(...this.createRange(E,N,S))}return g}Bn(e,s,r,i){const l=new Gl(e,Ve.empty(),s,r);return i?l:l.En()}Ln(e,s,r,i){const l=new Gl(e,Ve.empty(),s,r);return i?l.En():l}Fn(e,s){const r=new d4(s),i=s.collectionGroup!=null?s.collectionGroup:s.path.lastSegment();return this.getFieldIndexes(e,i).next((l=>{let c=null;for(const f of l)r.gn(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c}))}getIndexType(e,s){let r=2;const i=this.vn(s);return oe.forEach(i,(l=>this.Fn(e,l).next((c=>{c?r!==0&&c.fields.length<(function(u){let m=new Wt(bs.comparator),g=!1;for(const b of u.filters)for(const v of b.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:m=m.add(v.field));for(const b of u.orderBy)b.field.isKeyField()||(m=m.add(b.field));return m.size+(g?1:0)})(l)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(s)&&i.length>1&&r===2?1:r))}kn(e,s){const r=new Zh;for(const i of Fl(e)){const l=s.data.field(i.fieldPath);if(l==null)return null;const c=r.ln(i.kind);Hl.Wt.Dt(l,c)}return r.un()}Nn(e){const s=new Zh;return Hl.Wt.Dt(e,s.ln(0)),s.un()}Kn(e,s){const r=new Zh;return Hl.Wt.Dt(xc(this.databaseId,s),r.ln((function(l){const c=Fl(l);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}xn(e,s,r){if(r===null)return[];let i=[];i.push(new Zh);let l=0;for(const c of Fl(e)){const f=r[l++];for(const u of i)if(this.qn(s,c.fieldPath)&&Wf(f))i=this.Un(i,c,f);else{const m=u.ln(c.kind);Hl.Wt.Dt(f,m)}}return this.$n(i)}Mn(e,s,r){return this.xn(e,s,r.position)}$n(e){const s=[];for(let r=0;r<e.length;++r)s[r]=e[r].un();return s}Un(e,s,r){const i=[...e],l=[];for(const c of r.arrayValue.values||[])for(const f of i){const u=new Zh;u.seed(f.un()),Hl.Wt.Dt(c,u.ln(s.kind)),l.push(u)}return l}qn(e,s){return!!e.filters.find((r=>r instanceof Et&&r.field.isEqual(s)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,s){const r=ef(e),i=Rd(e);return(s?r.H(Iv,IDBKeyRange.bound(s,s)):r.H()).next((l=>{const c=[];return oe.forEach(l,(f=>i.get([f.indexId,this.uid]).next((u=>{c.push((function(g,b){const v=b?new Ff(b.sequenceNumber,new Pr(jc(b.readTime),new Ve(Xn(b.documentKey)),b.largestBatchId)):Ff.empty(),E=g.fields.map((([N,S])=>new Ng(bs.fromServerFormat(N),S)));return new Kg(g.indexId,g.collectionGroup,E,v)})(f,u))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((s=>s.length===0?null:(s.sort(((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return l!==0?l:ot(r.collectionGroup,i.collectionGroup)})),s[0].collectionGroup)))}updateCollectionGroup(e,s,r){const i=ef(e),l=Rd(e);return this.Wn(e).next((c=>i.H(Iv,IDBKeyRange.bound(s,s)).next((f=>oe.forEach(f,(u=>l.put(r4(u.indexId,this.uid,c,r))))))))}updateIndexEntries(e,s){const r=new Map;return oe.forEach(s,((i,l)=>{const c=r.get(i.collectionGroup);return(c?oe.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next((f=>(r.set(i.collectionGroup,f),oe.forEach(f,(u=>this.Qn(e,i,u).next((m=>{const g=this.Gn(l,u);return m.isEqual(g)?oe.resolve():this.zn(e,l,u,m,g)})))))))}))}jn(e,s,r,i){return Id(e).put(i.Rn(this.uid,this.Kn(r,s.key),s.key))}Hn(e,s,r,i){return Id(e).delete(i.An(this.uid,this.Kn(r,s.key),s.key))}Qn(e,s,r){const i=Id(e);let l=new Wt(Io);return i.ee({index:uA,range:IDBKeyRange.only([r.indexId,this.uid,Ig(this.Kn(r,s))])},((c,f)=>{l=l.add(new Gl(r.indexId,s,c4(f.arrayValue),c4(f.directionalValue)))})).next((()=>l))}Gn(e,s){let r=new Wt(Io);const i=this.kn(s,e);if(i==null)return r;const l=Cv(s);if(l!=null){const c=e.data.field(l.fieldPath);if(Wf(c))for(const f of c.arrayValue.values||[])r=r.add(new Gl(s.indexId,e.key,this.Nn(f),i))}else r=r.add(new Gl(s.indexId,e.key,lg,i));return r}zn(e,s,r,i,l){Ae(h4,"Updating index entries for document '%s'",s.key);const c=[];return(function(u,m,g,b,v){const E=u.getIterator(),N=m.getIterator();let S=Cd(E),T=Cd(N);for(;S||T;){let O=!1,U=!1;if(S&&T){const M=g(S,T);M<0?U=!0:M>0&&(O=!0)}else S!=null?U=!0:O=!0;O?(b(T),T=Cd(N)):U?(v(S),S=Cd(E)):(S=Cd(E),T=Cd(N))}})(i,l,Io,(f=>{c.push(this.jn(e,s,r,f))}),(f=>{c.push(this.Hn(e,s,r,f))})),oe.waitFor(c)}Wn(e){let s=1;return Rd(e).ee({index:dA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,l)=>{l.done(),s=i.sequenceNumber+1})).next((()=>s))}createRange(e,s,r){r=r.sort(((c,f)=>Io(c,f))).filter(((c,f,u)=>!f||Io(c,u[f-1])!==0));const i=[];i.push(e);for(const c of r){const f=Io(c,e),u=Io(c,s);if(f===0)i[0]=e.En();else if(f>0&&u<0)i.push(c),i.push(c.En());else if(u>0)break}i.push(s);const l=[];for(let c=0;c<i.length;c+=2){if(this.Jn(i[c],i[c+1]))return[];const f=i[c].An(this.uid,lg,Ve.empty()),u=i[c+1].An(this.uid,lg,Ve.empty());l.push(IDBKeyRange.bound(f,u))}return l}Jn(e,s){return Io(e,s)>0}getMinOffsetFromCollectionGroup(e,s){return this.getFieldIndexes(e,s).next(m4)}getMinOffset(e,s){return oe.mapArray(this.vn(s),(r=>this.Fn(e,r).next((i=>i||$e(44426))))).next(m4)}}function f4(a){return sa(a,Hf)}function Id(a){return sa(a,kf)}function ef(a){return sa(a,uj)}function Rd(a){return sa(a,_f)}function m4(a){We(a.length!==0,28825);let e=a[0].indexState.offset,s=e.largestBatchId;for(let r=1;r<a.length;r++){const i=a[r].indexState.offset;lj(i,e)<0&&(e=i),s<i.largestBatchId&&(s=i.largestBatchId)}return new Pr(e.readTime,e.documentKey,s)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xI=41943040;class Ra{static withCacheSize(e){return new Ra(e,Ra.DEFAULT_COLLECTION_PERCENTILE,Ra.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(a,e,s){const r=a.store(gn),i=a.store(du),l=[],c=IDBKeyRange.only(s.batchId);let f=0;const u=r.ee({range:c},((g,b,v)=>(f++,v.delete())));l.push(u.next((()=>{We(f===1,47070,{batchId:s.batchId})})));const m=[];for(const g of s.mutations){const b=oA(e,g.key.path,s.batchId);l.push(i.delete(b)),m.push(g.key)}return oe.waitFor(l).next((()=>m))}function sx(a){if(!a)return 0;let e;if(a.document)e=a.document;else if(a.unknownDocument)e=a.unknownDocument;else{if(!a.noDocument)throw $e(14731);e=a.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ra.DEFAULT_COLLECTION_PERCENTILE=10,Ra.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ra.DEFAULT=new Ra(xI,Ra.DEFAULT_COLLECTION_PERCENTILE,Ra.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ra.DISABLED=new Ra(-1,0,0);class qx{constructor(e,s,r,i){this.userId=e,this.serializer=s,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,s,r,i){We(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new qx(l,s,r,i)}checkEmpty(e){let s=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ro(e).ee({index:Ql,range:r},((i,l,c)=>{s=!1,c.done()})).next((()=>s))}addMutationBatch(e,s,r,i){const l=zd(e),c=Ro(e);return c.add({}).next((f=>{We(typeof f=="number",49019);const u=new wj(f,s,r,i),m=(function(E,N,S){const T=S.baseMutations.map((U=>Jf(E.yt,U))),O=S.mutations.map((U=>Jf(E.yt,U)));return{userId:N,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:T,mutations:O}})(this.serializer,this.userId,u),g=[];let b=new Wt(((v,E)=>ot(v.canonicalString(),E.canonicalString())));for(const v of i){const E=oA(this.userId,v.key.path,f);b=b.add(v.key.path.popLast()),g.push(c.put(m)),g.push(l.put(E,E$))}return b.forEach((v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Zn[f]=u.keys()})),oe.waitFor(g).next((()=>u))}))}lookupMutationBatch(e,s){return Ro(e).get(s).next((r=>r?(We(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:s}),ql(this.serializer,r)):null))}Xn(e,s){return this.Zn[s]?oe.resolve(this.Zn[s]):this.lookupMutationBatch(e,s).next((r=>{if(r){const i=r.keys();return this.Zn[s]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ro(e).ee({index:Ql,range:i},((c,f,u)=>{f.userId===this.userId&&(We(f.batchId>=r,47524,{Yn:r}),l=ql(this.serializer,f)),u.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=qo;return Ro(e).ee({index:Ql,range:s,reverse:!0},((i,l,c)=>{r=l.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const s=IDBKeyRange.bound([this.userId,qo],[this.userId,Number.POSITIVE_INFINITY]);return Ro(e).H(Ql,s).next((r=>r.map((i=>ql(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,s){const r=_g(this.userId,s.path),i=IDBKeyRange.lowerBound(r),l=[];return zd(e).ee({range:i},((c,f,u)=>{const[m,g,b]=c,v=Xn(g);if(m===this.userId&&s.path.isEqual(v))return Ro(e).get(b).next((E=>{if(!E)throw $e(61480,{er:c,batchId:b});We(E.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:E.userId,batchId:b}),l.push(ql(this.serializer,E))}));u.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new Wt(ot);const i=[];return s.forEach((l=>{const c=_g(this.userId,l.path),f=IDBKeyRange.lowerBound(c),u=zd(e).ee({range:f},((m,g,b)=>{const[v,E,N]=m,S=Xn(E);v===this.userId&&l.path.isEqual(S)?r=r.add(N):b.done()}));i.push(u)})),oe.waitFor(i).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,i=r.length+1,l=_g(this.userId,r),c=IDBKeyRange.lowerBound(l);let f=new Wt(ot);return zd(e).ee({range:c},((u,m,g)=>{const[b,v,E]=u,N=Xn(v);b===this.userId&&r.isPrefixOf(N)?N.length===i&&(f=f.add(E)):g.done()})).next((()=>this.tr(e,f)))}tr(e,s){const r=[],i=[];return s.forEach((l=>{i.push(Ro(e).get(l).next((c=>{if(c===null)throw $e(35274,{batchId:l});We(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),r.push(ql(this.serializer,c))})))})),oe.waitFor(i).next((()=>r))}removeMutationBatch(e,s){return yI(e.le,this.userId,s).next((r=>(e.addOnCommittedListener((()=>{this.nr(s.batchId)})),oe.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((s=>{if(!s)return oe.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),i=[];return zd(e).ee({range:r},((l,c,f)=>{if(l[0]===this.userId){const u=Xn(l[1]);i.push(u)}else f.done()})).next((()=>{We(i.length===0,56720,{rr:i.map((l=>l.canonicalString()))})}))}))}containsKey(e,s){return bI(e,this.userId,s)}ir(e){return vI(e).get(this.userId).next((s=>s||{userId:this.userId,lastAcknowledgedBatchId:qo,lastStreamToken:""}))}}function bI(a,e,s){const r=_g(e,s.path),i=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return zd(a).ee({range:l,Y:!0},((f,u,m)=>{const[g,b,v]=f;g===e&&b===i&&(c=!0),m.done()})).next((()=>c))}function Ro(a){return sa(a,gn)}function zd(a){return sa(a,du)}function vI(a){return sa(a,$f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Nc(0)}static ar(){return new Nc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,s){this.referenceDelegate=e,this.serializer=s}allocateTargetId(e){return this.ur(e).next((s=>{const r=new Nc(s.highestTargetId);return s.highestTargetId=r.next(),this.cr(e,s).next((()=>s.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((s=>et.fromTimestamp(new Bt(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((s=>s.highestListenSequenceNumber))}setTargetsMetadata(e,s,r){return this.ur(e).next((i=>(i.highestListenSequenceNumber=s,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),s>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=s),this.cr(e,i))))}addTargetData(e,s){return this.lr(e,s).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(s,r),this.cr(e,r))))))}updateTargetData(e,s){return this.lr(e,s)}removeTargetData(e,s){return this.removeMatchingKeysForTargetId(e,s.targetId).next((()=>Pd(e).delete(s.targetId))).next((()=>this.ur(e))).next((r=>(We(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,s,r){let i=0;const l=[];return Pd(e).ee(((c,f)=>{const u=ff(f);u.sequenceNumber<=s&&r.get(u.targetId)===null&&(i++,l.push(this.removeTargetData(e,u)))})).next((()=>oe.waitFor(l))).next((()=>i))}forEachTarget(e,s){return Pd(e).ee(((r,i)=>{const l=ff(i);s(l)}))}ur(e){return g4(e).get(Qg).next((s=>(We(s!==null,2888),s)))}cr(e,s){return g4(e).put(Qg,s)}lr(e,s){return Pd(e).put(mI(this.serializer,s))}hr(e,s){let r=!1;return e.targetId>s.highestTargetId&&(s.highestTargetId=e.targetId,r=!0),e.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((s=>s.targetCount))}getTargetData(e,s){const r=yc(s),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Pd(e).ee({range:i,index:cA},((c,f,u)=>{const m=ff(f);xm(s,m.target)&&(l=m,u.done())})).next((()=>l))}addMatchingKeys(e,s,r){const i=[],l=Mo(e);return s.forEach((c=>{const f=Da(c.path);i.push(l.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))})),oe.waitFor(i)}removeMatchingKeys(e,s,r){const i=Mo(e);return oe.forEach(s,(l=>{const c=Da(l.path);return oe.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])}))}removeMatchingKeysForTargetId(e,s){const r=Mo(e),i=IDBKeyRange.bound([s],[s+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,s){const r=IDBKeyRange.bound([s],[s+1],!1,!0),i=Mo(e);let l=mt();return i.ee({range:r,Y:!0},((c,f,u)=>{const m=Xn(c[1]),g=new Ve(m);l=l.add(g)})).next((()=>l))}containsKey(e,s){const r=Da(s.path),i=IDBKeyRange.bound([r],[JC(r)],!1,!0);let l=0;return Mo(e).ee({index:dj,Y:!0,range:i},(([c,f],u,m)=>{c!==0&&(l++,m.done())})).next((()=>l>0))}At(e,s){return Pd(e).get(s).next((r=>r?ff(r):null))}}function Pd(a){return sa(a,uu)}function g4(a){return sa(a,nc)}function Mo(a){return sa(a,hu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="LruGarbageCollector",tH=1048576;function y4([a,e],[s,r]){const i=ot(a,s);return i===0?ot(e,r):i}class sH{constructor(e){this.Pr=e,this.buffer=new Wt(y4),this.Tr=0}Ir(){return++this.Tr}Er(e){const s=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();y4(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class wI{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ae(x4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){ul(s)?Ae(x4,"Ignoring IndexedDB error during garbage collection: ",s):await dl(s)}await this.Ar(3e5)}))}}class aH{constructor(e,s){this.Vr=e,this.params=s}calculateTargetCount(e,s){return this.Vr.dr(e).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(e,s){if(s===0)return oe.resolve(or.ce);const r=new sH(s);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,s,r){return this.Vr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.Vr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(p4)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p4):this.gr(e,s)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,s){let r,i,l,c,f,u,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,c=Date.now(),this.nthSequenceNumber(e,i)))).next((b=>(r=b,f=Date.now(),this.removeTargets(e,r,s)))).next((b=>(l=b,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(m=Date.now(),Dd()<=jt.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${i} in `+(f-c)+`ms
	Removed ${l} targets in `+(u-f)+`ms
	Removed ${b} documents in `+(m-u)+`ms
Total Duration: ${m-g}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:b}))))}}function jI(a,e){return new aH(a,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e,s){this.db=e,this.garbageCollector=jI(this,s)}dr(e){const s=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>s.next((i=>r+i))))}pr(e){let s=0;return this.mr(e,(r=>{s++})).next((()=>s))}forEachTarget(e,s){return this.db.getTargetCache().forEachTarget(e,s)}mr(e,s){return this.yr(e,((r,i)=>s(i)))}addReference(e,s,r){return cg(e,r)}removeReference(e,s,r){return cg(e,r)}removeTargets(e,s,r){return this.db.getTargetCache().removeTargets(e,s,r)}markPotentiallyOrphaned(e,s){return cg(e,s)}wr(e,s){return(function(i,l){let c=!1;return vI(i).te((f=>bI(i,f,l).next((u=>(u&&(c=!0),oe.resolve(!u)))))).next((()=>c))})(e,s)}removeOrphanedDocuments(e,s){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.yr(e,((c,f)=>{if(f<=s){const u=this.wr(e,c).next((m=>{if(!m)return l++,r.getEntry(e,c).next((()=>(r.removeEntry(c,et.min()),Mo(e).delete((function(b){return[0,Da(b.path)]})(c)))))}));i.push(u)}})).next((()=>oe.waitFor(i))).next((()=>r.apply(e))).next((()=>l))}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,s){return cg(e,s)}yr(e,s){const r=Mo(e);let i,l=or.ce;return r.ee({index:dj},(([c,f],{path:u,sequenceNumber:m})=>{c===0?(l!==or.ce&&s(new Ve(Xn(i)),l),l=m,i=u):l=or.ce})).next((()=>{l!==or.ce&&s(new Ve(Xn(i)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cg(a,e){return Mo(a).put((function(r,i){return{targetId:0,path:Da(r.path),sequenceNumber:i}})(e,a.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.changes=new Gi((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,us.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?oe.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,s,r){return Vl(e).put(r)}removeEntry(e,s,r){return Vl(e).delete((function(l,c){const f=l.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],ex(c),f[f.length-1]]})(s,r))}updateMetadata(e,s){return this.getMetadata(e).next((r=>(r.byteSize+=s,this.br(e,r))))}getEntry(e,s){let r=us.newInvalidDocument(s);return Vl(e).ee({index:kg,range:IDBKeyRange.only(tf(s))},((i,l)=>{r=this.Sr(s,l)})).next((()=>r))}Dr(e,s){let r={size:0,document:us.newInvalidDocument(s)};return Vl(e).ee({index:kg,range:IDBKeyRange.only(tf(s))},((i,l)=>{r={document:this.Sr(s,l),size:sx(l)}})).next((()=>r))}getEntries(e,s){let r=cr();return this.Cr(e,s,((i,l)=>{const c=this.Sr(i,l);r=r.insert(i,c)})).next((()=>r))}vr(e,s){let r=cr(),i=new ns(Ve.comparator);return this.Cr(e,s,((l,c)=>{const f=this.Sr(l,c);r=r.insert(l,f),i=i.insert(l,sx(c))})).next((()=>({documents:r,Fr:i})))}Cr(e,s,r){if(s.isEmpty())return oe.resolve();let i=new Wt(w4);s.forEach((u=>i=i.add(u)));const l=IDBKeyRange.bound(tf(i.first()),tf(i.last())),c=i.getIterator();let f=c.getNext();return Vl(e).ee({index:kg,range:l},((u,m,g)=>{const b=Ve.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;f&&w4(f,b)<0;)r(f,null),f=c.getNext();f&&f.isEqual(b)&&(r(f,m),f=c.hasNext()?c.getNext():null),f?g.j(tf(f)):g.done()})).next((()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,s,r,i,l){const c=s.path,f=[c.popLast().toArray(),c.lastSegment(),ex(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vl(e).H(IDBKeyRange.bound(f,u,!0)).next((m=>{l==null||l.incrementDocumentReadCount(m.length);let g=cr();for(const b of m){const v=this.Sr(Ve.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);v.isFoundDocument()&&(bm(s,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g}))}getAllFromCollectionGroup(e,s,r,i){let l=cr();const c=v4(s,r),f=v4(s,Pr.max());return Vl(e).ee({index:lA,range:IDBKeyRange.bound(c,f,!0)},((u,m,g)=>{const b=this.Sr(Ve.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);l=l.insert(b.key,b),l.size===i&&g.done()})).next((()=>l))}newChangeBuffer(e){return new iH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((s=>s.byteSize))}getMetadata(e){return b4(e).get(Av).next((s=>(We(!!s,20021),s)))}br(e,s){return b4(e).put(Av,s)}Sr(e,s){if(s){const r=qq(this.serializer,s);if(!(r.isNoDocument()&&r.version.isEqual(et.min())))return r}return us.newInvalidDocument(e)}}function _I(a){return new nH(a)}class iH extends NI{constructor(e,s){super(),this.Mr=e,this.trackRemovals=s,this.Or=new Gi((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const s=[];let r=0,i=new Wt(((l,c)=>ot(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const f=this.Or.get(l);if(s.push(this.Mr.removeEntry(e,l,f.readTime)),c.isValidDocument()){const u=s4(this.Mr.serializer,c);i=i.add(l.path.popLast());const m=sx(u);r+=m-f.size,s.push(this.Mr.addEntry(e,l,u))}else if(r-=f.size,this.trackRemovals){const u=s4(this.Mr.serializer,c.convertToNoDocument(et.min()));s.push(this.Mr.addEntry(e,l,u))}})),i.forEach((l=>{s.push(this.Mr.indexManager.addToCollectionParentIndex(e,l))})),s.push(this.Mr.updateMetadata(e,r)),oe.waitFor(s)}getFromCache(e,s){return this.Mr.Dr(e,s).next((r=>(this.Or.set(s,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,s){return this.Mr.vr(e,s).next((({documents:r,Fr:i})=>(i.forEach(((l,c)=>{this.Or.set(l,{size:c,readTime:r.get(l).readTime})})),r)))}}function b4(a){return sa(a,qf)}function Vl(a){return sa(a,Yg)}function tf(a){const e=a.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function v4(a,e){const s=e.documentKey.path.toArray();return[a,ex(e.readTime),s.slice(0,s.length-2),s.length>0?s[s.length-1]:""]}function w4(a,e){const s=a.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<s.length-2&&l<r.length-2;++l)if(i=ot(s[l],r[l]),i)return i;return i=ot(s.length,r.length),i||(i=ot(s[s.length-2],r[r.length-2]),i||ot(s[s.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,s,r,i){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,s)))).next((i=>(r!==null&&Ef(r.mutation,i,lr.empty(),Bt.now()),i)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,mt()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=mt()){const i=Zn();return this.populateOverlays(e,i,s).next((()=>this.computeViews(e,s,i,r).next((l=>{let c=uf();return l.forEach(((f,u)=>{c=c.insert(f,u.overlayedDocument)})),c}))))}getOverlayedDocuments(e,s){const r=Zn();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,mt())))}populateOverlays(e,s,r){const i=[];return r.forEach((l=>{s.has(l)||i.push(l)})),this.documentOverlayCache.getOverlays(e,i).next((l=>{l.forEach(((c,f)=>{s.set(c,f)}))}))}computeViews(e,s,r,i){let l=cr();const c=Tf(),f=(function(){return Tf()})();return s.forEach(((u,m)=>{const g=r.get(m.key);i.has(m.key)&&(g===void 0||g.mutation instanceof Ki)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),Ef(g.mutation,m,g.mutation.getFieldMask(),Bt.now())):c.set(m.key,lr.empty())})),this.recalculateAndSaveOverlays(e,l).next((u=>(u.forEach(((m,g)=>c.set(m,g))),s.forEach(((m,g)=>f.set(m,new oH(g,c.get(m)??null)))),f)))}recalculateAndSaveOverlays(e,s){const r=Tf();let i=new ns(((c,f)=>c-f)),l=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((c=>{for(const f of c)f.keys().forEach((u=>{const m=s.get(u);if(m===null)return;let g=r.get(u)||lr.empty();g=f.applyToLocalView(m,g),r.set(u,g);const b=(i.get(f.batchId)||mt()).add(u);i=i.insert(f.batchId,b)}))})).next((()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const u=f.getNext(),m=u.key,g=u.value,b=UA();g.forEach((v=>{if(!l.has(v)){const E=KA(s.get(v),r.get(v));E!==null&&b.set(v,E),l=l.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return oe.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,i){return hq(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):xj(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,i):this.getDocumentsMatchingCollectionQuery(e,s,r,i)}getNextDocuments(e,s,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,i).next((l=>{const c=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,i-l.size):oe.resolve(Zn());let f=cu,u=l;return c.next((m=>oe.forEach(m,((g,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(g)?oe.resolve():this.remoteDocumentCache.getEntry(e,g).next((v=>{u=u.insert(g,v)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,u,m,mt()))).next((g=>({batchId:f,changes:VA(g)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new Ve(s)).next((r=>{let i=uf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,i){const l=s.collectionGroup;let c=uf();return this.indexManager.getCollectionParents(e,l).next((f=>oe.forEach(f,(u=>{const m=(function(b,v){return new Hi(v,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(s,u.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((g=>{g.forEach(((b,v)=>{c=c.insert(b,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,s,r,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,l,i)))).next((c=>{l.forEach(((u,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,us.newInvalidDocument(g)))}));let f=uf();return c.forEach(((u,m)=>{const g=l.get(u);g!==void 0&&Ef(g.mutation,m,lr.empty(),Bt.now()),bm(s,m)&&(f=f.insert(u,m))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,s){return oe.resolve(this.Nr.get(s))}saveBundleMetadata(e,s){return this.Nr.set(s.id,(function(i){return{id:i.id,version:i.version,createTime:Us(i.createTime)}})(s)),oe.resolve()}getNamedQuery(e,s){return oe.resolve(this.Br.get(s))}saveNamedQuery(e,s){return this.Br.set(s.name,(function(i){return{name:i.name,query:Sj(i.bundledQuery),readTime:Us(i.readTime)}})(s)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(){this.overlays=new ns(Ve.comparator),this.Lr=new Map}getOverlay(e,s){return oe.resolve(this.overlays.get(s))}getOverlays(e,s){const r=Zn();return oe.forEach(s,(i=>this.getOverlay(e,i).next((l=>{l!==null&&r.set(i,l)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((i,l)=>{this.bt(e,s,l)})),oe.resolve()}removeOverlaysForBatchId(e,s,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),oe.resolve()}getOverlaysForCollection(e,s,r){const i=Zn(),l=s.length+1,c=new Ve(s.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const u=f.getNext().value,m=u.getKey();if(!s.isPrefixOf(m.path))break;m.path.length===l&&u.largestBatchId>r&&i.set(u.getKey(),u)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,s,r,i){let l=new ns(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===s&&m.largestBatchId>r){let g=l.get(m.largestBatchId);g===null&&(g=Zn(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const f=Zn(),u=l.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((m,g)=>f.set(m,g))),!(f.size()>=i)););return oe.resolve(f)}bt(e,s,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Nj(s,r));let l=this.Lr.get(s);l===void 0&&(l=mt(),this.Lr.set(s,l)),this.Lr.set(s,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(){this.sessionToken=Ps.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(){this.kr=new Wt(la.Kr),this.qr=new Wt(la.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,s){const r=new la(e,s);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Wr(new la(e,s))}Qr(e,s){e.forEach((r=>this.removeReference(r,s)))}Gr(e){const s=new Ve(new Nt([])),r=new la(s,e),i=new la(s,e+1),l=[];return this.qr.forEachInRange([r,i],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const s=new Ve(new Nt([])),r=new la(s,e),i=new la(s,e+1);let l=mt();return this.qr.forEachInRange([r,i],(c=>{l=l.add(c.key)})),l}containsKey(e){const s=new la(e,0),r=this.kr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class la{constructor(e,s){this.key=e,this.Hr=s}static Kr(e,s){return Ve.comparator(e.key,s.key)||ot(e.Hr,s.Hr)}static Ur(e,s){return ot(e.Hr,s.Hr)||Ve.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.Yn=1,this.Jr=new Wt(la.Kr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,i){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new wj(l,s,r,i);this.mutationQueue.push(c);for(const f of i)this.Jr=this.Jr.add(new la(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,s){return oe.resolve(this.Zr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,i=this.Xr(r),l=i<0?0:i;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?qo:this.Yn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new la(s,0),i=new la(s,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,i],(c=>{const f=this.Zr(c.Hr);l.push(f)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new Wt(ot);return s.forEach((i=>{const l=new la(i,0),c=new la(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(f=>{r=r.add(f.Hr)}))})),oe.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,i=r.length+1;let l=r;Ve.isDocumentKey(l)||(l=l.child(""));const c=new la(new Ve(l),0);let f=new Wt(ot);return this.Jr.forEachWhile((u=>{const m=u.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(f=f.add(u.Hr)),!0)}),c),oe.resolve(this.Yr(f))}Yr(e){const s=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&s.push(i)})),s}removeMutationBatch(e,s){We(this.ei(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return oe.forEach(s.mutations,(i=>{const l=new la(i.key,s.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,s){const r=new la(s,0),i=this.Jr.firstAfterOrEqual(r);return oe.resolve(s.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ei(e,s){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const s=this.Xr(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e){this.ti=e,this.docs=(function(){return new ns(Ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,i=this.docs.get(r),l=i?i.size:0,c=this.ti(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return oe.resolve(r?r.document.mutableCopy():us.newInvalidDocument(s))}getEntries(e,s){let r=cr();return s.forEach((i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():us.newInvalidDocument(i))})),oe.resolve(r)}getDocumentsMatchingQuery(e,s,r,i){let l=cr();const c=s.path,f=new Ve(c.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(f);for(;u.hasNext();){const{key:m,value:{document:g}}=u.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||lj(sA(g),r)<=0||(i.has(g.key)||bm(s,g))&&(l=l.insert(g.key,g.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,s,r,i){$e(9500)}ni(e,s){return oe.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new fH(this)}getSize(e){return oe.resolve(this.size)}}class fH extends NI{constructor(e){super(),this.Mr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?s.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),oe.waitFor(s)}getFromCache(e,s){return this.Mr.getEntry(e,s)}getAllFromCache(e,s){return this.Mr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e){this.persistence=e,this.ri=new Gi((s=>yc(s)),xm),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.ii=0,this.si=new Cj,this.targetCount=0,this.oi=Nc._r()}forEachTarget(e,s){return this.ri.forEach(((r,i)=>s(i))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.ii&&(this.ii=s),oe.resolve()}lr(e){this.ri.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.oi=new Nc(s),this.highestTargetId=s),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,s){return this.lr(s),this.targetCount+=1,oe.resolve()}updateTargetData(e,s){return this.lr(s),oe.resolve()}removeTargetData(e,s){return this.ri.delete(s.target),this.si.Gr(s.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,s,r){let i=0;const l=[];return this.ri.forEach(((c,f)=>{f.sequenceNumber<=s&&r.get(f.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)})),oe.waitFor(l).next((()=>i))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,s){const r=this.ri.get(s)||null;return oe.resolve(r)}addMatchingKeys(e,s,r){return this.si.$r(s,r),oe.resolve()}removeMatchingKeys(e,s,r){this.si.Qr(s,r);const i=this.persistence.referenceDelegate,l=[];return i&&s.forEach((c=>{l.push(i.markPotentiallyOrphaned(e,c))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,s){return this.si.Gr(s),oe.resolve()}getMatchingKeysForTargetId(e,s){const r=this.si.jr(s);return oe.resolve(r)}containsKey(e,s){return oe.resolve(this.si.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,s){this._i={},this.overlays={},this.ai=new or(0),this.ui=!1,this.ui=!0,this.ci=new dH,this.referenceDelegate=e(this),this.li=new mH(this),this.indexManager=new Xq,this.remoteDocumentCache=(function(i){return new hH(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new fI(s),this.Pi=new lH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new cH,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this._i[e.toKey()];return r||(r=new uH(s,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,s,r){Ae("MemoryPersistence","Starting transaction:",e);const i=new pH(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((l=>this.referenceDelegate.Ii(i).next((()=>l)))).toPromise().then((l=>(i.raiseOnCommittedEvent(),l)))}Ei(e,s){return oe.or(Object.values(this._i).map((r=>()=>r.containsKey(e,s))))}}class pH extends rA{constructor(e){super(),this.currentSequenceNumber=e}}class Hx{constructor(e){this.persistence=e,this.Ri=new Cj,this.Ai=null}static Vi(e){return new Hx(e)}get di(){if(this.Ai)return this.Ai;throw $e(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.di.delete(r.toString()),oe.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.di.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,s){return this.di.add(s.toString()),oe.resolve()}removeTarget(e,s){this.Ri.Gr(s.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((i=>{i.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,s)))}Ti(){this.Ai=new Set}Ii(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,(r=>{const i=Ve.fromPath(r);return this.mi(e,i).next((l=>{l||s.removeEntry(i,et.min())}))})).next((()=>(this.Ai=null,s.apply(e))))}updateLimboDocument(e,s){return this.mi(e,s).next((r=>{r?this.di.delete(s.toString()):this.di.add(s.toString())}))}hi(e){return 0}mi(e,s){return oe.or([()=>oe.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ei(e,s)])}}class ax{constructor(e,s){this.persistence=e,this.fi=new Gi((r=>Da(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=jI(this,s)}static Vi(e,s){return new ax(e,s)}Ti(){}Ii(e){return oe.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}dr(e){const s=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>s.next((i=>r+i))))}pr(e){let s=0;return this.mr(e,(r=>{s++})).next((()=>s))}mr(e,s){return oe.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((l=>l?oe.resolve():s(i)))))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const i=this.persistence.getRemoteDocumentCache(),l=i.newChangeBuffer();return i.ni(e,(c=>this.wr(e,c,s).next((f=>{f||(r++,l.removeEntry(c,et.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,s){return this.fi.set(s,e.currentSequenceNumber),oe.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.fi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,s,r){return this.fi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,s){return this.fi.set(s,e.currentSequenceNumber),oe.resolve()}hi(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=Tg(e.data.value)),s}wr(e,s,r){return oe.or([()=>this.persistence.Ei(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const i=this.fi.get(s);return oe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e){this.serializer=e}k(e,s,r,i){const l=new Dx("createOrUpgrade",s);r<1&&i>=1&&((function(u){u.createObjectStore(gm)})(e),(function(u){u.createObjectStore($f,{keyPath:T$}),u.createObjectStore(gn,{keyPath:RS,autoIncrement:!0}).createIndex(Ql,PS,{unique:!0}),u.createObjectStore(du)})(e),j4(e),(function(u){u.createObjectStore(Bl)})(e));let c=oe.resolve();return r<3&&i>=3&&(r!==0&&((function(u){u.deleteObjectStore(hu),u.deleteObjectStore(uu),u.deleteObjectStore(nc)})(e),j4(e)),c=c.next((()=>(function(u){const m=u.store(nc),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:et.min().toTimestamp(),targetCount:0};return m.put(Qg,g)})(l)))),r<4&&i>=4&&(r!==0&&(c=c.next((()=>(function(u,m){return m.store(gn).H().next((b=>{u.deleteObjectStore(gn),u.createObjectStore(gn,{keyPath:RS,autoIncrement:!0}).createIndex(Ql,PS,{unique:!0});const v=m.store(gn),E=b.map((N=>v.put(N)));return oe.waitFor(E)}))})(e,l)))),c=c.next((()=>{(function(u){u.createObjectStore(fu,{keyPath:O$})})(e)}))),r<5&&i>=5&&(c=c.next((()=>this.gi(l)))),r<6&&i>=6&&(c=c.next((()=>((function(u){u.createObjectStore(qf)})(e),this.pi(l))))),r<7&&i>=7&&(c=c.next((()=>this.yi(l)))),r<8&&i>=8&&(c=c.next((()=>this.wi(e,l)))),r<9&&i>=9&&(c=c.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(c=c.next((()=>this.bi(l)))),r<11&&i>=11&&(c=c.next((()=>{(function(u){u.createObjectStore(Mx,{keyPath:L$})})(e),(function(u){u.createObjectStore(Ox,{keyPath:z$})})(e)}))),r<12&&i>=12&&(c=c.next((()=>{(function(u){const m=u.createObjectStore(Lx,{keyPath:H$});m.createIndex(Rv,G$,{unique:!1}),m.createIndex(hA,K$,{unique:!1})})(e)}))),r<13&&i>=13&&(c=c.next((()=>(function(u){const m=u.createObjectStore(Yg,{keyPath:C$});m.createIndex(kg,A$),m.createIndex(lA,I$)})(e))).next((()=>this.Si(e,l))).next((()=>e.deleteObjectStore(Bl)))),r<14&&i>=14&&(c=c.next((()=>this.Di(e,l)))),r<15&&i>=15&&(c=c.next((()=>(function(u){u.createObjectStore(uj,{keyPath:V$,autoIncrement:!0}).createIndex(Iv,U$,{unique:!1}),u.createObjectStore(_f,{keyPath:F$}).createIndex(dA,B$,{unique:!1}),u.createObjectStore(kf,{keyPath:$$}).createIndex(uA,q$,{unique:!1})})(e)))),r<16&&i>=16&&(c=c.next((()=>{s.objectStore(_f).clear()})).next((()=>{s.objectStore(kf).clear()}))),r<17&&i>=17&&(c=c.next((()=>{(function(u){u.createObjectStore(hj,{keyPath:W$})})(e)}))),r<18&&i>=18&&CE()&&(c=c.next((()=>{s.objectStore(_f).clear()})).next((()=>{s.objectStore(kf).clear()}))),c}pi(e){let s=0;return e.store(Bl).ee(((r,i)=>{s+=sx(i)})).next((()=>{const r={byteSize:s};return e.store(qf).put(Av,r)}))}gi(e){const s=e.store($f),r=e.store(gn);return s.H().next((i=>oe.forEach(i,(l=>{const c=IDBKeyRange.bound([l.userId,qo],[l.userId,l.lastAcknowledgedBatchId]);return r.H(Ql,c).next((f=>oe.forEach(f,(u=>{We(u.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:u.batchId});const m=ql(this.serializer,u);return yI(e,l.userId,m).next((()=>{}))}))))}))))}yi(e){const s=e.store(hu),r=e.store(Bl);return e.store(nc).get(Qg).next((i=>{const l=[];return r.ee(((c,f)=>{const u=new Nt(c),m=(function(b){return[0,Da(b)]})(u);l.push(s.get(m).next((g=>g?oe.resolve():(b=>s.put({targetId:0,path:Da(b),sequenceNumber:i.highestListenSequenceNumber}))(u))))})).next((()=>oe.waitFor(l)))}))}wi(e,s){e.createObjectStore(Hf,{keyPath:M$});const r=s.store(Hf),i=new Ej,l=c=>{if(i.add(c)){const f=c.lastSegment(),u=c.popLast();return r.put({collectionId:f,parent:Da(u)})}};return s.store(Bl).ee({Y:!0},((c,f)=>{const u=new Nt(c);return l(u.popLast())})).next((()=>s.store(du).ee({Y:!0},(([c,f,u],m)=>{const g=Xn(f);return l(g.popLast())}))))}bi(e){const s=e.store(uu);return s.ee(((r,i)=>{const l=ff(i),c=mI(this.serializer,l);return s.put(c)}))}Si(e,s){const r=s.store(Bl),i=[];return r.ee(((l,c)=>{const f=s.store(Yg),u=(function(b){return b.document?new Ve(Nt.fromString(b.document.name).popFirst(5)):b.noDocument?Ve.fromSegments(b.noDocument.path):b.unknownDocument?Ve.fromSegments(b.unknownDocument.path):$e(36783)})(c).path.toArray(),m={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(m))})).next((()=>oe.waitFor(i)))}Di(e,s){const r=s.store(gn),i=_I(this.serializer),l=new Aj(Hx.Vi,this.serializer.yt);return r.H().next((c=>{const f=new Map;return c.forEach((u=>{let m=f.get(u.userId)??mt();ql(this.serializer,u).keys().forEach((g=>m=m.add(g))),f.set(u.userId,m)})),oe.forEach(f,((u,m)=>{const g=new ca(m),b=$x.wt(this.serializer,g),v=l.getIndexManager(g),E=qx.wt(g,this.serializer,v,l.referenceDelegate);return new kI(i,E,b,v).recalculateAndSaveOverlaysForDocumentKeys(new Pv(s,or.ce),u).next()}))}))}}function j4(a){a.createObjectStore(hu,{keyPath:P$}).createIndex(dj,D$,{unique:!0}),a.createObjectStore(uu,{keyPath:"targetId"}).createIndex(cA,R$,{unique:!0}),a.createObjectStore(nc)}const Po="IndexedDbPersistence",Ub=18e5,Fb=5e3,Bb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",SI="main";class Ij{constructor(e,s,r,i,l,c,f,u,m,g,b=18){if(this.allowTabSynchronization=e,this.persistenceKey=s,this.clientId=r,this.Ci=l,this.window=c,this.document=f,this.Fi=m,this.Mi=g,this.xi=b,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=v=>Promise.resolve(),!Ij.v())throw new Te(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rH(this,i),this.Ki=s+SI,this.serializer=new fI(u),this.qi=new si(this.Ki,this.xi,new gH(this.serializer)),this.ci=new Gq,this.li=new eH(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_I(this.serializer),this.Pi=new Hq,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,g===!1&&Vs(Po,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Te(pe.FAILED_PRECONDITION,Bb);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new or(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async s=>{if(this.started)return e(s)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async s=>{s.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>dg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((s=>{s||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((s=>this.isPrimary&&!s?this.Ji(e).next((()=>!1)):!!s&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(ul(e))return Ae(Po,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ae(Po,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return sf(e).get(Ed).next((s=>oe.resolve(this.Xi(s))))}Yi(e){return dg(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Ub)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(s=>{const r=sa(s,fu);return r.H().next((i=>{const l=this.ns(i,Ub),c=i.filter((f=>l.indexOf(f)===-1));return oe.forEach(c,(f=>r.delete(f.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const s of e)this.Ui.removeItem(this.rs(s.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?oe.resolve(!0):sf(e).get(Ed).next((s=>{if(s!==null&&this.ts(s.leaseTimestampMs,Fb)&&!this.ss(s.ownerId)){if(this.Xi(s)&&this.networkEnabled)return!0;if(!this.Xi(s)){if(!s.allowTabSynchronization)throw new Te(pe.FAILED_PRECONDITION,Bb);return!1}}return!(!this.networkEnabled||!this.inForeground)||dg(e).H().next((r=>this.ns(r,Fb).find((i=>{if(this.clientId!==i.clientId){const l=!this.networkEnabled&&i.networkEnabled,c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(l||c&&f)return!0}return!1}))===void 0))})).next((s=>(this.isPrimary!==s&&Ae(Po,`Client ${s?"is":"is not"} eligible for a primary lease.`),s)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[gm,fu],(e=>{const s=new Pv(e,or.ce);return this.Ji(s).next((()=>this.Yi(s)))})),this.qi.close(),this.ls()}ns(e,s){return e.filter((r=>this.ts(r.updateTimeMs,s)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>dg(e).H().next((s=>this.ns(s,Ub).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,s){return qx.wt(e,this.serializer,s,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Zq(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return $x.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,s,r){Ae(Po,"Starting transaction:",e);const i=s==="readonly"?"readonly":"readwrite",l=(function(u){return u===18?J$:u===17?gA:u===16?Q$:u===15?fj:u===14?pA:u===13?mA:u===12?Y$:u===11?fA:void $e(60245)})(this.xi);let c;return this.qi.runTransaction(e,i,l,(f=>(c=new Pv(f,this.ai?this.ai.next():or.ce),s==="readwrite-primary"?this.ji(c).next((u=>!!u||this.Hi(c))).next((u=>{if(!u)throw Vs(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new Te(pe.FAILED_PRECONDITION,aA);return r(c)})).next((u=>this.Zi(c).next((()=>u)))):this.Ps(c).next((()=>r(c)))))).then((f=>(c.raiseOnCommittedEvent(),f)))}Ps(e){return sf(e).get(Ed).next((s=>{if(s!==null&&this.ts(s.leaseTimestampMs,Fb)&&!this.ss(s.ownerId)&&!this.Xi(s)&&!(this.Mi||this.allowTabSynchronization&&s.allowTabSynchronization))throw new Te(pe.FAILED_PRECONDITION,Bb)}))}Zi(e){const s={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sf(e).put(Ed,s)}static v(){return si.v()}Ji(e){const s=sf(e);return s.get(Ed).next((r=>this.Xi(r)?(Ae(Po,"Releasing primary lease."),s.delete(Ed)):oe.resolve()))}ts(e,s){const r=Date.now();return!(e<r-s)&&(!(e>r)||(Vs(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Oi=()=>{this._s();const s=/(?:Version|Mobile)\/1[456]/;EE()&&(navigator.appVersion.match(s)||navigator.userAgent.match(s))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){var s;try{const r=((s=this.Ui)==null?void 0:s.getItem(this.rs(e)))!==null;return Ae(Po,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Vs(Po,"Failed to get zombied client id.",r),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){Vs("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function sf(a){return sa(a,gm)}function dg(a){return sa(a,fu)}function Rj(a,e){let s=a.projectId;return a.isDefaultDatabase||(s+="."+a.database),"firestore/"+e+"/"+s+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,s,r,i){this.targetId=e,this.fromCache=s,this.Ts=r,this.Is=i}static Es(e,s){let r=mt(),i=mt();for(const l of s.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new Pj(e,s.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return EE()?8:nA(_s())>0?6:4})()}initialize(e,s){this.fs=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,i){const l={result:null};return this.gs(e,s).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,s,i,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new xH;return this.ys(e,s,c).next((f=>{if(l.result=f,this.As)return this.ws(e,s,c,f.size)}))})).next((()=>l.result))}ws(e,s,r,i){return r.documentReadCount<this.Vs?(Dd()<=jt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Md(s),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(Dd()<=jt.DEBUG&&Ae("QueryEngine","Query:",Md(s),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Dd()<=jt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Md(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qa(s))):oe.resolve())}gs(e,s){if(GS(s))return oe.resolve(null);let r=qa(s);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(s.limit!==null&&i===1&&(s=Zg(s,null,"F"),r=qa(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=mt(...l);return this.fs.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,r).next((u=>{const m=this.bs(s,f);return this.Ss(s,m,c,u.readTime)?this.gs(e,Zg(s,null,"F")):this.Ds(e,m,s,u)}))))})))))}ps(e,s,r,i){return GS(s)||i.isEqual(et.min())?oe.resolve(null):this.fs.getDocuments(e,r).next((l=>{const c=this.bs(s,l);return this.Ss(s,c,r,i)?oe.resolve(null):(Dd()<=jt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Md(s)),this.Ds(e,c,s,tA(i,cu)).next((f=>f)))}))}bs(e,s){let r=new Wt(LA(e));return s.forEach(((i,l)=>{bm(e,l)&&(r=r.add(l))})),r}Ss(e,s,r,i){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const l=e.limitType==="F"?s.last():s.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ys(e,s,r){return Dd()<=jt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Md(s)),this.fs.getDocumentsMatchingQuery(e,s,Pr.min(),r)}Ds(e,s,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((l=>(s.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj="LocalStore",yH=3e8;class bH{constructor(e,s,r,i){this.persistence=e,this.Cs=s,this.serializer=i,this.vs=new ns(ot),this.Fs=new Gi((l=>yc(l)),xm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.vs)))}}function EI(a,e,s,r){return new bH(a,e,s,r)}async function CI(a,e){const s=Fe(a);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return s.mutationQueue.getAllMutationBatches(r).next((l=>(i=l,s.Os(e),s.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],f=[];let u=mt();for(const m of i){c.push(m.batchId);for(const g of m.mutations)u=u.add(g.key)}for(const m of l){f.push(m.batchId);for(const g of m.mutations)u=u.add(g.key)}return s.localDocuments.getDocuments(r,u).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:f})))}))}))}function vH(a,e){const s=Fe(a);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),l=s.xs.newChangeBuffer({trackRemovals:!0});return(function(f,u,m,g){const b=m.batch,v=b.keys();let E=oe.resolve();return v.forEach((N=>{E=E.next((()=>g.getEntry(u,N))).next((S=>{const T=m.docVersions.get(N);We(T!==null,48541),S.version.compareTo(T)<0&&(b.applyToRemoteDocument(S,m),S.isValidDocument()&&(S.setReadTime(m.commitVersion),g.addEntry(S)))}))})),E.next((()=>f.mutationQueue.removeMutationBatch(u,b)))})(s,r,e,l).next((()=>l.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let u=mt();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(u=u.add(f.batch.mutations[m].key));return u})(e)))).next((()=>s.localDocuments.getDocuments(r,i)))}))}function AI(a){const e=Fe(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.li.getLastRemoteSnapshotVersion(s)))}function wH(a,e){const s=Fe(a),r=e.snapshotVersion;let i=s.vs;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=s.xs.newChangeBuffer({trackRemovals:!0});i=s.vs;const f=[];e.targetChanges.forEach(((g,b)=>{const v=i.get(b);if(!v)return;f.push(s.li.removeMatchingKeys(l,g.removedDocuments,b).next((()=>s.li.addMatchingKeys(l,g.addedDocuments,b))));let E=v.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?E=E.withResumeToken(Ps.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),i=i.insert(b,E),(function(S,T,O){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=yH?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(v,E,g)&&f.push(s.li.updateTargetData(l,E))}));let u=cr(),m=mt();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&f.push(s.persistence.referenceDelegate.updateLimboDocument(l,g))})),f.push(II(l,c,e.documentUpdates).next((g=>{u=g.Bs,m=g.Ls}))),!r.isEqual(et.min())){const g=s.li.getLastRemoteSnapshotVersion(l).next((b=>s.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(g)}return oe.waitFor(f).next((()=>c.apply(l))).next((()=>s.localDocuments.getLocalViewOfDocuments(l,u,m))).next((()=>u))})).then((l=>(s.vs=i,l)))}function II(a,e,s){let r=mt(),i=mt();return s.forEach((l=>r=r.add(l))),e.getEntries(a,r).next((l=>{let c=cr();return s.forEach(((f,u)=>{const m=l.get(f);u.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(f)),u.isNoDocument()&&u.version.isEqual(et.min())?(e.removeEntry(f,u.readTime),c=c.insert(f,u)):!m.isValidDocument()||u.version.compareTo(m.version)>0||u.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(u),c=c.insert(f,u)):Ae(Dj,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",u.version)})),{Bs:c,Ls:i}}))}function jH(a,e){const s=Fe(a);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=qo),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function vu(a,e){const s=Fe(a);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return s.li.getTargetData(r,e).next((l=>l?(i=l,oe.resolve(i)):s.li.allocateTargetId(r).next((c=>(i=new Ai(e,c,"TargetPurposeListen",r.currentSequenceNumber),s.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=s.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(s.vs=s.vs.insert(r.targetId,r),s.Fs.set(e,r.targetId)),r}))}async function wu(a,e,s){const r=Fe(a),i=r.vs.get(e),l=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!ul(c))throw c;Ae(Dj,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function rx(a,e,s){const r=Fe(a);let i=et.min(),l=mt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(u,m,g){const b=Fe(u),v=b.Fs.get(g);return v!==void 0?oe.resolve(b.vs.get(v)):b.li.getTargetData(m,g)})(r,c,qa(e)).next((f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,f.targetId).next((u=>{l=u}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,s?i:et.min(),s?l:mt()))).next((f=>(DI(r,OA(e),f),{documents:f,ks:l})))))}function RI(a,e){const s=Fe(a),r=Fe(s.li),i=s.vs.get(e);return i?Promise.resolve(i.target):s.persistence.runTransaction("Get target data","readonly",(l=>r.At(l,e).next((c=>c?c.target:null))))}function PI(a,e){const s=Fe(a),r=s.Ms.get(e)||et.min();return s.persistence.runTransaction("Get new document changes","readonly",(i=>s.xs.getAllFromCollectionGroup(i,e,tA(r,cu),Number.MAX_SAFE_INTEGER))).then((i=>(DI(s,e,i),i)))}function DI(a,e,s){let r=a.Ms.get(e)||et.min();s.forEach(((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),a.Ms.set(e,r)}async function NH(a,e,s,r){const i=Fe(a);let l=mt(),c=cr();for(const m of s){const g=e.Ks(m.metadata.name);m.document&&(l=l.add(g));const b=e.qs(m);b.setReadTime(e.Us(m.metadata.readTime)),c=c.insert(g,b)}const f=i.xs.newChangeBuffer({trackRemovals:!0}),u=await vu(i,(function(g){return qa(Lu(Nt.fromString(`__bundle__/docs/${g}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(m=>II(m,f,c).next((g=>(f.apply(m),g))).next((g=>i.li.removeMatchingKeysForTargetId(m,u.targetId).next((()=>i.li.addMatchingKeys(m,l,u.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(m,g.Bs,g.Ls))).next((()=>g.Bs))))))}async function _H(a,e,s=mt()){const r=await vu(a,qa(Sj(e.bundledQuery))),i=Fe(a);return i.persistence.runTransaction("Save named query","readwrite",(l=>{const c=Us(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Pi.saveNamedQuery(l,e);const f=r.withResumeToken(Ps.EMPTY_BYTE_STRING,c);return i.vs=i.vs.insert(f.targetId,f),i.li.updateTargetData(l,f).next((()=>i.li.removeMatchingKeysForTargetId(l,r.targetId))).next((()=>i.li.addMatchingKeys(l,s,r.targetId))).next((()=>i.Pi.saveNamedQuery(l,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="firestore_clients";function N4(a,e){return`${MI}_${a}_${e}`}const OI="firestore_mutations";function _4(a,e,s){let r=`${OI}_${a}_${s}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const LI="firestore_targets";function $b(a,e){return`${LI}_${a}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="SharedClientState";class nx{constructor(e,s,r,i){this.user=e,this.batchId=s,this.state=r,this.error=i}static $s(e,s,r){const i=JSON.parse(r);let l,c=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return c&&i.error&&(c=typeof i.error.message=="string"&&typeof i.error.code=="string",c&&(l=new Te(i.error.code,i.error.message))),c?new nx(e,s,i.state,l):(Vs(Gn,`Failed to parse mutation state for ID '${s}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cf{constructor(e,s,r){this.targetId=e,this.state=s,this.error=r}static $s(e,s){const r=JSON.parse(s);let i,l=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return l&&r.error&&(l=typeof r.error.message=="string"&&typeof r.error.code=="string",l&&(i=new Te(r.error.code,r.error.message))),l?new Cf(e,r.state,i):(Vs(Gn,`Failed to parse target state for ID '${e}': ${s}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ix{constructor(e,s){this.clientId=e,this.activeTargetIds=s}static $s(e,s){const r=JSON.parse(s);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,l=yj();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=iA(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return i?new ix(e,l):(Vs(Gn,`Failed to parse client data for instance '${e}': ${s}`),null)}}class Mj{constructor(e,s){this.clientId=e,this.onlineState=s}static $s(e){const s=JSON.parse(e);return typeof s=="object"&&["Unknown","Online","Offline"].indexOf(s.onlineState)!==-1&&typeof s.clientId=="string"?new Mj(s.clientId,s.onlineState):(Vs(Gn,`Failed to parse online state: ${e}`),null)}}class Wv{constructor(){this.activeTargetIds=yj()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qb{constructor(e,s,r,i,l){this.window=e,this.Ci=s,this.persistenceKey=r,this.zs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new ns(ot),this.started=!1,this.Zs=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Xs=N4(this.persistenceKey,this.zs),this.Ys=(function(u){return`firestore_sequence_number_${u}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new Wv),this.eo=new RegExp(`^${MI}_${c}_([^_]*)$`),this.no=new RegExp(`^${OI}_${c}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${LI}_${c}_(\\d+)$`),this.io=(function(u){return`firestore_online_state_${u}`})(this.persistenceKey),this.so=(function(u){return`firestore_bundle_loaded_v2_${u}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const i=this.getItem(N4(this.persistenceKey,r));if(i){const l=ix.$s(r,i);l&&(this.Js=this.Js.insert(l.clientId,l))}}this.oo();const s=this.storage.getItem(this.io);if(s){const r=this._o(s);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let s=!1;return this.Js.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(s=!0)})),s}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,s,r){this.co(e,s,r),this.lo(e)}addLocalQueryTarget(e,s=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem($b(this.persistenceKey,e));if(i){const l=Cf.$s(e,i);l&&(r=l.state)}}return s&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($b(this.persistenceKey,e))}updateQueryState(e,s,r){this.Po(e,s,r)}handleUserChange(e,s,r){s.forEach((i=>{this.lo(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const s=this.storage.getItem(e);return Ae(Gn,"READ",e,s),s}setItem(e,s){Ae(Gn,"SET",e,s),this.storage.setItem(e,s)}removeItem(e){Ae(Gn,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const s=e;if(s.storageArea===this.storage){if(Ae(Gn,"EVENT",s.key,s.newValue),s.key===this.Xs)return void Vs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(s.key!==null){if(this.eo.test(s.key)){if(s.newValue==null){const r=this.Eo(s.key);return this.Ro(r,null)}{const r=this.Ao(s.key,s.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(s.key)){if(s.newValue!==null){const r=this.Vo(s.key,s.newValue);if(r)return this.mo(r)}}else if(this.ro.test(s.key)){if(s.newValue!==null){const r=this.fo(s.key,s.newValue);if(r)return this.po(r)}}else if(s.key===this.io){if(s.newValue!==null){const r=this._o(s.newValue);if(r)return this.ao(r)}}else if(s.key===this.Ys){const r=(function(l){let c=or.ce;if(l!=null)try{const f=JSON.parse(l);We(typeof f=="number",30636,{yo:l}),c=f}catch(f){Vs(Gn,"Failed to read sequence number from WebStorage",f)}return c})(s.newValue);r!==or.ce&&this.sequenceNumberHandler(r)}else if(s.key===this.so){const r=this.wo(s.newValue);await Promise.all(r.map((i=>this.syncEngine.bo(i))))}}}else this.Zs.push(s)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,s,r){const i=new nx(this.currentUser,e,s,r),l=_4(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Ws())}lo(e){const s=_4(this.persistenceKey,this.currentUser,e);this.removeItem(s)}To(e){const s={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(s))}Po(e,s,r){const i=$b(this.persistenceKey,e),l=new Cf(e,s,r);this.setItem(i,l.Ws())}Io(e){const s=JSON.stringify(Array.from(e));this.setItem(this.so,s)}Eo(e){const s=this.eo.exec(e);return s?s[1]:null}Ao(e,s){const r=this.Eo(e);return ix.$s(r,s)}Vo(e,s){const r=this.no.exec(e),i=Number(r[1]),l=r[2]!==void 0?r[2]:null;return nx.$s(new ca(l),i,s)}fo(e,s){const r=this.ro.exec(e),i=Number(r[1]);return Cf.$s(i,s)}_o(e){return Mj.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);Ae(Gn,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,s){const r=s?this.Js.insert(e,s):this.Js.remove(e),i=this.uo(this.Js),l=this.uo(r),c=[],f=[];return l.forEach((u=>{i.has(u)||c.push(u)})),i.forEach((u=>{l.has(u)||f.push(u)})),this.syncEngine.Co(c,f).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let s=yj();return e.forEach(((r,i)=>{s=s.unionWith(i.activeTargetIds)})),s}}class zI{constructor(){this.vo=new Wv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,s,r){this.Fo[e]=s}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Wv,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="ConnectivityMonitor";class S4{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ae(k4,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ae(k4,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ug=null;function Yv(){return ug===null?ug=(function(){return 268435456+Math.round(2147483648*Math.random())})():ug++,"0x"+ug.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="RestConnection",SH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class TH{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=s+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Dv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,s,r,i,l){const c=Yv(),f=this.Qo(e,s.toUriEncodedString());Ae(Hb,`Sending RPC '${e}' ${c}:`,f,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,i,l);const{host:m}=new URL(f),g=Iu(m);return this.zo(e,f,u,r,g).then((b=>(Ae(Hb,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw ii(Hb,`RPC '${e}' ${c} failed with error: `,b,"url: ",f,"request:",r),b}))}jo(e,s,r,i,l,c){return this.Wo(e,s,r,i,l)}Go(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ou})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((i,l)=>e[l]=i)),r&&r.headers.forEach(((i,l)=>e[l]=i))}Qo(e,s){const r=SH[e];let i=`${this.qo}/v1/${s}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="WebChannelConnection",af=(a,e,s)=>{a.listen(e,(r=>{try{s(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Yd extends TH{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Yd.c_){const e=KC();af(e,GC.STAT_EVENT,(s=>{s.stat===Tv.PROXY?Ae(Ia,"STAT_EVENT: detected buffering proxy"):s.stat===Tv.NOPROXY&&Ae(Ia,"STAT_EVENT: detected no buffering proxy")})),Yd.c_=!0}}zo(e,s,r,i,l){const c=Yv();return new Promise(((f,u)=>{const m=new qC;m.setWithCredentials(!0),m.listenOnce(HC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case jg.NO_ERROR:const b=m.getResponseJson();Ae(Ia,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),f(b);break;case jg.TIMEOUT:Ae(Ia,`RPC '${e}' ${c} timed out`),u(new Te(pe.DEADLINE_EXCEEDED,"Request time out"));break;case jg.HTTP_ERROR:const v=m.getStatus();if(Ae(Ia,`RPC '${e}' ${c} failed with status:`,v,"response text:",m.getResponseText()),v>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const N=E==null?void 0:E.error;if(N&&N.status&&N.message){const S=(function(O){const U=O.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(U)>=0?U:pe.UNKNOWN})(N.status);u(new Te(S,N.message))}else u(new Te(pe.UNKNOWN,"Server responded with status "+m.getStatus()))}else u(new Te(pe.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ae(Ia,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(i);Ae(Ia,`RPC '${e}' ${c} sending request:`,i),m.send(s,"POST",g,r,15)}))}T_(e,s,r){const i=Yv(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(f.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,s,r),f.encodeInitMessageHeaders=!0;const m=l.join("");Ae(Ia,`Creating RPC '${e}' stream ${i}: ${m}`,f);const g=c.createWebChannel(m,f);this.I_(g);let b=!1,v=!1;const E=new EH({Ho:N=>{v?Ae(Ia,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(b||(Ae(Ia,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),Ae(Ia,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},Jo:()=>g.close()});return af(g,df.EventType.OPEN,(()=>{v||(Ae(Ia,`RPC '${e}' stream ${i} transport opened.`),E.i_())})),af(g,df.EventType.CLOSE,(()=>{v||(v=!0,Ae(Ia,`RPC '${e}' stream ${i} transport closed`),E.o_(),this.E_(g))})),af(g,df.EventType.ERROR,(N=>{v||(v=!0,ii(Ia,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),E.o_(new Te(pe.UNAVAILABLE,"The operation could not be completed")))})),af(g,df.EventType.MESSAGE,(N=>{var S;if(!v){const T=N.data[0];We(!!T,16349);const O=T,U=(O==null?void 0:O.error)||((S=O[0])==null?void 0:S.error);if(U){Ae(Ia,`RPC '${e}' stream ${i} received error:`,U);const M=U.status;let L=(function(C){const R=Ys[C];if(R!==void 0)return QA(R)})(M),$=U.message;L===void 0&&(L=pe.INTERNAL,$="Unknown error status: "+M+" with message "+U.message),v=!0,E.o_(new Te(L,$)),g.close()}else Ae(Ia,`RPC '${e}' stream ${i} received:`,T),E.__(T)}})),Yd.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((s=>s===e))}Go(e,s,r){super.Go(e,s,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return WC()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(a){return new Yd(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){return typeof window<"u"?window:null}function Rg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(a){return new Dq(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yd.c_=!1;class Oj{constructor(e,s,r=1e3,i=1.5,l=6e4){this.Ci=e,this.timerId=s,this.R_=r,this.A_=i,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const s=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,s-r);i>0&&Ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="PersistentStream";class UI{constructor(e,s,r,i,l,c,f,u){this.Ci=e,this.b_=r,this.S_=i,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Oj(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===pe.RESOURCE_EXHAUSTED?(Vs(s.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(s)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===s&&this.G_(r,i)}),(r=>{e((()=>{const i=new Te(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,s){const r=this.Q_(this.D_);this.stream=this.j_(e,s),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(T4,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return s=>{this.Ci.enqueueAndForget((()=>this.D_===e?s():(Ae(T4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AH extends UI{constructor(e,s,r,i,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,i,c),this.serializer=l}j_(e,s){return this.connection.T_("Listen",e,s)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=Lq(this.serializer,e),r=(function(l){if(!("targetChange"in l))return et.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?et.min():c.readTime?Us(c.readTime):et.min()})(e);return this.listener.J_(s,r)}Z_(e){const s={};s.database=$v(this.serializer),s.addTarget=(function(l,c){let f;const u=c.target;if(f=Jg(u)?{documents:iI(l,u)}:{query:oI(l,u).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=eI(l,c.resumeToken);const m=Fv(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(et.min())>0){f.readTime=bu(l,c.snapshotVersion.toTimestamp());const m=Fv(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,e);const r=Vq(this.serializer,e);r&&(s.labels=r),this.K_(s)}X_(e){const s={};s.database=$v(this.serializer),s.removeTarget=e,this.K_(s)}}class IH extends UI{constructor(e,s,r,i,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,i,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}H_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=zq(e.writeResults,e.commitTime),r=Us(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=$v(this.serializer),this.K_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>Jf(this.serializer,r)))};this.K_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{}class PH extends RH{constructor(e,s,r,i){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Te(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,Bv(s,r),i,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(pe.UNKNOWN,l.toString())}))}jo(e,s,r,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.jo(e,Bv(s,r),i,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(pe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function DH(a,e,s,r){return new PH(a,e,s,r)}class MH{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(s),this.aa=!1):Ae("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c="RemoteStore";class OH{constructor(e,s,r,i,l){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{fl(this)&&(Ae(_c,"Restarting streams for network reachability change."),await(async function(u){const m=Fe(u);m.Ea.add(4),await Uu(m),m.Va.set("Unknown"),m.Ea.delete(4),await _m(m)})(this))}))})),this.Va=new MH(r,i)}}async function _m(a){if(fl(a))for(const e of a.Ra)await e(!0)}async function Uu(a){for(const e of a.Ra)await e(!1)}function Gx(a,e){const s=Fe(a);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),Vj(s)?zj(s):Bu(s).O_()&&Lj(s,e))}function ju(a,e){const s=Fe(a),r=Bu(s);s.Ia.delete(e),r.O_()&&FI(s,e),s.Ia.size===0&&(r.O_()?r.L_():fl(s)&&s.Va.set("Unknown"))}function Lj(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const s=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}Bu(a).Z_(e)}function FI(a,e){a.da.$e(e),Bu(a).X_(e)}function zj(a){a.da=new Aq({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Bu(a).start(),a.Va.ua()}function Vj(a){return fl(a)&&!Bu(a).x_()&&a.Ia.size>0}function fl(a){return Fe(a).Ea.size===0}function BI(a){a.da=void 0}async function LH(a){a.Va.set("Online")}async function zH(a){a.Ia.forEach(((e,s)=>{Lj(a,e)}))}async function VH(a,e){BI(a),Vj(a)?(a.Va.ha(e),zj(a)):a.Va.set("Unknown")}async function UH(a,e,s){if(a.Va.set("Online"),e instanceof ZA&&e.state===2&&e.cause)try{await(async function(i,l){const c=l.cause;for(const f of l.targetIds)i.Ia.has(f)&&(await i.remoteSyncer.rejectListen(f,c),i.Ia.delete(f),i.da.removeTarget(f))})(a,e)}catch(r){Ae(_c,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ox(a,r)}else if(e instanceof Ag?a.da.Xe(e):e instanceof XA?a.da.st(e):a.da.tt(e),!s.isEqual(et.min()))try{const r=await AI(a.localStore);s.compareTo(r)>=0&&await(function(l,c){const f=l.da.Tt(c);return f.targetChanges.forEach(((u,m)=>{if(u.resumeToken.approximateByteSize()>0){const g=l.Ia.get(m);g&&l.Ia.set(m,g.withResumeToken(u.resumeToken,c))}})),f.targetMismatches.forEach(((u,m)=>{const g=l.Ia.get(u);if(!g)return;l.Ia.set(u,g.withResumeToken(Ps.EMPTY_BYTE_STRING,g.snapshotVersion)),FI(l,u);const b=new Ai(g.target,u,m,g.sequenceNumber);Lj(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(a,s)}catch(r){Ae(_c,"Failed to raise snapshot:",r),await ox(a,r)}}async function ox(a,e,s){if(!ul(e))throw e;a.Ea.add(1),await Uu(a),a.Va.set("Offline"),s||(s=()=>AI(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{Ae(_c,"Retrying IndexedDB access"),await s(),a.Ea.delete(1),await _m(a)}))}function $I(a,e){return e().catch((s=>ox(a,s,e)))}async function Fu(a){const e=Fe(a),s=rl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qo;for(;FH(e);)try{const i=await jH(e.localStore,r);if(i===null){e.Ta.length===0&&s.L_();break}r=i.batchId,BH(e,i)}catch(i){await ox(e,i)}qI(e)&&HI(e)}function FH(a){return fl(a)&&a.Ta.length<10}function BH(a,e){a.Ta.push(e);const s=rl(a);s.O_()&&s.Y_&&s.ea(e.mutations)}function qI(a){return fl(a)&&!rl(a).x_()&&a.Ta.length>0}function HI(a){rl(a).start()}async function $H(a){rl(a).ra()}async function qH(a){const e=rl(a);for(const s of a.Ta)e.ea(s.mutations)}async function HH(a,e,s){const r=a.Ta.shift(),i=jj.from(r,e,s);await $I(a,(()=>a.remoteSyncer.applySuccessfulWrite(i))),await Fu(a)}async function GH(a,e){e&&rl(a).Y_&&await(async function(r,i){if((function(c){return YA(c)&&c!==pe.ABORTED})(i.code)){const l=r.Ta.shift();rl(r).B_(),await $I(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i))),await Fu(r)}})(a,e),qI(a)&&HI(a)}async function E4(a,e){const s=Fe(a);s.asyncQueue.verifyOperationInProgress(),Ae(_c,"RemoteStore received new credentials");const r=fl(s);s.Ea.add(3),await Uu(s),r&&s.Va.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await _m(s)}async function Qv(a,e){const s=Fe(a);e?(s.Ea.delete(2),await _m(s)):e||(s.Ea.add(2),await Uu(s),s.Va.set("Unknown"))}function Bu(a){return a.ma||(a.ma=(function(s,r,i){const l=Fe(s);return l.sa(),new AH(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(a.datastore,a.asyncQueue,{Zo:LH.bind(null,a),Yo:zH.bind(null,a),t_:VH.bind(null,a),J_:UH.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),Vj(a)?zj(a):a.Va.set("Unknown")):(await a.ma.stop(),BI(a))}))),a.ma}function rl(a){return a.fa||(a.fa=(function(s,r,i){const l=Fe(s);return l.sa(),new IH(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$H.bind(null,a),t_:GH.bind(null,a),ta:qH.bind(null,a),na:HH.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await Fu(a)):(await a.fa.stop(),a.Ta.length>0&&(Ae(_c,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,s,r,i,l){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,i,l){const c=Date.now()+r,f=new Uj(e,s,c,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $u(a,e){if(Vs("AsyncQueue",`${e}: ${a}`),ul(a))return new Te(pe.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{static emptySet(e){return new Qd(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||Ve.comparator(s.key,r.key):(s,r)=>Ve.comparator(s.key,r.key),this.keyedMap=uf(),this.sortedSet=new ns(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Qd)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const i=s.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new Qd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.ga=new ns(Ve.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):$e(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,r)=>{e.push(r)})),e}}class Nu{constructor(e,s,r,i,l,c,f,u,m){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=u,this.hasCachedResults=m}static fromInitialDocuments(e,s,r,i,l){const c=[];return s.forEach((f=>{c.push({type:0,doc:f})})),new Nu(e,s,Qd.emptySet(s),c,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ym(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let i=0;i<s.length;i++)if(s[i].type!==r[i].type||!s[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class WH{constructor(){this.queries=A4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const i=Fe(s),l=i.queries;i.queries=A4(),l.forEach(((c,f)=>{for(const u of f.ba)u.onError(r)}))})(this,new Te(pe.ABORTED,"Firestore shutting down"))}}function A4(){return new Gi((a=>MA(a)),ym)}async function Fj(a,e){const s=Fe(a);let r=3;const i=e.query;let l=s.queries.get(i);l?!l.Sa()&&e.Da()&&(r=2):(l=new KH,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await s.onListen(i,!0);break;case 1:l.wa=await s.onListen(i,!1);break;case 2:await s.onFirstRemoteStoreListen(i)}}catch(c){const f=$u(c,`Initialization of query '${Md(e.query)}' failed`);return void e.onError(f)}s.queries.set(i,l),l.ba.push(e),e.va(s.onlineState),l.wa&&e.Fa(l.wa)&&$j(s)}async function Bj(a,e){const s=Fe(a),r=e.query;let i=3;const l=s.queries.get(r);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?i=e.Da()?0:1:!l.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function YH(a,e){const s=Fe(a);let r=!1;for(const i of e){const l=i.query,c=s.queries.get(l);if(c){for(const f of c.ba)f.Fa(i)&&(r=!0);c.wa=i}}r&&$j(s)}function QH(a,e,s){const r=Fe(a),i=r.queries.get(e);if(i)for(const l of i.ba)l.onError(s);r.queries.delete(e)}function $j(a){a.Ca.forEach((e=>{e.next()}))}var Jv,I4;(I4=Jv||(Jv={})).Ma="default",I4.Cache="cache";class qj{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Nu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=Nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jv.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e,s){this.qa=e,this.byteLength=s}Ua(){return"metadata"in this.qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.serializer=e}Ks(e){return ai(this.serializer,e)}qs(e){return e.metadata.exists?nI(this.serializer,e.document,!1):us.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return Us(e)}}class XH{constructor(e,s){this.$a=e,this.serializer=s,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=GI(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let s=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++s;const r=Nt.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++s);return s!==this.progress.documentsLoaded?(this.progress.documentsLoaded=s,{...this.progress}):null}za(e){const s=new Map,r=new R4(this.serializer);for(const i of e)if(i.metadata.queries){const l=r.Ks(i.metadata.name);for(const c of i.metadata.queries){const f=(s.get(c)||mt()).add(l);s.set(c,f)}}return s}async ja(e){const s=await NH(e,new R4(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const i of this.Wa)await _H(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:s}}}function GI(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.key=e}}class WI{constructor(e){this.key=e}}class YI{constructor(e,s){this.query=e,this.Za=s,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=mt(),this.mutatedKeys=mt(),this.eu=LA(e),this.tu=new Qd(this.eu)}get nu(){return this.Za}ru(e,s){const r=s?s.iu:new C4,i=s?s.tu:this.tu;let l=s?s.mutatedKeys:this.mutatedKeys,c=i,f=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,b)=>{const v=i.get(g),E=bm(this.query,b)?b:null,N=!!v&&this.mutatedKeys.has(v.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let T=!1;v&&E?v.data.isEqual(E.data)?N!==S&&(r.track({type:3,doc:E}),T=!0):this.su(v,E)||(r.track({type:2,doc:E}),T=!0,(u&&this.eu(E,u)>0||m&&this.eu(E,m)<0)&&(f=!0)):!v&&E?(r.track({type:0,doc:E}),T=!0):v&&!E&&(r.track({type:1,doc:v}),T=!0,(u||m)&&(f=!0)),T&&(E?(c=c.add(E),l=S?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Ss:f,mutatedKeys:l}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,i){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,b)=>(function(E,N){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Vt:T})}};return S(E)-S(N)})(g.type,b.type)||this.eu(g.doc,b.doc))),this.ou(r),i=i??!1;const f=s&&!i?this._u():[],u=this.Ya.size===0&&this.current&&!i?1:0,m=u!==this.Xa;return this.Xa=u,c.length!==0||m?{snapshot:new Nu(this.query,e.tu,l,c,e.mutatedKeys,u===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C4,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Za=this.Za.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Za=this.Za.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=mt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const s=[];return e.forEach((r=>{this.Ya.has(r)||s.push(new WI(r))})),this.Ya.forEach((r=>{e.has(r)||s.push(new KI(r))})),s}cu(e){this.Za=e.ks,this.Ya=mt();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return Nu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ml="SyncEngine";class ZH{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class eG{constructor(e){this.key=e,this.hu=!1}}class tG{constructor(e,s,r,i,l,c){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Gi((f=>MA(f)),ym),this.Iu=new Map,this.Eu=new Set,this.Ru=new ns(Ve.comparator),this.Au=new Map,this.Vu=new Cj,this.du={},this.mu=new Map,this.fu=Nc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sG(a,e,s=!0){const r=Kx(a);let i;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.lu()):i=await QI(r,e,s,!0),i}async function aG(a,e){const s=Kx(a);await QI(s,e,!0,!1)}async function QI(a,e,s,r){const i=await vu(a.localStore,qa(e)),l=i.targetId,c=a.sharedClientState.addLocalQueryTarget(l,s);let f;return r&&(f=await Hj(a,e,l,c==="current",i.resumeToken)),a.isPrimaryClient&&s&&Gx(a.remoteStore,i),f}async function Hj(a,e,s,r,i){a.pu=(b,v,E)=>(async function(S,T,O,U){let M=T.view.ru(O);M.Ss&&(M=await rx(S.localStore,T.query,!1).then((({documents:C})=>T.view.ru(C,M))));const L=U&&U.targetChanges.get(T.targetId),$=U&&U.targetMismatches.get(T.targetId)!=null,X=T.view.applyChanges(M,S.isPrimaryClient,L,$);return Xv(S,T.targetId,X.au),X.snapshot})(a,b,v,E);const l=await rx(a.localStore,e,!0),c=new YI(e,l.ks),f=c.ru(l.documents),u=jm.createSynthesizedTargetChangeForCurrentChange(s,r&&a.onlineState!=="Offline",i),m=c.applyChanges(f,a.isPrimaryClient,u);Xv(a,s,m.au);const g=new ZH(e,s,c);return a.Tu.set(e,g),a.Iu.has(s)?a.Iu.get(s).push(e):a.Iu.set(s,[e]),m.snapshot}async function rG(a,e,s){const r=Fe(a),i=r.Tu.get(e),l=r.Iu.get(i.targetId);if(l.length>1)return r.Iu.set(i.targetId,l.filter((c=>!ym(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wu(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),s&&ju(r.remoteStore,i.targetId),_u(r,i.targetId)})).catch(dl)):(_u(r,i.targetId),await wu(r.localStore,i.targetId,!0))}async function nG(a,e){const s=Fe(a),r=s.Tu.get(e),i=s.Iu.get(r.targetId);s.isPrimaryClient&&i.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),ju(s.remoteStore,r.targetId))}async function iG(a,e,s){const r=Yj(a);try{const i=await(function(c,f){const u=Fe(c),m=Bt.now(),g=f.reduce(((E,N)=>E.add(N.key)),mt());let b,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let N=cr(),S=mt();return u.xs.getEntries(E,g).next((T=>{N=T,N.forEach(((O,U)=>{U.isValidDocument()||(S=S.add(O))}))})).next((()=>u.localDocuments.getOverlayedDocuments(E,N))).next((T=>{b=T;const O=[];for(const U of f){const M=Tq(U,b.get(U.key).overlayedDocument);M!=null&&O.push(new Ki(U.key,M,SA(M.value.mapValue),vs.exists(!0)))}return u.mutationQueue.addMutationBatch(E,m,O,f)})).next((T=>{v=T;const O=T.applyToLocalDocumentSet(b,S);return u.documentOverlayCache.saveOverlays(E,T.batchId,O)}))})).then((()=>({batchId:v.batchId,changes:VA(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,f,u){let m=c.du[c.currentUser.toKey()];m||(m=new ns(ot)),m=m.insert(f,u),c.du[c.currentUser.toKey()]=m})(r,i.batchId,s),await Wi(r,i.changes),await Fu(r.remoteStore)}catch(i){const l=$u(i,"Failed to persist write");s.reject(l)}}async function JI(a,e){const s=Fe(a);try{const r=await wH(s.localStore,e);e.targetChanges.forEach(((i,l)=>{const c=s.Au.get(l);c&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?We(c.hu,14607):i.removedDocuments.size>0&&(We(c.hu,42227),c.hu=!1))})),await Wi(s,r,e)}catch(r){await dl(r)}}function P4(a,e,s){const r=Fe(a);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const i=[];r.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&i.push(f.snapshot)})),(function(c,f){const u=Fe(c);u.onlineState=f;let m=!1;u.queries.forEach(((g,b)=>{for(const v of b.ba)v.va(f)&&(m=!0)})),m&&$j(u)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oG(a,e,s){const r=Fe(a);r.sharedClientState.updateQueryState(e,"rejected",s);const i=r.Au.get(e),l=i&&i.key;if(l){let c=new ns(Ve.comparator);c=c.insert(l,us.newNoDocument(l,et.min()));const f=mt().add(l),u=new wm(et.min(),new Map,new ns(ot),c,f);await JI(r,u),r.Ru=r.Ru.remove(l),r.Au.delete(e),Wj(r)}else await wu(r.localStore,e,!1).then((()=>_u(r,e,s))).catch(dl)}async function lG(a,e){const s=Fe(a),r=e.batch.batchId;try{const i=await vH(s.localStore,e);Kj(s,r,null),Gj(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await Wi(s,i)}catch(i){await dl(i)}}async function cG(a,e,s){const r=Fe(a);try{const i=await(function(c,f){const u=Fe(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return u.mutationQueue.lookupMutationBatch(m,f).next((b=>(We(b!==null,37113),g=b.keys(),u.mutationQueue.removeMutationBatch(m,b)))).next((()=>u.mutationQueue.performConsistencyCheck(m))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(m,g,f))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>u.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);Kj(r,e,s),Gj(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await Wi(r,i)}catch(i){await dl(i)}}async function dG(a,e){const s=Fe(a);fl(s.remoteStore)||Ae(ml,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(c){const f=Fe(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(u=>f.mutationQueue.getHighestUnacknowledgedBatchId(u)))})(s.localStore);if(r===qo)return void e.resolve();const i=s.mu.get(r)||[];i.push(e),s.mu.set(r,i)}catch(r){const i=$u(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Gj(a,e){(a.mu.get(e)||[]).forEach((s=>{s.resolve()})),a.mu.delete(e)}function Kj(a,e,s){const r=Fe(a);let i=r.du[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(s?l.reject(s):l.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function _u(a,e,s=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),s&&a.Pu.yu(r,s);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((r=>{a.Vu.containsKey(r)||XI(a,r)}))}function XI(a,e){a.Eu.delete(e.path.canonicalString());const s=a.Ru.get(e);s!==null&&(ju(a.remoteStore,s),a.Ru=a.Ru.remove(e),a.Au.delete(s),Wj(a))}function Xv(a,e,s){for(const r of s)r instanceof KI?(a.Vu.addReference(r.key,e),uG(a,r)):r instanceof WI?(Ae(ml,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,e),a.Vu.containsKey(r.key)||XI(a,r.key)):$e(19791,{wu:r})}function uG(a,e){const s=e.key,r=s.path.canonicalString();a.Ru.get(s)||a.Eu.has(r)||(Ae(ml,"New document in limbo: "+s),a.Eu.add(r),Wj(a))}function Wj(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const s=new Ve(Nt.fromString(e)),r=a.fu.next();a.Au.set(r,new eG(s)),a.Ru=a.Ru.insert(s,r),Gx(a.remoteStore,new Ai(qa(Lu(s.path)),r,"TargetPurposeLimboResolution",or.ce))}}async function Wi(a,e,s){const r=Fe(a),i=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,u)=>{c.push(r.pu(u,e,s).then((m=>{var g;if((m||s)&&r.isPrimaryClient){const b=m?!m.fromCache:(g=s==null?void 0:s.targetChanges.get(u.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(u.targetId,b?"current":"not-current")}if(m){i.push(m);const b=Pj.Es(u.targetId,m);l.push(b)}})))})),await Promise.all(c),r.Pu.J_(i),await(async function(u,m){const g=Fe(u);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>oe.forEach(m,(v=>oe.forEach(v.Ts,(E=>g.persistence.referenceDelegate.addReference(b,v.targetId,E))).next((()=>oe.forEach(v.Is,(E=>g.persistence.referenceDelegate.removeReference(b,v.targetId,E)))))))))}catch(b){if(!ul(b))throw b;Ae(Dj,"Failed to update sequence numbers: "+b)}for(const b of m){const v=b.targetId;if(!b.fromCache){const E=g.vs.get(v),N=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(N);g.vs=g.vs.insert(v,S)}}})(r.localStore,l))}async function hG(a,e){const s=Fe(a);if(!s.currentUser.isEqual(e)){Ae(ml,"User change. New user:",e.toKey());const r=await CI(s.localStore,e);s.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((u=>{u.reject(new Te(pe.CANCELLED,c))}))})),l.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wi(s,r.Ns)}}function fG(a,e){const s=Fe(a),r=s.Au.get(e);if(r&&r.hu)return mt().add(r.key);{let i=mt();const l=s.Iu.get(e);if(!l)return i;for(const c of l){const f=s.Tu.get(c);i=i.unionWith(f.view.nu)}return i}}async function mG(a,e){const s=Fe(a),r=await rx(s.localStore,e.query,!0),i=e.view.cu(r);return s.isPrimaryClient&&Xv(s,e.targetId,i.au),i}async function pG(a,e){const s=Fe(a);return PI(s.localStore,e).then((r=>Wi(s,r)))}async function gG(a,e,s,r){const i=Fe(a),l=await(function(f,u){const m=Fe(f),g=Fe(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",(b=>g.Xn(b,u).next((v=>v?m.localDocuments.getDocuments(b,v):oe.resolve(null)))))})(i.localStore,e);l!==null?(s==="pending"?await Fu(i.remoteStore):s==="acknowledged"||s==="rejected"?(Kj(i,e,r||null),Gj(i,e),(function(f,u){Fe(Fe(f).mutationQueue).nr(u)})(i.localStore,e)):$e(6720,"Unknown batchState",{bu:s}),await Wi(i,l)):Ae(ml,"Cannot apply mutation batch with id: "+e)}async function xG(a,e){const s=Fe(a);if(Kx(s),Yj(s),e===!0&&s.gu!==!0){const r=s.sharedClientState.getAllActiveQueryTargets(),i=await D4(s,r.toArray());s.gu=!0,await Qv(s.remoteStore,!0);for(const l of i)Gx(s.remoteStore,l)}else if(e===!1&&s.gu!==!1){const r=[];let i=Promise.resolve();s.Iu.forEach(((l,c)=>{s.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then((()=>(_u(s,c),wu(s.localStore,c,!0)))),ju(s.remoteStore,c)})),await i,await D4(s,r),(function(c){const f=Fe(c);f.Au.forEach(((u,m)=>{ju(f.remoteStore,m)})),f.Vu.zr(),f.Au=new Map,f.Ru=new ns(Ve.comparator)})(s),s.gu=!1,await Qv(s.remoteStore,!1)}}async function D4(a,e,s){const r=Fe(a),i=[],l=[];for(const c of e){let f;const u=r.Iu.get(c);if(u&&u.length!==0){f=await vu(r.localStore,qa(u[0]));for(const m of u){const g=r.Tu.get(m),b=await mG(r,g);b.snapshot&&l.push(b.snapshot)}}else{const m=await RI(r.localStore,c);f=await vu(r.localStore,m),await Hj(r,ZI(m),c,!1,f.resumeToken)}i.push(f)}return r.Pu.J_(l),i}function ZI(a){return DA(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function yG(a){return(function(s){return Fe(Fe(s).persistence).hs()})(Fe(a).localStore)}async function bG(a,e,s,r){const i=Fe(a);if(i.gu)return void Ae(ml,"Ignoring unexpected query state notification.");const l=i.Iu.get(e);if(l&&l.length>0)switch(s){case"current":case"not-current":{const c=await PI(i.localStore,OA(l[0])),f=wm.createSynthesizedRemoteEventForCurrentChange(e,s==="current",Ps.EMPTY_BYTE_STRING);await Wi(i,c,f);break}case"rejected":await wu(i.localStore,e,!0),_u(i,e,r);break;default:$e(64155,s)}}async function vG(a,e,s){const r=Kx(a);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Ae(ml,"Adding an already active target "+i);continue}const l=await RI(r.localStore,i),c=await vu(r.localStore,l);await Hj(r,ZI(l),c.targetId,!1,c.resumeToken),Gx(r.remoteStore,c)}for(const i of s)r.Iu.has(i)&&await wu(r.localStore,i,!1).then((()=>{ju(r.remoteStore,i),_u(r,i)})).catch(dl)}}function Kx(a){const e=Fe(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=JI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oG.bind(null,e),e.Pu.J_=YH.bind(null,e.eventManager),e.Pu.yu=QH.bind(null,e.eventManager),e}function Yj(a){const e=Fe(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cG.bind(null,e),e}function wG(a,e,s){const r=Fe(a);(async function(l,c,f){try{const u=await c.getMetadata();if(await(function(E,N){const S=Fe(E),T=Us(N.createTime);return S.persistence.runTransaction("hasNewerBundle","readonly",(O=>S.Pi.getBundleMetadata(O,N.id))).then((O=>!!O&&O.createTime.compareTo(T)>=0))})(l.localStore,u))return await c.close(),f._completeWith((function(E){return{taskState:"Success",documentsLoaded:E.totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}})(u)),Promise.resolve(new Set);f._updateProgress(GI(u));const m=new XH(u,c.serializer);let g=await c.Su();for(;g;){const v=await m.Ga(g);v&&f._updateProgress(v),g=await c.Su()}const b=await m.ja(l.localStore);return await Wi(l,b.Ja,void 0),await(function(E,N){const S=Fe(E);return S.persistence.runTransaction("Save bundle","readwrite",(T=>S.Pi.saveBundleMetadata(T,N)))})(l.localStore,u),f._completeWith(b.progress),Promise.resolve(b.Ha)}catch(u){return ii(ml,`Loading bundle failed with ${u}`),f._failWith(u),Promise.resolve(new Set)}})(r,e,s).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return EI(this.persistence,new TI,e.initialUser,this.serializer)}Cu(e){return new Aj(Hx.Vi,this.serializer)}Du(e){return new zI}async terminate(){var e,s;(e=this.gcScheduler)==null||e.stop(),(s=this.indexBackfillerScheduler)==null||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class jG extends Xf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){We(this.persistence.referenceDelegate instanceof ax,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wI(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?Ra.withCacheSize(this.cacheSizeBytes):Ra.DEFAULT;return new Aj((r=>ax.Vi(r,s)),this.serializer)}}class eR extends Xf{constructor(e,s,r){super(),this.xu=e,this.cacheSizeBytes=s,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Yj(this.xu.syncEngine),await Fu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return EI(this.persistence,new TI,e.initialUser,this.serializer)}Fu(e,s){const r=this.persistence.referenceDelegate.garbageCollector;return new wI(r,e.asyncQueue,s)}Mu(e,s){const r=new k$(s,this.persistence);return new _$(e.asyncQueue,r)}Cu(e){const s=Rj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ra.withCacheSize(this.cacheSizeBytes):Ra.DEFAULT;return new Ij(this.synchronizeTabs,s,e.clientId,r,e.asyncQueue,VI(),Rg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new zI}}class NG extends eR{constructor(e,s){super(e,s,!1),this.xu=e,this.cacheSizeBytes=s,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const s=this.xu.syncEngine;this.sharedClientState instanceof qb&&(this.sharedClientState.syncEngine={So:gG.bind(null,s),Do:bG.bind(null,s),Co:vG.bind(null,s),hs:yG.bind(null,s),bo:pG.bind(null,s)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await xG(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const s=VI();if(!qb.v(s))throw new Te(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Rj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qb(s,e.asyncQueue,r,e.clientId,e.initialUser)}}class Zf{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hG.bind(null,this.syncEngine),await Qv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new WH})()}createDatastore(e){const s=Nm(e.databaseInfo.databaseId),r=CH(e.databaseInfo);return DH(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,i,l,c,f){return new OH(r,i,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(s=>P4(this.syncEngine,s,0)),(function(){return S4.v()?new S4:new kH})())}createSyncEngine(e,s){return(function(i,l,c,f,u,m,g){const b=new tG(i,l,c,f,u,m);return g&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){var e,s;await(async function(i){const l=Fe(i);Ae(_c,"RemoteStore shutting down."),l.Ea.add(5),await Uu(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(s=this.eventManager)==null||s.terminate()}}Zf.provider={build:()=>new Zf};function M4(a,e=10240){let s=0;return{async read(){if(s<a.byteLength){const r={value:a.slice(s,s+e),done:!1};return s+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e,s){this.Bu=e,this.serializer=s,this.metadata=new Sa,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const s=this.Lu.decode(e),r=Number(s);isNaN(r)&&this.qu(`length string (${s}) is not valid number`);const i=await this.Uu(r);return new JH(JSON.parse(i),e.length+r)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const s=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),s}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const s=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),s}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const s=new Uint8Array(this.buffer.length+e.value.length);s.set(this.buffer),s.set(e.value,this.buffer.length),this.buffer=s}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kG=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Te(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const s=await(async function(i,l){const c=Fe(i),f={documents:l.map((b=>Qf(c.serializer,b)))},u=await c.jo("BatchGetDocuments",c.serializer.databaseId,Nt.emptyPath(),f,l.length),m=new Map;u.forEach((b=>{const v=Oq(c.serializer,b);m.set(v.key.toString(),v)}));const g=[];return l.forEach((b=>{const v=m.get(b.toString());We(!!v,55234,{key:b}),g.push(v)})),g})(this.datastore,e);return s.forEach((r=>this.recordVersion(r))),s}set(e,s){this.write(s.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,s){try{this.write(s.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((s=>{e.delete(s.key.toString())})),e.forEach(((s,r)=>{const i=Ve.fromPath(r);this.mutations.push(new vj(i,this.precondition(i)))})),await(async function(r,i){const l=Fe(r),c={writes:i.map((f=>Jf(l.serializer,f)))};await l.Wo("Commit",l.serializer.databaseId,Nt.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let s;if(e.isFoundDocument())s=e.version;else{if(!e.isNoDocument())throw $e(50498,{Gu:e.constructor.name});s=et.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!s.isEqual(r))throw new Te(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),s)}precondition(e){const s=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&s?s.isEqual(et.min())?vs.exists(!1):vs.updateTime(s):vs.none()}preconditionForUpdate(e){const s=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&s){if(s.isEqual(et.min()))throw new Te(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vs.updateTime(s)}return vs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e,s,r,i,l){this.asyncQueue=e,this.datastore=s,this.options=r,this.updateFunction=i,this.deferred=l,this.zu=r.maxAttempts,this.M_=new Oj(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new kG(this.datastore),s=this.Ju(e);s&&s.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Zu(i)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const s=this.updateFunction(e);return!pm(s)&&s.catch&&s.then?s:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if((e==null?void 0:e.name)==="FirebaseError"){const s=e.code;return s==="aborted"||s==="failed-precondition"||s==="already-exists"||!YA(s)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="FirestoreClient";class TG{constructor(e,s,r,i,l){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this._databaseInfo=i,this.user=ca.UNAUTHENTICATED,this.clientId=ij.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Ae(nl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ae(nl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=$u(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Gb(a,e){a.asyncQueue.verifyOperationInProgress(),Ae(nl,"Initializing OfflineComponentProvider");const s=a.configuration;await e.initialize(s);let r=s.initialUser;a.setCredentialChangeListener((async i=>{r.isEqual(i)||(await CI(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function O4(a,e){a.asyncQueue.verifyOperationInProgress();const s=await Qj(a);Ae(nl,"Initializing OnlineComponentProvider"),await e.initialize(s,a.configuration),a.setCredentialChangeListener((r=>E4(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,i)=>E4(e.remoteStore,i))),a._onlineComponents=e}async function Qj(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Ae(nl,"Using user provided OfflineComponentProvider");try{await Gb(a,a._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(i){return i.name==="FirebaseError"?i.code===pe.FAILED_PRECONDITION||i.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(s))throw s;ii("Error using user provided cache. Falling back to memory cache: "+s),await Gb(a,new Xf)}}else Ae(nl,"Using default OfflineComponentProvider"),await Gb(a,new jG(void 0));return a._offlineComponents}async function Yx(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Ae(nl,"Using user provided OnlineComponentProvider"),await O4(a,a._uninitializedComponentsProvider._online)):(Ae(nl,"Using default OnlineComponentProvider"),await O4(a,new Zf))),a._onlineComponents}function tR(a){return Qj(a).then((e=>e.persistence))}function Jj(a){return Qj(a).then((e=>e.localStore))}function sR(a){return Yx(a).then((e=>e.remoteStore))}function Xj(a){return Yx(a).then((e=>e.syncEngine))}function EG(a){return Yx(a).then((e=>e.datastore))}async function ku(a){const e=await Yx(a),s=e.eventManager;return s.onListen=sG.bind(null,e.syncEngine),s.onUnlisten=rG.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=aG.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=nG.bind(null,e.syncEngine),s}function CG(a){return a.asyncQueue.enqueue((async()=>{const e=await tR(a),s=await sR(a);return e.setNetworkEnabled(!0),(function(i){const l=Fe(i);return l.Ea.delete(0),_m(l)})(s)}))}function AG(a){return a.asyncQueue.enqueue((async()=>{const e=await tR(a),s=await sR(a);return e.setNetworkEnabled(!1),(async function(i){const l=Fe(i);l.Ea.add(0),await Uu(l),l.Va.set("Offline")})(s)}))}function IG(a,e,s,r){const i=new Wx(r),l=new qj(e,i,s);return a.asyncQueue.enqueueAndForget((async()=>Fj(await ku(a),l))),()=>{i.Nu(),a.asyncQueue.enqueueAndForget((async()=>Bj(await ku(a),l)))}}function RG(a,e){const s=new Sa;return a.asyncQueue.enqueueAndForget((async()=>(async function(i,l,c){try{const f=await(function(m,g){const b=Fe(m);return b.persistence.runTransaction("read document","readonly",(v=>b.localDocuments.getDocument(v,g)))})(i,l);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Te(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const u=$u(f,`Failed to get document '${l} from cache`);c.reject(u)}})(await Jj(a),e,s))),s.promise}function aR(a,e,s={}){const r=new Sa;return a.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,u,m){const g=new Wx({next:v=>{g.Nu(),c.enqueueAndForget((()=>Bj(l,b)));const E=v.docs.has(f);!E&&v.fromCache?m.reject(new Te(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&u&&u.source==="server"?m.reject(new Te(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(v)},error:v=>m.reject(v)}),b=new qj(Lu(f.path),g,{includeMetadataChanges:!0,Ka:!0});return Fj(l,b)})(await ku(a),a.asyncQueue,e,s,r))),r.promise}function PG(a,e){const s=new Sa;return a.asyncQueue.enqueueAndForget((async()=>(async function(i,l,c){try{const f=await rx(i,l,!0),u=new YI(l,f.ks),m=u.ru(f.documents),g=u.applyChanges(m,!1);c.resolve(g.snapshot)}catch(f){const u=$u(f,`Failed to execute query '${l} against cache`);c.reject(u)}})(await Jj(a),e,s))),s.promise}function rR(a,e,s={}){const r=new Sa;return a.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,u,m){const g=new Wx({next:v=>{g.Nu(),c.enqueueAndForget((()=>Bj(l,b))),v.fromCache&&u.source==="server"?m.reject(new Te(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(v)},error:v=>m.reject(v)}),b=new qj(f,g,{includeMetadataChanges:!0,Ka:!0});return Fj(l,b)})(await ku(a),a.asyncQueue,e,s,r))),r.promise}function DG(a,e){const s=new Sa;return a.asyncQueue.enqueueAndForget((async()=>iG(await Xj(a),e,s))),s.promise}function MG(a,e){const s=new Wx(e);return a.asyncQueue.enqueueAndForget((async()=>(function(i,l){Fe(i).Ca.add(l),l.next()})(await ku(a),s))),()=>{s.Nu(),a.asyncQueue.enqueueAndForget((async()=>(function(i,l){Fe(i).Ca.delete(l)})(await ku(a),s)))}}function OG(a,e,s){const r=new Sa;return a.asyncQueue.enqueueAndForget((async()=>{const i=await EG(a);new SG(a.asyncQueue,i,s,e,r).ju()})),r.promise}function LG(a,e,s,r){const i=(function(c,f){let u;return u=typeof c=="string"?JA().encode(c):c,(function(g,b){return new _G(g,b)})((function(g,b){if(g instanceof Uint8Array)return M4(g,b);if(g instanceof ArrayBuffer)return M4(new Uint8Array(g),b);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(u),f)})(s,Nm(e));a.asyncQueue.enqueueAndForget((async()=>{wG(await Xj(a),i,r)}))}function zG(a,e){return a.asyncQueue.enqueue((async()=>(function(r,i){const l=Fe(r);return l.persistence.runTransaction("Get named query","readonly",(c=>l.Pi.getNamedQuery(c,i)))})(await Jj(a),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG="ComponentProvider",L4=new Map;function UG(a,e,s,r,i){return new eq(a,e,s,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,nR(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="firestore.googleapis.com",z4=!0;class V4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iR,this.ssl=z4}else this.host=e.host,this.ssl=e.ssl??z4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tH)throw new Te(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Te(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Te(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Te(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class km{constructor(e,s,r,i){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new h$;switch(r.type){case"firstParty":return new g$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=L4.get(s);r&&(Ae(VG,"Removing Datastore"),L4.delete(s),r.terminate())})(this),Promise.resolve()}}function FG(a,e,s,r={}){var m;a=Dt(a,km);const i=Iu(e),l=a._getSettings(),c={...l,emulatorOptions:a._getEmulatorOptions()},f=`${e}:${s}`;i&&(_E(`https://${f}`),kE("Firestore",!0)),l.host!==iR&&l.host!==f&&ii("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...l,host:f,ssl:i,emulatorOptions:r};if(!Qo(u,c)&&(a._setSettings(u),r.mockUserToken)){let g,b;if(typeof r.mockUserToken=="string")g=r.mockUserToken,b=ca.MOCK_USER;else{g=S8(r.mockUserToken,(m=a._app)==null?void 0:m.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Te(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new ca(v)}a._authCredentials=new f$(new QC(g,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka=class oR{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oR(this.firestore,e,this._query)}},rs=class mf{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mf(this.firestore,e,this._key)}toJSON(){return{type:mf._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(mm(s,mf._jsonSchema))return new mf(e,r||null,new Ve(Nt.fromString(s.referencePath)))}};rs._jsonSchemaVersion="firestore/documentReference/1.0",rs._jsonSchema={type:Js("string",rs._jsonSchemaVersion),referencePath:Js("string")};let Ho=class lR extends Ka{constructor(e,s,r){super(e,s,Lu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rs(this.firestore,null,new Ve(e))}withConverter(e){return new lR(this.firestore,e,this._path)}};function cR(a,e,...s){if(a=tt(a),oj("collection","path",e),a instanceof km){const r=Nt.fromString(e,...s);return TS(r),new Ho(a,null,r)}{if(!(a instanceof rs||a instanceof Ho))throw new Te(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Nt.fromString(e,...s));return TS(r),new Ho(a.firestore,null,r)}}function BG(a,e){if(a=Dt(a,km),oj("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Te(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ka(a,null,(function(r){return new Hi(Nt.emptyPath(),r)})(e))}function lx(a,e,...s){if(a=tt(a),arguments.length===1&&(e=ij.newId()),oj("doc","path",e),a instanceof km){const r=Nt.fromString(e,...s);return SS(r),new rs(a,null,new Ve(r))}{if(!(a instanceof rs||a instanceof Ho))throw new Te(pe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Nt.fromString(e,...s));return SS(r),new rs(a.firestore,a instanceof Ho?a.converter:null,new Ve(r))}}function dR(a,e){return a=tt(a),e=tt(e),(a instanceof rs||a instanceof Ho)&&(e instanceof rs||e instanceof Ho)&&a.firestore===e.firestore&&a.path===e.path&&a.converter===e.converter}function uR(a,e){return a=tt(a),e=tt(e),a instanceof Ka&&e instanceof Ka&&a.firestore===e.firestore&&ym(a._query,e._query)&&a.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="AsyncQueue";class F4{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Oj(this,"async_queue_retry"),this._c=()=>{const r=Rg();r&&Ae(U4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=Rg();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=Rg();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new Sa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ul(e))throw e;Ae(U4,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",B4(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const i=Uj.createAndSchedule(this,e,s,r,(l=>this.hc(l)));return this.tc.push(i),i}uc(){this.nc&&$e(47125,{Pc:B4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function B4(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(){this._progressObserver={},this._taskCompletionResolver=new Sa,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,s,r){this._progressObserver={next:e,error:s,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,s){return this._taskCompletionResolver.promise.then(e,s)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG=-1;let Fs=class extends km{constructor(e,s,r,i){super(e,s,r,i),this.type="firestore",this._queue=new F4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F4(e),this._firestoreClient=void 0,await e}}};function Ma(a){if(a._terminated)throw new Te(pe.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||hR(a),a._firestoreClient}function hR(a){var r,i,l,c;const e=a._freezeSettings(),s=UG(a._databaseId,((r=a._app)==null?void 0:r.options.appId)||"",a._persistenceKey,(i=a._app)==null?void 0:i.options.apiKey,e);a._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new TG(a._authCredentials,a._appCheckCredentials,a._queue,s,a._componentsProvider&&(function(u){const m=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(m),_online:m}})(a._componentsProvider))}function HG(a,e){ii("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=a._freezeSettings();return fR(a,Zf.provider,{build:r=>new eR(r,s.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function GG(a){ii("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=a._freezeSettings();fR(a,Zf.provider,{build:s=>new NG(s,e.cacheSizeBytes)})}function fR(a,e,s){if((a=Dt(a,Fs))._firestoreClient||a._terminated)throw new Te(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(a._componentsProvider||a._getSettings().localCache)throw new Te(pe.FAILED_PRECONDITION,"SDK cache is already specified.");a._componentsProvider={_online:e,_offline:s},hR(a)}function KG(a){if(a._initialized&&!a._terminated)throw new Te(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Sa;return a._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!si.v())return Promise.resolve();const i=r+SI;await si.delete(i)})(Rj(a._databaseId,a._persistenceKey)),e.resolve()}catch(s){e.reject(s)}})),e.promise}function WG(a){return(function(s){const r=new Sa;return s.asyncQueue.enqueueAndForget((async()=>dG(await Xj(s),r))),r.promise})(Ma(a=Dt(a,Fs)))}function YG(a){return CG(Ma(a=Dt(a,Fs)))}function QG(a){return AG(Ma(a=Dt(a,Fs)))}function JG(a,e){const s=Ma(a=Dt(a,Fs)),r=new $G;return LG(s,a._databaseId,e,r),r}function XG(a,e){return zG(Ma(a=Dt(a,Fs)),e).then((s=>s?new Ka(a,null,s.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pa(Ps.fromBase64String(e))}catch(s){throw new Te(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Pa(Ps.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mm(e,Pa._jsonSchema))return Pa.fromBase64String(e.bytes)}}Pa._jsonSchemaVersion="firestore/bytes/1.0",Pa._jsonSchema={type:Js("string",Pa._jsonSchemaVersion),bytes:Js("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=class{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new Te(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new Te(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new Te(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bn._jsonSchemaVersion}}static fromJSON(e){if(mm(e,bn._jsonSchema))return new bn(e.latitude,e.longitude)}}bn._jsonSchemaVersion="firestore/geoPoint/1.0",bn._jsonSchema={type:Js("string",bn._jsonSchemaVersion),latitude:Js("number"),longitude:Js("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==i[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mm(e,vn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new vn(e.vectorValues);throw new Te(pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vn._jsonSchemaVersion="firestore/vectorValue/1.0",vn._jsonSchema={type:Js("string",vn._jsonSchemaVersion),vectorValues:Js("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG=/^__.*__$/;class eK{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new Ki(e,this.data,this.fieldMask,s,this.fieldTransforms):new zu(e,this.data,s,this.fieldTransforms)}}class mR{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new Ki(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function pR(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{dataSource:a})}}class Qx{constructor(e,s,r,i,l,c){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=i,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Qx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const s=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:s,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const s=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:s,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return cx(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(pR(this.dataSource)&&ZG.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class tK{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||Nm(e)}createContext(e,s,r,i=!1){return new Qx({dataSource:e,methodName:s,targetDoc:r,path:bs.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mc(a){const e=a._freezeSettings(),s=Nm(a._databaseId);return new tK(a._databaseId,!!e.ignoreUndefinedProperties,s)}function Jx(a,e,s,r,i,l={}){const c=a.createContext(l.merge||l.mergeFields?2:0,e,s,i);n1("Data must be an object, but it was:",c,r);const f=yR(r,c);let u,m;if(l.merge)u=new lr(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const b of l.mergeFields){const v=Sc(e,b,s);if(!c.contains(v))throw new Te(pe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);wR(g,v)||g.push(v)}u=new lr(g),m=c.fieldTransforms.filter((b=>u.covers(b.field)))}else u=null,m=c.fieldTransforms;return new eK(new wa(f),u,m)}class Sm extends Dc{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sm}}function gR(a,e,s){return new Qx({dataSource:3,targetDoc:e.settings.targetDoc,methodName:a._methodName,arrayElement:s},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zj extends Dc{_toFieldTransform(e){return new vm(e.path,new xu)}isEqual(e){return e instanceof Zj}}class e1 extends Dc{constructor(e,s){super(e),this.Ac=s}_toFieldTransform(e){const s=gR(this,e,!0),r=this.Ac.map((l=>Oc(l,s))),i=new bc(r);return new vm(e.path,i)}isEqual(e){return e instanceof e1&&Qo(this.Ac,e.Ac)}}class t1 extends Dc{constructor(e,s){super(e),this.Ac=s}_toFieldTransform(e){const s=gR(this,e,!0),r=this.Ac.map((l=>Oc(l,s))),i=new vc(r);return new vm(e.path,i)}isEqual(e){return e instanceof t1&&Qo(this.Ac,e.Ac)}}class s1 extends Dc{constructor(e,s){super(e),this.Vc=s}_toFieldTransform(e){const s=new yu(e.serializer,BA(e.serializer,this.Vc));return new vm(e.path,s)}isEqual(e){return e instanceof s1&&this.Vc===e.Vc}}function a1(a,e,s,r){const i=a.createContext(1,e,s);n1("Data must be an object, but it was:",i,r);const l=[],c=wa.empty();hl(r,((u,m)=>{const g=vR(e,u,s);m=tt(m);const b=i.childContextForFieldPath(g);if(m instanceof Sm)l.push(g);else{const v=Oc(m,b);v!=null&&(l.push(g),c.set(g,v))}}));const f=new lr(l);return new mR(c,f,i.fieldTransforms)}function r1(a,e,s,r,i,l){const c=a.createContext(1,e,s),f=[Sc(e,r,s)],u=[i];if(l.length%2!=0)throw new Te(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<l.length;v+=2)f.push(Sc(e,l[v])),u.push(l[v+1]);const m=[],g=wa.empty();for(let v=f.length-1;v>=0;--v)if(!wR(m,f[v])){const E=f[v];let N=u[v];N=tt(N);const S=c.childContextForFieldPath(E);if(N instanceof Sm)m.push(E);else{const T=Oc(N,S);T!=null&&(m.push(E),g.set(E,T))}}const b=new lr(m);return new mR(g,b,c.fieldTransforms)}function xR(a,e,s,r=!1){return Oc(s,a.createContext(r?4:3,e))}function Oc(a,e){if(bR(a=tt(a)))return n1("Unsupported field value:",e,a),yR(a,e);if(a instanceof Dc)return(function(r,i){if(!pR(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(i);l&&i.fieldTransforms.push(l)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const l=[];let c=0;for(const f of r){let u=Oc(f,i.childContextForArray(c));u==null&&(u={nullValue:"NULL_VALUE"}),l.push(u),c++}return{arrayValue:{values:l}}})(a,e)}return(function(r,i){if((r=tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Bt.fromDate(r);return{timestampValue:bu(i.serializer,l)}}if(r instanceof Bt){const l=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bu(i.serializer,l)}}if(r instanceof bn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pa)return{bytesValue:eI(i.serializer,r._byteString)};if(r instanceof rs){const l=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw i.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:kj(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof vn)return(function(c,f){const u=c instanceof vn?c.toArray():c;return{mapValue:{fields:{[mj]:{stringValue:pj},[mu]:{arrayValue:{values:u.map((g=>{if(typeof g!="number")throw f.createError("VectorValues must only contain numeric values.");return bj(f.serializer,g)}))}}}}}})(r,i);if(hI(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Px(r)}`)})(a,e)}function yR(a,e){const s={};return xA(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hl(a,((r,i)=>{const l=Oc(i,e.childContextForField(r));l!=null&&(s[r]=l)})),{mapValue:{fields:s}}}function bR(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Bt||a instanceof bn||a instanceof Pa||a instanceof rs||a instanceof Dc||a instanceof vn||hI(a))}function n1(a,e,s){if(!bR(s)||!ZC(s)){const r=Px(s);throw r==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+r)}}function Sc(a,e,s){if((e=tt(e))instanceof kc)return e._internalPath;if(typeof e=="string")return vR(a,e);throw cx("Field path arguments must be of type string or ",a,!1,void 0,s)}const sK=new RegExp("[~\\*/\\[\\]]");function vR(a,e,s){if(e.search(sK)>=0)throw cx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,s);try{return new kc(...e.split("."))._internalPath}catch{throw cx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,s)}}function cx(a,e,s,r,i){const l=r&&!r.isEmpty(),c=i!==void 0;let f=`Function ${e}() called with invalid data`;s&&(f+=" (via `toFirestore()`)"),f+=". ";let u="";return(l||c)&&(u+=" (found",l&&(u+=` in field ${r}`),c&&(u+=` in document ${i}`),u+=")"),new Te(pe.INVALID_ARGUMENT,f+a+u)}function wR(a,e){return a.some((s=>s.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{convertValue(e,s="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return hl(e,((i,l)=>{r[i]=this.convertValue(l,s)})),r}convertVectorValue(e){var r,i,l;const s=(l=(i=(r=e.fields)==null?void 0:r[mu].arrayValue)==null?void 0:i.values)==null?void 0:l.map((c=>xs(c.doubleValue)));return new vn(s)}convertGeoPoint(e){return new bn(xs(e.latitude),xs(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=Vx(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(Gf(e));default:return null}}convertTimestamp(e){const s=Ui(e);return new Bt(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=Nt.fromString(e);We(uI(r),9688,{name:e});const i=new el(r.get(1),r.get(3)),l=new Ve(r.popFirst(5));return i.isEqual(s)||Vs(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends i1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new rs(this.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aK(){return new Sm("deleteField")}function rK(){return new Zj("serverTimestamp")}function nK(...a){return new e1("arrayUnion",a)}function iK(...a){return new t1("arrayRemove",a)}function oK(a){return new s1("increment",a)}const $4="@firebase/firestore",q4="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(a){return(function(s,r){if(typeof s!="object"||s===null)return!1;const i=s;for(const l of r)if(l in i&&typeof i[l]=="function")return!0;return!1})(a,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,s,r,i,l){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new rs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const s=this._document.data.field(Sc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class lK extends em{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new Te(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o1{}class Tm extends o1{}function Do(a,e,...s){let r=[];e instanceof o1&&r.push(e),r=r.concat(s),(function(l){const c=l.filter((u=>u instanceof l1)).length,f=l.filter((u=>u instanceof Xx)).length;if(c>1||c>0&&f>0)throw new Te(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)a=i._apply(a);return a}class Xx extends Tm{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new Xx(e,s,r)}_apply(e){const s=this._parse(e);return _R(e._query,s),new Ka(e.firestore,e.converter,Uv(e._query,s))}_parse(e){const s=Mc(e.firestore);return(function(l,c,f,u,m,g,b){let v;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Te(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){G4(b,g);const N=[];for(const S of b)N.push(H4(u,l,S));v={arrayValue:{values:N}}}else v=H4(u,l,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||G4(b,g),v=xR(f,c,b,g==="in"||g==="not-in");return Et.create(m,g,v)})(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function cK(a,e,s){const r=e,i=Sc("where",a);return Xx._create(i,r,s)}class l1 extends o1{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new l1(e,s)}_parse(e){const s=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return s.length===1?s[0]:Kt.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:((function(i,l){let c=i;const f=l.getFlattenedFilters();for(const u of f)_R(c,u),c=Uv(c,u)})(e._query,s),new Ka(e.firestore,e.converter,Uv(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class c1 extends Tm{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new c1(e,s)}_apply(e){const s=(function(i,l,c){if(i.startAt!==null)throw new Te(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yf(l,c)})(e._query,this._field,this._direction);return new Ka(e.firestore,e.converter,mq(e._query,s))}}function dK(a,e="asc"){const s=e,r=Sc("orderBy",a);return c1._create(r,s)}class Zx extends Tm{constructor(e,s,r){super(),this.type=e,this._limit=s,this._limitType=r}static _create(e,s,r){return new Zx(e,s,r)}_apply(e){return new Ka(e.firestore,e.converter,Zg(e._query,this._limit,this._limitType))}}function uK(a){return eA("limit",a),Zx._create("limit",a,"F")}function hK(a){return eA("limitToLast",a),Zx._create("limitToLast",a,"L")}class e0 extends Tm{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new e0(e,s,r)}_apply(e){const s=NR(e,this.type,this._docOrFields,this._inclusive);return new Ka(e.firestore,e.converter,pq(e._query,s))}}function fK(...a){return e0._create("startAt",a,!0)}function mK(...a){return e0._create("startAfter",a,!1)}class t0 extends Tm{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new t0(e,s,r)}_apply(e){const s=NR(e,this.type,this._docOrFields,this._inclusive);return new Ka(e.firestore,e.converter,gq(e._query,s))}}function pK(...a){return t0._create("endBefore",a,!1)}function gK(...a){return t0._create("endAt",a,!0)}function NR(a,e,s,r){if(s[0]=tt(s[0]),s[0]instanceof em)return(function(l,c,f,u,m){if(!u)throw new Te(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const g=[];for(const b of Wd(l))if(b.field.isKeyField())g.push(xc(c,u.key));else{const v=u.data.field(b.field);if(zx(v))throw new Te(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const E=b.field.canonicalString();throw new Te(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}g.push(v)}return new al(g,m)})(a._query,a.firestore._databaseId,e,s[0]._document,r);{const i=Mc(a.firestore);return(function(c,f,u,m,g,b){const v=c.explicitOrderBy;if(g.length>v.length)throw new Te(pe.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let N=0;N<g.length;N++){const S=g[N];if(v[N].field.isKeyField()){if(typeof S!="string")throw new Te(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof S}`);if(!xj(c)&&S.indexOf("/")!==-1)throw new Te(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${S}' contains a slash.`);const T=c.path.child(Nt.fromString(S));if(!Ve.isDocumentKey(T))throw new Te(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);const O=new Ve(T);E.push(xc(f,O))}else{const T=xR(u,m,S);E.push(T)}}return new al(E,b)})(a._query,a.firestore._databaseId,i,e,s,r)}}function H4(a,e,s){if(typeof(s=tt(s))=="string"){if(s==="")throw new Te(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xj(e)&&s.indexOf("/")!==-1)throw new Te(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child(Nt.fromString(s));if(!Ve.isDocumentKey(r))throw new Te(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xc(a,new Ve(r))}if(s instanceof rs)return xc(a,s._key);throw new Te(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Px(s)}.`)}function G4(a,e){if(!Array.isArray(a)||a.length===0)throw new Te(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _R(a,e){const s=(function(i,l){for(const c of i)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(a.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(s!==null)throw s===e.op?new Te(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}function s0(a,e,s){let r;return r=a?s&&(s.merge||s.mergeFields)?a.toFirestore(e,s):a.toFirestore(e):e,r}class xK extends i1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new rs(this.firestore,null,s)}}class Jl{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Xr=class kR extends em{constructor(e,s,r,i,l,c){super(e,s,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(Sc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=kR._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}};Xr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xr._jsonSchema={type:Js("string",Xr._jsonSchemaVersion),bundleSource:Js("string","DocumentSnapshot"),bundleName:Js("string"),bundle:Js("string")};let Af=class extends Xr{data(e={}){return super.data(e)}},wn=class SR{constructor(e,s,r,i){this._firestore=e,this._userDataWriter=s,this._snapshot=i,this.metadata=new Jl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new Af(this._firestore,this._userDataWriter,r.key,r,new Jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new Te(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(i,l){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((f=>{const u=new Af(i._firestore,i._userDataWriter,f.doc.key,f.doc,new Jl(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);return f.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const u=new Af(i._firestore,i._userDataWriter,f.doc.key,f.doc,new Jl(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,g=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),g=c.indexOf(f.doc.key)),{type:yK(f.type),doc:u,oldIndex:m,newIndex:g}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=SR._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ij.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],i=[];return this.docs.forEach((l=>{l._document!==null&&(s.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),i.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function yK(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:a})}}function TR(a,e){return a instanceof Xr&&e instanceof Xr?a._firestore===e._firestore&&a._key.isEqual(e._key)&&(a._document===null?e._document===null:a._document.isEqual(e._document))&&a._converter===e._converter:a instanceof wn&&e instanceof wn&&a._firestore===e._firestore&&uR(a.query,e.query)&&a.metadata.isEqual(e.metadata)&&a._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn._jsonSchemaVersion="firestore/querySnapshot/1.0",wn._jsonSchema={type:Js("string",wn._jsonSchemaVersion),bundleSource:Js("string","QuerySnapshot"),bundleName:Js("string"),bundle:Js("string")};const bK={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vK=class{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=Mc(e)}set(e,s,r){this._verifyNotCommitted();const i=zo(e,this._firestore),l=s0(i.converter,s,r),c=Jx(this._dataReader,"WriteBatch.set",i._key,l,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,vs.none())),this}update(e,s,r,...i){this._verifyNotCommitted();const l=zo(e,this._firestore);let c;return c=typeof(s=tt(s))=="string"||s instanceof kc?r1(this._dataReader,"WriteBatch.update",l._key,s,r,i):a1(this._dataReader,"WriteBatch.update",l._key,s),this._mutations.push(c.toMutation(l._key,vs.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=zo(e,this._firestore);return this._mutations=this._mutations.concat(new Vu(s._key,vs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function zo(a,e){if((a=tt(a)).firestore!==e)throw new Te(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e,s){this._firestore=e,this._transaction=s,this._dataReader=Mc(e)}get(e){const s=zo(e,this._firestore),r=new xK(this._firestore);return this._transaction.lookup([s._key]).then((i=>{if(!i||i.length!==1)return $e(24041);const l=i[0];if(l.isFoundDocument())return new em(this._firestore,r,l.key,l,s.converter);if(l.isNoDocument())return new em(this._firestore,r,s._key,null,s.converter);throw $e(18433,{doc:l})}))}set(e,s,r){const i=zo(e,this._firestore),l=s0(i.converter,s,r),c=Jx(this._dataReader,"Transaction.set",i._key,l,i.converter!==null,r);return this._transaction.set(i._key,c),this}update(e,s,r,...i){const l=zo(e,this._firestore);let c;return c=typeof(s=tt(s))=="string"||s instanceof kc?r1(this._dataReader,"Transaction.update",l._key,s,r,i):a1(this._dataReader,"Transaction.update",l._key,s),this._transaction.update(l._key,c),this}delete(e){const s=zo(e,this._firestore);return this._transaction.delete(s._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jK=class extends wK{constructor(e,s){super(e,s),this._firestore=e}get(e){const s=zo(e,this._firestore),r=new Lc(this._firestore);return super.get(e).then((i=>new Xr(this._firestore,r,s._key,i._document,new Jl(!1,!1),s.converter)))}};function NK(a,e,s){a=Dt(a,Fs);const r={...bK,...s};(function(c){if(c.maxAttempts<1)throw new Te(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const i=Ma(a);return OG(i,(l=>e(new jK(a,l))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _K(a){a=Dt(a,rs);const e=Dt(a.firestore,Fs),s=Ma(e);return aR(s,a._key).then((r=>d1(e,a,r)))}function kK(a){a=Dt(a,rs);const e=Dt(a.firestore,Fs),s=Ma(e),r=new Lc(e);return RG(s,a._key).then((i=>new Xr(e,r,a._key,i,new Jl(i!==null&&i.hasLocalMutations,!0),a.converter)))}function SK(a){a=Dt(a,rs);const e=Dt(a.firestore,Fs),s=Ma(e);return aR(s,a._key,{source:"server"}).then((r=>d1(e,a,r)))}function TK(a){a=Dt(a,Ka);const e=Dt(a.firestore,Fs),s=Ma(e),r=new Lc(e);return jR(a._query),rR(s,a._query).then((i=>new wn(e,r,a,i)))}function EK(a){a=Dt(a,Ka);const e=Dt(a.firestore,Fs),s=Ma(e),r=new Lc(e);return PG(s,a._query).then((i=>new wn(e,r,a,i)))}function CK(a){a=Dt(a,Ka);const e=Dt(a.firestore,Fs),s=Ma(e),r=new Lc(e);return rR(s,a._query,{source:"server"}).then((i=>new wn(e,r,a,i)))}function K4(a,e,s){a=Dt(a,rs);const r=Dt(a.firestore,Fs),i=s0(a.converter,e,s),l=Mc(r);return Em(r,[Jx(l,"setDoc",a._key,i,a.converter!==null,s).toMutation(a._key,vs.none())])}function W4(a,e,s,...r){a=Dt(a,rs);const i=Dt(a.firestore,Fs),l=Mc(i);let c;return c=typeof(e=tt(e))=="string"||e instanceof kc?r1(l,"updateDoc",a._key,e,s,r):a1(l,"updateDoc",a._key,e),Em(i,[c.toMutation(a._key,vs.exists(!0))])}function AK(a){return Em(Dt(a.firestore,Fs),[new Vu(a._key,vs.none())])}function IK(a,e){const s=Dt(a.firestore,Fs),r=lx(a),i=s0(a.converter,e),l=Mc(a.firestore);return Em(s,[Jx(l,"addDoc",r._key,i,a.converter!==null,{}).toMutation(r._key,vs.exists(!1))]).then((()=>r))}function ER(a,...e){var m,g,b;a=tt(a);let s={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Zv(e[r])||(s=e[r++]);const i={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Zv(e[r])){const v=e[r];e[r]=(m=v.next)==null?void 0:m.bind(v),e[r+1]=(g=v.error)==null?void 0:g.bind(v),e[r+2]=(b=v.complete)==null?void 0:b.bind(v)}let l,c,f;if(a instanceof rs)c=Dt(a.firestore,Fs),f=Lu(a._key.path),l={next:v=>{e[r]&&e[r](d1(c,a,v))},error:e[r+1],complete:e[r+2]};else{const v=Dt(a,Ka);c=Dt(v.firestore,Fs),f=v._query;const E=new Lc(c);l={next:N=>{e[r]&&e[r](new wn(c,E,v,N))},error:e[r+1],complete:e[r+2]},jR(a._query)}const u=Ma(c);return IG(u,f,i,l)}function RK(a,e){a=Dt(a,Fs);const s=Ma(a),r=Zv(e)?e:{next:e};return MG(s,r)}function Em(a,e){const s=Ma(a);return DG(s,e)}function d1(a,e,s){const r=s.docs.get(e._key),i=new Lc(a);return new Xr(a,i,e._key,r,new Jl(s.hasPendingWrites,s.fromCache),e.converter)}(function(e,s=!0){c$(ol),an(new Ga("firestore",((r,{instanceIdentifier:i,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Fs(new m$(r.getProvider("auth-internal")),new x$(c,r.getProvider("app-check-internal")),tq(c,i),c);return l={useFetchStreams:s,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),$a($4,q4,e),$a($4,q4,"esm2020")})();const PK="@firebase/firestore-compat",DK="0.4.4";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(a,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Te("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(){if(typeof Uint8Array>"u")throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function Q4(){if(!X$())throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}let CR=class ew{constructor(e){this._delegate=e}static fromBase64String(e){return Q4(),new ew(Pa.fromBase64String(e))}static fromUint8Array(e){return Y4(),new ew(Pa.fromUint8Array(e))}toBase64(){return Q4(),this._delegate.toBase64()}toUint8Array(){return Y4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(a){return MK(a,["next","error","complete"])}function MK(a,e){if(typeof a!="object"||a===null)return!1;const s=a;for(const r of e)if(r in s&&typeof s[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{enableIndexedDbPersistence(e,s){return HG(e._delegate,{forceOwnership:s})}enableMultiTabIndexedDbPersistence(e){return GG(e._delegate)}clearIndexedDbPersistence(e){return KG(e._delegate)}}class AR{constructor(e,s,r){this._delegate=s,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof el||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const s=this._delegate._getSettings();!e.merge&&s.host!==e.host&&ii("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...s,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,s,r={}){FG(this._delegate,e,s,r)}enableNetwork(){return YG(this._delegate)}disableNetwork(){return QG(this._delegate)}enablePersistence(e){let s=!1,r=!1;return e&&(s=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,XC("synchronizeTabs",s,"experimentalForceOwningTab",r)),s?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return WG(this._delegate)}onSnapshotsInSync(e){return RK(this._delegate,e)}get app(){if(!this._appCompat)throw new Te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Su(this,cR(this._delegate,e))}catch(s){throw Fa(s,"collection()","Firestore.collection()")}}doc(e){try{return new Jr(this,lx(this._delegate,e))}catch(s){throw Fa(s,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ua(this,BG(this._delegate,e))}catch(s){throw Fa(s,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return NK(this._delegate,s=>e(new IR(this,s)))}batch(){return Ma(this._delegate),new RR(new vK(this._delegate,e=>Em(this._delegate,e)))}loadBundle(e){return JG(this._delegate,e)}namedQuery(e){return XG(this._delegate,e).then(s=>s?new Ua(this,s):null)}}class a0 extends i1{constructor(e){super(),this.firestore=e}convertBytes(e){return new CR(new Pa(e))}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return Jr.forKey(s,this.firestore,null)}}function LK(a){d$(a)}class IR{constructor(e,s){this._firestore=e,this._delegate=s,this._userDataWriter=new a0(e)}get(e){const s=Xl(e);return this._delegate.get(s).then(r=>new tm(this._firestore,new Xr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,s.converter)))}set(e,s,r){const i=Xl(e);return r?(u1("Transaction.set",r),this._delegate.set(i,s,r)):this._delegate.set(i,s),this}update(e,s,r,...i){const l=Xl(e);return arguments.length===2?this._delegate.update(l,s):this._delegate.update(l,s,r,...i),this}delete(e){const s=Xl(e);return this._delegate.delete(s),this}}class RR{constructor(e){this._delegate=e}set(e,s,r){const i=Xl(e);return r?(u1("WriteBatch.set",r),this._delegate.set(i,s,r)):this._delegate.set(i,s),this}update(e,s,r,...i){const l=Xl(e);return arguments.length===2?this._delegate.update(l,s):this._delegate.update(l,s,r,...i),this}delete(e){const s=Xl(e);return this._delegate.delete(s),this}commit(){return this._delegate.commit()}}class Tc{constructor(e,s,r){this._firestore=e,this._userDataWriter=s,this._delegate=r}fromFirestore(e,s){const r=new Af(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sm(this._firestore,r),s??{})}toFirestore(e,s){return s?this._delegate.toFirestore(e,s):this._delegate.toFirestore(e)}static getInstance(e,s){const r=Tc.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(s);return l||(l=new Tc(e,new a0(e),s),i.set(s,l)),l}}Tc.INSTANCES=new WeakMap;class Jr{constructor(e,s){this.firestore=e,this._delegate=s,this._userDataWriter=new a0(e)}static forPath(e,s,r){if(e.length%2!==0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Jr(s,new rs(s._delegate,r,new Ve(e)))}static forKey(e,s,r){return new Jr(s,new rs(s._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Su(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Su(this.firestore,cR(this._delegate,e))}catch(s){throw Fa(s,"collection()","DocumentReference.collection()")}}isEqual(e){return e=tt(e),e instanceof rs?dR(this._delegate,e):!1}set(e,s){s=u1("DocumentReference.set",s);try{return s?K4(this._delegate,e,s):K4(this._delegate,e)}catch(r){throw Fa(r,"setDoc()","DocumentReference.set()")}}update(e,s,...r){try{return arguments.length===1?W4(this._delegate,e):W4(this._delegate,e,s,...r)}catch(i){throw Fa(i,"updateDoc()","DocumentReference.update()")}}delete(){return AK(this._delegate)}onSnapshot(...e){const s=PR(e),r=DR(e,i=>new tm(this.firestore,new Xr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return ER(this._delegate,s,r)}get(e){let s;return(e==null?void 0:e.source)==="cache"?s=kK(this._delegate):(e==null?void 0:e.source)==="server"?s=SK(this._delegate):s=_K(this._delegate),s.then(r=>new tm(this.firestore,new Xr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Jr(this.firestore,e?this._delegate.withConverter(Tc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Fa(a,e,s){return a.message=a.message.replace(e,s),a}function PR(a){for(const e of a)if(typeof e=="object"&&!tw(e))return e;return{}}function DR(a,e){var r,i;let s;return tw(a[0])?s=a[0]:tw(a[1])?s=a[1]:typeof a[0]=="function"?s={next:a[0],error:a[1],complete:a[2]}:s={next:a[1],error:a[2],complete:a[3]},{next:l=>{s.next&&s.next(e(l))},error:(r=s.error)==null?void 0:r.bind(s),complete:(i=s.complete)==null?void 0:i.bind(s)}}class tm{constructor(e,s){this._firestore=e,this._delegate=s}get ref(){return new Jr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,s){return this._delegate.get(e,s)}isEqual(e){return TR(this._delegate,e._delegate)}}class sm extends tm{data(e){const s=this._delegate.data(e);return this._delegate._converter||u$(s!==void 0,"Document in a QueryDocumentSnapshot should exist"),s}}class Ua{constructor(e,s){this.firestore=e,this._delegate=s,this._userDataWriter=new a0(e)}where(e,s,r){try{return new Ua(this.firestore,Do(this._delegate,cK(e,s,r)))}catch(i){throw Fa(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,s){try{return new Ua(this.firestore,Do(this._delegate,dK(e,s)))}catch(r){throw Fa(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ua(this.firestore,Do(this._delegate,uK(e)))}catch(s){throw Fa(s,"limit()","Query.limit()")}}limitToLast(e){try{return new Ua(this.firestore,Do(this._delegate,hK(e)))}catch(s){throw Fa(s,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ua(this.firestore,Do(this._delegate,fK(...e)))}catch(s){throw Fa(s,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ua(this.firestore,Do(this._delegate,mK(...e)))}catch(s){throw Fa(s,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ua(this.firestore,Do(this._delegate,pK(...e)))}catch(s){throw Fa(s,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ua(this.firestore,Do(this._delegate,gK(...e)))}catch(s){throw Fa(s,"endAt()","Query.endAt()")}}isEqual(e){return uR(this._delegate,e._delegate)}get(e){let s;return(e==null?void 0:e.source)==="cache"?s=EK(this._delegate):(e==null?void 0:e.source)==="server"?s=CK(this._delegate):s=TK(this._delegate),s.then(r=>new sw(this.firestore,new wn(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const s=PR(e),r=DR(e,i=>new sw(this.firestore,new wn(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return ER(this._delegate,s,r)}withConverter(e){return new Ua(this.firestore,e?this._delegate.withConverter(Tc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class zK{constructor(e,s){this._firestore=e,this._delegate=s}get type(){return this._delegate.type}get doc(){return new sm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sw{constructor(e,s){this._firestore=e,this._delegate=s}get query(){return new Ua(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(s=>new zK(this._firestore,s))}forEach(e,s){this._delegate.forEach(r=>{e.call(s,new sm(this._firestore,r))})}isEqual(e){return TR(this._delegate,e._delegate)}}class Su extends Ua{constructor(e,s){super(e,s),this.firestore=e,this._delegate=s}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Jr(this.firestore,e):null}doc(e){try{return e===void 0?new Jr(this.firestore,lx(this._delegate)):new Jr(this.firestore,lx(this._delegate,e))}catch(s){throw Fa(s,"doc()","CollectionReference.doc()")}}add(e){return IK(this._delegate,e).then(s=>new Jr(this.firestore,s))}isEqual(e){return dR(this._delegate,e._delegate)}withConverter(e){return new Su(this.firestore,e?this._delegate.withConverter(Tc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Xl(a){return Dt(a,rs)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(...e){this._delegate=new kc(...e)}static documentId(){return new h1(bs.keyField().canonicalString())}isEqual(e){return e=tt(e),e instanceof kc?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{static serverTimestamp(){const e=rK();return e._methodName="FieldValue.serverTimestamp",new Kl(e)}static delete(){const e=aK();return e._methodName="FieldValue.delete",new Kl(e)}static arrayUnion(...e){const s=nK(...e);return s._methodName="FieldValue.arrayUnion",new Kl(s)}static arrayRemove(...e){const s=iK(...e);return s._methodName="FieldValue.arrayRemove",new Kl(s)}static increment(e){const s=oK(e);return s._methodName="FieldValue.increment",new Kl(s)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VK={Firestore:AR,GeoPoint:bn,Timestamp:Bt,Blob:CR,Transaction:IR,WriteBatch:RR,DocumentReference:Jr,DocumentSnapshot:tm,Query:Ua,QueryDocumentSnapshot:sm,QuerySnapshot:sw,CollectionReference:Su,FieldPath:h1,FieldValue:Kl,setLogLevel:LK,CACHE_SIZE_UNLIMITED:qG};function UK(a,e){a.INTERNAL.registerComponent(new Ga("firestore-compat",s=>{const r=s.getProvider("app-compat").getImmediate(),i=s.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...VK}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FK(a){UK(a,(e,s)=>new AR(e,s,new OK)),a.registerVersion(PK,DK)}FK(ll);const MR="@firebase/installations",f1="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=1e4,LR=`w:${f1}`,zR="FIS_v2",BK="https://firebaseinstallations.googleapis.com/v1",$K=3600*1e3,qK="installations",HK="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GK={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ec=new Bi(qK,HK,GK);function VR(a){return a instanceof ka&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR({projectId:a}){return`${BK}/projects/${a}/installations`}function FR(a){return{token:a.token,requestStatus:2,expiresIn:WK(a.expiresIn),creationTime:Date.now()}}async function BR(a,e){const r=(await e.json()).error;return Ec.create("request-failed",{requestName:a,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function $R({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function KK(a,{refreshToken:e}){const s=$R(a);return s.append("Authorization",YK(e)),s}async function qR(a){const e=await a();return e.status>=500&&e.status<600?a():e}function WK(a){return Number(a.replace("s","000"))}function YK(a){return`${zR} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QK({appConfig:a,heartbeatServiceProvider:e},{fid:s}){const r=UR(a),i=$R(a),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const c={fid:s,authVersion:zR,appId:a.appId,sdkVersion:LR},f={method:"POST",headers:i,body:JSON.stringify(c)},u=await qR(()=>fetch(r,f));if(u.ok){const m=await u.json();return{fid:m.fid||s,registrationStatus:2,refreshToken:m.refreshToken,authToken:FR(m.authToken)}}else throw await BR("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JK(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK=/^[cdef][\w-]{21}$/,aw="";function ZK(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const s=eW(a);return XK.test(s)?s:aw}catch{return aw}}function eW(a){return JK(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new Map;function KR(a,e){const s=r0(a);WR(s,e),tW(s,e)}function WR(a,e){const s=GR.get(a);if(s)for(const r of s)r(e)}function tW(a,e){const s=sW();s&&s.postMessage({key:a,fid:e}),aW()}let Zl=null;function sW(){return!Zl&&"BroadcastChannel"in self&&(Zl=new BroadcastChannel("[Firebase] FID Change"),Zl.onmessage=a=>{WR(a.data.key,a.data.fid)}),Zl}function aW(){GR.size===0&&Zl&&(Zl.close(),Zl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW="firebase-installations-database",nW=1,Cc="firebase-installations-store";let Kb=null;function m1(){return Kb||(Kb=OE(rW,nW,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Cc)}}})),Kb}async function dx(a,e){const s=r0(a),i=(await m1()).transaction(Cc,"readwrite"),l=i.objectStore(Cc),c=await l.get(s);return await l.put(e,s),await i.done,(!c||c.fid!==e.fid)&&KR(a,e.fid),e}async function YR(a){const e=r0(a),r=(await m1()).transaction(Cc,"readwrite");await r.objectStore(Cc).delete(e),await r.done}async function n0(a,e){const s=r0(a),i=(await m1()).transaction(Cc,"readwrite"),l=i.objectStore(Cc),c=await l.get(s),f=e(c);return f===void 0?await l.delete(s):await l.put(f,s),await i.done,f&&(!c||c.fid!==f.fid)&&KR(a,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(a){let e;const s=await n0(a.appConfig,r=>{const i=iW(r),l=oW(a,i);return e=l.registrationPromise,l.installationEntry});return s.fid===aw?{installationEntry:await e}:{installationEntry:s,registrationPromise:e}}function iW(a){const e=a||{fid:ZK(),registrationStatus:0};return QR(e)}function oW(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ec.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const s={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=lW(a,s);return{installationEntry:s,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:cW(a)}:{installationEntry:e}}async function lW(a,e){try{const s=await QK(a,e);return dx(a.appConfig,s)}catch(s){throw VR(s)&&s.customData.serverCode===409?await YR(a.appConfig):await dx(a.appConfig,{fid:e.fid,registrationStatus:0}),s}}async function cW(a){let e=await J4(a.appConfig);for(;e.registrationStatus===1;)await HR(100),e=await J4(a.appConfig);if(e.registrationStatus===0){const{installationEntry:s,registrationPromise:r}=await p1(a);return r||s}return e}function J4(a){return n0(a,e=>{if(!e)throw Ec.create("installation-not-found");return QR(e)})}function QR(a){return dW(a)?{fid:a.fid,registrationStatus:0}:a}function dW(a){return a.registrationStatus===1&&a.registrationTime+OR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uW({appConfig:a,heartbeatServiceProvider:e},s){const r=hW(a,s),i=KK(a,s),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const c={installation:{sdkVersion:LR,appId:a.appId}},f={method:"POST",headers:i,body:JSON.stringify(c)},u=await qR(()=>fetch(r,f));if(u.ok){const m=await u.json();return FR(m)}else throw await BR("Generate Auth Token",u)}function hW(a,{fid:e}){return`${UR(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(a,e=!1){let s;const r=await n0(a.appConfig,l=>{if(!JR(l))throw Ec.create("not-registered");const c=l.authToken;if(!e&&pW(c))return l;if(c.requestStatus===1)return s=fW(a,e),l;{if(!navigator.onLine)throw Ec.create("app-offline");const f=xW(l);return s=mW(a,f),f}});return s?await s:r.authToken}async function fW(a,e){let s=await X4(a.appConfig);for(;s.authToken.requestStatus===1;)await HR(100),s=await X4(a.appConfig);const r=s.authToken;return r.requestStatus===0?g1(a,e):r}function X4(a){return n0(a,e=>{if(!JR(e))throw Ec.create("not-registered");const s=e.authToken;return yW(s)?{...e,authToken:{requestStatus:0}}:e})}async function mW(a,e){try{const s=await uW(a,e),r={...e,authToken:s};return await dx(a.appConfig,r),s}catch(s){if(VR(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await YR(a.appConfig);else{const r={...e,authToken:{requestStatus:0}};await dx(a.appConfig,r)}throw s}}function JR(a){return a!==void 0&&a.registrationStatus===2}function pW(a){return a.requestStatus===2&&!gW(a)}function gW(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+$K}function xW(a){const e={requestStatus:1,requestTime:Date.now()};return{...a,authToken:e}}function yW(a){return a.requestStatus===1&&a.requestTime+OR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bW(a){const e=a,{installationEntry:s,registrationPromise:r}=await p1(e);return r?r.catch(console.error):g1(e).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vW(a,e=!1){const s=a;return await wW(s),(await g1(s,e)).token}async function wW(a){const{registrationPromise:e}=await p1(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jW(a){if(!a||!a.options)throw Wb("App Configuration");if(!a.name)throw Wb("App Name");const e=["projectId","apiKey","appId"];for(const s of e)if(!a.options[s])throw Wb(s);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function Wb(a){return Ec.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="installations",NW="installations-internal",_W=a=>{const e=a.getProvider("app").getImmediate(),s=jW(e),r=wx(e,"heartbeat");return{app:e,appConfig:s,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},kW=a=>{const e=a.getProvider("app").getImmediate(),s=wx(e,XR).getImmediate();return{getId:()=>bW(s),getToken:i=>vW(s,i)}};function SW(){an(new Ga(XR,_W,"PUBLIC")),an(new Ga(NW,kW,"PRIVATE"))}SW();$a(MR,f1);$a(MR,f1,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="analytics",TW="firebase_id",EW="origin",CW=60*1e3,AW="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",x1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new im("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ar=new Bi("analytics","Analytics",IW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(a){if(!a.startsWith(x1)){const e=Ar.create("invalid-gtag-resource",{gtagURL:a});return ua.warn(e.message),""}return a}function ZR(a){return Promise.all(a.map(e=>e.catch(s=>s)))}function PW(a,e){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(a,e)),s}function DW(a,e){const s=PW("firebase-js-sdk-policy",{createScriptURL:RW}),r=document.createElement("script"),i=`${x1}?l=${a}&id=${e}`;r.src=s?s==null?void 0:s.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function MW(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function OW(a,e,s,r,i,l){const c=r[i];try{if(c)await e[c];else{const u=(await ZR(s)).find(m=>m.measurementId===i);u&&await e[u.appId]}}catch(f){ua.error(f)}a("config",i,l)}async function LW(a,e,s,r,i){try{let l=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const f=await ZR(s);for(const u of c){const m=f.find(b=>b.measurementId===u),g=m&&e[m.appId];if(g)l.push(g);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),a("event",r,i||{})}catch(l){ua.error(l)}}function zW(a,e,s,r){async function i(l,...c){try{if(l==="event"){const[f,u]=c;await LW(a,e,s,f,u)}else if(l==="config"){const[f,u]=c;await OW(a,e,s,r,f,u)}else if(l==="consent"){const[f,u]=c;a("consent",f,u)}else if(l==="get"){const[f,u,m]=c;a("get",f,u,m)}else if(l==="set"){const[f]=c;a("set",f)}else a(l,...c)}catch(f){ua.error(f)}}return i}function VW(a,e,s,r,i){let l=function(...c){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(l=window[i]),window[i]=zW(l,a,e,s),{gtagCore:l,wrappedGtag:window[i]}}function UW(a){const e=window.document.getElementsByTagName("script");for(const s of Object.values(e))if(s.src&&s.src.includes(x1)&&s.src.includes(a))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW=30,BW=1e3;class $W{constructor(e={},s=BW){this.throttleMetadata=e,this.intervalMillis=s}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,s){this.throttleMetadata[e]=s}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const e5=new $W;function qW(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function HW(a){var c;const{appId:e,apiKey:s}=a,r={method:"GET",headers:qW(s)},i=AW.replace("{app-id}",e),l=await fetch(i,r);if(l.status!==200&&l.status!==304){let f="";try{const u=await l.json();(c=u.error)!=null&&c.message&&(f=u.error.message)}catch{}throw Ar.create("config-fetch-failed",{httpStatus:l.status,responseMessage:f})}return l.json()}async function GW(a,e=e5,s){const{appId:r,apiKey:i,measurementId:l}=a.options;if(!r)throw Ar.create("no-app-id");if(!i){if(l)return{measurementId:l,appId:r};throw Ar.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new YW;return setTimeout(async()=>{f.abort()},CW),t5({appId:r,apiKey:i,measurementId:l},c,f,e)}async function t5(a,{throttleEndTimeMillis:e,backoffCount:s},r,i=e5){var f;const{appId:l,measurementId:c}=a;try{await KW(r,e)}catch(u){if(c)return ua.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:l,measurementId:c};throw u}try{const u=await HW(a);return i.deleteThrottleMetadata(l),u}catch(u){const m=u;if(!WW(m)){if(i.deleteThrottleMetadata(l),c)return ua.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:l,measurementId:c};throw u}const g=Number((f=m==null?void 0:m.customData)==null?void 0:f.httpStatus)===503?Hk(s,i.intervalMillis,FW):Hk(s,i.intervalMillis),b={throttleEndTimeMillis:Date.now()+g,backoffCount:s+1};return i.setThrottleMetadata(l,b),ua.debug(`Calling attemptFetch again in ${g} millis`),t5(a,b,r,i)}}function KW(a,e){return new Promise((s,r)=>{const i=Math.max(e-Date.now(),0),l=setTimeout(s,i);a.addEventListener(()=>{clearTimeout(l),r(Ar.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WW(a){if(!(a instanceof ka)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class YW{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function QW(a,e,s,r,i){if(i&&i.global){a("event",s,r);return}else{const l=await e,c={...r,send_to:l};a("event",s,c)}}async function JW(a,e,s,r){if(r&&r.global)return a("set",{screen_name:s}),Promise.resolve();{const i=await e;a("config",i,{update:!0,screen_name:s})}}async function XW(a,e,s,r){if(r&&r.global)return a("set",{user_id:s}),Promise.resolve();{const i=await e;a("config",i,{update:!0,user_id:s})}}async function ZW(a,e,s,r){if(r&&r.global){const i={};for(const l of Object.keys(s))i[`user_properties.${l}`]=s[l];return a("set",i),Promise.resolve()}else{const i=await e;a("config",i,{update:!0,user_properties:s})}}async function eY(a,e){const s=await a;window[`ga-disable-${s}`]=!e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tY(){if(fc())try{await Pw()}catch(a){return ua.warn(Ar.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return ua.warn(Ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function sY(a,e,s,r,i,l,c){const f=GW(a);f.then(v=>{s[v.measurementId]=v.appId,a.options.measurementId&&v.measurementId!==a.options.measurementId&&ua.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>ua.error(v)),e.push(f);const u=tY().then(v=>{if(v)return r.getId()}),[m,g]=await Promise.all([f,u]);UW(l)||DW(l,m.measurementId),i("js",new Date);const b=(c==null?void 0:c.config)??{};return b[EW]="firebase",b.update=!0,g!=null&&(b[TW]=g),i("config",m.measurementId,b),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aY=class{constructor(e){this.app=e}_delete(){return delete Mi[this.app.options.appId],Promise.resolve()}},Mi={},eT=[];const tT={};let Pg="dataLayer",s5="gtag",sT,Cm,rw=!1;function rY(a){if(rw)throw Ar.create("already-initialized");a.dataLayerName&&(Pg=a.dataLayerName),a.gtagName&&(s5=a.gtagName)}function nY(){const a=[];if(vx()&&a.push("This is a browser extension environment."),AE()||a.push("Cookies are not available."),a.length>0){const e=a.map((r,i)=>`(${i+1}) ${r}`).join(" "),s=Ar.create("invalid-analytics-context",{errorInfo:e});ua.warn(s.message)}}function iY(a,e,s){nY();const r=a.options.appId;if(!r)throw Ar.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)ua.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ar.create("no-api-key");if(Mi[r]!=null)throw Ar.create("already-exists",{id:r});if(!rw){MW(Pg);const{wrappedGtag:l,gtagCore:c}=VW(Mi,eT,tT,Pg,s5);Cm=l,sT=c,rw=!0}return Mi[r]=sY(a,eT,tT,e,sT,Pg,s),new aY(a)}async function oY(){if(vx()||!AE()||!fc())return!1;try{return await Pw()}catch{return!1}}function lY(a,e,s){a=tt(a),JW(Cm,Mi[a.app.options.appId],e,s).catch(r=>ua.error(r))}function cY(a,e,s){a=tt(a),XW(Cm,Mi[a.app.options.appId],e,s).catch(r=>ua.error(r))}function a5(a,e,s){a=tt(a),ZW(Cm,Mi[a.app.options.appId],e,s).catch(r=>ua.error(r))}function dY(a,e){a=tt(a),eY(Mi[a.app.options.appId],e).catch(s=>ua.error(s))}function r5(a,e,s,r){a=tt(a),QW(Cm,Mi[a.app.options.appId],e,s,r).catch(i=>ua.error(i))}const aT="@firebase/analytics",rT="0.10.19";function uY(){an(new Ga(Z4,(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return iY(r,i,s)},"PUBLIC")),an(new Ga("analytics-internal",a,"PRIVATE")),$a(aT,rT),$a(aT,rT,"esm2020");function a(e){try{const s=e.getProvider(Z4).getImmediate();return{logEvent:(r,i,l)=>r5(s,r,i,l),setUserProperties:(r,i)=>a5(s,r,i)}}catch(s){throw Ar.create("interop-component-reg-failed",{reason:s})}}}uY();const hY="@firebase/analytics-compat",fY="0.2.25";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,s){this.app=e,this._delegate=s}logEvent(e,s,r){r5(this._delegate,e,s,r)}setCurrentScreen(e,s){lY(this._delegate,e,s)}setUserId(e,s){cY(this._delegate,e,s)}setUserProperties(e,s){a5(this._delegate,e,s)}setAnalyticsCollectionEnabled(e){dY(this._delegate,e)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nw;(function(a){a.ADD_SHIPPING_INFO="add_shipping_info",a.ADD_PAYMENT_INFO="add_payment_info",a.ADD_TO_CART="add_to_cart",a.ADD_TO_WISHLIST="add_to_wishlist",a.BEGIN_CHECKOUT="begin_checkout",a.CHECKOUT_PROGRESS="checkout_progress",a.EXCEPTION="exception",a.GENERATE_LEAD="generate_lead",a.LOGIN="login",a.PAGE_VIEW="page_view",a.PURCHASE="purchase",a.REFUND="refund",a.REMOVE_FROM_CART="remove_from_cart",a.SCREEN_VIEW="screen_view",a.SEARCH="search",a.SELECT_CONTENT="select_content",a.SELECT_ITEM="select_item",a.SELECT_PROMOTION="select_promotion",a.SET_CHECKOUT_OPTION="set_checkout_option",a.SHARE="share",a.SIGN_UP="sign_up",a.TIMING_COMPLETE="timing_complete",a.VIEW_CART="view_cart",a.VIEW_ITEM="view_item",a.VIEW_ITEM_LIST="view_item_list",a.VIEW_PROMOTION="view_promotion",a.VIEW_SEARCH_RESULTS="view_search_results"})(nw||(nw={}));/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY=a=>{const e=a.getProvider("app-compat").getImmediate(),s=a.getProvider("analytics").getImmediate();return new n5(e,s)};function pY(){const a={Analytics:n5,settings:rY,isSupported:oY,EventName:nw};ll.INTERNAL.registerComponent(new Ga("analytics-compat",mY,"PUBLIC").setServiceProps(a).setMultipleInstances(!0))}pY();ll.registerVersion(hY,fY);const gY={apiKey:"AIzaSyDxhDxNIO-Svce0yRajiWPT0Xw22IwPBvE",authDomain:"traffic-websites.firebaseapp.com",projectId:"traffic-websites",storageBucket:"traffic-websites.firebasestorage.app",messagingSenderId:"617379565314",appId:"1:617379565314:web:8f9ce22c31b2548cc4bc1b",measurementId:"G-SWTXXWP99R"},y1=ll.initializeApp(gY);y1.auth();y1.firestore();y1.analytics();const i5=document.getElementById("root");if(!i5)throw new Error("Could not find root element to mount to");const xY=Y6.createRoot(i5);xY.render(t.jsx(He.StrictMode,{children:t.jsx(uT,{children:t.jsx($P,{children:t.jsx(p8,{})})})}));
