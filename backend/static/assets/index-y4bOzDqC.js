var W6=Object.defineProperty;var Y6=(n,e,s)=>e in n?W6(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var ui=(n,e,s)=>Y6(n,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();function hu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vy={exports:{}},Eh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function Q6(){if(v2)return Eh;v2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var h in i)h!=="key"&&(l[h]=i[h])}else l=i;return i=l.ref,{$$typeof:n,type:r,key:c,ref:i!==void 0?i:null,props:l}}return Eh.Fragment=e,Eh.jsx=s,Eh.jsxs=s,Eh}var w2;function J6(){return w2||(w2=1,Vy.exports=Q6()),Vy.exports}var t=J6(),zy={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function X6(){if(j2)return Qe;j2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function E(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function P(H,ce,_e){this.props=H,this.context=ce,this.refs=C,this.updater=_e||S}P.prototype.isReactComponent={},P.prototype.setState=function(H,ce){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ce,"setState")},P.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function D(){}D.prototype=P.prototype;function F(H,ce,_e){this.props=H,this.context=ce,this.refs=C,this.updater=_e||S}var B=F.prototype=new D;B.constructor=F,A(B,P.prototype),B.isPureReactComponent=!0;var $=Array.isArray;function Q(){}var _={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function I(H,ce,_e){var K=_e.ref;return{$$typeof:n,type:H,key:ce,ref:K!==void 0?K:null,props:_e}}function L(H,ce){return I(H.type,ce,H.props)}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function V(H){var ce={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(_e){return ce[_e]})}var R=/\/+/g;function U(H,ce){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):ce.toString(36)}function me(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(Q,Q):(H.status="pending",H.then(function(ce){H.status==="pending"&&(H.status="fulfilled",H.value=ce)},function(ce){H.status==="pending"&&(H.status="rejected",H.reason=ce)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function W(H,ce,_e,K,ye){var Te=typeof H;(Te==="undefined"||Te==="boolean")&&(H=null);var Oe=!1;if(H===null)Oe=!0;else switch(Te){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(H.$$typeof){case n:case e:Oe=!0;break;case x:return Oe=H._init,W(Oe(H._payload),ce,_e,K,ye)}}if(Oe)return ye=ye(H),Oe=K===""?"."+U(H,0):K,$(ye)?(_e="",Oe!=null&&(_e=Oe.replace(R,"$&/")+"/"),W(ye,ce,_e,"",function(Ue){return Ue})):ye!=null&&(M(ye)&&(ye=L(ye,_e+(ye.key==null||H&&H.key===ye.key?"":(""+ye.key).replace(R,"$&/")+"/")+Oe)),ce.push(ye)),1;Oe=0;var rt=K===""?".":K+":";if($(H))for(var je=0;je<H.length;je++)K=H[je],Te=rt+U(K,je),Oe+=W(K,ce,_e,Te,ye);else if(je=E(H),typeof je=="function")for(H=je.call(H),je=0;!(K=H.next()).done;)K=K.value,Te=rt+U(K,je++),Oe+=W(K,ce,_e,Te,ye);else if(Te==="object"){if(typeof H.then=="function")return W(me(H),ce,_e,K,ye);throw ce=String(H),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function ne(H,ce,_e){if(H==null)return H;var K=[],ye=0;return W(H,K,"","",function(Te){return ce.call(_e,Te,ye++)}),K}function ve(H){if(H._status===-1){var ce=H._result;ce=ce(),ce.then(function(_e){(H._status===0||H._status===-1)&&(H._status=1,H._result=_e)},function(_e){(H._status===0||H._status===-1)&&(H._status=2,H._result=_e)}),H._status===-1&&(H._status=0,H._result=ce)}if(H._status===1)return H._result.default;throw H._result}var Re=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Ae={map:ne,forEach:function(H,ce,_e){ne(H,function(){ce.apply(this,arguments)},_e)},count:function(H){var ce=0;return ne(H,function(){ce++}),ce},toArray:function(H){return ne(H,function(ce){return ce})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Qe.Activity=b,Qe.Children=Ae,Qe.Component=P,Qe.Fragment=s,Qe.Profiler=i,Qe.PureComponent=F,Qe.StrictMode=r,Qe.Suspense=f,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return _.H.useMemoCache(H)}},Qe.cache=function(H){return function(){return H.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(H,ce,_e){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var K=A({},H.props),ye=H.key;if(ce!=null)for(Te in ce.key!==void 0&&(ye=""+ce.key),ce)!k.call(ce,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ce.ref===void 0||(K[Te]=ce[Te]);var Te=arguments.length-2;if(Te===1)K.children=_e;else if(1<Te){for(var Oe=Array(Te),rt=0;rt<Te;rt++)Oe[rt]=arguments[rt+2];K.children=Oe}return I(H.type,ye,K)},Qe.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:l,_context:H},H},Qe.createElement=function(H,ce,_e){var K,ye={},Te=null;if(ce!=null)for(K in ce.key!==void 0&&(Te=""+ce.key),ce)k.call(ce,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ye[K]=ce[K]);var Oe=arguments.length-2;if(Oe===1)ye.children=_e;else if(1<Oe){for(var rt=Array(Oe),je=0;je<Oe;je++)rt[je]=arguments[je+2];ye.children=rt}if(H&&H.defaultProps)for(K in Oe=H.defaultProps,Oe)ye[K]===void 0&&(ye[K]=Oe[K]);return I(H,Te,ye)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(H){return{$$typeof:h,render:H}},Qe.isValidElement=M,Qe.lazy=function(H){return{$$typeof:x,_payload:{_status:-1,_result:H},_init:ve}},Qe.memo=function(H,ce){return{$$typeof:p,type:H,compare:ce===void 0?null:ce}},Qe.startTransition=function(H){var ce=_.T,_e={};_.T=_e;try{var K=H(),ye=_.S;ye!==null&&ye(_e,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Q,Re)}catch(Te){Re(Te)}finally{ce!==null&&_e.types!==null&&(ce.types=_e.types),_.T=ce}},Qe.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},Qe.use=function(H){return _.H.use(H)},Qe.useActionState=function(H,ce,_e){return _.H.useActionState(H,ce,_e)},Qe.useCallback=function(H,ce){return _.H.useCallback(H,ce)},Qe.useContext=function(H){return _.H.useContext(H)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(H,ce){return _.H.useDeferredValue(H,ce)},Qe.useEffect=function(H,ce){return _.H.useEffect(H,ce)},Qe.useEffectEvent=function(H){return _.H.useEffectEvent(H)},Qe.useId=function(){return _.H.useId()},Qe.useImperativeHandle=function(H,ce,_e){return _.H.useImperativeHandle(H,ce,_e)},Qe.useInsertionEffect=function(H,ce){return _.H.useInsertionEffect(H,ce)},Qe.useLayoutEffect=function(H,ce){return _.H.useLayoutEffect(H,ce)},Qe.useMemo=function(H,ce){return _.H.useMemo(H,ce)},Qe.useOptimistic=function(H,ce){return _.H.useOptimistic(H,ce)},Qe.useReducer=function(H,ce,_e){return _.H.useReducer(H,ce,_e)},Qe.useRef=function(H){return _.H.useRef(H)},Qe.useState=function(H){return _.H.useState(H)},Qe.useSyncExternalStore=function(H,ce,_e){return _.H.useSyncExternalStore(H,ce,_e)},Qe.useTransition=function(){return _.H.useTransition()},Qe.version="19.2.4",Qe}var N2;function Fv(){return N2||(N2=1,zy.exports=X6()),zy.exports}var w=Fv();const Ke=hu(w);var Uy={exports:{}},Ch={},By={exports:{}},Fy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function Z6(){return _2||(_2=1,(function(n){function e(W,ne){var ve=W.length;W.push(ne);e:for(;0<ve;){var Re=ve-1>>>1,Ae=W[Re];if(0<i(Ae,ne))W[Re]=ne,W[ve]=Ae,ve=Re;else break e}}function s(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ne=W[0],ve=W.pop();if(ve!==ne){W[0]=ve;e:for(var Re=0,Ae=W.length,H=Ae>>>1;Re<H;){var ce=2*(Re+1)-1,_e=W[ce],K=ce+1,ye=W[K];if(0>i(_e,ve))K<Ae&&0>i(ye,_e)?(W[Re]=ye,W[K]=ve,Re=K):(W[Re]=_e,W[ce]=ve,Re=ce);else if(K<Ae&&0>i(ye,ve))W[Re]=ye,W[K]=ve,Re=K;else break e}}return ne}function i(W,ne){var ve=W.sortIndex-ne.sortIndex;return ve!==0?ve:W.id-ne.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],p=[],x=1,b=null,v=3,E=!1,S=!1,A=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function B(W){for(var ne=s(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=W)r(p),ne.sortIndex=ne.expirationTime,e(f,ne);else break;ne=s(p)}}function $(W){if(A=!1,B(W),!S)if(s(f)!==null)S=!0,Q||(Q=!0,V());else{var ne=s(p);ne!==null&&me($,ne.startTime-W)}}var Q=!1,_=-1,k=5,I=-1;function L(){return C?!0:!(n.unstable_now()-I<k)}function M(){if(C=!1,Q){var W=n.unstable_now();I=W;var ne=!0;try{e:{S=!1,A&&(A=!1,D(_),_=-1),E=!0;var ve=v;try{t:{for(B(W),b=s(f);b!==null&&!(b.expirationTime>W&&L());){var Re=b.callback;if(typeof Re=="function"){b.callback=null,v=b.priorityLevel;var Ae=Re(b.expirationTime<=W);if(W=n.unstable_now(),typeof Ae=="function"){b.callback=Ae,B(W),ne=!0;break t}b===s(f)&&r(f),B(W)}else r(f);b=s(f)}if(b!==null)ne=!0;else{var H=s(p);H!==null&&me($,H.startTime-W),ne=!1}}break e}finally{b=null,v=ve,E=!1}ne=void 0}}finally{ne?V():Q=!1}}}var V;if(typeof F=="function")V=function(){F(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,U=R.port2;R.port1.onmessage=M,V=function(){U.postMessage(null)}}else V=function(){P(M,0)};function me(W,ne){_=P(function(){W(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(W){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var ve=v;v=ne;try{return W()}finally{v=ve}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ve=v;v=W;try{return ne()}finally{v=ve}},n.unstable_scheduleCallback=function(W,ne,ve){var Re=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Re+ve:Re):ve=Re,W){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ve+Ae,W={id:x++,callback:ne,priorityLevel:W,startTime:ve,expirationTime:Ae,sortIndex:-1},ve>Re?(W.sortIndex=ve,e(p,W),s(f)===null&&W===s(p)&&(A?(D(_),_=-1):A=!0,me($,ve-Re))):(W.sortIndex=Ae,e(f,W),S||E||(S=!0,Q||(Q=!0,V()))),W},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(W){var ne=v;return function(){var ve=v;v=ne;try{return W.apply(this,arguments)}finally{v=ve}}}})(Fy)),Fy}var S2;function e5(){return S2||(S2=1,By.exports=Z6()),By.exports}var $y={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2;function t5(){if(T2)return fn;T2=1;var n=Fv();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(f,p,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:f,containerInfo:p,implementation:x}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(f,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,x)},fn.flushSync=function(f){var p=c.T,x=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=p,r.p=x,r.d.f()}},fn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},fn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},fn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var x=p.as,b=h(x,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:E}):x==="script"&&r.d.X(f,{crossOrigin:b,integrity:v,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},fn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=h(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},fn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,b=h(x,p.crossOrigin);r.d.L(f,x,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},fn.preloadModule=function(f,p){if(typeof f=="string")if(p){var x=h(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},fn.requestFormReset=function(f){r.d.r(f)},fn.unstable_batchedUpdates=function(f,p){return f(p)},fn.useFormState=function(f,p,x){return c.H.useFormState(f,p,x)},fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},fn.version="19.2.4",fn}var k2;function s5(){if(k2)return $y.exports;k2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$y.exports=t5(),$y.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2;function n5(){if(E2)return Ch;E2=1;var n=e5(),e=Fv(),s=s5();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var o=a,d=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(d=o.return),a=o.return;while(a)}return o.tag===3?d:null}function c(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function h(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(l(a)!==a)throw Error(r(188))}function p(a){var o=a.alternate;if(!o){if(o=l(a),o===null)throw Error(r(188));return o!==a?null:a}for(var d=a,u=o;;){var g=d.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){d=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===d)return f(g),a;if(y===u)return f(g),o;y=y.sibling}throw Error(r(188))}if(d.return!==u.return)d=g,u=y;else{for(var N=!1,O=g.child;O;){if(O===d){N=!0,d=g,u=y;break}if(O===u){N=!0,u=g,d=y;break}O=O.sibling}if(!N){for(O=y.child;O;){if(O===d){N=!0,d=y,u=g;break}if(O===u){N=!0,u=y,d=g;break}O=O.sibling}if(!N)throw Error(r(189))}}if(d.alternate!==u)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:o}function x(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=x(a),o!==null)return o;a=a.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function V(a){return a===null||typeof a!="object"?null:(a=M&&a[M]||a["@@iterator"],typeof a=="function"?a:null)}var R=Symbol.for("react.client.reference");function U(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===R?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case P:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case Q:return"SuspenseList";case I:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case F:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case B:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case _:return o=a.displayName||null,o!==null?o:U(a.type)||"Memo";case k:o=a._payload,a=a._init;try{return U(a(o))}catch{}}return null}var me=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Re=[],Ae=-1;function H(a){return{current:a}}function ce(a){0>Ae||(a.current=Re[Ae],Re[Ae]=null,Ae--)}function _e(a,o){Ae++,Re[Ae]=a.current,a.current=o}var K=H(null),ye=H(null),Te=H(null),Oe=H(null);function rt(a,o){switch(_e(Te,o),_e(ye,a),_e(K,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?$_(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=$_(o),a=q_(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ce(K),_e(K,a)}function je(){ce(K),ce(ye),ce(Te)}function Ue(a){a.memoizedState!==null&&_e(Oe,a);var o=K.current,d=q_(o,a.type);o!==d&&(_e(ye,a),_e(K,d))}function _t(a){ye.current===a&&(ce(K),ce(ye)),Oe.current===a&&(ce(Oe),_h._currentValue=ve)}var Ut,ws;function ut(a){if(Ut===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);Ut=o&&o[1]||"",ws=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+a+ws}var Ps=!1;function ts(a,o){if(!a||Ps)return"";Ps=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(o){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(le){var ae=le}Reflect.construct(a,[],xe)}else{try{xe.call()}catch(le){ae=le}a.call(xe.prototype)}}else{try{throw Error()}catch(le){ae=le}(xe=a())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),N=y[0],O=y[1];if(N&&O){var G=N.split(`
`),se=O.split(`
`);for(g=u=0;u<G.length&&!G[u].includes("DetermineComponentFrameRoot");)u++;for(;g<se.length&&!se[g].includes("DetermineComponentFrameRoot");)g++;if(u===G.length||g===se.length)for(u=G.length-1,g=se.length-1;1<=u&&0<=g&&G[u]!==se[g];)g--;for(;1<=u&&0<=g;u--,g--)if(G[u]!==se[g]){if(u!==1||g!==1)do if(u--,g--,0>g||G[u]!==se[g]){var he=`
`+G[u].replace(" at new "," at ");return a.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",a.displayName)),he}while(1<=u&&0<=g);break}}}finally{Ps=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?ut(d):""}function pe(a,o){switch(a.tag){case 26:case 27:case 5:return ut(a.type);case 16:return ut("Lazy");case 13:return a.child!==o&&o!==null?ut("Suspense Fallback"):ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return ts(a.type,!1);case 11:return ts(a.type.render,!1);case 1:return ts(a.type,!0);case 31:return ut("Activity");default:return""}}function re(a){try{var o="",d=null;do o+=pe(a,d),d=a,a=a.return;while(a);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var $e=Object.prototype.hasOwnProperty,nt=n.unstable_scheduleCallback,Mt=n.unstable_cancelCallback,Wn=n.unstable_shouldYield,Br=n.unstable_requestPaint,fe=n.unstable_now,De=n.unstable_getCurrentPriorityLevel,Ye=n.unstable_ImmediatePriority,at=n.unstable_UserBlockingPriority,At=n.unstable_NormalPriority,ss=n.unstable_LowPriority,dn=n.unstable_IdlePriority,pr=n.log,da=n.unstable_setDisableYieldValue,Yn=null,Ds=null;function un(a){if(typeof pr=="function"&&da(a),Ds&&typeof Ds.setStrictMode=="function")try{Ds.setStrictMode(Yn,a)}catch{}}var It=Math.clz32?Math.clz32:sl,_c=Math.log,Mi=Math.LN2;function sl(a){return a>>>=0,a===0?32:31-(_c(a)/Mi|0)|0}var Qn=256,ua=262144,ns=4194304;function Jn(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function J(a,o,d){var u=a.pendingLanes;if(u===0)return 0;var g=0,y=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var O=u&134217727;return O!==0?(u=O&~y,u!==0?g=Jn(u):(N&=O,N!==0?g=Jn(N):d||(d=O&~a,d!==0&&(g=Jn(d))))):(O=u&~y,O!==0?g=Jn(O):N!==0?g=Jn(N):d||(d=u&~a,d!==0&&(g=Jn(d)))),g===0?0:o!==0&&o!==g&&(o&y)===0&&(y=g&-g,d=o&-o,y>=d||y===32&&(d&4194048)!==0)?o:g}function Me(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function it(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kt(){var a=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),a}function tt(a){for(var o=[],d=0;31>d;d++)o.push(a);return o}function Ks(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Fr(a,o,d,u,g,y){var N=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var O=a.entanglements,G=a.expirationTimes,se=a.hiddenUpdates;for(d=N&~d;0<d;){var he=31-It(d),xe=1<<he;O[he]=0,G[he]=-1;var ae=se[he];if(ae!==null)for(se[he]=null,he=0;he<ae.length;he++){var le=ae[he];le!==null&&(le.lane&=-536870913)}d&=~xe}u!==0&&hn(a,u,0),y!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=y&~(N&~o))}function hn(a,o,d){a.pendingLanes|=o,a.suspendedLanes&=~o;var u=31-It(o);a.entangledLanes|=o,a.entanglements[u]=a.entanglements[u]|1073741824|d&261930}function Li(a,o){var d=a.entangledLanes|=o;for(a=a.entanglements;d;){var u=31-It(d),g=1<<u;g&o|a[u]&o&&(a[u]|=o),d&=~g}}function Vi(a,o){var d=o&-o;return d=(d&42)!==0?1:Ga(d),(d&(a.suspendedLanes|o))!==0?0:d}function Ga(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function $r(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ym(){var a=ne.p;return a!==0?a:(a=window.event,a===void 0?32:f2(a.type))}function qr(a,o){var d=ne.p;try{return ne.p=a,o()}finally{ne.p=d}}var Hr=Math.random().toString(36).slice(2),js="__reactFiber$"+Hr,Us="__reactProps$"+Hr,ha="__reactContainer$"+Hr,Sc="__reactEvents$"+Hr,qx="__reactListeners$"+Hr,bm="__reactHandles$"+Hr,vm="__reactResources$"+Hr,fa="__reactMarker$"+Hr;function Tc(a){delete a[js],delete a[Us],delete a[Sc],delete a[qx],delete a[bm]}function ma(a){var o=a[js];if(o)return o;for(var d=a.parentNode;d;){if(o=d[ha]||d[js]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(a=J_(a);a!==null;){if(d=a[js])return d;a=J_(a)}return o}a=d,d=a.parentNode}return null}function gr(a){if(a=a[js]||a[ha]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Xn(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function pa(a){var o=a[vm];return o||(o=a[vm]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ns(a){a[fa]=!0}var Iu=new Set,Ru={};function ga(a,o){xa(a,o),xa(a+"Capture",o)}function xa(a,o){for(Ru[a]=o,a=0;a<o.length;a++)Iu.add(o[a])}var Pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Du={},Ou={};function wm(a){return $e.call(Ou,a)?!0:$e.call(Du,a)?!1:Pu.test(a)?Ou[a]=!0:(Du[a]=!0,!1)}function kc(a,o,d){if(wm(o))if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var u=o.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+d)}}function Zn(a,o,d){if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+d)}}function _s(a,o,d,u){if(u===null)a.removeAttribute(d);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(o,d,""+u)}}function Bs(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function zi(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Mu(a,o,d){var u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return g.call(this)},set:function(N){d=""+N,y.call(this,N)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(N){d=""+N},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function St(a){if(!a._valueTracker){var o=zi(a)?"checked":"value";a._valueTracker=Mu(a,o,""+a[o])}}function nl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var d=o.getValue(),u="";return a&&(u=zi(a)?a.checked?"true":"false":a.value),a=u,a!==d?(o.setValue(a),!0):!1}function ya(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var rl=/[\n"\\]/g;function An(a){return a.replace(rl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ec(a,o,d,u,g,y,N,O){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),o!=null?N==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Bs(o)):a.value!==""+Bs(o)&&(a.value=""+Bs(o)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),o!=null?Lu(a,N,Bs(o)):d!=null?Lu(a,N,Bs(d)):u!=null&&a.removeAttribute("value"),g==null&&y!=null&&(a.defaultChecked=!!y),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.name=""+Bs(O):a.removeAttribute("name")}function jm(a,o,d,u,g,y,N,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),o!=null||d!=null){if(!(y!=="submit"&&y!=="reset"||o!=null)){St(a);return}d=d!=null?""+Bs(d):"",o=o!=null?""+Bs(o):d,O||o===a.value||(a.value=o),a.defaultValue=o}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,a.checked=O?a.checked:!!u,a.defaultChecked=!!u,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),St(a)}function Lu(a,o,d){o==="number"&&ya(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Ui(a,o,d,u){if(a=a.options,o){o={};for(var g=0;g<d.length;g++)o["$"+d[g]]=!0;for(d=0;d<a.length;d++)g=o.hasOwnProperty("$"+a[d].value),a[d].selected!==g&&(a[d].selected=g),g&&u&&(a[d].defaultSelected=!0)}else{for(d=""+Bs(d),o=null,g=0;g<a.length;g++){if(a[g].value===d){a[g].selected=!0,u&&(a[g].defaultSelected=!0);return}o!==null||a[g].disabled||(o=a[g])}o!==null&&(o.selected=!0)}}function Nm(a,o,d){if(o!=null&&(o=""+Bs(o),o!==a.value&&(a.value=o),d==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=d!=null?""+Bs(d):""}function Bi(a,o,d,u){if(o==null){if(u!=null){if(d!=null)throw Error(r(92));if(me(u)){if(1<u.length)throw Error(r(93));u=u[0]}d=u}d==null&&(d=""),o=d}d=Bs(o),a.defaultValue=d,u=a.textContent,u===d&&u!==""&&u!==null&&(a.value=u),St(a)}function In(a,o){if(o){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=o;return}}a.textContent=o}var _m=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vu(a,o,d){var u=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?u?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":u?a.setProperty(o,d):typeof d!="number"||d===0||_m.has(o)?o==="float"?a.cssFloat=d:a[o]=(""+d).trim():a[o]=d+"px"}function zu(a,o,d){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,d!=null){for(var u in d)!d.hasOwnProperty(u)||o!=null&&o.hasOwnProperty(u)||(u.indexOf("--")===0?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="");for(var g in o)u=o[g],o.hasOwnProperty(g)&&d[g]!==u&&Vu(a,g,u)}else for(var y in o)o.hasOwnProperty(y)&&Vu(a,y,o[y])}function Cc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ac(a){return Fi.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Gr(){}var Uu=null;function xr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var $i=null,ba=null;function al(a){var o=gr(a);if(o&&(a=o.stateNode)){var d=a[Us]||null;e:switch(a=o.stateNode,o.type){case"input":if(Ec(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+An(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var u=d[o];if(u!==a&&u.form===a.form){var g=u[Us]||null;if(!g)throw Error(r(90));Ec(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<d.length;o++)u=d[o],u.form===a.form&&nl(u)}break e;case"textarea":Nm(a,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Ui(a,!!d.multiple,o,!1)}}}var Ic=!1;function qi(a,o,d){if(Ic)return a(o,d);Ic=!0;try{var u=a(o);return u}finally{if(Ic=!1,($i!==null||ba!==null)&&(yp(),$i&&(o=$i,a=ba,ba=$i=null,al(o),a)))for(o=0;o<a.length;o++)al(a[o])}}function Kr(a,o){var d=a.stateNode;if(d===null)return null;var u=d[Us]||null;if(u===null)return null;d=u[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(a=a.type,u=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!u;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),il=!1;if(yr)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){il=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{il=!1}var va=null,Bu=null,ol=null;function Fu(){if(ol)return ol;var a,o=Bu,d=o.length,u,g="value"in va?va.value:va.textContent,y=g.length;for(a=0;a<d&&o[a]===g[a];a++);var N=d-a;for(u=1;u<=N&&o[d-u]===g[y-u];u++);return ol=g.slice(a,1<u?1-u:void 0)}function ll(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Ka(){return!0}function Wr(){return!1}function Ws(a){function o(d,u,g,y,N){this._reactName=d,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=N,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(d=a[O],this[O]=d?d(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ka:Wr,this.isPropagationStopped=Wr,this}return b(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),o}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Ws(Wa),Hi=b({},Wa,{view:0,detail:0}),$u=Ws(Hi),Gi,Rc,ja,Pc=b({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ki,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ja&&(ja&&a.type==="mousemove"?(Gi=a.screenX-ja.screenX,Rc=a.screenY-ja.screenY):Rc=Gi=0,ja=a),Gi)},movementY:function(a){return"movementY"in a?a.movementY:Rc}}),qu=Ws(Pc),cl=b({},Pc,{dataTransfer:0}),Tm=Ws(cl),km=b({},Hi,{relatedTarget:0}),dl=Ws(km),Hu=b({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),Em=Ws(Hu),Dc=b({},Wa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Cm=Ws(Dc),Am=b({},Wa,{data:0}),Na=Ws(Am),Im={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dm(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Pm[a])?!!o[a]:!1}function Ki(){return Dm}var bn=b({},Hi,{key:function(a){if(a.key){var o=Im[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=ll(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Rm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ki,charCode:function(a){return a.type==="keypress"?ll(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ll(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Om=Ws(bn),Mm=b({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ya=Ws(Mm),m=b({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ki}),j=Ws(m),T=b({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=Ws(T),ee=b({},Pc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),oe=Ws(ee),ke=b({},Wa,{newState:0,oldState:0}),Xe=Ws(ke),ps=[9,13,27,32],wt=yr&&"CompositionEvent"in window,Wt=null;yr&&"documentMode"in document&&(Wt=document.documentMode);var br=yr&&"TextEvent"in window&&!Wt,_a=yr&&(!wt||Wt&&8<Wt&&11>=Wt),Yr=" ",Qr=!1;function ul(a,o){switch(a){case"keyup":return ps.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Mc=!1;function yR(a,o){switch(a){case"compositionend":return Oc(o);case"keypress":return o.which!==32?null:(Qr=!0,Yr);case"textInput":return a=o.data,a===Yr&&Qr?null:a;default:return null}}function bR(a,o){if(Mc)return a==="compositionend"||!wt&&ul(a,o)?(a=Fu(),ol=Bu=va=null,Mc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return _a&&o.locale!=="ko"?null:o.data;default:return null}}var vR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e1(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!vR[a.type]:o==="textarea"}function t1(a,o,d,u){$i?ba?ba.push(u):ba=[u]:$i=u,o=Sp(o,"onChange"),0<o.length&&(d=new wa("onChange","change",null,d,u),a.push({event:d,listeners:o}))}var Gu=null,Ku=null;function wR(a){L_(a,0)}function Lm(a){var o=Xn(a);if(nl(o))return a}function s1(a,o){if(a==="change")return o}var n1=!1;if(yr){var Hx;if(yr){var Gx="oninput"in document;if(!Gx){var r1=document.createElement("div");r1.setAttribute("oninput","return;"),Gx=typeof r1.oninput=="function"}Hx=Gx}else Hx=!1;n1=Hx&&(!document.documentMode||9<document.documentMode)}function a1(){Gu&&(Gu.detachEvent("onpropertychange",i1),Ku=Gu=null)}function i1(a){if(a.propertyName==="value"&&Lm(Ku)){var o=[];t1(o,Ku,a,xr(a)),qi(wR,o)}}function jR(a,o,d){a==="focusin"?(a1(),Gu=o,Ku=d,Gu.attachEvent("onpropertychange",i1)):a==="focusout"&&a1()}function NR(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Lm(Ku)}function _R(a,o){if(a==="click")return Lm(o)}function SR(a,o){if(a==="input"||a==="change")return Lm(o)}function TR(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var er=typeof Object.is=="function"?Object.is:TR;function Wu(a,o){if(er(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var d=Object.keys(a),u=Object.keys(o);if(d.length!==u.length)return!1;for(u=0;u<d.length;u++){var g=d[u];if(!$e.call(o,g)||!er(a[g],o[g]))return!1}return!0}function o1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function l1(a,o){var d=o1(a);a=0;for(var u;d;){if(d.nodeType===3){if(u=a+d.textContent.length,a<=o&&u>=o)return{node:d,offset:o-a};a=u}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=o1(d)}}function c1(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?c1(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function d1(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=ya(a.document);o instanceof a.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)a=o.contentWindow;else break;o=ya(a.document)}return o}function Kx(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var kR=yr&&"documentMode"in document&&11>=document.documentMode,Lc=null,Wx=null,Yu=null,Yx=!1;function u1(a,o,d){var u=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Yx||Lc==null||Lc!==ya(u)||(u=Lc,"selectionStart"in u&&Kx(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Yu&&Wu(Yu,u)||(Yu=u,u=Sp(Wx,"onSelect"),0<u.length&&(o=new wa("onSelect","select",null,o,d),a.push({event:o,listeners:u}),o.target=Lc)))}function hl(a,o){var d={};return d[a.toLowerCase()]=o.toLowerCase(),d["Webkit"+a]="webkit"+o,d["Moz"+a]="moz"+o,d}var Vc={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionrun:hl("Transition","TransitionRun"),transitionstart:hl("Transition","TransitionStart"),transitioncancel:hl("Transition","TransitionCancel"),transitionend:hl("Transition","TransitionEnd")},Qx={},h1={};yr&&(h1=document.createElement("div").style,"AnimationEvent"in window||(delete Vc.animationend.animation,delete Vc.animationiteration.animation,delete Vc.animationstart.animation),"TransitionEvent"in window||delete Vc.transitionend.transition);function fl(a){if(Qx[a])return Qx[a];if(!Vc[a])return a;var o=Vc[a],d;for(d in o)if(o.hasOwnProperty(d)&&d in h1)return Qx[a]=o[d];return a}var f1=fl("animationend"),m1=fl("animationiteration"),p1=fl("animationstart"),ER=fl("transitionrun"),CR=fl("transitionstart"),AR=fl("transitioncancel"),g1=fl("transitionend"),x1=new Map,Jx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jx.push("scrollEnd");function Jr(a,o){x1.set(a,o),ga(o,[a])}var Vm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},vr=[],zc=0,Xx=0;function zm(){for(var a=zc,o=Xx=zc=0;o<a;){var d=vr[o];vr[o++]=null;var u=vr[o];vr[o++]=null;var g=vr[o];vr[o++]=null;var y=vr[o];if(vr[o++]=null,u!==null&&g!==null){var N=u.pending;N===null?g.next=g:(g.next=N.next,N.next=g),u.pending=g}y!==0&&y1(d,g,y)}}function Um(a,o,d,u){vr[zc++]=a,vr[zc++]=o,vr[zc++]=d,vr[zc++]=u,Xx|=u,a.lanes|=u,a=a.alternate,a!==null&&(a.lanes|=u)}function Zx(a,o,d,u){return Um(a,o,d,u),Bm(a)}function ml(a,o){return Um(a,null,null,o),Bm(a)}function y1(a,o,d){a.lanes|=d;var u=a.alternate;u!==null&&(u.lanes|=d);for(var g=!1,y=a.return;y!==null;)y.childLanes|=d,u=y.alternate,u!==null&&(u.childLanes|=d),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(g=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,g&&o!==null&&(g=31-It(d),a=y.hiddenUpdates,u=a[g],u===null?a[g]=[o]:u.push(o),o.lane=d|536870912),y):null}function Bm(a){if(50<xh)throw xh=0,ly=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Uc={};function IR(a,o,d,u){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(a,o,d,u){return new IR(a,o,d,u)}function e0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Qa(a,o){var d=a.alternate;return d===null?(d=tr(a.tag,o,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=o,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,o=a.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function b1(a,o){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,o=d.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Fm(a,o,d,u,g,y){var N=0;if(u=a,typeof a=="function")e0(a)&&(N=1);else if(typeof a=="string")N=M6(a,d,K.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case I:return a=tr(31,d,o,g),a.elementType=I,a.lanes=y,a;case A:return pl(d.children,g,y,o);case C:N=8,g|=24;break;case P:return a=tr(12,d,o,g|2),a.elementType=P,a.lanes=y,a;case $:return a=tr(13,d,o,g),a.elementType=$,a.lanes=y,a;case Q:return a=tr(19,d,o,g),a.elementType=Q,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case F:N=10;break e;case D:N=9;break e;case B:N=11;break e;case _:N=14;break e;case k:N=16,u=null;break e}N=29,d=Error(r(130,a===null?"null":typeof a,"")),u=null}return o=tr(N,d,o,g),o.elementType=a,o.type=u,o.lanes=y,o}function pl(a,o,d,u){return a=tr(7,a,u,o),a.lanes=d,a}function t0(a,o,d){return a=tr(6,a,null,o),a.lanes=d,a}function v1(a){var o=tr(18,null,null,0);return o.stateNode=a,o}function s0(a,o,d){return o=tr(4,a.children!==null?a.children:[],a.key,o),o.lanes=d,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var w1=new WeakMap;function wr(a,o){if(typeof a=="object"&&a!==null){var d=w1.get(a);return d!==void 0?d:(o={value:a,source:o,stack:re(o)},w1.set(a,o),o)}return{value:a,source:o,stack:re(o)}}var Bc=[],Fc=0,$m=null,Qu=0,jr=[],Nr=0,Wi=null,Sa=1,Ta="";function Ja(a,o){Bc[Fc++]=Qu,Bc[Fc++]=$m,$m=a,Qu=o}function j1(a,o,d){jr[Nr++]=Sa,jr[Nr++]=Ta,jr[Nr++]=Wi,Wi=a;var u=Sa;a=Ta;var g=32-It(u)-1;u&=~(1<<g),d+=1;var y=32-It(o)+g;if(30<y){var N=g-g%5;y=(u&(1<<N)-1).toString(32),u>>=N,g-=N,Sa=1<<32-It(o)+g|d<<g|u,Ta=y+a}else Sa=1<<y|d<<g|u,Ta=a}function n0(a){a.return!==null&&(Ja(a,1),j1(a,1,0))}function r0(a){for(;a===$m;)$m=Bc[--Fc],Bc[Fc]=null,Qu=Bc[--Fc],Bc[Fc]=null;for(;a===Wi;)Wi=jr[--Nr],jr[Nr]=null,Ta=jr[--Nr],jr[Nr]=null,Sa=jr[--Nr],jr[Nr]=null}function N1(a,o){jr[Nr++]=Sa,jr[Nr++]=Ta,jr[Nr++]=Wi,Sa=o.id,Ta=o.overflow,Wi=a}var Ys=null,$t=null,pt=!1,Yi=null,_r=!1,a0=Error(r(519));function Qi(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ju(wr(o,a)),a0}function _1(a){var o=a.stateNode,d=a.type,u=a.memoizedProps;switch(o[js]=a,o[Us]=u,d){case"dialog":lt("cancel",o),lt("close",o);break;case"iframe":case"object":case"embed":lt("load",o);break;case"video":case"audio":for(d=0;d<bh.length;d++)lt(bh[d],o);break;case"source":lt("error",o);break;case"img":case"image":case"link":lt("error",o),lt("load",o);break;case"details":lt("toggle",o);break;case"input":lt("invalid",o),jm(o,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":lt("invalid",o);break;case"textarea":lt("invalid",o),Bi(o,u.value,u.defaultValue,u.children)}d=u.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||u.suppressHydrationWarning===!0||B_(o.textContent,d)?(u.popover!=null&&(lt("beforetoggle",o),lt("toggle",o)),u.onScroll!=null&&lt("scroll",o),u.onScrollEnd!=null&&lt("scrollend",o),u.onClick!=null&&(o.onclick=Gr),o=!0):o=!1,o||Qi(a,!0)}function S1(a){for(Ys=a.return;Ys;)switch(Ys.tag){case 5:case 31:case 13:_r=!1;return;case 27:case 3:_r=!0;return;default:Ys=Ys.return}}function $c(a){if(a!==Ys)return!1;if(!pt)return S1(a),pt=!0,!1;var o=a.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||Ny(a.type,a.memoizedProps)),d=!d),d&&$t&&Qi(a),S1(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));$t=Q_(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));$t=Q_(a)}else o===27?(o=$t,uo(a.type)?(a=Ey,Ey=null,$t=a):$t=o):$t=Ys?Tr(a.stateNode.nextSibling):null;return!0}function gl(){$t=Ys=null,pt=!1}function i0(){var a=Yi;return a!==null&&(On===null?On=a:On.push.apply(On,a),Yi=null),a}function Ju(a){Yi===null?Yi=[a]:Yi.push(a)}var o0=H(null),xl=null,Xa=null;function Ji(a,o,d){_e(o0,o._currentValue),o._currentValue=d}function Za(a){a._currentValue=o0.current,ce(o0)}function l0(a,o,d){for(;a!==null;){var u=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),a===d)break;a=a.return}}function c0(a,o,d,u){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var y=g.dependencies;if(y!==null){var N=g.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=g;for(var G=0;G<o.length;G++)if(O.context===o[G]){y.lanes|=d,O=y.alternate,O!==null&&(O.lanes|=d),l0(y.return,d,a),u||(N=null);break e}y=O.next}}else if(g.tag===18){if(N=g.return,N===null)throw Error(r(341));N.lanes|=d,y=N.alternate,y!==null&&(y.lanes|=d),l0(N,d,a),N=null}else N=g.child;if(N!==null)N.return=g;else for(N=g;N!==null;){if(N===a){N=null;break}if(g=N.sibling,g!==null){g.return=N.return,N=g;break}N=N.return}g=N}}function qc(a,o,d,u){a=null;for(var g=o,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var N=g.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var O=g.type;er(g.pendingProps.value,N.value)||(a!==null?a.push(O):a=[O])}}else if(g===Oe.current){if(N=g.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(_h):a=[_h])}g=g.return}a!==null&&c0(o,a,d,u),o.flags|=262144}function qm(a){for(a=a.firstContext;a!==null;){if(!er(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function yl(a){xl=a,Xa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Qs(a){return T1(xl,a)}function Hm(a,o){return xl===null&&yl(a),T1(a,o)}function T1(a,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Xa===null){if(a===null)throw Error(r(308));Xa=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Xa=Xa.next=o;return d}var RR=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(d,u){a.push(u)}};this.abort=function(){o.aborted=!0,a.forEach(function(d){return d()})}},PR=n.unstable_scheduleCallback,DR=n.unstable_NormalPriority,Ss={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function d0(){return{controller:new RR,data:new Map,refCount:0}}function Xu(a){a.refCount--,a.refCount===0&&PR(DR,function(){a.controller.abort()})}var Zu=null,u0=0,Hc=0,Gc=null;function OR(a,o){if(Zu===null){var d=Zu=[];u0=0,Hc=my(),Gc={status:"pending",value:void 0,then:function(u){d.push(u)}}}return u0++,o.then(k1,k1),o}function k1(){if(--u0===0&&Zu!==null){Gc!==null&&(Gc.status="fulfilled");var a=Zu;Zu=null,Hc=0,Gc=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function MR(a,o){var d=[],u={status:"pending",value:null,reason:null,then:function(g){d.push(g)}};return a.then(function(){u.status="fulfilled",u.value=o;for(var g=0;g<d.length;g++)(0,d[g])(o)},function(g){for(u.status="rejected",u.reason=g,g=0;g<d.length;g++)(0,d[g])(void 0)}),u}var E1=W.S;W.S=function(a,o){u_=fe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&OR(a,o),E1!==null&&E1(a,o)};var bl=H(null);function h0(){var a=bl.current;return a!==null?a:Lt.pooledCache}function Gm(a,o){o===null?_e(bl,bl.current):_e(bl,o.pool)}function C1(){var a=h0();return a===null?null:{parent:Ss._currentValue,pool:a}}var Kc=Error(r(460)),f0=Error(r(474)),Km=Error(r(542)),Wm={then:function(){}};function A1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function I1(a,o,d){switch(d=a[d],d===void 0?a.push(o):d!==o&&(o.then(Gr,Gr),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,P1(a),a;default:if(typeof o.status=="string")o.then(Gr,Gr);else{if(a=Lt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(u){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=u}},function(u){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=u}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,P1(a),a}throw wl=o,Kc}}function vl(a){try{var o=a._init;return o(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(wl=d,Kc):d}}var wl=null;function R1(){if(wl===null)throw Error(r(459));var a=wl;return wl=null,a}function P1(a){if(a===Kc||a===Km)throw Error(r(483))}var Wc=null,eh=0;function Ym(a){var o=eh;return eh+=1,Wc===null&&(Wc=[]),I1(Wc,a,o)}function th(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Qm(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function D1(a){function o(X,Y){if(a){var te=X.deletions;te===null?(X.deletions=[Y],X.flags|=16):te.push(Y)}}function d(X,Y){if(!a)return null;for(;Y!==null;)o(X,Y),Y=Y.sibling;return null}function u(X){for(var Y=new Map;X!==null;)X.key!==null?Y.set(X.key,X):Y.set(X.index,X),X=X.sibling;return Y}function g(X,Y){return X=Qa(X,Y),X.index=0,X.sibling=null,X}function y(X,Y,te){return X.index=te,a?(te=X.alternate,te!==null?(te=te.index,te<Y?(X.flags|=67108866,Y):te):(X.flags|=67108866,Y)):(X.flags|=1048576,Y)}function N(X){return a&&X.alternate===null&&(X.flags|=67108866),X}function O(X,Y,te,ge){return Y===null||Y.tag!==6?(Y=t0(te,X.mode,ge),Y.return=X,Y):(Y=g(Y,te),Y.return=X,Y)}function G(X,Y,te,ge){var He=te.type;return He===A?he(X,Y,te.props.children,ge,te.key):Y!==null&&(Y.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===k&&vl(He)===Y.type)?(Y=g(Y,te.props),th(Y,te),Y.return=X,Y):(Y=Fm(te.type,te.key,te.props,null,X.mode,ge),th(Y,te),Y.return=X,Y)}function se(X,Y,te,ge){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==te.containerInfo||Y.stateNode.implementation!==te.implementation?(Y=s0(te,X.mode,ge),Y.return=X,Y):(Y=g(Y,te.children||[]),Y.return=X,Y)}function he(X,Y,te,ge,He){return Y===null||Y.tag!==7?(Y=pl(te,X.mode,ge,He),Y.return=X,Y):(Y=g(Y,te),Y.return=X,Y)}function xe(X,Y,te){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=t0(""+Y,X.mode,te),Y.return=X,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return te=Fm(Y.type,Y.key,Y.props,null,X.mode,te),th(te,Y),te.return=X,te;case S:return Y=s0(Y,X.mode,te),Y.return=X,Y;case k:return Y=vl(Y),xe(X,Y,te)}if(me(Y)||V(Y))return Y=pl(Y,X.mode,te,null),Y.return=X,Y;if(typeof Y.then=="function")return xe(X,Ym(Y),te);if(Y.$$typeof===F)return xe(X,Hm(X,Y),te);Qm(X,Y)}return null}function ae(X,Y,te,ge){var He=Y!==null?Y.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return He!==null?null:O(X,Y,""+te,ge);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case E:return te.key===He?G(X,Y,te,ge):null;case S:return te.key===He?se(X,Y,te,ge):null;case k:return te=vl(te),ae(X,Y,te,ge)}if(me(te)||V(te))return He!==null?null:he(X,Y,te,ge,null);if(typeof te.then=="function")return ae(X,Y,Ym(te),ge);if(te.$$typeof===F)return ae(X,Y,Hm(X,te),ge);Qm(X,te)}return null}function le(X,Y,te,ge,He){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return X=X.get(te)||null,O(Y,X,""+ge,He);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case E:return X=X.get(ge.key===null?te:ge.key)||null,G(Y,X,ge,He);case S:return X=X.get(ge.key===null?te:ge.key)||null,se(Y,X,ge,He);case k:return ge=vl(ge),le(X,Y,te,ge,He)}if(me(ge)||V(ge))return X=X.get(te)||null,he(Y,X,ge,He,null);if(typeof ge.then=="function")return le(X,Y,te,Ym(ge),He);if(ge.$$typeof===F)return le(X,Y,te,Hm(Y,ge),He);Qm(Y,ge)}return null}function Pe(X,Y,te,ge){for(var He=null,xt=null,ze=Y,st=Y=0,ft=null;ze!==null&&st<te.length;st++){ze.index>st?(ft=ze,ze=null):ft=ze.sibling;var yt=ae(X,ze,te[st],ge);if(yt===null){ze===null&&(ze=ft);break}a&&ze&&yt.alternate===null&&o(X,ze),Y=y(yt,Y,st),xt===null?He=yt:xt.sibling=yt,xt=yt,ze=ft}if(st===te.length)return d(X,ze),pt&&Ja(X,st),He;if(ze===null){for(;st<te.length;st++)ze=xe(X,te[st],ge),ze!==null&&(Y=y(ze,Y,st),xt===null?He=ze:xt.sibling=ze,xt=ze);return pt&&Ja(X,st),He}for(ze=u(ze);st<te.length;st++)ft=le(ze,X,st,te[st],ge),ft!==null&&(a&&ft.alternate!==null&&ze.delete(ft.key===null?st:ft.key),Y=y(ft,Y,st),xt===null?He=ft:xt.sibling=ft,xt=ft);return a&&ze.forEach(function(go){return o(X,go)}),pt&&Ja(X,st),He}function Ge(X,Y,te,ge){if(te==null)throw Error(r(151));for(var He=null,xt=null,ze=Y,st=Y=0,ft=null,yt=te.next();ze!==null&&!yt.done;st++,yt=te.next()){ze.index>st?(ft=ze,ze=null):ft=ze.sibling;var go=ae(X,ze,yt.value,ge);if(go===null){ze===null&&(ze=ft);break}a&&ze&&go.alternate===null&&o(X,ze),Y=y(go,Y,st),xt===null?He=go:xt.sibling=go,xt=go,ze=ft}if(yt.done)return d(X,ze),pt&&Ja(X,st),He;if(ze===null){for(;!yt.done;st++,yt=te.next())yt=xe(X,yt.value,ge),yt!==null&&(Y=y(yt,Y,st),xt===null?He=yt:xt.sibling=yt,xt=yt);return pt&&Ja(X,st),He}for(ze=u(ze);!yt.done;st++,yt=te.next())yt=le(ze,X,st,yt.value,ge),yt!==null&&(a&&yt.alternate!==null&&ze.delete(yt.key===null?st:yt.key),Y=y(yt,Y,st),xt===null?He=yt:xt.sibling=yt,xt=yt);return a&&ze.forEach(function(K6){return o(X,K6)}),pt&&Ja(X,st),He}function Ot(X,Y,te,ge){if(typeof te=="object"&&te!==null&&te.type===A&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case E:e:{for(var He=te.key;Y!==null;){if(Y.key===He){if(He=te.type,He===A){if(Y.tag===7){d(X,Y.sibling),ge=g(Y,te.props.children),ge.return=X,X=ge;break e}}else if(Y.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===k&&vl(He)===Y.type){d(X,Y.sibling),ge=g(Y,te.props),th(ge,te),ge.return=X,X=ge;break e}d(X,Y);break}else o(X,Y);Y=Y.sibling}te.type===A?(ge=pl(te.props.children,X.mode,ge,te.key),ge.return=X,X=ge):(ge=Fm(te.type,te.key,te.props,null,X.mode,ge),th(ge,te),ge.return=X,X=ge)}return N(X);case S:e:{for(He=te.key;Y!==null;){if(Y.key===He)if(Y.tag===4&&Y.stateNode.containerInfo===te.containerInfo&&Y.stateNode.implementation===te.implementation){d(X,Y.sibling),ge=g(Y,te.children||[]),ge.return=X,X=ge;break e}else{d(X,Y);break}else o(X,Y);Y=Y.sibling}ge=s0(te,X.mode,ge),ge.return=X,X=ge}return N(X);case k:return te=vl(te),Ot(X,Y,te,ge)}if(me(te))return Pe(X,Y,te,ge);if(V(te)){if(He=V(te),typeof He!="function")throw Error(r(150));return te=He.call(te),Ge(X,Y,te,ge)}if(typeof te.then=="function")return Ot(X,Y,Ym(te),ge);if(te.$$typeof===F)return Ot(X,Y,Hm(X,te),ge);Qm(X,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Y!==null&&Y.tag===6?(d(X,Y.sibling),ge=g(Y,te),ge.return=X,X=ge):(d(X,Y),ge=t0(te,X.mode,ge),ge.return=X,X=ge),N(X)):d(X,Y)}return function(X,Y,te,ge){try{eh=0;var He=Ot(X,Y,te,ge);return Wc=null,He}catch(ze){if(ze===Kc||ze===Km)throw ze;var xt=tr(29,ze,null,X.mode);return xt.lanes=ge,xt.return=X,xt}finally{}}}var jl=D1(!0),O1=D1(!1),Xi=!1;function m0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function p0(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Zi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function eo(a,o,d){var u=a.updateQueue;if(u===null)return null;if(u=u.shared,(jt&2)!==0){var g=u.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),u.pending=o,o=Bm(a),y1(a,null,d),o}return Um(a,u,o,d),Bm(a)}function sh(a,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var u=o.lanes;u&=a.pendingLanes,d|=u,o.lanes=d,Li(a,d)}}function g0(a,o){var d=a.updateQueue,u=a.alternate;if(u!==null&&(u=u.updateQueue,d===u)){var g=null,y=null;if(d=d.firstBaseUpdate,d!==null){do{var N={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};y===null?g=y=N:y=y.next=N,d=d.next}while(d!==null);y===null?g=y=o:y=y.next=o}else g=y=o;d={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=o:a.next=o,d.lastBaseUpdate=o}var x0=!1;function nh(){if(x0){var a=Gc;if(a!==null)throw a}}function rh(a,o,d,u){x0=!1;var g=a.updateQueue;Xi=!1;var y=g.firstBaseUpdate,N=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var G=O,se=G.next;G.next=null,N===null?y=se:N.next=se,N=G;var he=a.alternate;he!==null&&(he=he.updateQueue,O=he.lastBaseUpdate,O!==N&&(O===null?he.firstBaseUpdate=se:O.next=se,he.lastBaseUpdate=G))}if(y!==null){var xe=g.baseState;N=0,he=se=G=null,O=y;do{var ae=O.lane&-536870913,le=ae!==O.lane;if(le?(ht&ae)===ae:(u&ae)===ae){ae!==0&&ae===Hc&&(x0=!0),he!==null&&(he=he.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Pe=a,Ge=O;ae=o;var Ot=d;switch(Ge.tag){case 1:if(Pe=Ge.payload,typeof Pe=="function"){xe=Pe.call(Ot,xe,ae);break e}xe=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ge.payload,ae=typeof Pe=="function"?Pe.call(Ot,xe,ae):Pe,ae==null)break e;xe=b({},xe,ae);break e;case 2:Xi=!0}}ae=O.callback,ae!==null&&(a.flags|=64,le&&(a.flags|=8192),le=g.callbacks,le===null?g.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:O.tag,payload:O.payload,callback:O.callback,next:null},he===null?(se=he=le,G=xe):he=he.next=le,N|=ae;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;le=O,O=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);he===null&&(G=xe),g.baseState=G,g.firstBaseUpdate=se,g.lastBaseUpdate=he,y===null&&(g.shared.lanes=0),ao|=N,a.lanes=N,a.memoizedState=xe}}function M1(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function L1(a,o){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)M1(d[a],o)}var Yc=H(null),Jm=H(0);function V1(a,o){a=li,_e(Jm,a),_e(Yc,o),li=a|o.baseLanes}function y0(){_e(Jm,li),_e(Yc,Yc.current)}function b0(){li=Jm.current,ce(Yc),ce(Jm)}var sr=H(null),Sr=null;function to(a){var o=a.alternate;_e(gs,gs.current&1),_e(sr,a),Sr===null&&(o===null||Yc.current!==null||o.memoizedState!==null)&&(Sr=a)}function v0(a){_e(gs,gs.current),_e(sr,a),Sr===null&&(Sr=a)}function z1(a){a.tag===22?(_e(gs,gs.current),_e(sr,a),Sr===null&&(Sr=a)):so()}function so(){_e(gs,gs.current),_e(sr,sr.current)}function nr(a){ce(sr),Sr===a&&(Sr=null),ce(gs)}var gs=H(0);function Xm(a){for(var o=a;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Ty(d)||ky(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ei=0,Ze=null,Pt=null,Ts=null,Zm=!1,Qc=!1,Nl=!1,ep=0,ah=0,Jc=null,LR=0;function is(){throw Error(r(321))}function w0(a,o){if(o===null)return!1;for(var d=0;d<o.length&&d<a.length;d++)if(!er(a[d],o[d]))return!1;return!0}function j0(a,o,d,u,g,y){return ei=y,Ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=a===null||a.memoizedState===null?jN:L0,Nl=!1,y=d(u,g),Nl=!1,Qc&&(y=B1(o,d,u,g)),U1(a),y}function U1(a){W.H=lh;var o=Pt!==null&&Pt.next!==null;if(ei=0,Ts=Pt=Ze=null,Zm=!1,ah=0,Jc=null,o)throw Error(r(300));a===null||ks||(a=a.dependencies,a!==null&&qm(a)&&(ks=!0))}function B1(a,o,d,u){Ze=a;var g=0;do{if(Qc&&(Jc=null),ah=0,Qc=!1,25<=g)throw Error(r(301));if(g+=1,Ts=Pt=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=NN,y=o(d,u)}while(Qc);return y}function VR(){var a=W.H,o=a.useState()[0];return o=typeof o.then=="function"?ih(o):o,a=a.useState()[0],(Pt!==null?Pt.memoizedState:null)!==a&&(Ze.flags|=1024),o}function N0(){var a=ep!==0;return ep=0,a}function _0(a,o,d){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~d}function S0(a){if(Zm){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Zm=!1}ei=0,Ts=Pt=Ze=null,Qc=!1,ah=ep=0,Jc=null}function vn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ts===null?Ze.memoizedState=Ts=a:Ts=Ts.next=a,Ts}function xs(){if(Pt===null){var a=Ze.alternate;a=a!==null?a.memoizedState:null}else a=Pt.next;var o=Ts===null?Ze.memoizedState:Ts.next;if(o!==null)Ts=o,Pt=a;else{if(a===null)throw Ze.alternate===null?Error(r(467)):Error(r(310));Pt=a,a={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Ts===null?Ze.memoizedState=Ts=a:Ts=Ts.next=a}return Ts}function tp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ih(a){var o=ah;return ah+=1,Jc===null&&(Jc=[]),a=I1(Jc,a,o),o=Ze,(Ts===null?o.memoizedState:Ts.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?jN:L0),a}function sp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ih(a);if(a.$$typeof===F)return Qs(a)}throw Error(r(438,String(a)))}function T0(a){var o=null,d=Ze.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var u=Ze.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(o={data:u.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=tp(),Ze.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(a),u=0;u<a;u++)d[u]=L;return o.index++,d}function ti(a,o){return typeof o=="function"?o(a):o}function np(a){var o=xs();return k0(o,Pt,a)}function k0(a,o,d){var u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=d;var g=a.baseQueue,y=u.pending;if(y!==null){if(g!==null){var N=g.next;g.next=y.next,y.next=N}o.baseQueue=g=y,u.pending=null}if(y=a.baseState,g===null)a.memoizedState=y;else{o=g.next;var O=N=null,G=null,se=o,he=!1;do{var xe=se.lane&-536870913;if(xe!==se.lane?(ht&xe)===xe:(ei&xe)===xe){var ae=se.revertLane;if(ae===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),xe===Hc&&(he=!0);else if((ei&ae)===ae){se=se.next,ae===Hc&&(he=!0);continue}else xe={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},G===null?(O=G=xe,N=y):G=G.next=xe,Ze.lanes|=ae,ao|=ae;xe=se.action,Nl&&d(y,xe),y=se.hasEagerState?se.eagerState:d(y,xe)}else ae={lane:xe,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},G===null?(O=G=ae,N=y):G=G.next=ae,Ze.lanes|=xe,ao|=xe;se=se.next}while(se!==null&&se!==o);if(G===null?N=y:G.next=O,!er(y,a.memoizedState)&&(ks=!0,he&&(d=Gc,d!==null)))throw d;a.memoizedState=y,a.baseState=N,a.baseQueue=G,u.lastRenderedState=y}return g===null&&(u.lanes=0),[a.memoizedState,u.dispatch]}function E0(a){var o=xs(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var u=d.dispatch,g=d.pending,y=o.memoizedState;if(g!==null){d.pending=null;var N=g=g.next;do y=a(y,N.action),N=N.next;while(N!==g);er(y,o.memoizedState)||(ks=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),d.lastRenderedState=y}return[y,u]}function F1(a,o,d){var u=Ze,g=xs(),y=pt;if(y){if(d===void 0)throw Error(r(407));d=d()}else d=o();var N=!er((Pt||g).memoizedState,d);if(N&&(g.memoizedState=d,ks=!0),g=g.queue,I0(H1.bind(null,u,g,a),[a]),g.getSnapshot!==o||N||Ts!==null&&Ts.memoizedState.tag&1){if(u.flags|=2048,Xc(9,{destroy:void 0},q1.bind(null,u,g,d,o),null),Lt===null)throw Error(r(349));y||(ei&127)!==0||$1(u,o,d)}return d}function $1(a,o,d){a.flags|=16384,a={getSnapshot:o,value:d},o=Ze.updateQueue,o===null?(o=tp(),Ze.updateQueue=o,o.stores=[a]):(d=o.stores,d===null?o.stores=[a]:d.push(a))}function q1(a,o,d,u){o.value=d,o.getSnapshot=u,G1(o)&&K1(a)}function H1(a,o,d){return d(function(){G1(o)&&K1(a)})}function G1(a){var o=a.getSnapshot;a=a.value;try{var d=o();return!er(a,d)}catch{return!0}}function K1(a){var o=ml(a,2);o!==null&&Mn(o,a,2)}function C0(a){var o=vn();if(typeof a=="function"){var d=a;if(a=d(),Nl){un(!0);try{d()}finally{un(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:a},o}function W1(a,o,d,u){return a.baseState=d,k0(a,Pt,typeof u=="function"?u:ti)}function zR(a,o,d,u,g){if(ip(a))throw Error(r(485));if(a=o.action,a!==null){var y={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){y.listeners.push(N)}};W.T!==null?d(!0):y.isTransition=!1,u(y),d=o.pending,d===null?(y.next=o.pending=y,Y1(o,y)):(y.next=d.next,o.pending=d.next=y)}}function Y1(a,o){var d=o.action,u=o.payload,g=a.state;if(o.isTransition){var y=W.T,N={};W.T=N;try{var O=d(g,u),G=W.S;G!==null&&G(N,O),Q1(a,o,O)}catch(se){A0(a,o,se)}finally{y!==null&&N.types!==null&&(y.types=N.types),W.T=y}}else try{y=d(g,u),Q1(a,o,y)}catch(se){A0(a,o,se)}}function Q1(a,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(u){J1(a,o,u)},function(u){return A0(a,o,u)}):J1(a,o,d)}function J1(a,o,d){o.status="fulfilled",o.value=d,X1(o),a.state=d,o=a.pending,o!==null&&(d=o.next,d===o?a.pending=null:(d=d.next,o.next=d,Y1(a,d)))}function A0(a,o,d){var u=a.pending;if(a.pending=null,u!==null){u=u.next;do o.status="rejected",o.reason=d,X1(o),o=o.next;while(o!==u)}a.action=null}function X1(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Z1(a,o){return o}function eN(a,o){if(pt){var d=Lt.formState;if(d!==null){e:{var u=Ze;if(pt){if($t){t:{for(var g=$t,y=_r;g.nodeType!==8;){if(!y){g=null;break t}if(g=Tr(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){$t=Tr(g.nextSibling),u=g.data==="F!";break e}}Qi(u)}u=!1}u&&(o=d[0])}}return d=vn(),d.memoizedState=d.baseState=o,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z1,lastRenderedState:o},d.queue=u,d=bN.bind(null,Ze,u),u.dispatch=d,u=C0(!1),y=M0.bind(null,Ze,!1,u.queue),u=vn(),g={state:o,dispatch:null,action:a,pending:null},u.queue=g,d=zR.bind(null,Ze,g,y,d),g.dispatch=d,u.memoizedState=a,[o,d,!1]}function tN(a){var o=xs();return sN(o,Pt,a)}function sN(a,o,d){if(o=k0(a,o,Z1)[0],a=np(ti)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var u=ih(o)}catch(N){throw N===Kc?Km:N}else u=o;o=xs();var g=o.queue,y=g.dispatch;return d!==o.memoizedState&&(Ze.flags|=2048,Xc(9,{destroy:void 0},UR.bind(null,g,d),null)),[u,y,a]}function UR(a,o){a.action=o}function nN(a){var o=xs(),d=Pt;if(d!==null)return sN(o,d,a);xs(),o=o.memoizedState,d=xs();var u=d.queue.dispatch;return d.memoizedState=a,[o,u,!1]}function Xc(a,o,d,u){return a={tag:a,create:d,deps:u,inst:o,next:null},o=Ze.updateQueue,o===null&&(o=tp(),Ze.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=a.next=a:(u=d.next,d.next=a,a.next=u,o.lastEffect=a),a}function rN(){return xs().memoizedState}function rp(a,o,d,u){var g=vn();Ze.flags|=a,g.memoizedState=Xc(1|o,{destroy:void 0},d,u===void 0?null:u)}function ap(a,o,d,u){var g=xs();u=u===void 0?null:u;var y=g.memoizedState.inst;Pt!==null&&u!==null&&w0(u,Pt.memoizedState.deps)?g.memoizedState=Xc(o,y,d,u):(Ze.flags|=a,g.memoizedState=Xc(1|o,y,d,u))}function aN(a,o){rp(8390656,8,a,o)}function I0(a,o){ap(2048,8,a,o)}function BR(a){Ze.flags|=4;var o=Ze.updateQueue;if(o===null)o=tp(),Ze.updateQueue=o,o.events=[a];else{var d=o.events;d===null?o.events=[a]:d.push(a)}}function iN(a){var o=xs().memoizedState;return BR({ref:o,nextImpl:a}),function(){if((jt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function oN(a,o){return ap(4,2,a,o)}function lN(a,o){return ap(4,4,a,o)}function cN(a,o){if(typeof o=="function"){a=a();var d=o(a);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function dN(a,o,d){d=d!=null?d.concat([a]):null,ap(4,4,cN.bind(null,o,a),d)}function R0(){}function uN(a,o){var d=xs();o=o===void 0?null:o;var u=d.memoizedState;return o!==null&&w0(o,u[1])?u[0]:(d.memoizedState=[a,o],a)}function hN(a,o){var d=xs();o=o===void 0?null:o;var u=d.memoizedState;if(o!==null&&w0(o,u[1]))return u[0];if(u=a(),Nl){un(!0);try{a()}finally{un(!1)}}return d.memoizedState=[u,o],u}function P0(a,o,d){return d===void 0||(ei&1073741824)!==0&&(ht&261930)===0?a.memoizedState=o:(a.memoizedState=d,a=f_(),Ze.lanes|=a,ao|=a,d)}function fN(a,o,d,u){return er(d,o)?d:Yc.current!==null?(a=P0(a,d,u),er(a,o)||(ks=!0),a):(ei&42)===0||(ei&1073741824)!==0&&(ht&261930)===0?(ks=!0,a.memoizedState=d):(a=f_(),Ze.lanes|=a,ao|=a,o)}function mN(a,o,d,u,g){var y=ne.p;ne.p=y!==0&&8>y?y:8;var N=W.T,O={};W.T=O,M0(a,!1,o,d);try{var G=g(),se=W.S;if(se!==null&&se(O,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var he=MR(G,u);oh(a,o,he,ir(a))}else oh(a,o,u,ir(a))}catch(xe){oh(a,o,{then:function(){},status:"rejected",reason:xe},ir())}finally{ne.p=y,N!==null&&O.types!==null&&(N.types=O.types),W.T=N}}function FR(){}function D0(a,o,d,u){if(a.tag!==5)throw Error(r(476));var g=pN(a).queue;mN(a,g,o,ve,d===null?FR:function(){return gN(a),d(u)})}function pN(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:ve},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:d},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function gN(a){var o=pN(a);o.next===null&&(o=a.alternate.memoizedState),oh(a,o.next.queue,{},ir())}function O0(){return Qs(_h)}function xN(){return xs().memoizedState}function yN(){return xs().memoizedState}function $R(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var d=ir();a=Zi(d);var u=eo(o,a,d);u!==null&&(Mn(u,o,d),sh(u,o,d)),o={cache:d0()},a.payload=o;return}o=o.return}}function qR(a,o,d){var u=ir();d={lane:u,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ip(a)?vN(o,d):(d=Zx(a,o,d,u),d!==null&&(Mn(d,a,u),wN(d,o,u)))}function bN(a,o,d){var u=ir();oh(a,o,d,u)}function oh(a,o,d,u){var g={lane:u,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(ip(a))vN(o,g);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var N=o.lastRenderedState,O=y(N,d);if(g.hasEagerState=!0,g.eagerState=O,er(O,N))return Um(a,o,g,0),Lt===null&&zm(),!1}catch{}finally{}if(d=Zx(a,o,g,u),d!==null)return Mn(d,a,u),wN(d,o,u),!0}return!1}function M0(a,o,d,u){if(u={lane:2,revertLane:my(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ip(a)){if(o)throw Error(r(479))}else o=Zx(a,d,u,2),o!==null&&Mn(o,a,2)}function ip(a){var o=a.alternate;return a===Ze||o!==null&&o===Ze}function vN(a,o){Qc=Zm=!0;var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}function wN(a,o,d){if((d&4194048)!==0){var u=o.lanes;u&=a.pendingLanes,d|=u,o.lanes=d,Li(a,d)}}var lh={readContext:Qs,use:sp,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useLayoutEffect:is,useInsertionEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useSyncExternalStore:is,useId:is,useHostTransitionStatus:is,useFormState:is,useActionState:is,useOptimistic:is,useMemoCache:is,useCacheRefresh:is};lh.useEffectEvent=is;var jN={readContext:Qs,use:sp,useCallback:function(a,o){return vn().memoizedState=[a,o===void 0?null:o],a},useContext:Qs,useEffect:aN,useImperativeHandle:function(a,o,d){d=d!=null?d.concat([a]):null,rp(4194308,4,cN.bind(null,o,a),d)},useLayoutEffect:function(a,o){return rp(4194308,4,a,o)},useInsertionEffect:function(a,o){rp(4,2,a,o)},useMemo:function(a,o){var d=vn();o=o===void 0?null:o;var u=a();if(Nl){un(!0);try{a()}finally{un(!1)}}return d.memoizedState=[u,o],u},useReducer:function(a,o,d){var u=vn();if(d!==void 0){var g=d(o);if(Nl){un(!0);try{d(o)}finally{un(!1)}}}else g=o;return u.memoizedState=u.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},u.queue=a,a=a.dispatch=qR.bind(null,Ze,a),[u.memoizedState,a]},useRef:function(a){var o=vn();return a={current:a},o.memoizedState=a},useState:function(a){a=C0(a);var o=a.queue,d=bN.bind(null,Ze,o);return o.dispatch=d,[a.memoizedState,d]},useDebugValue:R0,useDeferredValue:function(a,o){var d=vn();return P0(d,a,o)},useTransition:function(){var a=C0(!1);return a=mN.bind(null,Ze,a.queue,!0,!1),vn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,d){var u=Ze,g=vn();if(pt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),Lt===null)throw Error(r(349));(ht&127)!==0||$1(u,o,d)}g.memoizedState=d;var y={value:d,getSnapshot:o};return g.queue=y,aN(H1.bind(null,u,y,a),[a]),u.flags|=2048,Xc(9,{destroy:void 0},q1.bind(null,u,y,d,o),null),d},useId:function(){var a=vn(),o=Lt.identifierPrefix;if(pt){var d=Ta,u=Sa;d=(u&~(1<<32-It(u)-1)).toString(32)+d,o="_"+o+"R_"+d,d=ep++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=LR++,o="_"+o+"r_"+d.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:O0,useFormState:eN,useActionState:eN,useOptimistic:function(a){var o=vn();o.memoizedState=o.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=M0.bind(null,Ze,!0,d),d.dispatch=o,[a,o]},useMemoCache:T0,useCacheRefresh:function(){return vn().memoizedState=$R.bind(null,Ze)},useEffectEvent:function(a){var o=vn(),d={impl:a};return o.memoizedState=d,function(){if((jt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},L0={readContext:Qs,use:sp,useCallback:uN,useContext:Qs,useEffect:I0,useImperativeHandle:dN,useInsertionEffect:oN,useLayoutEffect:lN,useMemo:hN,useReducer:np,useRef:rN,useState:function(){return np(ti)},useDebugValue:R0,useDeferredValue:function(a,o){var d=xs();return fN(d,Pt.memoizedState,a,o)},useTransition:function(){var a=np(ti)[0],o=xs().memoizedState;return[typeof a=="boolean"?a:ih(a),o]},useSyncExternalStore:F1,useId:xN,useHostTransitionStatus:O0,useFormState:tN,useActionState:tN,useOptimistic:function(a,o){var d=xs();return W1(d,Pt,a,o)},useMemoCache:T0,useCacheRefresh:yN};L0.useEffectEvent=iN;var NN={readContext:Qs,use:sp,useCallback:uN,useContext:Qs,useEffect:I0,useImperativeHandle:dN,useInsertionEffect:oN,useLayoutEffect:lN,useMemo:hN,useReducer:E0,useRef:rN,useState:function(){return E0(ti)},useDebugValue:R0,useDeferredValue:function(a,o){var d=xs();return Pt===null?P0(d,a,o):fN(d,Pt.memoizedState,a,o)},useTransition:function(){var a=E0(ti)[0],o=xs().memoizedState;return[typeof a=="boolean"?a:ih(a),o]},useSyncExternalStore:F1,useId:xN,useHostTransitionStatus:O0,useFormState:nN,useActionState:nN,useOptimistic:function(a,o){var d=xs();return Pt!==null?W1(d,Pt,a,o):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:T0,useCacheRefresh:yN};NN.useEffectEvent=iN;function V0(a,o,d,u){o=a.memoizedState,d=d(u,o),d=d==null?o:b({},o,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var z0={enqueueSetState:function(a,o,d){a=a._reactInternals;var u=ir(),g=Zi(u);g.payload=o,d!=null&&(g.callback=d),o=eo(a,g,u),o!==null&&(Mn(o,a,u),sh(o,a,u))},enqueueReplaceState:function(a,o,d){a=a._reactInternals;var u=ir(),g=Zi(u);g.tag=1,g.payload=o,d!=null&&(g.callback=d),o=eo(a,g,u),o!==null&&(Mn(o,a,u),sh(o,a,u))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var d=ir(),u=Zi(d);u.tag=2,o!=null&&(u.callback=o),o=eo(a,u,d),o!==null&&(Mn(o,a,d),sh(o,a,d))}};function _N(a,o,d,u,g,y,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(u,y,N):o.prototype&&o.prototype.isPureReactComponent?!Wu(d,u)||!Wu(g,y):!0}function SN(a,o,d,u){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,u),o.state!==a&&z0.enqueueReplaceState(o,o.state,null)}function _l(a,o){var d=o;if("ref"in o){d={};for(var u in o)u!=="ref"&&(d[u]=o[u])}if(a=a.defaultProps){d===o&&(d=b({},d));for(var g in a)d[g]===void 0&&(d[g]=a[g])}return d}function TN(a){Vm(a)}function kN(a){console.error(a)}function EN(a){Vm(a)}function op(a,o){try{var d=a.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(u){setTimeout(function(){throw u})}}function CN(a,o,d){try{var u=a.onCaughtError;u(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function U0(a,o,d){return d=Zi(d),d.tag=3,d.payload={element:null},d.callback=function(){op(a,o)},d}function AN(a){return a=Zi(a),a.tag=3,a}function IN(a,o,d,u){var g=d.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;a.payload=function(){return g(y)},a.callback=function(){CN(o,d,u)}}var N=d.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){CN(o,d,u),typeof g!="function"&&(io===null?io=new Set([this]):io.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})})}function HR(a,o,d,u,g){if(d.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(o=d.alternate,o!==null&&qc(o,d,g,!0),d=sr.current,d!==null){switch(d.tag){case 31:case 13:return Sr===null?bp():d.alternate===null&&os===0&&(os=3),d.flags&=-257,d.flags|=65536,d.lanes=g,u===Wm?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([u]):o.add(u),uy(a,u,g)),!1;case 22:return d.flags|=65536,u===Wm?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([u])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([u]):d.add(u)),uy(a,u,g)),!1}throw Error(r(435,d.tag))}return uy(a,u,g),bp(),!1}if(pt)return o=sr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,u!==a0&&(a=Error(r(422),{cause:u}),Ju(wr(a,d)))):(u!==a0&&(o=Error(r(423),{cause:u}),Ju(wr(o,d))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,u=wr(u,d),g=U0(a.stateNode,u,g),g0(a,g),os!==4&&(os=2)),!1;var y=Error(r(520),{cause:u});if(y=wr(y,d),gh===null?gh=[y]:gh.push(y),os!==4&&(os=2),o===null)return!0;u=wr(u,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,a=g&-g,d.lanes|=a,a=U0(d.stateNode,u,a),g0(d,a),!1;case 1:if(o=d.type,y=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(io===null||!io.has(y))))return d.flags|=65536,g&=-g,d.lanes|=g,g=AN(g),IN(g,a,d,u),g0(d,g),!1}d=d.return}while(d!==null);return!1}var B0=Error(r(461)),ks=!1;function Js(a,o,d,u){o.child=a===null?O1(o,null,d,u):jl(o,a.child,d,u)}function RN(a,o,d,u,g){d=d.render;var y=o.ref;if("ref"in u){var N={};for(var O in u)O!=="ref"&&(N[O]=u[O])}else N=u;return yl(o),u=j0(a,o,d,N,y,g),O=N0(),a!==null&&!ks?(_0(a,o,g),si(a,o,g)):(pt&&O&&n0(o),o.flags|=1,Js(a,o,u,g),o.child)}function PN(a,o,d,u,g){if(a===null){var y=d.type;return typeof y=="function"&&!e0(y)&&y.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=y,DN(a,o,y,u,g)):(a=Fm(d.type,null,u,o,o.mode,g),a.ref=o.ref,a.return=o,o.child=a)}if(y=a.child,!Y0(a,g)){var N=y.memoizedProps;if(d=d.compare,d=d!==null?d:Wu,d(N,u)&&a.ref===o.ref)return si(a,o,g)}return o.flags|=1,a=Qa(y,u),a.ref=o.ref,a.return=o,o.child=a}function DN(a,o,d,u,g){if(a!==null){var y=a.memoizedProps;if(Wu(y,u)&&a.ref===o.ref)if(ks=!1,o.pendingProps=u=y,Y0(a,g))(a.flags&131072)!==0&&(ks=!0);else return o.lanes=a.lanes,si(a,o,g)}return F0(a,o,d,u,g)}function ON(a,o,d,u){var g=u.children,y=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((o.flags&128)!==0){if(y=y!==null?y.baseLanes|d:d,a!==null){for(u=o.child=a.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~y}else u=0,o.child=null;return MN(a,o,y,d,u)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Gm(o,y!==null?y.cachePool:null),y!==null?V1(o,y):y0(),z1(o);else return u=o.lanes=536870912,MN(a,o,y!==null?y.baseLanes|d:d,d,u)}else y!==null?(Gm(o,y.cachePool),V1(o,y),so(),o.memoizedState=null):(a!==null&&Gm(o,null),y0(),so());return Js(a,o,g,d),o.child}function ch(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function MN(a,o,d,u,g){var y=h0();return y=y===null?null:{parent:Ss._currentValue,pool:y},o.memoizedState={baseLanes:d,cachePool:y},a!==null&&Gm(o,null),y0(),z1(o),a!==null&&qc(a,o,u,!0),o.childLanes=g,null}function lp(a,o){return o=dp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function LN(a,o,d){return jl(o,a.child,null,d),a=lp(o,o.pendingProps),a.flags|=2,nr(o),o.memoizedState=null,a}function GR(a,o,d){var u=o.pendingProps,g=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(pt){if(u.mode==="hidden")return a=lp(o,u),o.lanes=536870912,ch(null,a);if(v0(o),(a=$t)?(a=Y_(a,_r),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Wi!==null?{id:Sa,overflow:Ta}:null,retryLane:536870912,hydrationErrors:null},d=v1(a),d.return=o,o.child=d,Ys=o,$t=null)):a=null,a===null)throw Qi(o);return o.lanes=536870912,null}return lp(o,u)}var y=a.memoizedState;if(y!==null){var N=y.dehydrated;if(v0(o),g)if(o.flags&256)o.flags&=-257,o=LN(a,o,d);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(ks||qc(a,o,d,!1),g=(d&a.childLanes)!==0,ks||g){if(u=Lt,u!==null&&(N=Vi(u,d),N!==0&&N!==y.retryLane))throw y.retryLane=N,ml(a,N),Mn(u,a,N),B0;bp(),o=LN(a,o,d)}else a=y.treeContext,$t=Tr(N.nextSibling),Ys=o,pt=!0,Yi=null,_r=!1,a!==null&&N1(o,a),o=lp(o,u),o.flags|=4096;return o}return a=Qa(a.child,{mode:u.mode,children:u.children}),a.ref=o.ref,o.child=a,a.return=o,a}function cp(a,o){var d=o.ref;if(d===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(o.flags|=4194816)}}function F0(a,o,d,u,g){return yl(o),d=j0(a,o,d,u,void 0,g),u=N0(),a!==null&&!ks?(_0(a,o,g),si(a,o,g)):(pt&&u&&n0(o),o.flags|=1,Js(a,o,d,g),o.child)}function VN(a,o,d,u,g,y){return yl(o),o.updateQueue=null,d=B1(o,u,d,g),U1(a),u=N0(),a!==null&&!ks?(_0(a,o,y),si(a,o,y)):(pt&&u&&n0(o),o.flags|=1,Js(a,o,d,y),o.child)}function zN(a,o,d,u,g){if(yl(o),o.stateNode===null){var y=Uc,N=d.contextType;typeof N=="object"&&N!==null&&(y=Qs(N)),y=new d(u,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=z0,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=u,y.state=o.memoizedState,y.refs={},m0(o),N=d.contextType,y.context=typeof N=="object"&&N!==null?Qs(N):Uc,y.state=o.memoizedState,N=d.getDerivedStateFromProps,typeof N=="function"&&(V0(o,d,N,u),y.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(N=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),N!==y.state&&z0.enqueueReplaceState(y,y.state,null),rh(o,u,y,g),nh(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),u=!0}else if(a===null){y=o.stateNode;var O=o.memoizedProps,G=_l(d,O);y.props=G;var se=y.context,he=d.contextType;N=Uc,typeof he=="object"&&he!==null&&(N=Qs(he));var xe=d.getDerivedStateFromProps;he=typeof xe=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,he||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||se!==N)&&SN(o,y,u,N),Xi=!1;var ae=o.memoizedState;y.state=ae,rh(o,u,y,g),nh(),se=o.memoizedState,O||ae!==se||Xi?(typeof xe=="function"&&(V0(o,d,xe,u),se=o.memoizedState),(G=Xi||_N(o,d,G,u,ae,se,N))?(he||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=se),y.props=u,y.state=se,y.context=N,u=G):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{y=o.stateNode,p0(a,o),N=o.memoizedProps,he=_l(d,N),y.props=he,xe=o.pendingProps,ae=y.context,se=d.contextType,G=Uc,typeof se=="object"&&se!==null&&(G=Qs(se)),O=d.getDerivedStateFromProps,(se=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N!==xe||ae!==G)&&SN(o,y,u,G),Xi=!1,ae=o.memoizedState,y.state=ae,rh(o,u,y,g),nh();var le=o.memoizedState;N!==xe||ae!==le||Xi||a!==null&&a.dependencies!==null&&qm(a.dependencies)?(typeof O=="function"&&(V0(o,d,O,u),le=o.memoizedState),(he=Xi||_N(o,d,he,u,ae,le,G)||a!==null&&a.dependencies!==null&&qm(a.dependencies))?(se||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,le,G),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,le,G)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=le),y.props=u,y.state=le,y.context=G,u=he):(typeof y.componentDidUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),u=!1)}return y=u,cp(a,o),u=(o.flags&128)!==0,y||u?(y=o.stateNode,d=u&&typeof d.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,a!==null&&u?(o.child=jl(o,a.child,null,g),o.child=jl(o,null,d,g)):Js(a,o,d,g),o.memoizedState=y.state,a=o.child):a=si(a,o,g),a}function UN(a,o,d,u){return gl(),o.flags|=256,Js(a,o,d,u),o.child}var $0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function q0(a){return{baseLanes:a,cachePool:C1()}}function H0(a,o,d){return a=a!==null?a.childLanes&~d:0,o&&(a|=ar),a}function BN(a,o,d){var u=o.pendingProps,g=!1,y=(o.flags&128)!==0,N;if((N=y)||(N=a!==null&&a.memoizedState===null?!1:(gs.current&2)!==0),N&&(g=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,a===null){if(pt){if(g?to(o):so(),(a=$t)?(a=Y_(a,_r),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Wi!==null?{id:Sa,overflow:Ta}:null,retryLane:536870912,hydrationErrors:null},d=v1(a),d.return=o,o.child=d,Ys=o,$t=null)):a=null,a===null)throw Qi(o);return ky(a)?o.lanes=32:o.lanes=536870912,null}var O=u.children;return u=u.fallback,g?(so(),g=o.mode,O=dp({mode:"hidden",children:O},g),u=pl(u,g,d,null),O.return=o,u.return=o,O.sibling=u,o.child=O,u=o.child,u.memoizedState=q0(d),u.childLanes=H0(a,N,d),o.memoizedState=$0,ch(null,u)):(to(o),G0(o,O))}var G=a.memoizedState;if(G!==null&&(O=G.dehydrated,O!==null)){if(y)o.flags&256?(to(o),o.flags&=-257,o=K0(a,o,d)):o.memoizedState!==null?(so(),o.child=a.child,o.flags|=128,o=null):(so(),O=u.fallback,g=o.mode,u=dp({mode:"visible",children:u.children},g),O=pl(O,g,d,null),O.flags|=2,u.return=o,O.return=o,u.sibling=O,o.child=u,jl(o,a.child,null,d),u=o.child,u.memoizedState=q0(d),u.childLanes=H0(a,N,d),o.memoizedState=$0,o=ch(null,u));else if(to(o),ky(O)){if(N=O.nextSibling&&O.nextSibling.dataset,N)var se=N.dgst;N=se,u=Error(r(419)),u.stack="",u.digest=N,Ju({value:u,source:null,stack:null}),o=K0(a,o,d)}else if(ks||qc(a,o,d,!1),N=(d&a.childLanes)!==0,ks||N){if(N=Lt,N!==null&&(u=Vi(N,d),u!==0&&u!==G.retryLane))throw G.retryLane=u,ml(a,u),Mn(N,a,u),B0;Ty(O)||bp(),o=K0(a,o,d)}else Ty(O)?(o.flags|=192,o.child=a.child,o=null):(a=G.treeContext,$t=Tr(O.nextSibling),Ys=o,pt=!0,Yi=null,_r=!1,a!==null&&N1(o,a),o=G0(o,u.children),o.flags|=4096);return o}return g?(so(),O=u.fallback,g=o.mode,G=a.child,se=G.sibling,u=Qa(G,{mode:"hidden",children:u.children}),u.subtreeFlags=G.subtreeFlags&65011712,se!==null?O=Qa(se,O):(O=pl(O,g,d,null),O.flags|=2),O.return=o,u.return=o,u.sibling=O,o.child=u,ch(null,u),u=o.child,O=a.child.memoizedState,O===null?O=q0(d):(g=O.cachePool,g!==null?(G=Ss._currentValue,g=g.parent!==G?{parent:G,pool:G}:g):g=C1(),O={baseLanes:O.baseLanes|d,cachePool:g}),u.memoizedState=O,u.childLanes=H0(a,N,d),o.memoizedState=$0,ch(a.child,u)):(to(o),d=a.child,a=d.sibling,d=Qa(d,{mode:"visible",children:u.children}),d.return=o,d.sibling=null,a!==null&&(N=o.deletions,N===null?(o.deletions=[a],o.flags|=16):N.push(a)),o.child=d,o.memoizedState=null,d)}function G0(a,o){return o=dp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function dp(a,o){return a=tr(22,a,null,o),a.lanes=0,a}function K0(a,o,d){return jl(o,a.child,null,d),a=G0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function FN(a,o,d){a.lanes|=o;var u=a.alternate;u!==null&&(u.lanes|=o),l0(a.return,o,d)}function W0(a,o,d,u,g,y){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:d,tailMode:g,treeForkCount:y}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=u,N.tail=d,N.tailMode=g,N.treeForkCount=y)}function $N(a,o,d){var u=o.pendingProps,g=u.revealOrder,y=u.tail;u=u.children;var N=gs.current,O=(N&2)!==0;if(O?(N=N&1|2,o.flags|=128):N&=1,_e(gs,N),Js(a,o,u,d),u=pt?Qu:0,!O&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&FN(a,d,o);else if(a.tag===19)FN(a,d,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(g){case"forwards":for(d=o.child,g=null;d!==null;)a=d.alternate,a!==null&&Xm(a)===null&&(g=d),d=d.sibling;d=g,d===null?(g=o.child,o.child=null):(g=d.sibling,d.sibling=null),W0(o,!1,g,d,y,u);break;case"backwards":case"unstable_legacy-backwards":for(d=null,g=o.child,o.child=null;g!==null;){if(a=g.alternate,a!==null&&Xm(a)===null){o.child=g;break}a=g.sibling,g.sibling=d,d=g,g=a}W0(o,!0,d,null,y,u);break;case"together":W0(o,!1,null,null,void 0,u);break;default:o.memoizedState=null}return o.child}function si(a,o,d){if(a!==null&&(o.dependencies=a.dependencies),ao|=o.lanes,(d&o.childLanes)===0)if(a!==null){if(qc(a,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,d=Qa(a,a.pendingProps),o.child=d,d.return=o;a.sibling!==null;)a=a.sibling,d=d.sibling=Qa(a,a.pendingProps),d.return=o;d.sibling=null}return o.child}function Y0(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&qm(a)))}function KR(a,o,d){switch(o.tag){case 3:rt(o,o.stateNode.containerInfo),Ji(o,Ss,a.memoizedState.cache),gl();break;case 27:case 5:Ue(o);break;case 4:rt(o,o.stateNode.containerInfo);break;case 10:Ji(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,v0(o),null;break;case 13:var u=o.memoizedState;if(u!==null)return u.dehydrated!==null?(to(o),o.flags|=128,null):(d&o.child.childLanes)!==0?BN(a,o,d):(to(o),a=si(a,o,d),a!==null?a.sibling:null);to(o);break;case 19:var g=(a.flags&128)!==0;if(u=(d&o.childLanes)!==0,u||(qc(a,o,d,!1),u=(d&o.childLanes)!==0),g){if(u)return $N(a,o,d);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),_e(gs,gs.current),u)break;return null;case 22:return o.lanes=0,ON(a,o,d,o.pendingProps);case 24:Ji(o,Ss,a.memoizedState.cache)}return si(a,o,d)}function qN(a,o,d){if(a!==null)if(a.memoizedProps!==o.pendingProps)ks=!0;else{if(!Y0(a,d)&&(o.flags&128)===0)return ks=!1,KR(a,o,d);ks=(a.flags&131072)!==0}else ks=!1,pt&&(o.flags&1048576)!==0&&j1(o,Qu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var u=o.pendingProps;if(a=vl(o.elementType),o.type=a,typeof a=="function")e0(a)?(u=_l(a,u),o.tag=1,o=zN(null,o,a,u,d)):(o.tag=0,o=F0(null,o,a,u,d));else{if(a!=null){var g=a.$$typeof;if(g===B){o.tag=11,o=RN(null,o,a,u,d);break e}else if(g===_){o.tag=14,o=PN(null,o,a,u,d);break e}}throw o=U(a)||a,Error(r(306,o,""))}}return o;case 0:return F0(a,o,o.type,o.pendingProps,d);case 1:return u=o.type,g=_l(u,o.pendingProps),zN(a,o,u,g,d);case 3:e:{if(rt(o,o.stateNode.containerInfo),a===null)throw Error(r(387));u=o.pendingProps;var y=o.memoizedState;g=y.element,p0(a,o),rh(o,u,null,d);var N=o.memoizedState;if(u=N.cache,Ji(o,Ss,u),u!==y.cache&&c0(o,[Ss],d,!0),nh(),u=N.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=UN(a,o,u,d);break e}else if(u!==g){g=wr(Error(r(424)),o),Ju(g),o=UN(a,o,u,d);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for($t=Tr(a.firstChild),Ys=o,pt=!0,Yi=null,_r=!0,d=O1(o,null,u,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(gl(),u===g){o=si(a,o,d);break e}Js(a,o,u,d)}o=o.child}return o;case 26:return cp(a,o),a===null?(d=t2(o.type,null,o.pendingProps,null))?o.memoizedState=d:pt||(d=o.type,a=o.pendingProps,u=Tp(Te.current).createElement(d),u[js]=o,u[Us]=a,Xs(u,d,a),Ns(u),o.stateNode=u):o.memoizedState=t2(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ue(o),a===null&&pt&&(u=o.stateNode=X_(o.type,o.pendingProps,Te.current),Ys=o,_r=!0,g=$t,uo(o.type)?(Ey=g,$t=Tr(u.firstChild)):$t=g),Js(a,o,o.pendingProps.children,d),cp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&pt&&((g=u=$t)&&(u=N6(u,o.type,o.pendingProps,_r),u!==null?(o.stateNode=u,Ys=o,$t=Tr(u.firstChild),_r=!1,g=!0):g=!1),g||Qi(o)),Ue(o),g=o.type,y=o.pendingProps,N=a!==null?a.memoizedProps:null,u=y.children,Ny(g,y)?u=null:N!==null&&Ny(g,N)&&(o.flags|=32),o.memoizedState!==null&&(g=j0(a,o,VR,null,null,d),_h._currentValue=g),cp(a,o),Js(a,o,u,d),o.child;case 6:return a===null&&pt&&((a=d=$t)&&(d=_6(d,o.pendingProps,_r),d!==null?(o.stateNode=d,Ys=o,$t=null,a=!0):a=!1),a||Qi(o)),null;case 13:return BN(a,o,d);case 4:return rt(o,o.stateNode.containerInfo),u=o.pendingProps,a===null?o.child=jl(o,null,u,d):Js(a,o,u,d),o.child;case 11:return RN(a,o,o.type,o.pendingProps,d);case 7:return Js(a,o,o.pendingProps,d),o.child;case 8:return Js(a,o,o.pendingProps.children,d),o.child;case 12:return Js(a,o,o.pendingProps.children,d),o.child;case 10:return u=o.pendingProps,Ji(o,o.type,u.value),Js(a,o,u.children,d),o.child;case 9:return g=o.type._context,u=o.pendingProps.children,yl(o),g=Qs(g),u=u(g),o.flags|=1,Js(a,o,u,d),o.child;case 14:return PN(a,o,o.type,o.pendingProps,d);case 15:return DN(a,o,o.type,o.pendingProps,d);case 19:return $N(a,o,d);case 31:return GR(a,o,d);case 22:return ON(a,o,d,o.pendingProps);case 24:return yl(o),u=Qs(Ss),a===null?(g=h0(),g===null&&(g=Lt,y=d0(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=d),g=y),o.memoizedState={parent:u,cache:g},m0(o),Ji(o,Ss,g)):((a.lanes&d)!==0&&(p0(a,o),rh(o,null,null,d),nh()),g=a.memoizedState,y=o.memoizedState,g.parent!==u?(g={parent:u,cache:u},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),Ji(o,Ss,u)):(u=y.cache,Ji(o,Ss,u),u!==g.cache&&c0(o,[Ss],d,!0))),Js(a,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ni(a){a.flags|=4}function Q0(a,o,d,u,g){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(g&335544128)===g)if(a.stateNode.complete)a.flags|=8192;else if(x_())a.flags|=8192;else throw wl=Wm,f0}else a.flags&=-16777217}function HN(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!i2(o))if(x_())a.flags|=8192;else throw wl=Wm,f0}function up(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Kt():536870912,a.lanes|=o,sd|=o)}function dh(a,o){if(!pt)switch(a.tailMode){case"hidden":o=a.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var u=null;d!==null;)d.alternate!==null&&(u=d),d=d.sibling;u===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:u.sibling=null}}function qt(a){var o=a.alternate!==null&&a.alternate.child===a.child,d=0,u=0;if(o)for(var g=a.child;g!==null;)d|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)d|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=u,a.childLanes=d,o}function WR(a,o,d){var u=o.pendingProps;switch(r0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(o),null;case 1:return qt(o),null;case 3:return d=o.stateNode,u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Za(Ss),je(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&($c(o)?ni(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,i0())),qt(o),null;case 26:var g=o.type,y=o.memoizedState;return a===null?(ni(o),y!==null?(qt(o),HN(o,y)):(qt(o),Q0(o,g,null,u,d))):y?y!==a.memoizedState?(ni(o),qt(o),HN(o,y)):(qt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==u&&ni(o),qt(o),Q0(o,g,a,u,d)),null;case 27:if(_t(o),d=Te.current,g=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==u&&ni(o);else{if(!u){if(o.stateNode===null)throw Error(r(166));return qt(o),null}a=K.current,$c(o)?_1(o):(a=X_(g,u,d),o.stateNode=a,ni(o))}return qt(o),null;case 5:if(_t(o),g=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==u&&ni(o);else{if(!u){if(o.stateNode===null)throw Error(r(166));return qt(o),null}if(y=K.current,$c(o))_1(o);else{var N=Tp(Te.current);switch(y){case 1:y=N.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=N.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=N.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=N.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=N.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?N.createElement("select",{is:u.is}):N.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?N.createElement(g,{is:u.is}):N.createElement(g)}}y[js]=o,y[Us]=u;e:for(N=o.child;N!==null;){if(N.tag===5||N.tag===6)y.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===o)break e;for(;N.sibling===null;){if(N.return===null||N.return===o)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}o.stateNode=y;e:switch(Xs(y,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ni(o)}}return qt(o),Q0(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,d),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==u&&ni(o);else{if(typeof u!="string"&&o.stateNode===null)throw Error(r(166));if(a=Te.current,$c(o)){if(a=o.stateNode,d=o.memoizedProps,u=null,g=Ys,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}a[js]=o,a=!!(a.nodeValue===d||u!==null&&u.suppressHydrationWarning===!0||B_(a.nodeValue,d)),a||Qi(o,!0)}else a=Tp(a).createTextNode(u),a[js]=o,o.stateNode=a}return qt(o),null;case 31:if(d=o.memoizedState,a===null||a.memoizedState!==null){if(u=$c(o),d!==null){if(a===null){if(!u)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[js]=o}else gl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),a=!1}else d=i0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return o.flags&256?(nr(o),o):(nr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return qt(o),null;case 13:if(u=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=$c(o),u!==null&&u.dehydrated!==null){if(a===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[js]=o}else gl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),g=!1}else g=i0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(nr(o),o):(nr(o),null)}return nr(o),(o.flags&128)!==0?(o.lanes=d,o):(d=u!==null,a=a!==null&&a.memoizedState!==null,d&&(u=o.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)),d!==a&&d&&(o.child.flags|=8192),up(o,o.updateQueue),qt(o),null);case 4:return je(),a===null&&yy(o.stateNode.containerInfo),qt(o),null;case 10:return Za(o.type),qt(o),null;case 19:if(ce(gs),u=o.memoizedState,u===null)return qt(o),null;if(g=(o.flags&128)!==0,y=u.rendering,y===null)if(g)dh(u,!1);else{if(os!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(y=Xm(a),y!==null){for(o.flags|=128,dh(u,!1),a=y.updateQueue,o.updateQueue=a,up(o,a),o.subtreeFlags=0,a=d,d=o.child;d!==null;)b1(d,a),d=d.sibling;return _e(gs,gs.current&1|2),pt&&Ja(o,u.treeForkCount),o.child}a=a.sibling}u.tail!==null&&fe()>gp&&(o.flags|=128,g=!0,dh(u,!1),o.lanes=4194304)}else{if(!g)if(a=Xm(y),a!==null){if(o.flags|=128,g=!0,a=a.updateQueue,o.updateQueue=a,up(o,a),dh(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!pt)return qt(o),null}else 2*fe()-u.renderingStartTime>gp&&d!==536870912&&(o.flags|=128,g=!0,dh(u,!1),o.lanes=4194304);u.isBackwards?(y.sibling=o.child,o.child=y):(a=u.last,a!==null?a.sibling=y:o.child=y,u.last=y)}return u.tail!==null?(a=u.tail,u.rendering=a,u.tail=a.sibling,u.renderingStartTime=fe(),a.sibling=null,d=gs.current,_e(gs,g?d&1|2:d&1),pt&&Ja(o,u.treeForkCount),a):(qt(o),null);case 22:case 23:return nr(o),b0(),u=o.memoizedState!==null,a!==null?a.memoizedState!==null!==u&&(o.flags|=8192):u&&(o.flags|=8192),u?(d&536870912)!==0&&(o.flags&128)===0&&(qt(o),o.subtreeFlags&6&&(o.flags|=8192)):qt(o),d=o.updateQueue,d!==null&&up(o,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==d&&(o.flags|=2048),a!==null&&ce(bl),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Za(Ss),qt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function YR(a,o){switch(r0(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Za(Ss),je(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return _t(o),null;case 31:if(o.memoizedState!==null){if(nr(o),o.alternate===null)throw Error(r(340));gl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(nr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));gl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ce(gs),null;case 4:return je(),null;case 10:return Za(o.type),null;case 22:case 23:return nr(o),b0(),a!==null&&ce(bl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Za(Ss),null;case 25:return null;default:return null}}function GN(a,o){switch(r0(o),o.tag){case 3:Za(Ss),je();break;case 26:case 27:case 5:_t(o);break;case 4:je();break;case 31:o.memoizedState!==null&&nr(o);break;case 13:nr(o);break;case 19:ce(gs);break;case 10:Za(o.type);break;case 22:case 23:nr(o),b0(),a!==null&&ce(bl);break;case 24:Za(Ss)}}function uh(a,o){try{var d=o.updateQueue,u=d!==null?d.lastEffect:null;if(u!==null){var g=u.next;d=g;do{if((d.tag&a)===a){u=void 0;var y=d.create,N=d.inst;u=y(),N.destroy=u}d=d.next}while(d!==g)}}catch(O){kt(o,o.return,O)}}function no(a,o,d){try{var u=o.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&a)===a){var N=u.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,g=o;var G=d,se=O;try{se()}catch(he){kt(g,G,he)}}}u=u.next}while(u!==y)}}catch(he){kt(o,o.return,he)}}function KN(a){var o=a.updateQueue;if(o!==null){var d=a.stateNode;try{L1(o,d)}catch(u){kt(a,a.return,u)}}}function WN(a,o,d){d.props=_l(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(u){kt(a,o,u)}}function hh(a,o){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var u=a.stateNode;break;case 30:u=a.stateNode;break;default:u=a.stateNode}typeof d=="function"?a.refCleanup=d(u):d.current=u}}catch(g){kt(a,o,g)}}function ka(a,o){var d=a.ref,u=a.refCleanup;if(d!==null)if(typeof u=="function")try{u()}catch(g){kt(a,o,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(g){kt(a,o,g)}else d.current=null}function YN(a){var o=a.type,d=a.memoizedProps,u=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&u.focus();break e;case"img":d.src?u.src=d.src:d.srcSet&&(u.srcset=d.srcSet)}}catch(g){kt(a,a.return,g)}}function J0(a,o,d){try{var u=a.stateNode;x6(u,a.type,d,o),u[Us]=o}catch(g){kt(a,a.return,g)}}function QN(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&uo(a.type)||a.tag===4}function X0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||QN(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&uo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Z0(a,o,d){var u=a.tag;if(u===5||u===6)a=a.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(a),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Gr));else if(u!==4&&(u===27&&uo(a.type)&&(d=a.stateNode,o=null),a=a.child,a!==null))for(Z0(a,o,d),a=a.sibling;a!==null;)Z0(a,o,d),a=a.sibling}function hp(a,o,d){var u=a.tag;if(u===5||u===6)a=a.stateNode,o?d.insertBefore(a,o):d.appendChild(a);else if(u!==4&&(u===27&&uo(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(hp(a,o,d),a=a.sibling;a!==null;)hp(a,o,d),a=a.sibling}function JN(a){var o=a.stateNode,d=a.memoizedProps;try{for(var u=a.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);Xs(o,u,d),o[js]=a,o[Us]=d}catch(y){kt(a,a.return,y)}}var ri=!1,Es=!1,ey=!1,XN=typeof WeakSet=="function"?WeakSet:Set,Fs=null;function QR(a,o){if(a=a.containerInfo,wy=Pp,a=d1(a),Kx(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var u=d.getSelection&&d.getSelection();if(u&&u.rangeCount!==0){d=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{d.nodeType,y.nodeType}catch{d=null;break e}var N=0,O=-1,G=-1,se=0,he=0,xe=a,ae=null;t:for(;;){for(var le;xe!==d||g!==0&&xe.nodeType!==3||(O=N+g),xe!==y||u!==0&&xe.nodeType!==3||(G=N+u),xe.nodeType===3&&(N+=xe.nodeValue.length),(le=xe.firstChild)!==null;)ae=xe,xe=le;for(;;){if(xe===a)break t;if(ae===d&&++se===g&&(O=N),ae===y&&++he===u&&(G=N),(le=xe.nextSibling)!==null)break;xe=ae,ae=xe.parentNode}xe=le}d=O===-1||G===-1?null:{start:O,end:G}}else d=null}d=d||{start:0,end:0}}else d=null;for(jy={focusedElem:a,selectionRange:d},Pp=!1,Fs=o;Fs!==null;)if(o=Fs,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Fs=a;else for(;Fs!==null;){switch(o=Fs,y=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)g=a[d],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,d=o,g=y.memoizedProps,y=y.memoizedState,u=d.stateNode;try{var Pe=_l(d.type,g);a=u.getSnapshotBeforeUpdate(Pe,y),u.__reactInternalSnapshotBeforeUpdate=a}catch(Ge){kt(d,d.return,Ge)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,d=a.nodeType,d===9)Sy(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Sy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Fs=a;break}Fs=o.return}}function ZN(a,o,d){var u=d.flags;switch(d.tag){case 0:case 11:case 15:ii(a,d),u&4&&uh(5,d);break;case 1:if(ii(a,d),u&4)if(a=d.stateNode,o===null)try{a.componentDidMount()}catch(N){kt(d,d.return,N)}else{var g=_l(d.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(g,o,a.__reactInternalSnapshotBeforeUpdate)}catch(N){kt(d,d.return,N)}}u&64&&KN(d),u&512&&hh(d,d.return);break;case 3:if(ii(a,d),u&64&&(a=d.updateQueue,a!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{L1(a,o)}catch(N){kt(d,d.return,N)}}break;case 27:o===null&&u&4&&JN(d);case 26:case 5:ii(a,d),o===null&&u&4&&YN(d),u&512&&hh(d,d.return);break;case 12:ii(a,d);break;case 31:ii(a,d),u&4&&s_(a,d);break;case 13:ii(a,d),u&4&&n_(a,d),u&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=a6.bind(null,d),S6(a,d))));break;case 22:if(u=d.memoizedState!==null||ri,!u){o=o!==null&&o.memoizedState!==null||Es,g=ri;var y=Es;ri=u,(Es=o)&&!y?oi(a,d,(d.subtreeFlags&8772)!==0):ii(a,d),ri=g,Es=y}break;case 30:break;default:ii(a,d)}}function e_(a){var o=a.alternate;o!==null&&(a.alternate=null,e_(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Tc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Yt=null,Rn=!1;function ai(a,o,d){for(d=d.child;d!==null;)t_(a,o,d),d=d.sibling}function t_(a,o,d){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(Yn,d)}catch{}switch(d.tag){case 26:Es||ka(d,o),ai(a,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Es||ka(d,o);var u=Yt,g=Rn;uo(d.type)&&(Yt=d.stateNode,Rn=!1),ai(a,o,d),wh(d.stateNode),Yt=u,Rn=g;break;case 5:Es||ka(d,o);case 6:if(u=Yt,g=Rn,Yt=null,ai(a,o,d),Yt=u,Rn=g,Yt!==null)if(Rn)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(d.stateNode)}catch(y){kt(d,o,y)}else try{Yt.removeChild(d.stateNode)}catch(y){kt(d,o,y)}break;case 18:Yt!==null&&(Rn?(a=Yt,K_(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),dd(a)):K_(Yt,d.stateNode));break;case 4:u=Yt,g=Rn,Yt=d.stateNode.containerInfo,Rn=!0,ai(a,o,d),Yt=u,Rn=g;break;case 0:case 11:case 14:case 15:no(2,d,o),Es||no(4,d,o),ai(a,o,d);break;case 1:Es||(ka(d,o),u=d.stateNode,typeof u.componentWillUnmount=="function"&&WN(d,o,u)),ai(a,o,d);break;case 21:ai(a,o,d);break;case 22:Es=(u=Es)||d.memoizedState!==null,ai(a,o,d),Es=u;break;default:ai(a,o,d)}}function s_(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{dd(a)}catch(d){kt(o,o.return,d)}}}function n_(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{dd(a)}catch(d){kt(o,o.return,d)}}function JR(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new XN),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new XN),o;default:throw Error(r(435,a.tag))}}function fp(a,o){var d=JR(a);o.forEach(function(u){if(!d.has(u)){d.add(u);var g=i6.bind(null,a,u);u.then(g,g)}})}function Pn(a,o){var d=o.deletions;if(d!==null)for(var u=0;u<d.length;u++){var g=d[u],y=a,N=o,O=N;e:for(;O!==null;){switch(O.tag){case 27:if(uo(O.type)){Yt=O.stateNode,Rn=!1;break e}break;case 5:Yt=O.stateNode,Rn=!1;break e;case 3:case 4:Yt=O.stateNode.containerInfo,Rn=!0;break e}O=O.return}if(Yt===null)throw Error(r(160));t_(y,N,g),Yt=null,Rn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)r_(o,a),o=o.sibling}var Xr=null;function r_(a,o){var d=a.alternate,u=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Pn(o,a),Dn(a),u&4&&(no(3,a,a.return),uh(3,a),no(5,a,a.return));break;case 1:Pn(o,a),Dn(a),u&512&&(Es||d===null||ka(d,d.return)),u&64&&ri&&(a=a.updateQueue,a!==null&&(u=a.callbacks,u!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?u:d.concat(u))));break;case 26:var g=Xr;if(Pn(o,a),Dn(a),u&512&&(Es||d===null||ka(d,d.return)),u&4){var y=d!==null?d.memoizedState:null;if(u=a.memoizedState,d===null)if(u===null)if(a.stateNode===null){e:{u=a.type,d=a.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[fa]||y[js]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),Xs(y,u,d),y[js]=a,Ns(y),u=y;break e;case"link":var N=r2("link","href",g).get(u+(d.href||""));if(N){for(var O=0;O<N.length;O++)if(y=N[O],y.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&y.getAttribute("rel")===(d.rel==null?null:d.rel)&&y.getAttribute("title")===(d.title==null?null:d.title)&&y.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){N.splice(O,1);break t}}y=g.createElement(u),Xs(y,u,d),g.head.appendChild(y);break;case"meta":if(N=r2("meta","content",g).get(u+(d.content||""))){for(O=0;O<N.length;O++)if(y=N[O],y.getAttribute("content")===(d.content==null?null:""+d.content)&&y.getAttribute("name")===(d.name==null?null:d.name)&&y.getAttribute("property")===(d.property==null?null:d.property)&&y.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&y.getAttribute("charset")===(d.charSet==null?null:d.charSet)){N.splice(O,1);break t}}y=g.createElement(u),Xs(y,u,d),g.head.appendChild(y);break;default:throw Error(r(468,u))}y[js]=a,Ns(y),u=y}a.stateNode=u}else a2(g,a.type,a.stateNode);else a.stateNode=n2(g,u,a.memoizedProps);else y!==u?(y===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):y.count--,u===null?a2(g,a.type,a.stateNode):n2(g,u,a.memoizedProps)):u===null&&a.stateNode!==null&&J0(a,a.memoizedProps,d.memoizedProps)}break;case 27:Pn(o,a),Dn(a),u&512&&(Es||d===null||ka(d,d.return)),d!==null&&u&4&&J0(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Pn(o,a),Dn(a),u&512&&(Es||d===null||ka(d,d.return)),a.flags&32){g=a.stateNode;try{In(g,"")}catch(Pe){kt(a,a.return,Pe)}}u&4&&a.stateNode!=null&&(g=a.memoizedProps,J0(a,g,d!==null?d.memoizedProps:g)),u&1024&&(ey=!0);break;case 6:if(Pn(o,a),Dn(a),u&4){if(a.stateNode===null)throw Error(r(162));u=a.memoizedProps,d=a.stateNode;try{d.nodeValue=u}catch(Pe){kt(a,a.return,Pe)}}break;case 3:if(Cp=null,g=Xr,Xr=kp(o.containerInfo),Pn(o,a),Xr=g,Dn(a),u&4&&d!==null&&d.memoizedState.isDehydrated)try{dd(o.containerInfo)}catch(Pe){kt(a,a.return,Pe)}ey&&(ey=!1,a_(a));break;case 4:u=Xr,Xr=kp(a.stateNode.containerInfo),Pn(o,a),Dn(a),Xr=u;break;case 12:Pn(o,a),Dn(a);break;case 31:Pn(o,a),Dn(a),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,fp(a,u)));break;case 13:Pn(o,a),Dn(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(pp=fe()),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,fp(a,u)));break;case 22:g=a.memoizedState!==null;var G=d!==null&&d.memoizedState!==null,se=ri,he=Es;if(ri=se||g,Es=he||G,Pn(o,a),Es=he,ri=se,Dn(a),u&8192)e:for(o=a.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(d===null||G||ri||Es||Sl(a)),d=null,o=a;;){if(o.tag===5||o.tag===26){if(d===null){G=d=o;try{if(y=G.stateNode,g)N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{O=G.stateNode;var xe=G.memoizedProps.style,ae=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;O.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Pe){kt(G,G.return,Pe)}}}else if(o.tag===6){if(d===null){G=o;try{G.stateNode.nodeValue=g?"":G.memoizedProps}catch(Pe){kt(G,G.return,Pe)}}}else if(o.tag===18){if(d===null){G=o;try{var le=G.stateNode;g?W_(le,!0):W_(G.stateNode,!1)}catch(Pe){kt(G,G.return,Pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}u&4&&(u=a.updateQueue,u!==null&&(d=u.retryQueue,d!==null&&(u.retryQueue=null,fp(a,d))));break;case 19:Pn(o,a),Dn(a),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,fp(a,u)));break;case 30:break;case 21:break;default:Pn(o,a),Dn(a)}}function Dn(a){var o=a.flags;if(o&2){try{for(var d,u=a.return;u!==null;){if(QN(u)){d=u;break}u=u.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var g=d.stateNode,y=X0(a);hp(a,y,g);break;case 5:var N=d.stateNode;d.flags&32&&(In(N,""),d.flags&=-33);var O=X0(a);hp(a,O,N);break;case 3:case 4:var G=d.stateNode.containerInfo,se=X0(a);Z0(a,se,G);break;default:throw Error(r(161))}}catch(he){kt(a,a.return,he)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function a_(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;a_(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ii(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)ZN(a,o.alternate,o),o=o.sibling}function Sl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:no(4,o,o.return),Sl(o);break;case 1:ka(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&WN(o,o.return,d),Sl(o);break;case 27:wh(o.stateNode);case 26:case 5:ka(o,o.return),Sl(o);break;case 22:o.memoizedState===null&&Sl(o);break;case 30:Sl(o);break;default:Sl(o)}a=a.sibling}}function oi(a,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var u=o.alternate,g=a,y=o,N=y.flags;switch(y.tag){case 0:case 11:case 15:oi(g,y,d),uh(4,y);break;case 1:if(oi(g,y,d),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(se){kt(u,u.return,se)}if(u=y,g=u.updateQueue,g!==null){var O=u.stateNode;try{var G=g.shared.hiddenCallbacks;if(G!==null)for(g.shared.hiddenCallbacks=null,g=0;g<G.length;g++)M1(G[g],O)}catch(se){kt(u,u.return,se)}}d&&N&64&&KN(y),hh(y,y.return);break;case 27:JN(y);case 26:case 5:oi(g,y,d),d&&u===null&&N&4&&YN(y),hh(y,y.return);break;case 12:oi(g,y,d);break;case 31:oi(g,y,d),d&&N&4&&s_(g,y);break;case 13:oi(g,y,d),d&&N&4&&n_(g,y);break;case 22:y.memoizedState===null&&oi(g,y,d),hh(y,y.return);break;case 30:break;default:oi(g,y,d)}o=o.sibling}}function ty(a,o){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Xu(d))}function sy(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Xu(a))}function Zr(a,o,d,u){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)i_(a,o,d,u),o=o.sibling}function i_(a,o,d,u){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Zr(a,o,d,u),g&2048&&uh(9,o);break;case 1:Zr(a,o,d,u);break;case 3:Zr(a,o,d,u),g&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Xu(a)));break;case 12:if(g&2048){Zr(a,o,d,u),a=o.stateNode;try{var y=o.memoizedProps,N=y.id,O=y.onPostCommit;typeof O=="function"&&O(N,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){kt(o,o.return,G)}}else Zr(a,o,d,u);break;case 31:Zr(a,o,d,u);break;case 13:Zr(a,o,d,u);break;case 23:break;case 22:y=o.stateNode,N=o.alternate,o.memoizedState!==null?y._visibility&2?Zr(a,o,d,u):fh(a,o):y._visibility&2?Zr(a,o,d,u):(y._visibility|=2,Zc(a,o,d,u,(o.subtreeFlags&10256)!==0||!1)),g&2048&&ty(N,o);break;case 24:Zr(a,o,d,u),g&2048&&sy(o.alternate,o);break;default:Zr(a,o,d,u)}}function Zc(a,o,d,u,g){for(g=g&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var y=a,N=o,O=d,G=u,se=N.flags;switch(N.tag){case 0:case 11:case 15:Zc(y,N,O,G,g),uh(8,N);break;case 23:break;case 22:var he=N.stateNode;N.memoizedState!==null?he._visibility&2?Zc(y,N,O,G,g):fh(y,N):(he._visibility|=2,Zc(y,N,O,G,g)),g&&se&2048&&ty(N.alternate,N);break;case 24:Zc(y,N,O,G,g),g&&se&2048&&sy(N.alternate,N);break;default:Zc(y,N,O,G,g)}o=o.sibling}}function fh(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=a,u=o,g=u.flags;switch(u.tag){case 22:fh(d,u),g&2048&&ty(u.alternate,u);break;case 24:fh(d,u),g&2048&&sy(u.alternate,u);break;default:fh(d,u)}o=o.sibling}}var mh=8192;function ed(a,o,d){if(a.subtreeFlags&mh)for(a=a.child;a!==null;)o_(a,o,d),a=a.sibling}function o_(a,o,d){switch(a.tag){case 26:ed(a,o,d),a.flags&mh&&a.memoizedState!==null&&L6(d,Xr,a.memoizedState,a.memoizedProps);break;case 5:ed(a,o,d);break;case 3:case 4:var u=Xr;Xr=kp(a.stateNode.containerInfo),ed(a,o,d),Xr=u;break;case 22:a.memoizedState===null&&(u=a.alternate,u!==null&&u.memoizedState!==null?(u=mh,mh=16777216,ed(a,o,d),mh=u):ed(a,o,d));break;default:ed(a,o,d)}}function l_(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function ph(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var u=o[d];Fs=u,d_(u,a)}l_(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)c_(a),a=a.sibling}function c_(a){switch(a.tag){case 0:case 11:case 15:ph(a),a.flags&2048&&no(9,a,a.return);break;case 3:ph(a);break;case 12:ph(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,mp(a)):ph(a);break;default:ph(a)}}function mp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var u=o[d];Fs=u,d_(u,a)}l_(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:no(8,o,o.return),mp(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,mp(o));break;default:mp(o)}a=a.sibling}}function d_(a,o){for(;Fs!==null;){var d=Fs;switch(d.tag){case 0:case 11:case 15:no(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var u=d.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Xu(d.memoizedState.cache)}if(u=d.child,u!==null)u.return=d,Fs=u;else e:for(d=a;Fs!==null;){u=Fs;var g=u.sibling,y=u.return;if(e_(u),u===d){Fs=null;break e}if(g!==null){g.return=y,Fs=g;break e}Fs=y}}}var XR={getCacheForType:function(a){var o=Qs(Ss),d=o.data.get(a);return d===void 0&&(d=a(),o.data.set(a,d)),d},cacheSignal:function(){return Qs(Ss).controller.signal}},ZR=typeof WeakMap=="function"?WeakMap:Map,jt=0,Lt=null,ot=null,ht=0,Tt=0,rr=null,ro=!1,td=!1,ny=!1,li=0,os=0,ao=0,Tl=0,ry=0,ar=0,sd=0,gh=null,On=null,ay=!1,pp=0,u_=0,gp=1/0,xp=null,io=null,Os=0,oo=null,nd=null,ci=0,iy=0,oy=null,h_=null,xh=0,ly=null;function ir(){return(jt&2)!==0&&ht!==0?ht&-ht:W.T!==null?my():ym()}function f_(){if(ar===0)if((ht&536870912)===0||pt){var a=ua;ua<<=1,(ua&3932160)===0&&(ua=262144),ar=a}else ar=536870912;return a=sr.current,a!==null&&(a.flags|=32),ar}function Mn(a,o,d){(a===Lt&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)&&(rd(a,0),lo(a,ht,ar,!1)),Ks(a,d),((jt&2)===0||a!==Lt)&&(a===Lt&&((jt&2)===0&&(Tl|=d),os===4&&lo(a,ht,ar,!1)),Ea(a))}function m_(a,o,d){if((jt&6)!==0)throw Error(r(327));var u=!d&&(o&127)===0&&(o&a.expiredLanes)===0||Me(a,o),g=u?s6(a,o):dy(a,o,!0),y=u;do{if(g===0){td&&!u&&lo(a,o,0,!1);break}else{if(d=a.current.alternate,y&&!e6(d)){g=dy(a,o,!1),y=!1;continue}if(g===2){if(y=o,a.errorRecoveryDisabledLanes&y)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var O=a;g=gh;var G=O.current.memoizedState.isDehydrated;if(G&&(rd(O,N).flags|=256),N=dy(O,N,!1),N!==2){if(ny&&!G){O.errorRecoveryDisabledLanes|=y,Tl|=y,g=4;break e}y=On,On=g,y!==null&&(On===null?On=y:On.push.apply(On,y))}g=N}if(y=!1,g!==2)continue}}if(g===1){rd(a,0),lo(a,o,0,!0);break}e:{switch(u=a,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:lo(u,o,ar,!ro);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(g=pp+300-fe(),10<g)){if(lo(u,o,ar,!ro),J(u,0,!0)!==0)break e;ci=o,u.timeoutHandle=H_(p_.bind(null,u,d,On,xp,ay,o,ar,Tl,sd,ro,y,"Throttled",-0,0),g);break e}p_(u,d,On,xp,ay,o,ar,Tl,sd,ro,y,null,-0,0)}}break}while(!0);Ea(a)}function p_(a,o,d,u,g,y,N,O,G,se,he,xe,ae,le){if(a.timeoutHandle=-1,xe=o.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gr},o_(o,y,xe);var Pe=(y&62914560)===y?pp-fe():(y&4194048)===y?u_-fe():0;if(Pe=V6(xe,Pe),Pe!==null){ci=y,a.cancelPendingCommit=Pe(N_.bind(null,a,o,y,d,u,g,N,O,G,he,xe,null,ae,le)),lo(a,y,N,!se);return}}N_(a,o,y,d,u,g,N,O,G)}function e6(a){for(var o=a;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var u=0;u<d.length;u++){var g=d[u],y=g.getSnapshot;g=g.value;try{if(!er(y(),g))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function lo(a,o,d,u){o&=~ry,o&=~Tl,a.suspendedLanes|=o,a.pingedLanes&=~o,u&&(a.warmLanes|=o),u=a.expirationTimes;for(var g=o;0<g;){var y=31-It(g),N=1<<y;u[y]=-1,g&=~N}d!==0&&hn(a,d,o)}function yp(){return(jt&6)===0?(yh(0),!1):!0}function cy(){if(ot!==null){if(Tt===0)var a=ot.return;else a=ot,Xa=xl=null,S0(a),Wc=null,eh=0,a=ot;for(;a!==null;)GN(a.alternate,a),a=a.return;ot=null}}function rd(a,o){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,v6(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),ci=0,cy(),Lt=a,ot=d=Qa(a.current,null),ht=o,Tt=0,rr=null,ro=!1,td=Me(a,o),ny=!1,sd=ar=ry=Tl=ao=os=0,On=gh=null,ay=!1,(o&8)!==0&&(o|=o&32);var u=a.entangledLanes;if(u!==0)for(a=a.entanglements,u&=o;0<u;){var g=31-It(u),y=1<<g;o|=a[g],u&=~y}return li=o,zm(),d}function g_(a,o){Ze=null,W.H=lh,o===Kc||o===Km?(o=R1(),Tt=3):o===f0?(o=R1(),Tt=4):Tt=o===B0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,rr=o,ot===null&&(os=1,op(a,wr(o,a.current)))}function x_(){var a=sr.current;return a===null?!0:(ht&4194048)===ht?Sr===null:(ht&62914560)===ht||(ht&536870912)!==0?a===Sr:!1}function y_(){var a=W.H;return W.H=lh,a===null?lh:a}function b_(){var a=W.A;return W.A=XR,a}function bp(){os=4,ro||(ht&4194048)!==ht&&sr.current!==null||(td=!0),(ao&134217727)===0&&(Tl&134217727)===0||Lt===null||lo(Lt,ht,ar,!1)}function dy(a,o,d){var u=jt;jt|=2;var g=y_(),y=b_();(Lt!==a||ht!==o)&&(xp=null,rd(a,o)),o=!1;var N=os;e:do try{if(Tt!==0&&ot!==null){var O=ot,G=rr;switch(Tt){case 8:cy(),N=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(o=!0);var se=Tt;if(Tt=0,rr=null,ad(a,O,G,se),d&&td){N=0;break e}break;default:se=Tt,Tt=0,rr=null,ad(a,O,G,se)}}t6(),N=os;break}catch(he){g_(a,he)}while(!0);return o&&a.shellSuspendCounter++,Xa=xl=null,jt=u,W.H=g,W.A=y,ot===null&&(Lt=null,ht=0,zm()),N}function t6(){for(;ot!==null;)v_(ot)}function s6(a,o){var d=jt;jt|=2;var u=y_(),g=b_();Lt!==a||ht!==o?(xp=null,gp=fe()+500,rd(a,o)):td=Me(a,o);e:do try{if(Tt!==0&&ot!==null){o=ot;var y=rr;t:switch(Tt){case 1:Tt=0,rr=null,ad(a,o,y,1);break;case 2:case 9:if(A1(y)){Tt=0,rr=null,w_(o);break}o=function(){Tt!==2&&Tt!==9||Lt!==a||(Tt=7),Ea(a)},y.then(o,o);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:A1(y)?(Tt=0,rr=null,w_(o)):(Tt=0,rr=null,ad(a,o,y,7));break;case 5:var N=null;switch(ot.tag){case 26:N=ot.memoizedState;case 5:case 27:var O=ot;if(N?i2(N):O.stateNode.complete){Tt=0,rr=null;var G=O.sibling;if(G!==null)ot=G;else{var se=O.return;se!==null?(ot=se,vp(se)):ot=null}break t}}Tt=0,rr=null,ad(a,o,y,5);break;case 6:Tt=0,rr=null,ad(a,o,y,6);break;case 8:cy(),os=6;break e;default:throw Error(r(462))}}n6();break}catch(he){g_(a,he)}while(!0);return Xa=xl=null,W.H=u,W.A=g,jt=d,ot!==null?0:(Lt=null,ht=0,zm(),os)}function n6(){for(;ot!==null&&!Wn();)v_(ot)}function v_(a){var o=qN(a.alternate,a,li);a.memoizedProps=a.pendingProps,o===null?vp(a):ot=o}function w_(a){var o=a,d=o.alternate;switch(o.tag){case 15:case 0:o=VN(d,o,o.pendingProps,o.type,void 0,ht);break;case 11:o=VN(d,o,o.pendingProps,o.type.render,o.ref,ht);break;case 5:S0(o);default:GN(d,o),o=ot=b1(o,li),o=qN(d,o,li)}a.memoizedProps=a.pendingProps,o===null?vp(a):ot=o}function ad(a,o,d,u){Xa=xl=null,S0(o),Wc=null,eh=0;var g=o.return;try{if(HR(a,g,o,d,ht)){os=1,op(a,wr(d,a.current)),ot=null;return}}catch(y){if(g!==null)throw ot=g,y;os=1,op(a,wr(d,a.current)),ot=null;return}o.flags&32768?(pt||u===1?a=!0:td||(ht&536870912)!==0?a=!1:(ro=a=!0,(u===2||u===9||u===3||u===6)&&(u=sr.current,u!==null&&u.tag===13&&(u.flags|=16384))),j_(o,a)):vp(o)}function vp(a){var o=a;do{if((o.flags&32768)!==0){j_(o,ro);return}a=o.return;var d=WR(o.alternate,o,li);if(d!==null){ot=d;return}if(o=o.sibling,o!==null){ot=o;return}ot=o=a}while(o!==null);os===0&&(os=5)}function j_(a,o){do{var d=YR(a.alternate,a);if(d!==null){d.flags&=32767,ot=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(a=a.sibling,a!==null)){ot=a;return}ot=a=d}while(a!==null);os=6,ot=null}function N_(a,o,d,u,g,y,N,O,G){a.cancelPendingCommit=null;do wp();while(Os!==0);if((jt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(y=o.lanes|o.childLanes,y|=Xx,Fr(a,d,y,N,O,G),a===Lt&&(ot=Lt=null,ht=0),nd=o,oo=a,ci=d,iy=y,oy=g,h_=u,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,o6(At,function(){return E_(),null})):(a.callbackNode=null,a.callbackPriority=0),u=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,g=ne.p,ne.p=2,N=jt,jt|=4;try{QR(a,o,d)}finally{jt=N,ne.p=g,W.T=u}}Os=1,__(),S_(),T_()}}function __(){if(Os===1){Os=0;var a=oo,o=nd,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=W.T,W.T=null;var u=ne.p;ne.p=2;var g=jt;jt|=4;try{r_(o,a);var y=jy,N=d1(a.containerInfo),O=y.focusedElem,G=y.selectionRange;if(N!==O&&O&&O.ownerDocument&&c1(O.ownerDocument.documentElement,O)){if(G!==null&&Kx(O)){var se=G.start,he=G.end;if(he===void 0&&(he=se),"selectionStart"in O)O.selectionStart=se,O.selectionEnd=Math.min(he,O.value.length);else{var xe=O.ownerDocument||document,ae=xe&&xe.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),Pe=O.textContent.length,Ge=Math.min(G.start,Pe),Ot=G.end===void 0?Ge:Math.min(G.end,Pe);!le.extend&&Ge>Ot&&(N=Ot,Ot=Ge,Ge=N);var X=l1(O,Ge),Y=l1(O,Ot);if(X&&Y&&(le.rangeCount!==1||le.anchorNode!==X.node||le.anchorOffset!==X.offset||le.focusNode!==Y.node||le.focusOffset!==Y.offset)){var te=xe.createRange();te.setStart(X.node,X.offset),le.removeAllRanges(),Ge>Ot?(le.addRange(te),le.extend(Y.node,Y.offset)):(te.setEnd(Y.node,Y.offset),le.addRange(te))}}}}for(xe=[],le=O;le=le.parentNode;)le.nodeType===1&&xe.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<xe.length;O++){var ge=xe[O];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Pp=!!wy,jy=wy=null}finally{jt=g,ne.p=u,W.T=d}}a.current=o,Os=2}}function S_(){if(Os===2){Os=0;var a=oo,o=nd,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=W.T,W.T=null;var u=ne.p;ne.p=2;var g=jt;jt|=4;try{ZN(a,o.alternate,o)}finally{jt=g,ne.p=u,W.T=d}}Os=3}}function T_(){if(Os===4||Os===3){Os=0,Br();var a=oo,o=nd,d=ci,u=h_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Os=5:(Os=0,nd=oo=null,k_(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(io=null),$r(d),o=o.stateNode,Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(Yn,o,void 0,(o.current.flags&128)===128)}catch{}if(u!==null){o=W.T,g=ne.p,ne.p=2,W.T=null;try{for(var y=a.onRecoverableError,N=0;N<u.length;N++){var O=u[N];y(O.value,{componentStack:O.stack})}}finally{W.T=o,ne.p=g}}(ci&3)!==0&&wp(),Ea(a),g=a.pendingLanes,(d&261930)!==0&&(g&42)!==0?a===ly?xh++:(xh=0,ly=a):xh=0,yh(0)}}function k_(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Xu(o)))}function wp(){return __(),S_(),T_(),E_()}function E_(){if(Os!==5)return!1;var a=oo,o=iy;iy=0;var d=$r(ci),u=W.T,g=ne.p;try{ne.p=32>d?32:d,W.T=null,d=oy,oy=null;var y=oo,N=ci;if(Os=0,nd=oo=null,ci=0,(jt&6)!==0)throw Error(r(331));var O=jt;if(jt|=4,c_(y.current),i_(y,y.current,N,d),jt=O,yh(0,!1),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(Yn,y)}catch{}return!0}finally{ne.p=g,W.T=u,k_(a,o)}}function C_(a,o,d){o=wr(d,o),o=U0(a.stateNode,o,2),a=eo(a,o,2),a!==null&&(Ks(a,2),Ea(a))}function kt(a,o,d){if(a.tag===3)C_(a,a,d);else for(;o!==null;){if(o.tag===3){C_(o,a,d);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(io===null||!io.has(u))){a=wr(d,a),d=AN(2),u=eo(o,d,2),u!==null&&(IN(d,u,o,a),Ks(u,2),Ea(u));break}}o=o.return}}function uy(a,o,d){var u=a.pingCache;if(u===null){u=a.pingCache=new ZR;var g=new Set;u.set(o,g)}else g=u.get(o),g===void 0&&(g=new Set,u.set(o,g));g.has(d)||(ny=!0,g.add(d),a=r6.bind(null,a,o,d),o.then(a,a))}function r6(a,o,d){var u=a.pingCache;u!==null&&u.delete(o),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Lt===a&&(ht&d)===d&&(os===4||os===3&&(ht&62914560)===ht&&300>fe()-pp?(jt&2)===0&&rd(a,0):ry|=d,sd===ht&&(sd=0)),Ea(a)}function A_(a,o){o===0&&(o=Kt()),a=ml(a,o),a!==null&&(Ks(a,o),Ea(a))}function a6(a){var o=a.memoizedState,d=0;o!==null&&(d=o.retryLane),A_(a,d)}function i6(a,o){var d=0;switch(a.tag){case 31:case 13:var u=a.stateNode,g=a.memoizedState;g!==null&&(d=g.retryLane);break;case 19:u=a.stateNode;break;case 22:u=a.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(o),A_(a,d)}function o6(a,o){return nt(a,o)}var jp=null,id=null,hy=!1,Np=!1,fy=!1,co=0;function Ea(a){a!==id&&a.next===null&&(id===null?jp=id=a:id=id.next=a),Np=!0,hy||(hy=!0,c6())}function yh(a,o){if(!fy&&Np){fy=!0;do for(var d=!1,u=jp;u!==null;){if(a!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var N=u.suspendedLanes,O=u.pingedLanes;y=(1<<31-It(42|a)+1)-1,y&=g&~(N&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(d=!0,D_(u,y))}else y=ht,y=J(u,u===Lt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Me(u,y)||(d=!0,D_(u,y));u=u.next}while(d);fy=!1}}function l6(){I_()}function I_(){Np=hy=!1;var a=0;co!==0&&b6()&&(a=co);for(var o=fe(),d=null,u=jp;u!==null;){var g=u.next,y=R_(u,o);y===0?(u.next=null,d===null?jp=g:d.next=g,g===null&&(id=d)):(d=u,(a!==0||(y&3)!==0)&&(Np=!0)),u=g}Os!==0&&Os!==5||yh(a),co!==0&&(co=0)}function R_(a,o){for(var d=a.suspendedLanes,u=a.pingedLanes,g=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var N=31-It(y),O=1<<N,G=g[N];G===-1?((O&d)===0||(O&u)!==0)&&(g[N]=it(O,o)):G<=o&&(a.expiredLanes|=O),y&=~O}if(o=Lt,d=ht,d=J(a,a===o?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u=a.callbackNode,d===0||a===o&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)return u!==null&&u!==null&&Mt(u),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Me(a,d)){if(o=d&-d,o===a.callbackPriority)return o;switch(u!==null&&Mt(u),$r(d)){case 2:case 8:d=at;break;case 32:d=At;break;case 268435456:d=dn;break;default:d=At}return u=P_.bind(null,a),d=nt(d,u),a.callbackPriority=o,a.callbackNode=d,o}return u!==null&&u!==null&&Mt(u),a.callbackPriority=2,a.callbackNode=null,2}function P_(a,o){if(Os!==0&&Os!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(wp()&&a.callbackNode!==d)return null;var u=ht;return u=J(a,a===Lt?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u===0?null:(m_(a,u,o),R_(a,fe()),a.callbackNode!=null&&a.callbackNode===d?P_.bind(null,a):null)}function D_(a,o){if(wp())return null;m_(a,o,!0)}function c6(){w6(function(){(jt&6)!==0?nt(Ye,l6):I_()})}function my(){if(co===0){var a=Hc;a===0&&(a=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),co=a}return co}function O_(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ac(""+a)}function M_(a,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,a.id&&d.setAttribute("form",a.id),o.parentNode.insertBefore(d,o),a=new FormData(a),d.parentNode.removeChild(d),a}function d6(a,o,d,u,g){if(o==="submit"&&d&&d.stateNode===g){var y=O_((g[Us]||null).action),N=u.submitter;N&&(o=(o=N[Us]||null)?O_(o.formAction):N.getAttribute("formAction"),o!==null&&(y=o,N=null));var O=new wa("action","action",null,u,g);a.push({event:O,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(co!==0){var G=N?M_(g,N):new FormData(g);D0(d,{pending:!0,data:G,method:g.method,action:y},null,G)}}else typeof y=="function"&&(O.preventDefault(),G=N?M_(g,N):new FormData(g),D0(d,{pending:!0,data:G,method:g.method,action:y},y,G))},currentTarget:g}]})}}for(var py=0;py<Jx.length;py++){var gy=Jx[py],u6=gy.toLowerCase(),h6=gy[0].toUpperCase()+gy.slice(1);Jr(u6,"on"+h6)}Jr(f1,"onAnimationEnd"),Jr(m1,"onAnimationIteration"),Jr(p1,"onAnimationStart"),Jr("dblclick","onDoubleClick"),Jr("focusin","onFocus"),Jr("focusout","onBlur"),Jr(ER,"onTransitionRun"),Jr(CR,"onTransitionStart"),Jr(AR,"onTransitionCancel"),Jr(g1,"onTransitionEnd"),xa("onMouseEnter",["mouseout","mouseover"]),xa("onMouseLeave",["mouseout","mouseover"]),xa("onPointerEnter",["pointerout","pointerover"]),xa("onPointerLeave",["pointerout","pointerover"]),ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bh));function L_(a,o){o=(o&4)!==0;for(var d=0;d<a.length;d++){var u=a[d],g=u.event;u=u.listeners;e:{var y=void 0;if(o)for(var N=u.length-1;0<=N;N--){var O=u[N],G=O.instance,se=O.currentTarget;if(O=O.listener,G!==y&&g.isPropagationStopped())break e;y=O,g.currentTarget=se;try{y(g)}catch(he){Vm(he)}g.currentTarget=null,y=G}else for(N=0;N<u.length;N++){if(O=u[N],G=O.instance,se=O.currentTarget,O=O.listener,G!==y&&g.isPropagationStopped())break e;y=O,g.currentTarget=se;try{y(g)}catch(he){Vm(he)}g.currentTarget=null,y=G}}}}function lt(a,o){var d=o[Sc];d===void 0&&(d=o[Sc]=new Set);var u=a+"__bubble";d.has(u)||(V_(o,a,2,!1),d.add(u))}function xy(a,o,d){var u=0;o&&(u|=4),V_(d,a,u,o)}var _p="_reactListening"+Math.random().toString(36).slice(2);function yy(a){if(!a[_p]){a[_p]=!0,Iu.forEach(function(d){d!=="selectionchange"&&(f6.has(d)||xy(d,!1,a),xy(d,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[_p]||(o[_p]=!0,xy("selectionchange",!1,o))}}function V_(a,o,d,u){switch(f2(o)){case 2:var g=B6;break;case 8:g=F6;break;default:g=Py}d=g.bind(null,o,d,a),g=void 0,!il||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),u?g!==void 0?a.addEventListener(o,d,{capture:!0,passive:g}):a.addEventListener(o,d,!0):g!==void 0?a.addEventListener(o,d,{passive:g}):a.addEventListener(o,d,!1)}function by(a,o,d,u,g){var y=u;if((o&1)===0&&(o&2)===0&&u!==null)e:for(;;){if(u===null)return;var N=u.tag;if(N===3||N===4){var O=u.stateNode.containerInfo;if(O===g)break;if(N===4)for(N=u.return;N!==null;){var G=N.tag;if((G===3||G===4)&&N.stateNode.containerInfo===g)return;N=N.return}for(;O!==null;){if(N=ma(O),N===null)return;if(G=N.tag,G===5||G===6||G===26||G===27){u=y=N;continue e}O=O.parentNode}}u=u.return}qi(function(){var se=y,he=xr(d),xe=[];e:{var ae=x1.get(a);if(ae!==void 0){var le=wa,Pe=a;switch(a){case"keypress":if(ll(d)===0)break e;case"keydown":case"keyup":le=Om;break;case"focusin":Pe="focus",le=dl;break;case"focusout":Pe="blur",le=dl;break;case"beforeblur":case"afterblur":le=dl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=j;break;case f1:case m1:case p1:le=Em;break;case g1:le=z;break;case"scroll":case"scrollend":le=$u;break;case"wheel":le=oe;break;case"copy":case"cut":case"paste":le=Cm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Ya;break;case"toggle":case"beforetoggle":le=Xe}var Ge=(o&4)!==0,Ot=!Ge&&(a==="scroll"||a==="scrollend"),X=Ge?ae!==null?ae+"Capture":null:ae;Ge=[];for(var Y=se,te;Y!==null;){var ge=Y;if(te=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||te===null||X===null||(ge=Kr(Y,X),ge!=null&&Ge.push(vh(Y,ge,te))),Ot)break;Y=Y.return}0<Ge.length&&(ae=new le(ae,Pe,null,d,he),xe.push({event:ae,listeners:Ge}))}}if((o&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",le=a==="mouseout"||a==="pointerout",ae&&d!==Uu&&(Pe=d.relatedTarget||d.fromElement)&&(ma(Pe)||Pe[ha]))break e;if((le||ae)&&(ae=he.window===he?he:(ae=he.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Pe=d.relatedTarget||d.toElement,le=se,Pe=Pe?ma(Pe):null,Pe!==null&&(Ot=l(Pe),Ge=Pe.tag,Pe!==Ot||Ge!==5&&Ge!==27&&Ge!==6)&&(Pe=null)):(le=null,Pe=se),le!==Pe)){if(Ge=qu,ge="onMouseLeave",X="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Ge=Ya,ge="onPointerLeave",X="onPointerEnter",Y="pointer"),Ot=le==null?ae:Xn(le),te=Pe==null?ae:Xn(Pe),ae=new Ge(ge,Y+"leave",le,d,he),ae.target=Ot,ae.relatedTarget=te,ge=null,ma(he)===se&&(Ge=new Ge(X,Y+"enter",Pe,d,he),Ge.target=te,Ge.relatedTarget=Ot,ge=Ge),Ot=ge,le&&Pe)t:{for(Ge=m6,X=le,Y=Pe,te=0,ge=X;ge;ge=Ge(ge))te++;ge=0;for(var He=Y;He;He=Ge(He))ge++;for(;0<te-ge;)X=Ge(X),te--;for(;0<ge-te;)Y=Ge(Y),ge--;for(;te--;){if(X===Y||Y!==null&&X===Y.alternate){Ge=X;break t}X=Ge(X),Y=Ge(Y)}Ge=null}else Ge=null;le!==null&&z_(xe,ae,le,Ge,!1),Pe!==null&&Ot!==null&&z_(xe,Ot,Pe,Ge,!0)}}e:{if(ae=se?Xn(se):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var xt=s1;else if(e1(ae))if(n1)xt=SR;else{xt=NR;var ze=jR}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?se&&Cc(se.elementType)&&(xt=s1):xt=_R;if(xt&&(xt=xt(a,se))){t1(xe,xt,d,he);break e}ze&&ze(a,ae,se),a==="focusout"&&se&&ae.type==="number"&&se.memoizedProps.value!=null&&Lu(ae,"number",ae.value)}switch(ze=se?Xn(se):window,a){case"focusin":(e1(ze)||ze.contentEditable==="true")&&(Lc=ze,Wx=se,Yu=null);break;case"focusout":Yu=Wx=Lc=null;break;case"mousedown":Yx=!0;break;case"contextmenu":case"mouseup":case"dragend":Yx=!1,u1(xe,d,he);break;case"selectionchange":if(kR)break;case"keydown":case"keyup":u1(xe,d,he)}var st;if(wt)e:{switch(a){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else Mc?ul(a,d)&&(ft="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(ft="onCompositionStart");ft&&(_a&&d.locale!=="ko"&&(Mc||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Mc&&(st=Fu()):(va=he,Bu="value"in va?va.value:va.textContent,Mc=!0)),ze=Sp(se,ft),0<ze.length&&(ft=new Na(ft,a,null,d,he),xe.push({event:ft,listeners:ze}),st?ft.data=st:(st=Oc(d),st!==null&&(ft.data=st)))),(st=br?yR(a,d):bR(a,d))&&(ft=Sp(se,"onBeforeInput"),0<ft.length&&(ze=new Na("onBeforeInput","beforeinput",null,d,he),xe.push({event:ze,listeners:ft}),ze.data=st)),d6(xe,a,se,d,he)}L_(xe,o)})}function vh(a,o,d){return{instance:a,listener:o,currentTarget:d}}function Sp(a,o){for(var d=o+"Capture",u=[];a!==null;){var g=a,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Kr(a,d),g!=null&&u.unshift(vh(a,g,y)),g=Kr(a,o),g!=null&&u.push(vh(a,g,y))),a.tag===3)return u;a=a.return}return[]}function m6(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function z_(a,o,d,u,g){for(var y=o._reactName,N=[];d!==null&&d!==u;){var O=d,G=O.alternate,se=O.stateNode;if(O=O.tag,G!==null&&G===u)break;O!==5&&O!==26&&O!==27||se===null||(G=se,g?(se=Kr(d,y),se!=null&&N.unshift(vh(d,se,G))):g||(se=Kr(d,y),se!=null&&N.push(vh(d,se,G)))),d=d.return}N.length!==0&&a.push({event:o,listeners:N})}var p6=/\r\n?/g,g6=/\u0000|\uFFFD/g;function U_(a){return(typeof a=="string"?a:""+a).replace(p6,`
`).replace(g6,"")}function B_(a,o){return o=U_(o),U_(a)===o}function Dt(a,o,d,u,g,y){switch(d){case"children":typeof u=="string"?o==="body"||o==="textarea"&&u===""||In(a,u):(typeof u=="number"||typeof u=="bigint")&&o!=="body"&&In(a,""+u);break;case"className":Zn(a,"class",u);break;case"tabIndex":Zn(a,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(a,d,u);break;case"style":zu(a,u,y);break;case"data":if(o!=="object"){Zn(a,"data",u);break}case"src":case"href":if(u===""&&(o!=="a"||d!=="href")){a.removeAttribute(d);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(d);break}u=Ac(""+u),a.setAttribute(d,u);break;case"action":case"formAction":if(typeof u=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(d==="formAction"?(o!=="input"&&Dt(a,o,"name",g.name,g,null),Dt(a,o,"formEncType",g.formEncType,g,null),Dt(a,o,"formMethod",g.formMethod,g,null),Dt(a,o,"formTarget",g.formTarget,g,null)):(Dt(a,o,"encType",g.encType,g,null),Dt(a,o,"method",g.method,g,null),Dt(a,o,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(d);break}u=Ac(""+u),a.setAttribute(d,u);break;case"onClick":u!=null&&(a.onclick=Gr);break;case"onScroll":u!=null&&lt("scroll",a);break;case"onScrollEnd":u!=null&&lt("scrollend",a);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(d=u.__html,d!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":a.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){a.removeAttribute("xlink:href");break}d=Ac(""+u),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(d,""+u):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":u===!0?a.setAttribute(d,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(d,u):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?a.setAttribute(d,u):a.removeAttribute(d);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?a.removeAttribute(d):a.setAttribute(d,u);break;case"popover":lt("beforetoggle",a),lt("toggle",a),kc(a,"popover",u);break;case"xlinkActuate":_s(a,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_s(a,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_s(a,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_s(a,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_s(a,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_s(a,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_s(a,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_s(a,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_s(a,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":kc(a,"is",u);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Sm.get(d)||d,kc(a,d,u))}}function vy(a,o,d,u,g,y){switch(d){case"style":zu(a,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(d=u.__html,d!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof u=="string"?In(a,u):(typeof u=="number"||typeof u=="bigint")&&In(a,""+u);break;case"onScroll":u!=null&&lt("scroll",a);break;case"onScrollEnd":u!=null&&lt("scrollend",a);break;case"onClick":u!=null&&(a.onclick=Gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ru.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(g=d.endsWith("Capture"),o=d.slice(2,g?d.length-7:void 0),y=a[Us]||null,y=y!=null?y[d]:null,typeof y=="function"&&a.removeEventListener(o,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(o,u,g);break e}d in a?a[d]=u:u===!0?a.setAttribute(d,""):kc(a,d,u)}}}function Xs(a,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",a),lt("load",a);var u=!1,g=!1,y;for(y in d)if(d.hasOwnProperty(y)){var N=d[y];if(N!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Dt(a,o,y,N,d,null)}}g&&Dt(a,o,"srcSet",d.srcSet,d,null),u&&Dt(a,o,"src",d.src,d,null);return;case"input":lt("invalid",a);var O=y=N=g=null,G=null,se=null;for(u in d)if(d.hasOwnProperty(u)){var he=d[u];if(he!=null)switch(u){case"name":g=he;break;case"type":N=he;break;case"checked":G=he;break;case"defaultChecked":se=he;break;case"value":y=he;break;case"defaultValue":O=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,o));break;default:Dt(a,o,u,he,d,null)}}jm(a,y,O,G,se,N,g,!1);return;case"select":lt("invalid",a),u=N=y=null;for(g in d)if(d.hasOwnProperty(g)&&(O=d[g],O!=null))switch(g){case"value":y=O;break;case"defaultValue":N=O;break;case"multiple":u=O;default:Dt(a,o,g,O,d,null)}o=y,d=N,a.multiple=!!u,o!=null?Ui(a,!!u,o,!1):d!=null&&Ui(a,!!u,d,!0);return;case"textarea":lt("invalid",a),y=g=u=null;for(N in d)if(d.hasOwnProperty(N)&&(O=d[N],O!=null))switch(N){case"value":u=O;break;case"defaultValue":g=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:Dt(a,o,N,O,d,null)}Bi(a,u,g,y);return;case"option":for(G in d)if(d.hasOwnProperty(G)&&(u=d[G],u!=null))switch(G){case"selected":a.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Dt(a,o,G,u,d,null)}return;case"dialog":lt("beforetoggle",a),lt("toggle",a),lt("cancel",a),lt("close",a);break;case"iframe":case"object":lt("load",a);break;case"video":case"audio":for(u=0;u<bh.length;u++)lt(bh[u],a);break;case"image":lt("error",a),lt("load",a);break;case"details":lt("toggle",a);break;case"embed":case"source":case"link":lt("error",a),lt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in d)if(d.hasOwnProperty(se)&&(u=d[se],u!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Dt(a,o,se,u,d,null)}return;default:if(Cc(o)){for(he in d)d.hasOwnProperty(he)&&(u=d[he],u!==void 0&&vy(a,o,he,u,d,void 0));return}}for(O in d)d.hasOwnProperty(O)&&(u=d[O],u!=null&&Dt(a,o,O,u,d,null))}function x6(a,o,d,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,N=null,O=null,G=null,se=null,he=null;for(le in d){var xe=d[le];if(d.hasOwnProperty(le)&&xe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":G=xe;default:u.hasOwnProperty(le)||Dt(a,o,le,null,u,xe)}}for(var ae in u){var le=u[ae];if(xe=d[ae],u.hasOwnProperty(ae)&&(le!=null||xe!=null))switch(ae){case"type":y=le;break;case"name":g=le;break;case"checked":se=le;break;case"defaultChecked":he=le;break;case"value":N=le;break;case"defaultValue":O=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:le!==xe&&Dt(a,o,ae,le,u,xe)}}Ec(a,N,O,G,se,he,y,g);return;case"select":le=N=O=ae=null;for(y in d)if(G=d[y],d.hasOwnProperty(y)&&G!=null)switch(y){case"value":break;case"multiple":le=G;default:u.hasOwnProperty(y)||Dt(a,o,y,null,u,G)}for(g in u)if(y=u[g],G=d[g],u.hasOwnProperty(g)&&(y!=null||G!=null))switch(g){case"value":ae=y;break;case"defaultValue":O=y;break;case"multiple":N=y;default:y!==G&&Dt(a,o,g,y,u,G)}o=O,d=N,u=le,ae!=null?Ui(a,!!d,ae,!1):!!u!=!!d&&(o!=null?Ui(a,!!d,o,!0):Ui(a,!!d,d?[]:"",!1));return;case"textarea":le=ae=null;for(O in d)if(g=d[O],d.hasOwnProperty(O)&&g!=null&&!u.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Dt(a,o,O,null,u,g)}for(N in u)if(g=u[N],y=d[N],u.hasOwnProperty(N)&&(g!=null||y!=null))switch(N){case"value":ae=g;break;case"defaultValue":le=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&Dt(a,o,N,g,u,y)}Nm(a,ae,le);return;case"option":for(var Pe in d)if(ae=d[Pe],d.hasOwnProperty(Pe)&&ae!=null&&!u.hasOwnProperty(Pe))switch(Pe){case"selected":a.selected=!1;break;default:Dt(a,o,Pe,null,u,ae)}for(G in u)if(ae=u[G],le=d[G],u.hasOwnProperty(G)&&ae!==le&&(ae!=null||le!=null))switch(G){case"selected":a.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Dt(a,o,G,ae,u,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in d)ae=d[Ge],d.hasOwnProperty(Ge)&&ae!=null&&!u.hasOwnProperty(Ge)&&Dt(a,o,Ge,null,u,ae);for(se in u)if(ae=u[se],le=d[se],u.hasOwnProperty(se)&&ae!==le&&(ae!=null||le!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:Dt(a,o,se,ae,u,le)}return;default:if(Cc(o)){for(var Ot in d)ae=d[Ot],d.hasOwnProperty(Ot)&&ae!==void 0&&!u.hasOwnProperty(Ot)&&vy(a,o,Ot,void 0,u,ae);for(he in u)ae=u[he],le=d[he],!u.hasOwnProperty(he)||ae===le||ae===void 0&&le===void 0||vy(a,o,he,ae,u,le);return}}for(var X in d)ae=d[X],d.hasOwnProperty(X)&&ae!=null&&!u.hasOwnProperty(X)&&Dt(a,o,X,null,u,ae);for(xe in u)ae=u[xe],le=d[xe],!u.hasOwnProperty(xe)||ae===le||ae==null&&le==null||Dt(a,o,xe,ae,u,le)}function F_(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function y6(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,d=performance.getEntriesByType("resource"),u=0;u<d.length;u++){var g=d[u],y=g.transferSize,N=g.initiatorType,O=g.duration;if(y&&O&&F_(N)){for(N=0,O=g.responseEnd,u+=1;u<d.length;u++){var G=d[u],se=G.startTime;if(se>O)break;var he=G.transferSize,xe=G.initiatorType;he&&F_(xe)&&(G=G.responseEnd,N+=he*(G<O?1:(O-se)/(G-se)))}if(--u,o+=8*(y+N)/(g.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var wy=null,jy=null;function Tp(a){return a.nodeType===9?a:a.ownerDocument}function $_(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q_(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Ny(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var _y=null;function b6(){var a=window.event;return a&&a.type==="popstate"?a===_y?!1:(_y=a,!0):(_y=null,!1)}var H_=typeof setTimeout=="function"?setTimeout:void 0,v6=typeof clearTimeout=="function"?clearTimeout:void 0,G_=typeof Promise=="function"?Promise:void 0,w6=typeof queueMicrotask=="function"?queueMicrotask:typeof G_<"u"?function(a){return G_.resolve(null).then(a).catch(j6)}:H_;function j6(a){setTimeout(function(){throw a})}function uo(a){return a==="head"}function K_(a,o){var d=o,u=0;do{var g=d.nextSibling;if(a.removeChild(d),g&&g.nodeType===8)if(d=g.data,d==="/$"||d==="/&"){if(u===0){a.removeChild(g),dd(o);return}u--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")u++;else if(d==="html")wh(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,wh(d);for(var y=d.firstChild;y;){var N=y.nextSibling,O=y.nodeName;y[fa]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&y.rel.toLowerCase()==="stylesheet"||d.removeChild(y),y=N}}else d==="body"&&wh(a.ownerDocument.body);d=g}while(d);dd(o)}function W_(a,o){var d=a;a=0;do{var u=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),u&&u.nodeType===8)if(d=u.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=u}while(d)}function Sy(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Sy(d),Tc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function N6(a,o,d,u){for(;a.nodeType===1;){var g=d;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!u&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(u){if(!a[fa])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=Tr(a.nextSibling),a===null)break}return null}function _6(a,o,d){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Tr(a.nextSibling),a===null))return null;return a}function Y_(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Tr(a.nextSibling),a===null))return null;return a}function Ty(a){return a.data==="$?"||a.data==="$~"}function ky(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function S6(a,o){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||d.readyState!=="loading")o();else{var u=function(){o(),d.removeEventListener("DOMContentLoaded",u)};d.addEventListener("DOMContentLoaded",u),a._reactRetry=u}}function Tr(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Ey=null;function Q_(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(o===0)return Tr(a.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}a=a.nextSibling}return null}function J_(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return a;o--}else d!=="/$"&&d!=="/&"||o++}a=a.previousSibling}return null}function X_(a,o,d){switch(o=Tp(d),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function wh(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Tc(a)}var kr=new Map,Z_=new Set;function kp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var di=ne.d;ne.d={f:T6,r:k6,D:E6,C:C6,L:A6,m:I6,X:P6,S:R6,M:D6};function T6(){var a=di.f(),o=yp();return a||o}function k6(a){var o=gr(a);o!==null&&o.tag===5&&o.type==="form"?gN(o):di.r(a)}var od=typeof document>"u"?null:document;function e2(a,o,d){var u=od;if(u&&typeof o=="string"&&o){var g=An(o);g='link[rel="'+a+'"][href="'+g+'"]',typeof d=="string"&&(g+='[crossorigin="'+d+'"]'),Z_.has(g)||(Z_.add(g),a={rel:a,crossOrigin:d,href:o},u.querySelector(g)===null&&(o=u.createElement("link"),Xs(o,"link",a),Ns(o),u.head.appendChild(o)))}}function E6(a){di.D(a),e2("dns-prefetch",a,null)}function C6(a,o){di.C(a,o),e2("preconnect",a,o)}function A6(a,o,d){di.L(a,o,d);var u=od;if(u&&a&&o){var g='link[rel="preload"][as="'+An(o)+'"]';o==="image"&&d&&d.imageSrcSet?(g+='[imagesrcset="'+An(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(g+='[imagesizes="'+An(d.imageSizes)+'"]')):g+='[href="'+An(a)+'"]';var y=g;switch(o){case"style":y=ld(a);break;case"script":y=cd(a)}kr.has(y)||(a=b({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:a,as:o},d),kr.set(y,a),u.querySelector(g)!==null||o==="style"&&u.querySelector(jh(y))||o==="script"&&u.querySelector(Nh(y))||(o=u.createElement("link"),Xs(o,"link",a),Ns(o),u.head.appendChild(o)))}}function I6(a,o){di.m(a,o);var d=od;if(d&&a){var u=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+An(u)+'"][href="'+An(a)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=cd(a)}if(!kr.has(y)&&(a=b({rel:"modulepreload",href:a},o),kr.set(y,a),d.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Nh(y)))return}u=d.createElement("link"),Xs(u,"link",a),Ns(u),d.head.appendChild(u)}}}function R6(a,o,d){di.S(a,o,d);var u=od;if(u&&a){var g=pa(u).hoistableStyles,y=ld(a);o=o||"default";var N=g.get(y);if(!N){var O={loading:0,preload:null};if(N=u.querySelector(jh(y)))O.loading=5;else{a=b({rel:"stylesheet",href:a,"data-precedence":o},d),(d=kr.get(y))&&Cy(a,d);var G=N=u.createElement("link");Ns(G),Xs(G,"link",a),G._p=new Promise(function(se,he){G.onload=se,G.onerror=he}),G.addEventListener("load",function(){O.loading|=1}),G.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Ep(N,o,u)}N={type:"stylesheet",instance:N,count:1,state:O},g.set(y,N)}}}function P6(a,o){di.X(a,o);var d=od;if(d&&a){var u=pa(d).hoistableScripts,g=cd(a),y=u.get(g);y||(y=d.querySelector(Nh(g)),y||(a=b({src:a,async:!0},o),(o=kr.get(g))&&Ay(a,o),y=d.createElement("script"),Ns(y),Xs(y,"link",a),d.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function D6(a,o){di.M(a,o);var d=od;if(d&&a){var u=pa(d).hoistableScripts,g=cd(a),y=u.get(g);y||(y=d.querySelector(Nh(g)),y||(a=b({src:a,async:!0,type:"module"},o),(o=kr.get(g))&&Ay(a,o),y=d.createElement("script"),Ns(y),Xs(y,"link",a),d.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function t2(a,o,d,u){var g=(g=Te.current)?kp(g):null;if(!g)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=ld(d.href),d=pa(g).hoistableStyles,u=d.get(o),u||(u={type:"style",instance:null,count:0,state:null},d.set(o,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=ld(d.href);var y=pa(g).hoistableStyles,N=y.get(a);if(N||(g=g.ownerDocument||g,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,N),(y=g.querySelector(jh(a)))&&!y._p&&(N.instance=y,N.state.loading=5),kr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},kr.set(a,d),y||O6(g,a,d,N.state))),o&&u===null)throw Error(r(528,""));return N}if(o&&u!==null)throw Error(r(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=cd(d),d=pa(g).hoistableScripts,u=d.get(o),u||(u={type:"script",instance:null,count:0,state:null},d.set(o,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function ld(a){return'href="'+An(a)+'"'}function jh(a){return'link[rel="stylesheet"]['+a+"]"}function s2(a){return b({},a,{"data-precedence":a.precedence,precedence:null})}function O6(a,o,d,u){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=a.createElement("link"),u.preload=o,o.addEventListener("load",function(){return u.loading|=1}),o.addEventListener("error",function(){return u.loading|=2}),Xs(o,"link",d),Ns(o),a.head.appendChild(o))}function cd(a){return'[src="'+An(a)+'"]'}function Nh(a){return"script[async]"+a}function n2(a,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var u=a.querySelector('style[data-href~="'+An(d.href)+'"]');if(u)return o.instance=u,Ns(u),u;var g=b({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return u=(a.ownerDocument||a).createElement("style"),Ns(u),Xs(u,"style",g),Ep(u,d.precedence,a),o.instance=u;case"stylesheet":g=ld(d.href);var y=a.querySelector(jh(g));if(y)return o.state.loading|=4,o.instance=y,Ns(y),y;u=s2(d),(g=kr.get(g))&&Cy(u,g),y=(a.ownerDocument||a).createElement("link"),Ns(y);var N=y;return N._p=new Promise(function(O,G){N.onload=O,N.onerror=G}),Xs(y,"link",u),o.state.loading|=4,Ep(y,d.precedence,a),o.instance=y;case"script":return y=cd(d.src),(g=a.querySelector(Nh(y)))?(o.instance=g,Ns(g),g):(u=d,(g=kr.get(y))&&(u=b({},d),Ay(u,g)),a=a.ownerDocument||a,g=a.createElement("script"),Ns(g),Xs(g,"link",u),a.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(u=o.instance,o.state.loading|=4,Ep(u,d.precedence,a));return o.instance}function Ep(a,o,d){for(var u=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,N=0;N<u.length;N++){var O=u[N];if(O.dataset.precedence===o)y=O;else if(y!==g)break}y?y.parentNode.insertBefore(a,y.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(a,o.firstChild))}function Cy(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Ay(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Cp=null;function r2(a,o,d){if(Cp===null){var u=new Map,g=Cp=new Map;g.set(d,u)}else g=Cp,u=g.get(d),u||(u=new Map,g.set(d,u));if(u.has(a))return u;for(u.set(a,null),d=d.getElementsByTagName(a),g=0;g<d.length;g++){var y=d[g];if(!(y[fa]||y[js]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var N=y.getAttribute(o)||"";N=a+N;var O=u.get(N);O?O.push(y):u.set(N,[y])}}return u}function a2(a,o,d){a=a.ownerDocument||a,a.head.insertBefore(d,o==="title"?a.querySelector("head > title"):null)}function M6(a,o,d){if(d===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function i2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function L6(a,o,d,u){if(d.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var g=ld(u.href),y=o.querySelector(jh(g));if(y){o=y._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Ap.bind(a),o.then(a,a)),d.state.loading|=4,d.instance=y,Ns(y);return}y=o.ownerDocument||o,u=s2(u),(g=kr.get(g))&&Cy(u,g),y=y.createElement("link"),Ns(y);var N=y;N._p=new Promise(function(O,G){N.onload=O,N.onerror=G}),Xs(y,"link",u),d.instance=y}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=Ap.bind(a),o.addEventListener("load",d),o.addEventListener("error",d))}}var Iy=0;function V6(a,o){return a.stylesheets&&a.count===0&&Rp(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var u=setTimeout(function(){if(a.stylesheets&&Rp(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4+o);0<a.imgBytes&&Iy===0&&(Iy=62500*y6());var g=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Rp(a,a.stylesheets),a.unsuspend)){var y=a.unsuspend;a.unsuspend=null,y()}},(a.imgBytes>Iy?50:800)+o);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Ap(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ip=null;function Rp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ip=new Map,o.forEach(z6,a),Ip=null,Ap.call(a))}function z6(a,o){if(!(o.state.loading&4)){var d=Ip.get(a);if(d)var u=d.get(null);else{d=new Map,Ip.set(a,d);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var N=g[y];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(d.set(N.dataset.precedence,N),u=N)}u&&d.set(null,u)}g=o.instance,N=g.getAttribute("data-precedence"),y=d.get(N)||u,y===u&&d.set(null,g),d.set(N,g),this.count++,u=Ap.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),o.state.loading|=4}}var _h={$$typeof:F,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function U6(a,o,d,u,g,y,N,O,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tt(0),this.hiddenUpdates=tt(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function o2(a,o,d,u,g,y,N,O,G,se,he,xe){return a=new U6(a,o,d,N,G,se,he,xe,O),o=1,y===!0&&(o|=24),y=tr(3,null,null,o),a.current=y,y.stateNode=a,o=d0(),o.refCount++,a.pooledCache=o,o.refCount++,y.memoizedState={element:u,isDehydrated:d,cache:o},m0(y),a}function l2(a){return a?(a=Uc,a):Uc}function c2(a,o,d,u,g,y){g=l2(g),u.context===null?u.context=g:u.pendingContext=g,u=Zi(o),u.payload={element:d},y=y===void 0?null:y,y!==null&&(u.callback=y),d=eo(a,u,o),d!==null&&(Mn(d,a,o),sh(d,a,o))}function d2(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<o?d:o}}function Ry(a,o){d2(a,o),(a=a.alternate)&&d2(a,o)}function u2(a){if(a.tag===13||a.tag===31){var o=ml(a,67108864);o!==null&&Mn(o,a,67108864),Ry(a,67108864)}}function h2(a){if(a.tag===13||a.tag===31){var o=ir();o=Ga(o);var d=ml(a,o);d!==null&&Mn(d,a,o),Ry(a,o)}}var Pp=!0;function B6(a,o,d,u){var g=W.T;W.T=null;var y=ne.p;try{ne.p=2,Py(a,o,d,u)}finally{ne.p=y,W.T=g}}function F6(a,o,d,u){var g=W.T;W.T=null;var y=ne.p;try{ne.p=8,Py(a,o,d,u)}finally{ne.p=y,W.T=g}}function Py(a,o,d,u){if(Pp){var g=Dy(u);if(g===null)by(a,o,u,Dp,d),m2(a,u);else if(q6(g,a,o,d,u))u.stopPropagation();else if(m2(a,u),o&4&&-1<$6.indexOf(a)){for(;g!==null;){var y=gr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var N=Jn(y.pendingLanes);if(N!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var G=1<<31-It(N);O.entanglements[1]|=G,N&=~G}Ea(y),(jt&6)===0&&(gp=fe()+500,yh(0))}}break;case 31:case 13:O=ml(y,2),O!==null&&Mn(O,y,2),yp(),Ry(y,2)}if(y=Dy(u),y===null&&by(a,o,u,Dp,d),y===g)break;g=y}g!==null&&u.stopPropagation()}else by(a,o,u,null,d)}}function Dy(a){return a=xr(a),Oy(a)}var Dp=null;function Oy(a){if(Dp=null,a=ma(a),a!==null){var o=l(a);if(o===null)a=null;else{var d=o.tag;if(d===13){if(a=c(o),a!==null)return a;a=null}else if(d===31){if(a=h(o),a!==null)return a;a=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Dp=a,null}function f2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case Ye:return 2;case at:return 8;case At:case ss:return 32;case dn:return 268435456;default:return 32}default:return 32}}var My=!1,ho=null,fo=null,mo=null,Sh=new Map,Th=new Map,po=[],$6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m2(a,o){switch(a){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":Sh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Th.delete(o.pointerId)}}function kh(a,o,d,u,g,y){return a===null||a.nativeEvent!==y?(a={blockedOn:o,domEventName:d,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},o!==null&&(o=gr(o),o!==null&&u2(o)),a):(a.eventSystemFlags|=u,o=a.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),a)}function q6(a,o,d,u,g){switch(o){case"focusin":return ho=kh(ho,a,o,d,u,g),!0;case"dragenter":return fo=kh(fo,a,o,d,u,g),!0;case"mouseover":return mo=kh(mo,a,o,d,u,g),!0;case"pointerover":var y=g.pointerId;return Sh.set(y,kh(Sh.get(y)||null,a,o,d,u,g)),!0;case"gotpointercapture":return y=g.pointerId,Th.set(y,kh(Th.get(y)||null,a,o,d,u,g)),!0}return!1}function p2(a){var o=ma(a.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){a.blockedOn=o,qr(a.priority,function(){h2(d)});return}}else if(o===31){if(o=h(d),o!==null){a.blockedOn=o,qr(a.priority,function(){h2(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Op(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var d=Dy(a.nativeEvent);if(d===null){d=a.nativeEvent;var u=new d.constructor(d.type,d);Uu=u,d.target.dispatchEvent(u),Uu=null}else return o=gr(d),o!==null&&u2(o),a.blockedOn=d,!1;o.shift()}return!0}function g2(a,o,d){Op(a)&&d.delete(o)}function H6(){My=!1,ho!==null&&Op(ho)&&(ho=null),fo!==null&&Op(fo)&&(fo=null),mo!==null&&Op(mo)&&(mo=null),Sh.forEach(g2),Th.forEach(g2)}function Mp(a,o){a.blockedOn===o&&(a.blockedOn=null,My||(My=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,H6)))}var Lp=null;function x2(a){Lp!==a&&(Lp=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Lp===a&&(Lp=null);for(var o=0;o<a.length;o+=3){var d=a[o],u=a[o+1],g=a[o+2];if(typeof u!="function"){if(Oy(u||d)===null)continue;break}var y=gr(d);y!==null&&(a.splice(o,3),o-=3,D0(y,{pending:!0,data:g,method:d.method,action:u},u,g))}}))}function dd(a){function o(G){return Mp(G,a)}ho!==null&&Mp(ho,a),fo!==null&&Mp(fo,a),mo!==null&&Mp(mo,a),Sh.forEach(o),Th.forEach(o);for(var d=0;d<po.length;d++){var u=po[d];u.blockedOn===a&&(u.blockedOn=null)}for(;0<po.length&&(d=po[0],d.blockedOn===null);)p2(d),d.blockedOn===null&&po.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(u=0;u<d.length;u+=3){var g=d[u],y=d[u+1],N=g[Us]||null;if(typeof y=="function")N||x2(d);else if(N){var O=null;if(y&&y.hasAttribute("formAction")){if(g=y,N=y[Us]||null)O=N.formAction;else if(Oy(g)!==null)continue}else O=N.action;typeof O=="function"?d[u+1]=O:(d.splice(u,3),u-=3),x2(d)}}}function y2(){function a(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(N){return g=N})},focusReset:"manual",scroll:"manual"})}function o(){g!==null&&(g(),g=null),u||setTimeout(d,20)}function d(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){u=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),g!==null&&(g(),g=null)}}}function Ly(a){this._internalRoot=a}Vp.prototype.render=Ly.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var d=o.current,u=ir();c2(d,u,a,o,null,null)},Vp.prototype.unmount=Ly.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;c2(a.current,2,null,a,null,null),yp(),o[ha]=null}};function Vp(a){this._internalRoot=a}Vp.prototype.unstable_scheduleHydration=function(a){if(a){var o=ym();a={blockedOn:null,target:a,priority:o};for(var d=0;d<po.length&&o!==0&&o<po[d].priority;d++);po.splice(d,0,a),d===0&&p2(a)}};var b2=e.version;if(b2!=="19.2.4")throw Error(r(527,b2,"19.2.4"));ne.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=p(o),a=a!==null?x(a):null,a=a===null?null:a.stateNode,a};var G6={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zp.isDisabled&&zp.supportsFiber)try{Yn=zp.inject(G6),Ds=zp}catch{}}return Ch.createRoot=function(a,o){if(!i(a))throw Error(r(299));var d=!1,u="",g=TN,y=kN,N=EN;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),o=o2(a,1,!1,null,null,d,u,null,g,y,N,y2),a[ha]=o.current,yy(a),new Ly(o)},Ch.hydrateRoot=function(a,o,d){if(!i(a))throw Error(r(299));var u=!1,g="",y=TN,N=kN,O=EN,G=null;return d!=null&&(d.unstable_strictMode===!0&&(u=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(y=d.onUncaughtError),d.onCaughtError!==void 0&&(N=d.onCaughtError),d.onRecoverableError!==void 0&&(O=d.onRecoverableError),d.formState!==void 0&&(G=d.formState)),o=o2(a,1,!0,o,d??null,u,g,G,y,N,O,y2),o.context=l2(null),d=o.current,u=ir(),u=Ga(u),g=Zi(u),g.callback=null,eo(d,g,u),d=u,o.current.lanes=d,Ks(o,d),Ea(o),a[ha]=o.current,yy(a),new Vp(o)},Ch.version="19.2.4",Ch}var C2;function r5(){if(C2)return Uy.exports;C2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Uy.exports=n5(),Uy.exports}var a5=r5();const i5=hu(a5);var qy,A2;function o5(){if(A2)return qy;A2=1;var n=typeof Element<"u",e=typeof Map=="function",s=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(l,c){if(l===c)return!0;if(l&&c&&typeof l=="object"&&typeof c=="object"){if(l.constructor!==c.constructor)return!1;var h,f,p;if(Array.isArray(l)){if(h=l.length,h!=c.length)return!1;for(f=h;f--!==0;)if(!i(l[f],c[f]))return!1;return!0}var x;if(e&&l instanceof Map&&c instanceof Map){if(l.size!==c.size)return!1;for(x=l.entries();!(f=x.next()).done;)if(!c.has(f.value[0]))return!1;for(x=l.entries();!(f=x.next()).done;)if(!i(f.value[1],c.get(f.value[0])))return!1;return!0}if(s&&l instanceof Set&&c instanceof Set){if(l.size!==c.size)return!1;for(x=l.entries();!(f=x.next()).done;)if(!c.has(f.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(c)){if(h=l.length,h!=c.length)return!1;for(f=h;f--!==0;)if(l[f]!==c[f])return!1;return!0}if(l.constructor===RegExp)return l.source===c.source&&l.flags===c.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof c.valueOf=="function")return l.valueOf()===c.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof c.toString=="function")return l.toString()===c.toString();if(p=Object.keys(l),h=p.length,h!==Object.keys(c).length)return!1;for(f=h;f--!==0;)if(!Object.prototype.hasOwnProperty.call(c,p[f]))return!1;if(n&&l instanceof Element)return!1;for(f=h;f--!==0;)if(!((p[f]==="_owner"||p[f]==="__v"||p[f]==="__o")&&l.$$typeof)&&!i(l[p[f]],c[p[f]]))return!1;return!0}return l!==l&&c!==c}return qy=function(c,h){try{return i(c,h)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},qy}var l5=o5();const c5=hu(l5);var Hy,I2;function d5(){if(I2)return Hy;I2=1;var n=function(e,s,r,i,l,c,h,f){if(!e){var p;if(s===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var x=[r,i,l,c,h,f],b=0;p=new Error(s.replace(/%s/g,function(){return x[b++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Hy=n,Hy}var u5=d5();const R2=hu(u5);var Gy,P2;function h5(){return P2||(P2=1,Gy=function(e,s,r,i){var l=r?r.call(i,e,s):void 0;if(l!==void 0)return!!l;if(e===s)return!0;if(typeof e!="object"||!e||typeof s!="object"||!s)return!1;var c=Object.keys(e),h=Object.keys(s);if(c.length!==h.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(s),p=0;p<c.length;p++){var x=c[p];if(!f(x))return!1;var b=e[x],v=s[x];if(l=r?r.call(i,b,v,x):void 0,l===!1||l===void 0&&b!==v)return!1}return!0}),Gy}var f5=h5();const m5=hu(f5);var Ak=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(Ak||{}),Ky={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},D2=Object.values(Ak),$v={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},p5=Object.entries($v).reduce((n,[e,s])=>(n[s]=e,n),{}),sa="data-rh",Ed={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Cd=(n,e)=>{for(let s=n.length-1;s>=0;s-=1){const r=n[s];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},g5=n=>{let e=Cd(n,"title");const s=Cd(n,Ed.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),s&&e)return s.replace(/%s/g,()=>e);const r=Cd(n,Ed.DEFAULT_TITLE);return e||r||void 0},x5=n=>Cd(n,Ed.ON_CHANGE_CLIENT_STATE)||(()=>{}),Wy=(n,e)=>e.filter(s=>typeof s[n]<"u").map(s=>s[n]).reduce((s,r)=>({...s,...r}),{}),y5=(n,e)=>e.filter(s=>typeof s.base<"u").map(s=>s.base).reverse().reduce((s,r)=>{if(!s.length){const i=Object.keys(r);for(let l=0;l<i.length;l+=1){const h=i[l].toLowerCase();if(n.indexOf(h)!==-1&&r[h])return s.concat(r)}}return s},[]),b5=n=>console&&typeof console.warn=="function"&&console.warn(n),Ah=(n,e,s)=>{const r={};return s.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&b5(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,l)=>{const c={};l.filter(f=>{let p;const x=Object.keys(f);for(let v=0;v<x.length;v+=1){const E=x[v],S=E.toLowerCase();e.indexOf(S)!==-1&&!(p==="rel"&&f[p].toLowerCase()==="canonical")&&!(S==="rel"&&f[S].toLowerCase()==="stylesheet")&&(p=S),e.indexOf(E)!==-1&&(E==="innerHTML"||E==="cssText"||E==="itemprop")&&(p=E)}if(!p||!f[p])return!1;const b=f[p].toLowerCase();return r[p]||(r[p]={}),c[p]||(c[p]={}),r[p][b]?!1:(c[p][b]=!0,!0)}).reverse().forEach(f=>i.push(f));const h=Object.keys(c);for(let f=0;f<h.length;f+=1){const p=h[f],x={...r[p],...c[p]};r[p]=x}return i},[]).reverse()},v5=(n,e)=>{if(Array.isArray(n)&&n.length){for(let s=0;s<n.length;s+=1)if(n[s][e])return!0}return!1},w5=n=>({baseTag:y5(["href"],n),bodyAttributes:Wy("bodyAttributes",n),defer:Cd(n,Ed.DEFER),encode:Cd(n,Ed.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Wy("htmlAttributes",n),linkTags:Ah("link",["rel","href"],n),metaTags:Ah("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Ah("noscript",["innerHTML"],n),onChangeClientState:x5(n),scriptTags:Ah("script",["src","innerHTML"],n),styleTags:Ah("style",["cssText"],n),title:g5(n),titleAttributes:Wy("titleAttributes",n),prioritizeSeoTags:v5(n,Ed.PRIORITIZE_SEO_TAGS)}),Ik=n=>Array.isArray(n)?n.join(""):n,j5=(n,e)=>{const s=Object.keys(n);for(let r=0;r<s.length;r+=1)if(e[s[r]]&&e[s[r]].includes(n[s[r]]))return!0;return!1},Yy=(n,e)=>Array.isArray(n)?n.reduce((s,r)=>(j5(r,e)?s.priority.push(r):s.default.push(r),s),{priority:[],default:[]}):{default:n,priority:[]},O2=(n,e)=>({...n,[e]:void 0}),N5=["noscript","script","style"],Rb=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Rk=n=>Object.keys(n).reduce((e,s)=>{const r=typeof n[s]<"u"?`${s}="${n[s]}"`:`${s}`;return e?`${e} ${r}`:r},""),_5=(n,e,s,r)=>{const i=Rk(s),l=Ik(e);return i?`<${n} ${sa}="true" ${i}>${Rb(l,r)}</${n}>`:`<${n} ${sa}="true">${Rb(l,r)}</${n}>`},S5=(n,e,s=!0)=>e.reduce((r,i)=>{const l=i,c=Object.keys(l).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,x)=>{const b=typeof l[x]>"u"?x:`${x}="${Rb(l[x],s)}"`;return p?`${p} ${b}`:b},""),h=l.innerHTML||l.cssText||"",f=N5.indexOf(n)===-1;return`${r}<${n} ${sa}="true" ${c}${f?"/>":`>${h}</${n}>`}`},""),Pk=(n,e={})=>Object.keys(n).reduce((s,r)=>{const i=$v[r];return s[i||r]=n[r],s},e),T5=(n,e,s)=>{const r={key:e,[sa]:!0},i=Pk(s,r);return[Ke.createElement("title",i,e)]},eg=(n,e)=>e.map((s,r)=>{const i={key:r,[sa]:!0};return Object.keys(s).forEach(l=>{const h=$v[l]||l;if(h==="innerHTML"||h==="cssText"){const f=s.innerHTML||s.cssText;i.dangerouslySetInnerHTML={__html:f}}else i[h]=s[l]}),Ke.createElement(n,i)}),Cr=(n,e,s=!0)=>{switch(n){case"title":return{toComponent:()=>T5(n,e.title,e.titleAttributes),toString:()=>_5(n,e.title,e.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Pk(e),toString:()=>Rk(e)};default:return{toComponent:()=>eg(n,e),toString:()=>S5(n,e,s)}}},k5=({metaTags:n,linkTags:e,scriptTags:s,encode:r})=>{const i=Yy(n,Ky.meta),l=Yy(e,Ky.link),c=Yy(s,Ky.script);return{priorityMethods:{toComponent:()=>[...eg("meta",i.priority),...eg("link",l.priority),...eg("script",c.priority)],toString:()=>`${Cr("meta",i.priority,r)} ${Cr("link",l.priority,r)} ${Cr("script",c.priority,r)}`},metaTags:i.default,linkTags:l.default,scriptTags:c.default}},E5=n=>{const{baseTag:e,bodyAttributes:s,encode:r=!0,htmlAttributes:i,noscriptTags:l,styleTags:c,title:h="",titleAttributes:f,prioritizeSeoTags:p}=n;let{linkTags:x,metaTags:b,scriptTags:v}=n,E={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:E,linkTags:x,metaTags:b,scriptTags:v}=k5(n)),{priority:E,base:Cr("base",e,r),bodyAttributes:Cr("bodyAttributes",s,r),htmlAttributes:Cr("htmlAttributes",i,r),link:Cr("link",x,r),meta:Cr("meta",b,r),noscript:Cr("noscript",l,r),script:Cr("script",v,r),style:Cr("style",c,r),title:Cr("title",{title:h,titleAttributes:f},r)}},Pb=E5,Up=[],Dk=!!(typeof window<"u"&&window.document&&window.document.createElement),Db=class{constructor(n,e){ui(this,"instances",[]);ui(this,"canUseDOM",Dk);ui(this,"context");ui(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Up:this.instances,add:n=>{(this.canUseDOM?Up:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Up:this.instances).indexOf(n);(this.canUseDOM?Up:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=Pb({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},C5={},Ok=Ke.createContext(C5),Fl,Mk=(Fl=class extends w.Component{constructor(s){super(s);ui(this,"helmetData");this.helmetData=new Db(this.props.context||{},Fl.canUseDOM)}render(){return Ke.createElement(Ok.Provider,{value:this.helmetData.value},this.props.children)}},ui(Fl,"canUseDOM",Dk),Fl),ud=(n,e)=>{const s=document.head||document.querySelector("head"),r=s.querySelectorAll(`${n}[${sa}]`),i=[].slice.call(r),l=[];let c;return e&&e.length&&e.forEach(h=>{const f=document.createElement(n);for(const p in h)if(Object.prototype.hasOwnProperty.call(h,p))if(p==="innerHTML")f.innerHTML=h.innerHTML;else if(p==="cssText")f.styleSheet?f.styleSheet.cssText=h.cssText:f.appendChild(document.createTextNode(h.cssText));else{const x=p,b=typeof h[x]>"u"?"":h[x];f.setAttribute(p,b)}f.setAttribute(sa,"true"),i.some((p,x)=>(c=x,f.isEqualNode(p)))?i.splice(c,1):l.push(f)}),i.forEach(h=>{var f;return(f=h.parentNode)==null?void 0:f.removeChild(h)}),l.forEach(h=>s.appendChild(h)),{oldTags:i,newTags:l}},Ob=(n,e)=>{const s=document.getElementsByTagName(n)[0];if(!s)return;const r=s.getAttribute(sa),i=r?r.split(","):[],l=[...i],c=Object.keys(e);for(const h of c){const f=e[h]||"";s.getAttribute(h)!==f&&s.setAttribute(h,f),i.indexOf(h)===-1&&i.push(h);const p=l.indexOf(h);p!==-1&&l.splice(p,1)}for(let h=l.length-1;h>=0;h-=1)s.removeAttribute(l[h]);i.length===l.length?s.removeAttribute(sa):s.getAttribute(sa)!==c.join(",")&&s.setAttribute(sa,c.join(","))},A5=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=Ik(n)),Ob("title",e)},M2=(n,e)=>{const{baseTag:s,bodyAttributes:r,htmlAttributes:i,linkTags:l,metaTags:c,noscriptTags:h,onChangeClientState:f,scriptTags:p,styleTags:x,title:b,titleAttributes:v}=n;Ob("body",r),Ob("html",i),A5(b,v);const E={baseTag:ud("base",s),linkTags:ud("link",l),metaTags:ud("meta",c),noscriptTags:ud("noscript",h),scriptTags:ud("script",p),styleTags:ud("style",x)},S={},A={};Object.keys(E).forEach(C=>{const{newTags:P,oldTags:D}=E[C];P.length&&(S[C]=P),D.length&&(A[C]=E[C].oldTags)}),e&&e(),f(n,S,A)},Ih=null,I5=n=>{Ih&&cancelAnimationFrame(Ih),n.defer?Ih=requestAnimationFrame(()=>{M2(n,()=>{Ih=null})}):(M2(n),Ih=null)},R5=I5,L2=class extends w.Component{constructor(){super(...arguments);ui(this,"rendered",!1)}shouldComponentUpdate(e){return!m5(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:s}=this.props.context;let r=null;const i=w5(e.get().map(l=>{const c={...l.props};return delete c.context,c}));Mk.canUseDOM?R5(i):Pb&&(r=Pb(i)),s(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Ib,P5=(Ib=class extends w.Component{shouldComponentUpdate(n){return!c5(O2(this.props,"helmetData"),O2(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,s,r){return{...e,[n.type]:[...e[n.type]||[],{...s,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,s,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...s}};case"body":return{...e,bodyAttributes:{...s}};case"html":return{...e,htmlAttributes:{...s}};default:return{...e,[n.type]:{...s}}}}mapArrayTypeChildrenToProps(n,e){let s={...e};return Object.keys(n).forEach(r=>{s={...s,[r]:n[r]}}),s}warnOnInvalidChildren(n,e){return R2(D2.some(s=>n.type===s),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${D2.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),R2(!e||typeof e=="string"||Array.isArray(e)&&!e.some(s=>typeof s!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let s={};return Ke.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:i,...l}=r.props,c=Object.keys(l).reduce((f,p)=>(f[p5[p]||p]=l[p],f),{});let{type:h}=r;switch(typeof h=="symbol"?h=h.toString():this.warnOnInvalidChildren(r,i),h){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(r,s,c,i);break;default:e=this.mapObjectTypeChildren(r,e,c,i);break}}),this.mapArrayTypeChildrenToProps(s,e)}render(){const{children:n,...e}=this.props;let s={...e},{helmetData:r}=e;if(n&&(s=this.mapChildrenToProps(n,s)),r&&!(r instanceof Db)){const i=r;r=new Db(i.context,!0),delete s.helmetData}return r?Ke.createElement(L2,{...s,context:r.value}):Ke.createElement(Ok.Consumer,null,i=>Ke.createElement(L2,{...s,context:i}))}},ui(Ib,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Ib);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var V2="popstate";function D5(n={}){function e(r,i){let{pathname:l,search:c,hash:h}=r.location;return Mb("",{pathname:l,search:c,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:xf(i)}return M5(e,s,null,n)}function es(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Pr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function O5(){return Math.random().toString(36).substring(2,10)}function z2(n,e){return{usr:n.state,key:n.key,idx:e}}function Mb(n,e,s=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?fu(e):e,state:s,key:e&&e.key||r||O5()}}function xf({pathname:n="/",search:e="",hash:s=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function fu(n){let e={};if(n){let s=n.indexOf("#");s>=0&&(e.hash=n.substring(s),n=n.substring(0,s));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function M5(n,e,s,r={}){let{window:i=document.defaultView,v5Compat:l=!1}=r,c=i.history,h="POP",f=null,p=x();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function x(){return(c.state||{idx:null}).idx}function b(){h="POP";let C=x(),P=C==null?null:C-p;p=C,f&&f({action:h,location:A.location,delta:P})}function v(C,P){h="PUSH";let D=Mb(A.location,C,P);p=x()+1;let F=z2(D,p),B=A.createHref(D);try{c.pushState(F,"",B)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(B)}l&&f&&f({action:h,location:A.location,delta:1})}function E(C,P){h="REPLACE";let D=Mb(A.location,C,P);p=x();let F=z2(D,p),B=A.createHref(D);c.replaceState(F,"",B),l&&f&&f({action:h,location:A.location,delta:0})}function S(C){return L5(C)}let A={get action(){return h},get location(){return n(i,c)},listen(C){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(V2,b),f=C,()=>{i.removeEventListener(V2,b),f=null}},createHref(C){return e(i,C)},createURL:S,encodeLocation(C){let P=S(C);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:v,replace:E,go(C){return c.go(C)}};return A}function L5(n,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),es(s,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:xf(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function Lk(n,e,s="/"){return V5(n,e,s,!1)}function V5(n,e,s,r){let i=typeof e=="string"?fu(e):e,l=vi(i.pathname||"/",s);if(l==null)return null;let c=Vk(n);z5(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let p=Q5(l);h=W5(c[f],p,r)}return h}function Vk(n,e=[],s=[],r="",i=!1){let l=(c,h,f=i,p)=>{let x={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&f)return;es(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let b=gi([r,x.relativePath]),v=s.concat(x);c.children&&c.children.length>0&&(es(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Vk(c.children,e,v,b,f)),!(c.path==null&&!c.index)&&e.push({path:b,score:G5(b,c.index),routesMeta:v})};return n.forEach((c,h)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,h);else for(let p of zk(c.path))l(c,h,!0,p)}),e}function zk(n){let e=n.split("/");if(e.length===0)return[];let[s,...r]=e,i=s.endsWith("?"),l=s.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let c=zk(r.join("/")),h=[];return h.push(...c.map(f=>f===""?l:[l,f].join("/"))),i&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function z5(n){n.sort((e,s)=>e.score!==s.score?s.score-e.score:K5(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var U5=/^:[\w-]+$/,B5=3,F5=2,$5=1,q5=10,H5=-2,U2=n=>n==="*";function G5(n,e){let s=n.split("/"),r=s.length;return s.some(U2)&&(r+=H5),e&&(r+=F5),s.filter(i=>!U2(i)).reduce((i,l)=>i+(U5.test(l)?B5:l===""?$5:q5),r)}function K5(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function W5(n,e,s=!1){let{routesMeta:r}=n,i={},l="/",c=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,x=l==="/"?e:e.slice(l.length)||"/",b=wg({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},x),v=f.route;if(!b&&p&&s&&!r[r.length-1].route.index&&(b=wg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},x)),!b)return null;Object.assign(i,b.params),c.push({params:i,pathname:gi([l,b.pathname]),pathnameBase:eP(gi([l,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(l=gi([l,b.pathnameBase]))}return c}function wg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,r]=Y5(n.path,n.caseSensitive,n.end),i=e.match(s);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((p,{paramName:x,isOptional:b},v)=>{if(x==="*"){let S=h[v]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const E=h[v];return b&&!E?p[x]=void 0:p[x]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function Y5(n,e=!1,s=!0){Pr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Q5(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function vi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=n.charAt(s);return r&&r!=="/"?null:n.slice(s)||"/"}var J5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function X5(n,e="/"){let{pathname:s,search:r="",hash:i=""}=typeof n=="string"?fu(n):n,l;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?l=B2(s.substring(1),"/"):l=B2(s,e)):l=e,{pathname:l,search:tP(r),hash:sP(i)}}function B2(n,e){let s=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Qy(n,e,s,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z5(n){return n.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function qv(n){let e=Z5(n);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function Hv(n,e,s,r=!1){let i;typeof n=="string"?i=fu(n):(i={...n},es(!i.pathname||!i.pathname.includes("?"),Qy("?","pathname","search",i)),es(!i.pathname||!i.pathname.includes("#"),Qy("#","pathname","hash",i)),es(!i.search||!i.search.includes("#"),Qy("#","search","hash",i)));let l=n===""||i.pathname==="",c=l?"/":i.pathname,h;if(c==null)h=s;else{let b=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),b-=1;i.pathname=v.join("/")}h=b>=0?e[b]:"/"}let f=X5(i,h),p=c&&c!=="/"&&c.endsWith("/"),x=(l||c===".")&&s.endsWith("/");return!f.pathname.endsWith("/")&&(p||x)&&(f.pathname+="/"),f}var gi=n=>n.join("/").replace(/\/\/+/g,"/"),eP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,nP=class{constructor(n,e,s,r=!1){this.status=n,this.statusText=e||"",this.internal=r,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function rP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function aP(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Uk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bk(n,e){let s=n;if(typeof s!="string"||!J5.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let r=s,i=!1;if(Uk)try{let l=new URL(window.location.href),c=s.startsWith("//")?new URL(l.protocol+s):new URL(s),h=vi(c.pathname,e);c.origin===l.origin&&h!=null?s=h+c.search+c.hash:i=!0}catch{Pr(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Fk=["POST","PUT","PATCH","DELETE"];new Set(Fk);var iP=["GET",...Fk];new Set(iP);var mu=w.createContext(null);mu.displayName="DataRouter";var Jg=w.createContext(null);Jg.displayName="DataRouterState";var oP=w.createContext(!1),$k=w.createContext({isTransitioning:!1});$k.displayName="ViewTransition";var lP=w.createContext(new Map);lP.displayName="Fetchers";var cP=w.createContext(null);cP.displayName="Await";var mr=w.createContext(null);mr.displayName="Navigation";var $f=w.createContext(null);$f.displayName="Location";var ca=w.createContext({outlet:null,matches:[],isDataRoute:!1});ca.displayName="Route";var Gv=w.createContext(null);Gv.displayName="RouteError";var qk="REACT_ROUTER_ERROR",dP="REDIRECT",uP="ROUTE_ERROR_RESPONSE";function hP(n){if(n.startsWith(`${qk}:${dP}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fP(n){if(n.startsWith(`${qk}:${uP}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new nP(e.status,e.statusText,e.data)}catch{}}function mP(n,{relative:e}={}){es(pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=w.useContext(mr),{hash:i,pathname:l,search:c}=qf(n,{relative:e}),h=l;return s!=="/"&&(h=l==="/"?s:gi([s,l])),r.createHref({pathname:h,search:c,hash:i})}function pu(){return w.useContext($f)!=null}function Hn(){return es(pu(),"useLocation() may be used only in the context of a <Router> component."),w.useContext($f).location}var Hk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gk(n){w.useContext(mr).static||w.useLayoutEffect(n)}function Vs(){let{isDataRoute:n}=w.useContext(ca);return n?kP():pP()}function pP(){es(pu(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(mu),{basename:e,navigator:s}=w.useContext(mr),{matches:r}=w.useContext(ca),{pathname:i}=Hn(),l=JSON.stringify(qv(r)),c=w.useRef(!1);return Gk(()=>{c.current=!0}),w.useCallback((f,p={})=>{if(Pr(c.current,Hk),!c.current)return;if(typeof f=="number"){s.go(f);return}let x=Hv(f,JSON.parse(l),i,p.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:gi([e,x.pathname])),(p.replace?s.replace:s.push)(x,p.state,p)},[e,s,l,i,n])}w.createContext(null);function Ad(){let{matches:n}=w.useContext(ca),e=n[n.length-1];return e?e.params:{}}function qf(n,{relative:e}={}){let{matches:s}=w.useContext(ca),{pathname:r}=Hn(),i=JSON.stringify(qv(s));return w.useMemo(()=>Hv(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function gP(n,e){return Kk(n,e)}function Kk(n,e,s,r,i){var D;es(pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(mr),{matches:c}=w.useContext(ca),h=c[c.length-1],f=h?h.params:{},p=h?h.pathname:"/",x=h?h.pathnameBase:"/",b=h&&h.route;{let F=b&&b.path||"";Yk(p,!b||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let v=Hn(),E;if(e){let F=typeof e=="string"?fu(e):e;es(x==="/"||((D=F.pathname)==null?void 0:D.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${F.pathname}" was given in the \`location\` prop.`),E=F}else E=v;let S=E.pathname||"/",A=S;if(x!=="/"){let F=x.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice(F.length).join("/")}let C=Lk(n,{pathname:A});Pr(b||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Pr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=wP(C&&C.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:gi([x,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?x:gi([x,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,s,r,i);return e&&P?w.createElement($f.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},P):P}function xP(){let n=TP(),e=rP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),s?w.createElement("pre",{style:i},s):null,c)}var yP=w.createElement(xP,null),Wk=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const s=fP(n.digest);s&&(n=s)}let e=n!==void 0?w.createElement(ca.Provider,{value:this.props.routeContext},w.createElement(Gv.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?w.createElement(bP,{error:n},e):e}};Wk.contextType=oP;var Jy=new WeakMap;function bP({children:n,error:e}){let{basename:s}=w.useContext(mr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=hP(e.digest);if(r){let i=Jy.get(e);if(i)throw i;let l=Bk(r.location,s);if(Uk&&!Jy.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw Jy.set(e,c),c}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function vP({routeContext:n,match:e,children:s}){let r=w.useContext(mu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(ca.Provider,{value:n},s)}function wP(n,e=[],s=null,r=null,i=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let l=n,c=s==null?void 0:s.errors;if(c!=null){let x=l.findIndex(b=>b.route.id&&(c==null?void 0:c[b.route.id])!==void 0);es(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,x+1))}let h=!1,f=-1;if(s)for(let x=0;x<l.length;x++){let b=l[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(f=x),b.route.id){let{loaderData:v,errors:E}=s,S=b.route.loader&&!v.hasOwnProperty(b.route.id)&&(!E||E[b.route.id]===void 0);if(b.route.lazy||S){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=s&&r?(x,b)=>{var v,E;r(x,{location:s.location,params:((E=(v=s.matches)==null?void 0:v[0])==null?void 0:E.params)??{},unstable_pattern:aP(s.matches),errorInfo:b})}:void 0;return l.reduceRight((x,b,v)=>{let E,S=!1,A=null,C=null;s&&(E=c&&b.route.id?c[b.route.id]:void 0,A=b.route.errorElement||yP,h&&(f<0&&v===0?(Yk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,C=null):f===v&&(S=!0,C=b.route.hydrateFallbackElement||null)));let P=e.concat(l.slice(0,v+1)),D=()=>{let F;return E?F=A:S?F=C:b.route.Component?F=w.createElement(b.route.Component,null):b.route.element?F=b.route.element:F=x,w.createElement(vP,{match:b,routeContext:{outlet:x,matches:P,isDataRoute:s!=null},children:F})};return s&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?w.createElement(Wk,{location:s.location,revalidation:s.revalidation,component:A,error:E,children:D(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:p}):D()},null)}function Kv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jP(n){let e=w.useContext(mu);return es(e,Kv(n)),e}function NP(n){let e=w.useContext(Jg);return es(e,Kv(n)),e}function _P(n){let e=w.useContext(ca);return es(e,Kv(n)),e}function Wv(n){let e=_P(n),s=e.matches[e.matches.length-1];return es(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function SP(){return Wv("useRouteId")}function TP(){var r;let n=w.useContext(Gv),e=NP("useRouteError"),s=Wv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[s]}function kP(){let{router:n}=jP("useNavigate"),e=Wv("useNavigate"),s=w.useRef(!1);return Gk(()=>{s.current=!0}),w.useCallback(async(i,l={})=>{Pr(s.current,Hk),s.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...l}))},[n,e])}var F2={};function Yk(n,e,s){!e&&!F2[n]&&(F2[n]=!0,Pr(!1,s))}w.memo(EP);function EP({routes:n,future:e,state:s,onError:r}){return Kk(n,void 0,s,r,e)}function ea({to:n,replace:e,state:s,relative:r}){es(pu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(mr);Pr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(ca),{pathname:c}=Hn(),h=Vs(),f=Hv(n,qv(l),c,r==="path"),p=JSON.stringify(f);return w.useEffect(()=>{h(JSON.parse(p),{replace:e,state:s,relative:r})},[h,p,r,e,s]),null}function Be(n){es(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CP({basename:n="/",children:e=null,location:s,navigationType:r="POP",navigator:i,static:l=!1,unstable_useTransitions:c}){es(!pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:h,navigator:i,static:l,unstable_useTransitions:c,future:{}}),[h,i,l,c]);typeof s=="string"&&(s=fu(s));let{pathname:p="/",search:x="",hash:b="",state:v=null,key:E="default"}=s,S=w.useMemo(()=>{let A=vi(p,h);return A==null?null:{location:{pathname:A,search:x,hash:b,state:v,key:E},navigationType:r}},[h,p,x,b,v,E,r]);return Pr(S!=null,`<Router basename="${h}"> is not able to match the URL "${p}${x}${b}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(mr.Provider,{value:f},w.createElement($f.Provider,{children:e,value:S}))}function Yv({children:n,location:e}){return gP(Lb(n),e)}function Lb(n,e=[]){let s=[];return w.Children.forEach(n,(r,i)=>{if(!w.isValidElement(r))return;let l=[...e,i];if(r.type===w.Fragment){s.push.apply(s,Lb(r.props.children,l));return}es(r.type===Be,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),es(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Lb(r.props.children,l)),s.push(c)}),s}var tg="get",sg="application/x-www-form-urlencoded";function Xg(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function AP(n){return Xg(n)&&n.tagName.toLowerCase()==="button"}function IP(n){return Xg(n)&&n.tagName.toLowerCase()==="form"}function RP(n){return Xg(n)&&n.tagName.toLowerCase()==="input"}function PP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function DP(n,e){return n.button===0&&(!e||e==="_self")&&!PP(n)}function Vb(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,s)=>{let r=n[s];return e.concat(Array.isArray(r)?r.map(i=>[s,i]):[[s,r]])},[]))}function OP(n,e){let s=Vb(n);return e&&e.forEach((r,i)=>{s.has(i)||e.getAll(i).forEach(l=>{s.append(i,l)})}),s}var Bp=null;function MP(){if(Bp===null)try{new FormData(document.createElement("form"),0),Bp=!1}catch{Bp=!0}return Bp}var LP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xy(n){return n!=null&&!LP.has(n)?(Pr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sg}"`),null):n}function VP(n,e){let s,r,i,l,c;if(IP(n)){let h=n.getAttribute("action");r=h?vi(h,e):null,s=n.getAttribute("method")||tg,i=Xy(n.getAttribute("enctype"))||sg,l=new FormData(n)}else if(AP(n)||RP(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?vi(f,e):null,s=n.getAttribute("formmethod")||h.getAttribute("method")||tg,i=Xy(n.getAttribute("formenctype"))||Xy(h.getAttribute("enctype"))||sg,l=new FormData(h,n),!MP()){let{name:p,type:x,value:b}=n;if(x==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,b)}}else{if(Xg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=tg,r=null,i=sg,c=n}return l&&i==="text/plain"&&(c=l,l=void 0),{action:r,method:s.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zP(n,e,s,r){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&vi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function UP(n,e){if(n.id in e)return e[n.id];try{let s=await import(n.module);return e[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function FP(n,e,s){let r=await Promise.all(n.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await UP(l,s);return c.links?c.links():[]}return[]}));return GP(r.flat(1).filter(BP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function $2(n,e,s,r,i,l){let c=(f,p)=>s[p]?f.route.id!==s[p].route.id:!0,h=(f,p)=>{var x;return s[p].pathname!==f.pathname||((x=s[p].route.path)==null?void 0:x.endsWith("*"))&&s[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>c(f,p)||h(f,p)):l==="data"?e.filter((f,p)=>{var b;let x=r.routes[f.route.id];if(!x||!x.hasLoader)return!1;if(c(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((b=s[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function $P(n,e,{includeHydrateFallback:s}={}){return qP(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function qP(n){return[...new Set(n)]}function HP(n){let e={},s=Object.keys(n).sort();for(let r of s)e[r]=n[r];return e}function GP(n,e){let s=new Set;return new Set(e),n.reduce((r,i)=>{let l=JSON.stringify(HP(i));return s.has(l)||(s.add(l),r.push({key:l,link:i})),r},[])}function Qk(){let n=w.useContext(mu);return Qv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function KP(){let n=w.useContext(Jg);return Qv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jv=w.createContext(void 0);Jv.displayName="FrameworkContext";function Jk(){let n=w.useContext(Jv);return Qv(n,"You must render this element inside a <HydratedRouter> element"),n}function WP(n,e){let s=w.useContext(Jv),[r,i]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:x,onTouchStart:b}=e,v=w.useRef(null);w.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let A=P=>{P.forEach(D=>{c(D.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[n]),w.useEffect(()=>{if(r){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[r]);let E=()=>{i(!0)},S=()=>{i(!1),c(!1)};return s?n!=="intent"?[l,v,{}]:[l,v,{onFocus:Rh(h,E),onBlur:Rh(f,S),onMouseEnter:Rh(p,E),onMouseLeave:Rh(x,S),onTouchStart:Rh(b,E)}]:[!1,v,{}]}function Rh(n,e){return s=>{n&&n(s),s.defaultPrevented||e(s)}}function YP({page:n,...e}){let{router:s}=Qk(),r=w.useMemo(()=>Lk(s.routes,n,s.basename),[s.routes,n,s.basename]);return r?w.createElement(JP,{page:n,matches:r,...e}):null}function QP(n){let{manifest:e,routeModules:s}=Jk(),[r,i]=w.useState([]);return w.useEffect(()=>{let l=!1;return FP(n,e,s).then(c=>{l||i(c)}),()=>{l=!0}},[n,e,s]),r}function JP({page:n,matches:e,...s}){let r=Hn(),{future:i,manifest:l,routeModules:c}=Jk(),{basename:h}=Qk(),{loaderData:f,matches:p}=KP(),x=w.useMemo(()=>$2(n,e,p,l,r,"data"),[n,e,p,l,r]),b=w.useMemo(()=>$2(n,e,p,l,r,"assets"),[n,e,p,l,r]),v=w.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,C=!1;if(e.forEach(D=>{var B;let F=l.routes[D.route.id];!F||!F.hasLoader||(!x.some($=>$.route.id===D.route.id)&&D.route.id in f&&((B=c[D.route.id])!=null&&B.shouldRevalidate)||F.hasClientLoader?C=!0:A.add(D.route.id))}),A.size===0)return[];let P=zP(n,h,i.unstable_trailingSlashAwareDataRequests,"data");return C&&A.size>0&&P.searchParams.set("_routes",e.filter(D=>A.has(D.route.id)).map(D=>D.route.id).join(",")),[P.pathname+P.search]},[h,i.unstable_trailingSlashAwareDataRequests,f,r,l,x,e,n,c]),E=w.useMemo(()=>$P(b,l),[b,l]),S=QP(b);return w.createElement(w.Fragment,null,v.map(A=>w.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...s})),E.map(A=>w.createElement("link",{key:A,rel:"modulepreload",href:A,...s})),S.map(({key:A,link:C})=>w.createElement("link",{key:A,nonce:s.nonce,...C,crossOrigin:C.crossOrigin??s.crossOrigin})))}function XP(...n){return e=>{n.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var ZP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZP&&(window.__reactRouterVersion="7.13.0")}catch{}function e3({basename:n,children:e,unstable_useTransitions:s,window:r}){let i=w.useRef();i.current==null&&(i.current=D5({window:r,v5Compat:!0}));let l=i.current,[c,h]=w.useState({action:l.action,location:l.location}),f=w.useCallback(p=>{s===!1?h(p):w.startTransition(()=>h(p))},[s]);return w.useLayoutEffect(()=>l.listen(f),[l,f]),w.createElement(CP,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:s})}var Xk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ve=w.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:i,reloadDocument:l,replace:c,state:h,target:f,to:p,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:v,...E},S){let{basename:A,unstable_useTransitions:C}=w.useContext(mr),P=typeof p=="string"&&Xk.test(p),D=Bk(p,A);p=D.to;let F=mP(p,{relative:i}),[B,$,Q]=WP(r,E),_=r3(p,{replace:c,state:h,target:f,preventScrollReset:x,relative:i,viewTransition:b,unstable_defaultShouldRevalidate:v,unstable_useTransitions:C});function k(L){e&&e(L),L.defaultPrevented||_(L)}let I=w.createElement("a",{...E,...Q,href:D.absoluteURL||F,onClick:D.isExternal||l?e:k,ref:XP(S,$),target:f,"data-discover":!P&&s==="render"?"true":void 0});return B&&!P?w.createElement(w.Fragment,null,I,w.createElement(YP,{page:F})):I});Ve.displayName="Link";var t3=w.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:i=!1,style:l,to:c,viewTransition:h,children:f,...p},x){let b=qf(c,{relative:p.relative}),v=Hn(),E=w.useContext(Jg),{navigator:S,basename:A}=w.useContext(mr),C=E!=null&&c3(b)&&h===!0,P=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,D=v.pathname,F=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;s||(D=D.toLowerCase(),F=F?F.toLowerCase():null,P=P.toLowerCase()),F&&A&&(F=vi(F,A)||F);const B=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let $=D===P||!i&&D.startsWith(P)&&D.charAt(B)==="/",Q=F!=null&&(F===P||!i&&F.startsWith(P)&&F.charAt(P.length)==="/"),_={isActive:$,isPending:Q,isTransitioning:C},k=$?e:void 0,I;typeof r=="function"?I=r(_):I=[r,$?"active":null,Q?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(_):l;return w.createElement(Ve,{...p,"aria-current":k,className:I,ref:x,style:L,to:c,viewTransition:h},typeof f=="function"?f(_):f)});t3.displayName="NavLink";var s3=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:i,state:l,method:c=tg,action:h,onSubmit:f,relative:p,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:v,...E},S)=>{let{unstable_useTransitions:A}=w.useContext(mr),C=o3(),P=l3(h,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&Xk.test(h),B=$=>{if(f&&f($),$.defaultPrevented)return;$.preventDefault();let Q=$.nativeEvent.submitter,_=(Q==null?void 0:Q.getAttribute("formmethod"))||c,k=()=>C(Q||$.currentTarget,{fetcherKey:e,method:_,navigate:s,replace:i,state:l,relative:p,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:v});A&&s!==!1?w.startTransition(()=>k()):k()};return w.createElement("form",{ref:S,method:D,action:P,onSubmit:r?f:B,...E,"data-discover":!F&&n==="render"?"true":void 0})});s3.displayName="Form";function n3(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zk(n){let e=w.useContext(mu);return es(e,n3(n)),e}function r3(n,{target:e,replace:s,state:r,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let p=Vs(),x=Hn(),b=qf(n,{relative:l});return w.useCallback(v=>{if(DP(v,e)){v.preventDefault();let E=s!==void 0?s:xf(x)===xf(b),S=()=>p(n,{replace:E,state:r,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});f?w.startTransition(()=>S()):S()}},[x,p,b,s,r,e,n,i,l,c,h,f])}function Zg(n){Pr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(Vb(n)),s=w.useRef(!1),r=Hn(),i=w.useMemo(()=>OP(r.search,s.current?null:e.current),[r.search]),l=Vs(),c=w.useCallback((h,f)=>{const p=Vb(typeof h=="function"?h(new URLSearchParams(i)):h);s.current=!0,l("?"+p,f)},[l,i]);return[i,c]}var a3=0,i3=()=>`__${String(++a3)}__`;function o3(){let{router:n}=Zk("useSubmit"),{basename:e}=w.useContext(mr),s=SP(),r=n.fetch,i=n.navigate;return w.useCallback(async(l,c={})=>{let{action:h,method:f,encType:p,formData:x,body:b}=VP(l,e);if(c.navigate===!1){let v=c.fetcherKey||i3();await r(v,s,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:x,body:b,formMethod:c.method||f,formEncType:c.encType||p,flushSync:c.flushSync})}else await i(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:x,body:b,formMethod:c.method||f,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,i,e,s])}function l3(n,{relative:e}={}){let{basename:s}=w.useContext(mr),r=w.useContext(ca);es(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),l={...qf(n||".",{relative:e})},c=Hn();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(x=>x==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let x=h.toString();l.search=x?`?${x}`:""}}return(!n||n===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(l.pathname=l.pathname==="/"?s:gi([s,l.pathname])),xf(l)}function c3(n,{relative:e}={}){let s=w.useContext($k);es(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Zk("useViewTransitionState"),i=qf(n,{relative:e});if(!s.isTransitioning)return!1;let l=vi(s.currentLocation.pathname,r)||s.currentLocation.pathname,c=vi(s.nextLocation.pathname,r)||s.nextLocation.pathname;return wg(i.pathname,c)!=null||wg(i.pathname,l)!=null}/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u3=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),q2=n=>{const e=u3(n);return e.charAt(0).toUpperCase()+e.slice(1)},e4=(...n)=>n.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),h3=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:c,...h},f)=>w.createElement("svg",{ref:f,...f3,width:e,height:e,stroke:n,strokeWidth:r?Number(s)*24/Number(e):s,className:e4("lucide",i),...!l&&!h3(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,x])=>w.createElement(p,x)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(n,e)=>{const s=w.forwardRef(({className:r,...i},l)=>w.createElement(m3,{ref:l,iconNode:e,className:e4(`lucide-${d3(q2(n))}`,`lucide-${n}`,r),...i}));return s.displayName=q2(n),s};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ir=ue("activity",p3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],x3=ue("arrow-down-left",g3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$n=ue("arrow-left",y3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ds=ue("arrow-right",b3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],t4=ue("arrow-up-right",v3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],yf=ue("award",w3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],N3=ue("ban",j3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],S3=ue("banknote",_3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],zb=ue("bell",T3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]],E3=ue("bitcoin",k3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],A3=ue("briefcase",C3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Zy=ue("building-2",I3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],P3=ue("calculator",R3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wl=ue("calendar",D3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],M3=ue("camera",O3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ml=ue("chart-column",L3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],z3=ue("chart-no-axes-column-increasing",V3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],bf=ue("chart-no-axes-column",U3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sn=ue("check",B3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wi=ue("chevron-down",F3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Xv=ue("chevron-left",$3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xc=ue("chevron-right",q3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gu=ue("chevron-up",H3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Oo=ue("circle-alert",G3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bt=ue("circle-check-big",K3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Yl=ue("circle-check",W3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],Q3=ue("circle-pause",Y3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],X3=ue("circle-play",J3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eD=ue("circle-question-mark",Z3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ql=ue("circle-x",tD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],us=ue("clock",sD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],s4=ue("code",nD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],aD=ue("coins",rD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],oD=ue("cookie",iD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_n=ue("copy",lD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],dD=ue("cpu",cD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],on=ue("credit-card",uD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],fD=ue("database",hD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],za=ue("dollar-sign",mD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],xi=ue("download",pD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xD=ue("earth",gD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Hf=ue("external-link",yD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],n4=ue("eye-off",bD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gf=ue("eye",vD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],jD=ue("facebook",wD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],r4=ue("file-code",ND);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vf=ue("file-text",_D);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Co=ue("flame",SD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],kD=ue("folder-plus",TD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],CD=ue("folder",ED);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],xu=ue("funnel",AD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Oa=ue("gift",ID);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Rs=ue("globe",RD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],H2=ue("hash",PD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],a4=ue("history",DD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Jl=ue("info",OD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],LD=ue("instagram",MD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Vd=ue("key",VD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],i4=ue("landmark",zD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],oa=ue("layers",UD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],o4=ue("layout-dashboard",BD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],G2=ue("layout-template",FD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],qD=ue("link-2",$D);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Ub=ue("link",HD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cs=ue("loader-circle",GD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Vn=ue("lock",KD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],l4=ue("log-in",WD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QD=ue("log-out",YD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ji=ue("mail",JD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Mo=ue("map-pin",XD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Bb=ue("megaphone",ZD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],tO=ue("menu",eO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],nO=ue("message-circle",sO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Dr=ue("message-square",rO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"M5 12h14",key:"1ays0h"}]],K2=ue("minus",aO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],zd=ue("monitor",iO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],lO=ue("moon",oO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],dO=ue("mouse-pointer-2",cO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],Ni=ue("mouse-pointer",uO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],fO=ue("octagon-alert",hO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],pO=ue("panels-top-left",mO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],ef=ue("paperclip",gO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],c4=ue("pause",xO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Zv=ue("pen",yO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],vO=ue("pencil",bO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],jO=ue("phone",wO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ex=ue("play",NO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Or=ue("plus",_O);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],TO=ue("printer",SO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ew=ue("radio",kO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],d4=ue("receipt",EO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],So=ue("refresh-cw",CO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],IO=ue("rocket",AO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],PO=ue("rss",RO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fa=ue("save",DO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qn=ue("search",OO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ud=ue("send",MO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],VO=ue("server",LO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xl=ue("settings",zO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],tw=ue("share-2",UO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Fb=ue("shield-check",BO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Mr=ue("shield",FO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],sw=ue("shopping-cart",$O);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],u4=ue("sliders-vertical",qO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Bd=ue("smartphone",HO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tx=ue("sparkles",GO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],W2=ue("square-check-big",KO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],YO=ue("square-pen",WO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Y2=ue("square",QO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Lr=ue("star",JO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ZO=ue("sun",XO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],$b=ue("tag",eM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Zl=ue("target",tM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],h4=ue("terminal",sM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],rM=ue("ticket",nM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],iM=ue("toggle-left",aM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],lM=ue("toggle-right",oM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yc=ue("trash-2",cM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],dr=ue("trending-up",dM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ln=ue("triangle-alert",uM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],$l=ue("trophy",hM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],mM=ue("twitter",fM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jg=ue("upload",pM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xM=ue("user-check",gM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Fn=ue("user",yM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vr=ue("users",bM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],qb=ue("wallet",vM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],jM=ue("wrench",wM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nn=ue("x",NM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],SM=ue("youtube",_M);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Gt=ue("zap",TM),de=typeof window<"u"?window.location.origin:"",kM="",Q2=()=>!1,f4=n=>typeof localStorage<"u"?localStorage.getItem(n):null;let fi=f4("tgp_token");f4("modus_current_user_id");const be=async(n,e={})=>{const s={"Content-Type":"application/json",...e.headers};fi&&(s.Authorization=`Bearer ${fi}`);const r=await fetch(n,{...e,headers:s});return r.status===401&&(fi=null,localStorage.removeItem("tgp_token"),window.dispatchEvent(new Event("auth-expired"))),r},J2=(n,e=30)=>{const s=[],r=new Map(n.map(i=>[i.date,i]));for(let i=e-1;i>=0;i--){const l=new Date;l.setDate(l.getDate()-i);const c=l.toISOString().split("T")[0],h=r.get(c);s.push(h||{date:c,visitors:0,pageviews:0})}return s},q={init:()=>{console.log("Remote Database Initialized")},getCurrentUser:()=>{try{const n=localStorage.getItem("modus_current_user");return n?JSON.parse(n):void 0}catch(n){console.error("Failed to parse user data from localStorage:",n),localStorage.removeItem("modus_current_user");return}},refreshCurrentUser:async()=>{var n,e;try{const s=await be(`${de}/users/me`);if(!s.ok){if(s.status===401){q.logout();return}throw new Error("Failed to fetch user")}const r=await s.json(),i={id:r.id,email:r.email,name:r.name||((n=r.email)==null?void 0:n.split("@")[0])||"User",role:r.role,balance:r.balance,balanceEconomy:r.balance_economy,balanceProfessional:r.balance_professional,balanceExpert:r.balance_expert,status:r.status||"active",joinedDate:((e=r.created_at)==null?void 0:e.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:r.projects_count||0,apiKey:r.api_key,isVerified:r.is_verified??!1,phone:r.phone,company:r.company,vatId:r.vat_id,address:r.address,city:r.city,country:r.country,zip:r.zip,website:r.website,displayName:r.display_name,bio:r.bio,jobTitle:r.job_title,publicProfile:r.public_profile,twoFactorEnabled:r.two_factor_enabled,emailFrequency:r.email_frequency,loginNotificationEnabled:r.login_notification_enabled,newsletterSub:r.newsletter_sub,soundEffects:r.sound_effects,developerMode:r.developer_mode,apiWhitelist:r.api_whitelist,webhookSecret:r.webhook_secret,accessibility:r.accessibility,socialLinks:r.social_links,recoveryEmail:r.recovery_email,timezone:r.timezone,language:r.language,themeAccentColor:r.theme_accent_color,dateFormat:r.date_format,numberFormat:r.number_format,requirePasswordReset:r.require_password_reset,avatarUrl:r.avatar_url};return q.setCurrentUser(i),i}catch(s){console.error("Failed to refresh user:",s);return}},setCurrentUser:n=>{n?(localStorage.setItem("modus_current_user",JSON.stringify(n)),localStorage.setItem("modus_current_user_id",n.id),n.id):(localStorage.removeItem("modus_current_user"),localStorage.removeItem("modus_current_user_id"))},logout:()=>{fi=null,localStorage.removeItem("tgp_token"),localStorage.removeItem("modus_current_user"),localStorage.removeItem("modus_current_user_id"),window.localStorage.clear(),window.location.href="/login"},login:async(n,e)=>{var f,p;const s=new URLSearchParams;s.append("username",n),s.append("password",e);const r=await fetch(`${de}/auth/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s});if(!r.ok)throw new Error("Invalid email or password");const i=await r.json();fi=i.access_token,localStorage.setItem("tgp_token",i.access_token);const c=await(await be(`${de}/users/me`)).json(),h={id:c.id,email:c.email,name:((f=c.email)==null?void 0:f.split("@")[0])||c.name||"User",role:c.role,balance:c.balance,balanceEconomy:c.balance_economy,balanceProfessional:c.balance_professional,balanceExpert:c.balance_expert,status:"active",joinedDate:((p=c.created_at)==null?void 0:p.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:c.projects_count||0,apiKey:c.api_key,isVerified:c.is_verified??!1,phone:c.phone,company:c.company,vatId:c.vat_id,address:c.address,city:c.city,country:c.country,zip:c.zip,website:c.website,displayName:c.display_name,bio:c.bio,jobTitle:c.job_title,publicProfile:c.public_profile,twoFactorEnabled:c.two_factor_enabled,emailFrequency:c.email_frequency,loginNotificationEnabled:c.login_notification_enabled,newsletterSub:c.newsletter_sub,soundEffects:c.sound_effects,developerMode:c.developer_mode,apiWhitelist:c.api_whitelist,webhookSecret:c.webhook_secret,accessibility:c.accessibility,socialLinks:c.social_links,loginHistory:c.login_history,recoveryEmail:c.recovery_email,timezone:c.timezone,language:c.language,themeAccentColor:c.theme_accent_color,skillsBadges:c.skills_badges,referralCode:c.referral_code,supportPin:c.support_pin,dateFormat:c.date_format,numberFormat:c.number_format,requirePasswordReset:c.require_password_reset,gamificationXp:c.gamification_xp,gamificationLevel:c.gamification_level,gamificationTotalSpent:c.gamification_total_spent,gamificationPermanentDiscount:c.gamification_permanent_discount,streakDays:c.streak_days,streakBest:c.streak_best};if(q.setCurrentUser(h),Q2()){const x=window.location.pathname+window.location.search,b=`${kM}/sso?token=${encodeURIComponent(i.access_token)}&return=${encodeURIComponent(x)}`;window.location.href=b}return h},validateSsoToken:async n=>{var e,s;try{const r=await fetch(`${de}/auth/validate-sso`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})});if(!r.ok)return{valid:!1};const i=await r.json();if(!i.valid||!i.user)return{valid:!1};const l=i.user;return{valid:!0,user:{id:l.id,email:l.email,name:((e=l.email)==null?void 0:e.split("@")[0])||l.name||"User",role:l.role,balance:l.balance,balanceEconomy:l.balance_economy,balanceProfessional:l.balance_professional,balanceExpert:l.balance_expert,status:"active",joinedDate:((s=l.created_at)==null?void 0:s.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:l.projects_count||0,apiKey:l.api_key,isVerified:l.is_verified??!1,phone:l.phone,company:l.company,vatId:l.vat_id,address:l.address,city:l.city,country:l.country,zip:l.zip,website:l.website,displayName:l.display_name,bio:l.bio,jobTitle:l.job_title,publicProfile:l.public_profile,twoFactorEnabled:l.two_factor_enabled,emailFrequency:l.email_frequency,loginNotificationEnabled:l.login_notification_enabled,newsletterSub:l.newsletter_sub,soundEffects:l.sound_effects,developerMode:l.developer_mode,apiWhitelist:l.api_whitelist,webhookSecret:l.webhook_secret,accessibility:l.accessibility,socialLinks:l.social_links,loginHistory:l.login_history,recoveryEmail:l.recovery_email,timezone:l.timezone,language:l.language,themeAccentColor:l.theme_accent_color,skillsBadges:l.skills_badges,referralCode:l.referral_code,supportPin:l.support_pin,dateFormat:l.date_format,numberFormat:l.number_format,requirePasswordReset:l.require_password_reset,gamificationXp:l.gamification_xp,gamificationLevel:l.gamification_level,gamificationTotalSpent:l.gamification_total_spent,gamificationPermanentDiscount:l.gamification_permanent_discount,streakDays:l.streak_days,streakBest:l.streak_best},token:n}}catch{return{valid:!1}}},register:async(n,e,s)=>{const r=await fetch(`${de}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:e,password:s})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Registration failed")}if(Q2())return q.login(e,s);await r.json()},verifyEmail:async n=>{const e=await fetch(`${de}/auth/verify-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n})});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Email verification failed")}return await e.json()},resendVerificationEmail:async n=>{const e=await fetch(`${de}/auth/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Failed to resend verification email")}return await e.json()},forgotPassword:async n=>{const e=await fetch(`${de}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Failed to send reset email")}return await e.json()},resetPassword:async(n,e)=>{const s=await fetch(`${de}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,new_password:e})});if(!s.ok){const r=await s.json();throw new Error(r.detail||"Password reset failed")}return await s.json()},getProjects:()=>{const n=localStorage.getItem("modus_projects_cache");return n?JSON.parse(n):[]},getAdminProjects:()=>{const n=localStorage.getItem("modus_admin_projects_cache");return n?JSON.parse(n):[]},syncProjects:async()=>{try{const n=await be(`${de}/projects`);if(!n.ok)return;const e=await n.json();let s={};try{const i=await be(`${de}/projects/stats?days=30`);i.ok&&(s=await i.json())}catch(i){console.error("Failed to fetch project stats:",i)}const r=e.map(i=>({id:i.id,userId:i.user_id,name:i.name,plan:i.plan_type||"Custom",tier:i.tier,status:i.status,startAt:i.start_at,expires:i.expires_at||"Never",createdAt:i.created_at,settings:i.settings,stats:J2(s[i.id]||[],30),totalHits:i.total_hits||0,hitsToday:i.hits_today||0,customTarget:{totalVisitors:i.total_target||0,dailyLimit:i.daily_limit||0}}));localStorage.setItem("modus_projects_cache",JSON.stringify(r))}catch(n){console.error("Failed to sync projects:",n)}},syncProjectStats:async(n,e=30)=>{try{const s=await be(`${de}/projects/${n}/stats?days=${e}`);return s.ok?await s.json():[]}catch(s){return console.error("Failed to fetch project stats:",s),[]}},syncProjectStatsHourly:async(n,e=24)=>{try{const s=await be(`${de}/projects/${n}/stats/hourly?hours=${e}`);return s.ok?await s.json():[]}catch(s){return console.error("Failed to fetch hourly project stats:",s),[]}},syncProjectStatsLive:async n=>{try{const e=await be(`${de}/projects/${n}/stats/live`);return e.ok?await e.json():[]}catch(e){return console.error("Failed to fetch live project stats:",e),[]}},getCalculatedExpiry:async n=>{try{const e=await be(`${de}/projects/${n}/expires-calculated`);return e.ok?await e.json():{daysRemaining:null,expiresDate:null,balance:0,totalDailyConsumption:0,message:"Failed to calculate"}}catch(e){return console.error("Failed to fetch calculated expiry:",e),{daysRemaining:null,expiresDate:null,balance:0,totalDailyConsumption:0,message:"Error"}}},getActiveNow:async()=>{try{const n=await be(`${de}/projects/active-now`);return n.ok?await n.json():{activeNow:0,projects:{}}}catch(n){return console.error("Failed to fetch active now:",n),{activeNow:0,projects:{}}}},syncAdminProjects:async()=>{try{const n=await be(`${de}/admin/projects`);if(!n.ok)return;const e=await n.json();let s={};try{const i=await be(`${de}/projects/stats?days=30`);i.ok&&(s=await i.json())}catch(i){console.error("Failed to fetch project stats:",i)}const r=e.map(i=>({id:i.id,userId:i.user_id,name:i.name,plan:i.plan_type||"Custom",tier:i.tier,status:i.status,expires:i.expires_at||"Never",createdAt:i.created_at,settings:i.settings,stats:J2(s[i.id]||[],30)}));localStorage.setItem("modus_admin_projects_cache",JSON.stringify(r))}catch(n){console.error("Failed to sync admin projects:",n)}},getProjectById:n=>{let s=q.getProjects().find(r=>r.id===n);return s||(s=q.getAdminProjects().find(i=>i.id===n)),s},addProject:async n=>{var i,l;const e={name:n.name,plan_type:n.plan,tier:n.tier,settings:n.settings,daily_limit:((i=n.customTarget)==null?void 0:i.dailyLimit)||0,total_target:((l=n.customTarget)==null?void 0:l.totalVisitors)||0,start_at:n.startAt||null},s=await be(`${de}/projects`,{method:"POST",body:JSON.stringify(e)});if(!s.ok){const c=await s.json().catch(()=>({}));throw new Error(c.detail||"Failed to create project")}const r=await s.json();return await q.syncProjects(),r},updateProject:async n=>{var i,l,c;const e=((i=n.settings)==null?void 0:i.scheduleTrafficAmount)||((l=n.customTarget)==null?void 0:l.dailyLimit)||0,s={name:n.name,settings:n.settings,daily_limit:e,total_target:((c=n.customTarget)==null?void 0:c.totalVisitors)||0,status:n.status,tier:n.tier};if(!(await be(`${de}/projects/${n.id}`,{method:"PUT",body:JSON.stringify(s)})).ok)throw new Error("Failed to update project");return await q.syncProjects(),q.getProjects()},updateProjectStatus:async(n,e)=>(await be(`${de}/projects/${n}/${e==="active"?"start":"stop"}`,{method:"POST"}),await q.syncProjects(),q.getProjects()),deleteProject:async n=>(await be(`${de}/projects/${n}`,{method:"DELETE"}),await q.syncProjects(),q.getProjects()),cloneProject:async n=>{if(!(await be(`${de}/projects/${n}/clone`,{method:"POST"})).ok)throw new Error("Failed to clone project");return await q.syncProjects(),q.getProjects()},bulkUpdateProjectStatus:async(n,e)=>(await Promise.all(n.map(s=>be(`${de}/projects/${s}/${e==="active"?"start":"stop"}`,{method:"POST"}))),await q.syncProjects(),q.getProjects()),bulkDeleteProjects:async n=>(await Promise.all(n.map(e=>be(`${de}/projects/${e}`,{method:"DELETE"}))),await q.syncProjects(),q.getProjects()),getBalance:()=>{const n=q.getCurrentUser();return(n==null?void 0:n.balance)??0},syncAll:async()=>{await Promise.all([q.syncProjects(),q.syncTransactions(),q.syncSettings(),q.syncUsers(),q.syncAllTransactions(),q.syncTickets(),q.syncTickets(),q.syncNotifications(),q.syncAlerts()])},getUsers:()=>{const n=localStorage.getItem("modus_users_cache");return n?JSON.parse(n):[]},syncUsers:async()=>{const n=await be(`${de}/admin/users`);if(!n.ok)return[];const s=(await n.json()).map(r=>{var i;return{id:r.id,email:r.email,name:r.name||r.email.split("@")[0],role:r.role,balance:r.balance,balanceEconomy:r.balance_economy,balanceProfessional:r.balance_professional,balanceExpert:r.balance_expert,status:r.status||"active",joinedDate:((i=r.created_at)==null?void 0:i.split("T")[0])||r.joinedDate||new Date().toISOString().split("T")[0],projectsCount:r.projects_count||0,plan:r.plan||"free",shadowBanned:r.shadow_banned||!1,isVerified:r.is_verified||!1,notes:r.notes||"",tags:r.tags||[],banReason:r.ban_reason||"",lastIp:r.last_ip||"",lastActive:r.last_active||""}});return localStorage.setItem("modus_users_cache",JSON.stringify(s)),s},updateUser:async n=>{const e=q.getUsers(),s=e.findIndex(r=>r.id===n.id);return s>=0&&(e[s]=n,localStorage.setItem("modus_users_cache",JSON.stringify(e))),n},getTransactions:()=>{const n=localStorage.getItem("modus_transactions_cache");return n?JSON.parse(n):[]},syncTransactions:async()=>{const n=await be(`${de}/transactions`);if(!n.ok)return[];const s=(await n.json()).map(r=>{var i;return{id:r.id,date:((i=r.created_at)==null?void 0:i.split("T")[0])||r.date||new Date().toISOString().split("T")[0],desc:r.description||r.desc,amount:r.amount,status:r.status||"completed",type:r.type,userId:r.user_id||r.userId,tier:r.tier,hits:r.hits,reference:r.reference}});return localStorage.setItem("modus_transactions_cache",JSON.stringify(s)),s},getAllTransactionsAdmin:()=>{const n=localStorage.getItem("modus_admin_transactions_cache");return n?JSON.parse(n):[]},syncAllTransactions:async()=>{const n=await be(`${de}/admin/transactions`);if(!n.ok)return[];const s=(await n.json()).map(r=>{var i;return{id:r.id,date:((i=r.created_at)==null?void 0:i.split("T")[0])||r.date||new Date().toISOString().split("T")[0],desc:r.description||r.desc,amount:r.amount,status:r.status||"completed",type:r.type,userId:r.user_id||r.userId,tier:r.tier,hits:r.hits,reference:r.reference}});return localStorage.setItem("modus_admin_transactions_cache",JSON.stringify(s)),s},createPaymentIntent:async(n,e="eur")=>{const s=localStorage.getItem("tgp_token");if(!s)throw new Error("Not authenticated");const r=await fetch(`${de}/create-payment-intent`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({amount:n,currency:e})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to create payment intent")}return await r.json()},createCheckoutSession:async n=>{const e=localStorage.getItem("tgp_token");if(!e)throw new Error("Not authenticated");const s=window.location.origin,r=await fetch(`${de}/subscriptions/create-checkout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({price_id:n,success_url:`${s}/dashboard/payment-success?type=subscription&session_id={CHECKOUT_SESSION_ID}`,cancel_url:`${s}/pricing?subscription=cancelled`})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to create checkout session")}return await r.json()},createCreditsCheckout:async n=>{const e=localStorage.getItem("tgp_token");if(!e)throw new Error("Not authenticated");const s=window.location.origin,r=await fetch(`${de}/stripe/create-checkout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({tier:n.tier,visitors:n.visitors,bulk_months:n.bulk_months,currency:n.currency||"eur",success_url:`${s}/dashboard/payment-success?type=credits&session_id={CHECKOUT_SESSION_ID}`,cancel_url:`${s}/dashboard/buy-credits?payment=cancelled`})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to create checkout session")}return await r.json()},createPortalSession:async()=>{const n=localStorage.getItem("tgp_token");if(!n)throw new Error("Not authenticated");const e=window.location.origin,s=await fetch(`${de}/subscriptions/portal`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({return_url:`${e}/dashboard`})});if(!s.ok){const r=await s.json();throw new Error(r.detail||"Failed to create portal session")}return await s.json()},getCurrentSubscription:async()=>{const n=localStorage.getItem("tgp_token");if(!n)throw new Error("Not authenticated");const e=await fetch(`${de}/subscriptions/current`,{headers:{Authorization:`Bearer ${n}`}});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Failed to get subscription")}return await e.json()},purchaseCredits:async(n,e,s,r)=>{const i=q.getCurrentUser();if(!i)return 0;await be(`${de}/webhooks/deposit`,{method:"POST",body:JSON.stringify({user_email:i.email,amount:n,description:e,tier:s,hits:r})});const c=await(await be(`${de}/users/me`)).json();return q.setCurrentUser({...i,balance:c.balance,balanceEconomy:c.balance_economy,balanceProfessional:c.balance_professional,balanceExpert:c.balance_expert}),await q.syncTransactions(),c.balance},getTickets:n=>{const e=localStorage.getItem("modus_tickets_cache");let s=e?JSON.parse(e):[];if(n&&(n.status&&(s=s.filter(r=>r.status===n.status)),n.category&&(s=s.filter(r=>r.category===n.category)),n.search)){const r=n.search.toLowerCase();s=s.filter(i=>{var l,c;return i.subject.toLowerCase().includes(r)||((l=i.lastMessage)==null?void 0:l.toLowerCase().includes(r))||((c=i.messages)==null?void 0:c.some(h=>h.text.toLowerCase().includes(r)))})}return s},syncTickets:async n=>{let e=`${de}/tickets`;const s=new URLSearchParams;n!=null&&n.status&&s.append("status",n.status),n!=null&&n.category&&s.append("category",n.category),n!=null&&n.search&&s.append("search",n.search),s.toString()&&(e+=`?${s.toString()}`);const r=await be(e);if(!r.ok)return;const l=(await r.json()).map(c=>{var h,f,p;return{id:c.id,type:c.type||"ticket",userId:c.user_id,userName:((h=c.user_email)==null?void 0:h.split("@")[0])||"User",subject:c.subject,status:c.status||"open",priority:c.priority||"low",category:c.category||"general",projectId:c.project_id,projectName:c.project_name,attachmentUrls:c.attachment_urls||[],date:((f=c.created_at)==null?void 0:f.split("T")[0])||new Date().toLocaleDateString(),lastMessage:((p=c.messages)==null?void 0:p.length)>0?c.messages[c.messages.length-1].text:"Ticket created",messages:c.messages||[],unread:!1,updatedAt:c.updated_at}});localStorage.setItem("modus_tickets_cache",JSON.stringify(l))},createTicket:async n=>{const e={subject:n.subject,priority:n.priority||"low",type:n.type||"ticket",category:n.category||"general",project_id:n.projectId,attachment_urls:n.attachmentUrls||[],messages:n.messages||[]};return await be(`${de}/tickets`,{method:"POST",body:JSON.stringify(e)}),await q.syncTickets(),q.getTickets()},closeTicket:async n=>{if(!(await be(`${de}/tickets/${n}/close`,{method:"POST"})).ok)throw new Error("Failed to close ticket");await q.syncTickets()},uploadTicketAttachment:async n=>{const e=new FormData;e.append("file",n);const s=localStorage.getItem("tgp_token"),r=await fetch(`${de}/tickets/upload`,{method:"POST",headers:s?{Authorization:`Bearer ${s}`}:{},body:e});if(!r.ok)throw new Error("Failed to upload file");return await r.json()},getNotifications:()=>{const n=localStorage.getItem("modus_notifications_cache");return n?JSON.parse(n):[]},syncNotifications:async()=>{const n=await be(`${de}/notifications`);if(!n.ok)return;const s=(await n.json()).map(r=>{var i;return{id:r.id,userId:r.user_id,title:r.title,message:r.message,date:((i=r.created_at)==null?void 0:i.split("T")[0])||new Date().toLocaleDateString(),read:r.is_read,type:r.type||"info"}});localStorage.setItem("modus_notifications_cache",JSON.stringify(s))},getAdminNotifications:()=>q.getNotifications(),markNotificationRead:async n=>{await be(`${de}/notifications/${n}/read`,{method:"PUT"}),await q.syncNotifications()},markAllNotificationsRead:async()=>{await be(`${de}/notifications/mark-all-read`,{method:"PUT"}),await q.syncNotifications()},getSystemSettings:()=>{const n=localStorage.getItem("modus_settings_cache");return n?JSON.parse(n):{siteName:"Traffic Creator",maintenanceMode:!1,allowRegistrations:!0,supportEmail:"support@traffic-creator.com",minDeposit:10}},syncSettings:async()=>{const n=await fetch(`${de}/settings`);if(!n.ok)return;const e=await n.json();localStorage.setItem("modus_settings_cache",JSON.stringify(e.settings))},saveSystemSettings:async n=>{await be(`${de}/settings`,{method:"PUT",body:JSON.stringify({settings:n})}),localStorage.setItem("modus_settings_cache",JSON.stringify(n))},trackPresence:(n,e)=>{const s=localStorage.getItem("modus_session_token");be(`${de}/users/presence`,{method:"POST",body:JSON.stringify({session_token:s,current_page:n,user_agent:navigator.userAgent,device:/Mobi|Android/i.test(navigator.userAgent)?"mobile":"desktop"})}).then(r=>r.json()).then(r=>{r.session_token&&localStorage.setItem("modus_session_token",r.session_token)}).catch(()=>{})},getTicketById:n=>q.getTickets().find(s=>s.id===n),replyToTicket:async(n,e,s,r)=>{const i={text:e,sender:s,attachments:r||[]},l=await be(`${de}/tickets/${n}/reply`,{method:"POST",body:JSON.stringify(i)});if(!l.ok)throw console.error("Failed to reply to ticket"),new Error("Failed to send reply");return await q.syncTickets(),await l.json()},markTicketRead:async n=>{const e=q.getTickets(),s=e.find(r=>r.id===n);s&&(s.unread=!1,localStorage.setItem("modus_tickets_cache",JSON.stringify(e)))},updateTicketStatus:async(n,e)=>{if(!(await be(`${de}/tickets/${n}`,{method:"PUT",body:JSON.stringify({status:e})})).ok)throw new Error("Failed to update ticket status");await q.syncTickets()},updateTicketPriority:async(n,e)=>{if(!(await be(`${de}/tickets/${n}`,{method:"PUT",body:JSON.stringify({priority:e})})).ok)throw new Error("Failed to update ticket priority");await q.syncTickets()},deleteTicket:async n=>{if(!(await be(`${de}/tickets/${n}`,{method:"DELETE"})).ok)throw new Error("Failed to delete ticket");await q.syncTickets()},savePricing:async n=>{const e=q.getSystemSettings();e.pricingPlans=n,await q.saveSystemSettings(e)},updateUserProfile:async n=>{var l,c;console.log("Updating profile on backend:",n);const e={name:n.name,email:n.email,phone:n.phone,company:n.company,vat_id:n.vatId,address:n.address,city:n.city,country:n.country,zip:n.zip,website:n.website,display_name:n.displayName,bio:n.bio,job_title:n.jobTitle,public_profile:n.publicProfile,two_factor_enabled:n.twoFactorEnabled,email_frequency:n.emailFrequency,login_notification_enabled:n.loginNotificationEnabled,newsletter_sub:n.newsletterSub,sound_effects:n.soundEffects,developer_mode:n.developerMode,api_whitelist:n.apiWhitelist,webhook_secret:n.webhookSecret,accessibility:n.accessibility,social_links:n.socialLinks,recovery_email:n.recoveryEmail,timezone:n.timezone,language:n.language,theme_accent_color:n.themeAccentColor,date_format:n.dateFormat,number_format:n.numberFormat,require_password_reset:n.requirePasswordReset},s=await be(`${de}/users/me`,{method:"PUT",body:JSON.stringify(e)});if(!s.ok){const h=await s.json();throw new Error(h.detail||"Failed to update profile")}const r=await s.json(),i={id:r.id,email:r.email,name:r.name||((l=r.email)==null?void 0:l.split("@")[0])||"User",role:r.role,balance:r.balance,balanceEconomy:r.balance_economy,balanceProfessional:r.balance_professional,balanceExpert:r.balance_expert,status:r.status||"active",joinedDate:((c=r.created_at)==null?void 0:c.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:r.projects_count||0,apiKey:r.api_key,isVerified:r.is_verified??!1,phone:r.phone,company:r.company,vatId:r.vat_id,address:r.address,city:r.city,country:r.country,zip:r.zip,website:r.website,displayName:r.display_name,bio:r.bio,jobTitle:r.job_title,publicProfile:r.public_profile,twoFactorEnabled:r.two_factor_enabled,emailFrequency:r.email_frequency,loginNotificationEnabled:r.login_notification_enabled,newsletterSub:r.newsletter_sub,soundEffects:r.sound_effects,developerMode:r.developer_mode,apiWhitelist:r.api_whitelist,webhookSecret:r.webhook_secret,accessibility:r.accessibility,socialLinks:r.social_links,recoveryEmail:r.recovery_email,timezone:r.timezone,language:r.language,themeAccentColor:r.theme_accent_color,dateFormat:r.date_format,numberFormat:r.number_format,requirePasswordReset:r.require_password_reset,avatarUrl:r.avatar_url};return q.setCurrentUser(i),i},regenerateApiKey:async()=>{const n=await be(`${de}/auth/api-key`,{method:"POST"});if(!n.ok)throw new Error("Failed to regenerate key");const e=await n.json(),s=q.getCurrentUser();return s&&(s.apiKey=e.api_key,q.setCurrentUser(s)),e.api_key},changePassword:async(n,e,s)=>{const r=await be(`${de}/auth/password`,{method:"PUT",body:JSON.stringify({current_password:n,new_password:e,confirm_password:s})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Password update failed")}return await r.json()},logoutAllSessions:async()=>{const n=await be(`${de}/auth/logout-all`,{method:"POST"});if(!n.ok)throw new Error("Failed to logout all sessions");return await n.json()},exportUserData:async()=>{const n=await be(`${de}/users/me/export`);if(!n.ok)throw new Error("Export failed");return await n.json()},uploadAvatar:async n=>{const e=localStorage.getItem("tgp_token"),s={};e&&(s.Authorization=`Bearer ${e}`);const r=new FormData;r.append("file",n);const i=await fetch(`${de}/users/me/avatar`,{method:"POST",headers:s,body:r});if(!i.ok)throw new Error("Avatar upload failed");const l=await i.json(),c=q.getCurrentUser();return c&&(c.avatarUrl=l.avatar_url,q.setCurrentUser(c)),l.avatar_url},deleteAccount:async()=>{if(!(await be(`${de}/users/me`,{method:"DELETE"})).ok)throw new Error("Account deletion failed");q.logout()},getPricing:()=>{const n=q.getSystemSettings();return n.pricingPlans&&n.pricingPlans.length>0?n.pricingPlans:[{id:"foundation",name:"Foundation",hourlyRate:.58,baseFee:29,examFee:0},{id:"momentum",name:"Momentum",hourlyRate:.43,baseFee:129,examFee:0},{id:"breakthrough",name:"Breakthrough",hourlyRate:.4,baseFee:399,examFee:0},{id:"apex",name:"Apex",hourlyRate:.33,baseFee:999,examFee:0}]},getAlerts:()=>{const n=localStorage.getItem("modus_alerts_cache");return n?JSON.parse(n):[]},syncAlerts:async()=>{try{const n=await be(`${de}/admin/broadcasts`);if(!n.ok)return;const s=(await n.json()).map(r=>({id:r.id,message:r.message,type:r.type,active:r.is_active,date:r.created_at,targetType:"all",title:r.title}));localStorage.setItem("modus_alerts_cache",JSON.stringify(s))}catch(n){console.error("Failed to sync alerts:",n)}},checkBroadcastTarget:(n,e)=>{if(!n.active)return!1;if(!e)return n.targetType==="all";switch(n.targetType){case"all":return!0;case"paying":return e.projectsCount>0;case"active_7d":const s=new Date(e.joinedDate).getTime(),r=10080*60*1e3;return Date.now()-s>r;case"specific":return n.targetUserIds?n.targetUserIds.includes(e.id):!1;default:return!1}},getRealTimeVisitors:async()=>{try{const n=await be(`${de}/admin/active-users`);return n.ok?(await n.json()).map(s=>{var r,i,l;return{id:s.id,userId:(r=s.user)==null?void 0:r.id,name:((i=s.user)==null?void 0:i.name)||"Guest",email:((l=s.user)==null?void 0:l.email)||"",role:s.role,currentPage:s.currentPage,durationMinutes:s.durationMinutes,device:s.device,browser:s.browser,ip:s.ip,location:s.location,totalVisits:s.totalVisits,status:s.status,lastActive:s.lastActive}}):[]}catch(n){return console.error("Failed to fetch real-time visitors:",n),[]}},scanGA4:async n=>{const e=await be(`${de}/tools/scan-ga4?url=${encodeURIComponent(n)}`);if(!e.ok){const r=await e.json().catch(()=>({}));throw new Error(r.detail||"GA4 ID not found")}return(await e.json()).tid},spendCredits:(n,e)=>{const s=q.getCurrentUser();return!s||s.balance<n?!1:(s.balance-=n,q.setCurrentUser(s),q.purchaseCredits(-n,e).catch(console.error),!0)},getActiveBroadcasts:async()=>{try{const n=await fetch(`${de}/broadcasts/active`);return n.ok?(await n.json()).map(s=>({id:s.id,title:s.title,message:s.message,type:s.type,isActive:s.is_active,createdAt:s.created_at,expiresAt:s.expires_at,actionUrl:s.action_url,actionText:s.action_text})):[]}catch(n){return console.error("Failed to fetch active broadcasts",n),[]}},getAdminBroadcasts:async()=>{try{const n=await be(`${de}/admin/broadcasts`);return n.ok?(await n.json()).map(s=>({id:s.id,title:s.title,message:s.message,type:s.type,isActive:s.is_active,createdAt:s.created_at,expiresAt:s.expires_at,actionUrl:s.action_url,actionText:s.action_text})):[]}catch(n){return console.error("Failed to fetch admin broadcasts",n),[]}},createBroadcast:async n=>{const e={title:n.title,message:n.message,type:n.type,is_active:n.isActive,expires_at:n.expiresAt?new Date(n.expiresAt).toISOString():null,action_url:n.actionUrl,action_text:n.actionText};await be(`${de}/admin/broadcasts`,{method:"POST",body:JSON.stringify(e)})},updateBroadcast:async(n,e)=>{const s={title:e.title,message:e.message,type:e.type,is_active:e.isActive,expires_at:e.expiresAt?new Date(e.expiresAt).toISOString():null,action_url:e.actionUrl,action_text:e.actionText};await be(`${de}/admin/broadcasts/${n}`,{method:"PUT",body:JSON.stringify(s)})},deleteBroadcast:async n=>{await be(`${de}/admin/broadcasts/${n}`,{method:"DELETE"})},getAdminStats:async()=>{try{const n=await be(`${de}/admin/stats`);return n.ok?await n.json():null}catch(n){return console.error("Failed to fetch admin stats",n),null}},getCoupons:async()=>{try{const n=await be(`${de}/admin/coupons`);if(!n.ok)throw new Error("Failed to fetch");return(await n.json()).map(s=>({id:s.id,code:s.code,discountType:s.discount_type,discountValue:s.discount_value,minPurchase:s.min_purchase,maxUses:s.max_uses,usedCount:s.used_count,maxUsesPerUser:s.max_uses_per_user,planRestriction:s.plan_restriction,duration:s.duration,expiryDate:s.expires_at?s.expires_at.split("T")[0]:null,active:s.is_active}))}catch{return[]}},saveCoupon:async n=>{const e={code:n.code,discount_type:n.discountType==="percent"?"percentage":"fixed",discount_value:n.discountValue,min_purchase:n.minPurchase||0,max_uses:n.maxUses,max_uses_per_user:n.maxUsesPerUser||1,plan_restriction:n.planRestriction,duration:n.duration||"once",expires_at:n.expiryDate||null};n.id?await be(`${de}/admin/coupons/${n.id}`,{method:"PUT",body:JSON.stringify(e)}):await be(`${de}/admin/coupons`,{method:"POST",body:JSON.stringify(e)})},deleteCoupon:async n=>{await be(`${de}/admin/coupons/${n}`,{method:"DELETE"})},getMarketingStats:async()=>{try{const n=await be(`${de}/admin/marketing`);if(!n.ok)throw new Error("Failed to fetch");return(await n.json()).map(s=>({id:s.id,name:s.name,type:s.campaign_type,status:s.status,clicks:s.clicks,conversions:s.conversions,revenue:s.revenue,spend:s.spend,dateCreated:s.created_at?s.created_at.split("T")[0]:new Date().toISOString().split("T")[0]}))}catch{return[]}},createMarketingCampaign:async n=>{await be(`${de}/admin/marketing`,{method:"POST",body:JSON.stringify({name:n.name,campaign_type:n.type||"ad_tracking",start_date:n.dateCreated||null,end_date:null})})},sendEmailBlast:async(n,e,s="all")=>{await be(`${de}/admin/email-blast`,{method:"POST",body:JSON.stringify({subject:n,body:e,target_audience:s})})},getConversionSettings:async()=>{try{const n=await be(`${de}/conversion-settings`);if(!n.ok)throw new Error("Failed to fetch");const e=await n.json();return{socialProof:{enabled:e.socialProofEnabled,position:e.socialProofPosition,delay:e.socialProofDelay,showRealData:e.socialProofShowSimulated,customMessages:[]},exitIntent:{enabled:e.exitIntentEnabled,headline:e.exitIntentHeadline,subtext:e.exitIntentSubtext,couponCode:e.exitIntentCouponCode,showOncePerSession:!0},promoBar:{enabled:e.promoBarEnabled,message:e.promoBarMessage,buttonText:e.promoBarButtonText,buttonLink:e.promoBarButtonUrl,backgroundColor:e.promoBarBackgroundColor,textColor:e.promoBarTextColor}}}catch{return{socialProof:{enabled:!1,position:"bottom-left",delay:5,showRealData:!1,customMessages:[]},exitIntent:{enabled:!1,headline:"Wait! Don't miss out.",subtext:"Get 20% off with code: STAY20",couponCode:"STAY20",showOncePerSession:!0},promoBar:{enabled:!1,message:"Limited Time Offer!",buttonText:"Claim Offer",buttonLink:"/pricing",backgroundColor:"#ff4d00",textColor:"#ffffff"}}}},saveConversionSettings:async n=>{await be(`${de}/conversion-settings`,{method:"PUT",body:JSON.stringify({social_proof_enabled:n.socialProof.enabled,social_proof_position:n.socialProof.position,social_proof_delay:n.socialProof.delay,social_proof_show_simulated:n.socialProof.showRealData,exit_intent_enabled:n.exitIntent.enabled,exit_intent_headline:n.exitIntent.headline,exit_intent_subtext:n.exitIntent.subtext,exit_intent_coupon_code:n.exitIntent.couponCode,promo_bar_enabled:n.promoBar.enabled,promo_bar_message:n.promoBar.message,promo_bar_button_text:n.promoBar.buttonText,promo_bar_button_url:n.promoBar.buttonLink,promo_bar_background_color:n.promoBar.backgroundColor,promo_bar_text_color:n.promoBar.textColor})})},getLoyaltySettings:async()=>{try{const n=await be(`${de}/loyalty-settings`);if(!n.ok)throw new Error("Failed to fetch");const e=await n.json();return{enabled:e.enabled,pointsPerDollar:e.pointsPerDollar,redemptionRate:e.redemptionRate,bonusSignupPoints:e.bonusSignupPoints}}catch{return{enabled:!1,pointsPerDollar:1,redemptionRate:100,bonusSignupPoints:50}}},saveLoyaltySettings:async n=>{await be(`${de}/loyalty-settings`,{method:"PUT",body:JSON.stringify(n)})},getReferralSettings:async()=>{try{const n=await be(`${de}/referral-settings`);if(!n.ok)throw new Error("Failed to fetch");const e=await n.json();return{enabled:e.enabled,referrerReward:e.referrerRewardValue,refereeReward:e.refereeRewardValue,rewardType:e.referrerRewardType}}catch{return{enabled:!1,referrerReward:25,refereeReward:25,rewardType:"credit"}}},saveReferralSettings:async n=>{await be(`${de}/referral-settings`,{method:"PUT",body:JSON.stringify({enabled:n.enabled,referrer_reward_type:n.rewardType,referrer_reward_value:n.referrerReward,referee_reward_type:n.rewardType,referee_reward_value:n.refereeReward})})},getBankTransfers:async(n="all")=>{const e=await be(`${de}/admin/bank-transfers?status_filter=${n}`);return e.ok?await e.json():[]},getMyBankTransfers:async()=>{const n=await be(`${de}/bank-transfer/my-proofs`);return n.ok?await n.json():[]},getFAQs:async()=>{try{const n=await fetch(`${de}/faqs`);return n.ok?await n.json():[]}catch{return[]}},approveBankTransfer:async(n,e,s)=>{const r=await be(`${de}/admin/bank-transfers/${n}/approve`,{method:"PUT",body:JSON.stringify({approved:e,admin_notes:s})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to process transfer")}return await r.json()},updateTransaction:async n=>{var r;const e=await be(`${de}/admin/transactions/${n.id}`,{method:"PUT",body:JSON.stringify({description:n.desc,amount:n.amount,type:n.type,status:n.status,tier:n.tier,reference:n.reference})});if(!e.ok){const i=await e.json();throw new Error(i.detail||"Failed to update transaction")}const s=await e.json();return await q.syncAllTransactions(),{id:s.id,date:((r=s.created_at)==null?void 0:r.split("T")[0])||n.date,desc:s.description||n.desc,amount:s.amount,status:s.status,type:s.type,userId:s.user_id,tier:s.tier,reference:s.reference}},getUserDetails:async n=>{var r;const e=await be(`${de}/admin/users/${n}/details`);if(!e.ok)throw new Error("Failed to fetch user details");const s=await e.json();return{user:{id:s.user.id,email:s.user.email,role:s.user.role,balance:s.user.balance,balanceEconomy:s.user.balance_economy,balanceProfessional:s.user.balance_professional,balanceExpert:s.user.balance_expert,status:s.user.status,plan:s.user.plan,isVerified:s.user.is_verified,shadowBanned:s.user.shadow_banned,notes:s.user.notes,tags:s.user.tags||[],banReason:s.user.ban_reason,lastIp:s.user.last_ip,joinedDate:(r=s.user.created_at)==null?void 0:r.split("T")[0]},tierBalances:s.tier_balances,totalSpent:s.total_spent,totalHitsPurchased:s.total_hits_purchased,totalHitsUsed:s.total_hits_used,transactionsCount:s.transactions_count,projectsCount:s.projects_count,ticketsCount:s.tickets_count,referralsCount:s.referrals_count,referralEarnings:s.referral_earnings,notificationPrefs:s.notification_prefs}},getUserActivity:async(n,e=50,s=0,r)=>{let i=`${de}/admin/users/${n}/activity?limit=${e}&offset=${s}`;r&&(i+=`&action_type=${r}`);const l=await be(i);if(!l.ok)throw new Error("Failed to fetch activity");return(await l.json()).map(h=>({id:h.id,userId:h.user_id,actionType:h.action_type,actionDetail:h.action_detail,ipAddress:h.ip_address,userAgent:h.user_agent,createdAt:h.created_at}))},getUserSessions:async n=>{const e=await be(`${de}/admin/users/${n}/sessions`);if(!e.ok)throw new Error("Failed to fetch sessions");return(await e.json()).map(r=>({id:r.id,userId:r.user_id,ipAddress:r.ip_address,userAgent:r.user_agent,deviceInfo:r.device_info,location:r.location,createdAt:r.created_at,lastActivity:r.last_activity,expiresAt:r.expires_at,isActive:r.is_active}))},terminateUserSession:async(n,e)=>{if(!(await be(`${de}/admin/users/${n}/sessions/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to terminate session")},getImpersonationLog:async n=>{const e=await be(`${de}/admin/users/${n}/impersonation-log`);if(!e.ok)throw new Error("Failed to fetch impersonation log");return(await e.json()).map(r=>({id:r.id,adminId:r.admin_id,targetUserId:r.target_user_id,action:r.action,ipAddress:r.ip_address,createdAt:r.created_at,adminEmail:r.admin_email}))},getBalanceAdjustments:async n=>{const e=await be(`${de}/admin/users/${n}/balance-adjustments`);if(!e.ok)throw new Error("Failed to fetch balance adjustments");return(await e.json()).map(r=>({id:r.id,userId:r.user_id,adminId:r.admin_id,adjustmentType:r.adjustment_type,tier:r.tier,amount:r.amount,hits:r.hits,reason:r.reason,notes:r.notes,createdAt:r.created_at,adminEmail:r.admin_email}))},adjustUserBalance:async(n,e)=>{const s=await be(`${de}/admin/users/${n}/adjust-balance`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adjustment_type:e.adjustmentType,tier:e.tier,amount:e.amount,hits:e.hits,reason:e.reason,notes:e.notes})});if(!s.ok){let r="Failed to adjust balance";try{r=(await s.json()).detail||r}catch{}throw new Error(r)}},addBonusHits:async(n,e)=>{const s=await be(`${de}/admin/users/${n}/add-bonus-hits`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){let r="Failed to add bonus hits";try{r=(await s.json()).detail||r}catch{}throw new Error(r)}},getUserEmails:async(n,e=50)=>{const s=await be(`${de}/admin/users/${n}/emails?limit=${e}`);if(!s.ok)throw new Error("Failed to fetch emails");return(await s.json()).map(i=>({id:i.id,userId:i.user_id,emailType:i.email_type,toEmail:i.to_email,subject:i.subject,status:i.status,errorMessage:i.error_message,sentAt:i.sent_at,deliveredAt:i.delivered_at}))},getUserReferrals:async n=>{const e=await be(`${de}/admin/users/${n}/referrals`);if(!e.ok)throw new Error("Failed to fetch referrals");const s=await e.json();return{referrals:(s.referrals||[]).map(r=>({id:r.id,email:r.email,name:r.name,status:r.status,createdAt:r.created_at,totalSpent:r.total_spent,earningsFromRef:r.earnings_from_ref})),totalReferrals:s.total_referrals,totalEarnings:s.total_earnings}},getUserNotificationPrefs:async n=>{const e=await be(`${de}/admin/users/${n}/notification-prefs`);if(!e.ok)throw new Error("Failed to fetch notification prefs");const s=await e.json();return{id:s.id,userId:s.user_id,emailMarketing:s.email_marketing,emailTransactional:s.email_transactional,emailAlerts:s.email_alerts,browserNotifications:s.browser_notifications,newsletterSub:s.newsletter_sub,emailFrequency:s.email_frequency,updatedAt:s.updated_at}},updateUserNotificationPrefs:async(n,e)=>{if(!(await be(`${de}/admin/users/${n}/notification-prefs`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to update notification prefs")},sendPasswordReset:async n=>{if(!(await be(`${de}/admin/users/${n}/send-password-reset`,{method:"POST"})).ok)throw new Error("Failed to send password reset")},resendVerification:async n=>{if(!(await be(`${de}/admin/users/${n}/resend-verification`,{method:"POST"})).ok)throw new Error("Failed to resend verification")},adminRegenerateApiKey:async n=>{const e=await be(`${de}/admin/users/${n}/regenerate-api-key`,{method:"POST"});if(!e.ok)throw new Error("Failed to regenerate API key");return(await e.json()).api_key},startImpersonation:async n=>{const e=await be(`${de}/admin/impersonate/${n}`,{method:"POST"});if(!e.ok)throw new Error("Failed to start impersonation");const s=await e.json();fi&&localStorage.setItem("tgp_admin_token",fi),localStorage.setItem("tgp_token",s.token),fi=s.token;const r=await be(`${de}/users/me`);if(!r.ok)throw new Error("Failed to fetch impersonated user details");const i=await r.json(),l={id:i.id,email:i.email,name:i.name||i.email.split("@")[0],role:i.role,balance:i.balance,balanceEconomy:i.balance_economy,balanceProfessional:i.balance_professional,balanceExpert:i.balance_expert,status:i.status,plan:i.plan,isVerified:i.is_verified,shadowBanned:i.shadow_banned,notes:i.notes,tags:i.tags,banReason:i.ban_reason,createdAt:i.created_at,joinedDate:i.created_at||new Date().toISOString(),projectsCount:0,lastIp:i.last_ip,lastActive:i.last_active,phone:i.phone,company:i.company,vatId:i.vat_id,address:i.address,city:i.city,country:i.country,zip:i.zip,website:i.website,displayName:i.display_name,bio:i.bio,jobTitle:i.job_title,publicProfile:i.public_profile,twoFactorEnabled:i.two_factor_enabled,emailFrequency:i.email_frequency,loginNotificationEnabled:i.login_notification_enabled,newsletterSub:i.newsletter_sub,soundEffects:i.sound_effects,developerMode:i.developer_mode,apiWhitelist:i.api_whitelist,webhookSecret:i.webhook_secret,accessibility:i.accessibility,socialLinks:i.social_links,recoveryEmail:i.recovery_email,timezone:i.timezone,language:i.language,themeAccentColor:i.theme_accent_color,dateFormat:i.date_format,numberFormat:i.number_format,requirePasswordReset:i.require_password_reset};q.setCurrentUser(l)},stopImpersonation:async()=>{const n=localStorage.getItem("tgp_admin_token");if(!n)throw new Error("No admin session found");localStorage.setItem("tgp_token",n),fi=n,localStorage.removeItem("tgp_admin_token");const e=await be(`${de}/users/me`);if(!e.ok)throw new Error("Failed to restore admin user details");const s=await e.json(),r={id:s.id,email:s.email,name:s.name||s.email.split("@")[0],role:s.role,balance:s.balance,balanceEconomy:s.balance_economy,balanceProfessional:s.balance_professional,balanceExpert:s.balance_expert,status:s.status,plan:s.plan,isVerified:s.is_verified,shadowBanned:s.shadow_banned,notes:s.notes,tags:s.tags,banReason:s.ban_reason,createdAt:s.created_at,joinedDate:s.created_at||new Date().toISOString(),projectsCount:0,lastIp:s.last_ip,lastActive:s.last_active};q.setCurrentUser(r)},adminExportUserData:async n=>{const e=await be(`${de}/admin/users/${n}/export`);if(!e.ok)throw new Error("Failed to export user data");return e.json()},getUserTransactions:async n=>{const e=await be(`${de}/transactions`);return e.ok?(await e.json()).filter(i=>i.user_id===n).map(i=>{var l;return{id:i.id,date:((l=i.created_at)==null?void 0:l.split("T")[0])||new Date().toISOString().split("T")[0],desc:i.description||"",amount:i.amount,status:i.status||"completed",type:i.type,userId:i.user_id,tier:i.tier,hits:i.hits,reference:i.reference}}):[]},getUserProjects:async n=>{const e=await be(`${de}/admin/projects`);return e.ok?(await e.json()).filter(i=>i.user_id===n).map(i=>{var l;return{id:i.id,userId:i.user_id,name:i.name,plan:i.plan_type||"Custom",tier:i.tier,status:i.status,customTarget:{totalVisitors:i.total_target||0,durationDays:30,dailyLimit:i.daily_limit||0},expires:((l=i.expires_at)==null?void 0:l.split("T")[0])||"",createdAt:i.created_at,settings:i.settings}}):[]},getUserTickets:async n=>{const e=await be(`${de}/tickets`);return e.ok?(await e.json()).filter(i=>i.user_id===n).map(i=>{var l,c;return{id:i.id,type:i.type||"ticket",userId:i.user_id,userName:"",subject:i.subject,status:i.status||"open",priority:i.priority||"low",date:((l=i.created_at)==null?void 0:l.split("T")[0])||"",lastMessage:((c=i.messages)==null?void 0:c.length)>0?i.messages[i.messages.length-1].text:"",messages:i.messages||[],unread:!1}}):[]},adminUpdateUser:async(n,e)=>{if(!(await be(`${de}/admin/users/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to update user")},updateUserStatus:async(n,e)=>(await q.adminUpdateUser(n,{status:e}),q.getUsers()),adminAdjustBalance:async(n,e,s,r)=>{await q.adjustUserBalance(n,{adjustmentType:s,tier:"general",amount:e,reason:r})},createAlert:async(n,e,s="System Alert")=>{const r={title:s,message:n,type:e,is_active:!0};await be(`${de}/admin/broadcasts`,{method:"POST",body:JSON.stringify(r)}),await q.syncAlerts()},toggleAlert:async(n,e)=>{const r=q.getAlerts().find(l=>l.id===n);if(!r)return;const i={title:r.title||"System Alert",message:r.message,type:r.type,is_active:e};await be(`${de}/admin/broadcasts/${n}`,{method:"PUT",body:JSON.stringify(i)}),await q.syncAlerts()},deleteAlert:async n=>{await be(`${de}/admin/broadcasts/${n}`,{method:"DELETE"}),await q.syncAlerts()},getBenefitTypes:async()=>{const n=await be(`${de}/benefits/types`);return n.ok?(await n.json()).map(s=>({id:s.id,type:s.type,category:s.category,name:s.name,value:s.value,requirements:s.requirements,active:s.active,displayOrder:s.display_order})):[]},getMyBenefitRequests:async n=>{const e=n?`${de}/benefits/my-requests?status=${n}`:`${de}/benefits/my-requests`,s=await be(e);return s.ok?(await s.json()).map(i=>({id:i.id,userId:i.user_id,benefitType:i.benefit_type,benefitCategory:i.benefit_category,url:i.url,description:i.description,screenshotUrl:i.screenshot_url,claimedValue:i.claimed_value,approvedValue:i.approved_value,status:i.status,adminNotes:i.admin_notes,fraudFlagged:i.fraud_flagged,fraudReason:i.fraud_reason,submittedAt:i.submitted_at,reviewedAt:i.reviewed_at,reviewedBy:i.reviewed_by})):[]},getBenefitBalance:async()=>{const n=await be(`${de}/benefits/balance`);if(!n.ok)return{benefitBalance:0,totalBenefitsClaimed:0,pendingRequests:0,approvedRequests:0,rejectedRequests:0};const e=await n.json();return{benefitBalance:e.benefit_balance,totalBenefitsClaimed:e.total_benefits_claimed,pendingRequests:e.pending_requests,approvedRequests:e.approved_requests,rejectedRequests:e.rejected_requests}},submitBenefit:async n=>{const e=await be(`${de}/benefits/submit`,{method:"POST",body:JSON.stringify(n)});if(!e.ok){const r=await e.json();throw new Error(r.detail||"Failed to submit benefit")}const s=await e.json();return{id:s.id,userId:s.user_id,benefitType:s.benefit_type,benefitCategory:s.benefit_category,url:s.url,description:s.description,screenshotUrl:s.screenshot_url,claimedValue:s.claimed_value,approvedValue:s.approved_value,status:s.status,adminNotes:s.admin_notes,fraudFlagged:s.fraud_flagged,fraudReason:s.fraud_reason,submittedAt:s.submitted_at,reviewedAt:s.reviewed_at,reviewedBy:s.reviewed_by}},getAffiliateDashboard:async()=>{const n=await be(`${de}/affiliate/dashboard`);if(!n.ok)throw new Error("Failed to fetch affiliate dashboard");const e=await n.json();return{tier:{id:e.tier.id,userId:e.tier.user_id,tierLevel:e.tier.tier_level,tierName:e.tier.tier_name,commissionRateL1:e.tier.commission_rate_l1,commissionRateL2:e.tier.commission_rate_l2,commissionRateL3:e.tier.commission_rate_l3,totalReferralsL1:e.tier.total_referrals_l1,totalReferralsL2:e.tier.total_referrals_l2,totalReferralsL3:e.tier.total_referrals_l3,totalEarnings:e.tier.total_earnings,pendingPayout:e.tier.pending_payout,lifetimePayout:e.tier.lifetime_payout,lastTierUpdate:e.tier.last_tier_update},relations:e.relations.map(s=>({id:s.id,userId:s.user_id,referrerL1Id:s.referrer_l1_id,referrerL2Id:s.referrer_l2_id,referrerL3Id:s.referrer_l3_id})),referralLink:e.referral_link,totalReferrals:e.total_referrals,totalEarnings:e.total_earnings,pendingPayout:e.pending_payout,benefitBalance:e.benefit_balance}},getAffiliateTier:async()=>{const n=await be(`${de}/affiliate/tier`);if(!n.ok)throw new Error("Failed to fetch affiliate tier");const e=await n.json();return{id:e.id,userId:e.user_id,tierLevel:e.tier_level,tierName:e.tier_name,commissionRateL1:e.commission_rate_l1,commissionRateL2:e.commission_rate_l2,commissionRateL3:e.commission_rate_l3,totalReferralsL1:e.total_referrals_l1,totalReferralsL2:e.total_referrals_l2,totalReferralsL3:e.total_referrals_l3,totalEarnings:e.total_earnings,pendingPayout:e.pending_payout,lifetimePayout:e.lifetime_payout,lastTierUpdate:e.last_tier_update}},getAffiliateReferrals:async(n=1)=>{const e=await be(`${de}/affiliate/referrals?tier=${n}`);return e.ok?await e.json():[]},requestPayout:async n=>{const e=await be(`${de}/affiliate/payouts/request`,{method:"POST",body:JSON.stringify(n)});if(!e.ok){const r=await e.json();throw new Error(r.detail||"Failed to request payout")}const s=await e.json();return{id:s.id,userId:s.user_id,amount:s.amount,method:s.method,payoutDetails:s.payout_details,status:s.status,adminNotes:s.admin_notes,requestedAt:s.requested_at,processedAt:s.processed_at,processedBy:s.processed_by,transactionHash:s.transaction_hash}},getMyPayouts:async()=>{const n=await be(`${de}/affiliate/payouts`);return n.ok?(await n.json()).map(s=>({id:s.id,userId:s.user_id,amount:s.amount,method:s.method,payoutDetails:s.payout_details,status:s.status,adminNotes:s.admin_notes,requestedAt:s.requested_at,processedAt:s.processed_at,processedBy:s.processed_by,transactionHash:s.transaction_hash})):[]},getPendingBenefits:async()=>{const n=await be(`${de}/admin/benefits/pending`);return n.ok?await n.json():[]},getBenefitsHistory:async n=>{const e=n?`${de}/admin/benefits/history?status=${n}`:`${de}/admin/benefits/history`,s=await be(e);return s.ok?await s.json():[]},approveBenefit:async(n,e,s)=>{if(!(await be(`${de}/admin/benefits/${n}/approve`,{method:"POST",body:JSON.stringify({approved_value:e,status:"approved",admin_notes:s})})).ok)throw new Error("Failed to approve benefit")},rejectBenefit:async(n,e,s=!1,r)=>{if(!(await be(`${de}/admin/benefits/${n}/reject`,{method:"POST",body:JSON.stringify({status:"rejected",admin_notes:e,fraud_flagged:s,fraud_reason:r})})).ok)throw new Error("Failed to reject benefit")},getPendingPayouts:async()=>{const n=await be(`${de}/admin/payouts/pending`);return n.ok?await n.json():[]},approvePayout:async(n,e)=>{if(!(await be(`${de}/admin/payouts/${n}/approve`,{method:"POST",body:JSON.stringify({status:"approved",admin_notes:e})})).ok)throw new Error("Failed to approve payout")},rejectPayout:async(n,e)=>{if(!(await be(`${de}/admin/payouts/${n}/reject`,{method:"POST",body:JSON.stringify({status:"rejected",admin_notes:e})})).ok)throw new Error("Failed to reject payout")},markPayoutPaid:async(n,e,s)=>{if(!(await be(`${de}/admin/payouts/${n}/mark-paid`,{method:"POST",body:JSON.stringify({status:"paid",transaction_hash:e,admin_notes:s})})).ok)throw new Error("Failed to mark payout as paid")},getAllAffiliates:async()=>{const n=await be(`${de}/admin/affiliates`);return n.ok?await n.json():[]},updateAffiliateTier:async(n,e)=>{if(!(await be(`${de}/admin/affiliates/${n}/tier-update`,{method:"POST",body:JSON.stringify({tier_level:e})})).ok)throw new Error("Failed to update affiliate tier")}},m4=({menuSections:n,currentView:e,onNavigate:s,onLogout:r})=>{var c;const[i,l]=w.useState(()=>q.getCurrentUser());return w.useEffect(()=>{const h=q.getCurrentUser();h&&l(h)},[]),t.jsxs("aside",{className:"w-64 bg-[#111111] text-white flex flex-col h-screen fixed left-0 top-0 z-20 hidden md:flex border-r border-gray-800 shadow-xl",children:[t.jsxs("div",{className:"p-8 pb-10 flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-[#ff4d00] flex items-center justify-center",children:t.jsx("span",{className:"font-black text-black text-lg",children:"T"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-black text-white tracking-tighter leading-none",children:"TRAFFIC"}),t.jsx("p",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-widest mt-0.5",children:"Bot OS"})]})]}),t.jsx("nav",{className:"flex-1 overflow-y-auto px-4 custom-scrollbar",children:t.jsx("div",{className:"space-y-6",children:n.map((h,f)=>t.jsx("div",{className:f>0?"pt-6 border-t border-gray-800/50":"",children:t.jsx("ul",{className:"space-y-1",children:h.items.map(p=>{const x=e===p.id;return t.jsx("li",{children:t.jsxs("button",{onClick:()=>s(p.id),className:`w-full group flex items-center justify-between px-4 py-3.5 text-[11px] font-bold uppercase tracking-widest transition-all duration-200 rounded-sm
                          ${x?"bg-[#ff4d00] text-white shadow-[0_0_15px_rgba(255,77,0,0.3)]":"text-gray-400 hover:bg-[#1a1a1a] hover:text-white"}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[p.icon&&t.jsx("span",{className:x?"text-white":"text-gray-600 group-hover:text-[#ff4d00]",children:p.icon}),t.jsx("span",{children:p.label})]}),x&&t.jsx(xc,{size:14,className:"animate-in slide-in-from-left-2"})]})},p.id)})})},f))})}),t.jsxs("div",{className:"p-4 border-t border-gray-800 bg-[#0a0a0a] space-y-4",children:[i&&t.jsxs("div",{className:"px-4 py-2 bg-[#1a1a1a] rounded-sm border border-gray-800/50",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Fn,{size:12,className:"text-[#ff4d00]"}),t.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-tighter truncate",children:i.email})]}),t.jsxs("div",{className:"text-[9px] font-mono text-gray-500 truncate",title:i.id,children:["ID: ",((c=i.id)==null?void 0:c.substring(0,8).toUpperCase())||"N/A"]})]}),t.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 py-3 border border-gray-800 text-[11px] font-bold text-gray-400 uppercase tracking-widest hover:text-[#ff4d00] hover:border-[#ff4d00] hover:bg-[#111] transition-all rounded-sm",children:[t.jsx(QD,{size:14}),t.jsx("span",{children:"Logout"})]})]})]})},p4=({title:n,onMobileMenuClick:e,isAdmin:s=!1})=>{const[r,i]=w.useState(!1),[l,c]=w.useState([]),h=Vs(),f=Hn(),p=!s&&(f.pathname==="/dashboard"||f.pathname==="/dashboard/campaigns"||f.pathname.startsWith("/dashboard/campaigns")||f.pathname==="/dashboard/buy-credits"||f.pathname==="/dashboard/balance");w.useEffect(()=>{const A=async()=>{try{const P=await(s?q.getAdminNotifications():q.getNotifications());c(P)}catch(P){console.error("Failed to fetch notifications:",P)}};A();const C=setInterval(A,1e4);return()=>clearInterval(C)},[s]);const x=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),b=l.filter(A=>!A.read).length,v=async A=>{await q.markNotificationRead(A),c(C=>C.map(P=>P.id===A?{...P,read:!0}:P))},E=async()=>{await q.markAllNotificationsRead(),c(A=>A.map(C=>({...C,read:!0})))},S=A=>{switch(A){case"success":return t.jsx(bt,{size:16,className:"text-green-500"});case"warning":return t.jsx(ln,{size:16,className:"text-orange-500"});default:return t.jsx(Jl,{size:16,className:"text-blue-500"})}};return t.jsxs("header",{className:"bg-white h-20 px-8 flex items-center justify-between sticky top-0 z-20 shadow-sm md:shadow-none relative",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:bg-gray-100 rounded-md",onClick:e,children:t.jsx(tO,{size:24})}),t.jsx("h2",{className:"text-xl font-black tracking-wide text-gray-900 uppercase",children:n})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[p&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>h("/dashboard/buy-credits"),className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 shadow-md border border-gray-800",children:[t.jsx(sw,{size:16}),t.jsx("span",{className:"hidden sm:inline",children:"Buy Traffic"}),t.jsx("span",{className:"sm:hidden",children:"Traffic"})]}),t.jsxs("button",{onClick:()=>h("/dashboard/campaigns/new"),className:"bg-[#ff4d00] text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#e64500] transition-colors flex items-center gap-2 shadow-md",children:[t.jsx(Or,{size:16}),t.jsx("span",{className:"hidden sm:inline",children:"Create a Project"}),t.jsx("span",{className:"sm:hidden",children:"Create"})]})]}),t.jsxs("div",{className:"relative cursor-pointer",children:[t.jsxs("button",{onClick:()=>i(!r),className:"relative p-1",children:[t.jsx(zb,{className:b>0?"text-[#ff4d00]":"text-gray-400",size:22,strokeWidth:2}),b>0&&t.jsx("span",{className:"absolute top-0 right-0 block h-2.5 w-2.5 rounded-full ring-2 ring-white bg-red-600 transform translate-x-1/4 -translate-y-1/4 animate-pulse"})]}),r&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>i(!1)}),t.jsxs("div",{className:"absolute right-0 top-full mt-4 w-80 bg-white border border-gray-200 shadow-xl z-40 animate-in fade-in slide-in-from-top-2 rounded-sm overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[t.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:["Notifications (",b,")"]}),b>0&&t.jsx("button",{onClick:E,className:"text-[10px] font-bold text-[#ff4d00] uppercase hover:underline",children:"Mark all read"})]}),t.jsx("div",{className:"max-h-80 overflow-y-auto",children:l.length===0?t.jsx("div",{className:"p-8 text-center text-xs text-gray-400",children:"No notifications"}):l.map(A=>t.jsx("div",{className:`p-4 border-b border-gray-50 hover:bg-gray-50 transition-colors ${A.read?"":"bg-orange-50/30"}`,children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"mt-1 flex-shrink-0",children:S(A.type)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsx("h4",{className:`text-xs font-bold ${A.read?"text-gray-500":"text-gray-900"}`,children:A.title}),!A.read&&t.jsx("button",{onClick:()=>v(A.id),className:"text-gray-300 hover:text-[#ff4d00]",children:t.jsx(sn,{size:12})})]}),t.jsx("p",{className:"text-[11px] text-gray-500 mt-1 leading-relaxed",children:A.message}),t.jsx("div",{className:"text-[9px] text-gray-300 mt-2 font-mono",children:A.date})]})]})},A.id))})]})]})]}),t.jsx("div",{className:"hidden md:block w-px h-8 bg-gray-200"}),t.jsx("div",{className:"text-sm font-medium text-gray-500 tracking-wide hidden md:block",children:x})]})]})},EM=()=>{const[n,e]=w.useState([]);w.useEffect(()=>{const r=async()=>{const l=await q.getActiveBroadcasts(),c=JSON.parse(localStorage.getItem("dismissed_broadcasts")||"[]");e(l.filter(h=>!c.includes(h.id)))};r();const i=setInterval(r,6e4);return()=>clearInterval(i)},[]);const s=r=>{const i=JSON.parse(localStorage.getItem("dismissed_broadcasts")||"[]");i.includes(r)||(i.push(r),localStorage.setItem("dismissed_broadcasts",JSON.stringify(i))),e(n.filter(l=>l.id!==r))};return n.length===0?null:t.jsx("div",{className:"flex flex-col w-full z-50 sticky top-0",children:n.map(r=>t.jsx("div",{className:`w-full px-4 py-3 flex items-center justify-between shadow-sm relative animate-in slide-in-from-top duration-300 ${r.type==="critical"?"bg-red-600 text-white":r.type==="warning"?"bg-orange-500 text-white":r.type==="success"?"bg-green-600 text-white":"bg-blue-600 text-white"}`,children:t.jsxs("div",{className:"flex items-center gap-3 container max-w-screen-2xl mx-auto px-6 md:px-12",children:[r.type==="critical"&&t.jsx(Ql,{size:20}),r.type==="warning"&&t.jsx(ln,{size:20}),r.type==="success"&&t.jsx(bt,{size:20}),r.type==="info"&&t.jsx(Jl,{size:20}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-1 md:gap-3 flex-1",children:[t.jsx("span",{className:"font-black uppercase tracking-wider text-xs",children:r.title}),t.jsx("span",{className:"hidden md:inline w-1 h-1 bg-white rounded-full opacity-50"}),t.jsx("span",{className:"font-medium text-sm",children:r.message}),r.actionUrl&&t.jsx("a",{href:r.actionUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 bg-white text-black text-[10px] font-black uppercase tracking-widest rounded-sm hover:bg-gray-100 transition-colors ml-0 md:ml-4 self-start md:self-auto",children:r.actionText||"Read More"})]}),t.jsx("button",{onClick:()=>s(r.id),className:"text-white/80 hover:text-white transition-colors p-1",children:t.jsx(nn,{size:18})})]})},r.id))})},CM=({email:n,onDismiss:e,onVerified:s})=>{const[r,i]=w.useState(!1),[l,c]=w.useState(!1),[h,f]=w.useState(""),[p,x]=w.useState(!1),[b,v]=w.useState(["","","",""]),[E,S]=w.useState("idle"),[A,C]=w.useState(""),P=w.useRef([]);if(p)return null;const D=async()=>{i(!0),f("");try{await q.resendVerificationEmail(n),c(!0)}catch(I){f(I.message||"Failed to send email")}finally{i(!1)}},F=()=>{x(!0),e&&e()},B=(I,L)=>{var V;if(!/^\d*$/.test(L))return;const M=[...b];M[I]=L.slice(-1),v(M),L&&I<3&&((V=P.current[I+1])==null||V.focus()),M.every(R=>R!=="")&&M.join("").length===4&&_(M.join(""))},$=(I,L)=>{var M;L.key==="Backspace"&&!b[I]&&I>0&&((M=P.current[I-1])==null||M.focus())},Q=I=>{I.preventDefault();const L=I.clipboardData.getData("text").replace(/\D/g,"").slice(0,4),M=[...b];L.split("").forEach((V,R)=>{R<4&&(M[R]=V)}),v(M),M.every(V=>V!=="")&&_(M.join(""))},_=async I=>{S("loading"),C("");try{await q.verifyEmail(I),S("success"),C("Email verified successfully!"),s&&s(),setTimeout(()=>{x(!0)},2e3)}catch(L){S("error"),C(L.message||"Invalid code. Please try again."),v(["","","",""]),setTimeout(()=>{var M;(M=P.current[0])==null||M.focus()},100)}},k=()=>{var I;v(["","","",""]),S("idle"),C(""),(I=P.current[0])==null||I.focus()};return E==="success"?t.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center justify-center py-3 gap-3",children:[t.jsx(bt,{className:"shrink-0",size:20}),t.jsx("p",{className:"text-sm font-bold",children:A})]})})}):t.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[t.jsx(ln,{className:"shrink-0",size:20}),t.jsx("div",{className:"flex-1",children:t.jsx("p",{className:"text-sm font-bold",children:l?"Verification email sent! Check your inbox.":"Please verify your email address to create projects."})})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[t.jsx("div",{className:"flex gap-1.5",children:b.map((I,L)=>t.jsx("input",{ref:M=>{P.current[L]=M},type:"text",inputMode:"numeric",maxLength:1,value:I,onChange:M=>B(L,M.target.value),onKeyDown:M=>$(L,M),onPaste:L===0?Q:void 0,disabled:E==="loading",className:"w-9 h-10 text-center text-lg font-bold border-2 border-white/40 rounded-lg focus:border-white focus:outline-none bg-white/20 text-white placeholder-white/50 disabled:opacity-50",placeholder:"0"},L))}),E==="loading"&&t.jsx(cs,{className:"animate-spin",size:18}),E==="error"&&t.jsxs("button",{onClick:k,className:"flex items-center gap-1 bg-red-500/80 hover:bg-red-600 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors",children:[t.jsx(Ql,{size:14})," Retry"]}),E==="idle"&&t.jsx("button",{onClick:D,disabled:r,className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wider transition-colors disabled:opacity-50",children:r?t.jsxs(t.Fragment,{children:[t.jsx(cs,{className:"animate-spin",size:14})," Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ji,{size:14})," Resend"]})}),t.jsx("button",{onClick:F,className:"p-1 hover:bg-white/20 rounded transition-colors","aria-label":"Dismiss",children:t.jsx(nn,{size:16})})]})]}),h&&t.jsx("div",{className:"pt-2 text-xs font-medium text-white/90",children:h}),E==="error"&&A&&t.jsx("div",{className:"pt-2 text-xs font-medium text-white/90",children:A})]})})},AM=({projects:n,onUpdate:e,onNavigateToProject:s,onAddProject:r})=>{const[i,l]=w.useState(""),[c,h]=w.useState(""),[f,p]=w.useState(""),[x,b]=w.useState("all"),[v,E]=w.useState({start:"",end:""}),[S,A]=w.useState(1),C=10,[P,D]=w.useState([]),[F,B]=w.useState(null),$=U=>{switch(U){case"completed":return"bg-gray-900 text-white";case"active":return"bg-[#ff4d00] text-white";case"stopped":return"bg-gray-100 text-gray-500 border border-gray-200"}},Q=n.filter(U=>{const me=U.id.toLowerCase().includes(i.toLowerCase()),W=U.name.toLowerCase().includes(c.toLowerCase()),ne=U.plan.toLowerCase().includes(f.toLowerCase()),ve=x==="all"||U.status===x;let Re=!0;if(v.start||v.end){const Ae=U.createdAt?new Date(U.createdAt).getTime():0,H=v.start?new Date(v.start).getTime():0,ce=v.end?new Date(v.end).getTime()+864e5:1/0;Ae===0?Re=!1:Re=Ae>=H&&Ae<ce}return me&&W&&ne&&ve&&Re}),_=Math.ceil(Q.length/C),k=Q.slice((S-1)*C,S*C),I=U=>{U>=1&&U<=_&&A(U)},L=async U=>{if(P.length!==0)if(U==="delete")confirm(`Are you sure you want to delete ${P.length} campaigns?`)&&(await q.bulkDeleteProjects(P),D([]),e());else{const me=U==="resume"?"active":"stopped";await q.bulkUpdateProjectStatus(P,me),D([]),e()}},M=()=>{const U=k.map(W=>W.id),me=U.every(W=>P.includes(W));D(me?W=>W.filter(ne=>!U.includes(ne)):W=>Array.from(new Set([...W,...U])))},V=U=>{P.includes(U)?D(me=>me.filter(W=>W!==U)):D(me=>[...me,U])};Ke.useEffect(()=>{A(1),D([])},[i,c,f,x,v]);const R=k.length>0&&k.every(U=>P.includes(U.id));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tight",children:"Campaign Manager"}),t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mt-1",children:"Manage your traffic sources"})]}),t.jsxs("button",{onClick:r,className:"bg-[#ff4d00] hover:bg-[#e64600] text-white px-6 py-3 text-xs font-black uppercase tracking-widest transition-colors flex items-center gap-2 shadow-lg shadow-orange-500/20",children:[t.jsx(Or,{size:16,strokeWidth:3}),"Create Project"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-4 shadow-sm grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(xu,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Filter by ID...",value:i,onChange:U=>l(U.target.value),className:"w-full pl-9 pr-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-900 focus:outline-none focus:border-[#ff4d00] placeholder-gray-400"})]}),t.jsx("input",{type:"text",placeholder:"Filter by Name...",value:c,onChange:U=>h(U.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-900 focus:outline-none focus:border-[#ff4d00] placeholder-gray-400"}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:f,onChange:U=>p(U.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-500 focus:outline-none focus:border-[#ff4d00] appearance-none",children:[t.jsx("option",{value:"",children:"All Plans"}),t.jsx("option",{value:"Free Trial",children:"Free Trial"}),t.jsx("option",{value:"Starter",children:"Starter"}),t.jsx("option",{value:"Growth",children:"Growth"}),t.jsx("option",{value:"Agency",children:"Agency"})]}),t.jsx(wi,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:x,onChange:U=>b(U.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-500 focus:outline-none focus:border-[#ff4d00] appearance-none",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"stopped",children:"Stopped"}),t.jsx("option",{value:"completed",children:"Completed"})]}),t.jsx(wi,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),t.jsxs("button",{onClick:()=>{l(""),h(""),p(""),b("all")},className:"px-4 py-2 border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:text-gray-900 hover:border-gray-400 transition-colors flex items-center justify-center gap-2",children:[t.jsx(nn,{size:14})," Clear"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden min-h-[600px] flex flex-col",children:[t.jsx("div",{className:"overflow-x-auto flex-1",children:t.jsxs("table",{className:"w-full table-fixed",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-[#f9fafb] border-b border-gray-200",children:[t.jsx("th",{className:"w-16 px-6 py-4 text-left",children:t.jsx("button",{onClick:M,className:"flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:R?t.jsx(W2,{size:16,className:"text-[#ff4d00]"}):t.jsx(Y2,{size:16})})}),t.jsx("th",{className:"w-32 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Project ID"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Name"}),t.jsx("th",{className:"w-28 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Plan"}),t.jsx("th",{className:"w-32 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Expires"}),t.jsx("th",{className:"w-24 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hits"}),t.jsx("th",{className:"w-32 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"w-24 px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:Q.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-400 text-sm",children:"No campaigns found matching your filters."})}):k.map(U=>{var me;return t.jsxs("tr",{className:`transition-colors group relative ${P.includes(U.id)?"bg-orange-50/50":"hover:bg-orange-50/30"}`,children:[t.jsx("td",{className:"px-6 py-5",children:t.jsx("button",{onClick:W=>{W.stopPropagation(),V(U.id)},className:"flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:P.includes(U.id)?t.jsx(W2,{size:16,className:"text-[#ff4d00]"}):t.jsx(Y2,{size:16})})}),t.jsx("td",{className:"px-6 py-5 text-[11px] font-black text-[#ff4d00] font-mono tracking-tighter uppercase truncate",title:U.id,children:U.id.substring(0,10)}),t.jsx("td",{className:"px-6 py-5",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-black text-gray-900",children:U.name}),((me=U.settings)==null?void 0:me.entryUrls)&&t.jsx("a",{href:U.settings.entryUrls,target:"_blank",rel:"noreferrer",className:"ml-2 inline-block text-gray-300 hover:text-[#ff4d00]",onClick:W=>W.stopPropagation(),children:t.jsx(Hf,{size:12})})]})}),t.jsx("td",{className:"px-6 py-5 text-sm font-medium text-gray-600",children:U.plan}),t.jsx("td",{className:"px-6 py-5 text-sm font-medium text-gray-500",children:U.expires}),t.jsx("td",{className:"px-6 py-5",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-bold text-gray-900",children:(U.totalHits||0).toLocaleString()}),U.status==="active"&&t.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})}),t.jsx("td",{className:"px-6 py-5",children:t.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 text-[10px] font-black uppercase tracking-wider rounded-sm ${$(U.status)}`,children:[U.status==="stopped"&&t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 mr-2"}),U.status==="active"&&t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white mr-2 animate-pulse"}),U.status]})}),t.jsx("td",{className:"px-6 py-5 text-right relative",children:t.jsx("button",{onClick:W=>{W.stopPropagation(),s(U.id)},className:"text-gray-400 hover:text-[#ff4d00] transition-colors p-2 hover:bg-orange-50 rounded-sm",children:t.jsx(Xl,{size:18})})})]},U.id)})})]})}),t.jsxs("div",{className:"p-4 border-t border-gray-200 bg-[#f9fafb] flex items-center justify-between mt-auto",children:[t.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:["Showing ",Math.min((S-1)*C+1,Q.length)," - ",Math.min(S*C,Q.length)," of ",Q.length]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>I(S-1),disabled:S===1,className:"px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[t.jsx(Xv,{size:14})," Prev"]}),t.jsx("div",{className:"flex items-center gap-1 px-2",children:Array.from({length:Math.min(_,5)},(U,me)=>{let W=me+1;return _>5&&S>3&&(W=S-2+me),W>_?null:t.jsx("button",{onClick:()=>I(W),className:`w-8 h-8 flex items-center justify-center text-xs font-bold border ${S===W?"border-[#ff4d00] text-[#ff4d00] bg-orange-50":"border-transparent text-gray-400 hover:text-gray-600"}`,children:W},W)})}),t.jsxs("button",{onClick:()=>I(S+1),disabled:S===_,className:"px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Next ",t.jsx(xc,{size:14})]})]})]})]}),P.length>0&&t.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 animate-in slide-in-from-bottom-4 fade-in duration-300",children:t.jsxs("div",{className:"bg-gray-900 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-6 border border-gray-800",children:[t.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 border-r border-gray-700 pr-6 mr-2",children:[P.length," Selected"]}),t.jsxs("button",{onClick:()=>L("resume"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors",children:[t.jsx(ex,{size:14})," Resume"]}),t.jsxs("button",{onClick:()=>L("pause"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors",children:[t.jsx(c4,{size:14})," Pause"]}),t.jsx("div",{className:"w-px h-4 bg-gray-700 mx-2"}),t.jsxs("button",{onClick:()=>L("delete"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-red-500 transition-colors",children:[t.jsx(yc,{size:14})," Delete"]}),t.jsx("button",{onClick:()=>D([]),className:"ml-4 text-gray-500 hover:text-white",children:t.jsx(nn,{size:14})})]})})]})},Ms=({value:n,onChange:e,options:s,placeholder:r="Select...",disabled:i=!1,className:l=""})=>{const[c,h]=w.useState(!1),f=w.useRef(null),p=s.find(b=>b.value===n);w.useEffect(()=>{const b=v=>{f.current&&!f.current.contains(v.target)&&h(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const x=b=>{e(b),h(!1)};return t.jsxs("div",{className:`relative ${l}`,ref:f,children:[t.jsxs("button",{type:"button",onClick:()=>!i&&h(!c),className:`w-full bg-[#f9fafb] border ${c?"border-[#ff4d00]":"border-gray-200"} p-3 text-sm font-bold text-gray-900 outline-none flex justify-between items-center transition-all duration-200 rounded-sm ${i?"opacity-50 cursor-not-allowed":"cursor-pointer hover:border-gray-300"}`,children:[t.jsx("span",{className:`truncate ${p?"text-gray-900":"text-gray-400"}`,children:p?p.label:r}),t.jsx(wi,{size:16,className:`text-gray-400 transition-transform duration-200 flex-shrink-0 ml-2 ${c?"rotate-180 text-[#ff4d00]":""}`})]}),c&&t.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-[0_10px_40px_-10px_rgba(0,0,0,0.2)] z-50 max-h-60 overflow-y-auto mt-1 animate-in fade-in zoom-in-95 duration-100 rounded-sm",children:s.map(b=>t.jsxs("button",{type:"button",onClick:()=>x(b.value),className:"w-full text-left px-4 py-3 text-sm font-medium text-gray-700 hover:bg-[#ff4d00] hover:text-white flex justify-between items-center transition-colors border-b border-gray-50 last:border-0",children:[t.jsx("span",{className:"truncate",children:b.label}),n===b.value&&t.jsx(sn,{size:14,className:"flex-shrink-0 ml-2"})]},b.value))})]})},Hb={AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia and Herzegovina",BW:"Botswana",BR:"Brazil",BN:"Brunei",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",CV:"Cabo Verde",KH:"Cambodia",CM:"Cameroon",CA:"Canada",BQ:"Caribbean Netherlands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CK:"Cook Islands",CR:"Costa Rica",HR:"Croatia",CW:"Curacao",CY:"Cyprus",CZ:"Czechia",CD:"Democratic Republic of the Congo",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",SZ:"Eswatini",ET:"Ethiopia",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern and Antarctic Lands",GA:"Gabon",GE:"Georgia",DE:"Germany",GH:"Ghana",GR:"Greece",GD:"Grenada",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Laos",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MR:"Mauritania",MU:"Mauritius",MX:"Mexico",FM:"Micronesia",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar (Burma)",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MK:"North Macedonia",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn Islands",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",CG:"Republic of the Congo",RO:"Romania",RU:"Russia",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena, Ascension and Tristan da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",KR:"South Korea",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SE:"Sweden",CH:"Switzerland",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",BS:"The Bahamas",GM:"The Gambia",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkiye",TM:"Turkmenistan",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VA:"Vatican City",VE:"Venezuela",VN:"Vietnam",WF:"Wallis and Futuna",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},ql=Object.entries(Hb).map(([n,e])=>({code:n,name:e})),IM=["Afrikaans","Albanian","Amharic","Arabic","Armenian","Azerbaijani","Basque","Belarusian","Bengali","Bosnian","Bulgarian","Catalan","Cebuano","Chichewa","Chinese (Simplified)","Chinese (Traditional)","Corsican","Croatian","Czech","Danish","Dutch","English (US)","English (UK)","Esperanto","Estonian","Filipino","Finnish","French","Frisian","Galician","Georgian","German","Greek","Gujarati","Haitian Creole","Hausa","Hawaiian","Hebrew","Hindi","Hmong","Hungarian","Icelandic","Igbo","Indonesian","Irish","Italian","Japanese","Javanese","Kannada","Kazakh","Khmer","Kinyarwanda","Korean","Kurdish (Kurmanji)","Kyrgyz","Lao","Latin","Latvian","Lithuanian","Luxembourgish","Macedonian","Malagasy","Malay","Malayalam","Maltese","Maori","Marathi","Mongolian","Myanmar (Burmese)","Nepali","Norwegian","Odia (Oriya)","Pashto","Persian","Polish","Portuguese","Punjabi","Romanian","Russian","Samoan","Scots Gaelic","Serbian","Sesotho","Shona","Sindhi","Sinhala","Slovak","Slovenian","Somali","Spanish","Sundanese","Swahili","Swedish","Tajik","Tamil","Tatar","Telugu","Thai","Turkish","Turkmen","Ukrainian","Urdu","Uyghur","Uzbek","Vietnamese","Welsh","Xhosa","Yiddish","Yoruba","Zulu"],nw=[{value:"Direct",label:"Direct"},{value:"Organic (General)",label:"Organic (General)"},{value:"Organic, Google Search",label:"Organic - Google Search"},{value:"Organic, Google News",label:"Organic - Google News"},{value:"Organic, Google Images",label:"Organic - Google Images"},{value:"Organic, Google Video",label:"Organic - Google Video"},{value:"Organic, Bing",label:"Organic - Bing"},{value:"Organic, DuckDuckGo",label:"Organic - DuckDuckGo"},{value:"Organic, YouTube",label:"Organic - YouTube"},{value:"Social (General)",label:"Social (General)"},{value:"Social, Instagram",label:"Social - Instagram"},{value:"Social, Facebook",label:"Social - Facebook"},{value:"Social, LinkedIn",label:"Social - LinkedIn"},{value:"Social, X, Twitter",label:"Social - X (Twitter)"},{value:"Social, Pinterest",label:"Social - Pinterest"},{value:"Referral",label:"Referral"},{value:"Chatbots (General)",label:"Chatbots (General)"},{value:"Chatbots, Meta AI",label:"Chatbots - Meta AI"},{value:"Chatbots, Perplexity AI",label:"Chatbots - Perplexity AI"},{value:"Chatbots, ChatGPT",label:"Chatbots - ChatGPT"},{value:"Chatbots, Claude AI",label:"Chatbots - Claude AI"},{value:"Chatbots, Mistral AI",label:"Chatbots - Mistral AI"},{value:"Chatbots, Microsoft Copilot",label:"Chatbots - Copilot"},{value:"Chatbots, Gemini",label:"Chatbots - Gemini"},{value:"Chatbots, Groq",label:"Chatbots - Groq"},{value:"Messengers (General)",label:"Messengers (General)"},{value:"Messengers, WhatsApp",label:"Messengers - WhatsApp"},{value:"Messengers, WeChat",label:"Messengers - WeChat"},{value:"Messengers, Telegram",label:"Messengers - Telegram"},{value:"Messengers, Viber",label:"Messengers - Viber"}],g4=[{value:"5 seconds",label:"5 seconds"},{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"2 minutes",label:"2 minutes"},{value:"3 minutes",label:"3 minutes"},{value:"4 minutes",label:"4 minutes"},{value:"5 minutes",label:"5 minutes"}],RM=()=>{const n=[];for(let e=-12;e<=14;e++){const s=e>=0?"+":"-",r=Math.abs(e),i=`(GMT${s}${r.toString().padStart(2,"0")}:00) GMT${s}${r}`;if(n.push({value:`GMT${s}${r}`,label:i}),[3,4,5,6,9].includes(r)){const l=`(GMT${s}${r.toString().padStart(2,"0")}:30) GMT${s}${r}:30`;n.push({value:`GMT${s}${r}:30`,label:l})}}return n},x4=RM(),PM=[{value:"random",label:"Random Selection"},{value:"sequential",label:"Sequential Funnel"}],DM=(n,e=30)=>{const s=[],r=new Map(n.map(i=>[i.date,i]));for(let i=e-1;i>=0;i--){const l=new Date;l.setDate(l.getDate()-i);const c=l.toISOString().split("T")[0],h=r.get(c);s.push(h||{date:c,visitors:0,pageviews:0})}return s},OM=({projectId:n,onBack:e,onUpdate:s})=>{var ua,ns,Jn;const r=Vs(),[i,l]=w.useState(void 0),[c,h]=w.useState(!0),[f,p]=w.useState(void 0),[x,b]=w.useState(!1),[v,E]=w.useState(!1),[S,A]=w.useState([]),[C,P]=w.useState([]),[D,F]=w.useState(!1),[B,$]=w.useState(!1),[Q,_]=w.useState(""),[k,I]=w.useState([]),[L,M]=w.useState("pageviews"),[V,R]=w.useState("daily"),[U,me]=w.useState(!1),[W,ne]=w.useState([]),ve=w.useRef(null),[Re,Ae]=w.useState(!1),[H,ce]=w.useState(""),[_e,K]=w.useState(!1),[ye,Te]=w.useState(null),[Oe,rt]=w.useState(!1),[je,Ue]=w.useState(""),[_t,Ut]=w.useState(!1),[ws,ut]=w.useState(""),[Ps,ts]=w.useState(!1);if(w.useEffect(()=>{var it,Kt;const J=q.getProjectById(n);if(l(J),J){let tt=J.settings||{bounceRate:0,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,geoTargets:[],countries:["US"],trafficSource:"Direct",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,urlVisitOrder:"random",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0};if((!tt.geoTargets||tt.geoTargets.length===0)&&((it=tt.countries)==null?void 0:it.length)>0){const Ks=tt.countries.length,Fr=Math.floor(100/Ks),hn=100-Fr*Ks;tt.geoTargets=tt.countries.map((Li,Vi)=>{const Ga=Object.keys(Hb).find($r=>Hb[$r]===Li)||Li;return{id:`geo-${Date.now()}-${Vi}`,country:Ga,percent:Vi===0?Fr+hn:Fr}})}tt.languages||(tt.languages=[tt.language||"en-US"]),!tt.scheduleTrafficAmount&&((Kt=J.customTarget)!=null&&Kt.dailyLimit)&&(tt.scheduleTrafficAmount=J.customTarget.dailyLimit),p(tt)}const Me=q.getSystemSettings();I(Me.payloadTemplates||[]),h(!1)},[n]),w.useEffect(()=>{(async()=>{const Me=await q.getCalculatedExpiry(n);Te(Me)})()},[n]),w.useEffect(()=>{(async()=>{me(!0);const Me=await q.syncProjectStats(n,30);A(DM(Me,30)),me(!1)})()},[n]),w.useEffect(()=>{(async()=>{if(V==="hourly"){me(!0);const Me=await q.syncProjectStatsHourly(n,24);P(Me),me(!1)}})()},[n,V]),w.useEffect(()=>{const J=async()=>{if(V==="live"){me(!0);const Me=await q.syncProjectStatsLive(n);ne(Me),me(!1)}};return V==="live"&&(J(),ve.current=setInterval(J,300*1e3)),()=>{ve.current&&(clearInterval(ve.current),ve.current=null)}},[n,V]),w.useEffect(()=>{const J=()=>{Ut(!1),ts(!1)};return document.addEventListener("click",J),()=>document.removeEventListener("click",J)},[]),c||!i||!f)return t.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading Configuration..."});const pe=i.plan==="Free Trial",re=(J,Me)=>{pe||p(it=>it?{...it,[J]:Me}:void 0)},$e=async()=>{if(pe)return;if(!f.entryUrls||f.entryUrls.trim()===""){alert("Entry URLs are mandatory. Please provide at least one URL.");return}const J=(f.geoTargets||[]).reduce((Kt,tt)=>Kt+tt.percent,0);if(J!==100&&(f.geoTargets||[]).length>0){alert(`Total location percentage must equal 100%. Current total: ${J}%`);return}b(!0),E(!1);const Me={...f,countries:(f.geoTargets||[]).map(Kt=>Kt.country),language:(f.languages||[])[0]||"en-US"},it={...i,settings:Me};try{await q.updateProject(it),l(it),E(!0),setTimeout(()=>E(!1),2e3),s&&s()}catch(Kt){console.error("Failed to save project:",Kt),alert("Failed to save project settings. Please try again.")}finally{b(!1)}},nt=async()=>{if(!i)return;const J=i.status==="active"?"stopped":"active";try{await q.updateProjectStatus(i.id,J),l({...i,status:J}),s&&s()}catch(Me){console.error("Failed to update project status:",Me),alert("Failed to update project status. Please try again.")}},Mt=async()=>{if(i&&confirm(`Clone "${i.name}"? A copy will be created with status "paused".`))try{await q.cloneProject(i.id),s&&s(),r("/dashboard/campaigns")}catch(J){console.error("Failed to clone project:",J),alert("Failed to clone project. Please try again.")}},Wn=async()=>{if(i&&confirm(`Are you sure you want to delete "${i.name}"? This action cannot be undone.`))try{await q.deleteProject(i.id),s&&s(),r("/dashboard/campaigns")}catch(J){console.error("Failed to delete project:",J),alert("Failed to delete project. Please try again.")}},Br=()=>{if(!Q.trim())return;const J=q.getSystemSettings(),Me={id:`tpl-${Date.now()}`,name:Q,json:JSON.stringify(f)},it={...J,payloadTemplates:[...J.payloadTemplates||[],Me]};q.saveSystemSettings(it),I(it.payloadTemplates||[]),_(""),F(!1),alert("Template saved successfully!")},fe=J=>{const Me=k.find(it=>it.id===J);if(Me)try{const it=JSON.parse(Me.json);p({...f,...it}),$(!1),alert("Template loaded. Please review settings before saving.")}catch{alert("Failed to parse template data.")}},De=async()=>{var Me;const J=(Me=(f.entryUrls||"").split(`
`)[0])==null?void 0:Me.trim();if(!J){alert("Please enter an Entry URL first.");return}rt(!0);try{const it=await q.scanGA4(J);re("gaId",it),alert(`Found Analytics ID: ${it}`)}catch(it){alert(`Scan failed: ${it.message||"No GA ID found"}`)}finally{rt(!1)}},Ye=J=>{if(pe||(f.geoTargets||[]).find(hn=>hn.country===J))return;const it=(f.geoTargets||[]).length+1,Kt=Math.floor(100/it),tt=(f.geoTargets||[]).map(hn=>({...hn,percent:Kt})),Ks=100-Kt*(it-1),Fr={id:`geo-${Date.now()}`,country:J,percent:Ks};re("geoTargets",[...tt,Fr]),ut("")},at=J=>{pe||re("geoTargets",(f.geoTargets||[]).filter(Me=>Me.id!==J))},At=(J,Me)=>{if(pe)return;const it=(f.geoTargets||[]).map(Kt=>Kt.id===J?{...Kt,percent:Me}:Kt);re("geoTargets",it)},ss=J=>{pe||((f.languages||[]).includes(J)||re("languages",[...f.languages||[],J]),Ue(""))},dn=J=>{pe||re("languages",(f.languages||[]).filter(Me=>Me!==J))},pr=J=>(J||"").split(`
`).filter(Me=>Me.trim().length>0).length,da=pr(f==null?void 0:f.entryUrls),Yn=pr(f==null?void 0:f.innerUrls),Ds=pr(f==null?void 0:f.exitUrls),un=da+Yn+Ds,It=S.length>0?S:i.stats||[];It.length>0&&Math.max(...It.map(J=>L==="visitors"?J.visitors:J.pageviews||J.visitors));const _c=IM.filter(J=>J.toLowerCase().includes(je.toLowerCase())),Mi=ql.filter(J=>J.name.toLowerCase().includes(ws.toLowerCase())),sl=((ua=i.customTarget)==null?void 0:ua.totalVisitors)||0,Qn=((ns=i.customTarget)==null?void 0:ns.dailyLimit)||0;return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center bg-white p-6 border border-gray-200 shadow-sm sticky top-0 z-10",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-sm text-gray-500 transition-colors",children:t.jsx($n,{size:20})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Project Configuration"}),t.jsxs("span",{className:`text-[8px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded border ${i.plan==="Expert"?"bg-green-50 text-green-700 border-green-200":i.plan==="Professional"?"bg-blue-50 text-blue-700 border-blue-200":"bg-orange-50 text-orange-700 border-orange-200"}`,children:[i.plan," Plan"]})]}),Re?t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("input",{type:"text",value:H,onChange:J=>ce(J.target.value),onKeyDown:J=>{J.key==="Enter"&&H.trim()&&(l({...i,name:H.trim()}),Ae(!1)),J.key==="Escape"&&(Ae(!1),ce(i.name))},onBlur:()=>{H.trim()&&l({...i,name:H.trim()}),Ae(!1)},className:"text-2xl font-black text-gray-900 bg-gray-100 px-2 py-1 outline-none focus:ring-2 focus:ring-[#ff4d00]",autoFocus:!0})}):t.jsxs("div",{className:"flex items-center gap-2 group",children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900",children:i.name}),t.jsx("button",{onClick:()=>{ce(i.name),Ae(!0)},className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",title:"Edit project name",children:t.jsx(vO,{size:16,className:"text-[#ff4d00]"})})]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 mr-4 border-r border-gray-200 pr-4",children:[t.jsxs("button",{onClick:()=>F(!0),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(Fa,{size:14,className:"text-[#ff4d00]"})," Save Template"]}),t.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(jg,{size:14,className:"text-[#ff4d00]"})," Load Template"]})]}),v&&t.jsxs("span",{className:"text-green-600 text-xs font-bold uppercase tracking-wider animate-in fade-in slide-in-from-right-2 mr-4 flex items-center gap-1",children:[t.jsx(Yl,{size:14})," Saved"]}),pe?t.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 text-gray-500 px-4 py-2.5 text-xs font-bold uppercase tracking-wider border border-gray-200 cursor-not-allowed",children:[t.jsx(Vn,{size:14})," Read Only"]}):t.jsxs("button",{onClick:$e,disabled:x,className:"flex items-center gap-2 bg-[#ff4d00] text-white px-5 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors disabled:opacity-70 shadow-lg",children:[t.jsx(Fa,{size:14})," ",x?"Saving...":"Save Changes"]}),t.jsxs("button",{onClick:Mt,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(_n,{size:14,className:"text-[#ff4d00]"})," Clone"]}),t.jsxs("button",{onClick:nt,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[i.status==="active"?t.jsx(c4,{size:14,className:"text-[#ff4d00]"}):t.jsx(ex,{size:14,className:"text-[#ff4d00]"}),i.status==="active"?"Pause":"Resume"]}),t.jsxs("button",{onClick:Wn,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(yc,{size:14,className:"text-[#ff4d00]"})," Delete"]})]})]}),D&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white p-6 w-full max-w-md shadow-xl border border-gray-200",children:[t.jsx("h3",{className:"text-sm font-bold uppercase mb-4",children:"Save Configuration as Template"}),t.jsx("input",{value:Q,onChange:J=>_(J.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] mb-4",placeholder:"Template Name (e.g. Mobile US Organic)"}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 text-xs font-bold uppercase text-gray-500",children:"Cancel"}),t.jsx("button",{onClick:Br,className:"px-4 py-2 text-xs font-bold uppercase bg-black text-white hover:bg-[#ff4d00]",children:"Save"})]})]})}),B&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white p-6 w-full max-w-md shadow-xl border border-gray-200",children:[t.jsx("h3",{className:"text-sm font-bold uppercase mb-4",children:"Load Template"}),t.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto",children:k.length===0?t.jsx("p",{className:"text-xs text-gray-400",children:"No templates found."}):k.map(J=>t.jsx("button",{onClick:()=>fe(J.id),className:"w-full text-left p-3 bg-gray-50 hover:bg-gray-100 text-sm font-medium border border-transparent hover:border-gray-200",children:J.name},J.id))}),t.jsx("button",{onClick:()=>$(!1),className:"w-full px-4 py-2 text-xs font-bold uppercase bg-black text-white hover:bg-gray-800",children:"Close"})]})}),pe&&t.jsxs("div",{className:"bg-orange-50 border-l-4 border-[#ff4d00] p-4 flex items-start gap-3 shadow-sm",children:[t.jsx(Gt,{className:"text-[#ff4d00] shrink-0",size:20}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-orange-900 uppercase tracking-wide",children:"Free Trial Mode"}),t.jsx("p",{className:"text-xs text-orange-700 mt-1 leading-relaxed",children:"This project is running on a high-speed demonstration plan (6,000 hits/4h). Settings are locked."})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(Zl,{size:14})," Total Target"]}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:sl>0?sl.toLocaleString():i.plan})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(bf,{size:14})," Daily Speed"]}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:Qn>0?`${Qn.toLocaleString()}/day`:"N/A"})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(Ir,{size:14})," Hits Total"]}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:((Jn=i.totalHits)==null?void 0:Jn.toLocaleString())||0})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(ew,{size:14})," Status"]}),t.jsx("div",{className:`text-sm font-black uppercase tracking-wide ${i.status==="active"?"text-green-600":i.status==="stopped"?"text-red-600":"text-gray-500"}`,children:i.status==="completed"?"Expired":i.status})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(Wl,{size:14})," Expires"]}),ye?t.jsx("div",{children:ye.message?t.jsx("div",{className:"text-sm font-bold text-orange-500",children:ye.message}):ye.daysRemaining!==null?t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:ye.expiresDate}),t.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:[ye.daysRemaining.toFixed(1)," days remaining"]})]}):t.jsx("div",{className:"text-sm font-bold text-gray-900",children:i.expires})}):t.jsx("div",{className:"text-sm font-bold text-gray-900",children:i.expires})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("button",{onClick:()=>K(!_e),className:"w-full flex items-center justify-between p-6 hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Wl,{size:18,className:"text-[#ff4d00]"}),t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Traffic Schedule"})]}),_e?t.jsx(gu,{size:18,className:"text-gray-400"}):t.jsx(wi,{size:18,className:"text-gray-400"})]}),_e&&t.jsx("div",{className:"p-6 pt-0 border-t border-gray-100 animate-in fade-in slide-in-from-top-2",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-4",children:[t.jsxs("div",{children:[t.jsx(ls,{children:"Start Date"}),t.jsx("input",{type:"date",value:f.scheduleStart||"",onChange:J=>re("scheduleStart",J.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",disabled:pe})]}),t.jsxs("div",{children:[t.jsx(ls,{children:"End Date"}),t.jsx("input",{type:"date",value:f.scheduleEnd||"",onChange:J=>re("scheduleEnd",J.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",disabled:pe})]}),t.jsxs("div",{children:[t.jsx(ls,{children:"Daily Traffic (Hits per Day)"}),t.jsx("input",{type:"number",value:f.scheduleTrafficAmount||"",onChange:J=>re("scheduleTrafficAmount",parseInt(J.target.value)||0),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"Hits per day",disabled:pe})]}),t.jsxs("div",{children:[t.jsx(ls,{children:"Distribution Pattern"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>re("schedulePattern","even"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wider border transition-colors ${f.schedulePattern==="even"||!f.schedulePattern?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 text-gray-600 hover:border-gray-300"}`,disabled:pe,children:"Even"}),t.jsx("button",{onClick:()=>re("schedulePattern","realistic"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wider border transition-colors ${f.schedulePattern==="realistic"?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 text-gray-600 hover:border-gray-300"}`,disabled:pe,children:"Realistic"})]}),f.schedulePattern==="realistic"&&t.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:"Traffic varies by time of day and day of week for natural patterns."})]})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Traffic Statistics"}),t.jsxs("div",{className:"flex bg-gray-100 rounded-sm p-1",children:[t.jsx("button",{onClick:()=>R("daily"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${V==="daily"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"30 Days"}),t.jsx("button",{onClick:()=>R("hourly"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${V==="hourly"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"24 Hours"}),t.jsx("button",{onClick:()=>R("live"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${V==="live"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"Live"})]})]}),t.jsxs("div",{className:"text-xs text-gray-500 font-bold",children:["Total Views:",t.jsx("span",{className:"text-gray-900 ml-1",children:(V==="daily"?It:V==="hourly"?C:W).reduce((J,Me)=>J+(Me.pageviews||Me.visitors),0).toLocaleString()})]})]}),V==="live"&&t.jsxs("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-sm flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-[#ff4d00] rounded-full animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-orange-700 uppercase tracking-wide",children:"Live Traffic - Updated every 5 minutes"})]}),t.jsx("div",{className:"h-64 flex items-end justify-between gap-1 w-full px-4 border-b border-gray-100 pb-2",children:U?t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm animate-pulse",children:"Loading statistics..."}):(V==="daily"?It:V==="hourly"?C:W).length===0?t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:V==="live"?"No live traffic data available.":"No traffic data available."}):(V==="daily"?It:V==="hourly"?C:W).map((J,Me)=>{const it=J.pageviews||J.visitors,tt=Math.max(...(V==="daily"?It:V==="hourly"?C:W).map(hn=>hn.pageviews||hn.visitors),1),Ks=tt>0?it/tt*100:0,Fr=V==="daily"?J.date:V==="hourly"?J.hour:J.time;return t.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative h-full",children:[t.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap",children:[Fr,": ",it.toLocaleString()]}),t.jsx("div",{className:"w-full opacity-80 hover:opacity-100 transition-opacity rounded-t-sm min-w-[4px] bg-[#ff4d00]",style:{height:`${Ks}%`,minHeight:"4px"}})]},Me)})})]}),t.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-6 ${pe?"opacity-70 pointer-events-none grayscale-[0.5]":""}`,children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(eb,{})," Basic Settings"]}),t.jsxs("div",{className:"space-y-8",children:[t.jsx(tb,{label:"Bounce Rate",value:f.bounceRate,onChange:J=>re("bounceRate",J),suffix:"%"}),t.jsx(tb,{label:"Visitor Returning Rate",value:f.returnRate,onChange:J=>re("returnRate",J),suffix:"%"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx(ls,{children:"Device Distribution"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>{re("deviceSplit",100),re("tabletSplit",0)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Desktop Only"}),t.jsx("button",{onClick:()=>{re("deviceSplit",33),re("tabletSplit",33)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Balanced"}),t.jsx("button",{onClick:()=>{re("deviceSplit",0),re("tabletSplit",0)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Mobile Only"})]})]}),t.jsxs("div",{className:"relative h-4 bg-gray-100 rounded-sm overflow-hidden flex text-[8px] font-bold text-white uppercase text-center leading-4 shadow-inner",children:[t.jsx("div",{className:"h-full bg-[#ff4d00]",style:{width:`${f.deviceSplit}%`},children:f.deviceSplit>10&&"Desktop"}),t.jsx("div",{className:"h-full bg-gray-600",style:{width:`${f.tabletSplit||0}%`},children:(f.tabletSplit||0)>10&&"Tablet"}),t.jsx("div",{className:"h-full bg-black/80",style:{width:`${100-f.deviceSplit-(f.tabletSplit||0)}%`},children:100-f.deviceSplit-(f.tabletSplit||0)>10&&"Mobile"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase mb-1",children:[t.jsxs("span",{className:"flex items-center gap-1 text-[#ff4d00]",children:[t.jsx(zd,{size:12})," Desktop"]}),t.jsxs("span",{children:[f.deviceSplit,"%"]})]}),t.jsx("input",{type:"range",min:"0",max:"100",value:f.deviceSplit,onChange:J=>{const Me=parseInt(J.target.value),it=100-(f.tabletSplit||0);re("deviceSplit",Math.min(Me,it))},className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]",disabled:pe})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase mb-1",children:[t.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[t.jsx(zd,{size:12})," Tablet"]}),t.jsxs("span",{children:[f.tabletSplit||0,"%"]})]}),t.jsx("input",{type:"range",min:"0",max:"100",value:f.tabletSplit||0,onChange:J=>{const Me=parseInt(J.target.value),it=100-f.deviceSplit;re("tabletSplit",Math.min(Me,it))},className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-gray-600",disabled:pe})]}),t.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase bg-gray-50 p-2 rounded-sm border border-gray-100",children:[t.jsxs("span",{className:"flex items-center gap-1 text-black",children:[t.jsx(Bd,{size:12})," Mobile Remainder"]}),t.jsxs("span",{className:"text-black",children:[Math.max(0,100-f.deviceSplit-(f.tabletSplit||0)),"%"]})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(eb,{})," Additional Settings"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ls,{children:"Time On Page"}),t.jsx(Ms,{value:f.timeOnPage,onChange:J=>re("timeOnPage",J),options:g4,disabled:pe})]}),t.jsxs("div",{children:[t.jsx(ls,{children:"Timezone"}),t.jsx(Ms,{value:f.timezone,onChange:J=>re("timezone",J),options:x4,disabled:pe})]}),t.jsxs("div",{className:"relative",onClick:J=>J.stopPropagation(),children:[t.jsx(ls,{children:"Browser Languages"}),t.jsxs("div",{className:"bg-[#f9fafb] border border-gray-200 p-2 min-h-[48px] flex flex-wrap gap-2",children:[(f.languages||[]).map(J=>t.jsxs("span",{className:"bg-white border border-gray-200 text-xs font-bold uppercase px-2 py-1 flex items-center gap-1 rounded-sm",children:[J," ",t.jsx("button",{onClick:()=>dn(J),className:"hover:text-red-500",children:t.jsx(nn,{size:10})})]},J)),t.jsx("input",{value:je,onChange:J=>{Ue(J.target.value),Ut(!0)},onFocus:()=>Ut(!0),className:"flex-1 bg-transparent text-sm outline-none min-w-[80px]",placeholder:(f.languages||[]).length===0?"Select Language...":"",disabled:pe})]}),_t&&t.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-xl max-h-60 overflow-y-auto z-50",children:_c.map(J=>t.jsx("div",{className:"p-3 text-sm hover:bg-orange-50 cursor-pointer",onClick:()=>{ss(J),Ut(!1)},children:J},J))})]}),t.jsxs("div",{children:[t.jsx(ls,{children:"Google Analytics ID"}),t.jsxs("div",{className:"relative flex items-center",children:[t.jsx("input",{value:f.gaId,onChange:J=>re("gaId",J.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium text-gray-900 pr-10",placeholder:"G-XXXXXXXXXX",disabled:pe}),t.jsx("button",{onClick:De,className:"absolute right-2 text-xs font-bold text-gray-400 hover:text-[#ff4d00] uppercase tracking-wide flex items-center gap-1",title:"Scan Entry URL for GA ID",disabled:Oe||pe,children:Oe?t.jsx(So,{size:14,className:"animate-spin"}):t.jsx(qn,{size:14})})]})]})]})]})]}),i.plan==="Economy"&&t.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 mx-6 flex items-center justify-between shadow-sm animate-in fade-in slide-in-from-top-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Oo,{size:20,className:"text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold text-orange-900 uppercase tracking-tight",children:"Tier Limitation: Economy"}),t.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Organic/Social sources, Residential IPs, and GA4 Automation are disabled on this plan."})]})]})}),t.jsxs("div",{className:pe?"opacity-70 pointer-events-none grayscale-[0.5]":"",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Rs,{size:16})," URL Configuration"]}),t.jsxs("div",{className:"space-y-8",children:[t.jsx(tb,{label:"Inner URLs Limit",value:f.innerUrlCount,onChange:J=>re("innerUrlCount",J),max:10}),t.jsx("div",{className:"flex items-end justify-between border-b border-gray-100 pb-2 mb-2",children:t.jsx(ls,{children:"Visit Behavior"})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:t.jsxs("div",{className:"bg-gray-50 p-3 rounded-sm border border-gray-100",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-2",children:"Visit Order"}),t.jsx(Ms,{value:f.urlVisitOrder||"random",onChange:J=>re("urlVisitOrder",J),options:PM,disabled:pe}),t.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 leading-tight",children:[t.jsx("strong",{children:"Sequential:"})," Landing  Inner 1  Inner 2.",t.jsx("br",{}),t.jsx("strong",{children:"Random:"})," Picks random pages from pool."]})]})}),t.jsx(sb,{label:"Entry URLs",value:f.entryUrls,onChange:J=>re("entryUrls",J),checked:f.autoCrawlEntry,onCheck:J=>re("autoCrawlEntry",J),countLabel:`Total: ${un}/10`,required:!0}),t.jsx(sb,{label:"Inner URLs",value:f.innerUrls,onChange:J=>re("innerUrls",J),checked:f.autoCrawlInner,onCheck:J=>re("autoCrawlInner",J),countLabel:`Total: ${un}/10`}),t.jsx(sb,{label:"Exit URLs",value:f.exitUrls,onChange:J=>re("exitUrls",J),checked:f.autoCrawlExit,onCheck:J=>re("autoCrawlExit",J),countLabel:`Total: ${un}/10`}),t.jsxs("div",{className:i.plan==="Economy"?"opacity-50 pointer-events-none":"",children:[t.jsx(ls,{children:"Sitemap / RSS Feed"}),t.jsx("input",{value:f.sitemap||"",onChange:J=>re("sitemap",J.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"https://example.com/sitemap.xml"}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Automatically discover URLs from your sitemap"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",onClick:J=>J.stopPropagation(),children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Mo,{size:16})," Location Targeting"]}),t.jsxs("div",{className:"mb-4",children:[t.jsx(ls,{children:"Search Countries"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{value:ws,onChange:J=>{ut(J.target.value),ts(!0)},onFocus:()=>ts(!0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"Type to search (e.g. United States)",disabled:pe}),t.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),Ps&&ws&&t.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-xl max-h-60 overflow-y-auto z-50 mt-1",children:Mi.map(J=>t.jsxs("div",{className:"p-3 text-sm hover:bg-orange-50 cursor-pointer font-medium flex items-center gap-2",onClick:()=>{Ye(J.code),ts(!1)},children:[t.jsx("img",{src:`https://flagcdn.com/w20/${J.code.toLowerCase()}.png`,alt:J.code,className:"w-4 h-auto rounded-sm",onError:Me=>{Me.target.style.display="none"}}),J.name]},J.code))})]}),(f.geoTargets||[]).length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"flex justify-between items-center mb-2",children:t.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase",children:["Selected (",(f.geoTargets||[]).length,")"]})}),t.jsx("div",{className:"space-y-2",children:(f.geoTargets||[]).map(J=>{const Me=ql.find(tt=>tt.code===J.country),Kt=100-(f.geoTargets||[]).reduce((tt,Ks)=>Ks.id!==J.id?tt+Ks.percent:tt,0);return t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-100",children:[t.jsx("img",{src:`https://flagcdn.com/w24/${J.country.toLowerCase()}.png`,alt:J.country,className:"w-6 h-auto rounded-sm",onError:tt=>{tt.target.style.display="none"}}),t.jsx("span",{className:"flex-1 font-bold text-sm text-gray-900",children:(Me==null?void 0:Me.name)||J.country}),t.jsx("input",{type:"range",min:"0",max:Kt,value:J.percent,onChange:tt=>At(J.id,parseInt(tt.target.value)),className:"w-24 accent-[#ff4d00]"}),t.jsx("input",{type:"number",min:"0",max:Kt,value:J.percent,onChange:tt=>At(J.id,parseInt(tt.target.value)||0),className:"w-16 p-1 text-center text-sm font-bold border border-gray-200 outline-none focus:border-[#ff4d00]"}),t.jsx("span",{className:"text-sm font-bold text-gray-400",children:"%"}),t.jsx("button",{onClick:()=>at(J.id),className:"text-gray-400 hover:text-red-500",children:t.jsx(nn,{size:14})})]},J.id)})}),t.jsxs("div",{className:`text-right mt-2 text-sm font-bold ${(f.geoTargets||[]).reduce((J,Me)=>J+Me.percent,0)===100?"text-green-600":"text-orange-500"}`,children:["Total: ",(f.geoTargets||[]).reduce((J,Me)=>J+Me.percent,0),"%"]})]}),(f.geoTargets||[]).length===0&&t.jsx("div",{className:"text-center p-4 text-xs text-gray-400 bg-gray-50 border border-dashed border-gray-200",children:"No countries selected. Traffic will be global."})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Ir,{size:16})," Traffic Source"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ls,{children:"Source Type"}),t.jsx(Ms,{value:f.trafficSource,onChange:J=>re("trafficSource",J),options:nw,disabled:pe})]}),(f.trafficSource||"").includes("Organic")&&t.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[t.jsx(ls,{children:"Keywords (One per line)"}),t.jsx("textarea",{value:f.keywords||"",onChange:J=>re("keywords",J.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none",placeholder:`keyword 1
keyword 2`,disabled:pe})]}),((f.trafficSource||"").includes("Social")||(f.trafficSource||"").includes("Referral"))&&t.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[t.jsx(ls,{children:"Referrer URLs (One per line)"}),t.jsx("textarea",{value:f.referralUrls||"",onChange:J=>re("referralUrls",J.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none",placeholder:`https://referrer-site.com/post
https://social-media.com/share`,disabled:pe})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",onClick:J=>J.stopPropagation(),children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Zl,{size:16})," Tracking & Attribution (UTM)"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(ls,{children:"Campaign Source"}),t.jsx("input",{value:f.utmSource||"",onChange:J=>re("utmSource",J.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. google, newsletter",disabled:pe})]}),t.jsxs("div",{children:[t.jsx(ls,{children:"Campaign Medium"}),t.jsx("input",{value:f.utmMedium||"",onChange:J=>re("utmMedium",J.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. cpc, banner",disabled:pe})]}),t.jsxs("div",{children:[t.jsx(ls,{children:"Campaign Name"}),t.jsx("input",{value:f.utmCampaign||"",onChange:J=>re("utmCampaign",J.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. spring_sale",disabled:pe})]}),t.jsxs("div",{children:[t.jsx(ls,{children:"Campaign Term"}),t.jsx("input",{value:f.utmTerm||"",onChange:J=>re("utmTerm",J.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. running shoes",disabled:pe})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(ls,{children:"Campaign Content"}),t.jsx("input",{value:f.utmContent||"",onChange:J=>re("utmContent",J.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. logolink, textlink",disabled:pe}),t.jsxs("div",{className:"mt-2 flex gap-2",children:[t.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{random_keyword}}"}),t.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{timestamp}}"}),t.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{device_type}}"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mb-20 mt-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(eb,{})," General Settings"]}),t.jsxs("div",{className:`flex items-center justify-between p-6 mb-8 border-2 rounded-sm transition-all duration-300 relative overflow-hidden
                    ${f.autoRenew?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white"} 
                `,children:[t.jsxs("div",{className:"relative z-10 max-w-xl",children:[t.jsxs("span",{className:"text-lg font-bold text-gray-900 flex items-center gap-3",children:[t.jsx(Gt,{size:20,className:f.autoRenew?"text-green-600":"text-gray-400"}),"Auto Renew Campaign"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2 leading-relaxed",children:"Automatically renew this campaign using wallet credits when it expires."})]}),t.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[t.jsx("button",{onClick:()=>re("autoRenew",!f.autoRenew),className:`w-14 h-8 flex items-center p-1 transition-colors duration-300 rounded-full ${f.autoRenew?"bg-green-500":"bg-gray-200"}`,disabled:pe,children:t.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${f.autoRenew?"translate-x-6":"translate-x-0"}`})}),t.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${f.autoRenew?"text-green-600":"text-gray-400"}`,children:f.autoRenew?"Active":"Disabled"})]})]}),t.jsx("div",{className:"h-px bg-gray-100 my-8"}),t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-400 mb-6 flex items-center gap-2",children:[t.jsx(Lr,{size:14,className:"text-yellow-500"})," Premium Expert Features"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.jsxs("div",{className:`relative ${i.plan!=="Expert"?"opacity-50":""}`,children:[t.jsx(MM,{label:"Automatic Website Crawler",checked:f.websiteCrawler||!1,onChange:J=>i.plan==="Expert"&&re("websiteCrawler",J)}),i.plan!=="Expert"&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/10 cursor-not-allowed pointer-events-auto",title:"Expert Tier Required"})]})})]})]})]})},eb=()=>t.jsx("div",{className:"w-1 h-3 bg-[#ff4d00] mr-1"}),ls=({children:n,required:e})=>t.jsxs("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:[n," ",e&&t.jsx("span",{className:"text-red-500",children:"*"})]}),tb=({label:n,value:e,onChange:s,suffix:r="",max:i=100})=>t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx(ls,{children:n}),t.jsxs("span",{className:"text-xs font-bold text-[#ff4d00]",children:[e,r]})]}),t.jsx("input",{type:"range",min:"0",max:i,value:e,onChange:l=>s(parseInt(l.target.value)),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"})]}),sb=({label:n,value:e,onChange:s,checked:r,onCheck:i,countLabel:l,placeholder:c,required:h})=>t.jsx("div",{className:"flex items-start gap-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:r,onChange:f=>i(f.target.checked),className:"accent-[#ff4d00] w-4 h-4"}),t.jsx(ls,{required:h,children:n})]}),l&&t.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:l})]}),t.jsx("textarea",{value:e,onChange:f=>s(f.target.value),rows:4,className:`w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium text-gray-900 transition-colors resize-y ${r?"":"opacity-50"}`,placeholder:c||"https://example.com/page",disabled:!r})]})}),MM=({label:n,checked:e,onChange:s})=>t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:n}),t.jsx("button",{onClick:()=>s(!e),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${e?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${e?"translate-x-5":"translate-x-0"}`})})]}),nb=[{id:1,label:"Identity",icon:Rs},{id:2,label:"Volume",icon:oa},{id:3,label:"Geo",icon:Mo},{id:4,label:"Behavior",icon:Gt},{id:5,label:"Review",icon:sn}],LM=[{id:"facebook",label:"Facebook"},{id:"twitter",label:"X (Twitter)"},{id:"instagram",label:"Instagram"},{id:"linkedin",label:"LinkedIn"},{id:"pinterest",label:"Pinterest"},{id:"youtube",label:"YouTube"},{id:"tiktok",label:"TikTok"},{id:"reddit",label:"Reddit"}],VM=({onBack:n,onCreated:e})=>{const s=Vs(),[r,i]=w.useState(1),[l,c]=w.useState(!1),[h,f]=w.useState(""),[p,x]=w.useState([]);w.useEffect(()=>{(async()=>{await q.syncTransactions(),x(q.getTransactions())})()},[]);const b=fe=>{const De=p.filter(at=>at.type!=="debit"&&at.tier===fe&&at.hits).reduce((at,At)=>at+(At.hits||0),0),Ye=p.filter(at=>at.type==="debit"&&at.tier===fe&&at.hits).reduce((at,At)=>at+(At.hits||0),0);return De-Ye};w.useMemo(()=>["expert","professional","economy"].filter(De=>b(De)>0),[p]);const v=()=>b("expert")>0?"expert":b("professional")>0?"professional":b("economy")>0?"economy":"expert",[E,S]=w.useState(v()),[A,C]=w.useState(""),[P,D]=w.useState(""),[F,B]=w.useState(""),[$,Q]=w.useState(!1),[_,k]=w.useState(1e3),[I,L]=w.useState(100),[M,V]=w.useState(()=>new Date().toISOString().split("T")[0]),[R,U]=w.useState(10),[me,W]=w.useState([]),[ne,ve]=w.useState({}),[Re,Ae]=w.useState(""),[H,ce]=w.useState(35),[_e,K]=w.useState("3 minutes"),[ye,Te]=w.useState("Direct"),[Oe,rt]=w.useState(""),[je,Ue]=w.useState(""),[_t,Ut]=w.useState([]),ws=async()=>{var fe,De;if(P){Q(!0),f("");try{const Ye=await q.scanGA4(P);Ye?B(Ye):f("No GA4 ID found on this page. Please enter manually.")}catch(Ye){(fe=Ye==null?void 0:Ye.message)!=null&&fe.includes("credentials")||(De=Ye==null?void 0:Ye.message)!=null&&De.includes("401")?f("Session expired. Please enter GA-ID manually or refresh the page."):f((Ye==null?void 0:Ye.message)||"Failed to scan for GA4. Please enter manually.")}finally{Q(!1)}}},ut=fe=>{if(me.includes(fe)){const De=me.filter(Ye=>Ye!==fe);W(De),ve(Ye=>{const at={...Ye};if(delete at[fe],De.length>0){const At=Math.floor(100/De.length);De.forEach(dn=>{at[dn]=At});const ss=100-At*De.length;ss>0&&De.length>0&&(at[De[0]]+=ss)}return at})}else{const De=[...me,fe];W(De);const Ye=Math.floor(100/De.length),at={};De.forEach(ss=>{at[ss]=Ye});const At=100-Ye*De.length;At>0&&(at[fe]+=At),ve(at)}},Ps=(fe,De)=>{ve(Ye=>{const at=Object.entries(Ye).filter(([dn])=>dn!==fe).reduce((dn,[,pr])=>dn+pr,0),At=Math.max(0,100-at),ss=Math.max(0,Math.min(At,De));return{...Ye,[fe]:ss}})},ts=w.useMemo(()=>Object.values(ne).reduce((fe,De)=>fe+De,0),[ne]),pe=()=>{if(me.length===0)return;const fe=Math.floor(100/me.length),De={};me.forEach(at=>{De[at]=fe});const Ye=100-fe*me.length;Ye>0&&me.length>0&&(De[me[0]]+=Ye),ve(De)},re=fe=>{_t.includes(fe)?Ut(De=>De.filter(Ye=>Ye!==fe)):Ut(De=>[...De,fe])},$e=()=>{if(f(""),r===1){if(!A.trim())return f("Please enter a project name.");if(!P.trim())return f("Please enter a target URL.");if(!F.trim())return f("Google Analytics ID is required.")}if(r===2){if(_<100)return f("Minimum 100 hits required.");if(I<1)return f("Minimum 1 hit per day required.");if(R<1)return f("Minimum 1 day duration required.");const fe=b(E);if(_>fe)return f(`Insufficient ${E} hits. Available: ${fe.toLocaleString()}`)}if(r===3){if(me.length===0)return f("Please select at least one country.");if(ts!==100)return f("Country distribution must total 100%.")}if(r===4){if((ye==="Organic (General)"||ye.startsWith("Organic"))&&!Oe.trim())return f("Please enter keywords for organic traffic.");if((ye==="Social (General)"||ye.startsWith("Social"))&&_t.length===0)return f("Please select at least one social platform.");if(ye==="Referral"&&!je.trim())return f("Please enter referral URLs.")}r<5?i(r+1):Mt()},nt=()=>{r>1?i(r-1):n()},Mt=async()=>{var fe;c(!0),f("");try{const De=new Date(M),Ye=new Date(De.getTime()+R*24*60*60*1e3),at=me.map(da=>({id:`geo-${da}`,country:da,percent:ne[da]||0})),At={bounceRate:H,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:_e,timezone:"UTC",language:"en-US",languages:["en-US"],gaId:F,urlVisitOrder:"random",entryUrls:P,innerUrls:"",exitUrls:"",autoCrawlEntry:!0,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:me,geoTargets:at,trafficSource:ye,keywords:Oe,referralUrls:je,socialPlatforms:_t,proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0,residentialIps:E!=="economy",citiesGeoTargeting:E!=="economy",nightDayVolume:E==="expert",websiteCrawler:E==="expert",ga4NaturalEvents:E==="expert",randomizeDailyVolume:E==="expert"},ss={id:"proj_"+Date.now(),userId:((fe=q.getCurrentUser())==null?void 0:fe.id)||"unknown",name:A,plan:E.charAt(0).toUpperCase()+E.slice(1),tier:E,customTarget:{totalVisitors:_,durationDays:R,dailyLimit:I},startAt:De.toISOString(),expires:Ye.toISOString().split("T")[0],createdAt:new Date().toISOString(),status:"active",settings:At},dn=await q.addProject(ss);e();const pr=(dn==null?void 0:dn.id)||ss.id;s(`/dashboard/campaigns/${pr}`)}catch(De){console.error("Project creation error:",De),f(De.message||"Failed to create project. Please try again.")}finally{c(!1)}},Wn=Re?ql.filter(fe=>fe.name.toLowerCase().includes(Re.toLowerCase())||fe.code.toLowerCase().includes(Re.toLowerCase())):ql,Br=()=>({1:["UTM Tracking","Sitemap Crawling"],2:["Night/Day Volume","Auto-Renew","Schedule Burst Mode"],3:["City-Level Targeting","Language Settings","Device Split"],4:["Device Targeting","Browser Selection","Session Randomization"]})[r]||[];return t.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-black transition-colors font-bold text-xs uppercase tracking-wider",children:[t.jsx($n,{size:16})," Back to Projects"]}),t.jsx("div",{className:"flex items-center gap-2",children:nb.map((fe,De)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`
                                w-10 h-10 rounded-full flex items-center justify-center text-xs font-black
                                ${r===fe.id?"bg-[#ff4d00] text-white shadow-lg scale-110":r>fe.id?"bg-black text-white":"bg-gray-100 text-gray-400"}
                                transition-all duration-300
                            `,children:r>fe.id?t.jsx(sn,{size:14}):fe.id}),De<nb.length-1&&t.jsx("div",{className:`w-8 h-1 mx-1 ${r>fe.id?"bg-black":"bg-gray-100"}`})]},fe.id))})]}),t.jsx("div",{className:"flex justify-center mb-4",children:t.jsxs("span",{className:"text-sm font-bold text-gray-500",children:["Step ",r,": ",nb[r-1].label]})}),h&&t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3 mb-6 animate-in fade-in",children:[t.jsx(Oo,{className:"text-red-500",size:20}),t.jsx("span",{className:"text-red-700 text-sm font-bold",children:h})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[r===1&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Project Identity"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Configure the basic details of your traffic campaign."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block",children:"Select Traffic Quality Tier"}),t.jsx("div",{className:"grid grid-cols-3 gap-4",children:["expert","professional","economy"].map(fe=>{const De=b(fe),Ye=E===fe,at=De===0;return t.jsxs("button",{onClick:()=>!at&&S(fe),disabled:at,className:`p-4 border-2 transition-all flex flex-col gap-1 text-left rounded-lg
                                                ${Ye?"border-[#ff4d00] bg-orange-50 shadow-md":"border-gray-100 bg-white hover:border-gray-200"}
                                                ${at?"opacity-40 cursor-not-allowed":""}
                                            `,children:[t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00]",children:fe==="expert"?" Premium":fe==="professional"?"Standard":"Value"}),t.jsx("span",{className:"font-bold text-gray-900 capitalize",children:fe}),t.jsxs("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:[De.toLocaleString()," hits"]})]},fe)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Project Name *"}),t.jsx("input",{type:"text",value:A,onChange:fe=>C(fe.target.value),placeholder:"e.g. Q4 Marketing Campaign",className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-lg font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Target URL *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Rs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"url",value:P,onChange:fe=>D(fe.target.value),onBlur:()=>{P&&!F&&ws()},placeholder:"https://example.com",className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-lg font-medium font-mono text-gray-700 focus:border-[#ff4d00] outline-none"})]})]}),t.jsxs("div",{className:"p-6 bg-gray-50 border border-gray-100 rounded-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Google Analytics ID *"}),t.jsx("button",{onClick:ws,disabled:!P||$,className:"text-[10px] font-bold uppercase tracking-wider text-[#ff4d00] hover:underline disabled:opacity-50",children:$?"Scanning...":"Auto-Detect"})]}),t.jsx("input",{type:"text",value:F,onChange:fe=>B(fe.target.value),placeholder:"G-XXXXXXXXXX",className:"w-full bg-white border border-gray-200 p-3 text-sm font-mono text-gray-700 outline-none focus:border-[#ff4d00]"})]})]}),r===2&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Traffic Volume"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Define how much traffic you want and when it should run."})]}),t.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:["economy","professional","expert"].map(fe=>t.jsxs("div",{className:`p-4 border-2 transition-all ${E===fe?"border-[#ff4d00] bg-orange-50":"border-gray-100 bg-gray-50 opacity-50"}`,children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1",children:fe}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:b(fe).toLocaleString()}),t.jsx("div",{className:"text-[10px] text-gray-400",children:"hits available"})]},fe))}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Total Hits *"}),t.jsx("input",{type:"number",min:"100",value:_,onChange:fe=>k(parseInt(fe.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-2xl font-black text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Hits per Day *"}),t.jsx("input",{type:"number",min:"1",value:I,onChange:fe=>L(parseInt(fe.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-2xl font-black text-gray-900 focus:border-[#ff4d00] outline-none"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Start Date *"}),t.jsx("input",{type:"date",value:M,onChange:fe=>V(fe.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-lg font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Duration (Days) *"}),t.jsx("input",{type:"number",min:"1",value:R,onChange:fe=>U(parseInt(fe.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-lg font-bold text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Days"})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 flex flex-col md:flex-row justify-between items-center gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Campaign Duration"}),t.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[R," days"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Total Cost"}),t.jsxs("div",{className:"text-3xl font-black text-[#ff4d00]",children:[_.toLocaleString()," ",t.jsx("span",{className:"text-sm font-bold text-gray-400",children:"hits"})]})]})]})]}),r===3&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Geographic Targeting"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Select countries for your traffic and set the distribution."})]}),t.jsxs("div",{className:"relative mb-4",children:[t.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),t.jsx("input",{type:"text",placeholder:"Search countries...",value:Re,onChange:fe=>Ae(fe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 text-sm focus:border-[#ff4d00] outline-none"}),Re&&t.jsx("button",{onClick:()=>Ae(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t.jsx(nn,{size:14})})]}),me.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase",children:["Selected (",me.length,")"]}),t.jsx("button",{onClick:pe,className:"text-[10px] font-bold text-[#ff4d00] uppercase hover:underline",children:"Distribute Evenly"})]}),t.jsx("div",{className:"space-y-2",children:me.map(fe=>{const De=ql.find(ss=>ss.code===fe),Ye=ne[fe]||0,At=100-(ts-Ye);return t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-100",children:[t.jsx("img",{src:`https://flagcdn.com/w24/${fe.toLowerCase()}.png`,alt:fe,className:"w-6 h-auto rounded-sm",onError:ss=>{ss.target.style.display="none"}}),t.jsx("span",{className:"flex-1 font-bold text-sm text-gray-900",children:(De==null?void 0:De.name)||fe}),t.jsx("input",{type:"range",min:"0",max:At,value:Ye,onChange:ss=>Ps(fe,parseInt(ss.target.value)),className:"w-24 accent-[#ff4d00]"}),t.jsx("input",{type:"number",min:"0",max:At,value:Ye,onChange:ss=>Ps(fe,parseInt(ss.target.value)||0),className:"w-16 p-1 text-center text-sm font-bold border border-gray-200 outline-none focus:border-[#ff4d00]"}),t.jsx("span",{className:"text-sm font-bold text-gray-400",children:"%"}),t.jsx("button",{onClick:()=>ut(fe),className:"text-gray-400 hover:text-red-500",children:t.jsx(nn,{size:14})})]},fe)})}),t.jsxs("div",{className:`text-right mt-2 text-sm font-bold ${ts===100?"text-green-600":"text-orange-500"}`,children:["Total: ",ts,"%"]})]}),t.jsx("div",{className:"border border-gray-200 max-h-[300px] overflow-y-auto",children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-1 p-1",children:Wn.slice(0,100).map(fe=>t.jsxs("button",{onClick:()=>ut(fe.code),className:`p-2 text-left border text-xs font-bold flex justify-between items-center transition-all ${me.includes(fe.code)?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-transparent bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[t.jsxs("span",{className:"flex items-center gap-2 truncate",children:[t.jsx("img",{src:`https://flagcdn.com/w20/${fe.code.toLowerCase()}.png`,alt:fe.code,className:"w-4 h-auto rounded-sm flex-shrink-0",onError:De=>{De.target.style.display="none"}}),t.jsx("span",{className:"truncate",children:fe.name})]}),me.includes(fe.code)&&t.jsx(sn,{size:12,className:"flex-shrink-0"})]},fe.code))})})]}),r===4&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Traffic Behavior"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Configure how visitors interact with your site."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Bounce Rate"}),t.jsxs("div",{className:"bg-gray-50 p-6 border border-gray-200 text-center",children:[t.jsxs("div",{className:"text-4xl font-black text-gray-900 mb-2",children:[H,"%"]}),t.jsx("p",{className:"text-xs text-gray-500 font-medium mb-4",children:"Visitors leaving immediately"}),t.jsx("input",{type:"range",min:"0",max:"100",value:H,onChange:fe=>ce(parseInt(fe.target.value)),className:"w-full accent-[#ff4d00]"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Time on Page"}),t.jsx(Ms,{value:_e,onChange:K,options:g4})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Traffic Source"}),t.jsx(Ms,{value:ye,onChange:Te,options:nw})]}),(ye==="Organic (General)"||ye.startsWith("Organic"))&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Keywords (one per line)"}),t.jsx("textarea",{value:Oe,onChange:fe=>rt(fe.target.value),placeholder:`keyword1
keyword2
keyword3`,className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24"})]}),(ye==="Social (General)"||ye.startsWith("Social"))&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Social Platforms"}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:LM.map(fe=>t.jsx("button",{onClick:()=>re(fe.id),className:`p-2 text-xs font-bold border transition-all ${_t.includes(fe.id)?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 bg-gray-50 text-gray-600 hover:border-gray-300"}`,children:fe.label},fe.id))})]}),ye==="Referral"&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Referral URLs (one per line)"}),t.jsx("textarea",{value:je,onChange:fe=>Ue(fe.target.value),placeholder:`https://example.com/page1
https://example.com/page2`,className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24"})]})]}),r===5&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Review Campaign"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Confirm all settings before creating your project."})]}),t.jsx("div",{className:`p-4 border-2 ${b(E)>=_?"border-green-300 bg-green-50":"border-red-300 bg-red-50"}`,children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:[E.charAt(0).toUpperCase()+E.slice(1)," Balance"]}),t.jsxs("div",{className:"text-lg font-black text-gray-900",children:[b(E).toLocaleString()," available"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xs text-gray-500 font-bold",children:"Required"}),t.jsx("div",{className:`text-xl font-black ${b(E)>=_?"text-green-600":"text-red-600"}`,children:_.toLocaleString()})]})]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Er,{label:"Project Name",value:A}),t.jsx(Er,{label:"Tier",value:E.toUpperCase()}),t.jsx(Er,{label:"Target URL",value:P,isUrl:!0}),t.jsx(Er,{label:"Google Analytics",value:F}),t.jsx("div",{className:"h-px bg-gray-100"}),t.jsx(Er,{label:"Total Hits",value:`${_.toLocaleString()} hits`,highlight:!0}),t.jsx(Er,{label:"Daily Limit",value:`${I.toLocaleString()} hits/day`}),t.jsx(Er,{label:"Start Date",value:M}),t.jsx(Er,{label:"Duration",value:`${R} days`}),t.jsx("div",{className:"h-px bg-gray-100"}),t.jsx(Er,{label:"Countries",value:me.length>0?`${me.length} selected`:"None"}),t.jsx("div",{className:"h-px bg-gray-100"}),t.jsx(Er,{label:"Bounce Rate",value:`${H}%`}),t.jsx(Er,{label:"Time on Page",value:_e}),t.jsx(Er,{label:"Traffic Source",value:ye})]}),t.jsxs("div",{className:"mt-8 bg-blue-50 p-4 flex items-start gap-3 border border-blue-100",children:[t.jsx(Jl,{className:"text-blue-500 flex-shrink-0",size:18}),t.jsxs("div",{className:"text-xs text-blue-700 font-medium leading-relaxed",children:[t.jsx("p",{className:"font-bold mb-1",children:"After creation, more settings will be available:"}),t.jsx("p",{children:"UTM Tracking, Device Split, Browser Selection, Sitemap Crawling, City-Level Targeting, and more."})]})]})]})]}),t.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Xl,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Available after creation"})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Br().map((fe,De)=>t.jsx("span",{className:"text-[10px] font-bold text-gray-500 bg-white px-2 py-1 border border-gray-200",children:fe},De))})]}),t.jsxs("div",{className:"flex justify-between pt-6",children:[t.jsx("button",{onClick:nt,className:"px-8 py-4 text-xs font-bold uppercase tracking-wider text-gray-500 hover:text-black transition-colors",children:r===1?"Cancel":"Previous Step"}),t.jsxs("button",{onClick:$e,disabled:l,className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-lg",children:[l?"Creating...":r===5?"Create Project":"Next Step",!l&&r<5&&t.jsx($n,{className:"rotate-180",size:16})]})]})]})},Er=({label:n,value:e,isUrl:s=!1,highlight:r=!1})=>t.jsxs("div",{className:`flex justify-between items-center p-3 ${r?"bg-orange-50 border border-orange-100":""}`,children:[t.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:n}),s?t.jsx("span",{className:"text-sm font-bold text-[#ff4d00] truncate max-w-[200px]",children:e}):t.jsx("span",{className:`text-sm font-bold ${r?"text-[#ff4d00] text-lg":"text-gray-900"}`,children:e})]}),Lo=[{id:"economy",name:"Economy",factor:.35,quality:"10% Quality",features:["Residential IPs","Multiple Traffic Sources","Standard Proxy Pool","Geo Targeting Worldwide"],color:"border-gray-200"},{id:"professional",name:"Professional",factor:.65,quality:"50% Quality",popular:!0,features:["Residential Geo IPs","Country Geo Targeting","RSS and Sitemap Support","URL Shorteners"],color:"border-orange-300"},{id:"expert",name:"Expert",factor:1,quality:"100% Quality",features:["State & City Targeting","Night & Day Volume","Automatic Website Crawler","GA4 Natural Events"],color:"border-[#ff4d00]"}],Gb=[6e4,5e5,1e6,1e7,5e7],zM=[1,6,24],Kf={economy:{6e4:{1:9.96,6:47.81,24:143.42},5e5:{1:57.96,6:278.21,24:834.62},1e6:{1:99.96,6:479.81,24:1439.42},1e7:{1:699.96,6:3359.81,24:10079.42},5e7:{1:2799.96,6:13439.81,24:40319.42}},professional:{6e4:{1:19.96,6:95.81,24:287.42},5e5:{1:115.92,6:556.42,24:1669.25},1e6:{1:199.96,6:959.81,24:2879.42},1e7:{1:1399.96,6:6719.81,24:20159.42},5e7:{1:5599.96,6:26879.81,24:80639.42}},expert:{6e4:{1:29.96,6:143.81,24:431.42},5e5:{1:173.96,6:835.01,24:2505.02},1e6:{1:299.96,6:1439.81,24:4319.42},1e7:{1:2099.96,6:10079.81,24:30239.42},5e7:{1:8399.96,6:40319.81,24:120959.42}}},UM=(n,e,s=1)=>{const r=Kf[n];if(!r)return 0;const i=r[e];return i&&(i[s]||i[1])||0},rw=(n,e,s=1)=>{const r=UM(n,e,s),i=e*s;return r/i*1e3},aw=(n,e="EUR")=>new Intl.NumberFormat("de-DE",{style:"currency",currency:e}).format(n),iw=n=>`${n.toFixed(2)}`;function ng(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ng=function(e){return typeof e}:ng=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(n)}var y4="clover",BM=function(e){return e===3?"v3":e},b4="https://js.stripe.com",FM="".concat(b4,"/").concat(y4,"/stripe.js"),$M=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,qM=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var HM=function(e){return $M.test(e)||qM.test(e)},GM=function(){for(var e=document.querySelectorAll('script[src^="'.concat(b4,'"]')),s=0;s<e.length;s++){var r=e[s];if(HM(r.src))return r}return null},X2=function(e){var s="",r=document.createElement("script");r.src="".concat(FM).concat(s);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},KM=function(e,s){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.7.0",startTime:s})},Ph=null,Fp=null,$p=null,WM=function(e){return function(s){e(new Error("Failed to load Stripe.js",{cause:s}))}},YM=function(e,s){return function(){window.Stripe?e(window.Stripe):s(new Error("Stripe.js not available"))}},QM=function(e){return Ph!==null?Ph:(Ph=new Promise(function(s,r){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe){s(window.Stripe);return}try{var i=GM();if(!(i&&e)){if(!i)i=X2(e);else if(i&&$p!==null&&Fp!==null){var l;i.removeEventListener("load",$p),i.removeEventListener("error",Fp),(l=i.parentNode)===null||l===void 0||l.removeChild(i),i=X2(e)}}$p=YM(s,r),Fp=WM(r),i.addEventListener("load",$p),i.addEventListener("error",Fp)}catch(c){r(c);return}}),Ph.catch(function(s){return Ph=null,Promise.reject(s)}))},JM=function(e,s,r){if(e===null)return null;var i=s[0];if(typeof i!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(ng(i)," instead."));var l=i.match(/^pk_test/),c=BM(e.version),h=y4;l&&c!==h&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("8.7.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var f=e.apply(void 0,s);return KM(f,r),f},Dh,v4=!1,w4=function(){return Dh||(Dh=QM(null).catch(function(e){return Dh=null,Promise.reject(e)}),Dh)};Promise.resolve().then(function(){return w4()}).catch(function(n){v4||console.warn(n)});var XM=function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];v4=!0;var i=Date.now();return w4().then(function(l){return JM(l,s,i)})},rb={exports:{}},ab,Z2;function ZM(){if(Z2)return ab;Z2=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ab=n,ab}var ib,eS;function e9(){if(eS)return ib;eS=1;var n=ZM();function e(){}function s(){}return s.resetWarningCache=e,ib=function(){function r(c,h,f,p,x,b){if(b!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:s,resetWarningCache:e};return l.PropTypes=l,l},ib}var tS;function t9(){return tS||(tS=1,rb.exports=e9()()),rb.exports}var s9=t9();const zt=hu(s9);function sS(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),s.push.apply(s,r)}return s}function nS(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?sS(Object(s),!0).forEach(function(r){j4(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):sS(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function rg(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rg=function(e){return typeof e}:rg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(n)}function j4(n,e,s){return e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function n9(n,e){if(n==null)return{};var s={},r=Object.keys(n),i,l;for(l=0;l<r.length;l++)i=r[l],!(e.indexOf(i)>=0)&&(s[i]=n[i]);return s}function r9(n,e){if(n==null)return{};var s=n9(n,e),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)r=l[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function N4(n,e){return a9(n)||i9(n,e)||o9(n,e)||l9()}function a9(n){if(Array.isArray(n))return n}function i9(n,e){var s=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(s!=null){var r=[],i=!0,l=!1,c,h;try{for(s=s.call(n);!(i=(c=s.next()).done)&&(r.push(c.value),!(e&&r.length===e));i=!0);}catch(f){l=!0,h=f}finally{try{!i&&s.return!=null&&s.return()}finally{if(l)throw h}}return r}}function o9(n,e){if(n){if(typeof n=="string")return rS(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return rS(n,e)}}function rS(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function l9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wn=function(e,s,r){var i=!!r,l=Ke.useRef(r);Ke.useEffect(function(){l.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var c=function(){l.current&&l.current.apply(l,arguments)};return e.on(s,c),function(){e.off(s,c)}},[i,s,e,l])},Kb=function(e){var s=Ke.useRef(e);return Ke.useEffect(function(){s.current=e},[e]),s.current},Fd=function(e){return e!==null&&rg(e)==="object"},c9=function(e){return Fd(e)&&typeof e.then=="function"},d9=function(e){return Fd(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},aS="[object Object]",u9=function n(e,s){if(!Fd(e)||!Fd(s))return e===s;var r=Array.isArray(e),i=Array.isArray(s);if(r!==i)return!1;var l=Object.prototype.toString.call(e)===aS,c=Object.prototype.toString.call(s)===aS;if(l!==c)return!1;if(!l&&!r)return e===s;var h=Object.keys(e),f=Object.keys(s);if(h.length!==f.length)return!1;for(var p={},x=0;x<h.length;x+=1)p[h[x]]=!0;for(var b=0;b<f.length;b+=1)p[f[b]]=!0;var v=Object.keys(p);if(v.length!==h.length)return!1;var E=e,S=s,A=function(P){return n(E[P],S[P])};return v.every(A)},_4=function(e,s,r){return Fd(e)?Object.keys(e).reduce(function(i,l){var c=!Fd(s)||!u9(e[l],s[l]);return r.includes(l)?(c&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),i):c?nS(nS({},i||{}),{},j4({},l,e[l])):i},null):null},S4="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",iS=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S4;if(e===null||d9(e))return e;throw new Error(s)},h9=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S4;if(c9(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return iS(i,s)})};var r=iS(e,s);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},f9=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"5.6.0"}),e.registerAppInfo({name:"react-stripe-js",version:"5.6.0",url:"https://stripe.com/docs/stripe-js/react"}))},sx=Ke.createContext(null);sx.displayName="ElementsContext";var T4=function(e,s){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(s," in an <Elements> provider."));return e},k4=function(e){var s=e.stripe,r=e.options,i=e.children,l=Ke.useMemo(function(){return h9(s)},[s]),c=Ke.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(r):null}}),h=N4(c,2),f=h[0],p=h[1];Ke.useEffect(function(){var v=!0,E=function(A){p(function(C){return C.stripe?C:{stripe:A,elements:A.elements(r)}})};return l.tag==="async"&&!f.stripe?l.stripePromise.then(function(S){S&&v&&E(S)}):l.tag==="sync"&&!f.stripe&&E(l.stripe),function(){v=!1}},[l,f,r]);var x=Kb(s);Ke.useEffect(function(){x!==null&&x!==s&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[x,s]);var b=Kb(r);return Ke.useEffect(function(){if(f.elements){var v=_4(r,b,["clientSecret","fonts"]);v&&f.elements.update(v)}},[r,b,f.elements]),Ke.useEffect(function(){f9(f.stripe)},[f.stripe]),Ke.createElement(sx.Provider,{value:f},i)};k4.propTypes={stripe:zt.any,options:zt.object};var m9=function(e){var s=Ke.useContext(sx);return T4(s,e)},p9=function(){var e=m9("calls useElements()"),s=e.elements;return s};zt.func.isRequired;var E4=Ke.createContext(null);E4.displayName="CheckoutContext";zt.any,zt.shape({clientSecret:zt.oneOfType([zt.string,zt.instanceOf(Promise)]).isRequired,elementsOptions:zt.object}).isRequired;var Wb=function(e){var s=Ke.useContext(E4),r=Ke.useContext(sx);if(s){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return s}else return T4(r,e)},g9=["mode"],x9=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Gn=function(e,s){var r="".concat(x9(e),"Element"),i=function(f){var p=f.id,x=f.className,b=f.options,v=b===void 0?{}:b,E=f.onBlur,S=f.onFocus,A=f.onReady,C=f.onChange,P=f.onEscape,D=f.onClick,F=f.onLoadError,B=f.onLoaderStart,$=f.onNetworksChange,Q=f.onConfirm,_=f.onCancel,k=f.onShippingAddressChange,I=f.onShippingRateChange,L=f.onSavedPaymentMethodRemove,M=f.onSavedPaymentMethodUpdate,V=Wb("mounts <".concat(r,">")),R="elements"in V?V.elements:null,U="checkoutState"in V?V.checkoutState:null,me=(U==null?void 0:U.type)==="success"||(U==null?void 0:U.type)==="loading"?U.sdk:null,W=Ke.useState(null),ne=N4(W,2),ve=ne[0],Re=ne[1],Ae=Ke.useRef(null),H=Ke.useRef(null);wn(ve,"blur",E),wn(ve,"focus",S),wn(ve,"escape",P),wn(ve,"click",D),wn(ve,"loaderror",F),wn(ve,"loaderstart",B),wn(ve,"networkschange",$),wn(ve,"confirm",Q),wn(ve,"cancel",_),wn(ve,"shippingaddresschange",k),wn(ve,"shippingratechange",I),wn(ve,"savedpaymentmethodremove",L),wn(ve,"savedpaymentmethodupdate",M),wn(ve,"change",C);var ce;A&&(e==="expressCheckout"?ce=A:ce=function(){A(ve)}),wn(ve,"ready",ce),Ke.useLayoutEffect(function(){if(Ae.current===null&&H.current!==null&&(R||me)){var K=null;if(me)switch(e){case"paymentForm":K=me.createPaymentFormElement(v);break;case"payment":K=me.createPaymentElement(v);break;case"address":if("mode"in v){var ye=v.mode,Te=r9(v,g9);if(ye==="shipping")K=me.createShippingAddressElement(Te);else if(ye==="billing")K=me.createBillingAddressElement(Te);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":K=me.createExpressCheckoutElement(v);break;case"currencySelector":K=me.createCurrencySelectorElement();break;case"taxId":K=me.createTaxIdElement(v);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else R&&(K=R.create(e,v));Ae.current=K,Re(K),K&&K.mount(H.current)}},[R,me,v]);var _e=Kb(v);return Ke.useEffect(function(){if(Ae.current){var K=_4(v,_e,["paymentRequest"]);K&&"update"in Ae.current&&Ae.current.update(K)}},[v,_e]),Ke.useLayoutEffect(function(){return function(){if(Ae.current&&typeof Ae.current.destroy=="function")try{Ae.current.destroy(),Ae.current=null}catch{}}},[]),Ke.createElement("div",{id:p,className:x,ref:H})},l=function(f){Wb("mounts <".concat(r,">"));var p=f.id,x=f.className;return Ke.createElement("div",{id:p,className:x})},c=s?l:i;return c.propTypes={id:zt.string,className:zt.string,onChange:zt.func,onBlur:zt.func,onFocus:zt.func,onReady:zt.func,onEscape:zt.func,onClick:zt.func,onLoadError:zt.func,onLoaderStart:zt.func,onNetworksChange:zt.func,onConfirm:zt.func,onCancel:zt.func,onShippingAddressChange:zt.func,onShippingRateChange:zt.func,onSavedPaymentMethodRemove:zt.func,onSavedPaymentMethodUpdate:zt.func,options:zt.object},c.displayName=r,c.__elementType=e,c},Kn=typeof window>"u",y9=Ke.createContext(null);y9.displayName="EmbeddedCheckoutProviderContext";var b9=function(){var e=Wb("calls useStripe()"),s=e.stripe;return s};Gn("auBankAccount",Kn);Gn("card",Kn);Gn("cardNumber",Kn);Gn("cardExpiry",Kn);Gn("cardCvc",Kn);Gn("iban",Kn);var v9=Gn("payment",Kn);Gn("expressCheckout",Kn);Gn("paymentRequestButton",Kn);Gn("linkAuthentication",Kn);Gn("address",Kn);Gn("shippingAddress",Kn);Gn("paymentMethodMessaging",Kn);Gn("taxId",Kn);const w9=XM("pk_test_51ST5n8JLE5bW6f8EIM08iRjnjfGIHo84FmVCqEoHAFQ4KFa2dVBAH4BPuLoZhvQaBWJ2Ody3F0YgYyAl0OdJEsbr00mnzqV12v"),oS={USD:{name:"Easytrafficbot Ug",accountNumber:"8314422210",accountType:"Checking",routingNumber:"026073150",swift:"TRWIBEB1XXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from USA (Wire & ACH)"},EUR:{name:"Easytrafficbot Ug",iban:"BE86 9679 9171 7050",swift:"TRWIBEB1XXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for SEPA transfers within Europe"},GBP:{name:"Easytrafficbot Ug",accountNumber:"46701141",sortCode:"23-08-01",iban:"GB79 TRWI 2308 0146 7011 41",swift:"TRWIGB2LXXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from UK"},AUD:{name:"Easytrafficbot Ug",accountNumber:"218673731",bsb:"774-001",swift:"TRWIAUS1XXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from Australia"},RON:{name:"Easytrafficbot Ug",iban:"RO60 BREL 0005 6028 6239 0100",bankName:"Wise / BREL",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from Romania"}},j9=({amount:n,onSuccess:e,onError:s})=>{const r=b9(),i=p9(),[l,c]=w.useState(null),[h,f]=w.useState(!1),p=async x=>{if(x.preventDefault(),!r||!i)return;f(!0);const{error:b,paymentIntent:v}=await r.confirmPayment({elements:i,confirmParams:{return_url:window.location.href},redirect:"if_required"});b?(c(b.message||"An unexpected error occurred."),s(b.message||"Payment failed"),f(!1)):v&&v.status==="succeeded"?(c("Payment successful!"),e(v.id)):(c("Unexpected state."),f(!1))};return t.jsxs("form",{onSubmit:p,className:"space-y-6",children:[t.jsx(v9,{}),l&&t.jsx("div",{className:"text-red-500 text-sm font-bold bg-red-50 p-3 rounded",children:l}),t.jsxs("button",{disabled:h||!r||!i,className:"w-full bg-[#ff4d00] text-white py-4 text-sm font-black uppercase tracking-widest hover:bg-black transition-colors disabled:opacity-50 mt-4 flex items-center justify-center gap-2",children:[h?t.jsx(cs,{className:"animate-spin",size:16}):t.jsx(Vn,{size:16}),h?"Processing...":`Pay ${n.toFixed(2)}`]})]})},N9=({onBack:n,onPurchase:e})=>{const s=Vs(),[r,i]=w.useState(1),[l,c]=w.useState(Lo[1]),[h,f]=w.useState(1),[p,x]=w.useState(1),[b,v]=w.useState(0),[E,S]=w.useState(!1),[A,C]=w.useState("card"),[P,D]=w.useState(""),[F,B]=w.useState("USD"),[$,Q]=w.useState(null),[_,k]=w.useState(!1),[I,L]=w.useState(!1),[M,V]=w.useState(null),[R,U]=w.useState("");w.useEffect(()=>{var je;if(v(q.getBalance()),A==="bank"&&r===2&&!R){const Ue=q.getCurrentUser(),_t=((je=Ue==null?void 0:Ue.id)==null?void 0:je.substring(0,8).toUpperCase())||"XXXXX",Ut=Date.now().toString(36).toUpperCase();U(`TGP-${_t}-${Ut}`)}},[A,r]),w.useEffect(()=>{v(q.getBalance())},[]);const me=q.getCurrentUser(),W=(me==null?void 0:me.gamificationPermanentDiscount)||0,ne=Gb[h],ve=Kf[l.id][ne][p],Re=ve*W/100,Ae=ve-Re,H=ne*p,ce=Ae/(H/1e3),_e=async()=>{if(A==="card"){S(!0);try{const je=await q.createCreditsCheckout({tier:l.id,visitors:ne,bulk_months:p,currency:"eur"});je.url?window.location.href=je.url:alert("Failed to initialize Stripe checkout.")}catch(je){alert("Checkout Error: "+je.message)}finally{S(!1)}}else i(2)},K=async je=>{S(!0),await q.purchaseCredits(ve,`Traffic Credits (${H.toLocaleString()} ${l.name}) - Stripe ${je}`,l.id,H),v(q.getBalance()),S(!1),e&&e(),s(`/dashboard/payment-success?type=credits&amount=${Ae.toFixed(2)}&credits=${H}`)},ye=(je,Ue)=>{navigator.clipboard.writeText(je),V(Ue),setTimeout(()=>V(null),2e3)},Te=je=>{je.target.files&&je.target.files[0]&&Q(je.target.files[0])},Oe=async()=>{if(!$){alert("Please select a file to upload.");return}k(!0);try{const je=new FormData;je.append("file",$),je.append("amount",Ae.toString()),je.append("tier",l.id),je.append("hits",H.toString()),je.append("currency",F),je.append("notes",`Bank transfer for ${H.toLocaleString()} ${l.name} visitors - Ref: ${R}`);const Ue=localStorage.getItem("tgp_token");if(!(await fetch(`${de}/bank-transfer/proof`,{method:"POST",headers:{Authorization:`Bearer ${Ue}`},body:je})).ok)throw new Error("Upload failed");L(!0)}catch(je){alert("Upload failed: "+je.message)}finally{k(!1)}},rt=je=>{const Ue=oS[je];return t.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Account Holder:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Ue.name}),t.jsx("button",{onClick:()=>ye(Ue.name,"name"),className:"text-gray-400 hover:text-[#ff4d00]",children:M==="name"?t.jsx(bt,{size:14,className:"text-green-500"}):t.jsx(_n,{size:14})})]})]}),Ue.iban&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"IBAN:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Ue.iban}),t.jsx("button",{onClick:()=>ye(Ue.iban,"iban"),className:"text-gray-400 hover:text-[#ff4d00]",children:M==="iban"?t.jsx(bt,{size:14,className:"text-green-500"}):t.jsx(_n,{size:14})})]})]}),Ue.accountNumber&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Account Number:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Ue.accountNumber}),t.jsx("button",{onClick:()=>ye(Ue.accountNumber,"account"),className:"text-gray-400 hover:text-[#ff4d00]",children:M==="account"?t.jsx(bt,{size:14,className:"text-green-500"}):t.jsx(_n,{size:14})})]})]}),Ue.routingNumber&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Routing Number:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Ue.routingNumber}),t.jsx("button",{onClick:()=>ye(Ue.routingNumber,"routing"),className:"text-gray-400 hover:text-[#ff4d00]",children:M==="routing"?t.jsx(bt,{size:14,className:"text-green-500"}):t.jsx(_n,{size:14})})]})]}),Ue.sortCode&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Sort-Code:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Ue.sortCode}),t.jsx("button",{onClick:()=>ye(Ue.sortCode,"sortcode"),className:"text-gray-400 hover:text-[#ff4d00]",children:M==="sortcode"?t.jsx(bt,{size:14,className:"text-green-500"}):t.jsx(_n,{size:14})})]})]}),Ue.bsb&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"BSB-Code:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Ue.bsb}),t.jsx("button",{onClick:()=>ye(Ue.bsb,"bsb"),className:"text-gray-400 hover:text-[#ff4d00]",children:M==="bsb"?t.jsx(bt,{size:14,className:"text-green-500"}):t.jsx(_n,{size:14})})]})]}),Ue.swift&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"SWIFT/BIC:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Ue.swift}),t.jsx("button",{onClick:()=>ye(Ue.swift,"swift"),className:"text-gray-400 hover:text-[#ff4d00]",children:M==="swift"?t.jsx(bt,{size:14,className:"text-green-500"}):t.jsx(_n,{size:14})})]})]}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Bank Name:"}),t.jsx("span",{className:"font-bold",children:Ue.bankName})]}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Reference:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold text-[#ff4d00]",children:R}),t.jsx("button",{onClick:()=>ye(R,"ref"),className:"text-gray-400 hover:text-[#ff4d00]",children:M==="ref"?t.jsx(bt,{size:14,className:"text-green-500"}):t.jsx(_n,{size:14})})]})]}),t.jsx("div",{className:"mt-3 p-2 bg-gray-50 border border-gray-200 rounded",children:t.jsx("p",{className:"text-xs text-gray-500",children:Ue.note})})]})};return E&&r===1?t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[500px] text-center",children:[t.jsx(cs,{className:"w-16 h-16 text-[#ff4d00] animate-spin mb-6"}),t.jsx("h3",{className:"text-2xl font-black uppercase text-gray-900 mb-2",children:"Connecting Secure Gateway"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Please wait..."})]}):t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-gray-200 pb-8",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Exchange & Funding"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Purchase Traffic Credits"})]}),t.jsxs("div",{className:"bg-[#111] text-white px-6 py-4 flex items-center gap-6 shadow-xl border-l-4 border-[#ff4d00]",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Active Balance"}),t.jsxs("div",{className:"text-2xl font-black text-white",children:["",b.toFixed(2)]})]}),t.jsx(qb,{className:"text-[#ff4d00]",size:32})]})]}),r===1?t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Lo.map(je=>t.jsxs("button",{onClick:()=>c(je),className:`relative p-8 border-2 transition-all duration-300 text-left flex flex-col min-h-[280px] ${l.id===je.id?`${je.color} bg-white shadow-xl translate-y-[-4px]`:"border-transparent bg-gray-50 opacity-60 hover:opacity-100"}`,children:[je.popular&&t.jsx("div",{className:"absolute top-0 right-0 bg-[#ff4d00] text-white text-[9px] font-black uppercase px-3 py-1.5",children:"Recommended"}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 text-gray-400",children:[t.jsx(oa,{size:20}),t.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:je.quality})]}),t.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter mb-2",children:je.name}),t.jsxs("div",{className:"text-sm font-bold text-[#ff4d00] mb-8",children:["",je.factor.toFixed(2)," Price Factor"]}),t.jsx("ul",{className:"space-y-3 mt-auto",children:je.features.slice(0,3).map((Ue,_t)=>t.jsxs("li",{className:"text-xs font-medium text-gray-500 flex items-center gap-2",children:[t.jsx(sn,{size:12,className:"text-[#ff4d00]"})," ",Ue]},_t))})]},je.id))}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-12",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(u4,{size:14,className:"text-[#ff4d00]"})," Volume Configurator"]}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1",children:"Select your traffic volume"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:ne.toLocaleString()}),t.jsx("div",{className:"text-[10px] font-black text-[#ff4d00] uppercase tracking-widest",children:"Hits Per Credit"})]})]}),t.jsxs("div",{className:"relative mb-16 px-4",children:[t.jsx("input",{type:"range",min:"0",max:"4",step:"1",value:h,onChange:je=>f(parseInt(je.target.value)),className:"w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer accent-[#ff4d00] relative z-20"}),t.jsx("div",{className:"absolute top-6 left-0 w-full flex justify-between text-[10px] font-bold text-gray-400 uppercase tracking-wider px-1",children:Gb.map((je,Ue)=>t.jsxs("div",{className:"flex flex-col items-center cursor-pointer hover:text-black",onClick:()=>f(Ue),children:[t.jsx("div",{className:"h-2 w-0.5 bg-gray-300 mb-1"}),t.jsx("span",{children:je>=1e6?`${je/1e6}M`:`${je/1e3}k`})]},je))})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-8",children:[t.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-4",children:"Bulk Packages"}),t.jsx("div",{className:"grid grid-cols-3 gap-4",children:zM.map(je=>t.jsxs("button",{onClick:()=>x(je),className:`relative py-4 border-2 flex flex-col items-center justify-center transition-all ${p===je?"border-[#ff4d00] bg-orange-50 text-black":"border-gray-100 text-gray-400 hover:border-gray-300"}`,children:[je>1&&t.jsxs("div",{className:"absolute -top-3 bg-[#ff4d00] text-white text-[9px] font-black uppercase px-2 py-0.5 rounded-full shadow-sm",children:["Save ",je===6?"20%":"40%"]}),t.jsxs("div",{className:"text-xl font-black",children:[je,"x"]}),t.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest opacity-60",children:"Credits Included"})]},je))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 mb-6 flex items-center gap-2",children:[t.jsx(qb,{size:14,className:"text-[#ff4d00]"})," Payment Method"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("button",{onClick:()=>C("card"),className:`p-6 border-2 transition-all flex flex-col items-center gap-4 ${A==="card"?"border-[#ff4d00] bg-orange-50 shadow-lg ring-1 ring-[#ff4d00]":"border-gray-100 hover:border-gray-200"}`,children:[t.jsx(on,{size:32,className:A==="card"?"text-[#ff4d00]":"text-gray-300"}),t.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Credit Card (Stripe)"})]}),t.jsxs("button",{onClick:()=>C("bank"),className:`p-6 border-2 transition-all flex flex-col items-center gap-4 ${A==="bank"?"border-[#ff4d00] bg-orange-50 shadow-lg":"border-gray-100 hover:border-gray-200"}`,children:[t.jsx(i4,{size:32,className:A==="bank"?"text-[#ff4d00]":"text-gray-300"}),t.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Bank Wire"})]}),t.jsxs("button",{onClick:()=>C("apple"),className:`p-6 border-2 transition-all flex flex-col items-center gap-4 ${A==="apple"?"border-[#ff4d00] bg-orange-50 shadow-lg":"border-gray-100 hover:border-gray-200"}`,children:[t.jsx(Bd,{size:32,className:A==="apple"?"text-[#ff4d00]":"text-gray-300"}),t.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Apple Pay"})]})]})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-[#111] text-white p-10 shadow-2xl relative overflow-hidden sticky top-8 min-h-[500px]",children:[t.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10 rotate-12",children:t.jsx(sw,{size:180})}),t.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-gray-400 mb-12 relative",children:"Package Summary"}),t.jsxs("div",{className:"space-y-8 relative",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Plan"}),t.jsx("div",{className:"font-black text-base uppercase",children:l.name})]}),t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Volume"}),t.jsxs("div",{className:"font-black text-base",children:[ne.toLocaleString()," ",t.jsxs("span",{className:"text-gray-500",children:["x",p]})]})]}),t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Total Hits"}),t.jsx("div",{className:"font-black text-base text-[#ff4d00]",children:H.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Pricing Tier"}),t.jsxs("div",{className:"font-black text-base text-gray-300",children:["",ce.toFixed(2)," CPM"]})]}),W>0&&t.jsxs("div",{className:"flex justify-between items-end text-[#ff4d00]",children:[t.jsxs("div",{className:"text-xs font-black uppercase tracking-widest flex items-center gap-1",children:[t.jsx(Lr,{size:12,fill:"currentColor"})," Level ",(me==null?void 0:me.gamificationLevel)||1," Discount"]}),t.jsxs("div",{className:"font-black text-base",children:["-",W,"%"]})]}),t.jsx("div",{className:"h-px bg-gray-800 my-10"}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-sm font-black uppercase tracking-widest",children:"Total Due"}),t.jsxs("div",{className:"text-4xl font-black text-white",children:["",Ae.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("button",{onClick:_e,className:"w-full bg-[#ff4d00] text-white py-6 text-sm font-black uppercase tracking-widest hover:bg-white hover:text-black transition-all flex items-center justify-center gap-3 mt-10 shadow-[0_15px_30px_rgba(255,77,0,0.3)] group",children:["Proceed to Checkout ",t.jsx(ds,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),t.jsxs("div",{className:"mt-10 flex items-center justify-center gap-2 text-gray-500",children:[t.jsx(Vn,{size:14}),t.jsx("span",{className:"text-[10px] uppercase font-black tracking-[0.2em]",children:"Tiered Rate Calculator v4.1"})]})]})]})})]}):t.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 animate-in slide-in-from-right-8 duration-500 pb-20",children:[t.jsxs("button",{onClick:()=>i(1),className:"flex items-center gap-2 text-gray-500 hover:text-black text-sm font-bold uppercase tracking-wider mb-6",children:[t.jsx(ds,{size:16,className:"rotate-180"})," Back to Configuration"]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-12 md:p-20 shadow-xl min-h-[700px]",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h3",{className:"text-4xl font-black text-gray-900 uppercase tracking-tighter mb-4",children:"Secure Checkout"}),t.jsxs("p",{className:"text-gray-500 text-lg",children:["Completing payment of ",t.jsxs("span",{className:"font-bold text-[#ff4d00] text-xl",children:["",Ae.toFixed(2)]})," via ",A==="card"?"Stripe Secure":A]})]}),A==="card"&&P&&t.jsx(k4,{stripe:w9,options:{clientSecret:P,appearance:{theme:"stripe",variables:{colorPrimary:"#ff4d00"}}},children:t.jsx(j9,{amount:Ae,onSuccess:K,onError:je=>alert(je)})}),A==="bank"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-6 shadow-md",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(Jl,{size:28,className:"text-green-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xl font-black text-green-800 mb-2",children:"Instant Credit Upon Confirmation"}),t.jsxs("p",{className:"text-base text-green-700",children:["Upload your transfer confirmation. After validation, traffic will be ",t.jsx("strong",{className:"text-green-900",children:"instantly"})," credited to your account."]})]})]})}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-black uppercase tracking-widest text-gray-400 mb-4 block flex items-center gap-2",children:[t.jsx(oa,{size:14})," Select Currency"]}),t.jsx("div",{className:"flex flex-wrap gap-4",children:Object.keys(oS).map(je=>{const Ue={USD:"$",EUR:"",GBP:"",AUD:"A$",RON:"lei"};return t.jsxs("button",{onClick:()=>B(je),className:`px-6 py-3 text-base font-bold uppercase tracking-wider transition-all flex items-center gap-2 ${F===je?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx("span",{className:"text-lg",children:Ue[je]}),je]},je)})})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-5",children:[t.jsxs("h4",{className:"text-sm font-black uppercase tracking-widest text-gray-900",children:["Bank Details (",F,")"]}),t.jsx("span",{className:"text-xs font-bold text-[#ff4d00] uppercase",children:"Recommended"})]}),rt(F)]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("label",{className:"text-sm font-black uppercase tracking-widest text-gray-400 mb-4 block",children:"Upload Transfer Confirmation"}),I?t.jsxs("div",{className:"bg-green-50 border border-green-200 p-10 text-center h-full flex flex-col items-center justify-center",children:[t.jsx(bt,{size:72,className:"text-green-500 mb-6"}),t.jsx("p",{className:"text-lg font-bold text-green-800 mb-3",children:"Upload Successful!"}),t.jsx("p",{className:"text-base text-green-600",children:"Your transfer is being reviewed. You will receive instant credit upon validation."})]}):t.jsxs("div",{className:"space-y-5 h-full flex flex-col",children:[t.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-10 text-center hover:border-[#ff4d00] transition-colors cursor-pointer flex-1 flex flex-col items-center justify-center",children:[t.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.webp",onChange:Te,className:"hidden",id:"proof-upload"}),t.jsxs("label",{htmlFor:"proof-upload",className:"cursor-pointer",children:[t.jsx(jg,{size:48,className:"mx-auto text-gray-400 mb-5"}),t.jsx("p",{className:"text-lg font-medium text-gray-600",children:$?$.name:"Click here or drag a file"}),t.jsx("p",{className:"text-sm text-gray-400 mt-3",children:"PDF, JPG, PNG (max. 10MB)"})]})]}),t.jsx("button",{onClick:Oe,disabled:!$||_,className:"w-full bg-[#ff4d00] text-white py-6 text-base font-black uppercase tracking-widest hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:_?t.jsxs(t.Fragment,{children:[t.jsx(cs,{className:"animate-spin",size:20}),"Uploading..."]}):t.jsxs(t.Fragment,{children:[t.jsx(jg,{size:20}),"Upload & Release Traffic"]})}),t.jsx("div",{className:"bg-gray-50 border border-gray-200 p-5 text-center",children:t.jsxs("p",{className:"text-base text-gray-500",children:["Amount: ",t.jsxs("strong",{className:"text-[#ff4d00] text-lg",children:["",Ae.toFixed(2)]})," for ",t.jsxs("strong",{children:[H.toLocaleString()," ",l.name," Visitors"]})]})})]})]})]}),A==="apple"&&t.jsxs("div",{className:"text-center py-16",children:[t.jsx(Bd,{size:80,className:"mx-auto text-gray-200 mb-6"}),t.jsx("p",{className:"text-gray-500 mb-8 text-lg",children:"Apple Pay integration requires HTTPS on production domain."}),t.jsx("button",{onClick:()=>K("APPLE-SIM"),className:"bg-black text-white px-10 py-4 rounded-full font-bold text-lg",children:"Pay with Pay (Simulated)"})]})]}),t.jsxs("div",{className:"flex justify-center items-center gap-2 opacity-50",children:[t.jsx(Vn,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"256-Bit SSL Encrypted & Verified"})]})]})]})},_9=()=>{var V;const[n,e]=w.useState("contact"),[s,r]=w.useState(!1),[i,l]=w.useState("idle"),[c,h]=w.useState(void 0),[f,p]=w.useState(!1),[x,b]=w.useState(""),[v,E]=w.useState(""),[S,A]=w.useState({current:"",new:"",confirm:""}),[C,P]=w.useState(""),[D,F]=w.useState(""),B=w.useRef(null),$=()=>{var R;(R=B.current)==null||R.click()},Q=async R=>{if(R.target.files&&R.target.files[0])try{const U=await q.uploadAvatar(R.target.files[0]);c&&h({...c,avatarUrl:U}),alert("Avatar updated successfully!")}catch(U){alert("Failed to upload avatar: "+U.message)}},_=async()=>{if(confirm("DANGER: Are you sure you want to delete your account? This action is irreversible.")&&prompt("Type 'DELETE' to confirm account deletion:")==="DELETE")try{await q.deleteAccount(),alert("Account deleted. Goodbye.")}catch(U){alert(U.message)}};w.useEffect(()=>{const R=q.getCurrentUser();h(R)},[]);const k=async()=>{if(c){r(!0),l("idle");try{const R=await q.updateUserProfile(c);R&&h(R),l("success"),setTimeout(()=>l("idle"),3e3)}catch(R){console.error(R),l("error"),setTimeout(()=>l("idle"),3e3)}finally{r(!1)}}},I=(R,U)=>{c&&h({...c,[R]:U})},L=async()=>{if(P(""),F(""),S.new!==S.confirm){P("New passwords do not match.");return}try{await q.changePassword(S.current,S.new,S.confirm),F("Password updated successfully."),A({current:"",new:"",confirm:""})}catch(R){P(R.message)}},M=async()=>{if(confirm("Log out of all other sessions? You will need to log in again on other devices."))try{await q.logoutAllSessions(),alert("All other sessions invalidted.")}catch(R){alert(R.message)}};return c?t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex items-end justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Account Management"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"My Profile"})]}),t.jsx("button",{onClick:k,disabled:s||i==="success",className:`px-6 py-3 text-xs font-bold uppercase tracking-wider transition-all duration-300 flex items-center gap-2 ${i==="success"?"bg-green-500 text-white hover:bg-green-600":i==="error"?"bg-red-500 text-white hover:bg-red-600":"bg-black text-white hover:bg-[#ff4d00]"} disabled:opacity-70`,children:i==="success"?t.jsxs(t.Fragment,{children:[t.jsx(Yl,{size:14,className:"animate-in zoom-in spin-in-90 duration-300"})," Saved!"]}):i==="error"?t.jsxs(t.Fragment,{children:[t.jsx(ln,{size:14})," Failed"]}):t.jsxs(t.Fragment,{children:[t.jsx(Fa,{size:14})," ",s?"Saving...":"Save Changes"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 text-center shadow-sm",children:[t.jsxs("div",{className:"relative inline-block mb-6 group",children:[t.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-full flex items-center justify-center border-4 border-white shadow-lg mx-auto overflow-hidden",children:c.avatarUrl?t.jsx("img",{src:`${de}${c.avatarUrl}`,alt:c.name,className:"w-full h-full object-cover"}):t.jsx("span",{className:"text-4xl font-black text-gray-300",children:c.name.split(" ").map(R=>R[0]).join("")})}),t.jsx("button",{onClick:$,className:"absolute bottom-0 right-0 bg-[#ff4d00] text-white p-2 rounded-full hover:bg-black transition-colors shadow-md",children:t.jsx(M3,{size:16})}),t.jsx("input",{type:"file",ref:B,onChange:Q,className:"hidden",accept:"image/png, image/jpeg, image/webp"})]}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:c.name}),t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mt-1",children:c.role}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 flex justify-center gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-black text-gray-900",children:c.projectsCount}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Campaigns"})]}),t.jsx("div",{className:"w-px bg-gray-200"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-black text-green-600",children:c.status}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Status"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("button",{onClick:()=>e("contact"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="contact"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[t.jsx(Fn,{size:16})," Contact Details"]}),t.jsxs("button",{onClick:()=>e("security"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="security"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[t.jsx(Mr,{size:16})," Security & 2FA"]}),t.jsxs("button",{onClick:()=>e("notifications"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="notifications"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[t.jsx(zb,{size:16})," Notifications"]})]})]}),t.jsx("div",{className:"lg:col-span-2 space-y-6",children:n==="contact"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Fn,{size:14})," Personal Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(Zs,{children:"Full Name"}),t.jsx(jn,{value:c.name,onChange:R=>I("name",R),icon:t.jsx(Fn,{size:16})})]}),t.jsxs("div",{children:[t.jsx(Zs,{children:"Display Name (Nickname)"}),t.jsx(jn,{value:c.displayName||"",onChange:R=>I("displayName",R),icon:t.jsx(H2,{size:16}),placeholder:"The Traffic King"})]}),t.jsxs("div",{children:[t.jsx(Zs,{children:"Email Address"}),t.jsx(jn,{value:c.email,onChange:R=>I("email",R),icon:t.jsx(ji,{size:16})})]}),t.jsxs("div",{children:[t.jsx(Zs,{children:"Phone Number"}),t.jsx(jn,{value:c.phone||"",onChange:R=>I("phone",R),icon:t.jsx(jO,{size:16}),placeholder:"+1 (555) 000-0000"})]}),t.jsxs("div",{children:[t.jsx(Zs,{children:"Job Title"}),t.jsx(jn,{value:c.jobTitle||"",onChange:R=>I("jobTitle",R),icon:t.jsx(Zy,{size:16}),placeholder:"SEO Manager"})]}),t.jsxs("div",{children:[t.jsx(Zs,{children:"Website"}),t.jsx(jn,{value:c.website||"",onChange:R=>I("website",R),icon:t.jsx(Rs,{size:16}),placeholder:"https://yourpage.com"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(Zs,{children:"Personal Bio"}),t.jsx("textarea",{value:c.bio||"",onChange:R=>I("bio",R.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none min-h-[100px]",placeholder:"Tell us a bit about yourself..."})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Zy,{size:14})," Company & Address"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(Zs,{children:"Company Name"}),t.jsx(jn,{value:c.company||"",onChange:R=>I("company",R),icon:t.jsx(Zy,{size:16})})]}),t.jsxs("div",{children:[t.jsx(Zs,{children:"VAT ID / Tax ID"}),t.jsx(jn,{value:c.vatId||"",onChange:R=>I("vatId",R),icon:t.jsx(H2,{size:16})})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(Zs,{children:"Street Address"}),t.jsx(jn,{value:c.address||"",onChange:R=>I("address",R),icon:t.jsx(Mo,{size:16})})]}),t.jsxs("div",{children:[t.jsx(Zs,{children:"City"}),t.jsx(jn,{value:c.city||"",onChange:R=>I("city",R)})]}),t.jsxs("div",{children:[t.jsx(Zs,{children:"Zip / Postal Code"}),t.jsx(jn,{value:c.zip||"",onChange:R=>I("zip",R)})]}),t.jsxs("div",{children:[t.jsx(Zs,{children:"Country"}),t.jsx(jn,{value:c.country||"",onChange:R=>I("country",R),placeholder:"e.g. Germany"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Rs,{size:14})," Visibility"]}),t.jsx(xo,{label:"Public Profile Visibility",checked:c.publicProfile||!1,onChange:R=>h({...c,publicProfile:R})}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-2",children:"When enabled, other users can see your shared campaign stats and badges."})]})]}):n==="security"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Mr,{size:14})," Security & Authentication"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-bold text-gray-600",children:"Two-Factor Authentication (2FA)"}),t.jsx("button",{className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors",children:"Enable 2FA"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Add an extra layer of security to your account by requiring a verification code from your phone."}),t.jsx("div",{className:"border-t border-gray-100 pt-6",children:t.jsx(xo,{label:"Require password on all devices every 30 days",checked:c.requirePasswordReset||!1,onChange:R=>I("requirePasswordReset",R.toString())})})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Vn,{size:14})," Change Password"]}),C&&t.jsx("p",{className:"text-red-500 text-xs mb-4",children:C}),D&&t.jsx("p",{className:"text-green-500 text-xs mb-4",children:D}),t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs("div",{children:[t.jsx(Zs,{children:"Current Password"}),t.jsx(jn,{type:"password",value:S.current,onChange:R=>A({...S,current:R}),icon:t.jsx(Vn,{size:16})})]}),t.jsxs("div",{children:[t.jsx(Zs,{children:"New Password"}),t.jsx(jn,{type:"password",value:S.new,onChange:R=>A({...S,new:R}),icon:t.jsx(Vn,{size:16})})]}),t.jsxs("div",{children:[t.jsx(Zs,{children:"Confirm New Password"}),t.jsx(jn,{type:"password",value:S.confirm,onChange:R=>A({...S,confirm:R}),icon:t.jsx(Vn,{size:16})})]}),t.jsx("button",{onClick:L,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors self-start",children:"Update Password"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(us,{size:14})," Recent Login History"]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left text-xs font-bold",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-100 pb-2",children:[t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"Date & Time"}),t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"IP Address"}),t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"Device / Browser"}),t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest text-right",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:(c.loginHistory||[]).length>0?(V=c.loginHistory)==null?void 0:V.map((R,U)=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"py-4 text-gray-900",children:R.date}),t.jsx("td",{className:"py-4 text-gray-500 font-mono",children:R.ip}),t.jsx("td",{className:"py-4 text-gray-600",children:R.device}),t.jsx("td",{className:"py-4 text-right",children:U===0?t.jsx("span",{className:"text-green-600",children:"Current Session"}):t.jsx("span",{className:"text-gray-400",children:"Previous"})})]},U)):t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"No recent login history found."})})})]})}),t.jsx("button",{onClick:M,className:"mt-6 w-full py-3 border border-gray-200 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 transition-colors",children:"Log out of all other sessions"}),t.jsxs("div",{className:"mt-12 pt-12 border-t border-gray-200",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-red-600 mb-4 flex items-center gap-2",children:[t.jsx(ln,{size:14})," Danger Zone"]}),t.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),t.jsx("button",{onClick:_,className:"bg-red-50 text-red-600 border border-red-200 px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-red-600 hover:text-white transition-colors",children:"Delete My Account"})]})]})]}):n==="notifications"?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[t.jsx(zb,{size:14})," Notification Preferences"]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Zs,{children:"Email Frequency"}),t.jsxs("select",{value:c.emailFrequency||"instant",onChange:R=>I("emailFrequency",R.target.value),className:"bg-gray-100 border-none p-2 text-[10px] font-black uppercase tracking-widest outline-none",children:[t.jsx("option",{value:"instant",children:"Instant"}),t.jsx("option",{value:"daily",children:"Daily Digest"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx(xo,{label:"Campaign Status Alerts",checked:!0}),t.jsx(xo,{label:"Low Balance Warnings",checked:!0}),t.jsx(xo,{label:"New Login Notifications",checked:c.loginNotificationEnabled||!1,onChange:R=>I("loginNotificationEnabled",R.toString())})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx(xo,{label:"Marketing & Product Updates",checked:c.newsletterSub||!1,onChange:R=>I("newsletterSub",R.toString())}),t.jsx(xo,{label:"Weekly Performance Reports",checked:!0}),t.jsx(xo,{label:"Sound Effects (UI)",checked:c.soundEffects||!1,onChange:R=>I("soundEffects",R.toString())})]})]})]})}):null})]})]}):t.jsx("div",{children:"Loading..."})},xo=({label:n,checked:e,onChange:s})=>{const[r,i]=w.useState(e);w.useEffect(()=>{i(e)},[e]);const l=()=>{const c=!r;i(c),s&&s(c)};return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-bold text-gray-600",children:n}),t.jsx("button",{onClick:l,className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${r?"bg-[#ff4d00]":"bg-gray-200"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${r?"translate-x-5":"translate-x-0"}`})})]})},Zs=({children:n})=>t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:n}),jn=({value:n,onChange:e,icon:s,type:r="text",placeholder:i})=>t.jsxs("div",{className:"relative",children:[s&&t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:s}),t.jsx("input",{type:r,value:n,onChange:l=>e(l.target.value),className:`w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none transition-colors ${s?"pl-10":""}`,placeholder:i})]}),S9=()=>{const[n,e]=w.useState([]),[s,r]=w.useState(null),[i,l]=w.useState(void 0),[c,h]=w.useState("all"),[f,p]=w.useState("all");w.useEffect(()=>{(async()=>{l(q.getCurrentUser()),await q.syncTransactions(),e(q.getTransactions())})();const P=setInterval(()=>{l(q.getCurrentUser())},2e3);return()=>clearInterval(P)},[]);const x=C=>{const P=n.filter(F=>F.type!=="debit"&&F.tier===C&&F.hits).reduce((F,B)=>F+(B.hits||0),0),D=n.filter(F=>F.type==="debit"&&F.tier===C&&F.hits).reduce((F,B)=>F+(B.hits||0),0);return P-D},b=C=>C?{economy:"Economy",professional:"Professional",expert:"Expert"}[C]||C:"General",v=C=>C&&{economy:"bg-gray-100 text-gray-600",professional:"bg-orange-100 text-orange-600",expert:"bg-[#ff4d00]/10 text-[#ff4d00]"}[C]||"bg-gray-100 text-gray-600",E=n.filter(C=>{if(f!=="all"&&C.tier!==f)return!1;if(c!=="all"){const P=new Date(C.date),D=new Date,F=c==="7d"?7:c==="30d"?30:90,B=new Date(D.getTime()-F*24*60*60*1e3);if(P<B)return!1}return!0}),S=()=>{if(E.length===0){alert("No transactions to download.");return}const C=["ID","Date","Description","Type","Amount","Status","Balance Tier","Hits","Reference"],P=E.map($=>[$.id,$.date,`"${$.desc.replace(/"/g,'""')}"`,$.type,$.amount.toFixed(2),$.status,b($.tier),$.hits?($.type==="debit"?"-":"+")+$.hits.toString():"",$.reference||""]),D="data:text/csv;charset=utf-8,"+C.join(",")+`
`+P.map($=>$.join(",")).join(`
`),F=encodeURI(D),B=document.createElement("a");B.setAttribute("href",F),B.setAttribute("download",`traffic_statement_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(B),B.click(),document.body.removeChild(B)},A=({trx:C,onClose:P})=>t.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:P,children:t.jsxs("div",{className:"bg-white w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-200",onClick:D=>D.stopPropagation(),children:[t.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-6 h-6 bg-[#ff4d00] flex items-center justify-center",children:t.jsx("span",{className:"font-black text-black text-xs",children:"M"})}),t.jsx("span",{className:"font-black text-lg tracking-tight",children:"TRAFFIC GEN"})]}),t.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-widest",children:"Receipt"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-xl font-bold text-gray-900 mb-1",children:["",C.amount.toFixed(2)]}),C.hits&&t.jsxs("div",{className:`text-sm font-bold mb-1 ${C.type==="debit"?"text-red-600":"text-green-600"}`,children:["(",C.type==="debit"?"-":"+",C.hits.toLocaleString()," hits)"]}),t.jsx("div",{className:`text-xs font-bold uppercase tracking-wide px-2 py-0.5 inline-block ${C.status==="completed"?"bg-green-100 text-green-700":"bg-gray-100"}`,children:C.status})]})]}),t.jsxs("div",{className:"p-8 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Date"}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:C.date})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Transaction ID"}),t.jsx("div",{className:"text-sm font-mono text-gray-600",children:C.id})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Type"}),t.jsx("div",{className:"text-sm font-bold text-gray-900 capitalize",children:C.type==="debit"?"Purchase":"Deposit"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Balance Tier"}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:b(C.tier)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Reference"}),t.jsx("div",{className:"text-sm font-mono text-gray-600",children:C.reference||"-"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"User"}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:(i==null?void 0:i.name)||"User"})]})]}),t.jsxs("div",{className:"bg-gray-50 p-4 border border-gray-100",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Description"}),t.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.desc})]})]}),t.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex justify-end gap-3",children:[t.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase hover:bg-gray-100",children:[t.jsx(TO,{size:14})," Print"]}),t.jsx("button",{onClick:P,className:"px-4 py-2 bg-black text-white text-xs font-bold uppercase hover:bg-[#ff4d00]",children:"Close"})]})]})});return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[s&&t.jsx(A,{trx:s,onClose:()=>r(null)}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Financial Overview"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Balances"})]}),t.jsxs("button",{onClick:S,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(xi,{size:14})," Statement"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white border-b-4 border-gray-200 p-8 shadow-sm hover:translate-y-[-2px] transition-transform",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsx("div",{className:"p-2 bg-gray-100 rounded-sm text-gray-600",children:t.jsx(oa,{size:20})}),t.jsx("span",{className:"text-[10px] font-bold bg-gray-100 px-2 py-1 uppercase tracking-widest text-gray-500",children:"Economy"})]}),t.jsx("div",{className:"text-3xl font-black text-gray-900 mb-1",children:x("economy").toLocaleString()}),t.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Hits Available"})]}),t.jsxs("div",{className:"bg-white border-b-4 border-orange-300 p-8 shadow-sm hover:translate-y-[-2px] transition-transform relative overflow-hidden",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[t.jsx("div",{className:"p-2 bg-orange-50 rounded-sm text-orange-500",children:t.jsx(yf,{size:20})}),t.jsx("span",{className:"text-[10px] font-bold bg-orange-100 text-orange-600 px-2 py-1 uppercase tracking-widest",children:"Professional"})]}),t.jsx("div",{className:"text-3xl font-black text-gray-900 mb-1 relative z-10",children:x("professional").toLocaleString()}),t.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide relative z-10",children:"Hits Available"}),t.jsx(yf,{className:"absolute -bottom-4 -right-4 text-orange-50 w-32 h-32 rotate-12"})]}),t.jsxs("div",{className:"bg-[#111] border-b-4 border-[#ff4d00] text-white p-8 shadow-lg hover:translate-y-[-2px] transition-transform relative overflow-hidden",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[t.jsx("div",{className:"p-2 bg-[#ff4d00] rounded-sm text-white",children:t.jsx(Gt,{size:20})}),t.jsx("span",{className:"text-[10px] font-bold bg-[#ff4d00] text-white px-2 py-1 uppercase tracking-widest",children:"Expert"})]}),t.jsx("div",{className:"text-3xl font-black text-white mb-1 relative z-10",children:x("expert").toLocaleString()}),t.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide relative z-10",children:"Hits Available"}),t.jsx(Gt,{className:"absolute -bottom-4 -right-4 text-gray-800 w-32 h-32 rotate-12 opacity-20"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(us,{size:14,className:"text-[#ff4d00]"})," Transaction History"]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("select",{value:c,onChange:C=>h(C.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase tracking-wide",children:[t.jsx("option",{value:"all",children:"All Time"}),t.jsx("option",{value:"7d",children:"Last 7 Days"}),t.jsx("option",{value:"30d",children:"Last 30 Days"}),t.jsx("option",{value:"90d",children:"Last 90 Days"})]}),t.jsxs("select",{value:f,onChange:C=>p(C.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase tracking-wide",children:[t.jsx("option",{value:"all",children:"All Balances"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-[#f9fafb] border-b border-gray-100",children:[t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Balance"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hits"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Reference"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:E.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"text-center p-8 text-sm text-gray-400",children:"No transactions found."})}):E.map(C=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:C.date}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:C.desc}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-black uppercase tracking-wider rounded-sm ${v(C.tier)}`,children:b(C.tier)})}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:C.hits?t.jsxs("span",{className:C.type==="debit"?"text-red-600":"text-green-600",children:[C.type==="debit"?"-":"+",C.hits.toLocaleString()]}):"-"}),t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:C.reference||"-"}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-[9px] font-black uppercase tracking-wider rounded-sm",children:C.status})}),t.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${C.type==="debit"?"text-gray-900":"text-green-600"}`,children:[C.type==="debit"?"-":"+","",C.amount.toFixed(2),C.hits?t.jsxs("span",{className:`block text-[10px] ${C.type==="debit"?"text-red-500":"text-green-500"}`,children:["(",C.type==="debit"?"-":"+",C.hits.toLocaleString()," hits)"]}):null]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("button",{onClick:()=>r(C),className:"text-gray-400 hover:text-[#ff4d00] transition-colors",children:t.jsx(xi,{size:14})})})]},C.id))})]})})]})]})},T9=()=>{var Ae,H,ce,_e,K,ye,Te,Oe,rt,je,Ue,_t,Ut,ws,ut,Ps,ts;const[n,e]=w.useState("overview"),[s,r]=w.useState(!0),[i,l]=w.useState(null),[c,h]=w.useState(null),[f,p]=w.useState([]),[x,b]=w.useState(null),[v,E]=w.useState([]),[S,A]=w.useState(!1),[C,P]=w.useState(null),[D,F]=w.useState({url:"",description:""}),[B,$]=w.useState(!1),[Q,_]=w.useState(!1),[k,I]=w.useState({amount:"",method:"paypal",paypalEmail:"",bankName:"",bankIban:"",bankSwift:""}),[L,M]=w.useState(!1),[V,R]=w.useState([]);w.useEffect(()=>{const pe=q.getCurrentUser();l(pe),U()},[]);const U=async()=>{try{const[pe,re,$e,nt,Mt]=await Promise.all([q.getAffiliateDashboard().catch(()=>null),q.getBenefitTypes().catch(()=>[]),q.getBenefitBalance().catch(()=>null),q.getMyBenefitRequests().catch(()=>[]),q.getMyPayouts().catch(()=>[])]);h(pe),p(re),b($e),E(nt),R(Mt)}catch(pe){console.error(pe)}finally{r(!1)}},me=async()=>{if(!(!C||!D.url)){$(!0);try{await q.submitBenefit({benefit_type:C.type,benefit_category:C.category,url:D.url,description:D.description,claimed_value:C.value}),await U(),A(!1),F({url:"",description:""}),P(null)}catch(pe){alert(pe.message||"Failed to submit benefit")}finally{$(!1)}}},W=async()=>{const pe=parseFloat(k.amount);if(!pe||pe<=0){alert("Please enter a valid amount");return}const re=k.method==="paypal"?50:100;if(pe<re){alert(`Minimum payout is ${re} for ${k.method==="paypal"?"PayPal":"Bank Transfer"}`);return}if(k.method==="paypal"&&!k.paypalEmail){alert("Please enter your PayPal email");return}if(k.method==="bank"&&(!k.bankName||!k.bankIban)){alert("Please enter your bank details");return}M(!0);try{await q.requestPayout({amount:pe,method:k.method,payout_details:k.method==="paypal"?{email:k.paypalEmail}:{bank_name:k.bankName,iban:k.bankIban,swift:k.bankSwift}}),await U(),_(!1),I({amount:"",method:"paypal",paypalEmail:"",bankName:"",bankIban:"",bankSwift:""}),alert("Payout request submitted successfully! We will process it within 5 business days.")}catch($e){alert($e.message||"Failed to request payout")}finally{M(!1)}},ne=pe=>["#cd7f32","#c0c0c0","#ffd700","#e5e4e2","#b9f2ff","#ff4d00"][Math.min(pe-1,5)],ve=pe=>{switch(pe){case"youtube":return t.jsx(SM,{size:20});case"blog":return t.jsx(Ub,{size:20});case"facebook":return t.jsx(jD,{size:20});case"reddit":return t.jsx(nO,{size:20});case"twitter":return t.jsx(mM,{size:20});case"instagram":return t.jsx(LD,{size:20});case"tiktok":return t.jsx(Lr,{size:20});case"review":return t.jsx(Lr,{size:20});default:return t.jsx(Oa,{size:20})}};if(s)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-[#ff4d00] border-t-transparent rounded-full"})});const Re=(c==null?void 0:c.referralLink)||`https://modus-traffic.com/ref/u/${i==null?void 0:i.id}`;return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Partner Program"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Affiliate Dashboard"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ob,{active:n==="overview",onClick:()=>e("overview"),icon:t.jsx(dr,{size:14}),children:"Overview"}),t.jsx(ob,{active:n==="benefits",onClick:()=>e("benefits"),icon:t.jsx(Oa,{size:14}),children:"Benefits"}),t.jsx(ob,{active:n==="payouts",onClick:()=>e("payouts"),icon:t.jsx(za,{size:14}),children:"Payouts"})]})]}),n==="overview"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 text-center shadow-sm relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gray-50 rounded-full -mt-16 -mr-16 z-0"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center border-4 border-gray-100 shadow-md mx-auto mb-6 bg-white",children:t.jsx(yf,{size:40,style:{color:ne(((Ae=c==null?void 0:c.tier)==null?void 0:Ae.tierLevel)||1)}})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:((H=c==null?void 0:c.tier)==null?void 0:H.tierName)||"Bronze Starter"}),t.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:["Current Tier Level ",((ce=c==null?void 0:c.tier)==null?void 0:ce.tierLevel)||1,"/6"]}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 flex justify-center gap-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-2xl font-black text-[#ff4d00]",children:[((((_e=c==null?void 0:c.tier)==null?void 0:_e.commissionRateL1)||.15)*100).toFixed(0),"%"]}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Comm. Rate"})]}),t.jsx("div",{className:"w-px bg-gray-200"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:(c==null?void 0:c.totalReferrals)||0}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Referrals"})]})]})]})]}),t.jsx(yo,{title:"Your Referral Link",icon:t.jsx(Ub,{size:14}),children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 flex items-center font-mono text-xs font-bold text-gray-600 truncate",children:Re}),t.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Re),alert("Copied!")},className:"bg-black hover:bg-[#ff4d00] text-white p-3 shadow-sm transition-colors",children:t.jsx(_n,{size:16})})]})})]}),t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsx(lS,{label:"Total Earnings",value:`${(((K=c==null?void 0:c.tier)==null?void 0:K.totalEarnings)||0).toFixed(2)}`,subtext:"All time earnings"}),t.jsx(lS,{label:"Pending Payout",value:`${(((ye=c==null?void 0:c.tier)==null?void 0:ye.pendingPayout)||0).toFixed(2)}`,subtext:"Available for withdrawal",highlight:!0})]}),t.jsx(yo,{title:"Referral Network Performance",icon:t.jsx(Vr,{size:14}),children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-[#ff4d00] text-white flex items-center justify-center font-bold text-xs",children:"L1"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Direct Referrals"}),t.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:[(((Te=c==null?void 0:c.tier)==null?void 0:Te.commissionRateL1)||.15)*100,"% Commission"]})]})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:((Oe=c==null?void 0:c.tier)==null?void 0:Oe.totalReferralsL1)||0})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold text-xs",children:"L2"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Level 2 (Indirect)"}),t.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:[(((rt=c==null?void 0:c.tier)==null?void 0:rt.commissionRateL2)||.05)*100,"% Override"]})]})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:((je=c==null?void 0:c.tier)==null?void 0:je.totalReferralsL2)||0})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500 text-white flex items-center justify-center font-bold text-xs",children:"L3"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Level 3 (Network)"}),t.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:[(((Ue=c==null?void 0:c.tier)==null?void 0:Ue.commissionRateL3)||.02)*100,"% Override"]})]})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:((_t=c==null?void 0:c.tier)==null?void 0:_t.totalReferralsL3)||0})]})]})}),x&&x.benefitBalance>0&&t.jsx("div",{className:"bg-black text-white p-8 relative overflow-hidden shadow-lg",children:t.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-2",children:"Available Credits"}),t.jsxs("div",{className:"text-4xl font-black",children:["",x.benefitBalance.toFixed(2)]}),t.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Use these credits for your own traffic campaigns."})]}),t.jsx(on,{size:48,className:"text-[#333]"})]})})]})]}),n==="benefits"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs(yo,{title:"Credit Balance",icon:t.jsx(on,{size:14}),children:[t.jsxs("div",{className:"text-center py-6",children:[t.jsxs("div",{className:"text-3xl font-black text-gray-900 mb-1",children:["",((x==null?void 0:x.benefitBalance)||0).toFixed(2)]}),t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Available Balance"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-6 border-t border-gray-100",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xl font-black text-gray-900",children:(x==null?void 0:x.pendingRequests)||0}),t.jsx("div",{className:"text-[9px] text-gray-400 uppercase tracking-wide",children:"Pending"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xl font-black text-green-600",children:x==null?void 0:x.totalBenefitsClaimed.toFixed(2)}),t.jsx("div",{className:"text-[9px] text-gray-400 uppercase tracking-wide",children:"Earned"})]})]})]}),t.jsxs("div",{className:"bg-[#ff4d00] text-white p-8",children:[t.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Earn More Credits"}),t.jsx("p",{className:"text-xs font-medium opacity-80 mb-6",children:"Complete simple tasks to earn free traffic credits for your campaigns."}),t.jsx("button",{onClick:()=>A(!0),className:"w-full bg-white text-black text-xs font-bold uppercase tracking-wider py-3 hover:bg-black hover:text-white transition-colors",children:"Submit Activity"})]})]}),t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsx(yo,{title:"Available Opportunities",icon:t.jsx(Oa,{size:14}),children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.slice(0,8).map(pe=>t.jsxs("div",{onClick:()=>{P(pe),A(!0)},className:"border border-gray-100 p-4 hover:border-[#ff4d00] hover:shadow-md transition-all cursor-pointer group bg-gray-50",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsx("div",{className:"p-2 bg-white rounded-md shadow-sm text-gray-600 group-hover:text-[#ff4d00] transition-colors",children:ve(pe.type)}),t.jsxs("span",{className:"text-sm font-black text-[#ff4d00]",children:["",pe.value]})]}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:pe.category}),t.jsx("div",{className:"text-[10px] text-gray-500 mt-1 line-clamp-1",children:pe.name})]},pe.id))})}),t.jsx(yo,{title:"Recent Submissions",icon:t.jsx(us,{size:14}),children:v.length===0?t.jsx("div",{className:"text-center py-12 text-gray-400 text-sm",children:"No submissions yet. Start earning today!"}):t.jsx("div",{className:"divide-y divide-gray-100",children:v.map(pe=>t.jsxs("div",{className:"py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`p-2 rounded-full ${pe.status==="approved"?"bg-green-100 text-green-600":pe.status==="rejected"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:pe.status==="approved"?t.jsx(Yl,{size:16}):pe.status==="rejected"?t.jsx(Oo,{size:16}):t.jsx(us,{size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-bold text-gray-900 uppercase",children:pe.benefitCategory}),t.jsx("div",{className:"text-[10px] text-gray-500 truncate max-w-[200px]",children:pe.url})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-black",children:["",pe.approvedValue||pe.claimedValue]}),t.jsx("div",{className:`text-[9px] font-bold uppercase tracking-wider ${pe.status==="approved"?"text-green-600":pe.status==="rejected"?"text-red-500":"text-yellow-500"}`,children:pe.status})]})]},pe.id))})})]})]}),n==="payouts"&&t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs(yo,{title:"Cashout Earnings",icon:t.jsx(za,{size:14}),children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"p-6 bg-[#f9fafb] border border-gray-200 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Available to Payout"}),t.jsxs("div",{className:"text-3xl font-black text-green-600",children:["",(((Ut=c==null?void 0:c.tier)==null?void 0:Ut.pendingPayout)||0).toFixed(2)]})]}),t.jsxs("div",{className:"p-6 bg-white border border-gray-200 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Min. PayPal"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:"50.00"})]}),t.jsxs("div",{className:"p-6 bg-white border border-gray-200 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Min. Bank Transfer"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:"100.00"})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"bg-white p-3 shadow-sm rounded-full",children:t.jsx(Fb,{size:24,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"Secure Payout Processing"}),t.jsx("p",{className:"text-xs text-gray-500 max-w-md",children:"Payouts are processed manually within 5 business days. Please ensure your billing details are up to date in your profile."})]})]}),t.jsx("button",{onClick:()=>_(!0),disabled:(((ws=c==null?void 0:c.tier)==null?void 0:ws.pendingPayout)||0)<50,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Request Payout"})]})]}),t.jsx(yo,{title:"Financial History",icon:t.jsx(dr,{size:14}),children:t.jsxs("div",{className:"grid grid-cols-2 gap-8 p-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Lifetime Earnings"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:["",(((ut=c==null?void 0:c.tier)==null?void 0:ut.totalEarnings)||0).toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Total Paid Out"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:["",(((Ps=c==null?void 0:c.tier)==null?void 0:Ps.lifetimePayout)||0).toFixed(2)]})]})]})}),t.jsx(yo,{title:"Payout History",icon:t.jsx(us,{size:14}),children:V.length===0?t.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"No payout requests yet"}):t.jsx("div",{className:"divide-y divide-gray-100",children:V.map(pe=>t.jsxs("div",{className:"py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`p-2 rounded-full ${pe.status==="paid"?"bg-green-100 text-green-600":pe.status==="approved"?"bg-blue-100 text-blue-600":pe.status==="rejected"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:pe.status==="paid"?t.jsx(Yl,{size:16}):pe.status==="rejected"?t.jsx(Oo,{size:16}):t.jsx(us,{size:16})}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-xs font-bold text-gray-900",children:["",pe.amount.toFixed(2)]}),t.jsx("div",{className:"text-[10px] text-gray-500",children:pe.method==="paypal"?"PayPal":"Bank Transfer"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-[9px] font-bold uppercase tracking-wider ${pe.status==="paid"?"text-green-600":pe.status==="approved"?"text-blue-600":pe.status==="rejected"?"text-red-500":"text-yellow-500"}`,children:pe.status}),t.jsx("div",{className:"text-[10px] text-gray-400",children:new Date(pe.requestedAt).toLocaleDateString()})]})]},pe.id))})})]}),S&&t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white max-w-lg w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[t.jsxs("h3",{className:"text-lg font-black uppercase tracking-tight flex items-center gap-2",children:[t.jsx(Oa,{size:20,className:"text-[#ff4d00]"})," Submit Activity"]}),t.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-black transition-colors",children:t.jsx("span",{className:"text-2xl",children:""})})]}),t.jsxs("div",{className:"p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsx(hi,{children:"Activity Type"}),t.jsxs("select",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",value:(C==null?void 0:C.id)||"",onChange:pe=>{const re=f.find($e=>$e.id===pe.target.value);P(re||null)},children:[t.jsx("option",{value:"",children:"Select activity..."}),f.map(pe=>t.jsxs("option",{value:pe.id,children:[pe.name," - ",pe.value]},pe.id))]})]}),t.jsxs("div",{children:[t.jsx(hi,{children:"Proof URL"}),t.jsx(hd,{value:D.url,onChange:pe=>F({...D,url:pe}),placeholder:"https://..."})]}),t.jsxs("div",{children:[t.jsx(hi,{children:"Description / Comments"}),t.jsx("textarea",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none min-h-[100px]",placeholder:"Additional details...",value:D.description,onChange:pe=>F({...D,description:pe.target.value})})]}),C&&t.jsxs("div",{className:"bg-gray-50 border border-gray-100 p-4 flex justify-between items-center",children:[t.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Estimated Value"}),t.jsxs("div",{className:"text-2xl font-black text-[#ff4d00]",children:["",C.value]})]})]}),t.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3",children:[t.jsx("button",{onClick:()=>A(!1),className:"flex-1 border border-gray-200 py-3 text-xs font-bold uppercase hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:me,disabled:!C||!D.url||B,className:"flex-1 bg-black text-white py-3 text-xs font-bold uppercase hover:bg-[#ff4d00] transition-colors disabled:opacity-50",children:B?"Submitting...":"Submit Request"})]})]})}),Q&&t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white max-w-lg w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[t.jsxs("h3",{className:"text-lg font-black uppercase tracking-tight flex items-center gap-2",children:[t.jsx(za,{size:20,className:"text-[#ff4d00]"})," Request Payout"]}),t.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-black transition-colors",children:t.jsx("span",{className:"text-2xl",children:""})})]}),t.jsxs("div",{className:"p-8 space-y-6",children:[t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Available Balance"}),t.jsxs("div",{className:"text-3xl font-black text-green-600",children:["",(((ts=c==null?void 0:c.tier)==null?void 0:ts.pendingPayout)||0).toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx(hi,{children:"Amount ()"}),t.jsx(hd,{value:k.amount,onChange:pe=>I({...k,amount:pe}),placeholder:"0.00",type:"number"})]}),t.jsxs("div",{children:[t.jsx(hi,{children:"Payout Method"}),t.jsxs("select",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",value:k.method,onChange:pe=>I({...k,method:pe.target.value}),children:[t.jsx("option",{value:"paypal",children:"PayPal (Min. 50)"}),t.jsx("option",{value:"bank",children:"Bank Transfer (Min. 100)"})]})]}),k.method==="paypal"?t.jsxs("div",{children:[t.jsx(hi,{children:"PayPal Email"}),t.jsx(hd,{value:k.paypalEmail,onChange:pe=>I({...k,paypalEmail:pe}),placeholder:"your@email.com",type:"email"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx(hi,{children:"Bank Name"}),t.jsx(hd,{value:k.bankName,onChange:pe=>I({...k,bankName:pe}),placeholder:"Bank Name"})]}),t.jsxs("div",{children:[t.jsx(hi,{children:"IBAN"}),t.jsx(hd,{value:k.bankIban,onChange:pe=>I({...k,bankIban:pe}),placeholder:"DE89 3704 0044 0532 0130 00"})]}),t.jsxs("div",{children:[t.jsx(hi,{children:"SWIFT/BIC (Optional)"}),t.jsx(hd,{value:k.bankSwift,onChange:pe=>I({...k,bankSwift:pe}),placeholder:"DEUTDEFF"})]})]}),t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 text-xs text-yellow-800",children:[t.jsx("strong",{children:"Note:"})," Payouts are processed manually within 5 business days. Ensure your details are correct."]})]}),t.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3",children:[t.jsx("button",{onClick:()=>_(!1),className:"flex-1 border border-gray-200 py-3 text-xs font-bold uppercase hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:W,disabled:L,className:"flex-1 bg-black text-white py-3 text-xs font-bold uppercase hover:bg-[#ff4d00] transition-colors disabled:opacity-50",children:L?"Processing...":"Submit Request"})]})]})})]})},yo=({title:n,icon:e,children:s})=>t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm h-full",children:[t.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[e," ",n]}),s]}),lS=({label:n,value:e,subtext:s,highlight:r})=>t.jsxs("div",{className:`p-6 border ${r?"border-[#ff4d00]/30 bg-[#fff5f0]":"border-gray-200 bg-white"}`,children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:n}),t.jsx("div",{className:`text-3xl font-black ${r?"text-[#ff4d00]":"text-gray-900"}`,children:e}),s&&t.jsx("div",{className:"text-[10px] text-gray-500 mt-1",children:s})]}),ob=({active:n,onClick:e,children:s,icon:r})=>t.jsxs("button",{onClick:e,className:`px-4 py-2 text-[10px] font-bold uppercase tracking-widest flex items-center gap-2 transition-all border ${n?"bg-black text-white border-black":"bg-white text-gray-500 border-gray-200 hover:border-gray-300"}`,children:[r," ",s]}),hi=({children:n})=>t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-2",children:n}),hd=({value:n,onChange:e,placeholder:s,type:r="text"})=>t.jsx("input",{type:r,value:n,onChange:i=>e(i.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:s}),k9=({targetDate:n})=>{const[e,s]=w.useState(null);return w.useEffect(()=>{const r=setInterval(()=>{const i=new Date().getTime(),l=new Date(n).getTime()-i;l<0?(s(null),clearInterval(r)):s({days:Math.floor(l/864e5),hours:Math.floor(l%864e5/36e5),minutes:Math.floor(l%36e5/6e4),seconds:Math.floor(l%6e4/1e3)})},1e3);return()=>clearInterval(r)},[n]),e?t.jsxs("div",{className:"flex gap-2 mt-3 font-mono text-sm font-black text-black bg-white/20 p-2 rounded-sm inline-flex",children:[t.jsxs("span",{children:[String(e.days).padStart(2,"0"),"d"]}),":",t.jsxs("span",{children:[String(e.hours).padStart(2,"0"),"h"]}),":",t.jsxs("span",{children:[String(e.minutes).padStart(2,"0"),"m"]}),":",t.jsxs("span",{children:[String(e.seconds).padStart(2,"0"),"s"]})]}):null},E9=({stats:n})=>{const e=Math.max(...n.map(s=>s.visitors),1);return t.jsx("div",{className:"h-32 flex items-end justify-between gap-1 w-full mt-4",children:n.map((s,r)=>{const i=s.visitors/e*100;return t.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative h-full",children:[t.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap",children:[s.date,": ",s.visitors.toLocaleString()]}),t.jsx("div",{className:"bg-[#ff4d00] opacity-30 group-hover:opacity-100 transition-all rounded-t-sm",style:{height:`${i}%`,minHeight:"4px"}})]},r)})})},C9=({projects:n,balance:e,onNavigateToProject:s,onNavigateToBuyCredits:r,onNavigateToSupport:i})=>{var _e;const[l,c]=w.useState([]),[h,f]=w.useState([]),[p,x]=w.useState(null),[b,v]=w.useState(""),[E,S]=w.useState(""),[A,C]=w.useState(""),[P,D]=w.useState(!1),[F,B]=w.useState(!1),[$,Q]=w.useState(0),[_,k]=w.useState(null),[I,L]=w.useState(!1),[M,V]=w.useState(null),[R,U]=w.useState(!1);w.useEffect(()=>{const K=q.getCurrentUser();x(K||null),c(q.getTransactions().slice(0,5));const ye=async()=>{try{const ut=await fetch(`${window.location.origin}/users/me/gamification`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(ut.ok){const Ps=await ut.json();k(Ps),B(Ps.streak_days>0&&!await Te())}}catch(ut){console.error("Failed to fetch gamification:",ut)}},Te=async()=>{try{const ut=await fetch(`${window.location.origin}/users/me/streak`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(ut.ok)return(await ut.json()).can_claim_today}catch{}return!0};ye();const rt=q.getAlerts().filter(ut=>q.checkBroadcastTarget(ut,K));f(rt);const je=["Use alt tags on all images for better accessibility and SEO ranking.","Improve page load speed by compressing images and using lazy loading.","Use descriptive and keyword-rich title tags for every page.","Internal linking helps search engines understand your site structure.","Write unique meta descriptions to improve click-through rates."];S(je[Math.floor(Math.random()*je.length)]);const Ue=["The first website was published in 1991 by Tim Berners-Lee.","Over 50% of web traffic comes from mobile devices.","Google processes over 3.5 billion searches per day.","The average bounce rate for websites is between 41% and 55%."];C(Ue[Math.floor(Math.random()*Ue.length)]);const _t=setInterval(()=>{v(new Date().toUTCString().split(" ")[4]+" UTC")},1e3),Ut=async()=>{try{const ut=await q.getActiveNow();Q(ut.activeNow)}catch{}};Ut();const ws=setInterval(Ut,5e3);return()=>{clearInterval(_t),clearInterval(ws)}},[e]);const me=n.filter(K=>K.status==="active"),W=Ke.useMemo(()=>{const K=[];for(let ye=29;ye>=0;ye--){const Te=new Date;Te.setDate(Te.getDate()-ye);const Oe=Te.toLocaleDateString("en-US",{month:"short",day:"numeric"});let rt=0;n.forEach(je=>{var _t;const Ue=(_t=je.stats)==null?void 0:_t.find(Ut=>Ut.date===Te.toISOString().split("T")[0]);Ue&&(rt+=Ue.visitors)}),K.push({date:Oe,visitors:rt})}return K},[n]),ne=n.reduce((K,ye)=>{var Oe;const Te=((Oe=ye.stats)==null?void 0:Oe.reduce((rt,je)=>rt+je.visitors,0))||0;return K+Te},0),ve=K=>{switch(K){case"error":return t.jsx(fO,{size:18});case"warning":return t.jsx(ln,{size:18});case"promo":return t.jsx(Lr,{size:18});default:return t.jsx(Jl,{size:18})}},Re=K=>K>=1e6?(K/1e6).toFixed(1)+"M":K>=1e3?(K/1e3).toFixed(1)+"k":K.toString(),Ae=()=>{const K=new Date().getHours();return K<12?"Good Morning":K<18?"Good Afternoon":"Good Evening"},H=()=>{navigator.clipboard.writeText(`https://traffic.com/ref/${(p==null?void 0:p.id)||"user"}`),D(!0),setTimeout(()=>D(!1),2e3)},ce=async()=>{if(!(R||F)){U(!0);try{const ye=await(await fetch(`${window.location.origin}/users/me/daily-bonus`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`,"Content-Type":"application/json"}})).json();V(ye),L(!0),ye.success&&(B(!0),k(Te=>Te?{...Te,streak_days:ye.streak_days,streak_best:ye.streak_best}:null))}catch(K){console.error("Failed to claim bonus:",K)}finally{U(!1)}}};return t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[h.length>0&&t.jsx("div",{className:"space-y-3",children:h.map(K=>t.jsxs("div",{className:`p-4 border-l-4 shadow-sm flex items-start gap-3 rounded-r-sm ${K.type==="error"?"bg-red-50 border-red-500 text-red-700":K.type==="promo"?"bg-yellow-50 border-yellow-500 text-yellow-800":K.type==="warning"?"bg-orange-50 border-orange-500 text-orange-700":"bg-blue-50 border-blue-500 text-blue-700"}`,children:[t.jsx("div",{className:"mt-0.5 shrink-0",children:ve(K.type)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-bold",children:K.message}),K.countdownEnds&&t.jsx(k9,{targetDate:K.countdownEnds}),t.jsx("p",{className:"text-[10px] font-medium opacity-70 mt-1 uppercase tracking-wider",children:K.date})]})]},K.id))}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-end gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1 flex items-center gap-2",children:[t.jsx(ZO,{size:12,strokeWidth:3})," ",Ae()]}),t.jsxs("h2",{className:"text-4xl font-black text-gray-900 tracking-tight uppercase",children:["Welcome, ",((_e=p==null?void 0:p.name)==null?void 0:_e.split(" ")[0])||"User"]}),t.jsxs("p",{className:"text-sm text-gray-400 font-bold uppercase tracking-wider mt-1",children:["Your network performance is ",t.jsx("span",{className:"text-green-600",children:"Optimal"})]})]}),t.jsx("div",{className:"flex flex-col items-end gap-3",children:t.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-black uppercase bg-white px-4 py-2 border border-gray-200 shadow-sm rounded-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(us,{size:12,className:"text-[#ff4d00]"}),t.jsx("span",{className:"text-gray-900",children:b})]}),t.jsx("div",{className:"w-px h-3 bg-gray-200"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full animate-pulse"}),t.jsx("span",{className:"text-[#ff4d00]",children:"Server Online"})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors rounded-sm",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(dr,{size:64,className:"text-[#ff4d00]"})}),t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Total Hits Sent"}),t.jsx("div",{className:"text-4xl font-black text-gray-900 mb-2",children:Re(ne)}),t.jsxs("div",{className:"text-[10px] font-black text-[#ff4d00] flex items-center gap-1 uppercase tracking-wider",children:[t.jsx(Ir,{size:12})," Active Now: ",$]})]}),t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors cursor-pointer rounded-sm",onClick:()=>s(""),children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(Gt,{size:64,className:"text-[#ff4d00]"})}),t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Active Projects"}),t.jsx("div",{className:"text-4xl font-black text-gray-900 mb-2",children:me.length}),t.jsxs("div",{className:"text-[10px] font-black text-gray-500 flex items-center gap-1 uppercase tracking-wider",children:["Manage Campaigns ",t.jsx(ds,{size:10,className:"group-hover:translate-x-1 transition-transform"})]})]}),t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors cursor-pointer rounded-sm",onClick:r,children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(on,{size:64,className:"text-[#ff4d00]"})}),t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Wallet Balance"}),t.jsxs("div",{className:"text-4xl font-black text-gray-900 mb-2",children:["",(e??0).toFixed(2)]}),t.jsxs("div",{className:"text-[10px] font-black text-[#ff4d00] flex items-center gap-1 uppercase tracking-wider",children:["Add Credits ",t.jsx(Or,{size:10,className:"group-hover:rotate-90 transition-transform"})]})]}),t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors rounded-sm",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(Lr,{size:64,className:"text-[#ff4d00]"})}),t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsxs("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["Level ",(_==null?void 0:_.level)||1," ",(_==null?void 0:_.level_name)||"Novice"]}),t.jsxs("span",{className:"text-[10px] font-black text-[#ff4d00]",children:[_!=null&&_.xp_to_next?Math.min(100,Math.round(_.xp/(_.xp+_.xp_to_next)*100)):100,"%"]})]}),t.jsx("div",{className:"text-2xl font-black text-gray-900 mb-3 uppercase tracking-tight",children:"Growth Path"}),t.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden shadow-inner",children:t.jsx("div",{className:"h-full bg-[#ff4d00] transition-all duration-1000",style:{width:`${_!=null&&_.xp_to_next?Math.min(100,Math.round(_.xp/(_.xp+_.xp_to_next)*100)):100}%`}})}),t.jsxs("div",{className:"mt-2 text-[9px] font-black text-gray-400 uppercase tracking-widest",children:[_!=null&&_.discount_percent?`${_.discount_percent}% Discount Active  `:"","Next: ",(_==null?void 0:_.next_reward)||"Max Level"]}),(_==null?void 0:_.pending_bonus_hits)&&_.pending_bonus_hits>0&&!_.pending_bonus_claimed&&t.jsxs("button",{className:"mt-3 w-full bg-[#ff4d00] text-white py-2 text-[9px] font-black uppercase tracking-widest rounded-sm hover:bg-black transition-colors animate-pulse",children:[t.jsx(tx,{size:12,className:"inline mr-1"})," Claim Level Bonus: +",_.pending_bonus_hits.toLocaleString()," Hits"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 rounded-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(z3,{size:14,className:"text-[#ff4d00]"})," Network Throughput"]}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1",children:"Last 30 days volume"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-gray-500 uppercase",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full"})," Hits"]})})]}),t.jsx(E9,{stats:W})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm flex flex-col rounded-sm overflow-hidden",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Ir,{size:14,className:"text-[#ff4d00]"})," Recent Campaigns"]}),t.jsxs("button",{onClick:()=>s(""),className:"text-[10px] font-black text-gray-400 uppercase tracking-widest hover:text-[#ff4d00] transition-colors flex items-center gap-1",children:["View Full List ",t.jsx(ds,{size:10})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Project Name"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Pricing Plan"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Status"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-50",children:[n.slice(0,5).map(K=>t.jsxs("tr",{className:"hover:bg-orange-50/30 cursor-pointer transition-colors group",onClick:()=>s(K.id),children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-xs font-bold text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:K.name}),t.jsx("div",{className:"text-[10px] text-gray-400 font-mono mt-0.5 uppercase tracking-tighter",children:K.id})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 px-2 py-1 bg-gray-100 rounded-sm",children:K.plan})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-[9px] font-black uppercase tracking-wider rounded-sm ${K.status==="active"?"bg-[#ff4d00] text-white":K.status==="completed"?"bg-black text-white":"bg-gray-100 text-gray-400"}`,children:K.status})})]},K.id)),n.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:3,className:"p-12 text-center text-[10px] font-black uppercase tracking-widest text-gray-400",children:"No projects found. Create your first campaign to get started."})})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-sm shadow-sm flex gap-4 hover:border-[#ff4d00] transition-colors",children:[t.jsx("div",{className:"mt-1",children:t.jsx(Jl,{size:18,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-[#ff4d00] uppercase tracking-widest mb-1",children:"Weekly SEO Insight"}),t.jsxs("p",{className:"text-xs text-gray-700 leading-relaxed font-bold",children:['"',E,'"']})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-sm shadow-sm flex gap-4 hover:border-[#ff4d00] transition-colors",children:[t.jsx("div",{className:"mt-1",children:t.jsx(Rs,{size:18,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-[#ff4d00] uppercase tracking-widest mb-1",children:"Internet Statistics"}),t.jsxs("p",{className:"text-xs text-gray-700 leading-relaxed font-bold",children:['"',A,'"']})]})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 rounded-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 mb-6 flex items-center gap-2",children:[t.jsx(Gt,{size:14,className:"text-[#ff4d00]"})," Command Center"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{onClick:()=>s("new"),className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-black hover:text-white transition-all rounded-sm group",children:[t.jsx(Ir,{size:20,className:"mb-2 text-[#ff4d00]"}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:"New Project"})]}),t.jsxs("button",{onClick:r,className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-black hover:text-white transition-all rounded-sm group",children:[t.jsx(on,{size:20,className:"mb-2 text-gray-400 group-hover:text-[#ff4d00]"}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:"Buy Credits"})]}),t.jsxs("button",{onClick:ce,disabled:F||R,className:`flex flex-col items-center justify-center p-4 transition-all rounded-sm group ${F?"bg-[#ff4d00]/10 text-[#ff4d00]":"bg-gray-50 hover:bg-[#ff4d00] hover:text-white"}`,children:[t.jsx(Oa,{size:20,className:`mb-2 ${F?"text-[#ff4d00]":"text-gray-400 group-hover:text-white"}`}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:R?"Claiming...":F?"Claimed":"Daily Bonus"})]}),t.jsxs("button",{onClick:()=>i?i():window.location.href="/dashboard/support",className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-blue-600 hover:text-white transition-all rounded-sm group",children:[t.jsx(Dr,{size:20,className:"mb-2 text-gray-400 group-hover:text-white"}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:"Get Support"})]})]})]}),t.jsxs("div",{className:"bg-[#111] text-white p-6 rounded-sm shadow-xl relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00] opacity-10 rounded-full -mr-16 -mt-16 blur-2xl group-hover:opacity-20 transition-opacity"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest mb-1",children:"Activity Streak"}),t.jsxs("div",{className:"text-3xl font-black flex items-center gap-3 mb-6",children:[(_==null?void 0:_.streak_days)||0," DAYS ",t.jsx(Gt,{size:24,className:"text-[#ff4d00] fill-[#ff4d00] animate-pulse"})]}),t.jsx("div",{className:"flex gap-1.5 h-1.5 mb-3",children:[1,2,3,4,5,6,7].map(K=>t.jsx("div",{className:`${K<=Math.min((_==null?void 0:_.streak_days)||0,7)?"bg-[#ff4d00]":"bg-gray-800"} flex-1 rounded-full`},K))}),t.jsxs("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:["Best: ",(_==null?void 0:_.streak_best)||0," days  Day 7 bonus: +10,000 hits"]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 rounded-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(Vr,{size:14,className:"text-[#ff4d00]"})," Affiliate Portal"]}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mb-4 tracking-tight",children:"Earn 20% lifetime commission"}),t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsx("div",{className:"flex-1 bg-gray-50 border border-gray-200 text-[10px] px-3 py-2.5 rounded-sm font-mono text-gray-500 truncate",children:p!=null&&p.referralCode?`modus-traffic.com/ref/${p.referralCode}`:`modus-traffic.com/ref/u/${(p==null?void 0:p.id)||"..."}`}),t.jsx("button",{onClick:H,className:`px-4 rounded-sm border transition-all flex items-center justify-center ${P?"bg-green-600 border-green-600 text-white":"bg-white border-gray-200 hover:border-[#ff4d00] hover:text-[#ff4d00]"}`,children:P?t.jsx(sn,{size:14}):t.jsx(_n,{size:14})})]}),t.jsxs("button",{onClick:()=>window.location.href="/dashboard/affiliate",className:"w-full bg-black text-white py-2.5 text-[10px] font-black uppercase tracking-widest hover:bg-[#ff4d00] transition-colors rounded-sm flex items-center justify-center gap-2",children:["Open Affiliate Portal ",t.jsx(ds,{size:12})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-sm overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[t.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Wallet History"}),t.jsx(us,{size:12,className:"text-gray-400"})]}),t.jsx("div",{className:"divide-y divide-gray-100",children:l.length>0?l.slice(0,3).map(K=>t.jsxs("div",{className:"p-4 flex justify-between items-center bg-white hover:bg-gray-50 transition-colors group",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-1.5 rounded-sm ${K.type==="debit"?"bg-orange-50 text-[#ff4d00]":"bg-green-50 text-green-600"}`,children:K.type==="debit"?t.jsx(ds,{size:10,className:"rotate-45"}):t.jsx(Or,{size:10})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black text-gray-700 uppercase tracking-tight truncate w-32",children:K.desc}),t.jsx("div",{className:"text-[9px] text-gray-400 font-bold uppercase",children:K.date})]})]}),t.jsxs("div",{className:`text-xs font-black ${K.type==="debit"?"text-gray-900":"text-green-600"}`,children:[K.type==="debit"?"-":"+","",K.amount.toFixed(0)]})]},K.id)):t.jsx("div",{className:"p-8 text-center text-[10px] font-black uppercase tracking-widest text-gray-400",children:"No transactions recorded."})}),l.length>0&&t.jsx("button",{onClick:()=>window.location.href="/dashboard/balance",className:"w-full py-3 bg-gray-50 text-[9px] font-black uppercase tracking-widest text-gray-400 hover:text-[#ff4d00] transition-colors border-t border-gray-100",children:"View Full Wallet"})]})]})]}),I&&M&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-sm shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-in slide-in-from-bottom-4 duration-300",children:[t.jsxs("div",{className:"bg-[#ff4d00] p-6 text-center relative",children:[t.jsx("button",{onClick:()=>L(!1),className:"absolute top-4 right-4 text-white/70 hover:text-white",children:t.jsx(nn,{size:20})}),t.jsx(Oa,{size:48,className:"mx-auto mb-3 text-white animate-bounce"}),t.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:M.success?"Bonus Claimed!":"Already Claimed"})]}),t.jsx("div",{className:"p-8 text-center",children:M.success?t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-4xl font-black text-[#ff4d00] mb-2",children:["+",M.hits.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-gray-500 font-bold uppercase tracking-widest mb-4",children:[M.tier.charAt(0).toUpperCase()+M.tier.slice(1)," Hits Added"]}),t.jsx("div",{className:"bg-gray-50 rounded-sm p-4 mb-6",children:t.jsxs("div",{className:"flex items-center justify-center gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Current Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:[M.streak_days," Days"]})]}),t.jsx("div",{className:"w-px h-10 bg-gray-200"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Best Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:[M.streak_best," Days"]})]})]})}),t.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Come back tomorrow to continue your streak and earn more bonus hits!"})]}):t.jsx("p",{className:"text-gray-600",children:M.message})}),t.jsx("div",{className:"bg-gray-50 px-8 py-4",children:t.jsx("button",{onClick:()=>L(!1),className:"w-full bg-black text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-[#ff4d00] transition-colors rounded-sm",children:"Got it!"})})]})})]})},A9=()=>{var ts,pe;const[n,e]=w.useState([]),[s,r]=w.useState([]),[i,l]=w.useState(null),[c,h]=w.useState(!0),[f,p]=w.useState(!1),[x,b]=w.useState(!1),[v,E]=w.useState("all"),[S,A]=w.useState(""),[C,P]=w.useState(!1),[D,F]=w.useState(""),[B,$]=w.useState(""),[Q,_]=w.useState("medium"),[k,I]=w.useState("general"),[L,M]=w.useState(""),[V,R]=w.useState([]),[U,me]=w.useState(!1),[W,ne]=w.useState(""),[ve,Re]=w.useState([]),[Ae,H]=w.useState(!1),ce=w.useRef(null),_e=w.useRef(null),K=w.useRef(null),ye=q.getCurrentUser(),Te=n.find(re=>re.id===i);w.useEffect(()=>{Oe()},[]),w.useEffect(()=>{Te&&setTimeout(()=>{var re;(re=ce.current)==null||re.scrollIntoView({behavior:"smooth"})},100)},[(ts=Te==null?void 0:Te.messages)==null?void 0:ts.length]);const Oe=async()=>{if(ye){h(!0);try{await q.syncProjects(),await q.syncTickets(),r(q.getProjects()),e(q.getTickets())}catch(re){console.error("Failed to refresh data",re)}finally{h(!1)}}},rt=n.filter(re=>{var $e,nt;if(v!=="all"&&re.status!==v)return!1;if(S){const Mt=S.toLowerCase();return re.subject.toLowerCase().includes(Mt)||(($e=re.lastMessage)==null?void 0:$e.toLowerCase().includes(Mt))||((nt=re.messages)==null?void 0:nt.some(Wn=>Wn.text.toLowerCase().includes(Mt)))}return!0}).sort((re,$e)=>new Date($e.date).getTime()-new Date(re.date).getTime()),je=async(re,$e)=>{var fe;const nt=(fe=re.target.files)==null?void 0:fe[0];if(!nt)return;const Mt=$e?Re:R,Wn=$e?ve:V,Br=$e?H:me;Br(!0);try{const De=await q.uploadTicketAttachment(nt);Mt([...Wn,De])}catch(De){console.error("Upload failed",De),alert("Failed to upload file. Please try again.")}finally{Br(!1)}},Ue=async re=>{if(re.preventDefault(),!(!D||!B||!ye)){b(!0);try{const $e={subject:D,priority:Q,category:k,projectId:L||void 0,attachmentUrls:V.map(nt=>nt.url),messages:[{id:Date.now().toString(),sender:"user",text:B,date:new Date().toLocaleString(),attachments:V.map(nt=>nt.url)}]};await q.createTicket($e),P(!1),F(""),$(""),_("medium"),I("general"),M(""),R([]),await Oe()}catch($e){console.error("Failed to create ticket",$e),alert("Failed to create ticket. Please try again.")}finally{b(!1)}}},_t=async()=>{if(!(!i||!W&&ve.length===0)){p(!0);try{await q.replyToTicket(i,W,"user",ve.map(re=>re.url)),ne(""),Re([]),await Oe()}catch(re){console.error("Failed to reply",re),alert("Failed to send reply. Please try again.")}finally{p(!1)}}},Ut=async()=>{if(i&&confirm("Are you sure you want to close this ticket?"))try{await q.closeTicket(i),await Oe()}catch(re){console.error("Failed to close ticket",re),alert("Failed to close ticket. Please try again.")}},ws=re=>{re.key==="Enter"&&!re.shiftKey&&(re.preventDefault(),_t())},ut=re=>{const $e={billing:"bg-yellow-100 text-yellow-700",technical:"bg-blue-100 text-blue-700",sales:"bg-green-100 text-green-700",general:"bg-gray-100 text-gray-600"};return $e[re||"general"]||$e.general},Ps=re=>{const $e={open:"bg-green-100 text-green-700","in-progress":"bg-blue-100 text-blue-700",closed:"bg-gray-200 text-gray-500"};return $e[re]||$e.open};return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12 h-[calc(100vh-140px)] flex flex-col",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mb-2 flex-shrink-0",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Helpdesk"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Support Tickets"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("a",{href:"/helpdesk",target:"_blank",rel:"noopener noreferrer",className:"border border-gray-200 text-gray-600 px-4 py-3 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors flex items-center gap-2 bg-white",children:[t.jsx(Hf,{size:14})," FAQ / Help"]}),t.jsxs("button",{onClick:()=>P(!0),className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(Or,{size:14})," New Ticket"]})]})]}),C&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-200 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50 sticky top-0 z-10",children:[t.jsx("h3",{className:"text-sm font-bold uppercase tracking-wide",children:"Create New Ticket"}),t.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-black",children:t.jsx(nn,{size:18})})]}),t.jsxs("form",{onSubmit:Ue,className:"p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Subject *"}),t.jsx("input",{value:D,onChange:re=>F(re.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Brief description of your issue",required:!0})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Category"}),t.jsxs("select",{value:k,onChange:re=>I(re.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",children:[t.jsx("option",{value:"general",children:"General"}),t.jsx("option",{value:"billing",children:"Billing"}),t.jsx("option",{value:"technical",children:"Technical"}),t.jsx("option",{value:"sales",children:"Sales"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Priority"}),t.jsxs("select",{value:Q,onChange:re=>_(re.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",children:[t.jsx("option",{value:"low",children:"Low - General Question"}),t.jsx("option",{value:"medium",children:"Medium - Technical Issue"}),t.jsx("option",{value:"high",children:"High - Urgent / Billing"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Related Project (Optional)"}),t.jsxs("select",{value:L,onChange:re=>M(re.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",children:[t.jsx("option",{value:"",children:"None"}),s.map(re=>t.jsx("option",{value:re.id,children:re.name},re.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Message *"}),t.jsx("textarea",{value:B,onChange:re=>$(re.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none h-32 resize-none",placeholder:"Describe your issue in detail...",required:!0})]}),V.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Attachments"}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:V.map((re,$e)=>t.jsxs("div",{className:"text-xs bg-gray-100 px-3 py-2 rounded-sm text-gray-600 flex items-center gap-2",children:[t.jsx(ef,{size:10})," ",re.filename,t.jsx("button",{type:"button",onClick:()=>R(V.filter((nt,Mt)=>Mt!==$e)),className:"text-gray-400 hover:text-red-500",children:t.jsx(nn,{size:12})})]},$e))})]}),t.jsx("input",{ref:_e,type:"file",className:"hidden",onChange:re=>je(re,!1),accept:"image/*,.pdf,.doc,.docx,.txt"}),t.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[t.jsxs("button",{type:"button",onClick:()=>{var re;return(re=_e.current)==null?void 0:re.click()},disabled:U,className:"flex items-center gap-2 text-xs font-bold text-gray-500 hover:text-[#ff4d00] uppercase tracking-wide disabled:opacity-50",children:[U?t.jsx(cs,{size:16,className:"animate-spin"}):t.jsx(jg,{size:16}),U?"Uploading...":"Attach File"]}),t.jsxs("button",{type:"submit",disabled:x||U,className:"bg-[#ff4d00] text-white px-8 py-3 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors flex items-center gap-2 disabled:opacity-50",children:[x?t.jsx(cs,{size:14,className:"animate-spin"}):t.jsx(Ud,{size:14}),x?"Creating...":"Submit Ticket"]})]})]})]})}),t.jsxs("div",{className:"flex-1 bg-white border border-gray-200 shadow-sm flex overflow-hidden",children:[t.jsxs("div",{className:`${Te?"hidden md:flex":"flex"} w-full md:w-1/3 border-r border-gray-200 flex-col`,children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 space-y-3",children:[t.jsx("div",{className:"flex bg-white border border-gray-200 rounded-sm overflow-hidden",children:["all","open","in-progress","closed"].map(re=>t.jsx("button",{onClick:()=>E(re),className:`flex-1 px-3 py-2 text-[10px] font-bold uppercase ${v===re?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:re==="all"?"All":re},re))}),t.jsxs("div",{className:"relative",children:[t.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),t.jsx("input",{value:S,onChange:re=>A(re.target.value),placeholder:"Search tickets...",className:"w-full bg-white border border-gray-200 pl-9 pr-4 py-2 text-xs font-bold outline-none focus:border-[#ff4d00]"})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:c?t.jsxs("div",{className:"p-8 text-center text-gray-400 text-sm flex items-center justify-center gap-2",children:[t.jsx(cs,{size:16,className:"animate-spin"})," Loading..."]}):rt.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:S||v!=="all"?"No tickets match your filters.":"No tickets found. Create one to get started."}):rt.map(re=>t.jsxs("div",{onClick:()=>l(re.id),className:`p-5 border-b border-gray-100 cursor-pointer transition-colors hover:bg-gray-50 group ${i===re.id?"bg-orange-50":""}`,children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${Ps(re.status)}`,children:re.status}),re.category&&t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${ut(re.category)}`,children:re.category})]}),t.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:re.date})]}),t.jsx("h4",{className:`text-sm font-bold mb-1 truncate ${i===re.id?"text-[#ff4d00]":"text-gray-900"}`,children:re.subject}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:re.lastMessage}),re.projectName&&t.jsxs("div",{className:"mt-2 text-[9px] font-bold text-gray-400 uppercase tracking-wide flex items-center gap-1",children:["Project: ",re.projectName]}),re.type==="chat"&&t.jsxs("div",{className:"mt-2 text-[9px] font-bold text-blue-500 uppercase tracking-wide flex items-center gap-1",children:[t.jsx(Dr,{size:10})," Live Chat Log"]})]},re.id))})]}),Te?t.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#fafafa]",children:[t.jsxs("div",{className:"bg-white p-6 border-b border-gray-200 shadow-sm flex justify-between items-start z-10",children:[t.jsxs("div",{children:[t.jsxs("button",{onClick:()=>l(null),className:"md:hidden text-gray-500 mb-2 flex items-center gap-1 text-xs font-bold uppercase",children:[t.jsx(xc,{className:"rotate-180",size:12})," Back"]}),t.jsx("h2",{className:"text-lg font-bold text-gray-900",children:Te.subject}),t.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-400",children:[t.jsxs("span",{className:"font-mono",children:["ID: ",Te.id]}),Te.projectName&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsxs("span",{children:["Project: ",Te.projectName]})]}),Te.category&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{className:`${ut(Te.category)} px-1.5 py-0.5 rounded-sm font-bold uppercase`,children:Te.category})]})]})]}),t.jsx("div",{className:"flex items-center gap-3",children:Te.status!=="closed"?t.jsxs("button",{onClick:Ut,className:"flex items-center gap-1 text-xs font-bold text-gray-500 hover:text-red-600 uppercase transition-colors",children:[t.jsx(Yl,{size:14})," Close Ticket"]}):t.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 uppercase",children:[t.jsx(Yl,{size:14})," Closed"]})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(pe=Te.messages)==null?void 0:pe.map(re=>{var $e,nt;return t.jsx("div",{className:`flex ${re.sender==="user"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[85%] ${re.sender==="user"?"items-end":"items-start"} flex flex-col`,children:[t.jsxs("div",{className:`p-4 shadow-sm text-sm leading-relaxed ${re.sender==="user"?"bg-black text-white rounded-l-lg rounded-tr-lg":"bg-white text-gray-900 border border-gray-200 rounded-r-lg rounded-tl-lg"}`,children:[re.text,((($e=re.attachments)==null?void 0:$e.length)||0)>0&&t.jsx("div",{className:"mt-3 pt-3 border-t border-white/20 space-y-1",children:(nt=re.attachments)==null?void 0:nt.map((Mt,Wn)=>t.jsxs("a",{href:Mt,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs opacity-80 bg-white/10 p-2 rounded-sm hover:bg-white/20 transition-colors",children:[t.jsx(ef,{size:12})," ",Mt.split("/").pop()]},Wn))})]}),t.jsxs("span",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase tracking-wide",children:[re.sender==="user"?"You":"Support Team","  ",re.date]})]})},re.id)}),t.jsx("div",{ref:ce})]}),Te.status!=="closed"&&t.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[ve.length>0&&t.jsx("div",{className:"flex gap-2 mb-2 flex-wrap",children:ve.map((re,$e)=>t.jsxs("div",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-sm flex items-center gap-1",children:[re.filename,t.jsx("button",{onClick:()=>Re(ve.filter((nt,Mt)=>Mt!==$e)),className:"text-gray-400 hover:text-red-500",children:t.jsx(nn,{size:12})})]},$e))}),t.jsx("input",{ref:K,type:"file",className:"hidden",onChange:re=>je(re,!0),accept:"image/*,.pdf,.doc,.docx,.txt"}),t.jsxs("div",{className:"flex gap-2 items-end",children:[t.jsx("button",{onClick:()=>{var re;return(re=K.current)==null?void 0:re.click()},disabled:Ae,className:"p-3 text-gray-400 hover:text-black transition-colors disabled:opacity-50",children:Ae?t.jsx(cs,{size:20,className:"animate-spin"}):t.jsx(ef,{size:20})}),t.jsx("textarea",{value:W,onChange:re=>ne(re.target.value),onKeyDown:ws,placeholder:"Type your reply...",className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] resize-none h-12 min-h-[48px] max-h-32 transition-colors"}),t.jsx("button",{onClick:_t,disabled:!W&&ve.length===0||f,className:"p-3 bg-[#ff4d00] text-white hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?t.jsx(cs,{size:20,className:"animate-spin"}):t.jsx(Ud,{size:20})})]})]})]}):t.jsxs("div",{className:"hidden md:flex flex-1 flex-col items-center justify-center text-gray-300 bg-gray-50/50",children:[t.jsx(Dr,{size:64,className:"mb-4 opacity-20"}),t.jsx("p",{className:"text-sm font-medium",children:"Select a ticket to view details"})]})]})]})},_i=({title:n,description:e,keywords:s,image:r,schema:i,type:l="website",noindex:c=!1})=>{const h=Hn(),f="https://traffic-creator.com",p=`${f}${h.pathname}`,x=`${f}/og-image.png`,b=r?r.startsWith("http")?r:`${f}${r}`:x;return t.jsxs(P5,{children:[t.jsx("title",{children:n}),t.jsx("meta",{name:"description",content:e}),s&&t.jsx("meta",{name:"keywords",content:s}),t.jsx("link",{rel:"canonical",href:p}),c?t.jsx("meta",{name:"robots",content:"noindex, nofollow"}):t.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),t.jsx("meta",{property:"og:type",content:l}),t.jsx("meta",{property:"og:url",content:p}),t.jsx("meta",{property:"og:title",content:n}),t.jsx("meta",{property:"og:description",content:e}),t.jsx("meta",{property:"og:image",content:b}),t.jsx("meta",{property:"og:site_name",content:"Traffic Creator"}),t.jsx("meta",{property:"og:locale",content:"en_US"}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:url",content:p}),t.jsx("meta",{name:"twitter:title",content:n}),t.jsx("meta",{name:"twitter:description",content:e}),t.jsx("meta",{name:"twitter:image",content:b}),i&&t.jsx("script",{type:"application/ld+json",children:JSON.stringify(i)})]})},C4=()=>{const[n,e]=w.useState(1),[s,r]=w.useState("monthly"),[i,l]=w.useState(null),[c,h]=w.useState(!1),[f,p]=w.useState("subscriptions"),[x,b]=w.useState("professional"),v={starter_monthly:"price_1T19GZJLE5bW6f8EPNVSoaGp",starter_yearly:"price_starter_yearly",professional_monthly:"price_professional_monthly",professional_yearly:"price_professional_yearly",agency_monthly:"price_agency_monthly",agency_yearly:"price_agency_yearly"},E=[{id:"starter",name:"Starter",subtitle:"Perfect for niche blogs",price:s==="monthly"?29:24,priceId:s==="monthly"?v.starter_monthly:v.starter_yearly,icon:t.jsx(Gt,{className:"text-gray-400",size:24}),features:["5,000 Monthly Visitors","5 Keywords Tracking","Geo-Targeting (Standard)","Desktop Traffic Only","Standard Proxy Pool"],color:"border-gray-200"},{id:"professional",name:"Professional",subtitle:"Best for growth-stage sites",price:s==="monthly"?79:64,priceId:s==="monthly"?v.professional_monthly:v.professional_yearly,icon:t.jsx(IO,{className:"text-[#ff4d00]",size:24}),features:["25,000 Monthly Visitors","20 Keywords Tracking","Geo-Targeting (Advanced)","Mobile + Desktop Traffic","Social & Referral Traffic","High-Retention Visits"],popular:!0,color:"border-[#ff4d00]"},{id:"agency",name:"Agency",subtitle:"Enterprise-grade throughput",price:s==="monthly"?249:199,priceId:s==="monthly"?v.agency_monthly:v.agency_yearly,icon:t.jsx(h4,{className:"text-purple-600",size:24}),features:["100,000 Monthly Visitors","Unlimited Keywords","Global Proxy Network","Residential Proxy Access","API Management","Dedicated Support Manager"],color:"border-purple-600"}],S=()=>t.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl font-black text-gray-900 uppercase tracking-tighter mb-4",children:"Why Choose Us?"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Compare our premium traffic against standard alternatives."})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-xl overflow-hidden mb-12",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[t.jsx("th",{className:"px-8 py-6 text-xs font-black uppercase tracking-widest text-gray-400",children:"Feature"}),t.jsx("th",{className:"px-8 py-6 text-xs font-black uppercase tracking-widest text-[#ff4d00]",children:"Traffic Bot OS"}),t.jsx("th",{className:"px-8 py-6 text-xs font-black uppercase tracking-widest text-gray-300",children:"Other Ad Networks"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:[{label:"Real Keyword Search",us:!0,them:!1},{label:"Residential Proxy Pool",us:!0,them:"Limited"},{label:"Bounce Rate Control",us:!0,them:!1},{label:"Human Interaction Emulation",us:!0,them:!1},{label:"GEO-Targeting Precision",us:"City Level",them:"Country Level"},{label:"SEO Authority Impact",us:"Direct Growth",them:"None / Risk"}].map((D,F)=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-8 py-5 text-sm font-bold text-gray-700",children:D.label}),t.jsx("td",{className:"px-8 py-5 text-sm font-black text-gray-900",children:typeof D.us=="boolean"?D.us?t.jsx(sn,{className:"text-green-500",size:18}):"No":D.us}),t.jsx("td",{className:"px-8 py-5 text-sm font-medium text-gray-400",children:typeof D.them=="boolean"?D.them?t.jsx(sn,{size:18}):"No":D.them})]},F))})]})}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("button",{onClick:()=>e(2),className:"group bg-black text-white px-12 py-5 text-xs font-black uppercase tracking-widest hover:bg-[#ff4d00] transition-all flex items-center gap-3 shadow-[0_10px_30px_rgba(0,0,0,0.1)] hover:shadow-[0_10px_30px_rgba(255,77,0,0.2)]",children:["View Plans & Pricing ",t.jsx(ds,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})})]}),A=()=>t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-500",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-4xl font-black text-gray-900 uppercase tracking-tighter mb-6",children:"Simple, Transparent Pricing"}),t.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[t.jsxs("button",{onClick:()=>p("subscriptions"),className:`px-8 py-3 text-xs font-black uppercase tracking-widest transition-all ${f==="subscriptions"?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(on,{size:14,className:"inline mr-2"}),"Subscriptions"]}),t.jsxs("button",{onClick:()=>p("credits"),className:`px-8 py-3 text-xs font-black uppercase tracking-widest transition-all ${f==="credits"?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(sw,{size:14,className:"inline mr-2"}),"Credit Packs"]})]}),f==="subscriptions"&&t.jsxs("div",{className:"inline-flex items-center p-1 bg-gray-100 rounded-sm border border-gray-200",children:[t.jsx("button",{onClick:()=>r("monthly"),className:`px-6 py-2 text-[10px] font-black uppercase tracking-widest transition-all ${s==="monthly"?"bg-white text-black shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Monthly"}),t.jsxs("button",{onClick:()=>r("yearly"),className:`px-6 py-2 text-[10px] font-black uppercase tracking-widest transition-all relative ${s==="yearly"?"bg-white text-black shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:["Yearly",t.jsx("span",{className:"absolute -top-4 -right-2 bg-green-500 text-white text-[8px] px-1.5 py-0.5 rounded-full font-black animate-bounce",children:"-20%"})]})]})]}),f==="subscriptions"?t.jsx(t.Fragment,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto mb-16",children:E.map(D=>t.jsxs("div",{className:`bg-white p-8 border-2 ${D.color} relative overflow-hidden transition-all hover:scale-[1.02] hover:shadow-2xl flex flex-col`,children:[D.popular&&t.jsx("div",{className:"absolute top-4 right-[-35px] bg-[#ff4d00] text-white text-[8px] font-black uppercase tracking-widest py-1.5 px-12 rotate-45",children:"Most Popular"}),t.jsxs("div",{className:"mb-8",children:[t.jsx("div",{className:"p-3 bg-gray-50 inline-block rounded-sm mb-4",children:D.icon}),t.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:D.name}),t.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-widest mt-1",children:D.subtitle})]}),t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsxs("span",{className:"text-4xl font-black text-gray-900",children:["",D.price]}),t.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest",children:"/ month"})]}),t.jsx("p",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-widest mt-1",children:s==="yearly"?"Billed annually":"Cancel anytime"})]}),t.jsx("ul",{className:"space-y-4 mb-10 flex-1",children:D.features.map((F,B)=>t.jsxs("li",{className:"flex items-start gap-3 text-xs font-medium text-gray-600",children:[t.jsx(sn,{className:"text-[#ff4d00] shrink-0",size:14}),t.jsx("span",{children:F})]},B))}),t.jsx("button",{onClick:()=>{l(D.id),e(3)},className:`w-full py-4 text-[10px] font-black uppercase tracking-widest transition-all ${D.popular?"bg-[#ff4d00] text-white hover:bg-black":"bg-black text-white hover:bg-[#ff4d00]"}`,children:"Get Started Now"})]},D.id))})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Lo.map(D=>t.jsxs("button",{onClick:()=>b(D.id),className:`px-6 py-3 text-xs font-black uppercase tracking-widest transition-all ${x===D.id?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${D.popular?"ring-2 ring-[#ff4d00]/30":""}`,children:[D.name,D.popular&&t.jsx("span",{className:"ml-2 text-[10px]",children:""})]},D.id))}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 max-w-6xl mx-auto mb-16",children:Gb.map((D,F)=>{var k;const B=((k=Kf[x][D])==null?void 0:k[1])||0,$=rw(x,D,1),Q=Lo.find(I=>I.id===x),_=D===5e5;return t.jsxs("div",{className:`bg-white p-6 border-2 ${_?"border-[#ff4d00] shadow-xl scale-105 relative":"border-gray-200"} flex flex-col`,children:[_&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-[#ff4d00] text-white text-[8px] font-black uppercase tracking-widest px-3 py-1 rounded-full",children:"Popular"}),t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:D>=1e6?`${D/1e6}M`:`${D/1e3}k`}),t.jsx("div",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-widest",children:"Visitors"})]}),t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{className:"text-3xl font-black text-gray-900",children:aw(B)}),t.jsxs("div",{className:"text-[9px] text-[#ff4d00] font-bold",children:[iw($),"/1k"]})]}),t.jsx("ul",{className:"space-y-2 mb-6 flex-1 text-[10px]",children:Q==null?void 0:Q.features.slice(0,2).map((I,L)=>t.jsxs("li",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx(sn,{size:10,className:"text-green-500"}),I]},L))}),t.jsx(Ve,{to:"/dashboard/buy-credits",className:`w-full py-3 text-[9px] font-black uppercase tracking-widest text-center ${_?"bg-[#ff4d00] text-white hover:bg-black":"bg-black text-white hover:bg-[#ff4d00]"}`,children:"Buy Now"})]},D)})}),t.jsx("div",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 rounded-2xl p-8 max-w-4xl mx-auto mb-8",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"Bulk Discounts"}),t.jsx("p",{className:"text-gray-400 text-sm",children:"Save up to 40% with multi-packs"})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"6x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-20%"})]}),t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"24x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-40%"})]})]})]})})]}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("button",{onClick:()=>e(1),className:"text-gray-400 hover:text-black text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[t.jsx($n,{size:14})," Back to Comparison"]})})]}),C=async()=>{if(!i)return;const D=E.find(F=>F.id===i);if(D){h(!0);try{const F=await q.createCheckoutSession(D.priceId);F.url&&(window.location.href=F.url)}catch(F){console.error("Checkout error:",F),alert("Failed to start checkout. Please try again.")}finally{h(!1)}}},P=()=>{const D=E.find(F=>F.id===i)||E[1];return t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-500 flex flex-col lg:flex-row gap-12 max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex-1 space-y-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tighter mb-2",children:"Customize Your Package"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Add premium features to boost your campaign performance."})]}),t.jsx("div",{className:"space-y-4",children:[{id:"proxies",label:"Residential Proxy Pool",price:15,icon:t.jsx(Mr,{size:18})},{id:"mobile",label:"Mobile Device Emulation",price:10,icon:t.jsx(Rs,{size:18})},{id:"referrers",label:"Custom Web Referrers",price:12,icon:t.jsx(Vr,{size:18})},{id:"keywords",label:"Extra Keyword Slots (+5)",price:9,icon:t.jsx(qn,{size:18})}].map(F=>t.jsxs("div",{className:"bg-white border border-gray-100 p-6 flex justify-between items-center group hover:border-[#ff4d00] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-gray-50 group-hover:bg-orange-50 group-hover:text-[#ff4d00] transition-colors",children:F.icon}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase tracking-tight",children:F.label}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Premium Add-on"})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("span",{className:"text-sm font-black text-gray-900",children:["+",F.price,"/mo"]}),t.jsx("div",{className:"w-5 h-5 border-2 border-gray-200 rounded-sm flex items-center justify-center"})]})]},F.id))})]}),t.jsxs("div",{className:"w-full lg:w-[400px]",children:[t.jsxs("div",{className:"bg-black text-white p-8 sticky top-8 rounded-sm overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00] opacity-10 translate-x-16 -translate-y-16 rotate-45"}),t.jsx("h3",{className:"text-xl font-black uppercase tracking-tighter mb-8 relative",children:"Order Summary"}),t.jsxs("div",{className:"space-y-6 mb-12 relative",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400 text-[10px] font-black uppercase tracking-widest",children:"Selected Plan"}),t.jsx("span",{className:"font-bold text-sm",children:D.name})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400 text-[10px] font-black uppercase tracking-widest",children:"Billing Cycle"}),t.jsx("span",{className:"font-bold text-sm",children:s==="yearly"?"Yearly (-20%)":"Monthly"})]}),t.jsxs("div",{className:"pt-6 border-t border-gray-800 flex justify-between items-center text-xl",children:[t.jsx("span",{className:"font-black uppercase tracking-tighter",children:"Total Due"}),t.jsxs("span",{className:"text-[#ff4d00] font-black",children:["",D.price,".00"]})]})]}),t.jsx("button",{onClick:C,disabled:c,className:"w-full bg-[#ff4d00] py-5 text-xs font-black uppercase tracking-widest hover:bg-white hover:text-black transition-all shadow-[0_20px_40px_rgba(255,77,0,0.3)] disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Processing...":"Complete Purchase"}),t.jsx("p",{className:"text-[9px] text-gray-500 font-bold text-center mt-6 uppercase tracking-widest",children:"Safe & Secure Checkout via Stripe"})]}),t.jsxs("button",{onClick:()=>e(2),className:"w-full mt-4 text-gray-400 hover:text-black text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 py-4 border border-transparent hover:border-gray-200 transition-all",children:[t.jsx($n,{size:14})," Back to Plans"]})]})]})};return t.jsx("div",{className:"min-h-screen bg-[#f3f4f6] py-20 px-6 font-sans",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx(_i,{title:"Pricing Plans 2024 - Scalable Website Traffic Packages | Traffic Creator",description:"Transparent pricing for 2024. Start with our flexible credit packs or choose a monthly agency plan. High-quality residential traffic starting at just 29.",keywords:"traffic creator pricing, buy website visitors, organic traffic cost, agency traffic reseller, seo traffic packages 2024",type:"product",schema:{"@context":"https://schema.org","@type":"Product",name:"Traffic Creator Traffic Packages",description:"High-quality, targeted website traffic for SEO and analytics improvement.",offers:{"@type":"AggregateOffer",lowPrice:"29.00",highPrice:"2999.00",priceCurrency:"EUR"}}}),t.jsx("div",{className:"flex justify-center mb-20",children:t.jsx("div",{className:"flex items-center gap-4",children:[1,2,3].map(D=>t.jsxs(Ke.Fragment,{children:[t.jsx("div",{className:`w-10 h-10 flex items-center justify-center text-xs font-black border-2 transition-all
                    ${n>=D?"border-[#ff4d00] text-[#ff4d00] bg-white":"border-gray-300 text-gray-300"}`,children:D}),D<3&&t.jsx("div",{className:`w-8 h-0.5 ${n>D?"bg-[#ff4d00]":"bg-gray-300"}`})]},D))})}),n===1&&S(),n===2&&A(),n===3&&P()]})})},I9=()=>{const[n,e]=w.useState(null),[s,r]=w.useState(null),[i,l]=w.useState([]),[c,h]=w.useState("all"),[f,p]=w.useState(!0),[x,b]=w.useState(!1);w.useEffect(()=>{v()},[]);const v=async()=>{try{const B=q.getCurrentUser();if(B){e(B),l(q.getTransactions());try{const $=await q.getCurrentSubscription();r($)}catch{}}}catch(B){console.error("Error loading data:",B)}finally{p(!1)}},E=async()=>{b(!0);try{const B=await q.createPortalSession();B.url&&(window.location.href=B.url)}catch(B){console.error("Error opening portal:",B),alert("Failed to open billing portal. Please try again.")}finally{b(!1)}},S=async B=>{try{const $=await fetch(`${window.location.origin}/users/me/invoices/${B}`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if($.ok){const Q=await $.text(),_=window.open("","_blank");_?(_.document.write(Q),_.document.close()):alert("Please allow popups to view invoices")}else alert("Invoice not available. Please try again later.")}catch{alert("Failed to load invoice")}},A=i.filter(B=>c==="all"?!0:B.type===c),C=B=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(B),P=B=>new Date(B).toLocaleDateString("de-DE",{day:"2-digit",month:"short",year:"numeric"}),D=B=>{switch(B){case"starter":return"bg-gray-500";case"professional":return"bg-[#ff4d00]";case"agency":return"bg-purple-600";default:return"bg-gray-500"}},F=B=>{switch(B){case"active":return"bg-green-500";case"past_due":return"bg-yellow-500";case"canceled":return"bg-red-500";default:return"bg-gray-500"}};return f?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(cs,{className:"animate-spin text-[#ff4d00]",size:32})}):t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-end gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Finance"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Billing & Payments"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 px-6 py-3 shadow-sm",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Wallet Balance"}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:C((n==null?void 0:n.balance)||0)})]}),t.jsxs("button",{onClick:()=>window.location.href="/dashboard/buy-credits",className:"bg-[#ff4d00] text-white px-6 py-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center gap-2",children:[t.jsx(qb,{size:14})," Top Up"]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Gt,{size:14,className:"text-[#ff4d00]"})," Current Subscription"]})}),t.jsx("div",{className:"p-6",children:s&&s.status!=="inactive"?t.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`px-4 py-2 text-white font-black text-sm uppercase ${D(s.plan)}`,children:s.plan||"Free"}),t.jsx("div",{className:`px-3 py-1 text-white text-xs font-bold uppercase ${F(s.status)}`,children:s.status}),s.current_period_end&&t.jsxs("span",{className:"text-xs text-gray-500",children:["Renews: ",new Date(s.current_period_end).toLocaleDateString()]})]}),t.jsxs("button",{onClick:E,disabled:x,className:"bg-black text-white px-6 py-2 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors disabled:opacity-50 flex items-center gap-2",children:[x&&t.jsx(cs,{className:"animate-spin",size:14}),"Manage Subscription"]})]}):t.jsxs("div",{className:"text-center py-6",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No active subscription"}),t.jsx("a",{href:"/pricing",className:"inline-block bg-[#ff4d00] text-white px-6 py-2 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"View Plans"})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(on,{size:14,className:"text-[#ff4d00]"})," Payment Methods"]})}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"bg-[#f9fafb] p-4 rounded-full",children:t.jsx(Mr,{size:24,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"Secure Payment Management"}),t.jsx("p",{className:"text-xs text-gray-500 max-w-md",children:"Manage your payment methods securely through our payment provider. Add, remove, or update cards anytime."})]})]}),t.jsxs("button",{onClick:E,disabled:x,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors disabled:opacity-50 flex items-center gap-2",children:[x&&t.jsx(cs,{className:"animate-spin",size:14}),t.jsx(on,{size:14})," Manage Payment Methods"]})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row justify-between md:items-center gap-4",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(vf,{size:14,className:"text-[#ff4d00]"})," Transaction History"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xu,{size:14,className:"text-gray-400"}),t.jsxs("select",{value:c,onChange:B=>h(B.target.value),className:"bg-gray-50 border border-gray-200 px-3 py-2 text-xs font-bold uppercase tracking-widest outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"all",children:"All Transactions"}),t.jsx("option",{value:"credit",children:"Credits Only"}),t.jsx("option",{value:"debit",children:"Debits Only"})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-center text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Invoice"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:A.length>0?A.map(B=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Wl,{size:12,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-700",children:P(B.date)})]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("span",{className:"text-xs font-bold text-gray-900",children:B.desc}),B.tier&&t.jsx("span",{className:"ml-2 text-[8px] font-black uppercase px-2 py-0.5 rounded bg-gray-100 text-gray-500",children:B.tier})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("span",{className:`inline-flex items-center gap-1 text-[9px] font-black uppercase tracking-wider px-2 py-1 rounded-sm ${B.type==="debit"?"bg-orange-50 text-[#ff4d00]":"bg-green-50 text-green-700"}`,children:[B.type==="debit"?t.jsx(t4,{size:10}):t.jsx(x3,{size:10}),B.type]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:`text-sm font-black ${B.type==="debit"?"text-gray-900":"text-green-600"}`,children:[B.type==="debit"?"-":"+",C(B.amount)]})}),t.jsx("td",{className:"px-6 py-4 text-center",children:t.jsxs("button",{onClick:()=>S(B.id),className:"inline-flex items-center gap-1 text-[9px] font-bold text-gray-400 hover:text-[#ff4d00] uppercase tracking-widest transition-colors",children:[t.jsx(xi,{size:12})," View"]})})]},B.id)):t.jsx("tr",{children:t.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400",children:[t.jsx(vf,{size:32,className:"mx-auto mb-3 opacity-50"}),t.jsx("p",{className:"text-sm font-bold",children:"No transactions found"})]})})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Total Spent"}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:C(i.filter(B=>B.type==="debit").reduce((B,$)=>B+$.amount,0))})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Total Top-ups"}),t.jsx("div",{className:"text-2xl font-black text-green-600",children:C(i.filter(B=>B.type!=="debit").reduce((B,$)=>B+$.amount,0))})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Transactions"}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:i.length})]})]})]})},qp=[{level:1,name:"Novice",xp_required:0,spend_required:0,bonus_hits:0,discount:0,color:"#9ca3af"},{level:2,name:"Rookie",xp_required:100,spend_required:10,bonus_hits:2e3,discount:0,color:"#6b7280"},{level:3,name:"Explorer",xp_required:250,spend_required:25,bonus_hits:3e3,discount:0,color:"#6b7280"},{level:4,name:"Starter",xp_required:500,spend_required:50,bonus_hits:5e3,discount:1,color:"#22c55e"},{level:5,name:"Builder",xp_required:1e3,spend_required:100,bonus_hits:8e3,discount:2,color:"#22c55e"},{level:6,name:"Achiever",xp_required:2e3,spend_required:200,bonus_hits:12e3,discount:2,color:"#22c55e"},{level:7,name:"Strategist",xp_required:3500,spend_required:350,bonus_hits:15e3,discount:3,color:"#3b82f6"},{level:8,name:"Professional",xp_required:5e3,spend_required:500,bonus_hits:2e4,discount:4,color:"#3b82f6"},{level:9,name:"Expert",xp_required:7500,spend_required:750,bonus_hits:3e4,discount:5,color:"#3b82f6"},{level:10,name:"Master",xp_required:1e4,spend_required:1e3,bonus_hits:4e4,discount:6,color:"#8b5cf6"},{level:11,name:"Veteran",xp_required:15e3,spend_required:1500,bonus_hits:5e4,discount:7,color:"#8b5cf6"},{level:12,name:"Champion",xp_required:2e4,spend_required:2e3,bonus_hits:6e4,discount:8,color:"#8b5cf6"},{level:13,name:"Elite",xp_required:3e4,spend_required:3e3,bonus_hits:8e4,discount:9,color:"#ec4899"},{level:14,name:"Premier",xp_required:4e4,spend_required:4e3,bonus_hits:1e5,discount:10,color:"#ec4899"},{level:15,name:"Supreme",xp_required:6e4,spend_required:6e3,bonus_hits:12e4,discount:11,color:"#ec4899"},{level:16,name:"Titan",xp_required:8e4,spend_required:8e3,bonus_hits:15e4,discount:12,color:"#f59e0b"},{level:17,name:"Legend",xp_required:12e4,spend_required:12e3,bonus_hits:18e4,discount:13,color:"#f59e0b"},{level:18,name:"Mythic",xp_required:18e4,spend_required:18e3,bonus_hits:22e4,discount:14,color:"#f59e0b"},{level:19,name:"Immortal",xp_required:25e4,spend_required:25e3,bonus_hits:28e4,discount:15,color:"#ef4444"},{level:20,name:"Apex",xp_required:5e5,spend_required:5e4,bonus_hits:5e5,discount:20,color:"#ff4d00"}],R9=[{days:"1-2",hits:1e3},{days:"3-4",hits:2e3},{days:"5-6",hits:3e3},{days:"7",hits:1e4,milestone:!0},{days:"8-13",hits:1e4},{days:"14",hits:15e3,milestone:!0},{days:"15-29",hits:15e3},{days:"30+",hits:2e4,milestone:!0}],P9=[{action:"1 Spent",xp:10,icon:t.jsx(on,{size:24,className:"text-[#ff4d00]"})},{action:"Daily Login",xp:5,icon:t.jsx(xM,{size:24,className:"text-[#ff4d00]"})},{action:"Create Project",xp:20,icon:t.jsx(kD,{size:24,className:"text-[#ff4d00]"})},{action:"7-Day Streak",xp:50,icon:t.jsx(Co,{size:24,className:"text-[#ff4d00]"})},{action:"Referral Payout",xp:100,icon:t.jsx(Vr,{size:24,className:"text-[#ff4d00]"})}],D9=()=>{var F,B,$,Q;const[n,e]=w.useState(null),[s,r]=w.useState(!0),[i,l]=w.useState(!1),[c,h]=w.useState(!1),[f,p]=w.useState(null),[x,b]=w.useState(!1),[v,E]=w.useState(!0);w.useEffect(()=>{S()},[]);const S=async()=>{try{const _=await fetch(`${window.location.origin}/users/me/gamification`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(_.ok){const I=await _.json();e(I)}const k=await fetch(`${window.location.origin}/users/me/streak`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(k.ok){const I=await k.json();E(I.can_claim_today)}}catch(_){console.error("Failed to fetch gamification data:",_)}finally{r(!1)}},A=async()=>{if(!i){l(!0);try{const _=await fetch(`${window.location.origin}/users/me/claim-level-bonus`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`,"Content-Type":"application/json"}});if(_.ok){const k=await _.json();alert(k.message),S()}else{const k=await _.json();alert(k.detail||"Failed to claim bonus")}}catch{alert("Failed to claim bonus")}finally{l(!1)}}},C=async()=>{if(!(c||!v)){h(!0);try{const k=await(await fetch(`${window.location.origin}/users/me/daily-bonus`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`,"Content-Type":"application/json"}})).json();p(k),b(!0),k.success&&(E(!1),S())}catch(_){console.error("Failed to claim daily bonus:",_)}finally{h(!1)}}};if(s)return t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-[#ff4d00] border-t-transparent rounded-full"})});const P=qp[n!=null&&n.level?n.level-1:0]||qp[0],D=n!=null&&n.xp_to_next?Math.round(n.xp/(n.xp+n.xp_to_next)*100):100;return t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-end gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Rewards Program"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Gamification"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 px-6 py-3 shadow-sm text-center",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Total XP"}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:((F=n==null?void 0:n.xp)==null?void 0:F.toLocaleString())||0})]}),t.jsxs("div",{className:"bg-[#ff4d00] text-white px-6 py-4 shadow-sm text-center",children:[t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest mb-1 opacity-80",children:"Your Discount"}),t.jsxs("div",{className:"text-2xl font-black",children:[(n==null?void 0:n.discount_percent)||0,"% OFF"]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Lr,{size:14,className:"text-[#ff4d00]"})," Your Progress"]})}),t.jsxs("div",{className:"p-8 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#ff4d00] opacity-5 rounded-full -mr-32 -mt-32 blur-3xl"}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center gap-8",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"w-32 h-32 rounded-full flex items-center justify-center text-white font-black text-3xl",style:{backgroundColor:P.color},children:["Lv",(n==null?void 0:n.level)||1]}),t.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-white border border-gray-200 px-3 py-1 text-[10px] font-black uppercase tracking-widest rounded-full shadow-sm",children:P.name})]}),t.jsxs("div",{className:"flex-1 w-full",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("span",{className:"text-xs font-bold text-gray-500",children:[((B=n==null?void 0:n.xp)==null?void 0:B.toLocaleString())||0," XP"]}),t.jsxs("span",{className:"text-xs font-bold text-[#ff4d00]",children:[D,"%"]})]}),t.jsx("div",{className:"w-full bg-gray-100 h-4 rounded-full overflow-hidden shadow-inner",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-[#ff4d00] to-[#ff8c00] transition-all duration-1000 rounded-full",style:{width:`${D}%`}})}),t.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[t.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:["Next: ",(($=qp[Math.min((n==null?void 0:n.level)||1,19)])==null?void 0:$.name)||"Apex"]}),t.jsxs("span",{className:"text-[10px] font-bold text-gray-400",children:[((Q=n==null?void 0:n.xp_to_next)==null?void 0:Q.toLocaleString())||0," XP needed"]})]}),(n==null?void 0:n.pending_bonus_hits)&&n.pending_bonus_hits>0&&!n.pending_bonus_claimed&&t.jsxs("button",{onClick:A,disabled:i,className:"mt-4 w-full bg-[#ff4d00] text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-black transition-colors rounded-sm flex items-center justify-center gap-2 disabled:opacity-70",children:[t.jsx(tx,{size:14})," ",i?"Claiming...":`Claim Level ${n.level} Bonus: +${n.pending_bonus_hits.toLocaleString()} Hits`]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a1a] to-black text-white p-8 shadow-2xl relative overflow-hidden rounded-lg border border-gray-800",children:[t.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-[#ff4d00] opacity-10 rounded-full -mr-24 -mt-24 blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-[#ff4d00] opacity-5 rounded-full -ml-16 -mb-16 blur-2xl"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest flex items-center gap-3 text-gray-300",children:[t.jsx(Oa,{size:18,className:"text-[#ff4d00]"})," Daily Rewards"]}),v&&t.jsx("span",{className:"bg-[#ff4d00] text-white text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full animate-pulse shadow-[0_0_15px_rgba(255,77,0,0.5)]",children:"Ready to Claim"})]}),t.jsxs("div",{className:"flex items-end gap-4 mb-6",children:[t.jsx("div",{className:"text-5xl font-black text-white leading-none",children:(n==null?void 0:n.streak_days)||0}),t.jsxs("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-1 flex items-center gap-2",children:["Day Streak ",t.jsx(Co,{size:14,className:"text-[#ff4d00]"})]})]}),t.jsxs("div",{className:"bg-black/30 p-4 rounded-lg mb-6 backdrop-blur-sm border border-white/5",children:[t.jsx("div",{className:"flex gap-2 mb-2",children:[1,2,3,4,5,6,7].map(_=>{const k=((n==null?void 0:n.streak_days)||0)%7>=_||((n==null?void 0:n.streak_days)||0)>=7&&_<=7,I=((n==null?void 0:n.streak_days)||0)%7===_-1&&v;return t.jsx("div",{className:`flex-1 h-3 rounded-full transition-all duration-300 ${k?"bg-gradient-to-r from-[#ff4d00] to-[#ff8c00] shadow-[0_0_10px_rgba(255,77,0,0.3)]":"bg-gray-800"} ${I?"animate-pulse ring-2 ring-[#ff4d00] ring-offset-2 ring-offset-black":""}`},_)})}),t.jsxs("div",{className:"flex justify-between text-[10px] uppercase font-bold text-gray-500 mt-2 px-1",children:[t.jsx("span",{children:"Day 1"}),t.jsx("span",{children:"Day 7 (Bonus)"})]})]}),t.jsxs("button",{onClick:C,disabled:!v||c,className:`w-full py-4 text-sm font-black uppercase tracking-widest transition-all duration-300 rounded flex items-center justify-center gap-3 shadow-lg ${v?"bg-gradient-to-r from-[#ff4d00] to-[#ff6b00] hover:from-[#ff3300] hover:to-[#ff5500] text-white shadow-[#ff4d00]/20 transform hover:-translate-y-1":"bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700"}`,children:[t.jsx(Oa,{size:18,className:v?"animate-bounce":""}),c?"Claiming Reward...":v?"Claim Daily Bonus":"Come Back Tomorrow"]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2 mb-4",children:[t.jsx(Co,{size:14,className:"text-[#ff4d00]"})," Streak Rewards"]}),t.jsx("div",{className:"space-y-3",children:R9.map((_,k)=>t.jsxs("div",{className:`flex items-center justify-between p-3 rounded-sm ${_.milestone?"bg-[#ff4d00]/5 border border-[#ff4d00]/20":"bg-gray-50"}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[_.milestone&&t.jsx($l,{size:14,className:"text-[#ff4d00]"}),t.jsxs("span",{className:"text-xs font-bold text-gray-700",children:["Day ",_.days]})]}),t.jsxs("span",{className:"text-xs font-black text-[#ff4d00]",children:["+",_.hits.toLocaleString()," Hits"]})]},k))}),t.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-sm",children:t.jsxs("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:["Best Streak: ",t.jsxs("span",{className:"text-gray-900",children:[(n==null?void 0:n.streak_best)||0," Days"]})]})})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx($l,{size:14,className:"text-[#ff4d00]"})," All 20 Levels"]})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Level"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Name"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Required"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Bonus Hits"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Discount"}),t.jsx("th",{className:"px-6 py-4 text-center text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:qp.map(_=>{const k=(n==null?void 0:n.level)===_.level,I=((n==null?void 0:n.level)||1)>=_.level;return t.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${k?"bg-[#ff4d00]/5":""}`,children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-black",style:{backgroundColor:_.color},children:_.level})})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"text-xs font-bold text-gray-900",children:_.name})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"text-xs text-gray-500",children:[t.jsxs("span",{className:"font-bold",children:[_.xp_required.toLocaleString()," XP"]}),t.jsxs("span",{className:"text-gray-400 ml-2",children:["or ",_.spend_required.toLocaleString()]})]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("span",{className:`text-xs font-black ${_.bonus_hits>0?"text-green-600":"text-gray-400"}`,children:_.bonus_hits>0?`+${_.bonus_hits.toLocaleString()}`:"-"})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("span",{className:`text-xs font-black ${_.discount>0?"text-[#ff4d00]":"text-gray-400"}`,children:_.discount>0?`${_.discount}%`:"-"})}),t.jsx("td",{className:"px-6 py-4 text-center",children:k?t.jsxs("span",{className:"inline-flex items-center gap-1 bg-[#ff4d00] text-white text-[8px] font-black uppercase tracking-widest px-2 py-1 rounded-full",children:[t.jsx(Lr,{size:10})," Current"]}):I?t.jsxs("span",{className:"inline-flex items-center gap-1 bg-green-100 text-green-700 text-[8px] font-black uppercase tracking-widest px-2 py-1 rounded-full",children:[t.jsx(Yl,{size:10})," Unlocked"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 bg-gray-100 text-gray-400 text-[8px] font-black uppercase tracking-widest px-2 py-1 rounded-full",children:[t.jsx(Vn,{size:10})," Locked"]})})]},_.level)})})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2 mb-6",children:[t.jsx(Zl,{size:14,className:"text-[#ff4d00]"})," How to Earn XP"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:P9.map((_,k)=>t.jsxs("div",{className:"bg-white border border-gray-100 p-6 text-center rounded-lg shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1 group",children:[t.jsx("div",{className:"flex justify-center mb-4 transform group-hover:scale-110 transition-transform duration-300",children:t.jsx("div",{className:"p-3 bg-gray-50 rounded-full group-hover:bg-[#ff4d00]/10 transition-colors",children:_.icon})}),t.jsx("div",{className:"text-xs font-black text-gray-900 uppercase tracking-wide mb-1",children:_.action}),t.jsxs("div",{className:"text-base font-black text-[#ff4d00]",children:["+",_.xp," XP"]})]},k))})]}),x&&f&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 animate-in fade-in duration-300 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-in zoom-in-95 duration-300 relative",children:[t.jsx("div",{className:"absolute top-0 w-full h-2 bg-gradient-to-r from-[#ff4d00] to-[#ff8c00]"}),t.jsxs("div",{className:"p-8 pb-0 text-center relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-gray-50 to-white -z-10"}),t.jsx("div",{className:"inline-flex p-4 rounded-full bg-[#ff4d00]/10 mb-4 animate-bounce",children:t.jsx(Oa,{size:48,className:"text-[#ff4d00]"})}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight mb-2",children:f.success?"Bonus Unlocked!":"Already Claimed"}),f.success?t.jsx("p",{className:"text-gray-500 font-medium",children:"Keep your streak alive for bigger rewards!"}):t.jsx("p",{className:"text-gray-500 font-medium",children:f.message})]}),t.jsx("div",{className:"p-8 text-center",children:f.success&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col items-center justify-center py-6 bg-gradient-to-br from-gray-900 to-black text-white rounded-lg mb-6 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute inset-0 bg-[#ff4d00] opacity-10 blur-xl group-hover:opacity-20 transition-opacity"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("p",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-1",children:"You Received"}),t.jsxs("p",{className:"text-5xl font-black text-[#ff4d00] mb-1",children:["+",f.hits.toLocaleString()]}),t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Economy Hits"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Current Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900 flex justify-center items-center gap-1",children:[f.streak_days," ",t.jsx(Co,{size:16,className:"text-[#ff4d00]"})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Best Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900 flex justify-center items-center gap-1",children:[f.streak_best," ",t.jsx($l,{size:16,className:"text-[#fbbf24]"})]})]})]})]})}),t.jsx("div",{className:"px-8 pb-8",children:t.jsx("button",{onClick:()=>b(!1),className:"w-full bg-[#ff4d00] text-white py-4 text-sm font-black uppercase tracking-widest hover:bg-black transition-all duration-300 rounded shadow-lg shadow-[#ff4d00]/20 hover:shadow-xl transform hover:-translate-y-0.5",children:"Continue"})})]})})]})},O9=()=>{const n=Vs(),[e]=Zg(),[s,r]=w.useState(!0),[i,l]=w.useState(null),[c,h]=w.useState(null);w.useEffect(()=>{(async()=>{try{const b=e.get("type"),v=e.get("session_id"),E=e.get("amount"),S=e.get("plan"),A=e.get("credits");if(!b){h("Invalid payment confirmation"),r(!1);return}const P=new Date().toLocaleDateString("de-DE",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});if(l(b==="subscription"?{type:"subscription",planName:S||"Professional Plan",date:P,sessionId:v||void 0}:{type:"credits",amount:E?parseFloat(E):void 0,credits:A?parseInt(A):void 0,date:P,sessionId:v||void 0}),window.history.replaceState){const D=window.location.pathname;window.history.replaceState({},document.title,D)}}catch(b){console.error("Error loading payment details:",b),h("Failed to load payment details")}finally{r(!1)}})()},[e]);const f=x=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(x),p=()=>{i!=null&&i.sessionId?window.open(`https://billing.stripe.com/p/session/${i.sessionId}`,"_blank"):n("/dashboard/billing")};return s?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(cs,{className:"animate-spin text-[#ff4d00]",size:32})}):c||!i?t.jsx("div",{className:"max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(on,{size:32,className:"text-red-500"})}),t.jsx("h1",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight mb-3",children:"Payment Information Unavailable"}),t.jsx("p",{className:"text-gray-500 mb-8",children:c||"We could not retrieve your payment details."}),t.jsx("button",{onClick:()=>n("/dashboard"),className:"bg-[#ff4d00] text-white px-8 py-3 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Go to Dashboard"})]})}):t.jsxs("div",{className:"max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500 pb-12",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-8 text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 animate-in zoom-in duration-300",children:t.jsx(bt,{size:40,className:"text-green-500"})}),t.jsx("h1",{className:"text-3xl font-black text-white uppercase tracking-tight mb-2",children:"Payment Successful"}),t.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Thank you for your purchase"})]}),t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"bg-gray-50 border border-gray-100 p-6 mb-8",children:[t.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-400 mb-4",children:"Transaction Details"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-2",children:[t.jsx(on,{size:14})," Type"]}),t.jsx("span",{className:"text-sm font-bold text-gray-900 uppercase",children:i.type==="subscription"?"Subscription":"Credits Purchase"})]}),i.type==="subscription"&&i.planName&&t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Plan"}),t.jsx("span",{className:"text-sm font-black text-[#ff4d00] uppercase",children:i.planName})]}),i.type==="credits"&&i.amount&&t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),t.jsx("span",{className:"text-sm font-black text-gray-900",children:f(i.amount)})]}),i.type==="credits"&&i.credits&&t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Traffic Credits"}),t.jsxs("span",{className:"text-sm font-bold text-green-600",children:["+",i.credits.toLocaleString()," hits"]})]}),t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-2",children:[t.jsx(Wl,{size:14})," Date"]}),t.jsx("span",{className:"text-sm font-bold text-gray-900",children:i.date})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("button",{onClick:p,className:"flex-1 flex items-center justify-center gap-2 bg-white border-2 border-gray-200 text-gray-900 py-4 text-xs font-bold uppercase tracking-widest hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors",children:[t.jsx(d4,{size:14})," View Receipt"]}),t.jsxs(Ve,{to:"/dashboard/billing",className:"flex-1 flex items-center justify-center gap-2 bg-black text-white py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors",children:["View Billing ",t.jsx(ds,{size:14})]})]})]})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(Ve,{to:"/dashboard/campaigns/new",className:"inline-flex items-center gap-2 text-[#ff4d00] text-sm font-bold hover:text-black transition-colors",children:["Start a new campaign ",t.jsx(ds,{size:14})]})})]})},M9=({onLogout:n})=>{var C,P;const[e,s]=w.useState(!1),r=Vs(),l=Hn().pathname.replace("/dashboard","").substring(1)||"home",[c,h]=w.useState([]),[f,p]=w.useState(0),[x,b]=w.useState(!0);w.useEffect(()=>{q.init(),(async()=>{await q.syncProjects(),h(q.getProjects()),p(q.getBalance()),b(!1)})()},[]);const v=()=>{h(q.getProjects()),p(q.getBalance())},E=D=>{r(D===""?"/dashboard/campaigns":`/dashboard/campaigns/${D}`),window.scrollTo(0,0)},S=[{title:"Main",items:[{label:"Dashboard",id:"home",path:"/dashboard",icon:t.jsx(o4,{size:18})},{label:"Campaigns",id:"campaigns",path:"/dashboard/campaigns",icon:t.jsx(oa,{size:18}),active:l.startsWith("campaigns")}]},{title:"Finance",items:[{label:"Billing",id:"billing",path:"/dashboard/billing",icon:t.jsx(d4,{size:18})},{label:"Buy Credits",id:"buy-credits",path:"/dashboard/buy-credits",icon:t.jsx(on,{size:18})},{label:"Balance",id:"balance",path:"/dashboard/balance",icon:t.jsx(S3,{size:18})}]},{title:"Account",items:[{label:"Gamification",id:"gamification",path:"/dashboard/gamification",icon:t.jsx(Lr,{size:18})},{label:"Support Tickets",id:"support",path:"/dashboard/support",icon:t.jsx(eD,{size:18})},{label:"Profile",id:"profile",path:"/dashboard/profile",icon:t.jsx(Fn,{size:18})},{label:"Affiliate",id:"affiliate",path:"/dashboard/affiliate",icon:t.jsx(tw,{size:18})}]}],A=()=>l==="home"||l===""?"Dashboard":l.startsWith("campaigns")?"Campaigns":l==="billing"?"Billing & Payments":l==="buy-credits"?"Wallet Top-Up":l==="gamification"?"Gamification":l==="profile"?"My Profile":l==="balance"?"Balance":l==="affiliate"?"Affiliate Program":l==="support"?"Support Helpdesk":l==="payment-success"?"Payment Successful":l.replace(/-/g," ");return x?t.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-gray-400 animate-pulse bg-[#f3f4f6]",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-200 mb-4 rounded-sm"}),t.jsx("div",{className:"text-xs font-bold uppercase tracking-widest",children:"Loading Database..."})]}):t.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen flex font-sans text-gray-900",children:[t.jsx(m4,{menuSections:S,currentView:l.startsWith("campaigns")?"campaigns":l===""?"home":l,onNavigate:D=>{const B=S.flatMap($=>$.items).find($=>$.id===D);B!=null&&B.path?r(B.path):r("/dashboard"),s(!1),window.scrollTo(0,0)},onLogout:n}),e&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-40 md:hidden backdrop-blur-sm",onClick:()=>s(!1),children:t.jsxs("div",{className:"bg-[#111] text-white w-72 h-full overflow-y-auto shadow-2xl",onClick:D=>D.stopPropagation(),children:[t.jsxs("div",{className:"p-8 pb-8 flex items-center gap-3 border-b border-gray-800",children:[t.jsx("div",{className:"w-8 h-8 bg-[#ff4d00] flex items-center justify-center",children:t.jsx("span",{className:"font-black text-black",children:"T"})}),t.jsx("span",{className:"text-xl font-black tracking-tighter",children:"TRAFFIC BOT"})]}),S.map((D,F)=>t.jsx("div",{className:"py-6 border-b border-gray-900",children:t.jsx("ul",{children:D.items.map(B=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>{r(B.path||"/dashboard"),s(!1)},className:`w-full text-left px-8 py-3 text-xs font-bold uppercase tracking-wider flex items-center gap-3
                                        ${l===B.id?"text-[#ff4d00] bg-gray-900":"text-gray-400"}`,children:[B.icon,B.label]})},B.id))})},F))]})}),t.jsxs("main",{className:"flex-1 md:ml-64 flex flex-col min-h-screen relative",children:[t.jsx(EM,{}),!((C=q.getCurrentUser())!=null&&C.isVerified)&&((P=q.getCurrentUser())==null?void 0:P.email)&&t.jsx(CM,{email:q.getCurrentUser().email,onVerified:()=>{const D=q.getCurrentUser();D&&(D.isVerified=!0,localStorage.setItem("modus_current_user",JSON.stringify(D)))}}),localStorage.getItem("tgp_admin_token")&&t.jsxs("div",{className:"bg-red-600 text-white px-6 py-3 flex items-center justify-between shadow-lg relative z-50",children:[t.jsxs("div",{className:"flex items-center gap-2 font-bold text-sm uppercase tracking-wide",children:[t.jsx(Fn,{size:18}),t.jsx("span",{children:"Viewing as User Mode"})]}),t.jsx("button",{onClick:async()=>{try{await q.stopImpersonation(),window.location.href="/admin"}catch{alert("Failed to return to admin")}},className:"bg-white text-red-600 px-4 py-1.5 rounded text-xs font-bold uppercase hover:bg-red-50",children:"Return to Admin"})]}),t.jsx(p4,{title:A(),onMobileMenuClick:()=>s(!0)}),t.jsx("div",{className:"flex-1 p-6 md:p-12 overflow-y-auto relative",children:t.jsx("div",{className:"max-w-screen-2xl mx-auto",children:t.jsxs(Yv,{children:[t.jsx(Be,{path:"/",element:t.jsx(C9,{projects:c,balance:f,onNavigateToProject:E,onNavigateToBuyCredits:()=>r("/dashboard/buy-credits"),onNavigateToSupport:()=>r("/dashboard/support")})}),t.jsx(Be,{path:"/campaigns",element:t.jsx(AM,{projects:c,onUpdate:v,onNavigateToProject:E,onAddProject:()=>r("/dashboard/campaigns/new")})}),t.jsx(Be,{path:"/campaigns/new",element:t.jsx(VM,{onBack:()=>r("/dashboard/campaigns"),onCreated:v})}),t.jsx(Be,{path:"/campaigns/:projectId",element:t.jsx(L9,{onUpdate:v})}),t.jsx(Be,{path:"/buy-credits",element:t.jsx(N9,{onBack:()=>r("/dashboard"),onPurchase:v})}),t.jsx(Be,{path:"/billing",element:t.jsx(I9,{})}),t.jsx(Be,{path:"/gamification",element:t.jsx(D9,{})}),t.jsx(Be,{path:"/profile",element:t.jsx(_9,{})}),t.jsx(Be,{path:"/balance",element:t.jsx(S9,{})}),t.jsx(Be,{path:"/pricing",element:t.jsx(C4,{})}),t.jsx(Be,{path:"/affiliate",element:t.jsx(T9,{})}),t.jsx(Be,{path:"/support",element:t.jsx(A9,{})}),t.jsx(Be,{path:"/payment-success",element:t.jsx(O9,{})}),t.jsx(Be,{path:"*",element:t.jsx(ea,{to:"/dashboard",replace:!0})})]})})}),t.jsx("footer",{className:"px-12 py-8 border-t border-gray-200 mt-auto bg-white",children:t.jsxs("div",{className:"max-w-screen-2xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[t.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-[10px] font-bold uppercase tracking-widest text-gray-400",children:[t.jsx(Ve,{to:"/helpdesk",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Helpdesk"}),t.jsx(Ve,{to:"/legal/refund",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Refund Policy"}),t.jsx(Ve,{to:"/legal/delivery",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Delivery Policy"}),t.jsx(Ve,{to:"/legal/privacy",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Privacy Policy"}),t.jsx(Ve,{to:"/legal/terms",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Terms of Service"}),t.jsx(Ve,{to:"/legal/agb",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"AGB"}),t.jsx(Ve,{to:"/legal/impressum",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Impressum"})]}),t.jsx("div",{className:"text-[10px] font-medium text-gray-400",children:" 2024 EasyTrafficBot UG"})]})})]})]})},L9=({onUpdate:n})=>{const{projectId:e}=Ad(),s=Vs();return e?t.jsx(OM,{projectId:e,onBack:()=>s("/dashboard/campaigns"),onUpdate:n}):t.jsx("div",{children:"Invalid Project ID"})},V9=window.location.origin,ow=({onSuccess:n})=>{const e=Vs(),[s,r]=w.useState(""),[i,l]=w.useState(""),[c,h]=w.useState(""),[f,p]=w.useState(5e3),[x,b]=w.useState(40),[v,E]=w.useState(30),[S,A]=w.useState(!1),[C,P]=w.useState(""),[D,F]=w.useState(!1),B=_=>{if(_<60)return`${_} seconds`;const k=Math.floor(_/60),I=_%60;return I>0?`${k}m ${I}s`:`${k} minute${k>1?"s":""}`},$=()=>!s||!s.includes("@")?(P("Please enter a valid email address"),!1):!i||i.length<3?(P("Project name must be at least 3 characters"),!1):!c||!c.startsWith("http://")&&!c.startsWith("https://")?(P("Please enter a valid URL starting with http:// or https://"),!1):!0,Q=async _=>{if(_.preventDefault(),P(""),!!$()){A(!0);try{const k={desktop:60,mobile:30,tablet:10},I=await fetch(`${V9}/quick-campaign`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,project_name:i,target_url:c,total_visitors:f,settings:{bounce_rate:x,time_on_page:B(v),device_split:k}})});if(!I.ok){const L=await I.json();throw new Error(L.detail||"Failed to create campaign")}F(!0),setTimeout(()=>{e("/dashboard"),n&&n()},2e3)}catch(k){P(k.message||"Something went wrong. Please try again.")}finally{A(!1)}}};return D?t.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:t.jsx(bt,{className:"w-10 h-10 text-white"})}),t.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-3",children:"Campaign Started!"}),t.jsxs("p",{className:"text-gray-600",children:["Your ",t.jsx("span",{className:"font-bold text-[#ff4d00]",children:f.toLocaleString()})," visitor campaign is running."]})]}):t.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative rounded-3xl overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ff4d00] to-[#e04400] z-0"}),t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 z-0 mix-blend-overlay"}),t.jsx("div",{className:"absolute -top-20 -right-20 w-96 h-96 bg-white opacity-10 rounded-full blur-3xl z-0"}),t.jsx("div",{className:"absolute -bottom-20 -left-20 w-96 h-96 bg-black opacity-10 rounded-full blur-3xl z-0"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"text-center mb-10 text-white",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md border border-white/30 px-4 py-2 text-xs font-bold uppercase tracking-widest mb-4 rounded-full shadow-sm",children:[t.jsx(Gt,{size:14,className:"fill-white text-white"})," Free Traffic Campaign"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-4 drop-shadow-sm",children:["Get ",t.jsx("span",{className:"text-white underline decoration-white/30 decoration-4 underline-offset-4",children:"Real Visitors"})," Today"]}),t.jsx("p",{className:"text-xl font-medium text-white/90 max-w-2xl mx-auto",children:"Drive up to 10,000 visitors in 24 hours. No credit card required."})]}),t.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[t.jsx("div",{className:"lg:col-span-3",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden transform transition-all hover:scale-[1.01] duration-500",children:[t.jsxs("div",{className:"bg-gradient-to-r from-[#ff4d00] to-[#e04400] px-8 py-5 flex items-center gap-4 border-b border-white/10",children:[t.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center shrink-0 shadow-inner",children:t.jsx(xD,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-bold uppercase tracking-wide text-sm",children:"Quick Campaign"}),t.jsx("p",{className:"text-white/80 text-xs",children:"Fill in the details below"})]})]}),t.jsxs("form",{onSubmit:Q,className:"p-8 space-y-6",children:[C&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3 animate-in fade-in slide-in-from-top-2",children:[t.jsx(Oo,{className:"text-red-500 shrink-0",size:20}),t.jsx("span",{className:"text-red-700 text-sm font-bold",children:C})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Email"}),t.jsxs("div",{className:"relative group",children:[t.jsx("input",{type:"email",value:s,onChange:_=>r(_.target.value),placeholder:"you@example.com",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none pl-11 shadow-sm"}),t.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#ff4d00] transition-colors",children:t.jsx(Vr,{size:16})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Project Name"}),t.jsx("input",{type:"text",value:i,onChange:_=>l(_.target.value),placeholder:"My Campaign",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none shadow-sm"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Target Website URL"}),t.jsxs("div",{className:"relative group",children:[t.jsx("input",{type:"url",value:c,onChange:_=>h(_.target.value),placeholder:"https://yourwebsite.com",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 pl-11 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none shadow-sm"}),t.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#ff4d00] transition-colors",children:t.jsx(Rs,{size:16})})]})]}),t.jsxs("div",{className:"bg-gray-50/80 rounded-xl p-6 space-y-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:[t.jsx(Ni,{size:12})," Campaign Settings"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:"Visitors"}),t.jsx("span",{className:"text-lg font-black text-[#ff4d00] bg-white px-2 py-0.5 rounded shadow-sm border border-gray-100",children:f.toLocaleString()})]}),t.jsx("input",{type:"range",min:"1000",max:"10000",step:"500",value:f,onChange:_=>p(parseInt(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-full appearance-none cursor-pointer accent-[#ff4d00] hover:accent-black transition-all"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Bounce Rate"}),t.jsxs("span",{className:"text-sm font-black text-gray-900",children:[x,"%"]})]}),t.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:x,onChange:_=>b(parseInt(_.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-full appearance-none cursor-pointer accent-gray-900 hover:accent-[#ff4d00] transition-all"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Time on Page"}),t.jsx("span",{className:"text-sm font-black text-gray-900",children:v<60?`${v}s`:`${Math.floor(v/60)}m ${v%60}s`})]}),t.jsx("input",{type:"range",min:"15",max:"300",step:"15",value:v,onChange:_=>E(parseInt(_.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-full appearance-none cursor-pointer accent-gray-900 hover:accent-[#ff4d00] transition-all"})]})]})]})]}),t.jsxs("div",{className:"bg-green-50 rounded-xl p-5 border border-green-100 flex items-center gap-4 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center border-4 border-green-100 shrink-0",children:t.jsx(bt,{size:20,className:"text-green-500 fill-green-50"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-green-800 font-extrabold text-sm uppercase tracking-wide block",children:"Free Campaign Summary"}),t.jsxs("span",{className:"text-green-600 text-xs font-medium",children:[f.toLocaleString()," visitors  24 hours duration"]})]}),t.jsx("span",{className:"text-2xl font-black text-green-600 tracking-tighter",children:"FREE"})]}),t.jsx("button",{type:"submit",disabled:S,className:"w-full bg-black text-white py-5 px-6 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-gray-900 transition-all shadow-xl hover:shadow-2xl disabled:opacity-70 disabled:cursor-not-allowed group flex items-center justify-center gap-3 transform active:scale-[0.98]",children:S?"Creating Campaign...":t.jsxs(t.Fragment,{children:["Start Free Campaign ",t.jsx(ds,{className:"group-hover:translate-x-1 transition-transform"})]})})]})]})}),t.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[t.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[t.jsx("div",{className:"bg-orange-50 p-2 rounded-lg",children:t.jsx(Gf,{className:"w-5 h-5 text-[#ff4d00]"})}),t.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Where You'll See Traffic"})]}),t.jsxs("ul",{className:"space-y-4 text-sm text-gray-600",children:[t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(Ml,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Google Analytics 4"})," Real-time and general traffic reports"]})]}),t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(Ml,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Google Search Console"})," Improved engagement signals"]})]}),t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(Ml,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Server Logs"})," Direct hit requests to your server"]})]}),t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(Ml,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Heatmaps"})," Session recordings and scroll depth"]})]})]})]}),t.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[t.jsx("div",{className:"bg-orange-50 p-2 rounded-lg",children:t.jsx(Mo,{className:"w-5 h-5 text-[#ff4d00]"})}),t.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Traffic Sources"})]}),t.jsx("ul",{className:"space-y-3 text-sm font-medium text-gray-600",children:["Direct traffic (organic visitors)","Organic search (Google, Bing)","Social referrals (if enabled)","Referral from other sites"].map((_,k)=>t.jsxs("li",{className:"flex items-center gap-3",children:[t.jsx(Zl,{size:14,className:"text-[#ff4d00]"}),t.jsx("span",{children:_})]},k))})]}),t.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[t.jsx("div",{className:"bg-green-50 p-2 rounded-lg",children:t.jsx(Mr,{className:"w-5 h-5 text-green-600"})}),t.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Quality & Safety"})]}),t.jsx("ul",{className:"space-y-3 text-sm font-medium text-gray-600",children:["Residential IP addresses","Real browser fingerprints","GA4 compliant events","Anti-fingerprinting enabled"].map((_,k)=>t.jsxs("li",{className:"flex items-center gap-3",children:[t.jsx(bt,{size:14,className:"text-green-500"}),t.jsx("span",{children:_})]},k))})]})]})]})]})]})},z9=({onLogin:n,onNavigate:e})=>{const[s,r]=w.useState(0),[i,l]=w.useState("business"),[c,h]=w.useState("economy"),f=S=>{r(s===S?null:S)},p={"@context":"https://schema.org","@type":"Organization",name:"Traffic Creator",url:"https://traffic-creator.com/",description:"Premium website traffic generator for boosting SEO metrics and engagement.",brand:{"@type":"Brand",name:"Traffic Creator"}},x={"@context":"https://schema.org","@type":"WebSite",name:"Traffic Creator",url:"https://traffic-creator.com/",potentialAction:{"@type":"SearchAction",target:"https://traffic-creator.com/search?q={search_term_string}","query-input":"required name=search_term_string"}},b=[{icon:t.jsx(dD,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Smart Site Crawler",description:"Our advanced bots map your entire site architecture to distribute traffic naturally across deep links, not just your homepage."},{icon:t.jsx(Ir,{className:"w-6 h-6 text-[#ff4d00]"}),title:"GA4 Compliant Events",description:"Every visit generates real engagement signalsscrolls, clicks, and mouse movementsthat are fully verified by Google Analytics 4."},{icon:t.jsx(bf,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Organic Growth Patterns",description:"Traffic volume follows natural diurnal curves and viral spikes, eliminating the flat-line patterns that trigger bot filters."},{icon:t.jsx(Rs,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Elite Residential IPs",description:"Traffic originates from verified residential ISPs in your target country, making it indistinguishable from real human visitors."},{icon:t.jsx(ew,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Live RSS Sync",description:"Automatically detect new blog posts and drive immediate traffic to them, signaling freshness to search engines."},{icon:t.jsx(lO,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Timezone Intelligence",description:"Visits are scheduled according to the local business hours of your target audience for maximum realism."},{icon:t.jsx(qD,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Social Signal Ready",description:"Seamlessly integrates with t.co, bit.ly, and other shorteners to simulate viral social media referral traffic."},{icon:t.jsx(Mo,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Hyper-Local Targeting",description:"Pinpoint your audience by city or region. Perfect for local SEO campaigns and brick-and-mortar businesses."}],v=[{icon:t.jsx(dr,{size:32,className:"text-[#ff4d00]"}),title:"SEO Ranking Boost",metric:"+450%",desc:"How a niche blog went from Page 10 to Page 1 by signaling high user engagement to search algorithms."},{icon:t.jsx(bf,{size:32,className:"text-[#ff4d00]"}),title:"Analytics Repair",metric:"15% Bounce",desc:"A SaaS company reduced their bounce rate from 80% to 15% to improve their domain authority score."},{icon:t.jsx(E3,{size:32,className:"text-[#ff4d00]"}),title:"Crypto Trending",metric:"#1 Spot",desc:"A new Token project used volume traffic to trend on CoinMarketCap and CoinGecko within 24 hours."},{icon:t.jsx(A3,{size:32,className:"text-[#ff4d00]"}),title:"Agency Growth",metric:"50+ Clients",desc:"A digital agency resold our traffic to their clients, improving client retention reports by 200%."}],E=[{question:"How quickly does traffic start?",answer:"Campaigns typically start within 5 minutes of approval. Our network handles over 50M requests daily, ensuring instant scalability."},{question:"Is this traffic Adsense safe?",answer:"Yes, our 'Breakthrough' and 'Agency' packages feature 100% Adsense safe traffic, filtered for high engagement and low bounce rates."},{question:"Can I target specific devices?",answer:"Absolutely. You can segment traffic by Desktop, Mobile (iOS/Android), and Tablet in the campaign settings."},{question:"Do you offer a money-back guarantee?",answer:"Yes. If we fail to deliver the purchased visitor count within 72 hours of the campaign start, you are eligible for a full refund."},{question:"Can I use the API for reselling?",answer:"Yes, our REST API is designed for agencies and resellers. You can programmatically create projects, check stats, and manage clients."},{question:"What is the difference between Bounce Rate and Return Rate?",answer:"Bounce Rate is the percentage of visitors who leave after one page. Return Rate is the percentage of visitors who come back to your site later. You can configure both."},{question:"How do I configure geolocation targeting?",answer:"In your project settings, simply select the countries you wish to target. For 'Agency' plans, you can specify individual cities."},{question:"Can I stop and restart my campaigns?",answer:"Yes, you have full control. You can pause, resume, or stop campaigns instantly from the dashboard at any time."}];return t.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans overflow-hidden",children:[t.jsx(_i,{title:"Traffic Creator - #1 Website Traffic Generator for SEO & Rankings (2026)",description:"Boost your SEO rankings in 2026 with real residential website traffic. Traffic Creator helps you manipulate CTR, increase dwell time, and improve domain authority naturally using advanced AI-driven behavioral simulation.",keywords:"website traffic 2026, boost traffic, SEO traffic, organic traffic, traffic generator, buy website traffic, traffic creator, website visitors, GA4 traffic, CTR manipulation",schema:[p,x]}),t.jsx("nav",{className:"border-b border-gray-100 bg-white/95 backdrop-blur-md sticky top-0 z-50 transition-all duration-300",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[t.jsx("span",{className:"text-2xl font-black text-[#ff4d00] tracking-tight group-hover:scale-105 transition-transform",children:"TRAFFIC"}),t.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-[#ff4d00] text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"flex items-center gap-8",children:[t.jsxs("div",{className:"hidden md:flex gap-8 text-sm font-bold uppercase tracking-wide text-gray-500",children:[t.jsx("a",{href:"#problem",className:"hover:text-[#ff4d00] transition-colors",children:"The Problem"}),t.jsx("a",{href:"#features",className:"hover:text-[#ff4d00] transition-colors",children:"Features"}),t.jsx("a",{href:"#streak-bonus",className:"hover:text-[#ff4d00] transition-colors",children:"Unlimited Free Traffic"}),t.jsx(Ve,{to:"/pricing",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Pricing"})]}),t.jsx(Ve,{to:"/login",className:"bg-[#ff4d00] text-white px-6 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors shadow-md hover:shadow-lg flex items-center",children:"Dashboard Login"})]})]})}),t.jsxs("section",{className:"relative pt-32 pb-40 overflow-hidden bg-white",children:[t.jsx("div",{className:"absolute inset-0 z-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"40px 40px"}}),t.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-orange-100/40 rounded-full blur-3xl -translate-y-1/2 translate-x-1/3 z-0"}),t.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/5 border border-black/10 px-4 py-1.5 text-[10px] font-bold uppercase tracking-widest mb-8 rounded-full shadow-sm animate-in fade-in slide-in-from-bottom-4 backdrop-blur-sm",children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-[#ff4d00] animate-pulse"})," Live Traffic Network Active"]}),t.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter leading-[0.9] mb-8 text-gray-900 animate-in fade-in slide-in-from-bottom-6",children:["DOMINATE",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-600",children:"SEARCH."})]}),t.jsxs("p",{className:"text-xl md:text-2xl text-gray-500 mb-10 max-w-lg leading-relaxed font-medium animate-in fade-in slide-in-from-bottom-8",children:["The world's first ",t.jsx("span",{className:"text-gray-900 font-bold",children:"intelligent traffic engine"}),". Boost SEO rankings with real residential visitors, certified purely organic by Google Analytics 4."]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 animate-in fade-in slide-in-from-bottom-10",children:[t.jsxs(Ve,{to:"/signup",className:"group bg-[#ff4d00] text-white px-8 py-5 text-sm font-bold uppercase tracking-wider hover:bg-black transition-all shadow-[0_10px_40px_-10px_rgba(255,77,0,0.5)] hover:shadow-xl flex items-center justify-center gap-3 transform hover:-translate-y-1 rounded-sm",children:["Launch Campaign ",t.jsx(ds,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),t.jsx(Ve,{to:"/signup",className:"group bg-white border-2 border-gray-100 text-gray-900 px-8 py-5 text-sm font-bold uppercase tracking-wider hover:border-black transition-all transform hover:-translate-y-1 flex items-center justify-center rounded-sm",children:"View Live Demo"})]}),t.jsxs("div",{className:"mt-12 flex items-center gap-6 text-xs font-bold text-gray-400 uppercase tracking-widest animate-in fade-in slide-in-from-bottom-12",children:[t.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4].map(S=>t.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center text-[8px] overflow-hidden",children:t.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${S}`,alt:"User"})},S))}),t.jsx("div",{children:"Trusted by 2,000+ SEO Agencies"})]})]}),t.jsxs("div",{className:"relative flex items-center justify-center h-[600px] perspective-1000 animate-in fade-in duration-1000 lg:translate-x-10",children:[t.jsxs("div",{className:"relative w-96 h-96 animate-[spin_40s_linear_infinite] transform-style-3d",children:[t.jsx("div",{className:"absolute inset-0 rounded-full border border-gray-900/5"}),t.jsx("div",{className:"absolute inset-8 rounded-full border border-[#ff4d00]/20 transform rotate-12"}),t.jsx("div",{className:"absolute inset-16 rounded-full border border-[#ff4d00]/40 transform -rotate-12"}),t.jsx("div",{className:"absolute top-0 left-1/2 w-4 h-4 bg-[#ff4d00] rounded-full shadow-[0_0_20px_#ff4d00] -translate-x-1/2 -translate-y-1/2 animate-pulse"}),t.jsx("div",{className:"absolute bottom-0 left-1/2 w-3 h-3 bg-black rounded-full -translate-x-1/2 translate-y-1/2"}),t.jsx("div",{className:"absolute inset-24 bg-gradient-to-br from-orange-50 to-white rounded-full shadow-inner flex items-center justify-center border border-gray-100 backdrop-blur-sm",children:t.jsx(Rs,{className:"text-[#ff4d00] w-24 h-24 opacity-20 animate-pulse",strokeWidth:1})})]}),t.jsxs("div",{className:"absolute top-[20%] right-0 bg-white p-4 rounded-lg shadow-xl border border-gray-100 animate-[bounce_4s_infinite] max-w-[180px]",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsx("div",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Status"})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:"+458%"}),t.jsx("div",{className:"text-[10px] text-gray-400",children:"Traffic Increase (7d)"})]}),t.jsxs("div",{className:"absolute bottom-[20%] left-0 bg-white p-4 rounded-lg shadow-xl border border-gray-100 animate-[bounce_5s_infinite] delay-1000 max-w-[180px]",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-[#ff4d00] rounded-full"}),t.jsx("div",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Live Users"})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:"12,405"}),t.jsx("div",{className:"text-[10px] text-gray-400",children:"Active Sessions Now"})]})]})]})]}),t.jsx("section",{className:"bg-[#ff4d00] py-10 overflow-hidden border-y border-orange-600",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center gap-8",children:[t.jsx("div",{className:"text-white text-xs font-bold uppercase tracking-widest whitespace-nowrap opacity-50",children:"Powering Leading Brands:"}),t.jsxs("div",{className:"flex-1 flex justify-between items-center gap-8 opacity-40 grayscale hover:grayscale-0 transition-all duration-500",children:[t.jsx("span",{className:"text-xl font-black text-white font-serif italic",children:"Vanguard."}),t.jsx("span",{className:"text-xl font-bold text-white tracking-widest",children:"NEXUS"}),t.jsx("span",{className:"text-xl font-bold text-white font-mono",children:"CODEBLOCK"}),t.jsxs("span",{className:"text-xl font-black text-white tracking-tighter",children:["turbo",t.jsx("span",{className:"text-[#ff4d00]",children:"boost"})]}),t.jsx("span",{className:"text-xl font-medium text-white",children:"Aperture Sci"})]})]})}),t.jsx("section",{id:"quick-campaign",className:"py-24 px-6 bg-orange-50/50",children:t.jsx(ow,{})}),t.jsx("section",{id:"streak-bonus",className:"py-24 px-6 bg-[#FAFAFA]",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-50 border border-orange-100 text-[#ff4d00] text-xs font-bold uppercase tracking-wider mb-6 animate-in fade-in slide-in-from-bottom-4",children:[t.jsx(Co,{size:14,className:"fill-[#ff4d00]"}),"100% Free Forever"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-6 tracking-tight",children:["Get Up to 20,000 ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"Free Hits Daily"})]}),t.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto",children:"Just log in and claim. No credit card. No purchase. Just free traffic."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8",children:[t.jsxs("div",{className:"lg:col-span-8 bg-white rounded-3xl p-8 border border-gray-100 shadow-xl shadow-orange-500/5 overflow-hidden relative",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx($l,{className:"text-[#ff4d00]",size:24}),"30-Day Streak"]}),t.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"free hits per month  that's real traffic to your website"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-4xl font-black text-gray-900",children:"342,000"}),t.jsx("div",{className:"text-sm font-medium text-[#ff4d00]",children:"monthly potential"})]})]}),t.jsx("div",{className:"space-y-3",children:[{days:"Day 1-2",amount:"1,000",icon:Ni},{days:"Day 3-4",amount:"2,000",icon:Vr},{days:"Day 5-6",amount:"3,000",icon:dr},{days:"Day 7-13",amount:"10,000",icon:Gt,highlight:!0},{days:"Day 14-29",amount:"15,000",icon:Co,highlight:!0},{days:"Day 30+",amount:"20,000",icon:$l,highlight:!0,last:!0}].map((S,A)=>t.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all hover:scale-[1.01] ${S.highlight?"bg-orange-50/50 border-orange-100":"bg-gray-50/50 border-gray-100"}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${S.highlight?"bg-white text-[#ff4d00] shadow-sm":"bg-white text-gray-400"}`,children:t.jsx(S.icon,{size:20})}),t.jsx("span",{className:`font-bold ${S.highlight?"text-gray-900":"text-gray-500"}`,children:S.days})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-xl font-black ${S.last?"text-[#ff4d00]":"text-gray-900"}`,children:S.amount}),t.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"hits/day"})]})]},A))})]}),t.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[t.jsxs("div",{className:"bg-black text-white rounded-3xl p-8 relative overflow-hidden flex flex-col justify-between group h-min min-h-[300px]",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00]/30 rounded-full blur-3xl group-hover:bg-[#ff4d00]/50 transition-colors duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-2xl flex items-center justify-center mb-6 border border-gray-700 text-[#ff4d00]",children:t.jsx(Wl,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-gray-300",children:"Yearly Potential"}),t.jsx("div",{className:"text-4xl lg:text-5xl font-black mt-3 tracking-tight",children:"7,042,000"})]}),t.jsx("p",{className:"text-gray-400 text-sm font-medium relative z-10 mt-6",children:"free hits per year with consistent daily claims"})]}),t.jsxs("div",{className:"bg-[#FFF1EB] rounded-3xl p-8 flex flex-col justify-center h-min min-h-[220px]",children:[t.jsx("div",{className:"mb-4",children:t.jsx("span",{className:"text-[#ff4d00] font-bold text-sm uppercase tracking-wider",children:"What's it worth?"})}),t.jsx("div",{className:"text-5xl font-black text-gray-900 mb-2",children:"700+"}),t.jsx("p",{className:"text-gray-600 font-medium",children:"in value based on our standard CPM pricing"})]})]})]}),t.jsx("div",{className:"max-w-3xl mx-auto mt-12 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-300",children:t.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 flex items-center justify-center gap-3 shadow-lg hover:-translate-y-1 transition-transform cursor-default",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsxs("p",{className:"font-bold text-gray-900",children:[t.jsx("span",{className:"text-[#ff4d00]",children:"12,847 users"})," claimed their free bonus today"]})]})})]})}),t.jsxs("section",{id:"problem",className:"bg-[#ff4d00] py-32 px-6 border-y border-orange-600 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-orange-600 via-orange-700 to-orange-800 opacity-90"}),t.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-20 items-center relative z-10",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-white font-bold text-xs uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(ln,{size:14})," Critical SEO Warning"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-8 text-white leading-tight",children:["Is Your Website ",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-200 to-white",children:"Invisible?"})]}),t.jsxs("p",{className:"text-xl text-orange-100 leading-relaxed mb-10 font-light",children:["91% of content gets ",t.jsx("span",{className:"text-white font-bold",children:"zero traffic"})," from Google. Without active visitor signals, search algorithms deem your site irrelevant and bury it deep in the index."]}),t.jsx("div",{className:"space-y-6",children:[{title:"Low Domain Authority",desc:"Search engines trust sites with active user bases."},{title:"Poor Search Rankings",desc:"No clicks means no ranking improvements."},{title:"Zero Brand Visibility",desc:"Your competitors are taking your customers."},{title:"Stagnant Growth",desc:"Great content is useless if nobody sees it."}].map((S,A)=>t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full mt-2.5 shadow-[0_0_10px_rgba(255,255,255,0.5)]"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-bold text-sm uppercase tracking-wide mb-1",children:S.title}),t.jsx("div",{className:"text-orange-200 text-xs font-medium",children:S.desc})]})]},A))})]}),t.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border border-white/20 rounded-2xl bg-white/10 backdrop-blur-sm shadow-2xl relative",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/10 to-transparent rounded-2xl"}),t.jsxs("div",{className:"relative w-72 h-72 rounded-full border border-white/20 bg-white/10 flex items-center justify-center overflow-hidden mb-8 shadow-inner z-10",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-transparent via-white/30 to-transparent animate-[spin_3s_linear_infinite]",style:{clipPath:"polygon(50% 50%, 100% 0, 100% 50%)"}}),t.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.2) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),t.jsx("div",{className:"absolute w-3/4 h-3/4 border border-white/20 rounded-full"}),t.jsx("div",{className:"absolute w-1/2 h-1/2 border border-white/20 rounded-full"}),t.jsx("div",{className:"absolute w-1/4 h-1/4 border border-white/20 rounded-full"}),t.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-ping shadow-[0_0_20px_rgba(255,255,255,0.8)]"}),t.jsx("div",{className:"absolute bottom-1/2 translate-y-8 font-mono text-[10px] text-white uppercase tracking-widest font-bold animate-pulse bg-black/50 px-2 py-1 rounded",children:"No Traffic Signal"})]}),t.jsxs("div",{className:"text-center space-y-2 relative z-10",children:[t.jsx("div",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Search Engine Void"}),t.jsx("p",{className:"text-sm text-orange-200 font-medium",children:"Crawlers are skipping your site due to inactivity."})]})]})]})]}),t.jsxs("section",{className:"py-32 px-6 bg-white relative overflow-hidden",children:[t.jsx("div",{className:"hidden lg:block absolute top-[50%] left-0 w-full h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent border-t border-dashed border-gray-300"}),t.jsxs("div",{className:"max-w-7xl mx-auto text-center mb-20 relative z-10",children:[t.jsx("div",{className:"inline-block bg-[#ff4d00] text-white text-[10px] font-bold uppercase tracking-widest px-3 py-1 mb-4 rounded-sm",children:"Modus Operations"}),t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-4 text-gray-900",children:"The Traffic Injection Engine"}),t.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto text-lg leading-relaxed",children:"We bridge the gap between obscurity and authority by injecting high-quality, targeted traffic directly to your URLs."})]}),t.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12 relative z-10",children:[{title:"Target Identification",desc:"Input your URL. Our system analyzes your niche, keywords, and ideal geographic demographics.",icon:t.jsx(Zl,{className:"w-8 h-8 text-[#ff4d00]"})},{title:"Traffic Calibration",desc:"Configure behavior patterns, bounce rates, and session durations to match organic profiles.",icon:t.jsx(s4,{className:"w-8 h-8 text-[#ff4d00]"})},{title:"Authority Surge",desc:"As consistent traffic flows, search engines validate your site, boosting DA and ranking position.",icon:t.jsx(dr,{className:"w-8 h-8 text-[#ff4d00]"})}].map((S,A)=>t.jsxs("div",{className:"bg-white border border-gray-100 p-8 text-center hover:border-[#ff4d00] hover:shadow-2xl transition-all duration-300 group rounded-xl transform hover:-translate-y-2 relative",children:[t.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 w-12 h-12 bg-white border border-gray-100 rounded-full flex items-center justify-center text-xl font-black text-gray-300 group-hover:text-[#ff4d00] group-hover:border-[#ff4d00] transition-colors shadow-sm",children:A+1}),t.jsx("div",{className:"mt-8 mb-6 flex justify-center opacity-80 group-hover:scale-110 transition-transform duration-300",children:S.icon}),t.jsx("h3",{className:"text-lg font-black text-gray-900 mb-3 uppercase tracking-wide",children:S.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed font-medium",children:S.desc})]},A))})]}),t.jsx("section",{id:"features",className:"py-32 px-6 bg-[#f8f9fa] border-y border-gray-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-20 gap-6",children:[t.jsxs("div",{className:"max-w-xl",children:[t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-6 text-gray-900",children:"Enterprise Capabilities"}),t.jsx("div",{className:"w-20 h-1.5 bg-[#ff4d00] mb-6"}),t.jsx("p",{className:"text-gray-500 text-lg leading-relaxed",children:"Built for agencies and high-growth businesses. Our platform provides the granular control needed for complex SEO strategies."})]}),t.jsxs(Ve,{to:"/signup",className:"hidden md:flex items-center gap-2 font-bold text-[#ff4d00] border-b-2 border-[#ff4d00] pb-1 hover:text-black hover:border-black transition-all uppercase tracking-widest text-xs",children:["View All Features ",t.jsx(ds,{size:14})]})]}),t.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:b.map((S,A)=>t.jsx("div",{className:"bg-white p-8 border border-gray-100 hover:border-[#ff4d00] transition-all duration-300 group shadow-sm hover:shadow-xl rounded-xl flex flex-col justify-between h-full",children:t.jsxs("div",{children:[t.jsx("div",{className:"bg-gray-50 w-12 h-12 flex items-center justify-center mb-6 group-hover:bg-[#ff4d00] transition-colors rounded-lg text-[#ff4d00] group-hover:text-white shadow-inner",children:S.icon}),t.jsx("h3",{className:"text-sm font-black mb-3 uppercase tracking-wide text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:S.title}),t.jsx("p",{className:"text-gray-500 text-xs leading-relaxed font-medium",children:S.description})]})},A))}),t.jsx("div",{className:"mt-12 text-center md:hidden",children:t.jsxs(Ve,{to:"/signup",className:"inline-flex items-center gap-2 font-bold text-[#ff4d00] border-b-2 border-[#ff4d00] pb-1 uppercase tracking-widest text-xs",children:["View All Features ",t.jsx(ds,{size:14})]})})]})}),t.jsx("section",{id:"pricing",className:"py-24 px-6 bg-gradient-to-b from-white via-gray-50/30 to-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#ff4d00]/10 text-[#ff4d00] px-4 py-2 rounded-full text-xs font-bold uppercase tracking-widest mb-6",children:[t.jsx(tx,{size:14})," Transparent Pricing"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-4 text-gray-900",children:["Pay Only For ",t.jsx("span",{className:"text-[#ff4d00]",children:"Results"})]}),t.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto font-medium text-lg mb-8",children:"No hidden fees. No monthly contracts. Volume discounts up to 60%. Choose your quality tier."}),t.jsxs("div",{className:"inline-flex bg-gray-900 p-1.5 rounded-xl shadow-2xl",children:[t.jsx("button",{onClick:()=>l("business"),className:`px-8 py-3.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all ${i==="business"?"bg-[#ff4d00] text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Credit Packs"}),t.jsx("button",{onClick:()=>l("agency"),className:`px-8 py-3.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all ${i==="agency"?"bg-[#ff4d00] text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Agency Plans"})]})]}),i==="business"?t.jsxs("div",{className:"space-y-16",children:[t.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Lo.map(S=>t.jsxs("button",{onClick:()=>h(S.id),className:`px-6 py-3 text-xs font-bold uppercase tracking-widest transition-all ${c===S.id?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${S.popular?"ring-2 ring-[#ff4d00]/30":""}`,children:[S.name,S.popular&&t.jsx("span",{className:"ml-2 text-[10px]",children:""})]},S.id))}),t.jsx("div",{className:"grid md:grid-cols-4 gap-4",children:[{volume:6e4,name:"Starter",desc:"Test new landing pages"},{volume:5e5,name:"Growth",desc:"Small business baseline",badge:"Most Popular",badgeColor:"bg-[#ff4d00]"},{volume:1e6,name:"Business",desc:"Impact domain authority",highlight:!0,badge:"Best Value",badgeColor:"bg-green-500"},{volume:1e7,name:"Enterprise",desc:"Competitive niches"}].map((S,A)=>{var B;const C=(B=Kf[c])==null?void 0:B[S.volume],P=(C==null?void 0:C[1])??null,D=P!==null?rw(c,S.volume,1):0,F=Lo.find($=>$.id===c);return P===null?null:t.jsx("div",{className:`relative group transition-all duration-500 ${S.highlight?"md:-mt-4 md:mb-4":""}`,children:t.jsxs("div",{className:`h-full flex flex-col bg-white transition-all duration-300 rounded-2xl ${S.highlight?"border-2 border-[#ff4d00] shadow-2xl shadow-[#ff4d00]/20 scale-105 z-10":"border border-gray-100 hover:border-[#ff4d00]/50 hover:shadow-xl"} p-6`,children:[S.badge&&t.jsx("div",{className:`absolute -top-3 left-1/2 -translate-x-1/2 ${S.badgeColor} text-white px-4 py-1 text-[9px] font-bold uppercase tracking-widest shadow-lg rounded-full whitespace-nowrap`,children:S.badge}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-1",children:S.name}),t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-4xl font-black text-gray-900",children:aw(P)}),t.jsx("span",{className:"text-gray-400 text-xs font-medium",children:"one-time"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-4 mb-4 text-center border border-gray-100",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:S.volume>=1e6?`${S.volume/1e6}M`:`${S.volume/1e3}k`}),t.jsx("div",{className:"text-[10px] uppercase text-gray-500 font-bold tracking-wide",children:"Visitors"}),t.jsxs("div",{className:"text-[10px] text-[#ff4d00] font-bold mt-1",children:["~",iw(D),"/1k"]})]}),t.jsx("p",{className:"text-xs text-gray-500 font-medium mb-4 min-h-[32px]",children:S.desc}),t.jsx("ul",{className:"space-y-2 mb-6 flex-1 text-[11px]",children:F==null?void 0:F.features.slice(0,3).map(($,Q)=>t.jsxs("li",{className:"text-gray-600 flex items-center gap-2 font-medium",children:[t.jsx(sn,{size:12,className:"text-green-500 flex-shrink-0"})," ",$]},Q))}),t.jsx(Ve,{to:"/signup",className:`w-full py-3 text-xs font-bold uppercase tracking-widest transition-all text-center rounded-xl ${S.highlight?"bg-[#ff4d00] text-white hover:bg-black shadow-lg":"bg-gray-900 text-white hover:bg-[#ff4d00]"}`,children:"Get Started"})]})},A)})}),t.jsxs("div",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 rounded-3xl p-8 md:p-12 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20"}),t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#ff4d00]/20 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-[#ff4d00]/10 rounded-full blur-3xl"}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-8",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("div",{className:"w-16 h-16 bg-[#ff4d00] rounded-2xl flex items-center justify-center shadow-lg shadow-[#ff4d00]/30",children:t.jsx(Vr,{size:28,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-black text-white mb-1",children:"Bulk Discounts Available"}),t.jsxs("p",{className:"text-gray-400 text-sm",children:["Save up to ",t.jsx("span",{className:"text-[#ff4d00] font-bold",children:"40%"})," with multi-packs"]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"6x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-20%"})]}),t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"24x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-40%"})]})]})]})]})]}):t.jsxs("div",{className:"space-y-12",children:[t.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[{name:"Agency Pro",traffic:"5M",price:"1,249",perVisitor:"0.00025",features:["Client Dashboard","Traffic Pooling","Priority Support","API Access"],featured:!1},{name:"Agency Scale",traffic:"15M",price:"2,999",perVisitor:"0.00020",featured:!0,features:["Everything in Pro","White-Label Reports","Dedicated Manager","Custom Integrations"]},{name:"Agency Enterprise",traffic:"50M+",price:"Custom",perVisitor:"Volume",features:["Full API Access","Strategy Calls","SLA Guarantee","Custom Features"]}].map((S,A)=>t.jsx("div",{className:`relative h-full ${S.featured?"md:-mt-4 md:mb-4":""}`,children:t.jsxs("div",{className:`h-full flex flex-col bg-white relative transition-all duration-300 rounded-2xl ${S.featured?"border-2 border-[#ff4d00] shadow-2xl shadow-[#ff4d00]/20 z-10 scale-105":"border border-gray-100 hover:shadow-xl"} p-8`,children:[S.featured&&t.jsxs("div",{className:"absolute -top-3 right-8 bg-[#ff4d00] text-white px-4 py-1 text-[9px] font-bold uppercase tracking-widest rounded-full shadow-lg flex items-center gap-1",children:[t.jsx(Lr,{size:10})," Best Value"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-2",children:S.name}),t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-4xl font-black text-gray-900",children:S.price}),S.price!=="Custom"&&t.jsx("span",{className:"text-gray-400 text-xs font-medium",children:"/month"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-[#ff4d00]/5 to-[#ff4d00]/10 rounded-xl p-4 mb-6 text-center border border-[#ff4d00]/20",children:[t.jsx("div",{className:"text-3xl font-black text-gray-900",children:S.traffic}),t.jsx("div",{className:"text-[10px] uppercase text-gray-500 font-bold tracking-wide",children:"Monthly Pool"}),t.jsxs("div",{className:"text-[10px] text-[#ff4d00] font-bold mt-1",children:["~",S.perVisitor,"/visitor"]})]}),t.jsx("ul",{className:"space-y-3 mb-8 flex-1",children:S.features.map((C,P)=>t.jsxs("li",{className:"text-sm text-gray-600 flex items-center gap-3 font-medium",children:[t.jsx(Fb,{size:14,className:"text-[#ff4d00] flex-shrink-0"})," ",C]},P))}),t.jsx(Ve,{to:"/signup",className:`w-full py-4 text-xs font-bold uppercase tracking-widest text-center rounded-xl transition-all ${S.featured?"bg-[#ff4d00] text-white hover:bg-black shadow-lg":"bg-gray-900 text-white hover:bg-[#ff4d00]"}`,children:S.price==="Custom"?"Contact Sales":"Start Subscription"})]})},A))}),t.jsxs("div",{className:"bg-gradient-to-r from-[#ff4d00] to-[#ff6b35] rounded-2xl p-6 md:p-8 text-white text-center max-w-3xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[t.jsx(P3,{size:20}),t.jsx("h4",{className:"font-black uppercase tracking-wide",children:"Need a Custom Volume?"})]}),t.jsx("p",{className:"text-white/80 text-sm mb-4",children:"Contact us for enterprise pricing with up to 60% bulk discounts"}),t.jsx(Ve,{to:"/signup",className:"inline-block bg-white text-[#ff4d00] px-8 py-3 text-xs font-bold uppercase tracking-widest rounded-xl hover:bg-gray-100 transition-colors",children:"Get a Quote"})]})]}),t.jsx("div",{className:"mt-16 grid md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[{icon:t.jsx(Gt,{size:20}),title:"Instant Delivery",desc:"Campaigns start within 5 minutes"},{icon:t.jsx(Fb,{size:20}),title:"Money-Back Guarantee",desc:"Full refund if we fail to deliver"},{icon:t.jsx(Rs,{size:20}),title:"Global Coverage",desc:"190+ countries available"}].map((S,A)=>t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-xl border border-gray-100",children:[t.jsx("div",{className:"w-10 h-10 bg-[#ff4d00]/10 rounded-lg flex items-center justify-center text-[#ff4d00]",children:S.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:S.title}),t.jsx("div",{className:"text-xs text-gray-500",children:S.desc})]})]},A))})]})}),t.jsx("section",{className:"py-32 px-6 bg-[#f8f9fa] border-t border-gray-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"mb-20 text-center",children:[t.jsx("div",{className:"text-[#ff4d00] text-xs font-bold uppercase tracking-widest mb-2",children:"Real Results"}),t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight text-gray-900",children:"Proven Performance"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:v.map((S,A)=>t.jsxs("div",{className:"bg-white border border-gray-100 p-8 hover:border-[#ff4d00] transition-all group hover:shadow-xl rounded-xl",children:[t.jsxs("div",{className:"flex justify-between items-start mb-6",children:[t.jsx("div",{className:"opacity-80 group-hover:opacity-100 transition-opacity text-[#ff4d00] bg-orange-50 w-12 h-12 flex items-center justify-center rounded-lg",children:S.icon}),t.jsx("div",{className:"bg-green-100 text-green-700 px-2 py-1 text-[10px] font-bold uppercase tracking-wide rounded-sm",children:"Verified"})]}),t.jsx("div",{className:"text-3xl font-black text-gray-900 mb-2 group-hover:text-[#ff4d00] transition-colors",children:S.metric}),t.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide text-gray-400 mb-4",children:S.title}),t.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-medium",children:S.desc})]},A))})]})}),t.jsxs("section",{className:"py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/0 via-black/0 to-black/20"}),t.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[t.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white tracking-tighter mb-8 leading-[0.9]",children:["READY TO BREAK",t.jsx("br",{}),"THE INTERNET?"]}),t.jsx("p",{className:"text-white/90 text-xl font-medium mb-12 max-w-2xl mx-auto",children:"Join 5,000+ marketers driving millions of visitors today. No contracts. Instant delivery."}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-6",children:[t.jsx(Ve,{to:"/signup",className:"bg-black text-white px-10 py-5 text-sm font-bold uppercase tracking-widest hover:scale-105 transition-transform shadow-xl rounded-sm border-2 border-transparent hover:border-white",children:"Get Started Now"}),t.jsx(Ve,{to:"/signup",className:"bg-white text-[#ff4d00] px-10 py-5 text-sm font-bold uppercase tracking-widest hover:scale-105 transition-transform shadow-xl rounded-sm",children:"Talk to Sales"})]})]})]}),t.jsx("section",{id:"faq",className:"py-32 px-6 bg-[#f9fafb]",children:t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsx("h2",{className:"text-3xl font-black uppercase tracking-tight mb-16 text-center text-gray-900",children:"Questions?"}),t.jsx("div",{className:"space-y-4",children:E.map((S,A)=>t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[t.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left",onClick:()=>f(A),children:[t.jsx("span",{className:"font-bold text-gray-900",children:S.question}),s===A?t.jsx(gu,{size:20,className:"text-[#ff4d00]"}):t.jsx(wi,{size:20,className:"text-gray-400"})]}),s===A&&t.jsx("div",{className:"px-6 pb-6 text-gray-600 leading-relaxed text-sm animate-in fade-in slide-in-from-top-2 border-t border-gray-100 pt-4",children:S.answer})]},A))})]})}),t.jsx("footer",{className:"bg-[#ff4d00] text-white py-16 px-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[t.jsx("div",{className:"text-2xl font-black text-white tracking-tight",children:"TRAFFIC CREATOR"}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-8 text-xs font-bold uppercase tracking-widest text-white/70 text-center md:text-left",children:[t.jsx(Ve,{to:"/blog",className:"hover:text-white uppercase",children:"Blog"}),t.jsx(Ve,{to:"/helpdesk",className:"hover:text-white uppercase",children:"Help Center"}),t.jsx(Ve,{to:"/legal/refund",className:"hover:text-white uppercase",children:"Refund Policy"}),t.jsx(Ve,{to:"/legal/privacy",className:"hover:text-white uppercase",children:"Privacy Policy"}),t.jsx(Ve,{to:"/legal/terms",className:"hover:text-white uppercase",children:"Terms of Service"})]}),t.jsx("div",{className:"text-xs text-white/60",children:" 2026 Traffic Creator Inc."})]})})]})},U9=({onLogin:n,onNavigate:e})=>{const[s,r]=w.useState(!1),i={"@context":"https://schema.org","@type":"Product",name:"Organic Website Traffic Generator",description:"Premium organic traffic service to boost SEO rankings and manipulate CTS with real residential IPs.",brand:{"@type":"Brand",name:"Traffic Creator"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.9",reviewCount:"1250"}},l=[{icon:t.jsx(qn,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Boost Organic CTR",desc:"Our visitors search for your keywords and click your result, signaling high relevance to search algorithms."},{icon:t.jsx(us,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Increase Dwell Time",desc:"Visitors stay on your site for minutes, scroll through content, and interact, drastically reducing bounce rates."},{icon:t.jsx(Rs,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Local SEO Dominance",desc:"Target traffic from specific cities or regions to rank higher in local search results and map packs."},{icon:t.jsx(Mr,{className:"w-6 h-6 text-[#ff4d00]"}),title:"100% Human Behavior",desc:"Mouse movements, scrolling, and clicks are randomized to mimic real human interaction perfectly."}],c=[{feature:"Traffic Source",us:"Real Residential IPs",them:"Data Center Proxies"},{feature:"Behavior",us:"Scrolls, Clicks, Reads",them:"Static Hits"},{feature:"Google Analytics",us:"100% Recognized",them:"Often Filtered / Bot"},{feature:"Effect on SEO",us:"Positive Ranking Signal",them:"Neutral or Negative"},{feature:"AdSense Safe",us:"Yes, Verified",them:"High Risk of Ban"}];return t.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans overflow-x-hidden",children:[t.jsx(_i,{title:"Buy Organic Website Traffic 2026 - Real Residential IPs & CTR Booster",description:"Get 100% real organic traffic from residential IPs in 2026. Our advanced AI traffic bot simulates human behavior (scroll, click, read) to boost your SERP rankings and improve engagement metrics.",keywords:"organic website traffic 2026, buy organic traffic, seo traffic, ctr manipulation, boost rankings, real website visitors, ai traffic bot",schema:i,type:"product"}),t.jsx("nav",{className:"fixed w-full top-0 z-50 transition-all duration-300 bg-white/95 backdrop-blur-md border-b border-gray-100/50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[t.jsx("span",{className:"text-2xl font-black text-[#ff4d00] tracking-tight group-hover:scale-105 transition-transform",children:"TRAFFIC"}),t.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"flex items-center gap-8",children:[t.jsxs("div",{className:"hidden md:flex gap-8 text-sm font-bold uppercase tracking-wide text-gray-500",children:[t.jsxs("a",{href:"#how-it-works",className:"hover:text-[#ff4d00] transition-colors relative group",children:["How It Works",t.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]}),t.jsxs("a",{href:"#benefits",className:"hover:text-[#ff4d00] transition-colors relative group",children:["Features",t.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]}),t.jsxs(Ve,{to:"/pricing",className:"hover:text-[#ff4d00] transition-colors relative group",children:["Pricing",t.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]})]}),t.jsx(Ve,{to:"/login",className:"bg-black text-white px-6 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-all shadow-md hover:shadow-lg hover:-translate-y-0.5 flex items-center rounded-sm",children:"Dashboard Login"})]})]})}),t.jsxs("section",{className:"pt-32 pb-32 px-6 relative overflow-hidden bg-white",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[50%] h-[50%] bg-gradient-to-b from-orange-50/50 to-transparent pointer-events-none rounded-bl-[100px]"}),t.jsx("div",{className:"absolute top-40 left-10 w-4 h-4 rounded-full bg-orange-200 animate-pulse"}),t.jsx("div",{className:"absolute top-60 right-20 w-3 h-3 rounded-full bg-blue-200 animate-bounce delay-700"}),t.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-16 items-center relative z-10",children:[t.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-700",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-50 text-[#ff4d00] border border-orange-100 px-4 py-2 text-xs font-bold uppercase tracking-widest mb-8 rounded-full shadow-sm hover:shadow-md transition-shadow cursor-default",children:[t.jsx(Gt,{size:14,className:"fill-[#ff4d00]"})," SEO Intelligence Engine"]}),t.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tight leading-[0.9] mb-8 text-gray-900",children:["DOMINATE ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"ORGANIC"}),t.jsx("br",{}),"SEARCH RESULTS."]}),t.jsx("p",{className:"text-xl text-gray-500 mb-10 max-w-lg leading-relaxed font-medium",children:"The only organic website traffic generator designed for SEO professionals. Manipulate CTR, increase dwell time, and signal authority to Google."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs(Ve,{to:"/signup",className:"group bg-[#ff4d00] text-white px-8 py-4 text-sm font-bold uppercase tracking-wider hover:bg-black transition-all shadow-xl hover:shadow-2xl flex items-center justify-center gap-3 rounded-sm transform hover:-translate-y-1",children:["Launch SEO Campaign",t.jsx(ds,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),t.jsxs("a",{href:"#demo",className:"bg-white border border-gray-200 text-gray-900 px-8 py-4 text-sm font-bold uppercase tracking-wider hover:border-[#ff4d00] hover:text-[#ff4d00] transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2 rounded-sm group",children:[t.jsx(ex,{size:16,className:"group-hover:fill-[#ff4d00]"})," View Live Demo"]})]}),t.jsxs("div",{className:"mt-8 flex items-center gap-4 text-xs font-bold text-gray-400 uppercase tracking-widest",children:[t.jsx("span",{children:"Used by 15,000+ SEO Agencies"}),t.jsxs("div",{className:"flex -space-x-2",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white"}),t.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-300 border-2 border-white"}),t.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-400 border-2 border-white"})]})]})]}),t.jsxs("div",{className:"relative h-[550px] perspective-1000 group",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-gray-100 to-gray-50 transform rotate-6 scale-95 opacity-50 rounded-2xl border border-gray-100 transition-transform duration-700 group-hover:rotate-3 group-hover:scale-95"}),t.jsxs("div",{className:"absolute inset-0 bg-white border border-gray-200 shadow-2xl rounded-2xl p-6 overflow-hidden transform transition-transform duration-700 group-hover:-translate-y-2 hover:shadow-[0_20px_50px_rgba(0,0,0,0.1)]",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent z-10 pointer-events-none"}),t.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-6 flex gap-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400/80"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400/80"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400/80"}),t.jsxs("div",{className:"ml-6 bg-gray-100 rounded-lg h-5 w-64 flex items-center px-2",children:[t.jsx(Vn,{size:10,className:"text-gray-400 mr-2"}),t.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-sm"})]})]}),t.jsx("div",{className:"space-y-6",children:[1,2,3].map(h=>t.jsxs("div",{className:`p-5 rounded-lg border transition-all duration-500 hover:shadow-lg cursor-default relative overflow-hidden ${h===1?"border-[#ff4d00]/20 bg-orange-50/30":"border-gray-50 bg-white"}`,children:[h===1&&t.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-[#ff4d00]"}),t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-[10px] font-bold text-gray-500",children:h===1?"TC":"Ad"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-sm mb-1"}),t.jsx("div",{className:"w-48 h-2 bg-gray-100 rounded-sm"})]})]}),t.jsx("div",{className:`w-3/4 h-5 rounded-sm mb-3 ${h===1?"bg-gradient-to-r from-[#ff4d00] to-orange-400":"bg-blue-100"}`}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-sm"}),t.jsx("div",{className:"w-5/6 h-2 bg-gray-100 rounded-sm"})]}),h===1&&t.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[#ff4d00] text-xs font-bold uppercase tracking-wider animate-pulse",children:[t.jsx(dr,{size:12})," Rank #1  CTR Boost Active"]})]},h))}),t.jsxs("div",{className:"absolute bottom-6 right-6 bg-gray-900/95 backdrop-blur-md text-white p-5 rounded-xl shadow-2xl z-20 border border-gray-800 animate-in fade-in slide-in-from-bottom-4 delay-300",children:[t.jsxs("div",{className:"text-[10px] font-bold uppercase tracking-widest text-[#ff4d00] mb-2 flex items-center gap-2",children:[t.jsx(Ir,{size:12})," Performance"]}),t.jsx("div",{className:"text-4xl font-black mb-1",children:"18.4%"}),t.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"Organic CTR (7 Days)"}),t.jsx("div",{className:"w-full bg-gray-800 h-1 mt-3 rounded-full overflow-hidden",children:t.jsx("div",{className:"w-[70%] h-full bg-[#ff4d00]"})})]})]})]})]})]}),t.jsx("section",{id:"demo",className:"py-24 px-6 bg-white",children:t.jsx(ow,{})}),t.jsx("section",{id:"benefits",className:"py-32 px-6 bg-white relative",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-24",children:[t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-6",children:"Why Rank #1?"}),t.jsx("div",{className:"w-16 h-1.5 bg-[#ff4d00] mx-auto mb-8 rounded-full"}),t.jsxs("p",{className:"text-gray-500 max-w-2xl mx-auto text-lg leading-relaxed",children:["Search algorithms are evolving. Backlinks aren't enough. You need ",t.jsx("span",{className:"text-gray-900 font-bold",children:"User Signals"}),". Traffic Creator generates the perfect dwell time, scroll depth, and interaction metrics."]})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12",children:l.map((h,f)=>t.jsxs("div",{className:"flex gap-8 p-10 border border-gray-100 hover:border-[#ff4d00]/30 bg-white hover:bg-orange-50/20 shadow-sm hover:shadow-xl transition-all duration-300 group rounded-2xl relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-1 h-0 bg-[#ff4d00] group-hover:h-full transition-all duration-300"}),t.jsx("div",{className:"shrink-0",children:t.jsx("div",{className:"bg-orange-50 w-16 h-16 flex items-center justify-center rounded-2xl group-hover:bg-[#ff4d00] group-hover:rotate-6 transition-all duration-300 text-[#ff4d00] group-hover:text-white shadow-sm",children:h.icon})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 group-hover:text-[#ff4d00] transition-colors",children:h.title}),t.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:h.desc})]})]},f))})]})}),t.jsx("section",{className:"py-32 px-6 bg-[#f9fafb] border-t border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-20 items-center",children:[t.jsxs("div",{className:"space-y-12",children:[t.jsxs("div",{className:"pl-8 border-l-2 border-gray-200 hover:border-[#ff4d00] transition-colors duration-300",children:[t.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4 flex items-center gap-3",children:[t.jsx(Zl,{className:"text-[#ff4d00]",size:24})," Keyword Targeting"]}),t.jsx("p",{className:"text-gray-500 text-lg leading-relaxed font-medium",children:"Don't just send traffic to a URL. Our system mimics a user searching for your specific keywords on Google, finding your result, and clicking it. This is the ultimate signal for relevance."})]}),t.jsxs("div",{className:"pl-8 border-l-2 border-gray-200 hover:border-[#ff4d00] transition-colors duration-300",children:[t.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4 flex items-center gap-3",children:[t.jsx(pO,{className:"text-[#ff4d00]",size:24})," Complex Journeys"]}),t.jsx("p",{className:"text-gray-500 text-lg leading-relaxed font-medium",children:"Define multi-page paths. Visitors land on your blog post, read for 60 seconds, click to your pricing page, and then visit your contact form."})]})]}),t.jsxs("div",{className:"bg-[#111] text-gray-300 p-2 rounded-xl shadow-2xl relative overflow-hidden group",children:[t.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-gray-800 bg-[#151515] rounded-t-lg",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),t.jsxs("div",{className:"text-xs font-mono text-gray-500 ml-4 flex items-center gap-2",children:[t.jsx(s4,{size:12})," campaign_config.json"]})]}),t.jsxs("div",{className:"p-8 font-mono text-xs md:text-sm leading-relaxed overflow-x-auto",children:[t.jsx("div",{className:"opacity-50 mb-4 text-[10px] uppercase tracking-widest",children:"// Traffic Configuration"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-purple-400",children:"const"})," ",t.jsx("span",{className:"text-blue-400",children:"campaign"})," = ","{"]}),t.jsxs("div",{className:"pl-4",children:[t.jsx("span",{className:"text-gray-400",children:"target:"})," ",t.jsx("span",{className:"text-green-400",children:'"Top 3 Positions"'}),","]}),t.jsxs("div",{className:"pl-4",children:[t.jsx("span",{className:"text-gray-400",children:"keywords:"})," ["]}),t.jsx("div",{className:"pl-8 text-orange-300",children:'"ranking boost services",'}),t.jsx("div",{className:"pl-8 text-orange-300",children:'"buy organic traffic",'}),t.jsx("div",{className:"pl-8 text-orange-300",children:'"seo ctr manipulation"'}),t.jsx("div",{className:"pl-4",children:"],"}),t.jsxs("div",{className:"pl-4",children:[t.jsx("span",{className:"text-gray-400",children:"behavior:"})," ","{"]}),t.jsxs("div",{className:"pl-8",children:[t.jsx("span",{className:"text-blue-300",children:"timeOnPage:"})," ",t.jsx("span",{className:"text-yellow-300",children:'"185s"'}),","]}),t.jsxs("div",{className:"pl-8",children:[t.jsx("span",{className:"text-blue-300",children:"scrollDepth:"})," ",t.jsx("span",{className:"text-yellow-300",children:'"85%"'}),","]}),t.jsxs("div",{className:"pl-8",children:[t.jsx("span",{className:"text-blue-300",children:"bounceRate:"})," ",t.jsx("span",{className:"text-yellow-300",children:'"12%"'})]}),t.jsx("div",{className:"pl-4",children:"}"}),t.jsxs("div",{children:["}",";"]}),t.jsxs("div",{className:"mt-6 flex items-center gap-2 text-green-500 text-[10px] font-bold uppercase tracking-widest",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})," compiler ready"]})]})]})]})})}),t.jsx("section",{className:"py-32 px-6 bg-white",children:t.jsxs("div",{className:"max-w-5xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl font-black uppercase tracking-tight mb-4",children:"Quality Matters"}),t.jsx("p",{className:"text-gray-500",children:"Don't risk your domain authority with cheap bot traffic."})]}),t.jsxs("div",{className:"bg-white shadow-[0_10px_60px_rgba(0,0,0,0.05)] rounded-2xl overflow-hidden border border-gray-100",children:[t.jsxs("div",{className:"grid grid-cols-3 bg-gray-900 text-white p-6 text-xs font-bold uppercase tracking-widest",children:[t.jsx("div",{className:"pl-4",children:"Feature"}),t.jsxs("div",{className:"text-[#ff4d00] flex items-center gap-2",children:[t.jsx(Gt,{size:14,className:"fill-[#ff4d00]"})," Traffic Creator"]}),t.jsx("div",{className:"text-gray-500",children:"Cheap Bots"})]}),t.jsx("div",{className:"divide-y divide-gray-50",children:c.map((h,f)=>t.jsxs("div",{className:"grid grid-cols-3 p-6 items-center text-sm font-medium hover:bg-gray-50 transition-colors group",children:[t.jsxs("div",{className:"font-bold text-gray-900 flex items-center gap-3 pl-4",children:[t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 group-hover:bg-[#ff4d00] transition-colors"}),h.feature]}),t.jsxs("div",{className:"flex items-center gap-3 text-[#ff4d00] font-bold bg-orange-50/50 -my-6 py-6 border-x border-orange-100/50",children:[t.jsx(bt,{size:18,className:"ml-4"})," ",h.us]}),t.jsxs("div",{className:"text-gray-400 flex items-center gap-3 pl-4",children:[t.jsx(nn,{size:16})," ",h.them]})]},f))})]})]})}),t.jsxs("section",{className:"py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),t.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[t.jsx("h2",{className:"text-5xl md:text-7xl font-black uppercase tracking-tight mb-8 text-white",children:"Start Ranking Now"}),t.jsx("p",{className:"text-xl text-white/90 mb-12 font-medium max-w-2xl mx-auto",children:"Your competitors are already doing it. Level the playing field with the world's most advanced organic traffic generator."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[t.jsxs(Ve,{to:"/signup",className:"bg-white text-black px-12 py-5 text-sm font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-all shadow-2xl flex items-center justify-center gap-3 rounded-sm transform hover:-translate-y-1",children:["Start Free Trial ",t.jsx(ds,{size:18})]}),t.jsx(Ve,{to:"/pricing",className:"bg-transparent border-2 border-white text-white px-12 py-5 text-sm font-bold uppercase tracking-wider hover:bg-white hover:text-[#ff4d00] transition-all rounded-sm flex items-center justify-center",children:"View Pricing"})]}),t.jsx("div",{className:"mt-12 text-white/60 text-xs font-bold uppercase tracking-widest",children:"No Credit Card Required for Trial  100% Secure  Cancel Anytime"})]})]}),t.jsxs("footer",{className:"bg-black text-white py-20 px-6 border-t border-gray-900",children:[t.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-4 gap-12",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("div",{className:"text-3xl font-black text-white tracking-tight mb-6",children:"TRAFFIC CREATOR"}),t.jsx("p",{className:"text-gray-500 max-w-sm mb-8",children:"The industry standard for SEO traffic generation. We help agencies and site owners improve their search visibility signals safely."}),t.jsx("div",{className:"flex gap-4",children:[1,2,3,4].map(h=>t.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-900 flex items-center justify-center text-gray-500 hover:bg-[#ff4d00] hover:text-white transition-colors cursor-pointer",children:t.jsx(Rs,{size:16})},h))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Platform"}),t.jsxs("ul",{className:"space-y-4 text-sm font-medium text-gray-300",children:[t.jsx("li",{children:t.jsx(Ve,{to:"/how-it-works",className:"hover:text-[#ff4d00] transition-colors",children:"How it Works"})}),t.jsx("li",{children:t.jsx(Ve,{to:"/pricing",className:"hover:text-[#ff4d00] transition-colors",children:"Pricing"})}),t.jsx("li",{children:t.jsx(Ve,{to:"/login",className:"hover:text-[#ff4d00] transition-colors",children:"Dashboard"})}),t.jsx("li",{children:t.jsx(Ve,{to:"/affiliate",className:"hover:text-[#ff4d00] transition-colors",children:"Affiliate Program"})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Company"}),t.jsxs("ul",{className:"space-y-4 text-sm font-medium text-gray-300",children:[t.jsx("li",{children:t.jsx(Ve,{to:"/blog",className:"hover:text-[#ff4d00] transition-colors",children:"SEO Blog"})}),t.jsx("li",{children:t.jsx(Ve,{to:"/helpdesk",className:"hover:text-[#ff4d00] transition-colors",children:"Help Center"})}),t.jsx("li",{children:t.jsx(Ve,{to:"/legal/privacy",className:"hover:text-[#ff4d00] transition-colors",children:"Privacy Policy"})}),t.jsx("li",{children:t.jsx(Ve,{to:"/legal/terms",className:"hover:text-[#ff4d00] transition-colors",children:"Terms of Service"})})]})]})]}),t.jsxs("div",{className:"max-w-7xl mx-auto mt-20 pt-8 border-t border-gray-900 flex justify-between items-center text-xs text-gray-600",children:[t.jsx("div",{children:" 2025 Traffic Creator Inc. All rights reserved."}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),t.jsx("span",{children:"Systems Operational"})]})]})]})]})},B9=({onLogin:n,onNavigate:e})=>{const[s,r]=w.useState(!1);return w.useEffect(()=>{const i=()=>r(window.scrollY>50);return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),t.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] text-gray-900 font-sans selection:bg-[#ff4d00] selection:text-white",children:[t.jsx(_i,{title:"Next-Gen Traffic Generation 2026 - AI-Driven SEO Visits",description:"Experience the future of traffic generation. AI-powered user behavior simulation for the most natural-looking analytics patterns in 2026.",keywords:"ai traffic generator 2026, modern seo traffic, behavioral traffic bot, next-gen seo tools"}),t.jsx("nav",{className:`fixed w-full z-50 transition-all duration-300 ${s?"top-4":"top-0"}`,children:t.jsx("div",{className:`max-w-7xl mx-auto px-6 ${s?"py-4":"py-6"}`,children:t.jsxs("div",{className:`
            flex items-center justify-between px-6 py-3 rounded-2xl transition-all duration-300
            ${s?"bg-white/80 backdrop-blur-xl shadow-lg border border-gray-100":"bg-transparent"}
          `,children:[t.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[t.jsx("div",{className:"w-8 h-8 bg-black rounded-lg flex items-center justify-center text-white font-black text-xs",children:"TC"}),t.jsx("span",{className:"font-bold text-lg tracking-tight",children:"TrafficCreator"})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm font-medium text-gray-600",children:[t.jsx("a",{href:"#features",className:"hover:text-black transition-colors",children:"Features"}),t.jsx("a",{href:"#how-it-works",className:"hover:text-black transition-colors",children:"How it Works"}),t.jsx("a",{href:"#pricing",className:"hover:text-black transition-colors",children:"Pricing"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Ve,{to:"/login",className:"text-sm font-bold hover:text-[#ff4d00] transition-colors hidden sm:block",children:"Log in"}),t.jsx(Ve,{to:"/signup",className:"bg-black text-white px-5 py-2.5 rounded-xl text-sm font-bold hover:bg-[#ff4d00] hover:scale-105 transition-all shadow-xl shadow-orange-500/10",children:"Get Started"})]})]})})}),t.jsx("section",{className:"pt-40 pb-20 px-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-24",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-50 border border-orange-100 text-[#ff4d00] text-xs font-bold uppercase tracking-wider animate-in fade-in slide-in-from-bottom-4",children:[t.jsx(Lr,{size:12,className:"fill-[#ff4d00]"}),"Trusted by 15,000+ Marketers"]}),t.jsxs("h1",{className:"text-6xl md:text-7xl font-black tracking-tight leading-[1] text-gray-900 animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100",children:["Traffic that ",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"actually converts."})]}),t.jsx("p",{className:"text-xl text-gray-500 max-w-lg leading-relaxed animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:"Stop relying on unpredictable algorithms. Take control of your website traffic with our residential network of real visitors."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 animate-in fade-in slide-in-from-bottom-10 duration-700 delay-300",children:[t.jsxs(Ve,{to:"/signup",className:"bg-[#ff4d00] text-white px-8 py-4 rounded-2xl text-base font-bold hover:bg-black transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 flex items-center justify-center gap-2",children:["Start Free Trial ",t.jsx(ds,{size:18})]}),t.jsxs("a",{href:"#how-it-works",className:"bg-white border border-gray-200 text-gray-900 px-8 py-4 rounded-2xl text-base font-bold hover:bg-gray-50 transition-all flex items-center justify-center gap-2",children:[t.jsx(ex,{size:18,className:"fill-gray-900"})," Watch Demo"]})]})]}),t.jsxs("div",{className:"relative h-[600px] w-full animate-in fade-in zoom-in duration-1000 delay-200",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-gradient-to-bl from-orange-200/40 to-pink-200/40 rounded-full blur-3xl opacity-50"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-gradient-to-tr from-blue-200/40 to-green-200/40 rounded-full blur-3xl opacity-50"}),t.jsxs("div",{className:"absolute top-10 right-10 left-10 bottom-10",children:[t.jsxs("div",{className:"absolute top-0 right-0 w-72 bg-white rounded-3xl shadow-[0_30px_60px_-15px_rgba(0,0,0,0.1)] p-6 border border-gray-100 z-30 transform hover:scale-105 transition-transform duration-500",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("div",{className:"w-10 h-10 rounded-2xl bg-orange-50 flex items-center justify-center text-[#ff4d00]",children:t.jsx(dr,{size:20})}),t.jsx("span",{className:"text-green-500 text-xs font-bold bg-green-50 px-2 py-1 rounded-full",children:"+124%"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-3xl font-black text-gray-900",children:"42.8k"}),t.jsx("div",{className:"text-sm text-gray-400 font-medium",children:"Monthly Visitors"})]}),t.jsx("div",{className:"mt-6 h-16 flex items-end gap-1",children:[40,60,45,70,85,65,90].map((i,l)=>t.jsx("div",{style:{height:`${i}%`},className:`flex-1 rounded-t-sm ${l===6?"bg-[#ff4d00]":"bg-gray-100"}`},l))})]}),t.jsxs("div",{className:"absolute bottom-10 left-0 w-80 bg-black text-white rounded-3xl shadow-2xl p-6 z-20 transform hover:-translate-y-2 transition-transform duration-500",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Live Traffic"}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-gray-300",children:"Active"})]})]}),t.jsx("div",{className:"space-y-4",children:["United States","Germany","United Kingdom"].map((i,l)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Rs,{size:14,className:"text-gray-500"}),t.jsx("span",{className:"text-sm font-bold",children:i})]}),t.jsx("div",{className:"w-24 bg-gray-800 h-1.5 rounded-full overflow-hidden",children:t.jsx("div",{className:"bg-[#ff4d00] h-full",style:{width:`${80-l*20}%`}})})]},l))})]}),t.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 bg-white/60 backdrop-blur-xl border border-white/50 p-4 rounded-2xl shadow-xl z-10 flex items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-purple-500"}),t.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white p-1 rounded-full",children:t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full border-2 border-white"})})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Real Human"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Session: 2m 45s"})]})]})]})]})]})})}),t.jsx("section",{id:"features",className:"py-24 px-6 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16 px-4",children:[t.jsx("span",{className:"text-[#ff4d00] font-bold tracking-wider uppercase text-xs mb-4 block",children:"Platform Capability"}),t.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-6",children:"Everything you need to grow."}),t.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto",children:"We've built the most advanced organic traffic generation engine on the market."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[300px]",children:[t.jsxs("div",{className:"md:col-span-2 bg-[#F5F5F7] rounded-3xl p-8 relative overflow-hidden group hover:shadow-xl transition-all duration-300",children:[t.jsxs("div",{className:"relative z-10 max-w-md",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-[#ff4d00]",children:t.jsx(Zl,{size:24})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Precision Targeting"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Target by keyword, country, device, and even specific browser behavior. Our AI ensures every visitor matches your ideal profile."})]}),t.jsx("div",{className:"absolute right-0 bottom-0 w-1/2 h-full opacity-50 group-hover:scale-105 transition-transform duration-500",children:t.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[t.jsx("circle",{cx:"150",cy:"150",r:"100",fill:"#ff4d00",fillOpacity:"0.1"}),t.jsx("circle",{cx:"100",cy:"180",r:"80",fill:"#ff4d00",fillOpacity:"0.1"})]})})]}),t.jsxs("div",{className:"md:row-span-2 bg-black text-white rounded-3xl p-8 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-gradient-to-b from-gray-800/50 to-black pointer-events-none"}),t.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-2xl flex items-center justify-center mb-6 text-white border border-gray-700",children:t.jsx(Mr,{size:24})}),t.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Residential IPs"}),t.jsx("p",{className:"text-gray-400 font-medium leading-relaxed",children:"We route all traffic through real residential networks. No data center IPs, no bot flags. Just pure, organic-looking traffic."})]}),t.jsxs("div",{className:"bg-gray-900/50 rounded-2xl p-4 border border-gray-800 mt-8 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"System Status"})]}),t.jsx("div",{className:"text-lg font-mono text-green-400",children:"100% Undetectable"})]})]})]}),t.jsxs("div",{className:"bg-[#FFF1EB] rounded-3xl p-8 group hover:shadow-xl transition-all duration-300",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-[#ff4d00]",children:t.jsx(Gt,{size:24})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Instant Delivery"}),t.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Start receiving visitors within 60 seconds of launching your campaign."})]}),t.jsxs("div",{className:"bg-[#F0F9FF] rounded-3xl p-8 group hover:shadow-xl transition-all duration-300",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-blue-500",children:t.jsx(Ml,{size:24})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"GA4 Native"}),t.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Designed specifically to register correctly in Google Analytics 4 reports."})]})]})]})}),t.jsx("section",{className:"py-32 px-6 bg-white",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsx(ow,{})})}),t.jsx("section",{className:"py-24 px-6 bg-[#FAFAFA]",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-50 border border-orange-100 text-[#ff4d00] text-xs font-bold uppercase tracking-wider mb-6 animate-in fade-in slide-in-from-bottom-4",children:[t.jsx(Co,{size:14,className:"fill-[#ff4d00]"}),"100% Free Forever"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-6 tracking-tight",children:["Get Up to 20,000 ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"Free Hits Daily"})]}),t.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto",children:"Just log in and claim. No credit card. No purchase. Just free traffic."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8",children:[t.jsxs("div",{className:"lg:col-span-8 bg-white rounded-3xl p-8 border border-gray-100 shadow-xl shadow-orange-500/5 overflow-hidden relative",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx($l,{className:"text-[#ff4d00]",size:24}),"30-Day Streak"]}),t.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"free hits per month  that's real traffic to your website"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-4xl font-black text-gray-900",children:"342,000"}),t.jsx("div",{className:"text-sm font-medium text-[#ff4d00]",children:"monthly potential"})]})]}),t.jsx("div",{className:"space-y-3",children:[{days:"Day 1-2",amount:"1,000",icon:Ni},{days:"Day 3-4",amount:"2,000",icon:Vr},{days:"Day 5-6",amount:"3,000",icon:dr},{days:"Day 7-13",amount:"10,000",icon:Gt,highlight:!0},{days:"Day 14-29",amount:"15,000",icon:Co,highlight:!0},{days:"Day 30+",amount:"20,000",icon:$l,highlight:!0,last:!0}].map((i,l)=>t.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all hover:scale-[1.01] ${i.highlight?"bg-orange-50/50 border-orange-100":"bg-gray-50/50 border-gray-100"}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${i.highlight?"bg-white text-[#ff4d00] shadow-sm":"bg-white text-gray-400"}`,children:t.jsx(i.icon,{size:20})}),t.jsx("span",{className:`font-bold ${i.highlight?"text-gray-900":"text-gray-500"}`,children:i.days})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-xl font-black ${i.last?"text-[#ff4d00]":"text-gray-900"}`,children:i.amount}),t.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"hits/day"})]})]},l))})]}),t.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[t.jsxs("div",{className:"bg-black text-white rounded-3xl p-8 relative overflow-hidden flex flex-col justify-between group h-min min-h-[300px]",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00]/30 rounded-full blur-3xl group-hover:bg-[#ff4d00]/50 transition-colors duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-2xl flex items-center justify-center mb-6 border border-gray-700 text-[#ff4d00]",children:t.jsx(Wl,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-gray-300",children:"Yearly Potential"}),t.jsx("div",{className:"text-4xl lg:text-5xl font-black mt-3 tracking-tight",children:"7,042,000"})]}),t.jsx("p",{className:"text-gray-400 text-sm font-medium relative z-10 mt-6",children:"free hits per year with consistent daily claims"})]}),t.jsxs("div",{className:"bg-[#FFF1EB] rounded-3xl p-8 flex flex-col justify-center h-min min-h-[220px]",children:[t.jsx("div",{className:"mb-4",children:t.jsx("span",{className:"text-[#ff4d00] font-bold text-sm uppercase tracking-wider",children:"What's it worth?"})}),t.jsx("div",{className:"text-5xl font-black text-gray-900 mb-2",children:"700+"}),t.jsx("p",{className:"text-gray-600 font-medium",children:"in value based on our standard CPM pricing"})]})]})]}),t.jsx("div",{className:"max-w-3xl mx-auto mt-12 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-300",children:t.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 flex items-center justify-center gap-3 shadow-lg hover:-translate-y-1 transition-transform cursor-default",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsxs("p",{className:"font-bold text-gray-900",children:[t.jsx("span",{className:"text-[#ff4d00]",children:"12,847 users"})," claimed their free bonus today"]})]})})]})}),t.jsx("section",{className:"py-32 px-6 bg-gray-50 border-t border-gray-200",children:t.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[t.jsx("h2",{className:"text-5xl font-black text-gray-900 mb-8 tracking-tight",children:"Ready to break the internet?"}),t.jsx("p",{className:"text-xl text-gray-500 mb-12 max-w-xl mx-auto",children:"Join the thousands of marketers using Traffic Creator to gain an unfair advantage."}),t.jsxs("div",{className:"flex flex-col items-center gap-6",children:[t.jsx(Ve,{to:"/signup",className:"bg-black text-white px-12 py-5 rounded-full text-lg font-bold hover:bg-[#ff4d00] transition-colors shadow-2xl hover:scale-105 transform duration-300",children:"Get Started for Free"}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 font-medium",children:[t.jsx(sn,{size:16,className:"text-green-500"})," No credit card required",t.jsx("span",{className:"mx-2",children:""}),t.jsx(sn,{size:16,className:"text-green-500"})," Cancel anytime"]})]})]})}),t.jsx("footer",{className:"py-12 px-6 bg-white border-t border-gray-100",children:t.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6 text-sm text-gray-500 font-medium",children:[t.jsx("div",{children:" 2025 Traffic Creator Inc."}),t.jsxs("div",{className:"flex gap-8",children:[t.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Privacy"}),t.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Terms"}),t.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Twitter"})]})]})})]})},F9=({isOpen:n,onClose:e,initialMode:s="login",onSuccess:r,message:i})=>{const[l,c]=w.useState(s),[h,f]=w.useState(""),[p,x]=w.useState(""),[b,v]=w.useState(""),[E,S]=w.useState(!1),[A,C]=w.useState(""),P=async D=>{D.preventDefault(),C(""),S(!0);try{if(l==="signup"){if(p.length<6)throw new Error("Password must be at least 6 characters");await q.register(b,h,p),e(),window.location.href=`/verify-email?email=${encodeURIComponent(h)}`}else{const F=await q.login(h,p);if(F.status==="suspended")throw new Error("Account suspended. Contact support.");await q.syncAll(),r(F.role),e()}}catch(F){C(F.message||"An error occurred")}finally{S(!1)}};return n?t.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[t.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),t.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[t.jsx("button",{onClick:e,className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors z-10",children:t.jsx(nn,{size:18,className:"text-gray-500"})}),t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx("span",{className:"text-2xl font-black text-[#ff4d00]",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded uppercase",children:"Creator"})]}),i&&t.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(bt,{className:"text-green-500 shrink-0",size:20}),t.jsx("span",{className:"text-green-700 text-sm font-bold",children:i})]}),t.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1 mb-6",children:[t.jsx("button",{onClick:()=>{c("login"),C("")},className:`flex-1 py-3 rounded-lg text-sm font-bold uppercase tracking-wide transition-all ${l==="login"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"Login"}),t.jsx("button",{onClick:()=>{c("signup"),C("")},className:`flex-1 py-3 rounded-lg text-sm font-bold uppercase tracking-wide transition-all ${l==="signup"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"Sign Up"})]}),A&&t.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(ln,{className:"text-red-500 shrink-0",size:18}),t.jsx("span",{className:"text-red-700 text-sm font-bold",children:A})]}),t.jsxs("form",{onSubmit:P,className:"space-y-5",children:[l==="signup"&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Fn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"text",required:!0,value:b,onChange:D=>v(D.target.value),className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all",placeholder:"John Doe"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(ji,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"email",required:!0,value:h,onChange:D=>f(D.target.value),className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all",placeholder:"you@example.com"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Vn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"password",required:!0,value:p,onChange:D=>x(D.target.value),className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all",placeholder:""})]}),l==="signup"&&p.length>0&&p.length<6&&t.jsx("p",{className:"text-red-500 text-xs mt-2 font-bold",children:"Minimum 6 characters required"})]}),t.jsx("button",{type:"submit",disabled:E,className:"w-full bg-[#ff4d00] text-white p-4 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:E?t.jsxs(t.Fragment,{children:[t.jsx(cs,{className:"animate-spin",size:18})," Processing..."]}):t.jsxs(t.Fragment,{children:[l==="login"?"Sign In":"Create Account"," ",t.jsx(ds,{size:18})]})})]})]})]})]}):null},$9=({onComplete:n})=>{const[e,s]=w.useState(""),[r,i]=w.useState("US"),[l,c]=w.useState("idle"),h=[{code:"US",name:"United States"},{code:"DE",name:"Germany"},{code:"GB",name:"United Kingdom"},{code:"FR",name:"France"},{code:"CA",name:"Canada"},{code:"AU",name:"Australia"},{code:"NL",name:"Netherlands"},{code:"ES",name:"Spain"},{code:"IT",name:"Italy"},{code:"BR",name:"Brazil"}],f=async x=>{x.preventDefault(),!(!e||!e.startsWith("http://")&&!e.startsWith("https://"))&&(c("analyzing"),await new Promise(b=>setTimeout(b,1200)),c("connecting"),await new Promise(b=>setTimeout(b,1500)),c("ready"),await new Promise(b=>setTimeout(b,800)),n("",e))},p={analyzing:{text:"Analyzing URL...",icon:t.jsx(cs,{className:"animate-spin",size:20})},connecting:{text:"Connecting to servers...",icon:t.jsx(cs,{className:"animate-spin",size:20})},ready:{text:"Traffic ready!",icon:t.jsx(bt,{size:20})}};return t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100 max-w-xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-10 h-10 bg-[#ff4d00]/10 rounded-xl flex items-center justify-center",children:t.jsx(Gt,{size:20,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-900",children:"Quick Traffic Test"}),t.jsx("p",{className:"text-xs text-gray-500",children:"No signup required to start"})]})]}),t.jsxs("form",{onSubmit:f,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Your Website URL"}),t.jsxs("div",{className:"relative",children:[t.jsx(Rs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"url",required:!0,value:e,onChange:x=>s(x.target.value),placeholder:"https://yourwebsite.com",disabled:l!=="idle",className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all disabled:opacity-50 disabled:cursor-not-allowed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Target Country"}),t.jsx("select",{value:r,onChange:x=>i(x.target.value),disabled:l!=="idle",className:"w-full bg-gray-50 border border-gray-200 p-4 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all disabled:opacity-50 disabled:cursor-not-allowed appearance-none cursor-pointer",children:h.map(x=>t.jsx("option",{value:x.code,children:x.name},x.code))})]}),l!=="idle"&&t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-xl",children:[t.jsx("div",{className:`text-[#ff4d00] ${l==="ready"?"text-green-500":""}`,children:p[l].icon}),t.jsx("span",{className:`text-sm font-bold ${l==="ready"?"text-green-600":"text-gray-600"}`,children:p[l].text})]}),t.jsx("button",{type:"submit",disabled:l!=="idle"||!e,className:"w-full bg-[#ff4d00] text-white p-4 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l==="idle"?t.jsxs(t.Fragment,{children:["Start Free Traffic ",t.jsx(ds,{size:18})]}):"Processing..."})]}),t.jsx("p",{className:"text-xs text-gray-400 text-center mt-4",children:"Free 2,000 visitors  No credit card required"})]})},q9=({initialCount:n=12403,className:e=""})=>{const[s,r]=w.useState(n),[i,l]=w.useState(n);return w.useEffect(()=>{const c=setInterval(()=>{const h=Math.floor(Math.random()*25)-10;r(f=>Math.max(1e4,f+h))},3e3+Math.random()*2e3);return()=>clearInterval(c)},[]),w.useEffect(()=>{const p=(s-i)/20;let x=0;const b=setInterval(()=>{x++,x>=20?(l(s),clearInterval(b)):l(v=>Math.round(v+p))},500/20);return()=>clearInterval(b)},[s]),t.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t.jsxs("span",{className:"text-sm font-bold text-gray-600",children:[t.jsx("span",{className:"text-gray-900",children:i.toLocaleString()})," active visitors"]})]})},cS=({onLogin:n,onNavigate:e})=>{const[s,r]=w.useState(!1),[i,l]=w.useState(!1),[c,h]=w.useState("signup"),[f,p]=w.useState(""),[x,b]=w.useState(""),[v,E]=w.useState(0),[S,A]=w.useState("professional");w.useEffect(()=>{const L=()=>r(window.scrollY>50);return window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L)},[]);const C={"@context":"https://schema.org","@type":"WebPage",name:"Free Website Traffic Generator - Get 2,000 Free Visitors | Traffic Creator",description:"Get free website traffic instantly. Traffic Creator offers 2,000 free visitors to boost your SEO rankings, CTR, and analytics data. No credit card required.",url:"https://traffic-creator.com/free-website-traffic",mainEntity:{"@type":"Service",name:"Free Website Traffic Generator",provider:{"@type":"Organization",name:"Traffic Creator"},offers:{"@type":"Offer",price:"0",priceCurrency:"USD",description:"2,000 free visitors for new users"}}},P={"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:"Is this traffic safe for my AdSense account?",acceptedAnswer:{"@type":"Answer",text:"Yes, our traffic is designed to be AdSense-safe. We use residential IPs and natural behavior patterns that mimic real visitors."}},{"@type":"Question",name:"Are these real visitors or bots?",acceptedAnswer:{"@type":"Answer",text:"We use high-quality traffic with residential IPs that appears as real visitors in your analytics. Each visit includes realistic behavior patterns."}},{"@type":"Question",name:"Will I see the traffic in Google Analytics?",acceptedAnswer:{"@type":"Answer",text:"Absolutely. All traffic is fully compatible with Google Analytics 4, Google Search Console, and other major analytics platforms."}},{"@type":"Question",name:"How do I get free website traffic?",acceptedAnswer:{"@type":"Answer",text:"Simply enter your website URL above, select your target country, and click 'Start Free Traffic'. Create a free account to receive 2,000 visitors at no cost."}}]},D=L=>{h(L),p(""),l(!0)},F=(L,M)=>{b(M),p("Your campaign is ready! Create a free account to receive 2,000 visitors."),h("signup"),l(!0)},B=L=>{l(!1),n()},$=L=>{E(v===L?null:L)},Q=[{question:"How do I get free website traffic?",answer:"Simply enter your website URL above, select your target country, and click 'Start Free Traffic'. Create a free account to receive 2,000 visitors at no costno credit card required."},{question:"Is this traffic safe for my AdSense account?",answer:"Yes, our traffic is designed to be AdSense-safe. We use residential IPs and natural behavior patterns that mimic real visitors. Our traffic passes all major analytics filters."},{question:"Are these real visitors or bots?",answer:"We use high-quality traffic with residential IPs that appears as real visitors in your analytics. Each visit includes realistic behavior patterns: page views, time on site, and navigation patterns."},{question:"Will I see the traffic in Google Analytics?",answer:"Absolutely. All traffic is fully compatible with Google Analytics 4, Google Search Console, and other major analytics platforms. You'll see real-time visitors, sessions, and engagement metrics."},{question:"Are there any hidden costs or subscriptions?",answer:"No hidden fees, no mandatory subscriptions. Purchase credit packs as needed, or choose monthly plans for agencies. Everything is transparent and clearly priced."},{question:"What if I'm not satisfied?",answer:"We offer a full money-back guarantee. If we fail to deliver the promised visitor count within 72 hours, you're eligible for a complete refundno questions asked."},{question:"Can I target specific countries?",answer:"Yes! We offer geo-targeting for 190+ countries. Premium plans include city-level targeting for local SEO campaigns."}],_=[{volume:6e4,name:"Starter",desc:"Perfect for testing"},{volume:5e5,name:"Growth",desc:"Most popular choice",highlight:!0,badge:"Most Popular"},{volume:1e6,name:"Business",desc:"Serious growth",badge:"Best Value",badgeColor:"bg-green-500"}],k=[{icon:t.jsx(dr,{size:32}),title:"Poor Rankings?",desc:"Google ignores sites without traffic signals. Your content stays buried on page 10."},{icon:t.jsx(Ni,{size:32}),title:"Low CTR?",desc:"Click-through rate is a ranking factor. Low engagement means lower visibility."},{icon:t.jsx(Gf,{size:32}),title:"No Analytics Data?",desc:"You can't optimize what you can't measure. Empty dashboards mean no insights."}],I=[{step:1,title:"Enter Your URL",desc:"Input your website address and select targeting options: country, device type, and traffic source.",icon:t.jsx(Rs,{size:24})},{step:2,title:"We Send Real Signals",desc:"Our residential network delivers traffic through real ISP connectionsnot data center IPs that get flagged.",icon:t.jsx(Mr,{size:24})},{step:3,title:"Watch Results Live",desc:"Monitor your traffic in Google Analytics 4 in real-time. See visitors, sessions, and engagement metrics.",icon:t.jsx(Ml,{size:24})}];return t.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans overflow-x-hidden",children:[t.jsx(_i,{title:"Free Website Traffic Generator - Get 2,000 Free Visitors | Traffic Creator",description:"Get free website traffic instantly. Receive 2,000 free visitors to boost your SEO rankings, CTR, and analytics data. No credit card required. Real residential traffic from 190+ countries.",keywords:"free website traffic, free traffic generator, get free traffic, website traffic free, free visitors, free web traffic, boost website traffic free, free SEO traffic, traffic generator free, increase website traffic free",schema:[C,P]}),t.jsx("header",{className:`fixed w-full z-50 transition-all duration-300 ${s?"top-0 bg-white/95 backdrop-blur-md shadow-sm border-b border-gray-100":"top-0 bg-transparent"}`,children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-16 md:h-20 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[t.jsx("span",{className:"text-xl md:text-2xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-black text-white px-2 py-1 rounded uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[t.jsxs("nav",{className:"hidden md:flex items-center gap-8 text-sm font-bold text-gray-500",children:[t.jsx("a",{href:"#problem",className:"hover:text-[#ff4d00] transition-colors",children:"Problem"}),t.jsx("a",{href:"#how-it-works",className:"hover:text-[#ff4d00] transition-colors",children:"How It Works"}),t.jsx("a",{href:"#pricing",className:"hover:text-[#ff4d00] transition-colors",children:"Pricing"})]}),t.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[t.jsx("button",{onClick:()=>D("login"),className:"text-sm font-bold text-gray-600 hover:text-[#ff4d00] transition-colors px-3 py-2",children:"Login"}),t.jsx("button",{onClick:()=>D("signup"),className:"bg-[#ff4d00] text-white px-4 md:px-6 py-2.5 text-xs md:text-sm font-bold uppercase tracking-wide hover:bg-black transition-colors rounded-xl shadow-lg shadow-orange-500/20",children:"Sign Up"})]})]})]})}),t.jsxs("section",{className:"relative pt-28 md:pt-40 pb-16 md:pb-24 px-6 overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 z-0",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-gradient-to-bl from-orange-100/50 to-transparent rounded-full blur-3xl -translate-y-1/2 translate-x-1/3"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-gradient-to-tr from-blue-50/50 to-transparent rounded-full blur-3xl translate-y-1/2 -translate-x-1/3"})]}),t.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-50 border border-orange-100 px-4 py-2 rounded-full text-xs font-bold text-[#ff4d00] uppercase tracking-wide mb-6",children:[t.jsx(Lr,{size:14,className:"fill-[#ff4d00]"}),"100% Free - No Credit Card Required"]}),t.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black tracking-tight leading-[1.1] mb-6",children:["Free Website Traffic",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"in Under 5 Minutes"})]}),t.jsxs("p",{className:"text-lg md:text-xl text-gray-500 max-w-2xl mx-auto leading-relaxed mb-8",children:["Get ",t.jsx("span",{className:"font-bold text-gray-700",children:"2,000 free visitors"})," to your website. Boost SEO rankings, improve CTR, and fill your analytics with real residential traffic from 190+ countries."]})]}),t.jsx($9,{onComplete:F})]})]}),t.jsx("section",{className:"bg-gray-50 border-y border-gray-100 py-8 px-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[t.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:t.jsx("span",{className:"font-bold uppercase tracking-wide text-xs",children:"Compatible with:"})}),t.jsx("div",{className:"flex flex-wrap items-center justify-center gap-8 md:gap-12",children:["Google Analytics","Semrush","WordPress","Ahrefs"].map((L,M)=>t.jsxs("div",{className:"flex items-center gap-2 opacity-60 hover:opacity-100 transition-opacity",children:[t.jsx(Ml,{size:18,className:"text-gray-400"}),t.jsx("span",{className:"text-sm font-bold text-gray-700",children:L})]},M))}),t.jsx(q9,{className:"shrink-0 bg-white px-4 py-2 rounded-full border border-gray-200"})]})})}),t.jsx("section",{id:"problem",className:"py-20 md:py-32 px-6 bg-gradient-to-b from-gray-50 to-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-red-50 text-red-600 px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wide mb-4",children:[t.jsx(ln,{size:14}),"The Problem"]}),t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Why Your Website Is Struggling"}),t.jsx("p",{className:"text-gray-500 max-w-xl mx-auto",children:"91% of content gets zero traffic from Google. Without visitor signals, search engines ignore your site."})]}),t.jsx("div",{className:"grid md:grid-cols-3 gap-6 md:gap-8",children:k.map((L,M)=>t.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl p-8 hover:shadow-xl hover:border-[#ff4d00]/30 transition-all group",children:[t.jsx("div",{className:"w-14 h-14 bg-red-50 rounded-xl flex items-center justify-center mb-6 text-red-500 group-hover:bg-[#ff4d00] group-hover:text-white transition-colors",children:L.icon}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:L.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:L.desc})]},M))})]})}),t.jsx("section",{id:"how-it-works",className:"py-20 md:py-32 px-6 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#ff4d00]/10 text-[#ff4d00] px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wide mb-4",children:[t.jsx(Gt,{size:14}),"How It Works"]}),t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Three Simple Steps"}),t.jsx("p",{className:"text-gray-500 max-w-xl mx-auto",children:"Start receiving quality traffic in under 5 minutes. No technical knowledge required."})]}),t.jsx("div",{className:"space-y-12 md:space-y-0 md:grid md:grid-cols-3 md:gap-8",children:I.map((L,M)=>t.jsxs("div",{className:"relative flex flex-col md:flex-col items-start md:items-center text-left md:text-center group",children:[M<I.length-1&&t.jsx("div",{className:"hidden md:block absolute top-12 left-[60%] w-[80%] h-0.5 bg-gradient-to-r from-[#ff4d00]/30 to-transparent"}),t.jsxs("div",{className:"flex items-center gap-4 md:flex-col md:gap-0 md:mb-6",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-[#ff4d00]/10 to-orange-50 rounded-2xl flex items-center justify-center text-[#ff4d00] mb-0 md:mb-4 shrink-0 group-hover:scale-110 transition-transform",children:L.icon}),t.jsxs("div",{className:"md:hidden",children:[t.jsxs("div",{className:"text-xs font-bold text-[#ff4d00] uppercase tracking-wide mb-1",children:["Step ",L.step]}),t.jsx("h3",{className:"text-lg font-bold",children:L.title}),t.jsx("p",{className:"text-gray-500 text-sm mt-1",children:L.desc})]})]}),t.jsxs("div",{className:"hidden md:block",children:[t.jsxs("div",{className:"text-xs font-bold text-[#ff4d00] uppercase tracking-wide mb-2",children:["Step ",L.step]}),t.jsx("h3",{className:"text-lg font-bold mb-2",children:L.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:L.desc})]})]},M))})]})}),t.jsx("section",{id:"pricing",className:"py-20 md:py-32 px-6 bg-gray-50",children:t.jsxs("div",{className:"max-w-5xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#ff4d00]/10 text-[#ff4d00] px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wide mb-4",children:[t.jsx(tx,{size:14}),"Transparent Pricing"]}),t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Pay Only For Results"}),t.jsx("p",{className:"text-gray-500 max-w-xl mx-auto",children:"No hidden fees. No monthly contracts. Choose your package and start immediately."})]}),t.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Lo.map(L=>t.jsxs("button",{onClick:()=>A(L.id),className:`px-6 py-3 text-xs font-bold uppercase tracking-widest transition-all ${S===L.id?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${L.popular?"ring-2 ring-[#ff4d00]/30":""}`,children:[L.name,L.popular&&t.jsx("span",{className:"ml-2 text-[10px]",children:""})]},L.id))}),t.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:_.map((L,M)=>{var me;const V=((me=Kf[S][L.volume])==null?void 0:me[1])||0,R=rw(S,L.volume,1),U=Lo.find(W=>W.id===S);return t.jsxs("div",{className:`relative bg-white rounded-2xl p-8 border transition-all ${L.highlight?"border-2 border-[#ff4d00] shadow-2xl shadow-[#ff4d00]/20 scale-105 z-10":"border-gray-100 hover:border-[#ff4d00]/30 hover:shadow-xl"}`,children:[L.badge&&t.jsx("div",{className:`absolute -top-3 left-1/2 -translate-x-1/2 ${L.badgeColor||"bg-[#ff4d00]"} text-white px-4 py-1 text-[10px] font-bold uppercase tracking-widest rounded-full whitespace-nowrap shadow-lg`,children:L.badge}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:L.name}),t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-4xl font-black text-gray-900",children:aw(V)}),t.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"one-time"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-4 mb-6 text-center border border-gray-100",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:L.volume>=1e6?`${L.volume/1e6}M`:`${L.volume/1e3}k`}),t.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wide",children:"Visitors"}),t.jsxs("div",{className:"text-xs text-[#ff4d00] font-bold mt-1",children:["~",iw(R),"/1k"]})]}),t.jsx("p",{className:"text-sm text-gray-500 mb-6",children:L.desc}),t.jsx("ul",{className:"space-y-3 mb-8",children:U==null?void 0:U.features.slice(0,4).map((W,ne)=>t.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(sn,{size:16,className:"text-green-500 shrink-0"}),W]},ne))}),t.jsx("button",{onClick:()=>D("signup"),className:`w-full py-4 rounded-xl text-sm font-bold uppercase tracking-wide transition-all ${L.highlight?"bg-[#ff4d00] text-white hover:bg-black shadow-lg":"bg-gray-900 text-white hover:bg-[#ff4d00]"}`,children:"Get Started"})]},M)})}),t.jsxs("div",{className:"mt-12 flex flex-wrap justify-center gap-6 text-sm text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bt,{size:16,className:"text-green-500"}),"Instant delivery"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bt,{size:16,className:"text-green-500"}),"Money-back guarantee"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bt,{size:16,className:"text-green-500"}),"190+ countries"]})]})]})}),t.jsx("section",{id:"faq",className:"py-20 md:py-32 px-6 bg-white",children:t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Frequently Asked Questions"}),t.jsx("p",{className:"text-gray-500",children:"Everything you need to know before getting started."})]}),t.jsx("div",{className:"space-y-4",children:Q.map((L,M)=>t.jsxs("div",{className:"bg-gray-50 border border-gray-100 rounded-xl overflow-hidden",children:[t.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left hover:bg-gray-100 transition-colors",onClick:()=>$(M),children:[t.jsx("span",{className:"font-bold text-gray-900 pr-4",children:L.question}),v===M?t.jsx(gu,{size:20,className:"text-[#ff4d00] shrink-0"}):t.jsx(wi,{size:20,className:"text-gray-400 shrink-0"})]}),v===M&&t.jsx("div",{className:"px-6 pb-6 text-gray-600 text-sm leading-relaxed border-t border-gray-100 pt-4",children:L.answer})]},M))})]})}),t.jsxs("section",{className:"py-20 md:py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600/50 to-transparent"}),t.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[t.jsx("h2",{className:"text-3xl md:text-5xl font-black text-white tracking-tight mb-6",children:"Ready to Boost Your Traffic?"}),t.jsx("p",{className:"text-white/80 text-lg mb-8 max-w-xl mx-auto",children:"Join thousands of marketers who trust Traffic Creator for their SEO campaigns."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsxs("button",{onClick:()=>D("signup"),className:"bg-black text-white px-8 py-4 rounded-xl text-sm font-bold uppercase tracking-wide hover:bg-white hover:text-black transition-colors shadow-xl",children:["Start Free Trial ",t.jsx(ds,{size:18,className:"inline ml-2"})]}),t.jsx(Ve,{to:"/pricing",className:"bg-white/10 backdrop-blur-sm border border-white/20 text-white px-8 py-4 rounded-xl text-sm font-bold uppercase tracking-wide hover:bg-white/20 transition-colors",children:"View All Plans"})]}),t.jsxs("div",{className:"mt-8 flex items-center justify-center gap-6 text-white/60 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(sn,{size:16})," No credit card"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(sn,{size:16})," Cancel anytime"]})]})]})]}),t.jsx("footer",{className:"bg-gray-900 text-white py-12 px-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl font-black text-[#ff4d00]",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-white/10 text-white px-2 py-1 rounded uppercase",children:"Creator"})]}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-gray-400",children:[t.jsx(Ve,{to:"/blog",className:"hover:text-white transition-colors",children:"Blog"}),t.jsx(Ve,{to:"/helpdesk",className:"hover:text-white transition-colors",children:"Help Center"}),t.jsx(Ve,{to:"/legal/privacy",className:"hover:text-white transition-colors",children:"Privacy"}),t.jsx(Ve,{to:"/legal/terms",className:"hover:text-white transition-colors",children:"Terms"}),t.jsx(Ve,{to:"/legal/refund",className:"hover:text-white transition-colors",children:"Refund Policy"})]}),t.jsx("div",{className:"text-sm text-gray-500",children:" 2025 Traffic Creator Inc."})]})})}),t.jsx(F9,{isOpen:i,onClose:()=>l(!1),initialMode:c,onSuccess:B,message:f})]})},lb=({onLogin:n,onNavigate:e,view:s})=>{const r=Vs(),[i,l]=w.useState(""),[c,h]=w.useState(""),[f,p]=w.useState(""),[x,b]=w.useState(!1),[v,E]=w.useState(""),[S,A]=w.useState(""),[C,P]=w.useState(!1),D=async()=>{if(i){b(!0);try{await q.resendVerificationEmail(i),r(`/verify-email?email=${encodeURIComponent(i)}`)}catch(B){E(B.message||"Failed to resend verification email")}finally{b(!1)}}},F=async B=>{B.preventDefault(),E(""),A(""),b(!0),P(!1);try{if(s==="signup"){if(c.length<6)throw new Error("Password must be at least 6 characters long");const $=await q.register(f,i,c);if($&&$.role){await q.syncAll(),n($.role);return}r(`/verify-email?email=${encodeURIComponent(i)}`);return}else if(s==="login"){const $=await q.login(i,c);if($.status==="suspended")throw new Error("Your account has been suspended. Please contact support.");await q.syncAll(),n($.role)}else s==="forgot"&&(await q.forgotPassword(i),A("Password reset link sent! Check your email."),l(""))}catch($){const Q=$.message||"An error occurred";E(Q),(Q.toLowerCase().includes("verify")||Q.toLowerCase().includes("verification"))&&P(!0)}finally{b(!1)}};return t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsxs(Ve,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:[t.jsx($n,{size:16})," Back to Home"]}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Bot"})]}),v&&t.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3",children:[t.jsx(ln,{className:"text-red-500 shrink-0",size:20}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-red-700 text-xs font-bold leading-relaxed",children:v}),C&&t.jsx("button",{onClick:D,className:"block mt-2 text-[#ff4d00] text-xs font-bold underline hover:no-underline",children:"Resend verification email"})]})]}),S&&t.jsxs("div",{className:"mb-6 bg-green-50 border-l-4 border-green-500 p-4 flex items-center gap-3",children:[t.jsx(bt,{className:"text-green-500 shrink-0",size:20}),t.jsx("span",{className:"text-green-700 text-xs font-bold leading-relaxed",children:S})]}),s==="forgot"?t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Reset Password"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"Enter your email address and we'll send you a link to reset your password."}),t.jsxs("form",{onSubmit:F,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(ji,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"email",required:!0,value:i,onChange:B=>l(B.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"name@company.com"})]})]}),t.jsx("button",{type:"submit",disabled:x,className:"w-full bg-black text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:x?t.jsxs(t.Fragment,{children:[t.jsx(cs,{className:"animate-spin",size:16})," Sending..."]}):"Send Reset Link"}),t.jsx("div",{className:"text-center",children:t.jsx(Ve,{to:"/login",className:"text-xs font-bold text-gray-400 uppercase tracking-wider hover:text-black",children:"Back to Login"})})]})]}):t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:s==="login"?"Welcome Back":"Create Account"}),t.jsx("p",{className:"text-gray-500 mb-8",children:s==="login"?"Enter your credentials to access your dashboard.":"Start your first traffic campaign today."}),t.jsxs("form",{onSubmit:F,className:"space-y-6",children:[s==="signup"&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Fn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"text",required:!0,value:f,onChange:B=>p(B.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"John Doe"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(ji,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"email",required:!0,value:i,onChange:B=>l(B.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"name@company.com"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Password"}),s==="login"&&t.jsx(Ve,{to:"/forgot",className:"text-[10px] font-bold text-[#ff4d00] uppercase tracking-wider hover:text-black",children:"Forgot?"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Vn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"password",required:!0,value:c,onChange:B=>h(B.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:s==="signup"?"Min. 6 characters":""})]}),s==="signup"&&c.length>0&&c.length<6&&t.jsx("p",{className:"text-red-500 text-xs mt-1 font-bold",children:"Password must be at least 6 characters"})]}),t.jsx("button",{type:"submit",disabled:x,className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:x?t.jsxs(t.Fragment,{children:[t.jsx(cs,{className:"animate-spin",size:16})," Processing..."]}):t.jsxs(t.Fragment,{children:[s==="login"?"Sign In":"Get Started"," ",t.jsx(ds,{size:16})]})})]}),t.jsxs("div",{className:"mt-8 text-center pt-8 border-t border-gray-100",children:[t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:s==="login"?"Don't have an account?":"Already have an account?"}),t.jsx(Ve,{to:s==="login"?"/signup":"/login",className:"text-sm font-black text-gray-900 hover:text-[#ff4d00] uppercase tracking-wide block",children:s==="login"?"Create Account":"Login Here"})]})]})]})})},H9=({initialData:n,onSave:e})=>{const[s,r]=w.useState(n),[i,l]=w.useState(!1);w.useEffect(()=>{r(n)},[n]);const c=(f,p,x)=>{let b=parseFloat(x);isNaN(b)&&(b=0),r(v=>v.map(E=>E.id===f?{...E,[p]:b}:E))},h=async()=>{l(!0);try{await q.savePricing(s),e&&e(),alert("Traffic Campaign Configuration Saved to Database!")}catch(f){console.error(f),alert("Failed to save configuration")}finally{l(!1)}};return t.jsxs("div",{className:"bg-white p-8 md:p-10 shadow-sm border border-gray-100 min-h-[600px] animate-in fade-in",children:[t.jsxs("div",{className:"mb-10",children:[t.jsx("h3",{className:"text-[#ff4d00] text-xs font-bold uppercase tracking-widest mb-1",children:"Global Pricing Configuration"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"Configure your traffic package rates per tier. Changes affect ALL new campaigns."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12",children:s.map(f=>t.jsxs("div",{className:"flex flex-col space-y-6 p-6 border border-gray-50 hover:border-gray-200 transition-colors bg-gray-50/50",children:[t.jsx("h4",{className:"text-xl font-black text-gray-900 mb-2 uppercase tracking-tight",children:f.name}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"CPM Rate ()"}),t.jsx("input",{type:"number",step:"0.01",value:f.hourlyRate,onChange:p=>c(f.id,"hourlyRate",p.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"Base Campaign Fee ()"}),t.jsx("input",{type:"number",value:f.baseFee,onChange:p=>c(f.id,"baseFee",p.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"Setup & Audit Fee ()"}),t.jsx("input",{type:"number",value:f.examFee,onChange:p=>c(f.id,"examFee",p.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]})]},f.id))}),t.jsx("div",{className:"mt-16 flex justify-end pt-8 border-t border-gray-100",children:t.jsx("button",{onClick:h,disabled:i,className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Global Configuration"})})]})},G9=({transactions:n})=>{try{const e=[];for(let l=6;l>=0;l--){const c=new Date;c.setDate(c.getDate()-l),e.push(c.toLocaleDateString("en-US",{month:"short",day:"numeric"}))}const s=Array.isArray(n)?n:[],r=e.map(l=>s.filter(h=>h&&h.type==="credit"&&h.date===l).reduce((h,f)=>h+(Number(f.amount)||0),0)),i=Math.max(...r,100);return t.jsx("div",{className:"h-48 flex items-end justify-between gap-2",children:r.map((l,c)=>t.jsxs("div",{className:"flex-1 flex flex-col justify-end group",children:[t.jsx("div",{className:"bg-black group-hover:bg-[#ff4d00] transition-colors rounded-t-sm w-full relative",style:{height:`${l/i*100}%`,minHeight:"4px"},children:t.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 text-[9px] font-bold text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:["",l]})}),t.jsx("div",{className:"text-[9px] text-gray-400 text-center mt-2 font-mono",children:e[c]})]},c))})}catch{return t.jsx("div",{className:"text-xs text-red-500 p-4",children:"Error loading chart"})}},K9=({users:n=[],projects:e=[],tickets:s=[],transactions:r=[],stats:i,onNavigate:l})=>{var C,P,D,F,B,$,Q;const c=Array.isArray(r)?r:[],h=Array.isArray(e)?e:[],f=Array.isArray(n)?n:[],p=Array.isArray(s)?s:[],x=((C=i==null?void 0:i.revenue)==null?void 0:C.total)??c.filter(_=>_&&_.type==="credit").reduce((_,k)=>_+(Number(k.amount)||0),0),b=((P=i==null?void 0:i.revenue)==null?void 0:P.today)??0,v=((D=i==null?void 0:i.projects)==null?void 0:D.active)??h.filter(_=>_&&_.status==="active").length,E=((F=i==null?void 0:i.users)==null?void 0:F.total)??f.length,S=((B=i==null?void 0:i.users)==null?void 0:B.new_today)??0,A=p.filter(_=>_&&_.status==="open").length;return t.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"Admin Overview"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors relative overflow-hidden group",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(Vr,{size:14})," Total Users"]}),t.jsx("div",{className:"text-4xl font-black text-gray-900",children:E}),S>0&&t.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[t.jsx(Or,{size:10})," +",S," Today"]})]}),t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(oa,{size:14})," Active Projects"]}),t.jsx("div",{className:"text-4xl font-black text-gray-900",children:v}),(($=i==null?void 0:i.projects)==null?void 0:$.new_today)>0&&t.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[t.jsx(t4,{size:10})," +",(Q=i==null?void 0:i.projects)==null?void 0:Q.new_today," New Today"]})]}),t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(Dr,{size:14})," Open Tickets"]}),t.jsx("div",{className:"text-4xl font-black text-gray-900",children:A})]}),t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(dr,{size:14})," Total Revenue"]}),t.jsxs("div",{className:"text-4xl font-black text-[#ff4d00]",children:["",(x||0).toLocaleString()]}),b>0&&t.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[t.jsx(on,{size:10})," +",b.toFixed(2)," Today"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"flex justify-between items-center mb-8",children:t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Revenue Trend (7 Days)"})}),t.jsx(G9,{transactions:c})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm flex flex-col",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900",children:"Recent Registrations"}),t.jsx("button",{onClick:()=>l("admin-users"),className:"text-[10px] uppercase font-bold text-gray-400 hover:text-[#ff4d00]",children:"View All"})]}),t.jsx("div",{className:"divide-y divide-gray-100 flex-1 overflow-y-auto max-h-64",children:f.slice(0,5).map(_=>t.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:((_==null?void 0:_.name)||"?").charAt(0)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-bold text-gray-900",children:(_==null?void 0:_.name)||"Unknown User"}),t.jsx("div",{className:"text-[9px] text-gray-400",children:(_==null?void 0:_.email)||"No Email"})]})]}),t.jsx("div",{className:"text-[9px] font-bold uppercase tracking-wide text-gray-400",children:(_==null?void 0:_.joinedDate)||"-"})]},(_==null?void 0:_.id)||Math.random()))})]})]})]})},W9=({users:n,projects:e,transactions:s,tickets:r,onRefresh:i,onEditUser:l})=>{const[c,h]=w.useState(""),[f,p]=w.useState(1),[x,b]=w.useState(100),[v,E]=w.useState("all"),S=$=>{const Q=e.filter(_=>_.userId===$);return{total:Q.length,active:Q.filter(_=>_.status==="active").length,expired:Q.filter(_=>_.status==="completed"||_.status==="stopped").length,demo:Q.filter(_=>_.plan==="Free Trial").length}},A=$=>s.filter(Q=>Q.userId===$&&Q.type==="debit"&&Q.status==="completed").reduce((Q,_)=>Q+_.amount,0),C=($,Q)=>{const _=new Date($).getTime();return(Date.now()-_)/(1e3*60*60)<=Q},P=w.useMemo(()=>{let $=n.filter(Q=>Q.name.toLowerCase().includes(c.toLowerCase())||Q.email.toLowerCase().includes(c.toLowerCase())||Q.id.includes(c));switch(v){case"balance":$.sort((Q,_)=>_.balance-Q.balance);break;case"spent":$.sort((Q,_)=>A(_.id)-A(Q.id));break;case"projects":$.sort((Q,_)=>S(_.id).total-S(Q.id).total);break;case"new_24h":$=$.filter(Q=>C(Q.joinedDate,24));break;case"new_7d":$=$.filter(Q=>C(Q.joinedDate,168));break;case"new_30d":$=$.filter(Q=>C(Q.joinedDate,720));break;default:$.sort((Q,_)=>new Date(_.joinedDate).getTime()-new Date(Q.joinedDate).getTime())}return $},[n,c,v,e,s]),D=Math.ceil(P.length/x),F=P.slice((f-1)*x,f*x);Ke.useEffect(()=>{p(1)},[v,c,x]);const B=[{id:"all",label:"All Users",icon:t.jsx(Vr,{size:14})},{id:"balance",label:"Highest Balance",icon:t.jsx(za,{size:14})},{id:"projects",label:"Most Projects",icon:t.jsx(oa,{size:14})},{id:"spent",label:"Top Spenders",icon:t.jsx(za,{size:14})},{id:"new_24h",label:"New (24h)",icon:t.jsx(us,{size:14})},{id:"new_7d",label:"New (7d)",icon:t.jsx(us,{size:14})},{id:"new_30d",label:"New (30d)",icon:t.jsx(us,{size:14})}];return t.jsxs("div",{className:"animate-in fade-in",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-6 gap-4",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"User Management"}),t.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[t.jsxs("div",{className:"relative flex-1 md:w-64",children:[t.jsx("input",{type:"text",placeholder:"Search users...",value:c,onChange:$=>h($.target.value),className:"w-full bg-white border border-gray-200 pl-10 pr-4 py-2 text-sm outline-none focus:border-[#ff4d00]"}),t.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14})]}),t.jsxs("select",{value:x,onChange:$=>b(Number($.target.value)),className:"bg-white border border-gray-200 px-3 py-2 text-sm font-bold text-gray-600 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:10,children:"10 per page"}),t.jsx("option",{value:25,children:"25 per page"}),t.jsx("option",{value:50,children:"50 per page"}),t.jsx("option",{value:100,children:"100 per page"})]}),t.jsxs("button",{onClick:()=>{const $=`ID,Name,Email,Role,Status,Balance,Joined,LastActive
`,Q=n.map(L=>`${L.id},"${L.name}",${L.email},${L.role},${L.status},${L.balance},${L.joinedDate},${L.lastIp||""}`).join(`
`),_=new Blob([$+Q],{type:"text/csv"}),k=window.URL.createObjectURL(_),I=document.createElement("a");I.href=k,I.download=`users_export_${new Date().toISOString().split("T")[0]}.csv`,I.click(),alert("User export started.")},className:"flex items-center gap-2 bg-white border border-gray-200 px-3 py-2 text-sm font-bold text-gray-600 hover:text-black hover:border-black transition-colors",children:[t.jsx(za,{size:14,className:"rotate-45"})," Export"]})]})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-6 border-b border-gray-200 pb-2",children:B.map($=>t.jsxs("button",{onClick:()=>E($.id),className:`flex items-center gap-2 px-4 py-2 text-xs font-bold uppercase tracking-wide transition-colors rounded-sm
                        ${v===$.id?"bg-black text-white":"bg-white text-gray-500 hover:bg-gray-100"}
                    `,children:[$.icon," ",$.label]},$.id))}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden min-h-[500px]",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User Details"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Project Analytics"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Financials"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:F.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"No users found matching your criteria."})}):F.map($=>{const Q=S($.id),_=A($.id);return t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:$.name.charAt(0)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:$.name}),t.jsx("div",{className:"text-[10px] text-gray-400",children:$.email}),t.jsxs("div",{className:"text-[9px] text-gray-300 mt-0.5",children:["Joined: ",$.joinedDate]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-2 text-[10px] uppercase font-bold text-gray-600",children:[t.jsx(oa,{size:10,className:"text-[#ff4d00]"})," ",Q.total," Total"]}),t.jsxs("div",{className:"flex flex-col gap-1 text-[9px] text-gray-400 font-medium mt-1",children:[t.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-green-500"}),Q.active," Active"]}),t.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300"}),Q.expired," Inactive"]}),Q.demo>0&&t.jsxs("span",{className:"text-blue-500 flex items-center gap-1",children:[t.jsx(Gt,{size:8})," ",Q.demo," Demo"]})]})]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("div",{className:"text-sm font-black text-gray-900",children:["",$.balance.toFixed(2)]}),t.jsxs("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:["Spent: ",_.toFixed(0)]})]}),t.jsx("td",{className:"px-6 py-4",children:$.status==="active"?t.jsxs("span",{className:"text-green-600 text-[10px] font-bold uppercase tracking-wide flex items-center gap-1",children:[t.jsx(bt,{size:10})," Active"]}):t.jsxs("span",{className:"text-red-600 text-[10px] font-bold uppercase tracking-wide flex items-center gap-1",children:[t.jsx(N3,{size:10})," Suspended"]})}),t.jsx("td",{className:"px-6 py-4 text-right flex justify-end gap-3 items-center",children:t.jsxs("button",{onClick:()=>l($.id),className:"bg-gray-100 hover:bg-black hover:text-white text-gray-600 px-4 py-2 text-[10px] font-bold uppercase tracking-wider transition-colors rounded-sm flex items-center gap-2",children:[t.jsx(Zv,{size:12})," Edit"]})})]},$.id)})})]})}),D>1&&t.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:["Page ",f," of ",D," (",P.length," Users)"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>p(Math.max(1,f-1)),disabled:f===1,className:"bg-white border border-gray-200 px-3 py-2 text-gray-600 hover:border-[#ff4d00] hover:text-[#ff4d00] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsx(Xv,{size:14})}),t.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,D)},($,Q)=>{let _=Q+1;return D>5&&f>3&&(_=f-2+Q),_>D?null:t.jsx("button",{onClick:()=>p(_),className:`w-8 h-8 text-xs font-bold flex items-center justify-center border transition-colors
                                            ${f===_?"bg-[#ff4d00] border-[#ff4d00] text-white":"bg-white border-gray-200 text-gray-600 hover:border-gray-300"}
                                        `,children:_},_)})}),t.jsx("button",{onClick:()=>p(Math.min(D,f+1)),disabled:f===D,className:"bg-white border border-gray-200 px-3 py-2 text-gray-600 hover:border-[#ff4d00] hover:text-[#ff4d00] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsx(xc,{size:14})})]})]})]})]})},Y9=({tickets:n,onRefresh:e})=>{var P;const[s,r]=w.useState(null),[i,l]=w.useState(""),[c,h]=w.useState("all"),[f,p]=w.useState([]),x=n.find(D=>D.id===s),b=[...n].sort((D,F)=>{const B=new Date(D.date).getTime();return new Date(F.date).getTime()-B}).filter(D=>c==="all"?!0:D.type===c);w.useEffect(()=>{s&&(q.markTicketRead(s),e())},[s]);const v=()=>{!i.trim()&&f.length===0||!s||(q.replyToTicket(s,i,"admin",f),l(""),p([]),e())},E=D=>{s&&(q.updateTicketStatus(s,D),e())},S=D=>{s&&(q.updateTicketPriority(s,D),e())},A=()=>{s&&confirm("Are you sure you want to permanently delete this ticket?")&&(q.deleteTicket(s),r(null),e())},C=D=>{if(D.target.files&&D.target.files[0]){const F=D.target.files[0].name;p([...f,F])}};return t.jsxs("div",{className:"animate-in fade-in h-[calc(100vh-140px)] flex flex-col",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Unified Inbox"}),t.jsxs("div",{className:"flex bg-white border border-gray-200 rounded-sm overflow-hidden",children:[t.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 text-xs font-bold uppercase ${c==="all"?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:"All"}),t.jsx("button",{onClick:()=>h("ticket"),className:`px-4 py-2 text-xs font-bold uppercase ${c==="ticket"?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:"Tickets"}),t.jsx("button",{onClick:()=>h("chat"),className:`px-4 py-2 text-xs font-bold uppercase ${c==="chat"?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:"Live Chats"})]})]}),t.jsxs("div",{className:"flex-1 bg-white border border-gray-200 shadow-sm flex overflow-hidden",children:[t.jsxs("div",{className:"w-1/3 border-r border-gray-200 flex flex-col",children:[t.jsx("div",{className:"p-4 border-b border-gray-200",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{placeholder:"Search...",className:"w-full bg-[#f9fafb] border border-gray-200 pl-9 pr-4 py-2 text-xs font-bold outline-none focus:border-[#ff4d00]"}),t.jsx(qn,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:b.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-xs",children:"No conversations found."}):b.map(D=>t.jsxs("div",{onClick:()=>r(D.id),className:`p-4 border-b border-gray-100 cursor-pointer transition-colors hover:bg-gray-50 ${s===D.id?"bg-orange-50 border-l-4 border-l-[#ff4d00]":"border-l-4 border-l-transparent"}`,children:[t.jsxs("div",{className:"flex justify-between mb-1",children:[t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${D.type==="chat"?"bg-blue-100 text-blue-600":"bg-gray-200 text-gray-600"}`,children:D.type}),t.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:D.date})]}),t.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-1 truncate",children:D.subject}),t.jsx("p",{className:"text-xs text-gray-500 truncate mb-2",children:D.lastMessage}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-gray-400 uppercase",children:[t.jsx(Fn,{size:10})," ",D.userName]}),D.status==="open"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"})]})]},D.id))})]}),x?t.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#fafafa]",children:[t.jsxs("div",{className:"bg-white p-6 border-b border-gray-200 flex justify-between items-start shadow-sm z-10",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:x.subject}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Fn,{size:14})," ",x.userName]}),t.jsx("span",{className:"text-gray-300",children:"|"}),t.jsxs("span",{className:"font-mono text-gray-400",children:["ID: ",x.id]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:x.priority,onChange:D=>S(D.target.value),className:`text-[10px] font-bold uppercase border-none outline-none cursor-pointer ${x.priority==="high"?"text-red-500":"text-gray-500"}`,children:[t.jsx("option",{value:"low",children:"Low Priority"}),t.jsx("option",{value:"medium",children:"Medium Priority"}),t.jsx("option",{value:"high",children:"High Priority"})]}),t.jsx("div",{className:"h-4 w-px bg-gray-200"}),t.jsxs("select",{value:x.status,onChange:D=>E(D.target.value),className:"bg-gray-100 text-gray-700 text-xs font-bold uppercase px-3 py-1.5 rounded-sm outline-none cursor-pointer hover:bg-gray-200",children:[t.jsx("option",{value:"open",children:"Open"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"closed",children:"Closed"})]}),t.jsx("button",{onClick:A,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-sm transition-colors",children:t.jsx(yc,{size:16})})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:(P=x.messages)==null?void 0:P.map(D=>t.jsx("div",{className:`flex ${D.sender==="admin"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[80%] ${D.sender==="admin"?"items-end":"items-start"} flex flex-col`,children:[t.jsxs("div",{className:`p-4 shadow-sm text-sm leading-relaxed ${D.sender==="admin"?"bg-black text-white rounded-l-lg rounded-tr-lg":"bg-white text-gray-900 border border-gray-200 rounded-r-lg rounded-tl-lg"}`,children:[D.text,D.attachments&&D.attachments.length>0&&t.jsx("div",{className:"mt-3 pt-3 border-t border-white/20 space-y-1",children:D.attachments.map((F,B)=>t.jsxs("div",{className:"flex items-center gap-2 text-xs opacity-80 bg-white/10 p-2 rounded-sm",children:[t.jsx(ef,{size:12})," ",F]},B))})]}),t.jsxs("span",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase tracking-wide",children:[D.sender==="admin"?"You":x.userName,"  ",D.date]})]})},D.id))}),t.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[f.length>0&&t.jsx("div",{className:"flex gap-2 mb-2 flex-wrap",children:f.map((D,F)=>t.jsxs("div",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-sm flex items-center gap-1",children:[D," ",t.jsx("button",{onClick:()=>p(f.filter(B=>B!==D)),children:t.jsx(nn,{size:12})})]},F))}),t.jsxs("div",{className:"flex gap-2 items-end",children:[t.jsxs("label",{className:"p-3 text-gray-400 hover:text-black cursor-pointer transition-colors",children:[t.jsx(ef,{size:20}),t.jsx("input",{type:"file",className:"hidden",onChange:C})]}),t.jsx("textarea",{value:i,onChange:D=>l(D.target.value),placeholder:"Type your reply...",className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] resize-none h-12 min-h-[48px] max-h-32 transition-colors",onKeyDown:D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),v())}}),t.jsx("button",{onClick:v,disabled:!i&&f.length===0,className:"p-3 bg-[#ff4d00] text-white hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(Ud,{size:20})})]})]})]}):t.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-300",children:[t.jsx(Dr,{size:64,className:"mb-4 opacity-20"}),t.jsx("p",{className:"text-sm font-medium",children:"Select a conversation to view details"})]})]})]})},Q9=({projects:n,onEditProject:e})=>{const[s,r]=w.useState(""),[i,l]=w.useState("all"),c=f=>{try{return new URL(f).hostname.replace("www.","")}catch{return f}},h=w.useMemo(()=>n.filter(f=>{var b;const p=f.name.toLowerCase().includes(s.toLowerCase())||f.id.toLowerCase().includes(s.toLowerCase())||((b=f.settings)==null?void 0:b.entryUrls)&&f.settings.entryUrls.toLowerCase().includes(s.toLowerCase()),x=i==="all"||f.status===i;return p&&x}),[n,s,i]);return t.jsxs("div",{className:"animate-in fade-in space-y-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Mission Control"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[t.jsxs("div",{className:"relative group",children:[t.jsx(qn,{className:"absolute left-3 top-2.5 text-gray-400 group-focus-within:text-[#ff4d00]",size:16}),t.jsx("input",{type:"text",placeholder:"Search by Domain, Name, or ID...",value:s,onChange:f=>r(f.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 text-sm font-bold w-full sm:w-64 outline-none focus:border-[#ff4d00] transition-colors"})]}),t.jsxs("select",{value:i,onChange:f=>l(f.target.value),className:"border border-gray-200 px-4 py-2 text-sm font-bold bg-white outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"all",children:"All Statuses"}),t.jsx("option",{value:"active",children:"Active Only"}),t.jsx("option",{value:"stopped",children:"Stopped/Paused"}),t.jsx("option",{value:"completed",children:"Completed"})]})]})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Campaign Target"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Client"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Plan & Traffic"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:h.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400 text-sm",children:"No campaigns found matching your criteria."})}):h.map(f=>{var p,x;return t.jsxs("tr",{className:"hover:bg-gray-50 group transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded text-gray-500",children:t.jsx(Rs,{size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:f.name}),t.jsx("div",{className:"text-xs text-gray-500 font-mono mt-0.5 max-w-[200px] truncate",title:(p=f.settings)==null?void 0:p.entryUrls,children:(x=f.settings)!=null&&x.entryUrls?c(f.settings.entryUrls):"No URL"}),t.jsxs("div",{className:"mt-1 text-[10px] text-gray-400 font-mono",children:["ID: ",f.id.substring(0,8),"..."]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-bold text-gray-500 uppercase tracking-tighter",children:[t.jsx(Fn,{size:12,className:"text-gray-400"}),t.jsx("span",{children:(f.userId||"Unknown User").split("-")[0]})]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("span",{className:`inline-block px-2 py-0.5 text-[10px] font-bold uppercase tracking-wide rounded mb-1 ${f.plan.toLowerCase().includes("agency")?"bg-purple-100 text-purple-700":f.plan.toLowerCase().includes("pro")?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:f.plan}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Expires: ",t.jsx("span",{className:"font-mono text-gray-700",children:f.expires})]})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-[9px] font-black uppercase tracking-wider rounded-full ${f.status==="active"?"bg-[#ff4d00]/10 text-[#ff4d00] ring-1 ring-[#ff4d00]/20":f.status==="completed"?"bg-green-100 text-green-700 ring-1 ring-green-600/20":"bg-gray-100 text-gray-500 ring-1 ring-gray-200"}`,children:[f.status==="active"?t.jsx(X3,{size:10,className:"fill-current"}):f.status==="stopped"?t.jsx(Q3,{size:10}):null,f.status]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("button",{onClick:()=>e(f.id),className:"bg-white border border-gray-200 hover:border-black hover:bg-black hover:text-white text-gray-600 px-3 py-1.5 text-[10px] font-bold uppercase tracking-wider transition-all rounded-sm flex items-center gap-2 ml-auto shadow-sm",children:[t.jsx(Zv,{size:12})," Manage"]})})]},f.id)})})]})})})]})},J9=({transactions:n,onEditTransaction:e})=>t.jsxs("div",{className:"animate-in fade-in",children:[t.jsxs("div",{className:"flex justify-between items-end mb-6",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Global Transactions"}),t.jsxs("button",{className:"flex items-center gap-2 bg-white border border-gray-200 px-4 py-2 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00]",children:[t.jsx(xi,{size:14})," Export CSV"]})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Trx ID"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User ID"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(s=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:s.id}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:s.date}),t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-400",children:s.userId||"N/A"}),t.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:s.desc}),t.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${s.type==="credit"?"text-green-600":"text-red-500"}`,children:[s.type==="credit"?"+":"-","",s.amount.toFixed(2)]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("button",{onClick:()=>e(s.id),className:"bg-gray-100 hover:bg-black hover:text-white text-gray-600 px-3 py-1.5 text-[10px] font-bold uppercase tracking-wider transition-colors rounded-sm flex items-center gap-2 ml-auto",children:[t.jsx(Zv,{size:12})," Edit"]})})]},s.id))})]})})]}),X9=({initialSettings:n,onSave:e})=>{const[s,r]=w.useState(n),i=()=>{q.saveSystemSettings(s),e(),alert("System settings updated.")};return t.jsxs("div",{className:"animate-in fade-in max-w-2xl",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"System Settings"}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Site Name"}),t.jsx("input",{value:s.siteName,onChange:l=>r({...s,siteName:l.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Support Email"}),t.jsx("input",{value:s.supportEmail,onChange:l=>r({...s,supportEmail:l.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2 flex items-center gap-1",children:[t.jsx(Vd,{size:12})," SparkTraffic API Key"]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{value:s.sparkTrafficApiKey||"",onChange:l=>r({...s,sparkTrafficApiKey:l.target.value}),type:"password",className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-mono text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Enter API Key from v2.sparktraffic.com"}),t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:t.jsx(Vd,{size:16})})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Maintenance Mode"}),t.jsx("button",{onClick:()=>r({...s,maintenanceMode:!s.maintenanceMode}),className:`w-12 h-6 flex items-center p-1 transition-colors duration-300 ${s.maintenanceMode?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${s.maintenanceMode?"translate-x-6":"translate-x-0"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Allow New Registrations"}),t.jsx("button",{onClick:()=>r({...s,allowRegistrations:!s.allowRegistrations}),className:`w-12 h-6 flex items-center p-1 transition-colors duration-300 ${s.allowRegistrations?"bg-green-500":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${s.allowRegistrations?"translate-x-6":"translate-x-0"}`})})]}),t.jsx("div",{className:"pt-4 border-t border-gray-100",children:t.jsxs("button",{onClick:i,className:"bg-black text-white px-8 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(Fa,{size:14})," Save Configuration"]})})]})]})},Z9=({onRefresh:n})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!1),[l,c]=w.useState(""),[h,f]=w.useState(""),[p,x]=w.useState("info"),[b,v]=w.useState(""),[E,S]=w.useState(""),[A,C]=w.useState(!1),[P,D]=w.useState(""),[F,B]=w.useState(""),$=60,Q=250,_=async()=>{i(!0);const U=await q.getAdminBroadcasts();s(U),i(!1)};w.useEffect(()=>{_()},[]);const k=async()=>{if(!l.trim()||!h.trim())return;let U;A&&P&&F&&(U=new Date(`${P}T${F}`).toISOString()),await q.createBroadcast({title:l.substring(0,$),message:h.substring(0,Q),type:p,isActive:!0,expiresAt:U,actionUrl:b.trim()||void 0,actionText:E.trim()||void 0}),c(""),f(""),x("info"),v(""),S(""),C(!1),D(""),B(""),_(),n&&n()},I=async U=>{await q.updateBroadcast(U.id,{...U,isActive:!U.isActive}),_()},L=async U=>{window.confirm("Are you sure you want to delete this broadcast?")&&(await q.deleteBroadcast(U),_())},M=U=>{if(c(U.title),f(U.message),x(U.type),v(U.actionUrl||""),S(U.actionText||""),U.expiresAt){const me=new Date(U.expiresAt);C(!0),D(me.toISOString().split("T")[0]),B(me.toTimeString().split(" ")[0].substring(0,5))}else C(!1);window.scrollTo({top:0,behavior:"smooth"})},V=U=>{switch(U){case"success":return"bg-green-500 border-green-500";case"warning":return"bg-orange-500 border-orange-500";case"critical":return"bg-red-500 border-red-500";default:return"bg-blue-500 border-blue-500"}},R=U=>{switch(U){case"success":return t.jsx(bt,{size:14,className:"text-white"});case"warning":return t.jsx(ln,{size:14,className:"text-white"});case"critical":return t.jsx(Ql,{size:14,className:"text-white"});default:return t.jsx(Jl,{size:14,className:"text-white"})}};return t.jsxs("div",{className:"animate-in fade-in",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"System Broadcasts"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm mb-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Bb,{size:14})," Create New Broadcast"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx(fd,{children:"Title / Headline"}),t.jsxs("span",{className:`text-[9px] font-bold ${l.length>$?"text-red-500":"text-gray-400"}`,children:[l.length,"/",$]})]}),t.jsx("input",{value:l,onChange:U=>c(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] font-bold",placeholder:"e.g. Scheduled Maintenance",maxLength:$+10})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx(fd,{children:"Message Body"}),t.jsxs("span",{className:`text-[9px] font-bold ${h.length>Q?"text-red-500":"text-gray-400"}`,children:[h.length,"/",Q]})]}),t.jsx("textarea",{value:h,onChange:U=>f(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] font-medium h-24 resize-none",placeholder:"Detailed explanation...",maxLength:Q+20})]}),t.jsxs("div",{className:"w-full md:w-48",children:[t.jsx(fd,{children:"Type"}),t.jsxs("select",{value:p,onChange:U=>x(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"info",children:"Info (Blue)"}),t.jsx("option",{value:"success",children:"Success (Green)"}),t.jsx("option",{value:"warning",children:"Warning (Orange)"}),t.jsx("option",{value:"critical",children:"Critical (Red)"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-50 pt-6",children:[t.jsxs("div",{children:[t.jsx(fd,{children:"Action URL (Optional)"}),t.jsx("input",{value:b,onChange:U=>v(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",placeholder:"https://example.com/blog"})]}),t.jsxs("div",{children:[t.jsx(fd,{children:"Action Button Text"}),t.jsx("input",{value:E,onChange:U=>S(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",placeholder:"Read More"})]})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(fd,{children:"Auto-Expire (Hidden after)"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>C(!A),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${A?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${A?"translate-x-5":"translate-x-0"}`})}),t.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:A?"Enabled":"Disabled"})]})]}),A&&t.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-in fade-in slide-in-from-top-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1 block",children:"Expiry Date"}),t.jsx("input",{type:"date",value:P,onChange:U=>D(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1 block",children:"Expiry Time"}),t.jsx("input",{type:"time",value:F,onChange:U=>B(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]"})]})]})]}),t.jsxs("button",{onClick:k,disabled:l.length>$||h.length>Q,className:"w-full bg-black text-white py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:hover:bg-black",children:[t.jsx(Bb,{size:14})," Publish Broadcast"]})]})]})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400",children:"Archived & Active"}),t.jsx("button",{onClick:_,className:"text-[10px] font-bold text-[#ff4d00] underline uppercase",children:"Refresh"})]}),t.jsxs("div",{className:"space-y-4",children:[r&&t.jsx("div",{className:"text-center p-4 text-gray-400 text-xs",children:"Loading..."}),!r&&e.length===0&&t.jsx("div",{className:"p-8 text-center text-gray-400 border border-gray-200 border-dashed bg-gray-50",children:"No broadcasts found."}),e.map(U=>t.jsxs("div",{className:`p-6 border-l-4 shadow-sm bg-white relative group ${U.isActive?V(U.type).split(" ")[1]:"opacity-60 grayscale"}`,children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:`flex items-center gap-1 text-[9px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded-sm text-white ${V(U.type).split(" ")[0]}`,children:[R(U.type)," ",U.type]}),t.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:new Date(U.createdAt).toLocaleDateString()})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>M(U),className:"text-gray-300 hover:text-black transition-colors",title:"Duplicate Broadcast",children:t.jsx(_n,{size:14})}),t.jsx("button",{onClick:()=>L(U.id),className:"text-gray-300 hover:text-red-500 transition-colors",children:t.jsx(yc,{size:14})})]})]}),t.jsx("h4",{className:"font-black text-sm uppercase mb-1",children:U.title}),t.jsx("p",{className:"text-xs font-medium text-gray-600 mb-3",children:U.message}),U.actionUrl&&t.jsxs("div",{className:"mb-3 flex items-center gap-1 text-[10px] font-bold text-[#ff4d00] uppercase tracking-wider",children:[t.jsx(Hf,{size:10})," ",U.actionText||"Action",": ",t.jsx("span",{className:"text-gray-400 font-medium normal-case",children:U.actionUrl})]}),t.jsxs("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-50 text-[10px] text-gray-500 font-bold uppercase transition-colors",children:[U.expiresAt&&t.jsxs("div",{className:"flex items-center gap-1 text-[#ff4d00]",children:[t.jsx(us,{size:12})," Expires: ",new Date(U.expiresAt).toLocaleString()]}),!U.expiresAt&&t.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[t.jsx(us,{size:12})," No Expiration"]})]}),t.jsx("div",{className:"mt-4",children:t.jsxs("button",{onClick:()=>I(U),className:`text-xs font-bold uppercase flex items-center gap-2 ${U.isActive?"text-green-600":"text-gray-400"}`,children:[U.isActive?t.jsx(lM,{size:20}):t.jsx(iM,{size:20}),U.isActive?"Live":"Hidden"]})})]},U.id))]})]})]})]})},fd=({children:n})=>t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:n}),eL=({onStartChat:n})=>{var E;const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(""),h=async()=>{const S=await q.getRealTimeVisitors();s(S),i(!1)};w.useEffect(()=>{h();const S=setInterval(h,1e4);return()=>clearInterval(S)},[]);const f=S=>{let C=q.getTickets().find(P=>(S.userId?P.userId===S.userId:!1)&&P.type==="chat"&&P.status!=="closed");if(!C){const P={id:`C-${Date.now().toString().slice(-4)}`,type:"chat",userId:S.userId||`guest-${Date.now()}`,userName:S.name,guestEmail:S.email!=="Unknown"?S.email:void 0,subject:"Admin Initiated Chat",status:"open",priority:"medium",date:new Date().toLocaleDateString(),lastMessage:"Admin started chat",unread:!1,messages:[{id:`m-${Date.now()}`,sender:"admin",text:"Hello! I noticed you are online. How can I help you today?",date:new Date().toLocaleString()}]};q.createTicket(P),C=P}n(C.id)},p=e.filter(S=>S.name.toLowerCase().includes(l.toLowerCase())||S.email.toLowerCase().includes(l.toLowerCase())||S.location.toLowerCase().includes(l.toLowerCase())),x=e.filter(S=>S.device==="Mobile").length,b=e.filter(S=>S.device==="Desktop").length,v=e.length>0?(E=e.sort((S,A)=>e.filter(C=>C.currentPage===S.currentPage).length-e.filter(C=>C.currentPage===A.currentPage).length).pop())==null?void 0:E.currentPage:"N/A";return t.jsxs("div",{className:"animate-in fade-in h-full flex flex-col",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-6 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxs("span",{className:"relative flex h-3 w-3",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-500 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-green-600",children:"Live Network Data"})]}),t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Real-Time Visitors"})]}),t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px]",children:[t.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Mobile"}),t.jsx("span",{className:"text-lg font-black text-gray-900",children:x})]}),t.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px]",children:[t.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Desktop"}),t.jsx("span",{className:"text-lg font-black text-gray-900",children:b})]}),t.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px] hidden md:flex",children:[t.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Top Page"}),t.jsx("span",{className:"text-xs font-black text-gray-900 truncate max-w-[80px]",children:v})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search IP, Name...",value:l,onChange:S=>c(S.target.value),className:"bg-white border border-gray-200 pl-10 pr-4 py-3 text-sm outline-none focus:border-[#ff4d00] shadow-sm w-48"}),t.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14})]})]})]}),e.length===0&&!r&&t.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 mb-6 flex items-center gap-3",children:[t.jsx(ln,{className:"text-orange-500",size:20}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-orange-800",children:"No active visitors"}),t.jsx("p",{className:"text-xs text-orange-700",children:"The database is currently empty of live sessions. Open the site in an Incognito window to see yourself appear here."})]})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden flex-1",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User Identity"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Current Page"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Last Active"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Environment"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:r?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400 animate-pulse",children:"Scanning live network..."})}):p.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400",children:"No active users found matching your filter."})}):p.map(S=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:S.name.charAt(0)}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[S.name,S.role==="guest"&&t.jsx("span",{className:"bg-gray-200 text-gray-600 text-[9px] px-1.5 py-0.5 rounded-sm uppercase",children:"Guest"})]}),t.jsx("div",{className:"text-[10px] text-gray-400",children:S.email}),t.jsxs("div",{className:"text-[9px] text-gray-300 mt-0.5 flex items-center gap-1",children:[t.jsx(Rs,{size:10})," ",S.location]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-gray-700 font-mono bg-gray-100 px-2 py-1 rounded-sm",children:S.currentPage})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"text-xs font-bold text-gray-600 flex items-center gap-1",children:[t.jsx(us,{size:12,className:"text-gray-400"})," ",S.lastActive]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("div",{className:"text-xs font-medium text-gray-600 flex items-center gap-2",children:[S.device.includes("Mobile")?t.jsx(Bd,{size:14}):t.jsx(zd,{size:14}),S.device," / ",S.browser]}),t.jsx("div",{className:"text-[10px] text-gray-400 font-mono mt-1",children:S.ip})]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("button",{onClick:()=>f(S),className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 ml-auto shadow-sm",children:[t.jsx(Dr,{size:12})," Chat"]})})]},S.id))})]})})})]})},tL=({userId:n,onNavigateToProject:e,onUpdate:s})=>{var ce,_e;const[r,i]=w.useState(null),[l,c]=w.useState([]),[h,f]=w.useState([]),[p,x]=w.useState([]),[b,v]=w.useState(!0),[E,S]=w.useState(null),[A,C]=w.useState(""),[P,D]=w.useState("economy"),[F,B]=w.useState(""),[$,Q]=w.useState(!1);Ke.useEffect(()=>{_()},[n]);const _=async()=>{v(!0),S(null);try{const[K,ye,Te,Oe]=await Promise.all([q.getUserDetails(n),q.getUserTransactions(n),q.getUserProjects(n),q.getBalanceAdjustments(n)]);i(K),c(ye),f(Te),x(Oe)}catch(K){console.error("Failed to load user data:",K),S("Failed to load user data. Please try again.")}v(!1)},k=async()=>{if(!A||!F){alert("Please enter amount and reason");return}try{await q.addBonusHits(n,{tier:P,hits:parseInt(A),reason:F}),alert("Bonus hits added successfully"),Q(!1),C(""),B(""),_(),s()}catch(K){alert(K.message||"Failed to add bonus hits")}},I=async()=>{if(confirm("Send password reset email to user?"))try{await q.sendPasswordReset(n),alert("Password reset email sent")}catch{alert("Failed to send password reset")}},L=async()=>{if(confirm("Resend verification email to user?"))try{await q.resendVerification(n),alert("Verification email sent")}catch{alert("Failed to send verification email")}},M=async()=>{if(confirm("Regenerate API key? This will invalidate the old key."))try{const K=await q.adminRegenerateApiKey(n);alert(`New API Key: ${K}`),_()}catch{alert("Failed to regenerate API key")}},V=async()=>{try{const K=await q.adminExportUserData(n),ye=new Blob([JSON.stringify(K,null,2)],{type:"application/json"}),Te=URL.createObjectURL(ye),Oe=document.createElement("a");Oe.href=Te,Oe.download=`user_${n}_export.json`,Oe.click(),URL.revokeObjectURL(Te)}catch{alert("Failed to export user data")}},R=async()=>{if(!(r!=null&&r.user))return;const K=prompt("Enter suspension reason:");if(!K)return;const ye={...r.user,status:"suspended",banReason:K};await q.updateUser(ye),_(),s()},U=async()=>{if(confirm("Log in as this user?"))try{await q.startImpersonation(n),window.location.href="/dashboard"}catch{alert("Failed to start impersonation")}};if(b)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."});if(E)return t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),E,t.jsx("button",{onClick:_,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]});if(!r)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No user details found."});const{user:me,tierBalances:W,totalSpent:ne,totalHitsPurchased:ve,totalHitsUsed:Re,referralsCount:Ae,referralEarnings:H}=r;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(oa,{size:16,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Economy"})]}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:W.economy.toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]}),t.jsxs("div",{className:"bg-white border border-orange-200 p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(yf,{size:16,className:"text-orange-500"}),t.jsx("span",{className:"text-xs font-bold text-orange-500 uppercase",children:"Professional"})]}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:W.professional.toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]}),t.jsxs("div",{className:"bg-[#111] p-6 shadow-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Gt,{size:16,className:"text-[#ff4d00]"}),t.jsx("span",{className:"text-xs font-bold text-[#ff4d00] uppercase",children:"Expert"})]}),t.jsx("div",{className:"text-2xl font-black text-white",children:W.expert.toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-4",children:"Spending Summary"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Total Deposited"}),t.jsxs("div",{className:"text-xl font-black text-green-600",children:["",ne.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Hits Purchased"}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:ve.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Hits Used"}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:Re.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Referrals"}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:Ae})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Referral Earnings"}),t.jsxs("div",{className:"text-xl font-black text-green-600",children:["",H.toFixed(2)]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("button",{onClick:()=>Q(!$),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-xs font-bold uppercase hover:bg-green-700 transition-colors",children:[t.jsx(Or,{size:14})," Add Bonus Hits"]}),t.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-xs font-bold uppercase hover:bg-blue-700 transition-colors",children:[t.jsx(Vd,{size:14})," Send Password Reset"]}),t.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white text-xs font-bold uppercase hover:bg-purple-700 transition-colors",children:[t.jsx(So,{size:14})," Resend Verification"]}),t.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white text-xs font-bold uppercase hover:bg-gray-700 transition-colors",children:[t.jsx(Vd,{size:14})," Regenerate API Key"]}),t.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-4 py-2 bg-[#ff4d00] text-white text-xs font-bold uppercase hover:bg-orange-700 transition-colors",children:[t.jsx(l4,{size:14})," Login As User"]}),t.jsxs("button",{onClick:V,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white text-xs font-bold uppercase hover:bg-gray-900 transition-colors",children:[t.jsx(xi,{size:14})," Export Data"]}),me.status==="active"?t.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-xs font-bold uppercase hover:bg-red-700 transition-colors",children:[t.jsx(ln,{size:14})," Suspend Account"]}):t.jsxs("button",{onClick:async()=>{const K={...me,status:"active",banReason:""};await q.updateUser(K),_(),s()},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-xs font-bold uppercase hover:bg-green-700 transition-colors",children:[t.jsx(Mr,{size:14})," Reactivate Account"]})]}),$&&t.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200",children:t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Tier"}),t.jsxs("select",{value:P,onChange:K=>D(K.target.value),className:"w-full p-2 text-sm border border-gray-200",children:[t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Hits"}),t.jsx("input",{type:"number",value:A,onChange:K=>C(K.target.value),placeholder:"50000",className:"w-full p-2 text-sm border border-gray-200"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Reason"}),t.jsx("input",{type:"text",value:F,onChange:K=>B(K.target.value),placeholder:"Bonus for testing",className:"w-full p-2 text-sm border border-gray-200"})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{onClick:k,className:"w-full py-2 bg-green-600 text-white text-xs font-bold uppercase hover:bg-green-700",children:"Add Hits"})})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(vf,{size:14})," Recent Projects (",h.length,")"]})}),h.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No projects found"}):t.jsx("div",{className:"divide-y divide-gray-50",children:h.slice(0,5).map(K=>{var ye;return t.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 cursor-pointer",onClick:()=>e(K.id),children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-gray-900",children:K.name}),t.jsxs("div",{className:"text-xs text-gray-400",children:[K.tier,"  Created ",(ye=K.createdAt)==null?void 0:ye.split("T")[0]]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:`px-2 py-1 text-[10px] font-bold uppercase ${K.status==="active"?"bg-green-100 text-green-700":K.status==="stopped"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:K.status}),t.jsx(xc,{size:16,className:"text-gray-400"})]})]},K.id)})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(za,{size:14})," Recent Transactions (",l.length,")"]})}),l.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No transactions found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-right",children:"Amount"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:l.slice(0,5).map(K=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:K.date}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-900",children:K.desc}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:K.tier||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold",children:K.hits?K.hits.toLocaleString():"-"}),t.jsxs("td",{className:`px-6 py-3 text-xs font-bold text-right ${K.type==="credit"?"text-green-600":"text-gray-900"}`,children:[K.type==="credit"?"+":"-","",K.amount.toFixed(2)]})]},K.id))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(a4,{size:14})," Balance Adjustments (",p.length,")"]})}),p.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No balance adjustments found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Admin"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Reason"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:p.slice(0,5).map(K=>{var ye;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:K.createdAt?new Date(K.createdAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-900",children:K.adminEmail||"System"}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:t.jsx("span",{className:K.adjustmentType==="credit"?"text-green-600":"text-red-600",children:K.adjustmentType})}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:K.tier||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold",children:t.jsxs("span",{className:K.adjustmentType==="credit"?"text-green-600":"text-red-600",children:[K.adjustmentType==="credit"?"+":"-",((ye=K.hits)==null?void 0:ye.toLocaleString())||"0"]})}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600",children:K.reason||"-"})]},K.id)})})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Rs,{size:14})," Login History"]}),((ce=r==null?void 0:r.user)==null?void 0:ce.lastIp)&&t.jsxs("span",{className:"text-xs text-gray-400",children:["Last IP: ",t.jsx("span",{className:"font-mono text-gray-600",children:r.user.lastIp})]})]}),!((_e=r==null?void 0:r.user)!=null&&_e.loginHistory)||r.user.loginHistory.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No login history found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"IP Address"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Device"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Type"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:r.user.loginHistory.map((K,ye)=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:K.date||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs font-mono text-gray-900",children:K.ip||"-"}),t.jsxs("td",{className:"px-6 py-3 text-xs text-gray-600 flex items-center gap-2",children:[t.jsx(zd,{size:12,className:"text-gray-400"}),t.jsx("span",{className:"truncate max-w-[300px]",title:K.device,children:K.device||"-"})]}),t.jsx("td",{className:"px-6 py-3 text-xs",children:t.jsx("span",{className:`px-2 py-1 text-[10px] font-bold uppercase rounded ${K.type==="registration"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:K.type||"login"})})]},ye))})]})]})]})},sL=({userId:n})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(null),[h,f]=w.useState("all"),[p,x]=w.useState("all"),[b,v]=w.useState(1),E=20;w.useEffect(()=>{S()},[n]);const S=async()=>{i(!0),c(null);try{const B=await q.getUserTransactions(n);s(B)}catch(B){console.error("Failed to load transactions:",B),c("Failed to load transactions.")}i(!1)},A=e.filter(B=>!(h!=="all"&&B.type!==h||p!=="all"&&B.tier!==p)),C=Math.ceil(A.length/E),P=A.slice((b-1)*E,b*E),D=B=>{if(!B)return t.jsx("span",{className:"text-gray-400",children:"-"});const $={economy:"bg-gray-100 text-gray-600",professional:"bg-orange-100 text-orange-600",expert:"bg-[#ff4d00]/10 text-[#ff4d00]"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${$[B]||"bg-gray-100 text-gray-600"}`,children:B})},F=()=>{const B=["Date","Description","Tier","Hits","Amount","Status"],$=A.map(k=>[k.date,k.desc,k.tier||"",k.hits||"",k.amount.toFixed(2),k.status]),Q="data:text/csv;charset=utf-8,"+B.join(",")+`
`+$.map(k=>k.join(",")).join(`
`),_=document.createElement("a");_.href=encodeURI(Q),_.download=`transactions_${n}.csv`,_.click()};return r?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):l?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),l,t.jsx("button",{onClick:S,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xu,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filters:"})]}),t.jsxs("select",{value:h,onChange:B=>{f(B.target.value),v(1)},className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"credit",children:"Credits"}),t.jsx("option",{value:"debit",children:"Debits"})]}),t.jsxs("select",{value:p,onChange:B=>{x(B.target.value),v(1)},className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Tiers"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]}),t.jsx("div",{className:"flex-1"}),t.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white text-xs font-bold uppercase hover:bg-gray-900",children:[t.jsx(xi,{size:14})," Export CSV"]})]})}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-right",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-center",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:P.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No transactions found"})}):P.map(B=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 font-mono",children:B.date}),t.jsx("td",{className:"px-6 py-4 text-xs font-medium text-gray-900",children:B.desc}),t.jsx("td",{className:"px-6 py-4",children:D(B.tier)}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:B.hits?t.jsxs("span",{className:B.type==="credit"?"text-green-600":"text-red-600",children:[B.type==="credit"?"+":"-",B.hits.toLocaleString()]}):"-"}),t.jsxs("td",{className:`px-6 py-4 text-sm font-bold text-right ${B.type==="credit"?"text-green-600":"text-gray-900"}`,children:[B.type==="credit"?"+":"-","",B.amount.toFixed(2)]}),t.jsx("td",{className:"px-6 py-4 text-center",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${B.status==="completed"?"bg-green-100 text-green-700":B.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:B.status})})]},B.id))})]}),C>1&&t.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"text-xs text-gray-500",children:["Showing ",(b-1)*E+1," to ",Math.min(b*E,A.length)," of ",A.length]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>v(B=>Math.max(1,B-1)),disabled:b===1,className:"p-2 border border-gray-200 disabled:opacity-50",children:t.jsx(Xv,{size:14})}),t.jsxs("span",{className:"text-xs font-bold",children:["Page ",b," of ",C]}),t.jsx("button",{onClick:()=>v(B=>Math.min(C,B+1)),disabled:b===C,className:"p-2 border border-gray-200 disabled:opacity-50",children:t.jsx(xc,{size:14})})]})]})]})]})},nL=({userId:n,onNavigateToProject:e})=>{const[s,r]=w.useState([]),[i,l]=w.useState(!0),[c,h]=w.useState(null),[f,p]=w.useState("all"),[x,b]=w.useState("all");w.useEffect(()=>{v()},[n]);const v=async()=>{l(!0),h(null);try{const C=await q.getUserProjects(n);r(C)}catch(C){console.error("Failed to load projects:",C),h("Failed to load projects.")}l(!1)},E=s.filter(C=>!(f!=="all"&&C.status!==f||x!=="all"&&C.tier!==x)),S=C=>{const P={active:"bg-green-100 text-green-700",stopped:"bg-yellow-100 text-yellow-700",completed:"bg-gray-100 text-gray-700"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${P[C||""]||"bg-gray-100 text-gray-700"}`,children:C||"unknown"})},A=C=>{if(!C)return t.jsx("span",{className:"text-gray-400",children:"-"});const P={economy:"bg-gray-100 text-gray-600",professional:"bg-orange-100 text-orange-600",expert:"bg-[#ff4d00]/10 text-[#ff4d00]"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${P[C]||"bg-gray-100 text-gray-600"}`,children:C})};return i?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):c?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),c,t.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xu,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filters:"})]}),t.jsxs("select",{value:f,onChange:C=>p(C.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"stopped",children:"Stopped"}),t.jsx("option",{value:"completed",children:"Completed"})]}),t.jsxs("select",{value:x,onChange:C=>b(C.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Tiers"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]}),t.jsx("div",{className:"flex-1"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[E.length," projects"]})]})}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:E.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No projects found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits Sent"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Target"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Created"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Expires"}),t.jsx("th",{className:"px-6 py-3"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:E.map(C=>{var P,D,F;return t.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>e(C.id),children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"font-bold text-gray-900",children:C.name})}),t.jsx("td",{className:"px-6 py-4",children:S(C.status)}),t.jsx("td",{className:"px-6 py-4",children:A(C.tier)}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:(P=C.customTarget)!=null&&P.totalVisitors?C.customTarget.totalVisitors.toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:(D=C.customTarget)!=null&&D.dailyLimit?`${C.customTarget.dailyLimit.toLocaleString()}/day`:"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500 font-mono",children:((F=C.createdAt)==null?void 0:F.split("T")[0])||"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500 font-mono",children:C.expires||"-"}),t.jsx("td",{className:"px-6 py-4",children:t.jsx(xc,{size:16,className:"text-gray-400"})})]},C.id)})})]})})]})},rL=({userId:n})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(null),[h,f]=w.useState(null),[p,x]=w.useState(""),[b,v]=w.useState("all");w.useEffect(()=>{E()},[n]);const E=async()=>{i(!0),c(null);try{const P=await q.getUserTickets(n);s(P)}catch(P){console.error("Failed to load tickets:",P),c("Failed to load tickets.")}i(!1)},S=e.filter(P=>!(b!=="all"&&P.status!==b)),A=P=>{const D={open:"bg-green-100 text-green-700","in-progress":"bg-blue-100 text-blue-700",closed:"bg-gray-100 text-gray-700"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${D[P||""]||"bg-gray-100 text-gray-700"}`,children:P||"open"})},C=P=>{const D={low:"bg-gray-100 text-gray-600",medium:"bg-yellow-100 text-yellow-700",high:"bg-red-100 text-red-700"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${D[P||""]||"bg-gray-100 text-gray-600"}`,children:P||"low"})};return r?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):l?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),l,t.jsx("button",{onClick:E,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filter:"}),t.jsxs("select",{value:b,onChange:P=>v(P.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"open",children:"Open"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"closed",children:"Closed"})]}),t.jsx("div",{className:"flex-1"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[S.length," tickets"]})]})}),t.jsx("div",{className:"space-y-4",children:S.length===0?t.jsx("div",{className:"bg-white border border-gray-200 p-8 text-center text-gray-400",children:"No tickets found"}):S.map(P=>t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50",onClick:()=>f(h===P.id?null:P.id),children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Dr,{size:16,className:"text-gray-400"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-gray-900",children:P.subject}),t.jsxs("div",{className:"text-xs text-gray-400",children:["Created: ",P.date]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[C(P.priority),A(P.status),h===P.id?t.jsx(gu,{size:16}):t.jsx(wi,{size:16})]})]}),h===P.id&&t.jsxs("div",{className:"border-t border-gray-100",children:[t.jsx("div",{className:"p-4 max-h-96 overflow-y-auto space-y-4",children:P.messages&&P.messages.length>0?P.messages.map((D,F)=>t.jsxs("div",{className:`p-3 rounded ${D.sender==="admin"?"bg-blue-50 ml-8":"bg-gray-50 mr-8"}`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:`text-[10px] font-bold uppercase ${D.sender==="admin"?"text-blue-600":"text-gray-600"}`,children:D.sender==="admin"?"Support":"User"}),t.jsx("span",{className:"text-[10px] text-gray-400",children:D.date})]}),t.jsx("div",{className:"text-sm text-gray-700",children:D.text})]},F)):t.jsx("div",{className:"text-center text-gray-400 text-sm",children:"No messages yet"})}),P.status!=="closed"&&t.jsxs("div",{className:"p-4 border-t border-gray-100 flex gap-2",children:[t.jsx("input",{type:"text",value:p,onChange:D=>x(D.target.value),placeholder:"Type your reply...",className:"flex-1 p-3 border border-gray-200 text-sm"}),t.jsx("button",{className:"px-4 py-2 bg-[#ff4d00] text-white text-xs font-bold uppercase hover:bg-orange-700",children:t.jsx(Ud,{size:14})})]})]})]},P.id))})]})},aL=({userId:n,onUpdate:e})=>{const[s,r]=w.useState([]),[i,l]=w.useState([]),[c,h]=w.useState([]),[f,p]=w.useState(!0),[x,b]=w.useState(null);w.useEffect(()=>{v()},[n]);const v=async()=>{p(!0),b(null);try{const[S,A,C]=await Promise.all([q.getUserSessions(n),q.getImpersonationLog(n),q.getBalanceAdjustments(n)]);r(S),l(A),h(C)}catch(S){console.error("Failed to load security data:",S),b("Failed to load security data.")}p(!1)},E=async S=>{if(confirm("Terminate this session? User will be logged out."))try{await q.terminateUserSession(n,S),v()}catch{alert("Failed to terminate session")}};return f?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):x?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),x,t.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(zd,{size:14})," Active Sessions"]}),t.jsxs("span",{className:"text-xs text-gray-400",children:[s.length," active"]})]}),s.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No active sessions"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"IP Address"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Device"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Location"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Last Activity"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Expires"}),t.jsx("th",{className:"px-6 py-3"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:s.map(S=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-900",children:S.ipAddress||"Unknown"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 truncate max-w-[200px]",children:S.userAgent?S.userAgent.substring(0,50)+"...":"Unknown"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600",children:S.location||"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:S.lastActivity?new Date(S.lastActivity).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:S.expiresAt?new Date(S.expiresAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{onClick:()=>E(S.id),className:"text-red-500 hover:text-red-700",title:"Terminate Session",children:t.jsx(yc,{size:14})})})]},S.id))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Mr,{size:14})," Impersonation Log"]})}),i.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No impersonation history"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Admin"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Action"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"IP Address"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:i.map(S=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:S.createdAt?new Date(S.createdAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-900",children:S.adminEmail||S.adminId}),t.jsx("td",{className:"px-6 py-4 text-xs",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${S.action==="start"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:S.action})}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:S.ipAddress||"-"})]},S.id))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Vd,{size:14})," Balance Adjustment History"]})}),c.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No balance adjustments"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Admin"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Reason"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:c.map(S=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:S.createdAt?new Date(S.createdAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-900",children:S.adminEmail||"System"}),t.jsx("td",{className:"px-6 py-4 text-xs",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${S.adjustmentType==="credit"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:S.adjustmentType})}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 uppercase",children:S.tier||"-"}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:S.hits?`${S.adjustmentType==="credit"?"+":"-"}${S.hits.toLocaleString()}`:"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600",children:S.reason||"-"})]},S.id))})]})]})]})},iL={login:{label:"Login",icon:"",color:"bg-green-50"},logout:{label:"Logout",icon:"",color:"bg-gray-50"},project_created:{label:"Project Created",icon:"",color:"bg-blue-50"},project_started:{label:"Project Started",icon:"",color:"bg-green-50"},project_stopped:{label:"Project Stopped",icon:"",color:"bg-yellow-50"},project_deleted:{label:"Project Deleted",icon:"",color:"bg-red-50"},purchase:{label:"Purchase",icon:"",color:"bg-green-50"},balance_adjusted:{label:"Balance Adjusted",icon:"",color:"bg-orange-50"},api_key_regenerated:{label:"API Key Regenerated",icon:"",color:"bg-purple-50"},settings_change:{label:"Settings Changed",icon:"",color:"bg-gray-50"},password_change:{label:"Password Changed",icon:"",color:"bg-blue-50"},ticket_created:{label:"Ticket Created",icon:"",color:"bg-indigo-50"},ticket_reply:{label:"Ticket Reply",icon:"",color:"bg-indigo-50"},impersonation_start:{label:"Impersonation Started",icon:"",color:"bg-red-50"},impersonation_end:{label:"Impersonation Ended",icon:"",color:"bg-red-50"}},oL=({userId:n})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(null),[h,f]=w.useState("all"),[p,x]=w.useState(null);w.useEffect(()=>{b()},[n]);const b=async()=>{i(!0),c(null);try{const A=await q.getUserActivity(n,100,0,h!=="all"?h:void 0);s(A)}catch(A){console.error("Failed to load activities:",A),c("Failed to load activities.")}i(!1)};w.useEffect(()=>{b()},[h]);const v=e,E=A=>iL[A]||{label:A,icon:"",color:"bg-gray-50"},S=Array.from(new Set(e.map(A=>A.actionType)));return r?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):l?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),l,t.jsx("button",{onClick:b,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xu,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filter:"})]}),t.jsxs("select",{value:h,onChange:A=>f(A.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Activities"}),S.map(A=>t.jsx("option",{value:A,children:E(A).label},A))]}),t.jsx("div",{className:"flex-1"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[v.length," activities"]})]})}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm",children:v.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No activity recorded yet"}):t.jsx("div",{className:"divide-y divide-gray-50",children:v.map(A=>{const C=E(A.actionType);return t.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>x(p===A.id?null:A.id),children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg ${C.color}`,children:C.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-bold text-gray-900",children:C.label}),t.jsx("span",{className:"ml-2 text-xs text-gray-400",children:A.createdAt?new Date(A.createdAt).toLocaleString():""})]}),p===A.id?t.jsx(gu,{size:16,className:"text-gray-400"}):t.jsx(wi,{size:16,className:"text-gray-400"})]}),A.ipAddress&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["IP: ",A.ipAddress]}),p===A.id&&A.actionDetail&&Object.keys(A.actionDetail).length>0&&t.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded text-xs",children:[t.jsx("div",{className:"font-bold text-gray-500 mb-1",children:"Details:"}),t.jsx("pre",{className:"text-gray-600 whitespace-pre-wrap",children:JSON.stringify(A.actionDetail,null,2)})]}),p===A.id&&A.userAgent&&t.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded text-xs",children:[t.jsx("div",{className:"font-bold text-gray-500 mb-1",children:"User Agent:"}),t.jsx("div",{className:"text-gray-600 truncate",children:A.userAgent})]})]})]})},A.id)})})})]})},lL=({userId:n,onUpdate:e})=>{const[s,r]=w.useState(!0),[i,l]=w.useState(null),[c,h]=w.useState(null),[f,p]=w.useState(""),[x,b]=w.useState(""),[v,E]=w.useState("user"),[S,A]=w.useState("active"),[C,P]=w.useState("free"),[D,F]=w.useState(""),[B,$]=w.useState(!1),[Q,_]=w.useState(!1),[k,I]=w.useState(!1);w.useEffect(()=>{L()},[n]);const L=async()=>{r(!0),l(null);try{const V=await q.getUserDetails(n);if(V&&V.user){const R=V.user;h(R),p(R.email||""),b(R.name||""),E(R.role||"user"),A(R.status||"active"),P(R.plan||"free"),$(R.isVerified||!1)}}catch(V){console.error("Failed to load user profile:",V),l("Failed to load user profile.")}r(!1)},M=async()=>{I(!0);try{const V={email:f,name:x,role:v,status:S,plan:C,is_verified:B};D&&(V.password=D),await q.adminUpdateUser(n,V),F(""),e&&e(),alert("Profile updated successfully")}catch(V){console.error("Failed to update profile:",V),alert("Failed to update profile")}I(!1)};return s?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading profile..."}):i?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),i,t.jsx("button",{onClick:L,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsx("div",{className:"space-y-6 max-w-4xl",children:t.jsxs("div",{className:"bg-white border boundary-gray-200 p-6 shadow-sm rounded-lg",children:[t.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[t.jsx("span",{className:"text-[#ff4d00]",children:""})," User Profile"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"User ID"}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("input",{type:"text",value:n,readOnly:!0,className:"w-full bg-gray-50 border border-gray-200 p-2 text-sm text-gray-500 font-mono"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Email Address"}),t.jsx("input",{type:"email",value:f,onChange:V=>p(V.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Display Name"}),t.jsx("input",{type:"text",value:x,onChange:V=>b(V.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Role"}),t.jsxs("select",{value:v,onChange:V=>E(V.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Admin"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Account Status"}),t.jsxs("select",{value:S,onChange:V=>A(V.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"suspended",children:"Suspended"}),t.jsx("option",{value:"banned",children:"Banned"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subscription Plan"}),t.jsxs("select",{value:C,onChange:V=>P(V.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"free",children:"Free"}),t.jsx("option",{value:"pro",children:"Pro"}),t.jsx("option",{value:"agency",children:"Agency"})]})]}),t.jsx("div",{className:"flex items-center mt-6",children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:B,onChange:V=>$(V.target.checked),className:"w-4 h-4 text-[#ff4d00] focus:ring-[#ff4d00] border-gray-300 rounded"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Email Verified"})]})}),t.jsxs("div",{className:"col-span-2 border-t border-gray-100 pt-6 mt-2",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2",children:" Password Management"}),t.jsxs("div",{className:"bg-orange-50 p-4 rounded border border-orange-100",children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Set New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:Q?"text":"password",value:D,onChange:V=>F(V.target.value),placeholder:"Enter new password to change...",className:"w-full border border-gray-300 p-2 pr-10 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none"}),t.jsx("button",{type:"button",onClick:()=>_(!Q),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:Q?t.jsx(n4,{size:16}):t.jsx(Gf,{size:16})})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Leave blank to keep current password. Providing a value will update the password immediately upon save."})]})]})]}),t.jsx("div",{className:"mt-8 flex justify-end",children:t.jsxs("button",{onClick:M,disabled:k,className:"bg-[#ff4d00] text-white px-6 py-3 text-sm font-bold uppercase tracking-wider hover:bg-[#e64500] transition-colors flex items-center gap-2 disabled:opacity-50",children:[k?t.jsx(So,{className:"animate-spin",size:16}):t.jsx(Fa,{size:16}),"Save Profile"]})})]})})},cL=({userId:n,onUpdate:e})=>{const[s,r]=w.useState(null),[i,l]=w.useState([]),[c,h]=w.useState(!0),[f,p]=w.useState(!1),[x,b]=w.useState("economy"),[v,E]=w.useState("credit"),[S,A]=w.useState(""),[C,P]=w.useState(""),[D,F]=w.useState(""),[B,$]=w.useState(null);w.useEffect(()=>{Q()},[n]);const Q=async()=>{h(!0);try{const[V,R]=await Promise.all([q.getUserDetails(n),q.getBalanceAdjustments(n)]);r(V),l(R)}catch(V){console.error("Failed to load credits data:",V)}h(!1)},_=async()=>{if(!S||parseInt(S)<=0){$("Please enter a valid hit count");return}if(!C.trim()){$("Please provide a reason");return}p(!0),$(null);try{await q.adjustUserBalance(n,{adjustmentType:v,tier:x,amount:0,hits:parseInt(S),reason:C.trim(),notes:D.trim()||void 0}),A(""),P(""),F(""),await Q(),e()}catch(V){$(V.message||"Failed to adjust balance. Please try again.")}p(!1)};if(c)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."});if(!s)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No user details found."});const{tierBalances:k}=s,I=V=>{switch(V){case"economy":return t.jsx(oa,{size:16,className:"text-gray-400"});case"professional":return t.jsx(yf,{size:16,className:"text-orange-500"});case"expert":return t.jsx(Gt,{size:16,className:"text-[#ff4d00]"});default:return null}},L=V=>{switch(V){case"economy":return"Economy";case"professional":return"Professional";case"expert":return"Expert";default:return V}},M=V=>{switch(V){case"economy":return"border-gray-200";case"professional":return"border-orange-200";case"expert":return"border-[#ff4d00]/30 bg-[#111]";default:return"border-gray-200"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"grid grid-cols-3 gap-4",children:["economy","professional","expert"].map(V=>t.jsxs("div",{className:`bg-white border ${M(V)} p-6 shadow-sm `,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[I(V),t.jsx("span",{className:`text-xs font-bold uppercase ${V==="expert"?"text-[#ff4d00]":V==="professional"?"text-orange-500":"text-gray-400"}`,children:L(V)})]}),t.jsx("div",{className:`text-2xl font-black ${V==="expert"?"text-white":"text-gray-900"}`,children:k[V].toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]},V))}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-4 flex items-center gap-2",children:[v==="credit"?t.jsx(Or,{size:14}):t.jsx(K2,{size:14}),"Adjust Balance"]}),B&&t.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 text-xs flex items-center gap-2",children:[t.jsx(Oo,{size:14}),B]}),t.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Tier"}),t.jsxs("select",{value:x,onChange:V=>b(V.target.value),className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none",children:[t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Operation"}),t.jsxs("select",{value:v,onChange:V=>E(V.target.value),className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none",children:[t.jsx("option",{value:"credit",children:"Add"}),t.jsx("option",{value:"debit",children:"Remove"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Hits"}),t.jsx("input",{type:"number",value:S,onChange:V=>A(V.target.value),placeholder:"10000",min:"1",className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none"})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Reason *"}),t.jsx("input",{type:"text",value:C,onChange:V=>P(V.target.value),placeholder:"Compensation for bug",className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none"})]}),t.jsx("div",{className:"flex items-end",children:t.jsxs("button",{onClick:_,disabled:f,className:`w-full py-2 text-white text-xs font-bold uppercase transition-colors flex items-center justify-center gap-2
                                ${v==="credit"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} ${f?"opacity-50 cursor-not-allowed":""}`,children:[f?t.jsx(So,{size:14,className:"animate-spin"}):v==="credit"?t.jsx(Or,{size:14}):t.jsx(K2,{size:14}),v==="credit"?"Add Hits":"Remove Hits"]})})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Notes (optional)"}),t.jsx("input",{type:"text",value:D,onChange:V=>F(V.target.value),placeholder:"Additional details about this adjustment...",className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(a4,{size:14})," Adjustment History"]}),t.jsxs("span",{className:"text-xs text-gray-400",children:[i.length," records"]})]}),i.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No adjustments yet"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-right",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Reason"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Admin"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:i.map(V=>{var R;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:V.createdAt?new Date(V.createdAt).toLocaleDateString():"-"}),t.jsx("td",{className:"px-6 py-3 text-xs",children:t.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase rounded ${V.adjustmentType==="credit"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:V.adjustmentType==="credit"?"Added":"Removed"})}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:V.tier||"-"}),t.jsxs("td",{className:`px-6 py-3 text-xs font-bold text-right ${V.adjustmentType==="credit"?"text-green-600":"text-red-600"}`,children:[V.adjustmentType==="credit"?"+":"-",((R=V.hits)==null?void 0:R.toLocaleString())||"0"]}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-900 max-w-[200px] truncate",children:V.reason||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-500",children:V.adminEmail||"-"})]},V.id)})})]})]})]})},dL=[{id:"overview",label:"Overview",icon:t.jsx(Fn,{size:16})},{id:"profile",label:"Profile",icon:t.jsx(Fn,{size:16})},{id:"credits",label:"Credits",icon:t.jsx(aD,{size:16})},{id:"transactions",label:"Transactions",icon:t.jsx(on,{size:16})},{id:"projects",label:"Projects",icon:t.jsx(CD,{size:16})},{id:"tickets",label:"Tickets",icon:t.jsx(rM,{size:16})},{id:"security",label:"Security",icon:t.jsx(Mr,{size:16})},{id:"activity",label:"Activity",icon:t.jsx(Ir,{size:16})}],uL=({userId:n,onBack:e,onUpdate:s})=>{const[r,i]=w.useState(null),[l,c]=w.useState("overview"),[h,f]=w.useState(!0);w.useEffect(()=>{p()},[n]);const p=async()=>{f(!0);try{const v=await q.getUserDetails(n);v&&v.user&&i(v.user)}catch(v){console.error(v)}f(!1)},x=v=>{window.location.href=`/admin/projects/edit/${v}`},b=async()=>{if(r)try{await q.startImpersonation(r.id),window.location.href="/dashboard"}catch(v){console.error("Failed to impersonate",v),alert("Failed to start impersonation session. Please try again.")}};return h?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading user details..."}):r?t.jsxs("div",{className:"animate-in fade-in space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-[#ff4d00] text-xs font-bold uppercase tracking-wide transition-colors",children:[t.jsx($n,{size:14})," Back to Users"]}),t.jsx("div",{className:"flex items-center gap-2"})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm flex items-center justify-between rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-5",children:[t.jsx("div",{className:"w-14 h-14 bg-[#ff4d00] rounded-full flex items-center justify-center shadow-md",children:t.jsx("span",{className:"font-black text-white text-xl",children:r.name?r.name.charAt(0).toUpperCase():r.email.charAt(0).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-gray-900 text-xl",children:r.name||"Unnamed User"}),t.jsx("div",{className:"text-sm text-gray-500 font-mono",children:r.email}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase rounded border ${r.status==="active"?"bg-green-50 text-green-600 border-green-200":"bg-red-50 text-red-600 border-red-200"}`,children:r.status}),t.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase rounded border ${r.role==="admin"?"bg-purple-50 text-purple-600 border-purple-200":"bg-gray-50 text-gray-600 border-gray-200"}`,children:r.role}),t.jsxs("span",{className:"px-2 py-0.5 text-[10px] font-bold uppercase rounded border bg-blue-50 text-blue-600 border-blue-200",children:[r.plan," Plan"]})]})]})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-5 py-2.5 bg-black text-white text-xs font-bold uppercase hover:bg-gray-800 transition-colors border border-black shadow-sm",children:[t.jsx(l4,{size:14})," Login As User"]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-lg overflow-hidden",children:[t.jsx("div",{className:"flex overflow-x-auto border-b border-gray-100",children:dL.map(v=>t.jsxs("button",{onClick:()=>c(v.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-bold uppercase tracking-wider border-b-2 transition-all whitespace-nowrap
                                ${l===v.id?"border-[#ff4d00] text-[#ff4d00] bg-orange-50/50":"border-transparent text-gray-500 hover:text-gray-900 hover:bg-gray-50"}`,children:[t.jsx("span",{className:l===v.id?"text-[#ff4d00]":"text-gray-400",children:v.icon}),t.jsx("span",{children:v.label})]},v.id))}),t.jsx("div",{className:"p-6 bg-gray-50/30 min-h-[400px]",children:t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300",children:[l==="overview"&&t.jsx(tL,{userId:n,onNavigateToProject:x,onUpdate:s}),l==="profile"&&t.jsx(lL,{userId:n,onUpdate:()=>{p(),s()}}),l==="credits"&&t.jsx(cL,{userId:n,onUpdate:s}),l==="transactions"&&t.jsx(sL,{userId:n}),l==="projects"&&t.jsx(nL,{userId:n,onNavigateToProject:x}),l==="tickets"&&t.jsx(rL,{userId:n}),l==="security"&&t.jsx(aL,{userId:n,onUpdate:s}),l==="activity"&&t.jsx(oL,{userId:n})]})})]})]}):t.jsx("div",{className:"p-8 text-center text-red-500",children:"User not found"})},hL=({projectId:n,onBack:e,onUpdate:s})=>{const[r,i]=w.useState(null),[l,c]=w.useState(!1),[h,f]=w.useState(!0);if(w.useEffect(()=>{f(!0);const v=q.getProjectById(n);if(v){const E=JSON.parse(JSON.stringify(v));E.settings||(E.settings={bounceRate:0,returnRate:0,deviceSplit:70,deviceSpecific:"All",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:["United States"],geoTargets:[{id:"default-geo",country:"United States",percent:100}],trafficSource:"organic",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0,adminPriority:0,adminWeight:1,forceStopReason:""}),E.settings.languages||(E.settings.languages=[E.settings.language||"en-US"]),E.settings.countries||(E.settings.countries=["United States"]),i(E)}f(!1)},[n]),h)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"text-gray-500",children:"Loading project..."})});if(!r||!r.settings)return t.jsx("div",{children:"Project not found."});const p=()=>{r&&(c(!0),setTimeout(()=>{q.updateProject(r),c(!1),s(),alert("Project configuration saved successfully.")},500))},x=(v,E)=>{!r||!r.settings||i({...r,settings:{...r.settings,[v]:E}})};if(!r||!r.settings)return t.jsx("div",{children:"Project not found."});const b=r.settings;return t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6 pb-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-[#f3f4f6] z-10 py-4 border-b border-gray-200",children:[t.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[t.jsx($n,{size:14})," Back to Projects"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Editing Campaign"}),t.jsx("div",{className:"text-sm font-black text-gray-900",children:r.name})]}),t.jsxs("button",{onClick:p,disabled:l,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 shadow-lg disabled:opacity-70 disabled:cursor-not-allowed",children:[t.jsx(Fa,{size:14})," ",l?"Saving...":"Save All Changes"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Xl,{size:14})," Core Configuration"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Project Name"}),t.jsx("input",{value:r.name,onChange:v=>i({...r,name:v.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Target URL (Entry)"}),t.jsx("input",{value:b.entryUrls,onChange:v=>x("entryUrls",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Plan Tier"}),t.jsx(Ms,{value:r.plan,onChange:v=>i({...r,plan:v}),options:[{value:"Free Trial",label:"Free Trial"},{value:"Starter",label:"Starter"},{value:"Growth",label:"Growth"},{value:"Agency",label:"Agency"}]})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Status"}),t.jsx(Ms,{value:r.status,onChange:v=>i({...r,status:v}),options:[{value:"active",label:"Active"},{value:"stopped",label:"Stopped"},{value:"completed",label:"Completed"},{value:"archived",label:"Archived (Admin)"}]})]})]}),r.status==="stopped"&&t.jsxs("div",{className:"bg-red-50 border border-red-100 p-4",children:[t.jsx(Vt,{children:"Force Stop Reason (Visible to User)"}),t.jsx("input",{value:b.forceStopReason||"",onChange:v=>x("forceStopReason",v.target.value),className:"w-full bg-white border border-red-200 p-3 text-sm font-medium text-red-900 outline-none focus:border-red-500 placeholder-red-300",placeholder:"e.g. Violation of TOS, Payment Failed..."})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 border-l-4 border-l-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Ir,{size:12,className:"text-gray-500"}),t.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-gray-500",children:"Admin Controls"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Queue Priority (-10 to 10)"}),t.jsx("input",{type:"number",min:"-10",max:"10",value:b.adminPriority||0,onChange:v=>x("adminPriority",parseInt(v.target.value)),className:"w-full bg-white border border-gray-200 p-2 text-sm font-bold text-gray-900 outline-none focus:border-gray-500"}),t.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Higher = processed first."})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Traffic Weight (0.1 - 5.0)"}),t.jsx("input",{type:"number",step:"0.1",min:"0.1",max:"5.0",value:b.adminWeight||1,onChange:v=>x("adminWeight",parseFloat(v.target.value)),className:"w-full bg-white border border-gray-200 p-2 text-sm font-bold text-gray-900 outline-none focus:border-gray-500"}),t.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Multiplier for resource allocation."})]})]})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Expiration Date"}),t.jsx("input",{value:r.expires,onChange:v=>i({...r,expires:v.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"YYYY-MM-DD"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Google Analytics ID"}),t.jsx("input",{value:b.gaId,onChange:v=>x("gaId",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"G-XXXXXXXXXX"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Ir,{size:14})," Visitor Behavior"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Bounce Rate (%)"}),t.jsx("input",{type:"number",value:b.bounceRate,onChange:v=>x("bounceRate",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Return Rate (%)"}),t.jsx("input",{type:"number",value:b.returnRate,onChange:v=>x("returnRate",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Time On Page"}),t.jsx(Ms,{value:b.timeOnPage,onChange:v=>x("timeOnPage",v),options:[{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"3 minutes",label:"3 minutes"},{value:"5 minutes",label:"5 minutes"}]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-end mb-2",children:[t.jsx(Vt,{children:"Device Split"}),t.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase flex gap-3",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(zd,{size:10})," Desktop: ",b.deviceSplit,"%"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Bd,{size:10})," Mobile: ",100-b.deviceSplit,"%"]})]})]}),t.jsx("input",{type:"range",min:"0",max:"100",value:b.deviceSplit,onChange:v=>x("deviceSplit",parseInt(v.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Mo,{size:14})," Geolocation & Tech"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Countries"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:b.countries.map(v=>t.jsxs("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 text-xs font-bold uppercase rounded-sm flex items-center gap-2",children:[v," ",t.jsx("button",{onClick:()=>x("countries",b.countries.filter(E=>E!==v)),className:"hover:text-red-500",children:""})]},v))}),t.jsx(Ms,{value:"",onChange:v=>{v&&!b.countries.includes(v)&&x("countries",[...b.countries,v])},placeholder:"Add Country...",options:[{value:"United States",label:"United States"},{value:"United Kingdom",label:"United Kingdom"},{value:"Germany",label:"Germany"},{value:"France",label:"France"},{value:"Canada",label:"Canada"},{value:"India",label:"India"},{value:"Brazil",label:"Brazil"}]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Browser Language"}),t.jsx("input",{value:b.languages.join(", "),onChange:v=>x("languages",v.target.value.split(", ")),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Timezone"}),t.jsx(Ms,{value:b.timezone,onChange:v=>x("timezone",v),options:[{value:"UTC",label:"UTC"},{value:"EST",label:"EST"},{value:"PST",label:"PST"},{value:"CET",label:"CET"}]})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Ni,{size:14})," Advanced Interactions"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Traffic Source Type"}),t.jsx(Ms,{value:b.trafficSource,onChange:v=>x("trafficSource",v),options:[{value:"organic",label:"Organic (Search)"},{value:"direct",label:"Direct"},{value:"social",label:"Social"}]})]}),b.trafficSource==="organic"&&t.jsxs("div",{children:[t.jsx(Vt,{children:"Keywords (One per line)"}),t.jsx("textarea",{value:b.keywords,onChange:v=>x("keywords",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Inner URLs Count"}),t.jsx("input",{type:"number",value:b.innerUrlCount,onChange:v=>x("innerUrlCount",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Scroll Events (%)"}),t.jsx("input",{type:"number",value:b.pageViewsWithScroll,onChange:v=>x("pageViewsWithScroll",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Internal Clicks"}),t.jsx("input",{type:"number",value:b.clickInternal,onChange:v=>x("clickInternal",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Inner URLs (CSV)"}),t.jsx("input",{value:b.innerUrls,onChange:v=>x("innerUrls",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-600 outline-none focus:border-[#ff4d00]",placeholder:"http://..., http://..."})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Xl,{size:14})," UTM & Attribution"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Campaign Source"}),t.jsx("input",{value:b.utmSource||"",onChange:v=>x("utmSource",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. google"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Campaign Medium"}),t.jsx("input",{value:b.utmMedium||"",onChange:v=>x("utmMedium",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. cpc"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Campaign Name"}),t.jsx("input",{value:b.utmCampaign||"",onChange:v=>x("utmCampaign",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. winter_sale"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Campaign Term"}),t.jsx("input",{value:b.utmTerm||"",onChange:v=>x("utmTerm",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. running_shoes"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Campaign Content"}),t.jsx("input",{value:b.utmContent||"",onChange:v=>x("utmContent",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. banner_wide"})]})]}),t.jsxs("p",{className:"mt-4 text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:["Supports: ","{{random_keyword}}, {{timestamp}}, {{device_type}}"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm lg:col-span-2",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Gt,{size:14})," System Features"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(md,{label:"Auto Renew",checked:b.autoRenew,onChange:v=>x("autoRenew",v)}),t.jsx(md,{label:"Cache Website",checked:b.cacheWebsite,onChange:v=>x("cacheWebsite",v)}),t.jsx(md,{label:"Minimize CPU",checked:b.minimizeCpu,onChange:v=>x("minimizeCpu",v)}),t.jsx(md,{label:"Anti-Fingerprint",checked:b.antiFingerprint,onChange:v=>x("antiFingerprint",v)}),t.jsx(md,{label:"Randomize Session",checked:b.randomizeSession,onChange:v=>x("randomizeSession",v)}),t.jsx(md,{label:"Auto Crawl",checked:b.autoCrawlEntry,onChange:v=>x("autoCrawlEntry",v)})]})]})]})]})},Vt=({children:n})=>t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:n}),md=({label:n,checked:e,onChange:s})=>t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:n}),t.jsx("button",{onClick:()=>s(!e),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${e?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${e?"translate-x-5":"translate-x-0"}`})})]}),fL=({trxId:n,onBack:e,onUpdate:s})=>{const[r,i]=w.useState(null);w.useEffect(()=>{(async()=>{await q.syncAllTransactions();const f=q.getAllTransactionsAdmin().find(p=>p.id===n);i(f||null)})()},[n]);const l=async()=>{if(r)try{await q.updateTransaction(r),s(),alert("Transaction updated.")}catch(c){alert("Error: "+c.message)}};return r?t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[t.jsx($n,{size:14})," Back to Transactions"]}),t.jsxs("button",{onClick:l,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(Fa,{size:14})," Save Changes"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm max-w-3xl mx-auto",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8",children:["Edit Transaction: ",r.id]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Description"}),t.jsx("input",{value:r.desc,onChange:c=>i({...r,desc:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Amount ()"}),t.jsx("input",{type:"number",value:r.amount,onChange:c=>i({...r,amount:parseFloat(c.target.value)||0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Type"}),t.jsxs("select",{value:r.type,onChange:c=>i({...r,type:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"credit",children:"Credit (+)"}),t.jsx("option",{value:"debit",children:"Debit (-)"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Status"}),t.jsxs("select",{value:r.status,onChange:c=>i({...r,status:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"failed",children:"Failed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Date"}),t.jsx("input",{value:r.date,onChange:c=>i({...r,date:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Balance Tier"}),t.jsxs("select",{value:r.tier||"",onChange:c=>i({...r,tier:c.target.value||void 0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"",children:"General"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Reference"}),t.jsx("input",{value:r.reference||"",onChange:c=>i({...r,reference:c.target.value||void 0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"TGP-XXXXXXXX-XXXXXX"})]})]})]})]})]}):t.jsx("div",{children:"Transaction not found."})},mL={bounceRate:0,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:["United States"],geoTargets:[{id:"default-geo",country:"United States",percent:100}],trafficSource:"organic",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,urlVisitOrder:"random",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0},pL=({onBack:n,onSuccess:e})=>{const[s,r]=w.useState(""),[i,l]=w.useState(""),[c,h]=w.useState(1e3),[f,p]=w.useState(7),[x,b]=w.useState({...mL}),[v,E]=w.useState(!1),[S,A]=w.useState(null),[C,P]=w.useState(!1),[D,F]=w.useState("idle"),[B,$]=w.useState([]),[Q,_]=w.useState(""),[k,I]=w.useState("");Ke.useEffect(()=>{(async()=>{const me=await q.syncUsers();$(me);const W=q.getCurrentUser();W&&_(W.id)})()},[]);const L=Math.round(c/f),M=(U,me)=>{b(W=>({...W,[U]:me}))},V=async()=>{if(!i){A("Please enter a target URL first");return}P(!0),F("idle");try{const U=await q.scanGA4(i);U?(M("gaId",U),F("success")):F("error")}catch{F("error")}finally{P(!1)}},R=async()=>{var U;if(!s||!i){A("Please enter a project name and target URL");return}if(c<100||f<1){A("Minimum 100 visitors and 1 day required");return}E(!0),A(null);try{const me={...x,entryUrls:i},W={id:"proj_"+Date.now(),userId:Q||((U=q.getCurrentUser())==null?void 0:U.id)||"admin",name:s,plan:"Custom",customTarget:{totalVisitors:c,durationDays:f,dailyLimit:L},expires:"Never",status:"active",settings:me,stats:[]};await q.addProject(W),e(),n()}catch(me){A(me.message||"Failed to create project")}finally{E(!1)}};return t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6 pb-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-[#f3f4f6] z-10 py-4 border-b border-gray-200",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[t.jsx($n,{size:14})," Back to Projects"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"New Campaign"}),t.jsx("div",{className:"text-sm font-black text-gray-900",children:"Create Project"})]}),t.jsxs("button",{onClick:R,disabled:v,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(Fa,{size:14})," ",v?"Creating...":"Create Project"]})]})]}),S&&t.jsx("div",{className:"bg-red-50 border border-red-200 p-4 text-red-700 text-sm font-bold",children:S}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Xl,{size:14})," Core Configuration"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Project Name"}),t.jsx("input",{value:s,onChange:U=>r(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"My Traffic Campaign"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Project Owner (User)"}),t.jsxs("div",{className:"relative",children:[t.jsx(Fn,{className:"absolute left-3 top-3 text-gray-400",size:16}),t.jsxs("select",{value:Q,onChange:U=>_(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00] appearance-none",children:[t.jsx("option",{value:"",children:"Select a User..."}),B.map(U=>t.jsxs("option",{value:U.id,children:[U.name," (",U.email,") - ",U.role]},U.id))]})]})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Target URL (Entry)"}),t.jsx("input",{value:i,onChange:U=>l(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://example.com"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Total Visitors"}),t.jsx("input",{type:"number",min:"100",value:c,onChange:U=>h(parseInt(U.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"1000"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Duration (Days)"}),t.jsx("input",{type:"number",min:"1",value:f,onChange:U=>p(parseInt(U.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Daily Visitors"}),t.jsxs("div",{className:"w-full bg-[#f3f4f6] border border-gray-200 p-3 text-sm font-bold text-[#ff4d00]",children:[L.toLocaleString()," /day"]})]})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Google Analytics ID"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("input",{value:x.gaId,onChange:U=>M("gaId",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"G-XXXXXXXXXX"}),D==="success"&&t.jsx(bt,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-500"}),D==="error"&&t.jsx(Oo,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-500"})]}),t.jsxs("button",{onClick:V,disabled:C||!i,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 text-xs font-bold uppercase tracking-wide flex items-center gap-2 transition-colors disabled:opacity-50",title:"Auto-detect GA ID from website",children:[C?t.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):t.jsx(qn,{size:14}),"Detect"]})]}),D==="error"&&t.jsx("p",{className:"text-[10px] text-red-500 mt-1",children:"No Google Analytics ID found on this website"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Ir,{size:14})," Visitor Behavior"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Bounce Rate (%)"}),t.jsx("input",{type:"number",value:x.bounceRate,onChange:U=>M("bounceRate",parseInt(U.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Return Rate (%)"}),t.jsx("input",{type:"number",value:x.returnRate,onChange:U=>M("returnRate",parseInt(U.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Time On Page"}),t.jsx(Ms,{value:x.timeOnPage,onChange:U=>M("timeOnPage",U),options:[{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"3 minutes",label:"3 minutes"},{value:"5 minutes",label:"5 minutes"}]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Mo,{size:14})," Geolocation"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Countries"}),x.countries.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:x.countries.map(U=>{const me=ql.find(W=>W.name===U||W.code===U);return t.jsxs("span",{className:"bg-[#ff4d00]/10 text-[#ff4d00] px-2 py-1 text-xs font-bold flex items-center gap-1",children:[me&&t.jsx("img",{src:`https://flagcdn.com/w16/${me.code.toLowerCase()}.png`,alt:U,className:"w-4 h-auto"}),(me==null?void 0:me.name)||U,t.jsx("button",{onClick:()=>M("countries",x.countries.filter(W=>W!==U)),className:"ml-1 hover:text-red-500",children:t.jsx(nn,{size:12})})]},U)})}),t.jsxs("div",{className:"relative mb-2",children:[t.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),t.jsx("input",{type:"text",placeholder:"Search countries...",value:k,onChange:U=>I(U.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-200 text-xs outline-none focus:border-[#ff4d00]"}),k&&t.jsx("button",{onClick:()=>I(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t.jsx(nn,{size:12})})]}),t.jsx("div",{className:"border border-gray-200 max-h-[150px] overflow-y-auto",children:t.jsx("div",{className:"grid grid-cols-2 gap-px p-1",children:ql.filter(U=>!x.countries.includes(U.name)&&(k===""||U.name.toLowerCase().includes(k.toLowerCase())||U.code.toLowerCase().includes(k.toLowerCase()))).slice(0,50).map(U=>t.jsxs("button",{onClick:()=>M("countries",[...x.countries,U.name]),className:"p-2 text-left text-xs font-medium flex items-center gap-2 hover:bg-gray-50 transition-colors",children:[t.jsx("img",{src:`https://flagcdn.com/w16/${U.code.toLowerCase()}.png`,alt:U.name,className:"w-4 h-auto"}),t.jsx("span",{className:"truncate",children:U.name})]},U.code))})}),t.jsxs("p",{className:"text-[10px] text-gray-400 mt-1",children:[x.countries.length," countries selected"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Browser Language"}),t.jsx("input",{value:x.languages.join(", "),onChange:U=>M("languages",U.target.value.split(", ")),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Timezone"}),t.jsx(Ms,{value:x.timezone,onChange:U=>M("timezone",U),options:x4.slice(0,10)})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Ni,{size:14})," Traffic Source"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Traffic Source Type"}),t.jsx(Ms,{value:x.trafficSource,onChange:U=>M("trafficSource",U),options:nw.slice(0,15)})]}),x.trafficSource==="organic"&&t.jsxs("div",{children:[t.jsx(Je,{children:"Keywords (One per line)"}),t.jsx("textarea",{value:x.keywords,onChange:U=>M("keywords",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`keyword1
keyword2`})]}),x.trafficSource==="social"&&t.jsxs("div",{children:[t.jsx(Je,{children:"Referral URLs (One per line)"}),t.jsx("textarea",{value:x.referralUrls,onChange:U=>M("referralUrls",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://facebook.com
https://twitter.com`})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Xl,{size:14})," UTM & Attribution"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Campaign Source"}),t.jsx("input",{value:x.utmSource||"",onChange:U=>M("utmSource",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. google"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Campaign Medium"}),t.jsx("input",{value:x.utmMedium||"",onChange:U=>M("utmMedium",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. cpc"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Campaign Name"}),t.jsx("input",{value:x.utmCampaign||"",onChange:U=>M("utmCampaign",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. split_test"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Campaign Term"}),t.jsx("input",{value:x.utmTerm||"",onChange:U=>M("utmTerm",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. keyword"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Campaign Content"}),t.jsx("input",{value:x.utmContent||"",onChange:U=>M("utmContent",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. sidebar_ad"})]})]}),t.jsxs("p",{className:"mt-4 text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:["Supports: ","{{random_keyword}}, {{timestamp}}, {{device_type}}"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Mo,{size:14})," Proxy & Schedule"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Proxy Mode"}),t.jsx(Ms,{value:x.proxyMode||"auto",onChange:U=>M("proxyMode",U),options:[{value:"auto",label:"Auto-Rotate"},{value:"sticky",label:"Sticky Session"},{value:"custom",label:"Custom List"}]})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Visit Order"}),t.jsx(Ms,{value:x.urlVisitOrder||"random",onChange:U=>M("urlVisitOrder",U),options:[{value:"random",label:"Random"},{value:"sequential",label:"Sequential Funnel"}]})]})]}),x.proxyMode==="custom"&&t.jsxs("div",{children:[t.jsx(Je,{children:"Custom Proxies"}),t.jsx("textarea",{value:x.customProxies,onChange:U=>M("customProxies",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono outline-none focus:border-[#ff4d00] h-20",placeholder:"ip:port:user:pass"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Bd,{size:14})," Device Targeting"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Device Specific"}),t.jsx(Ms,{value:x.deviceSpecific,onChange:U=>{U.includes("Mobile")&&M("deviceSplit",0),U.includes("Desktop")&&M("deviceSplit",100),M("deviceSpecific",U)},options:[{value:"All",label:"All Devices"},{value:"Desktop, Windows",label:"Windows Desktop"},{value:"Desktop, Mac",label:"Mac Desktop"},{value:"Mobile, iPhone",label:"iPhone"},{value:"Mobile, Android",label:"Android"}]})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Browser"}),t.jsx(Ms,{value:x.browser||"Random",onChange:U=>M("browser",U),options:[{value:"Random",label:"Random"},{value:"Chrome",label:"Chrome"},{value:"Firefox",label:"Firefox"},{value:"Safari",label:"Safari"},{value:"Edge",label:"Edge"}]})]})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Device Split (Desktop/Tablet/Mobile)"}),t.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[t.jsx("span",{className:"text-[10px] font-bold w-12 text-gray-500",children:"Desktop"}),t.jsx("input",{type:"range",min:"0",max:"100",value:x.deviceSplit,onChange:U=>{const me=parseInt(U.target.value),W=100-(x.tabletSplit||0);M("deviceSplit",Math.min(me,W))},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"}),t.jsxs("span",{className:"text-sm font-bold w-8",children:[x.deviceSplit,"%"]})]}),t.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[t.jsx("span",{className:"text-[10px] font-bold w-12 text-gray-500",children:"Tablet"}),t.jsx("input",{type:"range",min:"0",max:"100",value:x.tabletSplit||0,onChange:U=>{const me=parseInt(U.target.value),W=100-x.deviceSplit;M("tabletSplit",Math.min(me,W))},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-gray-500"}),t.jsxs("span",{className:"text-sm font-bold w-8",children:[x.tabletSplit||0,"%"]})]}),t.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 text-right",children:["Mobile Remainder: ",100-x.deviceSplit-(x.tabletSplit||0),"%"]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Ub,{size:14})," Crawling Options"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Entry URLs (One per line)"}),t.jsx("textarea",{value:x.entryUrls,onChange:U=>M("entryUrls",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://example.com
https://example.com/about`})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Inner URLs (One per line)"}),t.jsx("textarea",{value:x.innerUrls,onChange:U=>M("innerUrls",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://example.com/page1
https://example.com/page2`})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Exit URLs (One per line)"}),t.jsx("textarea",{value:x.exitUrls,onChange:U=>M("exitUrls",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:"https://example.com/thank-you"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:x.autoCrawlEntry,onChange:U=>M("autoCrawlEntry",U.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(Je,{className:"!mb-0",children:"Auto-crawl Entry"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:x.autoCrawlInner,onChange:U=>M("autoCrawlInner",U.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(Je,{className:"!mb-0",children:"Auto-crawl Inner"})]})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Inner URL Count"}),t.jsx("input",{type:"number",min:"0",value:x.innerUrlCount,onChange:U=>M("innerUrlCount",parseInt(U.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(u4,{size:14})," Advanced Options"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Sitemap URL"}),t.jsx("input",{value:x.sitemap,onChange:U=>M("sitemap",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://example.com/sitemap.xml"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"URL Shortener"}),t.jsx("input",{value:x.shortener,onChange:U=>M("shortener",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://short.url/..."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:x.autoRenew,onChange:U=>M("autoRenew",U.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(Je,{className:"!mb-0",children:"Auto-renew"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:x.cacheWebsite,onChange:U=>M("cacheWebsite",U.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(Je,{className:"!mb-0",children:"Cache Website"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:x.minimizeCpu,onChange:U=>M("minimizeCpu",U.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(Je,{className:"!mb-0",children:"Minimize CPU"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Mr,{size:14})," Session Behavior"]}),t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:x.randomizeSession,onChange:U=>M("randomizeSession",U.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(Je,{className:"!mb-0",children:"Randomize Session"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:x.antiFingerprint,onChange:U=>M("antiFingerprint",U.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(Je,{className:"!mb-0",children:"Anti-fingerprinting"})]})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(dO,{size:14})," Interaction Settings"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Page Views with Scroll (%)"}),t.jsx("input",{type:"number",min:"0",max:"100",value:x.pageViewsWithScroll,onChange:U=>M("pageViewsWithScroll",parseInt(U.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Click External Links"}),t.jsx("input",{type:"number",min:"0",value:x.clickExternal,onChange:U=>M("clickExternal",parseInt(U.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Click Internal Links"}),t.jsx("input",{type:"number",min:"0",value:x.clickInternal,onChange:U=>M("clickInternal",parseInt(U.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]})]})]})]})]})},Je=({children:n,className:e=""})=>t.jsx("label",{className:`text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2 ${e}`,children:n}),gL=()=>{const[n,e]=w.useState("GET /stats"),[s,r]=w.useState("{}"),[i,l]=w.useState([]),[c,h]=w.useState(!1),[f,p]=w.useState(null),x=[{method:"GET",path:"/health",desc:"Check system health and mode"},{method:"GET",path:"/stats",desc:"Global traffic throughput statistics"},{method:"GET",path:"/events",desc:"Recent 50 page-view events with metadata"},{method:"GET",path:"/projects",desc:"List all running and saved projects"},{method:"POST",path:"/projects",desc:"Create a new traffic project"},{method:"DELETE",path:"/projects/{id}",desc:"Remove a project and stop traffic"},{method:"POST",path:"/start",desc:"Immediate ad-hoc traffic burst"},{method:"POST",path:"/stop",desc:"Halt all active user simulations"},{method:"GET",path:"/proxies",desc:"List active proxy rotation pool"},{method:"POST",path:"/proxies",desc:"Add a new proxy to the pool"},{method:"GET",path:"/admin/stats",desc:"SaaS Business Metrics (Revenue, Users)"}],b=(A,C,P)=>{const D={id:Math.random().toString(36).substr(2,9),type:A,msg:C,time:new Date().toLocaleTimeString(),duration:P};l(F=>[D,...F].slice(0,50))},v=async()=>{h(!0);const[A,C]=n.split(" "),P=de,D=performance.now();b("req",`${A} ${C}
Payload: ${s}`);try{const F={method:A,headers:{"Content-Type":"application/json",Authorization:"Bearer ADMIN_MOCK_TOKEN"}};A!=="GET"&&s!=="{}"&&(F.body=s);const B=await fetch(`${P}${C}`,F),$=performance.now(),Q=Math.round($-D);let _;try{_=await B.json()}catch{_={error:"Failed to parse JSON response"}}B.ok?b("res",JSON.stringify(_,null,2),Q):b("err",`Error ${B.status}: ${JSON.stringify(_,null,2)}`,Q)}catch(F){const B=performance.now();b("err",`Network Failure: ${F.message}`,Math.round(B-D))}finally{h(!1)}},E=(A,C)=>{navigator.clipboard.writeText(A),p(C),setTimeout(()=>p(null),2e3)},S=()=>l([]);return t.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-in fade-in",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6 flex-shrink-0",children:[t.jsxs("div",{className:"flex items-end gap-3",children:[t.jsx("div",{className:"bg-black p-2 rounded-sm text-white shadow-lg",children:t.jsx(r4,{size:24})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-1",children:"Developer Hub"}),t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"API Documentation & Debugger"})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 px-4 py-2 flex items-center gap-3 shadow-sm rounded-sm",children:[t.jsx(VO,{size:14,className:"text-green-500"}),t.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["Backend Status: ",t.jsx("span",{className:"text-green-600",children:"ONLINE"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 px-4 py-2 flex items-center gap-3 shadow-sm rounded-sm",children:[t.jsx(us,{size:14,className:"text-blue-500"}),t.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["API Version: ",t.jsx("span",{className:"text-blue-600",children:"v1.2.0"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 flex-1 overflow-hidden",children:[t.jsxs("div",{className:"bg-white border border-gray-200 flex flex-col overflow-hidden shadow-sm rounded-sm",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center justify-between",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(fD,{size:14})," Endpoints Reference"]}),t.jsx("span",{className:"text-[10px] font-bold bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"FastAPI Engine"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:[t.jsx("div",{className:"space-y-6",children:x.map((A,C)=>t.jsxs("div",{className:"group border-b border-gray-100 pb-6 last:border-0 hover:bg-gray-50/50 p-2 -m-2 transition-colors rounded-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-sm uppercase tracking-tighter shadow-sm ${A.method==="GET"?"bg-blue-600 text-white":A.method==="POST"?"bg-green-600 text-white":A.method==="DELETE"?"bg-red-600 text-white":"bg-orange-600 text-white"}`,children:A.method}),t.jsx("code",{className:"text-xs font-bold text-gray-900",children:A.path}),t.jsxs("div",{className:"ml-auto flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:()=>E(A.path,`path-${C}`),className:"p-1 px-2 bg-gray-100 hover:bg-black hover:text-white text-[9px] font-bold uppercase rounded-sm border border-gray-200 transition-all",children:f===`path-${C}`?"Copied":"Copy"}),t.jsx("button",{onClick:()=>{e(`${A.method} ${A.path}`),A.method==="POST"&&r(`{
  "demo": true
}`)},className:"p-1 px-2 bg-[#ff4d00]/10 hover:bg-[#ff4d00] text-[#ff4d00] hover:text-white text-[9px] font-bold uppercase rounded-sm border border-[#ff4d00]/20 transition-all",children:"Test"})]})]}),t.jsx("p",{className:"text-gray-500 text-[11px] leading-relaxed",children:A.desc})]},C))}),t.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-100 rounded-sm",children:[t.jsxs("h4",{className:"text-xs font-bold text-orange-800 uppercase mb-3 flex items-center gap-2",children:[t.jsx(Vd,{size:14})," Security Headers"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between bg-white p-2 border border-orange-100 rounded-sm overflow-hidden",children:[t.jsx("code",{className:"text-[10px] text-gray-600",children:"Authorization: Bearer [token]"}),t.jsx("button",{onClick:()=>E("Authorization: Bearer YOUR_TOKEN","auth-header"),className:"text-[9px] font-bold text-orange-600 hover:underline",children:"Copy"})]}),t.jsxs("div",{className:"flex items-center justify-between bg-white p-2 border border-orange-100 rounded-sm overflow-hidden",children:[t.jsx("code",{className:"text-[10px] text-gray-600",children:"X-API-KEY: [your-key]"}),t.jsx("button",{onClick:()=>E("X-API-KEY: YOUR_KEY","x-key"),className:"text-[9px] font-bold text-orange-600 hover:underline",children:"Copy"})]}),t.jsx("p",{className:"text-[10px] text-orange-700/70 italic mt-2",children:"Admin requests bypass standard rate limits for maintenance purposes."})]})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-6 overflow-hidden",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm rounded-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Gt,{size:14,className:"text-[#ff4d00]"})," API Scratchpad"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>r(`{
  "demo": true
}`),className:"text-[9px] font-bold text-gray-400 hover:text-black uppercase",children:"Sample"}),t.jsx("button",{onClick:()=>r("{}"),className:"text-[9px] font-bold text-gray-400 hover:text-black uppercase",children:"Reset"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative group",children:[t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300 group-focus-within:text-[#ff4d00] transition-colors",children:t.jsx(Ir,{size:14})}),t.jsx("input",{className:"w-full bg-gray-50 border border-gray-200 p-3 pl-10 text-xs font-mono outline-none focus:border-[#ff4d00] focus:bg-white transition-all rounded-sm",value:n,onChange:A=>e(A.target.value),placeholder:"METHOD /path (e.g. GET /health)"})]}),t.jsxs("button",{onClick:v,disabled:c,className:"bg-black text-white px-8 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] shadow-[0_4px_10px_rgba(0,0,0,0.1)] hover:shadow-[#ff4d00]/30 transition-all disabled:opacity-50 flex items-center gap-2 rounded-sm",children:[c?t.jsx(xL,{size:14,className:"animate-spin"}):t.jsx(Ud,{size:14}),"Execute"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Request Body (JSON)"}),t.jsxs("div",{className:"relative",children:[t.jsx("textarea",{className:"w-full bg-[#111] text-green-400 font-mono text-xs p-6 h-40 outline-none border border-gray-800 rounded-sm shadow-inner",value:s,onChange:A=>r(A.target.value),spellCheck:!1}),t.jsx("div",{className:"absolute right-4 bottom-4 text-[9px] font-bold text-gray-600 bg-[#1a1a1a] px-2 py-1 rounded-sm border border-gray-800",children:"UTF-8"})]})]})]})]}),t.jsxs("div",{className:"flex-1 bg-[#0a0a0a] border border-gray-800 flex flex-col overflow-hidden shadow-2xl rounded-sm",children:[t.jsxs("div",{className:"p-3 px-6 border-b border-gray-800 bg-[#111] flex items-center justify-between",children:[t.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[t.jsx(h4,{size:12})," Live Trace Diagnostic"]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("button",{onClick:()=>E(i.map(A=>`[${A.time}] ${A.type.toUpperCase()}: ${A.msg}`).join(`
`),"copy-logs"),className:"text-[10px] font-bold text-gray-500 hover:text-white uppercase flex items-center gap-1",children:[t.jsx(_n,{size:10})," ",f==="copy-logs"?"Copied":"Export"]}),t.jsxs("button",{onClick:S,className:"text-[10px] font-bold text-gray-500 hover:text-red-500 uppercase flex items-center gap-1",children:[t.jsx(yc,{size:10})," Clear"]})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar space-y-4 font-mono",children:i.length===0?t.jsx("div",{className:"h-full flex items-center justify-center text-gray-700 text-[10px] uppercase font-bold tracking-[0.2em] italic opacity-50",children:"Waiting for telemetry..."}):i.map(A=>t.jsxs("div",{className:"animate-in slide-in-from-left-2 duration-300 border-l-2 border-gray-800 pl-4 py-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-1.5",children:[t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-xs ${A.type==="req"?"bg-blue-500 text-white":A.type==="res"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:A.type==="req"?"REQUEST":A.type==="res"?"SUCCESS":"FAILURE"}),t.jsx("span",{className:"text-[9px] font-bold text-gray-600",children:A.time}),A.duration&&t.jsxs("span",{className:"text-[9px] font-bold text-gray-400 flex items-center gap-1",children:[t.jsx(us,{size:8})," ",A.duration,"ms"]}),t.jsx("button",{onClick:()=>E(A.msg,`copy-${A.id}`),className:"ml-auto text-[8px] font-bold text-gray-600 hover:text-white uppercase transition-colors",children:f===`copy-${A.id}`?"Copied":"Copy"})]}),t.jsx("div",{className:`text-[11px] leading-relaxed p-3 rounded-sm ${A.type==="req"?"bg-blue-950/20 text-blue-300/80":A.type==="res"?"bg-green-950/20 text-green-300":"bg-red-950/20 text-red-300"}`,children:t.jsx("pre",{className:"whitespace-pre-wrap break-all",children:A.msg})})]},A.id))})]})]})]})]})},xL=({size:n,className:e})=>t.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[t.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),t.jsx("path",{d:"M21 3v5h-5"}),t.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),t.jsx("path",{d:"M8 16H3v5"})]}),yL=()=>{const[n,e]=w.useState("campaigns"),[s,r]=w.useState([]),[i,l]=w.useState(null),[c,h]=w.useState(null),[f,p]=w.useState(""),[x,b]=w.useState(""),[v,E]=w.useState(!1),[S,A]=w.useState(null);w.useEffect(()=>{C(),q.getLoyaltySettings().then(l),q.getReferralSettings().then(h)},[]);const C=async()=>{const B=await q.getMarketingStats();r(B)},P=async()=>{i&&await q.saveLoyaltySettings(i)},D=async()=>{c&&await q.saveReferralSettings(c)},F=async()=>{if(!(!f||!x)){E(!0);try{await q.sendEmailBlast(f,x,"all"),alert("Email blast sent successfully!")}catch{alert("Failed to send email blast")}E(!1),A(new Date().toLocaleTimeString()),p(""),b("")}};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Marketing Hub"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Manage acquisition campaigns and outbound communications."})]})}),t.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[t.jsx("button",{onClick:()=>e("campaigns"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${n==="campaigns"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bf,{size:16}),t.jsx("span",{children:"Ad Tracking & Stats"})]})}),t.jsx("button",{onClick:()=>e("email"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${n==="email"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ji,{size:16}),t.jsx("span",{children:"Email Blasts"})]})}),t.jsx("button",{onClick:()=>e("loyalty"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${n==="loyalty"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(za,{size:16}),t.jsx("span",{children:"Loyalty & Referrals"})]})})]}),n==="campaigns"?t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.map(B=>{var $,Q;return t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("span",{className:"text-[10px] font-bold uppercase px-2 py-1 rounded bg-gray-100 text-gray-600",children:B.type.replace("_"," ")}),t.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-1 rounded
                                    ${B.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:B.status})]}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:B.name}),t.jsxs("p",{className:"text-xs text-gray-400 mb-6",children:["Created: ",B.dateCreated]}),t.jsx("div",{className:"grid grid-cols-2 gap-4 mt-auto",children:B.type==="email"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Opens"}),t.jsxs("p",{className:"text-xl font-mono font-bold text-gray-900",children:[B.openRate,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Clicks"}),t.jsxs("p",{className:"text-xl font-mono font-bold text-gray-900",children:[B.clickRate,"%"]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Clicks"}),t.jsx("p",{className:"text-xl font-mono font-bold text-gray-900",children:($=B.clicks)==null?void 0:$.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Revenue"}),t.jsxs("p",{className:"text-xl font-mono font-bold text-green-600",children:["$",(Q=B.revenue)==null?void 0:Q.toLocaleString()]})]})]})})]},B.id)}),t.jsxs("button",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center gap-3 text-gray-400 hover:text-[#ff4d00] hover:border-[#ff4d00] hover:bg-orange-50 transition-all group min-h-[200px]",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 group-hover:bg-[#ff4d00] flex items-center justify-center transition-colors",children:t.jsx(bf,{size:24,className:"group-hover:text-white"})}),t.jsx("span",{className:"font-bold",children:"Track New URL"})]})]}):n==="email"?t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[t.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[t.jsx(Ud,{size:20,className:"text-[#ff4d00]"}),"Compose Blast"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subject Line"}),t.jsx("input",{type:"text",value:f,onChange:B=>p(B.target.value),className:"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent outline-none font-medium",placeholder:"e.g. Special Offer for Premium Members"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Target Audience"}),t.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded bg-gray-50 focus:ring-2 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"all",children:"All Users (Newsletter)"}),t.jsx("option",{value:"paid",children:"Active Paid Plans Only"}),t.jsx("option",{value:"inactive",children:"Inactive / Churned Users"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Message Body (HTML Supported)"}),t.jsx("textarea",{value:x,onChange:B=>b(B.target.value),className:"w-full p-4 border border-gray-300 rounded focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent outline-none min-h-[300px] font-mono text-sm",placeholder:"<h1>Hello {name},</h1>..."})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4",children:[t.jsx("p",{className:"text-sm text-gray-500",children:S&&`Last sent: ${S}`}),t.jsx("button",{onClick:F,disabled:v||!f||!x,className:`px-8 py-3 bg-[#ff4d00] text-white font-bold rounded shadow-lg shadow-orange-500/30 hover:bg-[#e64600] transition-all
                                            ${v||!f||!x?"opacity-50 cursor-not-allowed":"hover:transform hover:-translate-y-0.5"}`,children:v?"Sending...":"Send Broadcast"})]})]})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-6",children:[t.jsx("h4",{className:"font-bold text-blue-900 mb-2",children:"Best Practices"}),t.jsxs("ul",{className:"text-sm text-blue-800 space-y-2 list-disc list-inside",children:[t.jsx("li",{children:"Keep subject lines under 60 chars"}),t.jsxs("li",{children:["Personalize using ","{name}"," tag"]}),t.jsx("li",{children:"Include a clear Call to Action"}),t.jsx("li",{children:"Test mobile rendering before sending"})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[t.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Previous Blasts"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 text-sm",children:[t.jsx("div",{className:"font-bold text-gray-800",children:"Spring Sale Announcement"}),t.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Sent: Mar 10  12,403 Recipients"})]}),t.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 text-sm",children:[t.jsx("div",{className:"font-bold text-gray-800",children:"Platform Update v2.1"}),t.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Sent: Feb 28  11,200 Recipients"})]})]})]})]})]}):t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:t.jsx(za,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Loyalty Program"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Reward users for spending."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:i==null?void 0:i.enabled,onChange:B=>l($=>$?{...$,enabled:B.target.checked}:null),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Points per $1 Spent"}),t.jsx("input",{type:"number",value:(i==null?void 0:i.pointsPerDollar)||"",onChange:B=>l($=>$?{...$,pointsPerDollar:Number(B.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Redemption Rate (Points = $1)"}),t.jsx("input",{type:"number",value:(i==null?void 0:i.redemptionRate)||"",onChange:B=>l($=>$?{...$,redemptionRate:Number(B.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Example: 100 points = $1 discount."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Bonus Signup Points"}),t.jsx("input",{type:"number",value:(i==null?void 0:i.bonusSignupPoints)||"",onChange:B=>l($=>$?{...$,bonusSignupPoints:Number(B.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:t.jsx(Ni,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Referral Program"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Incentivize word-of-mouth growth."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c==null?void 0:c.enabled,onChange:B=>h($=>$?{...$,enabled:B.target.checked}:null),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Referrer Gets"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:"$"}),t.jsx("input",{type:"number",value:(c==null?void 0:c.referrerReward)||"",onChange:B=>h($=>$?{...$,referrerReward:Number(B.target.value)}:null),className:"w-full p-2 pl-6 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Credit added to balance."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Referee Gets"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:"$"}),t.jsx("input",{type:"number",value:(c==null?void 0:c.refereeReward)||"",onChange:B=>h($=>$?{...$,refereeReward:Number(B.target.value)}:null),className:"w-full p-2 pl-6 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Discount on first purchase."})]})]})})]}),t.jsx("div",{className:"lg:col-span-2 flex justify-end",children:t.jsx("button",{onClick:async()=>{await P(),await D(),alert("Settings Saved!")},className:"bg-black text-white px-6 py-2 rounded font-bold hover:bg-gray-800",children:"Save Settings"})})]})]})},bL=({onRefresh:n})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!1),[l,c]=w.useState(!1),[h,f]=w.useState({code:"",discountType:"percent",discountValue:0,active:!0,usedCount:0,allowedPlans:[],maxUsesPerUser:1}),[p,x]=w.useState("PROMO-"),[b,v]=w.useState(10);w.useEffect(()=>{E()},[]);const E=async()=>{const P=await q.getCoupons();s(P)},S=async P=>{confirm("Are you sure you want to delete this coupon?")&&(await q.deleteCoupon(P),E())},A=async()=>{if(!h.code||!h.discountValue)return;const P={id:Date.now().toString(),code:h.code.toUpperCase(),discountType:h.discountType,discountValue:Number(h.discountValue),active:h.active||!1,usedCount:0,expiryDate:h.expiryDate,maxUses:h.maxUses,maxUsesPerUser:h.maxUsesPerUser,allowedPlans:h.allowedPlans};await q.saveCoupon(P),i(!1),f({code:"",discountType:"percent",discountValue:0,active:!0,usedCount:0,allowedPlans:[],maxUsesPerUser:1}),E(),n()},C=async()=>{for(let P=0;P<b;P++){const D=Math.random().toString(36).substring(2,6).toUpperCase(),F={id:`${Date.now()}-${P}`,code:`${p}${D}`,discountType:h.discountType,discountValue:Number(h.discountValue),active:!0,usedCount:0,expiryDate:h.expiryDate,maxUses:1,maxUsesPerUser:1};await q.saveCoupon(F)}i(!1),c(!1),E(),alert(`Successfully generated ${b} coupons!`)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Coupon Manager"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Create and manage discount codes for campaigns."})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>{i(!0),c(!0)},className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:[t.jsx(_n,{size:16}),t.jsx("span",{children:"Bulk Generate"})]}),t.jsxs("button",{onClick:()=>{i(!0),c(!1)},className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded-md hover:bg-gray-800 transition-colors",children:[t.jsx(Or,{size:16}),t.jsx("span",{children:"Create Coupon"})]})]})]}),r&&t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm animate-in fade-in slide-in-from-top-4",children:[t.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[l?t.jsx(_n,{className:"text-[#ff4d00]",size:20}):t.jsx($b,{className:"text-[#ff4d00]",size:20}),l?"Bulk Generate Coupons":"New Coupon"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400 border-b border-gray-100 pb-1",children:"Core Settings"}),l?t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Prefix"}),t.jsx("input",{type:"text",value:p,onChange:P=>x(P.target.value.toUpperCase()),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"e.g. SUMMER-"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Quantity"}),t.jsx("input",{type:"number",value:b,onChange:P=>v(Number(P.target.value)),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",min:"1",max:"1000"})]})]}):t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Code"}),t.jsx("input",{type:"text",value:h.code,onChange:P=>f({...h,code:P.target.value.toUpperCase()}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"e.g. SUMMER2024"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Discount Value"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"number",value:h.discountValue,onChange:P=>f({...h,discountValue:Number(P.target.value)}),className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),t.jsxs("select",{value:h.discountType,onChange:P=>f({...h,discountType:P.target.value}),className:"p-2 border border-gray-300 rounded bg-gray-50",children:[t.jsx("option",{value:"percent",children:"% Off"}),t.jsx("option",{value:"fixed",children:"$ Off"})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400 border-b border-gray-100 pb-1",children:"Restrictions & Limits"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Expiry Date"}),t.jsx("input",{type:"date",value:h.expiryDate||"",onChange:P=>f({...h,expiryDate:P.target.value}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Max Uses (Total)"}),t.jsx("input",{type:"number",value:h.maxUses||"",onChange:P=>f({...h,maxUses:Number(P.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"Unlimited"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Max Per User"}),t.jsx("input",{type:"number",value:h.maxUsesPerUser||"",onChange:P=>f({...h,maxUsesPerUser:Number(P.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Plan Restriction"}),t.jsxs("select",{multiple:!0,className:"w-full p-2 border border-gray-300 rounded text-xs h-[42px]",value:h.allowedPlans||[],onChange:P=>{const D=P.target,F=Array.from(D.selectedOptions,B=>B.value);f({...h,allowedPlans:F})},children:[t.jsx("option",{value:"foundation",children:"Foundation"}),t.jsx("option",{value:"momentum",children:"Momentum"}),t.jsx("option",{value:"breakthrough",children:"Breakthrough"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Duration"}),t.jsxs("select",{value:h.duration||"once",onChange:P=>f({...h,duration:P.target.value}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",children:[t.jsx("option",{value:"once",children:"Once"}),t.jsx("option",{value:"forever",children:"Forever"}),t.jsx("option",{value:"repeating",children:"Repeating"})]})]}),h.duration==="repeating"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Months"}),t.jsx("input",{type:"number",value:h.durationInMonths||"",onChange:P=>f({...h,durationInMonths:Number(P.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"3"})]})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-100",children:[t.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900 font-medium",children:"Cancel"}),t.jsx("button",{onClick:l?C:A,className:"px-6 py-2 bg-[#ff4d00] text-white font-bold rounded hover:bg-[#e64600] transition-colors",children:l?`Generate ${b} Coupons`:"Save Coupon"})]})]}),t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Code"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Discount"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Usage"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Restrictions"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:e.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:t.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[t.jsx($b,{size:32,className:"text-gray-300"}),t.jsx("p",{children:"No coupons created yet."})]})})}):e.map(P=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("div",{className:"font-mono font-bold text-gray-900 bg-gray-100 inline-flex items-center gap-2 px-2 py-1 rounded border border-gray-200 text-xs group",children:[P.code,t.jsx("button",{onClick:D=>{D.stopPropagation();const F=`${window.location.origin}?coupon=${P.code}`;navigator.clipboard.writeText(F),alert(`Copied: ${F}`)},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-black transition-all",title:"Copy Sharable Link",children:t.jsx(tw,{size:10})})]}),P.bulkBatchId&&t.jsx("span",{className:"ml-2 text-[10px] text-gray-400 uppercase tracking-wide border border-gray-200 px-1 rounded",children:"BULK"})]}),t.jsx("td",{className:"px-6 py-4 font-medium text-gray-700",children:P.discountType==="percent"?`${P.discountValue}%`:`$${P.discountValue}`}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-bold uppercase
                                            ${P.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:P.active?"Active":"Inactive"})}),t.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[P.usedCount," ",P.maxUses?`/ ${P.maxUses}`:""]}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:P.allowedPlans&&P.allowedPlans.length>0?t.jsx("div",{className:"flex gap-1",children:P.allowedPlans.map(D=>t.jsx("span",{className:"text-[10px] bg-blue-50 text-blue-600 px-1.5 py-0.5 rounded capitalize border border-blue-100",children:D},D))}):t.jsx("span",{className:"text-gray-400 text-xs",children:"Global"})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("button",{onClick:()=>S(P.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete Coupon",children:t.jsx(yc,{size:16})})})]},P.id))})]})}),t.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 flex items-start gap-3",children:[t.jsx(Oo,{className:"text-blue-500 mt-0.5 flex-shrink-0",size:18}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-blue-900",children:"Advanced Features"}),t.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Use ",t.jsx("strong",{children:"Bulk Generate"})," to create hundreds of unique codes for partners or affiliates. Use ",t.jsx("strong",{children:"Plan Restrictions"}),' to create "Upgrade Only" offers valid for specific premium tiers.']})]})]})]})},vL=()=>{const[n,e]=w.useState(null),[s,r]=w.useState(!1),[i,l]=w.useState(!1);w.useEffect(()=>{q.getConversionSettings().then(h=>e(h))},[]);const c=async()=>{n&&(r(!0),await q.saveConversionSettings(n),setTimeout(()=>{r(!1),l(!0),setTimeout(()=>l(!1),2e3)},800))};return n?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Conversion Boosters"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Tools to increase visitor engagement and sales."})]}),t.jsx("button",{onClick:c,disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-[#ff4d00] text-white font-bold rounded shadow-lg shadow-orange-500/30 hover:bg-[#e64600] transition-all",children:s?t.jsx("span",{children:"Saving..."}):i?t.jsxs(t.Fragment,{children:[t.jsx(bt,{size:18}),t.jsx("span",{children:"Saved!"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Fa,{size:18}),t.jsx("span",{children:"Save Changes"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:t.jsx(Dr,{size:120})}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[t.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:t.jsx(Dr,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Social Proof Notifications"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Show recent sales popups to build trust."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n.socialProof.enabled,onChange:h=>e({...n,socialProof:{...n.socialProof,enabled:h.target.checked}}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4 relative z-10",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Position"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("button",{onClick:()=>e({...n,socialProof:{...n.socialProof,position:"bottom-left"}}),className:`p-2 border rounded text-sm font-medium transition-all ${n.socialProof.position==="bottom-left"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:"Bottom Left"}),t.jsx("button",{onClick:()=>e({...n,socialProof:{...n.socialProof,position:"bottom-right"}}),className:`p-2 border rounded text-sm font-medium transition-all ${n.socialProof.position==="bottom-right"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:"Bottom Right"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Delay (Seconds)"}),t.jsx("input",{type:"number",value:n.socialProof.delay,onChange:h=>e({...n,socialProof:{...n.socialProof,delay:Number(h.target.value)}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Data Source"}),t.jsxs("select",{value:n.socialProof.showRealData?"real":"mock",onChange:h=>e({...n,socialProof:{...n.socialProof,showRealData:h.target.value==="real"}}),className:"w-full p-2 border border-gray-300 rounded bg-white",children:[t.jsx("option",{value:"mock",children:"Simulated (Mock)"}),t.jsx("option",{value:"real",children:"Real Sales Only"})]})]})]})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:t.jsx(Ni,{size:120})}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[t.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:t.jsx(Ni,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Exit Intent Popup"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Capture users before they leave."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n.exitIntent.enabled,onChange:h=>e({...n,exitIntent:{...n.exitIntent,enabled:h.target.checked}}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4 relative z-10",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Headline"}),t.jsx("input",{type:"text",value:n.exitIntent.headline,onChange:h=>e({...n,exitIntent:{...n.exitIntent,headline:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subtext"}),t.jsx("input",{type:"text",value:n.exitIntent.subtext,onChange:h=>e({...n,exitIntent:{...n.exitIntent,subtext:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Coupon Code"}),t.jsx("input",{type:"text",value:n.exitIntent.couponCode||"",onChange:h=>e({...n,exitIntent:{...n.exitIntent,couponCode:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsx("div",{className:"flex items-end pb-3",children:t.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n.exitIntent.showOncePerSession,onChange:h=>e({...n,exitIntent:{...n.exitIntent,showOncePerSession:h.target.checked}}),className:"rounded text-black focus:ring-black"}),"Show once per session"]})})]})]})]}),t.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:t.jsx(G2,{size:120})}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[t.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:t.jsx(G2,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Global Promo Bar"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Top-of-page banner for announcements."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n.promoBar.enabled,onChange:h=>e({...n,promoBar:{...n.promoBar,enabled:h.target.checked}}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4 relative z-10",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Banner Message"}),t.jsx("input",{type:"text",value:n.promoBar.message,onChange:h=>e({...n,promoBar:{...n.promoBar,message:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Button Text"}),t.jsx("input",{type:"text",value:n.promoBar.buttonText||"",onChange:h=>e({...n,promoBar:{...n.promoBar,buttonText:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Button Link"}),t.jsx("input",{type:"text",value:n.promoBar.buttonLink||"",onChange:h=>e({...n,promoBar:{...n.promoBar,buttonLink:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Background Color"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"color",value:n.promoBar.backgroundColor,onChange:h=>e({...n,promoBar:{...n.promoBar,backgroundColor:h.target.value}}),className:"h-[38px] w-[50px] p-0 border border-gray-300 rounded cursor-pointer"}),t.jsx("input",{type:"text",value:n.promoBar.backgroundColor,onChange:h=>e({...n,promoBar:{...n.promoBar,backgroundColor:h.target.value}}),className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none uppercase"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Countdown Timer End Date (Optional)"}),t.jsx("input",{type:"datetime-local",value:n.promoBar.endDate||"",onChange:h=>e({...n,promoBar:{...n.promoBar,endDate:h.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Set a date to show a countdown timer within the banner."})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-400 mb-2",children:"Live Preview"}),t.jsxs("div",{className:"rounded-lg p-3 text-center text-sm font-medium flex items-center justify-center gap-4 shadow-sm",style:{backgroundColor:n.promoBar.backgroundColor,color:n.promoBar.textColor},children:[t.jsx("span",{children:n.promoBar.message}),n.promoBar.buttonText&&t.jsx("span",{className:"px-3 py-1 bg-white text-black text-xs font-bold rounded shadow-sm opacity-90",children:n.promoBar.buttonText})]})]})]})]})]})]}):t.jsx("div",{children:"Loading..."})},wL=()=>{const[n,e]=w.useState([]),[s,r]=w.useState(!0),[i,l]=w.useState("all"),[c,h]=w.useState(null),[f,p]=w.useState(""),[x,b]=w.useState(!1);w.useEffect(()=>{v()},[i]);const v=async()=>{r(!0);try{const C=await q.getBankTransfers(i);e(C)}catch(C){console.error("Failed to load transfers",C)}r(!1)},E=async C=>{if(c){b(!0);try{await q.approveBankTransfer(c.id,C,f),h(null),p(""),await v()}catch(P){alert("Error: "+P.message)}b(!1)}},S=C=>{switch(C){case"approved":return t.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-[9px] font-black uppercase tracking-wider rounded-sm flex items-center gap-1",children:[t.jsx(bt,{size:10})," Approved"]});case"rejected":return t.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-[9px] font-black uppercase tracking-wider rounded-sm flex items-center gap-1",children:[t.jsx(Ql,{size:10})," Rejected"]});default:return t.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-[9px] font-black uppercase tracking-wider rounded-sm flex items-center gap-1",children:[t.jsx(us,{size:10})," Pending"]})}},A=C=>C?new Date(C).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return t.jsxs("div",{className:"animate-in fade-in space-y-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Payment Verification"}),t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Bank Transfer Proofs"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("select",{value:i,onChange:C=>l(C.target.value),className:"text-xs border border-gray-200 px-4 py-2 bg-white font-bold uppercase tracking-wide",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"rejected",children:"Rejected"})]}),t.jsxs("button",{onClick:v,className:"bg-white border border-gray-200 px-4 py-2 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00] flex items-center gap-2",children:[t.jsx(So,{size:14})," Refresh"]})]})]}),s?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(So,{className:"animate-spin text-[#ff4d00]",size:32})}):n.length===0?t.jsxs("div",{className:"bg-white border border-gray-200 p-12 text-center",children:[t.jsx(vf,{size:48,className:"mx-auto text-gray-300 mb-4"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No bank transfer proofs found."})]}):t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Reference"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tier"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(C=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:A(C.created_at)}),t.jsx("td",{className:"px-6 py-4 text-xs font-medium text-gray-900",children:C.user_email}),t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:C.reference}),t.jsxs("td",{className:"px-6 py-4 text-sm font-black text-gray-900",children:["",C.amount.toFixed(2)," ",t.jsxs("span",{className:"text-xs text-gray-400",children:["(",C.currency,")"]})]}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-600 capitalize",children:C.tier||"General"}),t.jsx("td",{className:"px-6 py-4",children:S(C.status)}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[t.jsx("a",{href:`${de}${C.file_url}`,download:C.file_name,className:"text-gray-400 hover:text-[#ff4d00] transition-colors",title:"Download",children:t.jsx(xi,{size:14})}),t.jsxs("button",{onClick:()=>h(C),className:"bg-black text-white px-4 py-2 text-[10px] font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(Gf,{size:12})," View"]})]})})]},C.id))})]})}),c&&t.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>h(null),children:t.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] overflow-auto shadow-2xl",onClick:C=>C.stopPropagation(),children:[t.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-start sticky top-0 bg-white",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Transfer Details"}),t.jsx("h3",{className:"text-xl font-black text-gray-900",children:c.reference})]}),S(c.status)]}),t.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"User Email"}),t.jsx("p",{className:"text-sm font-bold text-gray-900",children:c.user_email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Amount"}),t.jsxs("p",{className:"text-2xl font-black text-gray-900",children:["",c.amount.toFixed(2)," ",t.jsxs("span",{className:"text-sm text-gray-400",children:["(",c.currency,")"]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Tier"}),t.jsx("p",{className:"text-sm font-bold text-gray-900 capitalize",children:c.tier||"General"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Submitted"}),t.jsx("p",{className:"text-sm font-bold text-gray-900",children:A(c.created_at)})]}),c.notes&&t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"User Notes"}),t.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 border border-gray-200",children:c.notes})]}),c.admin_notes&&t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Admin Notes"}),t.jsx("p",{className:"text-sm text-gray-700 bg-yellow-50 p-3 border border-yellow-200",children:c.admin_notes})]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Proof Document"}),t.jsx("div",{className:"bg-gray-50 border border-gray-200 p-4",children:c.file_url.endsWith(".pdf")?t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(vf,{size:32,className:"text-red-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold",children:c.file_name}),t.jsxs("a",{href:`${de}${c.file_url}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-[#ff4d00] hover:underline flex items-center gap-1",children:["Open PDF ",t.jsx(Hf,{size:10})]})]})]}),t.jsxs("a",{href:`${de}${c.file_url}`,download:c.file_name,className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(xi,{size:14})," Download"]})]}):t.jsxs("div",{className:"space-y-3",children:[t.jsx("img",{src:`${de}${c.file_url}`,alt:"Proof",className:"w-full h-auto max-h-64 object-contain"}),t.jsxs("a",{href:`${de}${c.file_url}`,download:c.file_name,className:"inline-flex items-center gap-2 bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors",children:[t.jsx(xi,{size:14})," Download Image"]})]})})]})})]}),c.status==="pending"&&t.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-2",children:"Admin Notes (Optional)"}),t.jsx("textarea",{value:f,onChange:C=>p(C.target.value),className:"w-full border border-gray-200 p-3 text-sm",rows:3,placeholder:"Add notes about this transfer..."})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:()=>E(!0),disabled:x,className:"flex-1 bg-green-500 text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-green-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[x?t.jsx(So,{className:"animate-spin",size:14}):t.jsx(bt,{size:14}),"Approve & Credit"]}),t.jsxs("button",{onClick:()=>E(!1),disabled:x,className:"flex-1 bg-red-500 text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[x?t.jsx(So,{className:"animate-spin",size:14}):t.jsx(Ql,{size:14}),"Reject"]})]})]}),c.status!=="pending"&&t.jsx("div",{className:"p-6 border-t border-gray-200 flex justify-end",children:t.jsx("button",{onClick:()=>h(null),className:"bg-gray-100 hover:bg-gray-200 px-6 py-3 text-xs font-bold uppercase tracking-wider",children:"Close"})})]})})]})},jL=()=>{const[n,e]=w.useState("pending"),[s,r]=w.useState([]),[i,l]=w.useState([]),[c,h]=w.useState([]),[f,p]=w.useState(!0),[x,b]=w.useState(null),[v,E]=w.useState({approvedValue:"",adminNotes:"",fraudFlagged:!1,fraudReason:""}),[S,A]=w.useState(!1),[C,P]=w.useState(0),[D,F]=w.useState(!1);w.useEffect(()=>{B()},[]);const B=async()=>{try{const[k,I,L,M]=await Promise.all([q.getPendingBenefits().catch(()=>[]),fetch(`${window.location.origin}/benefits/types`).then(R=>R.json()).catch(()=>[]),q.getBenefitsHistory().catch(()=>[]),fetch(`${window.location.origin}/settings`).then(R=>R.json()).catch(()=>({settings:{}}))]);r(k),l(I),h(L);const V=M.settings||{};P(V.newUserSignupCredits||0)}catch(k){console.error(k)}finally{p(!1)}},$=async()=>{F(!0);try{const L={...(await fetch(`${window.location.origin}/settings`).then(M=>M.json()).catch(()=>({settings:{}}))).settings||{},newUserSignupCredits:C};await fetch(`${window.location.origin}/settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:L})}),alert("Signup credits saved successfully!")}catch(k){alert(k.message||"Failed to save")}finally{F(!1)}},Q=async()=>{if(x){A(!0);try{await q.approveBenefit(x.id,parseFloat(v.approvedValue)||x.claimed_value,v.adminNotes),await B(),b(null),E({approvedValue:"",adminNotes:"",fraudFlagged:!1,fraudReason:""})}catch(k){alert(k.message||"Failed to approve")}finally{A(!1)}}},_=async()=>{if(x){A(!0);try{await q.rejectBenefit(x.id,v.adminNotes,v.fraudFlagged,v.fraudReason),await B(),b(null),E({approvedValue:"",adminNotes:"",fraudFlagged:!1,fraudReason:""})}catch(k){alert(k.message||"Failed to reject")}finally{A(!1)}}};return f?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-[#ff4d00] border-t-transparent rounded-full"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-black text-gray-900",children:"Benefits Management"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Review marketing activity submissions and manage benefit types"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>e("pending"),className:`px-4 py-2 text-xs font-bold uppercase ${n==="pending"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:["Pending (",s.length,")"]}),t.jsx("button",{onClick:()=>e("types"),className:`px-4 py-2 text-xs font-bold uppercase ${n==="types"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:"Benefit Types"}),t.jsx("button",{onClick:()=>e("history"),className:`px-4 py-2 text-xs font-bold uppercase ${n==="history"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:"History"}),t.jsx("button",{onClick:()=>e("signup"),className:`px-4 py-2 text-xs font-bold uppercase ${n==="signup"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:"Signup Credits"})]})]}),n==="pending"&&t.jsx("div",{className:"space-y-4",children:s.length===0?t.jsxs("div",{className:"bg-white border border-gray-200 p-12 text-center",children:[t.jsx(Oa,{size:48,className:"mx-auto text-gray-300 mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No pending benefit requests"})]}):s.map(k=>t.jsx("div",{className:"bg-white border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"bg-yellow-100 p-3",children:t.jsx(us,{size:24,className:"text-yellow-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"text-sm font-bold text-gray-900",children:k.user_email}),t.jsx("span",{className:"text-xs bg-gray-100 px-2 py-0.5",children:k.benefit_type}),t.jsx("span",{className:"text-xs bg-[#ff4d00]/10 text-[#ff4d00] px-2 py-0.5",children:k.benefit_category})]}),t.jsxs("a",{href:k.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:[k.url," ",t.jsx(Hf,{size:12})]}),k.description&&t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:k.description}),t.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Submitted: ",new Date(k.submitted_at).toLocaleString()]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-2xl font-black text-[#ff4d00]",children:["",k.claimed_value]}),t.jsx("div",{className:"text-xs text-gray-500",children:"Claimed"}),t.jsx("div",{className:"flex gap-2 mt-4",children:t.jsx("button",{onClick:()=>{b(k),E({...v,approvedValue:String(k.claimed_value)})},className:"px-3 py-1 bg-green-500 text-white text-xs font-bold uppercase hover:bg-green-600",children:"Review"})})]})]})},k.id))}),n==="types"&&t.jsxs("div",{className:"bg-white border border-gray-200",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[t.jsx("h3",{className:"font-bold",children:"Benefit Types Configuration"}),t.jsxs("button",{className:"px-3 py-1 bg-[#ff4d00] text-white text-xs font-bold uppercase flex items-center gap-1",children:[t.jsx(Or,{size:14})," Add Type"]})]}),t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left p-4 text-xs font-bold text-gray-500 uppercase",children:"Type"}),t.jsx("th",{className:"text-left p-4 text-xs font-bold text-gray-500 uppercase",children:"Category"}),t.jsx("th",{className:"text-left p-4 text-xs font-bold text-gray-500 uppercase",children:"Name"}),t.jsx("th",{className:"text-right p-4 text-xs font-bold text-gray-500 uppercase",children:"Value"}),t.jsx("th",{className:"text-center p-4 text-xs font-bold text-gray-500 uppercase",children:"Active"}),t.jsx("th",{className:"text-right p-4 text-xs font-bold text-gray-500 uppercase",children:"Actions"})]})}),t.jsx("tbody",{children:i.map(k=>t.jsxs("tr",{className:"border-t border-gray-100",children:[t.jsx("td",{className:"p-4 text-sm",children:k.type}),t.jsx("td",{className:"p-4 text-sm",children:k.category}),t.jsx("td",{className:"p-4 text-sm font-medium",children:k.name}),t.jsxs("td",{className:"p-4 text-sm text-right font-bold",children:["",k.value]}),t.jsx("td",{className:"p-4 text-center",children:t.jsx("span",{className:`px-2 py-1 text-xs ${k.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:k.active?"Active":"Inactive"})}),t.jsx("td",{className:"p-4 text-right",children:t.jsx("button",{className:"p-1 text-gray-400 hover:text-[#ff4d00]",children:t.jsx(YO,{size:16})})})]},k.id))})]})]}),n==="history"&&t.jsxs("div",{className:"bg-white border border-gray-200",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Processed Benefits"})}),c.length===0?t.jsxs("div",{className:"p-12 text-center text-gray-400",children:[t.jsx(us,{size:32,className:"mx-auto mb-3 opacity-50"}),t.jsx("p",{className:"text-sm font-bold",children:"No processed benefits yet"})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"User"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Claimed"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Approved"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Reviewed"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:c.map(k=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:k.user_email}),t.jsxs("td",{className:"px-6 py-4 text-xs text-gray-600",children:[k.benefit_type," / ",k.benefit_category]}),t.jsxs("td",{className:"px-6 py-4 text-xs font-bold",children:["",k.claimed_value]}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-green-600",children:k.approved_value?`${k.approved_value}`:"-"}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("span",{className:`inline-flex items-center gap-1 text-[9px] font-black uppercase tracking-wider px-2 py-1 rounded-sm ${k.status==="approved"?"bg-green-100 text-green-700":k.status==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-500"}`,children:[k.status==="approved"?t.jsx(bt,{size:10}):k.status==="rejected"?t.jsx(Ql,{size:10}):t.jsx(us,{size:10}),k.status]}),k.fraud_flagged&&t.jsx("span",{className:"ml-2 text-[8px] text-red-600 font-black uppercase",children:"Fraud"})]}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:k.reviewed_at?new Date(k.reviewed_at).toLocaleDateString():"-"})]},k.id))})]})})]}),n==="signup"&&t.jsxs("div",{className:"bg-white border border-gray-200",children:[t.jsxs("div",{className:"p-6 border-b border-gray-200",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"New User Signup Credits"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configure how many credits new users receive for free when they register"})]}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"max-w-md",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Signup Credits Amount"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(za,{size:18,className:"text-gray-400"})}),t.jsx("input",{type:"number",min:"0",step:"0.01",value:C,onChange:k=>P(parseFloat(k.target.value)||0),className:"pl-10 pr-4 py-2 w-full border border-gray-300 focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent",placeholder:"0.00"})]}),t.jsx("span",{className:"text-gray-500",children:"credits"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Set to 0 to disable signup credits. New users will not receive any free credits upon registration."}),t.jsx("div",{className:"mt-6 flex items-center gap-4",children:t.jsxs("button",{onClick:$,disabled:D,className:"px-4 py-2 bg-[#ff4d00] text-white font-bold uppercase text-xs flex items-center gap-2 hover:bg-[#e64600] disabled:opacity-50",children:[D?t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):t.jsx(Fa,{size:16}),D?"Saving...":"Save Settings"]})}),t.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200",children:[t.jsxs("h4",{className:"text-sm font-bold text-blue-900 flex items-center gap-2",children:[t.jsx(Vr,{size:16}),"How it works"]}),t.jsxs("ul",{"className-2":!0,"text-xs":"mt text-blue-800 space-y-1",children:[t.jsxs("li",{children:[" When a new user registers, they will automatically receive ",C," credits"]}),t.jsx("li",{children:" Credits are added to their account balance immediately"}),t.jsx("li",{children:" A transaction record is created for tracking"}),t.jsx("li",{children:" This setting applies to all new registrations"})]})]})]})})]}),x&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white max-w-lg w-full p-6",children:[t.jsx("h3",{className:"text-xl font-bold mb-4",children:"Review Benefit Request"}),t.jsxs("div",{className:"bg-gray-50 p-4 mb-4",children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"User:"}),t.jsx("span",{className:"text-sm font-bold",children:x.user_email})]}),t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Type:"}),t.jsxs("span",{className:"text-sm font-bold",children:[x.benefit_type," / ",x.benefit_category]})]}),t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Claimed:"}),t.jsxs("span",{className:"text-sm font-bold text-[#ff4d00]",children:["",x.claimed_value]})]}),t.jsx("div",{className:"mt-2 pt-2 border-t",children:t.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"View Submission "})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Approved Value ()"}),t.jsx("input",{type:"number",className:"w-full border p-3",value:v.approvedValue,onChange:k=>E({...v,approvedValue:k.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Admin Notes"}),t.jsx("textarea",{className:"w-full border p-3",rows:3,value:v.adminNotes,onChange:k=>E({...v,adminNotes:k.target.value})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"fraud",checked:v.fraudFlagged,onChange:k=>E({...v,fraudFlagged:k.target.checked})}),t.jsxs("label",{htmlFor:"fraud",className:"text-sm text-red-600 font-bold flex items-center gap-1",children:[t.jsx(ln,{size:14})," Flag as Fraud"]})]}),v.fraudFlagged&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Fraud Reason"}),t.jsx("input",{type:"text",className:"w-full border p-3 border-red-300",value:v.fraudReason,onChange:k=>E({...v,fraudReason:k.target.value}),placeholder:"Reason for fraud flag..."})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>b(null),className:"flex-1 border py-3 text-xs font-bold uppercase",children:"Cancel"}),t.jsx("button",{onClick:_,disabled:S,className:"flex-1 bg-red-500 text-white py-3 text-xs font-bold uppercase disabled:opacity-50",children:"Reject"}),t.jsx("button",{onClick:Q,disabled:S,className:"flex-1 bg-green-500 text-white py-3 text-xs font-bold uppercase disabled:opacity-50",children:"Approve"})]})]})})]})},NL=({onLogout:n})=>{const e=Vs(),s=Hn(),[r,i]=w.useState(!1),c=(()=>{const ne=s.pathname;return ne==="/admin"||ne==="/admin/"?"admin-home":ne.startsWith("/admin/users/edit/")?"admin-edit-user":ne==="/admin/users"?"admin-users":ne==="/admin/live"?"admin-live":ne==="/admin/tickets"?"admin-tickets":ne.startsWith("/admin/projects/edit/")?"admin-edit-project":ne==="/admin/projects"?"admin-projects":ne==="/admin/projects/create"?"admin-create-project":ne.startsWith("/admin/transactions/edit/")?"admin-edit-transaction":ne==="/admin/transactions"?"admin-transactions":ne==="/admin/alerts"?"admin-alerts":ne==="/admin/pricing"?"admin-pricing":ne==="/admin/settings"?"admin-settings":ne==="/admin/api-docs"?"admin-api-docs":ne==="/admin/marketing"?"admin-marketing":ne==="/admin/coupons"?"admin-coupons":ne==="/admin/conversion"?"admin-conversion":ne==="/admin/bank-transfers"?"admin-bank-transfers":"admin-home"})(),[h,f]=w.useState([]),[p,x]=w.useState([]),[b,v]=w.useState([]),[E,S]=w.useState([]),[A,C]=w.useState([]),[P,D]=w.useState(null),[F,B]=w.useState([]),[$,Q]=w.useState(null);w.useEffect(()=>{q.init(),(async()=>{await Promise.all([q.syncProjects(),q.syncAdminProjects()]),await _()})()},[]);const _=async()=>{try{const[ne,ve,Re]=await Promise.all([q.syncUsers(),q.syncAllTransactions(),q.getAdminStats(),q.syncAdminProjects(),q.syncTickets(),q.syncSettings(),q.syncAlerts()]);f(ne||[]),S(ve||[]),Re&&Q(Re),x(q.getAdminProjects()),C(q.getTickets()),B(q.getAlerts());const Ae=q.getSystemSettings();Ae&&D(Ae),v(q.getPricing())}catch(ne){console.error("Failed to refresh admin data:",ne)}},k=ne=>{const ve=q.getTickets();C(ve),e("/admin/tickets")},I=ne=>{e(`/admin/users/edit/${ne}`),window.scrollTo(0,0)},L=ne=>{e(`/admin/projects/edit/${ne}`),window.scrollTo(0,0)},M=ne=>{e(`/admin/transactions/edit/${ne}`),window.scrollTo(0,0)},V=[{title:"Admin Control",items:[{label:"Overview",id:"admin-home",path:"",icon:t.jsx(o4,{size:18})},{label:"User Management",id:"admin-users",path:"users",icon:t.jsx(Vr,{size:18})},{label:"Live Users",id:"admin-live",path:"live",icon:t.jsx(ew,{size:18})},{label:"All Projects",id:"admin-projects",path:"projects",icon:t.jsx(oa,{size:18})},{label:"Create Project",id:"admin-create-project",path:"projects/create",icon:t.jsx(Or,{size:18})}]},{title:"Operations",items:[{label:"Transactions",id:"admin-transactions",path:"transactions",icon:t.jsx(on,{size:18})},{label:"Bank Transfers",id:"admin-bank-transfers",path:"bank-transfers",icon:t.jsx(i4,{size:18})},{label:"Support Tickets",id:"admin-tickets",path:"tickets",icon:t.jsx(Dr,{size:18})},{label:"Broadcasts",id:"admin-alerts",path:"alerts",icon:t.jsx(Bb,{size:18})},{label:"API Documentation",id:"admin-api-docs",path:"api-docs",icon:t.jsx(r4,{size:18})}]},{title:"Growth",items:[{label:"Marketing Hub",id:"admin-marketing",path:"marketing",icon:t.jsx(dr,{size:18})},{label:"Coupons",id:"admin-coupons",path:"coupons",icon:t.jsx($b,{size:18})},{label:"Conversion",id:"admin-conversion",path:"conversion",icon:t.jsx(Gt,{size:18})},{label:"Benefits",id:"admin-benefits",path:"benefits",icon:t.jsx(dr,{size:18})}]},{title:"Configuration",items:[{label:"Global Pricing",id:"admin-pricing",path:"pricing",icon:t.jsx(on,{size:18})},{label:"System Settings",id:"admin-settings",path:"settings",icon:t.jsx(Xl,{size:18})}]}],R=()=>{const{id:ne}=Ad();return ne?t.jsx(uL,{userId:ne,onBack:()=>e("/admin/users"),onUpdate:_}):t.jsx("div",{children:"Error: No User ID selected"})},U=()=>{const{id:ne}=Ad();return ne?t.jsx(hL,{projectId:ne,onBack:()=>e("/admin/projects"),onUpdate:_}):t.jsx("div",{children:"Error: No Project ID selected"})},me=()=>{const{id:ne}=Ad();return ne?t.jsx(fL,{trxId:ne,onBack:()=>e("/admin/transactions"),onUpdate:_}):t.jsx("div",{children:"Error: No Transaction ID selected"})},W=()=>t.jsx(pL,{onBack:()=>e("/admin/projects"),onSuccess:_});return t.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen flex font-sans text-gray-900",children:[t.jsx(m4,{menuSections:V,currentView:c,onNavigate:ne=>{e(`/admin/${{"admin-home":"","admin-users":"users","admin-live":"live","admin-projects":"projects","admin-create-project":"projects/create","admin-transactions":"transactions","admin-tickets":"tickets","admin-alerts":"alerts","admin-pricing":"pricing","admin-settings":"settings","admin-api-docs":"api-docs","admin-marketing":"marketing","admin-coupons":"coupons","admin-conversion":"conversion","admin-benefits":"benefits","admin-bank-transfers":"bank-transfers"}[ne]||""}`),i(!1),window.scrollTo(0,0)},onLogout:n}),t.jsxs("main",{className:"flex-1 md:ml-64 flex flex-col min-h-screen relative",children:[t.jsx(p4,{title:"Super Admin Panel",onMobileMenuClick:()=>i(!0),isAdmin:!0}),t.jsx("div",{className:"flex-1 p-6 md:p-12 overflow-y-auto",children:t.jsx("div",{className:"max-w-screen-2xl mx-auto h-full",children:t.jsxs(Yv,{children:[t.jsx(Be,{index:!0,element:t.jsx(K9,{users:h,projects:p,tickets:A,transactions:E,onNavigate:ne=>{e(`/admin/${{"admin-users":"users","admin-projects":"projects","admin-tickets":"tickets","admin-transactions":"transactions"}[ne]||""}`)},stats:$})}),t.jsx(Be,{path:"users",element:t.jsx(W9,{users:h,projects:p,transactions:E,tickets:A,onRefresh:_,onEditUser:I})}),t.jsx(Be,{path:"users/edit/:id",element:t.jsx(R,{})}),t.jsx(Be,{path:"live",element:t.jsx(eL,{onStartChat:k})}),t.jsx(Be,{path:"tickets",element:t.jsx(Y9,{tickets:A,onRefresh:_})}),t.jsx(Be,{path:"projects",element:t.jsx(Q9,{projects:p,onEditProject:L})}),t.jsx(Be,{path:"projects/edit/:id",element:t.jsx(U,{})}),t.jsx(Be,{path:"projects/create",element:t.jsx(W,{})}),t.jsx(Be,{path:"transactions",element:t.jsx(J9,{transactions:E,onEditTransaction:M})}),t.jsx(Be,{path:"transactions/edit/:id",element:t.jsx(me,{})}),t.jsx(Be,{path:"alerts",element:t.jsx(Z9,{alerts:F,onRefresh:_})}),t.jsx(Be,{path:"pricing",element:t.jsx(H9,{initialData:b,onSave:()=>v(q.getPricing())})}),t.jsx(Be,{path:"settings",element:P?t.jsx(X9,{initialSettings:P,onSave:_}):t.jsx("div",{children:"Loading..."})}),t.jsx(Be,{path:"api-docs",element:t.jsx(gL,{})}),t.jsx(Be,{path:"marketing",element:t.jsx(yL,{})}),t.jsx(Be,{path:"coupons",element:t.jsx(bL,{onRefresh:_})}),t.jsx(Be,{path:"conversion",element:t.jsx(vL,{})}),t.jsx(Be,{path:"bank-transfers",element:t.jsx(wL,{})}),t.jsx(Be,{path:"benefits",element:t.jsx(jL,{})}),t.jsx(Be,{path:"*",element:t.jsx(ea,{to:"/admin",replace:!0})})]})})})]})]})},_L=({type:n,onBack:e})=>{const s=()=>{switch(n){case"privacy":return"Privacy Policy | Traffic Creator - Secure Website Traffic";case"terms":return"Terms of Use | Service Agreement - Traffic Creator";case"impressum":return"Impressum & Legal Imprint - EasyTrafficBot UG";case"agb":return"General Terms and Conditions (AGB) - Traffic Creator";case"refund":return"Refund & Cancellation Policy - Traffic Creator";case"delivery":return"Service Delivery Standards | Digital fulfillment";default:return"Legal Documentation - Traffic Creator"}},r=()=>{switch(n){case"privacy":return"Learn how Traffic Creator collects, uses, and protects your personal data in accordance with GDPR and international privacy standards.";case"terms":return"Our Terms of Use outline the legal agreement between you and Traffic Creator regarding your use of our website and services.";case"impressum":return"Official legal imprint and corporate information for EasyTrafficBot UG, the parent company of Traffic Creator.";case"agb":return"Read our General Terms and Conditions (AGB) for a detailed overview of our service agreements, pricing, and liability policies.";case"refund":return"Information about our refund policy, satisfaction guarantees, and the process for requesting a refund at Traffic Creator.";case"delivery":return"Understand our digital service delivery standards, including campaign activation times and fulfillment processes.";default:return"Official legal documentation for Traffic Creator services and website usage."}},i=()=>{switch(n){case"privacy":return"Privacy Policy";case"terms":return"Terms of Use";case"impressum":return"Impressum (Imprint)";case"agb":return"AGB (General Terms)";case"refund":return"Refund Policy";case"delivery":return"Delivery Policy";default:return"Legal Document"}},l=()=>{switch(n){case"impressum":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last modified: February 06, 2024"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 text-sm text-gray-600",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Information according to  5 TMG"}),t.jsx("p",{className:"font-bold text-gray-900",children:"EasyTrafficBot UG"}),t.jsx("p",{children:"Arrenbergsche Hfe 6"}),t.jsx("p",{children:"Building 44"}),t.jsx("p",{children:"42117 Wuppertal"}),t.jsx("p",{className:"mt-2 text-xs",children:"Commercial Register: HRB 30863"}),t.jsx("p",{className:"text-xs",children:"Registration Court: Amtsgericht Wuppertal"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Contact"}),t.jsxs("p",{children:[t.jsx("span",{className:"font-bold",children:"Phone:"})," +84373832085"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-bold",children:"Fax:"})," +49 (0) 123 44 55 99"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-bold",children:"E-Mail:"})," support@traffic-creator.com"]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Represented by"}),t.jsx("p",{children:"Martin Freiwald"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"EU Dispute Resolution"}),t.jsx("p",{children:"The European Commission provides a platform for online dispute resolution (ODR):"}),t.jsx("a",{href:"https://ec.europa.eu/consumers/odr/",target:"_blank",rel:"noopener noreferrer",className:"text-[#ff4d00] hover:underline break-all",children:"https://ec.europa.eu/consumers/odr/"}),t.jsx("p",{className:"mt-2 italic",children:"You can find our e-mail address above in the imprint."})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Consumer dispute resolution/Universal arbitration board"}),t.jsx("p",{children:"We are not willing or obliged to participate in dispute resolution proceedings before a consumer arbitration board."})]})]})]});case"agb":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"General Terms and Conditions (AGB) for Traffic Bot"}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Scope of Application"}),t.jsx("p",{children:"These General Terms and Conditions (AGB) apply to all business relationships between EasyTrafficBot UG (hereinafter: Provider) and its customers (hereinafter: Customer). The version valid at the time of the conclusion of the contract is authoritative."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Conclusion of Contract"}),t.jsx("p",{children:'The presentation of services on the website does not constitute a legally binding offer but an invitation to order. By clicking the "Order" or "Pay" button, the Customer places a binding order for the services contained in the shopping cart.'}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Services"}),t.jsx("p",{children:"The Provider delivers website traffic to the URLs specified by the Customer. The Provider guarantees the delivery of the purchased number of visitors but does not guarantee specific actions by these visitors (e.g., sales, sign-ups) unless explicitly stated otherwise."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Prices and Payment"}),t.jsx("p",{children:"All prices are final prices and include the statutory value-added tax (VAT) unless the Customer is based outside the EU or has a valid VAT ID. Payments are due immediately upon conclusion of the contract."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Warranty and Liability"}),t.jsx("p",{children:"The Provider is liable for defects in accordance with the statutory provisions. Liability for slight negligence is excluded, provided that no essential contractual obligations are violated."})]});case"refund":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last modified: September 25, 2024"}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"1. Right of Withdrawal"}),t.jsx("p",{children:"As a consumer based in the European Union, you have the right to withdraw from this contract within 14 days without giving any reason. The withdrawal period will expire after 14 days from the day of the conclusion of the contract."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"2. Effects of Withdrawal"}),t.jsx("p",{children:"If you withdraw from this contract, we shall reimburse to you all payments received from you, including the costs of delivery (with the exception of the supplementary costs resulting from your choice of a type of delivery other than the least expensive type of standard delivery offered by us), without undue delay and in any event not later than 14 days from the day on which we are informed about your decision to withdraw from this contract."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"3. Exceptions to the Right of Withdrawal"}),t.jsx("p",{children:"The right of withdrawal does not apply to:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"The supply of digital content which is not supplied on a tangible medium if the performance has begun with your prior express consent and acknowledgment that you thereby lose your right of withdrawal."}),t.jsx("li",{children:"Services that have been fully performed if the performance has begun with your prior express consent, and with acknowledgment that you will lose your right of withdrawal once the contract has been fully performed."})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"4. How to Exercise Your Right of Withdrawal"}),t.jsx("p",{children:"To exercise your right of withdrawal, you must inform us of your decision to withdraw from this contract by an unequivocal statement (e.g., a letter sent by post or email). You may use the attached model withdrawal form, but it is not obligatory."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"5. Refunds for Defective Products or Services"}),t.jsx("p",{children:"If the product or service you received is defective or not as described, you are entitled to a repair, replacement, or refund. Please contact our customer service team to initiate this process."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"6. Subscription Services"}),t.jsx("p",{children:'You may cancel your subscription at any time. Refunds for the remaining unused period will be provided on a pro-rata basis. If you cancel within the first 30 days of your subscription ("trial period"), you are eligible for a full refund.'})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"7. Non-Refundable Items and Situations"}),t.jsx("p",{children:"The following items, services, or situations are non-refundable:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"Custom or personalized services"}),t.jsx("li",{children:"Downloadable software or digital products that have been accessed or downloaded"}),t.jsx("li",{children:"Services that have already been fully performed"}),t.jsx("li",{children:"Traffic creation services where the failure to deliver traffic is due to factors beyond our control"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"8. Traffic Delivery Issues Outside Our Control"}),t.jsx("p",{children:"Refunds will not be issued in cases where the failure to deliver traffic is due to factors beyond our control, including but not duration to:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"Changes in search engine algorithms or policies"}),t.jsx("li",{children:"Changes in social media platform algorithms or policies"}),t.jsx("li",{children:"Restrictions or bans imposed on the client's website by third-party platforms"}),t.jsx("li",{children:"Client's website being offline or experiencing technical issues"}),t.jsx("li",{children:"Content on the client's website violating our terms of service or the terms of service of traffic sources"}),t.jsx("li",{children:"Force majeure events (e.g., natural disasters, global pandemics, significant internet outages)"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"9. Refund Processing Time"}),t.jsx("p",{children:"Refunds will be processed within 5-10 business days of approval. The time it takes for the refund to appear in your account may vary depending on your payment method and financial institution."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"10. Contact Us"}),t.jsx("p",{children:"If you have any questions about our refund policy or wish to request a refund, please contact us at: support@traffic-creator.com"})]})]})]});case"delivery":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Service Delivery Standards"}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Delivery Timeframe"}),t.jsx("p",{children:"Traffic campaigns typically start within 5 to 15 minutes after payment confirmation and campaign approval. In some cases, such as manual reviews for sensitive categories, activation may take up to 24 hours."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Method of Delivery"}),t.jsx("p",{children:"Services are delivered digitally. No physical products are shipped. You will receive a confirmation email once your campaign is active, and you can monitor progress in real-time via the Dashboard."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Campaign Completion"}),t.jsx("p",{children:"A campaign is considered complete when the total number of purchased visitors has been delivered to the target URL. Delivery speed is determined by your campaign settings."})]});case"privacy":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last Updated: October 27, 2023"}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"1. Interpretation and Definitions"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-bold text-gray-800",children:"Interpretation"}),t.jsx("p",{children:"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."}),t.jsx("h4",{className:"font-bold text-gray-800",children:"Definitions"}),t.jsx("p",{children:"For the purposes of this Privacy Policy:"}),t.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Account"})," means a unique account created for You to access our Service or parts of our Service."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Company"}),' (referred to as either "the Company", "We", "Us" or "Our" in this Agreement) refers to EasyTrafficBot UG, Arrenbergsche Hfe 6, 42117.']}),t.jsxs("li",{children:[t.jsx("strong",{children:"Cookies"})," are small files that are placed on Your computer, mobile device or any other device by a website..."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Personal Data"})," is any information that relates to an identified or identifiable individual."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Service"})," refers to the Website."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Usage Data"})," refers to data collected automatically, either generated by the use of the Service or from the Service infrastructure itself."]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"2. Collecting and Using Your Personal Data"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-bold text-gray-800 underline",children:"Types of Data Collected"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Personal Data:"})," While using Our Service, We may ask You to provide Us with certain personally identifiable information that can be used to contact or identify You. Personally identifiable information may include, but is not limited to: Email address, First name and last name, Usage Data."]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Usage Data:"})," Usage Data is collected automatically when using the Service. It may include information such as Your Device's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that You visit, the time and date of Your visit, the time spent on those pages, unique device identifiers and other diagnostic data."]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"3. Tracking Technologies and Cookies"}),t.jsx("p",{children:"We use Cookies and similar tracking technologies to track the activity on Our Service and store certain information. Tracking technologies used are beacons, tags, and scripts to collect and track information and to improve and analyze Our Service."}),t.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-2",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Necessary / Essential Cookies:"})," These Cookies are essential to provide You with services available through the Website."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Cookies Policy / Notice Acceptance Cookies:"})," These Cookies identify if users have accepted the use of cookies on the Website."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Functionality Cookies:"})," These Cookies allow us to remember choices You make when You use the Website."]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"4. Use of Your Personal Data"}),t.jsx("p",{children:"The Company may use Personal Data for the following purposes:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-2",children:[t.jsx("li",{children:"To provide and maintain our Service."}),t.jsx("li",{children:"To manage Your Account."}),t.jsx("li",{children:"For the performance of a contract."}),t.jsx("li",{children:"To contact You."}),t.jsx("li",{children:"To provide You with news, special offers and general information."})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"5. Delete Your Personal Data"}),t.jsx("p",{children:"You have the right to delete or request that We assist in deleting the Personal Data that We have collected about You. Our Service may give You the ability to delete certain information about You from within the Service."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"6. Contact Us"}),t.jsx("p",{children:"If you have any questions about this Privacy Policy, You can contact us by email: support@traffic-creator.com"})]})]})]});case"terms":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last modified: September 25, 2024"}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"1. Introduction"}),t.jsx("p",{children:"Welcome to Traffic Bot. These Terms of Use (the 'Terms') constitute a legally binding agreement between you ('the User') and Traffic Bot ('we', 'our', or 'us') regarding your access to and use of our website and services. By accessing or using our services, you confirm your acceptance of these Terms in full."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"2. User Obligations"}),t.jsx("p",{children:"When using our services, you agree to:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"Provide accurate and complete information (such as your name, email, etc.) when creating an account"}),t.jsx("li",{children:"Maintain the security of your account credentials"}),t.jsx("li",{children:"Use our services only for lawful purposes and in accordance with these Terms"}),t.jsx("li",{children:"Not attempt to interfere with or disrupt our services or servers"}),t.jsx("li",{children:"Not use our services to distribute malware or other harmful code"}),t.jsx("li",{children:"Notify us immediately of any unauthorized access to or use of your account"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"3. Privacy Policy"}),t.jsx("p",{children:"We respect your privacy and are committed to protecting your personal data. Our Privacy Policy outlines how we collect, use, and protect your personal information."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"4. Intellectual Property Rights"}),t.jsx("p",{children:"All content, features, and functionality of our services are owned by Traffic Bot and are protected by international copyright, trademark, and other intellectual property laws. You may not reproduce, modify, distribute, or otherwise exploit any intellectual property belonging to Traffic Bot without our express written consent."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"5. Limitation of Liability"}),t.jsx("p",{children:"To the fullest extent permitted by law, Traffic Bot shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses resulting from your use or inability to use our services."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"6. Termination"}),t.jsx("p",{children:"We reserve the right to terminate or suspend your account at our sole discretion, without prior notice, for reasons including but not limited to violations of these Terms, illegal activity, or prolonged periods of inactivity."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"7. Governing Law"}),t.jsx("p",{children:"These Terms shall be governed by the laws of Germany, without reference to conflict of law principles. Any legal disputes shall be exclusively resolved in the courts of Wuppertal."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"8. Dispute Resolution"}),t.jsx("p",{children:"Any disputes arising out of or related to these Terms or our services shall first be attempted to be resolved through good-faith negotiations. If such negotiations fail, both parties agree to resolve the dispute through binding arbitration."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"9. Amendments to Terms"}),t.jsx("p",{children:"We may modify these Terms from time to time. Material changes will be communicated via email, through a notice on our website, or other appropriate methods. Your continued use of our services following the posting of changes will confirm your acceptance of such changes."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"10. Acceptance of Terms"}),t.jsx("p",{children:"By accessing or using our services, you confirm that you have read, understood, and agree to be bound by these Terms of Use. If you do not agree, you must not use our services."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"11. Severability"}),t.jsx("p",{children:"If any provision of these Terms is held to be unenforceable or invalid, such provision will be changed and interpreted to accomplish the objectives of such provision to the greatest extent possible under applicable law, and the remaining provisions will continue in full force and effect."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"12. Third-Party Services"}),t.jsx("p",{children:"Our services may contain links to third-party websites or services that are not owned or controlled by Traffic Bot. We have no control over, and assume no responsibility for, the content, privacy policies, or practices of any third-party websites or services."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"13. Contact Us"}),t.jsx("p",{children:"If you have any questions about these Terms of Use, please contact us at: support@traffic-creator.com"})]})]})]});default:return t.jsx("p",{children:"Content not available."})}};return t.jsxs("div",{className:"min-h-screen bg-white",children:[t.jsx(_i,{title:s(),description:r(),keywords:`traffic bot ${n}, website traffic ${n}, seo traffic legal, easytrafficbot ug documentation`,type:"article",schema:{"@context":"https://schema.org","@type":"WebPage",publisher:{"@type":"Organization",name:"Traffic Creator",logo:"https://traffic-creator.com/logo.png"}}}),t.jsx("div",{className:"border-b border-gray-100 bg-white sticky top-0 z-50",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs(Ve,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors text-xs font-bold uppercase tracking-wider",children:[t.jsx($n,{size:16})," Back"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-[10px] font-bold bg-black text-white px-1.5 py-0.5 rounded-sm uppercase tracking-wide",children:"Bot"})]})]})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-20",children:[t.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-12 uppercase tracking-tight",children:i()}),t.jsx("div",{className:"prose prose-gray max-w-none text-gray-600 leading-relaxed font-sans",children:l()})]}),t.jsx("footer",{className:"bg-black text-white py-12 px-6 mt-20",children:t.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[t.jsx("div",{className:"text-xl font-black text-white tracking-tight",children:"TRAFFIC BOT"}),t.jsx("div",{className:"text-xs text-gray-600",children:" 2024 EasyTrafficBot UG"})]})})]})},SL=({onBack:n})=>{const[e,s]=w.useState(""),[r,i]=w.useState("all"),[l,c]=w.useState(null),[h,f]=w.useState([]);w.useEffect(()=>{q.getFAQs().then(f).catch(()=>f([]))},[]);const p=[{id:"all",label:"All Topics"},{id:"billing",label:"Billing & Payments",icon:t.jsx(on,{size:14})},{id:"technical",label:"Technical Support",icon:t.jsx(jM,{size:14})},{id:"general",label:"General Account",icon:t.jsx(Rs,{size:14})}],x=[{id:"1",question:"How long does it take for traffic to start?",answer:"Campaigns typically start delivering traffic within 5-15 minutes after creation. However, depending on the complexity of your targeting (specific cities, devices), it may take up to an hour for the first hits to register.",category:"general"},{id:"2",question:"Can I upgrade my plan later?",answer:"Yes, you can upgrade your plan at any time. Simply add funds to your wallet and create a new campaign with the desired higher tier. We recommend the 'Agency' plan for maximum volume.",category:"billing"},{id:"3",question:"Why is my traffic not showing in Google Analytics?",answer:"Ensure you are looking at 'Realtime' reports. Also, verify that your GA4 ID is correct in the project settings. Some traffic filters in GA4 may exclude bot traffic by default; our 'Growth' plan is designed to bypass standard bot filters.",category:"technical"},{id:"4",question:"Is this traffic safe for AdSense?",answer:"Our 'Growth' and 'Agency' traffic tiers are safe for AdSense as they utilize high-quality residential IPs. However, we always recommend monitoring your CTR (Click-Through Rate) and adjusting your campaign speed accordingly.",category:"technical"},{id:"5",question:"What payment methods do you accept?",answer:"We accept Visa, Mastercard, American Express via Stripe. We also support PayPal and various Cryptocurrencies (BTC, ETH, USDT).",category:"billing"},{id:"6",question:"How do I reset my API key?",answer:"Navigate to your Profile settings in the dashboard. Under the 'Developer Settings' section, click the refresh icon to invalidate your old key and generate a new one.",category:"general"}],v=(h.length>0?h:x).filter(E=>(r==="all"||E.category===r)&&(E.question.toLowerCase().includes(e.toLowerCase())||E.answer.toLowerCase().includes(e.toLowerCase())));return t.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans",children:[t.jsx(_i,{title:"Help Center & Documentation 2024 - Traffic Bot Support",description:"Find answers to common questions, setup guides, and API documentation for Traffic Bot in 2024.",keywords:"traffic bot support 2024, help center, documentation, faq, seo tool support",type:"article",schema:{"@context":"https://schema.org","@type":"FAQPage",mainEntity:v.map(E=>({"@type":"Question",name:E.question,acceptedAnswer:{"@type":"Answer",text:E.answer}}))}}),t.jsxs("div",{className:"bg-[#111] text-white pt-20 pb-32 px-6 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-[#ff4d00] opacity-10 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"}),t.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-400 hover:text-white mb-8 text-xs font-bold uppercase tracking-wider transition-colors",children:[t.jsx($n,{size:16})," Back to Home"]}),t.jsx("h1",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-6",children:"How can we help?"}),t.jsxs("div",{className:"relative max-w-2xl",children:[t.jsx(qn,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",value:e,onChange:E=>s(E.target.value),placeholder:"Search for answers...",className:"w-full bg-white text-gray-900 pl-16 pr-6 py-5 rounded-sm shadow-xl text-lg font-medium outline-none focus:ring-2 focus:ring-[#ff4d00]"})]})]})]}),t.jsxs("div",{className:"max-w-4xl mx-auto px-6 -mt-16 relative z-20 pb-20",children:[t.jsx("div",{className:"flex flex-wrap gap-4 mb-12",children:p.map(E=>t.jsxs("button",{onClick:()=>i(E.id),className:`px-6 py-4 rounded-sm shadow-sm flex items-center gap-3 text-sm font-bold uppercase tracking-wider transition-all
                            ${r===E.id?"bg-[#ff4d00] text-white transform -translate-y-1":"bg-white text-gray-600 hover:bg-gray-50"}
                        `,children:[E.icon,E.label]},E.id))}),t.jsx("div",{className:"space-y-4",children:v.length===0?t.jsxs("div",{className:"text-center py-20 bg-gray-50 border border-gray-100 rounded-sm",children:[t.jsx(Dr,{className:"mx-auto text-gray-300 mb-4",size:48}),t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"No results found"}),t.jsx("p",{className:"text-gray-500",children:"Try adjusting your search terms or browse all categories."})]}):v.map((E,S)=>t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm transition-all hover:border-gray-300",children:[t.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left",onClick:()=>c(l===S?null:S),children:[t.jsx("span",{className:"font-bold text-gray-900 text-lg",children:E.question}),l===S?t.jsx(gu,{size:20,className:"text-[#ff4d00]"}):t.jsx(wi,{size:20,className:"text-gray-400"})]}),l===S&&t.jsx("div",{className:"px-6 pb-8 pt-2 text-gray-600 leading-relaxed animate-in fade-in slide-in-from-top-2 border-t border-gray-50",children:E.answer})]},S))}),t.jsxs("div",{className:"mt-20 bg-gray-50 border border-gray-200 p-10 text-center",children:[t.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4",children:"Still need help?"}),t.jsx("p",{className:"text-gray-500 mb-8 max-w-lg mx-auto",children:"Our support team is available 24/7 to assist you with any technical or billing inquiries."}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsxs("button",{className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(ji,{size:16})," Contact Support"]}),t.jsxs("button",{className:"bg-white border border-gray-300 text-gray-900 px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-gray-100 transition-colors flex items-center gap-2",children:[t.jsx(Dr,{size:16})," Live Chat"]})]})]})]}),t.jsx("footer",{className:"bg-black text-white py-12 px-6",children:t.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[t.jsx("div",{className:"text-xl font-black tracking-tight",children:"TRAFFIC BOT"}),t.jsx("div",{className:"text-xs text-gray-500",children:" 2024 EasyTrafficBot UG"})]})})]})},dS=({onBack:n})=>{const{slug:e}=Ad(),s=Vs(),[r,i]=w.useState([]),[l,c]=w.useState(null),[h,f]=w.useState(!0),[p,x]=w.useState(null),[b,v]=w.useState(""),[E,S]=w.useState("All"),[A,C]=w.useState(e?"article":"list");w.useEffect(()=>{(async()=>{try{const M=await(await fetch("/api/blog/articles")).json();i(M),f(!1)}catch(L){console.error("Error fetching articles:",L),f(!1)}})()},[]),w.useEffect(()=>{e?(async()=>{try{const L=await fetch(`/api/blog/articles/${e}`);if(L.ok){const M=await L.json();c(M.content)}}catch(L){console.error("Error fetching article content:",L)}})():c(null)},[e]);const P=["All","Reviews","SEO","Marketing","Guides","Crypto","Strategy","Analytics"];w.useEffect(()=>{if(!h)if(e){const I=r.find(L=>L.slug===e);I?(x(I.id),C("article")):s("/blog")}else C("list"),x(null)},[e,r,h]);const D=I=>{const L=r.find(M=>M.id===I);L&&(s(`/blog/${L.slug}`),window.scrollTo(0,0))},F=()=>{s("/blog"),window.scrollTo(0,0)},B=()=>{const L=`<?xml version="1.0" encoding="UTF-8" ?>
        <rss version="2.0">
        <channel>
            <title>Traffic Creator Journal</title>
            <link>https://traffic-creator.com</link>
            <description>Digital Growth Insights</description>
            ${r.map(R=>`
        <item>
            <title>${R.title}</title>
            <link>https://traffic-creator.com/blog/${R.slug}</link>
            <description>${R.excerpt}</description>
            <pubDate>${new Date(R.date).toUTCString()}</pubDate>
            <guid>https://traffic-creator.com/blog/${R.slug}</guid>
        </item>
      `).join("")}
        </channel>
        </rss>`,M=new Blob([L],{type:"text/xml"}),V=URL.createObjectURL(M);window.open(V,"_blank")},$=r.find(I=>I.id===p),Q=$?r.filter(I=>I.category===$.category&&I.id!==$.id):[],_=A==="article"&&$?{title:`${$.title} | Traffic Creator Journal`,description:$.seoDescription,keywords:$.tags.join(", "),type:"article",image:$.image,schema:{"@context":"https://schema.org","@type":"BlogPosting",headline:$.title,image:[$.image],datePublished:new Date($.date).toISOString(),author:[{"@type":"Person",name:$.author}],publisher:{"@type":"Organization",name:"Traffic Creator",logo:{"@type":"ImageObject",url:"https://traffic-creator.com/logo.png"}},description:$.seoDescription}}:{title:"SEO & Traffic Generation Blog 2026 | Traffic Creator Insights",description:"Expert guides for 2026 on improving website traffic, CTR manipulation strategies, and technical SEO best practices for modern algorithms.",keywords:"seo blog 2026, traffic generation tips, ranking strategies, digital marketing insights",type:"website"},k=r.filter(I=>{const L=I.title.toLowerCase().includes(b.toLowerCase())||I.excerpt.toLowerCase().includes(b.toLowerCase()),M=E==="All"||I.category===E;return L&&M});return A==="article"&&$?t.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900 pb-20 selection:bg-[#ff4d00]/30 underline-offset-4",children:[t.jsx(_i,{..._}),t.jsx(TL,{}),t.jsxs("div",{className:"relative h-[60vh] bg-gray-900 group",children:[t.jsx("img",{src:$.image,className:"w-full h-full object-cover opacity-60 group-hover:opacity-50 transition-opacity duration-700",alt:"Cover"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent"})," ",t.jsx("div",{className:"absolute top-0 left-0 w-full p-6 flex justify-between items-center z-10",children:t.jsxs("button",{onClick:F,className:"text-white flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors bg-black/20 backdrop-blur-md px-4 py-2 rounded-full",children:[t.jsx($n,{size:14})," Back"]})}),t.jsx("div",{className:"absolute bottom-0 left-0 w-full p-8 md:p-16",children:t.jsxs("div",{className:"max-w-4xl mx-auto animate-in slide-in-from-bottom-10 fade-in duration-700",children:[t.jsx("div",{className:"flex gap-2 mb-6",children:t.jsx("span",{className:"bg-[#ff4d00] text-white px-3 py-1 text-[10px] font-black uppercase tracking-widest",children:$.category})}),t.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white leading-[1.1] mb-8 drop-shadow-lg",children:$.title}),t.jsxs("div",{className:"flex flex-wrap items-center gap-8 text-gray-200 text-sm font-medium border-t border-white/20 pt-8",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center text-white font-bold",children:$.author.charAt(0)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-bold",children:$.author}),t.jsx("div",{className:"text-xs text-gray-300 uppercase tracking-wide",children:$.role})]})]}),t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Wl,{size:16})," ",$.date]}),t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(us,{size:16})," ",$.readTime]})]})]})})]}),t.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-20 grid grid-cols-1 lg:grid-cols-4 gap-12",children:[t.jsxs("div",{className:"lg:col-span-3",children:[t.jsx("p",{className:"text-xl text-gray-600 mb-10 font-medium border-l-4 border-[#ff4d00] pl-6 italic",children:$.excerpt}),l?t.jsx("div",{className:"article-content-wrapper text-gray-800",dangerouslySetInnerHTML:{__html:l}}):t.jsxs("div",{className:"prose prose-lg prose-slate max-w-none leading-relaxed prose-headings:font-black prose-headings:tracking-tight prose-a:text-[#ff4d00] prose-img:rounded-sm space-y-6",children:[t.jsxs("div",{className:"animate-pulse space-y-4",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),t.jsx("p",{className:"text-gray-400",children:"Loading article content..."})]}),t.jsx("div",{className:"mt-20 pt-10 border-t border-gray-200",children:t.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:$.tags.map(I=>t.jsxs("span",{className:"bg-gray-100 hover:bg-gray-200 transition-colors text-gray-600 px-4 py-2 text-xs font-bold uppercase tracking-wide rounded-sm cursor-pointer",children:["#",I]},I))})})]}),t.jsxs("div",{className:"lg:col-span-1 space-y-12",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 mb-4",children:"Share This"}),t.jsx("div",{className:"flex gap-2",children:t.jsx("button",{className:"p-3 rounded-full border border-gray-200 text-gray-500 hover:text-[#ff4d00] hover:border-[#ff4d00] transition-all",onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("Link copied!")},children:t.jsx(tw,{size:18})})})]}),Q.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 mb-6",children:"Related Reads"}),t.jsx("div",{className:"space-y-6",children:Q.slice(0,5).map(I=>t.jsxs("div",{className:"group cursor-pointer",onClick:()=>D(I.id),children:[t.jsx("div",{className:"aspect-video bg-gray-100 mb-2 overflow-hidden rounded-sm",children:t.jsx("img",{src:I.image,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),t.jsx("h5",{className:"text-sm font-bold text-gray-900 group-hover:text-[#ff4d00] leading-tight mb-1",children:I.title}),t.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:I.date})]},I.id))})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-100 text-gray-900 p-6 text-center rounded-sm",children:[t.jsx(ji,{className:"mx-auto mb-4 text-[#ff4d00]",size:24}),t.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Join the Inner Circle"}),t.jsx("p",{className:"text-gray-500 text-xs mb-6",children:"Get exclusive SEO tips delivered to your inbox."}),t.jsx("input",{type:"email",placeholder:"Email",className:"bg-white border border-gray-200 text-gray-900 placeholder-gray-400 px-4 py-2 w-full outline-none focus:ring-1 focus:ring-[#ff4d00] mb-2 text-sm"}),t.jsx("button",{className:"w-full bg-[#ff4d00] text-white px-4 py-2 font-bold uppercase text-xs tracking-wider hover:bg-black hover:text-white transition-colors",children:"Subscribe"})]})]})]})]}):t.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900",children:[t.jsx(_i,{..._}),t.jsx("div",{className:"border-b border-gray-200 sticky top-0 bg-white/95 backdrop-blur-md z-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-[#ff4d00] transition-colors text-xs font-bold uppercase tracking-wider",children:[t.jsx($n,{size:16})," Back to Home"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-[10px] font-bold bg-black text-white px-1.5 py-0.5 rounded-sm uppercase tracking-wide",children:"Journal"})]})]})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-20",children:[t.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[t.jsxs("h1",{className:"text-5xl md:text-7xl font-black uppercase tracking-tight mb-6 leading-[0.9] text-gray-900",children:["Digital ",t.jsx("span",{className:"text-[#ff4d00]",children:"Growth"}),t.jsx("br",{}),"Insights."]}),t.jsx("p",{className:"text-xl text-gray-500 leading-relaxed mb-10",children:"Expert advice on digital marketing, SEO strategies, and traffic optimization for the modern web."}),t.jsxs("div",{className:"relative max-w-xl mx-auto shadow-xl",children:[t.jsx("input",{type:"text",placeholder:"Search articles...",value:b,onChange:I=>v(I.target.value),className:"w-full bg-white border border-gray-200 py-4 pl-12 pr-4 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00] transition-colors rounded-sm"}),t.jsx(qn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),t.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-16",children:P.map(I=>t.jsx("button",{onClick:()=>S(I),className:`px-6 py-2 text-xs font-bold uppercase tracking-widest border transition-all rounded-full
                            ${E===I?"bg-[#ff4d00] text-white border-[#ff4d00] shadow-lg":"bg-gray-50 text-gray-500 border-gray-200 hover:border-gray-400 hover:text-black"}
                        `,children:I},I))}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-12 gap-y-16",children:k.length===0?t.jsxs("div",{className:"col-span-3 text-center py-20 text-gray-400",children:[t.jsx(xu,{size:48,className:"mx-auto mb-4 opacity-20"}),t.jsx("p",{children:"No articles found matching your criteria."})]}):k.map((I,L)=>t.jsxs("article",{className:"group cursor-pointer flex flex-col h-full animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${L*100}ms`},onClick:()=>D(I.id),children:[t.jsxs("div",{className:"aspect-[4/3] overflow-hidden bg-gray-100 mb-6 relative rounded-sm group shadow-sm",children:[t.jsx("img",{src:I.image,alt:I.title,className:"w-full h-full object-cover transform scale-100 group-hover:scale-110 transition-transform duration-1000 opacity-90 group-hover:opacity-100",loading:"lazy"}),t.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-md px-3 py-1 text-[10px] font-black uppercase tracking-widest text-[#ff4d00] shadow-sm border border-gray-100",children:I.category})]}),t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[I.date," ",t.jsx("span",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full"})," ",I.readTime]}),t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-3 group-hover:text-[#ff4d00] transition-colors leading-tight tracking-tight",children:I.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed mb-6 flex-1 line-clamp-3",children:I.excerpt}),t.jsxs("div",{className:"flex items-center gap-2 text-xs font-black uppercase tracking-widest text-[#ff4d00] group-hover:translate-x-2 transition-transform duration-300 mt-auto",children:["Read Article ",t.jsx(ds,{size:14})]})]})]},I.id))})]}),t.jsx("footer",{className:"bg-gray-900 text-white py-12 px-6 mt-20",children:t.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6",children:[t.jsx("div",{className:"text-xl font-black tracking-tight",children:"TRAFFIC CREATOR"}),t.jsxs("div",{className:"flex gap-6 text-xs font-bold text-gray-500 uppercase tracking-widest",children:[t.jsxs("button",{onClick:B,className:"hover:text-white transition-colors flex items-center gap-2",children:[t.jsx(PO,{size:14})," RSS Feed"]}),t.jsx("button",{className:"hover:text-white transition-colors",children:"Newsletter"}),t.jsx("button",{className:"hover:text-white transition-colors",children:"Archive"})]}),t.jsx("div",{className:"text-xs text-gray-600",children:" 2026 Traffic Creator Inc."})]})})]})},TL=()=>{const[n,e]=w.useState(0);return w.useEffect(()=>{const s=()=>{const r=document.documentElement.scrollTop,i=document.documentElement.scrollHeight-document.documentElement.clientHeight;if(i===0)return;const l=r/i;e(l)};return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[]),t.jsx("div",{className:"fixed top-0 left-0 h-1 bg-[#ff4d00] z-[60] transition-all duration-100 ease-out",style:{width:`${n*100}%`}})};/*! js-cookie v3.0.5 | MIT */function Hp(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)n[r]=s[r]}return n}var kL={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Yb(n,e){function s(i,l,c){if(!(typeof document>"u")){c=Hp({},e,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var h="";for(var f in c)c[f]&&(h+="; "+f,c[f]!==!0&&(h+="="+c[f].split(";")[0]));return document.cookie=i+"="+n.write(l,i)+h}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var l=document.cookie?document.cookie.split("; "):[],c={},h=0;h<l.length;h++){var f=l[h].split("="),p=f.slice(1).join("=");try{var x=decodeURIComponent(f[0]);if(c[x]=n.read(p,x),i===x)break}catch{}}return i?c[i]:c}}return Object.create({set:s,get:r,remove:function(i,l){s(i,"",Hp({},l,{expires:-1}))},withAttributes:function(i){return Yb(this.converter,Hp({},this.attributes,i))},withConverter:function(i){return Yb(Hp({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var Ng=Yb(kL,{path:"/"});const EL=({condition:n,wrapper:e,children:s})=>n?e(s):s,Qb={TOP:"top",BOTTOM:"bottom"};var lw=(n=>(n.STRICT="strict",n.LAX="lax",n.NONE="none",n))(lw||{});const Jb={HIDDEN:"hidden",BY_COOKIE_VALUE:"byCookieValue"},A4="CookieConsent",CL=({children:n,...e})=>Ke.createElement("button",{...e},n),Hh={disableStyles:!1,hideOnAccept:!0,hideOnDecline:!0,location:Qb.BOTTOM,visible:Jb.BY_COOKIE_VALUE,onAccept:n=>{},onDecline:()=>{},cookieName:A4,cookieValue:"true",declineCookieValue:"false",setDeclineCookie:!0,buttonText:"I understand",declineButtonText:"I decline",debug:!1,expires:365,containerClasses:"CookieConsent",contentClasses:"",buttonClasses:"",buttonWrapperClasses:"",declineButtonClasses:"",buttonId:"rcc-confirm-button",declineButtonId:"rcc-decline-button",extraCookieOptions:{},disableButtonStyles:!1,enableDeclineButton:!1,flipButtons:!1,sameSite:lw.LAX,ButtonComponent:CL,overlay:!1,overlayClasses:"",onOverlayClick:()=>{},acceptOnOverlayClick:!1,ariaAcceptLabel:"Accept cookies",ariaDeclineLabel:"Decline cookies",acceptOnScroll:!1,acceptOnScrollPercentage:25,customContentAttributes:{},customContainerAttributes:{},customButtonProps:{},customDeclineButtonProps:{},customButtonWrapperAttributes:{},style:{},buttonStyle:{},declineButtonStyle:{},contentStyle:{},overlayStyle:{}},AL={visible:!1,style:{alignItems:"baseline",background:"#353535",color:"white",display:"flex",flexWrap:"wrap",justifyContent:"space-between",left:"0",position:"fixed",width:"100%",zIndex:"999"},buttonStyle:{background:"#ffd42d",border:"0",borderRadius:"0px",boxShadow:"none",color:"black",cursor:"pointer",flex:"0 0 auto",padding:"5px 10px",margin:"15px"},declineButtonStyle:{background:"#c12a2a",border:"0",borderRadius:"0px",boxShadow:"none",color:"#e5e5e5",cursor:"pointer",flex:"0 0 auto",padding:"5px 10px",margin:"15px"},contentStyle:{flex:"1 0 300px",margin:"15px"},overlayStyle:{position:"fixed",left:0,top:0,width:"100%",height:"100%",zIndex:"999",backgroundColor:"rgba(0,0,0,0.3)"}},IL=(n=A4)=>{const e=Ng.get(n);return e===void 0?Ng.get(I4(n)):e},I4=n=>`${n}-legacy`,R4=class extends w.Component{constructor(){super(...arguments),this.state=AL,this.handleScroll=()=>{const{acceptOnScrollPercentage:e}={...Hh,...this.props},s=document.documentElement,r=document.body,i="scrollTop",l="scrollHeight";(s[i]||r[i])/((s[l]||r[l])-s.clientHeight)*100>e&&this.accept(!0)},this.removeScrollListener=()=>{const{acceptOnScroll:e}=this.props;e&&globalThis.removeEventListener("scroll",this.handleScroll)}}componentDidMount(){const{debug:e}=this.props;(this.getCookieValue()===void 0||e)&&(this.setState({visible:!0}),this.props.acceptOnScroll&&globalThis.addEventListener("scroll",this.handleScroll,{passive:!0}))}componentWillUnmount(){this.removeScrollListener()}accept(e=!1){const{cookieName:s,cookieValue:r,hideOnAccept:i,onAccept:l}={...Hh,...this.props};this.setCookie(s,r),l(e??!1),i&&(this.setState({visible:!1}),this.removeScrollListener())}overlayClick(){const{acceptOnOverlayClick:e,onOverlayClick:s}={...Hh,...this.props};e&&this.accept(),s()}decline(){const{cookieName:e,declineCookieValue:s,hideOnDecline:r,onDecline:i,setDeclineCookie:l}={...Hh,...this.props};l&&this.setCookie(e,s),i(),r&&this.setState({visible:!1})}setCookie(e,s){const{extraCookieOptions:r,expires:i,sameSite:l}=this.props;let{cookieSecurity:c}=this.props;c===void 0&&(c=globalThis.location?globalThis.location.protocol==="https:":!0);const h={expires:i,...r,sameSite:l,secure:c};l===lw.NONE&&Ng.set(I4(e),s,h),Ng.set(e,s,h)}getCookieValue(){const{cookieName:e}=this.props;return IL(e)}render(){switch(this.props.visible){case Jb.HIDDEN:return null;case Jb.BY_COOKIE_VALUE:if(!this.state.visible)return null;break}const{location:e,style:s,buttonStyle:r,declineButtonStyle:i,contentStyle:l,disableStyles:c,buttonText:h,declineButtonText:f,containerClasses:p,contentClasses:x,buttonClasses:b,buttonWrapperClasses:v,declineButtonClasses:E,buttonId:S,declineButtonId:A,disableButtonStyles:C,enableDeclineButton:P,flipButtons:D,ButtonComponent:F,overlay:B,overlayClasses:$,overlayStyle:Q,ariaAcceptLabel:_,ariaDeclineLabel:k,customContainerAttributes:I,customContentAttributes:L,customButtonProps:M,customDeclineButtonProps:V,customButtonWrapperAttributes:R}=this.props;let U={},me={},W={},ne={},ve={};switch(c?(U=Object.assign({},s),me=Object.assign({},r),W=Object.assign({},i),ne=Object.assign({},l),ve=Object.assign({},Q)):(U=Object.assign({},{...this.state.style,...s}),ne=Object.assign({},{...this.state.contentStyle,...l}),ve=Object.assign({},{...this.state.overlayStyle,...Q}),C?(me=Object.assign({},r),W=Object.assign({},i)):(me=Object.assign({},{...this.state.buttonStyle,...r}),W=Object.assign({},{...this.state.declineButtonStyle,...i}))),e){case Qb.TOP:U.top="0";break;case Qb.BOTTOM:U.bottom="0";break}const Re=[];return P&&Re.push(Ke.createElement(F,{key:"declineButton",style:W,className:E,id:A,"aria-label":k,onClick:()=>{this.decline()},...V},f)),Re.push(Ke.createElement(F,{key:"acceptButton",style:me,className:b,id:S,"aria-label":_,onClick:()=>{this.accept()},...M},h)),D&&Re.reverse(),Ke.createElement(EL,{condition:B,wrapper:Ae=>Ke.createElement("div",{style:ve,className:$,onClick:()=>{this.overlayClick()},onKeyDown:H=>{(H.key==="Enter"||H.key===" ")&&(H.preventDefault(),this.overlayClick())},role:"button",tabIndex:0,"aria-label":"Close cookie consent banner"},Ae)},Ke.createElement("div",{className:`${p}`,style:U,...I},Ke.createElement("div",{style:ne,className:x,...L},this.props.children),Ke.createElement("div",{className:`${v}`,...R},Re.map(Ae=>Ae))))}};R4.defaultProps=Hh;let RL=R4;const PL=()=>{const[n,e]=w.useState(!1);return t.jsx(t.Fragment,{children:t.jsxs(RL,{location:"bottom",buttonText:"Accept All",declineButtonText:"Decline",manageCookieUseUrl:"#",onAccept:s=>{console.log(s?"Cookie accepted by scrolling":"Cookie accepted by button")},enableDeclineButton:!0,flipButtons:!0,cookieName:"trafficgen_cookie_consent",expires:365,style:{background:"#1a1a1a",color:"#ffffff",padding:"20px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"15px",fontSize:"14px",zIndex:9999},buttonStyle:{background:"#ff4d00",color:"#ffffff",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},declineButtonStyle:{background:"transparent",color:"#999999",border:"1px solid #666666",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},overlay:!0,children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",flex:1},children:[t.jsx(oD,{size:24,color:"#ff4d00"}),t.jsxs("div",{children:[t.jsx("strong",{style:{color:"#ff4d00",fontSize:"15px"},children:" Cookie Consent"}),t.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"13px",color:"#cccccc"},children:'We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.'})]})]}),t.jsx("button",{onClick:()=>e(!n),style:{background:"transparent",border:"none",color:"#ff4d00",cursor:"pointer",fontSize:"12px",textDecoration:"underline",marginTop:"10px"},children:n?"Hide Details":"Learn More"}),n&&t.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#2a2a2a",borderRadius:"4px",width:"100%",fontSize:"12px"},children:[t.jsx("h4",{style:{margin:"0 0 10px 0",color:"#ff4d00"},children:"Cookie Categories"}),t.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#cccccc"},children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Essential:"})," Required for the website to function properly"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Analytics:"})," Help us understand how visitors interact with our website"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Marketing:"})," Used to track visitors across websites for ad targeting"]})]}),t.jsx("p",{style:{marginTop:"10px",color:"#999999"},children:'You can manage your cookie preferences at any time by clicking "Decline" or clearing your browser cookies.'})]})]})})},DL=()=>{const[n]=Zg(),e=Vs(),[s,r]=w.useState("input"),[i,l]=w.useState(""),[c,h]=w.useState(["","","",""]),[f,p]=w.useState(""),x=w.useRef([]),[b,v]=w.useState("idle");w.useEffect(()=>{const F=n.get("email");F&&p(F)},[n]),w.useEffect(()=>{x.current[0]&&x.current[0].focus()},[]);const E=(F,B)=>{var Q;if(!/^\d*$/.test(B))return;const $=[...c];$[F]=B.slice(-1),h($),B&&F<3&&((Q=x.current[F+1])==null||Q.focus()),$.every(_=>_!=="")&&$.join("").length===4&&C($.join(""))},S=(F,B)=>{var $;B.key==="Backspace"&&!c[F]&&F>0&&(($=x.current[F-1])==null||$.focus())},A=F=>{F.preventDefault();const B=F.clipboardData.getData("text").replace(/\D/g,"").slice(0,4),$=[...c];B.split("").forEach((Q,_)=>{_<4&&($[_]=Q)}),h($),$.every(Q=>Q!=="")&&C($.join(""))},C=async F=>{r("loading");try{await q.verifyEmail(F),r("success"),l("Your email has been verified successfully! You can now log in and create projects.")}catch(B){r("error"),l(B.message||"Verification failed. The code may have expired.")}},P=async()=>{if(f){v("sending");try{await q.resendVerificationEmail(f),v("sent")}catch{v("idle")}}},D=()=>{var F;h(["","","",""]),r("input"),l(""),(F=x.current[0])==null||F.focus()};return t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ve,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),s==="input"&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(ji,{className:"text-[#ff4d00]",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Enter Verification Code"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"We've sent a 4-digit code to your email. Enter it below to verify your account."}),t.jsx("div",{className:"flex justify-center gap-3 mb-6",children:c.map((F,B)=>t.jsx("input",{ref:$=>{x.current[B]=$},type:"text",inputMode:"numeric",maxLength:1,value:F,onChange:$=>E(B,$.target.value),onKeyDown:$=>S(B,$),onPaste:B===0?A:void 0,className:"w-14 h-16 text-center text-2xl font-bold border-2 border-gray-200 rounded-xl focus:border-[#ff4d00] focus:outline-none transition-colors"},B))}),t.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"The code expires in 24 hours"}),f&&t.jsx("button",{onClick:P,disabled:b!=="idle",className:"text-sm text-[#ff4d00] hover:text-[#e64500] font-medium disabled:text-gray-400",children:b==="sending"?"Sending...":b==="sent"?"Code sent!":"Didn't receive a code? Resend"})]}),s==="loading"&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(cs,{className:"animate-spin mx-auto mb-4 text-[#ff4d00]",size:48}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Verifying your code..."})]}),s==="success"&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(bt,{className:"text-green-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Email Verified!"}),t.jsx("p",{className:"text-gray-500 mb-8",children:i}),t.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Continue to Login"})]}),s==="error"&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Ql,{className:"text-red-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Verification Failed"}),t.jsx("p",{className:"text-gray-500 mb-8",children:i}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("button",{onClick:D,className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Try Again"}),t.jsx(Ve,{to:"/login",className:"block text-center text-sm font-bold text-gray-400 hover:text-[#ff4d00]",children:"Back to Login"})]})]})]})})},OL=()=>{const[n]=Zg(),e=Vs(),[s,r]=w.useState(""),[i,l]=w.useState(""),[c,h]=w.useState(!1),[f,p]=w.useState(!1),[x,b]=w.useState(""),[v,E]=w.useState(!1),S=n.get("token"),A=async C=>{if(C.preventDefault(),b(""),s.length<6){b("Password must be at least 6 characters long");return}if(s!==i){b("Passwords do not match");return}if(!S){b("Invalid reset link. No token provided.");return}p(!0);try{await q.resetPassword(S,s),E(!0)}catch(P){b(P.message||"Password reset failed. The link may have expired.")}finally{p(!1)}};return S?v?t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ve,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(bt,{className:"text-green-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Password Reset!"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"Your password has been successfully reset. You can now log in with your new password."}),t.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Continue to Login"})]})]})}):t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ve,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Reset Password"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"Enter your new password below."}),x&&t.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3",children:[t.jsx(ln,{className:"text-red-500 shrink-0",size:20}),t.jsx("span",{className:"text-red-700 text-xs font-bold leading-relaxed",children:x})]}),t.jsxs("form",{onSubmit:A,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Vn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:c?"text":"password",required:!0,value:s,onChange:C=>r(C.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 pr-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"Min. 6 characters"}),t.jsx("button",{type:"button",onClick:()=>h(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?t.jsx(n4,{size:18}):t.jsx(Gf,{size:18})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Vn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:c?"text":"password",required:!0,value:i,onChange:C=>l(C.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"Confirm your password"})]})]}),t.jsx("button",{type:"submit",disabled:f,className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:f?t.jsxs(t.Fragment,{children:[t.jsx(cs,{className:"animate-spin",size:16})," Resetting..."]}):t.jsxs(t.Fragment,{children:["Reset Password ",t.jsx(ds,{size:16})]})})]})]})}):t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ve,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(ln,{className:"text-red-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Invalid Link"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"This password reset link is invalid or has expired."}),t.jsx(Ve,{to:"/forgot",className:"block w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors text-center",children:"Request New Link"})]})]})})},ML=()=>{const n=Vs(),[e]=Zg(),[s,r]=w.useState("");return w.useEffect(()=>{const i=e.get("token"),l=e.get("return")||"/dashboard";if(!i){r("No token provided"),setTimeout(()=>n("/login"),2e3);return}q.validateSsoToken(i).then(async c=>{c.valid&&c.user&&c.token?(localStorage.setItem("tgp_token",c.token),q.setCurrentUser(c.user),await q.syncAll(),n(l)):(r("Session validation failed. Please login again."),setTimeout(()=>n("/login"),2e3))}).catch(()=>{r("Session validation failed. Please login again."),setTimeout(()=>n("/login"),2e3)})},[e,n]),s?t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full text-center",children:[t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3 mb-6",children:[t.jsx(ln,{className:"text-red-500 shrink-0",size:20}),t.jsx("span",{className:"text-red-700 text-xs font-bold",children:s})]}),t.jsx("p",{className:"text-gray-500 text-xs",children:"Redirecting to login..."})]})}):t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(cs,{className:"animate-spin mx-auto mb-4 text-[#ff4d00]",size:32}),t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Logging you in..."})]})})},LL=({children:n})=>{var i;const[e,s]=w.useState({hasError:!1,error:null}),r=l=>{s({hasError:!0,error:l})};return Ke.useEffect(()=>{const l=c=>{r(c.reason)};return window.addEventListener("unhandledrejection",l),()=>window.removeEventListener("unhandledrejection",l)},[]),e.hasError?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center p-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),t.jsx("p",{className:"text-gray-600 mb-4",children:(i=e.error)==null?void 0:i.message}),t.jsx("button",{onClick:()=>window.location.href="/login",className:"bg-[#ff4d00] text-white px-6 py-2 rounded font-bold",children:"Go to Login"})]})}):t.jsx(t.Fragment,{children:n})},uS=({children:n,adminOnly:e})=>{const s=q.getCurrentUser();return s?e&&s.role!=="admin"?t.jsx(ea,{to:"/dashboard",replace:!0}):t.jsx(t.Fragment,{children:n}):t.jsx(ea,{to:"/login",replace:!0})},VL=()=>{const{type:n}=Ad(),e=Vs(),s=()=>{const r=q.getCurrentUser();r&&(r.role==="user"||r.role==="admin")?e("/dashboard"):e("/")};return t.jsx(_L,{type:n,onBack:s})},zL=()=>{const n=Vs(),e=Hn();w.useEffect(()=>{q.init()},[]),w.useEffect(()=>{const l=q.getCurrentUser();if(l){const c=e.pathname.substring(1)||"landing";q.trackPresence(c,l)}},[e]);const s=l=>{n(l==="admin"?"/admin":"/dashboard"),window.scrollTo(0,0)},r=()=>{n("/"),window.scrollTo(0,0)},i=()=>{n("/"),window.scrollTo(0,0)};return t.jsxs(LL,{children:[t.jsxs(Yv,{children:[t.jsx(Be,{path:"/",element:t.jsx(z9,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"/login",element:t.jsx(lb,{view:"login",onLogin:s,onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"/signup",element:t.jsx(lb,{view:"signup",onLogin:s,onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"/forgot",element:t.jsx(lb,{view:"forgot",onLogin:s,onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"/verify-email",element:t.jsx(DL,{})}),t.jsx(Be,{path:"/reset-password",element:t.jsx(OL,{})}),t.jsx(Be,{path:"/sso",element:t.jsx(ML,{})}),t.jsx(Be,{path:"/dashboard/*",element:t.jsx(uS,{children:t.jsx(M9,{onLogout:r,onNavigate:l=>n(`/${l}`)})})}),t.jsx(Be,{path:"/admin/*",element:t.jsx(uS,{adminOnly:!0,children:t.jsx(NL,{onLogout:r})})}),t.jsx(Be,{path:"/helpdesk",element:t.jsx(SL,{onBack:i})}),t.jsx(Be,{path:"/blog",element:t.jsx(dS,{onBack:i})}),t.jsx(Be,{path:"/blog/:slug",element:t.jsx(dS,{onBack:i})}),t.jsx(Be,{path:"/pricing",element:t.jsx(C4,{})}),t.jsx(Be,{path:"/legal/:type",element:t.jsx(VL,{})}),t.jsx(Be,{path:"/privacy",element:t.jsx(ea,{to:"/legal/privacy",replace:!0})}),t.jsx(Be,{path:"/terms",element:t.jsx(ea,{to:"/legal/terms",replace:!0})}),t.jsx(Be,{path:"/impressum",element:t.jsx(ea,{to:"/legal/impressum",replace:!0})}),t.jsx(Be,{path:"/agb",element:t.jsx(ea,{to:"/legal/agb",replace:!0})}),t.jsx(Be,{path:"/refund",element:t.jsx(ea,{to:"/legal/refund",replace:!0})}),t.jsx(Be,{path:"/delivery",element:t.jsx(ea,{to:"/legal/delivery",replace:!0})}),t.jsx(Be,{path:"/organic-website-traffic",element:t.jsx(U9,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"/modern-traffic",element:t.jsx(B9,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"/free-website-traffic",element:t.jsx(cS,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"/landing2",element:t.jsx(cS,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"*",element:t.jsx(ea,{to:"/",replace:!0})})]}),t.jsx(PL,{})]})},UL=()=>{};var hS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=function(n){const e=[];let s=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[s++]=i:i<2048?(e[s++]=i>>6|192,e[s++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[s++]=i>>18|240,e[s++]=i>>12&63|128,e[s++]=i>>6&63|128,e[s++]=i&63|128):(e[s++]=i>>12|224,e[s++]=i>>6&63|128,e[s++]=i&63|128)}return e},BL=function(n){const e=[];let s=0,r=0;for(;s<n.length;){const i=n[s++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const l=n[s++];e[r++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=n[s++],c=n[s++],h=n[s++],f=((i&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const l=n[s++],c=n[s++];e[r++]=String.fromCharCode((i&15)<<12|(l&63)<<6|c&63)}}return e.join("")},D4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const l=n[i],c=i+1<n.length,h=c?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,x=l>>2,b=(l&3)<<4|h>>4;let v=(h&15)<<2|p>>6,E=p&63;f||(E=64,c||(v=64)),r.push(s[x],s[b],s[v],s[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(P4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):BL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const l=s[n.charAt(i++)],h=i<n.length?s[n.charAt(i)]:0;++i;const p=i<n.length?s[n.charAt(i)]:64;++i;const b=i<n.length?s[n.charAt(i)]:64;if(++i,l==null||h==null||p==null||b==null)throw new FL;const v=l<<2|h>>4;if(r.push(v),p!==64){const E=h<<4&240|p>>2;if(r.push(E),b!==64){const S=p<<6&192|b;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class FL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $L=function(n){const e=P4(n);return D4.encodeByteArray(e,!0)},_g=function(n){return $L(n).replace(/\./g,"")},cw=function(n){try{return D4.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const s=e;return new Date(s.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const s in e)!e.hasOwnProperty(s)||!qL(s)||(n[s]=Sg(n[s],e[s]));return n}function qL(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=()=>dw().__FIREBASE_DEFAULTS__,GL=()=>{if(typeof process>"u"||typeof hS>"u")return;const n=hS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&cw(n[1]);return e&&JSON.parse(e)},uw=()=>{try{return UL()||HL()||GL()||KL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hw=()=>{var n;return(n=uw())==null?void 0:n.config},WL=n=>{var e;return(e=uw())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O4(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[_g(JSON.stringify(s)),_g(JSON.stringify(c)),""].join(".")}const tf={};function JL(){const n={prod:[],emulator:[]};for(const e of Object.keys(tf))tf[e]?n.emulator.push(e):n.prod.push(e);return n}function XL(n){let e=document.getElementById(n),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),s=!0),{created:s,element:e}}let fS=!1;function M4(n,e){if(typeof window>"u"||typeof document>"u"||!yu(window.location.host)||tf[n]===e||tf[n]||fS)return;tf[n]=e;function s(v){return`__firebase__banner__${v}`}const r="__firebase__banner",l=JL().prod.length>0;function c(){const v=document.getElementById(r);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function p(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{fS=!0,c()},v}function x(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function b(){const v=XL(r),E=s("text"),S=document.getElementById(E)||document.createElement("span"),A=s("learnmore"),C=document.getElementById(A)||document.createElement("a"),P=s("preprendIcon"),D=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const F=v.element;h(F),x(C,A);const B=p();f(D,P),F.append(D,S,C,B),document.body.appendChild(F)}l?(S.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rs())}function nx(){var e;const n=(e=uw())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eV(){return typeof window<"u"||L4()}function L4(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function tV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V4(){const n=rs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function z4(){return!nx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U4(){return!nx()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ec(){try{return typeof indexedDB=="object"}catch{return!1}}function mw(){return new Promise((n,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),s||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{s=!1},i.onerror=()=>{var l;e(((l=i.error)==null?void 0:l.message)||"")}}catch(s){e(s)}})}function B4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="FirebaseError";class rn extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=sV,Object.setPrototypeOf(this,rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ci.prototype.create)}}class Ci{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},i=`${this.service}/${e}`,l=this.errors[e],c=l?nV(l,r):"Error",h=`${this.serviceName}: ${c} (${i}).`;return new rn(i,h,r)}}function nV(n,e){return n.replace(rV,(s,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function aV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vo(n,e){if(n===e)return!0;const s=Object.keys(n),r=Object.keys(e);for(const i of s){if(!r.includes(i))return!1;const l=n[i],c=e[i];if(pS(l)&&pS(c)){if(!Vo(l,c))return!1}else if(l!==c)return!1}for(const i of r)if(!s.includes(i))return!1;return!0}function pS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(n){const e=[];for(const[s,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,l]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function Gh(n){const e=n.indexOf("?");if(!e)return"";const s=n.indexOf("#",e);return n.substring(e,s>0?s:void 0)}function F4(n,e){const s=new iV(n,e);return s.subscribe.bind(s)}class iV{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let i;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");oV(e,["next","error","complete"])?i=e:i={next:e,error:s,complete:r},i.next===void 0&&(i.next=cb),i.error===void 0&&(i.error=cb),i.complete===void 0&&(i.complete=cb);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oV(n,e){if(typeof n!="object"||n===null)return!1;for(const s of e)if(s in n&&typeof n[s]=="function")return!0;return!1}function cb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=1e3,cV=2,dV=14400*1e3,uV=.5;function gS(n,e=lV,s=cV){const r=e*Math.pow(s,n),i=Math.round(uV*r*(Math.random()-.5)*2);return Math.min(dV,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(n){return n&&n._delegate?n._delegate:n}class En{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new YL;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:s});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mV(e))try{this.getOrInitializeService({instanceIdentifier:El})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);try{const l=this.getOrInitializeService({instanceIdentifier:i});r.resolve(l)}catch{}}}}clearInstance(e=El){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=El){return this.instances.has(e)}getOptions(e=El){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&c.resolve(i)}return i}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const l=this.instances.get(r);return l&&e(l,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const i of r)try{i(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fV(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=El){return this.component?this.component.multipleInstances?e:El:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fV(n){return n===El?void 0:n}function mV(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new hV(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=[];var ct;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ct||(ct={}));const q4={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},pV=ct.INFO,gV={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},xV=(n,e,...s)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=gV[e];if(i)console[i](`[${r}]  ${n.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wf{constructor(e){this.name=e,this._logLevel=pV,this._logHandler=xV,this._userLogHandler=null,pw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}function yV(n){pw.forEach(e=>{e.setLogLevel(n)})}function bV(n,e){for(const s of pw){let r=null;e&&e.level&&(r=q4[e.level]),n===null?s.userLogHandler=null:s.userLogHandler=(i,l,...c)=>{const h=c.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");l>=(r??i.logLevel)&&n({level:ct[l].toLowerCase(),message:h,args:c,type:i.name})}}}const vV=(n,e)=>e.some(s=>n instanceof s);let xS,yS;function wV(){return xS||(xS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jV(){return yS||(yS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H4=new WeakMap,Xb=new WeakMap,G4=new WeakMap,db=new WeakMap,gw=new WeakMap;function NV(n){const e=new Promise((s,r)=>{const i=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{s(Ao(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(s=>{s instanceof IDBCursor&&H4.set(s,n)}).catch(()=>{}),gw.set(e,n),e}function _V(n){if(Xb.has(n))return;const e=new Promise((s,r)=>{const i=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{s(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Xb.set(n,e)}let Zb={get(n,e,s){if(n instanceof IDBTransaction){if(e==="done")return Xb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||G4.get(n);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ao(n[e])},set(n,e,s){return n[e]=s,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function SV(n){Zb=n(Zb)}function TV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=n.call(ub(this),e,...s);return G4.set(r,e.sort?e.sort():[e]),Ao(r)}:jV().includes(n)?function(...e){return n.apply(ub(this),e),Ao(H4.get(this))}:function(...e){return Ao(n.apply(ub(this),e))}}function kV(n){return typeof n=="function"?TV(n):(n instanceof IDBTransaction&&_V(n),vV(n,wV())?new Proxy(n,Zb):n)}function Ao(n){if(n instanceof IDBRequest)return NV(n);if(db.has(n))return db.get(n);const e=kV(n);return e!==n&&(db.set(n,e),gw.set(e,n)),e}const ub=n=>gw.get(n);function K4(n,e,{blocked:s,upgrade:r,blocking:i,terminated:l}={}){const c=indexedDB.open(n,e),h=Ao(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Ao(c.result),f.oldVersion,f.newVersion,Ao(c.transaction),f)}),s&&c.addEventListener("blocked",f=>s(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const EV=["get","getKey","getAll","getAllKeys","count"],CV=["put","add","delete","clear"],hb=new Map;function bS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hb.get(e))return hb.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,i=CV.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EV.includes(s)))return;const l=async function(c,...h){const f=this.transaction(c,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[s](...h),i&&f.done]))[0]};return hb.set(e,l),l}SV(n=>({...n,get:(e,s,r)=>bS(e,s)||n.get(e,s,r),has:(e,s)=>!!bS(e,s)||n.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(IV(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function IV(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tg="@firebase/app",ev="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Wf("@firebase/app"),RV="@firebase/app-compat",PV="@firebase/analytics-compat",DV="@firebase/analytics",OV="@firebase/app-check-compat",MV="@firebase/app-check",LV="@firebase/auth",VV="@firebase/auth-compat",zV="@firebase/database",UV="@firebase/data-connect",BV="@firebase/database-compat",FV="@firebase/functions",$V="@firebase/functions-compat",qV="@firebase/installations",HV="@firebase/installations-compat",GV="@firebase/messaging",KV="@firebase/messaging-compat",WV="@firebase/performance",YV="@firebase/performance-compat",QV="@firebase/remote-config",JV="@firebase/remote-config-compat",XV="@firebase/storage",ZV="@firebase/storage-compat",ez="@firebase/firestore",tz="@firebase/ai",sz="@firebase/firestore-compat",nz="firebase",rz="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="[DEFAULT]",az={[Tg]:"fire-core",[RV]:"fire-core-compat",[DV]:"fire-analytics",[PV]:"fire-analytics-compat",[MV]:"fire-app-check",[OV]:"fire-app-check-compat",[LV]:"fire-auth",[VV]:"fire-auth-compat",[zV]:"fire-rtdb",[UV]:"fire-data-connect",[BV]:"fire-rtdb-compat",[FV]:"fire-fn",[$V]:"fire-fn-compat",[qV]:"fire-iid",[HV]:"fire-iid-compat",[GV]:"fire-fcm",[KV]:"fire-fcm-compat",[WV]:"fire-perf",[YV]:"fire-perf-compat",[QV]:"fire-rc",[JV]:"fire-rc-compat",[XV]:"fire-gcs",[ZV]:"fire-gcs-compat",[ez]:"fire-fst",[sz]:"fire-fst-compat",[tz]:"fire-vertex","fire-js":"fire-js",[nz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new Map,$d=new Map,qd=new Map;function wf(n,e){try{n.container.addComponent(e)}catch(s){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,s)}}function W4(n,e){n.container.addOrOverwriteComponent(e)}function zr(n){const e=n.name;if(qd.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;qd.set(e,n);for(const s of Uo.values())wf(s,n);for(const s of $d.values())wf(s,n);return!0}function ax(n,e){const s=n.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),n.container.getProvider(e)}function iz(n,e,s=zo){ax(n,e).clearInstance(s)}function xw(n){return n.options!==void 0}function Y4(n){return xw(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function Jt(n){return n==null?!1:n.settings!==void 0}function oz(){qd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new Ci("app","Firebase",lz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q4=class{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new En("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(n,e){const s=cw(n.split(".")[1]);if(s===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(s).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(s).exp*1e3,l=new Date().getTime();i-l<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class cz extends Q4{constructor(e,s,r,i){const l=s.automaticDataCollectionEnabled!==void 0?s.automaticDataCollectionEnabled:!0,c={name:r,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,c,i);else{const h=e;super(h.options,c,i)}this._serverConfig={automaticDataCollectionEnabled:l,...s},this._serverConfig.authIdToken&&vS(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&vS(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,s.releaseOnDeref=void 0,Tn(Tg,ev,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){bw(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ur.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=rz;function yw(n,e={}){let s=n;typeof e!="object"&&(e={name:e});const r={name:zo,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ur.create("bad-app-name",{appName:String(i)});if(s||(s=hw()),!s)throw ur.create("no-options");const l=Uo.get(i);if(l){if(Vo(s,l.options)&&Vo(r,l.config))return l;throw ur.create("duplicate-app",{appName:i})}const c=new $4(i);for(const f of qd.values())c.addComponent(f);const h=new Q4(s,r,c);return Uo.set(i,h),h}function dz(n,e={}){if(eV()&&!L4())throw ur.create("invalid-server-app-environment");let s,r=e||{};if(n&&(xw(n)?s=n.options:Y4(n)?r=n:s=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),s||(s=hw()),!s)throw ur.create("no-options");const i={...r,...s};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const l=x=>[...x].reduce((b,v)=>Math.imul(31,b)+v.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ur.create("finalization-registry-not-supported",{});const c=""+l(JSON.stringify(i)),h=$d.get(c);if(h)return h.incRefCount(r.releaseOnDeref),h;const f=new $4(c);for(const x of qd.values())f.addComponent(x);const p=new cz(s,r,c,f);return $d.set(c,p),p}function uz(n=zo){const e=Uo.get(n);if(!e&&n===zo&&hw())return yw();if(!e)throw ur.create("no-app",{appName:n});return e}function hz(){return Array.from(Uo.values())}async function bw(n){let e=!1;const s=n.name;Uo.has(s)?(e=!0,Uo.delete(s)):$d.has(s)&&n.decRefCount()<=0&&($d.delete(s),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Tn(n,e,s){let r=az[n]??n;s&&(r+=`-${s}`);const i=r.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(c.join(" "));return}zr(new En(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function J4(n,e){if(n!==null&&typeof n!="function")throw ur.create("invalid-log-argument");bV(n,e)}function X4(n){yV(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz="firebase-heartbeat-database",mz=1,jf="firebase-heartbeat-store";let fb=null;function Z4(){return fb||(fb=K4(fz,mz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jf)}catch(s){console.warn(s)}}}}).catch(n=>{throw ur.create("idb-open",{originalErrorMessage:n.message})})),fb}async function pz(n){try{const s=(await Z4()).transaction(jf),r=await s.objectStore(jf).get(eE(n));return await s.done,r}catch(e){if(e instanceof rn)Si.warn(e.message);else{const s=ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(s.message)}}}async function wS(n,e){try{const r=(await Z4()).transaction(jf,"readwrite");await r.objectStore(jf).put(e,eE(n)),await r.done}catch(s){if(s instanceof rn)Si.warn(s.message);else{const r=ur.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Si.warn(r.message)}}}function eE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=1024,xz=30;class yz{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new vz(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,s;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=jS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>xz){const c=wz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=jS(),{heartbeatsToSend:r,unsentEntries:i}=bz(this._heartbeatsCache.heartbeats),l=_g(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(s){return Si.warn(s),""}}}function jS(){return new Date().toISOString().substring(0,10)}function bz(n,e=gz){const s=[];let r=n.slice();for(const i of n){const l=s.find(c=>c.agent===i.agent);if(l){if(l.dates.push(i.date),NS(s)>e){l.dates.pop();break}}else if(s.push({agent:i.agent,dates:[i.date]}),NS(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class vz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ec()?mw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await pz(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function NS(n){return _g(JSON.stringify({version:2,heartbeats:n})).length}function wz(n){if(n.length===0)return-1;let e=0,s=n[0].date;for(let r=1;r<n.length;r++)n[r].date<s&&(s=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(n){zr(new En("platform-logger",e=>new AV(e),"PRIVATE")),zr(new En("heartbeat",e=>new yz(e),"PRIVATE")),Tn(Tg,ev,n),Tn(Tg,ev,"esm2020"),Tn("fire-js","")}jz("");const Nz=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:rn,SDK_VERSION:Wo,_DEFAULT_ENTRY_NAME:zo,_addComponent:wf,_addOrOverwriteComponent:W4,_apps:Uo,_clearComponents:oz,_components:qd,_getProvider:ax,_isFirebaseApp:xw,_isFirebaseServerApp:Jt,_isFirebaseServerAppSettings:Y4,_registerComponent:zr,_removeServiceInstance:iz,_serverApps:$d,deleteApp:bw,getApp:uz,getApps:hz,initializeApp:yw,initializeServerApp:dz,onLog:J4,registerVersion:Tn,setLogLevel:X4},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e,s){this._delegate=e,this.firebase=s,wf(e,new En("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),bw(this._delegate)))}_getService(e,s=zo){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:s})}_removeServiceInstance(e,s=zo){this._delegate.container.getProvider(e).clearInstance(s)}_addComponent(e){wf(this._delegate,e)}_addOrOverwriteComponent(e){W4(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},_S=new Ci("app-compat","Firebase",Sz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(n){const e={},s={__esModule:!0,initializeApp:l,app:i,registerVersion:Tn,setLogLevel:X4,onLog:J4,apps:null,SDK_VERSION:Wo,INTERNAL:{registerComponent:h,removeApp:r,useAsService:f,modularAPIs:Nz}};s.default=s,Object.defineProperty(s,"apps",{get:c});function r(p){delete e[p]}function i(p){if(p=p||zo,!mS(e,p))throw _S.create("no-app",{appName:p});return e[p]}i.App=n;function l(p,x={}){const b=yw(p,x);if(mS(e,b.name))return e[b.name];const v=new n(b,s);return e[b.name]=v,v}function c(){return Object.keys(e).map(p=>e[p])}function h(p){const x=p.name,b=x.replace("-compat","");if(zr(p)&&p.type==="PUBLIC"){const v=(E=i())=>{if(typeof E[b]!="function")throw _S.create("invalid-app-argument",{appName:x});return E[b]()};p.serviceProps!==void 0&&Sg(v,p.serviceProps),s[b]=v,n.prototype[b]=function(...E){return this._getService.bind(this,x).apply(this,p.multipleInstances?E:[])}}return p.type==="PUBLIC"?s[b]:null}function f(p,x){return x==="serverAuth"?null:x}return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){const n=Tz(_z);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:tE,extendNamespace:e,createSubscribe:F4,ErrorFactory:Ci,deepExtend:Sg};function e(s){Sg(n,s)}return n}const kz=tE();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new Wf("@firebase/app-compat"),Ez="@firebase/app-compat",Cz="0.5.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(n){Tn(Ez,Cz,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=dw();if(n.firebase!==void 0){SS.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&SS.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Yo=kz;Az();var Iz="firebase",Rz="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yo.registerVersion(Iz,Rz,"app-compat");const Oh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},pd={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function sE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dz=Pz,Oz=sE,nE=new Ci("auth","Firebase",sE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=new Wf("@firebase/auth");function Mz(n,...e){kg.logLevel<=ct.WARN&&kg.warn(`Auth (${Wo}): ${n}`,...e)}function ag(n,...e){kg.logLevel<=ct.ERROR&&kg.error(`Auth (${Wo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n,...e){throw ww(n,...e)}function Ls(n,...e){return ww(n,...e)}function vw(n,e,s){const r={...Oz(),[e]:s};return new Ci("auth","Firebase",r).create(e,{appName:n.name})}function Hs(n){return vw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vu(n,e,s){const r=s;if(!(e instanceof r))throw r.name!==e.constructor.name&&cn(n,"argument-error"),vw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ww(n,...e){if(typeof n!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(s,...r)}return nE.create(n,...e)}function Se(n,e,...s){if(!n)throw ww(e,...s)}function Ma(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ag(e),new Error(e)}function la(n,e){n||Ma(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function jw(){return TS()==="http:"||TS()==="https:"}function TS(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jw()||rx()||"connection"in navigator)?navigator.onLine:!0}function Vz(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,s){this.shortDelay=e,this.longDelay=s,la(s>e,"Short delay should be less than long delay!"),this.isMobile=ZL()||fw()}get(){return Lz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(n,e){la(n.emulator,"Emulator should always be set here");const{url:s}=n.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bz=new Yf(3e4,6e4);function fs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ms(n,e,s,r,i={}){return aE(n,i,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const h=bu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...l};return tV()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&yu(n.emulatorConfig.host)&&(p.credentials="include"),rE.fetch()(await iE(n,n.config.apiHost,s,h),p)})}async function aE(n,e,s){n._canInitEmulator=!1;const r={...zz,...e};try{const i=new $z(n),l=await Promise.race([s(),i.promise]);i.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Kh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kh(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Kh(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Kh(n,"user-disabled",c);const x=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw vw(n,x,p);cn(n,x)}}catch(i){if(i instanceof rn)throw i;cn(n,"network-request-failed",{message:String(i)})}}async function Ai(n,e,s,r,i={}){const l=await ms(n,e,s,r,i);return"mfaPendingCredential"in l&&cn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function iE(n,e,s,r){const i=`${e}${s}?${r}`,l=n,c=l.config.emulator?Nw(n.config,i):`${n.config.apiScheme}://${i}`;return Uz.includes(s)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function Fz(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $z{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(Ls(this.auth,"network-request-failed")),Bz.get())})}}function Kh(n,e,s){const r={appName:n.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const i=Ls(n,e,r);return i.customData._tokenResponse=s,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(n){return n!==void 0&&n.getResponse!==void 0}function ES(n){return n!==void 0&&n.enterprise!==void 0}class oE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===e)return Fz(s.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz(n){return(await ms(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function lE(n,e){return ms(n,"GET","/v2/recaptchaConfig",fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(n,e){return ms(n,"POST","/v1/accounts:delete",e)}async function Gz(n,e){return ms(n,"POST","/v1/accounts:update",e)}async function Eg(n,e){return ms(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kz(n,e=!1){const s=qe(n),r=await s.getIdToken(e),i=ix(r);Se(i&&i.exp&&i.auth_time&&i.iat,s.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:i,token:r,authTime:sf(mb(i.auth_time)),issuedAtTime:sf(mb(i.iat)),expirationTime:sf(mb(i.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function mb(n){return Number(n)*1e3}function ix(n){const[e,s,r]=n.split(".");if(e===void 0||s===void 0||r===void 0)return ag("JWT malformed, contained fewer than 3 sections"),null;try{const i=cw(s);return i?JSON.parse(i):(ag("Failed to decode base64 JWT payload"),null)}catch(i){return ag("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function CS(n){const e=ix(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ti(n,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof rn&&Wz(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Wz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=sf(this.lastLoginAt),this.creationTime=sf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _f(n){var b;const e=n.auth,s=await n.getIdToken(),r=await Ti(n,Eg(e,{idToken:s}));Se(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const l=(b=i.providerUserInfo)!=null&&b.length?cE(i.providerUserInfo):[],c=Jz(n.providerData,l),h=n.isAnonymous,f=!(n.email&&i.passwordHash)&&!(c!=null&&c.length),p=h?f:!1,x={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new tv(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(n,x)}async function Qz(n){const e=qe(n);await _f(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Jz(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cE(n){return n.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xz(n,e){const s=await aE(n,{},async()=>{const r=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=n.config,c=await iE(n,i,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&yu(n.emulatorConfig.host)&&(f.credentials="include"),rE.fetch()(c,f)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function Zz(n,e){return ms(n,"POST","/v2/accounts:revokeToken",fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const s=CS(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:i,expiresIn:l}=await Xz(e,s);this.updateTokensAndExpiration(r,i,Number(l))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:i,expirationTime:l}=s,c=new Id;return r&&(Se(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Id,this.toJSON())}_performRefresh(){return Ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class na{constructor({uid:e,auth:s,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Yz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const s=await Ti(this,this.stsTokenManager.getToken(this.auth,e));return Se(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return Kz(this,e)}reload(){return Qz(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new na({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await _f(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jt(this.auth.app))return Promise.reject(Hs(this.auth));const e=await this.getIdToken();return await Ti(this,Hz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const r=s.displayName??void 0,i=s.email??void 0,l=s.phoneNumber??void 0,c=s.photoURL??void 0,h=s.tenantId??void 0,f=s._redirectEventId??void 0,p=s.createdAt??void 0,x=s.lastLoginAt??void 0,{uid:b,emailVerified:v,isAnonymous:E,providerData:S,stsTokenManager:A}=s;Se(b&&A,e,"internal-error");const C=Id.fromJSON(this.name,A);Se(typeof b=="string",e,"internal-error"),bo(r,e.name),bo(i,e.name),Se(typeof v=="boolean",e,"internal-error"),Se(typeof E=="boolean",e,"internal-error"),bo(l,e.name),bo(c,e.name),bo(h,e.name),bo(f,e.name),bo(p,e.name),bo(x,e.name);const P=new na({uid:b,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:E,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:C,createdAt:p,lastLoginAt:x});return S&&Array.isArray(S)&&(P.providerData=S.map(D=>({...D}))),f&&(P._redirectEventId=f),P}static async _fromIdTokenResponse(e,s,r=!1){const i=new Id;i.updateFromServerResponse(s);const l=new na({uid:s.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _f(l),l}static async _fromGetAccountInfoResponse(e,s,r){const i=s.users[0];Se(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?cE(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!(l!=null&&l.length),h=new Id;h.updateFromIdToken(r);const f=new na({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new tv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new Map;function cr(n){la(n instanceof Function,"Expected a class definition");let e=AS.get(n);return e?(la(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,AS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}dE.type="NONE";const Hd=dE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(n,e,s){return`firebase:${n}:${e}:${s}`}class Rd{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:i,name:l}=this.auth;this.fullUserKey=Hl(this.userKey,i.apiKey,l),this.fullPersistenceKey=Hl("persistence",i.apiKey,l),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await Eg(this.auth,{idToken:e}).catch(()=>{});return s?na._fromGetAccountInfoResponse(this.auth,s,e):null}return na._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new Rd(cr(Hd),e,r);const i=(await Promise.all(s.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=i[0]||cr(Hd);const c=Hl(r,e.config.apiKey,e.name);let h=null;for(const p of s)try{const x=await p._get(c);if(x){let b;if(typeof x=="string"){const v=await Eg(e,{idToken:x}).catch(()=>{});if(!v)break;b=await na._fromGetAccountInfoResponse(e,v,x)}else b=na._fromJSON(e,x);p!==l&&(h=b),l=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Rd(l,e,r):(l=f[0],h&&await l._set(c,h.toJSON()),await Promise.all(s.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Rd(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pE(e))return"Blackberry";if(gE(e))return"Webos";if(hE(e))return"Safari";if((e.includes("chrome/")||fE(e))&&!e.includes("edge/"))return"Chrome";if(Qf(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uE(n=rs()){return/firefox\//i.test(n)}function hE(n=rs()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fE(n=rs()){return/crios\//i.test(n)}function mE(n=rs()){return/iemobile/i.test(n)}function Qf(n=rs()){return/android/i.test(n)}function pE(n=rs()){return/blackberry/i.test(n)}function gE(n=rs()){return/webos/i.test(n)}function Jf(n=rs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function e8(n=rs()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function t8(n=rs()){var e;return Jf(n)&&!!((e=window.navigator)!=null&&e.standalone)}function s8(){return V4()&&document.documentMode===10}function xE(n=rs()){return Jf(n)||Qf(n)||gE(n)||pE(n)||/windows phone/i.test(n)||mE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(n,e=[]){let s;switch(n){case"Browser":s=IS(rs());break;case"Worker":s=`${IS(rs())}-${n}`;break;default:s=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${Wo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=l=>new Promise((c,h)=>{try{const f=e(l);c(f)}catch(f){h(f)}});r.onAbort=s,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const i of s)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(n,e={}){return ms(n,"GET","/v2/passwordPolicy",fs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=6;class i8{constructor(e){var r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??a8,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),i&&(s.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e,s,r,i){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RS(this),this.idTokenSubscription=new RS(this),this.beforeStateQueue=new n8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=cr(s)),this._initializationPromise=this.queue(async()=>{var r,i,l;if(!this._deleted&&(this.persistenceManager=await Rd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await Eg(this,{idToken:e}),r=await na._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Jt(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,h=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await _f(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Vz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jt(this.app))return Promise.reject(Hs(this));const s=e?qe(e):null;return s&&Se(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jt(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jt(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r8(this),s=new i8(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ci("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await Zz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&cr(e)||this._popupRedirectResolver;Se(s,this,"argument-error"),this.redirectPersistenceManager=await Rd.create(this,[cr(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)==null?void 0:s._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((s=this.currentUser)==null?void 0:s.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,i){if(this._deleted)return()=>{};const l=typeof s=="function"?s:s.next.bind(s);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof s=="function"){const f=e.addObserver(s,r,i);return()=>{c=!0,f()}}else{const f=e.addObserver(s);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var s;if(Jt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((s=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getToken());return e!=null&&e.error&&Mz(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function as(n){return qe(n)}class RS{constructor(e){this.auth=e,this.observer=null,this.addObserver=F4(s=>this.observer=s)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l8(n){Xf=n}function _w(n){return Xf.loadJS(n)}function c8(){return Xf.recaptchaV2Script}function d8(){return Xf.recaptchaEnterpriseScript}function u8(){return Xf.gapiScript}function bE(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=500,f8=6e4,Gp=1e12;class m8{constructor(e){this.auth=e,this.counter=Gp,this._widgets=new Map}render(e,s){const r=this.counter;return this._widgets.set(r,new x8(e,this.auth.name,s||{})),this.counter++,r}reset(e){var r;const s=e||Gp;(r=this._widgets.get(s))==null||r.delete(),this._widgets.delete(s)}getResponse(e){var r;const s=e||Gp;return((r=this._widgets.get(s))==null?void 0:r.getResponse())||""}async execute(e){var r;const s=e||Gp;return(r=this._widgets.get(s))==null||r.execute(),""}}class p8{constructor(){this.enterprise=new g8}ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class g8{ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class x8{constructor(e,s,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Se(i,"argument-error",{appName:s}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=y8(50);const{callback:e,"expired-callback":s}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,s)try{s()}catch{}this.isVisible&&this.execute()},f8)},h8))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function y8(n){const e=[],s="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(s.charAt(Math.floor(Math.random()*s.length)));return e.join("")}const b8="recaptcha-enterprise",nf="NO_RECAPTCHA";class vE{constructor(e){this.type=b8,this.auth=as(e)}async verify(e="verify",s=!1){async function r(l){if(!s){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{lE(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new oE(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(f=>{h(f)})})}function i(l,c,h){const f=window.grecaptcha;ES(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(nf)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new p8().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(h=>{if(!s&&ES(window.grecaptcha))i(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=d8();f.length!==0&&(f+=h),_w(f).then(()=>{i(h,l,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function Mh(n,e,s,r=!1,i=!1){const l=new vE(n);let c;if(i)c=nf;else try{c=await l.verify(s)}catch{c=await l.verify(s,!0)}const h={...e};if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Io(n,e,s,r,i){var l,c;if(i==="EMAIL_PASSWORD_PROVIDER")if((l=n._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Mh(n,e,s,s==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Mh(n,e,s,s==="getOobCode");return r(n,f)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if((c=n._getRecaptchaConfig())!=null&&c.isProviderEnabled("PHONE_PROVIDER")){const h=await Mh(n,e,s);return r(n,h).catch(async f=>{var p;if(((p=n._getRecaptchaConfig())==null?void 0:p.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${s} flow.`);const x=await Mh(n,e,s,!1,!0);return r(n,x)}return Promise.reject(f)})}else{const h=await Mh(n,e,s,!1,!0);return r(n,h)}else return Promise.reject(i+" provider is not supported.")}async function v8(n){const e=as(n),s=await lE(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new oE(s);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new vE(e).verify()}function w8(n,e){const s=(e==null?void 0:e.persistence)||[],r=(Array.isArray(s)?s:[s]).map(cr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function j8(n,e,s){const r=as(n);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(s!=null&&s.disableWarnings),l=wE(e),{host:c,port:h}=N8(e),f=h===null?"":`:${h}`,p={url:`${l}//${c}${f}/`},x=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Vo(p,r.config.emulator)&&Vo(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,yu(c)?(O4(`${l}//${c}${f}`),M4("Auth",!0)):i||_8()}function wE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function N8(n){const e=wE(n),s=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const l=i[1];return{host:l,port:PS(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:PS(c)}}}function PS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _8(){function n(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Ma("not implemented")}_getIdTokenResponse(e){return Ma("not implemented")}_linkToIdToken(e,s){return Ma("not implemented")}_getReauthenticationResolver(e){return Ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jE(n,e){return ms(n,"POST","/v1/accounts:resetPassword",fs(n,e))}async function S8(n,e){return ms(n,"POST","/v1/accounts:update",e)}async function T8(n,e){return ms(n,"POST","/v1/accounts:signUp",e)}async function k8(n,e){return ms(n,"POST","/v1/accounts:update",fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E8(n,e){return Ai(n,"POST","/v1/accounts:signInWithPassword",fs(n,e))}async function ox(n,e){return ms(n,"POST","/v1/accounts:sendOobCode",fs(n,e))}async function C8(n,e){return ox(n,e)}async function A8(n,e){return ox(n,e)}async function I8(n,e){return ox(n,e)}async function R8(n,e){return ox(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8(n,e){return Ai(n,"POST","/v1/accounts:signInWithEmailLink",fs(n,e))}async function D8(n,e){return Ai(n,"POST","/v1/accounts:signInWithEmailLink",fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends wu{constructor(e,s,r,i=null){super("password",r),this._email=e,this._password=s,this._tenantId=i}static _fromEmailAndPassword(e,s){return new Sf(e,s,"password")}static _fromEmailAndCode(e,s,r=null){return new Sf(e,s,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Io(e,s,"signInWithPassword",E8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return P8(e,{email:this._email,oobCode:this._password});default:cn(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":const r={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Io(e,r,"signUpPassword",T8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return D8(e,{idToken:s,email:this._email,oobCode:this._password});default:cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yi(n,e){return Ai(n,"POST","/v1/accounts:signInWithIdp",fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8="http://localhost";class $a extends wu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new $a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):cn("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...l}=s;if(!r||!i)return null;const c=new $a(r,i);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const s=this.buildRequest();return yi(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,yi(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,yi(e,s)}buildRequest(){const e={requestUri:O8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=bu(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(n,e){return ms(n,"POST","/v1/accounts:sendVerificationCode",fs(n,e))}async function M8(n,e){return Ai(n,"POST","/v1/accounts:signInWithPhoneNumber",fs(n,e))}async function L8(n,e){const s=await Ai(n,"POST","/v1/accounts:signInWithPhoneNumber",fs(n,e));if(s.temporaryProof)throw Kh(n,"account-exists-with-different-credential",s);return s}const V8={USER_NOT_FOUND:"user-not-found"};async function z8(n,e){const s={...e,operation:"REAUTH"};return Ai(n,"POST","/v1/accounts:signInWithPhoneNumber",fs(n,s),V8)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends wu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,s){return new Gl({verificationId:e,verificationCode:s})}static _fromTokenResponse(e,s){return new Gl({phoneNumber:e,temporaryProof:s})}_getIdTokenResponse(e){return M8(e,this._makeVerificationRequest())}_linkToIdToken(e,s){return L8(e,{idToken:s,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return z8(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:s,verificationId:r,verificationCode:i}=this.params;return e&&s?{temporaryProof:e,phoneNumber:s}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:s,verificationCode:r,phoneNumber:i,temporaryProof:l}=e;return!r&&!s&&!i&&!l?null:new Gl({verificationId:s,verificationCode:r,phoneNumber:i,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B8(n){const e=kd(Gh(n)).link,s=e?kd(Gh(e)).deep_link_id:null,r=kd(Gh(n)).deep_link_id;return(r?kd(Gh(r)).link:null)||r||s||e||n}class lx{constructor(e){const s=kd(Gh(e)),r=s.apiKey??null,i=s.oobCode??null,l=U8(s.mode??null);Se(r&&i&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=i,this.continueUrl=s.continueUrl??null,this.languageCode=s.lang??null,this.tenantId=s.tenantId??null}static parseLink(e){const s=B8(e);try{return new lx(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(e,s){return Sf._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const r=lx.parseLink(s);return Se(r,"argument-error"),Sf._fromEmailAndCode(e,r.code,r.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Ii{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pd extends ju{static credentialFromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;return Se("providerId"in s&&"signInMethod"in s,"argument-error"),$a._fromParams(s)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Se(e.idToken||e.accessToken,"argument-error"),$a._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Pd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Pd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:l,nonce:c,providerId:h}=e;if(!r&&!i&&!s&&!l||!h)return null;try{return new Pd(h)._credential({idToken:s,accessToken:r,nonce:c,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends ju{constructor(){super("facebook.com")}static credential(e){return $a._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return $a._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return Ra.credential(s,r)}catch{return null}}}Ra.GOOGLE_SIGN_IN_METHOD="google.com";Ra.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends ju{constructor(){super("github.com")}static credential(e){return $a._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.GITHUB_SIGN_IN_METHOD="github.com";Pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8="http://localhost";class Gd extends wu{constructor(e,s){super(e,e),this.pendingToken=s}_getIdTokenResponse(e){const s=this.buildRequest();return yi(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,yi(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,yi(e,s)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:l}=s;return!r||!i||!l||r!==i?null:new Gd(r,l)}static _create(e,s){return new Gd(e,s)}buildRequest(){return{requestUri:F8,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="saml.";class Cg extends Ii{constructor(e){Se(e.startsWith($8),"argument-error"),super(e)}static credentialFromResult(e){return Cg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Cg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const s=Gd.fromJSON(e);return Se(s,"argument-error"),s}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:s,providerId:r}=e;if(!s||!r)return null;try{return Gd._create(r,s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends ju{constructor(){super("twitter.com")}static credential(e,s){return $a._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return Da.credential(s,r)}catch{return null}}}Da.TWITTER_SIGN_IN_METHOD="twitter.com";Da.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NE(n,e){return Ai(n,"POST","/v1/accounts:signUp",fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,i=!1){const l=await na._fromIdTokenResponse(e,r,i),c=OS(r);return new Ur({user:l,providerId:c,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const i=OS(r);return new Ur({user:e,providerId:i,_tokenResponse:r,operationType:s})}}function OS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q8(n){var i;if(Jt(n.app))return Promise.reject(Hs(n));const e=as(n);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new Ur({user:e.currentUser,providerId:null,operationType:"signIn"});const s=await NE(e,{returnSecureToken:!0}),r=await Ur._fromIdTokenResponse(e,"signIn",s,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends rn{constructor(e,s,r,i){super(s.code,s.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ag.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,i){return new Ag(e,s,r,i)}}function _E(n,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(n):s._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ag._fromErrorAndOperation(n,l,e,r):l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H8(n,e){const s=qe(n);await cx(!0,s,e);const{providerUserInfo:r}=await Gz(s.auth,{idToken:await s.getIdToken(),deleteProvider:[e]}),i=SE(r||[]);return s.providerData=s.providerData.filter(l=>i.has(l.providerId)),i.has("phone")||(s.phoneNumber=null),await s.auth._persistUserIfCurrent(s),s}async function Sw(n,e,s=!1){const r=await Ti(n,e._linkToIdToken(n.auth,await n.getIdToken()),s);return Ur._forOperation(n,"link",r)}async function cx(n,e,s){await _f(e);const r=SE(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";Se(r.has(s)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TE(n,e,s=!1){const{auth:r}=n;if(Jt(r.app))return Promise.reject(Hs(r));const i="reauthenticate";try{const l=await Ti(n,_E(r,i,e,n),s);Se(l.idToken,r,"internal-error");const c=ix(l.idToken);Se(c,r,"internal-error");const{sub:h}=c;return Se(n.uid===h,r,"user-mismatch"),Ur._forOperation(n,i,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&cn(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kE(n,e,s=!1){if(Jt(n.app))return Promise.reject(Hs(n));const r="signIn",i=await _E(n,r,e),l=await Ur._fromIdTokenResponse(n,r,i);return s||await n._updateCurrentUser(l.user),l}async function dx(n,e){return kE(as(n),e)}async function EE(n,e){const s=qe(n);return await cx(!1,s,e.providerId),Sw(s,e)}async function CE(n,e){return TE(qe(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(n,e){return Ai(n,"POST","/v1/accounts:signInWithCustomToken",fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K8(n,e){if(Jt(n.app))return Promise.reject(Hs(n));const s=as(n),r=await G8(s,{token:e,returnSecureToken:!0}),i=await Ur._fromIdTokenResponse(s,"signIn",r);return await s._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,s){this.factorId=e,this.uid=s.mfaEnrollmentId,this.enrollmentTime=new Date(s.enrolledAt).toUTCString(),this.displayName=s.displayName}static _fromServerResponse(e,s){return"phoneInfo"in s?Tw._fromServerResponse(e,s):"totpInfo"in s?kw._fromServerResponse(e,s):cn(e,"internal-error")}}class Tw extends Zf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,s){return new Tw(s)}}class kw extends Zf{constructor(e){super("totp",e)}static _fromServerResponse(e,s){return new kw(s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(n,e,s){var r;Se(((r=s.url)==null?void 0:r.length)>0,n,"invalid-continue-uri"),Se(typeof s.dynamicLinkDomain>"u"||s.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),Se(typeof s.linkDomain>"u"||s.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=s.url,e.dynamicLinkDomain=s.dynamicLinkDomain,e.linkDomain=s.linkDomain,e.canHandleCodeInApp=s.handleCodeInApp,s.iOS&&(Se(s.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=s.iOS.bundleId),s.android&&(Se(s.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=s.android.installApp,e.androidMinimumVersionCode=s.android.minimumVersion,e.androidPackageName=s.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ew(n){const e=as(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function W8(n,e,s){const r=as(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};s&&ux(r,i,s),await Io(r,i,"getOobCode",A8,"EMAIL_PASSWORD_PROVIDER")}async function Y8(n,e,s){await jE(qe(n),{oobCode:e,newPassword:s}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ew(n),r})}async function Q8(n,e){await k8(qe(n),{oobCode:e})}async function AE(n,e){const s=qe(n),r=await jE(s,{oobCode:e}),i=r.requestType;switch(Se(i,s,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(r.newEmail,s,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(r.mfaInfo,s,"internal-error");default:Se(r.email,s,"internal-error")}let l=null;return r.mfaInfo&&(l=Zf._fromServerResponse(as(s),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:l},operation:i}}async function J8(n,e){const{data:s}=await AE(qe(n),e);return s.email}async function X8(n,e,s){if(Jt(n.app))return Promise.reject(Hs(n));const r=as(n),c=await Io(r,{returnSecureToken:!0,email:e,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NE,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Ew(n),f}),h=await Ur._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function Z8(n,e,s){return Jt(n.app)?Promise.reject(Hs(n)):dx(qe(n),Qo.credential(e,s)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ew(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(n,e,s){const r=as(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function l(c,h){Se(h.handleCodeInApp,r,"argument-error"),h&&ux(r,c,h)}l(i,s),await Io(r,i,"getOobCode",I8,"EMAIL_PASSWORD_PROVIDER")}function tU(n,e){const s=lx.parseLink(e);return(s==null?void 0:s.operation)==="EMAIL_SIGNIN"}async function sU(n,e,s){if(Jt(n.app))return Promise.reject(Hs(n));const r=qe(n),i=Qo.credentialWithLink(e,s||Nf());return Se(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),dx(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(n,e){return ms(n,"POST","/v1/accounts:createAuthUri",fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rU(n,e){const s=jw()?Nf():"http://localhost",r={identifier:e,continueUri:s},{signinMethods:i}=await nU(qe(n),r);return i||[]}async function aU(n,e){const s=qe(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&ux(s.auth,i,e);const{email:l}=await C8(s.auth,i);l!==n.email&&await n.reload()}async function iU(n,e,s){const r=qe(n),l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};s&&ux(r.auth,l,s);const{email:c}=await R8(r.auth,l);c!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(n,e){return ms(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(n,{displayName:e,photoURL:s}){if(e===void 0&&s===void 0)return;const r=qe(n),l={idToken:await r.getIdToken(),displayName:e,photoUrl:s,returnSecureToken:!0},c=await Ti(r,oU(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function cU(n,e){const s=qe(n);return Jt(s.auth.app)?Promise.reject(Hs(s.auth)):IE(s,e,null)}function dU(n,e){return IE(qe(n),null,e)}async function IE(n,e,s){const{auth:r}=n,l={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(l.email=e),s&&(l.password=s);const c=await Ti(n,S8(r,l));await n._updateTokensIfNecessary(c,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(n){var i,l;if(!n)return null;const{providerId:e}=n,s=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(n!=null&&n.idToken)){const c=(l=(i=ix(n.idToken))==null?void 0:i.firebase)==null?void 0:l.sign_in_provider;if(c){const h=c!=="anonymous"&&c!=="custom"?c:null;return new Dd(r,h)}}if(!e)return null;switch(e){case"facebook.com":return new hU(r,s);case"github.com":return new fU(r,s);case"google.com":return new mU(r,s);case"twitter.com":return new pU(r,s,n.screenName||null);case"custom":case"anonymous":return new Dd(r,null);default:return new Dd(r,e,s)}}class Dd{constructor(e,s,r={}){this.isNewUser=e,this.providerId=s,this.profile=r}}class RE extends Dd{constructor(e,s,r,i){super(e,s,r),this.username=i}}class hU extends Dd{constructor(e,s){super(e,"facebook.com",s)}}class fU extends RE{constructor(e,s){super(e,"github.com",s,typeof(s==null?void 0:s.login)=="string"?s==null?void 0:s.login:null)}}class mU extends Dd{constructor(e,s){super(e,"google.com",s)}}class pU extends RE{constructor(e,s,r){super(e,"twitter.com",s,r)}}function gU(n){const{user:e,_tokenResponse:s}=n;return e.isAnonymous&&!s?{providerId:null,isNewUser:!1,profile:null}:uU(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,s,r){this.type=e,this.credential=s,this.user=r}static _fromIdtoken(e,s){return new Ll("enroll",e,s)}static _fromMfaPendingCredential(e){return new Ll("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var s,r;if(e!=null&&e.multiFactorSession){if((s=e.multiFactorSession)!=null&&s.pendingCredential)return Ll._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return Ll._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,s,r){this.session=e,this.hints=s,this.signInResolver=r}static _fromError(e,s){const r=as(e),i=s.customData._serverResponse,l=(i.mfaInfo||[]).map(h=>Zf._fromServerResponse(r,h));Se(i.mfaPendingCredential,r,"internal-error");const c=Ll._fromMfaPendingCredential(i.mfaPendingCredential);return new Cw(c,l,async h=>{const f=await h._process(r,c);delete i.mfaInfo,delete i.mfaPendingCredential;const p={...i,idToken:f.idToken,refreshToken:f.refreshToken};switch(s.operationType){case"signIn":const x=await Ur._fromIdTokenResponse(r,s.operationType,p);return await r._updateCurrentUser(x.user),x;case"reauthenticate":return Se(s.user,r,"internal-error"),Ur._forOperation(s.user,s.operationType,p);default:cn(r,"internal-error")}})}async resolveSignIn(e){const s=e;return this.signInResolver(s)}}function xU(n,e){var i;const s=qe(n),r=e;return Se(e.customData.operationType,s,"argument-error"),Se((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,s,"argument-error"),Cw._fromError(s,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n,e){return ms(n,"POST","/v2/accounts/mfaEnrollment:start",fs(n,e))}function yU(n,e){return ms(n,"POST","/v2/accounts/mfaEnrollment:finalize",fs(n,e))}function bU(n,e){return ms(n,"POST","/v2/accounts/mfaEnrollment:withdraw",fs(n,e))}class Aw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(s=>{s.mfaInfo&&(this.enrolledFactors=s.mfaInfo.map(r=>Zf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Aw(e)}async getSession(){return Ll._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,s){const r=e,i=await this.getSession(),l=await Ti(this.user,r._process(this.user.auth,i,s));return await this.user._updateTokensIfNecessary(l),this.user.reload()}async unenroll(e){const s=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ti(this.user,bU(this.user.auth,{idToken:r,mfaEnrollmentId:s}));this.enrolledFactors=this.enrolledFactors.filter(({uid:l})=>l!==s),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const pb=new WeakMap;function vU(n){const e=qe(n);return pb.has(e)||pb.set(e,Aw._fromUser(e)),pb.get(e)}const Ig="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Ig,"1"),this.storage.removeItem(Ig),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=1e3,jU=10;class DE extends PE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),i=this.localCache[s];r!==i&&e(s,i,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const r=e.key;s?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!s&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);s8()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jU):i()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},wU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}DE.type="LOCAL";const Iw=DE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends PE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}OE.type="SESSION";const tc=OE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(i=>i.isListeningto(e));if(s)return s;const r=new hx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:i,data:l}=s.data,c=this.handlersMap[i];if(!(c!=null&&c.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(c).map(async p=>p(s.origin,l)),f=await NU(h);s.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(n="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return n+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,c;return new Promise((h,f)=>{const p=em("",20);i.port1.start();const x=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(b){const v=b;if(v.data.eventId===p)switch(v.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(v.data.response);break;default:clearTimeout(x),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:s},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return window}function SU(n){As().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function TU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kU(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function EU(){return Rw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="firebaseLocalStorageDb",CU=1,Rg="firebaseLocalStorage",LE="fbase_key";class tm{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function fx(n,e){return n.transaction([Rg],e?"readwrite":"readonly").objectStore(Rg)}function AU(){const n=indexedDB.deleteDatabase(ME);return new tm(n).toPromise()}function sv(){const n=indexedDB.open(ME,CU);return new Promise((e,s)=>{n.addEventListener("error",()=>{s(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Rg,{keyPath:LE})}catch(i){s(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Rg)?e(r):(r.close(),await AU(),e(await sv()))})})}async function LS(n,e,s){const r=fx(n,!0).put({[LE]:e,value:s});return new tm(r).toPromise()}async function IU(n,e){const s=fx(n,!1).get(e),r=await new tm(s).toPromise();return r===void 0?null:r.value}function VS(n,e){const s=fx(n,!0).delete(e);return new tm(s).toPromise()}const RU=800,PU=3;class VE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sv(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>PU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hx._getInstance(EU()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var s,r;if(this.activeServiceWorker=await TU(),!this.activeServiceWorker)return;this.sender=new _U(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(s=e[0])!=null&&s.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sv();return await LS(e,Ig,"1"),await VS(e,Ig),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>LS(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>IU(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>VS(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=fx(i,!1).getAll();return new tm(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),s.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),s.push(i));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VE.type="LOCAL";const Tf=VE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(n,e){return ms(n,"POST","/v2/accounts/mfaSignIn:start",fs(n,e))}function DU(n,e){return ms(n,"POST","/v2/accounts/mfaSignIn:finalize",fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=bE("rcb"),OU=new Yf(3e4,6e4);class MU{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=As().grecaptcha)!=null&&e.render)}load(e,s=""){return Se(LU(s),e,"argument-error"),this.shouldResolveImmediately(s)&&kS(As().grecaptcha)?Promise.resolve(As().grecaptcha):new Promise((r,i)=>{const l=As().setTimeout(()=>{i(Ls(e,"network-request-failed"))},OU.get());As()[gb]=()=>{As().clearTimeout(l),delete As()[gb];const h=As().grecaptcha;if(!h||!kS(h)){i(Ls(e,"internal-error"));return}const f=h.render;h.render=(p,x)=>{const b=f(p,x);return this.counter++,b},this.hostLanguage=s,r(h)};const c=`${c8()}?${bu({onload:gb,render:"explicit",hl:s})}`;_w(c).catch(()=>{clearTimeout(l),i(Ls(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var s;return!!((s=As().grecaptcha)!=null&&s.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function LU(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class VU{async load(e){return new m8(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="recaptcha",zU={theme:"light",type:"image"};let UU=class{constructor(e,s,r={...zU}){this.parameters=r,this.type=rf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=as(e),this.isInvisible=this.parameters.size==="invisible",Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof s=="string"?document.getElementById(s):s;Se(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new VU:new MU,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),s=this.getAssertedRecaptcha(),r=s.getResponse(e);return r||new Promise(i=>{const l=c=>{c&&(this.tokenChangeListeners.delete(l),i(c))};this.tokenChangeListeners.add(l),this.isInvisible&&s.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return s=>{if(this.tokenChangeListeners.forEach(r=>r(s)),typeof e=="function")e(s);else if(typeof e=="string"){const r=As()[e];typeof r=="function"&&r(s)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const s=document.createElement("div");e.appendChild(s),e=s}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Se(jw()&&!Rw(),this.auth,"internal-error"),await BU(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await qz(this.auth);Se(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function BU(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,s){this.verificationId=e,this.onConfirmation=s}confirm(e){const s=Gl._fromVerification(this.verificationId,e);return this.onConfirmation(s)}}async function FU(n,e,s){if(Jt(n.app))return Promise.reject(Hs(n));const r=as(n),i=await mx(r,e,qe(s));return new Pw(i,l=>dx(r,l))}async function $U(n,e,s){const r=qe(n);await cx(!1,r,"phone");const i=await mx(r.auth,e,qe(s));return new Pw(i,l=>EE(r,l))}async function qU(n,e,s){const r=qe(n);if(Jt(r.auth.app))return Promise.reject(Hs(r.auth));const i=await mx(r.auth,e,qe(s));return new Pw(i,l=>CE(r,l))}async function mx(n,e,s){var r;if(!n._getRecaptchaConfig())try{await v8(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const l=i.session;if("phoneNumber"in i){Se(l.type==="enroll",n,"internal-error");const c={idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Io(n,c,"mfaSmsEnrollment",async(x,b)=>{if(b.phoneEnrollmentInfo.captchaResponse===nf){Se((s==null?void 0:s.type)===rf,x,"argument-error");const v=await xb(x,b,s);return MS(x,v)}return MS(x,b)},"PHONE_PROVIDER").catch(x=>Promise.reject(x))).phoneSessionInfo.sessionInfo}else{Se(l.type==="signin",n,"internal-error");const c=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;Se(c,n,"missing-multi-factor-info");const h={mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Io(n,h,"mfaSmsSignIn",async(b,v)=>{if(v.phoneSignInInfo.captchaResponse===nf){Se((s==null?void 0:s.type)===rf,b,"argument-error");const E=await xb(b,v,s);return zS(b,E)}return zS(b,v)},"PHONE_PROVIDER").catch(b=>Promise.reject(b))).phoneResponseInfo.sessionInfo}}else{const l={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Io(n,l,"sendVerificationCode",async(p,x)=>{if(x.captchaResponse===nf){Se((s==null?void 0:s.type)===rf,p,"argument-error");const b=await xb(p,x,s);return DS(p,b)}return DS(p,x)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).sessionInfo}}finally{s==null||s._reset()}}async function HU(n,e){const s=qe(n);if(Jt(s.auth.app))return Promise.reject(Hs(s.auth));await Sw(s,e)}async function xb(n,e,s){Se(s.type===rf,n,"argument-error");const r=await s.verify();Se(typeof r=="string",n,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const l=i.phoneEnrollmentInfo.phoneNumber,c=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,f=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:r,captchaResponse:c,clientType:h,recaptchaVersion:f}}),i}else if("phoneSignInInfo"in i){const l=i.phoneSignInInfo.captchaResponse,c=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:l,clientType:c,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=class ig{constructor(e){this.providerId=ig.PROVIDER_ID,this.auth=as(e)}verifyPhoneNumber(e,s){return mx(this.auth,e,qe(s))}static credential(e,s){return Gl._fromVerification(e,s)}static credentialFromResult(e){const s=e;return ig.credentialFromTaggedObject(s)}static credentialFromError(e){return ig.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:s,temporaryProof:r}=e;return s&&r?Gl._fromTokenResponse(s,r):null}};sc.PROVIDER_ID="phone";sc.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n,e){return e?cr(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends wu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yi(e,this._buildIdpRequest())}_linkToIdToken(e,s){return yi(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return yi(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function GU(n){return kE(n.auth,new Dw(n),n.bypassAuthState)}function KU(n){const{auth:e,user:s}=n;return Se(s,e,"internal-error"),TE(s,new Dw(n),n.bypassAuthState)}async function WU(n){const{auth:e,user:s}=n;return Se(s,e,"internal-error"),Sw(s,new Dw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,s,r,i,l=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:i,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:s,sessionId:r,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GU;case"linkViaPopup":case"linkViaRedirect":return WU;case"reauthViaPopup":case"reauthViaRedirect":return KU;default:cn(this.auth,"internal-error")}}resolve(e){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=new Yf(2e3,1e4);async function QU(n,e,s){if(Jt(n.app))return Promise.reject(Ls(n,"operation-not-supported-in-this-environment"));const r=as(n);vu(n,e,Ii);const i=bc(r,s);return new mi(r,"signInViaPopup",e,i).executeNotNull()}async function JU(n,e,s){const r=qe(n);if(Jt(r.auth.app))return Promise.reject(Ls(r.auth,"operation-not-supported-in-this-environment"));vu(r.auth,e,Ii);const i=bc(r.auth,s);return new mi(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function XU(n,e,s){const r=qe(n);vu(r.auth,e,Ii);const i=bc(r.auth,s);return new mi(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class mi extends zE{constructor(e,s,r,i,l){super(e,s,i,l),this.provider=r,this.authWindow=null,this.pollId=null,mi.currentPopupAction&&mi.currentPopupAction.cancel(),mi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){la(this.filter.length===1,"Popup operations only handle one event");const e=em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,r;if((r=(s=this.authWindow)==null?void 0:s.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YU.get())};e()}}mi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="pendingRedirect",af=new Map;class eB extends zE{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=af.get(this.auth._key());if(!e){try{const r=await tB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}af.set(this.auth._key(),e)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tB(n,e){const s=BE(e),r=UE(n);if(!await r._isAvailable())return!1;const i=await r._get(s)==="true";return await r._remove(s),i}async function Ow(n,e){return UE(n)._set(BE(e),"true")}function sB(){af.clear()}function Mw(n,e){af.set(n._key(),e)}function UE(n){return cr(n._redirectPersistence)}function BE(n){return Hl(ZU,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(n,e,s){return rB(n,e,s)}async function rB(n,e,s){if(Jt(n.app))return Promise.reject(Hs(n));const r=as(n);vu(n,e,Ii),await r._initializationPromise;const i=bc(r,s);return await Ow(i,r),i._openRedirect(r,e,"signInViaRedirect")}function aB(n,e,s){return iB(n,e,s)}async function iB(n,e,s){const r=qe(n);if(vu(r.auth,e,Ii),Jt(r.auth.app))return Promise.reject(Hs(r.auth));await r.auth._initializationPromise;const i=bc(r.auth,s);await Ow(i,r.auth);const l=await FE(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",l)}function oB(n,e,s){return lB(n,e,s)}async function lB(n,e,s){const r=qe(n);vu(r.auth,e,Ii),await r.auth._initializationPromise;const i=bc(r.auth,s);await cx(!1,r,e.providerId),await Ow(i,r.auth);const l=await FE(r);return i._openRedirect(r.auth,e,"linkViaRedirect",l)}async function cB(n,e){return await as(n)._initializationPromise,px(n,e,!1)}async function px(n,e,s=!1){if(Jt(n.app))return Promise.reject(Hs(n));const r=as(n),i=bc(r,e),c=await new eB(r,i,s).execute();return c&&!s&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}async function FE(n){const e=em(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=600*1e3;class $E{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uB(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var r;if(e.error&&!qE(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";s.onError(Ls(this.auth,i))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dB&&this.cachedEventUids.clear(),this.cachedEventUids.has(US(e))}saveEventToCache(e){this.cachedEventUids.add(US(e)),this.lastProcessedEventTime=Date.now()}}function US(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function qE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE(n,e={}){return ms(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fB=/^https?/;async function mB(n){if(n.config.emulator)return;const{authorizedDomains:e}=await HE(n);for(const s of e)try{if(pB(s))return}catch{}cn(n,"unauthorized-domain")}function pB(n){const e=Nf(),{protocol:s,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?s==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&c.hostname===r}if(!fB.test(s))return!1;if(hB.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=new Yf(3e4,6e4);function BS(){const n=As().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let s=0;s<n.CP.length;s++)n.CP[s]=null}}function xB(n){return new Promise((e,s)=>{var i,l,c;function r(){BS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BS(),s(Ls(n,"network-request-failed"))},timeout:gB.get()})}if((l=(i=As().gapi)==null?void 0:i.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=As().gapi)!=null&&c.load)r();else{const h=bE("iframefcb");return As()[h]=()=>{gapi.load?r():s(Ls(n,"network-request-failed"))},_w(`${u8()}?onload=${h}`).catch(f=>s(f))}}).catch(e=>{throw og=null,e})}let og=null;function yB(n){return og=og||xB(n),og}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=new Yf(5e3,15e3),vB="__/auth/iframe",wB="emulator/auth/iframe",jB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _B(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const s=e.emulator?Nw(e,wB):`https://${n.config.authDomain}/${vB}`,r={apiKey:e.apiKey,appName:n.name,v:Wo},i=NB.get(n.config.apiHost);i&&(r.eid=i);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${s}?${bu(r).slice(1)}`}async function SB(n){const e=await yB(n),s=As().gapi;return Se(s,n,"internal-error"),e.open({where:document.body,url:_B(n),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jB,dontclear:!0},r=>new Promise(async(i,l)=>{await r.restyle({setHideOnLeave:!1});const c=Ls(n,"network-request-failed"),h=As().setTimeout(()=>{l(c)},bB.get());function f(){As().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kB=500,EB=600,CB="_blank",AB="http://localhost";class FS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IB(n,e,s,r=kB,i=EB){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...TB,width:r.toString(),height:i.toString(),top:l,left:c},p=rs().toLowerCase();s&&(h=fE(p)?CB:s),uE(p)&&(e=e||AB,f.scrollbars="yes");const x=Object.entries(f).reduce((v,[E,S])=>`${v}${E}=${S},`,"");if(t8(p)&&h!=="_self")return RB(e||"",h),new FS(null);const b=window.open(e||"",h,x);Se(b,n,"popup-blocked");try{b.focus()}catch{}return new FS(b)}function RB(n,e){const s=document.createElement("a");s.href=n,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB="__/auth/handler",DB="emulator/auth/handler",OB=encodeURIComponent("fac");async function nv(n,e,s,r,i,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:s,redirectUrl:r,v:Wo,eventId:i};if(e instanceof Ii){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",aV(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,b]of Object.entries(l||{}))c[x]=b}if(e instanceof ju){const x=e.getScopes().filter(b=>b!=="");x.length>0&&(c.scopes=x.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const x of Object.keys(h))h[x]===void 0&&delete h[x];const f=await n._getAppCheckToken(),p=f?`#${OB}=${encodeURIComponent(f)}`:"";return`${MB(n)}?${bu(h).slice(1)}${p}`}function MB({config:n}){return n.emulator?Nw(n,DB):`https://${n.authDomain}/${PB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="webStorageSupport";class LB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tc,this._completeRedirectFn=px,this._overrideRedirectResult=Mw}async _openPopup(e,s,r,i){var c;la((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await nv(e,s,r,Nf(),i);return IB(e,l,em())}async _openRedirect(e,s,r,i){await this._originValidation(e);const l=await nv(e,s,r,Nf(),i);return SU(l),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:i,promise:l}=this.eventManagers[s];return i?Promise.resolve(i):(la(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await SB(e),r=new $E(e);return s.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(yb,{type:yb},i=>{var c;const l=(c=i==null?void 0:i[0])==null?void 0:c[yb];l!==void 0&&s(!!l),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=mB(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return xE()||hE()||Jf()}}const VB=LB;class zB{constructor(e){this.factorId=e}_process(e,s,r){switch(s.type){case"enroll":return this._finalizeEnroll(e,s.credential,r);case"signin":return this._finalizeSignIn(e,s.credential);default:return Ma("unexpected MultiFactorSessionType")}}}class Lw extends zB{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Lw(e)}_finalizeEnroll(e,s,r){return yU(e,{idToken:s,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,s){return DU(e,{mfaPendingCredential:s,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class GE{constructor(){}static assertion(e){return Lw._fromCredential(e)}}GE.FACTOR_ID="phone";var $S="@firebase/auth",qS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FB(n){zr(new En("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yE(n)},p=new o8(r,i,l,f);return w8(p,s),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),zr(new En("auth-internal",e=>{const s=as(e.getProvider("auth").getImmediate());return(r=>new UB(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tn($S,qS,BB(n)),Tn($S,qS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=300;WL("authIdTokenMaxAge");function qB(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}l8({loadJS(n){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const l=Ls("internal-error");l.customData=i,s(l)},r.type="text/javascript",r.charset="UTF-8",qB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FB("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=2e3;async function GB(n,e,s){const{BuildInfo:r}=nc();la(e.sessionId,"AuthEvent did not contain a session ID");const i=await JB(e.sessionId),l={};return Jf()?l.ibi=r.packageName:Qf()?l.apn=r.packageName:cn(n,"operation-not-supported-in-this-environment"),r.displayName&&(l.appDisplayName=r.displayName),l.sessionId=i,nv(n,s,e.type,void 0,e.eventId??void 0,l)}async function KB(n){const{BuildInfo:e}=nc(),s={};Jf()?s.iosBundleId=e.packageName:Qf()?s.androidPackageName=e.packageName:cn(n,"operation-not-supported-in-this-environment"),await HE(n,s)}function WB(n){const{cordova:e}=nc();return new Promise(s=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,e8()?"_blank":"_system","location=yes"),s(i)})})}async function YB(n,e,s){const{cordova:r}=nc();let i=()=>{};try{await new Promise((l,c)=>{let h=null;function f(){var v;l();const b=(v=r.plugins.browsertab)==null?void 0:v.close;typeof b=="function"&&b(),typeof(s==null?void 0:s.close)=="function"&&s.close()}function p(){h||(h=window.setTimeout(()=>{c(Ls(n,"redirect-cancelled-by-user"))},HB))}function x(){(document==null?void 0:document.visibilityState)==="visible"&&p()}e.addPassiveListener(f),document.addEventListener("resume",p,!1),Qf()&&document.addEventListener("visibilitychange",x,!1),i=()=>{e.removePassiveListener(f),document.removeEventListener("resume",p,!1),document.removeEventListener("visibilitychange",x,!1),h&&window.clearTimeout(h)}})}finally{i()}}function QB(n){var s,r,i,l,c,h,f,p,x,b;const e=nc();Se(typeof((s=e==null?void 0:e.universalLinks)==null?void 0:s.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se(typeof((c=(l=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:l.browsertab)==null?void 0:c.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se(typeof((p=(f=(h=e==null?void 0:e.cordova)==null?void 0:h.plugins)==null?void 0:f.browsertab)==null?void 0:p.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se(typeof((b=(x=e==null?void 0:e.cordova)==null?void 0:x.InAppBrowser)==null?void 0:b.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function JB(n){const e=XB(n),s=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(s)).map(i=>i.toString(16).padStart(2,"0")).join("")}function XB(n){if(la(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),s=new Uint8Array(e);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=20;class eF extends $E{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(s=>s(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function tF(n,e,s=null){return{type:e,eventId:s,urlResponse:null,sessionId:rF(),postBody:null,tenantId:n.tenantId,error:Ls(n,"no-auth-event")}}function sF(n,e){return rv()._set(av(n),e)}async function HS(n){const e=await rv()._get(av(n));return e&&await rv()._remove(av(n)),e}function nF(n,e){var r,i;const s=iF(e);if(s.includes("/__/auth/callback")){const l=lg(s),c=l.firebaseError?aF(decodeURIComponent(l.firebaseError)):null,h=(i=(r=c==null?void 0:c.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],f=h?Ls(h):null;return f?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:s,postBody:null}}return null}function rF(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<ZB;s++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function rv(){return cr(Iw)}function av(n){return Hl("authEvent",n.config.apiKey,n.name)}function aF(n){try{return JSON.parse(n)}catch{return null}}function iF(n){const e=lg(n),s=e.link?decodeURIComponent(e.link):void 0,r=lg(s).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return lg(i).link||i||r||s||n}function lg(n){if(!(n!=null&&n.includes("?")))return{};const[e,...s]=n.split("?");return kd(s.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=500;class lF{constructor(){this._redirectPersistence=tc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=px,this._overrideRedirectResult=Mw}async _initialize(e){const s=e._key();let r=this.eventManagers.get(s);return r||(r=new eF(e),this.eventManagers.set(s,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){cn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,s,r,i){QB(e);const l=await this._initialize(e);await l.initialized(),l.resetRedirect(),sB(),await this._originValidation(e);const c=tF(e,r,i);await sF(e,c);const h=await GB(e,c,s),f=await WB(h);return YB(e,l,f)}_isIframeWebStorageSupported(e,s){throw new Error("Method not implemented.")}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=KB(e)),this.originValidationPromises[s]}attachCallbackListeners(e,s){const{universalLinks:r,handleOpenURL:i,BuildInfo:l}=nc(),c=setTimeout(async()=>{await HS(e),s.onEvent(GS())},oF),h=async x=>{clearTimeout(c);const b=await HS(e);let v=null;b&&(x!=null&&x.url)&&(v=nF(b,x.url)),s.onEvent(v||GS())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const f=i,p=`${l.packageName.toLowerCase()}://`;nc().handleOpenURL=async x=>{if(x.toLowerCase().startsWith(p)&&h({url:x}),typeof f=="function")try{f(x)}catch(b){console.error(b)}}}}const cF=lF;function GS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ls("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(n,e){as(n)._logFramework(e)}var uF="@firebase/auth-compat",hF="0.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=1e3;function of(){var n;return((n=self==null?void 0:self.location)==null?void 0:n.protocol)||null}function mF(){return of()==="http:"||of()==="https:"}function KE(n=rs()){return!!((of()==="file:"||of()==="ionic:"||of()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function pF(){return fw()||nx()}function gF(){return V4()&&(document==null?void 0:document.documentMode)===11}function xF(n=rs()){return/Edge\/\d+/.test(n)}function yF(n=rs()){return gF()||xF(n)}function WE(){try{const n=self.localStorage,e=em();if(n)return n.setItem(e,"1"),n.removeItem(e),yF()?ec():!0}catch{return Vw()&&ec()}return!1}function Vw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function bb(){return(mF()||rx()||KE())&&!pF()&&WE()&&!Vw()}function YE(){return KE()&&typeof document<"u"}async function bF(){return YE()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},fF);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function vF(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr={LOCAL:"local",NONE:"none",SESSION:"session"},Lh=Se,QE="persistence";function wF(n,e){if(Lh(Object.values(lr).includes(e),n,"invalid-persistence-type"),fw()){Lh(e!==lr.SESSION,n,"unsupported-persistence-type");return}if(nx()){Lh(e===lr.NONE,n,"unsupported-persistence-type");return}if(Vw()){Lh(e===lr.NONE||e===lr.LOCAL&&ec(),n,"unsupported-persistence-type");return}Lh(e===lr.NONE||WE(),n,"unsupported-persistence-type")}async function iv(n){await n._initializationPromise;const e=JE(),s=Hl(QE,n.config.apiKey,n.name);e&&e.setItem(s,n._getPersistenceType())}function jF(n,e){const s=JE();if(!s)return[];const r=Hl(QE,n,e);switch(s.getItem(r)){case lr.NONE:return[Hd];case lr.LOCAL:return[Tf,tc];case lr.SESSION:return[tc];default:return[]}}function JE(){var n;try{return((n=vF())==null?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=Se;class To{constructor(){this.browserResolver=cr(VB),this.cordovaResolver=cr(cF),this.underlyingResolver=null,this._redirectPersistence=tc,this._completeRedirectFn=px,this._overrideRedirectResult=Mw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,s,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,s,r,i)}async _openRedirect(e,s,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,s,r,i)}_isIframeWebStorageSupported(e,s){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,s)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return YE()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return NF(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await bF();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(n){return n.unwrap()}function _F(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(n){return ZE(n)}function TF(n,e){var r;const s=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new kF(n,xU(n,e))}else if(s){const i=ZE(e),l=e;i&&(l.credential=i,l.tenantId=s.tenantId||void 0,l.email=s.email||void 0,l.phoneNumber=s.phoneNumber||void 0)}}function ZE(n){const{_tokenResponse:e}=n instanceof rn?n.customData:n;if(!e)return null;if(!(n instanceof rn)&&"temporaryProof"in e&&"phoneNumber"in e)return sc.credentialFromResult(n);const s=e.providerId;if(!s||s===Oh.PASSWORD)return null;let r;switch(s){case Oh.GOOGLE:r=Ra;break;case Oh.FACEBOOK:r=Ia;break;case Oh.GITHUB:r=Pa;break;case Oh.TWITTER:r=Da;break;default:const{oauthIdToken:i,oauthAccessToken:l,oauthTokenSecret:c,pendingToken:h,nonce:f}=e;return!l&&!c&&!i&&!h?null:h?s.startsWith("saml.")?Gd._create(s,h):$a._fromParams({providerId:s,signInMethod:s,pendingToken:h,idToken:i,accessToken:l}):new Pd(s).credential({idToken:i,accessToken:l,rawNonce:f})}return n instanceof rn?r.credentialFromError(n):r.credentialFromResult(n)}function Ln(n,e){return e.catch(s=>{throw s instanceof rn&&TF(n,s),s}).then(s=>{const r=s.operationType,i=s.user;return{operationType:r,credential:SF(s),additionalUserInfo:gU(s),user:gx.getOrCreate(i)}})}async function ov(n,e){const s=await e;return{verificationId:s.verificationId,confirm:r=>Ln(n,s.confirm(r))}}class kF{constructor(e,s){this.resolver=s,this.auth=_F(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ln(XE(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gx=class Wh{constructor(e){this._delegate=e,this.multiFactor=vU(e)}static getOrCreate(e){return Wh.USER_MAP.has(e)||Wh.USER_MAP.set(e,new Wh(e)),Wh.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Ln(this.auth,EE(this._delegate,e))}async linkWithPhoneNumber(e,s){return ov(this.auth,$U(this._delegate,e,s))}async linkWithPopup(e){return Ln(this.auth,XU(this._delegate,e,To))}async linkWithRedirect(e){return await iv(as(this.auth)),oB(this._delegate,e,To)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Ln(this.auth,CE(this._delegate,e))}reauthenticateWithPhoneNumber(e,s){return ov(this.auth,qU(this._delegate,e,s))}reauthenticateWithPopup(e){return Ln(this.auth,JU(this._delegate,e,To))}async reauthenticateWithRedirect(e){return await iv(as(this.auth)),aB(this._delegate,e,To)}sendEmailVerification(e){return aU(this._delegate,e)}async unlink(e){return await H8(this._delegate,e),this}updateEmail(e){return cU(this._delegate,e)}updatePassword(e){return dU(this._delegate,e)}updatePhoneNumber(e){return HU(this._delegate,e)}updateProfile(e){return lU(this._delegate,e)}verifyBeforeUpdateEmail(e,s){return iU(this._delegate,e,s)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};gx.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=Se;class lv{constructor(e,s){if(this.app=e,s.isInitialized()){this._delegate=s.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Vh(r,"invalid-api-key",{appName:e.name}),Vh(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?To:void 0;this._delegate=s.initialize({options:{persistence:EF(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Dz),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?gx.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,s){j8(this._delegate,e,s)}applyActionCode(e){return Q8(this._delegate,e)}checkActionCode(e){return AE(this._delegate,e)}confirmPasswordReset(e,s){return Y8(this._delegate,e,s)}async createUserWithEmailAndPassword(e,s){return Ln(this._delegate,X8(this._delegate,e,s))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return rU(this._delegate,e)}isSignInWithEmailLink(e){return tU(this._delegate,e)}async getRedirectResult(){Vh(bb(),this._delegate,"operation-not-supported-in-this-environment");const e=await cB(this._delegate,To);return e?Ln(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){dF(this._delegate,e)}onAuthStateChanged(e,s,r){const{next:i,error:l,complete:c}=KS(e,s,r);return this._delegate.onAuthStateChanged(i,l,c)}onIdTokenChanged(e,s,r){const{next:i,error:l,complete:c}=KS(e,s,r);return this._delegate.onIdTokenChanged(i,l,c)}sendSignInLinkToEmail(e,s){return eU(this._delegate,e,s)}sendPasswordResetEmail(e,s){return W8(this._delegate,e,s||void 0)}async setPersistence(e){wF(this._delegate,e);let s;switch(e){case lr.SESSION:s=tc;break;case lr.LOCAL:s=await cr(Tf)._isAvailable()?Tf:Iw;break;case lr.NONE:s=Hd;break;default:return cn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(s)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ln(this._delegate,q8(this._delegate))}signInWithCredential(e){return Ln(this._delegate,dx(this._delegate,e))}signInWithCustomToken(e){return Ln(this._delegate,K8(this._delegate,e))}signInWithEmailAndPassword(e,s){return Ln(this._delegate,Z8(this._delegate,e,s))}signInWithEmailLink(e,s){return Ln(this._delegate,sU(this._delegate,e,s))}signInWithPhoneNumber(e,s){return ov(this._delegate,FU(this._delegate,e,s))}async signInWithPopup(e){return Vh(bb(),this._delegate,"operation-not-supported-in-this-environment"),Ln(this._delegate,QU(this._delegate,e,To))}async signInWithRedirect(e){return Vh(bb(),this._delegate,"operation-not-supported-in-this-environment"),await iv(this._delegate),nB(this._delegate,e,To)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return J8(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}lv.Persistence=lr;function KS(n,e,s){let r=n;typeof n!="function"&&({next:r,error:e,complete:s}=n);const i=r;return{next:c=>i(c&&gx.getOrCreate(c)),error:e,complete:s}}function EF(n,e){const s=jF(n,e);if(typeof self<"u"&&!s.includes(Tf)&&s.push(Tf),typeof window<"u")for(const r of[Iw,tc])s.includes(r)||s.push(r);return s.includes(Hd)||s.push(Hd),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{static credential(e,s){return sc.credential(e,s)}constructor(){this.providerId="phone",this._delegate=new sc(XE(Yo.auth()))}verifyPhoneNumber(e,s){return this._delegate.verifyPhoneNumber(e,s)}unwrap(){return this._delegate}}zw.PHONE_SIGN_IN_METHOD=sc.PHONE_SIGN_IN_METHOD;zw.PROVIDER_ID=sc.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=Se;class AF{constructor(e,s,r=Yo.app()){var i;CF((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new UU(r.auth(),e,s),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF="auth-compat";function RF(n){n.INTERNAL.registerComponent(new En(IF,e=>{const s=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new lv(s,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pd.EMAIL_SIGNIN,PASSWORD_RESET:pd.PASSWORD_RESET,RECOVER_EMAIL:pd.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:pd.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:pd.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:pd.VERIFY_EMAIL}},EmailAuthProvider:Qo,FacebookAuthProvider:Ia,GithubAuthProvider:Pa,GoogleAuthProvider:Ra,OAuthProvider:Pd,SAMLAuthProvider:Cg,PhoneAuthProvider:zw,PhoneMultiFactorGenerator:GE,RecaptchaVerifier:AF,TwitterAuthProvider:Da,Auth:lv,AuthCredential:wu,Error:rn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(uF,hF)}RF(Yo);var WS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ro,eC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,k){function I(){}I.prototype=k.prototype,_.F=k.prototype,_.prototype=new I,_.prototype.constructor=_,_.D=function(L,M,V){for(var R=Array(arguments.length-2),U=2;U<arguments.length;U++)R[U-2]=arguments[U];return k.prototype[M].apply(L,R)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,s),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,k,I){I||(I=0);const L=Array(16);if(typeof k=="string")for(var M=0;M<16;++M)L[M]=k.charCodeAt(I++)|k.charCodeAt(I++)<<8|k.charCodeAt(I++)<<16|k.charCodeAt(I++)<<24;else for(M=0;M<16;++M)L[M]=k[I++]|k[I++]<<8|k[I++]<<16|k[I++]<<24;k=_.g[0],I=_.g[1],M=_.g[2];let V=_.g[3],R;R=k+(V^I&(M^V))+L[0]+3614090360&4294967295,k=I+(R<<7&4294967295|R>>>25),R=V+(M^k&(I^M))+L[1]+3905402710&4294967295,V=k+(R<<12&4294967295|R>>>20),R=M+(I^V&(k^I))+L[2]+606105819&4294967295,M=V+(R<<17&4294967295|R>>>15),R=I+(k^M&(V^k))+L[3]+3250441966&4294967295,I=M+(R<<22&4294967295|R>>>10),R=k+(V^I&(M^V))+L[4]+4118548399&4294967295,k=I+(R<<7&4294967295|R>>>25),R=V+(M^k&(I^M))+L[5]+1200080426&4294967295,V=k+(R<<12&4294967295|R>>>20),R=M+(I^V&(k^I))+L[6]+2821735955&4294967295,M=V+(R<<17&4294967295|R>>>15),R=I+(k^M&(V^k))+L[7]+4249261313&4294967295,I=M+(R<<22&4294967295|R>>>10),R=k+(V^I&(M^V))+L[8]+1770035416&4294967295,k=I+(R<<7&4294967295|R>>>25),R=V+(M^k&(I^M))+L[9]+2336552879&4294967295,V=k+(R<<12&4294967295|R>>>20),R=M+(I^V&(k^I))+L[10]+4294925233&4294967295,M=V+(R<<17&4294967295|R>>>15),R=I+(k^M&(V^k))+L[11]+2304563134&4294967295,I=M+(R<<22&4294967295|R>>>10),R=k+(V^I&(M^V))+L[12]+1804603682&4294967295,k=I+(R<<7&4294967295|R>>>25),R=V+(M^k&(I^M))+L[13]+4254626195&4294967295,V=k+(R<<12&4294967295|R>>>20),R=M+(I^V&(k^I))+L[14]+2792965006&4294967295,M=V+(R<<17&4294967295|R>>>15),R=I+(k^M&(V^k))+L[15]+1236535329&4294967295,I=M+(R<<22&4294967295|R>>>10),R=k+(M^V&(I^M))+L[1]+4129170786&4294967295,k=I+(R<<5&4294967295|R>>>27),R=V+(I^M&(k^I))+L[6]+3225465664&4294967295,V=k+(R<<9&4294967295|R>>>23),R=M+(k^I&(V^k))+L[11]+643717713&4294967295,M=V+(R<<14&4294967295|R>>>18),R=I+(V^k&(M^V))+L[0]+3921069994&4294967295,I=M+(R<<20&4294967295|R>>>12),R=k+(M^V&(I^M))+L[5]+3593408605&4294967295,k=I+(R<<5&4294967295|R>>>27),R=V+(I^M&(k^I))+L[10]+38016083&4294967295,V=k+(R<<9&4294967295|R>>>23),R=M+(k^I&(V^k))+L[15]+3634488961&4294967295,M=V+(R<<14&4294967295|R>>>18),R=I+(V^k&(M^V))+L[4]+3889429448&4294967295,I=M+(R<<20&4294967295|R>>>12),R=k+(M^V&(I^M))+L[9]+568446438&4294967295,k=I+(R<<5&4294967295|R>>>27),R=V+(I^M&(k^I))+L[14]+3275163606&4294967295,V=k+(R<<9&4294967295|R>>>23),R=M+(k^I&(V^k))+L[3]+4107603335&4294967295,M=V+(R<<14&4294967295|R>>>18),R=I+(V^k&(M^V))+L[8]+1163531501&4294967295,I=M+(R<<20&4294967295|R>>>12),R=k+(M^V&(I^M))+L[13]+2850285829&4294967295,k=I+(R<<5&4294967295|R>>>27),R=V+(I^M&(k^I))+L[2]+4243563512&4294967295,V=k+(R<<9&4294967295|R>>>23),R=M+(k^I&(V^k))+L[7]+1735328473&4294967295,M=V+(R<<14&4294967295|R>>>18),R=I+(V^k&(M^V))+L[12]+2368359562&4294967295,I=M+(R<<20&4294967295|R>>>12),R=k+(I^M^V)+L[5]+4294588738&4294967295,k=I+(R<<4&4294967295|R>>>28),R=V+(k^I^M)+L[8]+2272392833&4294967295,V=k+(R<<11&4294967295|R>>>21),R=M+(V^k^I)+L[11]+1839030562&4294967295,M=V+(R<<16&4294967295|R>>>16),R=I+(M^V^k)+L[14]+4259657740&4294967295,I=M+(R<<23&4294967295|R>>>9),R=k+(I^M^V)+L[1]+2763975236&4294967295,k=I+(R<<4&4294967295|R>>>28),R=V+(k^I^M)+L[4]+1272893353&4294967295,V=k+(R<<11&4294967295|R>>>21),R=M+(V^k^I)+L[7]+4139469664&4294967295,M=V+(R<<16&4294967295|R>>>16),R=I+(M^V^k)+L[10]+3200236656&4294967295,I=M+(R<<23&4294967295|R>>>9),R=k+(I^M^V)+L[13]+681279174&4294967295,k=I+(R<<4&4294967295|R>>>28),R=V+(k^I^M)+L[0]+3936430074&4294967295,V=k+(R<<11&4294967295|R>>>21),R=M+(V^k^I)+L[3]+3572445317&4294967295,M=V+(R<<16&4294967295|R>>>16),R=I+(M^V^k)+L[6]+76029189&4294967295,I=M+(R<<23&4294967295|R>>>9),R=k+(I^M^V)+L[9]+3654602809&4294967295,k=I+(R<<4&4294967295|R>>>28),R=V+(k^I^M)+L[12]+3873151461&4294967295,V=k+(R<<11&4294967295|R>>>21),R=M+(V^k^I)+L[15]+530742520&4294967295,M=V+(R<<16&4294967295|R>>>16),R=I+(M^V^k)+L[2]+3299628645&4294967295,I=M+(R<<23&4294967295|R>>>9),R=k+(M^(I|~V))+L[0]+4096336452&4294967295,k=I+(R<<6&4294967295|R>>>26),R=V+(I^(k|~M))+L[7]+1126891415&4294967295,V=k+(R<<10&4294967295|R>>>22),R=M+(k^(V|~I))+L[14]+2878612391&4294967295,M=V+(R<<15&4294967295|R>>>17),R=I+(V^(M|~k))+L[5]+4237533241&4294967295,I=M+(R<<21&4294967295|R>>>11),R=k+(M^(I|~V))+L[12]+1700485571&4294967295,k=I+(R<<6&4294967295|R>>>26),R=V+(I^(k|~M))+L[3]+2399980690&4294967295,V=k+(R<<10&4294967295|R>>>22),R=M+(k^(V|~I))+L[10]+4293915773&4294967295,M=V+(R<<15&4294967295|R>>>17),R=I+(V^(M|~k))+L[1]+2240044497&4294967295,I=M+(R<<21&4294967295|R>>>11),R=k+(M^(I|~V))+L[8]+1873313359&4294967295,k=I+(R<<6&4294967295|R>>>26),R=V+(I^(k|~M))+L[15]+4264355552&4294967295,V=k+(R<<10&4294967295|R>>>22),R=M+(k^(V|~I))+L[6]+2734768916&4294967295,M=V+(R<<15&4294967295|R>>>17),R=I+(V^(M|~k))+L[13]+1309151649&4294967295,I=M+(R<<21&4294967295|R>>>11),R=k+(M^(I|~V))+L[4]+4149444226&4294967295,k=I+(R<<6&4294967295|R>>>26),R=V+(I^(k|~M))+L[11]+3174756917&4294967295,V=k+(R<<10&4294967295|R>>>22),R=M+(k^(V|~I))+L[2]+718787259&4294967295,M=V+(R<<15&4294967295|R>>>17),R=I+(V^(M|~k))+L[9]+3951481745&4294967295,_.g[0]=_.g[0]+k&4294967295,_.g[1]=_.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,_.g[2]=_.g[2]+M&4294967295,_.g[3]=_.g[3]+V&4294967295}r.prototype.v=function(_,k){k===void 0&&(k=_.length);const I=k-this.blockSize,L=this.C;let M=this.h,V=0;for(;V<k;){if(M==0)for(;V<=I;)i(this,_,V),V+=this.blockSize;if(typeof _=="string"){for(;V<k;)if(L[M++]=_.charCodeAt(V++),M==this.blockSize){i(this,L),M=0;break}}else for(;V<k;)if(L[M++]=_[V++],M==this.blockSize){i(this,L),M=0;break}}this.h=M,this.o+=k},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var k=1;k<_.length-8;++k)_[k]=0;k=this.o*8;for(var I=_.length-8;I<_.length;++I)_[I]=k&255,k/=256;for(this.v(_),_=Array(16),k=0,I=0;I<4;++I)for(let L=0;L<32;L+=8)_[k++]=this.g[I]>>>L&255;return _};function l(_,k){var I=h;return Object.prototype.hasOwnProperty.call(I,_)?I[_]:I[_]=k(_)}function c(_,k){this.h=k;const I=[];let L=!0;for(let M=_.length-1;M>=0;M--){const V=_[M]|0;L&&V==k||(I[M]=V,L=!1)}this.g=I}var h={};function f(_){return-128<=_&&_<128?l(_,function(k){return new c([k|0],k<0?-1:0)}):new c([_|0],_<0?-1:0)}function p(_){if(isNaN(_)||!isFinite(_))return b;if(_<0)return C(p(-_));const k=[];let I=1;for(let L=0;_>=I;L++)k[L]=_/I|0,I*=4294967296;return new c(k,0)}function x(_,k){if(_.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(_.charAt(0)=="-")return C(x(_.substring(1),k));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(k,8));let L=b;for(let V=0;V<_.length;V+=8){var M=Math.min(8,_.length-V);const R=parseInt(_.substring(V,V+M),k);M<8?(M=p(Math.pow(k,M)),L=L.j(M).add(p(R))):(L=L.j(I),L=L.add(p(R)))}return L}var b=f(0),v=f(1),E=f(16777216);n=c.prototype,n.m=function(){if(A(this))return-C(this).m();let _=0,k=1;for(let I=0;I<this.g.length;I++){const L=this.i(I);_+=(L>=0?L:4294967296+L)*k,k*=4294967296}return _},n.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(S(this))return"0";if(A(this))return"-"+C(this).toString(_);const k=p(Math.pow(_,6));var I=this;let L="";for(;;){const M=B(I,k).g;I=P(I,M.j(k));let V=((I.g.length>0?I.g[0]:I.h)>>>0).toString(_);if(I=M,S(I))return V+L;for(;V.length<6;)V="0"+V;L=V+L}},n.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function S(_){if(_.h!=0)return!1;for(let k=0;k<_.g.length;k++)if(_.g[k]!=0)return!1;return!0}function A(_){return _.h==-1}n.l=function(_){return _=P(this,_),A(_)?-1:S(_)?0:1};function C(_){const k=_.g.length,I=[];for(let L=0;L<k;L++)I[L]=~_.g[L];return new c(I,~_.h).add(v)}n.abs=function(){return A(this)?C(this):this},n.add=function(_){const k=Math.max(this.g.length,_.g.length),I=[];let L=0;for(let M=0;M<=k;M++){let V=L+(this.i(M)&65535)+(_.i(M)&65535),R=(V>>>16)+(this.i(M)>>>16)+(_.i(M)>>>16);L=R>>>16,V&=65535,R&=65535,I[M]=R<<16|V}return new c(I,I[I.length-1]&-2147483648?-1:0)};function P(_,k){return _.add(C(k))}n.j=function(_){if(S(this)||S(_))return b;if(A(this))return A(_)?C(this).j(C(_)):C(C(this).j(_));if(A(_))return C(this.j(C(_)));if(this.l(E)<0&&_.l(E)<0)return p(this.m()*_.m());const k=this.g.length+_.g.length,I=[];for(var L=0;L<2*k;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(let M=0;M<_.g.length;M++){const V=this.i(L)>>>16,R=this.i(L)&65535,U=_.i(M)>>>16,me=_.i(M)&65535;I[2*L+2*M]+=R*me,D(I,2*L+2*M),I[2*L+2*M+1]+=V*me,D(I,2*L+2*M+1),I[2*L+2*M+1]+=R*U,D(I,2*L+2*M+1),I[2*L+2*M+2]+=V*U,D(I,2*L+2*M+2)}for(_=0;_<k;_++)I[_]=I[2*_+1]<<16|I[2*_];for(_=k;_<2*k;_++)I[_]=0;return new c(I,0)};function D(_,k){for(;(_[k]&65535)!=_[k];)_[k+1]+=_[k]>>>16,_[k]&=65535,k++}function F(_,k){this.g=_,this.h=k}function B(_,k){if(S(k))throw Error("division by zero");if(S(_))return new F(b,b);if(A(_))return k=B(C(_),k),new F(C(k.g),C(k.h));if(A(k))return k=B(_,C(k)),new F(C(k.g),k.h);if(_.g.length>30){if(A(_)||A(k))throw Error("slowDivide_ only works with positive integers.");for(var I=v,L=k;L.l(_)<=0;)I=$(I),L=$(L);var M=Q(I,1),V=Q(L,1);for(L=Q(L,2),I=Q(I,2);!S(L);){var R=V.add(L);R.l(_)<=0&&(M=M.add(I),V=R),L=Q(L,1),I=Q(I,1)}return k=P(_,M.j(k)),new F(M,k)}for(M=b;_.l(k)>=0;){for(I=Math.max(1,Math.floor(_.m()/k.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),V=p(I),R=V.j(k);A(R)||R.l(_)>0;)I-=L,V=p(I),R=V.j(k);S(V)&&(V=v),M=M.add(V),_=P(_,R)}return new F(M,_)}n.B=function(_){return B(this,_).h},n.and=function(_){const k=Math.max(this.g.length,_.g.length),I=[];for(let L=0;L<k;L++)I[L]=this.i(L)&_.i(L);return new c(I,this.h&_.h)},n.or=function(_){const k=Math.max(this.g.length,_.g.length),I=[];for(let L=0;L<k;L++)I[L]=this.i(L)|_.i(L);return new c(I,this.h|_.h)},n.xor=function(_){const k=Math.max(this.g.length,_.g.length),I=[];for(let L=0;L<k;L++)I[L]=this.i(L)^_.i(L);return new c(I,this.h^_.h)};function $(_){const k=_.g.length+1,I=[];for(let L=0;L<k;L++)I[L]=_.i(L)<<1|_.i(L-1)>>>31;return new c(I,_.h)}function Q(_,k){const I=k>>5;k%=32;const L=_.g.length-I,M=[];for(let V=0;V<L;V++)M[V]=k>0?_.i(V+I)>>>k|_.i(V+I+1)<<32-k:_.i(V+I);return new c(M,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,eC=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=x,Ro=c}).apply(typeof WS<"u"?WS:typeof self<"u"?self:typeof window<"u"?window:{});var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tC,Yh,sC,cg,cv,nC,rC,aC;(function(){var n,e=Object.defineProperty;function s(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kp=="object"&&Kp];for(var j=0;j<m.length;++j){var T=m[j];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=s(this);function i(m,j){if(j)e:{var T=r;m=m.split(".");for(var z=0;z<m.length-1;z++){var ee=m[z];if(!(ee in T))break e;T=T[ee]}m=m[m.length-1],z=T[m],j=j(z),j!=z&&j!=null&&e(T,m,{configurable:!0,writable:!0,value:j})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(j){var T=[],z;for(z in j)Object.prototype.hasOwnProperty.call(j,z)&&T.push([z,j[z]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(m){var j=typeof m;return j=="object"&&m!=null||j=="function"}function f(m,j,T){return m.call.apply(m.bind,arguments)}function p(m,j,T){return p=f,p.apply(null,arguments)}function x(m,j){var T=Array.prototype.slice.call(arguments,1);return function(){var z=T.slice();return z.push.apply(z,arguments),m.apply(this,z)}}function b(m,j){function T(){}T.prototype=j.prototype,m.Z=j.prototype,m.prototype=new T,m.prototype.constructor=m,m.Ob=function(z,ee,oe){for(var ke=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)ke[Xe-2]=arguments[Xe];return j.prototype[ee].apply(z,ke)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function E(m){const j=m.length;if(j>0){const T=Array(j);for(let z=0;z<j;z++)T[z]=m[z];return T}return[]}function S(m,j){for(let z=1;z<arguments.length;z++){const ee=arguments[z];var T=typeof ee;if(T=T!="object"?T:ee?Array.isArray(ee)?"array":T:"null",T=="array"||T=="object"&&typeof ee.length=="number"){T=m.length||0;const oe=ee.length||0;m.length=T+oe;for(let ke=0;ke<oe;ke++)m[T+ke]=ee[ke]}else m.push(ee)}}class A{constructor(j,T){this.i=j,this.j=T,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function C(m){c.setTimeout(()=>{throw m},0)}function P(){var m=_;let j=null;return m.g&&(j=m.g,m.g=m.g.next,m.g||(m.h=null),j.next=null),j}class D{constructor(){this.h=this.g=null}add(j,T){const z=F.get();z.set(j,T),this.h?this.h.next=z:this.g=z,this.h=z}}var F=new A(()=>new B,m=>m.reset());class B{constructor(){this.next=this.g=this.h=null}set(j,T){this.h=j,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let $,Q=!1,_=new D,k=()=>{const m=Promise.resolve(void 0);$=()=>{m.then(I)}};function I(){for(var m;m=P();){try{m.h.call(m.g)}catch(T){C(T)}var j=F;j.j(m),j.h<100&&(j.h++,m.next=j.g,j.g=m)}Q=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(m,j){this.type=m,this.g=this.target=j,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,j=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};c.addEventListener("test",T,j),c.removeEventListener("test",T,j)}catch{}return m})();function R(m){return/^[\s\xa0]*$/.test(m)}function U(m,j){M.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,j)}b(U,M),U.prototype.init=function(m,j){const T=this.type=m.type,z=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=j,j=m.relatedTarget,j||(T=="mouseover"?j=m.fromElement:T=="mouseout"&&(j=m.toElement)),this.relatedTarget=j,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&U.Z.h.call(this)},U.prototype.h=function(){U.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),W=0;function ne(m,j,T,z,ee){this.listener=m,this.proxy=null,this.src=j,this.type=T,this.capture=!!z,this.ha=ee,this.key=++W,this.da=this.fa=!1}function ve(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Re(m,j,T){for(const z in m)j.call(T,m[z],z,m)}function Ae(m,j){for(const T in m)j.call(void 0,m[T],T,m)}function H(m){const j={};for(const T in m)j[T]=m[T];return j}const ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(m,j){let T,z;for(let ee=1;ee<arguments.length;ee++){z=arguments[ee];for(T in z)m[T]=z[T];for(let oe=0;oe<ce.length;oe++)T=ce[oe],Object.prototype.hasOwnProperty.call(z,T)&&(m[T]=z[T])}}function K(m){this.src=m,this.g={},this.h=0}K.prototype.add=function(m,j,T,z,ee){const oe=m.toString();m=this.g[oe],m||(m=this.g[oe]=[],this.h++);const ke=Te(m,j,z,ee);return ke>-1?(j=m[ke],T||(j.fa=!1)):(j=new ne(j,this.src,oe,!!z,ee),j.fa=T,m.push(j)),j};function ye(m,j){const T=j.type;if(T in m.g){var z=m.g[T],ee=Array.prototype.indexOf.call(z,j,void 0),oe;(oe=ee>=0)&&Array.prototype.splice.call(z,ee,1),oe&&(ve(j),m.g[T].length==0&&(delete m.g[T],m.h--))}}function Te(m,j,T,z){for(let ee=0;ee<m.length;++ee){const oe=m[ee];if(!oe.da&&oe.listener==j&&oe.capture==!!T&&oe.ha==z)return ee}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),rt={};function je(m,j,T,z,ee){if(Array.isArray(j)){for(let oe=0;oe<j.length;oe++)je(m,j[oe],T,z,ee);return null}return T=re(T),m&&m[me]?m.J(j,T,h(z)?!!z.capture:!1,ee):Ue(m,j,T,!1,z,ee)}function Ue(m,j,T,z,ee,oe){if(!j)throw Error("Invalid event type");const ke=h(ee)?!!ee.capture:!!ee;let Xe=ts(m);if(Xe||(m[Oe]=Xe=new K(m)),T=Xe.add(j,T,z,ke,oe),T.proxy)return T;if(z=_t(),T.proxy=z,z.src=m,z.listener=T,m.addEventListener)V||(ee=ke),ee===void 0&&(ee=!1),m.addEventListener(j.toString(),z,ee);else if(m.attachEvent)m.attachEvent(ut(j.toString()),z);else if(m.addListener&&m.removeListener)m.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return T}function _t(){function m(T){return j.call(m.src,m.listener,T)}const j=Ps;return m}function Ut(m,j,T,z,ee){if(Array.isArray(j))for(var oe=0;oe<j.length;oe++)Ut(m,j[oe],T,z,ee);else z=h(z)?!!z.capture:!!z,T=re(T),m&&m[me]?(m=m.i,oe=String(j).toString(),oe in m.g&&(j=m.g[oe],T=Te(j,T,z,ee),T>-1&&(ve(j[T]),Array.prototype.splice.call(j,T,1),j.length==0&&(delete m.g[oe],m.h--)))):m&&(m=ts(m))&&(j=m.g[j.toString()],m=-1,j&&(m=Te(j,T,z,ee)),(T=m>-1?j[m]:null)&&ws(T))}function ws(m){if(typeof m!="number"&&m&&!m.da){var j=m.src;if(j&&j[me])ye(j.i,m);else{var T=m.type,z=m.proxy;j.removeEventListener?j.removeEventListener(T,z,m.capture):j.detachEvent?j.detachEvent(ut(T),z):j.addListener&&j.removeListener&&j.removeListener(z),(T=ts(j))?(ye(T,m),T.h==0&&(T.src=null,j[Oe]=null)):ve(m)}}}function ut(m){return m in rt?rt[m]:rt[m]="on"+m}function Ps(m,j){if(m.da)m=!0;else{j=new U(j,this);const T=m.listener,z=m.ha||m.src;m.fa&&ws(m),m=T.call(z,j)}return m}function ts(m){return m=m[Oe],m instanceof K?m:null}var pe="__closure_events_fn_"+(Math.random()*1e9>>>0);function re(m){return typeof m=="function"?m:(m[pe]||(m[pe]=function(j){return m.handleEvent(j)}),m[pe])}function $e(){L.call(this),this.i=new K(this),this.M=this,this.G=null}b($e,L),$e.prototype[me]=!0,$e.prototype.removeEventListener=function(m,j,T,z){Ut(this,m,j,T,z)};function nt(m,j){var T,z=m.G;if(z)for(T=[];z;z=z.G)T.push(z);if(m=m.M,z=j.type||j,typeof j=="string")j=new M(j,m);else if(j instanceof M)j.target=j.target||m;else{var ee=j;j=new M(z,m),_e(j,ee)}ee=!0;let oe,ke;if(T)for(ke=T.length-1;ke>=0;ke--)oe=j.g=T[ke],ee=Mt(oe,z,!0,j)&&ee;if(oe=j.g=m,ee=Mt(oe,z,!0,j)&&ee,ee=Mt(oe,z,!1,j)&&ee,T)for(ke=0;ke<T.length;ke++)oe=j.g=T[ke],ee=Mt(oe,z,!1,j)&&ee}$e.prototype.N=function(){if($e.Z.N.call(this),this.i){var m=this.i;for(const j in m.g){const T=m.g[j];for(let z=0;z<T.length;z++)ve(T[z]);delete m.g[j],m.h--}}this.G=null},$e.prototype.J=function(m,j,T,z){return this.i.add(String(m),j,!1,T,z)},$e.prototype.K=function(m,j,T,z){return this.i.add(String(m),j,!0,T,z)};function Mt(m,j,T,z){if(j=m.i.g[String(j)],!j)return!0;j=j.concat();let ee=!0;for(let oe=0;oe<j.length;++oe){const ke=j[oe];if(ke&&!ke.da&&ke.capture==T){const Xe=ke.listener,ps=ke.ha||ke.src;ke.fa&&ye(m.i,ke),ee=Xe.call(ps,z)!==!1&&ee}}return ee&&!z.defaultPrevented}function Wn(m,j){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=p(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:c.setTimeout(m,j||0)}function Br(m){m.g=Wn(()=>{m.g=null,m.i&&(m.i=!1,Br(m))},m.l);const j=m.h;m.h=null,m.m.apply(null,j)}class fe extends L{constructor(j,T){super(),this.m=j,this.l=T,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Br(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function De(m){L.call(this),this.h=m,this.g={}}b(De,L);var Ye=[];function at(m){Re(m.g,function(j,T){this.g.hasOwnProperty(T)&&ws(j)},m),m.g={}}De.prototype.N=function(){De.Z.N.call(this),at(this)},De.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var At=c.JSON.stringify,ss=c.JSON.parse,dn=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function pr(){}function da(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ds(){M.call(this,"d")}b(Ds,M);function un(){M.call(this,"c")}b(un,M);var It={},_c=null;function Mi(){return _c=_c||new $e}It.Ia="serverreachability";function sl(m){M.call(this,It.Ia,m)}b(sl,M);function Qn(m){const j=Mi();nt(j,new sl(j))}It.STAT_EVENT="statevent";function ua(m,j){M.call(this,It.STAT_EVENT,m),this.stat=j}b(ua,M);function ns(m){const j=Mi();nt(j,new ua(j,m))}It.Ja="timingevent";function Jn(m,j){M.call(this,It.Ja,m),this.size=j}b(Jn,M);function J(m,j){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},j)}function Me(){this.g=!0}Me.prototype.ua=function(){this.g=!1};function it(m,j,T,z,ee,oe){m.info(function(){if(m.g)if(oe){var ke="",Xe=oe.split("&");for(let wt=0;wt<Xe.length;wt++){var ps=Xe[wt].split("=");if(ps.length>1){const Wt=ps[0];ps=ps[1];const br=Wt.split("_");ke=br.length>=2&&br[1]=="type"?ke+(Wt+"="+ps+"&"):ke+(Wt+"=redacted&")}}}else ke=null;else ke=oe;return"XMLHTTP REQ ("+z+") [attempt "+ee+"]: "+j+`
`+T+`
`+ke})}function Kt(m,j,T,z,ee,oe,ke){m.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ee+"]: "+j+`
`+T+`
`+oe+" "+ke})}function tt(m,j,T,z){m.info(function(){return"XMLHTTP TEXT ("+j+"): "+Fr(m,T)+(z?" "+z:"")})}function Ks(m,j){m.info(function(){return"TIMEOUT: "+j})}Me.prototype.info=function(){};function Fr(m,j){if(!m.g)return j;if(!j)return null;try{const oe=JSON.parse(j);if(oe){for(m=0;m<oe.length;m++)if(Array.isArray(oe[m])){var T=oe[m];if(!(T.length<2)){var z=T[1];if(Array.isArray(z)&&!(z.length<1)){var ee=z[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let ke=1;ke<z.length;ke++)z[ke]=""}}}}return At(oe)}catch{return j}}var hn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Li={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vi;function Ga(){}b(Ga,pr),Ga.prototype.g=function(){return new XMLHttpRequest},Vi=new Ga;function $r(m){return encodeURIComponent(String(m))}function ym(m){var j=1;m=m.split(":");const T=[];for(;j>0&&m.length;)T.push(m.shift()),j--;return m.length&&T.push(m.join(":")),T}function qr(m,j,T,z){this.j=m,this.i=j,this.l=T,this.S=z||1,this.V=new De(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hr}function Hr(){this.i=null,this.g="",this.h=!1}var js={},Us={};function ha(m,j,T){m.M=1,m.A=nl(_s(j)),m.u=T,m.R=!0,Sc(m,null)}function Sc(m,j){m.F=Date.now(),fa(m),m.B=_s(m.A);var T=m.B,z=m.S;Array.isArray(z)||(z=[String(z)]),Cc(T.i,"t",z),m.C=0,T=m.j.L,m.h=new Hr,m.g=Pm(m.j,T?j:null,!m.u),m.P>0&&(m.O=new fe(p(m.Y,m,m.g),m.P)),j=m.V,T=m.g,z=m.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Ye[0]=ee.toString()),ee=Ye);for(let oe=0;oe<ee.length;oe++){const ke=je(T,ee[oe],z||j.handleEvent,!1,j.h||j);if(!ke)break;j.g[ke.key]=ke}j=m.J?H(m.J):{},m.u?(m.v||(m.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,j)):(m.v="GET",m.g.ea(m.B,m.v,null,j)),Qn(),it(m.i,m.v,m.B,m.l,m.S,m.u)}qr.prototype.ba=function(m){m=m.target;const j=this.O;j&&Wr(m)==3?j.j():this.Y(m)},qr.prototype.Y=function(m){try{if(m==this.g)e:{const Xe=Wr(this.g),ps=this.g.ya(),wt=this.g.ca();if(!(Xe<3)&&(Xe!=3||this.g&&(this.h.h||this.g.la()||Ws(this.g)))){this.K||Xe!=4||ps==7||(ps==8||wt<=0?Qn(3):Qn(2)),ma(this);var j=this.g.ca();this.X=j;var T=qx(this);if(this.o=j==200,Kt(this.i,this.v,this.B,this.l,this.S,Xe,j),this.o){if(this.U&&!this.L){t:{if(this.g){var z,ee=this.g;if((z=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(z)){var oe=z;break t}}oe=null}if(m=oe)tt(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pa(this,m);else{this.o=!1,this.m=3,ns(12),Xn(this),gr(this);break e}}if(this.R){m=!0;let Wt;for(;!this.K&&this.C<T.length;)if(Wt=vm(this,T),Wt==Us){Xe==4&&(this.m=4,ns(14),m=!1),tt(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==js){this.m=4,ns(15),tt(this.i,this.l,T,"[Invalid Chunk]"),m=!1;break}else tt(this.i,this.l,Wt,null),pa(this,Wt);if(bm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||T.length!=0||this.h.h||(this.m=1,ns(16),m=!1),this.o=this.o&&m,!m)tt(this.i,this.l,T,"[Invalid Chunked Response]"),Xn(this),gr(this);else if(T.length>0&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.aa&&!ke.P&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Hu(ke),ke.P=!0,ns(11))}}else tt(this.i,this.l,T,null),pa(this,T);Xe==4&&Xn(this),this.o&&!this.K&&(Xe==4?Cm(this.j,this):(this.o=!1,fa(this)))}else Wa(this.g),j==400&&T.indexOf("Unknown SID")>0?(this.m=3,ns(12)):(this.m=0,ns(13)),Xn(this),gr(this)}}}catch{}finally{}};function qx(m){if(!bm(m))return m.g.la();const j=Ws(m.g);if(j==="")return"";let T="";const z=j.length,ee=Wr(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Xn(m),gr(m),"";m.h.i=new c.TextDecoder}for(let oe=0;oe<z;oe++)m.h.h=!0,T+=m.h.i.decode(j[oe],{stream:!(ee&&oe==z-1)});return j.length=0,m.h.g+=T,m.C=0,m.h.g}function bm(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function vm(m,j){var T=m.C,z=j.indexOf(`
`,T);return z==-1?Us:(T=Number(j.substring(T,z)),isNaN(T)?js:(z+=1,z+T>j.length?Us:(j=j.slice(z,z+T),m.C=z+T,j)))}qr.prototype.cancel=function(){this.K=!0,Xn(this)};function fa(m){m.T=Date.now()+m.H,Tc(m,m.H)}function Tc(m,j){if(m.D!=null)throw Error("WatchDog timer not null");m.D=J(p(m.aa,m),j)}function ma(m){m.D&&(c.clearTimeout(m.D),m.D=null)}qr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Ks(this.i,this.B),this.M!=2&&(Qn(),ns(17)),Xn(this),this.m=2,gr(this)):Tc(this,this.T-m)};function gr(m){m.j.I==0||m.K||Cm(m.j,m)}function Xn(m){ma(m);var j=m.O;j&&typeof j.dispose=="function"&&j.dispose(),m.O=null,at(m.V),m.g&&(j=m.g,m.g=null,j.abort(),j.dispose())}function pa(m,j){try{var T=m.j;if(T.I!=0&&(T.g==m||xa(T.h,m))){if(!m.L&&xa(T.h,m)&&T.I==3){try{var z=T.Ba.g.parse(j)}catch{z=null}if(Array.isArray(z)&&z.length==3){var ee=z;if(ee[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<m.F)Dc(T),Gi(T);else break e;dl(T),ns(18)}}else T.xa=ee[1],0<T.xa-T.K&&ee[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=J(p(T.Va,T),6e3));ga(T.h)<=1&&T.ta&&(T.ta=void 0)}else Na(T,11)}else if((m.L||T.g==m)&&Dc(T),!R(j))for(ee=T.Ba.g.parse(j),j=0;j<ee.length;j++){let wt=ee[j];const Wt=wt[0];if(!(Wt<=T.K))if(T.K=Wt,wt=wt[1],T.I==2)if(wt[0]=="c"){T.M=wt[1],T.ba=wt[2];const br=wt[3];br!=null&&(T.ka=br,T.j.info("VER="+T.ka));const _a=wt[4];_a!=null&&(T.za=_a,T.j.info("SVER="+T.za));const Yr=wt[5];Yr!=null&&typeof Yr=="number"&&Yr>0&&(z=1.5*Yr,T.O=z,T.j.info("backChannelRequestTimeoutMs_="+z)),z=T;const Qr=m.g;if(Qr){const ul=Qr.g?Qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ul){var oe=z.h;oe.g||ul.indexOf("spdy")==-1&&ul.indexOf("quic")==-1&&ul.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Pu(oe,oe.h),oe.h=null))}if(z.G){const Oc=Qr.g?Qr.g.getResponseHeader("X-HTTP-Session-Id"):null;Oc&&(z.wa=Oc,St(z.J,z.G,Oc))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-m.F,T.j.info("Handshake RTT: "+T.T+"ms")),z=T;var ke=m;if(z.na=Rm(z,z.L?z.ba:null,z.W),ke.L){Du(z.h,ke);var Xe=ke,ps=z.O;ps&&(Xe.H=ps),Xe.D&&(ma(Xe),fa(Xe)),z.g=ke}else km(z);T.i.length>0&&ja(T)}else wt[0]!="stop"&&wt[0]!="close"||Na(T,7);else T.I==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Na(T,7):$u(T):wt[0]!="noop"&&T.l&&T.l.qa(wt),T.A=0)}}Qn(4)}catch{}}var Ns=class{constructor(m,j){this.g=m,this.map=j}};function Iu(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ru(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ga(m){return m.h?1:m.g?m.g.size:0}function xa(m,j){return m.h?m.h==j:m.g?m.g.has(j):!1}function Pu(m,j){m.g?m.g.add(j):m.h=j}function Du(m,j){m.h&&m.h==j?m.h=null:m.g&&m.g.has(j)&&m.g.delete(j)}Iu.prototype.cancel=function(){if(this.i=Ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ou(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let j=m.i;for(const T of m.g.values())j=j.concat(T.G);return j}return E(m.i)}var wm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kc(m,j){if(m){m=m.split("&");for(let T=0;T<m.length;T++){const z=m[T].indexOf("=");let ee,oe=null;z>=0?(ee=m[T].substring(0,z),oe=m[T].substring(z+1)):ee=m[T],j(ee,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function Zn(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;m instanceof Zn?(this.l=m.l,Bs(this,m.j),this.o=m.o,this.g=m.g,zi(this,m.u),this.h=m.h,Mu(this,Sm(m.i)),this.m=m.m):m&&(j=String(m).match(wm))?(this.l=!1,Bs(this,j[1]||"",!0),this.o=ya(j[2]||""),this.g=ya(j[3]||"",!0),zi(this,j[4]),this.h=ya(j[5]||"",!0),Mu(this,j[6]||"",!0),this.m=ya(j[7]||"")):(this.l=!1,this.i=new Bi(null,this.l))}Zn.prototype.toString=function(){const m=[];var j=this.j;j&&m.push(rl(j,Ec,!0),":");var T=this.g;return(T||j=="file")&&(m.push("//"),(j=this.o)&&m.push(rl(j,Ec,!0),"@"),m.push($r(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&m.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(rl(T,T.charAt(0)=="/"?Lu:jm,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",rl(T,Nm)),m.join("")},Zn.prototype.resolve=function(m){const j=_s(this);let T=!!m.j;T?Bs(j,m.j):T=!!m.o,T?j.o=m.o:T=!!m.g,T?j.g=m.g:T=m.u!=null;var z=m.h;if(T)zi(j,m.u);else if(T=!!m.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var ee=j.h.lastIndexOf("/");ee!=-1&&(z=j.h.slice(0,ee+1)+z)}if(ee=z,ee==".."||ee==".")z="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){z=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const oe=[];for(let ke=0;ke<ee.length;){const Xe=ee[ke++];Xe=="."?z&&ke==ee.length&&oe.push(""):Xe==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),z&&ke==ee.length&&oe.push("")):(oe.push(Xe),z=!0)}z=oe.join("/")}else z=ee}return T?j.h=z:T=m.i.toString()!=="",T?Mu(j,Sm(m.i)):T=!!m.m,T&&(j.m=m.m),j};function _s(m){return new Zn(m)}function Bs(m,j,T){m.j=T?ya(j,!0):j,m.j&&(m.j=m.j.replace(/:$/,""))}function zi(m,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);m.u=j}else m.u=null}function Mu(m,j,T){j instanceof Bi?(m.i=j,Ac(m.i,m.l)):(T||(j=rl(j,Ui)),m.i=new Bi(j,m.l))}function St(m,j,T){m.i.set(j,T)}function nl(m){return St(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function ya(m,j){return m?j?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function rl(m,j,T){return typeof m=="string"?(m=encodeURI(m).replace(j,An),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function An(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ec=/[#\/\?@]/g,jm=/[#\?:]/g,Lu=/[#\?]/g,Ui=/[#\?@]/g,Nm=/#/g;function Bi(m,j){this.h=this.g=null,this.i=m||null,this.j=!!j}function In(m){m.g||(m.g=new Map,m.h=0,m.i&&kc(m.i,function(j,T){m.add(decodeURIComponent(j.replace(/\+/g," ")),T)}))}n=Bi.prototype,n.add=function(m,j){In(this),this.i=null,m=Fi(this,m);let T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(j),this.h+=1,this};function _m(m,j){In(m),j=Fi(m,j),m.g.has(j)&&(m.i=null,m.h-=m.g.get(j).length,m.g.delete(j))}function Vu(m,j){return In(m),j=Fi(m,j),m.g.has(j)}n.forEach=function(m,j){In(this),this.g.forEach(function(T,z){T.forEach(function(ee){m.call(j,ee,z,this)},this)},this)};function zu(m,j){In(m);let T=[];if(typeof j=="string")Vu(m,j)&&(T=T.concat(m.g.get(Fi(m,j))));else for(m=Array.from(m.g.values()),j=0;j<m.length;j++)T=T.concat(m[j]);return T}n.set=function(m,j){return In(this),this.i=null,m=Fi(this,m),Vu(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[j]),this.h+=1,this},n.get=function(m,j){return m?(m=zu(this,m),m.length>0?String(m[0]):j):j};function Cc(m,j,T){_m(m,j),T.length>0&&(m.i=null,m.g.set(Fi(m,j),E(T)),m.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],j=Array.from(this.g.keys());for(let z=0;z<j.length;z++){var T=j[z];const ee=$r(T);T=zu(this,T);for(let oe=0;oe<T.length;oe++){let ke=ee;T[oe]!==""&&(ke+="="+$r(T[oe])),m.push(ke)}}return this.i=m.join("&")};function Sm(m){const j=new Bi;return j.i=m.i,m.g&&(j.g=new Map(m.g),j.h=m.h),j}function Fi(m,j){return j=String(j),m.j&&(j=j.toLowerCase()),j}function Ac(m,j){j&&!m.j&&(In(m),m.i=null,m.g.forEach(function(T,z){const ee=z.toLowerCase();z!=ee&&(_m(this,z),Cc(this,ee,T))},m)),m.j=j}function Gr(m,j){const T=new Me;if(c.Image){const z=new Image;z.onload=x(xr,T,"TestLoadImage: loaded",!0,j,z),z.onerror=x(xr,T,"TestLoadImage: error",!1,j,z),z.onabort=x(xr,T,"TestLoadImage: abort",!1,j,z),z.ontimeout=x(xr,T,"TestLoadImage: timeout",!1,j,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=m}else j(!1)}function Uu(m,j){const T=new Me,z=new AbortController,ee=setTimeout(()=>{z.abort(),xr(T,"TestPingServer: timeout",!1,j)},1e4);fetch(m,{signal:z.signal}).then(oe=>{clearTimeout(ee),oe.ok?xr(T,"TestPingServer: ok",!0,j):xr(T,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(ee),xr(T,"TestPingServer: error",!1,j)})}function xr(m,j,T,z,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),z(T)}catch{}}function $i(){this.g=new dn}function ba(m){this.i=m.Sb||null,this.h=m.ab||!1}b(ba,pr),ba.prototype.g=function(){return new al(this.i,this.h)};function al(m,j){$e.call(this),this.H=m,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(al,$e),n=al.prototype,n.open=function(m,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=j,this.readyState=1,Kr(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(j.body=m),(this.H||c).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qi(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ic(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ic(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var j=m.value?m.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!m.done}))&&(this.response=this.responseText+=j)}m.done?qi(this):Kr(this),this.readyState==3&&Ic(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,qi(this))},n.Na=function(m){this.g&&(this.response=m,qi(this))},n.ga=function(){this.g&&qi(this)};function qi(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Kr(m)}n.setRequestHeader=function(m,j){this.A.append(m,j)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],j=this.h.entries();for(var T=j.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=j.next();return m.join(`\r
`)};function Kr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function yr(m){let j="";return Re(m,function(T,z){j+=z,j+=":",j+=T,j+=`\r
`}),j}function il(m,j,T){e:{for(z in T){var z=!1;break e}z=!0}z||(T=yr(T),typeof m=="string"?T!=null&&$r(T):St(m,j,T))}function Rt(m){$e.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Rt,$e);var va=/^https?$/i,Bu=["POST","PUT"];n=Rt.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,j,T,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);j=j?j.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vi.g(),this.g.onreadystatechange=v(p(this.Ca,this));try{this.B=!0,this.g.open(j,String(m),!0),this.B=!1}catch(oe){ol(this,oe);return}if(m=T||"",T=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ee in z)T.set(ee,z[ee]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const oe of z.keys())T.set(oe,z.get(oe));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(T.keys()).find(oe=>oe.toLowerCase()=="content-type"),ee=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(Bu,j,void 0)>=0)||z||ee||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,ke]of T)this.g.setRequestHeader(oe,ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(oe){ol(this,oe)}};function ol(m,j){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=j,m.o=5,Fu(m),Ka(m)}function Fu(m){m.A||(m.A=!0,nt(m,"complete"),nt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,nt(this,"complete"),nt(this,"abort"),Ka(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ka(this,!0)),Rt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ll(this):this.Xa())},n.Xa=function(){ll(this)};function ll(m){if(m.h&&typeof l<"u"){if(m.v&&Wr(m)==4)setTimeout(m.Ca.bind(m),0);else if(nt(m,"readystatechange"),Wr(m)==4){m.h=!1;try{const oe=m.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var T;if(!(T=j)){var z;if(z=oe===0){let ke=String(m.D).match(wm)[1]||null;!ke&&c.self&&c.self.location&&(ke=c.self.location.protocol.slice(0,-1)),z=!va.test(ke?ke.toLowerCase():"")}T=z}if(T)nt(m,"complete"),nt(m,"success");else{m.o=6;try{var ee=Wr(m)>2?m.g.statusText:""}catch{ee=""}m.l=ee+" ["+m.ca()+"]",Fu(m)}}finally{Ka(m)}}}}function Ka(m,j){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const T=m.g;m.g=null,j||nt(m,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Wr(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Wr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var j=this.g.responseText;return m&&j.indexOf(m)==0&&(j=j.substring(m.length)),ss(j)}};function Ws(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Wa(m){const j={};m=(m.g&&Wr(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<m.length;z++){if(R(m[z]))continue;var T=ym(m[z]);const ee=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const oe=j[ee]||[];j[ee]=oe,oe.push(T)}Ae(j,function(z){return z.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(m,j,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||j}function Hi(m){this.za=0,this.i=[],this.j=new Me,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wa("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wa("baseRetryDelayMs",5e3,m),this.Za=wa("retryDelaySeedMs",1e4,m),this.Ta=wa("forwardChannelMaxRetries",2,m),this.va=wa("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Iu(m&&m.concurrentRequestLimit),this.Ba=new $i,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Hi.prototype,n.ka=8,n.I=1,n.connect=function(m,j,T,z){ns(0),this.W=m,this.H=j||{},T&&z!==void 0&&(this.H.OSID=T,this.H.OAID=z),this.F=this.X,this.J=Rm(this,null,this.W),ja(this)};function $u(m){if(Rc(m),m.I==3){var j=m.V++,T=_s(m.J);if(St(T,"SID",m.M),St(T,"RID",j),St(T,"TYPE","terminate"),cl(m,T),j=new qr(m,m.j,j),j.M=2,j.A=nl(_s(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(j.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=j.A,T=!0),T||(j.g=Pm(j.j,null),j.g.ea(j.A)),j.F=Date.now(),fa(j)}Im(m)}function Gi(m){m.g&&(Hu(m),m.g.cancel(),m.g=null)}function Rc(m){Gi(m),m.v&&(c.clearTimeout(m.v),m.v=null),Dc(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function ja(m){if(!Ru(m.h)&&!m.m){m.m=!0;var j=m.Ea;$||k(),Q||($(),Q=!0),_.add(j,m),m.D=0}}function Pc(m,j){return ga(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=j.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=J(p(m.Ea,m,j),Am(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const ee=new qr(this,this.j,m);let oe=this.o;if(this.U&&(oe?(oe=H(oe),_e(oe,this.U)):oe=this.U),this.u!==null||this.R||(ee.J=oe,oe=null),this.S)e:{for(var j=0,T=0;T<this.i.length;T++){t:{var z=this.i[T];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(j+=z,j>4096){j=T;break e}if(j===4096||T===this.i.length-1){j=T+1;break e}}j=1e3}else j=1e3;j=Tm(this,ee,j),T=_s(this.J),St(T,"RID",m),St(T,"CVER",22),this.G&&St(T,"X-HTTP-Session-Id",this.G),cl(this,T),oe&&(this.R?j="headers="+$r(yr(oe))+"&"+j:this.u&&il(T,this.u,oe)),Pu(this.h,ee),this.Ra&&St(T,"TYPE","init"),this.S?(St(T,"$req",j),St(T,"SID","null"),ee.U=!0,ha(ee,T,null)):ha(ee,T,j),this.I=2}}else this.I==3&&(m?qu(this,m):this.i.length==0||Ru(this.h)||qu(this))};function qu(m,j){var T;j?T=j.l:T=m.V++;const z=_s(m.J);St(z,"SID",m.M),St(z,"RID",T),St(z,"AID",m.K),cl(m,z),m.u&&m.o&&il(z,m.u,m.o),T=new qr(m,m.j,T,m.D+1),m.u===null&&(T.J=m.o),j&&(m.i=j.G.concat(m.i)),j=Tm(m,T,1e3),T.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Pu(m.h,T),ha(T,z,j)}function cl(m,j){m.H&&Re(m.H,function(T,z){St(j,z,T)}),m.l&&Re({},function(T,z){St(j,z,T)})}function Tm(m,j,T){T=Math.min(m.i.length,T);const z=m.l?p(m.l.Ka,m.l,m):null;e:{var ee=m.i;let Xe=-1;for(;;){const ps=["count="+T];Xe==-1?T>0?(Xe=ee[0].g,ps.push("ofs="+Xe)):Xe=0:ps.push("ofs="+Xe);let wt=!0;for(let Wt=0;Wt<T;Wt++){var oe=ee[Wt].g;const br=ee[Wt].map;if(oe-=Xe,oe<0)Xe=Math.max(0,ee[Wt].g-100),wt=!1;else try{oe="req"+oe+"_"||"";try{var ke=br instanceof Map?br:Object.entries(br);for(const[_a,Yr]of ke){let Qr=Yr;h(Yr)&&(Qr=At(Yr)),ps.push(oe+_a+"="+encodeURIComponent(Qr))}}catch(_a){throw ps.push(oe+"type="+encodeURIComponent("_badmap")),_a}}catch{z&&z(br)}}if(wt){ke=ps.join("&");break e}}ke=void 0}return m=m.i.splice(0,T),j.G=m,ke}function km(m){if(!m.g&&!m.v){m.Y=1;var j=m.Da;$||k(),Q||($(),Q=!0),_.add(j,m),m.A=0}}function dl(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=J(p(m.Da,m),Am(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Em(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=J(p(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ns(10),Gi(this),Em(this))};function Hu(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function Em(m){m.g=new qr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var j=_s(m.na);St(j,"RID","rpc"),St(j,"SID",m.M),St(j,"AID",m.K),St(j,"CI",m.F?"0":"1"),!m.F&&m.ia&&St(j,"TO",m.ia),St(j,"TYPE","xmlhttp"),cl(m,j),m.u&&m.o&&il(j,m.u,m.o),m.O&&(m.g.H=m.O);var T=m.g;m=m.ba,T.M=1,T.A=nl(_s(j)),T.u=null,T.R=!0,Sc(T,m)}n.Va=function(){this.C!=null&&(this.C=null,Gi(this),dl(this),ns(19))};function Dc(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Cm(m,j){var T=null;if(m.g==j){Dc(m),Hu(m),m.g=null;var z=2}else if(xa(m.h,j))T=j.G,Du(m.h,j),z=1;else return;if(m.I!=0){if(j.o)if(z==1){T=j.u?j.u.length:0,j=Date.now()-j.F;var ee=m.D;z=Mi(),nt(z,new Jn(z,T)),ja(m)}else km(m);else if(ee=j.m,ee==3||ee==0&&j.X>0||!(z==1&&Pc(m,j)||z==2&&dl(m)))switch(T&&T.length>0&&(j=m.h,j.i=j.i.concat(T)),ee){case 1:Na(m,5);break;case 4:Na(m,10);break;case 3:Na(m,6);break;default:Na(m,2)}}}function Am(m,j){let T=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(T*=2),T*j}function Na(m,j){if(m.j.info("Error code "+j),j==2){var T=p(m.bb,m),z=m.Ua;const ee=!z;z=new Zn(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Bs(z,"https"),nl(z),ee?Gr(z.toString(),T):Uu(z.toString(),T)}else ns(2);m.I=0,m.l&&m.l.pa(j),Im(m),Rc(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),ns(2)):(this.j.info("Failed to ping google.com"),ns(1))};function Im(m){if(m.I=0,m.ja=[],m.l){const j=Ou(m.h);(j.length!=0||m.i.length!=0)&&(S(m.ja,j),S(m.ja,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.oa()}}function Rm(m,j,T){var z=T instanceof Zn?_s(T):new Zn(T);if(z.g!="")j&&(z.g=j+"."+z.g),zi(z,z.u);else{var ee=c.location;z=ee.protocol,j=j?j+"."+ee.hostname:ee.hostname,ee=+ee.port;const oe=new Zn(null);z&&Bs(oe,z),j&&(oe.g=j),ee&&zi(oe,ee),T&&(oe.h=T),z=oe}return T=m.G,j=m.wa,T&&j&&St(z,T,j),St(z,"VER",m.ka),cl(m,z),z}function Pm(m,j,T){if(j&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=m.Aa&&!m.ma?new Rt(new ba({ab:T})):new Rt(m.ma),j.Fa(m.L),j}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dm(){}n=Dm.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ki(){}Ki.prototype.g=function(m,j){return new bn(m,j)};function bn(m,j){$e.call(this),this.g=new Hi(j),this.l=m,this.h=j&&j.messageUrlParams||null,m=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(m?m["X-WebChannel-Content-Type"]=j.messageContentType:m={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(m?m["X-WebChannel-Client-Profile"]=j.sa:m={"X-WebChannel-Client-Profile":j.sa}),this.g.U=m,(m=j&&j.Qb)&&!R(m)&&(this.g.u=m),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!R(j)&&(this.g.G=j,m=this.h,m!==null&&j in m&&(m=this.h,j in m&&delete m[j])),this.j=new Ya(this)}b(bn,$e),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){$u(this.g)},bn.prototype.o=function(m){var j=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.v&&(T={},T.__data__=At(m),m=T);j.i.push(new Ns(j.Ya++,m)),j.I==3&&ja(j)},bn.prototype.N=function(){this.g.l=null,delete this.j,$u(this.g),delete this.g,bn.Z.N.call(this)};function Om(m){Ds.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var j=m.__sm__;if(j){e:{for(const T in j){m=T;break e}m=void 0}(this.i=m)&&(m=this.i,j=j!==null&&m in j?j[m]:void 0),this.data=j}else this.data=m}b(Om,Ds);function Mm(){un.call(this),this.status=1}b(Mm,un);function Ya(m){this.g=m}b(Ya,Dm),Ya.prototype.ra=function(){nt(this.g,"a")},Ya.prototype.qa=function(m){nt(this.g,new Om(m))},Ya.prototype.pa=function(m){nt(this.g,new Mm)},Ya.prototype.oa=function(){nt(this.g,"b")},Ki.prototype.createWebChannel=Ki.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,aC=function(){return new Ki},rC=function(){return Mi()},nC=It,cv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hn.NO_ERROR=0,hn.TIMEOUT=8,hn.HTTP_ERROR=6,cg=hn,Li.COMPLETE="complete",sC=Li,da.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",$e.prototype.listen=$e.prototype.J,Yh=da,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,tC=Rt}).apply(typeof Kp<"u"?Kp:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qs.UNAUTHENTICATED=new qs(null),qs.GOOGLE_CREDENTIALS=new qs("google-credentials-uid"),qs.FIRST_PARTY=new qs("first-party-uid"),qs.MOCK_USER=new qs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu="12.8.0";function PF(n){Nu=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Wf("@firebase/firestore");function jd(){return Bo.logLevel}function DF(n){Bo.setLogLevel(n)}function Ne(n,...e){if(Bo.logLevel<=ct.DEBUG){const s=e.map(Uw);Bo.debug(`Firestore (${Nu}): ${n}`,...s)}}function ys(n,...e){if(Bo.logLevel<=ct.ERROR){const s=e.map(Uw);Bo.error(`Firestore (${Nu}): ${n}`,...s)}}function qa(n,...e){if(Bo.logLevel<=ct.WARN){const s=e.map(Uw);Bo.warn(`Firestore (${Nu}): ${n}`,...s)}}function Uw(n){if(typeof n=="string")return n;try{return(function(s){return JSON.stringify(s)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,iC(n,r,s)}function iC(n,e,s){let r=`FIRESTORE (${Nu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw ys(r),new Error(r)}function Le(n,e,s,r){let i="Unexpected state";typeof s=="string"?i=s:r=s,n||iC(e,i,r)}function OF(n,e){n||Ie(57014,e)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends rn{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(qs.UNAUTHENTICATED)))}shutdown(){}}class LF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class VF{constructor(e){this.t=e,this.currentUser=qs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Le(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,s(f)):Promise.resolve();let l=new an;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new an,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},h=f=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new an)}}),0),c()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new oC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new qs(e)}}class zF{constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=qs.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class UF{constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new zF(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(qs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class YS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BF{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){Le(this.o===void 0,3512);const r=l=>{l.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ne("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?s(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const i=l=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>i(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?i(l):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new YS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(Le(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new YS(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<n;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=FF(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<s&&(r+=e.charAt(i[l]%62))}return r}}function We(n,e){return n<e?-1:n>e?1:0}function dv(n,e){const s=Math.min(n.length,e.length);for(let r=0;r<s;r++){const i=n.charAt(r),l=e.charAt(r);if(i!==l)return vb(i)===vb(l)?We(i,l):vb(i)?1:-1}return We(n.length,e.length)}const $F=55296,qF=57343;function vb(n){const e=n.charCodeAt(0);return e>=$F&&e<=qF}function Kd(n,e,s){return n.length===e.length&&n.every(((r,i)=>s(r,e[i])))}function lC(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="__name__";class Ca{constructor(e,s,r){s===void 0?s=0:s>e.length&&Ie(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&Ie(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return Ca.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Ca?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let i=0;i<r;i++){const l=Ca.compareSegments(e.get(i),s.get(i));if(l!==0)return l}return We(e.length,s.length)}static compareSegments(e,s){const r=Ca.isNumericId(e),i=Ca.isNumericId(s);return r&&!i?-1:!r&&i?1:r&&i?Ca.extractNumericId(e).compare(Ca.extractNumericId(s)):dv(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ro.fromString(e.substring(4,e.length-2))}}class dt extends Ca{construct(e,s,r){return new dt(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((i=>i.length>0)))}return new dt(s)}static emptyPath(){return new dt([])}}const HF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ca{construct(e,s,r){return new Xt(e,s,r)}static isValidIdentifier(e){return HF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QS}static keyField(){return new Xt([QS])}static fromServerFormat(e){const s=[];let r="",i=0;const l=()=>{if(r.length===0)throw new we(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new we(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new we(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(c=!c,i++):h!=="."||c?(r+=h,i++):(l(),i++)}if(l(),c)throw new we(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(s)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(dt.fromString(e))}static fromName(e){return new Ee(dt.fromString(e).popFirst(5))}static empty(){return new Ee(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return dt.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(n,e,s){if(!s)throw new we(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cC(n,e,s,r){if(e===!0&&r===!0)throw new we(ie.INVALID_ARGUMENT,`${n} and ${s} cannot be used together.`)}function JS(n){if(!Ee.isDocumentKey(n))throw new we(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function XS(n){if(Ee.isDocumentKey(n))throw new we(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function xx(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function vt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=xx(n);throw new we(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return n}function uC(n,e){if(e<=0)throw new we(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(n,e){const s={typeString:n};return e&&(s.value=e),s}function sm(n,e){if(!dC(n))throw new we(ie.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const i=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){s=`JSON missing required field: '${r}'`;break}const c=n[r];if(i&&typeof c!==i){s=`JSON field '${r}' must be a ${i}.`;break}if(l!==void 0&&c!==l.value){s=`Expected '${r}' field to equal '${l.value}'`;break}}if(s)throw new we(ie.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=-62135596800,eT=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*eT);return new Nt(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<ZS)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eT}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(sm(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ZS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:Is("string",Nt._jsonSchemaVersion),seconds:Is("number"),nanoseconds:Is("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Nt(0,0))}static max(){return new Fe(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=-1;class Pg{constructor(e,s,r,i){this.indexId=e,this.collectionGroup=s,this.fields=r,this.indexState=i}}function uv(n){return n.fields.find((e=>e.kind===2))}function Cl(n){return n.fields.filter((e=>e.kind!==2))}Pg.UNKNOWN_ID=-1;class dg{constructor(e,s){this.fieldPath=e,this.kind=s}}class kf{constructor(e,s){this.sequenceNumber=e,this.offset=s}static empty(){return new kf(0,fr.min())}}function hC(n,e){const s=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new Nt(s+1,0):new Nt(s,r));return new fr(i,Ee.empty(),e)}function fC(n){return new fr(n.readTime,n.key,Wd)}class fr{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new fr(Fe.min(),Ee.empty(),Wd)}static max(){return new fr(Fe.max(),Ee.empty(),Wd)}}function $w(n,e){let s=n.readTime.compareTo(e.readTime);return s!==0?s:(s=Ee.comparator(n.documentKey,e.documentKey),s!==0?s:We(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==mC)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new Z(((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(s,l).next(r,i)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof Z?s:Z.resolve(s)}catch(s){return Z.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):Z.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):Z.reject(s)}static resolve(e){return new Z(((s,r)=>{s(e)}))}static reject(e){return new Z(((s,r)=>{r(e)}))}static waitFor(e){return new Z(((s,r)=>{let i=0,l=0,c=!1;e.forEach((h=>{++i,h.next((()=>{++l,c&&l===i&&s()}),(f=>r(f)))})),c=!0,l===i&&s()}))}static or(e){let s=Z.resolve(!1);for(const r of e)s=s.next((i=>i?Z.resolve(i):r()));return s}static forEach(e,s){const r=[];return e.forEach(((i,l)=>{r.push(s.call(this,i,l))})),this.waitFor(r)}static mapArray(e,s){return new Z(((r,i)=>{const l=e.length,c=new Array(l);let h=0;for(let f=0;f<l;f++){const p=f;s(e[p]).next((x=>{c[p]=x,++h,h===l&&r(c)}),(x=>i(x)))}}))}static doWhile(e,s){return new Z(((r,i)=>{const l=()=>{e()===!0?s().next((()=>{l()}),i):r()};l()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="SimpleDb";class yx{static open(e,s,r,i){try{return new yx(s,e.transaction(i,r))}catch(l){throw new lf(s,l)}}constructor(e,s){this.action=e,this.transaction=s,this.aborted=!1,this.S=new an,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{s.error?this.S.reject(new lf(e,s.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=qw(r.target.error);this.S.reject(new lf(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Ne(or,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const s=this.transaction.objectStore(e);return new KF(s)}}class Ua{static delete(e){return Ne(or,"Removing database:",e),Il(dw().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!ec())return!1;if(Ua.F())return!0;const e=rs(),s=Ua.M(e),r=0<s&&s<10,i=gC(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,s){return e.store(s)}static M(e){const s=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,s,r){this.name=e,this.version=s,this.N=r,this.B=null,Ua.M(rs())===12.2&&ys("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Ne(or,"Opening database:",this.name),this.db=await new Promise(((s,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=l=>{const c=l.target.result;s(c)},i.onblocked=()=>{r(new lf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=l=>{const c=l.target.error;c.name==="VersionError"?r(new we(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new we(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new lf(e,c))},i.onupgradeneeded=l=>{Ne(or,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,i.transaction,l.oldVersion,this.version).next((()=>{Ne(or,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=s=>this.K(s)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=s=>e(s))}async runTransaction(e,s,r,i){const l=s==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const h=yx.open(this.db,e,l?"readonly":"readwrite",r),f=i(h).next((p=>(h.C(),p))).catch((p=>(h.abort(p),Z.reject(p)))).toPromise();return f.catch((()=>{})),await h.D,f}catch(h){const f=h,p=f.name!=="FirebaseError"&&c<3;if(Ne(or,"Transaction failed with error:",f.message,"Retrying:",p),this.close(),!p)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function gC(n){const e=n.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}class GF{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return Il(this.U.delete())}}class lf extends we{constructor(e,s){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function Xo(n){return n.name==="IndexedDbTransactionError"}class KF{constructor(e){this.store=e}put(e,s){let r;return s!==void 0?(Ne(or,"PUT",this.store.name,e,s),r=this.store.put(s,e)):(Ne(or,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Il(r)}add(e){return Ne(or,"ADD",this.store.name,e,e),Il(this.store.add(e))}get(e){return Il(this.store.get(e)).next((s=>(s===void 0&&(s=null),Ne(or,"GET",this.store.name,e,s),s)))}delete(e){return Ne(or,"DELETE",this.store.name,e),Il(this.store.delete(e))}count(){return Ne(or,"COUNT",this.store.name),Il(this.store.count())}H(e,s){const r=this.options(e,s),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const l=i.getAll(r.range);return new Z(((c,h)=>{l.onerror=f=>{h(f.target.error)},l.onsuccess=f=>{c(f.target.result)}}))}{const l=this.cursor(r),c=[];return this.J(l,((h,f)=>{c.push(f)})).next((()=>c))}}Z(e,s){const r=this.store.getAll(e,s===null?void 0:s);return new Z(((i,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{i(c.target.result)}}))}X(e,s){Ne(or,"DELETE ALL",this.store.name);const r=this.options(e,s);r.Y=!1;const i=this.cursor(r);return this.J(i,((l,c,h)=>h.delete()))}ee(e,s){let r;s?r=e:(r={},s=e);const i=this.cursor(r);return this.J(i,s)}te(e){const s=this.cursor({});return new Z(((r,i)=>{s.onerror=l=>{const c=qw(l.target.error);i(c)},s.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next((h=>{h?c.continue():r()})):r()}}))}J(e,s){const r=[];return new Z(((i,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void i();const f=new GF(h),p=s(h.primaryKey,h.value,f);if(p instanceof Z){const x=p.catch((b=>(f.done(),Z.reject(b))));r.push(x)}f.isDone?i():f.G===null?h.continue():h.continue(f.G)}})).next((()=>Z.waitFor(r)))}options(e,s){let r;return e!==void 0&&(typeof e=="string"?r=e:s=e),{index:r,range:s}}cursor(e){let s="next";if(e.reverse&&(s="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,s):r.openCursor(e.range,s)}return this.store.openCursor(e.range,s)}}function Il(n){return new Z(((e,s)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=qw(r.target.error);s(i)}}))}let tT=!1;function qw(n){const e=Ua.M(rs());if(e>=12.2&&e<13){const s="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(s)>=0){const r=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tT||(tT=!0,setTimeout((()=>{throw r}),0)),r}}return n}const cf="IndexBackfiller";class WF{constructor(e,s){this.asyncQueue=e,this.ne=s,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Ne(cf,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const s=await this.ne.ie();Ne(cf,`Documents written: ${s}`)}catch(s){Xo(s)?Ne(cf,"Ignoring IndexedDB error during index backfill: ",s):await Jo(s)}await this.re(6e4)}))}}class YF{constructor(e,s){this.localStore=e,this.persistence=s}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(s=>this.se(s,e)))}se(e,s){const r=new Set;let i=s,l=!0;return Z.doWhile((()=>l===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return Ne(cf,`Processing collection: ${c}`),this.oe(e,c,i).next((h=>{i-=h,r.add(c)}));l=!1})))).next((()=>s-i))}oe(e,s,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,s).next((i=>this.localStore.localDocuments.getNextDocuments(e,s,i,r).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(i,l))).next((h=>(Ne(cf,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,s,h)))).next((()=>c.size))}))))}_e(e,s){let r=e;return s.changes.forEach(((i,l)=>{const c=fC(l);$w(c,r)>0&&(r=c)})),new fr(r.readTime,r.documentKey,Math.max(s.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=-1;function nm(n){return n==null}function Ef(n){return n===0&&1/n==-1/0}function xC(n){return typeof n=="number"&&Number.isInteger(n)&&!Ef(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="";function xn(n){let e="";for(let s=0;s<n.length;s++)e.length>0&&(e=sT(e)),e=QF(n.get(s),e);return sT(e)}function QF(n,e){let s=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":s+="";break;case Dg:s+="";break;default:s+=l}}return s}function sT(n){return n+Dg+""}function La(n){const e=n.length;if(Le(e>=2,64408,{path:n}),e===2)return Le(n.charAt(0)===Dg&&n.charAt(1)==="",56145,{path:n}),dt.emptyPath();const s=e-2,r=[];let i="";for(let l=0;l<e;){const c=n.indexOf(Dg,l);switch((c<0||c>s)&&Ie(50515,{path:n}),n.charAt(c+1)){case"":const h=n.substring(l,c);let f;i.length===0?f=h:(i+=h,f=i,i=""),r.push(f);break;case"":i+=n.substring(l,c),i+="\0";break;case"":i+=n.substring(l,c+1);break;default:Ie(61167,{path:n})}l=c+2}return new dt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al="remoteDocuments",rm="owner",gd="owner",Cf="mutationQueues",JF="userId",ta="mutations",nT="batchId",Vl="userMutationsIndex",rT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(n,e){return[n,xn(e)]}function yC(n,e,s){return[n,xn(e),s]}const XF={},Yd="documentMutations",Og="remoteDocumentsV14",ZF=["prefixPath","collectionGroup","readTime","documentId"],hg="documentKeyIndex",e7=["prefixPath","collectionGroup","documentId"],bC="collectionGroupIndex",t7=["collectionGroup","readTime","prefixPath","documentId"],Af="remoteDocumentGlobal",hv="remoteDocumentGlobalKey",Qd="targets",vC="queryTargetsIndex",s7=["canonicalId","targetId"],Jd="targetDocuments",n7=["targetId","path"],Hw="documentTargetsIndex",r7=["path","targetId"],Mg="targetGlobalKey",Kl="targetGlobal",If="collectionParents",a7=["collectionId","parent"],Xd="clientMetadata",i7="clientId",bx="bundles",o7="bundleId",vx="namedQueries",l7="name",Gw="indexConfiguration",c7="indexId",fv="collectionGroupIndex",d7="collectionGroup",df="indexState",u7=["indexId","uid"],wC="sequenceNumberIndex",h7=["uid","sequenceNumber"],uf="indexEntries",f7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jC="documentKeyIndex",m7=["indexId","uid","orderedDocumentKey"],wx="documentOverlays",p7=["userId","collectionPath","documentId"],mv="collectionPathOverlayIndex",g7=["userId","collectionPath","largestBatchId"],NC="collectionGroupOverlayIndex",x7=["userId","collectionGroup","largestBatchId"],Kw="globals",y7="name",_C=[Cf,ta,Yd,Al,Qd,rm,Kl,Jd,Xd,Af,If,bx,vx],b7=[..._C,wx],SC=[Cf,ta,Yd,Og,Qd,rm,Kl,Jd,Xd,Af,If,bx,vx,wx],TC=SC,Ww=[...TC,Gw,df,uf],v7=Ww,kC=[...Ww,Kw],w7=kC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends pC{constructor(e,s){super(),this.le=e,this.currentSequenceNumber=s}}function zs(n,e){const s=Ce(n);return Ua.O(s.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(n){let e=0;for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&e++;return e}function Zo(n,e){for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&e(s,n[s])}function EC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,s){this.comparator=e,this.root=s||en.EMPTY}insert(e,s){return new Ft(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return s+r.left.size;i<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wp(this.root,e,this.comparator,!0)}}class Wp{constructor(e,s,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=s?r(e.key,s):1,s&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,s,r,i,l){this.key=e,this.value=s,this.color=r??en.RED,this.left=i??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,i,l){return new en(e??this.key,s??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,s,r),null):l===0?i.copy(null,s,null,null,null):i.copy(null,null,null,null,i.right.insert(e,s,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,i=this;if(s(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,s),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),s(e,i.key)===0){if(i.right.isEmpty())return en.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,s))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,s,r,i,l){return this}insert(e,s,r){return new en(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;s(i.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new iT(this.data.getIterator())}getIteratorFrom(e){return new iT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const i=s.getNext().key,l=r.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new Ct(this.comparator);return s.data=e,s}}class iT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xd(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Un([])}unionWith(e){let s=new Ct(Xt.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new Un(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Kd(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new CC("Invalid base64 string: "+l):l}})(e);return new hs(s)}static fromUint8Array(e){const s=(function(i){let l="";for(let c=0;c<i.length;++c)l+=String.fromCharCode(i[c]);return l})(e);return new hs(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let i=0;i<s.length;i++)r[i]=s.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hs.EMPTY_BYTE_STRING=new hs("");const N7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(n){if(Le(!!n,39018),typeof n=="string"){let e=0;const s=N7.exec(n);if(Le(!!s,46558,{timestamp:n}),s[1]){let i=s[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(n.seconds),nanos:Qt(n.nanos)}}function Qt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ei(n){return typeof n=="string"?hs.fromBase64String(n):hs.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="server_timestamp",IC="__type__",RC="__previous_value__",PC="__local_write_time__";function jx(n){var s,r;return((r=(((s=n==null?void 0:n.mapValue)==null?void 0:s.fields)||{})[IC])==null?void 0:r.stringValue)===AC}function Nx(n){const e=n.mapValue.fields[RC];return jx(e)?Nx(e):e}function Rf(n){const e=ki(n.mapValue.fields[PC].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,s,r,i,l,c,h,f,p,x,b){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=x,this.apiKey=b}}const gv="(default)";class Fo{constructor(e,s){this.projectId=e,this.database=s||gv}static empty(){return new Fo("","")}get isDefaultDatabase(){return this.database===gv}isEqual(e){return e instanceof Fo&&e.projectId===this.projectId&&e.database===this.database}}function S7(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new we(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fo(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="__type__",DC="__max__",ko={mapValue:{fields:{__type__:{stringValue:DC}}}},Qw="__vector__",Zd="value",fg={nullValue:"NULL_VALUE"};function $o(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jx(n)?4:OC(n)?9007199254740991:_x(n)?10:11:Ie(28295,{value:n})}function Ha(n,e){if(n===e)return!0;const s=$o(n);if(s!==$o(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rf(n).isEqual(Rf(e));case 3:return(function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const c=ki(i.timestampValue),h=ki(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,l){return Ei(i.bytesValue).isEqual(Ei(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,l){return Qt(i.geoPointValue.latitude)===Qt(l.geoPointValue.latitude)&&Qt(i.geoPointValue.longitude)===Qt(l.geoPointValue.longitude)})(n,e);case 2:return(function(i,l){if("integerValue"in i&&"integerValue"in l)return Qt(i.integerValue)===Qt(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const c=Qt(i.doubleValue),h=Qt(l.doubleValue);return c===h?Ef(c)===Ef(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return Kd(n.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:case 11:return(function(i,l){const c=i.mapValue.fields||{},h=l.mapValue.fields||{};if(aT(c)!==aT(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Ha(c[f],h[f])))return!1;return!0})(n,e);default:return Ie(52216,{left:n})}}function Pf(n,e){return(n.values||[]).find((s=>Ha(s,e)))!==void 0}function qo(n,e){if(n===e)return 0;const s=$o(n),r=$o(e);if(s!==r)return We(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Qt(l.integerValue||l.doubleValue),f=Qt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return oT(n.timestampValue,e.timestampValue);case 4:return oT(Rf(n),Rf(e));case 5:return dv(n.stringValue,e.stringValue);case 6:return(function(l,c){const h=Ei(l),f=Ei(c);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),f=c.split("/");for(let p=0;p<h.length&&p<f.length;p++){const x=We(h[p],f[p]);if(x!==0)return x}return We(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=We(Qt(l.latitude),Qt(c.latitude));return h!==0?h:We(Qt(l.longitude),Qt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return lT(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var v,E,S,A;const h=l.fields||{},f=c.fields||{},p=(v=h[Zd])==null?void 0:v.arrayValue,x=(E=f[Zd])==null?void 0:E.arrayValue,b=We(((S=p==null?void 0:p.values)==null?void 0:S.length)||0,((A=x==null?void 0:x.values)==null?void 0:A.length)||0);return b!==0?b:lT(p,x)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===ko.mapValue&&c===ko.mapValue)return 0;if(l===ko.mapValue)return 1;if(c===ko.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),p=c.fields||{},x=Object.keys(p);f.sort(),x.sort();for(let b=0;b<f.length&&b<x.length;++b){const v=dv(f[b],x[b]);if(v!==0)return v;const E=qo(h[f[b]],p[x[b]]);if(E!==0)return E}return We(f.length,x.length)})(n.mapValue,e.mapValue);default:throw Ie(23264,{he:s})}}function oT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return We(n,e);const s=ki(n),r=ki(e),i=We(s.seconds,r.seconds);return i!==0?i:We(s.nanos,r.nanos)}function lT(n,e){const s=n.values||[],r=e.values||[];for(let i=0;i<s.length&&i<r.length;++i){const l=qo(s[i],r[i]);if(l)return l}return We(s.length,r.length)}function eu(n){return xv(n)}function xv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(s){const r=ki(s);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(s){return Ei(s).toBase64()})(n.bytesValue):"referenceValue"in n?(function(s){return Ee.fromName(s).toString()})(n.referenceValue):"geoPointValue"in n?(function(s){return`geo(${s.latitude},${s.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(s){let r="[",i=!0;for(const l of s.values||[])i?i=!1:r+=",",r+=xv(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(s){const r=Object.keys(s.fields||{}).sort();let i="{",l=!0;for(const c of r)l?l=!1:i+=",",i+=`${c}:${xv(s.fields[c])}`;return i+"}"})(n.mapValue):Ie(61005,{value:n})}function mg(n){switch($o(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nx(n);return e?16+mg(e):16;case 5:return 2*n.stringValue.length;case 6:return Ei(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,l)=>i+mg(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Zo(r.fields,((l,c)=>{i+=l.length+mg(c)})),i})(n.mapValue);default:throw Ie(13486,{value:n})}}function rc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yv(n){return!!n&&"integerValue"in n}function Df(n){return!!n&&"arrayValue"in n}function cT(n){return!!n&&"nullValue"in n}function dT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pg(n){return!!n&&"mapValue"in n}function _x(n){var s,r;return((r=(((s=n==null?void 0:n.mapValue)==null?void 0:s.fields)||{})[Yw])==null?void 0:r.stringValue)===Qw}function hf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Zo(n.mapValue.fields,((s,r)=>e.mapValue.fields[s]=hf(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(n.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=hf(n.arrayValue.values[s]);return e}return{...n}}function OC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DC}const MC={mapValue:{fields:{[Yw]:{stringValue:Qw},[Zd]:{arrayValue:{}}}}};function T7(n){return"nullValue"in n?fg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?rc(Fo.empty(),Ee.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?_x(n)?MC:{mapValue:{}}:Ie(35942,{value:n})}function k7(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?rc(Fo.empty(),Ee.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?MC:"mapValue"in n?_x(n)?{mapValue:{}}:ko:Ie(61959,{value:n})}function uT(n,e){const s=qo(n.value,e.value);return s!==0?s:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hT(n,e){const s=qo(n.value,e.value);return s!==0?s:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!pg(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=hf(s)}setAll(e){let s=Xt.emptyPath(),r={},i=[];e.forEach(((c,h)=>{if(!s.isImmediateParentOf(h)){const f=this.getFieldsMap(s);this.applyChanges(f,r,i),r={},i=[],s=h.popLast()}c?r[h.lastSegment()]=hf(c):i.push(h.lastSegment())}));const l=this.getFieldsMap(s);this.applyChanges(l,r,i)}delete(e){const s=this.field(e.popLast());pg(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=s.mapValue.fields[e.get(r)];pg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=i),s=i}return s.mapValue.fields}applyChanges(e,s,r){Zo(s,((i,l)=>e[i]=l));for(const i of r)delete e[i]}clone(){return new tn(hf(this.value))}}function LC(n){const e=[];return Zo(n.fields,((s,r)=>{const i=new Xt([s]);if(pg(r)){const l=LC(r.mapValue).fields;if(l.length===0)e.push(i);else for(const c of l)e.push(i.child(c))}else e.push(i)})),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,s,r,i,l,c,h){this.key=e,this.documentType=s,this.version=r,this.readTime=i,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Ht(e,0,Fe.min(),Fe.min(),Fe.min(),tn.empty(),0)}static newFoundDocument(e,s,r,i){return new Ht(e,1,s,Fe.min(),r,i,0)}static newNoDocument(e,s){return new Ht(e,2,s,Fe.min(),Fe.min(),tn.empty(),0)}static newUnknownDocument(e,s){return new Ht(e,3,s,Fe.min(),Fe.min(),tn.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,s){this.position=e,this.inclusive=s}}function fT(n,e,s){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],c=n.position[i];if(l.field.isKeyField()?r=Ee.comparator(Ee.fromName(c.referenceValue),s.key):r=qo(c,s.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function mT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let s=0;s<n.position.length;s++)if(!Ha(n.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,s="asc"){this.field=e,this.dir=s}}function E7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{}class mt extends VC{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new C7(e,s,r):s==="array-contains"?new R7(e,r):s==="in"?new qC(e,r):s==="not-in"?new P7(e,r):s==="array-contains-any"?new D7(e,r):new mt(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new A7(e,r):new I7(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(qo(s,this.value)):s!==null&&$o(this.value)===$o(s)&&this.matchesComparison(qo(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Et extends VC{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new Et(e,s)}matches(e){return tu(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tu(n){return n.op==="and"}function bv(n){return n.op==="or"}function Jw(n){return zC(n)&&tu(n)}function zC(n){for(const e of n.filters)if(e instanceof Et)return!1;return!0}function vv(n){if(n instanceof mt)return n.field.canonicalString()+n.op.toString()+eu(n.value);if(Jw(n))return n.filters.map((e=>vv(e))).join(",");{const e=n.filters.map((s=>vv(s))).join(",");return`${n.op}(${e})`}}function UC(n,e){return n instanceof mt?(function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&Ha(r.value,i.value)})(n,e):n instanceof Et?(function(r,i){return i instanceof Et&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((l,c,h)=>l&&UC(c,i.filters[h])),!0):!1})(n,e):void Ie(19439)}function BC(n,e){const s=n.filters.concat(e);return Et.create(s,n.op)}function FC(n){return n instanceof mt?(function(s){return`${s.field.canonicalString()} ${s.op} ${eu(s.value)}`})(n):n instanceof Et?(function(s){return s.op.toString()+" {"+s.getFilters().map(FC).join(" ,")+"}"})(n):"Filter"}class C7 extends mt{constructor(e,s,r){super(e,s,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const s=Ee.comparator(e.key,this.key);return this.matchesComparison(s)}}class A7 extends mt{constructor(e,s){super(e,"in",s),this.keys=$C("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class I7 extends mt{constructor(e,s){super(e,"not-in",s),this.keys=$C("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function $C(n,e){var s;return(((s=e.arrayValue)==null?void 0:s.values)||[]).map((r=>Ee.fromName(r.referenceValue)))}class R7 extends mt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return Df(s)&&Pf(s.arrayValue,this.value)}}class qC extends mt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&Pf(this.value.arrayValue,s)}}class P7 extends mt{constructor(e,s){super(e,"not-in",s)}matches(e){if(Pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Pf(this.value.arrayValue,s)}}class D7 extends mt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!Df(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>Pf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,s=null,r=[],i=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function wv(n,e=null,s=[],r=[],i=null,l=null,c=null){return new O7(n,e,s,r,i,l,c)}function ac(n){const e=Ce(n);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>vv(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),nm(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>eu(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>eu(r))).join(",")),e.Te=s}return e.Te}function am(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!E7(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if(!UC(n.filters[s],e.filters[s]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mT(n.startAt,e.startAt)&&mT(n.endAt,e.endAt)}function Lg(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Vg(n,e){return n.filters.filter((s=>s instanceof mt&&s.field.isEqual(e)))}function pT(n,e,s){let r=fg,i=!0;for(const l of Vg(n,e)){let c=fg,h=!0;switch(l.op){case"<":case"<=":c=T7(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,h=!1;break;case"!=":case"not-in":c=fg}uT({value:r,inclusive:i},{value:c,inclusive:h})<0&&(r=c,i=h)}if(s!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=s.position[l];uT({value:r,inclusive:i},{value:c,inclusive:s.inclusive})<0&&(r=c,i=s.inclusive);break}}return{value:r,inclusive:i}}function gT(n,e,s){let r=ko,i=!0;for(const l of Vg(n,e)){let c=ko,h=!0;switch(l.op){case">=":case">":c=k7(l.value),h=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,h=!1;break;case"!=":case"not-in":c=ko}hT({value:r,inclusive:i},{value:c,inclusive:h})>0&&(r=c,i=h)}if(s!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=s.position[l];hT({value:r,inclusive:i},{value:c,inclusive:s.inclusive})>0&&(r=c,i=s.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,s=null,r=[],i=[],l=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function HC(n,e,s,r,i,l,c,h){return new Ri(n,e,s,r,i,l,c,h)}function _u(n){return new Ri(n)}function xT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function M7(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Xw(n){return n.collectionGroup!==null}function Od(n){const e=Ce(n);if(e.Ie===null){e.Ie=[];const s=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),s.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ct(Xt.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{s.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Of(l,r))})),s.has(Xt.keyField().canonicalString())||e.Ie.push(new Of(Xt.keyField(),r))}return e.Ie}function kn(n){const e=Ce(n);return e.Ee||(e.Ee=L7(e,Od(n))),e.Ee}function L7(n,e){if(n.limitType==="F")return wv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const l=i.dir==="desc"?"asc":"desc";return new Of(i.field,l)}));const s=n.endAt?new Ho(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ho(n.startAt.position,n.startAt.inclusive):null;return wv(n.path,n.collectionGroup,e,n.filters,n.limit,s,r)}}function jv(n,e){const s=n.filters.concat([e]);return new Ri(n.path,n.collectionGroup,n.explicitOrderBy.slice(),s,n.limit,n.limitType,n.startAt,n.endAt)}function V7(n,e){const s=n.explicitOrderBy.concat([e]);return new Ri(n.path,n.collectionGroup,s,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function zg(n,e,s){return new Ri(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,s,n.startAt,n.endAt)}function z7(n,e){return new Ri(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,e,n.endAt)}function U7(n,e){return new Ri(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,e)}function im(n,e){return am(kn(n),kn(e))&&n.limitType===e.limitType}function GC(n){return`${ac(kn(n))}|lt:${n.limitType}`}function Nd(n){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((i=>FC(i))).join(", ")}]`),nm(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((i=>eu(i))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((i=>eu(i))).join(",")),`Target(${r})`})(kn(n))}; limitType=${n.limitType})`}function om(n,e){return e.isFoundDocument()&&(function(r,i){const l=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ee.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,i){for(const l of Od(r))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const l of r.filters)if(!l.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(c,h,f){const p=fT(c,h,f);return c.inclusive?p<=0:p<0})(r.startAt,Od(r),i)||r.endAt&&!(function(c,h,f){const p=fT(c,h,f);return c.inclusive?p>=0:p>0})(r.endAt,Od(r),i))})(n,e)}function KC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WC(n){return(e,s)=>{let r=!1;for(const i of Od(n)){const l=B7(i,e,s);if(l!==0)return l;r=r||i.field.isKeyField()}return 0}}function B7(n,e,s){const r=n.field.isKeyField()?Ee.comparator(e.key,s.key):(function(l,c,h){const f=c.data.field(l),p=h.data.field(l);return f!==null&&p!==null?qo(f,p):Ie(42886)})(n.field,e,s);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[i,l]of r)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,s]);i.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[s]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,((s,r)=>{for(const[i,l]of r)e(i,l)}))}isEmpty(){return EC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=new Ft(Ee.comparator);function Bn(){return F7}const YC=new Ft(Ee.comparator);function Qh(...n){let e=YC;for(const s of n)e=e.insert(s.key,s);return e}function QC(n){let e=YC;return n.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function Va(){return ff()}function JC(){return ff()}function ff(){return new Pi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const $7=new Ft(Ee.comparator),q7=new Ct(Ee.comparator);function et(...n){let e=q7;for(const s of n)e=e.add(s);return e}const H7=new Ct(We);function Zw(){return H7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(e)?"-0":e}}function XC(n){return{integerValue:""+n}}function ZC(n,e){return xC(e)?XC(e):ej(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this._=void 0}}function G7(n,e,s){return n instanceof su?(function(i,l){const c={fields:{[IC]:{stringValue:AC},[PC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&jx(l)&&(l=Nx(l)),l&&(c.fields[RC]=l),{mapValue:c}})(s,e):n instanceof ic?tA(n,e):n instanceof oc?sA(n,e):(function(i,l){const c=eA(i,l),h=yT(c)+yT(i.Ae);return yv(c)&&yv(i.Ae)?XC(h):ej(i.serializer,h)})(n,e)}function K7(n,e,s){return n instanceof ic?tA(n,e):n instanceof oc?sA(n,e):s}function eA(n,e){return n instanceof nu?(function(r){return yv(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class su extends Sx{}class ic extends Sx{constructor(e){super(),this.elements=e}}function tA(n,e){const s=nA(e);for(const r of n.elements)s.some((i=>Ha(i,r)))||s.push(r);return{arrayValue:{values:s}}}class oc extends Sx{constructor(e){super(),this.elements=e}}function sA(n,e){let s=nA(e);for(const r of n.elements)s=s.filter((i=>!Ha(i,r)));return{arrayValue:{values:s}}}class nu extends Sx{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function yT(n){return Qt(n.integerValue||n.doubleValue)}function nA(n){return Df(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,s){this.field=e,this.transform=s}}function W7(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof ic&&i instanceof ic||r instanceof oc&&i instanceof oc?Kd(r.elements,i.elements,Ha):r instanceof nu&&i instanceof nu?Ha(r.Ae,i.Ae):r instanceof su&&i instanceof su})(n.transform,e.transform)}class Y7{constructor(e,s){this.version=e,this.transformResults=s}}class Zt{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new Zt}static exists(e){return new Zt(void 0,e)}static updateTime(e){return new Zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Tx{}function rA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Tu(n.key,Zt.none()):new Su(n.key,n.data,Zt.none());{const s=n.data,r=tn.empty();let i=new Ct(Xt.comparator);for(let l of e.fields)if(!i.has(l)){let c=s.field(l);c===null&&l.length>1&&(l=l.popLast(),c=s.field(l)),c===null?r.delete(l):r.set(l,c),i=i.add(l)}return new Di(n.key,r,new Un(i.toArray()),Zt.none())}}function Q7(n,e,s){n instanceof Su?(function(i,l,c){const h=i.value.clone(),f=vT(i.fieldTransforms,l,c.transformResults);h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,s):n instanceof Di?(function(i,l,c){if(!gg(i.precondition,l))return void l.convertToUnknownDocument(c.version);const h=vT(i.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(aA(i)),f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,s):(function(i,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,s)}function mf(n,e,s,r){return n instanceof Su?(function(l,c,h,f){if(!gg(l.precondition,c))return h;const p=l.value.clone(),x=wT(l.fieldTransforms,f,c);return p.setAll(x),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,e,s,r):n instanceof Di?(function(l,c,h,f){if(!gg(l.precondition,c))return h;const p=wT(l.fieldTransforms,f,c),x=c.data;return x.setAll(aA(l)),x.setAll(p),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(n,e,s,r):(function(l,c,h){return gg(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,s)}function J7(n,e){let s=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=eA(r.transform,i||null);l!=null&&(s===null&&(s=tn.empty()),s.set(r.field,l))}return s||null}function bT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Kd(r,i,((l,c)=>W7(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Su extends Tx{constructor(e,s,r,i=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Di extends Tx{constructor(e,s,r,i,l=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function aA(n){const e=new Map;return n.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=n.data.field(s);e.set(s,r)}})),e}function vT(n,e,s){const r=new Map;Le(n.length===s.length,32656,{Ve:s.length,de:n.length});for(let i=0;i<s.length;i++){const l=n[i],c=l.transform,h=e.data.field(l.field);r.set(l.field,K7(c,h,s[i]))}return r}function wT(n,e,s){const r=new Map;for(const i of n){const l=i.transform,c=s.data.field(i.field);r.set(i.field,G7(l,c,e))}return r}class Tu extends Tx{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tj extends Tx{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,s,r,i){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&Q7(l,e,r[i])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=mf(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=mf(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=JC();return this.mutations.forEach((i=>{const l=e.get(i.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=s.has(i.key)?null:h;const f=rA(c,h);f!==null&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),et())}isEqual(e){return this.batchId===e.batchId&&Kd(this.mutations,e.mutations,((s,r)=>bT(s,r)))&&Kd(this.baseMutations,e.baseMutations,((s,r)=>bT(s,r)))}}class nj{constructor(e,s,r,i){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=i}static from(e,s,r){Le(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return $7})();const l=e.mutations;for(let c=0;c<l.length;c++)i=i.insert(l[c].key,r[c].version);return new nj(e,s,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cs,gt;function iA(n){switch(n){case ie.OK:return Ie(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function oA(n){if(n===void 0)return ys("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Cs.OK:return ie.OK;case Cs.CANCELLED:return ie.CANCELLED;case Cs.UNKNOWN:return ie.UNKNOWN;case Cs.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Cs.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Cs.INTERNAL:return ie.INTERNAL;case Cs.UNAVAILABLE:return ie.UNAVAILABLE;case Cs.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Cs.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Cs.NOT_FOUND:return ie.NOT_FOUND;case Cs.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Cs.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Cs.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Cs.ABORTED:return ie.ABORTED;case Cs.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Cs.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Cs.DATA_LOSS:return ie.DATA_LOSS;default:return Ie(39323,{code:n})}}(gt=Cs||(Cs={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7=new Ro([4294967295,4294967295],0);function jT(n){const e=lA().encode(n),s=new eC;return s.update(e),new Uint8Array(s.digest())}function NT(n){const e=new DataView(n.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ro([s,r],0),new Ro([i,l],0)]}class aj{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new Jh(`Invalid padding: ${s}`);if(r<0)throw new Jh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jh(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new Jh(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=Ro.fromNumber(this.ge)}ye(e,s,r){let i=e.add(s.multiply(Ro.fromNumber(r)));return i.compare(Z7)===1&&(i=new Ro([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=jT(e),[r,i]=NT(s);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,i,l);if(!this.we(c))return!1}return!0}static create(e,s,r){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new aj(l,i,s);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const s=jT(e),[r,i]=NT(s);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,i,l);this.be(c)}}be(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class Jh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,s,r,i,l){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const i=new Map;return i.set(e,dm.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new cm(Fe.min(),i,new Ft(We),Bn(),et())}}class dm{constructor(e,s,r,i,l){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new dm(r,s,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,s,r,i){this.Se=e,this.removedTargetIds=s,this.key=r,this.De=i}}class cA{constructor(e,s){this.targetId=e,this.Ce=s}}class dA{constructor(e,s,r=hs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=i}}class _T{constructor(){this.ve=0,this.Fe=ST(),this.Me=hs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),s=et(),r=et();return this.Fe.forEach(((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:s=s.add(i);break;case 1:r=r.add(i);break;default:Ie(38017,{changeType:l})}})),new dm(this.Me,this.xe,e,s,r)}Ke(){this.Oe=!1,this.Fe=ST()}qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class e${constructor(e){this.Ge=e,this.ze=new Map,this.je=Bn(),this.He=Yp(),this.Je=Yp(),this.Ze=new Ft(We)}Xe(e){for(const s of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((r,i)=>{this.rt(i)&&s(i)}))}st(e){const s=e.targetId,r=e.Ce.count,i=this.ot(s);if(i){const l=i.target;if(Lg(l))if(r===0){const c=new Ee(l.path);this.et(s,c,Ht.newNoDocument(c,Fe.min()))}else Le(r===1,20013,{expectedCount:r});else{const c=this._t(s);if(c!==r){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(s);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(s,p)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:l=0}=s;let c,h;try{c=Ei(r).toUint8Array()}catch(f){if(f instanceof CC)return qa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new aj(c,i,l)}catch(f){return qa(f instanceof Jh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let i=0;return r.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(s,l,null),i++)})),i}Tt(e){const s=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&Lg(h.target)){const f=new Ee(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,Ht.newNoDocument(f,e))}l.Be&&(s.set(c,l.ke()),l.Ke())}}));let r=et();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const i=new cm(e,s,this.Ze,this.je,r);return this.je=Bn(),this.He=Yp(),this.Je=Yp(),this.Ze=new Ft(We),i}Ye(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).qe(s.key,r),this.je=this.je.insert(s.key,s),this.He=this.He.insert(s.key,this.It(s.key).add(e)),this.Je=this.Je.insert(s.key,this.Rt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,s)?i.qe(s,1):i.Ue(s),this.Je=this.Je.insert(s,this.Rt(s).delete(e)),this.Je=this.Je.insert(s,this.Rt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let s=this.ze.get(e);return s||(s=new _T,this.ze.set(e,s)),s}Rt(e){let s=this.Je.get(e);return s||(s=new Ct(We),this.Je=this.Je.insert(e,s)),s}It(e){let s=this.He.get(e);return s||(s=new Ct(We),this.He=this.He.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||Ne("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _T),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function Yp(){return new Ft(Ee.comparator)}function ST(){return new Ft(Ee.comparator)}const t$={asc:"ASCENDING",desc:"DESCENDING"},s$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n$={and:"AND",or:"OR"};class r${constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function Nv(n,e){return n.useProto3Json||nm(e)?e:{value:e}}function ru(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function a$(n,e){return ru(n,e.toTimestamp())}function bs(n){return Le(!!n,49232),Fe.fromTimestamp((function(s){const r=ki(s);return new Nt(r.seconds,r.nanos)})(n))}function ij(n,e){return _v(n,e).canonicalString()}function _v(n,e){const s=(function(i){return new dt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?s:s.child(e)}function hA(n){const e=dt.fromString(n);return Le(jA(e),10190,{key:e.toString()}),e}function Mf(n,e){return ij(n.databaseId,e.path)}function Ba(n,e){const s=hA(e);if(s.get(1)!==n.databaseId.projectId)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+n.databaseId.projectId);if(s.get(3)!==n.databaseId.database)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+n.databaseId.database);return new Ee(pA(s))}function fA(n,e){return ij(n.databaseId,e)}function mA(n){const e=hA(n);return e.length===4?dt.emptyPath():pA(e)}function Sv(n){return new dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pA(n){return Le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function TT(n,e,s){return{name:Mf(n,e),fields:s.value.mapValue.fields}}function gA(n,e,s){const r=Ba(n,e.name),i=bs(e.updateTime),l=e.createTime?bs(e.createTime):Fe.min(),c=new tn({mapValue:{fields:e.fields}}),h=Ht.newFoundDocument(r,i,l,c);return s&&h.setHasCommittedMutations(),s?h.setHasCommittedMutations():h}function i$(n,e){return"found"in e?(function(r,i){Le(!!i.found,43571),i.found.name,i.found.updateTime;const l=Ba(r,i.found.name),c=bs(i.found.updateTime),h=i.found.createTime?bs(i.found.createTime):Fe.min(),f=new tn({mapValue:{fields:i.found.fields}});return Ht.newFoundDocument(l,c,h,f)})(n,e):"missing"in e?(function(r,i){Le(!!i.missing,3894),Le(!!i.readTime,22933);const l=Ba(r,i.missing),c=bs(i.readTime);return Ht.newNoDocument(l,c)})(n,e):Ie(7234,{result:e})}function o$(n,e){let s;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=(function(p,x){return p.useProto3Json?(Le(x===void 0||typeof x=="string",58123),hs.fromBase64String(x||"")):(Le(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),hs.fromUint8Array(x||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(p){const x=p.code===void 0?ie.UNKNOWN:oA(p.code);return new we(x,p.message||"")})(c);s=new dA(r,i,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ba(n,r.document.name),l=bs(r.document.updateTime),c=r.document.createTime?bs(r.document.createTime):Fe.min(),h=new tn({mapValue:{fields:r.document.fields}}),f=Ht.newFoundDocument(i,l,c,h),p=r.targetIds||[],x=r.removedTargetIds||[];s=new xg(p,x,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ba(n,r.document),l=r.readTime?bs(r.readTime):Fe.min(),c=Ht.newNoDocument(i,l),h=r.removedTargetIds||[];s=new xg([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ba(n,r.document),l=r.removedTargetIds||[];s=new xg([],l,i,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:l}=r,c=new X7(i,l),h=r.targetId;s=new cA(h,c)}}return s}function Lf(n,e){let s;if(e instanceof Su)s={update:TT(n,e.key,e.value)};else if(e instanceof Tu)s={delete:Mf(n,e.key)};else if(e instanceof Di)s={update:TT(n,e.key,e.data),updateMask:f$(e.fieldMask)};else{if(!(e instanceof tj))return Ie(16599,{dt:e.type});s={verify:Mf(n,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const h=c.transform;if(h instanceof su)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ic)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof oc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof nu)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ie(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(i,l){return l.updateTime!==void 0?{updateTime:a$(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)})(n,e.precondition)),s}function Tv(n,e){const s=e.currentDocument?(function(l){return l.updateTime!==void 0?Zt.updateTime(bs(l.updateTime)):l.exists!==void 0?Zt.exists(l.exists):Zt.none()})(e.currentDocument):Zt.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(c,h){let f=null;if("setToServerValue"in h)Le(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new su;else if("appendMissingElements"in h){const x=h.appendMissingElements.values||[];f=new ic(x)}else if("removeAllFromArray"in h){const x=h.removeAllFromArray.values||[];f=new oc(x)}else"increment"in h?f=new nu(c,h.increment):Ie(16584,{proto:h});const p=Xt.fromServerFormat(h.fieldPath);return new lm(p,f)})(n,i))):[];if(e.update){e.update.name;const i=Ba(n,e.update.name),l=new tn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(f){const p=f.fieldPaths||[];return new Un(p.map((x=>Xt.fromServerFormat(x))))})(e.updateMask);return new Di(i,l,c,s,r)}return new Su(i,l,s,r)}if(e.delete){const i=Ba(n,e.delete);return new Tu(i,s)}if(e.verify){const i=Ba(n,e.verify);return new tj(i,s)}return Ie(1463,{proto:e})}function l$(n,e){return n&&n.length>0?(Le(e!==void 0,14353),n.map((s=>(function(i,l){let c=i.updateTime?bs(i.updateTime):bs(l);return c.isEqual(Fe.min())&&(c=bs(l)),new Y7(c,i.transformResults||[])})(s,e)))):[]}function xA(n,e){return{documents:[fA(n,e.path)]}}function yA(n,e){const s={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=fA(n,i);const l=(function(p){if(p.length!==0)return wA(Et.create(p,"and"))})(e.filters);l&&(s.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((x=>(function(v){return{field:_d(v.field),direction:d$(v.dir)}})(x)))})(e.orderBy);c&&(s.structuredQuery.orderBy=c);const h=Nv(n,e.limit);return h!==null&&(s.structuredQuery.limit=h),e.startAt&&(s.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:s,parent:i}}function bA(n){let e=mA(n.parent);const s=n.structuredQuery,r=s.from?s.from.length:0;let i=null;if(r>0){Le(r===1,65062);const x=s.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let l=[];s.where&&(l=(function(b){const v=vA(b);return v instanceof Et&&Jw(v)?v.getFilters():[v]})(s.where));let c=[];s.orderBy&&(c=(function(b){return b.map((v=>(function(S){return new Of(Sd(S.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(s.orderBy));let h=null;s.limit&&(h=(function(b){let v;return v=typeof b=="object"?b.value:b,nm(v)?null:v})(s.limit));let f=null;s.startAt&&(f=(function(b){const v=!!b.before,E=b.values||[];return new Ho(E,v)})(s.startAt));let p=null;return s.endAt&&(p=(function(b){const v=!b.before,E=b.values||[];return new Ho(E,v)})(s.endAt)),HC(e,i,c,l,h,"F",f,p)}function c$(n,e){const s=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:i})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function vA(n){return n.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=Sd(s.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Sd(s.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Sd(s.unaryFilter.field);return mt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Sd(s.unaryFilter.field);return mt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(n):n.fieldFilter!==void 0?(function(s){return mt.create(Sd(s.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(s){return Et.create(s.compositeFilter.filters.map((r=>vA(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(s.compositeFilter.op))})(n):Ie(30097,{filter:n})}function d$(n){return t$[n]}function u$(n){return s$[n]}function h$(n){return n$[n]}function _d(n){return{fieldPath:n.canonicalString()}}function Sd(n){return Xt.fromServerFormat(n.fieldPath)}function wA(n){return n instanceof mt?(function(s){if(s.op==="=="){if(dT(s.value))return{unaryFilter:{field:_d(s.field),op:"IS_NAN"}};if(cT(s.value))return{unaryFilter:{field:_d(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(dT(s.value))return{unaryFilter:{field:_d(s.field),op:"IS_NOT_NAN"}};if(cT(s.value))return{unaryFilter:{field:_d(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_d(s.field),op:u$(s.op),value:s.value}}})(n):n instanceof Et?(function(s){const r=s.getFilters().map((i=>wA(i)));return r.length===1?r[0]:{compositeFilter:{op:h$(s.op),filters:r}}})(n):Ie(54877,{filter:n})}function f$(n){const e=[];return n.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function jA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function NA(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,s,r,i,l=Fe.min(),c=Fe.min(),h=hs.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.yt=e}}function m$(n,e){let s;if(e.document)s=gA(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ee.fromSegments(e.noDocument.path),i=cc(e.noDocument.readTime);s=Ht.newNoDocument(r,i),e.hasCommittedMutations&&s.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ie(56709);{const r=Ee.fromSegments(e.unknownDocument.path),i=cc(e.unknownDocument.version);s=Ht.newUnknownDocument(r,i)}}return e.readTime&&s.setReadTime((function(i){const l=new Nt(i[0],i[1]);return Fe.fromTimestamp(l)})(e.readTime)),s}function kT(n,e){const s=e.key,r={prefixPath:s.getCollectionPath().popLast().toArray(),collectionGroup:s.collectionGroup,documentId:s.path.lastSegment(),readTime:Ug(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(l,c){return{name:Mf(l,c.key),fields:c.data.value.mapValue.fields,updateTime:ru(l,c.version.toTimestamp()),createTime:ru(l,c.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:s.path.toArray(),readTime:lc(e.version)};else{if(!e.isUnknownDocument())return Ie(57904,{document:e});r.unknownDocument={path:s.path.toArray(),version:lc(e.version)}}return r}function Ug(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function lc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cc(n){const e=new Nt(n.seconds,n.nanoseconds);return Fe.fromTimestamp(e)}function Rl(n,e){const s=(e.baseMutations||[]).map((l=>Tv(n.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const h=e.mutations[l+1];c.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const r=e.mutations.map((l=>Tv(n.yt,l))),i=Nt.fromMillis(e.localWriteTimeMs);return new sj(e.batchId,i,s,r)}function Xh(n){const e=cc(n.readTime),s=n.lastLimboFreeSnapshotVersion!==void 0?cc(n.lastLimboFreeSnapshotVersion):Fe.min();let r;return r=(function(l){return l.documents!==void 0})(n.query)?(function(l){const c=l.documents.length;return Le(c===1,1966,{count:c}),kn(_u(mA(l.documents[0])))})(n.query):(function(l){return kn(bA(l))})(n.query),new pi(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,s,hs.fromBase64String(n.resumeToken))}function SA(n,e){const s=lc(e.snapshotVersion),r=lc(e.lastLimboFreeSnapshotVersion);let i;i=Lg(e.target)?xA(n.yt,e.target):yA(n.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ac(e.target),readTime:s,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function oj(n){const e=bA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zg(e,e.limit,"L"):e}function wb(n,e){return new rj(e.largestBatchId,Tv(n.yt,e.overlayMutation))}function ET(n,e){const s=e.path.lastSegment();return[n,xn(e.path.popLast()),s]}function CT(n,e,s,r){return{indexId:n,uid:e,sequenceNumber:s,readTime:lc(r.readTime),documentKey:xn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${getBundleMetadata(e,s){return AT(e).get(s).next((r=>{if(r)return(function(l){return{id:l.bundleId,createTime:cc(l.createTime),version:l.version}})(r)}))}saveBundleMetadata(e,s){return AT(e).put((function(i){return{bundleId:i.id,createTime:lc(bs(i.createTime)),version:i.version}})(s))}getNamedQuery(e,s){return IT(e).get(s).next((r=>{if(r)return(function(l){return{name:l.name,query:oj(l.bundledQuery),readTime:cc(l.readTime)}})(r)}))}saveNamedQuery(e,s){return IT(e).put((function(i){return{name:i.name,readTime:lc(bs(i.readTime)),bundledQuery:i.bundledQuery}})(s))}}function AT(n){return zs(n,bx)}function IT(n){return zs(n,vx)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,s){this.serializer=e,this.userId=s}static wt(e,s){const r=s.uid||"";return new kx(e,r)}getOverlay(e,s){return zh(e).get(ET(this.userId,s)).next((r=>r?wb(this.serializer,r):null))}getOverlays(e,s){const r=Va();return Z.forEach(s,(i=>this.getOverlay(e,i).next((l=>{l!==null&&r.set(i,l)})))).next((()=>r))}saveOverlays(e,s,r){const i=[];return r.forEach(((l,c)=>{const h=new rj(s,c);i.push(this.bt(e,h))})),Z.waitFor(i)}removeOverlaysForBatchId(e,s,r){const i=new Set;s.forEach((c=>i.add(xn(c.getCollectionPath()))));const l=[];return i.forEach((c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(zh(e).X(mv,h))})),Z.waitFor(l)}getOverlaysForCollection(e,s,r){const i=Va(),l=xn(s),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return zh(e).H(mv,c).next((h=>{for(const f of h){const p=wb(this.serializer,f);i.set(p.getKey(),p)}return i}))}getOverlaysForCollectionGroup(e,s,r,i){const l=Va();let c;const h=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return zh(e).ee({index:NC,range:h},((f,p,x)=>{const b=wb(this.serializer,p);l.size()<i||b.largestBatchId===c?(l.set(b.getKey(),b),c=b.largestBatchId):x.done()})).next((()=>l))}bt(e,s){return zh(e).put((function(i,l,c){const[h,f,p]=ET(l,c.mutation.key);return{userId:l,collectionPath:f,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Lf(i.yt,c.mutation)}})(this.serializer,this.userId,s))}}function zh(n){return zs(n,wx)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${St(e){return zs(e,Kw)}getSessionToken(e){return this.St(e).get("sessionToken").next((s=>{const r=s==null?void 0:s.value;return r?hs.fromUint8Array(r):hs.EMPTY_BYTE_STRING}))}setSessionToken(e,s){return this.St(e).put({name:"sessionToken",value:s.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){}Dt(e,s){this.Ct(e,s),s.vt()}Ct(e,s){if("nullValue"in e)this.Ft(s,5);else if("booleanValue"in e)this.Ft(s,10),s.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(s,15),s.Mt(Qt(e.integerValue));else if("doubleValue"in e){const r=Qt(e.doubleValue);isNaN(r)?this.Ft(s,13):(this.Ft(s,15),Ef(r)?s.Mt(0):s.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(s,20),typeof r=="string"&&(r=ki(r)),s.xt(`${r.seconds||""}`),s.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,s),this.Nt(s);else if("bytesValue"in e)this.Ft(s,30),s.Bt(Ei(e.bytesValue)),this.Nt(s);else if("referenceValue"in e)this.Lt(e.referenceValue,s);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(s,45),s.Mt(r.latitude||0),s.Mt(r.longitude||0)}else"mapValue"in e?OC(e)?this.Ft(s,Number.MAX_SAFE_INTEGER):_x(e)?this.kt(e.mapValue,s):(this.Kt(e.mapValue,s),this.Nt(s)):"arrayValue"in e?(this.qt(e.arrayValue,s),this.Nt(s)):Ie(19022,{Ut:e})}Ot(e,s){this.Ft(s,25),this.$t(e,s)}$t(e,s){s.xt(e)}Kt(e,s){const r=e.fields||{};this.Ft(s,55);for(const i of Object.keys(r))this.Ot(i,s),this.Ct(r[i],s)}kt(e,s){var c,h;const r=e.fields||{};this.Ft(s,53);const i=Zd,l=((h=(c=r[i].arrayValue)==null?void 0:c.values)==null?void 0:h.length)||0;this.Ft(s,15),s.Mt(Qt(l)),this.Ot(i,s),this.Ct(r[i],s)}qt(e,s){const r=e.values||[];this.Ft(s,50);for(const i of r)this.Ct(i,s)}Lt(e,s){this.Ft(s,37),Ee.fromName(e).path.forEach((r=>{this.Ft(s,60),this.$t(r,s)}))}Ft(e,s){e.Mt(s)}Nt(e){e.Mt(2)}}Pl.Wt=new Pl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=255;function x$(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function RT(n){const e=64-(function(r){let i=0;for(let l=0;l<8;++l){const c=x$(255&r[l]);if(i+=c,c!==8)break}return i})(n);return Math.ceil(e/8)}class y${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const s=e[Symbol.iterator]();let r=s.next();for(;!r.done;)this.Gt(r.value),r=s.next();this.zt()}jt(e){const s=e[Symbol.iterator]();let r=s.next();for(;!r.done;)this.Ht(r.value),r=s.next();this.Jt()}Zt(e){for(const s of e){const r=s.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(s<"\uD800"||"\uDBFF"<s)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=s.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const s of e){const r=s.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(s<"\uD800"||"\uDBFF"<s)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=s.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const s=this.en(e),r=RT(s);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=s.length-r;i<s.length;++i)this.buffer[this.position++]=255&s[i]}nn(e){const s=this.en(e),r=RT(s);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=s.length-r;i<s.length;++i)this.buffer[this.position++]=~(255&s[i])}rn(){this.sn(yd),this.sn(255)}_n(){this.an(yd),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const s=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(e),r=!!(128&s[0]);s[0]^=r?255:128;for(let i=1;i<s.length;++i)s[i]^=r?255:0;return s}Gt(e){const s=255&e;s===0?(this.sn(0),this.sn(255)):s===yd?(this.sn(yd),this.sn(0)):this.sn(s)}Ht(e){const s=255&e;s===0?(this.an(0),this.an(255)):s===yd?(this.an(yd),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const s=e+this.position;if(s<=this.buffer.length)return;let r=2*this.buffer.length;r<s&&(r=s);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class b${constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class v${constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Uh{constructor(){this.cn=new y$,this.ascending=new b$(this.cn),this.descending=new v$(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,s,r,i){this.hn=e,this.Pn=s,this.Tn=r,this.In=i}En(){const e=this.In.length,s=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(s);return r.set(this.In,0),s!==e?r.set([0],this.In.length):++r[r.length-1],new Dl(this.hn,this.Pn,this.Tn,r)}Rn(e,s,r){return{indexId:this.hn,uid:e,arrayValue:yg(this.Tn),directionalValue:yg(this.In),orderedDocumentKey:yg(s),documentKey:r.path.toArray()}}An(e,s,r){const i=this.Rn(e,s,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function vo(n,e){let s=n.hn-e.hn;return s!==0?s:(s=PT(n.Tn,e.Tn),s!==0?s:(s=PT(n.In,e.In),s!==0?s:Ee.comparator(n.Pn,e.Pn)))}function PT(n,e){for(let s=0;s<n.length&&s<e.length;++s){const r=n[s]-e[s];if(r!==0)return r}return n.length-e.length}function yg(n){return U4()?(function(s){let r="";for(let i=0;i<s.length;i++)r+=String.fromCharCode(s[i]);return r})(n):n}function DT(n){return typeof n!="string"?n:(function(s){const r=new Uint8Array(s.length);for(let i=0;i<s.length;i++)r[i]=s.charCodeAt(i);return r})(n)}class OT{constructor(e){this.Vn=new Ct(((s,r)=>Xt.comparator(s.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const s of e.filters){const r=s;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(Le(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const s=uv(e);if(s!==void 0&&!this.pn(s))return!1;const r=Cl(e);let i=new Set,l=0,c=0;for(;l<r.length&&this.pn(r[l]);++l)i=i.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!i.has(h.field.canonicalString())){const f=r[l];if(!this.yn(h,f)||!this.wn(this.dn[c++],f))return!1}++l}for(;l<r.length;++l){const h=r[l];if(c>=this.dn.length||!this.wn(this.dn[c++],h))return!1}return!0}bn(){if(this.fn)return null;let e=new Ct(Xt.comparator);const s=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")s.push(new dg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),s.push(new dg(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),s.push(new dg(r.field,r.dir==="asc"?0:1)));return new Pg(Pg.UNKNOWN_ID,this.collectionId,s,kf.empty())}pn(e){for(const s of this.mn)if(this.yn(s,e))return!0;return!1}yn(e,s){if(e===void 0||!e.field.isEqual(s.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return s.kind===2===r}wn(e,s){return!!e.field.isEqual(s.fieldPath)&&(s.kind===0&&e.dir==="asc"||s.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(n){var s,r;if(Le(n instanceof mt||n instanceof Et,20012),n instanceof mt){if(n instanceof qC){const i=((r=(s=n.value.arrayValue)==null?void 0:s.values)==null?void 0:r.map((l=>mt.create(n.field,"==",l))))||[];return Et.create(i,"or")}return n}const e=n.filters.map((i=>TA(i)));return Et.create(e,n.op)}function w$(n){if(n.getFilters().length===0)return[];const e=Cv(TA(n));return Le(kA(e),7391),kv(e)||Ev(e)?[e]:e.getFilters()}function kv(n){return n instanceof mt}function Ev(n){return n instanceof Et&&Jw(n)}function kA(n){return kv(n)||Ev(n)||(function(s){if(s instanceof Et&&bv(s)){for(const r of s.getFilters())if(!kv(r)&&!Ev(r))return!1;return!0}return!1})(n)}function Cv(n){if(Le(n instanceof mt||n instanceof Et,34018),n instanceof mt)return n;if(n.filters.length===1)return Cv(n.filters[0]);const e=n.filters.map((r=>Cv(r)));let s=Et.create(e,n.op);return s=Bg(s),kA(s)?s:(Le(s instanceof Et,64498),Le(tu(s),40251),Le(s.filters.length>1,57927),s.filters.reduce(((r,i)=>lj(r,i))))}function lj(n,e){let s;return Le(n instanceof mt||n instanceof Et,38388),Le(e instanceof mt||e instanceof Et,25473),s=n instanceof mt?e instanceof mt?(function(i,l){return Et.create([i,l],"and")})(n,e):MT(n,e):e instanceof mt?MT(e,n):(function(i,l){if(Le(i.filters.length>0&&l.filters.length>0,48005),tu(i)&&tu(l))return BC(i,l.getFilters());const c=bv(i)?i:l,h=bv(i)?l:i,f=c.filters.map((p=>lj(p,h)));return Et.create(f,"or")})(n,e),Bg(s)}function MT(n,e){if(tu(e))return BC(e,n.getFilters());{const s=e.filters.map((r=>lj(n,r)));return Et.create(s,"or")}}function Bg(n){if(Le(n instanceof mt||n instanceof Et,11850),n instanceof mt)return n;const e=n.getFilters();if(e.length===1)return Bg(e[0]);if(zC(n))return n;const s=e.map((i=>Bg(i))),r=[];return s.forEach((i=>{i instanceof mt?r.push(i):i instanceof Et&&(i.op===n.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Et.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(){this.Sn=new cj}addToCollectionParentIndex(e,s){return this.Sn.add(s),Z.resolve()}getCollectionParents(e,s){return Z.resolve(this.Sn.getEntries(s))}addFieldIndex(e,s){return Z.resolve()}deleteFieldIndex(e,s){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,s){return Z.resolve()}getDocumentsMatchingTarget(e,s){return Z.resolve(null)}getIndexType(e,s){return Z.resolve(0)}getFieldIndexes(e,s){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,s){return Z.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,s){return Z.resolve(fr.min())}updateCollectionGroup(e,s,r){return Z.resolve()}updateIndexEntries(e,s){return Z.resolve()}}class cj{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s]||new Ct(dt.comparator),l=!i.has(r);return this.index[s]=i.add(r),l}has(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="IndexedDbIndexManager",Qp=new Uint8Array(0);class N${constructor(e,s){this.databaseId=s,this.Dn=new cj,this.Cn=new Pi((r=>ac(r)),((r,i)=>am(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,s){if(!this.Dn.has(s)){const r=s.lastSegment(),i=s.popLast();e.addOnCommittedListener((()=>{this.Dn.add(s)}));const l={collectionId:r,parent:xn(i)};return VT(e).put(l)}return Z.resolve()}getCollectionParents(e,s){const r=[],i=IDBKeyRange.bound([s,""],[lC(s),""],!1,!0);return VT(e).H(i).next((l=>{for(const c of l){if(c.collectionId!==s)break;r.push(La(c.parent))}return r}))}addFieldIndex(e,s){const r=Bh(e),i=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(s);delete i.indexId;const l=r.add(i);if(s.indexState){const c=vd(e);return l.next((h=>{c.put(CT(h,this.uid,s.indexState.sequenceNumber,s.indexState.offset))}))}return l.next()}deleteFieldIndex(e,s){const r=Bh(e),i=vd(e),l=bd(e);return r.delete(s.indexId).next((()=>i.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const s=Bh(e),r=bd(e),i=vd(e);return s.X().next((()=>r.X())).next((()=>i.X()))}createTargetIndexes(e,s){return Z.forEach(this.vn(s),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const l=new OT(r).bn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,s){const r=bd(e);let i=!0;const l=new Map;return Z.forEach(this.vn(s),(c=>this.Fn(e,c).next((h=>{i&&(i=!!h),l.set(c,h)})))).next((()=>{if(i){let c=et();const h=[];return Z.forEach(l,((f,p)=>{Ne(LT,`Using index ${(function(F){return`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map((B=>`${B.fieldPath}:${B.kind}`)).join(",")}`})(f)} to execute ${ac(s)}`);const x=(function(F,B){const $=uv(B);if($===void 0)return null;for(const Q of Vg(F,$.fieldPath))switch(Q.op){case"array-contains-any":return Q.value.arrayValue.values||[];case"array-contains":return[Q.value]}return null})(p,f),b=(function(F,B){const $=new Map;for(const Q of Cl(B))for(const _ of Vg(F,Q.fieldPath))switch(_.op){case"==":case"in":$.set(Q.fieldPath.canonicalString(),_.value);break;case"not-in":case"!=":return $.set(Q.fieldPath.canonicalString(),_.value),Array.from($.values())}return null})(p,f),v=(function(F,B){const $=[];let Q=!0;for(const _ of Cl(B)){const k=_.kind===0?pT(F,_.fieldPath,F.startAt):gT(F,_.fieldPath,F.startAt);$.push(k.value),Q&&(Q=k.inclusive)}return new Ho($,Q)})(p,f),E=(function(F,B){const $=[];let Q=!0;for(const _ of Cl(B)){const k=_.kind===0?gT(F,_.fieldPath,F.endAt):pT(F,_.fieldPath,F.endAt);$.push(k.value),Q&&(Q=k.inclusive)}return new Ho($,Q)})(p,f),S=this.Mn(f,p,v),A=this.Mn(f,p,E),C=this.xn(f,p,b),P=this.On(f.indexId,x,S,v.inclusive,A,E.inclusive,C);return Z.forEach(P,(D=>r.Z(D,s.limit).next((F=>{F.forEach((B=>{const $=Ee.fromSegments(B.documentKey);c.has($)||(c=c.add($),h.push($))}))}))))})).next((()=>h))}return Z.resolve(null)}))}vn(e){let s=this.Cn.get(e);return s||(e.filters.length===0?s=[e]:s=w$(Et.create(e.filters,"and")).map((r=>wv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,s),s)}On(e,s,r,i,l,c,h){const f=(s!=null?s.length:1)*Math.max(r.length,l.length),p=f/(s!=null?s.length:1),x=[];for(let b=0;b<f;++b){const v=s?this.Nn(s[b/p]):Qp,E=this.Bn(e,v,r[b%p],i),S=this.Ln(e,v,l[b%p],c),A=h.map((C=>this.Bn(e,v,C,!0)));x.push(...this.createRange(E,S,A))}return x}Bn(e,s,r,i){const l=new Dl(e,Ee.empty(),s,r);return i?l:l.En()}Ln(e,s,r,i){const l=new Dl(e,Ee.empty(),s,r);return i?l.En():l}Fn(e,s){const r=new OT(s),i=s.collectionGroup!=null?s.collectionGroup:s.path.lastSegment();return this.getFieldIndexes(e,i).next((l=>{let c=null;for(const h of l)r.gn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c}))}getIndexType(e,s){let r=2;const i=this.vn(s);return Z.forEach(i,(l=>this.Fn(e,l).next((c=>{c?r!==0&&c.fields.length<(function(f){let p=new Ct(Xt.comparator),x=!1;for(const b of f.filters)for(const v of b.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?x=!0:p=p.add(v.field));for(const b of f.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(x?1:0)})(l)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(s)&&i.length>1&&r===2?1:r))}kn(e,s){const r=new Uh;for(const i of Cl(e)){const l=s.data.field(i.fieldPath);if(l==null)return null;const c=r.ln(i.kind);Pl.Wt.Dt(l,c)}return r.un()}Nn(e){const s=new Uh;return Pl.Wt.Dt(e,s.ln(0)),s.un()}Kn(e,s){const r=new Uh;return Pl.Wt.Dt(rc(this.databaseId,s),r.ln((function(l){const c=Cl(l);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}xn(e,s,r){if(r===null)return[];let i=[];i.push(new Uh);let l=0;for(const c of Cl(e)){const h=r[l++];for(const f of i)if(this.qn(s,c.fieldPath)&&Df(h))i=this.Un(i,c,h);else{const p=f.ln(c.kind);Pl.Wt.Dt(h,p)}}return this.$n(i)}Mn(e,s,r){return this.xn(e,s,r.position)}$n(e){const s=[];for(let r=0;r<e.length;++r)s[r]=e[r].un();return s}Un(e,s,r){const i=[...e],l=[];for(const c of r.arrayValue.values||[])for(const h of i){const f=new Uh;f.seed(h.un()),Pl.Wt.Dt(c,f.ln(s.kind)),l.push(f)}return l}qn(e,s){return!!e.filters.find((r=>r instanceof mt&&r.field.isEqual(s)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,s){const r=Bh(e),i=vd(e);return(s?r.H(fv,IDBKeyRange.bound(s,s)):r.H()).next((l=>{const c=[];return Z.forEach(l,(h=>i.get([h.indexId,this.uid]).next((f=>{c.push((function(x,b){const v=b?new kf(b.sequenceNumber,new fr(cc(b.readTime),new Ee(La(b.documentKey)),b.largestBatchId)):kf.empty(),E=x.fields.map((([S,A])=>new dg(Xt.fromServerFormat(S),A)));return new Pg(x.indexId,x.collectionGroup,E,v)})(h,f))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((s=>s.length===0?null:(s.sort(((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return l!==0?l:We(r.collectionGroup,i.collectionGroup)})),s[0].collectionGroup)))}updateCollectionGroup(e,s,r){const i=Bh(e),l=vd(e);return this.Wn(e).next((c=>i.H(fv,IDBKeyRange.bound(s,s)).next((h=>Z.forEach(h,(f=>l.put(CT(f.indexId,this.uid,c,r))))))))}updateIndexEntries(e,s){const r=new Map;return Z.forEach(s,((i,l)=>{const c=r.get(i.collectionGroup);return(c?Z.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next((h=>(r.set(i.collectionGroup,h),Z.forEach(h,(f=>this.Qn(e,i,f).next((p=>{const x=this.Gn(l,f);return p.isEqual(x)?Z.resolve():this.zn(e,l,f,p,x)})))))))}))}jn(e,s,r,i){return bd(e).put(i.Rn(this.uid,this.Kn(r,s.key),s.key))}Hn(e,s,r,i){return bd(e).delete(i.An(this.uid,this.Kn(r,s.key),s.key))}Qn(e,s,r){const i=bd(e);let l=new Ct(vo);return i.ee({index:jC,range:IDBKeyRange.only([r.indexId,this.uid,yg(this.Kn(r,s))])},((c,h)=>{l=l.add(new Dl(r.indexId,s,DT(h.arrayValue),DT(h.directionalValue)))})).next((()=>l))}Gn(e,s){let r=new Ct(vo);const i=this.kn(s,e);if(i==null)return r;const l=uv(s);if(l!=null){const c=e.data.field(l.fieldPath);if(Df(c))for(const h of c.arrayValue.values||[])r=r.add(new Dl(s.indexId,e.key,this.Nn(h),i))}else r=r.add(new Dl(s.indexId,e.key,Qp,i));return r}zn(e,s,r,i,l){Ne(LT,"Updating index entries for document '%s'",s.key);const c=[];return(function(f,p,x,b,v){const E=f.getIterator(),S=p.getIterator();let A=xd(E),C=xd(S);for(;A||C;){let P=!1,D=!1;if(A&&C){const F=x(A,C);F<0?D=!0:F>0&&(P=!0)}else A!=null?D=!0:P=!0;P?(b(C),C=xd(S)):D?(v(A),A=xd(E)):(A=xd(E),C=xd(S))}})(i,l,vo,(h=>{c.push(this.jn(e,s,r,h))}),(h=>{c.push(this.Hn(e,s,r,h))})),Z.waitFor(c)}Wn(e){let s=1;return vd(e).ee({index:wC,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,l)=>{l.done(),s=i.sequenceNumber+1})).next((()=>s))}createRange(e,s,r){r=r.sort(((c,h)=>vo(c,h))).filter(((c,h,f)=>!h||vo(c,f[h-1])!==0));const i=[];i.push(e);for(const c of r){const h=vo(c,e),f=vo(c,s);if(h===0)i[0]=e.En();else if(h>0&&f<0)i.push(c),i.push(c.En());else if(f>0)break}i.push(s);const l=[];for(let c=0;c<i.length;c+=2){if(this.Jn(i[c],i[c+1]))return[];const h=i[c].An(this.uid,Qp,Ee.empty()),f=i[c+1].An(this.uid,Qp,Ee.empty());l.push(IDBKeyRange.bound(h,f))}return l}Jn(e,s){return vo(e,s)>0}getMinOffsetFromCollectionGroup(e,s){return this.getFieldIndexes(e,s).next(zT)}getMinOffset(e,s){return Z.mapArray(this.vn(s),(r=>this.Fn(e,r).next((i=>i||Ie(44426))))).next(zT)}}function VT(n){return zs(n,If)}function bd(n){return zs(n,uf)}function Bh(n){return zs(n,Gw)}function vd(n){return zs(n,df)}function zT(n){Le(n.length!==0,28825);let e=n[0].indexState.offset,s=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;$w(i,e)<0&&(e=i),s<i.largestBatchId&&(s=i.largestBatchId)}return new fr(e.readTime,e.documentKey,s)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EA=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(n,e,s){const r=n.store(ta),i=n.store(Yd),l=[],c=IDBKeyRange.only(s.batchId);let h=0;const f=r.ee({range:c},((x,b,v)=>(h++,v.delete())));l.push(f.next((()=>{Le(h===1,47070,{batchId:s.batchId})})));const p=[];for(const x of s.mutations){const b=yC(e,x.key.path,s.batchId);l.push(i.delete(b)),p.push(x.key)}return Z.waitFor(l).next((()=>p))}function Fg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ie(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(EA,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class Ex{constructor(e,s,r,i){this.userId=e,this.serializer=s,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,s,r,i){Le(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new Ex(l,s,r,i)}checkEmpty(e){let s=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wo(e).ee({index:Vl,range:r},((i,l,c)=>{s=!1,c.done()})).next((()=>s))}addMutationBatch(e,s,r,i){const l=Td(e),c=wo(e);return c.add({}).next((h=>{Le(typeof h=="number",49019);const f=new sj(h,s,r,i),p=(function(E,S,A){const C=A.baseMutations.map((D=>Lf(E.yt,D))),P=A.mutations.map((D=>Lf(E.yt,D)));return{userId:S,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:C,mutations:P}})(this.serializer,this.userId,f),x=[];let b=new Ct(((v,E)=>We(v.canonicalString(),E.canonicalString())));for(const v of i){const E=yC(this.userId,v.key.path,h);b=b.add(v.key.path.popLast()),x.push(c.put(p)),x.push(l.put(E,XF))}return b.forEach((v=>{x.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Zn[h]=f.keys()})),Z.waitFor(x).next((()=>f))}))}lookupMutationBatch(e,s){return wo(e).get(s).next((r=>r?(Le(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:s}),Rl(this.serializer,r)):null))}Xn(e,s){return this.Zn[s]?Z.resolve(this.Zn[s]):this.lookupMutationBatch(e,s).next((r=>{if(r){const i=r.keys();return this.Zn[s]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return wo(e).ee({index:Vl,range:i},((c,h,f)=>{h.userId===this.userId&&(Le(h.batchId>=r,47524,{Yn:r}),l=Rl(this.serializer,h)),f.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Po;return wo(e).ee({index:Vl,range:s,reverse:!0},((i,l,c)=>{r=l.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const s=IDBKeyRange.bound([this.userId,Po],[this.userId,Number.POSITIVE_INFINITY]);return wo(e).H(Vl,s).next((r=>r.map((i=>Rl(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,s){const r=ug(this.userId,s.path),i=IDBKeyRange.lowerBound(r),l=[];return Td(e).ee({range:i},((c,h,f)=>{const[p,x,b]=c,v=La(x);if(p===this.userId&&s.path.isEqual(v))return wo(e).get(b).next((E=>{if(!E)throw Ie(61480,{er:c,batchId:b});Le(E.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:E.userId,batchId:b}),l.push(Rl(this.serializer,E))}));f.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new Ct(We);const i=[];return s.forEach((l=>{const c=ug(this.userId,l.path),h=IDBKeyRange.lowerBound(c),f=Td(e).ee({range:h},((p,x,b)=>{const[v,E,S]=p,A=La(E);v===this.userId&&l.path.isEqual(A)?r=r.add(S):b.done()}));i.push(f)})),Z.waitFor(i).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,i=r.length+1,l=ug(this.userId,r),c=IDBKeyRange.lowerBound(l);let h=new Ct(We);return Td(e).ee({range:c},((f,p,x)=>{const[b,v,E]=f,S=La(v);b===this.userId&&r.isPrefixOf(S)?S.length===i&&(h=h.add(E)):x.done()})).next((()=>this.tr(e,h)))}tr(e,s){const r=[],i=[];return s.forEach((l=>{i.push(wo(e).get(l).next((c=>{if(c===null)throw Ie(35274,{batchId:l});Le(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),r.push(Rl(this.serializer,c))})))})),Z.waitFor(i).next((()=>r))}removeMutationBatch(e,s){return CA(e.le,this.userId,s).next((r=>(e.addOnCommittedListener((()=>{this.nr(s.batchId)})),Z.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((s=>{if(!s)return Z.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),i=[];return Td(e).ee({range:r},((l,c,h)=>{if(l[0]===this.userId){const f=La(l[1]);i.push(f)}else h.done()})).next((()=>{Le(i.length===0,56720,{rr:i.map((l=>l.canonicalString()))})}))}))}containsKey(e,s){return AA(e,this.userId,s)}ir(e){return IA(e).get(this.userId).next((s=>s||{userId:this.userId,lastAcknowledgedBatchId:Po,lastStreamToken:""}))}}function AA(n,e,s){const r=ug(e,s.path),i=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return Td(n).ee({range:l,Y:!0},((h,f,p)=>{const[x,b,v]=h;x===e&&b===i&&(c=!0),p.done()})).next((()=>c))}function wo(n){return zs(n,ta)}function Td(n){return zs(n,Yd)}function IA(n){return zs(n,Cf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new dc(0)}static ar(){return new dc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e,s){this.referenceDelegate=e,this.serializer=s}allocateTargetId(e){return this.ur(e).next((s=>{const r=new dc(s.highestTargetId);return s.highestTargetId=r.next(),this.cr(e,s).next((()=>s.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((s=>Fe.fromTimestamp(new Nt(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((s=>s.highestListenSequenceNumber))}setTargetsMetadata(e,s,r){return this.ur(e).next((i=>(i.highestListenSequenceNumber=s,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),s>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=s),this.cr(e,i))))}addTargetData(e,s){return this.lr(e,s).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(s,r),this.cr(e,r))))))}updateTargetData(e,s){return this.lr(e,s)}removeTargetData(e,s){return this.removeMatchingKeysForTargetId(e,s.targetId).next((()=>wd(e).delete(s.targetId))).next((()=>this.ur(e))).next((r=>(Le(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,s,r){let i=0;const l=[];return wd(e).ee(((c,h)=>{const f=Xh(h);f.sequenceNumber<=s&&r.get(f.targetId)===null&&(i++,l.push(this.removeTargetData(e,f)))})).next((()=>Z.waitFor(l))).next((()=>i))}forEachTarget(e,s){return wd(e).ee(((r,i)=>{const l=Xh(i);s(l)}))}ur(e){return BT(e).get(Mg).next((s=>(Le(s!==null,2888),s)))}cr(e,s){return BT(e).put(Mg,s)}lr(e,s){return wd(e).put(SA(this.serializer,s))}hr(e,s){let r=!1;return e.targetId>s.highestTargetId&&(s.highestTargetId=e.targetId,r=!0),e.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((s=>s.targetCount))}getTargetData(e,s){const r=ac(s),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return wd(e).ee({range:i,index:vC},((c,h,f)=>{const p=Xh(h);am(s,p.target)&&(l=p,f.done())})).next((()=>l))}addMatchingKeys(e,s,r){const i=[],l=_o(e);return s.forEach((c=>{const h=xn(c.path);i.push(l.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,c))})),Z.waitFor(i)}removeMatchingKeys(e,s,r){const i=_o(e);return Z.forEach(s,(l=>{const c=xn(l.path);return Z.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])}))}removeMatchingKeysForTargetId(e,s){const r=_o(e),i=IDBKeyRange.bound([s],[s+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,s){const r=IDBKeyRange.bound([s],[s+1],!1,!0),i=_o(e);let l=et();return i.ee({range:r,Y:!0},((c,h,f)=>{const p=La(c[1]),x=new Ee(p);l=l.add(x)})).next((()=>l))}containsKey(e,s){const r=xn(s.path),i=IDBKeyRange.bound([r],[lC(r)],!1,!0);let l=0;return _o(e).ee({index:Hw,Y:!0,range:i},(([c,h],f,p)=>{c!==0&&(l++,p.done())})).next((()=>l>0))}At(e,s){return wd(e).get(s).next((r=>r?Xh(r):null))}}function wd(n){return zs(n,Qd)}function BT(n){return zs(n,Kl)}function _o(n){return zs(n,Jd)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="LruGarbageCollector",S$=1048576;function $T([n,e],[s,r]){const i=We(n,s);return i===0?We(e,r):i}class T${constructor(e){this.Pr=e,this.buffer=new Ct($T),this.Tr=0}Ir(){return++this.Tr}Er(e){const s=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();$T(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class RA{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ne(FT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){Xo(s)?Ne(FT,"Ignoring IndexedDB error during garbage collection: ",s):await Jo(s)}await this.Ar(3e5)}))}}class k${constructor(e,s){this.Vr=e,this.params=s}calculateTargetCount(e,s){return this.Vr.dr(e).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(e,s){if(s===0)return Z.resolve(zn.ce);const r=new T$(s);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,s,r){return this.Vr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.Vr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(UT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UT):this.gr(e,s)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,s){let r,i,l,c,h,f,p;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,c=Date.now(),this.nthSequenceNumber(e,i)))).next((b=>(r=b,h=Date.now(),this.removeTargets(e,r,s)))).next((b=>(l=b,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(p=Date.now(),jd()<=ct.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-x}ms
	Determined least recently used ${i} in `+(h-c)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(p-f)+`ms
Total Duration: ${p-x}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:b}))))}}function PA(n,e){return new k$(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e,s){this.db=e,this.garbageCollector=PA(this,s)}dr(e){const s=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>s.next((i=>r+i))))}pr(e){let s=0;return this.mr(e,(r=>{s++})).next((()=>s))}forEachTarget(e,s){return this.db.getTargetCache().forEachTarget(e,s)}mr(e,s){return this.yr(e,((r,i)=>s(i)))}addReference(e,s,r){return Jp(e,r)}removeReference(e,s,r){return Jp(e,r)}removeTargets(e,s,r){return this.db.getTargetCache().removeTargets(e,s,r)}markPotentiallyOrphaned(e,s){return Jp(e,s)}wr(e,s){return(function(i,l){let c=!1;return IA(i).te((h=>AA(i,h,l).next((f=>(f&&(c=!0),Z.resolve(!f)))))).next((()=>c))})(e,s)}removeOrphanedDocuments(e,s){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.yr(e,((c,h)=>{if(h<=s){const f=this.wr(e,c).next((p=>{if(!p)return l++,r.getEntry(e,c).next((()=>(r.removeEntry(c,Fe.min()),_o(e).delete((function(b){return[0,xn(b.path)]})(c)))))}));i.push(f)}})).next((()=>Z.waitFor(i))).next((()=>r.apply(e))).next((()=>l))}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,s){return Jp(e,s)}yr(e,s){const r=_o(e);let i,l=zn.ce;return r.ee({index:Hw},(([c,h],{path:f,sequenceNumber:p})=>{c===0?(l!==zn.ce&&s(new Ee(La(i)),l),l=p,i=f):l=zn.ce})).next((()=>{l!==zn.ce&&s(new Ee(La(i)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jp(n,e){return _o(n).put((function(r,i){return{targetId:0,path:xn(r.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.changes=new Pi((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?Z.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,s,r){return kl(e).put(r)}removeEntry(e,s,r){return kl(e).delete((function(l,c){const h=l.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Ug(c),h[h.length-1]]})(s,r))}updateMetadata(e,s){return this.getMetadata(e).next((r=>(r.byteSize+=s,this.br(e,r))))}getEntry(e,s){let r=Ht.newInvalidDocument(s);return kl(e).ee({index:hg,range:IDBKeyRange.only(Fh(s))},((i,l)=>{r=this.Sr(s,l)})).next((()=>r))}Dr(e,s){let r={size:0,document:Ht.newInvalidDocument(s)};return kl(e).ee({index:hg,range:IDBKeyRange.only(Fh(s))},((i,l)=>{r={document:this.Sr(s,l),size:Fg(l)}})).next((()=>r))}getEntries(e,s){let r=Bn();return this.Cr(e,s,((i,l)=>{const c=this.Sr(i,l);r=r.insert(i,c)})).next((()=>r))}vr(e,s){let r=Bn(),i=new Ft(Ee.comparator);return this.Cr(e,s,((l,c)=>{const h=this.Sr(l,c);r=r.insert(l,h),i=i.insert(l,Fg(c))})).next((()=>({documents:r,Fr:i})))}Cr(e,s,r){if(s.isEmpty())return Z.resolve();let i=new Ct(GT);s.forEach((f=>i=i.add(f)));const l=IDBKeyRange.bound(Fh(i.first()),Fh(i.last())),c=i.getIterator();let h=c.getNext();return kl(e).ee({index:hg,range:l},((f,p,x)=>{const b=Ee.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&GT(h,b)<0;)r(h,null),h=c.getNext();h&&h.isEqual(b)&&(r(h,p),h=c.hasNext()?c.getNext():null),h?x.j(Fh(h)):x.done()})).next((()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,s,r,i,l){const c=s.path,h=[c.popLast().toArray(),c.lastSegment(),Ug(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return kl(e).H(IDBKeyRange.bound(h,f,!0)).next((p=>{l==null||l.incrementDocumentReadCount(p.length);let x=Bn();for(const b of p){const v=this.Sr(Ee.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);v.isFoundDocument()&&(om(s,v)||i.has(v.key))&&(x=x.insert(v.key,v))}return x}))}getAllFromCollectionGroup(e,s,r,i){let l=Bn();const c=HT(s,r),h=HT(s,fr.max());return kl(e).ee({index:bC,range:IDBKeyRange.bound(c,h,!0)},((f,p,x)=>{const b=this.Sr(Ee.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(b.key,b),l.size===i&&x.done()})).next((()=>l))}newChangeBuffer(e){return new A$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((s=>s.byteSize))}getMetadata(e){return qT(e).get(hv).next((s=>(Le(!!s,20021),s)))}br(e,s){return qT(e).put(hv,s)}Sr(e,s){if(s){const r=m$(this.serializer,s);if(!(r.isNoDocument()&&r.version.isEqual(Fe.min())))return r}return Ht.newInvalidDocument(e)}}function OA(n){return new C$(n)}class A$ extends DA{constructor(e,s){super(),this.Mr=e,this.trackRemovals=s,this.Or=new Pi((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const s=[];let r=0,i=new Ct(((l,c)=>We(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const h=this.Or.get(l);if(s.push(this.Mr.removeEntry(e,l,h.readTime)),c.isValidDocument()){const f=kT(this.Mr.serializer,c);i=i.add(l.path.popLast());const p=Fg(f);r+=p-h.size,s.push(this.Mr.addEntry(e,l,f))}else if(r-=h.size,this.trackRemovals){const f=kT(this.Mr.serializer,c.convertToNoDocument(Fe.min()));s.push(this.Mr.addEntry(e,l,f))}})),i.forEach((l=>{s.push(this.Mr.indexManager.addToCollectionParentIndex(e,l))})),s.push(this.Mr.updateMetadata(e,r)),Z.waitFor(s)}getFromCache(e,s){return this.Mr.Dr(e,s).next((r=>(this.Or.set(s,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,s){return this.Mr.vr(e,s).next((({documents:r,Fr:i})=>(i.forEach(((l,c)=>{this.Or.set(l,{size:c,readTime:r.get(l).readTime})})),r)))}}function qT(n){return zs(n,Af)}function kl(n){return zs(n,Og)}function Fh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function HT(n,e){const s=e.documentKey.path.toArray();return[n,Ug(e.readTime),s.slice(0,s.length-2),s.length>0?s[s.length-1]:""]}function GT(n,e){const s=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<s.length-2&&l<r.length-2;++l)if(i=We(s[l],r[l]),i)return i;return i=We(s.length,r.length),i||(i=We(s[s.length-2],r[r.length-2]),i||We(s[s.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,s,r,i){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,s)))).next((i=>(r!==null&&mf(r.mutation,i,Un.empty(),Nt.now()),i)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,et()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=et()){const i=Va();return this.populateOverlays(e,i,s).next((()=>this.computeViews(e,s,i,r).next((l=>{let c=Qh();return l.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,s){const r=Va();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,et())))}populateOverlays(e,s,r){const i=[];return r.forEach((l=>{s.has(l)||i.push(l)})),this.documentOverlayCache.getOverlays(e,i).next((l=>{l.forEach(((c,h)=>{s.set(c,h)}))}))}computeViews(e,s,r,i){let l=Bn();const c=ff(),h=(function(){return ff()})();return s.forEach(((f,p)=>{const x=r.get(p.key);i.has(p.key)&&(x===void 0||x.mutation instanceof Di)?l=l.insert(p.key,p):x!==void 0?(c.set(p.key,x.mutation.getFieldMask()),mf(x.mutation,p,x.mutation.getFieldMask(),Nt.now())):c.set(p.key,Un.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,x)=>c.set(p,x))),s.forEach(((p,x)=>h.set(p,new I$(x,c.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,s){const r=ff();let i=new Ft(((c,h)=>c-h)),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((c=>{for(const h of c)h.keys().forEach((f=>{const p=s.get(f);if(p===null)return;let x=r.get(f)||Un.empty();x=h.applyToLocalView(p,x),r.set(f,x);const b=(i.get(h.batchId)||et()).add(f);i=i.insert(h.batchId,b)}))})).next((()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,x=f.value,b=JC();x.forEach((v=>{if(!l.has(v)){const E=rA(s.get(v),r.get(v));E!==null&&b.set(v,E),l=l.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return Z.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,i){return M7(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):Xw(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,i):this.getDocumentsMatchingCollectionQuery(e,s,r,i)}getNextDocuments(e,s,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,i).next((l=>{const c=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,i-l.size):Z.resolve(Va());let h=Wd,f=l;return c.next((p=>Z.forEach(p,((x,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(x)?Z.resolve():this.remoteDocumentCache.getEntry(e,x).next((v=>{f=f.insert(x,v)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,et()))).next((x=>({batchId:h,changes:QC(x)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new Ee(s)).next((r=>{let i=Qh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,i){const l=s.collectionGroup;let c=Qh();return this.indexManager.getCollectionParents(e,l).next((h=>Z.forEach(h,(f=>{const p=(function(b,v){return new Ri(v,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(s,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((x=>{x.forEach(((b,v)=>{c=c.insert(b,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,s,r,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,l,i)))).next((c=>{l.forEach(((f,p)=>{const x=p.getKey();c.get(x)===null&&(c=c.insert(x,Ht.newInvalidDocument(x)))}));let h=Qh();return c.forEach(((f,p)=>{const x=l.get(f);x!==void 0&&mf(x.mutation,p,Un.empty(),Nt.now()),om(s,p)&&(h=h.insert(f,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,s){return Z.resolve(this.Nr.get(s))}saveBundleMetadata(e,s){return this.Nr.set(s.id,(function(i){return{id:i.id,version:i.version,createTime:bs(i.createTime)}})(s)),Z.resolve()}getNamedQuery(e,s){return Z.resolve(this.Br.get(s))}saveNamedQuery(e,s){return this.Br.set(s.name,(function(i){return{name:i.name,query:oj(i.bundledQuery),readTime:bs(i.readTime)}})(s)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(){this.overlays=new Ft(Ee.comparator),this.Lr=new Map}getOverlay(e,s){return Z.resolve(this.overlays.get(s))}getOverlays(e,s){const r=Va();return Z.forEach(s,(i=>this.getOverlay(e,i).next((l=>{l!==null&&r.set(i,l)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((i,l)=>{this.bt(e,s,l)})),Z.resolve()}removeOverlaysForBatchId(e,s,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(e,s,r){const i=Va(),l=s.length+1,c=new Ee(s.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!s.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,s,r,i){let l=new Ft(((p,x)=>p-x));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===s&&p.largestBatchId>r){let x=l.get(p.largestBatchId);x===null&&(x=Va(),l=l.insert(p.largestBatchId,x)),x.set(p.getKey(),p)}}const h=Va(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,x)=>h.set(p,x))),!(h.size()>=i)););return Z.resolve(h)}bt(e,s,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new rj(s,r));let l=this.Lr.get(s);l===void 0&&(l=et(),this.Lr.set(s,l)),this.Lr.set(s,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(){this.sessionToken=hs.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.kr=new Ct($s.Kr),this.qr=new Ct($s.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,s){const r=new $s(e,s);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Wr(new $s(e,s))}Qr(e,s){e.forEach((r=>this.removeReference(r,s)))}Gr(e){const s=new Ee(new dt([])),r=new $s(s,e),i=new $s(s,e+1),l=[];return this.qr.forEachInRange([r,i],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const s=new Ee(new dt([])),r=new $s(s,e),i=new $s(s,e+1);let l=et();return this.qr.forEachInRange([r,i],(c=>{l=l.add(c.key)})),l}containsKey(e){const s=new $s(e,0),r=this.kr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class $s{constructor(e,s){this.key=e,this.Hr=s}static Kr(e,s){return Ee.comparator(e.key,s.key)||We(e.Hr,s.Hr)}static Ur(e,s){return We(e.Hr,s.Hr)||Ee.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.Yn=1,this.Jr=new Ct($s.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,i){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sj(l,s,r,i);this.mutationQueue.push(c);for(const h of i)this.Jr=this.Jr.add(new $s(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(e,s){return Z.resolve(this.Zr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,i=this.Xr(r),l=i<0?0:i;return Z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Po:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new $s(s,0),i=new $s(s,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,i],(c=>{const h=this.Zr(c.Hr);l.push(h)})),Z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new Ct(We);return s.forEach((i=>{const l=new $s(i,0),c=new $s(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{r=r.add(h.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,i=r.length+1;let l=r;Ee.isDocumentKey(l)||(l=l.child(""));const c=new $s(new Ee(l),0);let h=new Ct(We);return this.Jr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(f.Hr)),!0)}),c),Z.resolve(this.Yr(h))}Yr(e){const s=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&s.push(i)})),s}removeMutationBatch(e,s){Le(this.ei(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(s.mutations,(i=>{const l=new $s(i.key,s.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,s){const r=new $s(s,0),i=this.Jr.firstAfterOrEqual(r);return Z.resolve(s.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,s){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const s=this.Xr(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e){this.ti=e,this.docs=(function(){return new Ft(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,i=this.docs.get(r),l=i?i.size:0,c=this.ti(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return Z.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(s))}getEntries(e,s){let r=Bn();return s.forEach((i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Ht.newInvalidDocument(i))})),Z.resolve(r)}getDocumentsMatchingQuery(e,s,r,i){let l=Bn();const c=s.path,h=new Ee(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:x}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||$w(fC(x),r)<=0||(i.has(x.key)||om(s,x))&&(l=l.insert(x.key,x.mutableCopy()))}return Z.resolve(l)}getAllFromCollectionGroup(e,s,r,i){Ie(9500)}ni(e,s){return Z.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new L$(this)}getSize(e){return Z.resolve(this.size)}}class L$ extends DA{constructor(e){super(),this.Mr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?s.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),Z.waitFor(s)}getFromCache(e,s){return this.Mr.getEntry(e,s)}getAllFromCache(e,s){return this.Mr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.persistence=e,this.ri=new Pi((s=>ac(s)),am),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ii=0,this.si=new dj,this.targetCount=0,this.oi=dc._r()}forEachTarget(e,s){return this.ri.forEach(((r,i)=>s(i))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.ii&&(this.ii=s),Z.resolve()}lr(e){this.ri.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.oi=new dc(s),this.highestTargetId=s),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,s){return this.lr(s),this.targetCount+=1,Z.resolve()}updateTargetData(e,s){return this.lr(s),Z.resolve()}removeTargetData(e,s){return this.ri.delete(s.target),this.si.Gr(s.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,s,r){let i=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=s&&r.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),Z.waitFor(l).next((()=>i))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,s){const r=this.ri.get(s)||null;return Z.resolve(r)}addMatchingKeys(e,s,r){return this.si.$r(s,r),Z.resolve()}removeMatchingKeys(e,s,r){this.si.Qr(s,r);const i=this.persistence.referenceDelegate,l=[];return i&&s.forEach((c=>{l.push(i.markPotentiallyOrphaned(e,c))})),Z.waitFor(l)}removeMatchingKeysForTargetId(e,s){return this.si.Gr(s),Z.resolve()}getMatchingKeysForTargetId(e,s){const r=this.si.jr(s);return Z.resolve(r)}containsKey(e,s){return Z.resolve(this.si.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,s){this._i={},this.overlays={},this.ai=new zn(0),this.ui=!1,this.ui=!0,this.ci=new D$,this.referenceDelegate=e(this),this.li=new V$(this),this.indexManager=new j$,this.remoteDocumentCache=(function(i){return new M$(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new _A(s),this.Pi=new R$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new P$,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this._i[e.toKey()];return r||(r=new O$(s,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,s,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new z$(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((l=>this.referenceDelegate.Ii(i).next((()=>l)))).toPromise().then((l=>(i.raiseOnCommittedEvent(),l)))}Ei(e,s){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(e,s))))}}class z$ extends pC{constructor(e){super(),this.currentSequenceNumber=e}}class Cx{constructor(e){this.persistence=e,this.Ri=new dj,this.Ai=null}static Vi(e){return new Cx(e)}get di(){if(this.Ai)return this.Ai;throw Ie(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.di.delete(r.toString()),Z.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,s){return this.di.add(s.toString()),Z.resolve()}removeTarget(e,s){this.Ri.Gr(s.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((i=>{i.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,s)))}Ti(){this.Ai=new Set}Ii(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const i=Ee.fromPath(r);return this.mi(e,i).next((l=>{l||s.removeEntry(i,Fe.min())}))})).next((()=>(this.Ai=null,s.apply(e))))}updateLimboDocument(e,s){return this.mi(e,s).next((r=>{r?this.di.delete(s.toString()):this.di.add(s.toString())}))}hi(e){return 0}mi(e,s){return Z.or([()=>Z.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ei(e,s)])}}class $g{constructor(e,s){this.persistence=e,this.fi=new Pi((r=>xn(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=PA(this,s)}static Vi(e,s){return new $g(e,s)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}dr(e){const s=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>s.next((i=>r+i))))}pr(e){let s=0;return this.mr(e,(r=>{s++})).next((()=>s))}mr(e,s){return Z.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((l=>l?Z.resolve():s(i)))))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const i=this.persistence.getRemoteDocumentCache(),l=i.newChangeBuffer();return i.ni(e,(c=>this.wr(e,c,s).next((h=>{h||(r++,l.removeEntry(c,Fe.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,s){return this.fi.set(s,e.currentSequenceNumber),Z.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,s,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,s){return this.fi.set(s,e.currentSequenceNumber),Z.resolve()}hi(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=mg(e.data.value)),s}wr(e,s,r){return Z.or([()=>this.persistence.Ei(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const i=this.fi.get(s);return Z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e){this.serializer=e}k(e,s,r,i){const l=new yx("createOrUpgrade",s);r<1&&i>=1&&((function(f){f.createObjectStore(rm)})(e),(function(f){f.createObjectStore(Cf,{keyPath:JF}),f.createObjectStore(ta,{keyPath:nT,autoIncrement:!0}).createIndex(Vl,rT,{unique:!0}),f.createObjectStore(Yd)})(e),KT(e),(function(f){f.createObjectStore(Al)})(e));let c=Z.resolve();return r<3&&i>=3&&(r!==0&&((function(f){f.deleteObjectStore(Jd),f.deleteObjectStore(Qd),f.deleteObjectStore(Kl)})(e),KT(e)),c=c.next((()=>(function(f){const p=f.store(Kl),x={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fe.min().toTimestamp(),targetCount:0};return p.put(Mg,x)})(l)))),r<4&&i>=4&&(r!==0&&(c=c.next((()=>(function(f,p){return p.store(ta).H().next((b=>{f.deleteObjectStore(ta),f.createObjectStore(ta,{keyPath:nT,autoIncrement:!0}).createIndex(Vl,rT,{unique:!0});const v=p.store(ta),E=b.map((S=>v.put(S)));return Z.waitFor(E)}))})(e,l)))),c=c.next((()=>{(function(f){f.createObjectStore(Xd,{keyPath:i7})})(e)}))),r<5&&i>=5&&(c=c.next((()=>this.gi(l)))),r<6&&i>=6&&(c=c.next((()=>((function(f){f.createObjectStore(Af)})(e),this.pi(l))))),r<7&&i>=7&&(c=c.next((()=>this.yi(l)))),r<8&&i>=8&&(c=c.next((()=>this.wi(e,l)))),r<9&&i>=9&&(c=c.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(c=c.next((()=>this.bi(l)))),r<11&&i>=11&&(c=c.next((()=>{(function(f){f.createObjectStore(bx,{keyPath:o7})})(e),(function(f){f.createObjectStore(vx,{keyPath:l7})})(e)}))),r<12&&i>=12&&(c=c.next((()=>{(function(f){const p=f.createObjectStore(wx,{keyPath:p7});p.createIndex(mv,g7,{unique:!1}),p.createIndex(NC,x7,{unique:!1})})(e)}))),r<13&&i>=13&&(c=c.next((()=>(function(f){const p=f.createObjectStore(Og,{keyPath:ZF});p.createIndex(hg,e7),p.createIndex(bC,t7)})(e))).next((()=>this.Si(e,l))).next((()=>e.deleteObjectStore(Al)))),r<14&&i>=14&&(c=c.next((()=>this.Di(e,l)))),r<15&&i>=15&&(c=c.next((()=>(function(f){f.createObjectStore(Gw,{keyPath:c7,autoIncrement:!0}).createIndex(fv,d7,{unique:!1}),f.createObjectStore(df,{keyPath:u7}).createIndex(wC,h7,{unique:!1}),f.createObjectStore(uf,{keyPath:f7}).createIndex(jC,m7,{unique:!1})})(e)))),r<16&&i>=16&&(c=c.next((()=>{s.objectStore(df).clear()})).next((()=>{s.objectStore(uf).clear()}))),r<17&&i>=17&&(c=c.next((()=>{(function(f){f.createObjectStore(Kw,{keyPath:y7})})(e)}))),r<18&&i>=18&&U4()&&(c=c.next((()=>{s.objectStore(df).clear()})).next((()=>{s.objectStore(uf).clear()}))),c}pi(e){let s=0;return e.store(Al).ee(((r,i)=>{s+=Fg(i)})).next((()=>{const r={byteSize:s};return e.store(Af).put(hv,r)}))}gi(e){const s=e.store(Cf),r=e.store(ta);return s.H().next((i=>Z.forEach(i,(l=>{const c=IDBKeyRange.bound([l.userId,Po],[l.userId,l.lastAcknowledgedBatchId]);return r.H(Vl,c).next((h=>Z.forEach(h,(f=>{Le(f.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const p=Rl(this.serializer,f);return CA(e,l.userId,p).next((()=>{}))}))))}))))}yi(e){const s=e.store(Jd),r=e.store(Al);return e.store(Kl).get(Mg).next((i=>{const l=[];return r.ee(((c,h)=>{const f=new dt(c),p=(function(b){return[0,xn(b)]})(f);l.push(s.get(p).next((x=>x?Z.resolve():(b=>s.put({targetId:0,path:xn(b),sequenceNumber:i.highestListenSequenceNumber}))(f))))})).next((()=>Z.waitFor(l)))}))}wi(e,s){e.createObjectStore(If,{keyPath:a7});const r=s.store(If),i=new cj,l=c=>{if(i.add(c)){const h=c.lastSegment(),f=c.popLast();return r.put({collectionId:h,parent:xn(f)})}};return s.store(Al).ee({Y:!0},((c,h)=>{const f=new dt(c);return l(f.popLast())})).next((()=>s.store(Yd).ee({Y:!0},(([c,h,f],p)=>{const x=La(h);return l(x.popLast())}))))}bi(e){const s=e.store(Qd);return s.ee(((r,i)=>{const l=Xh(i),c=SA(this.serializer,l);return s.put(c)}))}Si(e,s){const r=s.store(Al),i=[];return r.ee(((l,c)=>{const h=s.store(Og),f=(function(b){return b.document?new Ee(dt.fromString(b.document.name).popFirst(5)):b.noDocument?Ee.fromSegments(b.noDocument.path):b.unknownDocument?Ee.fromSegments(b.unknownDocument.path):Ie(36783)})(c).path.toArray(),p={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(h.put(p))})).next((()=>Z.waitFor(i)))}Di(e,s){const r=s.store(ta),i=OA(this.serializer),l=new uj(Cx.Vi,this.serializer.yt);return r.H().next((c=>{const h=new Map;return c.forEach((f=>{let p=h.get(f.userId)??et();Rl(this.serializer,f).keys().forEach((x=>p=p.add(x))),h.set(f.userId,p)})),Z.forEach(h,((f,p)=>{const x=new qs(p),b=kx.wt(this.serializer,x),v=l.getIndexManager(x),E=Ex.wt(x,this.serializer,v,l.referenceDelegate);return new MA(i,E,b,v).recalculateAndSaveOverlaysForDocumentKeys(new pv(s,zn.ce),f).next()}))}))}}function KT(n){n.createObjectStore(Jd,{keyPath:n7}).createIndex(Hw,r7,{unique:!0}),n.createObjectStore(Qd,{keyPath:"targetId"}).createIndex(vC,s7,{unique:!0}),n.createObjectStore(Kl)}const jo="IndexedDbPersistence",jb=18e5,Nb=5e3,_b="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",LA="main";class hj{constructor(e,s,r,i,l,c,h,f,p,x,b=18){if(this.allowTabSynchronization=e,this.persistenceKey=s,this.clientId=r,this.Ci=l,this.window=c,this.document=h,this.Fi=p,this.Mi=x,this.xi=b,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=v=>Promise.resolve(),!hj.v())throw new we(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new E$(this,i),this.Ki=s+LA,this.serializer=new _A(f),this.qi=new Ua(this.Ki,this.xi,new U$(this.serializer)),this.ci=new g$,this.li=new _$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=OA(this.serializer),this.Pi=new p$,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,x===!1&&ys(jo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new we(ie.FAILED_PRECONDITION,_b);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new zn(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async s=>{if(this.started)return e(s)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async s=>{s.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Xp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((s=>{s||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((s=>this.isPrimary&&!s?this.Ji(e).next((()=>!1)):!!s&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(Xo(e))return Ne(jo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne(jo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return $h(e).get(gd).next((s=>Z.resolve(this.Xi(s))))}Yi(e){return Xp(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,jb)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(s=>{const r=zs(s,Xd);return r.H().next((i=>{const l=this.ns(i,jb),c=i.filter((h=>l.indexOf(h)===-1));return Z.forEach(c,(h=>r.delete(h.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const s of e)this.Ui.removeItem(this.rs(s.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?Z.resolve(!0):$h(e).get(gd).next((s=>{if(s!==null&&this.ts(s.leaseTimestampMs,Nb)&&!this.ss(s.ownerId)){if(this.Xi(s)&&this.networkEnabled)return!0;if(!this.Xi(s)){if(!s.allowTabSynchronization)throw new we(ie.FAILED_PRECONDITION,_b);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xp(e).H().next((r=>this.ns(r,Nb).find((i=>{if(this.clientId!==i.clientId){const l=!this.networkEnabled&&i.networkEnabled,c=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(l||c&&h)return!0}return!1}))===void 0))})).next((s=>(this.isPrimary!==s&&Ne(jo,`Client ${s?"is":"is not"} eligible for a primary lease.`),s)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[rm,Xd],(e=>{const s=new pv(e,zn.ce);return this.Ji(s).next((()=>this.Yi(s)))})),this.qi.close(),this.ls()}ns(e,s){return e.filter((r=>this.ts(r.updateTimeMs,s)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>Xp(e).H().next((s=>this.ns(s,jb).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,s){return Ex.wt(e,this.serializer,s,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new N$(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return kx.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,s,r){Ne(jo,"Starting transaction:",e);const i=s==="readonly"?"readonly":"readwrite",l=(function(f){return f===18?w7:f===17?kC:f===16?v7:f===15?Ww:f===14?TC:f===13?SC:f===12?b7:f===11?_C:void Ie(60245)})(this.xi);let c;return this.qi.runTransaction(e,i,l,(h=>(c=new pv(h,this.ai?this.ai.next():zn.ce),s==="readwrite-primary"?this.ji(c).next((f=>!!f||this.Hi(c))).next((f=>{if(!f)throw ys(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new we(ie.FAILED_PRECONDITION,mC);return r(c)})).next((f=>this.Zi(c).next((()=>f)))):this.Ps(c).next((()=>r(c)))))).then((h=>(c.raiseOnCommittedEvent(),h)))}Ps(e){return $h(e).get(gd).next((s=>{if(s!==null&&this.ts(s.leaseTimestampMs,Nb)&&!this.ss(s.ownerId)&&!this.Xi(s)&&!(this.Mi||this.allowTabSynchronization&&s.allowTabSynchronization))throw new we(ie.FAILED_PRECONDITION,_b)}))}Zi(e){const s={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $h(e).put(gd,s)}static v(){return Ua.v()}Ji(e){const s=$h(e);return s.get(gd).next((r=>this.Xi(r)?(Ne(jo,"Releasing primary lease."),s.delete(gd)):Z.resolve()))}ts(e,s){const r=Date.now();return!(e<r-s)&&(!(e>r)||(ys(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Oi=()=>{this._s();const s=/(?:Version|Mobile)\/1[456]/;z4()&&(navigator.appVersion.match(s)||navigator.userAgent.match(s))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){var s;try{const r=((s=this.Ui)==null?void 0:s.getItem(this.rs(e)))!==null;return Ne(jo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ys(jo,"Failed to get zombied client id.",r),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){ys("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $h(n){return zs(n,rm)}function Xp(n){return zs(n,Xd)}function fj(n,e){let s=n.projectId;return n.isDefaultDatabase||(s+="."+n.database),"firestore/"+e+"/"+s+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e,s,r,i){this.targetId=e,this.fromCache=s,this.Ts=r,this.Is=i}static Es(e,s){let r=et(),i=et();for(const l of s.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new mj(e,s.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return z4()?8:gC(rs())>0?6:4})()}initialize(e,s){this.fs=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,i){const l={result:null};return this.gs(e,s).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,s,i,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new B$;return this.ys(e,s,c).next((h=>{if(l.result=h,this.As)return this.ws(e,s,c,h.size)}))})).next((()=>l.result))}ws(e,s,r,i){return r.documentReadCount<this.Vs?(jd()<=ct.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Nd(s),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(jd()<=ct.DEBUG&&Ne("QueryEngine","Query:",Nd(s),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(jd()<=ct.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Nd(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kn(s))):Z.resolve())}gs(e,s){if(xT(s))return Z.resolve(null);let r=kn(s);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(s.limit!==null&&i===1&&(s=zg(s,null,"F"),r=kn(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=et(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.bs(s,h);return this.Ss(s,p,c,f.readTime)?this.gs(e,zg(s,null,"F")):this.Ds(e,p,s,f)}))))})))))}ps(e,s,r,i){return xT(s)||i.isEqual(Fe.min())?Z.resolve(null):this.fs.getDocuments(e,r).next((l=>{const c=this.bs(s,l);return this.Ss(s,c,r,i)?Z.resolve(null):(jd()<=ct.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nd(s)),this.Ds(e,c,s,hC(i,Wd)).next((h=>h)))}))}bs(e,s){let r=new Ct(WC(e));return s.forEach(((i,l)=>{om(e,l)&&(r=r.add(l))})),r}Ss(e,s,r,i){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const l=e.limitType==="F"?s.last():s.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ys(e,s,r){return jd()<=ct.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Nd(s)),this.fs.getDocumentsMatchingQuery(e,s,fr.min(),r)}Ds(e,s,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((l=>(s.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="LocalStore",F$=3e8;class $${constructor(e,s,r,i){this.persistence=e,this.Cs=s,this.serializer=i,this.vs=new Ft(We),this.Fs=new Pi((l=>ac(l)),am),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.vs)))}}function zA(n,e,s,r){return new $$(n,e,s,r)}async function UA(n,e){const s=Ce(n);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return s.mutationQueue.getAllMutationBatches(r).next((l=>(i=l,s.Os(e),s.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],h=[];let f=et();for(const p of i){c.push(p.batchId);for(const x of p.mutations)f=f.add(x.key)}for(const p of l){h.push(p.batchId);for(const x of p.mutations)f=f.add(x.key)}return s.localDocuments.getDocuments(r,f).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function q$(n,e){const s=Ce(n);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),l=s.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,x){const b=p.batch,v=b.keys();let E=Z.resolve();return v.forEach((S=>{E=E.next((()=>x.getEntry(f,S))).next((A=>{const C=p.docVersions.get(S);Le(C!==null,48541),A.version.compareTo(C)<0&&(b.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),x.addEntry(A)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(s,r,e,l).next((()=>l.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=et();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>s.localDocuments.getDocuments(r,i)))}))}function BA(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.li.getLastRemoteSnapshotVersion(s)))}function H$(n,e){const s=Ce(n),r=e.snapshotVersion;let i=s.vs;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=s.xs.newChangeBuffer({trackRemovals:!0});i=s.vs;const h=[];e.targetChanges.forEach(((x,b)=>{const v=i.get(b);if(!v)return;h.push(s.li.removeMatchingKeys(l,x.removedDocuments,b).next((()=>s.li.addMatchingKeys(l,x.addedDocuments,b))));let E=v.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?E=E.withResumeToken(hs.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):x.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(x.resumeToken,r)),i=i.insert(b,E),(function(A,C,P){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=F$?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(v,E,x)&&h.push(s.li.updateTargetData(l,E))}));let f=Bn(),p=et();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&h.push(s.persistence.referenceDelegate.updateLimboDocument(l,x))})),h.push(FA(l,c,e.documentUpdates).next((x=>{f=x.Bs,p=x.Ls}))),!r.isEqual(Fe.min())){const x=s.li.getLastRemoteSnapshotVersion(l).next((b=>s.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(x)}return Z.waitFor(h).next((()=>c.apply(l))).next((()=>s.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(s.vs=i,l)))}function FA(n,e,s){let r=et(),i=et();return s.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let c=Bn();return s.forEach(((h,f)=>{const p=l.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Fe.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):Ne(pj,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{Bs:c,Ls:i}}))}function G$(n,e){const s=Ce(n);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Po),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function au(n,e){const s=Ce(n);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return s.li.getTargetData(r,e).next((l=>l?(i=l,Z.resolve(i)):s.li.allocateTargetId(r).next((c=>(i=new pi(e,c,"TargetPurposeListen",r.currentSequenceNumber),s.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=s.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(s.vs=s.vs.insert(r.targetId,r),s.Fs.set(e,r.targetId)),r}))}async function iu(n,e,s){const r=Ce(n),i=r.vs.get(e),l=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Xo(c))throw c;Ne(pj,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function qg(n,e,s){const r=Ce(n);let i=Fe.min(),l=et();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,p,x){const b=Ce(f),v=b.Fs.get(x);return v!==void 0?Z.resolve(b.vs.get(v)):b.li.getTargetData(p,x)})(r,c,kn(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,h.targetId).next((f=>{l=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,s?i:Fe.min(),s?l:et()))).next((h=>(HA(r,KC(e),h),{documents:h,ks:l})))))}function $A(n,e){const s=Ce(n),r=Ce(s.li),i=s.vs.get(e);return i?Promise.resolve(i.target):s.persistence.runTransaction("Get target data","readonly",(l=>r.At(l,e).next((c=>c?c.target:null))))}function qA(n,e){const s=Ce(n),r=s.Ms.get(e)||Fe.min();return s.persistence.runTransaction("Get new document changes","readonly",(i=>s.xs.getAllFromCollectionGroup(i,e,hC(r,Wd),Number.MAX_SAFE_INTEGER))).then((i=>(HA(s,e,i),i)))}function HA(n,e,s){let r=n.Ms.get(e)||Fe.min();s.forEach(((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Ms.set(e,r)}async function K$(n,e,s,r){const i=Ce(n);let l=et(),c=Bn();for(const p of s){const x=e.Ks(p.metadata.name);p.document&&(l=l.add(x));const b=e.qs(p);b.setReadTime(e.Us(p.metadata.readTime)),c=c.insert(x,b)}const h=i.xs.newChangeBuffer({trackRemovals:!0}),f=await au(i,(function(x){return kn(_u(dt.fromString(`__bundle__/docs/${x}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(p=>FA(p,h,c).next((x=>(h.apply(p),x))).next((x=>i.li.removeMatchingKeysForTargetId(p,f.targetId).next((()=>i.li.addMatchingKeys(p,l,f.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(p,x.Bs,x.Ls))).next((()=>x.Bs))))))}async function W$(n,e,s=et()){const r=await au(n,kn(oj(e.bundledQuery))),i=Ce(n);return i.persistence.runTransaction("Save named query","readwrite",(l=>{const c=bs(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Pi.saveNamedQuery(l,e);const h=r.withResumeToken(hs.EMPTY_BYTE_STRING,c);return i.vs=i.vs.insert(h.targetId,h),i.li.updateTargetData(l,h).next((()=>i.li.removeMatchingKeysForTargetId(l,r.targetId))).next((()=>i.li.addMatchingKeys(l,s,r.targetId))).next((()=>i.Pi.saveNamedQuery(l,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="firestore_clients";function WT(n,e){return`${GA}_${n}_${e}`}const KA="firestore_mutations";function YT(n,e,s){let r=`${KA}_${n}_${s}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const WA="firestore_targets";function Sb(n,e){return`${WA}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="SharedClientState";class Hg{constructor(e,s,r,i){this.user=e,this.batchId=s,this.state=r,this.error=i}static $s(e,s,r){const i=JSON.parse(r);let l,c=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return c&&i.error&&(c=typeof i.error.message=="string"&&typeof i.error.code=="string",c&&(l=new we(i.error.code,i.error.message))),c?new Hg(e,s,i.state,l):(ys(Aa,`Failed to parse mutation state for ID '${s}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pf{constructor(e,s,r){this.targetId=e,this.state=s,this.error=r}static $s(e,s){const r=JSON.parse(s);let i,l=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return l&&r.error&&(l=typeof r.error.message=="string"&&typeof r.error.code=="string",l&&(i=new we(r.error.code,r.error.message))),l?new pf(e,r.state,i):(ys(Aa,`Failed to parse target state for ID '${e}': ${s}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gg{constructor(e,s){this.clientId=e,this.activeTargetIds=s}static $s(e,s){const r=JSON.parse(s);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,l=Zw();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=xC(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return i?new Gg(e,l):(ys(Aa,`Failed to parse client data for instance '${e}': ${s}`),null)}}class gj{constructor(e,s){this.clientId=e,this.onlineState=s}static $s(e){const s=JSON.parse(e);return typeof s=="object"&&["Unknown","Online","Offline"].indexOf(s.onlineState)!==-1&&typeof s.clientId=="string"?new gj(s.clientId,s.onlineState):(ys(Aa,`Failed to parse online state: ${e}`),null)}}class Av{constructor(){this.activeTargetIds=Zw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tb{constructor(e,s,r,i,l){this.window=e,this.Ci=s,this.persistenceKey=r,this.zs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new Ft(We),this.started=!1,this.Zs=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Xs=WT(this.persistenceKey,this.zs),this.Ys=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new Av),this.eo=new RegExp(`^${GA}_${c}_([^_]*)$`),this.no=new RegExp(`^${KA}_${c}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${WA}_${c}_(\\d+)$`),this.io=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this.so=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const i=this.getItem(WT(this.persistenceKey,r));if(i){const l=Gg.$s(r,i);l&&(this.Js=this.Js.insert(l.clientId,l))}}this.oo();const s=this.storage.getItem(this.io);if(s){const r=this._o(s);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let s=!1;return this.Js.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(s=!0)})),s}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,s,r){this.co(e,s,r),this.lo(e)}addLocalQueryTarget(e,s=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Sb(this.persistenceKey,e));if(i){const l=pf.$s(e,i);l&&(r=l.state)}}return s&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Sb(this.persistenceKey,e))}updateQueryState(e,s,r){this.Po(e,s,r)}handleUserChange(e,s,r){s.forEach((i=>{this.lo(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const s=this.storage.getItem(e);return Ne(Aa,"READ",e,s),s}setItem(e,s){Ne(Aa,"SET",e,s),this.storage.setItem(e,s)}removeItem(e){Ne(Aa,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const s=e;if(s.storageArea===this.storage){if(Ne(Aa,"EVENT",s.key,s.newValue),s.key===this.Xs)return void ys("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(s.key!==null){if(this.eo.test(s.key)){if(s.newValue==null){const r=this.Eo(s.key);return this.Ro(r,null)}{const r=this.Ao(s.key,s.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(s.key)){if(s.newValue!==null){const r=this.Vo(s.key,s.newValue);if(r)return this.mo(r)}}else if(this.ro.test(s.key)){if(s.newValue!==null){const r=this.fo(s.key,s.newValue);if(r)return this.po(r)}}else if(s.key===this.io){if(s.newValue!==null){const r=this._o(s.newValue);if(r)return this.ao(r)}}else if(s.key===this.Ys){const r=(function(l){let c=zn.ce;if(l!=null)try{const h=JSON.parse(l);Le(typeof h=="number",30636,{yo:l}),c=h}catch(h){ys(Aa,"Failed to read sequence number from WebStorage",h)}return c})(s.newValue);r!==zn.ce&&this.sequenceNumberHandler(r)}else if(s.key===this.so){const r=this.wo(s.newValue);await Promise.all(r.map((i=>this.syncEngine.bo(i))))}}}else this.Zs.push(s)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,s,r){const i=new Hg(this.currentUser,e,s,r),l=YT(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Ws())}lo(e){const s=YT(this.persistenceKey,this.currentUser,e);this.removeItem(s)}To(e){const s={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(s))}Po(e,s,r){const i=Sb(this.persistenceKey,e),l=new pf(e,s,r);this.setItem(i,l.Ws())}Io(e){const s=JSON.stringify(Array.from(e));this.setItem(this.so,s)}Eo(e){const s=this.eo.exec(e);return s?s[1]:null}Ao(e,s){const r=this.Eo(e);return Gg.$s(r,s)}Vo(e,s){const r=this.no.exec(e),i=Number(r[1]),l=r[2]!==void 0?r[2]:null;return Hg.$s(new qs(l),i,s)}fo(e,s){const r=this.ro.exec(e),i=Number(r[1]);return pf.$s(i,s)}_o(e){return gj.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);Ne(Aa,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,s){const r=s?this.Js.insert(e,s):this.Js.remove(e),i=this.uo(this.Js),l=this.uo(r),c=[],h=[];return l.forEach((f=>{i.has(f)||c.push(f)})),i.forEach((f=>{l.has(f)||h.push(f)})),this.syncEngine.Co(c,h).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let s=Zw();return e.forEach(((r,i)=>{s=s.unionWith(i.activeTargetIds)})),s}}class YA{constructor(){this.vo=new Av,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,s,r){this.Fo[e]=s}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Av,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="ConnectivityMonitor";class JT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ne(QT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ne(QT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zp=null;function Iv(){return Zp===null?Zp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zp++,"0x"+Zp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="RestConnection",Q$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class J${get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=s+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===gv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,s,r,i,l){const c=Iv(),h=this.Qo(e,s.toUriEncodedString());Ne(kb,`Sending RPC '${e}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,l);const{host:p}=new URL(h),x=yu(p);return this.zo(e,h,f,r,x).then((b=>(Ne(kb,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw qa(kb,`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",r),b}))}jo(e,s,r,i,l,c){return this.Wo(e,s,r,i,l)}Go(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((i,l)=>e[l]=i)),r&&r.headers.forEach(((i,l)=>e[l]=i))}Qo(e,s){const r=Q$[e];let i=`${this.qo}/v1/${s}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection",qh=(n,e,s)=>{n.listen(e,(r=>{try{s(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Md extends J${constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Md.c_){const e=rC();qh(e,nC.STAT_EVENT,(s=>{s.stat===cv.PROXY?Ne(mn,"STAT_EVENT: detected buffering proxy"):s.stat===cv.NOPROXY&&Ne(mn,"STAT_EVENT: detected no buffering proxy")})),Md.c_=!0}}zo(e,s,r,i,l){const c=Iv();return new Promise(((h,f)=>{const p=new tC;p.setWithCredentials(!0),p.listenOnce(sC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case cg.NO_ERROR:const b=p.getResponseJson();Ne(mn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),h(b);break;case cg.TIMEOUT:Ne(mn,`RPC '${e}' ${c} timed out`),f(new we(ie.DEADLINE_EXCEEDED,"Request time out"));break;case cg.HTTP_ERROR:const v=p.getStatus();if(Ne(mn,`RPC '${e}' ${c} failed with status:`,v,"response text:",p.getResponseText()),v>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const A=(function(P){const D=P.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(D)>=0?D:ie.UNKNOWN})(S.status);f(new we(A,S.message))}else f(new we(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new we(ie.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Ne(mn,`RPC '${e}' ${c} completed.`)}}));const x=JSON.stringify(i);Ne(mn,`RPC '${e}' ${c} sending request:`,i),p.send(s,"POST",x,r,15)}))}T_(e,s,r){const i=Iv(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,s,r),h.encodeInitMessageHeaders=!0;const p=l.join("");Ne(mn,`Creating RPC '${e}' stream ${i}: ${p}`,h);const x=c.createWebChannel(p,h);this.I_(x);let b=!1,v=!1;const E=new X$({Ho:S=>{v?Ne(mn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(b||(Ne(mn,`Opening RPC '${e}' stream ${i} transport.`),x.open(),b=!0),Ne(mn,`RPC '${e}' stream ${i} sending:`,S),x.send(S))},Jo:()=>x.close()});return qh(x,Yh.EventType.OPEN,(()=>{v||(Ne(mn,`RPC '${e}' stream ${i} transport opened.`),E.i_())})),qh(x,Yh.EventType.CLOSE,(()=>{v||(v=!0,Ne(mn,`RPC '${e}' stream ${i} transport closed`),E.o_(),this.E_(x))})),qh(x,Yh.EventType.ERROR,(S=>{v||(v=!0,qa(mn,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),E.o_(new we(ie.UNAVAILABLE,"The operation could not be completed")))})),qh(x,Yh.EventType.MESSAGE,(S=>{var A;if(!v){const C=S.data[0];Le(!!C,16349);const P=C,D=(P==null?void 0:P.error)||((A=P[0])==null?void 0:A.error);if(D){Ne(mn,`RPC '${e}' stream ${i} received error:`,D);const F=D.status;let B=(function(_){const k=Cs[_];if(k!==void 0)return oA(k)})(F),$=D.message;B===void 0&&(B=ie.INTERNAL,$="Unknown error status: "+F+" with message "+D.message),v=!0,E.o_(new we(B,$)),x.close()}else Ne(mn,`RPC '${e}' stream ${i} received:`,C),E.__(C)}})),Md.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((s=>s===e))}Go(e,s,r){super.Go(e,s,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return aC()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(n){return new Md(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){return typeof window<"u"?window:null}function bg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(n){return new r$(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Md.c_=!1;class xj{constructor(e,s,r=1e3,i=1.5,l=6e4){this.Ci=e,this.timerId=s,this.R_=r,this.A_=i,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const s=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,s-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="PersistentStream";class JA{constructor(e,s,r,i,l,c,h,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xj(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===ie.RESOURCE_EXHAUSTED?(ys(s.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(s)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===s&&this.G_(r,i)}),(r=>{e((()=>{const i=new we(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,s){const r=this.Q_(this.D_);this.stream=this.j_(e,s),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ne(XT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return s=>{this.Ci.enqueueAndForget((()=>this.D_===e?s():(Ne(XT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eq extends JA{constructor(e,s,r,i,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,i,c),this.serializer=l}j_(e,s){return this.connection.T_("Listen",e,s)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=o$(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Fe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Fe.min():c.readTime?bs(c.readTime):Fe.min()})(e);return this.listener.J_(s,r)}Z_(e){const s={};s.database=Sv(this.serializer),s.addTarget=(function(l,c){let h;const f=c.target;if(h=Lg(f)?{documents:xA(l,f)}:{query:yA(l,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=uA(l,c.resumeToken);const p=Nv(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Fe.min())>0){h.readTime=ru(l,c.snapshotVersion.toTimestamp());const p=Nv(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=c$(this.serializer,e);r&&(s.labels=r),this.K_(s)}X_(e){const s={};s.database=Sv(this.serializer),s.removeTarget=e,this.K_(s)}}class tq extends JA{constructor(e,s,r,i,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,i,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}H_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=l$(e.writeResults,e.commitTime),r=bs(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=Sv(this.serializer),this.K_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>Lf(this.serializer,r)))};this.K_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{}class nq extends sq{constructor(e,s,r,i){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,_v(s,r),i,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(ie.UNKNOWN,l.toString())}))}jo(e,s,r,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,_v(s,r),i,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function rq(n,e,s,r){return new nq(n,e,s,r)}class aq{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(s),this.aa=!1):Ne("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc="RemoteStore";class iq{constructor(e,s,r,i,l){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{el(this)&&(Ne(uc,"Restarting streams for network reachability change."),await(async function(f){const p=Ce(f);p.Ea.add(4),await ku(p),p.Va.set("Unknown"),p.Ea.delete(4),await hm(p)})(this))}))})),this.Va=new aq(r,i)}}async function hm(n){if(el(n))for(const e of n.Ra)await e(!0)}async function ku(n){for(const e of n.Ra)await e(!1)}function Ax(n,e){const s=Ce(n);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),vj(s)?bj(s):Cu(s).O_()&&yj(s,e))}function ou(n,e){const s=Ce(n),r=Cu(s);s.Ia.delete(e),r.O_()&&XA(s,e),s.Ia.size===0&&(r.O_()?r.L_():el(s)&&s.Va.set("Unknown"))}function yj(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const s=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}Cu(n).Z_(e)}function XA(n,e){n.da.$e(e),Cu(n).X_(e)}function bj(n){n.da=new e$({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Cu(n).start(),n.Va.ua()}function vj(n){return el(n)&&!Cu(n).x_()&&n.Ia.size>0}function el(n){return Ce(n).Ea.size===0}function ZA(n){n.da=void 0}async function oq(n){n.Va.set("Online")}async function lq(n){n.Ia.forEach(((e,s)=>{yj(n,e)}))}async function cq(n,e){ZA(n),vj(n)?(n.Va.ha(e),bj(n)):n.Va.set("Unknown")}async function dq(n,e,s){if(n.Va.set("Online"),e instanceof dA&&e.state===2&&e.cause)try{await(async function(i,l){const c=l.cause;for(const h of l.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,c),i.Ia.delete(h),i.da.removeTarget(h))})(n,e)}catch(r){Ne(uc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kg(n,r)}else if(e instanceof xg?n.da.Xe(e):e instanceof cA?n.da.st(e):n.da.tt(e),!s.isEqual(Fe.min()))try{const r=await BA(n.localStore);s.compareTo(r)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const x=l.Ia.get(p);x&&l.Ia.set(p,x.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,p)=>{const x=l.Ia.get(f);if(!x)return;l.Ia.set(f,x.withResumeToken(hs.EMPTY_BYTE_STRING,x.snapshotVersion)),XA(l,f);const b=new pi(x.target,f,p,x.sequenceNumber);yj(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(n,s)}catch(r){Ne(uc,"Failed to raise snapshot:",r),await Kg(n,r)}}async function Kg(n,e,s){if(!Xo(e))throw e;n.Ea.add(1),await ku(n),n.Va.set("Offline"),s||(s=()=>BA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ne(uc,"Retrying IndexedDB access"),await s(),n.Ea.delete(1),await hm(n)}))}function eI(n,e){return e().catch((s=>Kg(n,s,e)))}async function Eu(n){const e=Ce(n),s=Go(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Po;for(;uq(e);)try{const i=await G$(e.localStore,r);if(i===null){e.Ta.length===0&&s.L_();break}r=i.batchId,hq(e,i)}catch(i){await Kg(e,i)}tI(e)&&sI(e)}function uq(n){return el(n)&&n.Ta.length<10}function hq(n,e){n.Ta.push(e);const s=Go(n);s.O_()&&s.Y_&&s.ea(e.mutations)}function tI(n){return el(n)&&!Go(n).x_()&&n.Ta.length>0}function sI(n){Go(n).start()}async function fq(n){Go(n).ra()}async function mq(n){const e=Go(n);for(const s of n.Ta)e.ea(s.mutations)}async function pq(n,e,s){const r=n.Ta.shift(),i=nj.from(r,e,s);await eI(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Eu(n)}async function gq(n,e){e&&Go(n).Y_&&await(async function(r,i){if((function(c){return iA(c)&&c!==ie.ABORTED})(i.code)){const l=r.Ta.shift();Go(r).B_(),await eI(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i))),await Eu(r)}})(n,e),tI(n)&&sI(n)}async function ZT(n,e){const s=Ce(n);s.asyncQueue.verifyOperationInProgress(),Ne(uc,"RemoteStore received new credentials");const r=el(s);s.Ea.add(3),await ku(s),r&&s.Va.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await hm(s)}async function Rv(n,e){const s=Ce(n);e?(s.Ea.delete(2),await hm(s)):e||(s.Ea.add(2),await ku(s),s.Va.set("Unknown"))}function Cu(n){return n.ma||(n.ma=(function(s,r,i){const l=Ce(s);return l.sa(),new eq(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(n.datastore,n.asyncQueue,{Zo:oq.bind(null,n),Yo:lq.bind(null,n),t_:cq.bind(null,n),J_:dq.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),vj(n)?bj(n):n.Va.set("Unknown")):(await n.ma.stop(),ZA(n))}))),n.ma}function Go(n){return n.fa||(n.fa=(function(s,r,i){const l=Ce(s);return l.sa(),new tq(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:fq.bind(null,n),t_:gq.bind(null,n),ta:mq.bind(null,n),na:pq.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Eu(n)):(await n.fa.stop(),n.Ta.length>0&&(Ne(uc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,s,r,i,l){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new an,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,i,l){const c=Date.now()+r,h=new wj(e,s,c,i,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Au(n,e){if(ys("AsyncQueue",`${e}: ${n}`),Xo(n))return new we(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{static emptySet(e){return new Ld(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||Ee.comparator(s.key,r.key):(s,r)=>Ee.comparator(s.key,r.key),this.keyedMap=Qh(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Ld)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const i=s.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new Ld;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.ga=new Ft(Ee.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):Ie(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,r)=>{e.push(r)})),e}}class lu{constructor(e,s,r,i,l,c,h,f,p){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,s,r,i,l){const c=[];return s.forEach((h=>{c.push({type:0,doc:h})})),new lu(e,s,Ld.emptySet(s),c,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let i=0;i<s.length;i++)if(s[i].type!==r[i].type||!s[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class yq{constructor(){this.queries=tk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const i=Ce(s),l=i.queries;i.queries=tk(),l.forEach(((c,h)=>{for(const f of h.ba)f.onError(r)}))})(this,new we(ie.ABORTED,"Firestore shutting down"))}}function tk(){return new Pi((n=>GC(n)),im)}async function jj(n,e){const s=Ce(n);let r=3;const i=e.query;let l=s.queries.get(i);l?!l.Sa()&&e.Da()&&(r=2):(l=new xq,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await s.onListen(i,!0);break;case 1:l.wa=await s.onListen(i,!1);break;case 2:await s.onFirstRemoteStoreListen(i)}}catch(c){const h=Au(c,`Initialization of query '${Nd(e.query)}' failed`);return void e.onError(h)}s.queries.set(i,l),l.ba.push(e),e.va(s.onlineState),l.wa&&e.Fa(l.wa)&&_j(s)}async function Nj(n,e){const s=Ce(n),r=e.query;let i=3;const l=s.queries.get(r);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?i=e.Da()?0:1:!l.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function bq(n,e){const s=Ce(n);let r=!1;for(const i of e){const l=i.query,c=s.queries.get(l);if(c){for(const h of c.ba)h.Fa(i)&&(r=!0);c.wa=i}}r&&_j(s)}function vq(n,e,s){const r=Ce(n),i=r.queries.get(e);if(i)for(const l of i.ba)l.onError(s);r.queries.delete(e)}function _j(n){n.Ca.forEach((e=>{e.next()}))}var Pv,sk;(sk=Pv||(Pv={})).Ma="default",sk.Cache="cache";class Sj{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new lu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pv.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,s){this.qa=e,this.byteLength=s}Ua(){return"metadata"in this.qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.serializer=e}Ks(e){return Ba(this.serializer,e)}qs(e){return e.metadata.exists?gA(this.serializer,e.document,!1):Ht.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return bs(e)}}class jq{constructor(e,s){this.$a=e,this.serializer=s,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=nI(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let s=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++s;const r=dt.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++s);return s!==this.progress.documentsLoaded?(this.progress.documentsLoaded=s,{...this.progress}):null}za(e){const s=new Map,r=new nk(this.serializer);for(const i of e)if(i.metadata.queries){const l=r.Ks(i.metadata.name);for(const c of i.metadata.queries){const h=(s.get(c)||et()).add(l);s.set(c,h)}}return s}async ja(e){const s=await K$(e,new nk(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const i of this.Wa)await W$(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:s}}}function nI(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.key=e}}class aI{constructor(e){this.key=e}}class iI{constructor(e,s){this.query=e,this.Za=s,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=et(),this.mutatedKeys=et(),this.eu=WC(e),this.tu=new Ld(this.eu)}get nu(){return this.Za}ru(e,s){const r=s?s.iu:new ek,i=s?s.tu:this.tu;let l=s?s.mutatedKeys:this.mutatedKeys,c=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((x,b)=>{const v=i.get(x),E=om(this.query,b)?b:null,S=!!v&&this.mutatedKeys.has(v.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;v&&E?v.data.isEqual(E.data)?S!==A&&(r.track({type:3,doc:E}),C=!0):this.su(v,E)||(r.track({type:2,doc:E}),C=!0,(f&&this.eu(E,f)>0||p&&this.eu(E,p)<0)&&(h=!0)):!v&&E?(r.track({type:0,doc:E}),C=!0):v&&!E&&(r.track({type:1,doc:v}),C=!0,(f||p)&&(h=!0)),C&&(E?(c=c.add(E),l=A?l.add(x):l.delete(x)):(c=c.delete(x),l=l.delete(x)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),l=l.delete(x.key),r.track({type:1,doc:x})}return{tu:c,iu:r,Ss:h,mutatedKeys:l}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,i){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((x,b)=>(function(E,S){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:C})}};return A(E)-A(S)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(r),i=i??!1;const h=s&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,p=f!==this.Xa;return this.Xa=f,c.length!==0||p?{snapshot:new lu(this.query,e.tu,l,c,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ek,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Za=this.Za.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Za=this.Za.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=et(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const s=[];return e.forEach((r=>{this.Ya.has(r)||s.push(new aI(r))})),this.Ya.forEach((r=>{e.has(r)||s.push(new rI(r))})),s}cu(e){this.Za=e.ks,this.Ya=et();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return lu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tl="SyncEngine";class Nq{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class _q{constructor(e){this.key=e,this.hu=!1}}class Sq{constructor(e,s,r,i,l,c){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Pi((h=>GC(h)),im),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ft(Ee.comparator),this.Au=new Map,this.Vu=new dj,this.du={},this.mu=new Map,this.fu=dc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Tq(n,e,s=!0){const r=Ix(n);let i;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.lu()):i=await oI(r,e,s,!0),i}async function kq(n,e){const s=Ix(n);await oI(s,e,!0,!1)}async function oI(n,e,s,r){const i=await au(n.localStore,kn(e)),l=i.targetId,c=n.sharedClientState.addLocalQueryTarget(l,s);let h;return r&&(h=await Tj(n,e,l,c==="current",i.resumeToken)),n.isPrimaryClient&&s&&Ax(n.remoteStore,i),h}async function Tj(n,e,s,r,i){n.pu=(b,v,E)=>(async function(A,C,P,D){let F=C.view.ru(P);F.Ss&&(F=await qg(A.localStore,C.query,!1).then((({documents:_})=>C.view.ru(_,F))));const B=D&&D.targetChanges.get(C.targetId),$=D&&D.targetMismatches.get(C.targetId)!=null,Q=C.view.applyChanges(F,A.isPrimaryClient,B,$);return Dv(A,C.targetId,Q.au),Q.snapshot})(n,b,v,E);const l=await qg(n.localStore,e,!0),c=new iI(e,l.ks),h=c.ru(l.documents),f=dm.createSynthesizedTargetChangeForCurrentChange(s,r&&n.onlineState!=="Offline",i),p=c.applyChanges(h,n.isPrimaryClient,f);Dv(n,s,p.au);const x=new Nq(e,s,c);return n.Tu.set(e,x),n.Iu.has(s)?n.Iu.get(s).push(e):n.Iu.set(s,[e]),p.snapshot}async function Eq(n,e,s){const r=Ce(n),i=r.Tu.get(e),l=r.Iu.get(i.targetId);if(l.length>1)return r.Iu.set(i.targetId,l.filter((c=>!im(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await iu(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),s&&ou(r.remoteStore,i.targetId),cu(r,i.targetId)})).catch(Jo)):(cu(r,i.targetId),await iu(r.localStore,i.targetId,!0))}async function Cq(n,e){const s=Ce(n),r=s.Tu.get(e),i=s.Iu.get(r.targetId);s.isPrimaryClient&&i.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),ou(s.remoteStore,r.targetId))}async function Aq(n,e,s){const r=Aj(n);try{const i=await(function(c,h){const f=Ce(c),p=Nt.now(),x=h.reduce(((E,S)=>E.add(S.key)),et());let b,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let S=Bn(),A=et();return f.xs.getEntries(E,x).next((C=>{S=C,S.forEach(((P,D)=>{D.isValidDocument()||(A=A.add(P))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,S))).next((C=>{b=C;const P=[];for(const D of h){const F=J7(D,b.get(D.key).overlayedDocument);F!=null&&P.push(new Di(D.key,F,LC(F.value.mapValue),Zt.exists(!0)))}return f.mutationQueue.addMutationBatch(E,p,P,h)})).next((C=>{v=C;const P=C.applyToLocalDocumentSet(b,A);return f.documentOverlayCache.saveOverlays(E,C.batchId,P)}))})).then((()=>({batchId:v.batchId,changes:QC(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,h,f){let p=c.du[c.currentUser.toKey()];p||(p=new Ft(We)),p=p.insert(h,f),c.du[c.currentUser.toKey()]=p})(r,i.batchId,s),await Oi(r,i.changes),await Eu(r.remoteStore)}catch(i){const l=Au(i,"Failed to persist write");s.reject(l)}}async function lI(n,e){const s=Ce(n);try{const r=await H$(s.localStore,e);e.targetChanges.forEach(((i,l)=>{const c=s.Au.get(l);c&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?Le(c.hu,14607):i.removedDocuments.size>0&&(Le(c.hu,42227),c.hu=!1))})),await Oi(s,r,e)}catch(r){await Jo(r)}}function rk(n,e,s){const r=Ce(n);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const i=[];r.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(c,h){const f=Ce(c);f.onlineState=h;let p=!1;f.queries.forEach(((x,b)=>{for(const v of b.ba)v.va(h)&&(p=!0)})),p&&_j(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Iq(n,e,s){const r=Ce(n);r.sharedClientState.updateQueryState(e,"rejected",s);const i=r.Au.get(e),l=i&&i.key;if(l){let c=new Ft(Ee.comparator);c=c.insert(l,Ht.newNoDocument(l,Fe.min()));const h=et().add(l),f=new cm(Fe.min(),new Map,new Ft(We),c,h);await lI(r,f),r.Ru=r.Ru.remove(l),r.Au.delete(e),Cj(r)}else await iu(r.localStore,e,!1).then((()=>cu(r,e,s))).catch(Jo)}async function Rq(n,e){const s=Ce(n),r=e.batch.batchId;try{const i=await q$(s.localStore,e);Ej(s,r,null),kj(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await Oi(s,i)}catch(i){await Jo(i)}}async function Pq(n,e,s){const r=Ce(n);try{const i=await(function(c,h){const f=Ce(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let x;return f.mutationQueue.lookupMutationBatch(p,h).next((b=>(Le(b!==null,37113),x=b.keys(),f.mutationQueue.removeMutationBatch(p,b)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,x,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,x))).next((()=>f.localDocuments.getDocuments(p,x)))}))})(r.localStore,e);Ej(r,e,s),kj(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await Oi(r,i)}catch(i){await Jo(i)}}async function Dq(n,e){const s=Ce(n);el(s.remoteStore)||Ne(tl,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(c){const h=Ce(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(f=>h.mutationQueue.getHighestUnacknowledgedBatchId(f)))})(s.localStore);if(r===Po)return void e.resolve();const i=s.mu.get(r)||[];i.push(e),s.mu.set(r,i)}catch(r){const i=Au(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function kj(n,e){(n.mu.get(e)||[]).forEach((s=>{s.resolve()})),n.mu.delete(e)}function Ej(n,e,s){const r=Ce(n);let i=r.du[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(s?l.reject(s):l.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function cu(n,e,s=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),s&&n.Pu.yu(r,s);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||cI(n,r)}))}function cI(n,e){n.Eu.delete(e.path.canonicalString());const s=n.Ru.get(e);s!==null&&(ou(n.remoteStore,s),n.Ru=n.Ru.remove(e),n.Au.delete(s),Cj(n))}function Dv(n,e,s){for(const r of s)r instanceof rI?(n.Vu.addReference(r.key,e),Oq(n,r)):r instanceof aI?(Ne(tl,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||cI(n,r.key)):Ie(19791,{wu:r})}function Oq(n,e){const s=e.key,r=s.path.canonicalString();n.Ru.get(s)||n.Eu.has(r)||(Ne(tl,"New document in limbo: "+s),n.Eu.add(r),Cj(n))}function Cj(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const s=new Ee(dt.fromString(e)),r=n.fu.next();n.Au.set(r,new _q(s)),n.Ru=n.Ru.insert(s,r),Ax(n.remoteStore,new pi(kn(_u(s.path)),r,"TargetPurposeLimboResolution",zn.ce))}}async function Oi(n,e,s){const r=Ce(n),i=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{c.push(r.pu(f,e,s).then((p=>{var x;if((p||s)&&r.isPrimaryClient){const b=p?!p.fromCache:(x=s==null?void 0:s.targetChanges.get(f.targetId))==null?void 0:x.current;r.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(p){i.push(p);const b=mj.Es(f.targetId,p);l.push(b)}})))})),await Promise.all(c),r.Pu.J_(i),await(async function(f,p){const x=Ce(f);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(p,(v=>Z.forEach(v.Ts,(E=>x.persistence.referenceDelegate.addReference(b,v.targetId,E))).next((()=>Z.forEach(v.Is,(E=>x.persistence.referenceDelegate.removeReference(b,v.targetId,E)))))))))}catch(b){if(!Xo(b))throw b;Ne(pj,"Failed to update sequence numbers: "+b)}for(const b of p){const v=b.targetId;if(!b.fromCache){const E=x.vs.get(v),S=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(S);x.vs=x.vs.insert(v,A)}}})(r.localStore,l))}async function Mq(n,e){const s=Ce(n);if(!s.currentUser.isEqual(e)){Ne(tl,"User change. New user:",e.toKey());const r=await UA(s.localStore,e);s.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((f=>{f.reject(new we(ie.CANCELLED,c))}))})),l.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oi(s,r.Ns)}}function Lq(n,e){const s=Ce(n),r=s.Au.get(e);if(r&&r.hu)return et().add(r.key);{let i=et();const l=s.Iu.get(e);if(!l)return i;for(const c of l){const h=s.Tu.get(c);i=i.unionWith(h.view.nu)}return i}}async function Vq(n,e){const s=Ce(n),r=await qg(s.localStore,e.query,!0),i=e.view.cu(r);return s.isPrimaryClient&&Dv(s,e.targetId,i.au),i}async function zq(n,e){const s=Ce(n);return qA(s.localStore,e).then((r=>Oi(s,r)))}async function Uq(n,e,s,r){const i=Ce(n),l=await(function(h,f){const p=Ce(h),x=Ce(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",(b=>x.Xn(b,f).next((v=>v?p.localDocuments.getDocuments(b,v):Z.resolve(null)))))})(i.localStore,e);l!==null?(s==="pending"?await Eu(i.remoteStore):s==="acknowledged"||s==="rejected"?(Ej(i,e,r||null),kj(i,e),(function(h,f){Ce(Ce(h).mutationQueue).nr(f)})(i.localStore,e)):Ie(6720,"Unknown batchState",{bu:s}),await Oi(i,l)):Ne(tl,"Cannot apply mutation batch with id: "+e)}async function Bq(n,e){const s=Ce(n);if(Ix(s),Aj(s),e===!0&&s.gu!==!0){const r=s.sharedClientState.getAllActiveQueryTargets(),i=await ak(s,r.toArray());s.gu=!0,await Rv(s.remoteStore,!0);for(const l of i)Ax(s.remoteStore,l)}else if(e===!1&&s.gu!==!1){const r=[];let i=Promise.resolve();s.Iu.forEach(((l,c)=>{s.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then((()=>(cu(s,c),iu(s.localStore,c,!0)))),ou(s.remoteStore,c)})),await i,await ak(s,r),(function(c){const h=Ce(c);h.Au.forEach(((f,p)=>{ou(h.remoteStore,p)})),h.Vu.zr(),h.Au=new Map,h.Ru=new Ft(Ee.comparator)})(s),s.gu=!1,await Rv(s.remoteStore,!1)}}async function ak(n,e,s){const r=Ce(n),i=[],l=[];for(const c of e){let h;const f=r.Iu.get(c);if(f&&f.length!==0){h=await au(r.localStore,kn(f[0]));for(const p of f){const x=r.Tu.get(p),b=await Vq(r,x);b.snapshot&&l.push(b.snapshot)}}else{const p=await $A(r.localStore,c);h=await au(r.localStore,p),await Tj(r,dI(p),c,!1,h.resumeToken)}i.push(h)}return r.Pu.J_(l),i}function dI(n){return HC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Fq(n){return(function(s){return Ce(Ce(s).persistence).hs()})(Ce(n).localStore)}async function $q(n,e,s,r){const i=Ce(n);if(i.gu)return void Ne(tl,"Ignoring unexpected query state notification.");const l=i.Iu.get(e);if(l&&l.length>0)switch(s){case"current":case"not-current":{const c=await qA(i.localStore,KC(l[0])),h=cm.createSynthesizedRemoteEventForCurrentChange(e,s==="current",hs.EMPTY_BYTE_STRING);await Oi(i,c,h);break}case"rejected":await iu(i.localStore,e,!0),cu(i,e,r);break;default:Ie(64155,s)}}async function qq(n,e,s){const r=Ix(n);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Ne(tl,"Adding an already active target "+i);continue}const l=await $A(r.localStore,i),c=await au(r.localStore,l);await Tj(r,dI(l),c.targetId,!1,c.resumeToken),Ax(r.remoteStore,c)}for(const i of s)r.Iu.has(i)&&await iu(r.localStore,i,!1).then((()=>{ou(r.remoteStore,i),cu(r,i)})).catch(Jo)}}function Ix(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Iq.bind(null,e),e.Pu.J_=bq.bind(null,e.eventManager),e.Pu.yu=vq.bind(null,e.eventManager),e}function Aj(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pq.bind(null,e),e}function Hq(n,e,s){const r=Ce(n);(async function(l,c,h){try{const f=await c.getMetadata();if(await(function(E,S){const A=Ce(E),C=bs(S.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",(P=>A.Pi.getBundleMetadata(P,S.id))).then((P=>!!P&&P.createTime.compareTo(C)>=0))})(l.localStore,f))return await c.close(),h._completeWith((function(E){return{taskState:"Success",documentsLoaded:E.totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}})(f)),Promise.resolve(new Set);h._updateProgress(nI(f));const p=new jq(f,c.serializer);let x=await c.Su();for(;x;){const v=await p.Ga(x);v&&h._updateProgress(v),x=await c.Su()}const b=await p.ja(l.localStore);return await Oi(l,b.Ja,void 0),await(function(E,S){const A=Ce(E);return A.persistence.runTransaction("Save bundle","readwrite",(C=>A.Pi.saveBundleMetadata(C,S)))})(l.localStore,f),h._completeWith(b.progress),Promise.resolve(b.Ha)}catch(f){return qa(tl,`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}})(r,e,s).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=um(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return zA(this.persistence,new VA,e.initialUser,this.serializer)}Cu(e){return new uj(Cx.Vi,this.serializer)}Du(e){return new YA}async terminate(){var e,s;(e=this.gcScheduler)==null||e.stop(),(s=this.indexBackfillerScheduler)==null||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vf.provider={build:()=>new Vf};class Gq extends Vf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){Le(this.persistence.referenceDelegate instanceof $g,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new RA(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new uj((r=>$g.Vi(r,s)),this.serializer)}}class uI extends Vf{constructor(e,s,r){super(),this.xu=e,this.cacheSizeBytes=s,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Aj(this.xu.syncEngine),await Eu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return zA(this.persistence,new VA,e.initialUser,this.serializer)}Fu(e,s){const r=this.persistence.referenceDelegate.garbageCollector;return new RA(r,e.asyncQueue,s)}Mu(e,s){const r=new YF(s,this.persistence);return new WF(e.asyncQueue,r)}Cu(e){const s=fj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new hj(this.synchronizeTabs,s,e.clientId,r,e.asyncQueue,QA(),bg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new YA}}class Kq extends uI{constructor(e,s){super(e,s,!1),this.xu=e,this.cacheSizeBytes=s,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const s=this.xu.syncEngine;this.sharedClientState instanceof Tb&&(this.sharedClientState.syncEngine={So:Uq.bind(null,s),Do:$q.bind(null,s),Co:qq.bind(null,s),hs:Fq.bind(null,s),bo:zq.bind(null,s)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await Bq(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const s=QA();if(!Tb.v(s))throw new we(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=fj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Tb(s,e.asyncQueue,r,e.clientId,e.initialUser)}}class zf{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mq.bind(null,this.syncEngine),await Rv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yq})()}createDatastore(e){const s=um(e.databaseInfo.databaseId),r=Z$(e.databaseInfo);return rq(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,i,l,c,h){return new iq(r,i,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(s=>rk(this.syncEngine,s,0)),(function(){return JT.v()?new JT:new Y$})())}createSyncEngine(e,s){return(function(i,l,c,h,f,p,x){const b=new Sq(i,l,c,h,f,p);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){var e,s;await(async function(i){const l=Ce(i);Ne(uc,"RemoteStore shutting down."),l.Ea.add(5),await ku(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(s=this.eventManager)==null||s.terminate()}}zf.provider={build:()=>new zf};function ik(n,e=10240){let s=0;return{async read(){if(s<n.byteLength){const r={value:n.slice(s,s+e),done:!1};return s+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e,s){this.Bu=e,this.serializer=s,this.metadata=new an,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const s=this.Lu.decode(e),r=Number(s);isNaN(r)&&this.qu(`length string (${s}) is not valid number`);const i=await this.Uu(r);return new wq(JSON.parse(i),e.length+r)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const s=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),s}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const s=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),s}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const s=new Uint8Array(this.buffer.length+e.value.length);s.set(this.buffer),s.set(e.value,this.buffer.length),this.buffer=s}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yq=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new we(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const s=await(async function(i,l){const c=Ce(i),h={documents:l.map((b=>Mf(c.serializer,b)))},f=await c.jo("BatchGetDocuments",c.serializer.databaseId,dt.emptyPath(),h,l.length),p=new Map;f.forEach((b=>{const v=i$(c.serializer,b);p.set(v.key.toString(),v)}));const x=[];return l.forEach((b=>{const v=p.get(b.toString());Le(!!v,55234,{key:b}),x.push(v)})),x})(this.datastore,e);return s.forEach((r=>this.recordVersion(r))),s}set(e,s){this.write(s.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,s){try{this.write(s.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Tu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((s=>{e.delete(s.key.toString())})),e.forEach(((s,r)=>{const i=Ee.fromPath(r);this.mutations.push(new tj(i,this.precondition(i)))})),await(async function(r,i){const l=Ce(r),c={writes:i.map((h=>Lf(l.serializer,h)))};await l.Wo("Commit",l.serializer.databaseId,dt.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let s;if(e.isFoundDocument())s=e.version;else{if(!e.isNoDocument())throw Ie(50498,{Gu:e.constructor.name});s=Fe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!s.isEqual(r))throw new we(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),s)}precondition(e){const s=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&s?s.isEqual(Fe.min())?Zt.exists(!1):Zt.updateTime(s):Zt.none()}preconditionForUpdate(e){const s=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&s){if(s.isEqual(Fe.min()))throw new we(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zt.updateTime(s)}return Zt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e,s,r,i,l){this.asyncQueue=e,this.datastore=s,this.options=r,this.updateFunction=i,this.deferred=l,this.zu=r.maxAttempts,this.M_=new xj(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new Yq(this.datastore),s=this.Ju(e);s&&s.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Zu(i)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const s=this.updateFunction(e);return!nm(s)&&s.catch&&s.then?s:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if((e==null?void 0:e.name)==="FirebaseError"){const s=e.code;return s==="aborted"||s==="failed-precondition"||s==="already-exists"||!iA(s)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="FirestoreClient";class Jq{constructor(e,s,r,i,l){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this._databaseInfo=i,this.user=qs.UNAUTHENTICATED,this.clientId=Bw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Ne(Ko,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ne(Ko,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new an;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=Au(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Eb(n,e){n.asyncQueue.verifyOperationInProgress(),Ne(Ko,"Initializing OfflineComponentProvider");const s=n.configuration;await e.initialize(s);let r=s.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await UA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function ok(n,e){n.asyncQueue.verifyOperationInProgress();const s=await Ij(n);Ne(Ko,"Initializing OnlineComponentProvider"),await e.initialize(s,n.configuration),n.setCredentialChangeListener((r=>ZT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>ZT(e.remoteStore,i))),n._onlineComponents=e}async function Ij(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ne(Ko,"Using user provided OfflineComponentProvider");try{await Eb(n,n._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(s))throw s;qa("Error using user provided cache. Falling back to memory cache: "+s),await Eb(n,new Vf)}}else Ne(Ko,"Using default OfflineComponentProvider"),await Eb(n,new Gq(void 0));return n._offlineComponents}async function Px(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ne(Ko,"Using user provided OnlineComponentProvider"),await ok(n,n._uninitializedComponentsProvider._online)):(Ne(Ko,"Using default OnlineComponentProvider"),await ok(n,new zf))),n._onlineComponents}function hI(n){return Ij(n).then((e=>e.persistence))}function Rj(n){return Ij(n).then((e=>e.localStore))}function fI(n){return Px(n).then((e=>e.remoteStore))}function Pj(n){return Px(n).then((e=>e.syncEngine))}function Xq(n){return Px(n).then((e=>e.datastore))}async function du(n){const e=await Px(n),s=e.eventManager;return s.onListen=Tq.bind(null,e.syncEngine),s.onUnlisten=Eq.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=kq.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=Cq.bind(null,e.syncEngine),s}function Zq(n){return n.asyncQueue.enqueue((async()=>{const e=await hI(n),s=await fI(n);return e.setNetworkEnabled(!0),(function(i){const l=Ce(i);return l.Ea.delete(0),hm(l)})(s)}))}function eH(n){return n.asyncQueue.enqueue((async()=>{const e=await hI(n),s=await fI(n);return e.setNetworkEnabled(!1),(async function(i){const l=Ce(i);l.Ea.add(0),await ku(l),l.Va.set("Offline")})(s)}))}function tH(n,e,s,r){const i=new Rx(r),l=new Sj(e,i,s);return n.asyncQueue.enqueueAndForget((async()=>jj(await du(n),l))),()=>{i.Nu(),n.asyncQueue.enqueueAndForget((async()=>Nj(await du(n),l)))}}function sH(n,e){const s=new an;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,l,c){try{const h=await(function(p,x){const b=Ce(p);return b.persistence.runTransaction("read document","readonly",(v=>b.localDocuments.getDocument(v,x)))})(i,l);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new we(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=Au(h,`Failed to get document '${l} from cache`);c.reject(f)}})(await Rj(n),e,s))),s.promise}function mI(n,e,s={}){const r=new an;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,p){const x=new Rx({next:v=>{x.Nu(),c.enqueueAndForget((()=>Nj(l,b)));const E=v.docs.has(h);!E&&v.fromCache?p.reject(new we(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&f&&f.source==="server"?p.reject(new we(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(v)},error:v=>p.reject(v)}),b=new Sj(_u(h.path),x,{includeMetadataChanges:!0,Ka:!0});return jj(l,b)})(await du(n),n.asyncQueue,e,s,r))),r.promise}function nH(n,e){const s=new an;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,l,c){try{const h=await qg(i,l,!0),f=new iI(l,h.ks),p=f.ru(h.documents),x=f.applyChanges(p,!1);c.resolve(x.snapshot)}catch(h){const f=Au(h,`Failed to execute query '${l} against cache`);c.reject(f)}})(await Rj(n),e,s))),s.promise}function pI(n,e,s={}){const r=new an;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,p){const x=new Rx({next:v=>{x.Nu(),c.enqueueAndForget((()=>Nj(l,b))),v.fromCache&&f.source==="server"?p.reject(new we(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(v)},error:v=>p.reject(v)}),b=new Sj(h,x,{includeMetadataChanges:!0,Ka:!0});return jj(l,b)})(await du(n),n.asyncQueue,e,s,r))),r.promise}function rH(n,e){const s=new an;return n.asyncQueue.enqueueAndForget((async()=>Aq(await Pj(n),e,s))),s.promise}function aH(n,e){const s=new Rx(e);return n.asyncQueue.enqueueAndForget((async()=>(function(i,l){Ce(i).Ca.add(l),l.next()})(await du(n),s))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(i,l){Ce(i).Ca.delete(l)})(await du(n),s)))}}function iH(n,e,s){const r=new an;return n.asyncQueue.enqueueAndForget((async()=>{const i=await Xq(n);new Qq(n.asyncQueue,i,s,e,r).ju()})),r.promise}function oH(n,e,s,r){const i=(function(c,h){let f;return f=typeof c=="string"?lA().encode(c):c,(function(x,b){return new Wq(x,b)})((function(x,b){if(x instanceof Uint8Array)return ik(x,b);if(x instanceof ArrayBuffer)return ik(new Uint8Array(x),b);if(x instanceof ReadableStream)return x.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(f),h)})(s,um(e));n.asyncQueue.enqueueAndForget((async()=>{Hq(await Pj(n),i,r)}))}function lH(n,e){return n.asyncQueue.enqueue((async()=>(function(r,i){const l=Ce(r);return l.persistence.runTransaction("Get named query","readonly",(c=>l.Pi.getNamedQuery(c,i)))})(await Rj(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH="ComponentProvider",lk=new Map;function dH(n,e,s,r,i){return new _7(n,e,s,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,gI(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="firestore.googleapis.com",ck=!0;class dk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xI,this.ssl=ck}else this.host=e.host,this.ssl=e.ssl??ck;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<S$)throw new we(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fm{constructor(e,s,r,i){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new MF;switch(r.type){case"firstParty":return new UF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=lk.get(s);r&&(Ne(cH,"Removing Datastore"),lk.delete(s),r.terminate())})(this),Promise.resolve()}}function uH(n,e,s,r={}){var p;n=vt(n,fm);const i=yu(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${s}`;i&&(O4(`https://${h}`),M4("Firestore",!0)),l.host!==xI&&l.host!==h&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:h,ssl:i,emulatorOptions:r};if(!Vo(f,c)&&(n._setSettings(f),r.mockUserToken)){let x,b;if(typeof r.mockUserToken=="string")x=r.mockUserToken,b=qs.MOCK_USER;else{x=QL(r.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new we(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new qs(v)}n._authCredentials=new LF(new oC(x,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cn=class yI{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yI(this.firestore,e,this._query)}},Bt=class Zh{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zh(this.firestore,e,this._key)}toJSON(){return{type:Zh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(sm(s,Zh._jsonSchema))return new Zh(e,r||null,new Ee(dt.fromString(s.referencePath)))}};Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:Is("string",Bt._jsonSchemaVersion),referencePath:Is("string")};let Do=class bI extends Cn{constructor(e,s,r){super(e,s,_u(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new Ee(e))}withConverter(e){return new bI(this.firestore,e,this._path)}};function vI(n,e,...s){if(n=qe(n),Fw("collection","path",e),n instanceof fm){const r=dt.fromString(e,...s);return XS(r),new Do(n,null,r)}{if(!(n instanceof Bt||n instanceof Do))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dt.fromString(e,...s));return XS(r),new Do(n.firestore,null,r)}}function hH(n,e){if(n=vt(n,fm),Fw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new we(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Cn(n,null,(function(r){return new Ri(dt.emptyPath(),r)})(e))}function Wg(n,e,...s){if(n=qe(n),arguments.length===1&&(e=Bw.newId()),Fw("doc","path",e),n instanceof fm){const r=dt.fromString(e,...s);return JS(r),new Bt(n,null,new Ee(r))}{if(!(n instanceof Bt||n instanceof Do))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dt.fromString(e,...s));return JS(r),new Bt(n.firestore,n instanceof Do?n.converter:null,new Ee(r))}}function wI(n,e){return n=qe(n),e=qe(e),(n instanceof Bt||n instanceof Do)&&(e instanceof Bt||e instanceof Do)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function jI(n,e){return n=qe(n),e=qe(e),n instanceof Cn&&e instanceof Cn&&n.firestore===e.firestore&&im(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="AsyncQueue";class hk{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xj(this,"async_queue_retry"),this._c=()=>{const r=bg();r&&Ne(uk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=bg();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=bg();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new an;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Xo(e))throw e;Ne(uk,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",fk(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const i=wj.createAndSchedule(this,e,s,r,(l=>this.hc(l)));return this.tc.push(i),i}uc(){this.nc&&Ie(47125,{Pc:fk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function fk(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(){this._progressObserver={},this._taskCompletionResolver=new an,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,s,r){this._progressObserver={next:e,error:s,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,s){return this._taskCompletionResolver.promise.then(e,s)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH=-1;let vs=class extends fm{constructor(e,s,r,i){super(e,s,r,i),this.type="firestore",this._queue=new hk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hk(e),this._firestoreClient=void 0,await e}}};function yn(n){if(n._terminated)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||NI(n),n._firestoreClient}function NI(n){var r,i,l,c;const e=n._freezeSettings(),s=dH(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,(i=n._app)==null?void 0:i.options.apiKey,e);n._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Jq(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}})(n._componentsProvider))}function pH(n,e){qa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=n._freezeSettings();return _I(n,zf.provider,{build:r=>new uI(r,s.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function gH(n){qa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();_I(n,zf.provider,{build:s=>new Kq(s,e.cacheSizeBytes)})}function _I(n,e,s){if((n=vt(n,vs))._firestoreClient||n._terminated)throw new we(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new we(ie.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:s},NI(n)}function xH(n){if(n._initialized&&!n._terminated)throw new we(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new an;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Ua.v())return Promise.resolve();const i=r+LA;await Ua.delete(i)})(fj(n._databaseId,n._persistenceKey)),e.resolve()}catch(s){e.reject(s)}})),e.promise}function yH(n){return(function(s){const r=new an;return s.asyncQueue.enqueueAndForget((async()=>Dq(await Pj(s),r))),r.promise})(yn(n=vt(n,vs)))}function bH(n){return Zq(yn(n=vt(n,vs)))}function vH(n){return eH(yn(n=vt(n,vs)))}function wH(n,e){const s=yn(n=vt(n,vs)),r=new fH;return oH(s,n._databaseId,e,r),r}function jH(n,e){return lH(yn(n=vt(n,vs)),e).then((s=>s?new Cn(n,null,s.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gn(hs.fromBase64String(e))}catch(s){throw new we(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new gn(hs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(sm(e,gn._jsonSchema))return gn.fromBase64String(e.bytes)}}gn._jsonSchemaVersion="firestore/bytes/1.0",gn._jsonSchema={type:Is("string",gn._jsonSchemaVersion),bytes:Is("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=class{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new we(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new we(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new we(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ra._jsonSchemaVersion}}static fromJSON(e){if(sm(e,ra._jsonSchema))return new ra(e.latitude,e.longitude)}}ra._jsonSchemaVersion="firestore/geoPoint/1.0",ra._jsonSchema={type:Is("string",ra._jsonSchemaVersion),latitude:Is("number"),longitude:Is("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==i[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:aa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(sm(e,aa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new aa(e.vectorValues);throw new we(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}aa._jsonSchemaVersion="firestore/vectorValue/1.0",aa._jsonSchema={type:Is("string",aa._jsonSchemaVersion),vectorValues:Is("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=/^__.*__$/;class _H{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,s,this.fieldTransforms):new Su(e,this.data,s,this.fieldTransforms)}}class SI{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new Di(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function TI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{dataSource:n})}}class Dx{constructor(e,s,r,i,l,c){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=i,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Dx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const s=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:s,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const s=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:s,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Yg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(TI(this.dataSource)&&NH.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class SH{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||um(e)}createContext(e,s,r,i=!1){return new Dx({dataSource:e,methodName:s,targetDoc:r,path:Xt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wc(n){const e=n._freezeSettings(),s=um(n._databaseId);return new SH(n._databaseId,!!e.ignoreUndefinedProperties,s)}function Ox(n,e,s,r,i,l={}){const c=n.createContext(l.merge||l.mergeFields?2:0,e,s,i);Uj("Data must be an object, but it was:",c,r);const h=CI(r,c);let f,p;if(l.merge)f=new Un(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const x=[];for(const b of l.mergeFields){const v=fc(e,b,s);if(!c.contains(v))throw new we(ie.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);RI(x,v)||x.push(v)}f=new Un(x),p=c.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,p=c.fieldTransforms;return new _H(new tn(h),f,p)}class mm extends vc{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mm}}function kI(n,e,s){return new Dx({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:s},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Dj extends vc{_toFieldTransform(e){return new lm(e.path,new su)}isEqual(e){return e instanceof Dj}}class Oj extends vc{constructor(e,s){super(e),this.Ac=s}_toFieldTransform(e){const s=kI(this,e,!0),r=this.Ac.map((l=>jc(l,s))),i=new ic(r);return new lm(e.path,i)}isEqual(e){return e instanceof Oj&&Vo(this.Ac,e.Ac)}}class Mj extends vc{constructor(e,s){super(e),this.Ac=s}_toFieldTransform(e){const s=kI(this,e,!0),r=this.Ac.map((l=>jc(l,s))),i=new oc(r);return new lm(e.path,i)}isEqual(e){return e instanceof Mj&&Vo(this.Ac,e.Ac)}}class Lj extends vc{constructor(e,s){super(e),this.Vc=s}_toFieldTransform(e){const s=new nu(e.serializer,ZC(e.serializer,this.Vc));return new lm(e.path,s)}isEqual(e){return e instanceof Lj&&this.Vc===e.Vc}}function Vj(n,e,s,r){const i=n.createContext(1,e,s);Uj("Data must be an object, but it was:",i,r);const l=[],c=tn.empty();Zo(r,((f,p)=>{const x=II(e,f,s);p=qe(p);const b=i.childContextForFieldPath(x);if(p instanceof mm)l.push(x);else{const v=jc(p,b);v!=null&&(l.push(x),c.set(x,v))}}));const h=new Un(l);return new SI(c,h,i.fieldTransforms)}function zj(n,e,s,r,i,l){const c=n.createContext(1,e,s),h=[fc(e,r,s)],f=[i];if(l.length%2!=0)throw new we(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<l.length;v+=2)h.push(fc(e,l[v])),f.push(l[v+1]);const p=[],x=tn.empty();for(let v=h.length-1;v>=0;--v)if(!RI(p,h[v])){const E=h[v];let S=f[v];S=qe(S);const A=c.childContextForFieldPath(E);if(S instanceof mm)p.push(E);else{const C=jc(S,A);C!=null&&(p.push(E),x.set(E,C))}}const b=new Un(p);return new SI(x,b,c.fieldTransforms)}function EI(n,e,s,r=!1){return jc(s,n.createContext(r?4:3,e))}function jc(n,e){if(AI(n=qe(n)))return Uj("Unsupported field value:",e,n),CI(n,e);if(n instanceof vc)return(function(r,i){if(!TI(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(i);l&&i.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const l=[];let c=0;for(const h of r){let f=jc(h,i.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(n,e)}return(function(r,i){if((r=qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZC(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Nt.fromDate(r);return{timestampValue:ru(i.serializer,l)}}if(r instanceof Nt){const l=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ru(i.serializer,l)}}if(r instanceof ra)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gn)return{bytesValue:uA(i.serializer,r._byteString)};if(r instanceof Bt){const l=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw i.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ij(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof aa)return(function(c,h){const f=c instanceof aa?c.toArray():c;return{mapValue:{fields:{[Yw]:{stringValue:Qw},[Zd]:{arrayValue:{values:f.map((x=>{if(typeof x!="number")throw h.createError("VectorValues must only contain numeric values.");return ej(h.serializer,x)}))}}}}}})(r,i);if(NA(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${xx(r)}`)})(n,e)}function CI(n,e){const s={};return EC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(n,((r,i)=>{const l=jc(i,e.childContextForField(r));l!=null&&(s[r]=l)})),{mapValue:{fields:s}}}function AI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nt||n instanceof ra||n instanceof gn||n instanceof Bt||n instanceof vc||n instanceof aa||NA(n))}function Uj(n,e,s){if(!AI(s)||!dC(s)){const r=xx(s);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function fc(n,e,s){if((e=qe(e))instanceof hc)return e._internalPath;if(typeof e=="string")return II(n,e);throw Yg("Field path arguments must be of type string or ",n,!1,void 0,s)}const TH=new RegExp("[~\\*/\\[\\]]");function II(n,e,s){if(e.search(TH)>=0)throw Yg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,s);try{return new hc(...e.split("."))._internalPath}catch{throw Yg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,s)}}function Yg(n,e,s,r,i){const l=r&&!r.isEmpty(),c=i!==void 0;let h=`Function ${e}() called with invalid data`;s&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new we(ie.INVALID_ARGUMENT,h+n+f)}function RI(n,e){return n.some((s=>s.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{convertValue(e,s="none"){switch($o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return Zo(e,((i,l)=>{r[i]=this.convertValue(l,s)})),r}convertVectorValue(e){var r,i,l;const s=(l=(i=(r=e.fields)==null?void 0:r[Zd].arrayValue)==null?void 0:i.values)==null?void 0:l.map((c=>Qt(c.doubleValue)));return new aa(s)}convertGeoPoint(e){return new ra(Qt(e.latitude),Qt(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=Nx(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(Rf(e));default:return null}}convertTimestamp(e){const s=ki(e);return new Nt(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=dt.fromString(e);Le(jA(r),9688,{name:e});const i=new Fo(r.get(1),r.get(3)),l=new Ee(r.popFirst(5));return i.isEqual(s)||ys(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends Bj{constructor(e){super(),this.firestore=e}convertBytes(e){return new gn(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kH(){return new mm("deleteField")}function EH(){return new Dj("serverTimestamp")}function CH(...n){return new Oj("arrayUnion",n)}function AH(...n){return new Mj("arrayRemove",n)}function IH(n){return new Lj("increment",n)}const mk="@firebase/firestore",pk="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(n){return(function(s,r){if(typeof s!="object"||s===null)return!1;const i=s;for(const l of r)if(l in i&&typeof i[l]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,s,r,i,l){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const s=this._document.data.field(fc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class RH extends Uf{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fj{}class pm extends Fj{}function No(n,e,...s){let r=[];e instanceof Fj&&r.push(e),r=r.concat(s),(function(l){const c=l.filter((f=>f instanceof $j)).length,h=l.filter((f=>f instanceof Mx)).length;if(c>1||c>0&&h>0)throw new we(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Mx extends pm{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new Mx(e,s,r)}_apply(e){const s=this._parse(e);return OI(e._query,s),new Cn(e.firestore,e.converter,jv(e._query,s))}_parse(e){const s=wc(e.firestore);return(function(l,c,h,f,p,x,b){let v;if(p.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new we(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){xk(b,x);const S=[];for(const A of b)S.push(gk(f,l,A));v={arrayValue:{values:S}}}else v=gk(f,l,b)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||xk(b,x),v=EI(h,c,b,x==="in"||x==="not-in");return mt.create(p,x,v)})(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function PH(n,e,s){const r=e,i=fc("where",n);return Mx._create(i,r,s)}class $j extends Fj{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new $j(e,s)}_parse(e){const s=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return s.length===1?s[0]:Et.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:((function(i,l){let c=i;const h=l.getFlattenedFilters();for(const f of h)OI(c,f),c=jv(c,f)})(e._query,s),new Cn(e.firestore,e.converter,jv(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qj extends pm{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new qj(e,s)}_apply(e){const s=(function(i,l,c){if(i.startAt!==null)throw new we(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Of(l,c)})(e._query,this._field,this._direction);return new Cn(e.firestore,e.converter,V7(e._query,s))}}function DH(n,e="asc"){const s=e,r=fc("orderBy",n);return qj._create(r,s)}class Lx extends pm{constructor(e,s,r){super(),this.type=e,this._limit=s,this._limitType=r}static _create(e,s,r){return new Lx(e,s,r)}_apply(e){return new Cn(e.firestore,e.converter,zg(e._query,this._limit,this._limitType))}}function OH(n){return uC("limit",n),Lx._create("limit",n,"F")}function MH(n){return uC("limitToLast",n),Lx._create("limitToLast",n,"L")}class Vx extends pm{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new Vx(e,s,r)}_apply(e){const s=DI(e,this.type,this._docOrFields,this._inclusive);return new Cn(e.firestore,e.converter,z7(e._query,s))}}function LH(...n){return Vx._create("startAt",n,!0)}function VH(...n){return Vx._create("startAfter",n,!1)}class zx extends pm{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new zx(e,s,r)}_apply(e){const s=DI(e,this.type,this._docOrFields,this._inclusive);return new Cn(e.firestore,e.converter,U7(e._query,s))}}function zH(...n){return zx._create("endBefore",n,!1)}function UH(...n){return zx._create("endAt",n,!0)}function DI(n,e,s,r){if(s[0]=qe(s[0]),s[0]instanceof Uf)return(function(l,c,h,f,p){if(!f)throw new we(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const x=[];for(const b of Od(l))if(b.field.isKeyField())x.push(rc(c,f.key));else{const v=f.data.field(b.field);if(jx(v))throw new we(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const E=b.field.canonicalString();throw new we(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}x.push(v)}return new Ho(x,p)})(n._query,n.firestore._databaseId,e,s[0]._document,r);{const i=wc(n.firestore);return(function(c,h,f,p,x,b){const v=c.explicitOrderBy;if(x.length>v.length)throw new we(ie.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let S=0;S<x.length;S++){const A=x[S];if(v[S].field.isKeyField()){if(typeof A!="string")throw new we(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof A}`);if(!Xw(c)&&A.indexOf("/")!==-1)throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${A}' contains a slash.`);const C=c.path.child(dt.fromString(A));if(!Ee.isDocumentKey(C))throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const P=new Ee(C);E.push(rc(h,P))}else{const C=EI(f,p,A);E.push(C)}}return new Ho(E,b)})(n._query,n.firestore._databaseId,i,e,s,r)}}function gk(n,e,s){if(typeof(s=qe(s))=="string"){if(s==="")throw new we(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xw(e)&&s.indexOf("/")!==-1)throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child(dt.fromString(s));if(!Ee.isDocumentKey(r))throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rc(n,new Ee(r))}if(s instanceof Bt)return rc(n,s._key);throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xx(s)}.`)}function xk(n,e){if(!Array.isArray(n)||n.length===0)throw new we(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OI(n,e){const s=(function(i,l){for(const c of i)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(s!==null)throw s===e.op?new we(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}function Ux(n,e,s){let r;return r=n?s&&(s.merge||s.mergeFields)?n.toFirestore(e,s):n.toFirestore(e):e,r}class BH extends Bj{constructor(e){super(),this.firestore=e}convertBytes(e){return new gn(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,s)}}class zl{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Rr=class MI extends Uf{constructor(e,s,r,i,l,c){super(e,s,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(fc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=MI._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}};Rr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rr._jsonSchema={type:Is("string",Rr._jsonSchemaVersion),bundleSource:Is("string","DocumentSnapshot"),bundleName:Is("string"),bundle:Is("string")};let gf=class extends Rr{data(e={}){return super.data(e)}},ia=class LI{constructor(e,s,r,i){this._firestore=e,this._userDataWriter=s,this._snapshot=i,this.metadata=new zl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new gf(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new we(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(i,l){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((h=>{const f=new gf(i._firestore,i._userDataWriter,h.doc.key,h.doc,new zl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const f=new gf(i._firestore,i._userDataWriter,h.doc.key,h.doc,new zl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,x=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),x=c.indexOf(h.doc.key)),{type:FH(h.type),doc:f,oldIndex:p,newIndex:x}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=LI._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],i=[];return this.docs.forEach((l=>{l._document!==null&&(s.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),i.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function FH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}function VI(n,e){return n instanceof Rr&&e instanceof Rr?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ia&&e instanceof ia&&n._firestore===e._firestore&&jI(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ia._jsonSchemaVersion="firestore/querySnapshot/1.0",ia._jsonSchema={type:Is("string",ia._jsonSchemaVersion),bundleSource:Is("string","QuerySnapshot"),bundleName:Is("string"),bundle:Is("string")};const $H={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qH=class{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=wc(e)}set(e,s,r){this._verifyNotCommitted();const i=Eo(e,this._firestore),l=Ux(i.converter,s,r),c=Ox(this._dataReader,"WriteBatch.set",i._key,l,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,Zt.none())),this}update(e,s,r,...i){this._verifyNotCommitted();const l=Eo(e,this._firestore);let c;return c=typeof(s=qe(s))=="string"||s instanceof hc?zj(this._dataReader,"WriteBatch.update",l._key,s,r,i):Vj(this._dataReader,"WriteBatch.update",l._key,s),this._mutations.push(c.toMutation(l._key,Zt.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=Eo(e,this._firestore);return this._mutations=this._mutations.concat(new Tu(s._key,Zt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Eo(n,e){if((n=qe(n)).firestore!==e)throw new we(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e,s){this._firestore=e,this._transaction=s,this._dataReader=wc(e)}get(e){const s=Eo(e,this._firestore),r=new BH(this._firestore);return this._transaction.lookup([s._key]).then((i=>{if(!i||i.length!==1)return Ie(24041);const l=i[0];if(l.isFoundDocument())return new Uf(this._firestore,r,l.key,l,s.converter);if(l.isNoDocument())return new Uf(this._firestore,r,s._key,null,s.converter);throw Ie(18433,{doc:l})}))}set(e,s,r){const i=Eo(e,this._firestore),l=Ux(i.converter,s,r),c=Ox(this._dataReader,"Transaction.set",i._key,l,i.converter!==null,r);return this._transaction.set(i._key,c),this}update(e,s,r,...i){const l=Eo(e,this._firestore);let c;return c=typeof(s=qe(s))=="string"||s instanceof hc?zj(this._dataReader,"Transaction.update",l._key,s,r,i):Vj(this._dataReader,"Transaction.update",l._key,s),this._transaction.update(l._key,c),this}delete(e){const s=Eo(e,this._firestore);return this._transaction.delete(s._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GH=class extends HH{constructor(e,s){super(e,s),this._firestore=e}get(e){const s=Eo(e,this._firestore),r=new Nc(this._firestore);return super.get(e).then((i=>new Rr(this._firestore,r,s._key,i._document,new zl(!1,!1),s.converter)))}};function KH(n,e,s){n=vt(n,vs);const r={...$H,...s};(function(c){if(c.maxAttempts<1)throw new we(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const i=yn(n);return iH(i,(l=>e(new GH(n,l))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(n){n=vt(n,Bt);const e=vt(n.firestore,vs),s=yn(e);return mI(s,n._key).then((r=>Hj(e,n,r)))}function YH(n){n=vt(n,Bt);const e=vt(n.firestore,vs),s=yn(e),r=new Nc(e);return sH(s,n._key).then((i=>new Rr(e,r,n._key,i,new zl(i!==null&&i.hasLocalMutations,!0),n.converter)))}function QH(n){n=vt(n,Bt);const e=vt(n.firestore,vs),s=yn(e);return mI(s,n._key,{source:"server"}).then((r=>Hj(e,n,r)))}function JH(n){n=vt(n,Cn);const e=vt(n.firestore,vs),s=yn(e),r=new Nc(e);return PI(n._query),pI(s,n._query).then((i=>new ia(e,r,n,i)))}function XH(n){n=vt(n,Cn);const e=vt(n.firestore,vs),s=yn(e),r=new Nc(e);return nH(s,n._query).then((i=>new ia(e,r,n,i)))}function ZH(n){n=vt(n,Cn);const e=vt(n.firestore,vs),s=yn(e),r=new Nc(e);return pI(s,n._query,{source:"server"}).then((i=>new ia(e,r,n,i)))}function yk(n,e,s){n=vt(n,Bt);const r=vt(n.firestore,vs),i=Ux(n.converter,e,s),l=wc(r);return gm(r,[Ox(l,"setDoc",n._key,i,n.converter!==null,s).toMutation(n._key,Zt.none())])}function bk(n,e,s,...r){n=vt(n,Bt);const i=vt(n.firestore,vs),l=wc(i);let c;return c=typeof(e=qe(e))=="string"||e instanceof hc?zj(l,"updateDoc",n._key,e,s,r):Vj(l,"updateDoc",n._key,e),gm(i,[c.toMutation(n._key,Zt.exists(!0))])}function eG(n){return gm(vt(n.firestore,vs),[new Tu(n._key,Zt.none())])}function tG(n,e){const s=vt(n.firestore,vs),r=Wg(n),i=Ux(n.converter,e),l=wc(n.firestore);return gm(s,[Ox(l,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Zt.exists(!1))]).then((()=>r))}function zI(n,...e){var p,x,b;n=qe(n);let s={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Ov(e[r])||(s=e[r++]);const i={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Ov(e[r])){const v=e[r];e[r]=(p=v.next)==null?void 0:p.bind(v),e[r+1]=(x=v.error)==null?void 0:x.bind(v),e[r+2]=(b=v.complete)==null?void 0:b.bind(v)}let l,c,h;if(n instanceof Bt)c=vt(n.firestore,vs),h=_u(n._key.path),l={next:v=>{e[r]&&e[r](Hj(c,n,v))},error:e[r+1],complete:e[r+2]};else{const v=vt(n,Cn);c=vt(v.firestore,vs),h=v._query;const E=new Nc(c);l={next:S=>{e[r]&&e[r](new ia(c,E,v,S))},error:e[r+1],complete:e[r+2]},PI(n._query)}const f=yn(c);return tH(f,h,i,l)}function sG(n,e){n=vt(n,vs);const s=yn(n),r=Ov(e)?e:{next:e};return aH(s,r)}function gm(n,e){const s=yn(n);return rH(s,e)}function Hj(n,e,s){const r=s.docs.get(e._key),i=new Nc(n);return new Rr(n,i,e._key,r,new zl(s.hasPendingWrites,s.fromCache),e.converter)}(function(e,s=!0){PF(Wo),zr(new En("firestore",((r,{instanceIdentifier:i,options:l})=>{const c=r.getProvider("app").getImmediate(),h=new vs(new VF(r.getProvider("auth-internal")),new BF(c,r.getProvider("app-check-internal")),S7(c,i),c);return l={useFetchStreams:s,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Tn(mk,pk,e),Tn(mk,pk,"esm2020")})();const nG="@firebase/firestore-compat",rG="0.4.4";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new we("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){if(typeof Uint8Array>"u")throw new we("unimplemented","Uint8Arrays are not available in this environment.")}function wk(){if(!j7())throw new we("unimplemented","Blobs are unavailable in Firestore in this environment.")}let UI=class Mv{constructor(e){this._delegate=e}static fromBase64String(e){return wk(),new Mv(gn.fromBase64String(e))}static fromUint8Array(e){return vk(),new Mv(gn.fromUint8Array(e))}toBase64(){return wk(),this._delegate.toBase64()}toUint8Array(){return vk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(n){return aG(n,["next","error","complete"])}function aG(n,e){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of e)if(r in s&&typeof s[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{enableIndexedDbPersistence(e,s){return pH(e._delegate,{forceOwnership:s})}enableMultiTabIndexedDbPersistence(e){return gH(e._delegate)}clearIndexedDbPersistence(e){return xH(e._delegate)}}class BI{constructor(e,s,r){this._delegate=s,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const s=this._delegate._getSettings();!e.merge&&s.host!==e.host&&qa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...s,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,s,r={}){uH(this._delegate,e,s,r)}enableNetwork(){return bH(this._delegate)}disableNetwork(){return vH(this._delegate)}enablePersistence(e){let s=!1,r=!1;return e&&(s=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,cC("synchronizeTabs",s,"experimentalForceOwningTab",r)),s?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return yH(this._delegate)}onSnapshotsInSync(e){return sG(this._delegate,e)}get app(){if(!this._appCompat)throw new we("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new uu(this,vI(this._delegate,e))}catch(s){throw Sn(s,"collection()","Firestore.collection()")}}doc(e){try{return new Ar(this,Wg(this._delegate,e))}catch(s){throw Sn(s,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Nn(this,hH(this._delegate,e))}catch(s){throw Sn(s,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return KH(this._delegate,s=>e(new FI(this,s)))}batch(){return yn(this._delegate),new $I(new qH(this._delegate,e=>gm(this._delegate,e)))}loadBundle(e){return wH(this._delegate,e)}namedQuery(e){return jH(this._delegate,e).then(s=>s?new Nn(this,s):null)}}class Bx extends Bj{constructor(e){super(),this.firestore=e}convertBytes(e){return new UI(new gn(e))}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return Ar.forKey(s,this.firestore,null)}}function oG(n){DF(n)}class FI{constructor(e,s){this._firestore=e,this._delegate=s,this._userDataWriter=new Bx(e)}get(e){const s=Ul(e);return this._delegate.get(s).then(r=>new Bf(this._firestore,new Rr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,s.converter)))}set(e,s,r){const i=Ul(e);return r?(Gj("Transaction.set",r),this._delegate.set(i,s,r)):this._delegate.set(i,s),this}update(e,s,r,...i){const l=Ul(e);return arguments.length===2?this._delegate.update(l,s):this._delegate.update(l,s,r,...i),this}delete(e){const s=Ul(e);return this._delegate.delete(s),this}}class $I{constructor(e){this._delegate=e}set(e,s,r){const i=Ul(e);return r?(Gj("WriteBatch.set",r),this._delegate.set(i,s,r)):this._delegate.set(i,s),this}update(e,s,r,...i){const l=Ul(e);return arguments.length===2?this._delegate.update(l,s):this._delegate.update(l,s,r,...i),this}delete(e){const s=Ul(e);return this._delegate.delete(s),this}commit(){return this._delegate.commit()}}class mc{constructor(e,s,r){this._firestore=e,this._userDataWriter=s,this._delegate=r}fromFirestore(e,s){const r=new gf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ff(this._firestore,r),s??{})}toFirestore(e,s){return s?this._delegate.toFirestore(e,s):this._delegate.toFirestore(e)}static getInstance(e,s){const r=mc.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(s);return l||(l=new mc(e,new Bx(e),s),i.set(s,l)),l}}mc.INSTANCES=new WeakMap;class Ar{constructor(e,s){this.firestore=e,this._delegate=s,this._userDataWriter=new Bx(e)}static forPath(e,s,r){if(e.length%2!==0)throw new we("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ar(s,new Bt(s._delegate,r,new Ee(e)))}static forKey(e,s,r){return new Ar(s,new Bt(s._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new uu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new uu(this.firestore,vI(this._delegate,e))}catch(s){throw Sn(s,"collection()","DocumentReference.collection()")}}isEqual(e){return e=qe(e),e instanceof Bt?wI(this._delegate,e):!1}set(e,s){s=Gj("DocumentReference.set",s);try{return s?yk(this._delegate,e,s):yk(this._delegate,e)}catch(r){throw Sn(r,"setDoc()","DocumentReference.set()")}}update(e,s,...r){try{return arguments.length===1?bk(this._delegate,e):bk(this._delegate,e,s,...r)}catch(i){throw Sn(i,"updateDoc()","DocumentReference.update()")}}delete(){return eG(this._delegate)}onSnapshot(...e){const s=qI(e),r=HI(e,i=>new Bf(this.firestore,new Rr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return zI(this._delegate,s,r)}get(e){let s;return(e==null?void 0:e.source)==="cache"?s=YH(this._delegate):(e==null?void 0:e.source)==="server"?s=QH(this._delegate):s=WH(this._delegate),s.then(r=>new Bf(this.firestore,new Rr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ar(this.firestore,e?this._delegate.withConverter(mc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Sn(n,e,s){return n.message=n.message.replace(e,s),n}function qI(n){for(const e of n)if(typeof e=="object"&&!Lv(e))return e;return{}}function HI(n,e){var r,i;let s;return Lv(n[0])?s=n[0]:Lv(n[1])?s=n[1]:typeof n[0]=="function"?s={next:n[0],error:n[1],complete:n[2]}:s={next:n[1],error:n[2],complete:n[3]},{next:l=>{s.next&&s.next(e(l))},error:(r=s.error)==null?void 0:r.bind(s),complete:(i=s.complete)==null?void 0:i.bind(s)}}class Bf{constructor(e,s){this._firestore=e,this._delegate=s}get ref(){return new Ar(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,s){return this._delegate.get(e,s)}isEqual(e){return VI(this._delegate,e._delegate)}}class Ff extends Bf{data(e){const s=this._delegate.data(e);return this._delegate._converter||OF(s!==void 0,"Document in a QueryDocumentSnapshot should exist"),s}}class Nn{constructor(e,s){this.firestore=e,this._delegate=s,this._userDataWriter=new Bx(e)}where(e,s,r){try{return new Nn(this.firestore,No(this._delegate,PH(e,s,r)))}catch(i){throw Sn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,s){try{return new Nn(this.firestore,No(this._delegate,DH(e,s)))}catch(r){throw Sn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Nn(this.firestore,No(this._delegate,OH(e)))}catch(s){throw Sn(s,"limit()","Query.limit()")}}limitToLast(e){try{return new Nn(this.firestore,No(this._delegate,MH(e)))}catch(s){throw Sn(s,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Nn(this.firestore,No(this._delegate,LH(...e)))}catch(s){throw Sn(s,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Nn(this.firestore,No(this._delegate,VH(...e)))}catch(s){throw Sn(s,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Nn(this.firestore,No(this._delegate,zH(...e)))}catch(s){throw Sn(s,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Nn(this.firestore,No(this._delegate,UH(...e)))}catch(s){throw Sn(s,"endAt()","Query.endAt()")}}isEqual(e){return jI(this._delegate,e._delegate)}get(e){let s;return(e==null?void 0:e.source)==="cache"?s=XH(this._delegate):(e==null?void 0:e.source)==="server"?s=ZH(this._delegate):s=JH(this._delegate),s.then(r=>new Vv(this.firestore,new ia(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const s=qI(e),r=HI(e,i=>new Vv(this.firestore,new ia(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return zI(this._delegate,s,r)}withConverter(e){return new Nn(this.firestore,e?this._delegate.withConverter(mc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class lG{constructor(e,s){this._firestore=e,this._delegate=s}get type(){return this._delegate.type}get doc(){return new Ff(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Vv{constructor(e,s){this._firestore=e,this._delegate=s}get query(){return new Nn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ff(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(s=>new lG(this._firestore,s))}forEach(e,s){this._delegate.forEach(r=>{e.call(s,new Ff(this._firestore,r))})}isEqual(e){return VI(this._delegate,e._delegate)}}class uu extends Nn{constructor(e,s){super(e,s),this.firestore=e,this._delegate=s}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ar(this.firestore,e):null}doc(e){try{return e===void 0?new Ar(this.firestore,Wg(this._delegate)):new Ar(this.firestore,Wg(this._delegate,e))}catch(s){throw Sn(s,"doc()","CollectionReference.doc()")}}add(e){return tG(this._delegate,e).then(s=>new Ar(this.firestore,s))}isEqual(e){return wI(this._delegate,e._delegate)}withConverter(e){return new uu(this.firestore,e?this._delegate.withConverter(mc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ul(n){return vt(n,Bt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(...e){this._delegate=new hc(...e)}static documentId(){return new Kj(Xt.keyField().canonicalString())}isEqual(e){return e=qe(e),e instanceof hc?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{static serverTimestamp(){const e=EH();return e._methodName="FieldValue.serverTimestamp",new Ol(e)}static delete(){const e=kH();return e._methodName="FieldValue.delete",new Ol(e)}static arrayUnion(...e){const s=CH(...e);return s._methodName="FieldValue.arrayUnion",new Ol(s)}static arrayRemove(...e){const s=AH(...e);return s._methodName="FieldValue.arrayRemove",new Ol(s)}static increment(e){const s=IH(e);return s._methodName="FieldValue.increment",new Ol(s)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG={Firestore:BI,GeoPoint:ra,Timestamp:Nt,Blob:UI,Transaction:FI,WriteBatch:$I,DocumentReference:Ar,DocumentSnapshot:Bf,Query:Nn,QueryDocumentSnapshot:Ff,QuerySnapshot:Vv,CollectionReference:uu,FieldPath:Kj,FieldValue:Ol,setLogLevel:oG,CACHE_SIZE_UNLIMITED:mH};function dG(n,e){n.INTERNAL.registerComponent(new En("firestore-compat",s=>{const r=s.getProvider("app-compat").getImmediate(),i=s.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...cG}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uG(n){dG(n,(e,s)=>new BI(e,s,new iG)),n.registerVersion(nG,rG)}uG(Yo);const GI="@firebase/installations",Wj="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=1e4,WI=`w:${Wj}`,YI="FIS_v2",hG="https://firebaseinstallations.googleapis.com/v1",fG=3600*1e3,mG="installations",pG="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pc=new Ci(mG,pG,gG);function QI(n){return n instanceof rn&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI({projectId:n}){return`${hG}/projects/${n}/installations`}function XI(n){return{token:n.token,requestStatus:2,expiresIn:yG(n.expiresIn),creationTime:Date.now()}}async function ZI(n,e){const r=(await e.json()).error;return pc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function eR({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function xG(n,{refreshToken:e}){const s=eR(n);return s.append("Authorization",bG(e)),s}async function tR(n){const e=await n();return e.status>=500&&e.status<600?n():e}function yG(n){return Number(n.replace("s","000"))}function bG(n){return`${YI} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vG({appConfig:n,heartbeatServiceProvider:e},{fid:s}){const r=JI(n),i=eR(n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const c={fid:s,authVersion:YI,appId:n.appId,sdkVersion:WI},h={method:"POST",headers:i,body:JSON.stringify(c)},f=await tR(()=>fetch(r,h));if(f.ok){const p=await f.json();return{fid:p.fid||s,registrationStatus:2,refreshToken:p.refreshToken,authToken:XI(p.authToken)}}else throw await ZI("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wG(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG=/^[cdef][\w-]{21}$/,zv="";function NG(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const s=_G(n);return jG.test(s)?s:zv}catch{return zv}}function _G(n){return wG(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new Map;function rR(n,e){const s=Fx(n);aR(s,e),SG(s,e)}function aR(n,e){const s=nR.get(n);if(s)for(const r of s)r(e)}function SG(n,e){const s=TG();s&&s.postMessage({key:n,fid:e}),kG()}let Bl=null;function TG(){return!Bl&&"BroadcastChannel"in self&&(Bl=new BroadcastChannel("[Firebase] FID Change"),Bl.onmessage=n=>{aR(n.data.key,n.data.fid)}),Bl}function kG(){nR.size===0&&Bl&&(Bl.close(),Bl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG="firebase-installations-database",CG=1,gc="firebase-installations-store";let Cb=null;function Yj(){return Cb||(Cb=K4(EG,CG,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(gc)}}})),Cb}async function Qg(n,e){const s=Fx(n),i=(await Yj()).transaction(gc,"readwrite"),l=i.objectStore(gc),c=await l.get(s);return await l.put(e,s),await i.done,(!c||c.fid!==e.fid)&&rR(n,e.fid),e}async function iR(n){const e=Fx(n),r=(await Yj()).transaction(gc,"readwrite");await r.objectStore(gc).delete(e),await r.done}async function $x(n,e){const s=Fx(n),i=(await Yj()).transaction(gc,"readwrite"),l=i.objectStore(gc),c=await l.get(s),h=e(c);return h===void 0?await l.delete(s):await l.put(h,s),await i.done,h&&(!c||c.fid!==h.fid)&&rR(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(n){let e;const s=await $x(n.appConfig,r=>{const i=AG(r),l=IG(n,i);return e=l.registrationPromise,l.installationEntry});return s.fid===zv?{installationEntry:await e}:{installationEntry:s,registrationPromise:e}}function AG(n){const e=n||{fid:NG(),registrationStatus:0};return oR(e)}function IG(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(pc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const s={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=RG(n,s);return{installationEntry:s,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:PG(n)}:{installationEntry:e}}async function RG(n,e){try{const s=await vG(n,e);return Qg(n.appConfig,s)}catch(s){throw QI(s)&&s.customData.serverCode===409?await iR(n.appConfig):await Qg(n.appConfig,{fid:e.fid,registrationStatus:0}),s}}async function PG(n){let e=await jk(n.appConfig);for(;e.registrationStatus===1;)await sR(100),e=await jk(n.appConfig);if(e.registrationStatus===0){const{installationEntry:s,registrationPromise:r}=await Qj(n);return r||s}return e}function jk(n){return $x(n,e=>{if(!e)throw pc.create("installation-not-found");return oR(e)})}function oR(n){return DG(n)?{fid:n.fid,registrationStatus:0}:n}function DG(n){return n.registrationStatus===1&&n.registrationTime+KI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OG({appConfig:n,heartbeatServiceProvider:e},s){const r=MG(n,s),i=xG(n,s),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const c={installation:{sdkVersion:WI,appId:n.appId}},h={method:"POST",headers:i,body:JSON.stringify(c)},f=await tR(()=>fetch(r,h));if(f.ok){const p=await f.json();return XI(p)}else throw await ZI("Generate Auth Token",f)}function MG(n,{fid:e}){return`${JI(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(n,e=!1){let s;const r=await $x(n.appConfig,l=>{if(!lR(l))throw pc.create("not-registered");const c=l.authToken;if(!e&&zG(c))return l;if(c.requestStatus===1)return s=LG(n,e),l;{if(!navigator.onLine)throw pc.create("app-offline");const h=BG(l);return s=VG(n,h),h}});return s?await s:r.authToken}async function LG(n,e){let s=await Nk(n.appConfig);for(;s.authToken.requestStatus===1;)await sR(100),s=await Nk(n.appConfig);const r=s.authToken;return r.requestStatus===0?Jj(n,e):r}function Nk(n){return $x(n,e=>{if(!lR(e))throw pc.create("not-registered");const s=e.authToken;return FG(s)?{...e,authToken:{requestStatus:0}}:e})}async function VG(n,e){try{const s=await OG(n,e),r={...e,authToken:s};return await Qg(n.appConfig,r),s}catch(s){if(QI(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await iR(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Qg(n.appConfig,r)}throw s}}function lR(n){return n!==void 0&&n.registrationStatus===2}function zG(n){return n.requestStatus===2&&!UG(n)}function UG(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+fG}function BG(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function FG(n){return n.requestStatus===1&&n.requestTime+KI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $G(n){const e=n,{installationEntry:s,registrationPromise:r}=await Qj(e);return r?r.catch(console.error):Jj(e).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qG(n,e=!1){const s=n;return await HG(s),(await Jj(s,e)).token}async function HG(n){const{registrationPromise:e}=await Qj(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GG(n){if(!n||!n.options)throw Ab("App Configuration");if(!n.name)throw Ab("App Name");const e=["projectId","apiKey","appId"];for(const s of e)if(!n.options[s])throw Ab(s);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Ab(n){return pc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="installations",KG="installations-internal",WG=n=>{const e=n.getProvider("app").getImmediate(),s=GG(e),r=ax(e,"heartbeat");return{app:e,appConfig:s,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},YG=n=>{const e=n.getProvider("app").getImmediate(),s=ax(e,cR).getImmediate();return{getId:()=>$G(s),getToken:i=>qG(s,i)}};function QG(){zr(new En(cR,WG,"PUBLIC")),zr(new En(KG,YG,"PRIVATE"))}QG();Tn(GI,Wj);Tn(GI,Wj,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="analytics",JG="firebase_id",XG="origin",ZG=60*1e3,eK="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xj="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Wf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},hr=new Ci("analytics","Analytics",tK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(n){if(!n.startsWith(Xj)){const e=hr.create("invalid-gtag-resource",{gtagURL:n});return Gs.warn(e.message),""}return n}function dR(n){return Promise.all(n.map(e=>e.catch(s=>s)))}function nK(n,e){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(n,e)),s}function rK(n,e){const s=nK("firebase-js-sdk-policy",{createScriptURL:sK}),r=document.createElement("script"),i=`${Xj}?l=${n}&id=${e}`;r.src=s?s==null?void 0:s.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function aK(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function iK(n,e,s,r,i,l){const c=r[i];try{if(c)await e[c];else{const f=(await dR(s)).find(p=>p.measurementId===i);f&&await e[f.appId]}}catch(h){Gs.error(h)}n("config",i,l)}async function oK(n,e,s,r,i){try{let l=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const h=await dR(s);for(const f of c){const p=h.find(b=>b.measurementId===f),x=p&&e[p.appId];if(x)l.push(x);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",r,i||{})}catch(l){Gs.error(l)}}function lK(n,e,s,r){async function i(l,...c){try{if(l==="event"){const[h,f]=c;await oK(n,e,s,h,f)}else if(l==="config"){const[h,f]=c;await iK(n,e,s,r,h,f)}else if(l==="consent"){const[h,f]=c;n("consent",h,f)}else if(l==="get"){const[h,f,p]=c;n("get",h,f,p)}else if(l==="set"){const[h]=c;n("set",h)}else n(l,...c)}catch(h){Gs.error(h)}}return i}function cK(n,e,s,r,i){let l=function(...c){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(l=window[i]),window[i]=lK(l,n,e,s),{gtagCore:l,wrappedGtag:window[i]}}function dK(n){const e=window.document.getElementsByTagName("script");for(const s of Object.values(e))if(s.src&&s.src.includes(Xj)&&s.src.includes(n))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK=30,hK=1e3;class fK{constructor(e={},s=hK){this.throttleMetadata=e,this.intervalMillis=s}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,s){this.throttleMetadata[e]=s}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const uR=new fK;function mK(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function pK(n){var c;const{appId:e,apiKey:s}=n,r={method:"GET",headers:mK(s)},i=eK.replace("{app-id}",e),l=await fetch(i,r);if(l.status!==200&&l.status!==304){let h="";try{const f=await l.json();(c=f.error)!=null&&c.message&&(h=f.error.message)}catch{}throw hr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:h})}return l.json()}async function gK(n,e=uR,s){const{appId:r,apiKey:i,measurementId:l}=n.options;if(!r)throw hr.create("no-app-id");if(!i){if(l)return{measurementId:l,appId:r};throw hr.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new bK;return setTimeout(async()=>{h.abort()},ZG),hR({appId:r,apiKey:i,measurementId:l},c,h,e)}async function hR(n,{throttleEndTimeMillis:e,backoffCount:s},r,i=uR){var h;const{appId:l,measurementId:c}=n;try{await xK(r,e)}catch(f){if(c)return Gs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw f}try{const f=await pK(n);return i.deleteThrottleMetadata(l),f}catch(f){const p=f;if(!yK(p)){if(i.deleteThrottleMetadata(l),c)return Gs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:c};throw f}const x=Number((h=p==null?void 0:p.customData)==null?void 0:h.httpStatus)===503?gS(s,i.intervalMillis,uK):gS(s,i.intervalMillis),b={throttleEndTimeMillis:Date.now()+x,backoffCount:s+1};return i.setThrottleMetadata(l,b),Gs.debug(`Calling attemptFetch again in ${x} millis`),hR(n,b,r,i)}}function xK(n,e){return new Promise((s,r)=>{const i=Math.max(e-Date.now(),0),l=setTimeout(s,i);n.addEventListener(()=>{clearTimeout(l),r(hr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function yK(n){if(!(n instanceof rn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class bK{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function vK(n,e,s,r,i){if(i&&i.global){n("event",s,r);return}else{const l=await e,c={...r,send_to:l};n("event",s,c)}}async function wK(n,e,s,r){if(r&&r.global)return n("set",{screen_name:s}),Promise.resolve();{const i=await e;n("config",i,{update:!0,screen_name:s})}}async function jK(n,e,s,r){if(r&&r.global)return n("set",{user_id:s}),Promise.resolve();{const i=await e;n("config",i,{update:!0,user_id:s})}}async function NK(n,e,s,r){if(r&&r.global){const i={};for(const l of Object.keys(s))i[`user_properties.${l}`]=s[l];return n("set",i),Promise.resolve()}else{const i=await e;n("config",i,{update:!0,user_properties:s})}}async function _K(n,e){const s=await n;window[`ga-disable-${s}`]=!e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SK(){if(ec())try{await mw()}catch(n){return Gs.warn(hr.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Gs.warn(hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function TK(n,e,s,r,i,l,c){const h=gK(n);h.then(v=>{s[v.measurementId]=v.appId,n.options.measurementId&&v.measurementId!==n.options.measurementId&&Gs.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Gs.error(v)),e.push(h);const f=SK().then(v=>{if(v)return r.getId()}),[p,x]=await Promise.all([h,f]);dK(l)||rK(l,p.measurementId),i("js",new Date);const b=(c==null?void 0:c.config)??{};return b[XG]="firebase",b.update=!0,x!=null&&(b[JG]=x),i("config",p.measurementId,b),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kK=class{constructor(e){this.app=e}_delete(){return delete bi[this.app.options.appId],Promise.resolve()}},bi={},Sk=[];const Tk={};let vg="dataLayer",fR="gtag",kk,xm,Uv=!1;function EK(n){if(Uv)throw hr.create("already-initialized");n.dataLayerName&&(vg=n.dataLayerName),n.gtagName&&(fR=n.gtagName)}function CK(){const n=[];if(rx()&&n.push("This is a browser extension environment."),B4()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),s=hr.create("invalid-analytics-context",{errorInfo:e});Gs.warn(s.message)}}function AK(n,e,s){CK();const r=n.options.appId;if(!r)throw hr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Gs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw hr.create("no-api-key");if(bi[r]!=null)throw hr.create("already-exists",{id:r});if(!Uv){aK(vg);const{wrappedGtag:l,gtagCore:c}=cK(bi,Sk,Tk,vg,fR);xm=l,kk=c,Uv=!0}return bi[r]=TK(n,Sk,Tk,e,kk,vg,s),new kK(n)}async function IK(){if(rx()||!B4()||!ec())return!1;try{return await mw()}catch{return!1}}function RK(n,e,s){n=qe(n),wK(xm,bi[n.app.options.appId],e,s).catch(r=>Gs.error(r))}function PK(n,e,s){n=qe(n),jK(xm,bi[n.app.options.appId],e,s).catch(r=>Gs.error(r))}function mR(n,e,s){n=qe(n),NK(xm,bi[n.app.options.appId],e,s).catch(r=>Gs.error(r))}function DK(n,e){n=qe(n),_K(bi[n.app.options.appId],e).catch(s=>Gs.error(s))}function pR(n,e,s,r){n=qe(n),vK(xm,bi[n.app.options.appId],e,s,r).catch(i=>Gs.error(i))}const Ek="@firebase/analytics",Ck="0.10.19";function OK(){zr(new En(_k,(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return AK(r,i,s)},"PUBLIC")),zr(new En("analytics-internal",n,"PRIVATE")),Tn(Ek,Ck),Tn(Ek,Ck,"esm2020");function n(e){try{const s=e.getProvider(_k).getImmediate();return{logEvent:(r,i,l)=>pR(s,r,i,l),setUserProperties:(r,i)=>mR(s,r,i)}}catch(s){throw hr.create("interop-component-reg-failed",{reason:s})}}}OK();const MK="@firebase/analytics-compat",LK="0.2.25";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,s){this.app=e,this._delegate=s}logEvent(e,s,r){pR(this._delegate,e,s,r)}setCurrentScreen(e,s){RK(this._delegate,e,s)}setUserId(e,s){PK(this._delegate,e,s)}setUserProperties(e,s){mR(this._delegate,e,s)}setAnalyticsCollectionEnabled(e){DK(this._delegate,e)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bv;(function(n){n.ADD_SHIPPING_INFO="add_shipping_info",n.ADD_PAYMENT_INFO="add_payment_info",n.ADD_TO_CART="add_to_cart",n.ADD_TO_WISHLIST="add_to_wishlist",n.BEGIN_CHECKOUT="begin_checkout",n.CHECKOUT_PROGRESS="checkout_progress",n.EXCEPTION="exception",n.GENERATE_LEAD="generate_lead",n.LOGIN="login",n.PAGE_VIEW="page_view",n.PURCHASE="purchase",n.REFUND="refund",n.REMOVE_FROM_CART="remove_from_cart",n.SCREEN_VIEW="screen_view",n.SEARCH="search",n.SELECT_CONTENT="select_content",n.SELECT_ITEM="select_item",n.SELECT_PROMOTION="select_promotion",n.SET_CHECKOUT_OPTION="set_checkout_option",n.SHARE="share",n.SIGN_UP="sign_up",n.TIMING_COMPLETE="timing_complete",n.VIEW_CART="view_cart",n.VIEW_ITEM="view_item",n.VIEW_ITEM_LIST="view_item_list",n.VIEW_PROMOTION="view_promotion",n.VIEW_SEARCH_RESULTS="view_search_results"})(Bv||(Bv={}));/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VK=n=>{const e=n.getProvider("app-compat").getImmediate(),s=n.getProvider("analytics").getImmediate();return new gR(e,s)};function zK(){const n={Analytics:gR,settings:EK,isSupported:IK,EventName:Bv};Yo.INTERNAL.registerComponent(new En("analytics-compat",VK,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}zK();Yo.registerVersion(MK,LK);const UK={apiKey:"AIzaSyDxhDxNIO-Svce0yRajiWPT0Xw22IwPBvE",authDomain:"traffic-websites.firebaseapp.com",projectId:"traffic-websites",storageBucket:"traffic-websites.firebasestorage.app",messagingSenderId:"617379565314",appId:"1:617379565314:web:8f9ce22c31b2548cc4bc1b",measurementId:"G-SWTXXWP99R"},Zj=Yo.initializeApp(UK);Zj.auth();Zj.firestore();Zj.analytics();const xR=document.getElementById("root");if(!xR)throw new Error("Could not find root element to mount to");const BK=i5.createRoot(xR);BK.render(t.jsx(Ke.StrictMode,{children:t.jsx(Mk,{children:t.jsx(e3,{children:t.jsx(zL,{})})})}));
