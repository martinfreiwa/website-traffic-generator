var g5=Object.defineProperty;var x5=(n,e,s)=>e in n?g5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var mi=(n,e,s)=>x5(n,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();function pu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $y={exports:{}},Ih={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2;function y5(){if(T2)return Ih;T2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:n,type:r,key:c,ref:i!==void 0?i:null,props:l}}return Ih.Fragment=e,Ih.jsx=s,Ih.jsxs=s,Ih}var k2;function b5(){return k2||(k2=1,$y.exports=y5()),$y.exports}var t=b5(),qy={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2;function v5(){if(E2)return Xe;E2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function T(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function D(H,oe,Ne){this.props=H,this.context=oe,this.refs=k,this.updater=Ne||N}D.prototype.isReactComponent={},D.prototype.setState=function(H,oe){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,oe,"setState")},D.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function P(){}P.prototype=D.prototype;function L(H,oe,Ne){this.props=H,this.context=oe,this.refs=k,this.updater=Ne||N}var V=L.prototype=new P;V.constructor=L,E(V,D.prototype),V.isPureReactComponent=!0;var $=Array.isArray;function Q(){}var _={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(H,oe,Ne){var K=Ne.ref;return{$$typeof:n,type:H,key:oe,ref:K!==void 0?K:null,props:Ne}}function z(H,oe){return I(H.type,oe,H.props)}function O(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function F(H){var oe={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Ne){return oe[Ne]})}var R=/\/+/g;function U(H,oe){return typeof H=="object"&&H!==null&&H.key!=null?F(""+H.key):oe.toString(36)}function he(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(Q,Q):(H.status="pending",H.then(function(oe){H.status==="pending"&&(H.status="fulfilled",H.value=oe)},function(oe){H.status==="pending"&&(H.status="rejected",H.reason=oe)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function W(H,oe,Ne,K,ye){var Te=typeof H;(Te==="undefined"||Te==="boolean")&&(H=null);var Le=!1;if(H===null)Le=!0;else switch(Te){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(H.$$typeof){case n:case e:Le=!0;break;case g:return Le=H._init,W(Le(H._payload),oe,Ne,K,ye)}}if(Le)return ye=ye(H),Le=K===""?"."+U(H,0):K,$(ye)?(Ne="",Le!=null&&(Ne=Le.replace(R,"$&/")+"/"),W(ye,oe,Ne,"",function(Ht){return Ht})):ye!=null&&(O(ye)&&(ye=z(ye,Ne+(ye.key==null||H&&H.key===ye.key?"":(""+ye.key).replace(R,"$&/")+"/")+Le)),oe.push(ye)),1;Le=0;var at=K===""?".":K+":";if($(H))for(var Ke=0;Ke<H.length;Ke++)K=H[Ke],Te=at+U(K,Ke),Le+=W(K,oe,Ne,Te,ye);else if(Ke=T(H),typeof Ke=="function")for(H=Ke.call(H),Ke=0;!(K=H.next()).done;)K=K.value,Te=at+U(K,Ke++),Le+=W(K,oe,Ne,Te,ye);else if(Te==="object"){if(typeof H.then=="function")return W(he(H),oe,Ne,K,ye);throw oe=String(H),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Le}function te(H,oe,Ne){if(H==null)return H;var K=[],ye=0;return W(H,K,"","",function(Te){return oe.call(Ne,Te,ye++)}),K}function be(H){if(H._status===-1){var oe=H._result;oe=oe(),oe.then(function(Ne){(H._status===0||H._status===-1)&&(H._status=1,H._result=Ne)},function(Ne){(H._status===0||H._status===-1)&&(H._status=2,H._result=Ne)}),H._status===-1&&(H._status=0,H._result=oe)}if(H._status===1)return H._result.default;throw H._result}var Ae=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Ie={map:te,forEach:function(H,oe,Ne){te(H,function(){oe.apply(this,arguments)},Ne)},count:function(H){var oe=0;return te(H,function(){oe++}),oe},toArray:function(H){return te(H,function(oe){return oe})||[]},only:function(H){if(!O(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Xe.Activity=b,Xe.Children=Ie,Xe.Component=D,Xe.Fragment=s,Xe.Profiler=i,Xe.PureComponent=L,Xe.StrictMode=r,Xe.Suspense=u,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return _.H.useMemoCache(H)}},Xe.cache=function(H){return function(){return H.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(H,oe,Ne){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var K=E({},H.props),ye=H.key;if(oe!=null)for(Te in oe.key!==void 0&&(ye=""+oe.key),oe)!A.call(oe,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&oe.ref===void 0||(K[Te]=oe[Te]);var Te=arguments.length-2;if(Te===1)K.children=Ne;else if(1<Te){for(var Le=Array(Te),at=0;at<Te;at++)Le[at]=arguments[at+2];K.children=Le}return I(H.type,ye,K)},Xe.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:l,_context:H},H},Xe.createElement=function(H,oe,Ne){var K,ye={},Te=null;if(oe!=null)for(K in oe.key!==void 0&&(Te=""+oe.key),oe)A.call(oe,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ye[K]=oe[K]);var Le=arguments.length-2;if(Le===1)ye.children=Ne;else if(1<Le){for(var at=Array(Le),Ke=0;Ke<Le;Ke++)at[Ke]=arguments[Ke+2];ye.children=at}if(H&&H.defaultProps)for(K in Le=H.defaultProps,Le)ye[K]===void 0&&(ye[K]=Le[K]);return I(H,Te,ye)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(H){return{$$typeof:f,render:H}},Xe.isValidElement=O,Xe.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:be}},Xe.memo=function(H,oe){return{$$typeof:m,type:H,compare:oe===void 0?null:oe}},Xe.startTransition=function(H){var oe=_.T,Ne={};_.T=Ne;try{var K=H(),ye=_.S;ye!==null&&ye(Ne,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Q,Ae)}catch(Te){Ae(Te)}finally{oe!==null&&Ne.types!==null&&(oe.types=Ne.types),_.T=oe}},Xe.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},Xe.use=function(H){return _.H.use(H)},Xe.useActionState=function(H,oe,Ne){return _.H.useActionState(H,oe,Ne)},Xe.useCallback=function(H,oe){return _.H.useCallback(H,oe)},Xe.useContext=function(H){return _.H.useContext(H)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(H,oe){return _.H.useDeferredValue(H,oe)},Xe.useEffect=function(H,oe){return _.H.useEffect(H,oe)},Xe.useEffectEvent=function(H){return _.H.useEffectEvent(H)},Xe.useId=function(){return _.H.useId()},Xe.useImperativeHandle=function(H,oe,Ne){return _.H.useImperativeHandle(H,oe,Ne)},Xe.useInsertionEffect=function(H,oe){return _.H.useInsertionEffect(H,oe)},Xe.useLayoutEffect=function(H,oe){return _.H.useLayoutEffect(H,oe)},Xe.useMemo=function(H,oe){return _.H.useMemo(H,oe)},Xe.useOptimistic=function(H,oe){return _.H.useOptimistic(H,oe)},Xe.useReducer=function(H,oe,Ne){return _.H.useReducer(H,oe,Ne)},Xe.useRef=function(H){return _.H.useRef(H)},Xe.useState=function(H){return _.H.useState(H)},Xe.useSyncExternalStore=function(H,oe,Ne){return _.H.useSyncExternalStore(H,oe,Ne)},Xe.useTransition=function(){return _.H.useTransition()},Xe.version="19.2.4",Xe}var C2;function Wv(){return C2||(C2=1,qy.exports=v5()),qy.exports}var w=Wv();const De=pu(w);var Hy={exports:{}},Rh={},Gy={exports:{}},Ky={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2;function w5(){return A2||(A2=1,(function(n){function e(W,te){var be=W.length;W.push(te);e:for(;0<be;){var Ae=be-1>>>1,Ie=W[Ae];if(0<i(Ie,te))W[Ae]=te,W[be]=Ie,be=Ae;else break e}}function s(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var te=W[0],be=W.pop();if(be!==te){W[0]=be;e:for(var Ae=0,Ie=W.length,H=Ie>>>1;Ae<H;){var oe=2*(Ae+1)-1,Ne=W[oe],K=oe+1,ye=W[K];if(0>i(Ne,be))K<Ie&&0>i(ye,Ne)?(W[Ae]=ye,W[K]=be,Ae=K):(W[Ae]=Ne,W[oe]=be,Ae=oe);else if(K<Ie&&0>i(ye,be))W[Ae]=ye,W[K]=be,Ae=K;else break e}}return te}function i(W,te){var be=W.sortIndex-te.sortIndex;return be!==0?be:W.id-te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var u=[],m=[],g=1,b=null,v=3,T=!1,N=!1,E=!1,k=!1,D=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function V(W){for(var te=s(m);te!==null;){if(te.callback===null)r(m);else if(te.startTime<=W)r(m),te.sortIndex=te.expirationTime,e(u,te);else break;te=s(m)}}function $(W){if(E=!1,V(W),!N)if(s(u)!==null)N=!0,Q||(Q=!0,F());else{var te=s(m);te!==null&&he($,te.startTime-W)}}var Q=!1,_=-1,A=5,I=-1;function z(){return k?!0:!(n.unstable_now()-I<A)}function O(){if(k=!1,Q){var W=n.unstable_now();I=W;var te=!0;try{e:{N=!1,E&&(E=!1,P(_),_=-1),T=!0;var be=v;try{t:{for(V(W),b=s(u);b!==null&&!(b.expirationTime>W&&z());){var Ae=b.callback;if(typeof Ae=="function"){b.callback=null,v=b.priorityLevel;var Ie=Ae(b.expirationTime<=W);if(W=n.unstable_now(),typeof Ie=="function"){b.callback=Ie,V(W),te=!0;break t}b===s(u)&&r(u),V(W)}else r(u);b=s(u)}if(b!==null)te=!0;else{var H=s(m);H!==null&&he($,H.startTime-W),te=!1}}break e}finally{b=null,v=be,T=!1}te=void 0}}finally{te?F():Q=!1}}}var F;if(typeof L=="function")F=function(){L(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,U=R.port2;R.port1.onmessage=O,F=function(){U.postMessage(null)}}else F=function(){D(O,0)};function he(W,te){_=D(function(){W(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(W){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var be=v;v=te;try{return W()}finally{v=be}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var be=v;v=W;try{return te()}finally{v=be}},n.unstable_scheduleCallback=function(W,te,be){var Ae=n.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Ae+be:Ae):be=Ae,W){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=be+Ie,W={id:g++,callback:te,priorityLevel:W,startTime:be,expirationTime:Ie,sortIndex:-1},be>Ae?(W.sortIndex=be,e(m,W),s(u)===null&&W===s(m)&&(E?(P(_),_=-1):E=!0,he($,be-Ae))):(W.sortIndex=Ie,e(u,W),N||T||(N=!0,Q||(Q=!0,F()))),W},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(W){var te=v;return function(){var be=v;v=te;try{return W.apply(this,arguments)}finally{v=be}}}})(Ky)),Ky}var I2;function j5(){return I2||(I2=1,Gy.exports=w5()),Gy.exports}var Wy={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2;function N5(){if(R2)return pn;R2=1;var n=Wv();function e(u){var m="https://react.dev/errors/"+u;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(u,m,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:u,containerInfo:m,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(u,m){if(u==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pn.createPortal=function(u,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(u,m,null,g)},pn.flushSync=function(u){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,u)return u()}finally{c.T=m,r.p=g,r.d.f()}},pn.preconnect=function(u,m){typeof u=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(u,m))},pn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},pn.preinit=function(u,m){if(typeof u=="string"&&m&&typeof m.as=="string"){var g=m.as,b=f(g,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(u,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:T}):g==="script"&&r.d.X(u,{crossOrigin:b,integrity:v,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pn.preinitModule=function(u,m){if(typeof u=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);r.d.M(u,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(u)},pn.preload=function(u,m){if(typeof u=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,b=f(g,m.crossOrigin);r.d.L(u,g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pn.preloadModule=function(u,m){if(typeof u=="string")if(m){var g=f(m.as,m.crossOrigin);r.d.m(u,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(u)},pn.requestFormReset=function(u){r.d.r(u)},pn.unstable_batchedUpdates=function(u,m){return u(m)},pn.useFormState=function(u,m,g){return c.H.useFormState(u,m,g)},pn.useFormStatus=function(){return c.H.useHostTransitionStatus()},pn.version="19.2.4",pn}var P2;function _5(){if(P2)return Wy.exports;P2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wy.exports=N5(),Wy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2;function S5(){if(D2)return Rh;D2=1;var n=j5(),e=Wv(),s=_5();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var o=a,d=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(d=o.return),a=o.return;while(a)}return o.tag===3?d:null}function c(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(l(a)!==a)throw Error(r(188))}function m(a){var o=a.alternate;if(!o){if(o=l(a),o===null)throw Error(r(188));return o!==a?null:a}for(var d=a,h=o;;){var x=d.return;if(x===null)break;var y=x.alternate;if(y===null){if(h=x.return,h!==null){d=h;continue}break}if(x.child===y.child){for(y=x.child;y;){if(y===d)return u(x),a;if(y===h)return u(x),o;y=y.sibling}throw Error(r(188))}if(d.return!==h.return)d=x,h=y;else{for(var S=!1,M=x.child;M;){if(M===d){S=!0,d=x,h=y;break}if(M===h){S=!0,h=x,d=y;break}M=M.sibling}if(!S){for(M=y.child;M;){if(M===d){S=!0,d=y,h=x;break}if(M===h){S=!0,h=y,d=x;break}M=M.sibling}if(!S)throw Error(r(189))}}if(d.alternate!==h)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:o}function g(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=g(a),o!==null)return o;a=a.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=O&&a[O]||a["@@iterator"],typeof a=="function"?a:null)}var R=Symbol.for("react.client.reference");function U(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===R?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case D:return"Profiler";case k:return"StrictMode";case $:return"Suspense";case Q:return"SuspenseList";case I:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case N:return"Portal";case L:return a.displayName||"Context";case P:return(a._context.displayName||"Context")+".Consumer";case V:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case _:return o=a.displayName||null,o!==null?o:U(a.type)||"Memo";case A:o=a._payload,a=a._init;try{return U(a(o))}catch{}}return null}var he=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Ae=[],Ie=-1;function H(a){return{current:a}}function oe(a){0>Ie||(a.current=Ae[Ie],Ae[Ie]=null,Ie--)}function Ne(a,o){Ie++,Ae[Ie]=a.current,a.current=o}var K=H(null),ye=H(null),Te=H(null),Le=H(null);function at(a,o){switch(Ne(Te,o),Ne(ye,a),Ne(K,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?Y_(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=Y_(o),a=Q_(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}oe(K),Ne(K,a)}function Ke(){oe(K),oe(ye),oe(Te)}function Ht(a){a.memoizedState!==null&&Ne(Le,a);var o=K.current,d=Q_(o,a.type);o!==d&&(Ne(ye,a),Ne(K,d))}function Ft(a){ye.current===a&&(oe(K),oe(ye)),Le.current===a&&(oe(Le),kh._currentValue=be)}var Bt,ls;function je(a){if(Bt===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);Bt=o&&o[1]||"",ls=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bt+a+ls}var Pe=!1;function At(a,o){if(!a||Pe)return"";Pe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(ce){var ae=ce}Reflect.construct(a,[],xe)}else{try{xe.call()}catch(ce){ae=ce}a.call(xe.prototype)}}else{try{throw Error()}catch(ce){ae=ce}(xe=a())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(ce){if(ce&&ae&&typeof ce.stack=="string")return[ce.stack,ae.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),S=y[0],M=y[1];if(S&&M){var G=S.split(`
`),ne=M.split(`
`);for(x=h=0;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;for(;x<ne.length&&!ne[x].includes("DetermineComponentFrameRoot");)x++;if(h===G.length||x===ne.length)for(h=G.length-1,x=ne.length-1;1<=h&&0<=x&&G[h]!==ne[x];)x--;for(;1<=h&&0<=x;h--,x--)if(G[h]!==ne[x]){if(h!==1||x!==1)do if(h--,x--,0>x||G[h]!==ne[x]){var fe=`
`+G[h].replace(" at new "," at ");return a.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",a.displayName)),fe}while(1<=h&&0<=x);break}}}finally{Pe=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?je(d):""}function pe(a,o){switch(a.tag){case 26:case 27:case 5:return je(a.type);case 16:return je("Lazy");case 13:return a.child!==o&&o!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return At(a.type,!1);case 11:return At(a.type.render,!1);case 1:return At(a.type,!0);case 31:return je("Activity");default:return""}}function re(a){try{var o="",d=null;do o+=pe(a,d),d=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var qe=Object.prototype.hasOwnProperty,rt=n.unstable_scheduleCallback,Lt=n.unstable_cancelCallback,Qn=n.unstable_shouldYield,$r=n.unstable_requestPaint,me=n.unstable_now,Me=n.unstable_getCurrentPriorityLevel,Qe=n.unstable_ImmediatePriority,it=n.unstable_UserBlockingPriority,It=n.unstable_NormalPriority,rs=n.unstable_LowPriority,hn=n.unstable_IdlePriority,xr=n.log,ha=n.unstable_setDisableYieldValue,Xn=null,Ms=null;function fn(a){if(typeof xr=="function"&&ha(a),Ms&&typeof Ms.setStrictMode=="function")try{Ms.setStrictMode(Xn,a)}catch{}}var Rt=Math.clz32?Math.clz32:rl,kc=Math.log,zi=Math.LN2;function rl(a){return a>>>=0,a===0?32:31-(kc(a)/zi|0)|0}var Jn=256,fa=262144,as=4194304;function Zn(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function X(a,o,d){var h=a.pendingLanes;if(h===0)return 0;var x=0,y=a.suspendedLanes,S=a.pingedLanes;a=a.warmLanes;var M=h&134217727;return M!==0?(h=M&~y,h!==0?x=Zn(h):(S&=M,S!==0?x=Zn(S):d||(d=M&~a,d!==0&&(x=Zn(d))))):(M=h&~y,M!==0?x=Zn(M):S!==0?x=Zn(S):d||(d=h&~a,d!==0&&(x=Zn(d)))),x===0?0:o!==0&&o!==x&&(o&y)===0&&(y=x&-x,d=o&-o,y>=d||y===32&&(d&4194048)!==0)?o:x}function ze(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function ot(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qt(){var a=as;return as<<=1,(as&62914560)===0&&(as=4194304),a}function st(a){for(var o=[],d=0;31>d;d++)o.push(a);return o}function Ys(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function qr(a,o,d,h,x,y){var S=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var M=a.entanglements,G=a.expirationTimes,ne=a.hiddenUpdates;for(d=S&~d;0<d;){var fe=31-Rt(d),xe=1<<fe;M[fe]=0,G[fe]=-1;var ae=ne[fe];if(ae!==null)for(ne[fe]=null,fe=0;fe<ae.length;fe++){var ce=ae[fe];ce!==null&&(ce.lane&=-536870913)}d&=~xe}h!==0&&mn(a,h,0),y!==0&&x===0&&a.tag!==0&&(a.suspendedLanes|=y&~(S&~o))}function mn(a,o,d){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Rt(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|d&261930}function Vi(a,o){var d=a.entangledLanes|=o;for(a=a.entanglements;d;){var h=31-Rt(d),x=1<<h;x&o|a[h]&o&&(a[h]|=o),d&=~x}}function Ui(a,o){var d=o&-o;return d=(d&42)!==0?1:Ya(d),(d&(a.suspendedLanes|o))!==0?0:d}function Ya(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Hr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function wm(){var a=te.p;return a!==0?a:(a=window.event,a===void 0?32:b2(a.type))}function Gr(a,o){var d=te.p;try{return te.p=a,o()}finally{te.p=d}}var Kr=Math.random().toString(36).slice(2),Ss="__reactFiber$"+Kr,Bs="__reactProps$"+Kr,ma="__reactContainer$"+Kr,Ec="__reactEvents$"+Kr,Yx="__reactListeners$"+Kr,jm="__reactHandles$"+Kr,Nm="__reactResources$"+Kr,pa="__reactMarker$"+Kr;function Cc(a){delete a[Ss],delete a[Bs],delete a[Ec],delete a[Yx],delete a[jm]}function ga(a){var o=a[Ss];if(o)return o;for(var d=a.parentNode;d;){if(o=d[ma]||d[Ss]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(a=n2(a);a!==null;){if(d=a[Ss])return d;a=n2(a)}return o}a=d,d=a.parentNode}return null}function yr(a){if(a=a[Ss]||a[ma]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function er(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function xa(a){var o=a[Nm];return o||(o=a[Nm]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ts(a){a[pa]=!0}var Du=new Set,Ou={};function ya(a,o){ba(a,o),ba(a+"Capture",o)}function ba(a,o){for(Ou[a]=o,a=0;a<o.length;a++)Du.add(o[a])}var Mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lu={},zu={};function _m(a){return qe.call(zu,a)?!0:qe.call(Lu,a)?!1:Mu.test(a)?zu[a]=!0:(Lu[a]=!0,!1)}function Ac(a,o,d){if(_m(o))if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+d)}}function tr(a,o,d){if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+d)}}function ks(a,o,d,h){if(h===null)a.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(o,d,""+h)}}function $s(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Fi(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Vu(a,o,d){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,y=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return x.call(this)},set:function(S){d=""+S,y.call(this,S)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function St(a){if(!a._valueTracker){var o=Fi(a)?"checked":"value";a._valueTracker=Vu(a,o,""+a[o])}}function al(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var d=o.getValue(),h="";return a&&(h=Fi(a)?a.checked?"true":"false":a.value),a=h,a!==d?(o.setValue(a),!0):!1}function va(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var il=/[\n"\\]/g;function Rn(a){return a.replace(il,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ic(a,o,d,h,x,y,S,M){a.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?a.type=S:a.removeAttribute("type"),o!=null?S==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+$s(o)):a.value!==""+$s(o)&&(a.value=""+$s(o)):S!=="submit"&&S!=="reset"||a.removeAttribute("value"),o!=null?Uu(a,S,$s(o)):d!=null?Uu(a,S,$s(d)):h!=null&&a.removeAttribute("value"),x==null&&y!=null&&(a.defaultChecked=!!y),x!=null&&(a.checked=x&&typeof x!="function"&&typeof x!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+$s(M):a.removeAttribute("name")}function Sm(a,o,d,h,x,y,S,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),o!=null||d!=null){if(!(y!=="submit"&&y!=="reset"||o!=null)){St(a);return}d=d!=null?""+$s(d):"",o=o!=null?""+$s(o):d,M||o===a.value||(a.value=o),a.defaultValue=o}h=h??x,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=M?a.checked:!!h,a.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.name=S),St(a)}function Uu(a,o,d){o==="number"&&va(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Bi(a,o,d,h){if(a=a.options,o){o={};for(var x=0;x<d.length;x++)o["$"+d[x]]=!0;for(d=0;d<a.length;d++)x=o.hasOwnProperty("$"+a[d].value),a[d].selected!==x&&(a[d].selected=x),x&&h&&(a[d].defaultSelected=!0)}else{for(d=""+$s(d),o=null,x=0;x<a.length;x++){if(a[x].value===d){a[x].selected=!0,h&&(a[x].defaultSelected=!0);return}o!==null||a[x].disabled||(o=a[x])}o!==null&&(o.selected=!0)}}function Tm(a,o,d){if(o!=null&&(o=""+$s(o),o!==a.value&&(a.value=o),d==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=d!=null?""+$s(d):""}function $i(a,o,d,h){if(o==null){if(h!=null){if(d!=null)throw Error(r(92));if(he(h)){if(1<h.length)throw Error(r(93));h=h[0]}d=h}d==null&&(d=""),o=d}d=$s(o),a.defaultValue=d,h=a.textContent,h===d&&h!==""&&h!==null&&(a.value=h),St(a)}function Pn(a,o){if(o){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=o;return}}a.textContent=o}var km=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fu(a,o,d){var h=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,d):typeof d!="number"||d===0||km.has(o)?o==="float"?a.cssFloat=d:a[o]=(""+d).trim():a[o]=d+"px"}function Bu(a,o,d){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var x in o)h=o[x],o.hasOwnProperty(x)&&d[x]!==h&&Fu(a,x,h)}else for(var y in o)o.hasOwnProperty(y)&&Fu(a,y,o[y])}function Rc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Em=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pc(a){return qi.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Wr(){}var $u=null;function br(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Hi=null,wa=null;function ol(a){var o=yr(a);if(o&&(a=o.stateNode)){var d=a[Bs]||null;e:switch(a=o.stateNode,o.type){case"input":if(Ic(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Rn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var h=d[o];if(h!==a&&h.form===a.form){var x=h[Bs]||null;if(!x)throw Error(r(90));Ic(h,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(o=0;o<d.length;o++)h=d[o],h.form===a.form&&al(h)}break e;case"textarea":Tm(a,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Bi(a,!!d.multiple,o,!1)}}}var Dc=!1;function Gi(a,o,d){if(Dc)return a(o,d);Dc=!0;try{var h=a(o);return h}finally{if(Dc=!1,(Hi!==null||wa!==null)&&(wp(),Hi&&(o=Hi,a=wa,wa=Hi=null,ol(o),a)))for(o=0;o<a.length;o++)ol(a[o])}}function Yr(a,o){var d=a.stateNode;if(d===null)return null;var h=d[Bs]||null;if(h===null)return null;d=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ll=!1;if(vr)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){ll=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch{ll=!1}var ja=null,qu=null,cl=null;function Hu(){if(cl)return cl;var a,o=qu,d=o.length,h,x="value"in ja?ja.value:ja.textContent,y=x.length;for(a=0;a<d&&o[a]===x[a];a++);var S=d-a;for(h=1;h<=S&&o[d-h]===x[y-h];h++);return cl=x.slice(a,1<h?1-h:void 0)}function dl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Qa(){return!0}function Qr(){return!1}function Qs(a){function o(d,h,x,y,S){this._reactName=d,this._targetInst=x,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(d=a[M],this[M]=d?d(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Qa:Qr,this.isPropagationStopped=Qr,this}return b(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),o}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Qs(Xa),Ki=b({},Xa,{view:0,detail:0}),Gu=Qs(Ki),Wi,Oc,_a,Mc=b({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==_a&&(_a&&a.type==="mousemove"?(Wi=a.screenX-_a.screenX,Oc=a.screenY-_a.screenY):Oc=Wi=0,_a=a),Wi)},movementY:function(a){return"movementY"in a?a.movementY:Oc}}),Ku=Qs(Mc),ul=b({},Mc,{dataTransfer:0}),Cm=Qs(ul),Am=b({},Ki,{relatedTarget:0}),hl=Qs(Am),Wu=b({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),Im=Qs(Wu),Lc=b({},Xa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Rm=Qs(Lc),Pm=b({},Xa,{data:0}),Sa=Qs(Pm),Dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Om={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lm(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Mm[a])?!!o[a]:!1}function Yi(){return Lm}var jn=b({},Ki,{key:function(a){if(a.key){var o=Dm[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=dl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Om[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yi,charCode:function(a){return a.type==="keypress"?dl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?dl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),zm=Qs(jn),Vm=b({},Mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ja=Qs(Vm),p=b({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yi}),j=Qs(p),C=b({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=Qs(C),ee=b({},Mc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),le=Qs(ee),ke=b({},Xa,{newState:0,oldState:0}),Ze=Qs(ke),bs=[9,13,27,32],jt=vr&&"CompositionEvent"in window,Xt=null;vr&&"documentMode"in document&&(Xt=document.documentMode);var wr=vr&&"TextEvent"in window&&!Xt,Ta=vr&&(!jt||Xt&&8<Xt&&11>=Xt),Xr=" ",Jr=!1;function fl(a,o){switch(a){case"keyup":return bs.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Vc=!1;function UR(a,o){switch(a){case"compositionend":return zc(o);case"keypress":return o.which!==32?null:(Jr=!0,Xr);case"textInput":return a=o.data,a===Xr&&Jr?null:a;default:return null}}function FR(a,o){if(Vc)return a==="compositionend"||!jt&&fl(a,o)?(a=Hu(),cl=qu=ja=null,Vc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ta&&o.locale!=="ko"?null:o.data;default:return null}}var BR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i1(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!BR[a.type]:o==="textarea"}function o1(a,o,d,h){Hi?wa?wa.push(h):wa=[h]:Hi=h,o=Ep(o,"onChange"),0<o.length&&(d=new Na("onChange","change",null,d,h),a.push({event:d,listeners:o}))}var Yu=null,Qu=null;function $R(a){$_(a,0)}function Um(a){var o=er(a);if(al(o))return a}function l1(a,o){if(a==="change")return o}var c1=!1;if(vr){var Qx;if(vr){var Xx="oninput"in document;if(!Xx){var d1=document.createElement("div");d1.setAttribute("oninput","return;"),Xx=typeof d1.oninput=="function"}Qx=Xx}else Qx=!1;c1=Qx&&(!document.documentMode||9<document.documentMode)}function u1(){Yu&&(Yu.detachEvent("onpropertychange",h1),Qu=Yu=null)}function h1(a){if(a.propertyName==="value"&&Um(Qu)){var o=[];o1(o,Qu,a,br(a)),Gi($R,o)}}function qR(a,o,d){a==="focusin"?(u1(),Yu=o,Qu=d,Yu.attachEvent("onpropertychange",h1)):a==="focusout"&&u1()}function HR(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Um(Qu)}function GR(a,o){if(a==="click")return Um(o)}function KR(a,o){if(a==="input"||a==="change")return Um(o)}function WR(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var sr=typeof Object.is=="function"?Object.is:WR;function Xu(a,o){if(sr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var d=Object.keys(a),h=Object.keys(o);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var x=d[h];if(!qe.call(o,x)||!sr(a[x],o[x]))return!1}return!0}function f1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function m1(a,o){var d=f1(a);a=0;for(var h;d;){if(d.nodeType===3){if(h=a+d.textContent.length,a<=o&&h>=o)return{node:d,offset:o-a};a=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=f1(d)}}function p1(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?p1(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function g1(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=va(a.document);o instanceof a.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)a=o.contentWindow;else break;o=va(a.document)}return o}function Jx(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var YR=vr&&"documentMode"in document&&11>=document.documentMode,Uc=null,Zx=null,Ju=null,e0=!1;function x1(a,o,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;e0||Uc==null||Uc!==va(h)||(h=Uc,"selectionStart"in h&&Jx(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ju&&Xu(Ju,h)||(Ju=h,h=Ep(Zx,"onSelect"),0<h.length&&(o=new Na("onSelect","select",null,o,d),a.push({event:o,listeners:h}),o.target=Uc)))}function ml(a,o){var d={};return d[a.toLowerCase()]=o.toLowerCase(),d["Webkit"+a]="webkit"+o,d["Moz"+a]="moz"+o,d}var Fc={animationend:ml("Animation","AnimationEnd"),animationiteration:ml("Animation","AnimationIteration"),animationstart:ml("Animation","AnimationStart"),transitionrun:ml("Transition","TransitionRun"),transitionstart:ml("Transition","TransitionStart"),transitioncancel:ml("Transition","TransitionCancel"),transitionend:ml("Transition","TransitionEnd")},t0={},y1={};vr&&(y1=document.createElement("div").style,"AnimationEvent"in window||(delete Fc.animationend.animation,delete Fc.animationiteration.animation,delete Fc.animationstart.animation),"TransitionEvent"in window||delete Fc.transitionend.transition);function pl(a){if(t0[a])return t0[a];if(!Fc[a])return a;var o=Fc[a],d;for(d in o)if(o.hasOwnProperty(d)&&d in y1)return t0[a]=o[d];return a}var b1=pl("animationend"),v1=pl("animationiteration"),w1=pl("animationstart"),QR=pl("transitionrun"),XR=pl("transitionstart"),JR=pl("transitioncancel"),j1=pl("transitionend"),N1=new Map,s0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");s0.push("scrollEnd");function Zr(a,o){N1.set(a,o),ya(o,[a])}var Fm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},jr=[],Bc=0,n0=0;function Bm(){for(var a=Bc,o=n0=Bc=0;o<a;){var d=jr[o];jr[o++]=null;var h=jr[o];jr[o++]=null;var x=jr[o];jr[o++]=null;var y=jr[o];if(jr[o++]=null,h!==null&&x!==null){var S=h.pending;S===null?x.next=x:(x.next=S.next,S.next=x),h.pending=x}y!==0&&_1(d,x,y)}}function $m(a,o,d,h){jr[Bc++]=a,jr[Bc++]=o,jr[Bc++]=d,jr[Bc++]=h,n0|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function r0(a,o,d,h){return $m(a,o,d,h),qm(a)}function gl(a,o){return $m(a,null,null,o),qm(a)}function _1(a,o,d){a.lanes|=d;var h=a.alternate;h!==null&&(h.lanes|=d);for(var x=!1,y=a.return;y!==null;)y.childLanes|=d,h=y.alternate,h!==null&&(h.childLanes|=d),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(x=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,x&&o!==null&&(x=31-Rt(d),a=y.hiddenUpdates,h=a[x],h===null?a[x]=[o]:h.push(o),o.lane=d|536870912),y):null}function qm(a){if(50<vh)throw vh=0,fy=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var $c={};function ZR(a,o,d,h){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(a,o,d,h){return new ZR(a,o,d,h)}function a0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Za(a,o){var d=a.alternate;return d===null?(d=nr(a.tag,o,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=o,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,o=a.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function S1(a,o){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,o=d.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Hm(a,o,d,h,x,y){var S=0;if(h=a,typeof a=="function")a0(a)&&(S=1);else if(typeof a=="string")S=r5(a,d,K.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case I:return a=nr(31,d,o,x),a.elementType=I,a.lanes=y,a;case E:return xl(d.children,x,y,o);case k:S=8,x|=24;break;case D:return a=nr(12,d,o,x|2),a.elementType=D,a.lanes=y,a;case $:return a=nr(13,d,o,x),a.elementType=$,a.lanes=y,a;case Q:return a=nr(19,d,o,x),a.elementType=Q,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:S=10;break e;case P:S=9;break e;case V:S=11;break e;case _:S=14;break e;case A:S=16,h=null;break e}S=29,d=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=nr(S,d,o,x),o.elementType=a,o.type=h,o.lanes=y,o}function xl(a,o,d,h){return a=nr(7,a,h,o),a.lanes=d,a}function i0(a,o,d){return a=nr(6,a,null,o),a.lanes=d,a}function T1(a){var o=nr(18,null,null,0);return o.stateNode=a,o}function o0(a,o,d){return o=nr(4,a.children!==null?a.children:[],a.key,o),o.lanes=d,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var k1=new WeakMap;function Nr(a,o){if(typeof a=="object"&&a!==null){var d=k1.get(a);return d!==void 0?d:(o={value:a,source:o,stack:re(o)},k1.set(a,o),o)}return{value:a,source:o,stack:re(o)}}var qc=[],Hc=0,Gm=null,Zu=0,_r=[],Sr=0,Qi=null,ka=1,Ea="";function ei(a,o){qc[Hc++]=Zu,qc[Hc++]=Gm,Gm=a,Zu=o}function E1(a,o,d){_r[Sr++]=ka,_r[Sr++]=Ea,_r[Sr++]=Qi,Qi=a;var h=ka;a=Ea;var x=32-Rt(h)-1;h&=~(1<<x),d+=1;var y=32-Rt(o)+x;if(30<y){var S=x-x%5;y=(h&(1<<S)-1).toString(32),h>>=S,x-=S,ka=1<<32-Rt(o)+x|d<<x|h,Ea=y+a}else ka=1<<y|d<<x|h,Ea=a}function l0(a){a.return!==null&&(ei(a,1),E1(a,1,0))}function c0(a){for(;a===Gm;)Gm=qc[--Hc],qc[Hc]=null,Zu=qc[--Hc],qc[Hc]=null;for(;a===Qi;)Qi=_r[--Sr],_r[Sr]=null,Ea=_r[--Sr],_r[Sr]=null,ka=_r[--Sr],_r[Sr]=null}function C1(a,o){_r[Sr++]=ka,_r[Sr++]=Ea,_r[Sr++]=Qi,ka=o.id,Ea=o.overflow,Qi=a}var Xs=null,Gt=null,gt=!1,Xi=null,Tr=!1,d0=Error(r(519));function Ji(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eh(Nr(o,a)),d0}function A1(a){var o=a.stateNode,d=a.type,h=a.memoizedProps;switch(o[Ss]=a,o[Bs]=h,d){case"dialog":ct("cancel",o),ct("close",o);break;case"iframe":case"object":case"embed":ct("load",o);break;case"video":case"audio":for(d=0;d<jh.length;d++)ct(jh[d],o);break;case"source":ct("error",o);break;case"img":case"image":case"link":ct("error",o),ct("load",o);break;case"details":ct("toggle",o);break;case"input":ct("invalid",o),Sm(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ct("invalid",o);break;case"textarea":ct("invalid",o),$i(o,h.value,h.defaultValue,h.children)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||h.suppressHydrationWarning===!0||K_(o.textContent,d)?(h.popover!=null&&(ct("beforetoggle",o),ct("toggle",o)),h.onScroll!=null&&ct("scroll",o),h.onScrollEnd!=null&&ct("scrollend",o),h.onClick!=null&&(o.onclick=Wr),o=!0):o=!1,o||Ji(a,!0)}function I1(a){for(Xs=a.return;Xs;)switch(Xs.tag){case 5:case 31:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:Xs=Xs.return}}function Gc(a){if(a!==Xs)return!1;if(!gt)return I1(a),gt=!0,!1;var o=a.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||Ey(a.type,a.memoizedProps)),d=!d),d&&Gt&&Ji(a),I1(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Gt=s2(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Gt=s2(a)}else o===27?(o=Gt,fo(a.type)?(a=Py,Py=null,Gt=a):Gt=o):Gt=Xs?Er(a.stateNode.nextSibling):null;return!0}function yl(){Gt=Xs=null,gt=!1}function u0(){var a=Xi;return a!==null&&(Ln===null?Ln=a:Ln.push.apply(Ln,a),Xi=null),a}function eh(a){Xi===null?Xi=[a]:Xi.push(a)}var h0=H(null),bl=null,ti=null;function Zi(a,o,d){Ne(h0,o._currentValue),o._currentValue=d}function si(a){a._currentValue=h0.current,oe(h0)}function f0(a,o,d){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===d)break;a=a.return}}function m0(a,o,d,h){var x=a.child;for(x!==null&&(x.return=a);x!==null;){var y=x.dependencies;if(y!==null){var S=x.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=x;for(var G=0;G<o.length;G++)if(M.context===o[G]){y.lanes|=d,M=y.alternate,M!==null&&(M.lanes|=d),f0(y.return,d,a),h||(S=null);break e}y=M.next}}else if(x.tag===18){if(S=x.return,S===null)throw Error(r(341));S.lanes|=d,y=S.alternate,y!==null&&(y.lanes|=d),f0(S,d,a),S=null}else S=x.child;if(S!==null)S.return=x;else for(S=x;S!==null;){if(S===a){S=null;break}if(x=S.sibling,x!==null){x.return=S.return,S=x;break}S=S.return}x=S}}function Kc(a,o,d,h){a=null;for(var x=o,y=!1;x!==null;){if(!y){if((x.flags&524288)!==0)y=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var S=x.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var M=x.type;sr(x.pendingProps.value,S.value)||(a!==null?a.push(M):a=[M])}}else if(x===Le.current){if(S=x.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(a!==null?a.push(kh):a=[kh])}x=x.return}a!==null&&m0(o,a,d,h),o.flags|=262144}function Km(a){for(a=a.firstContext;a!==null;){if(!sr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function vl(a){bl=a,ti=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Js(a){return R1(bl,a)}function Wm(a,o){return bl===null&&vl(a),R1(a,o)}function R1(a,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},ti===null){if(a===null)throw Error(r(308));ti=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ti=ti.next=o;return d}var e6=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(d,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(d){return d()})}},t6=n.unstable_scheduleCallback,s6=n.unstable_NormalPriority,Es={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function p0(){return{controller:new e6,data:new Map,refCount:0}}function th(a){a.refCount--,a.refCount===0&&t6(s6,function(){a.controller.abort()})}var sh=null,g0=0,Wc=0,Yc=null;function n6(a,o){if(sh===null){var d=sh=[];g0=0,Wc=by(),Yc={status:"pending",value:void 0,then:function(h){d.push(h)}}}return g0++,o.then(P1,P1),o}function P1(){if(--g0===0&&sh!==null){Yc!==null&&(Yc.status="fulfilled");var a=sh;sh=null,Wc=0,Yc=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function r6(a,o){var d=[],h={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var x=0;x<d.length;x++)(0,d[x])(o)},function(x){for(h.status="rejected",h.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),h}var D1=W.S;W.S=function(a,o){x_=me(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&n6(a,o),D1!==null&&D1(a,o)};var wl=H(null);function x0(){var a=wl.current;return a!==null?a:zt.pooledCache}function Ym(a,o){o===null?Ne(wl,wl.current):Ne(wl,o.pool)}function O1(){var a=x0();return a===null?null:{parent:Es._currentValue,pool:a}}var Qc=Error(r(460)),y0=Error(r(474)),Qm=Error(r(542)),Xm={then:function(){}};function M1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function L1(a,o,d){switch(d=a[d],d===void 0?a.push(o):d!==o&&(o.then(Wr,Wr),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,V1(a),a;default:if(typeof o.status=="string")o.then(Wr,Wr);else{if(a=zt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var x=o;x.status="fulfilled",x.value=h}},function(h){if(o.status==="pending"){var x=o;x.status="rejected",x.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,V1(a),a}throw Nl=o,Qc}}function jl(a){try{var o=a._init;return o(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Nl=d,Qc):d}}var Nl=null;function z1(){if(Nl===null)throw Error(r(459));var a=Nl;return Nl=null,a}function V1(a){if(a===Qc||a===Qm)throw Error(r(483))}var Xc=null,nh=0;function Jm(a){var o=nh;return nh+=1,Xc===null&&(Xc=[]),L1(Xc,a,o)}function rh(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Zm(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function U1(a){function o(J,Y){if(a){var se=J.deletions;se===null?(J.deletions=[Y],J.flags|=16):se.push(Y)}}function d(J,Y){if(!a)return null;for(;Y!==null;)o(J,Y),Y=Y.sibling;return null}function h(J){for(var Y=new Map;J!==null;)J.key!==null?Y.set(J.key,J):Y.set(J.index,J),J=J.sibling;return Y}function x(J,Y){return J=Za(J,Y),J.index=0,J.sibling=null,J}function y(J,Y,se){return J.index=se,a?(se=J.alternate,se!==null?(se=se.index,se<Y?(J.flags|=67108866,Y):se):(J.flags|=67108866,Y)):(J.flags|=1048576,Y)}function S(J){return a&&J.alternate===null&&(J.flags|=67108866),J}function M(J,Y,se,ge){return Y===null||Y.tag!==6?(Y=i0(se,J.mode,ge),Y.return=J,Y):(Y=x(Y,se),Y.return=J,Y)}function G(J,Y,se,ge){var Ge=se.type;return Ge===E?fe(J,Y,se.props.children,ge,se.key):Y!==null&&(Y.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===A&&jl(Ge)===Y.type)?(Y=x(Y,se.props),rh(Y,se),Y.return=J,Y):(Y=Hm(se.type,se.key,se.props,null,J.mode,ge),rh(Y,se),Y.return=J,Y)}function ne(J,Y,se,ge){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==se.containerInfo||Y.stateNode.implementation!==se.implementation?(Y=o0(se,J.mode,ge),Y.return=J,Y):(Y=x(Y,se.children||[]),Y.return=J,Y)}function fe(J,Y,se,ge,Ge){return Y===null||Y.tag!==7?(Y=xl(se,J.mode,ge,Ge),Y.return=J,Y):(Y=x(Y,se),Y.return=J,Y)}function xe(J,Y,se){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=i0(""+Y,J.mode,se),Y.return=J,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return se=Hm(Y.type,Y.key,Y.props,null,J.mode,se),rh(se,Y),se.return=J,se;case N:return Y=o0(Y,J.mode,se),Y.return=J,Y;case A:return Y=jl(Y),xe(J,Y,se)}if(he(Y)||F(Y))return Y=xl(Y,J.mode,se,null),Y.return=J,Y;if(typeof Y.then=="function")return xe(J,Jm(Y),se);if(Y.$$typeof===L)return xe(J,Wm(J,Y),se);Zm(J,Y)}return null}function ae(J,Y,se,ge){var Ge=Y!==null?Y.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Ge!==null?null:M(J,Y,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case T:return se.key===Ge?G(J,Y,se,ge):null;case N:return se.key===Ge?ne(J,Y,se,ge):null;case A:return se=jl(se),ae(J,Y,se,ge)}if(he(se)||F(se))return Ge!==null?null:fe(J,Y,se,ge,null);if(typeof se.then=="function")return ae(J,Y,Jm(se),ge);if(se.$$typeof===L)return ae(J,Y,Wm(J,se),ge);Zm(J,se)}return null}function ce(J,Y,se,ge,Ge){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return J=J.get(se)||null,M(Y,J,""+ge,Ge);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case T:return J=J.get(ge.key===null?se:ge.key)||null,G(Y,J,ge,Ge);case N:return J=J.get(ge.key===null?se:ge.key)||null,ne(Y,J,ge,Ge);case A:return ge=jl(ge),ce(J,Y,se,ge,Ge)}if(he(ge)||F(ge))return J=J.get(se)||null,fe(Y,J,ge,Ge,null);if(typeof ge.then=="function")return ce(J,Y,se,Jm(ge),Ge);if(ge.$$typeof===L)return ce(J,Y,se,Wm(Y,ge),Ge);Zm(Y,ge)}return null}function Oe(J,Y,se,ge){for(var Ge=null,bt=null,Fe=Y,nt=Y=0,mt=null;Fe!==null&&nt<se.length;nt++){Fe.index>nt?(mt=Fe,Fe=null):mt=Fe.sibling;var vt=ae(J,Fe,se[nt],ge);if(vt===null){Fe===null&&(Fe=mt);break}a&&Fe&&vt.alternate===null&&o(J,Fe),Y=y(vt,Y,nt),bt===null?Ge=vt:bt.sibling=vt,bt=vt,Fe=mt}if(nt===se.length)return d(J,Fe),gt&&ei(J,nt),Ge;if(Fe===null){for(;nt<se.length;nt++)Fe=xe(J,se[nt],ge),Fe!==null&&(Y=y(Fe,Y,nt),bt===null?Ge=Fe:bt.sibling=Fe,bt=Fe);return gt&&ei(J,nt),Ge}for(Fe=h(Fe);nt<se.length;nt++)mt=ce(Fe,J,nt,se[nt],ge),mt!==null&&(a&&mt.alternate!==null&&Fe.delete(mt.key===null?nt:mt.key),Y=y(mt,Y,nt),bt===null?Ge=mt:bt.sibling=mt,bt=mt);return a&&Fe.forEach(function(yo){return o(J,yo)}),gt&&ei(J,nt),Ge}function We(J,Y,se,ge){if(se==null)throw Error(r(151));for(var Ge=null,bt=null,Fe=Y,nt=Y=0,mt=null,vt=se.next();Fe!==null&&!vt.done;nt++,vt=se.next()){Fe.index>nt?(mt=Fe,Fe=null):mt=Fe.sibling;var yo=ae(J,Fe,vt.value,ge);if(yo===null){Fe===null&&(Fe=mt);break}a&&Fe&&yo.alternate===null&&o(J,Fe),Y=y(yo,Y,nt),bt===null?Ge=yo:bt.sibling=yo,bt=yo,Fe=mt}if(vt.done)return d(J,Fe),gt&&ei(J,nt),Ge;if(Fe===null){for(;!vt.done;nt++,vt=se.next())vt=xe(J,vt.value,ge),vt!==null&&(Y=y(vt,Y,nt),bt===null?Ge=vt:bt.sibling=vt,bt=vt);return gt&&ei(J,nt),Ge}for(Fe=h(Fe);!vt.done;nt++,vt=se.next())vt=ce(Fe,J,nt,vt.value,ge),vt!==null&&(a&&vt.alternate!==null&&Fe.delete(vt.key===null?nt:vt.key),Y=y(vt,Y,nt),bt===null?Ge=vt:bt.sibling=vt,bt=vt);return a&&Fe.forEach(function(p5){return o(J,p5)}),gt&&ei(J,nt),Ge}function Mt(J,Y,se,ge){if(typeof se=="object"&&se!==null&&se.type===E&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case T:e:{for(var Ge=se.key;Y!==null;){if(Y.key===Ge){if(Ge=se.type,Ge===E){if(Y.tag===7){d(J,Y.sibling),ge=x(Y,se.props.children),ge.return=J,J=ge;break e}}else if(Y.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===A&&jl(Ge)===Y.type){d(J,Y.sibling),ge=x(Y,se.props),rh(ge,se),ge.return=J,J=ge;break e}d(J,Y);break}else o(J,Y);Y=Y.sibling}se.type===E?(ge=xl(se.props.children,J.mode,ge,se.key),ge.return=J,J=ge):(ge=Hm(se.type,se.key,se.props,null,J.mode,ge),rh(ge,se),ge.return=J,J=ge)}return S(J);case N:e:{for(Ge=se.key;Y!==null;){if(Y.key===Ge)if(Y.tag===4&&Y.stateNode.containerInfo===se.containerInfo&&Y.stateNode.implementation===se.implementation){d(J,Y.sibling),ge=x(Y,se.children||[]),ge.return=J,J=ge;break e}else{d(J,Y);break}else o(J,Y);Y=Y.sibling}ge=o0(se,J.mode,ge),ge.return=J,J=ge}return S(J);case A:return se=jl(se),Mt(J,Y,se,ge)}if(he(se))return Oe(J,Y,se,ge);if(F(se)){if(Ge=F(se),typeof Ge!="function")throw Error(r(150));return se=Ge.call(se),We(J,Y,se,ge)}if(typeof se.then=="function")return Mt(J,Y,Jm(se),ge);if(se.$$typeof===L)return Mt(J,Y,Wm(J,se),ge);Zm(J,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,Y!==null&&Y.tag===6?(d(J,Y.sibling),ge=x(Y,se),ge.return=J,J=ge):(d(J,Y),ge=i0(se,J.mode,ge),ge.return=J,J=ge),S(J)):d(J,Y)}return function(J,Y,se,ge){try{nh=0;var Ge=Mt(J,Y,se,ge);return Xc=null,Ge}catch(Fe){if(Fe===Qc||Fe===Qm)throw Fe;var bt=nr(29,Fe,null,J.mode);return bt.lanes=ge,bt.return=J,bt}finally{}}}var _l=U1(!0),F1=U1(!1),eo=!1;function b0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function v0(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function to(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function so(a,o,d){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(Nt&2)!==0){var x=h.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),h.pending=o,o=qm(a),_1(a,null,d),o}return $m(a,h,o,d),qm(a)}function ah(a,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,d|=h,o.lanes=d,Vi(a,d)}}function w0(a,o){var d=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var x=null,y=null;if(d=d.firstBaseUpdate,d!==null){do{var S={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};y===null?x=y=S:y=y.next=S,d=d.next}while(d!==null);y===null?x=y=o:y=y.next=o}else x=y=o;d={baseState:h.baseState,firstBaseUpdate:x,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=o:a.next=o,d.lastBaseUpdate=o}var j0=!1;function ih(){if(j0){var a=Yc;if(a!==null)throw a}}function oh(a,o,d,h){j0=!1;var x=a.updateQueue;eo=!1;var y=x.firstBaseUpdate,S=x.lastBaseUpdate,M=x.shared.pending;if(M!==null){x.shared.pending=null;var G=M,ne=G.next;G.next=null,S===null?y=ne:S.next=ne,S=G;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,M=fe.lastBaseUpdate,M!==S&&(M===null?fe.firstBaseUpdate=ne:M.next=ne,fe.lastBaseUpdate=G))}if(y!==null){var xe=x.baseState;S=0,fe=ne=G=null,M=y;do{var ae=M.lane&-536870913,ce=ae!==M.lane;if(ce?(ft&ae)===ae:(h&ae)===ae){ae!==0&&ae===Wc&&(j0=!0),fe!==null&&(fe=fe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Oe=a,We=M;ae=o;var Mt=d;switch(We.tag){case 1:if(Oe=We.payload,typeof Oe=="function"){xe=Oe.call(Mt,xe,ae);break e}xe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=We.payload,ae=typeof Oe=="function"?Oe.call(Mt,xe,ae):Oe,ae==null)break e;xe=b({},xe,ae);break e;case 2:eo=!0}}ae=M.callback,ae!==null&&(a.flags|=64,ce&&(a.flags|=8192),ce=x.callbacks,ce===null?x.callbacks=[ae]:ce.push(ae))}else ce={lane:ae,tag:M.tag,payload:M.payload,callback:M.callback,next:null},fe===null?(ne=fe=ce,G=xe):fe=fe.next=ce,S|=ae;if(M=M.next,M===null){if(M=x.shared.pending,M===null)break;ce=M,M=ce.next,ce.next=null,x.lastBaseUpdate=ce,x.shared.pending=null}}while(!0);fe===null&&(G=xe),x.baseState=G,x.firstBaseUpdate=ne,x.lastBaseUpdate=fe,y===null&&(x.shared.lanes=0),oo|=S,a.lanes=S,a.memoizedState=xe}}function B1(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function $1(a,o){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)B1(d[a],o)}var Jc=H(null),ep=H(0);function q1(a,o){a=ui,Ne(ep,a),Ne(Jc,o),ui=a|o.baseLanes}function N0(){Ne(ep,ui),Ne(Jc,Jc.current)}function _0(){ui=ep.current,oe(Jc),oe(ep)}var rr=H(null),kr=null;function no(a){var o=a.alternate;Ne(vs,vs.current&1),Ne(rr,a),kr===null&&(o===null||Jc.current!==null||o.memoizedState!==null)&&(kr=a)}function S0(a){Ne(vs,vs.current),Ne(rr,a),kr===null&&(kr=a)}function H1(a){a.tag===22?(Ne(vs,vs.current),Ne(rr,a),kr===null&&(kr=a)):ro()}function ro(){Ne(vs,vs.current),Ne(rr,rr.current)}function ar(a){oe(rr),kr===a&&(kr=null),oe(vs)}var vs=H(0);function tp(a){for(var o=a;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Iy(d)||Ry(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ni=0,et=null,Dt=null,Cs=null,sp=!1,Zc=!1,Sl=!1,np=0,lh=0,ed=null,a6=0;function cs(){throw Error(r(321))}function T0(a,o){if(o===null)return!1;for(var d=0;d<o.length&&d<a.length;d++)if(!sr(a[d],o[d]))return!1;return!0}function k0(a,o,d,h,x,y){return ni=y,et=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=a===null||a.memoizedState===null?EN:B0,Sl=!1,y=d(h,x),Sl=!1,Zc&&(y=K1(o,d,h,x)),G1(a),y}function G1(a){W.H=uh;var o=Dt!==null&&Dt.next!==null;if(ni=0,Cs=Dt=et=null,sp=!1,lh=0,ed=null,o)throw Error(r(300));a===null||As||(a=a.dependencies,a!==null&&Km(a)&&(As=!0))}function K1(a,o,d,h){et=a;var x=0;do{if(Zc&&(ed=null),lh=0,Zc=!1,25<=x)throw Error(r(301));if(x+=1,Cs=Dt=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=CN,y=o(d,h)}while(Zc);return y}function i6(){var a=W.H,o=a.useState()[0];return o=typeof o.then=="function"?ch(o):o,a=a.useState()[0],(Dt!==null?Dt.memoizedState:null)!==a&&(et.flags|=1024),o}function E0(){var a=np!==0;return np=0,a}function C0(a,o,d){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~d}function A0(a){if(sp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}sp=!1}ni=0,Cs=Dt=et=null,Zc=!1,lh=np=0,ed=null}function Nn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cs===null?et.memoizedState=Cs=a:Cs=Cs.next=a,Cs}function ws(){if(Dt===null){var a=et.alternate;a=a!==null?a.memoizedState:null}else a=Dt.next;var o=Cs===null?et.memoizedState:Cs.next;if(o!==null)Cs=o,Dt=a;else{if(a===null)throw et.alternate===null?Error(r(467)):Error(r(310));Dt=a,a={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Cs===null?et.memoizedState=Cs=a:Cs=Cs.next=a}return Cs}function rp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ch(a){var o=lh;return lh+=1,ed===null&&(ed=[]),a=L1(ed,a,o),o=et,(Cs===null?o.memoizedState:Cs.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?EN:B0),a}function ap(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ch(a);if(a.$$typeof===L)return Js(a)}throw Error(r(438,String(a)))}function I0(a){var o=null,d=et.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var h=et.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(x){return x.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=rp(),et.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(a),h=0;h<a;h++)d[h]=z;return o.index++,d}function ri(a,o){return typeof o=="function"?o(a):o}function ip(a){var o=ws();return R0(o,Dt,a)}function R0(a,o,d){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=d;var x=a.baseQueue,y=h.pending;if(y!==null){if(x!==null){var S=x.next;x.next=y.next,y.next=S}o.baseQueue=x=y,h.pending=null}if(y=a.baseState,x===null)a.memoizedState=y;else{o=x.next;var M=S=null,G=null,ne=o,fe=!1;do{var xe=ne.lane&-536870913;if(xe!==ne.lane?(ft&xe)===xe:(ni&xe)===xe){var ae=ne.revertLane;if(ae===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),xe===Wc&&(fe=!0);else if((ni&ae)===ae){ne=ne.next,ae===Wc&&(fe=!0);continue}else xe={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(M=G=xe,S=y):G=G.next=xe,et.lanes|=ae,oo|=ae;xe=ne.action,Sl&&d(y,xe),y=ne.hasEagerState?ne.eagerState:d(y,xe)}else ae={lane:xe,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(M=G=ae,S=y):G=G.next=ae,et.lanes|=xe,oo|=xe;ne=ne.next}while(ne!==null&&ne!==o);if(G===null?S=y:G.next=M,!sr(y,a.memoizedState)&&(As=!0,fe&&(d=Yc,d!==null)))throw d;a.memoizedState=y,a.baseState=S,a.baseQueue=G,h.lastRenderedState=y}return x===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function P0(a){var o=ws(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var h=d.dispatch,x=d.pending,y=o.memoizedState;if(x!==null){d.pending=null;var S=x=x.next;do y=a(y,S.action),S=S.next;while(S!==x);sr(y,o.memoizedState)||(As=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),d.lastRenderedState=y}return[y,h]}function W1(a,o,d){var h=et,x=ws(),y=gt;if(y){if(d===void 0)throw Error(r(407));d=d()}else d=o();var S=!sr((Dt||x).memoizedState,d);if(S&&(x.memoizedState=d,As=!0),x=x.queue,M0(X1.bind(null,h,x,a),[a]),x.getSnapshot!==o||S||Cs!==null&&Cs.memoizedState.tag&1){if(h.flags|=2048,td(9,{destroy:void 0},Q1.bind(null,h,x,d,o),null),zt===null)throw Error(r(349));y||(ni&127)!==0||Y1(h,o,d)}return d}function Y1(a,o,d){a.flags|=16384,a={getSnapshot:o,value:d},o=et.updateQueue,o===null?(o=rp(),et.updateQueue=o,o.stores=[a]):(d=o.stores,d===null?o.stores=[a]:d.push(a))}function Q1(a,o,d,h){o.value=d,o.getSnapshot=h,J1(o)&&Z1(a)}function X1(a,o,d){return d(function(){J1(o)&&Z1(a)})}function J1(a){var o=a.getSnapshot;a=a.value;try{var d=o();return!sr(a,d)}catch{return!0}}function Z1(a){var o=gl(a,2);o!==null&&zn(o,a,2)}function D0(a){var o=Nn();if(typeof a=="function"){var d=a;if(a=d(),Sl){fn(!0);try{d()}finally{fn(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:a},o}function eN(a,o,d,h){return a.baseState=d,R0(a,Dt,typeof h=="function"?h:ri)}function o6(a,o,d,h,x){if(cp(a))throw Error(r(485));if(a=o.action,a!==null){var y={payload:x,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};W.T!==null?d(!0):y.isTransition=!1,h(y),d=o.pending,d===null?(y.next=o.pending=y,tN(o,y)):(y.next=d.next,o.pending=d.next=y)}}function tN(a,o){var d=o.action,h=o.payload,x=a.state;if(o.isTransition){var y=W.T,S={};W.T=S;try{var M=d(x,h),G=W.S;G!==null&&G(S,M),sN(a,o,M)}catch(ne){O0(a,o,ne)}finally{y!==null&&S.types!==null&&(y.types=S.types),W.T=y}}else try{y=d(x,h),sN(a,o,y)}catch(ne){O0(a,o,ne)}}function sN(a,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){nN(a,o,h)},function(h){return O0(a,o,h)}):nN(a,o,d)}function nN(a,o,d){o.status="fulfilled",o.value=d,rN(o),a.state=d,o=a.pending,o!==null&&(d=o.next,d===o?a.pending=null:(d=d.next,o.next=d,tN(a,d)))}function O0(a,o,d){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=d,rN(o),o=o.next;while(o!==h)}a.action=null}function rN(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function aN(a,o){return o}function iN(a,o){if(gt){var d=zt.formState;if(d!==null){e:{var h=et;if(gt){if(Gt){t:{for(var x=Gt,y=Tr;x.nodeType!==8;){if(!y){x=null;break t}if(x=Er(x.nextSibling),x===null){x=null;break t}}y=x.data,x=y==="F!"||y==="F"?x:null}if(x){Gt=Er(x.nextSibling),h=x.data==="F!";break e}}Ji(h)}h=!1}h&&(o=d[0])}}return d=Nn(),d.memoizedState=d.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aN,lastRenderedState:o},d.queue=h,d=SN.bind(null,et,h),h.dispatch=d,h=D0(!1),y=F0.bind(null,et,!1,h.queue),h=Nn(),x={state:o,dispatch:null,action:a,pending:null},h.queue=x,d=o6.bind(null,et,x,y,d),x.dispatch=d,h.memoizedState=a,[o,d,!1]}function oN(a){var o=ws();return lN(o,Dt,a)}function lN(a,o,d){if(o=R0(a,o,aN)[0],a=ip(ri)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=ch(o)}catch(S){throw S===Qc?Qm:S}else h=o;o=ws();var x=o.queue,y=x.dispatch;return d!==o.memoizedState&&(et.flags|=2048,td(9,{destroy:void 0},l6.bind(null,x,d),null)),[h,y,a]}function l6(a,o){a.action=o}function cN(a){var o=ws(),d=Dt;if(d!==null)return lN(o,d,a);ws(),o=o.memoizedState,d=ws();var h=d.queue.dispatch;return d.memoizedState=a,[o,h,!1]}function td(a,o,d,h){return a={tag:a,create:d,deps:h,inst:o,next:null},o=et.updateQueue,o===null&&(o=rp(),et.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=a.next=a:(h=d.next,d.next=a,a.next=h,o.lastEffect=a),a}function dN(){return ws().memoizedState}function op(a,o,d,h){var x=Nn();et.flags|=a,x.memoizedState=td(1|o,{destroy:void 0},d,h===void 0?null:h)}function lp(a,o,d,h){var x=ws();h=h===void 0?null:h;var y=x.memoizedState.inst;Dt!==null&&h!==null&&T0(h,Dt.memoizedState.deps)?x.memoizedState=td(o,y,d,h):(et.flags|=a,x.memoizedState=td(1|o,y,d,h))}function uN(a,o){op(8390656,8,a,o)}function M0(a,o){lp(2048,8,a,o)}function c6(a){et.flags|=4;var o=et.updateQueue;if(o===null)o=rp(),et.updateQueue=o,o.events=[a];else{var d=o.events;d===null?o.events=[a]:d.push(a)}}function hN(a){var o=ws().memoizedState;return c6({ref:o,nextImpl:a}),function(){if((Nt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function fN(a,o){return lp(4,2,a,o)}function mN(a,o){return lp(4,4,a,o)}function pN(a,o){if(typeof o=="function"){a=a();var d=o(a);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function gN(a,o,d){d=d!=null?d.concat([a]):null,lp(4,4,pN.bind(null,o,a),d)}function L0(){}function xN(a,o){var d=ws();o=o===void 0?null:o;var h=d.memoizedState;return o!==null&&T0(o,h[1])?h[0]:(d.memoizedState=[a,o],a)}function yN(a,o){var d=ws();o=o===void 0?null:o;var h=d.memoizedState;if(o!==null&&T0(o,h[1]))return h[0];if(h=a(),Sl){fn(!0);try{a()}finally{fn(!1)}}return d.memoizedState=[h,o],h}function z0(a,o,d){return d===void 0||(ni&1073741824)!==0&&(ft&261930)===0?a.memoizedState=o:(a.memoizedState=d,a=b_(),et.lanes|=a,oo|=a,d)}function bN(a,o,d,h){return sr(d,o)?d:Jc.current!==null?(a=z0(a,d,h),sr(a,o)||(As=!0),a):(ni&42)===0||(ni&1073741824)!==0&&(ft&261930)===0?(As=!0,a.memoizedState=d):(a=b_(),et.lanes|=a,oo|=a,o)}function vN(a,o,d,h,x){var y=te.p;te.p=y!==0&&8>y?y:8;var S=W.T,M={};W.T=M,F0(a,!1,o,d);try{var G=x(),ne=W.S;if(ne!==null&&ne(M,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var fe=r6(G,h);dh(a,o,fe,lr(a))}else dh(a,o,h,lr(a))}catch(xe){dh(a,o,{then:function(){},status:"rejected",reason:xe},lr())}finally{te.p=y,S!==null&&M.types!==null&&(S.types=M.types),W.T=S}}function d6(){}function V0(a,o,d,h){if(a.tag!==5)throw Error(r(476));var x=wN(a).queue;vN(a,x,o,be,d===null?d6:function(){return jN(a),d(h)})}function wN(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:be},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:d},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function jN(a){var o=wN(a);o.next===null&&(o=a.alternate.memoizedState),dh(a,o.next.queue,{},lr())}function U0(){return Js(kh)}function NN(){return ws().memoizedState}function _N(){return ws().memoizedState}function u6(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var d=lr();a=to(d);var h=so(o,a,d);h!==null&&(zn(h,o,d),ah(h,o,d)),o={cache:p0()},a.payload=o;return}o=o.return}}function h6(a,o,d){var h=lr();d={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},cp(a)?TN(o,d):(d=r0(a,o,d,h),d!==null&&(zn(d,a,h),kN(d,o,h)))}function SN(a,o,d){var h=lr();dh(a,o,d,h)}function dh(a,o,d,h){var x={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(cp(a))TN(o,x);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,M=y(S,d);if(x.hasEagerState=!0,x.eagerState=M,sr(M,S))return $m(a,o,x,0),zt===null&&Bm(),!1}catch{}finally{}if(d=r0(a,o,x,h),d!==null)return zn(d,a,h),kN(d,o,h),!0}return!1}function F0(a,o,d,h){if(h={lane:2,revertLane:by(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},cp(a)){if(o)throw Error(r(479))}else o=r0(a,d,h,2),o!==null&&zn(o,a,2)}function cp(a){var o=a.alternate;return a===et||o!==null&&o===et}function TN(a,o){Zc=sp=!0;var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}function kN(a,o,d){if((d&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,d|=h,o.lanes=d,Vi(a,d)}}var uh={readContext:Js,use:ap,useCallback:cs,useContext:cs,useEffect:cs,useImperativeHandle:cs,useLayoutEffect:cs,useInsertionEffect:cs,useMemo:cs,useReducer:cs,useRef:cs,useState:cs,useDebugValue:cs,useDeferredValue:cs,useTransition:cs,useSyncExternalStore:cs,useId:cs,useHostTransitionStatus:cs,useFormState:cs,useActionState:cs,useOptimistic:cs,useMemoCache:cs,useCacheRefresh:cs};uh.useEffectEvent=cs;var EN={readContext:Js,use:ap,useCallback:function(a,o){return Nn().memoizedState=[a,o===void 0?null:o],a},useContext:Js,useEffect:uN,useImperativeHandle:function(a,o,d){d=d!=null?d.concat([a]):null,op(4194308,4,pN.bind(null,o,a),d)},useLayoutEffect:function(a,o){return op(4194308,4,a,o)},useInsertionEffect:function(a,o){op(4,2,a,o)},useMemo:function(a,o){var d=Nn();o=o===void 0?null:o;var h=a();if(Sl){fn(!0);try{a()}finally{fn(!1)}}return d.memoizedState=[h,o],h},useReducer:function(a,o,d){var h=Nn();if(d!==void 0){var x=d(o);if(Sl){fn(!0);try{d(o)}finally{fn(!1)}}}else x=o;return h.memoizedState=h.baseState=x,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:x},h.queue=a,a=a.dispatch=h6.bind(null,et,a),[h.memoizedState,a]},useRef:function(a){var o=Nn();return a={current:a},o.memoizedState=a},useState:function(a){a=D0(a);var o=a.queue,d=SN.bind(null,et,o);return o.dispatch=d,[a.memoizedState,d]},useDebugValue:L0,useDeferredValue:function(a,o){var d=Nn();return z0(d,a,o)},useTransition:function(){var a=D0(!1);return a=vN.bind(null,et,a.queue,!0,!1),Nn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,d){var h=et,x=Nn();if(gt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),zt===null)throw Error(r(349));(ft&127)!==0||Y1(h,o,d)}x.memoizedState=d;var y={value:d,getSnapshot:o};return x.queue=y,uN(X1.bind(null,h,y,a),[a]),h.flags|=2048,td(9,{destroy:void 0},Q1.bind(null,h,y,d,o),null),d},useId:function(){var a=Nn(),o=zt.identifierPrefix;if(gt){var d=Ea,h=ka;d=(h&~(1<<32-Rt(h)-1)).toString(32)+d,o="_"+o+"R_"+d,d=np++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=a6++,o="_"+o+"r_"+d.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:U0,useFormState:iN,useActionState:iN,useOptimistic:function(a){var o=Nn();o.memoizedState=o.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=F0.bind(null,et,!0,d),d.dispatch=o,[a,o]},useMemoCache:I0,useCacheRefresh:function(){return Nn().memoizedState=u6.bind(null,et)},useEffectEvent:function(a){var o=Nn(),d={impl:a};return o.memoizedState=d,function(){if((Nt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},B0={readContext:Js,use:ap,useCallback:xN,useContext:Js,useEffect:M0,useImperativeHandle:gN,useInsertionEffect:fN,useLayoutEffect:mN,useMemo:yN,useReducer:ip,useRef:dN,useState:function(){return ip(ri)},useDebugValue:L0,useDeferredValue:function(a,o){var d=ws();return bN(d,Dt.memoizedState,a,o)},useTransition:function(){var a=ip(ri)[0],o=ws().memoizedState;return[typeof a=="boolean"?a:ch(a),o]},useSyncExternalStore:W1,useId:NN,useHostTransitionStatus:U0,useFormState:oN,useActionState:oN,useOptimistic:function(a,o){var d=ws();return eN(d,Dt,a,o)},useMemoCache:I0,useCacheRefresh:_N};B0.useEffectEvent=hN;var CN={readContext:Js,use:ap,useCallback:xN,useContext:Js,useEffect:M0,useImperativeHandle:gN,useInsertionEffect:fN,useLayoutEffect:mN,useMemo:yN,useReducer:P0,useRef:dN,useState:function(){return P0(ri)},useDebugValue:L0,useDeferredValue:function(a,o){var d=ws();return Dt===null?z0(d,a,o):bN(d,Dt.memoizedState,a,o)},useTransition:function(){var a=P0(ri)[0],o=ws().memoizedState;return[typeof a=="boolean"?a:ch(a),o]},useSyncExternalStore:W1,useId:NN,useHostTransitionStatus:U0,useFormState:cN,useActionState:cN,useOptimistic:function(a,o){var d=ws();return Dt!==null?eN(d,Dt,a,o):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:I0,useCacheRefresh:_N};CN.useEffectEvent=hN;function $0(a,o,d,h){o=a.memoizedState,d=d(h,o),d=d==null?o:b({},o,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var q0={enqueueSetState:function(a,o,d){a=a._reactInternals;var h=lr(),x=to(h);x.payload=o,d!=null&&(x.callback=d),o=so(a,x,h),o!==null&&(zn(o,a,h),ah(o,a,h))},enqueueReplaceState:function(a,o,d){a=a._reactInternals;var h=lr(),x=to(h);x.tag=1,x.payload=o,d!=null&&(x.callback=d),o=so(a,x,h),o!==null&&(zn(o,a,h),ah(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var d=lr(),h=to(d);h.tag=2,o!=null&&(h.callback=o),o=so(a,h,d),o!==null&&(zn(o,a,d),ah(o,a,d))}};function AN(a,o,d,h,x,y,S){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,y,S):o.prototype&&o.prototype.isPureReactComponent?!Xu(d,h)||!Xu(x,y):!0}function IN(a,o,d,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,h),o.state!==a&&q0.enqueueReplaceState(o,o.state,null)}function Tl(a,o){var d=o;if("ref"in o){d={};for(var h in o)h!=="ref"&&(d[h]=o[h])}if(a=a.defaultProps){d===o&&(d=b({},d));for(var x in a)d[x]===void 0&&(d[x]=a[x])}return d}function RN(a){Fm(a)}function PN(a){console.error(a)}function DN(a){Fm(a)}function dp(a,o){try{var d=a.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function ON(a,o,d){try{var h=a.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function H0(a,o,d){return d=to(d),d.tag=3,d.payload={element:null},d.callback=function(){dp(a,o)},d}function MN(a){return a=to(a),a.tag=3,a}function LN(a,o,d,h){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var y=h.value;a.payload=function(){return x(y)},a.callback=function(){ON(o,d,h)}}var S=d.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(a.callback=function(){ON(o,d,h),typeof x!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function f6(a,o,d,h,x){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=d.alternate,o!==null&&Kc(o,d,x,!0),d=rr.current,d!==null){switch(d.tag){case 31:case 13:return kr===null?jp():d.alternate===null&&ds===0&&(ds=3),d.flags&=-257,d.flags|=65536,d.lanes=x,h===Xm?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([h]):o.add(h),gy(a,h,x)),!1;case 22:return d.flags|=65536,h===Xm?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([h]):d.add(h)),gy(a,h,x)),!1}throw Error(r(435,d.tag))}return gy(a,h,x),jp(),!1}if(gt)return o=rr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=x,h!==d0&&(a=Error(r(422),{cause:h}),eh(Nr(a,d)))):(h!==d0&&(o=Error(r(423),{cause:h}),eh(Nr(o,d))),a=a.current.alternate,a.flags|=65536,x&=-x,a.lanes|=x,h=Nr(h,d),x=H0(a.stateNode,h,x),w0(a,x),ds!==4&&(ds=2)),!1;var y=Error(r(520),{cause:h});if(y=Nr(y,d),bh===null?bh=[y]:bh.push(y),ds!==4&&(ds=2),o===null)return!0;h=Nr(h,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,a=x&-x,d.lanes|=a,a=H0(d.stateNode,h,a),w0(d,a),!1;case 1:if(o=d.type,y=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(lo===null||!lo.has(y))))return d.flags|=65536,x&=-x,d.lanes|=x,x=MN(x),LN(x,a,d,h),w0(d,x),!1}d=d.return}while(d!==null);return!1}var G0=Error(r(461)),As=!1;function Zs(a,o,d,h){o.child=a===null?F1(o,null,d,h):_l(o,a.child,d,h)}function zN(a,o,d,h,x){d=d.render;var y=o.ref;if("ref"in h){var S={};for(var M in h)M!=="ref"&&(S[M]=h[M])}else S=h;return vl(o),h=k0(a,o,d,S,y,x),M=E0(),a!==null&&!As?(C0(a,o,x),ai(a,o,x)):(gt&&M&&l0(o),o.flags|=1,Zs(a,o,h,x),o.child)}function VN(a,o,d,h,x){if(a===null){var y=d.type;return typeof y=="function"&&!a0(y)&&y.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=y,UN(a,o,y,h,x)):(a=Hm(d.type,null,h,o,o.mode,x),a.ref=o.ref,a.return=o,o.child=a)}if(y=a.child,!ey(a,x)){var S=y.memoizedProps;if(d=d.compare,d=d!==null?d:Xu,d(S,h)&&a.ref===o.ref)return ai(a,o,x)}return o.flags|=1,a=Za(y,h),a.ref=o.ref,a.return=o,o.child=a}function UN(a,o,d,h,x){if(a!==null){var y=a.memoizedProps;if(Xu(y,h)&&a.ref===o.ref)if(As=!1,o.pendingProps=h=y,ey(a,x))(a.flags&131072)!==0&&(As=!0);else return o.lanes=a.lanes,ai(a,o,x)}return K0(a,o,d,h,x)}function FN(a,o,d,h){var x=h.children,y=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(y=y!==null?y.baseLanes|d:d,a!==null){for(h=o.child=a.child,x=0;h!==null;)x=x|h.lanes|h.childLanes,h=h.sibling;h=x&~y}else h=0,o.child=null;return BN(a,o,y,d,h)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ym(o,y!==null?y.cachePool:null),y!==null?q1(o,y):N0(),H1(o);else return h=o.lanes=536870912,BN(a,o,y!==null?y.baseLanes|d:d,d,h)}else y!==null?(Ym(o,y.cachePool),q1(o,y),ro(),o.memoizedState=null):(a!==null&&Ym(o,null),N0(),ro());return Zs(a,o,x,d),o.child}function hh(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function BN(a,o,d,h,x){var y=x0();return y=y===null?null:{parent:Es._currentValue,pool:y},o.memoizedState={baseLanes:d,cachePool:y},a!==null&&Ym(o,null),N0(),H1(o),a!==null&&Kc(a,o,h,!0),o.childLanes=x,null}function up(a,o){return o=fp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function $N(a,o,d){return _l(o,a.child,null,d),a=up(o,o.pendingProps),a.flags|=2,ar(o),o.memoizedState=null,a}function m6(a,o,d){var h=o.pendingProps,x=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(gt){if(h.mode==="hidden")return a=up(o,h),o.lanes=536870912,hh(null,a);if(S0(o),(a=Gt)?(a=t2(a,Tr),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Qi!==null?{id:ka,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},d=T1(a),d.return=o,o.child=d,Xs=o,Gt=null)):a=null,a===null)throw Ji(o);return o.lanes=536870912,null}return up(o,h)}var y=a.memoizedState;if(y!==null){var S=y.dehydrated;if(S0(o),x)if(o.flags&256)o.flags&=-257,o=$N(a,o,d);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(As||Kc(a,o,d,!1),x=(d&a.childLanes)!==0,As||x){if(h=zt,h!==null&&(S=Ui(h,d),S!==0&&S!==y.retryLane))throw y.retryLane=S,gl(a,S),zn(h,a,S),G0;jp(),o=$N(a,o,d)}else a=y.treeContext,Gt=Er(S.nextSibling),Xs=o,gt=!0,Xi=null,Tr=!1,a!==null&&C1(o,a),o=up(o,h),o.flags|=4096;return o}return a=Za(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function hp(a,o){var d=o.ref;if(d===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(o.flags|=4194816)}}function K0(a,o,d,h,x){return vl(o),d=k0(a,o,d,h,void 0,x),h=E0(),a!==null&&!As?(C0(a,o,x),ai(a,o,x)):(gt&&h&&l0(o),o.flags|=1,Zs(a,o,d,x),o.child)}function qN(a,o,d,h,x,y){return vl(o),o.updateQueue=null,d=K1(o,h,d,x),G1(a),h=E0(),a!==null&&!As?(C0(a,o,y),ai(a,o,y)):(gt&&h&&l0(o),o.flags|=1,Zs(a,o,d,y),o.child)}function HN(a,o,d,h,x){if(vl(o),o.stateNode===null){var y=$c,S=d.contextType;typeof S=="object"&&S!==null&&(y=Js(S)),y=new d(h,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=q0,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=h,y.state=o.memoizedState,y.refs={},b0(o),S=d.contextType,y.context=typeof S=="object"&&S!==null?Js(S):$c,y.state=o.memoizedState,S=d.getDerivedStateFromProps,typeof S=="function"&&($0(o,d,S,h),y.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&q0.enqueueReplaceState(y,y.state,null),oh(o,h,y,x),ih(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){y=o.stateNode;var M=o.memoizedProps,G=Tl(d,M);y.props=G;var ne=y.context,fe=d.contextType;S=$c,typeof fe=="object"&&fe!==null&&(S=Js(fe));var xe=d.getDerivedStateFromProps;fe=typeof xe=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,fe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||ne!==S)&&IN(o,y,h,S),eo=!1;var ae=o.memoizedState;y.state=ae,oh(o,h,y,x),ih(),ne=o.memoizedState,M||ae!==ne||eo?(typeof xe=="function"&&($0(o,d,xe,h),ne=o.memoizedState),(G=eo||AN(o,d,G,h,ae,ne,S))?(fe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ne),y.props=h,y.state=ne,y.context=S,h=G):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{y=o.stateNode,v0(a,o),S=o.memoizedProps,fe=Tl(d,S),y.props=fe,xe=o.pendingProps,ae=y.context,ne=d.contextType,G=$c,typeof ne=="object"&&ne!==null&&(G=Js(ne)),M=d.getDerivedStateFromProps,(ne=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==xe||ae!==G)&&IN(o,y,h,G),eo=!1,ae=o.memoizedState,y.state=ae,oh(o,h,y,x),ih();var ce=o.memoizedState;S!==xe||ae!==ce||eo||a!==null&&a.dependencies!==null&&Km(a.dependencies)?(typeof M=="function"&&($0(o,d,M,h),ce=o.memoizedState),(fe=eo||AN(o,d,fe,h,ae,ce,G)||a!==null&&a.dependencies!==null&&Km(a.dependencies))?(ne||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,ce,G),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,ce,G)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ce),y.props=h,y.state=ce,y.context=G,h=fe):(typeof y.componentDidUpdate!="function"||S===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),h=!1)}return y=h,hp(a,o),h=(o.flags&128)!==0,y||h?(y=o.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,a!==null&&h?(o.child=_l(o,a.child,null,x),o.child=_l(o,null,d,x)):Zs(a,o,d,x),o.memoizedState=y.state,a=o.child):a=ai(a,o,x),a}function GN(a,o,d,h){return yl(),o.flags|=256,Zs(a,o,d,h),o.child}var W0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Y0(a){return{baseLanes:a,cachePool:O1()}}function Q0(a,o,d){return a=a!==null?a.childLanes&~d:0,o&&(a|=or),a}function KN(a,o,d){var h=o.pendingProps,x=!1,y=(o.flags&128)!==0,S;if((S=y)||(S=a!==null&&a.memoizedState===null?!1:(vs.current&2)!==0),S&&(x=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,a===null){if(gt){if(x?no(o):ro(),(a=Gt)?(a=t2(a,Tr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Qi!==null?{id:ka,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},d=T1(a),d.return=o,o.child=d,Xs=o,Gt=null)):a=null,a===null)throw Ji(o);return Ry(a)?o.lanes=32:o.lanes=536870912,null}var M=h.children;return h=h.fallback,x?(ro(),x=o.mode,M=fp({mode:"hidden",children:M},x),h=xl(h,x,d,null),M.return=o,h.return=o,M.sibling=h,o.child=M,h=o.child,h.memoizedState=Y0(d),h.childLanes=Q0(a,S,d),o.memoizedState=W0,hh(null,h)):(no(o),X0(o,M))}var G=a.memoizedState;if(G!==null&&(M=G.dehydrated,M!==null)){if(y)o.flags&256?(no(o),o.flags&=-257,o=J0(a,o,d)):o.memoizedState!==null?(ro(),o.child=a.child,o.flags|=128,o=null):(ro(),M=h.fallback,x=o.mode,h=fp({mode:"visible",children:h.children},x),M=xl(M,x,d,null),M.flags|=2,h.return=o,M.return=o,h.sibling=M,o.child=h,_l(o,a.child,null,d),h=o.child,h.memoizedState=Y0(d),h.childLanes=Q0(a,S,d),o.memoizedState=W0,o=hh(null,h));else if(no(o),Ry(M)){if(S=M.nextSibling&&M.nextSibling.dataset,S)var ne=S.dgst;S=ne,h=Error(r(419)),h.stack="",h.digest=S,eh({value:h,source:null,stack:null}),o=J0(a,o,d)}else if(As||Kc(a,o,d,!1),S=(d&a.childLanes)!==0,As||S){if(S=zt,S!==null&&(h=Ui(S,d),h!==0&&h!==G.retryLane))throw G.retryLane=h,gl(a,h),zn(S,a,h),G0;Iy(M)||jp(),o=J0(a,o,d)}else Iy(M)?(o.flags|=192,o.child=a.child,o=null):(a=G.treeContext,Gt=Er(M.nextSibling),Xs=o,gt=!0,Xi=null,Tr=!1,a!==null&&C1(o,a),o=X0(o,h.children),o.flags|=4096);return o}return x?(ro(),M=h.fallback,x=o.mode,G=a.child,ne=G.sibling,h=Za(G,{mode:"hidden",children:h.children}),h.subtreeFlags=G.subtreeFlags&65011712,ne!==null?M=Za(ne,M):(M=xl(M,x,d,null),M.flags|=2),M.return=o,h.return=o,h.sibling=M,o.child=h,hh(null,h),h=o.child,M=a.child.memoizedState,M===null?M=Y0(d):(x=M.cachePool,x!==null?(G=Es._currentValue,x=x.parent!==G?{parent:G,pool:G}:x):x=O1(),M={baseLanes:M.baseLanes|d,cachePool:x}),h.memoizedState=M,h.childLanes=Q0(a,S,d),o.memoizedState=W0,hh(a.child,h)):(no(o),d=a.child,a=d.sibling,d=Za(d,{mode:"visible",children:h.children}),d.return=o,d.sibling=null,a!==null&&(S=o.deletions,S===null?(o.deletions=[a],o.flags|=16):S.push(a)),o.child=d,o.memoizedState=null,d)}function X0(a,o){return o=fp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function fp(a,o){return a=nr(22,a,null,o),a.lanes=0,a}function J0(a,o,d){return _l(o,a.child,null,d),a=X0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function WN(a,o,d){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),f0(a.return,o,d)}function Z0(a,o,d,h,x,y){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:x,treeForkCount:y}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=d,S.tailMode=x,S.treeForkCount=y)}function YN(a,o,d){var h=o.pendingProps,x=h.revealOrder,y=h.tail;h=h.children;var S=vs.current,M=(S&2)!==0;if(M?(S=S&1|2,o.flags|=128):S&=1,Ne(vs,S),Zs(a,o,h,d),h=gt?Zu:0,!M&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&WN(a,d,o);else if(a.tag===19)WN(a,d,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(x){case"forwards":for(d=o.child,x=null;d!==null;)a=d.alternate,a!==null&&tp(a)===null&&(x=d),d=d.sibling;d=x,d===null?(x=o.child,o.child=null):(x=d.sibling,d.sibling=null),Z0(o,!1,x,d,y,h);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=o.child,o.child=null;x!==null;){if(a=x.alternate,a!==null&&tp(a)===null){o.child=x;break}a=x.sibling,x.sibling=d,d=x,x=a}Z0(o,!0,d,null,y,h);break;case"together":Z0(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function ai(a,o,d){if(a!==null&&(o.dependencies=a.dependencies),oo|=o.lanes,(d&o.childLanes)===0)if(a!==null){if(Kc(a,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,d=Za(a,a.pendingProps),o.child=d,d.return=o;a.sibling!==null;)a=a.sibling,d=d.sibling=Za(a,a.pendingProps),d.return=o;d.sibling=null}return o.child}function ey(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Km(a)))}function p6(a,o,d){switch(o.tag){case 3:at(o,o.stateNode.containerInfo),Zi(o,Es,a.memoizedState.cache),yl();break;case 27:case 5:Ht(o);break;case 4:at(o,o.stateNode.containerInfo);break;case 10:Zi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,S0(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(no(o),o.flags|=128,null):(d&o.child.childLanes)!==0?KN(a,o,d):(no(o),a=ai(a,o,d),a!==null?a.sibling:null);no(o);break;case 19:var x=(a.flags&128)!==0;if(h=(d&o.childLanes)!==0,h||(Kc(a,o,d,!1),h=(d&o.childLanes)!==0),x){if(h)return YN(a,o,d);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ne(vs,vs.current),h)break;return null;case 22:return o.lanes=0,FN(a,o,d,o.pendingProps);case 24:Zi(o,Es,a.memoizedState.cache)}return ai(a,o,d)}function QN(a,o,d){if(a!==null)if(a.memoizedProps!==o.pendingProps)As=!0;else{if(!ey(a,d)&&(o.flags&128)===0)return As=!1,p6(a,o,d);As=(a.flags&131072)!==0}else As=!1,gt&&(o.flags&1048576)!==0&&E1(o,Zu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=jl(o.elementType),o.type=a,typeof a=="function")a0(a)?(h=Tl(a,h),o.tag=1,o=HN(null,o,a,h,d)):(o.tag=0,o=K0(null,o,a,h,d));else{if(a!=null){var x=a.$$typeof;if(x===V){o.tag=11,o=zN(null,o,a,h,d);break e}else if(x===_){o.tag=14,o=VN(null,o,a,h,d);break e}}throw o=U(a)||a,Error(r(306,o,""))}}return o;case 0:return K0(a,o,o.type,o.pendingProps,d);case 1:return h=o.type,x=Tl(h,o.pendingProps),HN(a,o,h,x,d);case 3:e:{if(at(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var y=o.memoizedState;x=y.element,v0(a,o),oh(o,h,null,d);var S=o.memoizedState;if(h=S.cache,Zi(o,Es,h),h!==y.cache&&m0(o,[Es],d,!0),ih(),h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=GN(a,o,h,d);break e}else if(h!==x){x=Nr(Error(r(424)),o),eh(x),o=GN(a,o,h,d);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Gt=Er(a.firstChild),Xs=o,gt=!0,Xi=null,Tr=!0,d=F1(o,null,h,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(yl(),h===x){o=ai(a,o,d);break e}Zs(a,o,h,d)}o=o.child}return o;case 26:return hp(a,o),a===null?(d=o2(o.type,null,o.pendingProps,null))?o.memoizedState=d:gt||(d=o.type,a=o.pendingProps,h=Cp(Te.current).createElement(d),h[Ss]=o,h[Bs]=a,en(h,d,a),Ts(h),o.stateNode=h):o.memoizedState=o2(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ht(o),a===null&&gt&&(h=o.stateNode=r2(o.type,o.pendingProps,Te.current),Xs=o,Tr=!0,x=Gt,fo(o.type)?(Py=x,Gt=Er(h.firstChild)):Gt=x),Zs(a,o,o.pendingProps.children,d),hp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&gt&&((x=h=Gt)&&(h=H6(h,o.type,o.pendingProps,Tr),h!==null?(o.stateNode=h,Xs=o,Gt=Er(h.firstChild),Tr=!1,x=!0):x=!1),x||Ji(o)),Ht(o),x=o.type,y=o.pendingProps,S=a!==null?a.memoizedProps:null,h=y.children,Ey(x,y)?h=null:S!==null&&Ey(x,S)&&(o.flags|=32),o.memoizedState!==null&&(x=k0(a,o,i6,null,null,d),kh._currentValue=x),hp(a,o),Zs(a,o,h,d),o.child;case 6:return a===null&&gt&&((a=d=Gt)&&(d=G6(d,o.pendingProps,Tr),d!==null?(o.stateNode=d,Xs=o,Gt=null,a=!0):a=!1),a||Ji(o)),null;case 13:return KN(a,o,d);case 4:return at(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=_l(o,null,h,d):Zs(a,o,h,d),o.child;case 11:return zN(a,o,o.type,o.pendingProps,d);case 7:return Zs(a,o,o.pendingProps,d),o.child;case 8:return Zs(a,o,o.pendingProps.children,d),o.child;case 12:return Zs(a,o,o.pendingProps.children,d),o.child;case 10:return h=o.pendingProps,Zi(o,o.type,h.value),Zs(a,o,h.children,d),o.child;case 9:return x=o.type._context,h=o.pendingProps.children,vl(o),x=Js(x),h=h(x),o.flags|=1,Zs(a,o,h,d),o.child;case 14:return VN(a,o,o.type,o.pendingProps,d);case 15:return UN(a,o,o.type,o.pendingProps,d);case 19:return YN(a,o,d);case 31:return m6(a,o,d);case 22:return FN(a,o,d,o.pendingProps);case 24:return vl(o),h=Js(Es),a===null?(x=x0(),x===null&&(x=zt,y=p0(),x.pooledCache=y,y.refCount++,y!==null&&(x.pooledCacheLanes|=d),x=y),o.memoizedState={parent:h,cache:x},b0(o),Zi(o,Es,x)):((a.lanes&d)!==0&&(v0(a,o),oh(o,null,null,d),ih()),x=a.memoizedState,y=o.memoizedState,x.parent!==h?(x={parent:h,cache:h},o.memoizedState=x,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=x),Zi(o,Es,h)):(h=y.cache,Zi(o,Es,h),h!==x.cache&&m0(o,[Es],d,!0))),Zs(a,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ii(a){a.flags|=4}function ty(a,o,d,h,x){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(x&335544128)===x)if(a.stateNode.complete)a.flags|=8192;else if(N_())a.flags|=8192;else throw Nl=Xm,y0}else a.flags&=-16777217}function XN(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!h2(o))if(N_())a.flags|=8192;else throw Nl=Xm,y0}function mp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Qt():536870912,a.lanes|=o,ad|=o)}function fh(a,o){if(!gt)switch(a.tailMode){case"hidden":o=a.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Kt(a){var o=a.alternate!==null&&a.alternate.child===a.child,d=0,h=0;if(o)for(var x=a.child;x!==null;)d|=x.lanes|x.childLanes,h|=x.subtreeFlags&65011712,h|=x.flags&65011712,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)d|=x.lanes|x.childLanes,h|=x.subtreeFlags,h|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=h,a.childLanes=d,o}function g6(a,o,d){var h=o.pendingProps;switch(c0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(o),null;case 1:return Kt(o),null;case 3:return d=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),si(Es),Ke(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Gc(o)?ii(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,u0())),Kt(o),null;case 26:var x=o.type,y=o.memoizedState;return a===null?(ii(o),y!==null?(Kt(o),XN(o,y)):(Kt(o),ty(o,x,null,h,d))):y?y!==a.memoizedState?(ii(o),Kt(o),XN(o,y)):(Kt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&ii(o),Kt(o),ty(o,x,a,h,d)),null;case 27:if(Ft(o),d=Te.current,x=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&ii(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Kt(o),null}a=K.current,Gc(o)?A1(o):(a=r2(x,h,d),o.stateNode=a,ii(o))}return Kt(o),null;case 5:if(Ft(o),x=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&ii(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Kt(o),null}if(y=K.current,Gc(o))A1(o);else{var S=Cp(Te.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?S.createElement("select",{is:h.is}):S.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?S.createElement(x,{is:h.is}):S.createElement(x)}}y[Ss]=o,y[Bs]=h;e:for(S=o.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===o)break e;for(;S.sibling===null;){if(S.return===null||S.return===o)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}o.stateNode=y;e:switch(en(y,x,h),x){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ii(o)}}return Kt(o),ty(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,d),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&ii(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=Te.current,Gc(o)){if(a=o.stateNode,d=o.memoizedProps,h=null,x=Xs,x!==null)switch(x.tag){case 27:case 5:h=x.memoizedProps}a[Ss]=o,a=!!(a.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||K_(a.nodeValue,d)),a||Ji(o,!0)}else a=Cp(a).createTextNode(h),a[Ss]=o,o.stateNode=a}return Kt(o),null;case 31:if(d=o.memoizedState,a===null||a.memoizedState!==null){if(h=Gc(o),d!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Ss]=o}else yl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),a=!1}else d=u0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return o.flags&256?(ar(o),o):(ar(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Kt(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(x=Gc(o),h!==null&&h.dehydrated!==null){if(a===null){if(!x)throw Error(r(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Ss]=o}else yl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),x=!1}else x=u0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=x),x=!0;if(!x)return o.flags&256?(ar(o),o):(ar(o),null)}return ar(o),(o.flags&128)!==0?(o.lanes=d,o):(d=h!==null,a=a!==null&&a.memoizedState!==null,d&&(h=o.child,x=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(x=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==x&&(h.flags|=2048)),d!==a&&d&&(o.child.flags|=8192),mp(o,o.updateQueue),Kt(o),null);case 4:return Ke(),a===null&&Ny(o.stateNode.containerInfo),Kt(o),null;case 10:return si(o.type),Kt(o),null;case 19:if(oe(vs),h=o.memoizedState,h===null)return Kt(o),null;if(x=(o.flags&128)!==0,y=h.rendering,y===null)if(x)fh(h,!1);else{if(ds!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(y=tp(a),y!==null){for(o.flags|=128,fh(h,!1),a=y.updateQueue,o.updateQueue=a,mp(o,a),o.subtreeFlags=0,a=d,d=o.child;d!==null;)S1(d,a),d=d.sibling;return Ne(vs,vs.current&1|2),gt&&ei(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&me()>bp&&(o.flags|=128,x=!0,fh(h,!1),o.lanes=4194304)}else{if(!x)if(a=tp(y),a!==null){if(o.flags|=128,x=!0,a=a.updateQueue,o.updateQueue=a,mp(o,a),fh(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!gt)return Kt(o),null}else 2*me()-h.renderingStartTime>bp&&d!==536870912&&(o.flags|=128,x=!0,fh(h,!1),o.lanes=4194304);h.isBackwards?(y.sibling=o.child,o.child=y):(a=h.last,a!==null?a.sibling=y:o.child=y,h.last=y)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=me(),a.sibling=null,d=vs.current,Ne(vs,x?d&1|2:d&1),gt&&ei(o,h.treeForkCount),a):(Kt(o),null);case 22:case 23:return ar(o),_0(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(d&536870912)!==0&&(o.flags&128)===0&&(Kt(o),o.subtreeFlags&6&&(o.flags|=8192)):Kt(o),d=o.updateQueue,d!==null&&mp(o,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048),a!==null&&oe(wl),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),si(Es),Kt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function x6(a,o){switch(c0(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return si(Es),Ke(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ft(o),null;case 31:if(o.memoizedState!==null){if(ar(o),o.alternate===null)throw Error(r(340));yl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ar(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));yl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return oe(vs),null;case 4:return Ke(),null;case 10:return si(o.type),null;case 22:case 23:return ar(o),_0(),a!==null&&oe(wl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return si(Es),null;case 25:return null;default:return null}}function JN(a,o){switch(c0(o),o.tag){case 3:si(Es),Ke();break;case 26:case 27:case 5:Ft(o);break;case 4:Ke();break;case 31:o.memoizedState!==null&&ar(o);break;case 13:ar(o);break;case 19:oe(vs);break;case 10:si(o.type);break;case 22:case 23:ar(o),_0(),a!==null&&oe(wl);break;case 24:si(Es)}}function mh(a,o){try{var d=o.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var x=h.next;d=x;do{if((d.tag&a)===a){h=void 0;var y=d.create,S=d.inst;h=y(),S.destroy=h}d=d.next}while(d!==x)}}catch(M){kt(o,o.return,M)}}function ao(a,o,d){try{var h=o.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var y=x.next;h=y;do{if((h.tag&a)===a){var S=h.inst,M=S.destroy;if(M!==void 0){S.destroy=void 0,x=o;var G=d,ne=M;try{ne()}catch(fe){kt(x,G,fe)}}}h=h.next}while(h!==y)}}catch(fe){kt(o,o.return,fe)}}function ZN(a){var o=a.updateQueue;if(o!==null){var d=a.stateNode;try{$1(o,d)}catch(h){kt(a,a.return,h)}}}function e_(a,o,d){d.props=Tl(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(h){kt(a,o,h)}}function ph(a,o){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof d=="function"?a.refCleanup=d(h):d.current=h}}catch(x){kt(a,o,x)}}function Ca(a,o){var d=a.ref,h=a.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(x){kt(a,o,x)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){kt(a,o,x)}else d.current=null}function t_(a){var o=a.type,d=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(x){kt(a,a.return,x)}}function sy(a,o,d){try{var h=a.stateNode;V6(h,a.type,d,o),h[Bs]=o}catch(x){kt(a,a.return,x)}}function s_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&fo(a.type)||a.tag===4}function ny(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||s_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&fo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ry(a,o,d){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(a),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Wr));else if(h!==4&&(h===27&&fo(a.type)&&(d=a.stateNode,o=null),a=a.child,a!==null))for(ry(a,o,d),a=a.sibling;a!==null;)ry(a,o,d),a=a.sibling}function pp(a,o,d){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?d.insertBefore(a,o):d.appendChild(a);else if(h!==4&&(h===27&&fo(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(pp(a,o,d),a=a.sibling;a!==null;)pp(a,o,d),a=a.sibling}function n_(a){var o=a.stateNode,d=a.memoizedProps;try{for(var h=a.type,x=o.attributes;x.length;)o.removeAttributeNode(x[0]);en(o,h,d),o[Ss]=a,o[Bs]=d}catch(y){kt(a,a.return,y)}}var oi=!1,Is=!1,ay=!1,r_=typeof WeakSet=="function"?WeakSet:Set,qs=null;function y6(a,o){if(a=a.containerInfo,Ty=Mp,a=g1(a),Jx(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var x=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{d.nodeType,y.nodeType}catch{d=null;break e}var S=0,M=-1,G=-1,ne=0,fe=0,xe=a,ae=null;t:for(;;){for(var ce;xe!==d||x!==0&&xe.nodeType!==3||(M=S+x),xe!==y||h!==0&&xe.nodeType!==3||(G=S+h),xe.nodeType===3&&(S+=xe.nodeValue.length),(ce=xe.firstChild)!==null;)ae=xe,xe=ce;for(;;){if(xe===a)break t;if(ae===d&&++ne===x&&(M=S),ae===y&&++fe===h&&(G=S),(ce=xe.nextSibling)!==null)break;xe=ae,ae=xe.parentNode}xe=ce}d=M===-1||G===-1?null:{start:M,end:G}}else d=null}d=d||{start:0,end:0}}else d=null;for(ky={focusedElem:a,selectionRange:d},Mp=!1,qs=o;qs!==null;)if(o=qs,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,qs=a;else for(;qs!==null;){switch(o=qs,y=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)x=a[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,d=o,x=y.memoizedProps,y=y.memoizedState,h=d.stateNode;try{var Oe=Tl(d.type,x);a=h.getSnapshotBeforeUpdate(Oe,y),h.__reactInternalSnapshotBeforeUpdate=a}catch(We){kt(d,d.return,We)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,d=a.nodeType,d===9)Ay(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Ay(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,qs=a;break}qs=o.return}}function a_(a,o,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:ci(a,d),h&4&&mh(5,d);break;case 1:if(ci(a,d),h&4)if(a=d.stateNode,o===null)try{a.componentDidMount()}catch(S){kt(d,d.return,S)}else{var x=Tl(d.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(x,o,a.__reactInternalSnapshotBeforeUpdate)}catch(S){kt(d,d.return,S)}}h&64&&ZN(d),h&512&&ph(d,d.return);break;case 3:if(ci(a,d),h&64&&(a=d.updateQueue,a!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{$1(a,o)}catch(S){kt(d,d.return,S)}}break;case 27:o===null&&h&4&&n_(d);case 26:case 5:ci(a,d),o===null&&h&4&&t_(d),h&512&&ph(d,d.return);break;case 12:ci(a,d);break;case 31:ci(a,d),h&4&&l_(a,d);break;case 13:ci(a,d),h&4&&c_(a,d),h&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=k6.bind(null,d),K6(a,d))));break;case 22:if(h=d.memoizedState!==null||oi,!h){o=o!==null&&o.memoizedState!==null||Is,x=oi;var y=Is;oi=h,(Is=o)&&!y?di(a,d,(d.subtreeFlags&8772)!==0):ci(a,d),oi=x,Is=y}break;case 30:break;default:ci(a,d)}}function i_(a){var o=a.alternate;o!==null&&(a.alternate=null,i_(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Cc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Jt=null,Dn=!1;function li(a,o,d){for(d=d.child;d!==null;)o_(a,o,d),d=d.sibling}function o_(a,o,d){if(Ms&&typeof Ms.onCommitFiberUnmount=="function")try{Ms.onCommitFiberUnmount(Xn,d)}catch{}switch(d.tag){case 26:Is||Ca(d,o),li(a,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Is||Ca(d,o);var h=Jt,x=Dn;fo(d.type)&&(Jt=d.stateNode,Dn=!1),li(a,o,d),_h(d.stateNode),Jt=h,Dn=x;break;case 5:Is||Ca(d,o);case 6:if(h=Jt,x=Dn,Jt=null,li(a,o,d),Jt=h,Dn=x,Jt!==null)if(Dn)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(d.stateNode)}catch(y){kt(d,o,y)}else try{Jt.removeChild(d.stateNode)}catch(y){kt(d,o,y)}break;case 18:Jt!==null&&(Dn?(a=Jt,Z_(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),fd(a)):Z_(Jt,d.stateNode));break;case 4:h=Jt,x=Dn,Jt=d.stateNode.containerInfo,Dn=!0,li(a,o,d),Jt=h,Dn=x;break;case 0:case 11:case 14:case 15:ao(2,d,o),Is||ao(4,d,o),li(a,o,d);break;case 1:Is||(Ca(d,o),h=d.stateNode,typeof h.componentWillUnmount=="function"&&e_(d,o,h)),li(a,o,d);break;case 21:li(a,o,d);break;case 22:Is=(h=Is)||d.memoizedState!==null,li(a,o,d),Is=h;break;default:li(a,o,d)}}function l_(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{fd(a)}catch(d){kt(o,o.return,d)}}}function c_(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{fd(a)}catch(d){kt(o,o.return,d)}}function b6(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new r_),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new r_),o;default:throw Error(r(435,a.tag))}}function gp(a,o){var d=b6(a);o.forEach(function(h){if(!d.has(h)){d.add(h);var x=E6.bind(null,a,h);h.then(x,x)}})}function On(a,o){var d=o.deletions;if(d!==null)for(var h=0;h<d.length;h++){var x=d[h],y=a,S=o,M=S;e:for(;M!==null;){switch(M.tag){case 27:if(fo(M.type)){Jt=M.stateNode,Dn=!1;break e}break;case 5:Jt=M.stateNode,Dn=!1;break e;case 3:case 4:Jt=M.stateNode.containerInfo,Dn=!0;break e}M=M.return}if(Jt===null)throw Error(r(160));o_(y,S,x),Jt=null,Dn=!1,y=x.alternate,y!==null&&(y.return=null),x.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)d_(o,a),o=o.sibling}var ea=null;function d_(a,o){var d=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:On(o,a),Mn(a),h&4&&(ao(3,a,a.return),mh(3,a),ao(5,a,a.return));break;case 1:On(o,a),Mn(a),h&512&&(Is||d===null||Ca(d,d.return)),h&64&&oi&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var x=ea;if(On(o,a),Mn(a),h&512&&(Is||d===null||Ca(d,d.return)),h&4){var y=d!==null?d.memoizedState:null;if(h=a.memoizedState,d===null)if(h===null)if(a.stateNode===null){e:{h=a.type,d=a.memoizedProps,x=x.ownerDocument||x;t:switch(h){case"title":y=x.getElementsByTagName("title")[0],(!y||y[pa]||y[Ss]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=x.createElement(h),x.head.insertBefore(y,x.querySelector("head > title"))),en(y,h,d),y[Ss]=a,Ts(y),h=y;break e;case"link":var S=d2("link","href",x).get(h+(d.href||""));if(S){for(var M=0;M<S.length;M++)if(y=S[M],y.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&y.getAttribute("rel")===(d.rel==null?null:d.rel)&&y.getAttribute("title")===(d.title==null?null:d.title)&&y.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){S.splice(M,1);break t}}y=x.createElement(h),en(y,h,d),x.head.appendChild(y);break;case"meta":if(S=d2("meta","content",x).get(h+(d.content||""))){for(M=0;M<S.length;M++)if(y=S[M],y.getAttribute("content")===(d.content==null?null:""+d.content)&&y.getAttribute("name")===(d.name==null?null:d.name)&&y.getAttribute("property")===(d.property==null?null:d.property)&&y.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&y.getAttribute("charset")===(d.charSet==null?null:d.charSet)){S.splice(M,1);break t}}y=x.createElement(h),en(y,h,d),x.head.appendChild(y);break;default:throw Error(r(468,h))}y[Ss]=a,Ts(y),h=y}a.stateNode=h}else u2(x,a.type,a.stateNode);else a.stateNode=c2(x,h,a.memoizedProps);else y!==h?(y===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):y.count--,h===null?u2(x,a.type,a.stateNode):c2(x,h,a.memoizedProps)):h===null&&a.stateNode!==null&&sy(a,a.memoizedProps,d.memoizedProps)}break;case 27:On(o,a),Mn(a),h&512&&(Is||d===null||Ca(d,d.return)),d!==null&&h&4&&sy(a,a.memoizedProps,d.memoizedProps);break;case 5:if(On(o,a),Mn(a),h&512&&(Is||d===null||Ca(d,d.return)),a.flags&32){x=a.stateNode;try{Pn(x,"")}catch(Oe){kt(a,a.return,Oe)}}h&4&&a.stateNode!=null&&(x=a.memoizedProps,sy(a,x,d!==null?d.memoizedProps:x)),h&1024&&(ay=!0);break;case 6:if(On(o,a),Mn(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,d=a.stateNode;try{d.nodeValue=h}catch(Oe){kt(a,a.return,Oe)}}break;case 3:if(Rp=null,x=ea,ea=Ap(o.containerInfo),On(o,a),ea=x,Mn(a),h&4&&d!==null&&d.memoizedState.isDehydrated)try{fd(o.containerInfo)}catch(Oe){kt(a,a.return,Oe)}ay&&(ay=!1,u_(a));break;case 4:h=ea,ea=Ap(a.stateNode.containerInfo),On(o,a),Mn(a),ea=h;break;case 12:On(o,a),Mn(a);break;case 31:On(o,a),Mn(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,gp(a,h)));break;case 13:On(o,a),Mn(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(yp=me()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,gp(a,h)));break;case 22:x=a.memoizedState!==null;var G=d!==null&&d.memoizedState!==null,ne=oi,fe=Is;if(oi=ne||x,Is=fe||G,On(o,a),Is=fe,oi=ne,Mn(a),h&8192)e:for(o=a.stateNode,o._visibility=x?o._visibility&-2:o._visibility|1,x&&(d===null||G||oi||Is||kl(a)),d=null,o=a;;){if(o.tag===5||o.tag===26){if(d===null){G=d=o;try{if(y=G.stateNode,x)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{M=G.stateNode;var xe=G.memoizedProps.style,ae=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;M.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Oe){kt(G,G.return,Oe)}}}else if(o.tag===6){if(d===null){G=o;try{G.stateNode.nodeValue=x?"":G.memoizedProps}catch(Oe){kt(G,G.return,Oe)}}}else if(o.tag===18){if(d===null){G=o;try{var ce=G.stateNode;x?e2(ce,!0):e2(G.stateNode,!1)}catch(Oe){kt(G,G.return,Oe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,gp(a,d))));break;case 19:On(o,a),Mn(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,gp(a,h)));break;case 30:break;case 21:break;default:On(o,a),Mn(a)}}function Mn(a){var o=a.flags;if(o&2){try{for(var d,h=a.return;h!==null;){if(s_(h)){d=h;break}h=h.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var x=d.stateNode,y=ny(a);pp(a,y,x);break;case 5:var S=d.stateNode;d.flags&32&&(Pn(S,""),d.flags&=-33);var M=ny(a);pp(a,M,S);break;case 3:case 4:var G=d.stateNode.containerInfo,ne=ny(a);ry(a,ne,G);break;default:throw Error(r(161))}}catch(fe){kt(a,a.return,fe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function u_(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;u_(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ci(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)a_(a,o.alternate,o),o=o.sibling}function kl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:ao(4,o,o.return),kl(o);break;case 1:Ca(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&e_(o,o.return,d),kl(o);break;case 27:_h(o.stateNode);case 26:case 5:Ca(o,o.return),kl(o);break;case 22:o.memoizedState===null&&kl(o);break;case 30:kl(o);break;default:kl(o)}a=a.sibling}}function di(a,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,x=a,y=o,S=y.flags;switch(y.tag){case 0:case 11:case 15:di(x,y,d),mh(4,y);break;case 1:if(di(x,y,d),h=y,x=h.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ne){kt(h,h.return,ne)}if(h=y,x=h.updateQueue,x!==null){var M=h.stateNode;try{var G=x.shared.hiddenCallbacks;if(G!==null)for(x.shared.hiddenCallbacks=null,x=0;x<G.length;x++)B1(G[x],M)}catch(ne){kt(h,h.return,ne)}}d&&S&64&&ZN(y),ph(y,y.return);break;case 27:n_(y);case 26:case 5:di(x,y,d),d&&h===null&&S&4&&t_(y),ph(y,y.return);break;case 12:di(x,y,d);break;case 31:di(x,y,d),d&&S&4&&l_(x,y);break;case 13:di(x,y,d),d&&S&4&&c_(x,y);break;case 22:y.memoizedState===null&&di(x,y,d),ph(y,y.return);break;case 30:break;default:di(x,y,d)}o=o.sibling}}function iy(a,o){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&th(d))}function oy(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&th(a))}function ta(a,o,d,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)h_(a,o,d,h),o=o.sibling}function h_(a,o,d,h){var x=o.flags;switch(o.tag){case 0:case 11:case 15:ta(a,o,d,h),x&2048&&mh(9,o);break;case 1:ta(a,o,d,h);break;case 3:ta(a,o,d,h),x&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&th(a)));break;case 12:if(x&2048){ta(a,o,d,h),a=o.stateNode;try{var y=o.memoizedProps,S=y.id,M=y.onPostCommit;typeof M=="function"&&M(S,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){kt(o,o.return,G)}}else ta(a,o,d,h);break;case 31:ta(a,o,d,h);break;case 13:ta(a,o,d,h);break;case 23:break;case 22:y=o.stateNode,S=o.alternate,o.memoizedState!==null?y._visibility&2?ta(a,o,d,h):gh(a,o):y._visibility&2?ta(a,o,d,h):(y._visibility|=2,sd(a,o,d,h,(o.subtreeFlags&10256)!==0||!1)),x&2048&&iy(S,o);break;case 24:ta(a,o,d,h),x&2048&&oy(o.alternate,o);break;default:ta(a,o,d,h)}}function sd(a,o,d,h,x){for(x=x&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var y=a,S=o,M=d,G=h,ne=S.flags;switch(S.tag){case 0:case 11:case 15:sd(y,S,M,G,x),mh(8,S);break;case 23:break;case 22:var fe=S.stateNode;S.memoizedState!==null?fe._visibility&2?sd(y,S,M,G,x):gh(y,S):(fe._visibility|=2,sd(y,S,M,G,x)),x&&ne&2048&&iy(S.alternate,S);break;case 24:sd(y,S,M,G,x),x&&ne&2048&&oy(S.alternate,S);break;default:sd(y,S,M,G,x)}o=o.sibling}}function gh(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=a,h=o,x=h.flags;switch(h.tag){case 22:gh(d,h),x&2048&&iy(h.alternate,h);break;case 24:gh(d,h),x&2048&&oy(h.alternate,h);break;default:gh(d,h)}o=o.sibling}}var xh=8192;function nd(a,o,d){if(a.subtreeFlags&xh)for(a=a.child;a!==null;)f_(a,o,d),a=a.sibling}function f_(a,o,d){switch(a.tag){case 26:nd(a,o,d),a.flags&xh&&a.memoizedState!==null&&a5(d,ea,a.memoizedState,a.memoizedProps);break;case 5:nd(a,o,d);break;case 3:case 4:var h=ea;ea=Ap(a.stateNode.containerInfo),nd(a,o,d),ea=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=xh,xh=16777216,nd(a,o,d),xh=h):nd(a,o,d));break;default:nd(a,o,d)}}function m_(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function yh(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];qs=h,g_(h,a)}m_(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)p_(a),a=a.sibling}function p_(a){switch(a.tag){case 0:case 11:case 15:yh(a),a.flags&2048&&ao(9,a,a.return);break;case 3:yh(a);break;case 12:yh(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,xp(a)):yh(a);break;default:yh(a)}}function xp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];qs=h,g_(h,a)}m_(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:ao(8,o,o.return),xp(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,xp(o));break;default:xp(o)}a=a.sibling}}function g_(a,o){for(;qs!==null;){var d=qs;switch(d.tag){case 0:case 11:case 15:ao(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:th(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,qs=h;else e:for(d=a;qs!==null;){h=qs;var x=h.sibling,y=h.return;if(i_(h),h===d){qs=null;break e}if(x!==null){x.return=y,qs=x;break e}qs=y}}}var v6={getCacheForType:function(a){var o=Js(Es),d=o.data.get(a);return d===void 0&&(d=a(),o.data.set(a,d)),d},cacheSignal:function(){return Js(Es).controller.signal}},w6=typeof WeakMap=="function"?WeakMap:Map,Nt=0,zt=null,lt=null,ft=0,Tt=0,ir=null,io=!1,rd=!1,ly=!1,ui=0,ds=0,oo=0,El=0,cy=0,or=0,ad=0,bh=null,Ln=null,dy=!1,yp=0,x_=0,bp=1/0,vp=null,lo=null,Ls=0,co=null,id=null,hi=0,uy=0,hy=null,y_=null,vh=0,fy=null;function lr(){return(Nt&2)!==0&&ft!==0?ft&-ft:W.T!==null?by():wm()}function b_(){if(or===0)if((ft&536870912)===0||gt){var a=fa;fa<<=1,(fa&3932160)===0&&(fa=262144),or=a}else or=536870912;return a=rr.current,a!==null&&(a.flags|=32),or}function zn(a,o,d){(a===zt&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)&&(od(a,0),uo(a,ft,or,!1)),Ys(a,d),((Nt&2)===0||a!==zt)&&(a===zt&&((Nt&2)===0&&(El|=d),ds===4&&uo(a,ft,or,!1)),Aa(a))}function v_(a,o,d){if((Nt&6)!==0)throw Error(r(327));var h=!d&&(o&127)===0&&(o&a.expiredLanes)===0||ze(a,o),x=h?_6(a,o):py(a,o,!0),y=h;do{if(x===0){rd&&!h&&uo(a,o,0,!1);break}else{if(d=a.current.alternate,y&&!j6(d)){x=py(a,o,!1),y=!1;continue}if(x===2){if(y=o,a.errorRecoveryDisabledLanes&y)var S=0;else S=a.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var M=a;x=bh;var G=M.current.memoizedState.isDehydrated;if(G&&(od(M,S).flags|=256),S=py(M,S,!1),S!==2){if(ly&&!G){M.errorRecoveryDisabledLanes|=y,El|=y,x=4;break e}y=Ln,Ln=x,y!==null&&(Ln===null?Ln=y:Ln.push.apply(Ln,y))}x=S}if(y=!1,x!==2)continue}}if(x===1){od(a,0),uo(a,o,0,!0);break}e:{switch(h=a,y=x,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:uo(h,o,or,!io);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(x=yp+300-me(),10<x)){if(uo(h,o,or,!io),X(h,0,!0)!==0)break e;hi=o,h.timeoutHandle=X_(w_.bind(null,h,d,Ln,vp,dy,o,or,El,ad,io,y,"Throttled",-0,0),x);break e}w_(h,d,Ln,vp,dy,o,or,El,ad,io,y,null,-0,0)}}break}while(!0);Aa(a)}function w_(a,o,d,h,x,y,S,M,G,ne,fe,xe,ae,ce){if(a.timeoutHandle=-1,xe=o.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wr},f_(o,y,xe);var Oe=(y&62914560)===y?yp-me():(y&4194048)===y?x_-me():0;if(Oe=i5(xe,Oe),Oe!==null){hi=y,a.cancelPendingCommit=Oe(C_.bind(null,a,o,y,d,h,x,S,M,G,fe,xe,null,ae,ce)),uo(a,y,S,!ne);return}}C_(a,o,y,d,h,x,S,M,G)}function j6(a){for(var o=a;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var x=d[h],y=x.getSnapshot;x=x.value;try{if(!sr(y(),x))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function uo(a,o,d,h){o&=~cy,o&=~El,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var x=o;0<x;){var y=31-Rt(x),S=1<<y;h[y]=-1,x&=~S}d!==0&&mn(a,d,o)}function wp(){return(Nt&6)===0?(wh(0),!1):!0}function my(){if(lt!==null){if(Tt===0)var a=lt.return;else a=lt,ti=bl=null,A0(a),Xc=null,nh=0,a=lt;for(;a!==null;)JN(a.alternate,a),a=a.return;lt=null}}function od(a,o){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,B6(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),hi=0,my(),zt=a,lt=d=Za(a.current,null),ft=o,Tt=0,ir=null,io=!1,rd=ze(a,o),ly=!1,ad=or=cy=El=oo=ds=0,Ln=bh=null,dy=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var x=31-Rt(h),y=1<<x;o|=a[x],h&=~y}return ui=o,Bm(),d}function j_(a,o){et=null,W.H=uh,o===Qc||o===Qm?(o=z1(),Tt=3):o===y0?(o=z1(),Tt=4):Tt=o===G0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ir=o,lt===null&&(ds=1,dp(a,Nr(o,a.current)))}function N_(){var a=rr.current;return a===null?!0:(ft&4194048)===ft?kr===null:(ft&62914560)===ft||(ft&536870912)!==0?a===kr:!1}function __(){var a=W.H;return W.H=uh,a===null?uh:a}function S_(){var a=W.A;return W.A=v6,a}function jp(){ds=4,io||(ft&4194048)!==ft&&rr.current!==null||(rd=!0),(oo&134217727)===0&&(El&134217727)===0||zt===null||uo(zt,ft,or,!1)}function py(a,o,d){var h=Nt;Nt|=2;var x=__(),y=S_();(zt!==a||ft!==o)&&(vp=null,od(a,o)),o=!1;var S=ds;e:do try{if(Tt!==0&&lt!==null){var M=lt,G=ir;switch(Tt){case 8:my(),S=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(o=!0);var ne=Tt;if(Tt=0,ir=null,ld(a,M,G,ne),d&&rd){S=0;break e}break;default:ne=Tt,Tt=0,ir=null,ld(a,M,G,ne)}}N6(),S=ds;break}catch(fe){j_(a,fe)}while(!0);return o&&a.shellSuspendCounter++,ti=bl=null,Nt=h,W.H=x,W.A=y,lt===null&&(zt=null,ft=0,Bm()),S}function N6(){for(;lt!==null;)T_(lt)}function _6(a,o){var d=Nt;Nt|=2;var h=__(),x=S_();zt!==a||ft!==o?(vp=null,bp=me()+500,od(a,o)):rd=ze(a,o);e:do try{if(Tt!==0&&lt!==null){o=lt;var y=ir;t:switch(Tt){case 1:Tt=0,ir=null,ld(a,o,y,1);break;case 2:case 9:if(M1(y)){Tt=0,ir=null,k_(o);break}o=function(){Tt!==2&&Tt!==9||zt!==a||(Tt=7),Aa(a)},y.then(o,o);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:M1(y)?(Tt=0,ir=null,k_(o)):(Tt=0,ir=null,ld(a,o,y,7));break;case 5:var S=null;switch(lt.tag){case 26:S=lt.memoizedState;case 5:case 27:var M=lt;if(S?h2(S):M.stateNode.complete){Tt=0,ir=null;var G=M.sibling;if(G!==null)lt=G;else{var ne=M.return;ne!==null?(lt=ne,Np(ne)):lt=null}break t}}Tt=0,ir=null,ld(a,o,y,5);break;case 6:Tt=0,ir=null,ld(a,o,y,6);break;case 8:my(),ds=6;break e;default:throw Error(r(462))}}S6();break}catch(fe){j_(a,fe)}while(!0);return ti=bl=null,W.H=h,W.A=x,Nt=d,lt!==null?0:(zt=null,ft=0,Bm(),ds)}function S6(){for(;lt!==null&&!Qn();)T_(lt)}function T_(a){var o=QN(a.alternate,a,ui);a.memoizedProps=a.pendingProps,o===null?Np(a):lt=o}function k_(a){var o=a,d=o.alternate;switch(o.tag){case 15:case 0:o=qN(d,o,o.pendingProps,o.type,void 0,ft);break;case 11:o=qN(d,o,o.pendingProps,o.type.render,o.ref,ft);break;case 5:A0(o);default:JN(d,o),o=lt=S1(o,ui),o=QN(d,o,ui)}a.memoizedProps=a.pendingProps,o===null?Np(a):lt=o}function ld(a,o,d,h){ti=bl=null,A0(o),Xc=null,nh=0;var x=o.return;try{if(f6(a,x,o,d,ft)){ds=1,dp(a,Nr(d,a.current)),lt=null;return}}catch(y){if(x!==null)throw lt=x,y;ds=1,dp(a,Nr(d,a.current)),lt=null;return}o.flags&32768?(gt||h===1?a=!0:rd||(ft&536870912)!==0?a=!1:(io=a=!0,(h===2||h===9||h===3||h===6)&&(h=rr.current,h!==null&&h.tag===13&&(h.flags|=16384))),E_(o,a)):Np(o)}function Np(a){var o=a;do{if((o.flags&32768)!==0){E_(o,io);return}a=o.return;var d=g6(o.alternate,o,ui);if(d!==null){lt=d;return}if(o=o.sibling,o!==null){lt=o;return}lt=o=a}while(o!==null);ds===0&&(ds=5)}function E_(a,o){do{var d=x6(a.alternate,a);if(d!==null){d.flags&=32767,lt=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(a=a.sibling,a!==null)){lt=a;return}lt=a=d}while(a!==null);ds=6,lt=null}function C_(a,o,d,h,x,y,S,M,G){a.cancelPendingCommit=null;do _p();while(Ls!==0);if((Nt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(y=o.lanes|o.childLanes,y|=n0,qr(a,d,y,S,M,G),a===zt&&(lt=zt=null,ft=0),id=o,co=a,hi=d,uy=y,hy=x,y_=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,C6(It,function(){return D_(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=W.T,W.T=null,x=te.p,te.p=2,S=Nt,Nt|=4;try{y6(a,o,d)}finally{Nt=S,te.p=x,W.T=h}}Ls=1,A_(),I_(),R_()}}function A_(){if(Ls===1){Ls=0;var a=co,o=id,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=W.T,W.T=null;var h=te.p;te.p=2;var x=Nt;Nt|=4;try{d_(o,a);var y=ky,S=g1(a.containerInfo),M=y.focusedElem,G=y.selectionRange;if(S!==M&&M&&M.ownerDocument&&p1(M.ownerDocument.documentElement,M)){if(G!==null&&Jx(M)){var ne=G.start,fe=G.end;if(fe===void 0&&(fe=ne),"selectionStart"in M)M.selectionStart=ne,M.selectionEnd=Math.min(fe,M.value.length);else{var xe=M.ownerDocument||document,ae=xe&&xe.defaultView||window;if(ae.getSelection){var ce=ae.getSelection(),Oe=M.textContent.length,We=Math.min(G.start,Oe),Mt=G.end===void 0?We:Math.min(G.end,Oe);!ce.extend&&We>Mt&&(S=Mt,Mt=We,We=S);var J=m1(M,We),Y=m1(M,Mt);if(J&&Y&&(ce.rangeCount!==1||ce.anchorNode!==J.node||ce.anchorOffset!==J.offset||ce.focusNode!==Y.node||ce.focusOffset!==Y.offset)){var se=xe.createRange();se.setStart(J.node,J.offset),ce.removeAllRanges(),We>Mt?(ce.addRange(se),ce.extend(Y.node,Y.offset)):(se.setEnd(Y.node,Y.offset),ce.addRange(se))}}}}for(xe=[],ce=M;ce=ce.parentNode;)ce.nodeType===1&&xe.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<xe.length;M++){var ge=xe[M];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Mp=!!Ty,ky=Ty=null}finally{Nt=x,te.p=h,W.T=d}}a.current=o,Ls=2}}function I_(){if(Ls===2){Ls=0;var a=co,o=id,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=W.T,W.T=null;var h=te.p;te.p=2;var x=Nt;Nt|=4;try{a_(a,o.alternate,o)}finally{Nt=x,te.p=h,W.T=d}}Ls=3}}function R_(){if(Ls===4||Ls===3){Ls=0,$r();var a=co,o=id,d=hi,h=y_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ls=5:(Ls=0,id=co=null,P_(a,a.pendingLanes));var x=a.pendingLanes;if(x===0&&(lo=null),Hr(d),o=o.stateNode,Ms&&typeof Ms.onCommitFiberRoot=="function")try{Ms.onCommitFiberRoot(Xn,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=W.T,x=te.p,te.p=2,W.T=null;try{for(var y=a.onRecoverableError,S=0;S<h.length;S++){var M=h[S];y(M.value,{componentStack:M.stack})}}finally{W.T=o,te.p=x}}(hi&3)!==0&&_p(),Aa(a),x=a.pendingLanes,(d&261930)!==0&&(x&42)!==0?a===fy?vh++:(vh=0,fy=a):vh=0,wh(0)}}function P_(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,th(o)))}function _p(){return A_(),I_(),R_(),D_()}function D_(){if(Ls!==5)return!1;var a=co,o=uy;uy=0;var d=Hr(hi),h=W.T,x=te.p;try{te.p=32>d?32:d,W.T=null,d=hy,hy=null;var y=co,S=hi;if(Ls=0,id=co=null,hi=0,(Nt&6)!==0)throw Error(r(331));var M=Nt;if(Nt|=4,p_(y.current),h_(y,y.current,S,d),Nt=M,wh(0,!1),Ms&&typeof Ms.onPostCommitFiberRoot=="function")try{Ms.onPostCommitFiberRoot(Xn,y)}catch{}return!0}finally{te.p=x,W.T=h,P_(a,o)}}function O_(a,o,d){o=Nr(d,o),o=H0(a.stateNode,o,2),a=so(a,o,2),a!==null&&(Ys(a,2),Aa(a))}function kt(a,o,d){if(a.tag===3)O_(a,a,d);else for(;o!==null;){if(o.tag===3){O_(o,a,d);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(lo===null||!lo.has(h))){a=Nr(d,a),d=MN(2),h=so(o,d,2),h!==null&&(LN(d,h,o,a),Ys(h,2),Aa(h));break}}o=o.return}}function gy(a,o,d){var h=a.pingCache;if(h===null){h=a.pingCache=new w6;var x=new Set;h.set(o,x)}else x=h.get(o),x===void 0&&(x=new Set,h.set(o,x));x.has(d)||(ly=!0,x.add(d),a=T6.bind(null,a,o,d),o.then(a,a))}function T6(a,o,d){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,zt===a&&(ft&d)===d&&(ds===4||ds===3&&(ft&62914560)===ft&&300>me()-yp?(Nt&2)===0&&od(a,0):cy|=d,ad===ft&&(ad=0)),Aa(a)}function M_(a,o){o===0&&(o=Qt()),a=gl(a,o),a!==null&&(Ys(a,o),Aa(a))}function k6(a){var o=a.memoizedState,d=0;o!==null&&(d=o.retryLane),M_(a,d)}function E6(a,o){var d=0;switch(a.tag){case 31:case 13:var h=a.stateNode,x=a.memoizedState;x!==null&&(d=x.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),M_(a,d)}function C6(a,o){return rt(a,o)}var Sp=null,cd=null,xy=!1,Tp=!1,yy=!1,ho=0;function Aa(a){a!==cd&&a.next===null&&(cd===null?Sp=cd=a:cd=cd.next=a),Tp=!0,xy||(xy=!0,I6())}function wh(a,o){if(!yy&&Tp){yy=!0;do for(var d=!1,h=Sp;h!==null;){if(a!==0){var x=h.pendingLanes;if(x===0)var y=0;else{var S=h.suspendedLanes,M=h.pingedLanes;y=(1<<31-Rt(42|a)+1)-1,y&=x&~(S&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(d=!0,U_(h,y))}else y=ft,y=X(h,h===zt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||ze(h,y)||(d=!0,U_(h,y));h=h.next}while(d);yy=!1}}function A6(){L_()}function L_(){Tp=xy=!1;var a=0;ho!==0&&F6()&&(a=ho);for(var o=me(),d=null,h=Sp;h!==null;){var x=h.next,y=z_(h,o);y===0?(h.next=null,d===null?Sp=x:d.next=x,x===null&&(cd=d)):(d=h,(a!==0||(y&3)!==0)&&(Tp=!0)),h=x}Ls!==0&&Ls!==5||wh(a),ho!==0&&(ho=0)}function z_(a,o){for(var d=a.suspendedLanes,h=a.pingedLanes,x=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var S=31-Rt(y),M=1<<S,G=x[S];G===-1?((M&d)===0||(M&h)!==0)&&(x[S]=ot(M,o)):G<=o&&(a.expiredLanes|=M),y&=~M}if(o=zt,d=ft,d=X(a,a===o?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,d===0||a===o&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Lt(h),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||ze(a,d)){if(o=d&-d,o===a.callbackPriority)return o;switch(h!==null&&Lt(h),Hr(d)){case 2:case 8:d=it;break;case 32:d=It;break;case 268435456:d=hn;break;default:d=It}return h=V_.bind(null,a),d=rt(d,h),a.callbackPriority=o,a.callbackNode=d,o}return h!==null&&h!==null&&Lt(h),a.callbackPriority=2,a.callbackNode=null,2}function V_(a,o){if(Ls!==0&&Ls!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(_p()&&a.callbackNode!==d)return null;var h=ft;return h=X(a,a===zt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(v_(a,h,o),z_(a,me()),a.callbackNode!=null&&a.callbackNode===d?V_.bind(null,a):null)}function U_(a,o){if(_p())return null;v_(a,o,!0)}function I6(){$6(function(){(Nt&6)!==0?rt(Qe,A6):L_()})}function by(){if(ho===0){var a=Wc;a===0&&(a=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),ho=a}return ho}function F_(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Pc(""+a)}function B_(a,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,a.id&&d.setAttribute("form",a.id),o.parentNode.insertBefore(d,o),a=new FormData(a),d.parentNode.removeChild(d),a}function R6(a,o,d,h,x){if(o==="submit"&&d&&d.stateNode===x){var y=F_((x[Bs]||null).action),S=h.submitter;S&&(o=(o=S[Bs]||null)?F_(o.formAction):S.getAttribute("formAction"),o!==null&&(y=o,S=null));var M=new Na("action","action",null,h,x);a.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ho!==0){var G=S?B_(x,S):new FormData(x);V0(d,{pending:!0,data:G,method:x.method,action:y},null,G)}}else typeof y=="function"&&(M.preventDefault(),G=S?B_(x,S):new FormData(x),V0(d,{pending:!0,data:G,method:x.method,action:y},y,G))},currentTarget:x}]})}}for(var vy=0;vy<s0.length;vy++){var wy=s0[vy],P6=wy.toLowerCase(),D6=wy[0].toUpperCase()+wy.slice(1);Zr(P6,"on"+D6)}Zr(b1,"onAnimationEnd"),Zr(v1,"onAnimationIteration"),Zr(w1,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(QR,"onTransitionRun"),Zr(XR,"onTransitionStart"),Zr(JR,"onTransitionCancel"),Zr(j1,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jh));function $_(a,o){o=(o&4)!==0;for(var d=0;d<a.length;d++){var h=a[d],x=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var S=h.length-1;0<=S;S--){var M=h[S],G=M.instance,ne=M.currentTarget;if(M=M.listener,G!==y&&x.isPropagationStopped())break e;y=M,x.currentTarget=ne;try{y(x)}catch(fe){Fm(fe)}x.currentTarget=null,y=G}else for(S=0;S<h.length;S++){if(M=h[S],G=M.instance,ne=M.currentTarget,M=M.listener,G!==y&&x.isPropagationStopped())break e;y=M,x.currentTarget=ne;try{y(x)}catch(fe){Fm(fe)}x.currentTarget=null,y=G}}}}function ct(a,o){var d=o[Ec];d===void 0&&(d=o[Ec]=new Set);var h=a+"__bubble";d.has(h)||(q_(o,a,2,!1),d.add(h))}function jy(a,o,d){var h=0;o&&(h|=4),q_(d,a,h,o)}var kp="_reactListening"+Math.random().toString(36).slice(2);function Ny(a){if(!a[kp]){a[kp]=!0,Du.forEach(function(d){d!=="selectionchange"&&(O6.has(d)||jy(d,!1,a),jy(d,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[kp]||(o[kp]=!0,jy("selectionchange",!1,o))}}function q_(a,o,d,h){switch(b2(o)){case 2:var x=c5;break;case 8:x=d5;break;default:x=zy}d=x.bind(null,o,d,a),x=void 0,!ll||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),h?x!==void 0?a.addEventListener(o,d,{capture:!0,passive:x}):a.addEventListener(o,d,!0):x!==void 0?a.addEventListener(o,d,{passive:x}):a.addEventListener(o,d,!1)}function _y(a,o,d,h,x){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var M=h.stateNode.containerInfo;if(M===x)break;if(S===4)for(S=h.return;S!==null;){var G=S.tag;if((G===3||G===4)&&S.stateNode.containerInfo===x)return;S=S.return}for(;M!==null;){if(S=ga(M),S===null)return;if(G=S.tag,G===5||G===6||G===26||G===27){h=y=S;continue e}M=M.parentNode}}h=h.return}Gi(function(){var ne=y,fe=br(d),xe=[];e:{var ae=N1.get(a);if(ae!==void 0){var ce=Na,Oe=a;switch(a){case"keypress":if(dl(d)===0)break e;case"keydown":case"keyup":ce=zm;break;case"focusin":Oe="focus",ce=hl;break;case"focusout":Oe="blur",ce=hl;break;case"beforeblur":case"afterblur":ce=hl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=j;break;case b1:case v1:case w1:ce=Im;break;case j1:ce=B;break;case"scroll":case"scrollend":ce=Gu;break;case"wheel":ce=le;break;case"copy":case"cut":case"paste":ce=Rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Ja;break;case"toggle":case"beforetoggle":ce=Ze}var We=(o&4)!==0,Mt=!We&&(a==="scroll"||a==="scrollend"),J=We?ae!==null?ae+"Capture":null:ae;We=[];for(var Y=ne,se;Y!==null;){var ge=Y;if(se=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||se===null||J===null||(ge=Yr(Y,J),ge!=null&&We.push(Nh(Y,ge,se))),Mt)break;Y=Y.return}0<We.length&&(ae=new ce(ae,Oe,null,d,fe),xe.push({event:ae,listeners:We}))}}if((o&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",ce=a==="mouseout"||a==="pointerout",ae&&d!==$u&&(Oe=d.relatedTarget||d.fromElement)&&(ga(Oe)||Oe[ma]))break e;if((ce||ae)&&(ae=fe.window===fe?fe:(ae=fe.ownerDocument)?ae.defaultView||ae.parentWindow:window,ce?(Oe=d.relatedTarget||d.toElement,ce=ne,Oe=Oe?ga(Oe):null,Oe!==null&&(Mt=l(Oe),We=Oe.tag,Oe!==Mt||We!==5&&We!==27&&We!==6)&&(Oe=null)):(ce=null,Oe=ne),ce!==Oe)){if(We=Ku,ge="onMouseLeave",J="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(We=Ja,ge="onPointerLeave",J="onPointerEnter",Y="pointer"),Mt=ce==null?ae:er(ce),se=Oe==null?ae:er(Oe),ae=new We(ge,Y+"leave",ce,d,fe),ae.target=Mt,ae.relatedTarget=se,ge=null,ga(fe)===ne&&(We=new We(J,Y+"enter",Oe,d,fe),We.target=se,We.relatedTarget=Mt,ge=We),Mt=ge,ce&&Oe)t:{for(We=M6,J=ce,Y=Oe,se=0,ge=J;ge;ge=We(ge))se++;ge=0;for(var Ge=Y;Ge;Ge=We(Ge))ge++;for(;0<se-ge;)J=We(J),se--;for(;0<ge-se;)Y=We(Y),ge--;for(;se--;){if(J===Y||Y!==null&&J===Y.alternate){We=J;break t}J=We(J),Y=We(Y)}We=null}else We=null;ce!==null&&H_(xe,ae,ce,We,!1),Oe!==null&&Mt!==null&&H_(xe,Mt,Oe,We,!0)}}e:{if(ae=ne?er(ne):window,ce=ae.nodeName&&ae.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ae.type==="file")var bt=l1;else if(i1(ae))if(c1)bt=KR;else{bt=HR;var Fe=qR}else ce=ae.nodeName,!ce||ce.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ne&&Rc(ne.elementType)&&(bt=l1):bt=GR;if(bt&&(bt=bt(a,ne))){o1(xe,bt,d,fe);break e}Fe&&Fe(a,ae,ne),a==="focusout"&&ne&&ae.type==="number"&&ne.memoizedProps.value!=null&&Uu(ae,"number",ae.value)}switch(Fe=ne?er(ne):window,a){case"focusin":(i1(Fe)||Fe.contentEditable==="true")&&(Uc=Fe,Zx=ne,Ju=null);break;case"focusout":Ju=Zx=Uc=null;break;case"mousedown":e0=!0;break;case"contextmenu":case"mouseup":case"dragend":e0=!1,x1(xe,d,fe);break;case"selectionchange":if(YR)break;case"keydown":case"keyup":x1(xe,d,fe)}var nt;if(jt)e:{switch(a){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Vc?fl(a,d)&&(mt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(mt="onCompositionStart");mt&&(Ta&&d.locale!=="ko"&&(Vc||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Vc&&(nt=Hu()):(ja=fe,qu="value"in ja?ja.value:ja.textContent,Vc=!0)),Fe=Ep(ne,mt),0<Fe.length&&(mt=new Sa(mt,a,null,d,fe),xe.push({event:mt,listeners:Fe}),nt?mt.data=nt:(nt=zc(d),nt!==null&&(mt.data=nt)))),(nt=wr?UR(a,d):FR(a,d))&&(mt=Ep(ne,"onBeforeInput"),0<mt.length&&(Fe=new Sa("onBeforeInput","beforeinput",null,d,fe),xe.push({event:Fe,listeners:mt}),Fe.data=nt)),R6(xe,a,ne,d,fe)}$_(xe,o)})}function Nh(a,o,d){return{instance:a,listener:o,currentTarget:d}}function Ep(a,o){for(var d=o+"Capture",h=[];a!==null;){var x=a,y=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||y===null||(x=Yr(a,d),x!=null&&h.unshift(Nh(a,x,y)),x=Yr(a,o),x!=null&&h.push(Nh(a,x,y))),a.tag===3)return h;a=a.return}return[]}function M6(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function H_(a,o,d,h,x){for(var y=o._reactName,S=[];d!==null&&d!==h;){var M=d,G=M.alternate,ne=M.stateNode;if(M=M.tag,G!==null&&G===h)break;M!==5&&M!==26&&M!==27||ne===null||(G=ne,x?(ne=Yr(d,y),ne!=null&&S.unshift(Nh(d,ne,G))):x||(ne=Yr(d,y),ne!=null&&S.push(Nh(d,ne,G)))),d=d.return}S.length!==0&&a.push({event:o,listeners:S})}var L6=/\r\n?/g,z6=/\u0000|\uFFFD/g;function G_(a){return(typeof a=="string"?a:""+a).replace(L6,`
`).replace(z6,"")}function K_(a,o){return o=G_(o),G_(a)===o}function Ot(a,o,d,h,x,y){switch(d){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Pn(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Pn(a,""+h);break;case"className":tr(a,"class",h);break;case"tabIndex":tr(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(a,d,h);break;case"style":Bu(a,h,y);break;case"data":if(o!=="object"){tr(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||d!=="href")){a.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(d);break}h=Pc(""+h),a.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(d==="formAction"?(o!=="input"&&Ot(a,o,"name",x.name,x,null),Ot(a,o,"formEncType",x.formEncType,x,null),Ot(a,o,"formMethod",x.formMethod,x,null),Ot(a,o,"formTarget",x.formTarget,x,null)):(Ot(a,o,"encType",x.encType,x,null),Ot(a,o,"method",x.method,x,null),Ot(a,o,"target",x.target,x,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(d);break}h=Pc(""+h),a.setAttribute(d,h);break;case"onClick":h!=null&&(a.onclick=Wr);break;case"onScroll":h!=null&&ct("scroll",a);break;case"onScrollEnd":h!=null&&ct("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(d=h.__html,d!=null){if(x.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}d=Pc(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(d,""+h):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":h===!0?a.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(d,h):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(d,h):a.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(d):a.setAttribute(d,h);break;case"popover":ct("beforetoggle",a),ct("toggle",a),Ac(a,"popover",h);break;case"xlinkActuate":ks(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ks(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ks(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ks(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ks(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ks(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ks(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ks(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ks(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ac(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Em.get(d)||d,Ac(a,d,h))}}function Sy(a,o,d,h,x,y){switch(d){case"style":Bu(a,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(d=h.__html,d!=null){if(x.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof h=="string"?Pn(a,h):(typeof h=="number"||typeof h=="bigint")&&Pn(a,""+h);break;case"onScroll":h!=null&&ct("scroll",a);break;case"onScrollEnd":h!=null&&ct("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ou.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),o=d.slice(2,x?d.length-7:void 0),y=a[Bs]||null,y=y!=null?y[d]:null,typeof y=="function"&&a.removeEventListener(o,y,x),typeof h=="function")){typeof y!="function"&&y!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(o,h,x);break e}d in a?a[d]=h:h===!0?a.setAttribute(d,""):Ac(a,d,h)}}}function en(a,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",a),ct("load",a);var h=!1,x=!1,y;for(y in d)if(d.hasOwnProperty(y)){var S=d[y];if(S!=null)switch(y){case"src":h=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ot(a,o,y,S,d,null)}}x&&Ot(a,o,"srcSet",d.srcSet,d,null),h&&Ot(a,o,"src",d.src,d,null);return;case"input":ct("invalid",a);var M=y=S=x=null,G=null,ne=null;for(h in d)if(d.hasOwnProperty(h)){var fe=d[h];if(fe!=null)switch(h){case"name":x=fe;break;case"type":S=fe;break;case"checked":G=fe;break;case"defaultChecked":ne=fe;break;case"value":y=fe;break;case"defaultValue":M=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,o));break;default:Ot(a,o,h,fe,d,null)}}Sm(a,y,M,G,ne,S,x,!1);return;case"select":ct("invalid",a),h=S=y=null;for(x in d)if(d.hasOwnProperty(x)&&(M=d[x],M!=null))switch(x){case"value":y=M;break;case"defaultValue":S=M;break;case"multiple":h=M;default:Ot(a,o,x,M,d,null)}o=y,d=S,a.multiple=!!h,o!=null?Bi(a,!!h,o,!1):d!=null&&Bi(a,!!h,d,!0);return;case"textarea":ct("invalid",a),y=x=h=null;for(S in d)if(d.hasOwnProperty(S)&&(M=d[S],M!=null))switch(S){case"value":h=M;break;case"defaultValue":x=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:Ot(a,o,S,M,d,null)}$i(a,h,x,y);return;case"option":for(G in d)if(d.hasOwnProperty(G)&&(h=d[G],h!=null))switch(G){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ot(a,o,G,h,d,null)}return;case"dialog":ct("beforetoggle",a),ct("toggle",a),ct("cancel",a),ct("close",a);break;case"iframe":case"object":ct("load",a);break;case"video":case"audio":for(h=0;h<jh.length;h++)ct(jh[h],a);break;case"image":ct("error",a),ct("load",a);break;case"details":ct("toggle",a);break;case"embed":case"source":case"link":ct("error",a),ct("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in d)if(d.hasOwnProperty(ne)&&(h=d[ne],h!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ot(a,o,ne,h,d,null)}return;default:if(Rc(o)){for(fe in d)d.hasOwnProperty(fe)&&(h=d[fe],h!==void 0&&Sy(a,o,fe,h,d,void 0));return}}for(M in d)d.hasOwnProperty(M)&&(h=d[M],h!=null&&Ot(a,o,M,h,d,null))}function V6(a,o,d,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,y=null,S=null,M=null,G=null,ne=null,fe=null;for(ce in d){var xe=d[ce];if(d.hasOwnProperty(ce)&&xe!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":G=xe;default:h.hasOwnProperty(ce)||Ot(a,o,ce,null,h,xe)}}for(var ae in h){var ce=h[ae];if(xe=d[ae],h.hasOwnProperty(ae)&&(ce!=null||xe!=null))switch(ae){case"type":y=ce;break;case"name":x=ce;break;case"checked":ne=ce;break;case"defaultChecked":fe=ce;break;case"value":S=ce;break;case"defaultValue":M=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:ce!==xe&&Ot(a,o,ae,ce,h,xe)}}Ic(a,S,M,G,ne,fe,y,x);return;case"select":ce=S=M=ae=null;for(y in d)if(G=d[y],d.hasOwnProperty(y)&&G!=null)switch(y){case"value":break;case"multiple":ce=G;default:h.hasOwnProperty(y)||Ot(a,o,y,null,h,G)}for(x in h)if(y=h[x],G=d[x],h.hasOwnProperty(x)&&(y!=null||G!=null))switch(x){case"value":ae=y;break;case"defaultValue":M=y;break;case"multiple":S=y;default:y!==G&&Ot(a,o,x,y,h,G)}o=M,d=S,h=ce,ae!=null?Bi(a,!!d,ae,!1):!!h!=!!d&&(o!=null?Bi(a,!!d,o,!0):Bi(a,!!d,d?[]:"",!1));return;case"textarea":ce=ae=null;for(M in d)if(x=d[M],d.hasOwnProperty(M)&&x!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Ot(a,o,M,null,h,x)}for(S in h)if(x=h[S],y=d[S],h.hasOwnProperty(S)&&(x!=null||y!=null))switch(S){case"value":ae=x;break;case"defaultValue":ce=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==y&&Ot(a,o,S,x,h,y)}Tm(a,ae,ce);return;case"option":for(var Oe in d)if(ae=d[Oe],d.hasOwnProperty(Oe)&&ae!=null&&!h.hasOwnProperty(Oe))switch(Oe){case"selected":a.selected=!1;break;default:Ot(a,o,Oe,null,h,ae)}for(G in h)if(ae=h[G],ce=d[G],h.hasOwnProperty(G)&&ae!==ce&&(ae!=null||ce!=null))switch(G){case"selected":a.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Ot(a,o,G,ae,h,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var We in d)ae=d[We],d.hasOwnProperty(We)&&ae!=null&&!h.hasOwnProperty(We)&&Ot(a,o,We,null,h,ae);for(ne in h)if(ae=h[ne],ce=d[ne],h.hasOwnProperty(ne)&&ae!==ce&&(ae!=null||ce!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:Ot(a,o,ne,ae,h,ce)}return;default:if(Rc(o)){for(var Mt in d)ae=d[Mt],d.hasOwnProperty(Mt)&&ae!==void 0&&!h.hasOwnProperty(Mt)&&Sy(a,o,Mt,void 0,h,ae);for(fe in h)ae=h[fe],ce=d[fe],!h.hasOwnProperty(fe)||ae===ce||ae===void 0&&ce===void 0||Sy(a,o,fe,ae,h,ce);return}}for(var J in d)ae=d[J],d.hasOwnProperty(J)&&ae!=null&&!h.hasOwnProperty(J)&&Ot(a,o,J,null,h,ae);for(xe in h)ae=h[xe],ce=d[xe],!h.hasOwnProperty(xe)||ae===ce||ae==null&&ce==null||Ot(a,o,xe,ae,h,ce)}function W_(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U6(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,d=performance.getEntriesByType("resource"),h=0;h<d.length;h++){var x=d[h],y=x.transferSize,S=x.initiatorType,M=x.duration;if(y&&M&&W_(S)){for(S=0,M=x.responseEnd,h+=1;h<d.length;h++){var G=d[h],ne=G.startTime;if(ne>M)break;var fe=G.transferSize,xe=G.initiatorType;fe&&W_(xe)&&(G=G.responseEnd,S+=fe*(G<M?1:(M-ne)/(G-ne)))}if(--h,o+=8*(y+S)/(x.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Ty=null,ky=null;function Cp(a){return a.nodeType===9?a:a.ownerDocument}function Y_(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q_(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Ey(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Cy=null;function F6(){var a=window.event;return a&&a.type==="popstate"?a===Cy?!1:(Cy=a,!0):(Cy=null,!1)}var X_=typeof setTimeout=="function"?setTimeout:void 0,B6=typeof clearTimeout=="function"?clearTimeout:void 0,J_=typeof Promise=="function"?Promise:void 0,$6=typeof queueMicrotask=="function"?queueMicrotask:typeof J_<"u"?function(a){return J_.resolve(null).then(a).catch(q6)}:X_;function q6(a){setTimeout(function(){throw a})}function fo(a){return a==="head"}function Z_(a,o){var d=o,h=0;do{var x=d.nextSibling;if(a.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(h===0){a.removeChild(x),fd(o);return}h--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")h++;else if(d==="html")_h(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,_h(d);for(var y=d.firstChild;y;){var S=y.nextSibling,M=y.nodeName;y[pa]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&y.rel.toLowerCase()==="stylesheet"||d.removeChild(y),y=S}}else d==="body"&&_h(a.ownerDocument.body);d=x}while(d);fd(o)}function e2(a,o){var d=a;a=0;do{var h=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),h&&h.nodeType===8)if(d=h.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=h}while(d)}function Ay(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Ay(d),Cc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function H6(a,o,d,h){for(;a.nodeType===1;){var x=d;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[pa])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==x.rel||a.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||a.getAttribute("title")!==(x.title==null?null:x.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(x.src==null?null:x.src)||a.getAttribute("type")!==(x.type==null?null:x.type)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var y=x.name==null?null:""+x.name;if(x.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=Er(a.nextSibling),a===null)break}return null}function G6(a,o,d){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Er(a.nextSibling),a===null))return null;return a}function t2(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Er(a.nextSibling),a===null))return null;return a}function Iy(a){return a.data==="$?"||a.data==="$~"}function Ry(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function K6(a,o){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||d.readyState!=="loading")o();else{var h=function(){o(),d.removeEventListener("DOMContentLoaded",h)};d.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Er(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Py=null;function s2(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(o===0)return Er(a.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}a=a.nextSibling}return null}function n2(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return a;o--}else d!=="/$"&&d!=="/&"||o++}a=a.previousSibling}return null}function r2(a,o,d){switch(o=Cp(d),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function _h(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Cc(a)}var Cr=new Map,a2=new Set;function Ap(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var fi=te.d;te.d={f:W6,r:Y6,D:Q6,C:X6,L:J6,m:Z6,X:t5,S:e5,M:s5};function W6(){var a=fi.f(),o=wp();return a||o}function Y6(a){var o=yr(a);o!==null&&o.tag===5&&o.type==="form"?jN(o):fi.r(a)}var dd=typeof document>"u"?null:document;function i2(a,o,d){var h=dd;if(h&&typeof o=="string"&&o){var x=Rn(o);x='link[rel="'+a+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),a2.has(x)||(a2.add(x),a={rel:a,crossOrigin:d,href:o},h.querySelector(x)===null&&(o=h.createElement("link"),en(o,"link",a),Ts(o),h.head.appendChild(o)))}}function Q6(a){fi.D(a),i2("dns-prefetch",a,null)}function X6(a,o){fi.C(a,o),i2("preconnect",a,o)}function J6(a,o,d){fi.L(a,o,d);var h=dd;if(h&&a&&o){var x='link[rel="preload"][as="'+Rn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+Rn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+Rn(d.imageSizes)+'"]')):x+='[href="'+Rn(a)+'"]';var y=x;switch(o){case"style":y=ud(a);break;case"script":y=hd(a)}Cr.has(y)||(a=b({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:a,as:o},d),Cr.set(y,a),h.querySelector(x)!==null||o==="style"&&h.querySelector(Sh(y))||o==="script"&&h.querySelector(Th(y))||(o=h.createElement("link"),en(o,"link",a),Ts(o),h.head.appendChild(o)))}}function Z6(a,o){fi.m(a,o);var d=dd;if(d&&a){var h=o&&typeof o.as=="string"?o.as:"script",x='link[rel="modulepreload"][as="'+Rn(h)+'"][href="'+Rn(a)+'"]',y=x;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=hd(a)}if(!Cr.has(y)&&(a=b({rel:"modulepreload",href:a},o),Cr.set(y,a),d.querySelector(x)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Th(y)))return}h=d.createElement("link"),en(h,"link",a),Ts(h),d.head.appendChild(h)}}}function e5(a,o,d){fi.S(a,o,d);var h=dd;if(h&&a){var x=xa(h).hoistableStyles,y=ud(a);o=o||"default";var S=x.get(y);if(!S){var M={loading:0,preload:null};if(S=h.querySelector(Sh(y)))M.loading=5;else{a=b({rel:"stylesheet",href:a,"data-precedence":o},d),(d=Cr.get(y))&&Dy(a,d);var G=S=h.createElement("link");Ts(G),en(G,"link",a),G._p=new Promise(function(ne,fe){G.onload=ne,G.onerror=fe}),G.addEventListener("load",function(){M.loading|=1}),G.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Ip(S,o,h)}S={type:"stylesheet",instance:S,count:1,state:M},x.set(y,S)}}}function t5(a,o){fi.X(a,o);var d=dd;if(d&&a){var h=xa(d).hoistableScripts,x=hd(a),y=h.get(x);y||(y=d.querySelector(Th(x)),y||(a=b({src:a,async:!0},o),(o=Cr.get(x))&&Oy(a,o),y=d.createElement("script"),Ts(y),en(y,"link",a),d.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(x,y))}}function s5(a,o){fi.M(a,o);var d=dd;if(d&&a){var h=xa(d).hoistableScripts,x=hd(a),y=h.get(x);y||(y=d.querySelector(Th(x)),y||(a=b({src:a,async:!0,type:"module"},o),(o=Cr.get(x))&&Oy(a,o),y=d.createElement("script"),Ts(y),en(y,"link",a),d.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(x,y))}}function o2(a,o,d,h){var x=(x=Te.current)?Ap(x):null;if(!x)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=ud(d.href),d=xa(x).hoistableStyles,h=d.get(o),h||(h={type:"style",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=ud(d.href);var y=xa(x).hoistableStyles,S=y.get(a);if(S||(x=x.ownerDocument||x,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,S),(y=x.querySelector(Sh(a)))&&!y._p&&(S.instance=y,S.state.loading=5),Cr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Cr.set(a,d),y||n5(x,a,d,S.state))),o&&h===null)throw Error(r(528,""));return S}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=hd(d),d=xa(x).hoistableScripts,h=d.get(o),h||(h={type:"script",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function ud(a){return'href="'+Rn(a)+'"'}function Sh(a){return'link[rel="stylesheet"]['+a+"]"}function l2(a){return b({},a,{"data-precedence":a.precedence,precedence:null})}function n5(a,o,d,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),en(o,"link",d),Ts(o),a.head.appendChild(o))}function hd(a){return'[src="'+Rn(a)+'"]'}function Th(a){return"script[async]"+a}function c2(a,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+Rn(d.href)+'"]');if(h)return o.instance=h,Ts(h),h;var x=b({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),Ts(h),en(h,"style",x),Ip(h,d.precedence,a),o.instance=h;case"stylesheet":x=ud(d.href);var y=a.querySelector(Sh(x));if(y)return o.state.loading|=4,o.instance=y,Ts(y),y;h=l2(d),(x=Cr.get(x))&&Dy(h,x),y=(a.ownerDocument||a).createElement("link"),Ts(y);var S=y;return S._p=new Promise(function(M,G){S.onload=M,S.onerror=G}),en(y,"link",h),o.state.loading|=4,Ip(y,d.precedence,a),o.instance=y;case"script":return y=hd(d.src),(x=a.querySelector(Th(y)))?(o.instance=x,Ts(x),x):(h=d,(x=Cr.get(y))&&(h=b({},d),Oy(h,x)),a=a.ownerDocument||a,x=a.createElement("script"),Ts(x),en(x,"link",h),a.head.appendChild(x),o.instance=x);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Ip(h,d.precedence,a));return o.instance}function Ip(a,o,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=h.length?h[h.length-1]:null,y=x,S=0;S<h.length;S++){var M=h[S];if(M.dataset.precedence===o)y=M;else if(y!==x)break}y?y.parentNode.insertBefore(a,y.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(a,o.firstChild))}function Dy(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Oy(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Rp=null;function d2(a,o,d){if(Rp===null){var h=new Map,x=Rp=new Map;x.set(d,h)}else x=Rp,h=x.get(d),h||(h=new Map,x.set(d,h));if(h.has(a))return h;for(h.set(a,null),d=d.getElementsByTagName(a),x=0;x<d.length;x++){var y=d[x];if(!(y[pa]||y[Ss]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(o)||"";S=a+S;var M=h.get(S);M?M.push(y):h.set(S,[y])}}return h}function u2(a,o,d){a=a.ownerDocument||a,a.head.insertBefore(d,o==="title"?a.querySelector("head > title"):null)}function r5(a,o,d){if(d===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function h2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function a5(a,o,d,h){if(d.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=ud(h.href),y=o.querySelector(Sh(x));if(y){o=y._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Pp.bind(a),o.then(a,a)),d.state.loading|=4,d.instance=y,Ts(y);return}y=o.ownerDocument||o,h=l2(h),(x=Cr.get(x))&&Dy(h,x),y=y.createElement("link"),Ts(y);var S=y;S._p=new Promise(function(M,G){S.onload=M,S.onerror=G}),en(y,"link",h),d.instance=y}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=Pp.bind(a),o.addEventListener("load",d),o.addEventListener("error",d))}}var My=0;function i5(a,o){return a.stylesheets&&a.count===0&&Op(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var h=setTimeout(function(){if(a.stylesheets&&Op(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4+o);0<a.imgBytes&&My===0&&(My=62500*U6());var x=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Op(a,a.stylesheets),a.unsuspend)){var y=a.unsuspend;a.unsuspend=null,y()}},(a.imgBytes>My?50:800)+o);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(x)}}:null}function Pp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Op(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Dp=null;function Op(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Dp=new Map,o.forEach(o5,a),Dp=null,Pp.call(a))}function o5(a,o){if(!(o.state.loading&4)){var d=Dp.get(a);if(d)var h=d.get(null);else{d=new Map,Dp.set(a,d);for(var x=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<x.length;y++){var S=x[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(d.set(S.dataset.precedence,S),h=S)}h&&d.set(null,h)}x=o.instance,S=x.getAttribute("data-precedence"),y=d.get(S)||h,y===h&&d.set(null,x),d.set(S,x),this.count++,h=Pp.bind(this),x.addEventListener("load",h),x.addEventListener("error",h),y?y.parentNode.insertBefore(x,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(x,a.firstChild)),o.state.loading|=4}}var kh={$$typeof:L,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function l5(a,o,d,h,x,y,S,M,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=st(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=st(0),this.hiddenUpdates=st(null),this.identifierPrefix=h,this.onUncaughtError=x,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function f2(a,o,d,h,x,y,S,M,G,ne,fe,xe){return a=new l5(a,o,d,S,G,ne,fe,xe,M),o=1,y===!0&&(o|=24),y=nr(3,null,null,o),a.current=y,y.stateNode=a,o=p0(),o.refCount++,a.pooledCache=o,o.refCount++,y.memoizedState={element:h,isDehydrated:d,cache:o},b0(y),a}function m2(a){return a?(a=$c,a):$c}function p2(a,o,d,h,x,y){x=m2(x),h.context===null?h.context=x:h.pendingContext=x,h=to(o),h.payload={element:d},y=y===void 0?null:y,y!==null&&(h.callback=y),d=so(a,h,o),d!==null&&(zn(d,a,o),ah(d,a,o))}function g2(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<o?d:o}}function Ly(a,o){g2(a,o),(a=a.alternate)&&g2(a,o)}function x2(a){if(a.tag===13||a.tag===31){var o=gl(a,67108864);o!==null&&zn(o,a,67108864),Ly(a,67108864)}}function y2(a){if(a.tag===13||a.tag===31){var o=lr();o=Ya(o);var d=gl(a,o);d!==null&&zn(d,a,o),Ly(a,o)}}var Mp=!0;function c5(a,o,d,h){var x=W.T;W.T=null;var y=te.p;try{te.p=2,zy(a,o,d,h)}finally{te.p=y,W.T=x}}function d5(a,o,d,h){var x=W.T;W.T=null;var y=te.p;try{te.p=8,zy(a,o,d,h)}finally{te.p=y,W.T=x}}function zy(a,o,d,h){if(Mp){var x=Vy(h);if(x===null)_y(a,o,h,Lp,d),v2(a,h);else if(h5(x,a,o,d,h))h.stopPropagation();else if(v2(a,h),o&4&&-1<u5.indexOf(a)){for(;x!==null;){var y=yr(x);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Zn(y.pendingLanes);if(S!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;S;){var G=1<<31-Rt(S);M.entanglements[1]|=G,S&=~G}Aa(y),(Nt&6)===0&&(bp=me()+500,wh(0))}}break;case 31:case 13:M=gl(y,2),M!==null&&zn(M,y,2),wp(),Ly(y,2)}if(y=Vy(h),y===null&&_y(a,o,h,Lp,d),y===x)break;x=y}x!==null&&h.stopPropagation()}else _y(a,o,h,null,d)}}function Vy(a){return a=br(a),Uy(a)}var Lp=null;function Uy(a){if(Lp=null,a=ga(a),a!==null){var o=l(a);if(o===null)a=null;else{var d=o.tag;if(d===13){if(a=c(o),a!==null)return a;a=null}else if(d===31){if(a=f(o),a!==null)return a;a=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Lp=a,null}function b2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case Qe:return 2;case it:return 8;case It:case rs:return 32;case hn:return 268435456;default:return 32}default:return 32}}var Fy=!1,mo=null,po=null,go=null,Eh=new Map,Ch=new Map,xo=[],u5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v2(a,o){switch(a){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":Eh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ch.delete(o.pointerId)}}function Ah(a,o,d,h,x,y){return a===null||a.nativeEvent!==y?(a={blockedOn:o,domEventName:d,eventSystemFlags:h,nativeEvent:y,targetContainers:[x]},o!==null&&(o=yr(o),o!==null&&x2(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),a)}function h5(a,o,d,h,x){switch(o){case"focusin":return mo=Ah(mo,a,o,d,h,x),!0;case"dragenter":return po=Ah(po,a,o,d,h,x),!0;case"mouseover":return go=Ah(go,a,o,d,h,x),!0;case"pointerover":var y=x.pointerId;return Eh.set(y,Ah(Eh.get(y)||null,a,o,d,h,x)),!0;case"gotpointercapture":return y=x.pointerId,Ch.set(y,Ah(Ch.get(y)||null,a,o,d,h,x)),!0}return!1}function w2(a){var o=ga(a.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){a.blockedOn=o,Gr(a.priority,function(){y2(d)});return}}else if(o===31){if(o=f(d),o!==null){a.blockedOn=o,Gr(a.priority,function(){y2(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function zp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var d=Vy(a.nativeEvent);if(d===null){d=a.nativeEvent;var h=new d.constructor(d.type,d);$u=h,d.target.dispatchEvent(h),$u=null}else return o=yr(d),o!==null&&x2(o),a.blockedOn=d,!1;o.shift()}return!0}function j2(a,o,d){zp(a)&&d.delete(o)}function f5(){Fy=!1,mo!==null&&zp(mo)&&(mo=null),po!==null&&zp(po)&&(po=null),go!==null&&zp(go)&&(go=null),Eh.forEach(j2),Ch.forEach(j2)}function Vp(a,o){a.blockedOn===o&&(a.blockedOn=null,Fy||(Fy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,f5)))}var Up=null;function N2(a){Up!==a&&(Up=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Up===a&&(Up=null);for(var o=0;o<a.length;o+=3){var d=a[o],h=a[o+1],x=a[o+2];if(typeof h!="function"){if(Uy(h||d)===null)continue;break}var y=yr(d);y!==null&&(a.splice(o,3),o-=3,V0(y,{pending:!0,data:x,method:d.method,action:h},h,x))}}))}function fd(a){function o(G){return Vp(G,a)}mo!==null&&Vp(mo,a),po!==null&&Vp(po,a),go!==null&&Vp(go,a),Eh.forEach(o),Ch.forEach(o);for(var d=0;d<xo.length;d++){var h=xo[d];h.blockedOn===a&&(h.blockedOn=null)}for(;0<xo.length&&(d=xo[0],d.blockedOn===null);)w2(d),d.blockedOn===null&&xo.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var x=d[h],y=d[h+1],S=x[Bs]||null;if(typeof y=="function")S||N2(d);else if(S){var M=null;if(y&&y.hasAttribute("formAction")){if(x=y,S=y[Bs]||null)M=S.formAction;else if(Uy(x)!==null)continue}else M=S.action;typeof M=="function"?d[h+1]=M:(d.splice(h,3),h-=3),N2(d)}}}function _2(){function a(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return x=S})},focusReset:"manual",scroll:"manual"})}function o(){x!==null&&(x(),x=null),h||setTimeout(d,20)}function d(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,x=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),x!==null&&(x(),x=null)}}}function By(a){this._internalRoot=a}Fp.prototype.render=By.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var d=o.current,h=lr();p2(d,h,a,o,null,null)},Fp.prototype.unmount=By.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;p2(a.current,2,null,a,null,null),wp(),o[ma]=null}};function Fp(a){this._internalRoot=a}Fp.prototype.unstable_scheduleHydration=function(a){if(a){var o=wm();a={blockedOn:null,target:a,priority:o};for(var d=0;d<xo.length&&o!==0&&o<xo[d].priority;d++);xo.splice(d,0,a),d===0&&w2(a)}};var S2=e.version;if(S2!=="19.2.4")throw Error(r(527,S2,"19.2.4"));te.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=m(o),a=a!==null?g(a):null,a=a===null?null:a.stateNode,a};var m5={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{Xn=Bp.inject(m5),Ms=Bp}catch{}}return Rh.createRoot=function(a,o){if(!i(a))throw Error(r(299));var d=!1,h="",x=RN,y=PN,S=DN;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError)),o=f2(a,1,!1,null,null,d,h,null,x,y,S,_2),a[ma]=o.current,Ny(a),new By(o)},Rh.hydrateRoot=function(a,o,d){if(!i(a))throw Error(r(299));var h=!1,x="",y=RN,S=PN,M=DN,G=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(y=d.onUncaughtError),d.onCaughtError!==void 0&&(S=d.onCaughtError),d.onRecoverableError!==void 0&&(M=d.onRecoverableError),d.formState!==void 0&&(G=d.formState)),o=f2(a,1,!0,o,d??null,h,x,G,y,S,M,_2),o.context=m2(null),d=o.current,h=lr(),h=Ya(h),x=to(h),x.callback=null,so(d,x,h),d=h,o.current.lanes=d,Ys(o,d),Aa(o),a[ma]=o.current,Ny(a),new Fp(o)},Rh.version="19.2.4",Rh}var O2;function T5(){if(O2)return Hy.exports;O2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hy.exports=S5(),Hy.exports}var k5=T5();const E5=pu(k5);var Yy,M2;function C5(){if(M2)return Yy;M2=1;var n=typeof Element<"u",e=typeof Map=="function",s=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(l,c){if(l===c)return!0;if(l&&c&&typeof l=="object"&&typeof c=="object"){if(l.constructor!==c.constructor)return!1;var f,u,m;if(Array.isArray(l)){if(f=l.length,f!=c.length)return!1;for(u=f;u--!==0;)if(!i(l[u],c[u]))return!1;return!0}var g;if(e&&l instanceof Map&&c instanceof Map){if(l.size!==c.size)return!1;for(g=l.entries();!(u=g.next()).done;)if(!c.has(u.value[0]))return!1;for(g=l.entries();!(u=g.next()).done;)if(!i(u.value[1],c.get(u.value[0])))return!1;return!0}if(s&&l instanceof Set&&c instanceof Set){if(l.size!==c.size)return!1;for(g=l.entries();!(u=g.next()).done;)if(!c.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(c)){if(f=l.length,f!=c.length)return!1;for(u=f;u--!==0;)if(l[u]!==c[u])return!1;return!0}if(l.constructor===RegExp)return l.source===c.source&&l.flags===c.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof c.valueOf=="function")return l.valueOf()===c.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof c.toString=="function")return l.toString()===c.toString();if(m=Object.keys(l),f=m.length,f!==Object.keys(c).length)return!1;for(u=f;u--!==0;)if(!Object.prototype.hasOwnProperty.call(c,m[u]))return!1;if(n&&l instanceof Element)return!1;for(u=f;u--!==0;)if(!((m[u]==="_owner"||m[u]==="__v"||m[u]==="__o")&&l.$$typeof)&&!i(l[m[u]],c[m[u]]))return!1;return!0}return l!==l&&c!==c}return Yy=function(c,f){try{return i(c,f)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},Yy}var A5=C5();const I5=pu(A5);var Qy,L2;function R5(){if(L2)return Qy;L2=1;var n=function(e,s,r,i,l,c,f,u){if(!e){var m;if(s===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[r,i,l,c,f,u],b=0;m=new Error(s.replace(/%s/g,function(){return g[b++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return Qy=n,Qy}var P5=R5();const z2=pu(P5);var Xy,V2;function D5(){return V2||(V2=1,Xy=function(e,s,r,i){var l=r?r.call(i,e,s):void 0;if(l!==void 0)return!!l;if(e===s)return!0;if(typeof e!="object"||!e||typeof s!="object"||!s)return!1;var c=Object.keys(e),f=Object.keys(s);if(c.length!==f.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(s),m=0;m<c.length;m++){var g=c[m];if(!u(g))return!1;var b=e[g],v=s[g];if(l=r?r.call(i,b,v,g):void 0,l===!1||l===void 0&&b!==v)return!1}return!0}),Xy}var O5=D5();const M5=pu(O5);var zk=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(zk||{}),Jy={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},U2=Object.values(zk),Yv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},L5=Object.entries(Yv).reduce((n,[e,s])=>(n[s]=e,n),{}),ra="data-rh",Rd={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Pd=(n,e)=>{for(let s=n.length-1;s>=0;s-=1){const r=n[s];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},z5=n=>{let e=Pd(n,"title");const s=Pd(n,Rd.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),s&&e)return s.replace(/%s/g,()=>e);const r=Pd(n,Rd.DEFAULT_TITLE);return e||r||void 0},V5=n=>Pd(n,Rd.ON_CHANGE_CLIENT_STATE)||(()=>{}),Zy=(n,e)=>e.filter(s=>typeof s[n]<"u").map(s=>s[n]).reduce((s,r)=>({...s,...r}),{}),U5=(n,e)=>e.filter(s=>typeof s.base<"u").map(s=>s.base).reverse().reduce((s,r)=>{if(!s.length){const i=Object.keys(r);for(let l=0;l<i.length;l+=1){const f=i[l].toLowerCase();if(n.indexOf(f)!==-1&&r[f])return s.concat(r)}}return s},[]),F5=n=>console&&typeof console.warn=="function"&&console.warn(n),Ph=(n,e,s)=>{const r={};return s.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&F5(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,l)=>{const c={};l.filter(u=>{let m;const g=Object.keys(u);for(let v=0;v<g.length;v+=1){const T=g[v],N=T.toLowerCase();e.indexOf(N)!==-1&&!(m==="rel"&&u[m].toLowerCase()==="canonical")&&!(N==="rel"&&u[N].toLowerCase()==="stylesheet")&&(m=N),e.indexOf(T)!==-1&&(T==="innerHTML"||T==="cssText"||T==="itemprop")&&(m=T)}if(!m||!u[m])return!1;const b=u[m].toLowerCase();return r[m]||(r[m]={}),c[m]||(c[m]={}),r[m][b]?!1:(c[m][b]=!0,!0)}).reverse().forEach(u=>i.push(u));const f=Object.keys(c);for(let u=0;u<f.length;u+=1){const m=f[u],g={...r[m],...c[m]};r[m]=g}return i},[]).reverse()},B5=(n,e)=>{if(Array.isArray(n)&&n.length){for(let s=0;s<n.length;s+=1)if(n[s][e])return!0}return!1},$5=n=>({baseTag:U5(["href"],n),bodyAttributes:Zy("bodyAttributes",n),defer:Pd(n,Rd.DEFER),encode:Pd(n,Rd.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Zy("htmlAttributes",n),linkTags:Ph("link",["rel","href"],n),metaTags:Ph("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Ph("noscript",["innerHTML"],n),onChangeClientState:V5(n),scriptTags:Ph("script",["src","innerHTML"],n),styleTags:Ph("style",["cssText"],n),title:z5(n),titleAttributes:Zy("titleAttributes",n),prioritizeSeoTags:B5(n,Rd.PRIORITIZE_SEO_TAGS)}),Vk=n=>Array.isArray(n)?n.join(""):n,q5=(n,e)=>{const s=Object.keys(n);for(let r=0;r<s.length;r+=1)if(e[s[r]]&&e[s[r]].includes(n[s[r]]))return!0;return!1},eb=(n,e)=>Array.isArray(n)?n.reduce((s,r)=>(q5(r,e)?s.priority.push(r):s.default.push(r),s),{priority:[],default:[]}):{default:n,priority:[]},F2=(n,e)=>({...n,[e]:void 0}),H5=["noscript","script","style"],Lb=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Uk=n=>Object.keys(n).reduce((e,s)=>{const r=typeof n[s]<"u"?`${s}="${n[s]}"`:`${s}`;return e?`${e} ${r}`:r},""),G5=(n,e,s,r)=>{const i=Uk(s),l=Vk(e);return i?`<${n} ${ra}="true" ${i}>${Lb(l,r)}</${n}>`:`<${n} ${ra}="true">${Lb(l,r)}</${n}>`},K5=(n,e,s=!0)=>e.reduce((r,i)=>{const l=i,c=Object.keys(l).filter(m=>!(m==="innerHTML"||m==="cssText")).reduce((m,g)=>{const b=typeof l[g]>"u"?g:`${g}="${Lb(l[g],s)}"`;return m?`${m} ${b}`:b},""),f=l.innerHTML||l.cssText||"",u=H5.indexOf(n)===-1;return`${r}<${n} ${ra}="true" ${c}${u?"/>":`>${f}</${n}>`}`},""),Fk=(n,e={})=>Object.keys(n).reduce((s,r)=>{const i=Yv[r];return s[i||r]=n[r],s},e),W5=(n,e,s)=>{const r={key:e,[ra]:!0},i=Fk(s,r);return[De.createElement("title",i,e)]},ng=(n,e)=>e.map((s,r)=>{const i={key:r,[ra]:!0};return Object.keys(s).forEach(l=>{const f=Yv[l]||l;if(f==="innerHTML"||f==="cssText"){const u=s.innerHTML||s.cssText;i.dangerouslySetInnerHTML={__html:u}}else i[f]=s[l]}),De.createElement(n,i)}),Ir=(n,e,s=!0)=>{switch(n){case"title":return{toComponent:()=>W5(n,e.title,e.titleAttributes),toString:()=>G5(n,e.title,e.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Fk(e),toString:()=>Uk(e)};default:return{toComponent:()=>ng(n,e),toString:()=>K5(n,e,s)}}},Y5=({metaTags:n,linkTags:e,scriptTags:s,encode:r})=>{const i=eb(n,Jy.meta),l=eb(e,Jy.link),c=eb(s,Jy.script);return{priorityMethods:{toComponent:()=>[...ng("meta",i.priority),...ng("link",l.priority),...ng("script",c.priority)],toString:()=>`${Ir("meta",i.priority,r)} ${Ir("link",l.priority,r)} ${Ir("script",c.priority,r)}`},metaTags:i.default,linkTags:l.default,scriptTags:c.default}},Q5=n=>{const{baseTag:e,bodyAttributes:s,encode:r=!0,htmlAttributes:i,noscriptTags:l,styleTags:c,title:f="",titleAttributes:u,prioritizeSeoTags:m}=n;let{linkTags:g,metaTags:b,scriptTags:v}=n,T={toComponent:()=>{},toString:()=>""};return m&&({priorityMethods:T,linkTags:g,metaTags:b,scriptTags:v}=Y5(n)),{priority:T,base:Ir("base",e,r),bodyAttributes:Ir("bodyAttributes",s,r),htmlAttributes:Ir("htmlAttributes",i,r),link:Ir("link",g,r),meta:Ir("meta",b,r),noscript:Ir("noscript",l,r),script:Ir("script",v,r),style:Ir("style",c,r),title:Ir("title",{title:f,titleAttributes:u},r)}},zb=Q5,$p=[],Bk=!!(typeof window<"u"&&window.document&&window.document.createElement),Vb=class{constructor(n,e){mi(this,"instances",[]);mi(this,"canUseDOM",Bk);mi(this,"context");mi(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?$p:this.instances,add:n=>{(this.canUseDOM?$p:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?$p:this.instances).indexOf(n);(this.canUseDOM?$p:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=zb({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},X5={},$k=De.createContext(X5),ql,qk=(ql=class extends w.Component{constructor(s){super(s);mi(this,"helmetData");this.helmetData=new Vb(this.props.context||{},ql.canUseDOM)}render(){return De.createElement($k.Provider,{value:this.helmetData.value},this.props.children)}},mi(ql,"canUseDOM",Bk),ql),md=(n,e)=>{const s=document.head||document.querySelector("head"),r=s.querySelectorAll(`${n}[${ra}]`),i=[].slice.call(r),l=[];let c;return e&&e.length&&e.forEach(f=>{const u=document.createElement(n);for(const m in f)if(Object.prototype.hasOwnProperty.call(f,m))if(m==="innerHTML")u.innerHTML=f.innerHTML;else if(m==="cssText")u.styleSheet?u.styleSheet.cssText=f.cssText:u.appendChild(document.createTextNode(f.cssText));else{const g=m,b=typeof f[g]>"u"?"":f[g];u.setAttribute(m,b)}u.setAttribute(ra,"true"),i.some((m,g)=>(c=g,u.isEqualNode(m)))?i.splice(c,1):l.push(u)}),i.forEach(f=>{var u;return(u=f.parentNode)==null?void 0:u.removeChild(f)}),l.forEach(f=>s.appendChild(f)),{oldTags:i,newTags:l}},Ub=(n,e)=>{const s=document.getElementsByTagName(n)[0];if(!s)return;const r=s.getAttribute(ra),i=r?r.split(","):[],l=[...i],c=Object.keys(e);for(const f of c){const u=e[f]||"";s.getAttribute(f)!==u&&s.setAttribute(f,u),i.indexOf(f)===-1&&i.push(f);const m=l.indexOf(f);m!==-1&&l.splice(m,1)}for(let f=l.length-1;f>=0;f-=1)s.removeAttribute(l[f]);i.length===l.length?s.removeAttribute(ra):s.getAttribute(ra)!==c.join(",")&&s.setAttribute(ra,c.join(","))},J5=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=Vk(n)),Ub("title",e)},B2=(n,e)=>{const{baseTag:s,bodyAttributes:r,htmlAttributes:i,linkTags:l,metaTags:c,noscriptTags:f,onChangeClientState:u,scriptTags:m,styleTags:g,title:b,titleAttributes:v}=n;Ub("body",r),Ub("html",i),J5(b,v);const T={baseTag:md("base",s),linkTags:md("link",l),metaTags:md("meta",c),noscriptTags:md("noscript",f),scriptTags:md("script",m),styleTags:md("style",g)},N={},E={};Object.keys(T).forEach(k=>{const{newTags:D,oldTags:P}=T[k];D.length&&(N[k]=D),P.length&&(E[k]=T[k].oldTags)}),e&&e(),u(n,N,E)},Dh=null,Z5=n=>{Dh&&cancelAnimationFrame(Dh),n.defer?Dh=requestAnimationFrame(()=>{B2(n,()=>{Dh=null})}):(B2(n),Dh=null)},e3=Z5,$2=class extends w.Component{constructor(){super(...arguments);mi(this,"rendered",!1)}shouldComponentUpdate(e){return!M5(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:s}=this.props.context;let r=null;const i=$5(e.get().map(l=>{const c={...l.props};return delete c.context,c}));qk.canUseDOM?e3(i):zb&&(r=zb(i)),s(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Mb,t3=(Mb=class extends w.Component{shouldComponentUpdate(n){return!I5(F2(this.props,"helmetData"),F2(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,s,r){return{...e,[n.type]:[...e[n.type]||[],{...s,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,s,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...s}};case"body":return{...e,bodyAttributes:{...s}};case"html":return{...e,htmlAttributes:{...s}};default:return{...e,[n.type]:{...s}}}}mapArrayTypeChildrenToProps(n,e){let s={...e};return Object.keys(n).forEach(r=>{s={...s,[r]:n[r]}}),s}warnOnInvalidChildren(n,e){return z2(U2.some(s=>n.type===s),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${U2.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),z2(!e||typeof e=="string"||Array.isArray(e)&&!e.some(s=>typeof s!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let s={};return De.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:i,...l}=r.props,c=Object.keys(l).reduce((u,m)=>(u[L5[m]||m]=l[m],u),{});let{type:f}=r;switch(typeof f=="symbol"?f=f.toString():this.warnOnInvalidChildren(r,i),f){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(r,s,c,i);break;default:e=this.mapObjectTypeChildren(r,e,c,i);break}}),this.mapArrayTypeChildrenToProps(s,e)}render(){const{children:n,...e}=this.props;let s={...e},{helmetData:r}=e;if(n&&(s=this.mapChildrenToProps(n,s)),r&&!(r instanceof Vb)){const i=r;r=new Vb(i.context,!0),delete s.helmetData}return r?De.createElement($2,{...s,context:r.value}):De.createElement($k.Consumer,null,i=>De.createElement($2,{...s,context:i}))}},mi(Mb,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Mb);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q2="popstate";function s3(n={}){function e(r,i){let{pathname:l,search:c,hash:f}=r.location;return Fb("",{pathname:l,search:c,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:vf(i)}return r3(e,s,null,n)}function ns(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Or(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n3(){return Math.random().toString(36).substring(2,10)}function H2(n,e){return{usr:n.state,key:n.key,idx:e}}function Fb(n,e,s=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?gu(e):e,state:s,key:e&&e.key||r||n3()}}function vf({pathname:n="/",search:e="",hash:s=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function gu(n){let e={};if(n){let s=n.indexOf("#");s>=0&&(e.hash=n.substring(s),n=n.substring(0,s));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function r3(n,e,s,r={}){let{window:i=document.defaultView,v5Compat:l=!1}=r,c=i.history,f="POP",u=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function b(){f="POP";let k=g(),D=k==null?null:k-m;m=k,u&&u({action:f,location:E.location,delta:D})}function v(k,D){f="PUSH";let P=Fb(E.location,k,D);m=g()+1;let L=H2(P,m),V=E.createHref(P);try{c.pushState(L,"",V)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(V)}l&&u&&u({action:f,location:E.location,delta:1})}function T(k,D){f="REPLACE";let P=Fb(E.location,k,D);m=g();let L=H2(P,m),V=E.createHref(P);c.replaceState(L,"",V),l&&u&&u({action:f,location:E.location,delta:0})}function N(k){return a3(k)}let E={get action(){return f},get location(){return n(i,c)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(q2,b),u=k,()=>{i.removeEventListener(q2,b),u=null}},createHref(k){return e(i,k)},createURL:N,encodeLocation(k){let D=N(k);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:v,replace:T,go(k){return c.go(k)}};return E}function a3(n,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),ns(s,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:vf(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function Hk(n,e,s="/"){return i3(n,e,s,!1)}function i3(n,e,s,r){let i=typeof e=="string"?gu(e):e,l=Ni(i.pathname||"/",s);if(l==null)return null;let c=Gk(n);o3(c);let f=null;for(let u=0;f==null&&u<c.length;++u){let m=y3(l);f=g3(c[u],m,r)}return f}function Gk(n,e=[],s=[],r="",i=!1){let l=(c,f,u=i,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&u)return;ns(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let b=bi([r,g.relativePath]),v=s.concat(g);c.children&&c.children.length>0&&(ns(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Gk(c.children,e,v,b,u)),!(c.path==null&&!c.index)&&e.push({path:b,score:m3(b,c.index),routesMeta:v})};return n.forEach((c,f)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))l(c,f);else for(let m of Kk(c.path))l(c,f,!0,m)}),e}function Kk(n){let e=n.split("/");if(e.length===0)return[];let[s,...r]=e,i=s.endsWith("?"),l=s.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let c=Kk(r.join("/")),f=[];return f.push(...c.map(u=>u===""?l:[l,u].join("/"))),i&&f.push(...c),f.map(u=>n.startsWith("/")&&u===""?"/":u)}function o3(n){n.sort((e,s)=>e.score!==s.score?s.score-e.score:p3(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var l3=/^:[\w-]+$/,c3=3,d3=2,u3=1,h3=10,f3=-2,G2=n=>n==="*";function m3(n,e){let s=n.split("/"),r=s.length;return s.some(G2)&&(r+=f3),e&&(r+=d3),s.filter(i=>!G2(i)).reduce((i,l)=>i+(l3.test(l)?c3:l===""?u3:h3),r)}function p3(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function g3(n,e,s=!1){let{routesMeta:r}=n,i={},l="/",c=[];for(let f=0;f<r.length;++f){let u=r[f],m=f===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",b=_g({path:u.relativePath,caseSensitive:u.caseSensitive,end:m},g),v=u.route;if(!b&&m&&s&&!r[r.length-1].route.index&&(b=_g({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},g)),!b)return null;Object.assign(i,b.params),c.push({params:i,pathname:bi([l,b.pathname]),pathnameBase:j3(bi([l,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(l=bi([l,b.pathnameBase]))}return c}function _g(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,r]=x3(n.path,n.caseSensitive,n.end),i=e.match(s);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:b},v)=>{if(g==="*"){let N=f[v]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const T=f[v];return b&&!T?m[g]=void 0:m[g]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function x3(n,e=!1,s=!0){Or(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,u)=>(r.push({paramName:f,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function y3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Or(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ni(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=n.charAt(s);return r&&r!=="/"?null:n.slice(s)||"/"}var b3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function v3(n,e="/"){let{pathname:s,search:r="",hash:i=""}=typeof n=="string"?gu(n):n,l;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?l=K2(s.substring(1),"/"):l=K2(s,e)):l=e,{pathname:l,search:N3(r),hash:_3(i)}}function K2(n,e){let s=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function tb(n,e,s,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function w3(n){return n.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Qv(n){let e=w3(n);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function Xv(n,e,s,r=!1){let i;typeof n=="string"?i=gu(n):(i={...n},ns(!i.pathname||!i.pathname.includes("?"),tb("?","pathname","search",i)),ns(!i.pathname||!i.pathname.includes("#"),tb("#","pathname","hash",i)),ns(!i.search||!i.search.includes("#"),tb("#","search","hash",i)));let l=n===""||i.pathname==="",c=l?"/":i.pathname,f;if(c==null)f=s;else{let b=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),b-=1;i.pathname=v.join("/")}f=b>=0?e[b]:"/"}let u=v3(i,f),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(m||g)&&(u.pathname+="/"),u}var bi=n=>n.join("/").replace(/\/\/+/g,"/"),j3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),N3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,_3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,S3=class{constructor(n,e,s,r=!1){this.status=n,this.statusText=e||"",this.internal=r,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function T3(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function k3(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Wk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Yk(n,e){let s=n;if(typeof s!="string"||!b3.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let r=s,i=!1;if(Wk)try{let l=new URL(window.location.href),c=s.startsWith("//")?new URL(l.protocol+s):new URL(s),f=Ni(c.pathname,e);c.origin===l.origin&&f!=null?s=f+c.search+c.hash:i=!0}catch{Or(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Qk=["POST","PUT","PATCH","DELETE"];new Set(Qk);var E3=["GET",...Qk];new Set(E3);var xu=w.createContext(null);xu.displayName="DataRouter";var tx=w.createContext(null);tx.displayName="DataRouterState";var C3=w.createContext(!1),Xk=w.createContext({isTransitioning:!1});Xk.displayName="ViewTransition";var A3=w.createContext(new Map);A3.displayName="Fetchers";var I3=w.createContext(null);I3.displayName="Await";var gr=w.createContext(null);gr.displayName="Navigation";var Gf=w.createContext(null);Gf.displayName="Location";var ua=w.createContext({outlet:null,matches:[],isDataRoute:!1});ua.displayName="Route";var Jv=w.createContext(null);Jv.displayName="RouteError";var Jk="REACT_ROUTER_ERROR",R3="REDIRECT",P3="ROUTE_ERROR_RESPONSE";function D3(n){if(n.startsWith(`${Jk}:${R3}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function O3(n){if(n.startsWith(`${Jk}:${P3}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new S3(e.status,e.statusText,e.data)}catch{}}function M3(n,{relative:e}={}){ns(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=w.useContext(gr),{hash:i,pathname:l,search:c}=Kf(n,{relative:e}),f=l;return s!=="/"&&(f=l==="/"?s:bi([s,l])),r.createHref({pathname:f,search:c,hash:i})}function yu(){return w.useContext(Gf)!=null}function Kn(){return ns(yu(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Gf).location}var Zk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e4(n){w.useContext(gr).static||w.useLayoutEffect(n)}function Us(){let{isDataRoute:n}=w.useContext(ua);return n?Y3():L3()}function L3(){ns(yu(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(xu),{basename:e,navigator:s}=w.useContext(gr),{matches:r}=w.useContext(ua),{pathname:i}=Kn(),l=JSON.stringify(Qv(r)),c=w.useRef(!1);return e4(()=>{c.current=!0}),w.useCallback((u,m={})=>{if(Or(c.current,Zk),!c.current)return;if(typeof u=="number"){s.go(u);return}let g=Xv(u,JSON.parse(l),i,m.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:bi([e,g.pathname])),(m.replace?s.replace:s.push)(g,m.state,m)},[e,s,l,i,n])}w.createContext(null);function Dd(){let{matches:n}=w.useContext(ua),e=n[n.length-1];return e?e.params:{}}function Kf(n,{relative:e}={}){let{matches:s}=w.useContext(ua),{pathname:r}=Kn(),i=JSON.stringify(Qv(s));return w.useMemo(()=>Xv(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function z3(n,e){return t4(n,e)}function t4(n,e,s,r,i){var P;ns(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(gr),{matches:c}=w.useContext(ua),f=c[c.length-1],u=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",b=f&&f.route;{let L=b&&b.path||"";n4(m,!b||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=Kn(),T;if(e){let L=typeof e=="string"?gu(e):e;ns(g==="/"||((P=L.pathname)==null?void 0:P.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),T=L}else T=v;let N=T.pathname||"/",E=N;if(g!=="/"){let L=g.replace(/^\//,"").split("/");E="/"+N.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=Hk(n,{pathname:E});Or(b||k!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Or(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=$3(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},u,L.params),pathname:bi([g,l.encodeLocation?l.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:bi([g,l.encodeLocation?l.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),c,s,r,i);return e&&D?w.createElement(Gf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},D):D}function V3(){let n=W3(),e=T3(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),s?w.createElement("pre",{style:i},s):null,c)}var U3=w.createElement(V3,null),s4=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const s=O3(n.digest);s&&(n=s)}let e=n!==void 0?w.createElement(ua.Provider,{value:this.props.routeContext},w.createElement(Jv.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?w.createElement(F3,{error:n},e):e}};s4.contextType=C3;var sb=new WeakMap;function F3({children:n,error:e}){let{basename:s}=w.useContext(gr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=D3(e.digest);if(r){let i=sb.get(e);if(i)throw i;let l=Yk(r.location,s);if(Wk&&!sb.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw sb.set(e,c),c}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function B3({routeContext:n,match:e,children:s}){let r=w.useContext(xu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(ua.Provider,{value:n},s)}function $3(n,e=[],s=null,r=null,i=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let l=n,c=s==null?void 0:s.errors;if(c!=null){let g=l.findIndex(b=>b.route.id&&(c==null?void 0:c[b.route.id])!==void 0);ns(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,u=-1;if(s)for(let g=0;g<l.length;g++){let b=l[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(u=g),b.route.id){let{loaderData:v,errors:T}=s,N=b.route.loader&&!v.hasOwnProperty(b.route.id)&&(!T||T[b.route.id]===void 0);if(b.route.lazy||N){f=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}let m=s&&r?(g,b)=>{var v,T;r(g,{location:s.location,params:((T=(v=s.matches)==null?void 0:v[0])==null?void 0:T.params)??{},unstable_pattern:k3(s.matches),errorInfo:b})}:void 0;return l.reduceRight((g,b,v)=>{let T,N=!1,E=null,k=null;s&&(T=c&&b.route.id?c[b.route.id]:void 0,E=b.route.errorElement||U3,f&&(u<0&&v===0?(n4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,k=null):u===v&&(N=!0,k=b.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,v+1)),P=()=>{let L;return T?L=E:N?L=k:b.route.Component?L=w.createElement(b.route.Component,null):b.route.element?L=b.route.element:L=g,w.createElement(B3,{match:b,routeContext:{outlet:g,matches:D,isDataRoute:s!=null},children:L})};return s&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?w.createElement(s4,{location:s.location,revalidation:s.revalidation,component:E,error:T,children:P(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:m}):P()},null)}function Zv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q3(n){let e=w.useContext(xu);return ns(e,Zv(n)),e}function H3(n){let e=w.useContext(tx);return ns(e,Zv(n)),e}function G3(n){let e=w.useContext(ua);return ns(e,Zv(n)),e}function ew(n){let e=G3(n),s=e.matches[e.matches.length-1];return ns(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function K3(){return ew("useRouteId")}function W3(){var r;let n=w.useContext(Jv),e=H3("useRouteError"),s=ew("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[s]}function Y3(){let{router:n}=q3("useNavigate"),e=ew("useNavigate"),s=w.useRef(!1);return e4(()=>{s.current=!0}),w.useCallback(async(i,l={})=>{Or(s.current,Zk),s.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...l}))},[n,e])}var W2={};function n4(n,e,s){!e&&!W2[n]&&(W2[n]=!0,Or(!1,s))}w.memo(Q3);function Q3({routes:n,future:e,state:s,onError:r}){return t4(n,void 0,s,r,e)}function sa({to:n,replace:e,state:s,relative:r}){ns(yu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(gr);Or(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(ua),{pathname:c}=Kn(),f=Us(),u=Xv(n,Qv(l),c,r==="path"),m=JSON.stringify(u);return w.useEffect(()=>{f(JSON.parse(m),{replace:e,state:s,relative:r})},[f,m,r,e,s]),null}function Be(n){ns(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function X3({basename:n="/",children:e=null,location:s,navigationType:r="POP",navigator:i,static:l=!1,unstable_useTransitions:c}){ns(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:f,navigator:i,static:l,unstable_useTransitions:c,future:{}}),[f,i,l,c]);typeof s=="string"&&(s=gu(s));let{pathname:m="/",search:g="",hash:b="",state:v=null,key:T="default"}=s,N=w.useMemo(()=>{let E=Ni(m,f);return E==null?null:{location:{pathname:E,search:g,hash:b,state:v,key:T},navigationType:r}},[f,m,g,b,v,T,r]);return Or(N!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:w.createElement(gr.Provider,{value:u},w.createElement(Gf.Provider,{children:e,value:N}))}function tw({children:n,location:e}){return z3(Bb(n),e)}function Bb(n,e=[]){let s=[];return w.Children.forEach(n,(r,i)=>{if(!w.isValidElement(r))return;let l=[...e,i];if(r.type===w.Fragment){s.push.apply(s,Bb(r.props.children,l));return}ns(r.type===Be,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ns(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Bb(r.props.children,l)),s.push(c)}),s}var rg="get",ag="application/x-www-form-urlencoded";function sx(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function J3(n){return sx(n)&&n.tagName.toLowerCase()==="button"}function Z3(n){return sx(n)&&n.tagName.toLowerCase()==="form"}function eP(n){return sx(n)&&n.tagName.toLowerCase()==="input"}function tP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sP(n,e){return n.button===0&&(!e||e==="_self")&&!tP(n)}function $b(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,s)=>{let r=n[s];return e.concat(Array.isArray(r)?r.map(i=>[s,i]):[[s,r]])},[]))}function nP(n,e){let s=$b(n);return e&&e.forEach((r,i)=>{s.has(i)||e.getAll(i).forEach(l=>{s.append(i,l)})}),s}var qp=null;function rP(){if(qp===null)try{new FormData(document.createElement("form"),0),qp=!1}catch{qp=!0}return qp}var aP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nb(n){return n!=null&&!aP.has(n)?(Or(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ag}"`),null):n}function iP(n,e){let s,r,i,l,c;if(Z3(n)){let f=n.getAttribute("action");r=f?Ni(f,e):null,s=n.getAttribute("method")||rg,i=nb(n.getAttribute("enctype"))||ag,l=new FormData(n)}else if(J3(n)||eP(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||f.getAttribute("action");if(r=u?Ni(u,e):null,s=n.getAttribute("formmethod")||f.getAttribute("method")||rg,i=nb(n.getAttribute("formenctype"))||nb(f.getAttribute("enctype"))||ag,l=new FormData(f,n),!rP()){let{name:m,type:g,value:b}=n;if(g==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,b)}}else{if(sx(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=rg,r=null,i=ag,c=n}return l&&i==="text/plain"&&(c=l,l=void 0),{action:r,method:s.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sw(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function oP(n,e,s,r){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&Ni(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function lP(n,e){if(n.id in e)return e[n.id];try{let s=await import(n.module);return e[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function dP(n,e,s){let r=await Promise.all(n.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await lP(l,s);return c.links?c.links():[]}return[]}));return mP(r.flat(1).filter(cP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Y2(n,e,s,r,i,l){let c=(u,m)=>s[m]?u.route.id!==s[m].route.id:!0,f=(u,m)=>{var g;return s[m].pathname!==u.pathname||((g=s[m].route.path)==null?void 0:g.endsWith("*"))&&s[m].params["*"]!==u.params["*"]};return l==="assets"?e.filter((u,m)=>c(u,m)||f(u,m)):l==="data"?e.filter((u,m)=>{var b;let g=r.routes[u.route.id];if(!g||!g.hasLoader)return!1;if(c(u,m)||f(u,m))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((b=s[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function uP(n,e,{includeHydrateFallback:s}={}){return hP(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function hP(n){return[...new Set(n)]}function fP(n){let e={},s=Object.keys(n).sort();for(let r of s)e[r]=n[r];return e}function mP(n,e){let s=new Set;return new Set(e),n.reduce((r,i)=>{let l=JSON.stringify(fP(i));return s.has(l)||(s.add(l),r.push({key:l,link:i})),r},[])}function r4(){let n=w.useContext(xu);return sw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function pP(){let n=w.useContext(tx);return sw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var nw=w.createContext(void 0);nw.displayName="FrameworkContext";function a4(){let n=w.useContext(nw);return sw(n,"You must render this element inside a <HydratedRouter> element"),n}function gP(n,e){let s=w.useContext(nw),[r,i]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:f,onBlur:u,onMouseEnter:m,onMouseLeave:g,onTouchStart:b}=e,v=w.useRef(null);w.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let E=D=>{D.forEach(P=>{c(P.isIntersecting)})},k=new IntersectionObserver(E,{threshold:.5});return v.current&&k.observe(v.current),()=>{k.disconnect()}}},[n]),w.useEffect(()=>{if(r){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[r]);let T=()=>{i(!0)},N=()=>{i(!1),c(!1)};return s?n!=="intent"?[l,v,{}]:[l,v,{onFocus:Oh(f,T),onBlur:Oh(u,N),onMouseEnter:Oh(m,T),onMouseLeave:Oh(g,N),onTouchStart:Oh(b,T)}]:[!1,v,{}]}function Oh(n,e){return s=>{n&&n(s),s.defaultPrevented||e(s)}}function xP({page:n,...e}){let{router:s}=r4(),r=w.useMemo(()=>Hk(s.routes,n,s.basename),[s.routes,n,s.basename]);return r?w.createElement(bP,{page:n,matches:r,...e}):null}function yP(n){let{manifest:e,routeModules:s}=a4(),[r,i]=w.useState([]);return w.useEffect(()=>{let l=!1;return dP(n,e,s).then(c=>{l||i(c)}),()=>{l=!0}},[n,e,s]),r}function bP({page:n,matches:e,...s}){let r=Kn(),{future:i,manifest:l,routeModules:c}=a4(),{basename:f}=r4(),{loaderData:u,matches:m}=pP(),g=w.useMemo(()=>Y2(n,e,m,l,r,"data"),[n,e,m,l,r]),b=w.useMemo(()=>Y2(n,e,m,l,r,"assets"),[n,e,m,l,r]),v=w.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,k=!1;if(e.forEach(P=>{var V;let L=l.routes[P.route.id];!L||!L.hasLoader||(!g.some($=>$.route.id===P.route.id)&&P.route.id in u&&((V=c[P.route.id])!=null&&V.shouldRevalidate)||L.hasClientLoader?k=!0:E.add(P.route.id))}),E.size===0)return[];let D=oP(n,f,i.unstable_trailingSlashAwareDataRequests,"data");return k&&E.size>0&&D.searchParams.set("_routes",e.filter(P=>E.has(P.route.id)).map(P=>P.route.id).join(",")),[D.pathname+D.search]},[f,i.unstable_trailingSlashAwareDataRequests,u,r,l,g,e,n,c]),T=w.useMemo(()=>uP(b,l),[b,l]),N=yP(b);return w.createElement(w.Fragment,null,v.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),T.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),N.map(({key:E,link:k})=>w.createElement("link",{key:E,nonce:s.nonce,...k,crossOrigin:k.crossOrigin??s.crossOrigin})))}function vP(...n){return e=>{n.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var wP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wP&&(window.__reactRouterVersion="7.13.0")}catch{}function jP({basename:n,children:e,unstable_useTransitions:s,window:r}){let i=w.useRef();i.current==null&&(i.current=s3({window:r,v5Compat:!0}));let l=i.current,[c,f]=w.useState({action:l.action,location:l.location}),u=w.useCallback(m=>{s===!1?f(m):w.startTransition(()=>f(m))},[s]);return w.useLayoutEffect(()=>l.listen(u),[l,u]),w.createElement(X3,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:s})}var i4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ue=w.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:i,reloadDocument:l,replace:c,state:f,target:u,to:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:v,...T},N){let{basename:E,unstable_useTransitions:k}=w.useContext(gr),D=typeof m=="string"&&i4.test(m),P=Yk(m,E);m=P.to;let L=M3(m,{relative:i}),[V,$,Q]=gP(r,T),_=TP(m,{replace:c,state:f,target:u,preventScrollReset:g,relative:i,viewTransition:b,unstable_defaultShouldRevalidate:v,unstable_useTransitions:k});function A(z){e&&e(z),z.defaultPrevented||_(z)}let I=w.createElement("a",{...T,...Q,href:P.absoluteURL||L,onClick:P.isExternal||l?e:A,ref:vP(N,$),target:u,"data-discover":!D&&s==="render"?"true":void 0});return V&&!D?w.createElement(w.Fragment,null,I,w.createElement(xP,{page:L})):I});Ue.displayName="Link";var NP=w.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:i=!1,style:l,to:c,viewTransition:f,children:u,...m},g){let b=Kf(c,{relative:m.relative}),v=Kn(),T=w.useContext(tx),{navigator:N,basename:E}=w.useContext(gr),k=T!=null&&IP(b)&&f===!0,D=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,P=v.pathname,L=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;s||(P=P.toLowerCase(),L=L?L.toLowerCase():null,D=D.toLowerCase()),L&&E&&(L=Ni(L,E)||L);const V=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let $=P===D||!i&&P.startsWith(D)&&P.charAt(V)==="/",Q=L!=null&&(L===D||!i&&L.startsWith(D)&&L.charAt(D.length)==="/"),_={isActive:$,isPending:Q,isTransitioning:k},A=$?e:void 0,I;typeof r=="function"?I=r(_):I=[r,$?"active":null,Q?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(_):l;return w.createElement(Ue,{...m,"aria-current":A,className:I,ref:g,style:z,to:c,viewTransition:f},typeof u=="function"?u(_):u)});NP.displayName="NavLink";var _P=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:i,state:l,method:c=rg,action:f,onSubmit:u,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:v,...T},N)=>{let{unstable_useTransitions:E}=w.useContext(gr),k=CP(),D=AP(f,{relative:m}),P=c.toLowerCase()==="get"?"get":"post",L=typeof f=="string"&&i4.test(f),V=$=>{if(u&&u($),$.defaultPrevented)return;$.preventDefault();let Q=$.nativeEvent.submitter,_=(Q==null?void 0:Q.getAttribute("formmethod"))||c,A=()=>k(Q||$.currentTarget,{fetcherKey:e,method:_,navigate:s,replace:i,state:l,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:v});E&&s!==!1?w.startTransition(()=>A()):A()};return w.createElement("form",{ref:N,method:P,action:D,onSubmit:r?u:V,...T,"data-discover":!L&&n==="render"?"true":void 0})});_P.displayName="Form";function SP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o4(n){let e=w.useContext(xu);return ns(e,SP(n)),e}function TP(n,{target:e,replace:s,state:r,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:u}={}){let m=Us(),g=Kn(),b=Kf(n,{relative:l});return w.useCallback(v=>{if(sP(v,e)){v.preventDefault();let T=s!==void 0?s:vf(g)===vf(b),N=()=>m(n,{replace:T,state:r,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});u?w.startTransition(()=>N()):N()}},[g,m,b,s,r,e,n,i,l,c,f,u])}function nx(n){Or(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef($b(n)),s=w.useRef(!1),r=Kn(),i=w.useMemo(()=>nP(r.search,s.current?null:e.current),[r.search]),l=Us(),c=w.useCallback((f,u)=>{const m=$b(typeof f=="function"?f(new URLSearchParams(i)):f);s.current=!0,l("?"+m,u)},[l,i]);return[i,c]}var kP=0,EP=()=>`__${String(++kP)}__`;function CP(){let{router:n}=o4("useSubmit"),{basename:e}=w.useContext(gr),s=K3(),r=n.fetch,i=n.navigate;return w.useCallback(async(l,c={})=>{let{action:f,method:u,encType:m,formData:g,body:b}=iP(l,e);if(c.navigate===!1){let v=c.fetcherKey||EP();await r(v,s,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||u,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||u,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,i,e,s])}function AP(n,{relative:e}={}){let{basename:s}=w.useContext(gr),r=w.useContext(ua);ns(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),l={...Kf(n||".",{relative:e})},c=Kn();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),u=f.getAll("index");if(u.some(g=>g==="")){f.delete("index"),u.filter(b=>b).forEach(b=>f.append("index",b));let g=f.toString();l.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(l.pathname=l.pathname==="/"?s:bi([s,l.pathname])),vf(l)}function IP(n,{relative:e}={}){let s=w.useContext(Xk);ns(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=o4("useViewTransitionState"),i=Kf(n,{relative:e});if(!s.isTransitioning)return!1;let l=Ni(s.currentLocation.pathname,r)||s.currentLocation.pathname,c=Ni(s.nextLocation.pathname,r)||s.nextLocation.pathname;return _g(i.pathname,c)!=null||_g(i.pathname,l)!=null}/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),Q2=n=>{const e=PP(n);return e.charAt(0).toUpperCase()+e.slice(1)},l4=(...n)=>n.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),DP=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:c,...f},u)=>w.createElement("svg",{ref:u,...OP,width:e,height:e,stroke:n,strokeWidth:r?Number(s)*24/Number(e):s,className:l4("lucide",i),...!l&&!DP(f)&&{"aria-hidden":"true"},...f},[...c.map(([m,g])=>w.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(n,e)=>{const s=w.forwardRef(({className:r,...i},l)=>w.createElement(MP,{ref:l,iconNode:e,className:l4(`lucide-${RP(Q2(n))}`,`lucide-${n}`,r),...i}));return s.displayName=Q2(n),s};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Pr=ue("activity",LP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],VP=ue("arrow-down-left",zP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hn=ue("arrow-left",UP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ms=ue("arrow-right",FP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],c4=ue("arrow-up-right",BP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],wf=ue("award",$P);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],HP=ue("ban",qP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],KP=ue("banknote",GP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qb=ue("bell",WP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]],d4=ue("bitcoin",YP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],XP=ue("briefcase",QP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],rb=ue("building-2",JP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],eD=ue("calculator",ZP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ql=ue("calendar",tD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],nD=ue("camera",sD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zl=ue("chart-column",rD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],iD=ue("chart-no-axes-column-increasing",aD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],jf=ue("chart-no-axes-column",oD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rn=ue("check",lD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qa=ue("chevron-down",cD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rw=ue("chevron-left",dD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vc=ue("chevron-right",uD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bu=ue("chevron-up",hD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Lo=ue("circle-alert",fD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yt=ue("circle-check-big",mD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xl=ue("circle-check",pD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],xD=ue("circle-pause",gD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bD=ue("circle-play",yD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wD=ue("circle-question-mark",vD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Jl=ue("circle-x",jD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ps=ue("clock",ND);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],u4=ue("code",_D);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],TD=ue("coins",SD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],ED=ue("cookie",kD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],xn=ue("copy",CD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],ID=ue("cpu",AD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],cn=ue("credit-card",RD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],DD=ue("database",PD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Fa=ue("dollar-sign",OD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],vi=ue("download",MD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zD=ue("earth",LD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Wf=ue("external-link",VD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],h4=ue("eye-off",UD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yf=ue("eye",FD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],$D=ue("facebook",BD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],f4=ue("file-code",qD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Nf=ue("file-text",HD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Io=ue("flame",GD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],WD=ue("folder-plus",KD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],QD=ue("folder",YD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],vu=ue("funnel",XD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],La=ue("gift",JD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Os=ue("globe",ZD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],X2=ue("hash",eO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],m4=ue("history",tO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Zl=ue("info",sO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],rO=ue("instagram",nO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Bd=ue("key",aO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],p4=ue("landmark",iO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ca=ue("layers",oO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],g4=ue("layout-dashboard",lO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],J2=ue("layout-template",cO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],uO=ue("link-2",dO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Hb=ue("link",hO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fs=ue("loader-circle",fO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Un=ue("lock",mO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],x4=ue("log-in",pO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xO=ue("log-out",gO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_i=ue("mail",yO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],zo=ue("map-pin",bO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Gb=ue("megaphone",vO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jO=ue("menu",wO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],_O=ue("message-circle",NO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Mr=ue("message-square",SO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M5 12h14",key:"1ays0h"}]],Z2=ue("minus",TO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],$d=ue("monitor",kO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],CO=ue("moon",EO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],IO=ue("mouse-pointer-2",AO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],Si=ue("mouse-pointer",RO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],DO=ue("octagon-alert",PO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],MO=ue("panels-top-left",OO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],nf=ue("paperclip",LO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],y4=ue("pause",zO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],aw=ue("pen",VO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],FO=ue("pencil",UO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$O=ue("phone",BO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],rx=ue("play",qO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lr=ue("plus",HO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],KO=ue("printer",GO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],iw=ue("radio",WO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],b4=ue("receipt",YO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ko=ue("refresh-cw",QO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],JO=ue("rocket",XO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],eM=ue("rss",ZO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ha=ue("save",tM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Gn=ue("search",sM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],qd=ue("send",nM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],aM=ue("server",rM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ec=ue("settings",iM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ow=ue("share-2",oM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Kb=ue("shield-check",lM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zr=ue("shield",cM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],lw=ue("shopping-cart",dM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],v4=ue("sliders-vertical",uM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ax=ue("smartphone",hM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ix=ue("sparkles",fM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eS=ue("square-check-big",mM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gM=ue("square-pen",pM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],tS=ue("square",xM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Vr=ue("star",yM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],vM=ue("sun",bM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Wb=ue("tag",wM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],tc=ue("target",jM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],w4=ue("terminal",NM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],SM=ue("ticket",_M);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],kM=ue("toggle-left",TM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],CM=ue("toggle-right",EM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],wc=ue("trash-2",AM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],hr=ue("trending-up",IM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dn=ue("triangle-alert",RM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Hl=ue("trophy",PM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],OM=ue("twitter",DM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Sg=ue("upload",MM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zM=ue("user-check",LM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qn=ue("user",VM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ur=ue("users",UM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],j4=ue("wallet",FM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],$M=ue("wrench",BM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],an=ue("x",qM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],GM=ue("youtube",HM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Yt=ue("zap",KM),de=typeof window<"u"?window.location.origin:"",WM="",sS=()=>!1,N4=n=>typeof localStorage<"u"?localStorage.getItem(n):null;let gi=N4("tgp_token");N4("modus_current_user_id");const ve=async(n,e={})=>{const s={"Content-Type":"application/json",...e.headers};gi&&(s.Authorization=`Bearer ${gi}`);const r=await fetch(n,{...e,headers:s});return r.status===401&&(gi=null,localStorage.removeItem("tgp_token"),window.dispatchEvent(new Event("auth-expired"))),r},nS=(n,e=30)=>{const s=[],r=new Map(n.map(i=>[i.date,i]));for(let i=e-1;i>=0;i--){const l=new Date;l.setDate(l.getDate()-i);const c=l.toISOString().split("T")[0],f=r.get(c);s.push(f||{date:c,visitors:0,pageviews:0})}return s},q={init:()=>{console.log("Remote Database Initialized")},getCurrentUser:()=>{try{const n=localStorage.getItem("modus_current_user");return n?JSON.parse(n):void 0}catch(n){console.error("Failed to parse user data from localStorage:",n),localStorage.removeItem("modus_current_user");return}},refreshCurrentUser:async()=>{var n,e;try{const s=await ve(`${de}/users/me`);if(!s.ok){if(s.status===401){q.logout();return}throw new Error("Failed to fetch user")}const r=await s.json(),i={id:r.id,email:r.email,name:r.name||((n=r.email)==null?void 0:n.split("@")[0])||"User",role:r.role,balance:r.balance,balanceEconomy:r.balance_economy,balanceProfessional:r.balance_professional,balanceExpert:r.balance_expert,status:r.status||"active",joinedDate:((e=r.created_at)==null?void 0:e.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:r.projects_count||0,apiKey:r.api_key,isVerified:r.is_verified??!1,phone:r.phone,company:r.company,vatId:r.vat_id,address:r.address,city:r.city,country:r.country,zip:r.zip,website:r.website,displayName:r.display_name,bio:r.bio,jobTitle:r.job_title,publicProfile:r.public_profile,twoFactorEnabled:r.two_factor_enabled,emailFrequency:r.email_frequency,loginNotificationEnabled:r.login_notification_enabled,newsletterSub:r.newsletter_sub,soundEffects:r.sound_effects,developerMode:r.developer_mode,apiWhitelist:r.api_whitelist,webhookSecret:r.webhook_secret,accessibility:r.accessibility,socialLinks:r.social_links,recoveryEmail:r.recovery_email,timezone:r.timezone,language:r.language,themeAccentColor:r.theme_accent_color,dateFormat:r.date_format,numberFormat:r.number_format,requirePasswordReset:r.require_password_reset,avatarUrl:r.avatar_url};return q.setCurrentUser(i),i}catch(s){console.error("Failed to refresh user:",s);return}},setCurrentUser:n=>{n?(localStorage.setItem("modus_current_user",JSON.stringify(n)),localStorage.setItem("modus_current_user_id",n.id),n.id):(localStorage.removeItem("modus_current_user"),localStorage.removeItem("modus_current_user_id"))},logout:()=>{gi=null,localStorage.removeItem("tgp_token"),localStorage.removeItem("modus_current_user"),localStorage.removeItem("modus_current_user_id"),window.localStorage.clear(),window.location.href="/login"},login:async(n,e)=>{var u,m;const s=new URLSearchParams;s.append("username",n),s.append("password",e);const r=await fetch(`${de}/auth/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s});if(!r.ok)throw new Error("Invalid email or password");const i=await r.json();gi=i.access_token,localStorage.setItem("tgp_token",i.access_token);const c=await(await ve(`${de}/users/me`)).json(),f={id:c.id,email:c.email,name:((u=c.email)==null?void 0:u.split("@")[0])||c.name||"User",role:c.role,balance:c.balance,balanceEconomy:c.balance_economy,balanceProfessional:c.balance_professional,balanceExpert:c.balance_expert,status:"active",joinedDate:((m=c.created_at)==null?void 0:m.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:c.projects_count||0,apiKey:c.api_key,isVerified:c.is_verified??!1,phone:c.phone,company:c.company,vatId:c.vat_id,address:c.address,city:c.city,country:c.country,zip:c.zip,website:c.website,displayName:c.display_name,bio:c.bio,jobTitle:c.job_title,publicProfile:c.public_profile,twoFactorEnabled:c.two_factor_enabled,emailFrequency:c.email_frequency,loginNotificationEnabled:c.login_notification_enabled,newsletterSub:c.newsletter_sub,soundEffects:c.sound_effects,developerMode:c.developer_mode,apiWhitelist:c.api_whitelist,webhookSecret:c.webhook_secret,accessibility:c.accessibility,socialLinks:c.social_links,loginHistory:c.login_history,recoveryEmail:c.recovery_email,timezone:c.timezone,language:c.language,themeAccentColor:c.theme_accent_color,skillsBadges:c.skills_badges,referralCode:c.referral_code,supportPin:c.support_pin,dateFormat:c.date_format,numberFormat:c.number_format,requirePasswordReset:c.require_password_reset,gamificationXp:c.gamification_xp,gamificationLevel:c.gamification_level,gamificationTotalSpent:c.gamification_total_spent,gamificationPermanentDiscount:c.gamification_permanent_discount,streakDays:c.streak_days,streakBest:c.streak_best};if(q.setCurrentUser(f),sS()){const g=window.location.pathname+window.location.search,b=`${WM}/sso?token=${encodeURIComponent(i.access_token)}&return=${encodeURIComponent(g)}`;window.location.href=b}return f},validateSsoToken:async n=>{var e,s;try{const r=await fetch(`${de}/auth/validate-sso`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})});if(!r.ok)return{valid:!1};const i=await r.json();if(!i.valid||!i.user)return{valid:!1};const l=i.user;return{valid:!0,user:{id:l.id,email:l.email,name:((e=l.email)==null?void 0:e.split("@")[0])||l.name||"User",role:l.role,balance:l.balance,balanceEconomy:l.balance_economy,balanceProfessional:l.balance_professional,balanceExpert:l.balance_expert,status:"active",joinedDate:((s=l.created_at)==null?void 0:s.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:l.projects_count||0,apiKey:l.api_key,isVerified:l.is_verified??!1,phone:l.phone,company:l.company,vatId:l.vat_id,address:l.address,city:l.city,country:l.country,zip:l.zip,website:l.website,displayName:l.display_name,bio:l.bio,jobTitle:l.job_title,publicProfile:l.public_profile,twoFactorEnabled:l.two_factor_enabled,emailFrequency:l.email_frequency,loginNotificationEnabled:l.login_notification_enabled,newsletterSub:l.newsletter_sub,soundEffects:l.sound_effects,developerMode:l.developer_mode,apiWhitelist:l.api_whitelist,webhookSecret:l.webhook_secret,accessibility:l.accessibility,socialLinks:l.social_links,loginHistory:l.login_history,recoveryEmail:l.recovery_email,timezone:l.timezone,language:l.language,themeAccentColor:l.theme_accent_color,skillsBadges:l.skills_badges,referralCode:l.referral_code,supportPin:l.support_pin,dateFormat:l.date_format,numberFormat:l.number_format,requirePasswordReset:l.require_password_reset,gamificationXp:l.gamification_xp,gamificationLevel:l.gamification_level,gamificationTotalSpent:l.gamification_total_spent,gamificationPermanentDiscount:l.gamification_permanent_discount,streakDays:l.streak_days,streakBest:l.streak_best},token:n}}catch{return{valid:!1}}},register:async(n,e,s)=>{const r=await fetch(`${de}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:e,password:s})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Registration failed")}if(sS())return q.login(e,s);await r.json()},verifyEmail:async n=>{const e=await fetch(`${de}/auth/verify-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n})});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Email verification failed")}return await e.json()},resendVerificationEmail:async n=>{const e=await fetch(`${de}/auth/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Failed to resend verification email")}return await e.json()},forgotPassword:async n=>{const e=await fetch(`${de}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Failed to send reset email")}return await e.json()},resetPassword:async(n,e)=>{const s=await fetch(`${de}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,new_password:e})});if(!s.ok){const r=await s.json();throw new Error(r.detail||"Password reset failed")}return await s.json()},getProjects:()=>{const n=localStorage.getItem("modus_projects_cache");return n?JSON.parse(n):[]},getAdminProjects:()=>{const n=localStorage.getItem("modus_admin_projects_cache");return n?JSON.parse(n):[]},syncProjects:async()=>{try{const n=await ve(`${de}/projects`);if(!n.ok)return;const e=await n.json();let s={};try{const i=await ve(`${de}/projects/stats?days=30`);i.ok&&(s=await i.json())}catch(i){console.error("Failed to fetch project stats:",i)}const r=e.map(i=>({id:i.id,userId:i.user_id,name:i.name,plan:i.plan_type||"Custom",tier:i.tier,status:i.status,startAt:i.start_at,expires:i.expires_at||"Never",createdAt:i.created_at,settings:i.settings,stats:nS(s[i.id]||[],30),totalHits:i.total_hits||0,hitsToday:i.hits_today||0,customTarget:{totalVisitors:i.total_target||0,dailyLimit:i.daily_limit||0}}));localStorage.setItem("modus_projects_cache",JSON.stringify(r))}catch(n){console.error("Failed to sync projects:",n)}},syncProjectStats:async(n,e=30)=>{try{const s=await ve(`${de}/projects/${n}/stats?days=${e}`);return s.ok?await s.json():[]}catch(s){return console.error("Failed to fetch project stats:",s),[]}},syncProjectStatsHourly:async(n,e=24)=>{try{const s=await ve(`${de}/projects/${n}/stats/hourly?hours=${e}`);return s.ok?await s.json():[]}catch(s){return console.error("Failed to fetch hourly project stats:",s),[]}},syncProjectStatsLive:async n=>{try{const e=await ve(`${de}/projects/${n}/stats/live`);return e.ok?await e.json():[]}catch(e){return console.error("Failed to fetch live project stats:",e),[]}},getCalculatedExpiry:async n=>{try{const e=await ve(`${de}/projects/${n}/expires-calculated`);return e.ok?await e.json():{daysRemaining:null,expiresDate:null,balance:0,totalDailyConsumption:0,message:"Failed to calculate"}}catch(e){return console.error("Failed to fetch calculated expiry:",e),{daysRemaining:null,expiresDate:null,balance:0,totalDailyConsumption:0,message:"Error"}}},getActiveNow:async()=>{try{const n=await ve(`${de}/projects/active-now`);return n.ok?await n.json():{activeNow:0,projects:{}}}catch(n){return console.error("Failed to fetch active now:",n),{activeNow:0,projects:{}}}},syncAdminProjects:async()=>{try{const n=await ve(`${de}/admin/projects`);if(!n.ok)return;const e=await n.json();let s={};try{const i=await ve(`${de}/projects/stats?days=30`);i.ok&&(s=await i.json())}catch(i){console.error("Failed to fetch project stats:",i)}const r=e.map(i=>({id:i.id,userId:i.user_id,name:i.name,plan:i.plan_type||"Custom",tier:i.tier,status:i.status,expires:i.expires_at||"Never",createdAt:i.created_at,settings:i.settings,stats:nS(s[i.id]||[],30)}));localStorage.setItem("modus_admin_projects_cache",JSON.stringify(r))}catch(n){console.error("Failed to sync admin projects:",n)}},getProjectById:n=>{let s=q.getProjects().find(r=>r.id===n);return s||(s=q.getAdminProjects().find(i=>i.id===n)),s},addProject:async n=>{var i,l;const e={name:n.name,plan_type:n.plan,tier:n.tier,settings:n.settings,daily_limit:((i=n.customTarget)==null?void 0:i.dailyLimit)||0,total_target:((l=n.customTarget)==null?void 0:l.totalVisitors)||0,start_at:n.startAt||null},s=await ve(`${de}/projects`,{method:"POST",body:JSON.stringify(e)});if(!s.ok){const c=await s.json().catch(()=>({}));throw new Error(c.detail||"Failed to create project")}const r=await s.json();return await q.syncProjects(),r},updateProject:async n=>{var i,l,c;const e=((i=n.settings)==null?void 0:i.scheduleTrafficAmount)||((l=n.customTarget)==null?void 0:l.dailyLimit)||0,s={name:n.name,settings:n.settings,daily_limit:e,total_target:((c=n.customTarget)==null?void 0:c.totalVisitors)||0,status:n.status,tier:n.tier};if(!(await ve(`${de}/projects/${n.id}`,{method:"PUT",body:JSON.stringify(s)})).ok)throw new Error("Failed to update project");return await q.syncProjects(),q.getProjects()},updateProjectStatus:async(n,e)=>(await ve(`${de}/projects/${n}/${e==="active"?"start":"stop"}`,{method:"POST"}),await q.syncProjects(),q.getProjects()),deleteProject:async n=>(await ve(`${de}/projects/${n}`,{method:"DELETE"}),await q.syncProjects(),q.getProjects()),cloneProject:async n=>{if(!(await ve(`${de}/projects/${n}/clone`,{method:"POST"})).ok)throw new Error("Failed to clone project");return await q.syncProjects(),q.getProjects()},bulkUpdateProjectStatus:async(n,e)=>(await Promise.all(n.map(s=>ve(`${de}/projects/${s}/${e==="active"?"start":"stop"}`,{method:"POST"}))),await q.syncProjects(),q.getProjects()),bulkDeleteProjects:async n=>(await Promise.all(n.map(e=>ve(`${de}/projects/${e}`,{method:"DELETE"}))),await q.syncProjects(),q.getProjects()),getBalance:()=>{const n=q.getCurrentUser();return(n==null?void 0:n.balance)??0},syncAll:async()=>{await Promise.all([q.syncProjects(),q.syncTransactions(),q.syncSettings(),q.syncUsers(),q.syncAllTransactions(),q.syncTickets(),q.syncTickets(),q.syncNotifications(),q.syncAlerts()])},getUsers:()=>{const n=localStorage.getItem("modus_users_cache");return n?JSON.parse(n):[]},syncUsers:async()=>{const n=await ve(`${de}/admin/users`);if(!n.ok)return[];const s=(await n.json()).map(r=>{var i;return{id:r.id,email:r.email,name:r.name||r.email.split("@")[0],role:r.role,balance:r.balance,balanceEconomy:r.balance_economy,balanceProfessional:r.balance_professional,balanceExpert:r.balance_expert,status:r.status||"active",joinedDate:((i=r.created_at)==null?void 0:i.split("T")[0])||r.joinedDate||new Date().toISOString().split("T")[0],projectsCount:r.projects_count||0,plan:r.plan||"free",shadowBanned:r.shadow_banned||!1,isVerified:r.is_verified||!1,notes:r.notes||"",tags:r.tags||[],banReason:r.ban_reason||"",lastIp:r.last_ip||"",lastActive:r.last_active||""}});return localStorage.setItem("modus_users_cache",JSON.stringify(s)),s},updateUser:async n=>{const e=q.getUsers(),s=e.findIndex(r=>r.id===n.id);return s>=0&&(e[s]=n,localStorage.setItem("modus_users_cache",JSON.stringify(e))),n},getTransactions:()=>{const n=localStorage.getItem("modus_transactions_cache");return n?JSON.parse(n):[]},syncTransactions:async()=>{const n=await ve(`${de}/transactions`);if(!n.ok)return[];const s=(await n.json()).map(r=>{var i;return{id:r.id,date:((i=r.created_at)==null?void 0:i.split("T")[0])||r.date||new Date().toISOString().split("T")[0],desc:r.description||r.desc,amount:r.amount,status:r.status||"completed",type:r.type,userId:r.user_id||r.userId,tier:r.tier,hits:r.hits,reference:r.reference}});return localStorage.setItem("modus_transactions_cache",JSON.stringify(s)),s},getAllTransactionsAdmin:()=>{const n=localStorage.getItem("modus_admin_transactions_cache");return n?JSON.parse(n):[]},syncAllTransactions:async()=>{const n=await ve(`${de}/admin/transactions`);if(!n.ok)return[];const s=(await n.json()).map(r=>{var i;return{id:r.id,date:((i=r.created_at)==null?void 0:i.split("T")[0])||r.date||new Date().toISOString().split("T")[0],desc:r.description||r.desc,amount:r.amount,status:r.status||"completed",type:r.type,userId:r.user_id||r.userId,tier:r.tier,hits:r.hits,reference:r.reference}});return localStorage.setItem("modus_admin_transactions_cache",JSON.stringify(s)),s},createPaymentIntent:async(n,e="eur")=>{const s=localStorage.getItem("tgp_token");if(!s)throw new Error("Not authenticated");const r=await fetch(`${de}/create-payment-intent`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({amount:n,currency:e})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to create payment intent")}return await r.json()},createCheckoutSession:async n=>{const e=localStorage.getItem("tgp_token");if(!e)throw new Error("Not authenticated");const s=window.location.origin,r=await fetch(`${de}/subscriptions/create-checkout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({price_id:n,success_url:`${s}/dashboard/payment-success?type=subscription&session_id={CHECKOUT_SESSION_ID}`,cancel_url:`${s}/pricing?subscription=cancelled`})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to create checkout session")}return await r.json()},createCreditsCheckout:async n=>{const e=localStorage.getItem("tgp_token");if(!e)throw new Error("Not authenticated");const s=window.location.origin,r=await fetch(`${de}/stripe/create-checkout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({tier:n.tier,visitors:n.visitors,bulk_months:n.bulk_months,currency:n.currency||"eur",success_url:`${s}/dashboard/payment-success?type=credits&session_id={CHECKOUT_SESSION_ID}`,cancel_url:`${s}/dashboard/buy-credits?payment=cancelled`})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to create checkout session")}return await r.json()},createPortalSession:async()=>{const n=localStorage.getItem("tgp_token");if(!n)throw new Error("Not authenticated");const e=window.location.origin,s=await fetch(`${de}/subscriptions/portal`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({return_url:`${e}/dashboard`})});if(!s.ok){const r=await s.json();throw new Error(r.detail||"Failed to create portal session")}return await s.json()},getCurrentSubscription:async()=>{const n=localStorage.getItem("tgp_token");if(!n)throw new Error("Not authenticated");const e=await fetch(`${de}/subscriptions/current`,{headers:{Authorization:`Bearer ${n}`}});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Failed to get subscription")}return await e.json()},purchaseCredits:async(n,e,s,r)=>{const i=q.getCurrentUser();if(!i)return 0;await ve(`${de}/webhooks/deposit`,{method:"POST",body:JSON.stringify({user_email:i.email,amount:n,description:e,tier:s,hits:r})});const c=await(await ve(`${de}/users/me`)).json();return q.setCurrentUser({...i,balance:c.balance,balanceEconomy:c.balance_economy,balanceProfessional:c.balance_professional,balanceExpert:c.balance_expert}),await q.syncTransactions(),c.balance},getTickets:n=>{const e=localStorage.getItem("modus_tickets_cache");let s=e?JSON.parse(e):[];if(n&&(n.status&&(s=s.filter(r=>r.status===n.status)),n.category&&(s=s.filter(r=>r.category===n.category)),n.search)){const r=n.search.toLowerCase();s=s.filter(i=>{var l,c;return i.subject.toLowerCase().includes(r)||((l=i.lastMessage)==null?void 0:l.toLowerCase().includes(r))||((c=i.messages)==null?void 0:c.some(f=>f.text.toLowerCase().includes(r)))})}return s},syncTickets:async n=>{let e=`${de}/tickets`;const s=new URLSearchParams;n!=null&&n.status&&s.append("status",n.status),n!=null&&n.category&&s.append("category",n.category),n!=null&&n.search&&s.append("search",n.search),s.toString()&&(e+=`?${s.toString()}`);const r=await ve(e);if(!r.ok)return;const l=(await r.json()).map(c=>{var f,u,m;return{id:c.id,type:c.type||"ticket",userId:c.user_id,userName:((f=c.user_email)==null?void 0:f.split("@")[0])||"User",subject:c.subject,status:c.status||"open",priority:c.priority||"low",category:c.category||"general",projectId:c.project_id,projectName:c.project_name,attachmentUrls:c.attachment_urls||[],date:((u=c.created_at)==null?void 0:u.split("T")[0])||new Date().toLocaleDateString(),lastMessage:((m=c.messages)==null?void 0:m.length)>0?c.messages[c.messages.length-1].text:"Ticket created",messages:c.messages||[],unread:!1,updatedAt:c.updated_at}});localStorage.setItem("modus_tickets_cache",JSON.stringify(l))},createTicket:async n=>{const e={subject:n.subject,priority:n.priority||"low",type:n.type||"ticket",category:n.category||"general",project_id:n.projectId,attachment_urls:n.attachmentUrls||[],messages:n.messages||[]};return await ve(`${de}/tickets`,{method:"POST",body:JSON.stringify(e)}),await q.syncTickets(),q.getTickets()},closeTicket:async n=>{if(!(await ve(`${de}/tickets/${n}/close`,{method:"POST"})).ok)throw new Error("Failed to close ticket");await q.syncTickets()},uploadTicketAttachment:async n=>{const e=new FormData;e.append("file",n);const s=localStorage.getItem("tgp_token"),r=await fetch(`${de}/tickets/upload`,{method:"POST",headers:s?{Authorization:`Bearer ${s}`}:{},body:e});if(!r.ok)throw new Error("Failed to upload file");return await r.json()},getNotifications:()=>{const n=localStorage.getItem("modus_notifications_cache");return n?JSON.parse(n):[]},syncNotifications:async()=>{const n=await ve(`${de}/notifications`);if(!n.ok)return;const s=(await n.json()).map(r=>{var i;return{id:r.id,userId:r.user_id,title:r.title,message:r.message,date:((i=r.created_at)==null?void 0:i.split("T")[0])||new Date().toLocaleDateString(),read:r.is_read,type:r.type||"info"}});localStorage.setItem("modus_notifications_cache",JSON.stringify(s))},getAdminNotifications:()=>q.getNotifications(),markNotificationRead:async n=>{await ve(`${de}/notifications/${n}/read`,{method:"PUT"}),await q.syncNotifications()},markAllNotificationsRead:async()=>{await ve(`${de}/notifications/mark-all-read`,{method:"PUT"}),await q.syncNotifications()},getSystemSettings:()=>{const n=localStorage.getItem("modus_settings_cache");return n?JSON.parse(n):{siteName:"Traffic Creator",maintenanceMode:!1,allowRegistrations:!0,supportEmail:"support@traffic-creator.com",minDeposit:10}},syncSettings:async()=>{const n=await fetch(`${de}/settings`);if(!n.ok)return;const e=await n.json();localStorage.setItem("modus_settings_cache",JSON.stringify(e.settings))},saveSystemSettings:async n=>{await ve(`${de}/settings`,{method:"PUT",body:JSON.stringify({settings:n})}),localStorage.setItem("modus_settings_cache",JSON.stringify(n))},trackPresence:(n,e)=>{const s=localStorage.getItem("modus_session_token");ve(`${de}/users/presence`,{method:"POST",body:JSON.stringify({session_token:s,current_page:n,user_agent:navigator.userAgent,device:/Mobi|Android/i.test(navigator.userAgent)?"mobile":"desktop"})}).then(r=>r.json()).then(r=>{r.session_token&&localStorage.setItem("modus_session_token",r.session_token)}).catch(()=>{})},getTicketById:n=>q.getTickets().find(s=>s.id===n),replyToTicket:async(n,e,s,r)=>{const i={text:e,sender:s,attachments:r||[]},l=await ve(`${de}/tickets/${n}/reply`,{method:"POST",body:JSON.stringify(i)});if(!l.ok)throw console.error("Failed to reply to ticket"),new Error("Failed to send reply");return await q.syncTickets(),await l.json()},markTicketRead:async n=>{const e=q.getTickets(),s=e.find(r=>r.id===n);s&&(s.unread=!1,localStorage.setItem("modus_tickets_cache",JSON.stringify(e)))},updateTicketStatus:async(n,e)=>{if(!(await ve(`${de}/tickets/${n}`,{method:"PUT",body:JSON.stringify({status:e})})).ok)throw new Error("Failed to update ticket status");await q.syncTickets()},updateTicketPriority:async(n,e)=>{if(!(await ve(`${de}/tickets/${n}`,{method:"PUT",body:JSON.stringify({priority:e})})).ok)throw new Error("Failed to update ticket priority");await q.syncTickets()},deleteTicket:async n=>{if(!(await ve(`${de}/tickets/${n}`,{method:"DELETE"})).ok)throw new Error("Failed to delete ticket");await q.syncTickets()},savePricing:async n=>{const e=q.getSystemSettings();e.pricingPlans=n,await q.saveSystemSettings(e)},updateUserProfile:async n=>{var l,c;console.log("Updating profile on backend:",n);const e={name:n.name,email:n.email,phone:n.phone,company:n.company,vat_id:n.vatId,address:n.address,city:n.city,country:n.country,zip:n.zip,website:n.website,display_name:n.displayName,bio:n.bio,job_title:n.jobTitle,public_profile:n.publicProfile,two_factor_enabled:n.twoFactorEnabled,email_frequency:n.emailFrequency,login_notification_enabled:n.loginNotificationEnabled,newsletter_sub:n.newsletterSub,sound_effects:n.soundEffects,developer_mode:n.developerMode,api_whitelist:n.apiWhitelist,webhook_secret:n.webhookSecret,accessibility:n.accessibility,social_links:n.socialLinks,recovery_email:n.recoveryEmail,timezone:n.timezone,language:n.language,theme_accent_color:n.themeAccentColor,date_format:n.dateFormat,number_format:n.numberFormat,require_password_reset:n.requirePasswordReset},s=await ve(`${de}/users/me`,{method:"PUT",body:JSON.stringify(e)});if(!s.ok){const f=await s.json();throw new Error(f.detail||"Failed to update profile")}const r=await s.json(),i={id:r.id,email:r.email,name:r.name||((l=r.email)==null?void 0:l.split("@")[0])||"User",role:r.role,balance:r.balance,balanceEconomy:r.balance_economy,balanceProfessional:r.balance_professional,balanceExpert:r.balance_expert,status:r.status||"active",joinedDate:((c=r.created_at)==null?void 0:c.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:r.projects_count||0,apiKey:r.api_key,isVerified:r.is_verified??!1,phone:r.phone,company:r.company,vatId:r.vat_id,address:r.address,city:r.city,country:r.country,zip:r.zip,website:r.website,displayName:r.display_name,bio:r.bio,jobTitle:r.job_title,publicProfile:r.public_profile,twoFactorEnabled:r.two_factor_enabled,emailFrequency:r.email_frequency,loginNotificationEnabled:r.login_notification_enabled,newsletterSub:r.newsletter_sub,soundEffects:r.sound_effects,developerMode:r.developer_mode,apiWhitelist:r.api_whitelist,webhookSecret:r.webhook_secret,accessibility:r.accessibility,socialLinks:r.social_links,recoveryEmail:r.recovery_email,timezone:r.timezone,language:r.language,themeAccentColor:r.theme_accent_color,dateFormat:r.date_format,numberFormat:r.number_format,requirePasswordReset:r.require_password_reset,avatarUrl:r.avatar_url};return q.setCurrentUser(i),i},regenerateApiKey:async()=>{const n=await ve(`${de}/auth/api-key`,{method:"POST"});if(!n.ok)throw new Error("Failed to regenerate key");const e=await n.json(),s=q.getCurrentUser();return s&&(s.apiKey=e.api_key,q.setCurrentUser(s)),e.api_key},changePassword:async(n,e,s)=>{const r=await ve(`${de}/auth/password`,{method:"PUT",body:JSON.stringify({current_password:n,new_password:e,confirm_password:s})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Password update failed")}return await r.json()},logoutAllSessions:async()=>{const n=await ve(`${de}/auth/logout-all`,{method:"POST"});if(!n.ok)throw new Error("Failed to logout all sessions");return await n.json()},exportUserData:async()=>{const n=await ve(`${de}/users/me/export`);if(!n.ok)throw new Error("Export failed");return await n.json()},uploadAvatar:async n=>{const e=localStorage.getItem("tgp_token"),s={};e&&(s.Authorization=`Bearer ${e}`);const r=new FormData;r.append("file",n);const i=await fetch(`${de}/users/me/avatar`,{method:"POST",headers:s,body:r});if(!i.ok)throw new Error("Avatar upload failed");const l=await i.json(),c=q.getCurrentUser();return c&&(c.avatarUrl=l.avatar_url,q.setCurrentUser(c)),l.avatar_url},deleteAccount:async()=>{if(!(await ve(`${de}/users/me`,{method:"DELETE"})).ok)throw new Error("Account deletion failed");q.logout()},getPricing:()=>{const n=q.getSystemSettings();return n.pricingPlans&&n.pricingPlans.length>0?n.pricingPlans:[{id:"foundation",name:"Foundation",hourlyRate:.58,baseFee:29,examFee:0},{id:"momentum",name:"Momentum",hourlyRate:.43,baseFee:129,examFee:0},{id:"breakthrough",name:"Breakthrough",hourlyRate:.4,baseFee:399,examFee:0},{id:"apex",name:"Apex",hourlyRate:.33,baseFee:999,examFee:0}]},getAlerts:()=>{const n=localStorage.getItem("modus_alerts_cache");return n?JSON.parse(n):[]},syncAlerts:async()=>{try{const n=await ve(`${de}/admin/broadcasts`);if(!n.ok)return;const s=(await n.json()).map(r=>({id:r.id,message:r.message,type:r.type,active:r.is_active,date:r.created_at,targetType:"all",title:r.title}));localStorage.setItem("modus_alerts_cache",JSON.stringify(s))}catch(n){console.error("Failed to sync alerts:",n)}},checkBroadcastTarget:(n,e)=>{if(!n.active)return!1;if(!e)return n.targetType==="all";switch(n.targetType){case"all":return!0;case"paying":return e.projectsCount>0;case"active_7d":const s=new Date(e.joinedDate).getTime(),r=10080*60*1e3;return Date.now()-s>r;case"specific":return n.targetUserIds?n.targetUserIds.includes(e.id):!1;default:return!1}},getRealTimeVisitors:async()=>{try{const n=await ve(`${de}/admin/active-users`);return n.ok?(await n.json()).map(s=>{var r,i,l;return{id:s.id,userId:(r=s.user)==null?void 0:r.id,name:((i=s.user)==null?void 0:i.name)||"Guest",email:((l=s.user)==null?void 0:l.email)||"",role:s.role,currentPage:s.currentPage,durationMinutes:s.durationMinutes,device:s.device,browser:s.browser,ip:s.ip,location:s.location,totalVisits:s.totalVisits,status:s.status,lastActive:s.lastActive}}):[]}catch(n){return console.error("Failed to fetch real-time visitors:",n),[]}},scanGA4:async n=>{const e=await ve(`${de}/tools/scan-ga4?url=${encodeURIComponent(n)}`);if(!e.ok){const r=await e.json().catch(()=>({}));throw new Error(r.detail||"GA4 ID not found")}return(await e.json()).tid},spendCredits:(n,e)=>{const s=q.getCurrentUser();return!s||s.balance<n?!1:(s.balance-=n,q.setCurrentUser(s),q.purchaseCredits(-n,e).catch(console.error),!0)},getActiveBroadcasts:async()=>{try{const n=await fetch(`${de}/broadcasts/active`);return n.ok?(await n.json()).map(s=>({id:s.id,title:s.title,message:s.message,type:s.type,isActive:s.is_active,createdAt:s.created_at,expiresAt:s.expires_at,actionUrl:s.action_url,actionText:s.action_text})):[]}catch(n){return console.error("Failed to fetch active broadcasts",n),[]}},getAdminBroadcasts:async()=>{try{const n=await ve(`${de}/admin/broadcasts`);return n.ok?(await n.json()).map(s=>({id:s.id,title:s.title,message:s.message,type:s.type,isActive:s.is_active,createdAt:s.created_at,expiresAt:s.expires_at,actionUrl:s.action_url,actionText:s.action_text})):[]}catch(n){return console.error("Failed to fetch admin broadcasts",n),[]}},createBroadcast:async n=>{const e={title:n.title,message:n.message,type:n.type,is_active:n.isActive,expires_at:n.expiresAt?new Date(n.expiresAt).toISOString():null,action_url:n.actionUrl,action_text:n.actionText};await ve(`${de}/admin/broadcasts`,{method:"POST",body:JSON.stringify(e)})},updateBroadcast:async(n,e)=>{const s={title:e.title,message:e.message,type:e.type,is_active:e.isActive,expires_at:e.expiresAt?new Date(e.expiresAt).toISOString():null,action_url:e.actionUrl,action_text:e.actionText};await ve(`${de}/admin/broadcasts/${n}`,{method:"PUT",body:JSON.stringify(s)})},deleteBroadcast:async n=>{await ve(`${de}/admin/broadcasts/${n}`,{method:"DELETE"})},getAdminStats:async()=>{try{const n=await ve(`${de}/admin/stats`);return n.ok?await n.json():null}catch(n){return console.error("Failed to fetch admin stats",n),null}},getCoupons:async()=>{try{const n=await ve(`${de}/admin/coupons`);if(!n.ok)throw new Error("Failed to fetch");return(await n.json()).map(s=>({id:s.id,code:s.code,discountType:s.discount_type,discountValue:s.discount_value,minPurchase:s.min_purchase,maxUses:s.max_uses,usedCount:s.used_count,maxUsesPerUser:s.max_uses_per_user,planRestriction:s.plan_restriction,duration:s.duration,expiryDate:s.expires_at?s.expires_at.split("T")[0]:null,active:s.is_active}))}catch{return[]}},saveCoupon:async n=>{const e={code:n.code,discount_type:n.discountType==="percent"?"percentage":"fixed",discount_value:n.discountValue,min_purchase:n.minPurchase||0,max_uses:n.maxUses,max_uses_per_user:n.maxUsesPerUser||1,plan_restriction:n.planRestriction,duration:n.duration||"once",expires_at:n.expiryDate||null};n.id?await ve(`${de}/admin/coupons/${n.id}`,{method:"PUT",body:JSON.stringify(e)}):await ve(`${de}/admin/coupons`,{method:"POST",body:JSON.stringify(e)})},deleteCoupon:async n=>{await ve(`${de}/admin/coupons/${n}`,{method:"DELETE"})},getMarketingStats:async()=>{try{const n=await ve(`${de}/admin/marketing`);if(!n.ok)throw new Error("Failed to fetch");return(await n.json()).map(s=>({id:s.id,name:s.name,type:s.campaign_type,status:s.status,clicks:s.clicks,conversions:s.conversions,revenue:s.revenue,spend:s.spend,dateCreated:s.created_at?s.created_at.split("T")[0]:new Date().toISOString().split("T")[0]}))}catch{return[]}},createMarketingCampaign:async n=>{await ve(`${de}/admin/marketing`,{method:"POST",body:JSON.stringify({name:n.name,campaign_type:n.type||"ad_tracking",start_date:n.dateCreated||null,end_date:null})})},sendEmailBlast:async(n,e,s="all")=>{await ve(`${de}/admin/email-blast`,{method:"POST",body:JSON.stringify({subject:n,body:e,target_audience:s})})},getConversionSettings:async()=>{try{const n=await ve(`${de}/conversion-settings`);if(!n.ok)throw new Error("Failed to fetch");const e=await n.json();return{socialProof:{enabled:e.socialProofEnabled,position:e.socialProofPosition,delay:e.socialProofDelay,showRealData:e.socialProofShowSimulated,customMessages:[]},exitIntent:{enabled:e.exitIntentEnabled,headline:e.exitIntentHeadline,subtext:e.exitIntentSubtext,couponCode:e.exitIntentCouponCode,showOncePerSession:!0},promoBar:{enabled:e.promoBarEnabled,message:e.promoBarMessage,buttonText:e.promoBarButtonText,buttonLink:e.promoBarButtonUrl,backgroundColor:e.promoBarBackgroundColor,textColor:e.promoBarTextColor}}}catch{return{socialProof:{enabled:!1,position:"bottom-left",delay:5,showRealData:!1,customMessages:[]},exitIntent:{enabled:!1,headline:"Wait! Don't miss out.",subtext:"Get 20% off with code: STAY20",couponCode:"STAY20",showOncePerSession:!0},promoBar:{enabled:!1,message:"Limited Time Offer!",buttonText:"Claim Offer",buttonLink:"/pricing",backgroundColor:"#ff4d00",textColor:"#ffffff"}}}},saveConversionSettings:async n=>{await ve(`${de}/conversion-settings`,{method:"PUT",body:JSON.stringify({social_proof_enabled:n.socialProof.enabled,social_proof_position:n.socialProof.position,social_proof_delay:n.socialProof.delay,social_proof_show_simulated:n.socialProof.showRealData,exit_intent_enabled:n.exitIntent.enabled,exit_intent_headline:n.exitIntent.headline,exit_intent_subtext:n.exitIntent.subtext,exit_intent_coupon_code:n.exitIntent.couponCode,promo_bar_enabled:n.promoBar.enabled,promo_bar_message:n.promoBar.message,promo_bar_button_text:n.promoBar.buttonText,promo_bar_button_url:n.promoBar.buttonLink,promo_bar_background_color:n.promoBar.backgroundColor,promo_bar_text_color:n.promoBar.textColor})})},getLoyaltySettings:async()=>{try{const n=await ve(`${de}/loyalty-settings`);if(!n.ok)throw new Error("Failed to fetch");const e=await n.json();return{enabled:e.enabled,pointsPerDollar:e.pointsPerDollar,redemptionRate:e.redemptionRate,bonusSignupPoints:e.bonusSignupPoints}}catch{return{enabled:!1,pointsPerDollar:1,redemptionRate:100,bonusSignupPoints:50}}},saveLoyaltySettings:async n=>{await ve(`${de}/loyalty-settings`,{method:"PUT",body:JSON.stringify(n)})},getReferralSettings:async()=>{try{const n=await ve(`${de}/referral-settings`);if(!n.ok)throw new Error("Failed to fetch");const e=await n.json();return{enabled:e.enabled,referrerReward:e.referrerRewardValue,refereeReward:e.refereeRewardValue,rewardType:e.referrerRewardType}}catch{return{enabled:!1,referrerReward:25,refereeReward:25,rewardType:"credit"}}},saveReferralSettings:async n=>{await ve(`${de}/referral-settings`,{method:"PUT",body:JSON.stringify({enabled:n.enabled,referrer_reward_type:n.rewardType,referrer_reward_value:n.referrerReward,referee_reward_type:n.rewardType,referee_reward_value:n.refereeReward})})},getBankTransfers:async(n="all")=>{const e=await ve(`${de}/admin/bank-transfers?status_filter=${n}`);return e.ok?await e.json():[]},getMyBankTransfers:async()=>{const n=await ve(`${de}/bank-transfer/my-proofs`);return n.ok?await n.json():[]},getFAQs:async()=>{try{const n=await fetch(`${de}/faqs`);return n.ok?await n.json():[]}catch{return[]}},approveBankTransfer:async(n,e,s)=>{const r=await ve(`${de}/admin/bank-transfers/${n}/approve`,{method:"PUT",body:JSON.stringify({approved:e,admin_notes:s})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to process transfer")}return await r.json()},updateTransaction:async n=>{var r;const e=await ve(`${de}/admin/transactions/${n.id}`,{method:"PUT",body:JSON.stringify({description:n.desc,amount:n.amount,type:n.type,status:n.status,tier:n.tier,reference:n.reference})});if(!e.ok){const i=await e.json();throw new Error(i.detail||"Failed to update transaction")}const s=await e.json();return await q.syncAllTransactions(),{id:s.id,date:((r=s.created_at)==null?void 0:r.split("T")[0])||n.date,desc:s.description||n.desc,amount:s.amount,status:s.status,type:s.type,userId:s.user_id,tier:s.tier,reference:s.reference}},getUserDetails:async n=>{var r;const e=await ve(`${de}/admin/users/${n}/details`);if(!e.ok)throw new Error("Failed to fetch user details");const s=await e.json();return{user:{id:s.user.id,email:s.user.email,role:s.user.role,balance:s.user.balance,balanceEconomy:s.user.balance_economy,balanceProfessional:s.user.balance_professional,balanceExpert:s.user.balance_expert,status:s.user.status,plan:s.user.plan,isVerified:s.user.is_verified,shadowBanned:s.user.shadow_banned,notes:s.user.notes,tags:s.user.tags||[],banReason:s.user.ban_reason,lastIp:s.user.last_ip,joinedDate:(r=s.user.created_at)==null?void 0:r.split("T")[0]},tierBalances:s.tier_balances,totalSpent:s.total_spent,totalHitsPurchased:s.total_hits_purchased,totalHitsUsed:s.total_hits_used,transactionsCount:s.transactions_count,projectsCount:s.projects_count,ticketsCount:s.tickets_count,referralsCount:s.referrals_count,referralEarnings:s.referral_earnings,notificationPrefs:s.notification_prefs}},getUserActivity:async(n,e=50,s=0,r)=>{let i=`${de}/admin/users/${n}/activity?limit=${e}&offset=${s}`;r&&(i+=`&action_type=${r}`);const l=await ve(i);if(!l.ok)throw new Error("Failed to fetch activity");return(await l.json()).map(f=>({id:f.id,userId:f.user_id,actionType:f.action_type,actionDetail:f.action_detail,ipAddress:f.ip_address,userAgent:f.user_agent,createdAt:f.created_at}))},getUserSessions:async n=>{const e=await ve(`${de}/admin/users/${n}/sessions`);if(!e.ok)throw new Error("Failed to fetch sessions");return(await e.json()).map(r=>({id:r.id,userId:r.user_id,ipAddress:r.ip_address,userAgent:r.user_agent,deviceInfo:r.device_info,location:r.location,createdAt:r.created_at,lastActivity:r.last_activity,expiresAt:r.expires_at,isActive:r.is_active}))},terminateUserSession:async(n,e)=>{if(!(await ve(`${de}/admin/users/${n}/sessions/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to terminate session")},getImpersonationLog:async n=>{const e=await ve(`${de}/admin/users/${n}/impersonation-log`);if(!e.ok)throw new Error("Failed to fetch impersonation log");return(await e.json()).map(r=>({id:r.id,adminId:r.admin_id,targetUserId:r.target_user_id,action:r.action,ipAddress:r.ip_address,createdAt:r.created_at,adminEmail:r.admin_email}))},getBalanceAdjustments:async n=>{const e=await ve(`${de}/admin/users/${n}/balance-adjustments`);if(!e.ok)throw new Error("Failed to fetch balance adjustments");return(await e.json()).map(r=>({id:r.id,userId:r.user_id,adminId:r.admin_id,adjustmentType:r.adjustment_type,tier:r.tier,amount:r.amount,hits:r.hits,reason:r.reason,notes:r.notes,createdAt:r.created_at,adminEmail:r.admin_email}))},adjustUserBalance:async(n,e)=>{const s=await ve(`${de}/admin/users/${n}/adjust-balance`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adjustment_type:e.adjustmentType,tier:e.tier,amount:e.amount,hits:e.hits,reason:e.reason,notes:e.notes})});if(!s.ok){let r="Failed to adjust balance";try{r=(await s.json()).detail||r}catch{}throw new Error(r)}},addBonusHits:async(n,e)=>{const s=await ve(`${de}/admin/users/${n}/add-bonus-hits`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){let r="Failed to add bonus hits";try{r=(await s.json()).detail||r}catch{}throw new Error(r)}},getUserEmails:async(n,e=50)=>{const s=await ve(`${de}/admin/users/${n}/emails?limit=${e}`);if(!s.ok)throw new Error("Failed to fetch emails");return(await s.json()).map(i=>({id:i.id,userId:i.user_id,emailType:i.email_type,toEmail:i.to_email,subject:i.subject,status:i.status,errorMessage:i.error_message,sentAt:i.sent_at,deliveredAt:i.delivered_at}))},getUserReferrals:async n=>{const e=await ve(`${de}/admin/users/${n}/referrals`);if(!e.ok)throw new Error("Failed to fetch referrals");const s=await e.json();return{referrals:(s.referrals||[]).map(r=>({id:r.id,email:r.email,name:r.name,status:r.status,createdAt:r.created_at,totalSpent:r.total_spent,earningsFromRef:r.earnings_from_ref})),totalReferrals:s.total_referrals,totalEarnings:s.total_earnings}},getUserNotificationPrefs:async n=>{const e=await ve(`${de}/admin/users/${n}/notification-prefs`);if(!e.ok)throw new Error("Failed to fetch notification prefs");const s=await e.json();return{id:s.id,userId:s.user_id,emailMarketing:s.email_marketing,emailTransactional:s.email_transactional,emailAlerts:s.email_alerts,browserNotifications:s.browser_notifications,newsletterSub:s.newsletter_sub,emailFrequency:s.email_frequency,updatedAt:s.updated_at}},updateUserNotificationPrefs:async(n,e)=>{if(!(await ve(`${de}/admin/users/${n}/notification-prefs`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to update notification prefs")},sendPasswordReset:async n=>{if(!(await ve(`${de}/admin/users/${n}/send-password-reset`,{method:"POST"})).ok)throw new Error("Failed to send password reset")},resendVerification:async n=>{if(!(await ve(`${de}/admin/users/${n}/resend-verification`,{method:"POST"})).ok)throw new Error("Failed to resend verification")},adminRegenerateApiKey:async n=>{const e=await ve(`${de}/admin/users/${n}/regenerate-api-key`,{method:"POST"});if(!e.ok)throw new Error("Failed to regenerate API key");return(await e.json()).api_key},startImpersonation:async n=>{const e=await ve(`${de}/admin/impersonate/${n}`,{method:"POST"});if(!e.ok)throw new Error("Failed to start impersonation");const s=await e.json();gi&&localStorage.setItem("tgp_admin_token",gi),localStorage.setItem("tgp_token",s.token),gi=s.token;const r=await ve(`${de}/users/me`);if(!r.ok)throw new Error("Failed to fetch impersonated user details");const i=await r.json(),l={id:i.id,email:i.email,name:i.name||i.email.split("@")[0],role:i.role,balance:i.balance,balanceEconomy:i.balance_economy,balanceProfessional:i.balance_professional,balanceExpert:i.balance_expert,status:i.status,plan:i.plan,isVerified:i.is_verified,shadowBanned:i.shadow_banned,notes:i.notes,tags:i.tags,banReason:i.ban_reason,createdAt:i.created_at,joinedDate:i.created_at||new Date().toISOString(),projectsCount:0,lastIp:i.last_ip,lastActive:i.last_active,phone:i.phone,company:i.company,vatId:i.vat_id,address:i.address,city:i.city,country:i.country,zip:i.zip,website:i.website,displayName:i.display_name,bio:i.bio,jobTitle:i.job_title,publicProfile:i.public_profile,twoFactorEnabled:i.two_factor_enabled,emailFrequency:i.email_frequency,loginNotificationEnabled:i.login_notification_enabled,newsletterSub:i.newsletter_sub,soundEffects:i.sound_effects,developerMode:i.developer_mode,apiWhitelist:i.api_whitelist,webhookSecret:i.webhook_secret,accessibility:i.accessibility,socialLinks:i.social_links,recoveryEmail:i.recovery_email,timezone:i.timezone,language:i.language,themeAccentColor:i.theme_accent_color,dateFormat:i.date_format,numberFormat:i.number_format,requirePasswordReset:i.require_password_reset};q.setCurrentUser(l)},stopImpersonation:async()=>{const n=localStorage.getItem("tgp_admin_token");if(!n)throw new Error("No admin session found");localStorage.setItem("tgp_token",n),gi=n,localStorage.removeItem("tgp_admin_token");const e=await ve(`${de}/users/me`);if(!e.ok)throw new Error("Failed to restore admin user details");const s=await e.json(),r={id:s.id,email:s.email,name:s.name||s.email.split("@")[0],role:s.role,balance:s.balance,balanceEconomy:s.balance_economy,balanceProfessional:s.balance_professional,balanceExpert:s.balance_expert,status:s.status,plan:s.plan,isVerified:s.is_verified,shadowBanned:s.shadow_banned,notes:s.notes,tags:s.tags,banReason:s.ban_reason,createdAt:s.created_at,joinedDate:s.created_at||new Date().toISOString(),projectsCount:0,lastIp:s.last_ip,lastActive:s.last_active};q.setCurrentUser(r)},adminExportUserData:async n=>{const e=await ve(`${de}/admin/users/${n}/export`);if(!e.ok)throw new Error("Failed to export user data");return e.json()},getUserTransactions:async n=>{const e=await ve(`${de}/transactions`);return e.ok?(await e.json()).filter(i=>i.user_id===n).map(i=>{var l;return{id:i.id,date:((l=i.created_at)==null?void 0:l.split("T")[0])||new Date().toISOString().split("T")[0],desc:i.description||"",amount:i.amount,status:i.status||"completed",type:i.type,userId:i.user_id,tier:i.tier,hits:i.hits,reference:i.reference}}):[]},getUserProjects:async n=>{const e=await ve(`${de}/admin/projects`);return e.ok?(await e.json()).filter(i=>i.user_id===n).map(i=>{var l;return{id:i.id,userId:i.user_id,name:i.name,plan:i.plan_type||"Custom",tier:i.tier,status:i.status,customTarget:{totalVisitors:i.total_target||0,durationDays:30,dailyLimit:i.daily_limit||0},expires:((l=i.expires_at)==null?void 0:l.split("T")[0])||"",createdAt:i.created_at,settings:i.settings}}):[]},getUserTickets:async n=>{const e=await ve(`${de}/tickets`);return e.ok?(await e.json()).filter(i=>i.user_id===n).map(i=>{var l,c;return{id:i.id,type:i.type||"ticket",userId:i.user_id,userName:"",subject:i.subject,status:i.status||"open",priority:i.priority||"low",date:((l=i.created_at)==null?void 0:l.split("T")[0])||"",lastMessage:((c=i.messages)==null?void 0:c.length)>0?i.messages[i.messages.length-1].text:"",messages:i.messages||[],unread:!1}}):[]},adminUpdateUser:async(n,e)=>{if(!(await ve(`${de}/admin/users/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to update user")},updateUserStatus:async(n,e)=>(await q.adminUpdateUser(n,{status:e}),q.getUsers()),adminAdjustBalance:async(n,e,s,r)=>{await q.adjustUserBalance(n,{adjustmentType:s,tier:"general",amount:e,reason:r})},createAlert:async(n,e,s="System Alert")=>{const r={title:s,message:n,type:e,is_active:!0};await ve(`${de}/admin/broadcasts`,{method:"POST",body:JSON.stringify(r)}),await q.syncAlerts()},toggleAlert:async(n,e)=>{const r=q.getAlerts().find(l=>l.id===n);if(!r)return;const i={title:r.title||"System Alert",message:r.message,type:r.type,is_active:e};await ve(`${de}/admin/broadcasts/${n}`,{method:"PUT",body:JSON.stringify(i)}),await q.syncAlerts()},deleteAlert:async n=>{await ve(`${de}/admin/broadcasts/${n}`,{method:"DELETE"}),await q.syncAlerts()},getBenefitTypes:async()=>{const n=await ve(`${de}/benefits/types`);return n.ok?(await n.json()).map(s=>({id:s.id,type:s.type,category:s.category,name:s.name,value:s.value,requirements:s.requirements,active:s.active,displayOrder:s.display_order})):[]},getMyBenefitRequests:async n=>{const e=n?`${de}/benefits/my-requests?status=${n}`:`${de}/benefits/my-requests`,s=await ve(e);return s.ok?(await s.json()).map(i=>({id:i.id,userId:i.user_id,benefitType:i.benefit_type,benefitCategory:i.benefit_category,url:i.url,description:i.description,screenshotUrl:i.screenshot_url,claimedValue:i.claimed_value,approvedValue:i.approved_value,status:i.status,adminNotes:i.admin_notes,fraudFlagged:i.fraud_flagged,fraudReason:i.fraud_reason,submittedAt:i.submitted_at,reviewedAt:i.reviewed_at,reviewedBy:i.reviewed_by})):[]},getBenefitBalance:async()=>{const n=await ve(`${de}/benefits/balance`);if(!n.ok)return{benefitBalance:0,totalBenefitsClaimed:0,pendingRequests:0,approvedRequests:0,rejectedRequests:0};const e=await n.json();return{benefitBalance:e.benefit_balance,totalBenefitsClaimed:e.total_benefits_claimed,pendingRequests:e.pending_requests,approvedRequests:e.approved_requests,rejectedRequests:e.rejected_requests}},submitBenefit:async n=>{const e=await ve(`${de}/benefits/submit`,{method:"POST",body:JSON.stringify(n)});if(!e.ok){const r=await e.json();throw new Error(r.detail||"Failed to submit benefit")}const s=await e.json();return{id:s.id,userId:s.user_id,benefitType:s.benefit_type,benefitCategory:s.benefit_category,url:s.url,description:s.description,screenshotUrl:s.screenshot_url,claimedValue:s.claimed_value,approvedValue:s.approved_value,status:s.status,adminNotes:s.admin_notes,fraudFlagged:s.fraud_flagged,fraudReason:s.fraud_reason,submittedAt:s.submitted_at,reviewedAt:s.reviewed_at,reviewedBy:s.reviewed_by}},getAffiliateDashboard:async()=>{const n=await ve(`${de}/affiliate/dashboard`);if(!n.ok)throw new Error("Failed to fetch affiliate dashboard");const e=await n.json();return{tier:{id:e.tier.id,userId:e.tier.user_id,tierLevel:e.tier.tier_level,tierName:e.tier.tier_name,commissionRateL1:e.tier.commission_rate_l1,commissionRateL2:e.tier.commission_rate_l2,commissionRateL3:e.tier.commission_rate_l3,totalReferralsL1:e.tier.total_referrals_l1,totalReferralsL2:e.tier.total_referrals_l2,totalReferralsL3:e.tier.total_referrals_l3,totalEarnings:e.tier.total_earnings,pendingPayout:e.tier.pending_payout,lifetimePayout:e.tier.lifetime_payout,lastTierUpdate:e.tier.last_tier_update},relations:e.relations.map(s=>({id:s.id,userId:s.user_id,referrerL1Id:s.referrer_l1_id,referrerL2Id:s.referrer_l2_id,referrerL3Id:s.referrer_l3_id})),referralLink:e.referral_link,totalReferrals:e.total_referrals,totalEarnings:e.total_earnings,pendingPayout:e.pending_payout,benefitBalance:e.benefit_balance}},getAffiliateTier:async()=>{const n=await ve(`${de}/affiliate/tier`);if(!n.ok)throw new Error("Failed to fetch affiliate tier");const e=await n.json();return{id:e.id,userId:e.user_id,tierLevel:e.tier_level,tierName:e.tier_name,commissionRateL1:e.commission_rate_l1,commissionRateL2:e.commission_rate_l2,commissionRateL3:e.commission_rate_l3,totalReferralsL1:e.total_referrals_l1,totalReferralsL2:e.total_referrals_l2,totalReferralsL3:e.total_referrals_l3,totalEarnings:e.total_earnings,pendingPayout:e.pending_payout,lifetimePayout:e.lifetime_payout,lastTierUpdate:e.last_tier_update}},getAffiliateReferrals:async(n=1)=>{const e=await ve(`${de}/affiliate/referrals?tier=${n}`);return e.ok?await e.json():[]},requestPayout:async n=>{const e=await ve(`${de}/affiliate/payouts/request`,{method:"POST",body:JSON.stringify(n)});if(!e.ok){const r=await e.json();throw new Error(r.detail||"Failed to request payout")}const s=await e.json();return{id:s.id,userId:s.user_id,amount:s.amount,method:s.method,payoutDetails:s.payout_details,status:s.status,adminNotes:s.admin_notes,requestedAt:s.requested_at,processedAt:s.processed_at,processedBy:s.processed_by,transactionHash:s.transaction_hash}},getMyPayouts:async()=>{const n=await ve(`${de}/affiliate/payouts`);return n.ok?(await n.json()).map(s=>({id:s.id,userId:s.user_id,amount:s.amount,method:s.method,payoutDetails:s.payout_details,status:s.status,adminNotes:s.admin_notes,requestedAt:s.requested_at,processedAt:s.processed_at,processedBy:s.processed_by,transactionHash:s.transaction_hash})):[]},getPendingBenefits:async()=>{const n=await ve(`${de}/admin/benefits/pending`);return n.ok?await n.json():[]},getBenefitsHistory:async n=>{const e=n?`${de}/admin/benefits/history?status=${n}`:`${de}/admin/benefits/history`,s=await ve(e);return s.ok?await s.json():[]},approveBenefit:async(n,e,s)=>{if(!(await ve(`${de}/admin/benefits/${n}/approve`,{method:"POST",body:JSON.stringify({approved_value:e,status:"approved",admin_notes:s})})).ok)throw new Error("Failed to approve benefit")},rejectBenefit:async(n,e,s=!1,r)=>{if(!(await ve(`${de}/admin/benefits/${n}/reject`,{method:"POST",body:JSON.stringify({status:"rejected",admin_notes:e,fraud_flagged:s,fraud_reason:r})})).ok)throw new Error("Failed to reject benefit")},getPendingPayouts:async()=>{const n=await ve(`${de}/admin/payouts/pending`);return n.ok?await n.json():[]},approvePayout:async(n,e)=>{if(!(await ve(`${de}/admin/payouts/${n}/approve`,{method:"POST",body:JSON.stringify({status:"approved",admin_notes:e})})).ok)throw new Error("Failed to approve payout")},rejectPayout:async(n,e)=>{if(!(await ve(`${de}/admin/payouts/${n}/reject`,{method:"POST",body:JSON.stringify({status:"rejected",admin_notes:e})})).ok)throw new Error("Failed to reject payout")},markPayoutPaid:async(n,e,s)=>{if(!(await ve(`${de}/admin/payouts/${n}/mark-paid`,{method:"POST",body:JSON.stringify({status:"paid",transaction_hash:e,admin_notes:s})})).ok)throw new Error("Failed to mark payout as paid")},getAllAffiliates:async()=>{const n=await ve(`${de}/admin/affiliates`);return n.ok?await n.json():[]},updateAffiliateTier:async(n,e)=>{if(!(await ve(`${de}/admin/affiliates/${n}/tier-update`,{method:"POST",body:JSON.stringify({tier_level:e})})).ok)throw new Error("Failed to update affiliate tier")}},_4=({menuSections:n,currentView:e,onNavigate:s,onLogout:r})=>{var c;const[i,l]=w.useState(()=>q.getCurrentUser());return w.useEffect(()=>{const f=q.getCurrentUser();f&&l(f)},[]),t.jsxs("aside",{className:"w-64 bg-[#111111] text-white flex flex-col h-screen fixed left-0 top-0 z-20 hidden md:flex border-r border-gray-800 shadow-xl",children:[t.jsxs("div",{className:"p-8 pb-10 flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-[#ff4d00] flex items-center justify-center",children:t.jsx("span",{className:"font-black text-black text-lg",children:"T"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-black text-white tracking-tighter leading-none",children:"TRAFFIC"}),t.jsx("p",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-widest mt-0.5",children:"Bot OS"})]})]}),t.jsx("nav",{className:"flex-1 overflow-y-auto px-4 custom-scrollbar",children:t.jsx("div",{className:"space-y-6",children:n.map((f,u)=>t.jsx("div",{className:u>0?"pt-6 border-t border-gray-800/50":"",children:t.jsx("ul",{className:"space-y-1",children:f.items.map(m=>{const g=e===m.id;return t.jsx("li",{children:t.jsxs("button",{onClick:()=>s(m.id),className:`w-full group flex items-center justify-between px-4 py-3.5 text-[11px] font-bold uppercase tracking-widest transition-all duration-200 rounded-sm
                          ${g?"bg-[#ff4d00] text-white shadow-[0_0_15px_rgba(255,77,0,0.3)]":"text-gray-400 hover:bg-[#1a1a1a] hover:text-white"}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[m.icon&&t.jsx("span",{className:g?"text-white":"text-gray-600 group-hover:text-[#ff4d00]",children:m.icon}),t.jsx("span",{children:m.label})]}),g&&t.jsx(vc,{size:14,className:"animate-in slide-in-from-left-2"})]})},m.id)})})},u))})}),t.jsxs("div",{className:"p-4 border-t border-gray-800 bg-[#0a0a0a] space-y-4",children:[i&&t.jsxs("div",{className:"px-4 py-2 bg-[#1a1a1a] rounded-sm border border-gray-800/50",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(qn,{size:12,className:"text-[#ff4d00]"}),t.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-tighter truncate",children:i.email})]}),t.jsxs("div",{className:"text-[9px] font-mono text-gray-500 truncate",title:i.id,children:["ID: ",((c=i.id)==null?void 0:c.substring(0,8).toUpperCase())||"N/A"]})]}),t.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 py-3 border border-gray-800 text-[11px] font-bold text-gray-400 uppercase tracking-widest hover:text-[#ff4d00] hover:border-[#ff4d00] hover:bg-[#111] transition-all rounded-sm",children:[t.jsx(xO,{size:14}),t.jsx("span",{children:"Logout"})]})]})]})},S4=({title:n,onMobileMenuClick:e,isAdmin:s=!1})=>{const[r,i]=w.useState(!1),[l,c]=w.useState([]),f=Us(),u=Kn(),m=!s&&(u.pathname==="/dashboard"||u.pathname==="/dashboard/campaigns"||u.pathname.startsWith("/dashboard/campaigns")||u.pathname==="/dashboard/buy-credits"||u.pathname==="/dashboard/balance");w.useEffect(()=>{const E=async()=>{try{const D=await(s?q.getAdminNotifications():q.getNotifications());c(D)}catch(D){console.error("Failed to fetch notifications:",D)}};E();const k=setInterval(E,1e4);return()=>clearInterval(k)},[s]);const g=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),b=l.filter(E=>!E.read).length,v=async E=>{await q.markNotificationRead(E),c(k=>k.map(D=>D.id===E?{...D,read:!0}:D))},T=async()=>{await q.markAllNotificationsRead(),c(E=>E.map(k=>({...k,read:!0})))},N=E=>{switch(E){case"success":return t.jsx(yt,{size:16,className:"text-green-500"});case"warning":return t.jsx(dn,{size:16,className:"text-orange-500"});default:return t.jsx(Zl,{size:16,className:"text-blue-500"})}};return t.jsxs("header",{className:"bg-white h-20 px-8 flex items-center justify-between sticky top-0 z-20 shadow-sm md:shadow-none relative",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:bg-gray-100 rounded-md",onClick:e,children:t.jsx(jO,{size:24})}),t.jsx("h2",{className:"text-xl font-black tracking-wide text-gray-900 uppercase",children:n})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[m&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>f("/dashboard/buy-credits"),className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 shadow-md border border-gray-800",children:[t.jsx(lw,{size:16}),t.jsx("span",{className:"hidden sm:inline",children:"Buy Traffic"}),t.jsx("span",{className:"sm:hidden",children:"Traffic"})]}),t.jsxs("button",{onClick:()=>f("/dashboard/campaigns/new"),className:"bg-[#ff4d00] text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#e64500] transition-colors flex items-center gap-2 shadow-md",children:[t.jsx(Lr,{size:16}),t.jsx("span",{className:"hidden sm:inline",children:"Create a Project"}),t.jsx("span",{className:"sm:hidden",children:"Create"})]})]}),t.jsxs("div",{className:"relative cursor-pointer",children:[t.jsxs("button",{onClick:()=>i(!r),className:"relative p-1",children:[t.jsx(qb,{className:b>0?"text-[#ff4d00]":"text-gray-400",size:22,strokeWidth:2}),b>0&&t.jsx("span",{className:"absolute top-0 right-0 block h-2.5 w-2.5 rounded-full ring-2 ring-white bg-red-600 transform translate-x-1/4 -translate-y-1/4 animate-pulse"})]}),r&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>i(!1)}),t.jsxs("div",{className:"absolute right-0 top-full mt-4 w-80 bg-white border border-gray-200 shadow-xl z-40 animate-in fade-in slide-in-from-top-2 rounded-sm overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[t.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:["Notifications (",b,")"]}),b>0&&t.jsx("button",{onClick:T,className:"text-[10px] font-bold text-[#ff4d00] uppercase hover:underline",children:"Mark all read"})]}),t.jsx("div",{className:"max-h-80 overflow-y-auto",children:l.length===0?t.jsx("div",{className:"p-8 text-center text-xs text-gray-400",children:"No notifications"}):l.map(E=>t.jsx("div",{className:`p-4 border-b border-gray-50 hover:bg-gray-50 transition-colors ${E.read?"":"bg-orange-50/30"}`,children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"mt-1 flex-shrink-0",children:N(E.type)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsx("h4",{className:`text-xs font-bold ${E.read?"text-gray-500":"text-gray-900"}`,children:E.title}),!E.read&&t.jsx("button",{onClick:()=>v(E.id),className:"text-gray-300 hover:text-[#ff4d00]",children:t.jsx(rn,{size:12})})]}),t.jsx("p",{className:"text-[11px] text-gray-500 mt-1 leading-relaxed",children:E.message}),t.jsx("div",{className:"text-[9px] text-gray-300 mt-2 font-mono",children:E.date})]})]})},E.id))})]})]})]}),t.jsx("div",{className:"hidden md:block w-px h-8 bg-gray-200"}),t.jsx("div",{className:"text-sm font-medium text-gray-500 tracking-wide hidden md:block",children:g})]})]})},YM=()=>{const[n,e]=w.useState([]);w.useEffect(()=>{const r=async()=>{const l=await q.getActiveBroadcasts(),c=JSON.parse(localStorage.getItem("dismissed_broadcasts")||"[]");e(l.filter(f=>!c.includes(f.id)))};r();const i=setInterval(r,6e4);return()=>clearInterval(i)},[]);const s=r=>{const i=JSON.parse(localStorage.getItem("dismissed_broadcasts")||"[]");i.includes(r)||(i.push(r),localStorage.setItem("dismissed_broadcasts",JSON.stringify(i))),e(n.filter(l=>l.id!==r))};return n.length===0?null:t.jsx("div",{className:"flex flex-col w-full z-50 sticky top-0",children:n.map(r=>t.jsx("div",{className:`w-full px-4 py-3 flex items-center justify-between shadow-sm relative animate-in slide-in-from-top duration-300 ${r.type==="critical"?"bg-red-600 text-white":r.type==="warning"?"bg-orange-500 text-white":r.type==="success"?"bg-green-600 text-white":"bg-blue-600 text-white"}`,children:t.jsxs("div",{className:"flex items-center gap-3 container max-w-screen-2xl mx-auto px-6 md:px-12",children:[r.type==="critical"&&t.jsx(Jl,{size:20}),r.type==="warning"&&t.jsx(dn,{size:20}),r.type==="success"&&t.jsx(yt,{size:20}),r.type==="info"&&t.jsx(Zl,{size:20}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-1 md:gap-3 flex-1",children:[t.jsx("span",{className:"font-black uppercase tracking-wider text-xs",children:r.title}),t.jsx("span",{className:"hidden md:inline w-1 h-1 bg-white rounded-full opacity-50"}),t.jsx("span",{className:"font-medium text-sm",children:r.message}),r.actionUrl&&t.jsx("a",{href:r.actionUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 bg-white text-black text-[10px] font-black uppercase tracking-widest rounded-sm hover:bg-gray-100 transition-colors ml-0 md:ml-4 self-start md:self-auto",children:r.actionText||"Read More"})]}),t.jsx("button",{onClick:()=>s(r.id),className:"text-white/80 hover:text-white transition-colors p-1",children:t.jsx(an,{size:18})})]})},r.id))})},QM=({email:n,onDismiss:e,onVerified:s})=>{const[r,i]=w.useState(!1),[l,c]=w.useState(!1),[f,u]=w.useState(""),[m,g]=w.useState(!1),[b,v]=w.useState(["","","",""]),[T,N]=w.useState("idle"),[E,k]=w.useState(""),D=w.useRef([]);if(m)return null;const P=async()=>{i(!0),u("");try{await q.resendVerificationEmail(n),c(!0)}catch(I){u(I.message||"Failed to send email")}finally{i(!1)}},L=()=>{g(!0),e&&e()},V=(I,z)=>{var F;if(!/^\d*$/.test(z))return;const O=[...b];O[I]=z.slice(-1),v(O),z&&I<3&&((F=D.current[I+1])==null||F.focus()),O.every(R=>R!=="")&&O.join("").length===4&&_(O.join(""))},$=(I,z)=>{var O;z.key==="Backspace"&&!b[I]&&I>0&&((O=D.current[I-1])==null||O.focus())},Q=I=>{I.preventDefault();const z=I.clipboardData.getData("text").replace(/\D/g,"").slice(0,4),O=[...b];z.split("").forEach((F,R)=>{R<4&&(O[R]=F)}),v(O),O.every(F=>F!=="")&&_(O.join(""))},_=async I=>{N("loading"),k("");try{await q.verifyEmail(I),N("success"),k("Email verified successfully!"),s&&s(),setTimeout(()=>{g(!0)},2e3)}catch(z){N("error"),k(z.message||"Invalid code. Please try again."),v(["","","",""]),setTimeout(()=>{var O;(O=D.current[0])==null||O.focus()},100)}},A=()=>{var I;v(["","","",""]),N("idle"),k(""),(I=D.current[0])==null||I.focus()};return T==="success"?t.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center justify-center py-3 gap-3",children:[t.jsx(yt,{className:"shrink-0",size:20}),t.jsx("p",{className:"text-sm font-bold",children:E})]})})}):t.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[t.jsx(dn,{className:"shrink-0",size:20}),t.jsx("div",{className:"flex-1",children:t.jsx("p",{className:"text-sm font-bold",children:l?"Verification email sent! Check your inbox.":"Please verify your email address to create projects."})})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[t.jsx("div",{className:"flex gap-1.5",children:b.map((I,z)=>t.jsx("input",{ref:O=>{D.current[z]=O},type:"text",inputMode:"numeric",maxLength:1,value:I,onChange:O=>V(z,O.target.value),onKeyDown:O=>$(z,O),onPaste:z===0?Q:void 0,disabled:T==="loading",className:"w-9 h-10 text-center text-lg font-bold border-2 border-white/40 rounded-lg focus:border-white focus:outline-none bg-white/20 text-white placeholder-white/50 disabled:opacity-50",placeholder:"0"},z))}),T==="loading"&&t.jsx(fs,{className:"animate-spin",size:18}),T==="error"&&t.jsxs("button",{onClick:A,className:"flex items-center gap-1 bg-red-500/80 hover:bg-red-600 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors",children:[t.jsx(Jl,{size:14})," Retry"]}),T==="idle"&&t.jsx("button",{onClick:P,disabled:r,className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wider transition-colors disabled:opacity-50",children:r?t.jsxs(t.Fragment,{children:[t.jsx(fs,{className:"animate-spin",size:14})," Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(_i,{size:14})," Resend"]})}),t.jsx("button",{onClick:L,className:"p-1 hover:bg-white/20 rounded transition-colors","aria-label":"Dismiss",children:t.jsx(an,{size:16})})]})]}),f&&t.jsx("div",{className:"pt-2 text-xs font-medium text-white/90",children:f}),T==="error"&&E&&t.jsx("div",{className:"pt-2 text-xs font-medium text-white/90",children:E})]})})},XM=({projects:n,onUpdate:e,onNavigateToProject:s,onAddProject:r})=>{const[i,l]=w.useState(""),[c,f]=w.useState(""),[u,m]=w.useState(""),[g,b]=w.useState("all"),[v,T]=w.useState({start:"",end:""}),[N,E]=w.useState(1),k=10,[D,P]=w.useState([]),[L,V]=w.useState(null),$=U=>{switch(U){case"completed":return"bg-gray-900 text-white";case"active":return"bg-[#ff4d00] text-white";case"stopped":return"bg-gray-100 text-gray-500 border border-gray-200"}},Q=n.filter(U=>{const he=U.id.toLowerCase().includes(i.toLowerCase()),W=U.name.toLowerCase().includes(c.toLowerCase()),te=U.plan.toLowerCase().includes(u.toLowerCase()),be=g==="all"||U.status===g;let Ae=!0;if(v.start||v.end){const Ie=U.createdAt?new Date(U.createdAt).getTime():0,H=v.start?new Date(v.start).getTime():0,oe=v.end?new Date(v.end).getTime()+864e5:1/0;Ie===0?Ae=!1:Ae=Ie>=H&&Ie<oe}return he&&W&&te&&be&&Ae}),_=Math.ceil(Q.length/k),A=Q.slice((N-1)*k,N*k),I=U=>{U>=1&&U<=_&&E(U)},z=async U=>{if(D.length!==0)if(U==="delete")confirm(`Are you sure you want to delete ${D.length} campaigns?`)&&(await q.bulkDeleteProjects(D),P([]),e());else{const he=U==="resume"?"active":"stopped";await q.bulkUpdateProjectStatus(D,he),P([]),e()}},O=()=>{const U=A.map(W=>W.id),he=U.every(W=>D.includes(W));P(he?W=>W.filter(te=>!U.includes(te)):W=>Array.from(new Set([...W,...U])))},F=U=>{D.includes(U)?P(he=>he.filter(W=>W!==U)):P(he=>[...he,U])};De.useEffect(()=>{E(1),P([])},[i,c,u,g,v]);const R=A.length>0&&A.every(U=>D.includes(U.id));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tight",children:"Campaign Manager"}),t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mt-1",children:"Manage your traffic sources"})]}),t.jsxs("button",{onClick:r,className:"bg-[#ff4d00] hover:bg-[#e64600] text-white px-6 py-3 text-xs font-black uppercase tracking-widest transition-colors flex items-center gap-2 shadow-lg shadow-orange-500/20",children:[t.jsx(Lr,{size:16,strokeWidth:3}),"Create Project"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-4 shadow-sm grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(vu,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Filter by ID...",value:i,onChange:U=>l(U.target.value),className:"w-full pl-9 pr-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-900 focus:outline-none focus:border-[#ff4d00] placeholder-gray-400"})]}),t.jsx("input",{type:"text",placeholder:"Filter by Name...",value:c,onChange:U=>f(U.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-900 focus:outline-none focus:border-[#ff4d00] placeholder-gray-400"}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:u,onChange:U=>m(U.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-500 focus:outline-none focus:border-[#ff4d00] appearance-none",children:[t.jsx("option",{value:"",children:"All Plans"}),t.jsx("option",{value:"Free Trial",children:"Free Trial"}),t.jsx("option",{value:"Starter",children:"Starter"}),t.jsx("option",{value:"Growth",children:"Growth"}),t.jsx("option",{value:"Agency",children:"Agency"})]}),t.jsx(qa,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:g,onChange:U=>b(U.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-500 focus:outline-none focus:border-[#ff4d00] appearance-none",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"stopped",children:"Stopped"}),t.jsx("option",{value:"completed",children:"Completed"})]}),t.jsx(qa,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),t.jsxs("button",{onClick:()=>{l(""),f(""),m(""),b("all")},className:"px-4 py-2 border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:text-gray-900 hover:border-gray-400 transition-colors flex items-center justify-center gap-2",children:[t.jsx(an,{size:14})," Clear"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden min-h-[600px] flex flex-col",children:[t.jsx("div",{className:"overflow-x-auto flex-1",children:t.jsxs("table",{className:"w-full table-fixed",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-[#f9fafb] border-b border-gray-200",children:[t.jsx("th",{className:"w-16 px-6 py-4 text-left",children:t.jsx("button",{onClick:O,className:"flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:R?t.jsx(eS,{size:16,className:"text-[#ff4d00]"}):t.jsx(tS,{size:16})})}),t.jsx("th",{className:"w-32 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Project ID"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Name"}),t.jsx("th",{className:"w-28 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Plan"}),t.jsx("th",{className:"w-32 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Expires"}),t.jsx("th",{className:"w-24 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hits"}),t.jsx("th",{className:"w-32 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"w-24 px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:Q.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-400 text-sm",children:"No campaigns found matching your filters."})}):A.map(U=>{var he;return t.jsxs("tr",{className:`transition-colors group relative ${D.includes(U.id)?"bg-orange-50/50":"hover:bg-orange-50/30"}`,children:[t.jsx("td",{className:"px-6 py-5",children:t.jsx("button",{onClick:W=>{W.stopPropagation(),F(U.id)},className:"flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:D.includes(U.id)?t.jsx(eS,{size:16,className:"text-[#ff4d00]"}):t.jsx(tS,{size:16})})}),t.jsx("td",{className:"px-6 py-5 text-[11px] font-black text-[#ff4d00] font-mono tracking-tighter uppercase truncate",title:U.id,children:U.id.substring(0,10)}),t.jsx("td",{className:"px-6 py-5",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-black text-gray-900",children:U.name}),((he=U.settings)==null?void 0:he.entryUrls)&&t.jsx("a",{href:U.settings.entryUrls,target:"_blank",rel:"noreferrer",className:"ml-2 inline-block text-gray-300 hover:text-[#ff4d00]",onClick:W=>W.stopPropagation(),children:t.jsx(Wf,{size:12})})]})}),t.jsx("td",{className:"px-6 py-5 text-sm font-medium text-gray-600",children:U.plan}),t.jsx("td",{className:"px-6 py-5 text-sm font-medium text-gray-500",children:U.expires}),t.jsx("td",{className:"px-6 py-5",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-bold text-gray-900",children:(U.totalHits||0).toLocaleString()}),U.status==="active"&&t.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})}),t.jsx("td",{className:"px-6 py-5",children:t.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 text-[10px] font-black uppercase tracking-wider rounded-sm ${$(U.status)}`,children:[U.status==="stopped"&&t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 mr-2"}),U.status==="active"&&t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white mr-2 animate-pulse"}),U.status]})}),t.jsx("td",{className:"px-6 py-5 text-right relative",children:t.jsx("button",{onClick:W=>{W.stopPropagation(),s(U.id)},className:"text-gray-400 hover:text-[#ff4d00] transition-colors p-2 hover:bg-orange-50 rounded-sm",children:t.jsx(ec,{size:18})})})]},U.id)})})]})}),t.jsxs("div",{className:"p-4 border-t border-gray-200 bg-[#f9fafb] flex items-center justify-between mt-auto",children:[t.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:["Showing ",Math.min((N-1)*k+1,Q.length)," - ",Math.min(N*k,Q.length)," of ",Q.length]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>I(N-1),disabled:N===1,className:"px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[t.jsx(rw,{size:14})," Prev"]}),t.jsx("div",{className:"flex items-center gap-1 px-2",children:Array.from({length:Math.min(_,5)},(U,he)=>{let W=he+1;return _>5&&N>3&&(W=N-2+he),W>_?null:t.jsx("button",{onClick:()=>I(W),className:`w-8 h-8 flex items-center justify-center text-xs font-bold border ${N===W?"border-[#ff4d00] text-[#ff4d00] bg-orange-50":"border-transparent text-gray-400 hover:text-gray-600"}`,children:W},W)})}),t.jsxs("button",{onClick:()=>I(N+1),disabled:N===_,className:"px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Next ",t.jsx(vc,{size:14})]})]})]})]}),D.length>0&&t.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 animate-in slide-in-from-bottom-4 fade-in duration-300",children:t.jsxs("div",{className:"bg-gray-900 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-6 border border-gray-800",children:[t.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 border-r border-gray-700 pr-6 mr-2",children:[D.length," Selected"]}),t.jsxs("button",{onClick:()=>z("resume"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors",children:[t.jsx(rx,{size:14})," Resume"]}),t.jsxs("button",{onClick:()=>z("pause"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors",children:[t.jsx(y4,{size:14})," Pause"]}),t.jsx("div",{className:"w-px h-4 bg-gray-700 mx-2"}),t.jsxs("button",{onClick:()=>z("delete"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-red-500 transition-colors",children:[t.jsx(wc,{size:14})," Delete"]}),t.jsx("button",{onClick:()=>P([]),className:"ml-4 text-gray-500 hover:text-white",children:t.jsx(an,{size:14})})]})})]})},zs=({value:n,onChange:e,options:s,placeholder:r="Select...",disabled:i=!1,className:l=""})=>{const[c,f]=w.useState(!1),u=w.useRef(null),m=s.find(b=>b.value===n);w.useEffect(()=>{const b=v=>{u.current&&!u.current.contains(v.target)&&f(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const g=b=>{e(b),f(!1)};return t.jsxs("div",{className:`relative ${l}`,ref:u,children:[t.jsxs("button",{type:"button",onClick:()=>!i&&f(!c),className:`w-full bg-[#f9fafb] border ${c?"border-[#ff4d00]":"border-gray-200"} p-3 text-sm font-bold text-gray-900 outline-none flex justify-between items-center transition-all duration-200 rounded-sm ${i?"opacity-50 cursor-not-allowed":"cursor-pointer hover:border-gray-300"}`,children:[t.jsx("span",{className:`truncate ${m?"text-gray-900":"text-gray-400"}`,children:m?m.label:r}),t.jsx(qa,{size:16,className:`text-gray-400 transition-transform duration-200 flex-shrink-0 ml-2 ${c?"rotate-180 text-[#ff4d00]":""}`})]}),c&&t.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-[0_10px_40px_-10px_rgba(0,0,0,0.2)] z-50 max-h-60 overflow-y-auto mt-1 animate-in fade-in zoom-in-95 duration-100 rounded-sm",children:s.map(b=>t.jsxs("button",{type:"button",onClick:()=>g(b.value),className:"w-full text-left px-4 py-3 text-sm font-medium text-gray-700 hover:bg-[#ff4d00] hover:text-white flex justify-between items-center transition-colors border-b border-gray-50 last:border-0",children:[t.jsx("span",{className:"truncate",children:b.label}),n===b.value&&t.jsx(rn,{size:14,className:"flex-shrink-0 ml-2"})]},b.value))})]})},Yb={AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia and Herzegovina",BW:"Botswana",BR:"Brazil",BN:"Brunei",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",CV:"Cabo Verde",KH:"Cambodia",CM:"Cameroon",CA:"Canada",BQ:"Caribbean Netherlands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CK:"Cook Islands",CR:"Costa Rica",HR:"Croatia",CW:"Curacao",CY:"Cyprus",CZ:"Czechia",CD:"Democratic Republic of the Congo",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",SZ:"Eswatini",ET:"Ethiopia",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern and Antarctic Lands",GA:"Gabon",GE:"Georgia",DE:"Germany",GH:"Ghana",GR:"Greece",GD:"Grenada",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Laos",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MR:"Mauritania",MU:"Mauritius",MX:"Mexico",FM:"Micronesia",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar (Burma)",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MK:"North Macedonia",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn Islands",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",CG:"Republic of the Congo",RO:"Romania",RU:"Russia",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena, Ascension and Tristan da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",KR:"South Korea",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SE:"Sweden",CH:"Switzerland",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",BS:"The Bahamas",GM:"The Gambia",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkiye",TM:"Turkmenistan",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VA:"Vatican City",VE:"Venezuela",VN:"Vietnam",WF:"Wallis and Futuna",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},Gl=Object.entries(Yb).map(([n,e])=>({code:n,name:e})),JM=["Afrikaans","Albanian","Amharic","Arabic","Armenian","Azerbaijani","Basque","Belarusian","Bengali","Bosnian","Bulgarian","Catalan","Cebuano","Chichewa","Chinese (Simplified)","Chinese (Traditional)","Corsican","Croatian","Czech","Danish","Dutch","English (US)","English (UK)","Esperanto","Estonian","Filipino","Finnish","French","Frisian","Galician","Georgian","German","Greek","Gujarati","Haitian Creole","Hausa","Hawaiian","Hebrew","Hindi","Hmong","Hungarian","Icelandic","Igbo","Indonesian","Irish","Italian","Japanese","Javanese","Kannada","Kazakh","Khmer","Kinyarwanda","Korean","Kurdish (Kurmanji)","Kyrgyz","Lao","Latin","Latvian","Lithuanian","Luxembourgish","Macedonian","Malagasy","Malay","Malayalam","Maltese","Maori","Marathi","Mongolian","Myanmar (Burmese)","Nepali","Norwegian","Odia (Oriya)","Pashto","Persian","Polish","Portuguese","Punjabi","Romanian","Russian","Samoan","Scots Gaelic","Serbian","Sesotho","Shona","Sindhi","Sinhala","Slovak","Slovenian","Somali","Spanish","Sundanese","Swahili","Swedish","Tajik","Tamil","Tatar","Telugu","Thai","Turkish","Turkmen","Ukrainian","Urdu","Uyghur","Uzbek","Vietnamese","Welsh","Xhosa","Yiddish","Yoruba","Zulu"],cw=[{value:"Direct",label:"Direct"},{value:"Organic (General)",label:"Organic (General)"},{value:"Organic, Google Search",label:"Organic - Google Search"},{value:"Organic, Google News",label:"Organic - Google News"},{value:"Organic, Google Images",label:"Organic - Google Images"},{value:"Organic, Google Video",label:"Organic - Google Video"},{value:"Organic, Bing",label:"Organic - Bing"},{value:"Organic, DuckDuckGo",label:"Organic - DuckDuckGo"},{value:"Organic, YouTube",label:"Organic - YouTube"},{value:"Social (General)",label:"Social (General)"},{value:"Social, Instagram",label:"Social - Instagram"},{value:"Social, Facebook",label:"Social - Facebook"},{value:"Social, LinkedIn",label:"Social - LinkedIn"},{value:"Social, X, Twitter",label:"Social - X (Twitter)"},{value:"Social, Pinterest",label:"Social - Pinterest"},{value:"Referral",label:"Referral"},{value:"Chatbots (General)",label:"Chatbots (General)"},{value:"Chatbots, Meta AI",label:"Chatbots - Meta AI"},{value:"Chatbots, Perplexity AI",label:"Chatbots - Perplexity AI"},{value:"Chatbots, ChatGPT",label:"Chatbots - ChatGPT"},{value:"Chatbots, Claude AI",label:"Chatbots - Claude AI"},{value:"Chatbots, Mistral AI",label:"Chatbots - Mistral AI"},{value:"Chatbots, Microsoft Copilot",label:"Chatbots - Copilot"},{value:"Chatbots, Gemini",label:"Chatbots - Gemini"},{value:"Chatbots, Groq",label:"Chatbots - Groq"},{value:"Messengers (General)",label:"Messengers (General)"},{value:"Messengers, WhatsApp",label:"Messengers - WhatsApp"},{value:"Messengers, WeChat",label:"Messengers - WeChat"},{value:"Messengers, Telegram",label:"Messengers - Telegram"},{value:"Messengers, Viber",label:"Messengers - Viber"}],T4=[{value:"5 seconds",label:"5 seconds"},{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"2 minutes",label:"2 minutes"},{value:"3 minutes",label:"3 minutes"},{value:"4 minutes",label:"4 minutes"},{value:"5 minutes",label:"5 minutes"}],ZM=()=>{const n=[];for(let e=-12;e<=14;e++){const s=e>=0?"+":"-",r=Math.abs(e),i=`(GMT${s}${r.toString().padStart(2,"0")}:00) GMT${s}${r}`;if(n.push({value:`GMT${s}${r}`,label:i}),[3,4,5,6,9].includes(r)){const l=`(GMT${s}${r.toString().padStart(2,"0")}:30) GMT${s}${r}:30`;n.push({value:`GMT${s}${r}:30`,label:l})}}return n},k4=ZM(),e9=[{value:"random",label:"Random Selection"},{value:"sequential",label:"Sequential Funnel"}],t9=(n,e=30)=>{const s=[],r=new Map(n.map(i=>[i.date,i]));for(let i=e-1;i>=0;i--){const l=new Date;l.setDate(l.getDate()-i);const c=l.toISOString().split("T")[0],f=r.get(c);s.push(f||{date:c,visitors:0,pageviews:0})}return s},s9=({projectId:n,onBack:e,onUpdate:s})=>{var fa,as,Zn;const r=Us(),[i,l]=w.useState(void 0),[c,f]=w.useState(!0),[u,m]=w.useState(void 0),[g,b]=w.useState(!1),[v,T]=w.useState(!1),[N,E]=w.useState([]),[k,D]=w.useState([]),[P,L]=w.useState(!1),[V,$]=w.useState(!1),[Q,_]=w.useState(""),[A,I]=w.useState([]),[z,O]=w.useState("pageviews"),[F,R]=w.useState("daily"),[U,he]=w.useState(!1),[W,te]=w.useState([]),be=w.useRef(null),[Ae,Ie]=w.useState(!1),[H,oe]=w.useState(""),[Ne,K]=w.useState(!1),[ye,Te]=w.useState(null),[Le,at]=w.useState(!1),[Ke,Ht]=w.useState(""),[Ft,Bt]=w.useState(!1),[ls,je]=w.useState(""),[Pe,At]=w.useState(!1);if(w.useEffect(()=>{var ot,Qt;const X=q.getProjectById(n);if(l(X),X){let st=X.settings||{bounceRate:0,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,geoTargets:[],countries:["US"],trafficSource:"Direct",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,urlVisitOrder:"random",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0};if((!st.geoTargets||st.geoTargets.length===0)&&((ot=st.countries)==null?void 0:ot.length)>0){const Ys=st.countries.length,qr=Math.floor(100/Ys),mn=100-qr*Ys;st.geoTargets=st.countries.map((Vi,Ui)=>{const Ya=Object.keys(Yb).find(Hr=>Yb[Hr]===Vi)||Vi;return{id:`geo-${Date.now()}-${Ui}`,country:Ya,percent:Ui===0?qr+mn:qr}})}st.languages||(st.languages=[st.language||"en-US"]),!st.scheduleTrafficAmount&&((Qt=X.customTarget)!=null&&Qt.dailyLimit)&&(st.scheduleTrafficAmount=X.customTarget.dailyLimit),m(st)}const ze=q.getSystemSettings();I(ze.payloadTemplates||[]),f(!1)},[n]),w.useEffect(()=>{(async()=>{const ze=await q.getCalculatedExpiry(n);Te(ze)})()},[n]),w.useEffect(()=>{(async()=>{he(!0);const ze=await q.syncProjectStats(n,30);E(t9(ze,30)),he(!1)})()},[n]),w.useEffect(()=>{(async()=>{if(F==="hourly"){he(!0);const ze=await q.syncProjectStatsHourly(n,24);D(ze),he(!1)}})()},[n,F]),w.useEffect(()=>{const X=async()=>{if(F==="live"){he(!0);const ze=await q.syncProjectStatsLive(n);te(ze),he(!1)}};return F==="live"&&(X(),be.current=setInterval(X,300*1e3)),()=>{be.current&&(clearInterval(be.current),be.current=null)}},[n,F]),w.useEffect(()=>{const X=()=>{Bt(!1),At(!1)};return document.addEventListener("click",X),()=>document.removeEventListener("click",X)},[]),c||!i||!u)return t.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading Configuration..."});const pe=i.plan==="Free Trial",re=(X,ze)=>{pe||m(ot=>ot?{...ot,[X]:ze}:void 0)},qe=async()=>{if(pe)return;if(!u.entryUrls||u.entryUrls.trim()===""){alert("Entry URLs are mandatory. Please provide at least one URL.");return}const X=(u.geoTargets||[]).reduce((Qt,st)=>Qt+st.percent,0);if(X!==100&&(u.geoTargets||[]).length>0){alert(`Total location percentage must equal 100%. Current total: ${X}%`);return}b(!0),T(!1);const ze={...u,countries:(u.geoTargets||[]).map(Qt=>Qt.country),language:(u.languages||[])[0]||"en-US"},ot={...i,settings:ze};try{await q.updateProject(ot),l(ot),T(!0),setTimeout(()=>T(!1),2e3),s&&s()}catch(Qt){console.error("Failed to save project:",Qt),alert("Failed to save project settings. Please try again.")}finally{b(!1)}},rt=async()=>{if(!i)return;const X=i.status==="active"?"stopped":"active";try{await q.updateProjectStatus(i.id,X),l({...i,status:X}),s&&s()}catch(ze){console.error("Failed to update project status:",ze),alert("Failed to update project status. Please try again.")}},Lt=async()=>{if(i&&confirm(`Clone "${i.name}"? A copy will be created with status "paused".`))try{await q.cloneProject(i.id),s&&s(),r("/dashboard/campaigns")}catch(X){console.error("Failed to clone project:",X),alert("Failed to clone project. Please try again.")}},Qn=async()=>{if(i&&confirm(`Are you sure you want to delete "${i.name}"? This action cannot be undone.`))try{await q.deleteProject(i.id),s&&s(),r("/dashboard/campaigns")}catch(X){console.error("Failed to delete project:",X),alert("Failed to delete project. Please try again.")}},$r=()=>{if(!Q.trim())return;const X=q.getSystemSettings(),ze={id:`tpl-${Date.now()}`,name:Q,json:JSON.stringify(u)},ot={...X,payloadTemplates:[...X.payloadTemplates||[],ze]};q.saveSystemSettings(ot),I(ot.payloadTemplates||[]),_(""),L(!1),alert("Template saved successfully!")},me=X=>{const ze=A.find(ot=>ot.id===X);if(ze)try{const ot=JSON.parse(ze.json);m({...u,...ot}),$(!1),alert("Template loaded. Please review settings before saving.")}catch{alert("Failed to parse template data.")}},Me=async()=>{var ze;const X=(ze=(u.entryUrls||"").split(`
`)[0])==null?void 0:ze.trim();if(!X){alert("Please enter an Entry URL first.");return}at(!0);try{const ot=await q.scanGA4(X);re("gaId",ot),alert(`Found Analytics ID: ${ot}`)}catch(ot){alert(`Scan failed: ${ot.message||"No GA ID found"}`)}finally{at(!1)}},Qe=X=>{if(pe||(u.geoTargets||[]).find(mn=>mn.country===X))return;const ot=(u.geoTargets||[]).length+1,Qt=Math.floor(100/ot),st=(u.geoTargets||[]).map(mn=>({...mn,percent:Qt})),Ys=100-Qt*(ot-1),qr={id:`geo-${Date.now()}`,country:X,percent:Ys};re("geoTargets",[...st,qr]),je("")},it=X=>{pe||re("geoTargets",(u.geoTargets||[]).filter(ze=>ze.id!==X))},It=(X,ze)=>{if(pe)return;const ot=(u.geoTargets||[]).map(Qt=>Qt.id===X?{...Qt,percent:ze}:Qt);re("geoTargets",ot)},rs=X=>{pe||((u.languages||[]).includes(X)||re("languages",[...u.languages||[],X]),Ht(""))},hn=X=>{pe||re("languages",(u.languages||[]).filter(ze=>ze!==X))},xr=X=>(X||"").split(`
`).filter(ze=>ze.trim().length>0).length,ha=xr(u==null?void 0:u.entryUrls),Xn=xr(u==null?void 0:u.innerUrls),Ms=xr(u==null?void 0:u.exitUrls),fn=ha+Xn+Ms,Rt=N.length>0?N:i.stats||[];Rt.length>0&&Math.max(...Rt.map(X=>z==="visitors"?X.visitors:X.pageviews||X.visitors));const kc=JM.filter(X=>X.toLowerCase().includes(Ke.toLowerCase())),zi=Gl.filter(X=>X.name.toLowerCase().includes(ls.toLowerCase())),rl=((fa=i.customTarget)==null?void 0:fa.totalVisitors)||0,Jn=((as=i.customTarget)==null?void 0:as.dailyLimit)||0;return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center bg-white p-6 border border-gray-200 shadow-sm sticky top-0 z-10",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-sm text-gray-500 transition-colors",children:t.jsx(Hn,{size:20})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Project Configuration"}),t.jsxs("span",{className:`text-[8px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded border ${i.plan==="Expert"?"bg-green-50 text-green-700 border-green-200":i.plan==="Professional"?"bg-blue-50 text-blue-700 border-blue-200":"bg-orange-50 text-orange-700 border-orange-200"}`,children:[i.plan," Plan"]})]}),Ae?t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("input",{type:"text",value:H,onChange:X=>oe(X.target.value),onKeyDown:X=>{X.key==="Enter"&&H.trim()&&(l({...i,name:H.trim()}),Ie(!1)),X.key==="Escape"&&(Ie(!1),oe(i.name))},onBlur:()=>{H.trim()&&l({...i,name:H.trim()}),Ie(!1)},className:"text-2xl font-black text-gray-900 bg-gray-100 px-2 py-1 outline-none focus:ring-2 focus:ring-[#ff4d00]",autoFocus:!0})}):t.jsxs("div",{className:"flex items-center gap-2 group",children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900",children:i.name}),t.jsx("button",{onClick:()=>{oe(i.name),Ie(!0)},className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",title:"Edit project name",children:t.jsx(FO,{size:16,className:"text-[#ff4d00]"})})]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 mr-4 border-r border-gray-200 pr-4",children:[t.jsxs("button",{onClick:()=>L(!0),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(Ha,{size:14,className:"text-[#ff4d00]"})," Save Template"]}),t.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(Sg,{size:14,className:"text-[#ff4d00]"})," Load Template"]})]}),v&&t.jsxs("span",{className:"text-green-600 text-xs font-bold uppercase tracking-wider animate-in fade-in slide-in-from-right-2 mr-4 flex items-center gap-1",children:[t.jsx(Xl,{size:14})," Saved"]}),pe?t.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 text-gray-500 px-4 py-2.5 text-xs font-bold uppercase tracking-wider border border-gray-200 cursor-not-allowed",children:[t.jsx(Un,{size:14})," Read Only"]}):t.jsxs("button",{onClick:qe,disabled:g,className:"flex items-center gap-2 bg-[#ff4d00] text-white px-5 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors disabled:opacity-70 shadow-lg",children:[t.jsx(Ha,{size:14})," ",g?"Saving...":"Save Changes"]}),t.jsxs("button",{onClick:Lt,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(xn,{size:14,className:"text-[#ff4d00]"})," Clone"]}),t.jsxs("button",{onClick:rt,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[i.status==="active"?t.jsx(y4,{size:14,className:"text-[#ff4d00]"}):t.jsx(rx,{size:14,className:"text-[#ff4d00]"}),i.status==="active"?"Pause":"Resume"]}),t.jsxs("button",{onClick:Qn,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(wc,{size:14,className:"text-[#ff4d00]"})," Delete"]})]})]}),P&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white p-6 w-full max-w-md shadow-xl border border-gray-200",children:[t.jsx("h3",{className:"text-sm font-bold uppercase mb-4",children:"Save Configuration as Template"}),t.jsx("input",{value:Q,onChange:X=>_(X.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] mb-4",placeholder:"Template Name (e.g. Mobile US Organic)"}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-xs font-bold uppercase text-gray-500",children:"Cancel"}),t.jsx("button",{onClick:$r,className:"px-4 py-2 text-xs font-bold uppercase bg-black text-white hover:bg-[#ff4d00]",children:"Save"})]})]})}),V&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white p-6 w-full max-w-md shadow-xl border border-gray-200",children:[t.jsx("h3",{className:"text-sm font-bold uppercase mb-4",children:"Load Template"}),t.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto",children:A.length===0?t.jsx("p",{className:"text-xs text-gray-400",children:"No templates found."}):A.map(X=>t.jsx("button",{onClick:()=>me(X.id),className:"w-full text-left p-3 bg-gray-50 hover:bg-gray-100 text-sm font-medium border border-transparent hover:border-gray-200",children:X.name},X.id))}),t.jsx("button",{onClick:()=>$(!1),className:"w-full px-4 py-2 text-xs font-bold uppercase bg-black text-white hover:bg-gray-800",children:"Close"})]})}),pe&&t.jsxs("div",{className:"bg-orange-50 border-l-4 border-[#ff4d00] p-4 flex items-start gap-3 shadow-sm",children:[t.jsx(Yt,{className:"text-[#ff4d00] shrink-0",size:20}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-orange-900 uppercase tracking-wide",children:"Free Trial Mode"}),t.jsx("p",{className:"text-xs text-orange-700 mt-1 leading-relaxed",children:"This project is running on a high-speed demonstration plan (6,000 hits/4h). Settings are locked."})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(tc,{size:14})," Total Target"]}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:rl>0?rl.toLocaleString():i.plan})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(jf,{size:14})," Daily Speed"]}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:Jn>0?`${Jn.toLocaleString()}/day`:"N/A"})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(Pr,{size:14})," Hits Total"]}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:((Zn=i.totalHits)==null?void 0:Zn.toLocaleString())||0})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(iw,{size:14})," Status"]}),t.jsx("div",{className:`text-sm font-black uppercase tracking-wide ${i.status==="active"?"text-green-600":i.status==="stopped"?"text-red-600":"text-gray-500"}`,children:i.status==="completed"?"Expired":i.status})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(Ql,{size:14})," Expires"]}),ye?t.jsx("div",{children:ye.message?t.jsx("div",{className:"text-sm font-bold text-orange-500",children:ye.message}):ye.daysRemaining!==null?t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:ye.expiresDate}),t.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:[ye.daysRemaining.toFixed(1)," days remaining"]})]}):t.jsx("div",{className:"text-sm font-bold text-gray-900",children:i.expires})}):t.jsx("div",{className:"text-sm font-bold text-gray-900",children:i.expires})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("button",{onClick:()=>K(!Ne),className:"w-full flex items-center justify-between p-6 hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ql,{size:18,className:"text-[#ff4d00]"}),t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Traffic Schedule"})]}),Ne?t.jsx(bu,{size:18,className:"text-gray-400"}):t.jsx(qa,{size:18,className:"text-gray-400"})]}),Ne&&t.jsx("div",{className:"p-6 pt-0 border-t border-gray-100 animate-in fade-in slide-in-from-top-2",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-4",children:[t.jsxs("div",{children:[t.jsx(hs,{children:"Start Date"}),t.jsx("input",{type:"date",value:u.scheduleStart||"",onChange:X=>re("scheduleStart",X.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",disabled:pe})]}),t.jsxs("div",{children:[t.jsx(hs,{children:"End Date"}),t.jsx("input",{type:"date",value:u.scheduleEnd||"",onChange:X=>re("scheduleEnd",X.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",disabled:pe})]}),t.jsxs("div",{children:[t.jsx(hs,{children:"Daily Traffic (Hits per Day)"}),t.jsx("input",{type:"number",value:u.scheduleTrafficAmount||"",onChange:X=>re("scheduleTrafficAmount",parseInt(X.target.value)||0),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"Hits per day",disabled:pe})]}),t.jsxs("div",{children:[t.jsx(hs,{children:"Distribution Pattern"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>re("schedulePattern","even"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wider border transition-colors ${u.schedulePattern==="even"||!u.schedulePattern?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 text-gray-600 hover:border-gray-300"}`,disabled:pe,children:"Even"}),t.jsx("button",{onClick:()=>re("schedulePattern","realistic"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wider border transition-colors ${u.schedulePattern==="realistic"?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 text-gray-600 hover:border-gray-300"}`,disabled:pe,children:"Realistic"})]}),u.schedulePattern==="realistic"&&t.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:"Traffic varies by time of day and day of week for natural patterns."})]})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Traffic Statistics"}),t.jsxs("div",{className:"flex bg-gray-100 rounded-sm p-1",children:[t.jsx("button",{onClick:()=>R("daily"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${F==="daily"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"30 Days"}),t.jsx("button",{onClick:()=>R("hourly"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${F==="hourly"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"24 Hours"}),t.jsx("button",{onClick:()=>R("live"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${F==="live"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"Live"})]})]}),t.jsxs("div",{className:"text-xs text-gray-500 font-bold",children:["Total Views:",t.jsx("span",{className:"text-gray-900 ml-1",children:(F==="daily"?Rt:F==="hourly"?k:W).reduce((X,ze)=>X+(ze.pageviews||ze.visitors),0).toLocaleString()})]})]}),F==="live"&&t.jsxs("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-sm flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-[#ff4d00] rounded-full animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-orange-700 uppercase tracking-wide",children:"Live Traffic - Updated every 5 minutes"})]}),t.jsx("div",{className:"h-64 flex items-end justify-between gap-1 w-full px-4 border-b border-gray-100 pb-2",children:U?t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm animate-pulse",children:"Loading statistics..."}):(F==="daily"?Rt:F==="hourly"?k:W).length===0?t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:F==="live"?"No live traffic data available.":"No traffic data available."}):(F==="daily"?Rt:F==="hourly"?k:W).map((X,ze)=>{const ot=X.pageviews||X.visitors,st=Math.max(...(F==="daily"?Rt:F==="hourly"?k:W).map(mn=>mn.pageviews||mn.visitors),1),Ys=st>0?ot/st*100:0,qr=F==="daily"?X.date:F==="hourly"?X.hour:X.time;return t.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative h-full",children:[t.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap",children:[qr,": ",ot.toLocaleString()]}),t.jsx("div",{className:"w-full opacity-80 hover:opacity-100 transition-opacity rounded-t-sm min-w-[4px] bg-[#ff4d00]",style:{height:`${Ys}%`,minHeight:"4px"}})]},ze)})})]}),t.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-6 ${pe?"opacity-70 pointer-events-none grayscale-[0.5]":""}`,children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(ab,{})," Basic Settings"]}),t.jsxs("div",{className:"space-y-8",children:[t.jsx(ib,{label:"Bounce Rate",value:u.bounceRate,onChange:X=>re("bounceRate",X),suffix:"%"}),t.jsx(ib,{label:"Visitor Returning Rate",value:u.returnRate,onChange:X=>re("returnRate",X),suffix:"%"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx(hs,{children:"Device Distribution"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>{re("deviceSplit",100),re("tabletSplit",0)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Desktop Only"}),t.jsx("button",{onClick:()=>{re("deviceSplit",33),re("tabletSplit",33)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Balanced"}),t.jsx("button",{onClick:()=>{re("deviceSplit",0),re("tabletSplit",0)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Mobile Only"})]})]}),t.jsxs("div",{className:"relative h-4 bg-gray-100 rounded-sm overflow-hidden flex text-[8px] font-bold text-white uppercase text-center leading-4 shadow-inner",children:[t.jsx("div",{className:"h-full bg-[#ff4d00]",style:{width:`${u.deviceSplit}%`},children:u.deviceSplit>10&&"Desktop"}),t.jsx("div",{className:"h-full bg-gray-600",style:{width:`${u.tabletSplit||0}%`},children:(u.tabletSplit||0)>10&&"Tablet"}),t.jsx("div",{className:"h-full bg-black/80",style:{width:`${100-u.deviceSplit-(u.tabletSplit||0)}%`},children:100-u.deviceSplit-(u.tabletSplit||0)>10&&"Mobile"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase mb-1",children:[t.jsxs("span",{className:"flex items-center gap-1 text-[#ff4d00]",children:[t.jsx($d,{size:12})," Desktop"]}),t.jsxs("span",{children:[u.deviceSplit,"%"]})]}),t.jsx("input",{type:"range",min:"0",max:"100",value:u.deviceSplit,onChange:X=>{const ze=parseInt(X.target.value),ot=100-(u.tabletSplit||0);re("deviceSplit",Math.min(ze,ot))},className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]",disabled:pe})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase mb-1",children:[t.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[t.jsx($d,{size:12})," Tablet"]}),t.jsxs("span",{children:[u.tabletSplit||0,"%"]})]}),t.jsx("input",{type:"range",min:"0",max:"100",value:u.tabletSplit||0,onChange:X=>{const ze=parseInt(X.target.value),ot=100-u.deviceSplit;re("tabletSplit",Math.min(ze,ot))},className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-gray-600",disabled:pe})]}),t.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase bg-gray-50 p-2 rounded-sm border border-gray-100",children:[t.jsxs("span",{className:"flex items-center gap-1 text-black",children:[t.jsx(ax,{size:12})," Mobile Remainder"]}),t.jsxs("span",{className:"text-black",children:[Math.max(0,100-u.deviceSplit-(u.tabletSplit||0)),"%"]})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(ab,{})," Additional Settings"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(hs,{children:"Time On Page"}),t.jsx(zs,{value:u.timeOnPage,onChange:X=>re("timeOnPage",X),options:T4,disabled:pe})]}),t.jsxs("div",{children:[t.jsx(hs,{children:"Timezone"}),t.jsx(zs,{value:u.timezone,onChange:X=>re("timezone",X),options:k4,disabled:pe})]}),t.jsxs("div",{className:"relative",onClick:X=>X.stopPropagation(),children:[t.jsx(hs,{children:"Browser Languages"}),t.jsxs("div",{className:"bg-[#f9fafb] border border-gray-200 p-2 min-h-[48px] flex flex-wrap gap-2",children:[(u.languages||[]).map(X=>t.jsxs("span",{className:"bg-white border border-gray-200 text-xs font-bold uppercase px-2 py-1 flex items-center gap-1 rounded-sm",children:[X," ",t.jsx("button",{onClick:()=>hn(X),className:"hover:text-red-500",children:t.jsx(an,{size:10})})]},X)),t.jsx("input",{value:Ke,onChange:X=>{Ht(X.target.value),Bt(!0)},onFocus:()=>Bt(!0),className:"flex-1 bg-transparent text-sm outline-none min-w-[80px]",placeholder:(u.languages||[]).length===0?"Select Language...":"",disabled:pe})]}),Ft&&t.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-xl max-h-60 overflow-y-auto z-50",children:kc.map(X=>t.jsx("div",{className:"p-3 text-sm hover:bg-orange-50 cursor-pointer",onClick:()=>{rs(X),Bt(!1)},children:X},X))})]}),t.jsxs("div",{children:[t.jsx(hs,{children:"Google Analytics ID"}),t.jsxs("div",{className:"relative flex items-center",children:[t.jsx("input",{value:u.gaId,onChange:X=>re("gaId",X.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium text-gray-900 pr-10",placeholder:"G-XXXXXXXXXX",disabled:pe}),t.jsx("button",{onClick:Me,className:"absolute right-2 text-xs font-bold text-gray-400 hover:text-[#ff4d00] uppercase tracking-wide flex items-center gap-1",title:"Scan Entry URL for GA ID",disabled:Le||pe,children:Le?t.jsx(ko,{size:14,className:"animate-spin"}):t.jsx(Gn,{size:14})})]})]})]})]})]}),i.plan==="Economy"&&t.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 mx-6 flex items-center justify-between shadow-sm animate-in fade-in slide-in-from-top-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Lo,{size:20,className:"text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold text-orange-900 uppercase tracking-tight",children:"Tier Limitation: Economy"}),t.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Organic/Social sources, Residential IPs, and GA4 Automation are disabled on this plan."})]})]})}),t.jsxs("div",{className:pe?"opacity-70 pointer-events-none grayscale-[0.5]":"",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Os,{size:16})," URL Configuration"]}),t.jsxs("div",{className:"space-y-8",children:[t.jsx(ib,{label:"Inner URLs Limit",value:u.innerUrlCount,onChange:X=>re("innerUrlCount",X),max:10}),t.jsx("div",{className:"flex items-end justify-between border-b border-gray-100 pb-2 mb-2",children:t.jsx(hs,{children:"Visit Behavior"})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:t.jsxs("div",{className:"bg-gray-50 p-3 rounded-sm border border-gray-100",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-2",children:"Visit Order"}),t.jsx(zs,{value:u.urlVisitOrder||"random",onChange:X=>re("urlVisitOrder",X),options:e9,disabled:pe}),t.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 leading-tight",children:[t.jsx("strong",{children:"Sequential:"})," Landing  Inner 1  Inner 2.",t.jsx("br",{}),t.jsx("strong",{children:"Random:"})," Picks random pages from pool."]})]})}),t.jsx(ob,{label:"Entry URLs",value:u.entryUrls,onChange:X=>re("entryUrls",X),checked:u.autoCrawlEntry,onCheck:X=>re("autoCrawlEntry",X),countLabel:`Total: ${fn}/10`,required:!0}),t.jsx(ob,{label:"Inner URLs",value:u.innerUrls,onChange:X=>re("innerUrls",X),checked:u.autoCrawlInner,onCheck:X=>re("autoCrawlInner",X),countLabel:`Total: ${fn}/10`}),t.jsx(ob,{label:"Exit URLs",value:u.exitUrls,onChange:X=>re("exitUrls",X),checked:u.autoCrawlExit,onCheck:X=>re("autoCrawlExit",X),countLabel:`Total: ${fn}/10`}),t.jsxs("div",{className:i.plan==="Economy"?"opacity-50 pointer-events-none":"",children:[t.jsx(hs,{children:"Sitemap / RSS Feed"}),t.jsx("input",{value:u.sitemap||"",onChange:X=>re("sitemap",X.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"https://example.com/sitemap.xml"}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Automatically discover URLs from your sitemap"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",onClick:X=>X.stopPropagation(),children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(zo,{size:16})," Location Targeting"]}),t.jsxs("div",{className:"mb-4",children:[t.jsx(hs,{children:"Search Countries"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{value:ls,onChange:X=>{je(X.target.value),At(!0)},onFocus:()=>At(!0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"Type to search (e.g. United States)",disabled:pe}),t.jsx(Gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),Pe&&ls&&t.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-xl max-h-60 overflow-y-auto z-50 mt-1",children:zi.map(X=>t.jsxs("div",{className:"p-3 text-sm hover:bg-orange-50 cursor-pointer font-medium flex items-center gap-2",onClick:()=>{Qe(X.code),At(!1)},children:[t.jsx("img",{src:`https://flagcdn.com/w20/${X.code.toLowerCase()}.png`,alt:X.code,className:"w-4 h-auto rounded-sm",onError:ze=>{ze.target.style.display="none"}}),X.name]},X.code))})]}),(u.geoTargets||[]).length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"flex justify-between items-center mb-2",children:t.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase",children:["Selected (",(u.geoTargets||[]).length,")"]})}),t.jsx("div",{className:"space-y-2",children:(u.geoTargets||[]).map(X=>{const ze=Gl.find(st=>st.code===X.country),Qt=100-(u.geoTargets||[]).reduce((st,Ys)=>Ys.id!==X.id?st+Ys.percent:st,0);return t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-100",children:[t.jsx("img",{src:`https://flagcdn.com/w24/${X.country.toLowerCase()}.png`,alt:X.country,className:"w-6 h-auto rounded-sm",onError:st=>{st.target.style.display="none"}}),t.jsx("span",{className:"flex-1 font-bold text-sm text-gray-900",children:(ze==null?void 0:ze.name)||X.country}),t.jsx("input",{type:"range",min:"0",max:Qt,value:X.percent,onChange:st=>It(X.id,parseInt(st.target.value)),className:"w-24 accent-[#ff4d00]"}),t.jsx("input",{type:"number",min:"0",max:Qt,value:X.percent,onChange:st=>It(X.id,parseInt(st.target.value)||0),className:"w-16 p-1 text-center text-sm font-bold border border-gray-200 outline-none focus:border-[#ff4d00]"}),t.jsx("span",{className:"text-sm font-bold text-gray-400",children:"%"}),t.jsx("button",{onClick:()=>it(X.id),className:"text-gray-400 hover:text-red-500",children:t.jsx(an,{size:14})})]},X.id)})}),t.jsxs("div",{className:`text-right mt-2 text-sm font-bold ${(u.geoTargets||[]).reduce((X,ze)=>X+ze.percent,0)===100?"text-green-600":"text-orange-500"}`,children:["Total: ",(u.geoTargets||[]).reduce((X,ze)=>X+ze.percent,0),"%"]})]}),(u.geoTargets||[]).length===0&&t.jsx("div",{className:"text-center p-4 text-xs text-gray-400 bg-gray-50 border border-dashed border-gray-200",children:"No countries selected. Traffic will be global."})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Pr,{size:16})," Traffic Source"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(hs,{children:"Source Type"}),t.jsx(zs,{value:u.trafficSource,onChange:X=>re("trafficSource",X),options:cw,disabled:pe})]}),(u.trafficSource||"").includes("Organic")&&t.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[t.jsx(hs,{children:"Keywords (One per line)"}),t.jsx("textarea",{value:u.keywords||"",onChange:X=>re("keywords",X.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none",placeholder:`keyword 1
keyword 2`,disabled:pe})]}),((u.trafficSource||"").includes("Social")||(u.trafficSource||"").includes("Referral"))&&t.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[t.jsx(hs,{children:"Referrer URLs (One per line)"}),t.jsx("textarea",{value:u.referralUrls||"",onChange:X=>re("referralUrls",X.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none",placeholder:`https://referrer-site.com/post
https://social-media.com/share`,disabled:pe})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",onClick:X=>X.stopPropagation(),children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(tc,{size:16})," Tracking & Attribution (UTM)"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(hs,{children:"Campaign Source"}),t.jsx("input",{value:u.utmSource||"",onChange:X=>re("utmSource",X.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. google, newsletter",disabled:pe})]}),t.jsxs("div",{children:[t.jsx(hs,{children:"Campaign Medium"}),t.jsx("input",{value:u.utmMedium||"",onChange:X=>re("utmMedium",X.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. cpc, banner",disabled:pe})]}),t.jsxs("div",{children:[t.jsx(hs,{children:"Campaign Name"}),t.jsx("input",{value:u.utmCampaign||"",onChange:X=>re("utmCampaign",X.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. spring_sale",disabled:pe})]}),t.jsxs("div",{children:[t.jsx(hs,{children:"Campaign Term"}),t.jsx("input",{value:u.utmTerm||"",onChange:X=>re("utmTerm",X.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. running shoes",disabled:pe})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(hs,{children:"Campaign Content"}),t.jsx("input",{value:u.utmContent||"",onChange:X=>re("utmContent",X.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. logolink, textlink",disabled:pe}),t.jsxs("div",{className:"mt-2 flex gap-2",children:[t.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{random_keyword}}"}),t.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{timestamp}}"}),t.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{device_type}}"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mb-20 mt-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(ab,{})," General Settings"]}),t.jsxs("div",{className:`flex items-center justify-between p-6 mb-8 border-2 rounded-sm transition-all duration-300 relative overflow-hidden
                    ${u.autoRenew?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white"} 
                `,children:[t.jsxs("div",{className:"relative z-10 max-w-xl",children:[t.jsxs("span",{className:"text-lg font-bold text-gray-900 flex items-center gap-3",children:[t.jsx(Yt,{size:20,className:u.autoRenew?"text-green-600":"text-gray-400"}),"Auto Renew Campaign"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2 leading-relaxed",children:"Automatically renew this campaign using wallet credits when it expires."})]}),t.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[t.jsx("button",{onClick:()=>re("autoRenew",!u.autoRenew),className:`w-14 h-8 flex items-center p-1 transition-colors duration-300 rounded-full ${u.autoRenew?"bg-green-500":"bg-gray-200"}`,disabled:pe,children:t.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${u.autoRenew?"translate-x-6":"translate-x-0"}`})}),t.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${u.autoRenew?"text-green-600":"text-gray-400"}`,children:u.autoRenew?"Active":"Disabled"})]})]}),t.jsx("div",{className:"h-px bg-gray-100 my-8"}),t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-400 mb-6 flex items-center gap-2",children:[t.jsx(Vr,{size:14,className:"text-yellow-500"})," Premium Expert Features"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.jsxs("div",{className:`relative ${i.plan!=="Expert"?"opacity-50":""}`,children:[t.jsx(n9,{label:"Automatic Website Crawler",checked:u.websiteCrawler||!1,onChange:X=>i.plan==="Expert"&&re("websiteCrawler",X)}),i.plan!=="Expert"&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/10 cursor-not-allowed pointer-events-auto",title:"Expert Tier Required"})]})})]})]})]})},ab=()=>t.jsx("div",{className:"w-1 h-3 bg-[#ff4d00] mr-1"}),hs=({children:n,required:e})=>t.jsxs("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:[n," ",e&&t.jsx("span",{className:"text-red-500",children:"*"})]}),ib=({label:n,value:e,onChange:s,suffix:r="",max:i=100})=>t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx(hs,{children:n}),t.jsxs("span",{className:"text-xs font-bold text-[#ff4d00]",children:[e,r]})]}),t.jsx("input",{type:"range",min:"0",max:i,value:e,onChange:l=>s(parseInt(l.target.value)),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"})]}),ob=({label:n,value:e,onChange:s,checked:r,onCheck:i,countLabel:l,placeholder:c,required:f})=>t.jsx("div",{className:"flex items-start gap-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:r,onChange:u=>i(u.target.checked),className:"accent-[#ff4d00] w-4 h-4"}),t.jsx(hs,{required:f,children:n})]}),l&&t.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:l})]}),t.jsx("textarea",{value:e,onChange:u=>s(u.target.value),rows:4,className:`w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium text-gray-900 transition-colors resize-y ${r?"":"opacity-50"}`,placeholder:c||"https://example.com/page",disabled:!r})]})}),n9=({label:n,checked:e,onChange:s})=>t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:n}),t.jsx("button",{onClick:()=>s(!e),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${e?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${e?"translate-x-5":"translate-x-0"}`})})]}),lb=[{id:1,label:"Identity",icon:Os},{id:2,label:"Volume",icon:ca},{id:3,label:"Geo",icon:zo},{id:4,label:"Behavior",icon:Yt},{id:5,label:"Review",icon:rn}],r9=[{id:"facebook",label:"Facebook"},{id:"twitter",label:"X (Twitter)"},{id:"instagram",label:"Instagram"},{id:"linkedin",label:"LinkedIn"},{id:"pinterest",label:"Pinterest"},{id:"youtube",label:"YouTube"},{id:"tiktok",label:"TikTok"},{id:"reddit",label:"Reddit"}],a9=({onBack:n,onCreated:e})=>{const s=Us(),[r,i]=w.useState(1),[l,c]=w.useState(!1),[f,u]=w.useState(""),[m,g]=w.useState([]);w.useEffect(()=>{(async()=>{await q.syncTransactions(),g(q.getTransactions())})()},[]);const b=me=>{const Me=m.filter(it=>it.type!=="debit"&&it.tier===me&&it.hits).reduce((it,It)=>it+(It.hits||0),0),Qe=m.filter(it=>it.type==="debit"&&it.tier===me&&it.hits).reduce((it,It)=>it+(It.hits||0),0);return Me-Qe};w.useMemo(()=>["expert","professional","economy"].filter(Me=>b(Me)>0),[m]);const v=()=>b("expert")>0?"expert":b("professional")>0?"professional":b("economy")>0?"economy":"expert",[T,N]=w.useState(v()),[E,k]=w.useState(""),[D,P]=w.useState(""),[L,V]=w.useState(""),[$,Q]=w.useState(!1),[_,A]=w.useState(1e3),[I,z]=w.useState(100),[O,F]=w.useState(()=>new Date().toISOString().split("T")[0]),[R,U]=w.useState(10),[he,W]=w.useState([]),[te,be]=w.useState({}),[Ae,Ie]=w.useState(""),[H,oe]=w.useState(35),[Ne,K]=w.useState("3 minutes"),[ye,Te]=w.useState("Direct"),[Le,at]=w.useState(""),[Ke,Ht]=w.useState(""),[Ft,Bt]=w.useState([]),ls=async()=>{var me,Me;if(D){Q(!0),u("");try{const Qe=await q.scanGA4(D);Qe?V(Qe):u("No GA4 ID found on this page. Please enter manually.")}catch(Qe){(me=Qe==null?void 0:Qe.message)!=null&&me.includes("credentials")||(Me=Qe==null?void 0:Qe.message)!=null&&Me.includes("401")?u("Session expired. Please enter GA-ID manually or refresh the page."):u((Qe==null?void 0:Qe.message)||"Failed to scan for GA4. Please enter manually.")}finally{Q(!1)}}},je=me=>{if(he.includes(me)){const Me=he.filter(Qe=>Qe!==me);W(Me),be(Qe=>{const it={...Qe};if(delete it[me],Me.length>0){const It=Math.floor(100/Me.length);Me.forEach(hn=>{it[hn]=It});const rs=100-It*Me.length;rs>0&&Me.length>0&&(it[Me[0]]+=rs)}return it})}else{const Me=[...he,me];W(Me);const Qe=Math.floor(100/Me.length),it={};Me.forEach(rs=>{it[rs]=Qe});const It=100-Qe*Me.length;It>0&&(it[me]+=It),be(it)}},Pe=(me,Me)=>{be(Qe=>{const it=Object.entries(Qe).filter(([hn])=>hn!==me).reduce((hn,[,xr])=>hn+xr,0),It=Math.max(0,100-it),rs=Math.max(0,Math.min(It,Me));return{...Qe,[me]:rs}})},At=w.useMemo(()=>Object.values(te).reduce((me,Me)=>me+Me,0),[te]),pe=()=>{if(he.length===0)return;const me=Math.floor(100/he.length),Me={};he.forEach(it=>{Me[it]=me});const Qe=100-me*he.length;Qe>0&&he.length>0&&(Me[he[0]]+=Qe),be(Me)},re=me=>{Ft.includes(me)?Bt(Me=>Me.filter(Qe=>Qe!==me)):Bt(Me=>[...Me,me])},qe=()=>{if(u(""),r===1){if(!E.trim())return u("Please enter a project name.");if(!D.trim())return u("Please enter a target URL.");if(!L.trim())return u("Google Analytics ID is required.")}if(r===2){if(_<100)return u("Minimum 100 hits required.");if(I<1)return u("Minimum 1 hit per day required.");if(R<1)return u("Minimum 1 day duration required.");const me=b(T);if(_>me)return u(`Insufficient ${T} hits. Available: ${me.toLocaleString()}`)}if(r===3){if(he.length===0)return u("Please select at least one country.");if(At!==100)return u("Country distribution must total 100%.")}if(r===4){if((ye==="Organic (General)"||ye.startsWith("Organic"))&&!Le.trim())return u("Please enter keywords for organic traffic.");if((ye==="Social (General)"||ye.startsWith("Social"))&&Ft.length===0)return u("Please select at least one social platform.");if(ye==="Referral"&&!Ke.trim())return u("Please enter referral URLs.")}r<5?i(r+1):Lt()},rt=()=>{r>1?i(r-1):n()},Lt=async()=>{var me;c(!0),u("");try{const Me=new Date(O),Qe=new Date(Me.getTime()+R*24*60*60*1e3),it=he.map(ha=>({id:`geo-${ha}`,country:ha,percent:te[ha]||0})),It={bounceRate:H,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:Ne,timezone:"UTC",language:"en-US",languages:["en-US"],gaId:L,urlVisitOrder:"random",entryUrls:D,innerUrls:"",exitUrls:"",autoCrawlEntry:!0,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:he,geoTargets:it,trafficSource:ye,keywords:Le,referralUrls:Ke,socialPlatforms:Ft,proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0,residentialIps:T!=="economy",citiesGeoTargeting:T!=="economy",nightDayVolume:T==="expert",websiteCrawler:T==="expert",ga4NaturalEvents:T==="expert",randomizeDailyVolume:T==="expert"},rs={id:"proj_"+Date.now(),userId:((me=q.getCurrentUser())==null?void 0:me.id)||"unknown",name:E,plan:T.charAt(0).toUpperCase()+T.slice(1),tier:T,customTarget:{totalVisitors:_,durationDays:R,dailyLimit:I},startAt:Me.toISOString(),expires:Qe.toISOString().split("T")[0],createdAt:new Date().toISOString(),status:"active",settings:It},hn=await q.addProject(rs);e();const xr=(hn==null?void 0:hn.id)||rs.id;s(`/dashboard/campaigns/${xr}`)}catch(Me){console.error("Project creation error:",Me),u(Me.message||"Failed to create project. Please try again.")}finally{c(!1)}},Qn=Ae?Gl.filter(me=>me.name.toLowerCase().includes(Ae.toLowerCase())||me.code.toLowerCase().includes(Ae.toLowerCase())):Gl,$r=()=>({1:["UTM Tracking","Sitemap Crawling"],2:["Night/Day Volume","Auto-Renew","Schedule Burst Mode"],3:["City-Level Targeting","Language Settings","Device Split"],4:["Device Targeting","Browser Selection","Session Randomization"]})[r]||[];return t.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-black transition-colors font-bold text-xs uppercase tracking-wider",children:[t.jsx(Hn,{size:16})," Back to Projects"]}),t.jsx("div",{className:"flex items-center gap-2",children:lb.map((me,Me)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`
                                w-10 h-10 rounded-full flex items-center justify-center text-xs font-black
                                ${r===me.id?"bg-[#ff4d00] text-white shadow-lg scale-110":r>me.id?"bg-black text-white":"bg-gray-100 text-gray-400"}
                                transition-all duration-300
                            `,children:r>me.id?t.jsx(rn,{size:14}):me.id}),Me<lb.length-1&&t.jsx("div",{className:`w-8 h-1 mx-1 ${r>me.id?"bg-black":"bg-gray-100"}`})]},me.id))})]}),t.jsx("div",{className:"flex justify-center mb-4",children:t.jsxs("span",{className:"text-sm font-bold text-gray-500",children:["Step ",r,": ",lb[r-1].label]})}),f&&t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3 mb-6 animate-in fade-in",children:[t.jsx(Lo,{className:"text-red-500",size:20}),t.jsx("span",{className:"text-red-700 text-sm font-bold",children:f})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[r===1&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Project Identity"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Configure the basic details of your traffic campaign."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block",children:"Select Traffic Quality Tier"}),t.jsx("div",{className:"grid grid-cols-3 gap-4",children:["expert","professional","economy"].map(me=>{const Me=b(me),Qe=T===me,it=Me===0;return t.jsxs("button",{onClick:()=>!it&&N(me),disabled:it,className:`p-4 border-2 transition-all flex flex-col gap-1 text-left rounded-lg
                                                ${Qe?"border-[#ff4d00] bg-orange-50 shadow-md":"border-gray-100 bg-white hover:border-gray-200"}
                                                ${it?"opacity-40 cursor-not-allowed":""}
                                            `,children:[t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00]",children:me==="expert"?" Premium":me==="professional"?"Standard":"Value"}),t.jsx("span",{className:"font-bold text-gray-900 capitalize",children:me}),t.jsxs("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:[Me.toLocaleString()," hits"]})]},me)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Project Name *"}),t.jsx("input",{type:"text",value:E,onChange:me=>k(me.target.value),placeholder:"e.g. Q4 Marketing Campaign",className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-lg font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Target URL *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Os,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"url",value:D,onChange:me=>P(me.target.value),onBlur:()=>{D&&!L&&ls()},placeholder:"https://example.com",className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-lg font-medium font-mono text-gray-700 focus:border-[#ff4d00] outline-none"})]})]}),t.jsxs("div",{className:"p-6 bg-gray-50 border border-gray-100 rounded-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Google Analytics ID *"}),t.jsx("button",{onClick:ls,disabled:!D||$,className:"text-[10px] font-bold uppercase tracking-wider text-[#ff4d00] hover:underline disabled:opacity-50",children:$?"Scanning...":"Auto-Detect"})]}),t.jsx("input",{type:"text",value:L,onChange:me=>V(me.target.value),placeholder:"G-XXXXXXXXXX",className:"w-full bg-white border border-gray-200 p-3 text-sm font-mono text-gray-700 outline-none focus:border-[#ff4d00]"})]})]}),r===2&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Traffic Volume"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Define how much traffic you want and when it should run."})]}),t.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:["economy","professional","expert"].map(me=>t.jsxs("div",{className:`p-4 border-2 transition-all ${T===me?"border-[#ff4d00] bg-orange-50":"border-gray-100 bg-gray-50 opacity-50"}`,children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1",children:me}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:b(me).toLocaleString()}),t.jsx("div",{className:"text-[10px] text-gray-400",children:"hits available"})]},me))}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Total Hits *"}),t.jsx("input",{type:"number",min:"100",value:_,onChange:me=>A(parseInt(me.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-2xl font-black text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Hits per Day *"}),t.jsx("input",{type:"number",min:"1",value:I,onChange:me=>z(parseInt(me.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-2xl font-black text-gray-900 focus:border-[#ff4d00] outline-none"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Start Date *"}),t.jsx("input",{type:"date",value:O,onChange:me=>F(me.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-lg font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Duration (Days) *"}),t.jsx("input",{type:"number",min:"1",value:R,onChange:me=>U(parseInt(me.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-lg font-bold text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Days"})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 flex flex-col md:flex-row justify-between items-center gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Campaign Duration"}),t.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[R," days"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Total Cost"}),t.jsxs("div",{className:"text-3xl font-black text-[#ff4d00]",children:[_.toLocaleString()," ",t.jsx("span",{className:"text-sm font-bold text-gray-400",children:"hits"})]})]})]})]}),r===3&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Geographic Targeting"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Select countries for your traffic and set the distribution."})]}),t.jsxs("div",{className:"relative mb-4",children:[t.jsx(Gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),t.jsx("input",{type:"text",placeholder:"Search countries...",value:Ae,onChange:me=>Ie(me.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 text-sm focus:border-[#ff4d00] outline-none"}),Ae&&t.jsx("button",{onClick:()=>Ie(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t.jsx(an,{size:14})})]}),he.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase",children:["Selected (",he.length,")"]}),t.jsx("button",{onClick:pe,className:"text-[10px] font-bold text-[#ff4d00] uppercase hover:underline",children:"Distribute Evenly"})]}),t.jsx("div",{className:"space-y-2",children:he.map(me=>{const Me=Gl.find(rs=>rs.code===me),Qe=te[me]||0,It=100-(At-Qe);return t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-100",children:[t.jsx("img",{src:`https://flagcdn.com/w24/${me.toLowerCase()}.png`,alt:me,className:"w-6 h-auto rounded-sm",onError:rs=>{rs.target.style.display="none"}}),t.jsx("span",{className:"flex-1 font-bold text-sm text-gray-900",children:(Me==null?void 0:Me.name)||me}),t.jsx("input",{type:"range",min:"0",max:It,value:Qe,onChange:rs=>Pe(me,parseInt(rs.target.value)),className:"w-24 accent-[#ff4d00]"}),t.jsx("input",{type:"number",min:"0",max:It,value:Qe,onChange:rs=>Pe(me,parseInt(rs.target.value)||0),className:"w-16 p-1 text-center text-sm font-bold border border-gray-200 outline-none focus:border-[#ff4d00]"}),t.jsx("span",{className:"text-sm font-bold text-gray-400",children:"%"}),t.jsx("button",{onClick:()=>je(me),className:"text-gray-400 hover:text-red-500",children:t.jsx(an,{size:14})})]},me)})}),t.jsxs("div",{className:`text-right mt-2 text-sm font-bold ${At===100?"text-green-600":"text-orange-500"}`,children:["Total: ",At,"%"]})]}),t.jsx("div",{className:"border border-gray-200 max-h-[300px] overflow-y-auto",children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-1 p-1",children:Qn.slice(0,100).map(me=>t.jsxs("button",{onClick:()=>je(me.code),className:`p-2 text-left border text-xs font-bold flex justify-between items-center transition-all ${he.includes(me.code)?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-transparent bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[t.jsxs("span",{className:"flex items-center gap-2 truncate",children:[t.jsx("img",{src:`https://flagcdn.com/w20/${me.code.toLowerCase()}.png`,alt:me.code,className:"w-4 h-auto rounded-sm flex-shrink-0",onError:Me=>{Me.target.style.display="none"}}),t.jsx("span",{className:"truncate",children:me.name})]}),he.includes(me.code)&&t.jsx(rn,{size:12,className:"flex-shrink-0"})]},me.code))})})]}),r===4&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Traffic Behavior"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Configure how visitors interact with your site."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Bounce Rate"}),t.jsxs("div",{className:"bg-gray-50 p-6 border border-gray-200 text-center",children:[t.jsxs("div",{className:"text-4xl font-black text-gray-900 mb-2",children:[H,"%"]}),t.jsx("p",{className:"text-xs text-gray-500 font-medium mb-4",children:"Visitors leaving immediately"}),t.jsx("input",{type:"range",min:"0",max:"100",value:H,onChange:me=>oe(parseInt(me.target.value)),className:"w-full accent-[#ff4d00]"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Time on Page"}),t.jsx(zs,{value:Ne,onChange:K,options:T4})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Traffic Source"}),t.jsx(zs,{value:ye,onChange:Te,options:cw})]}),(ye==="Organic (General)"||ye.startsWith("Organic"))&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Keywords (one per line)"}),t.jsx("textarea",{value:Le,onChange:me=>at(me.target.value),placeholder:`keyword1
keyword2
keyword3`,className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24"})]}),(ye==="Social (General)"||ye.startsWith("Social"))&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Social Platforms"}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:r9.map(me=>t.jsx("button",{onClick:()=>re(me.id),className:`p-2 text-xs font-bold border transition-all ${Ft.includes(me.id)?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 bg-gray-50 text-gray-600 hover:border-gray-300"}`,children:me.label},me.id))})]}),ye==="Referral"&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Referral URLs (one per line)"}),t.jsx("textarea",{value:Ke,onChange:me=>Ht(me.target.value),placeholder:`https://example.com/page1
https://example.com/page2`,className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24"})]})]}),r===5&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Review Campaign"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Confirm all settings before creating your project."})]}),t.jsx("div",{className:`p-4 border-2 ${b(T)>=_?"border-green-300 bg-green-50":"border-red-300 bg-red-50"}`,children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:[T.charAt(0).toUpperCase()+T.slice(1)," Balance"]}),t.jsxs("div",{className:"text-lg font-black text-gray-900",children:[b(T).toLocaleString()," available"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xs text-gray-500 font-bold",children:"Required"}),t.jsx("div",{className:`text-xl font-black ${b(T)>=_?"text-green-600":"text-red-600"}`,children:_.toLocaleString()})]})]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Ar,{label:"Project Name",value:E}),t.jsx(Ar,{label:"Tier",value:T.toUpperCase()}),t.jsx(Ar,{label:"Target URL",value:D,isUrl:!0}),t.jsx(Ar,{label:"Google Analytics",value:L}),t.jsx("div",{className:"h-px bg-gray-100"}),t.jsx(Ar,{label:"Total Hits",value:`${_.toLocaleString()} hits`,highlight:!0}),t.jsx(Ar,{label:"Daily Limit",value:`${I.toLocaleString()} hits/day`}),t.jsx(Ar,{label:"Start Date",value:O}),t.jsx(Ar,{label:"Duration",value:`${R} days`}),t.jsx("div",{className:"h-px bg-gray-100"}),t.jsx(Ar,{label:"Countries",value:he.length>0?`${he.length} selected`:"None"}),t.jsx("div",{className:"h-px bg-gray-100"}),t.jsx(Ar,{label:"Bounce Rate",value:`${H}%`}),t.jsx(Ar,{label:"Time on Page",value:Ne}),t.jsx(Ar,{label:"Traffic Source",value:ye})]}),t.jsxs("div",{className:"mt-8 bg-blue-50 p-4 flex items-start gap-3 border border-blue-100",children:[t.jsx(Zl,{className:"text-blue-500 flex-shrink-0",size:18}),t.jsxs("div",{className:"text-xs text-blue-700 font-medium leading-relaxed",children:[t.jsx("p",{className:"font-bold mb-1",children:"After creation, more settings will be available:"}),t.jsx("p",{children:"UTM Tracking, Device Split, Browser Selection, Sitemap Crawling, City-Level Targeting, and more."})]})]})]})]}),t.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(ec,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Available after creation"})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:$r().map((me,Me)=>t.jsx("span",{className:"text-[10px] font-bold text-gray-500 bg-white px-2 py-1 border border-gray-200",children:me},Me))})]}),t.jsxs("div",{className:"flex justify-between pt-6",children:[t.jsx("button",{onClick:rt,className:"px-8 py-4 text-xs font-bold uppercase tracking-wider text-gray-500 hover:text-black transition-colors",children:r===1?"Cancel":"Previous Step"}),t.jsxs("button",{onClick:qe,disabled:l,className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-lg",children:[l?"Creating...":r===5?"Create Project":"Next Step",!l&&r<5&&t.jsx(Hn,{className:"rotate-180",size:16})]})]})]})},Ar=({label:n,value:e,isUrl:s=!1,highlight:r=!1})=>t.jsxs("div",{className:`flex justify-between items-center p-3 ${r?"bg-orange-50 border border-orange-100":""}`,children:[t.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:n}),s?t.jsx("span",{className:"text-sm font-bold text-[#ff4d00] truncate max-w-[200px]",children:e}):t.jsx("span",{className:`text-sm font-bold ${r?"text-[#ff4d00] text-lg":"text-gray-900"}`,children:e})]}),Vo=[{id:"economy",name:"Economy",factor:.35,quality:"10% Quality",features:["Residential IPs","Multiple Traffic Sources","Standard Proxy Pool","Geo Targeting Worldwide"],color:"border-gray-200"},{id:"professional",name:"Professional",factor:.65,quality:"50% Quality",popular:!0,features:["Residential Geo IPs","Country Geo Targeting","RSS and Sitemap Support","URL Shorteners"],color:"border-orange-300"},{id:"expert",name:"Expert",factor:1,quality:"100% Quality",features:["State & City Targeting","Night & Day Volume","Automatic Website Crawler","GA4 Natural Events"],color:"border-[#ff4d00]"}],Qb=[6e4,5e5,1e6,1e7,5e7],i9=[1,6,24],Qf={economy:{6e4:{1:9.96,6:47.81,24:143.42},5e5:{1:57.96,6:278.21,24:834.62},1e6:{1:99.96,6:479.81,24:1439.42},1e7:{1:699.96,6:3359.81,24:10079.42},5e7:{1:2799.96,6:13439.81,24:40319.42}},professional:{6e4:{1:19.96,6:95.81,24:287.42},5e5:{1:115.92,6:556.42,24:1669.25},1e6:{1:199.96,6:959.81,24:2879.42},1e7:{1:1399.96,6:6719.81,24:20159.42},5e7:{1:5599.96,6:26879.81,24:80639.42}},expert:{6e4:{1:29.96,6:143.81,24:431.42},5e5:{1:173.96,6:835.01,24:2505.02},1e6:{1:299.96,6:1439.81,24:4319.42},1e7:{1:2099.96,6:10079.81,24:30239.42},5e7:{1:8399.96,6:40319.81,24:120959.42}}},o9=(n,e,s=1)=>{const r=Qf[n];if(!r)return 0;const i=r[e];return i&&(i[s]||i[1])||0},dw=(n,e,s=1)=>{const r=o9(n,e,s),i=e*s;return r/i*1e3},uw=(n,e="EUR")=>new Intl.NumberFormat("de-DE",{style:"currency",currency:e}).format(n),hw=n=>`${n.toFixed(2)}`;function ig(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ig=function(e){return typeof e}:ig=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(n)}var E4="clover",l9=function(e){return e===3?"v3":e},C4="https://js.stripe.com",c9="".concat(C4,"/").concat(E4,"/stripe.js"),d9=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,u9=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var h9=function(e){return d9.test(e)||u9.test(e)},f9=function(){for(var e=document.querySelectorAll('script[src^="'.concat(C4,'"]')),s=0;s<e.length;s++){var r=e[s];if(h9(r.src))return r}return null},rS=function(e){var s="",r=document.createElement("script");r.src="".concat(c9).concat(s);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},m9=function(e,s){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.7.0",startTime:s})},Mh=null,Hp=null,Gp=null,p9=function(e){return function(s){e(new Error("Failed to load Stripe.js",{cause:s}))}},g9=function(e,s){return function(){window.Stripe?e(window.Stripe):s(new Error("Stripe.js not available"))}},x9=function(e){return Mh!==null?Mh:(Mh=new Promise(function(s,r){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe){s(window.Stripe);return}try{var i=f9();if(!(i&&e)){if(!i)i=rS(e);else if(i&&Gp!==null&&Hp!==null){var l;i.removeEventListener("load",Gp),i.removeEventListener("error",Hp),(l=i.parentNode)===null||l===void 0||l.removeChild(i),i=rS(e)}}Gp=g9(s,r),Hp=p9(r),i.addEventListener("load",Gp),i.addEventListener("error",Hp)}catch(c){r(c);return}}),Mh.catch(function(s){return Mh=null,Promise.reject(s)}))},y9=function(e,s,r){if(e===null)return null;var i=s[0];if(typeof i!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(ig(i)," instead."));var l=i.match(/^pk_test/),c=l9(e.version),f=E4;l&&c!==f&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("8.7.0"," expected Stripe.js@").concat(f,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var u=e.apply(void 0,s);return m9(u,r),u},Lh,A4=!1,I4=function(){return Lh||(Lh=x9(null).catch(function(e){return Lh=null,Promise.reject(e)}),Lh)};Promise.resolve().then(function(){return I4()}).catch(function(n){A4||console.warn(n)});var b9=function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];A4=!0;var i=Date.now();return I4().then(function(l){return y9(l,s,i)})},cb={exports:{}},db,aS;function v9(){if(aS)return db;aS=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return db=n,db}var ub,iS;function w9(){if(iS)return ub;iS=1;var n=v9();function e(){}function s(){}return s.resetWarningCache=e,ub=function(){function r(c,f,u,m,g,b){if(b!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:s,resetWarningCache:e};return l.PropTypes=l,l},ub}var oS;function j9(){return oS||(oS=1,cb.exports=w9()()),cb.exports}var N9=j9();const Ut=pu(N9);function lS(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),s.push.apply(s,r)}return s}function cS(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(s),!0).forEach(function(r){R4(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):lS(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function og(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?og=function(e){return typeof e}:og=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(n)}function R4(n,e,s){return e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function _9(n,e){if(n==null)return{};var s={},r=Object.keys(n),i,l;for(l=0;l<r.length;l++)i=r[l],!(e.indexOf(i)>=0)&&(s[i]=n[i]);return s}function S9(n,e){if(n==null)return{};var s=_9(n,e),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)r=l[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function P4(n,e){return T9(n)||k9(n,e)||E9(n,e)||C9()}function T9(n){if(Array.isArray(n))return n}function k9(n,e){var s=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(s!=null){var r=[],i=!0,l=!1,c,f;try{for(s=s.call(n);!(i=(c=s.next()).done)&&(r.push(c.value),!(e&&r.length===e));i=!0);}catch(u){l=!0,f=u}finally{try{!i&&s.return!=null&&s.return()}finally{if(l)throw f}}return r}}function E9(n,e){if(n){if(typeof n=="string")return dS(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return dS(n,e)}}function dS(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function C9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _n=function(e,s,r){var i=!!r,l=De.useRef(r);De.useEffect(function(){l.current=r},[r]),De.useEffect(function(){if(!i||!e)return function(){};var c=function(){l.current&&l.current.apply(l,arguments)};return e.on(s,c),function(){e.off(s,c)}},[i,s,e,l])},Xb=function(e){var s=De.useRef(e);return De.useEffect(function(){s.current=e},[e]),s.current},Hd=function(e){return e!==null&&og(e)==="object"},A9=function(e){return Hd(e)&&typeof e.then=="function"},I9=function(e){return Hd(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},uS="[object Object]",R9=function n(e,s){if(!Hd(e)||!Hd(s))return e===s;var r=Array.isArray(e),i=Array.isArray(s);if(r!==i)return!1;var l=Object.prototype.toString.call(e)===uS,c=Object.prototype.toString.call(s)===uS;if(l!==c)return!1;if(!l&&!r)return e===s;var f=Object.keys(e),u=Object.keys(s);if(f.length!==u.length)return!1;for(var m={},g=0;g<f.length;g+=1)m[f[g]]=!0;for(var b=0;b<u.length;b+=1)m[u[b]]=!0;var v=Object.keys(m);if(v.length!==f.length)return!1;var T=e,N=s,E=function(D){return n(T[D],N[D])};return v.every(E)},D4=function(e,s,r){return Hd(e)?Object.keys(e).reduce(function(i,l){var c=!Hd(s)||!R9(e[l],s[l]);return r.includes(l)?(c&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),i):c?cS(cS({},i||{}),{},R4({},l,e[l])):i},null):null},O4="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",hS=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O4;if(e===null||I9(e))return e;throw new Error(s)},P9=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O4;if(A9(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return hS(i,s)})};var r=hS(e,s);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},D9=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"5.6.0"}),e.registerAppInfo({name:"react-stripe-js",version:"5.6.0",url:"https://stripe.com/docs/stripe-js/react"}))},ox=De.createContext(null);ox.displayName="ElementsContext";var M4=function(e,s){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(s," in an <Elements> provider."));return e},L4=function(e){var s=e.stripe,r=e.options,i=e.children,l=De.useMemo(function(){return P9(s)},[s]),c=De.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(r):null}}),f=P4(c,2),u=f[0],m=f[1];De.useEffect(function(){var v=!0,T=function(E){m(function(k){return k.stripe?k:{stripe:E,elements:E.elements(r)}})};return l.tag==="async"&&!u.stripe?l.stripePromise.then(function(N){N&&v&&T(N)}):l.tag==="sync"&&!u.stripe&&T(l.stripe),function(){v=!1}},[l,u,r]);var g=Xb(s);De.useEffect(function(){g!==null&&g!==s&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,s]);var b=Xb(r);return De.useEffect(function(){if(u.elements){var v=D4(r,b,["clientSecret","fonts"]);v&&u.elements.update(v)}},[r,b,u.elements]),De.useEffect(function(){D9(u.stripe)},[u.stripe]),De.createElement(ox.Provider,{value:u},i)};L4.propTypes={stripe:Ut.any,options:Ut.object};var O9=function(e){var s=De.useContext(ox);return M4(s,e)},M9=function(){var e=O9("calls useElements()"),s=e.elements;return s};Ut.func.isRequired;var z4=De.createContext(null);z4.displayName="CheckoutContext";Ut.any,Ut.shape({clientSecret:Ut.oneOfType([Ut.string,Ut.instanceOf(Promise)]).isRequired,elementsOptions:Ut.object}).isRequired;var Jb=function(e){var s=De.useContext(z4),r=De.useContext(ox);if(s){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return s}else return M4(r,e)},L9=["mode"],z9=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Wn=function(e,s){var r="".concat(z9(e),"Element"),i=function(u){var m=u.id,g=u.className,b=u.options,v=b===void 0?{}:b,T=u.onBlur,N=u.onFocus,E=u.onReady,k=u.onChange,D=u.onEscape,P=u.onClick,L=u.onLoadError,V=u.onLoaderStart,$=u.onNetworksChange,Q=u.onConfirm,_=u.onCancel,A=u.onShippingAddressChange,I=u.onShippingRateChange,z=u.onSavedPaymentMethodRemove,O=u.onSavedPaymentMethodUpdate,F=Jb("mounts <".concat(r,">")),R="elements"in F?F.elements:null,U="checkoutState"in F?F.checkoutState:null,he=(U==null?void 0:U.type)==="success"||(U==null?void 0:U.type)==="loading"?U.sdk:null,W=De.useState(null),te=P4(W,2),be=te[0],Ae=te[1],Ie=De.useRef(null),H=De.useRef(null);_n(be,"blur",T),_n(be,"focus",N),_n(be,"escape",D),_n(be,"click",P),_n(be,"loaderror",L),_n(be,"loaderstart",V),_n(be,"networkschange",$),_n(be,"confirm",Q),_n(be,"cancel",_),_n(be,"shippingaddresschange",A),_n(be,"shippingratechange",I),_n(be,"savedpaymentmethodremove",z),_n(be,"savedpaymentmethodupdate",O),_n(be,"change",k);var oe;E&&(e==="expressCheckout"?oe=E:oe=function(){E(be)}),_n(be,"ready",oe),De.useLayoutEffect(function(){if(Ie.current===null&&H.current!==null&&(R||he)){var K=null;if(he)switch(e){case"paymentForm":K=he.createPaymentFormElement(v);break;case"payment":K=he.createPaymentElement(v);break;case"address":if("mode"in v){var ye=v.mode,Te=S9(v,L9);if(ye==="shipping")K=he.createShippingAddressElement(Te);else if(ye==="billing")K=he.createBillingAddressElement(Te);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":K=he.createExpressCheckoutElement(v);break;case"currencySelector":K=he.createCurrencySelectorElement();break;case"taxId":K=he.createTaxIdElement(v);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else R&&(K=R.create(e,v));Ie.current=K,Ae(K),K&&K.mount(H.current)}},[R,he,v]);var Ne=Xb(v);return De.useEffect(function(){if(Ie.current){var K=D4(v,Ne,["paymentRequest"]);K&&"update"in Ie.current&&Ie.current.update(K)}},[v,Ne]),De.useLayoutEffect(function(){return function(){if(Ie.current&&typeof Ie.current.destroy=="function")try{Ie.current.destroy(),Ie.current=null}catch{}}},[]),De.createElement("div",{id:m,className:g,ref:H})},l=function(u){Jb("mounts <".concat(r,">"));var m=u.id,g=u.className;return De.createElement("div",{id:m,className:g})},c=s?l:i;return c.propTypes={id:Ut.string,className:Ut.string,onChange:Ut.func,onBlur:Ut.func,onFocus:Ut.func,onReady:Ut.func,onEscape:Ut.func,onClick:Ut.func,onLoadError:Ut.func,onLoaderStart:Ut.func,onNetworksChange:Ut.func,onConfirm:Ut.func,onCancel:Ut.func,onShippingAddressChange:Ut.func,onShippingRateChange:Ut.func,onSavedPaymentMethodRemove:Ut.func,onSavedPaymentMethodUpdate:Ut.func,options:Ut.object},c.displayName=r,c.__elementType=e,c},Yn=typeof window>"u",V9=De.createContext(null);V9.displayName="EmbeddedCheckoutProviderContext";var U9=function(){var e=Jb("calls useStripe()"),s=e.stripe;return s};Wn("auBankAccount",Yn);Wn("card",Yn);Wn("cardNumber",Yn);Wn("cardExpiry",Yn);Wn("cardCvc",Yn);Wn("iban",Yn);var F9=Wn("payment",Yn);Wn("expressCheckout",Yn);Wn("paymentRequestButton",Yn);Wn("linkAuthentication",Yn);Wn("address",Yn);Wn("shippingAddress",Yn);Wn("paymentMethodMessaging",Yn);Wn("taxId",Yn);var B9=Object.defineProperty,Tg=Object.getOwnPropertySymbols,V4=Object.prototype.hasOwnProperty,U4=Object.prototype.propertyIsEnumerable,fS=(n,e,s)=>e in n?B9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,Zb=(n,e)=>{for(var s in e||(e={}))V4.call(e,s)&&fS(n,s,e[s]);if(Tg)for(var s of Tg(e))U4.call(e,s)&&fS(n,s,e[s]);return n},ev=(n,e)=>{var s={};for(var r in n)V4.call(n,r)&&e.indexOf(r)<0&&(s[r]=n[r]);if(n!=null&&Tg)for(var r of Tg(n))e.indexOf(r)<0&&U4.call(n,r)&&(s[r]=n[r]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var sc;(n=>{const e=class dt{constructor(u,m,g,b){if(this.version=u,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],u<dt.MIN_VERSION||u>dt.MAX_VERSION)throw new RangeError("Version value out of range");if(b<-1||b>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let v=[];for(let N=0;N<this.size;N++)v.push(!1);for(let N=0;N<this.size;N++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const T=this.addEccAndInterleave(g);if(this.drawCodewords(T),b==-1){let N=1e9;for(let E=0;E<8;E++){this.applyMask(E),this.drawFormatBits(E);const k=this.getPenaltyScore();k<N&&(b=E,N=k),this.applyMask(E)}}i(0<=b&&b<=7),this.mask=b,this.applyMask(b),this.drawFormatBits(b),this.isFunction=[]}static encodeText(u,m){const g=n.QrSegment.makeSegments(u);return dt.encodeSegments(g,m)}static encodeBinary(u,m){const g=n.QrSegment.makeBytes(u);return dt.encodeSegments([g],m)}static encodeSegments(u,m,g=1,b=40,v=-1,T=!0){if(!(dt.MIN_VERSION<=g&&g<=b&&b<=dt.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let N,E;for(N=g;;N++){const L=dt.getNumDataCodewords(N,m)*8,V=c.getTotalBits(u,N);if(V<=L){E=V;break}if(N>=b)throw new RangeError("Data too long")}for(const L of[dt.Ecc.MEDIUM,dt.Ecc.QUARTILE,dt.Ecc.HIGH])T&&E<=dt.getNumDataCodewords(N,L)*8&&(m=L);let k=[];for(const L of u){s(L.mode.modeBits,4,k),s(L.numChars,L.mode.numCharCountBits(N),k);for(const V of L.getData())k.push(V)}i(k.length==E);const D=dt.getNumDataCodewords(N,m)*8;i(k.length<=D),s(0,Math.min(4,D-k.length),k),s(0,(8-k.length%8)%8,k),i(k.length%8==0);for(let L=236;k.length<D;L^=253)s(L,8,k);let P=[];for(;P.length*8<k.length;)P.push(0);return k.forEach((L,V)=>P[V>>>3]|=L<<7-(V&7)),new dt(N,m,P,v)}getModule(u,m){return 0<=u&&u<this.size&&0<=m&&m<this.size&&this.modules[m][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let g=0;g<this.size;g++)this.setFunctionModule(6,g,g%2==0),this.setFunctionModule(g,6,g%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const u=this.getAlignmentPatternPositions(),m=u.length;for(let g=0;g<m;g++)for(let b=0;b<m;b++)g==0&&b==0||g==0&&b==m-1||g==m-1&&b==0||this.drawAlignmentPattern(u[g],u[b]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){const m=this.errorCorrectionLevel.formatBits<<3|u;let g=m;for(let v=0;v<10;v++)g=g<<1^(g>>>9)*1335;const b=(m<<10|g)^21522;i(b>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,r(b,v));this.setFunctionModule(8,7,r(b,6)),this.setFunctionModule(8,8,r(b,7)),this.setFunctionModule(7,8,r(b,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,r(b,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,r(b,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,r(b,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let g=0;g<12;g++)u=u<<1^(u>>>11)*7973;const m=this.version<<12|u;i(m>>>18==0);for(let g=0;g<18;g++){const b=r(m,g),v=this.size-11+g%3,T=Math.floor(g/3);this.setFunctionModule(v,T,b),this.setFunctionModule(T,v,b)}}drawFinderPattern(u,m){for(let g=-4;g<=4;g++)for(let b=-4;b<=4;b++){const v=Math.max(Math.abs(b),Math.abs(g)),T=u+b,N=m+g;0<=T&&T<this.size&&0<=N&&N<this.size&&this.setFunctionModule(T,N,v!=2&&v!=4)}}drawAlignmentPattern(u,m){for(let g=-2;g<=2;g++)for(let b=-2;b<=2;b++)this.setFunctionModule(u+b,m+g,Math.max(Math.abs(b),Math.abs(g))!=1)}setFunctionModule(u,m,g){this.modules[m][u]=g,this.isFunction[m][u]=!0}addEccAndInterleave(u){const m=this.version,g=this.errorCorrectionLevel;if(u.length!=dt.getNumDataCodewords(m,g))throw new RangeError("Invalid argument");const b=dt.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][m],v=dt.ECC_CODEWORDS_PER_BLOCK[g.ordinal][m],T=Math.floor(dt.getNumRawDataModules(m)/8),N=b-T%b,E=Math.floor(T/b);let k=[];const D=dt.reedSolomonComputeDivisor(v);for(let L=0,V=0;L<b;L++){let $=u.slice(V,V+E-v+(L<N?0:1));V+=$.length;const Q=dt.reedSolomonComputeRemainder($,D);L<N&&$.push(0),k.push($.concat(Q))}let P=[];for(let L=0;L<k[0].length;L++)k.forEach((V,$)=>{(L!=E-v||$>=N)&&P.push(V[L])});return i(P.length==T),P}drawCodewords(u){if(u.length!=Math.floor(dt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let g=this.size-1;g>=1;g-=2){g==6&&(g=5);for(let b=0;b<this.size;b++)for(let v=0;v<2;v++){const T=g-v,E=(g+1&2)==0?this.size-1-b:b;!this.isFunction[E][T]&&m<u.length*8&&(this.modules[E][T]=r(u[m>>>3],7-(m&7)),m++)}}i(m==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let g=0;g<this.size;g++){let b;switch(u){case 0:b=(g+m)%2==0;break;case 1:b=m%2==0;break;case 2:b=g%3==0;break;case 3:b=(g+m)%3==0;break;case 4:b=(Math.floor(g/3)+Math.floor(m/2))%2==0;break;case 5:b=g*m%2+g*m%3==0;break;case 6:b=(g*m%2+g*m%3)%2==0;break;case 7:b=((g+m)%2+g*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][g]&&b&&(this.modules[m][g]=!this.modules[m][g])}}getPenaltyScore(){let u=0;for(let v=0;v<this.size;v++){let T=!1,N=0,E=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[v][k]==T?(N++,N==5?u+=dt.PENALTY_N1:N>5&&u++):(this.finderPenaltyAddHistory(N,E),T||(u+=this.finderPenaltyCountPatterns(E)*dt.PENALTY_N3),T=this.modules[v][k],N=1);u+=this.finderPenaltyTerminateAndCount(T,N,E)*dt.PENALTY_N3}for(let v=0;v<this.size;v++){let T=!1,N=0,E=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][v]==T?(N++,N==5?u+=dt.PENALTY_N1:N>5&&u++):(this.finderPenaltyAddHistory(N,E),T||(u+=this.finderPenaltyCountPatterns(E)*dt.PENALTY_N3),T=this.modules[k][v],N=1);u+=this.finderPenaltyTerminateAndCount(T,N,E)*dt.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let T=0;T<this.size-1;T++){const N=this.modules[v][T];N==this.modules[v][T+1]&&N==this.modules[v+1][T]&&N==this.modules[v+1][T+1]&&(u+=dt.PENALTY_N2)}let m=0;for(const v of this.modules)m=v.reduce((T,N)=>T+(N?1:0),m);const g=this.size*this.size,b=Math.ceil(Math.abs(m*20-g*10)/g)-1;return i(0<=b&&b<=9),u+=b*dt.PENALTY_N4,i(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{const u=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2;let g=[6];for(let b=this.size-7;g.length<u;b-=m)g.splice(1,0,b);return g}}static getNumRawDataModules(u){if(u<dt.MIN_VERSION||u>dt.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*u+128)*u+64;if(u>=2){const g=Math.floor(u/7)+2;m-=(25*g-10)*g-55,u>=7&&(m-=36)}return i(208<=m&&m<=29648),m}static getNumDataCodewords(u,m){return Math.floor(dt.getNumRawDataModules(u)/8)-dt.ECC_CODEWORDS_PER_BLOCK[m.ordinal][u]*dt.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let m=[];for(let b=0;b<u-1;b++)m.push(0);m.push(1);let g=1;for(let b=0;b<u;b++){for(let v=0;v<m.length;v++)m[v]=dt.reedSolomonMultiply(m[v],g),v+1<m.length&&(m[v]^=m[v+1]);g=dt.reedSolomonMultiply(g,2)}return m}static reedSolomonComputeRemainder(u,m){let g=m.map(b=>0);for(const b of u){const v=b^g.shift();g.push(0),m.forEach((T,N)=>g[N]^=dt.reedSolomonMultiply(T,v))}return g}static reedSolomonMultiply(u,m){if(u>>>8||m>>>8)throw new RangeError("Byte out of range");let g=0;for(let b=7;b>=0;b--)g=g<<1^(g>>>7)*285,g^=(m>>>b&1)*u;return i(g>>>8==0),g}finderPenaltyCountPatterns(u){const m=u[1];i(m<=this.size*3);const g=m>0&&u[2]==m&&u[3]==m*3&&u[4]==m&&u[5]==m;return(g&&u[0]>=m*4&&u[6]>=m?1:0)+(g&&u[6]>=m*4&&u[0]>=m?1:0)}finderPenaltyTerminateAndCount(u,m,g){return u&&(this.finderPenaltyAddHistory(m,g),m=0),m+=this.size,this.finderPenaltyAddHistory(m,g),this.finderPenaltyCountPatterns(g)}finderPenaltyAddHistory(u,m){m[0]==0&&(u+=this.size),m.pop(),m.unshift(u)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function s(f,u,m){if(u<0||u>31||f>>>u)throw new RangeError("Value out of range");for(let g=u-1;g>=0;g--)m.push(f>>>g&1)}function r(f,u){return(f>>>u&1)!=0}function i(f){if(!f)throw new Error("Assertion error")}const l=class us{constructor(u,m,g){if(this.mode=u,this.numChars=m,this.bitData=g,m<0)throw new RangeError("Invalid argument");this.bitData=g.slice()}static makeBytes(u){let m=[];for(const g of u)s(g,8,m);return new us(us.Mode.BYTE,u.length,m)}static makeNumeric(u){if(!us.isNumeric(u))throw new RangeError("String contains non-numeric characters");let m=[];for(let g=0;g<u.length;){const b=Math.min(u.length-g,3);s(parseInt(u.substring(g,g+b),10),b*3+1,m),g+=b}return new us(us.Mode.NUMERIC,u.length,m)}static makeAlphanumeric(u){if(!us.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],g;for(g=0;g+2<=u.length;g+=2){let b=us.ALPHANUMERIC_CHARSET.indexOf(u.charAt(g))*45;b+=us.ALPHANUMERIC_CHARSET.indexOf(u.charAt(g+1)),s(b,11,m)}return g<u.length&&s(us.ALPHANUMERIC_CHARSET.indexOf(u.charAt(g)),6,m),new us(us.Mode.ALPHANUMERIC,u.length,m)}static makeSegments(u){return u==""?[]:us.isNumeric(u)?[us.makeNumeric(u)]:us.isAlphanumeric(u)?[us.makeAlphanumeric(u)]:[us.makeBytes(us.toUtf8ByteArray(u))]}static makeEci(u){let m=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<128)s(u,8,m);else if(u<16384)s(2,2,m),s(u,14,m);else if(u<1e6)s(6,3,m),s(u,21,m);else throw new RangeError("ECI assignment value out of range");return new us(us.Mode.ECI,0,m)}static isNumeric(u){return us.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return us.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,m){let g=0;for(const b of u){const v=b.mode.numCharCountBits(m);if(b.numChars>=1<<v)return 1/0;g+=4+v+b.bitData.length}return g}static toUtf8ByteArray(u){u=encodeURI(u);let m=[];for(let g=0;g<u.length;g++)u.charAt(g)!="%"?m.push(u.charCodeAt(g)):(m.push(parseInt(u.substring(g+1,g+3),16)),g+=2);return m}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=l;n.QrSegment=l})(sc||(sc={}));(n=>{(e=>{const s=class{constructor(i,l){this.ordinal=i,this.formatBits=l}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),e.Ecc=s})(n.QrCode||(n.QrCode={}))})(sc||(sc={}));(n=>{(e=>{const s=class{constructor(i,l){this.modeBits=i,this.numBitsCharCount=l}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),e.Mode=s})(n.QrSegment||(n.QrSegment={}))})(sc||(sc={}));var Ad=sc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var $9={L:Ad.QrCode.Ecc.LOW,M:Ad.QrCode.Ecc.MEDIUM,Q:Ad.QrCode.Ecc.QUARTILE,H:Ad.QrCode.Ecc.HIGH},F4=128,B4="L",$4="#FFFFFF",q4="#000000",H4=!1,G4=1,q9=4,H9=0,G9=.1;function K4(n,e=0){const s=[];return n.forEach(function(r,i){let l=null;r.forEach(function(c,f){if(!c&&l!==null){s.push(`M${l+e} ${i+e}h${f-l}v1H${l+e}z`),l=null;return}if(f===r.length-1){if(!c)return;l===null?s.push(`M${f+e},${i+e} h1v1H${f+e}z`):s.push(`M${l+e},${i+e} h${f+1-l}v1H${l+e}z`);return}c&&l===null&&(l=f)})}),s.join("")}function W4(n,e){return n.slice().map((s,r)=>r<e.y||r>=e.y+e.h?s:s.map((i,l)=>l<e.x||l>=e.x+e.w?i:!1))}function K9(n,e,s,r){if(r==null)return null;const i=n.length+s*2,l=Math.floor(e*G9),c=i/e,f=(r.width||l)*c,u=(r.height||l)*c,m=r.x==null?n.length/2-f/2:r.x*c,g=r.y==null?n.length/2-u/2:r.y*c,b=r.opacity==null?1:r.opacity;let v=null;if(r.excavate){let N=Math.floor(m),E=Math.floor(g),k=Math.ceil(f+m-N),D=Math.ceil(u+g-E);v={x:N,y:E,w:k,h:D}}const T=r.crossOrigin;return{x:m,y:g,h:u,w:f,excavation:v,opacity:b,crossOrigin:T}}function W9(n,e){return e!=null?Math.max(Math.floor(e),0):n?q9:H9}function Y4({value:n,level:e,minVersion:s,includeMargin:r,marginSize:i,imageSettings:l,size:c,boostLevel:f}){let u=De.useMemo(()=>{const N=(Array.isArray(n)?n:[n]).reduce((E,k)=>(E.push(...Ad.QrSegment.makeSegments(k)),E),[]);return Ad.QrCode.encodeSegments(N,$9[e],s,void 0,void 0,f)},[n,e,s,f]);const{cells:m,margin:g,numCells:b,calculatedImageSettings:v}=De.useMemo(()=>{let T=u.getModules();const N=W9(r,i),E=T.length+N*2,k=K9(T,c,N,l);return{cells:T,margin:N,numCells:E,calculatedImageSettings:k}},[u,c,l,r,i]);return{qrcode:u,margin:g,cells:m,numCells:b,calculatedImageSettings:v}}var Y9=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),Q9=De.forwardRef(function(e,s){const r=e,{value:i,size:l=F4,level:c=B4,bgColor:f=$4,fgColor:u=q4,includeMargin:m=H4,minVersion:g=G4,boostLevel:b,marginSize:v,imageSettings:T}=r,E=ev(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=E,D=ev(E,["style"]),P=T==null?void 0:T.src,L=De.useRef(null),V=De.useRef(null),$=De.useCallback(U=>{L.current=U,typeof s=="function"?s(U):s&&(s.current=U)},[s]),[Q,_]=De.useState(!1),{margin:A,cells:I,numCells:z,calculatedImageSettings:O}=Y4({value:i,level:c,minVersion:g,boostLevel:b,includeMargin:m,marginSize:v,imageSettings:T,size:l});De.useEffect(()=>{if(L.current!=null){const U=L.current,he=U.getContext("2d");if(!he)return;let W=I;const te=V.current,be=O!=null&&te!==null&&te.complete&&te.naturalHeight!==0&&te.naturalWidth!==0;be&&O.excavation!=null&&(W=W4(I,O.excavation));const Ae=window.devicePixelRatio||1;U.height=U.width=l*Ae;const Ie=l/z*Ae;he.scale(Ie,Ie),he.fillStyle=f,he.fillRect(0,0,z,z),he.fillStyle=u,Y9?he.fill(new Path2D(K4(W,A))):I.forEach(function(H,oe){H.forEach(function(Ne,K){Ne&&he.fillRect(K+A,oe+A,1,1)})}),O&&(he.globalAlpha=O.opacity),be&&he.drawImage(te,O.x+A,O.y+A,O.w,O.h)}}),De.useEffect(()=>{_(!1)},[P]);const F=Zb({height:l,width:l},k);let R=null;return P!=null&&(R=De.createElement("img",{src:P,key:P,style:{display:"none"},onLoad:()=>{_(!0)},ref:V,crossOrigin:O==null?void 0:O.crossOrigin})),De.createElement(De.Fragment,null,De.createElement("canvas",Zb({style:F,height:l,width:l,ref:$,role:"img"},D)),R)});Q9.displayName="QRCodeCanvas";var Q4=De.forwardRef(function(e,s){const r=e,{value:i,size:l=F4,level:c=B4,bgColor:f=$4,fgColor:u=q4,includeMargin:m=H4,minVersion:g=G4,boostLevel:b,title:v,marginSize:T,imageSettings:N}=r,E=ev(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:D,numCells:P,calculatedImageSettings:L}=Y4({value:i,level:c,minVersion:g,boostLevel:b,includeMargin:m,marginSize:T,imageSettings:N,size:l});let V=D,$=null;N!=null&&L!=null&&(L.excavation!=null&&(V=W4(D,L.excavation)),$=De.createElement("image",{href:N.src,height:L.h,width:L.w,x:L.x+k,y:L.y+k,preserveAspectRatio:"none",opacity:L.opacity,crossOrigin:L.crossOrigin}));const Q=K4(V,k);return De.createElement("svg",Zb({height:l,width:l,viewBox:`0 0 ${P} ${P}`,ref:s,role:"img"},E),!!v&&De.createElement("title",null,v),De.createElement("path",{fill:f,d:`M0,0 h${P}v${P}H0z`,shapeRendering:"crispEdges"}),De.createElement("path",{fill:u,d:Q,shapeRendering:"crispEdges"}),$)});Q4.displayName="QRCodeSVG";const X9=b9("pk_live_51ST5n8JLE5bW6f8EX9PlyQhzw3NNyU4DUGc2YNvdUWM8eDVJBh2U0gKQylFvHAe32IuWDka1uQwaVsSvU4186txw00lanUMTEu"),mS={USD:{name:"Easytrafficbot Ug",accountNumber:"8314422210",accountType:"Checking",routingNumber:"026073150",swift:"TRWIBEB1XXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from USA (Wire & ACH)"},EUR:{name:"Easytrafficbot Ug",iban:"BE86 9679 9171 7050",swift:"TRWIBEB1XXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for SEPA transfers within Europe"},GBP:{name:"Easytrafficbot Ug",accountNumber:"46701141",sortCode:"23-08-01",iban:"GB79 TRWI 2308 0146 7011 41",swift:"TRWIGB2LXXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from UK"},AUD:{name:"Easytrafficbot Ug",accountNumber:"218673731",bsb:"774-001",swift:"TRWIAUS1XXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from Australia"},RON:{name:"Easytrafficbot Ug",iban:"RO60 BREL 0005 6028 6239 0100",bankName:"Wise / BREL",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from Romania"}},pS={"ETH (ERC20)":{name:"Ethereum (ETH)",network:"Ethereum (ERC20)",address:"0x4F692276Ed837aa458245f4184B4331bE3142233",note:"Send only ETH to this address on the Ethereum network."},"USDC (ERC20)":{name:"USD Coin (USDC)",network:"Ethereum (ERC20)",address:"0x4F692276Ed837aa458245f4184B4331bE3142233",note:"Send only USDC to this address on the Ethereum network."},"USDT (ERC20)":{name:"Tether (USDT)",network:"Ethereum (ERC20)",address:"0x4F692276Ed837aa458245f4184B4331bE3142233",note:"Send only USDT to this address on the Ethereum network."},"USDT (TRC20)":{name:"Tether (USDT)",network:"Tron (TRC20)",address:"TBvarbCL58BtFLnytADapLHmNDvuif3eo9",note:"Send only USDT to this address on the Tron network."},"BTC (Bitcoin)":{name:"Bitcoin (BTC)",network:"Bitcoin",address:"bc1qurxk796p6kwuem3usaqamy74yesh6tlu97m3ju",note:"Send only BTC to this address on the Bitcoin network."}},J9=({amount:n,onSuccess:e,onError:s})=>{const r=U9(),i=M9(),[l,c]=w.useState(null),[f,u]=w.useState(!1),m=async g=>{if(g.preventDefault(),!r||!i)return;u(!0);const{error:b,paymentIntent:v}=await r.confirmPayment({elements:i,confirmParams:{return_url:window.location.href},redirect:"if_required"});b?(c(b.message||"An unexpected error occurred."),s(b.message||"Payment failed"),u(!1)):v&&v.status==="succeeded"?(c("Payment successful!"),e(v.id)):(c("Unexpected state."),u(!1))};return t.jsxs("form",{onSubmit:m,className:"space-y-6",children:[t.jsx(F9,{}),l&&t.jsx("div",{className:"text-red-500 text-sm font-bold bg-red-50 p-3 rounded",children:l}),t.jsxs("button",{disabled:f||!r||!i,className:"w-full bg-[#ff4d00] text-white py-4 text-sm font-black uppercase tracking-widest hover:bg-black transition-colors disabled:opacity-50 mt-4 flex items-center justify-center gap-2",children:[f?t.jsx(fs,{className:"animate-spin",size:16}):t.jsx(Un,{size:16}),f?"Processing...":`Pay ${n.toFixed(2)}`]})]})},Z9=({onBack:n,onPurchase:e})=>{const s=Us(),[r,i]=w.useState(1),[l,c]=w.useState(Vo[0]),[f,u]=w.useState(0),[m,g]=w.useState(1),[b,v]=w.useState(0),[T,N]=w.useState(!1),[E,k]=w.useState("card"),[D,P]=w.useState(""),[L,V]=w.useState("USD"),[$,Q]=w.useState("USDT (TRC20)"),[_,A]=w.useState(null),[I,z]=w.useState(!1),[O,F]=w.useState(!1),[R,U]=w.useState(null),[he,W]=w.useState(""),[te,be]=w.useState(null);w.useEffect(()=>{var je;if(v(q.getBalance()),(E==="bank"||E==="crypto")&&r===2&&!he){const Pe=q.getCurrentUser(),At=((je=Pe==null?void 0:Pe.id)==null?void 0:je.substring(0,8).toUpperCase())||"XXXXX",pe=Date.now().toString(36).toUpperCase();W(`TGP-${At}-${pe}`)}},[E,r]),w.useEffect(()=>{v(q.getBalance())},[]);const Ae=q.getCurrentUser(),Ie=(Ae==null?void 0:Ae.gamificationPermanentDiscount)||0,H=Qb[f],oe=Qf[l.id][H][m],Ne=oe*Ie/100,K=oe-Ne,ye=H*m,Te=K/(ye/1e3),Le=async()=>{if(E==="card"){N(!0);try{const je=await q.createCreditsCheckout({tier:l.id,visitors:H,bulk_months:m,currency:"eur"});je.url?window.location.href=je.url:alert("Failed to initialize Stripe checkout.")}catch(je){alert("Checkout Error: "+je.message)}finally{N(!1)}}else i(2)},at=async je=>{N(!0),await q.purchaseCredits(oe,`Traffic Credits (${ye.toLocaleString()} ${l.name}) - Stripe ${je}`,l.id,ye),v(q.getBalance()),N(!1),e&&e(),s(`/dashboard/payment-success?type=credits&amount=${K.toFixed(2)}&credits=${ye}`)},Ke=(je,Pe)=>{navigator.clipboard.writeText(je),U(Pe),setTimeout(()=>U(null),2e3)},Ht=je=>{je.target.files&&je.target.files[0]&&A(je.target.files[0])},Ft=async()=>{if(!_){alert("Please select a file to upload.");return}z(!0);try{const je=new FormData;je.append("file",_),je.append("amount",K.toString()),je.append("tier",l.id),je.append("hits",ye.toString()),je.append("currency",E==="crypto"?$:L),je.append("notes",`${E==="crypto"?"Crypto":"Bank"} transfer for ${ye.toLocaleString()} ${l.name} visitors - Ref: ${he}`);const Pe=localStorage.getItem("tgp_token");if(!(await fetch(`${de}/bank-transfer/proof`,{method:"POST",headers:{Authorization:`Bearer ${Pe}`},body:je})).ok)throw new Error("Upload failed");F(!0)}catch(je){alert("Upload failed: "+je.message)}finally{z(!1)}},Bt=je=>{const Pe=mS[je];return t.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Account Holder:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Pe.name}),t.jsx("button",{onClick:()=>Ke(Pe.name,"name"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="name"?t.jsx(yt,{size:14,className:"text-green-500"}):t.jsx(xn,{size:14})})]})]}),Pe.iban&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"IBAN:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Pe.iban}),t.jsx("button",{onClick:()=>Ke(Pe.iban,"iban"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="iban"?t.jsx(yt,{size:14,className:"text-green-500"}):t.jsx(xn,{size:14})})]})]}),Pe.accountNumber&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Account Number:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Pe.accountNumber}),t.jsx("button",{onClick:()=>Ke(Pe.accountNumber,"account"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="account"?t.jsx(yt,{size:14,className:"text-green-500"}):t.jsx(xn,{size:14})})]})]}),Pe.routingNumber&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Routing Number:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Pe.routingNumber}),t.jsx("button",{onClick:()=>Ke(Pe.routingNumber,"routing"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="routing"?t.jsx(yt,{size:14,className:"text-green-500"}):t.jsx(xn,{size:14})})]})]}),Pe.sortCode&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Sort-Code:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Pe.sortCode}),t.jsx("button",{onClick:()=>Ke(Pe.sortCode,"sortcode"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="sortcode"?t.jsx(yt,{size:14,className:"text-green-500"}):t.jsx(xn,{size:14})})]})]}),Pe.bsb&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"BSB-Code:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Pe.bsb}),t.jsx("button",{onClick:()=>Ke(Pe.bsb,"bsb"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="bsb"?t.jsx(yt,{size:14,className:"text-green-500"}):t.jsx(xn,{size:14})})]})]}),Pe.swift&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"SWIFT/BIC:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Pe.swift}),t.jsx("button",{onClick:()=>Ke(Pe.swift,"swift"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="swift"?t.jsx(yt,{size:14,className:"text-green-500"}):t.jsx(xn,{size:14})})]})]}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Bank Name:"}),t.jsx("span",{className:"font-bold",children:Pe.bankName})]}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Reference:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold text-[#ff4d00]",children:he}),t.jsx("button",{onClick:()=>Ke(he,"ref"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="ref"?t.jsx(yt,{size:14,className:"text-green-500"}):t.jsx(xn,{size:14})})]})]}),t.jsx("div",{className:"mt-3 p-2 bg-gray-50 border border-gray-200 rounded",children:t.jsx("p",{className:"text-xs text-gray-500",children:Pe.note})})]})},ls=je=>{const Pe=pS[je];return t.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Asset:"}),t.jsx("span",{className:"font-bold",children:Pe.name})]}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Network:"}),t.jsx("span",{className:"font-bold",children:Pe.network})]}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Address:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold break-all max-w-[200px] sm:max-w-none",children:Pe.address}),t.jsx("button",{onClick:()=>Ke(Pe.address,"crypto_address"),className:"text-gray-400 hover:text-[#ff4d00] flex-shrink-0",children:R==="crypto_address"?t.jsx(yt,{size:14,className:"text-green-500"}):t.jsx(xn,{size:14})})]})]}),t.jsx("div",{className:"py-4 flex justify-center border-b border-gray-100",children:t.jsx("div",{className:"p-4 bg-white border border-gray-100 shadow-sm rounded-lg",children:t.jsx(Q4,{value:Pe.address,size:150,fgColor:"#000000",bgColor:"#FFFFFF"})})}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Reference / Tx Hash:"}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:"font-bold text-[#ff4d00]",children:"Required"})})]}),t.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded text-blue-800",children:[t.jsx("p",{className:"text-xs font-bold",children:Pe.note}),t.jsx("p",{className:"text-xs mt-1",children:"Please pay the exact invoice amount or higher. After making the payment, please upload a screenshot or mention your transaction hash as proof."})]})]})};return T&&r===1?t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[500px] text-center",children:[t.jsx(fs,{className:"w-16 h-16 text-[#ff4d00] animate-spin mb-6"}),t.jsx("h3",{className:"text-2xl font-black uppercase text-gray-900 mb-2",children:"Connecting Secure Gateway"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Please wait..."})]}):t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[t.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-gray-200 pb-8",children:t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Exchange & Funding"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Purchase Traffic Credits"})]})}),r===1?t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Vo.map(je=>t.jsxs("button",{onClick:()=>c(je),className:`relative p-8 border-2 transition-all duration-300 text-left flex flex-col min-h-[280px] ${l.id===je.id?`${je.color} bg-white shadow-xl translate-y-[-4px]`:"border-transparent bg-gray-50 opacity-60 hover:opacity-100"}`,children:[je.popular&&t.jsx("div",{className:"absolute top-0 right-0 bg-[#ff4d00] text-white text-[9px] font-black uppercase px-3 py-1.5",children:"Recommended"}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 text-gray-400",children:[t.jsx(ca,{size:20}),t.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:je.quality})]}),t.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter mb-2",children:je.name}),t.jsxs("div",{className:"text-sm font-bold text-[#ff4d00] mb-8",children:["",je.factor.toFixed(2)," Price Factor"]}),t.jsx("ul",{className:"space-y-3 mt-auto",children:je.features.slice(0,3).map((Pe,At)=>t.jsxs("li",{className:"text-xs font-medium text-gray-500 flex items-center gap-2",children:[t.jsx(rn,{size:12,className:"text-[#ff4d00]"})," ",Pe]},At))})]},je.id))}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-12",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(v4,{size:14,className:"text-[#ff4d00]"})," Volume Configurator"]}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1",children:"Select your traffic volume"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:H.toLocaleString()}),t.jsx("div",{className:"text-[10px] font-black text-[#ff4d00] uppercase tracking-widest",children:"Hits Per Credit"})]})]}),t.jsxs("div",{className:"relative mb-16 px-4",children:[t.jsx("input",{type:"range",min:"0",max:"4",step:"1",value:f,onChange:je=>u(parseInt(je.target.value)),className:"w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer accent-[#ff4d00] relative z-20"}),t.jsx("div",{className:"absolute top-6 left-0 w-full flex justify-between text-[10px] font-bold text-gray-400 uppercase tracking-wider px-1",children:Qb.map((je,Pe)=>t.jsxs("div",{className:"flex flex-col items-center cursor-pointer hover:text-black",onClick:()=>u(Pe),children:[t.jsx("div",{className:"h-2 w-0.5 bg-gray-300 mb-1"}),t.jsx("span",{children:je>=1e6?`${je/1e6}M`:`${je/1e3}k`})]},je))})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-8",children:[t.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-4",children:"Bulk Packages"}),t.jsx("div",{className:"grid grid-cols-3 gap-4",children:i9.map(je=>t.jsxs("button",{onClick:()=>g(je),className:`relative py-4 border-2 flex flex-col items-center justify-center transition-all ${m===je?"border-[#ff4d00] bg-orange-50 text-black":"border-gray-100 text-gray-400 hover:border-gray-300"}`,children:[je>1&&t.jsxs("div",{className:"absolute -top-3 bg-[#ff4d00] text-white text-[9px] font-black uppercase px-2 py-0.5 rounded-full shadow-sm",children:["Save ",je===6?"20%":"40%"]}),t.jsxs("div",{className:"text-xl font-black",children:[je,"x"]}),t.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest opacity-60",children:"Credits Included"})]},je))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 mb-6 flex items-center gap-2",children:[t.jsx(j4,{size:14,className:"text-[#ff4d00]"})," Payment Method"]}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:()=>k("card"),className:`p-4 border-2 transition-all flex flex-col items-center gap-3 text-center ${E==="card"?"border-[#ff4d00] bg-orange-50 shadow-lg ring-1 ring-[#ff4d00]":"border-gray-100 hover:border-gray-200"}`,children:[t.jsx(cn,{size:28,className:E==="card"?"text-[#ff4d00]":"text-gray-300"}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Card"})]}),t.jsxs("button",{onClick:()=>k("crypto"),className:`p-4 border-2 transition-all flex flex-col items-center gap-3 text-center ${E==="crypto"?"border-[#ff4d00] bg-orange-50 shadow-lg":"border-gray-100 hover:border-gray-200"}`,children:[t.jsx(d4,{size:28,className:E==="crypto"?"text-[#ff4d00]":"text-gray-300"}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Crypto"})]}),t.jsxs("button",{onClick:()=>k("bank"),className:`p-4 border-2 transition-all flex flex-col items-center gap-3 text-center ${E==="bank"?"border-[#ff4d00] bg-orange-50 shadow-lg":"border-gray-100 hover:border-gray-200"}`,children:[t.jsx(p4,{size:28,className:E==="bank"?"text-[#ff4d00]":"text-gray-300"}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Bank"})]})]})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-[#111] text-white p-10 shadow-2xl relative overflow-hidden sticky top-8 min-h-[500px]",children:[t.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10 rotate-12",children:t.jsx(lw,{size:180})}),t.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-gray-400 mb-12 relative",children:"Package Summary"}),t.jsxs("div",{className:"space-y-8 relative",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Plan"}),t.jsx("div",{className:"font-black text-base uppercase",children:l.name})]}),t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Volume"}),t.jsxs("div",{className:"font-black text-base",children:[H.toLocaleString()," ",t.jsxs("span",{className:"text-gray-500",children:["x",m]})]})]}),t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Total Hits"}),t.jsx("div",{className:"font-black text-base text-[#ff4d00]",children:ye.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Pricing Tier"}),t.jsxs("div",{className:"font-black text-base text-gray-300",children:["",Te.toFixed(2)," CPM"]})]}),Ie>0&&t.jsxs("div",{className:"flex justify-between items-end text-[#ff4d00]",children:[t.jsxs("div",{className:"text-xs font-black uppercase tracking-widest flex items-center gap-1",children:[t.jsx(Vr,{size:12,fill:"currentColor"})," Level ",(Ae==null?void 0:Ae.gamificationLevel)||1," Discount"]}),t.jsxs("div",{className:"font-black text-base",children:["-",Ie,"%"]})]}),t.jsx("div",{className:"h-px bg-gray-800 my-10"}),m>1?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center text-gray-400",children:[t.jsx("div",{className:"text-xs font-bold uppercase tracking-widest",children:"Original Total"}),t.jsxs("div",{className:"text-base line-through",children:["",oe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"flex justify-between items-center text-green-400 pb-2",children:[t.jsxs("div",{className:"text-xs font-black uppercase tracking-widest bg-green-900/40 px-2 py-1 rounded text-green-400 border border-green-800/50",children:["Save ",m===6?"20%":"40%"]}),t.jsxs("div",{className:"text-base font-bold",children:["-",Ne.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-sm font-black uppercase tracking-widest",children:"Total Due"}),t.jsxs("div",{className:"text-4xl font-black text-white",children:["",K.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}):t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"text-sm font-black uppercase tracking-widest",children:["Total Due ",t.jsx("span",{className:"text-[10px] text-gray-500 block",children:"No bulk discount applied"})]}),t.jsxs("div",{className:"text-4xl font-black text-white",children:["",K.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("button",{onClick:Le,className:"w-full bg-[#ff4d00] text-white py-6 text-sm font-black uppercase tracking-widest hover:bg-white hover:text-black transition-all flex items-center justify-center gap-3 mt-10 shadow-[0_15px_30px_rgba(255,77,0,0.3)] group",children:["Proceed to Checkout ",t.jsx(ms,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),t.jsxs("div",{className:"mt-10 flex items-center justify-center gap-2 text-gray-500",children:[t.jsx(Un,{size:14}),t.jsx("span",{className:"text-[10px] uppercase font-black tracking-[0.2em]",children:"Tiered Rate Calculator v4.1"})]})]})]})})]}):t.jsxs("div",{className:"mx-auto space-y-8 animate-in slide-in-from-right-8 duration-500 pb-20 w-full mb-16",children:[t.jsxs("button",{onClick:()=>i(1),className:"flex items-center gap-2 text-gray-500 hover:text-black text-sm font-bold uppercase tracking-wider mb-6",children:[t.jsx(ms,{size:16,className:"rotate-180"})," Back to Configuration"]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 md:p-14 shadow-xl min-h-[700px] w-full",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h3",{className:"text-4xl font-black text-gray-900 uppercase tracking-tighter mb-4",children:"Secure Checkout"}),t.jsxs("p",{className:"text-gray-500 text-lg",children:["Completing payment of ",t.jsxs("span",{className:"font-bold text-[#ff4d00] text-xl",children:["",K.toFixed(2)]})," via ",E==="card"?"Stripe Secure":E]})]}),E==="card"&&D&&t.jsx("div",{className:"max-w-3xl mx-auto",children:t.jsx(L4,{stripe:X9,options:{clientSecret:D,appearance:{theme:"stripe",variables:{colorPrimary:"#ff4d00"}}},children:t.jsx(J9,{amount:K,onSuccess:at,onError:je=>alert(je)})})}),(E==="bank"||E==="crypto")&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-6 shadow-md",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(Zl,{size:28,className:"text-green-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xl font-black text-green-800 mb-2",children:"Instant Credit Upon Confirmation"}),t.jsxs("p",{className:"text-base text-green-700",children:["Upload your transfer confirmation. After validation, traffic will be ",t.jsx("strong",{className:"text-green-900",children:"instantly"})," credited to your account."]})]})]})}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-black uppercase tracking-widest text-gray-400 mb-4 block flex items-center gap-2",children:[t.jsx(ca,{size:14})," ",E==="crypto"?"Select Asset":"Select Currency"]}),t.jsx("div",{className:"flex flex-wrap gap-4",children:E==="bank"?Object.keys(mS).map(je=>{const Pe={USD:"$",EUR:"",GBP:"",AUD:"A$",RON:"lei"};return t.jsxs("button",{onClick:()=>V(je),className:`px-6 py-3 text-base font-bold uppercase tracking-wider transition-all flex items-center gap-2 ${L===je?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx("span",{className:"text-lg",children:Pe[je]}),je]},je)}):Object.keys(pS).map(je=>t.jsx("button",{onClick:()=>Q(je),className:`px-4 py-3 text-xs sm:text-sm font-bold uppercase tracking-wider transition-all ${$===je?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:je},je))})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-5",children:[t.jsx("h4",{className:"text-sm font-black uppercase tracking-widest text-gray-900",children:E==="crypto"?"Crypto Address":`Bank Details (${L})`}),E==="bank"&&t.jsx("span",{className:"text-xs font-bold text-[#ff4d00] uppercase",children:"Recommended"})]}),E==="crypto"?ls($):Bt(L)]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("label",{className:"text-sm font-black uppercase tracking-widest text-gray-400 mb-4 block",children:"Upload Transfer Confirmation"}),O?t.jsxs("div",{className:"bg-green-50 border border-green-200 p-10 text-center h-full flex flex-col items-center justify-center",children:[t.jsx(yt,{size:72,className:"text-green-500 mb-6"}),t.jsx("p",{className:"text-lg font-bold text-green-800 mb-3",children:"Upload Successful!"}),t.jsx("p",{className:"text-base text-green-600",children:"Your transfer is being reviewed. You will receive instant credit upon validation."})]}):t.jsxs("div",{className:"space-y-5 h-full flex flex-col",children:[t.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-10 text-center hover:border-[#ff4d00] transition-colors cursor-pointer flex-1 flex flex-col items-center justify-center",children:[t.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.webp",onChange:Ht,className:"hidden",id:"proof-upload"}),t.jsxs("label",{htmlFor:"proof-upload",className:"cursor-pointer",children:[t.jsx(Sg,{size:48,className:"mx-auto text-gray-400 mb-5"}),t.jsx("p",{className:"text-lg font-medium text-gray-600",children:_?_.name:"Click here or drag a file"}),t.jsx("p",{className:"text-sm text-gray-400 mt-3",children:"PDF, JPG, PNG (max. 10MB)"})]})]}),t.jsx("button",{onClick:Ft,disabled:!_||I,className:"w-full bg-[#ff4d00] text-white py-6 text-base font-black uppercase tracking-widest hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:I?t.jsxs(t.Fragment,{children:[t.jsx(fs,{className:"animate-spin",size:20}),"Uploading..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Sg,{size:20}),"Upload & Release Traffic"]})}),t.jsx("div",{className:"bg-gray-50 border border-gray-200 p-5 text-center",children:t.jsxs("p",{className:"text-base text-gray-500",children:["Amount: ",t.jsxs("strong",{className:"text-[#ff4d00] text-lg",children:["",K.toFixed(2)]})," for ",t.jsxs("strong",{children:[ye.toLocaleString()," ",l.name," Visitors"]})]})})]})]})]})]}),t.jsxs("div",{className:"flex justify-center items-center gap-2 opacity-50",children:[t.jsx(Un,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"256-Bit SSL Encrypted & Verified"})]})]}),t.jsxs("div",{className:"mt-20 pt-16 border-t border-gray-200",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h3",{className:"text-3xl font-black text-gray-900 uppercase tracking-tighter mb-4",children:"Frequently Asked Questions"}),t.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:"Everything you need to know about purchasing and using our traffic credits."})]}),t.jsx("div",{className:"max-w-4xl mx-auto space-y-4",children:[{q:"What are traffic credits?",a:"Traffic credits are our internal currency. 1 credit equals 1 unique visitor to your website. You purchase credits in bulk and can spend them on any active projects or campaigns you create in your dashboard."},{q:"Do my credits expire?",a:"No, purchased credits never expire. They remain in your account indefinitely until you use them on campaigns. You have complete flexibility on when and how to deploy your traffic."},{q:"How fast is the delivery?",a:"Traffic delivery begins immediately after your campaign goes live. You can control the exact speed, from a slow drip (e.g., 100 visitors/day) to a massive surge, depending on your project settings."},{q:"What defines 'High Quality' vs. other tiers?",a:"Our tiers dictate the routing network and residential IP quality. Higher tiers use premium, low-fraud-score residential proxies that heavily mimic real user behavior, offering longer session times and better geographic precision."},{q:"How do Crypto/Bank payments work?",a:"For Crypto and Bank Wire, you'll transfer the exact amount to the provided details and upload a screenshot or transaction hash. Our team verifies this manually (usually within 1-12 hours) and instantly releases the credits to your account upon confirmation."}].map((je,Pe)=>t.jsxs("div",{className:"border border-gray-200 bg-white overflow-hidden transition-all duration-300",children:[t.jsxs("button",{onClick:()=>be(te===Pe?null:Pe),className:"w-full flex justify-between items-center p-6 text-left hover:bg-gray-50 focus:outline-none",children:[t.jsx("span",{className:"font-bold text-gray-900 text-lg pr-8",children:je.q}),t.jsx("div",{className:`flex-shrink-0 transition-transform duration-300 text-[#ff4d00] ${te===Pe?"rotate-180":""}`,children:t.jsx(qa,{size:20})})]}),t.jsx("div",{className:`transition-all duration-300 ease-in-out ${te===Pe?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:t.jsx("div",{className:"p-6 pt-0 text-gray-600 leading-relaxed border-t border-gray-100",children:je.a})})]},Pe))})]})]})},eL=()=>{var F;const[n,e]=w.useState("contact"),[s,r]=w.useState(!1),[i,l]=w.useState("idle"),[c,f]=w.useState(void 0),[u,m]=w.useState(!1),[g,b]=w.useState(""),[v,T]=w.useState(""),[N,E]=w.useState({current:"",new:"",confirm:""}),[k,D]=w.useState(""),[P,L]=w.useState(""),V=w.useRef(null),$=()=>{var R;(R=V.current)==null||R.click()},Q=async R=>{if(R.target.files&&R.target.files[0])try{const U=await q.uploadAvatar(R.target.files[0]);c&&f({...c,avatarUrl:U}),alert("Avatar updated successfully!")}catch(U){alert("Failed to upload avatar: "+U.message)}},_=async()=>{if(confirm("DANGER: Are you sure you want to delete your account? This action is irreversible.")&&prompt("Type 'DELETE' to confirm account deletion:")==="DELETE")try{await q.deleteAccount(),alert("Account deleted. Goodbye.")}catch(U){alert(U.message)}};w.useEffect(()=>{const R=q.getCurrentUser();f(R)},[]);const A=async()=>{if(c){r(!0),l("idle");try{const R=await q.updateUserProfile(c);R&&f(R),l("success"),setTimeout(()=>l("idle"),3e3)}catch(R){console.error(R),l("error"),setTimeout(()=>l("idle"),3e3)}finally{r(!1)}}},I=(R,U)=>{c&&f({...c,[R]:U})},z=async()=>{if(D(""),L(""),N.new!==N.confirm){D("New passwords do not match.");return}try{await q.changePassword(N.current,N.new,N.confirm),L("Password updated successfully."),E({current:"",new:"",confirm:""})}catch(R){D(R.message)}},O=async()=>{if(confirm("Log out of all other sessions? You will need to log in again on other devices."))try{await q.logoutAllSessions(),alert("All other sessions invalidted.")}catch(R){alert(R.message)}};return c?t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex items-end justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Account Management"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"My Profile"})]}),t.jsx("button",{onClick:A,disabled:s||i==="success",className:`px-6 py-3 text-xs font-bold uppercase tracking-wider transition-all duration-300 flex items-center gap-2 ${i==="success"?"bg-green-500 text-white hover:bg-green-600":i==="error"?"bg-red-500 text-white hover:bg-red-600":"bg-black text-white hover:bg-[#ff4d00]"} disabled:opacity-70`,children:i==="success"?t.jsxs(t.Fragment,{children:[t.jsx(Xl,{size:14,className:"animate-in zoom-in spin-in-90 duration-300"})," Saved!"]}):i==="error"?t.jsxs(t.Fragment,{children:[t.jsx(dn,{size:14})," Failed"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ha,{size:14})," ",s?"Saving...":"Save Changes"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 text-center shadow-sm",children:[t.jsxs("div",{className:"relative inline-block mb-6 group",children:[t.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-full flex items-center justify-center border-4 border-white shadow-lg mx-auto overflow-hidden",children:c.avatarUrl?t.jsx("img",{src:`${de}${c.avatarUrl}`,alt:c.name,className:"w-full h-full object-cover"}):t.jsx("span",{className:"text-4xl font-black text-gray-300",children:c.name.split(" ").map(R=>R[0]).join("")})}),t.jsx("button",{onClick:$,className:"absolute bottom-0 right-0 bg-[#ff4d00] text-white p-2 rounded-full hover:bg-black transition-colors shadow-md",children:t.jsx(nD,{size:16})}),t.jsx("input",{type:"file",ref:V,onChange:Q,className:"hidden",accept:"image/png, image/jpeg, image/webp"})]}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:c.name}),t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mt-1",children:c.role}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 flex justify-center gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-black text-gray-900",children:c.projectsCount}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Campaigns"})]}),t.jsx("div",{className:"w-px bg-gray-200"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-black text-green-600",children:c.status}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Status"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("button",{onClick:()=>e("contact"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="contact"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[t.jsx(qn,{size:16})," Contact Details"]}),t.jsxs("button",{onClick:()=>e("security"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="security"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[t.jsx(zr,{size:16})," Security & 2FA"]}),t.jsxs("button",{onClick:()=>e("notifications"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="notifications"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[t.jsx(qb,{size:16})," Notifications"]})]})]}),t.jsx("div",{className:"lg:col-span-2 space-y-6",children:n==="contact"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(qn,{size:14})," Personal Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(tn,{children:"Full Name"}),t.jsx(Sn,{value:c.name,onChange:R=>I("name",R),icon:t.jsx(qn,{size:16})})]}),t.jsxs("div",{children:[t.jsx(tn,{children:"Display Name (Nickname)"}),t.jsx(Sn,{value:c.displayName||"",onChange:R=>I("displayName",R),icon:t.jsx(X2,{size:16}),placeholder:"The Traffic King"})]}),t.jsxs("div",{children:[t.jsx(tn,{children:"Email Address"}),t.jsx(Sn,{value:c.email,onChange:R=>I("email",R),icon:t.jsx(_i,{size:16})})]}),t.jsxs("div",{children:[t.jsx(tn,{children:"Phone Number"}),t.jsx(Sn,{value:c.phone||"",onChange:R=>I("phone",R),icon:t.jsx($O,{size:16}),placeholder:"+1 (555) 000-0000"})]}),t.jsxs("div",{children:[t.jsx(tn,{children:"Job Title"}),t.jsx(Sn,{value:c.jobTitle||"",onChange:R=>I("jobTitle",R),icon:t.jsx(rb,{size:16}),placeholder:"SEO Manager"})]}),t.jsxs("div",{children:[t.jsx(tn,{children:"Website"}),t.jsx(Sn,{value:c.website||"",onChange:R=>I("website",R),icon:t.jsx(Os,{size:16}),placeholder:"https://yourpage.com"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(tn,{children:"Personal Bio"}),t.jsx("textarea",{value:c.bio||"",onChange:R=>I("bio",R.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none min-h-[100px]",placeholder:"Tell us a bit about yourself..."})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(rb,{size:14})," Company & Address"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(tn,{children:"Company Name"}),t.jsx(Sn,{value:c.company||"",onChange:R=>I("company",R),icon:t.jsx(rb,{size:16})})]}),t.jsxs("div",{children:[t.jsx(tn,{children:"VAT ID / Tax ID"}),t.jsx(Sn,{value:c.vatId||"",onChange:R=>I("vatId",R),icon:t.jsx(X2,{size:16})})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(tn,{children:"Street Address"}),t.jsx(Sn,{value:c.address||"",onChange:R=>I("address",R),icon:t.jsx(zo,{size:16})})]}),t.jsxs("div",{children:[t.jsx(tn,{children:"City"}),t.jsx(Sn,{value:c.city||"",onChange:R=>I("city",R)})]}),t.jsxs("div",{children:[t.jsx(tn,{children:"Zip / Postal Code"}),t.jsx(Sn,{value:c.zip||"",onChange:R=>I("zip",R)})]}),t.jsxs("div",{children:[t.jsx(tn,{children:"Country"}),t.jsx(Sn,{value:c.country||"",onChange:R=>I("country",R),placeholder:"e.g. Germany"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Os,{size:14})," Visibility"]}),t.jsx(bo,{label:"Public Profile Visibility",checked:c.publicProfile||!1,onChange:R=>f({...c,publicProfile:R})}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-2",children:"When enabled, other users can see your shared campaign stats and badges."})]})]}):n==="security"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(zr,{size:14})," Security & Authentication"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-bold text-gray-600",children:"Two-Factor Authentication (2FA)"}),t.jsx("button",{className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors",children:"Enable 2FA"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Add an extra layer of security to your account by requiring a verification code from your phone."}),t.jsx("div",{className:"border-t border-gray-100 pt-6",children:t.jsx(bo,{label:"Require password on all devices every 30 days",checked:c.requirePasswordReset||!1,onChange:R=>I("requirePasswordReset",R.toString())})})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Un,{size:14})," Change Password"]}),k&&t.jsx("p",{className:"text-red-500 text-xs mb-4",children:k}),P&&t.jsx("p",{className:"text-green-500 text-xs mb-4",children:P}),t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs("div",{children:[t.jsx(tn,{children:"Current Password"}),t.jsx(Sn,{type:"password",value:N.current,onChange:R=>E({...N,current:R}),icon:t.jsx(Un,{size:16})})]}),t.jsxs("div",{children:[t.jsx(tn,{children:"New Password"}),t.jsx(Sn,{type:"password",value:N.new,onChange:R=>E({...N,new:R}),icon:t.jsx(Un,{size:16})})]}),t.jsxs("div",{children:[t.jsx(tn,{children:"Confirm New Password"}),t.jsx(Sn,{type:"password",value:N.confirm,onChange:R=>E({...N,confirm:R}),icon:t.jsx(Un,{size:16})})]}),t.jsx("button",{onClick:z,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors self-start",children:"Update Password"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(ps,{size:14})," Recent Login History"]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left text-xs font-bold",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-100 pb-2",children:[t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"Date & Time"}),t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"IP Address"}),t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"Device / Browser"}),t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest text-right",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:(c.loginHistory||[]).length>0?(F=c.loginHistory)==null?void 0:F.map((R,U)=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"py-4 text-gray-900",children:R.date}),t.jsx("td",{className:"py-4 text-gray-500 font-mono",children:R.ip}),t.jsx("td",{className:"py-4 text-gray-600",children:R.device}),t.jsx("td",{className:"py-4 text-right",children:U===0?t.jsx("span",{className:"text-green-600",children:"Current Session"}):t.jsx("span",{className:"text-gray-400",children:"Previous"})})]},U)):t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"No recent login history found."})})})]})}),t.jsx("button",{onClick:O,className:"mt-6 w-full py-3 border border-gray-200 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 transition-colors",children:"Log out of all other sessions"}),t.jsxs("div",{className:"mt-12 pt-12 border-t border-gray-200",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-red-600 mb-4 flex items-center gap-2",children:[t.jsx(dn,{size:14})," Danger Zone"]}),t.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),t.jsx("button",{onClick:_,className:"bg-red-50 text-red-600 border border-red-200 px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-red-600 hover:text-white transition-colors",children:"Delete My Account"})]})]})]}):n==="notifications"?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[t.jsx(qb,{size:14})," Notification Preferences"]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(tn,{children:"Email Frequency"}),t.jsxs("select",{value:c.emailFrequency||"instant",onChange:R=>I("emailFrequency",R.target.value),className:"bg-gray-100 border-none p-2 text-[10px] font-black uppercase tracking-widest outline-none",children:[t.jsx("option",{value:"instant",children:"Instant"}),t.jsx("option",{value:"daily",children:"Daily Digest"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx(bo,{label:"Campaign Status Alerts",checked:!0}),t.jsx(bo,{label:"Low Balance Warnings",checked:!0}),t.jsx(bo,{label:"New Login Notifications",checked:c.loginNotificationEnabled||!1,onChange:R=>I("loginNotificationEnabled",R.toString())})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx(bo,{label:"Marketing & Product Updates",checked:c.newsletterSub||!1,onChange:R=>I("newsletterSub",R.toString())}),t.jsx(bo,{label:"Weekly Performance Reports",checked:!0}),t.jsx(bo,{label:"Sound Effects (UI)",checked:c.soundEffects||!1,onChange:R=>I("soundEffects",R.toString())})]})]})]})}):null})]})]}):t.jsx("div",{children:"Loading..."})},bo=({label:n,checked:e,onChange:s})=>{const[r,i]=w.useState(e);w.useEffect(()=>{i(e)},[e]);const l=()=>{const c=!r;i(c),s&&s(c)};return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-bold text-gray-600",children:n}),t.jsx("button",{onClick:l,className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${r?"bg-[#ff4d00]":"bg-gray-200"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${r?"translate-x-5":"translate-x-0"}`})})]})},tn=({children:n})=>t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:n}),Sn=({value:n,onChange:e,icon:s,type:r="text",placeholder:i})=>t.jsxs("div",{className:"relative",children:[s&&t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:s}),t.jsx("input",{type:r,value:n,onChange:l=>e(l.target.value),className:`w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none transition-colors ${s?"pl-10":""}`,placeholder:i})]}),tL=()=>{const[n,e]=w.useState([]),[s,r]=w.useState(null),[i,l]=w.useState(void 0),[c,f]=w.useState("all"),[u,m]=w.useState("all");w.useEffect(()=>{(async()=>{l(q.getCurrentUser()),await q.syncTransactions(),e(q.getTransactions())})();const D=setInterval(()=>{l(q.getCurrentUser())},2e3);return()=>clearInterval(D)},[]);const g=k=>{const D=n.filter(L=>L.type!=="debit"&&L.tier===k&&L.hits).reduce((L,V)=>L+(V.hits||0),0),P=n.filter(L=>L.type==="debit"&&L.tier===k&&L.hits).reduce((L,V)=>L+(V.hits||0),0);return D-P},b=k=>k?{economy:"Economy",professional:"Professional",expert:"Expert"}[k]||k:"General",v=k=>k&&{economy:"bg-gray-100 text-gray-600",professional:"bg-orange-100 text-orange-600",expert:"bg-[#ff4d00]/10 text-[#ff4d00]"}[k]||"bg-gray-100 text-gray-600",T=n.filter(k=>{if(u!=="all"&&k.tier!==u)return!1;if(c!=="all"){const D=new Date(k.date),P=new Date,L=c==="7d"?7:c==="30d"?30:90,V=new Date(P.getTime()-L*24*60*60*1e3);if(D<V)return!1}return!0}),N=()=>{if(T.length===0){alert("No transactions to download.");return}const k=["ID","Date","Description","Type","Amount","Status","Balance Tier","Hits","Reference"],D=T.map($=>[$.id,$.date,`"${$.desc.replace(/"/g,'""')}"`,$.type,$.amount.toFixed(2),$.status,b($.tier),$.hits?($.type==="debit"?"-":"+")+$.hits.toString():"",$.reference||""]),P="data:text/csv;charset=utf-8,"+k.join(",")+`
`+D.map($=>$.join(",")).join(`
`),L=encodeURI(P),V=document.createElement("a");V.setAttribute("href",L),V.setAttribute("download",`traffic_statement_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(V),V.click(),document.body.removeChild(V)},E=({trx:k,onClose:D})=>t.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:D,children:t.jsxs("div",{className:"bg-white w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-200",onClick:P=>P.stopPropagation(),children:[t.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-6 h-6 bg-[#ff4d00] flex items-center justify-center",children:t.jsx("span",{className:"font-black text-black text-xs",children:"M"})}),t.jsx("span",{className:"font-black text-lg tracking-tight",children:"TRAFFIC GEN"})]}),t.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-widest",children:"Receipt"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-xl font-bold text-gray-900 mb-1",children:["",k.amount.toFixed(2)]}),k.hits&&t.jsxs("div",{className:`text-sm font-bold mb-1 ${k.type==="debit"?"text-red-600":"text-green-600"}`,children:["(",k.type==="debit"?"-":"+",k.hits.toLocaleString()," hits)"]}),t.jsx("div",{className:`text-xs font-bold uppercase tracking-wide px-2 py-0.5 inline-block ${k.status==="completed"?"bg-green-100 text-green-700":"bg-gray-100"}`,children:k.status})]})]}),t.jsxs("div",{className:"p-8 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Date"}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:k.date})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Transaction ID"}),t.jsx("div",{className:"text-sm font-mono text-gray-600",children:k.id})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Type"}),t.jsx("div",{className:"text-sm font-bold text-gray-900 capitalize",children:k.type==="debit"?"Purchase":"Deposit"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Balance Tier"}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:b(k.tier)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Reference"}),t.jsx("div",{className:"text-sm font-mono text-gray-600",children:k.reference||"-"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"User"}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:(i==null?void 0:i.name)||"User"})]})]}),t.jsxs("div",{className:"bg-gray-50 p-4 border border-gray-100",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Description"}),t.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.desc})]})]}),t.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex justify-end gap-3",children:[t.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase hover:bg-gray-100",children:[t.jsx(KO,{size:14})," Print"]}),t.jsx("button",{onClick:D,className:"px-4 py-2 bg-black text-white text-xs font-bold uppercase hover:bg-[#ff4d00]",children:"Close"})]})]})});return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[s&&t.jsx(E,{trx:s,onClose:()=>r(null)}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Financial Overview"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Balances"})]}),t.jsxs("button",{onClick:N,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(vi,{size:14})," Statement"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white border-b-4 border-gray-200 p-8 shadow-sm hover:translate-y-[-2px] transition-transform",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsx("div",{className:"p-2 bg-gray-100 rounded-sm text-gray-600",children:t.jsx(ca,{size:20})}),t.jsx("span",{className:"text-[10px] font-bold bg-gray-100 px-2 py-1 uppercase tracking-widest text-gray-500",children:"Economy"})]}),t.jsx("div",{className:"text-3xl font-black text-gray-900 mb-1",children:g("economy").toLocaleString()}),t.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Hits Available"})]}),t.jsxs("div",{className:"bg-white border-b-4 border-orange-300 p-8 shadow-sm hover:translate-y-[-2px] transition-transform relative overflow-hidden",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[t.jsx("div",{className:"p-2 bg-orange-50 rounded-sm text-orange-500",children:t.jsx(wf,{size:20})}),t.jsx("span",{className:"text-[10px] font-bold bg-orange-100 text-orange-600 px-2 py-1 uppercase tracking-widest",children:"Professional"})]}),t.jsx("div",{className:"text-3xl font-black text-gray-900 mb-1 relative z-10",children:g("professional").toLocaleString()}),t.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide relative z-10",children:"Hits Available"}),t.jsx(wf,{className:"absolute -bottom-4 -right-4 text-orange-50 w-32 h-32 rotate-12"})]}),t.jsxs("div",{className:"bg-[#111] border-b-4 border-[#ff4d00] text-white p-8 shadow-lg hover:translate-y-[-2px] transition-transform relative overflow-hidden",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[t.jsx("div",{className:"p-2 bg-[#ff4d00] rounded-sm text-white",children:t.jsx(Yt,{size:20})}),t.jsx("span",{className:"text-[10px] font-bold bg-[#ff4d00] text-white px-2 py-1 uppercase tracking-widest",children:"Expert"})]}),t.jsx("div",{className:"text-3xl font-black text-white mb-1 relative z-10",children:g("expert").toLocaleString()}),t.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide relative z-10",children:"Hits Available"}),t.jsx(Yt,{className:"absolute -bottom-4 -right-4 text-gray-800 w-32 h-32 rotate-12 opacity-20"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(ps,{size:14,className:"text-[#ff4d00]"})," Transaction History"]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("select",{value:c,onChange:k=>f(k.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase tracking-wide",children:[t.jsx("option",{value:"all",children:"All Time"}),t.jsx("option",{value:"7d",children:"Last 7 Days"}),t.jsx("option",{value:"30d",children:"Last 30 Days"}),t.jsx("option",{value:"90d",children:"Last 90 Days"})]}),t.jsxs("select",{value:u,onChange:k=>m(k.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase tracking-wide",children:[t.jsx("option",{value:"all",children:"All Balances"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-[#f9fafb] border-b border-gray-100",children:[t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Balance"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hits"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Reference"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:T.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"text-center p-8 text-sm text-gray-400",children:"No transactions found."})}):T.map(k=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:k.date}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:k.desc}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-black uppercase tracking-wider rounded-sm ${v(k.tier)}`,children:b(k.tier)})}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:k.hits?t.jsxs("span",{className:k.type==="debit"?"text-red-600":"text-green-600",children:[k.type==="debit"?"-":"+",k.hits.toLocaleString()]}):"-"}),t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:k.reference||"-"}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-[9px] font-black uppercase tracking-wider rounded-sm",children:k.status})}),t.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${k.type==="debit"?"text-gray-900":"text-green-600"}`,children:[k.type==="debit"?"-":"+","",k.amount.toFixed(2),k.hits?t.jsxs("span",{className:`block text-[10px] ${k.type==="debit"?"text-red-500":"text-green-500"}`,children:["(",k.type==="debit"?"-":"+",k.hits.toLocaleString()," hits)"]}):null]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("button",{onClick:()=>r(k),className:"text-gray-400 hover:text-[#ff4d00] transition-colors",children:t.jsx(vi,{size:14})})})]},k.id))})]})})]})]})},sL=()=>{var Ie,H,oe,Ne,K,ye,Te,Le,at,Ke,Ht,Ft,Bt,ls,je,Pe,At;const[n,e]=w.useState("overview"),[s,r]=w.useState(!0),[i,l]=w.useState(null),[c,f]=w.useState(null),[u,m]=w.useState([]),[g,b]=w.useState(null),[v,T]=w.useState([]),[N,E]=w.useState(!1),[k,D]=w.useState(null),[P,L]=w.useState({url:"",description:""}),[V,$]=w.useState(!1),[Q,_]=w.useState(!1),[A,I]=w.useState({amount:"",method:"paypal",paypalEmail:"",bankName:"",bankIban:"",bankSwift:""}),[z,O]=w.useState(!1),[F,R]=w.useState([]);w.useEffect(()=>{const pe=q.getCurrentUser();l(pe),U()},[]);const U=async()=>{try{const[pe,re,qe,rt,Lt]=await Promise.all([q.getAffiliateDashboard().catch(()=>null),q.getBenefitTypes().catch(()=>[]),q.getBenefitBalance().catch(()=>null),q.getMyBenefitRequests().catch(()=>[]),q.getMyPayouts().catch(()=>[])]);f(pe),m(re),b(qe),T(rt),R(Lt)}catch(pe){console.error(pe)}finally{r(!1)}},he=async()=>{if(!(!k||!P.url)){$(!0);try{await q.submitBenefit({benefit_type:k.type,benefit_category:k.category,url:P.url,description:P.description,claimed_value:k.value}),await U(),E(!1),L({url:"",description:""}),D(null)}catch(pe){alert(pe.message||"Failed to submit benefit")}finally{$(!1)}}},W=async()=>{const pe=parseFloat(A.amount);if(!pe||pe<=0){alert("Please enter a valid amount");return}const re=A.method==="paypal"?50:100;if(pe<re){alert(`Minimum payout is ${re} for ${A.method==="paypal"?"PayPal":"Bank Transfer"}`);return}if(A.method==="paypal"&&!A.paypalEmail){alert("Please enter your PayPal email");return}if(A.method==="bank"&&(!A.bankName||!A.bankIban)){alert("Please enter your bank details");return}O(!0);try{await q.requestPayout({amount:pe,method:A.method,payout_details:A.method==="paypal"?{email:A.paypalEmail}:{bank_name:A.bankName,iban:A.bankIban,swift:A.bankSwift}}),await U(),_(!1),I({amount:"",method:"paypal",paypalEmail:"",bankName:"",bankIban:"",bankSwift:""}),alert("Payout request submitted successfully! We will process it within 5 business days.")}catch(qe){alert(qe.message||"Failed to request payout")}finally{O(!1)}},te=pe=>["#cd7f32","#c0c0c0","#ffd700","#e5e4e2","#b9f2ff","#ff4d00"][Math.min(pe-1,5)],be=pe=>{switch(pe){case"youtube":return t.jsx(GM,{size:20});case"blog":return t.jsx(Hb,{size:20});case"facebook":return t.jsx($D,{size:20});case"reddit":return t.jsx(_O,{size:20});case"twitter":return t.jsx(OM,{size:20});case"instagram":return t.jsx(rO,{size:20});case"tiktok":return t.jsx(Vr,{size:20});case"review":return t.jsx(Vr,{size:20});default:return t.jsx(La,{size:20})}};if(s)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-[#ff4d00] border-t-transparent rounded-full"})});const Ae=(c==null?void 0:c.referralLink)||`https://modus-traffic.com/ref/u/${i==null?void 0:i.id}`;return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Partner Program"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Affiliate Dashboard"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(hb,{active:n==="overview",onClick:()=>e("overview"),icon:t.jsx(hr,{size:14}),children:"Overview"}),t.jsx(hb,{active:n==="benefits",onClick:()=>e("benefits"),icon:t.jsx(La,{size:14}),children:"Benefits"}),t.jsx(hb,{active:n==="payouts",onClick:()=>e("payouts"),icon:t.jsx(Fa,{size:14}),children:"Payouts"})]})]}),n==="overview"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 text-center shadow-sm relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gray-50 rounded-full -mt-16 -mr-16 z-0"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center border-4 border-gray-100 shadow-md mx-auto mb-6 bg-white",children:t.jsx(wf,{size:40,style:{color:te(((Ie=c==null?void 0:c.tier)==null?void 0:Ie.tierLevel)||1)}})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:((H=c==null?void 0:c.tier)==null?void 0:H.tierName)||"Bronze Starter"}),t.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:["Current Tier Level ",((oe=c==null?void 0:c.tier)==null?void 0:oe.tierLevel)||1,"/6"]}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 flex justify-center gap-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-2xl font-black text-[#ff4d00]",children:[((((Ne=c==null?void 0:c.tier)==null?void 0:Ne.commissionRateL1)||.15)*100).toFixed(0),"%"]}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Comm. Rate"})]}),t.jsx("div",{className:"w-px bg-gray-200"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:(c==null?void 0:c.totalReferrals)||0}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Referrals"})]})]})]})]}),t.jsx(vo,{title:"Your Referral Link",icon:t.jsx(Hb,{size:14}),children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 flex items-center font-mono text-xs font-bold text-gray-600 truncate",children:Ae}),t.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Ae),alert("Copied!")},className:"bg-black hover:bg-[#ff4d00] text-white p-3 shadow-sm transition-colors",children:t.jsx(xn,{size:16})})]})})]}),t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsx(gS,{label:"Total Earnings",value:`${(((K=c==null?void 0:c.tier)==null?void 0:K.totalEarnings)||0).toFixed(2)}`,subtext:"All time earnings"}),t.jsx(gS,{label:"Pending Payout",value:`${(((ye=c==null?void 0:c.tier)==null?void 0:ye.pendingPayout)||0).toFixed(2)}`,subtext:"Available for withdrawal",highlight:!0})]}),t.jsx(vo,{title:"Referral Network Performance",icon:t.jsx(Ur,{size:14}),children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-[#ff4d00] text-white flex items-center justify-center font-bold text-xs",children:"L1"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Direct Referrals"}),t.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:[(((Te=c==null?void 0:c.tier)==null?void 0:Te.commissionRateL1)||.15)*100,"% Commission"]})]})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:((Le=c==null?void 0:c.tier)==null?void 0:Le.totalReferralsL1)||0})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold text-xs",children:"L2"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Level 2 (Indirect)"}),t.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:[(((at=c==null?void 0:c.tier)==null?void 0:at.commissionRateL2)||.05)*100,"% Override"]})]})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:((Ke=c==null?void 0:c.tier)==null?void 0:Ke.totalReferralsL2)||0})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500 text-white flex items-center justify-center font-bold text-xs",children:"L3"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Level 3 (Network)"}),t.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:[(((Ht=c==null?void 0:c.tier)==null?void 0:Ht.commissionRateL3)||.02)*100,"% Override"]})]})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:((Ft=c==null?void 0:c.tier)==null?void 0:Ft.totalReferralsL3)||0})]})]})}),g&&g.benefitBalance>0&&t.jsx("div",{className:"bg-black text-white p-8 relative overflow-hidden shadow-lg",children:t.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-2",children:"Available Credits"}),t.jsxs("div",{className:"text-4xl font-black",children:["",g.benefitBalance.toFixed(2)]}),t.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Use these credits for your own traffic campaigns."})]}),t.jsx(cn,{size:48,className:"text-[#333]"})]})})]})]}),n==="benefits"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs(vo,{title:"Credit Balance",icon:t.jsx(cn,{size:14}),children:[t.jsxs("div",{className:"text-center py-6",children:[t.jsxs("div",{className:"text-3xl font-black text-gray-900 mb-1",children:["",((g==null?void 0:g.benefitBalance)||0).toFixed(2)]}),t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Available Balance"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-6 border-t border-gray-100",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xl font-black text-gray-900",children:(g==null?void 0:g.pendingRequests)||0}),t.jsx("div",{className:"text-[9px] text-gray-400 uppercase tracking-wide",children:"Pending"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xl font-black text-green-600",children:g==null?void 0:g.totalBenefitsClaimed.toFixed(2)}),t.jsx("div",{className:"text-[9px] text-gray-400 uppercase tracking-wide",children:"Earned"})]})]})]}),t.jsxs("div",{className:"bg-[#ff4d00] text-white p-8",children:[t.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Earn More Credits"}),t.jsx("p",{className:"text-xs font-medium opacity-80 mb-6",children:"Complete simple tasks to earn free traffic credits for your campaigns."}),t.jsx("button",{onClick:()=>E(!0),className:"w-full bg-white text-black text-xs font-bold uppercase tracking-wider py-3 hover:bg-black hover:text-white transition-colors",children:"Submit Activity"})]})]}),t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsx(vo,{title:"Available Opportunities",icon:t.jsx(La,{size:14}),children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.slice(0,8).map(pe=>t.jsxs("div",{onClick:()=>{D(pe),E(!0)},className:"border border-gray-100 p-4 hover:border-[#ff4d00] hover:shadow-md transition-all cursor-pointer group bg-gray-50",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsx("div",{className:"p-2 bg-white rounded-md shadow-sm text-gray-600 group-hover:text-[#ff4d00] transition-colors",children:be(pe.type)}),t.jsxs("span",{className:"text-sm font-black text-[#ff4d00]",children:["",pe.value]})]}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:pe.category}),t.jsx("div",{className:"text-[10px] text-gray-500 mt-1 line-clamp-1",children:pe.name})]},pe.id))})}),t.jsx(vo,{title:"Recent Submissions",icon:t.jsx(ps,{size:14}),children:v.length===0?t.jsx("div",{className:"text-center py-12 text-gray-400 text-sm",children:"No submissions yet. Start earning today!"}):t.jsx("div",{className:"divide-y divide-gray-100",children:v.map(pe=>t.jsxs("div",{className:"py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`p-2 rounded-full ${pe.status==="approved"?"bg-green-100 text-green-600":pe.status==="rejected"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:pe.status==="approved"?t.jsx(Xl,{size:16}):pe.status==="rejected"?t.jsx(Lo,{size:16}):t.jsx(ps,{size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-bold text-gray-900 uppercase",children:pe.benefitCategory}),t.jsx("div",{className:"text-[10px] text-gray-500 truncate max-w-[200px]",children:pe.url})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-black",children:["",pe.approvedValue||pe.claimedValue]}),t.jsx("div",{className:`text-[9px] font-bold uppercase tracking-wider ${pe.status==="approved"?"text-green-600":pe.status==="rejected"?"text-red-500":"text-yellow-500"}`,children:pe.status})]})]},pe.id))})})]})]}),n==="payouts"&&t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs(vo,{title:"Cashout Earnings",icon:t.jsx(Fa,{size:14}),children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"p-6 bg-[#f9fafb] border border-gray-200 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Available to Payout"}),t.jsxs("div",{className:"text-3xl font-black text-green-600",children:["",(((Bt=c==null?void 0:c.tier)==null?void 0:Bt.pendingPayout)||0).toFixed(2)]})]}),t.jsxs("div",{className:"p-6 bg-white border border-gray-200 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Min. PayPal"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:"50.00"})]}),t.jsxs("div",{className:"p-6 bg-white border border-gray-200 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Min. Bank Transfer"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:"100.00"})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"bg-white p-3 shadow-sm rounded-full",children:t.jsx(Kb,{size:24,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"Secure Payout Processing"}),t.jsx("p",{className:"text-xs text-gray-500 max-w-md",children:"Payouts are processed manually within 5 business days. Please ensure your billing details are up to date in your profile."})]})]}),t.jsx("button",{onClick:()=>_(!0),disabled:(((ls=c==null?void 0:c.tier)==null?void 0:ls.pendingPayout)||0)<50,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Request Payout"})]})]}),t.jsx(vo,{title:"Financial History",icon:t.jsx(hr,{size:14}),children:t.jsxs("div",{className:"grid grid-cols-2 gap-8 p-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Lifetime Earnings"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:["",(((je=c==null?void 0:c.tier)==null?void 0:je.totalEarnings)||0).toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Total Paid Out"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:["",(((Pe=c==null?void 0:c.tier)==null?void 0:Pe.lifetimePayout)||0).toFixed(2)]})]})]})}),t.jsx(vo,{title:"Payout History",icon:t.jsx(ps,{size:14}),children:F.length===0?t.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"No payout requests yet"}):t.jsx("div",{className:"divide-y divide-gray-100",children:F.map(pe=>t.jsxs("div",{className:"py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`p-2 rounded-full ${pe.status==="paid"?"bg-green-100 text-green-600":pe.status==="approved"?"bg-blue-100 text-blue-600":pe.status==="rejected"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:pe.status==="paid"?t.jsx(Xl,{size:16}):pe.status==="rejected"?t.jsx(Lo,{size:16}):t.jsx(ps,{size:16})}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-xs font-bold text-gray-900",children:["",pe.amount.toFixed(2)]}),t.jsx("div",{className:"text-[10px] text-gray-500",children:pe.method==="paypal"?"PayPal":"Bank Transfer"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-[9px] font-bold uppercase tracking-wider ${pe.status==="paid"?"text-green-600":pe.status==="approved"?"text-blue-600":pe.status==="rejected"?"text-red-500":"text-yellow-500"}`,children:pe.status}),t.jsx("div",{className:"text-[10px] text-gray-400",children:new Date(pe.requestedAt).toLocaleDateString()})]})]},pe.id))})})]}),N&&t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white max-w-lg w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[t.jsxs("h3",{className:"text-lg font-black uppercase tracking-tight flex items-center gap-2",children:[t.jsx(La,{size:20,className:"text-[#ff4d00]"})," Submit Activity"]}),t.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-black transition-colors",children:t.jsx("span",{className:"text-2xl",children:""})})]}),t.jsxs("div",{className:"p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsx(pi,{children:"Activity Type"}),t.jsxs("select",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",value:(k==null?void 0:k.id)||"",onChange:pe=>{const re=u.find(qe=>qe.id===pe.target.value);D(re||null)},children:[t.jsx("option",{value:"",children:"Select activity..."}),u.map(pe=>t.jsxs("option",{value:pe.id,children:[pe.name," - ",pe.value]},pe.id))]})]}),t.jsxs("div",{children:[t.jsx(pi,{children:"Proof URL"}),t.jsx(pd,{value:P.url,onChange:pe=>L({...P,url:pe}),placeholder:"https://..."})]}),t.jsxs("div",{children:[t.jsx(pi,{children:"Description / Comments"}),t.jsx("textarea",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none min-h-[100px]",placeholder:"Additional details...",value:P.description,onChange:pe=>L({...P,description:pe.target.value})})]}),k&&t.jsxs("div",{className:"bg-gray-50 border border-gray-100 p-4 flex justify-between items-center",children:[t.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Estimated Value"}),t.jsxs("div",{className:"text-2xl font-black text-[#ff4d00]",children:["",k.value]})]})]}),t.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3",children:[t.jsx("button",{onClick:()=>E(!1),className:"flex-1 border border-gray-200 py-3 text-xs font-bold uppercase hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:he,disabled:!k||!P.url||V,className:"flex-1 bg-black text-white py-3 text-xs font-bold uppercase hover:bg-[#ff4d00] transition-colors disabled:opacity-50",children:V?"Submitting...":"Submit Request"})]})]})}),Q&&t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white max-w-lg w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[t.jsxs("h3",{className:"text-lg font-black uppercase tracking-tight flex items-center gap-2",children:[t.jsx(Fa,{size:20,className:"text-[#ff4d00]"})," Request Payout"]}),t.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-black transition-colors",children:t.jsx("span",{className:"text-2xl",children:""})})]}),t.jsxs("div",{className:"p-8 space-y-6",children:[t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Available Balance"}),t.jsxs("div",{className:"text-3xl font-black text-green-600",children:["",(((At=c==null?void 0:c.tier)==null?void 0:At.pendingPayout)||0).toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx(pi,{children:"Amount ()"}),t.jsx(pd,{value:A.amount,onChange:pe=>I({...A,amount:pe}),placeholder:"0.00",type:"number"})]}),t.jsxs("div",{children:[t.jsx(pi,{children:"Payout Method"}),t.jsxs("select",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",value:A.method,onChange:pe=>I({...A,method:pe.target.value}),children:[t.jsx("option",{value:"paypal",children:"PayPal (Min. 50)"}),t.jsx("option",{value:"bank",children:"Bank Transfer (Min. 100)"})]})]}),A.method==="paypal"?t.jsxs("div",{children:[t.jsx(pi,{children:"PayPal Email"}),t.jsx(pd,{value:A.paypalEmail,onChange:pe=>I({...A,paypalEmail:pe}),placeholder:"your@email.com",type:"email"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx(pi,{children:"Bank Name"}),t.jsx(pd,{value:A.bankName,onChange:pe=>I({...A,bankName:pe}),placeholder:"Bank Name"})]}),t.jsxs("div",{children:[t.jsx(pi,{children:"IBAN"}),t.jsx(pd,{value:A.bankIban,onChange:pe=>I({...A,bankIban:pe}),placeholder:"DE89 3704 0044 0532 0130 00"})]}),t.jsxs("div",{children:[t.jsx(pi,{children:"SWIFT/BIC (Optional)"}),t.jsx(pd,{value:A.bankSwift,onChange:pe=>I({...A,bankSwift:pe}),placeholder:"DEUTDEFF"})]})]}),t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 text-xs text-yellow-800",children:[t.jsx("strong",{children:"Note:"})," Payouts are processed manually within 5 business days. Ensure your details are correct."]})]}),t.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3",children:[t.jsx("button",{onClick:()=>_(!1),className:"flex-1 border border-gray-200 py-3 text-xs font-bold uppercase hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:W,disabled:z,className:"flex-1 bg-black text-white py-3 text-xs font-bold uppercase hover:bg-[#ff4d00] transition-colors disabled:opacity-50",children:z?"Processing...":"Submit Request"})]})]})})]})},vo=({title:n,icon:e,children:s})=>t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm h-full",children:[t.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[e," ",n]}),s]}),gS=({label:n,value:e,subtext:s,highlight:r})=>t.jsxs("div",{className:`p-6 border ${r?"border-[#ff4d00]/30 bg-[#fff5f0]":"border-gray-200 bg-white"}`,children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:n}),t.jsx("div",{className:`text-3xl font-black ${r?"text-[#ff4d00]":"text-gray-900"}`,children:e}),s&&t.jsx("div",{className:"text-[10px] text-gray-500 mt-1",children:s})]}),hb=({active:n,onClick:e,children:s,icon:r})=>t.jsxs("button",{onClick:e,className:`px-4 py-2 text-[10px] font-bold uppercase tracking-widest flex items-center gap-2 transition-all border ${n?"bg-black text-white border-black":"bg-white text-gray-500 border-gray-200 hover:border-gray-300"}`,children:[r," ",s]}),pi=({children:n})=>t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-2",children:n}),pd=({value:n,onChange:e,placeholder:s,type:r="text"})=>t.jsx("input",{type:r,value:n,onChange:i=>e(i.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:s}),nL=({targetDate:n})=>{const[e,s]=w.useState(null);return w.useEffect(()=>{const r=setInterval(()=>{const i=new Date().getTime(),l=new Date(n).getTime()-i;l<0?(s(null),clearInterval(r)):s({days:Math.floor(l/864e5),hours:Math.floor(l%864e5/36e5),minutes:Math.floor(l%36e5/6e4),seconds:Math.floor(l%6e4/1e3)})},1e3);return()=>clearInterval(r)},[n]),e?t.jsxs("div",{className:"flex gap-2 mt-3 font-mono text-sm font-black text-black bg-white/20 p-2 rounded-sm inline-flex",children:[t.jsxs("span",{children:[String(e.days).padStart(2,"0"),"d"]}),":",t.jsxs("span",{children:[String(e.hours).padStart(2,"0"),"h"]}),":",t.jsxs("span",{children:[String(e.minutes).padStart(2,"0"),"m"]}),":",t.jsxs("span",{children:[String(e.seconds).padStart(2,"0"),"s"]})]}):null},rL=({stats:n})=>{const e=Math.max(...n.map(s=>s.visitors),1);return t.jsx("div",{className:"h-32 flex items-end justify-between gap-1 w-full mt-4",children:n.map((s,r)=>{const i=s.visitors/e*100;return t.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative h-full",children:[t.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap",children:[s.date,": ",s.visitors.toLocaleString()]}),t.jsx("div",{className:"bg-[#ff4d00] opacity-30 group-hover:opacity-100 transition-all rounded-t-sm",style:{height:`${i}%`,minHeight:"4px"}})]},r)})})},aL=({projects:n,balance:e,onNavigateToProject:s,onNavigateToBuyCredits:r,onNavigateToSupport:i})=>{var Ne;const[l,c]=w.useState([]),[f,u]=w.useState([]),[m,g]=w.useState(null),[b,v]=w.useState(""),[T,N]=w.useState(""),[E,k]=w.useState(""),[D,P]=w.useState(!1),[L,V]=w.useState(!1),[$,Q]=w.useState(0),[_,A]=w.useState(null),[I,z]=w.useState(!1),[O,F]=w.useState(null),[R,U]=w.useState(!1);w.useEffect(()=>{const K=q.getCurrentUser();g(K||null),c(q.getTransactions().slice(0,5));const ye=async()=>{try{const je=await fetch(`${window.location.origin}/users/me/gamification`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(je.ok){const Pe=await je.json();A(Pe),V(Pe.streak_days>0&&!await Te())}}catch(je){console.error("Failed to fetch gamification:",je)}},Te=async()=>{try{const je=await fetch(`${window.location.origin}/users/me/streak`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(je.ok)return(await je.json()).can_claim_today}catch{}return!0};ye();const at=q.getAlerts().filter(je=>q.checkBroadcastTarget(je,K));u(at);const Ke=["Use alt tags on all images for better accessibility and SEO ranking.","Improve page load speed by compressing images and using lazy loading.","Use descriptive and keyword-rich title tags for every page.","Internal linking helps search engines understand your site structure.","Write unique meta descriptions to improve click-through rates."];N(Ke[Math.floor(Math.random()*Ke.length)]);const Ht=["The first website was published in 1991 by Tim Berners-Lee.","Over 50% of web traffic comes from mobile devices.","Google processes over 3.5 billion searches per day.","The average bounce rate for websites is between 41% and 55%."];k(Ht[Math.floor(Math.random()*Ht.length)]);const Ft=setInterval(()=>{v(new Date().toUTCString().split(" ")[4]+" UTC")},1e3),Bt=async()=>{try{const je=await q.getActiveNow();Q(je.activeNow)}catch{}};Bt();const ls=setInterval(Bt,5e3);return()=>{clearInterval(Ft),clearInterval(ls)}},[e]);const he=n.filter(K=>K.status==="active"),W=De.useMemo(()=>{const K=[];for(let ye=29;ye>=0;ye--){const Te=new Date;Te.setDate(Te.getDate()-ye);const Le=Te.toLocaleDateString("en-US",{month:"short",day:"numeric"});let at=0;n.forEach(Ke=>{var Ft;const Ht=(Ft=Ke.stats)==null?void 0:Ft.find(Bt=>Bt.date===Te.toISOString().split("T")[0]);Ht&&(at+=Ht.visitors)}),K.push({date:Le,visitors:at})}return K},[n]),te=n.reduce((K,ye)=>{var Le;const Te=((Le=ye.stats)==null?void 0:Le.reduce((at,Ke)=>at+Ke.visitors,0))||0;return K+Te},0),be=K=>{switch(K){case"error":return t.jsx(DO,{size:18});case"warning":return t.jsx(dn,{size:18});case"promo":return t.jsx(Vr,{size:18});default:return t.jsx(Zl,{size:18})}},Ae=K=>K>=1e6?(K/1e6).toFixed(1)+"M":K>=1e3?(K/1e3).toFixed(1)+"k":K.toString(),Ie=()=>{const K=new Date().getHours();return K<12?"Good Morning":K<18?"Good Afternoon":"Good Evening"},H=()=>{navigator.clipboard.writeText(`https://traffic.com/ref/${(m==null?void 0:m.id)||"user"}`),P(!0),setTimeout(()=>P(!1),2e3)},oe=async()=>{if(!(R||L)){U(!0);try{const ye=await(await fetch(`${window.location.origin}/users/me/daily-bonus`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`,"Content-Type":"application/json"}})).json();F(ye),z(!0),ye.success&&(V(!0),A(Te=>Te?{...Te,streak_days:ye.streak_days,streak_best:ye.streak_best}:null))}catch(K){console.error("Failed to claim bonus:",K)}finally{U(!1)}}};return t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[f.length>0&&t.jsx("div",{className:"space-y-3",children:f.map(K=>t.jsxs("div",{className:`p-4 border-l-4 shadow-sm flex items-start gap-3 rounded-r-sm ${K.type==="error"?"bg-red-50 border-red-500 text-red-700":K.type==="promo"?"bg-yellow-50 border-yellow-500 text-yellow-800":K.type==="warning"?"bg-orange-50 border-orange-500 text-orange-700":"bg-blue-50 border-blue-500 text-blue-700"}`,children:[t.jsx("div",{className:"mt-0.5 shrink-0",children:be(K.type)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-bold",children:K.message}),K.countdownEnds&&t.jsx(nL,{targetDate:K.countdownEnds}),t.jsx("p",{className:"text-[10px] font-medium opacity-70 mt-1 uppercase tracking-wider",children:K.date})]})]},K.id))}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-end gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1 flex items-center gap-2",children:[t.jsx(vM,{size:12,strokeWidth:3})," ",Ie()]}),t.jsxs("h2",{className:"text-4xl font-black text-gray-900 tracking-tight uppercase",children:["Welcome, ",((Ne=m==null?void 0:m.name)==null?void 0:Ne.split(" ")[0])||"User"]}),t.jsxs("p",{className:"text-sm text-gray-400 font-bold uppercase tracking-wider mt-1",children:["Your network performance is ",t.jsx("span",{className:"text-green-600",children:"Optimal"})]})]}),t.jsx("div",{className:"flex flex-col items-end gap-3",children:t.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-black uppercase bg-white px-4 py-2 border border-gray-200 shadow-sm rounded-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ps,{size:12,className:"text-[#ff4d00]"}),t.jsx("span",{className:"text-gray-900",children:b})]}),t.jsx("div",{className:"w-px h-3 bg-gray-200"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full animate-pulse"}),t.jsx("span",{className:"text-[#ff4d00]",children:"Server Online"})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors rounded-sm",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(hr,{size:64,className:"text-[#ff4d00]"})}),t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Total Hits Sent"}),t.jsx("div",{className:"text-4xl font-black text-gray-900 mb-2",children:Ae(te)}),t.jsxs("div",{className:"text-[10px] font-black text-[#ff4d00] flex items-center gap-1 uppercase tracking-wider",children:[t.jsx(Pr,{size:12})," Active Now: ",$]})]}),t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors cursor-pointer rounded-sm",onClick:()=>s(""),children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(Yt,{size:64,className:"text-[#ff4d00]"})}),t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Active Projects"}),t.jsx("div",{className:"text-4xl font-black text-gray-900 mb-2",children:he.length}),t.jsxs("div",{className:"text-[10px] font-black text-gray-500 flex items-center gap-1 uppercase tracking-wider",children:["Manage Campaigns ",t.jsx(ms,{size:10,className:"group-hover:translate-x-1 transition-transform"})]})]}),t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors cursor-pointer rounded-sm",onClick:r,children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(cn,{size:64,className:"text-[#ff4d00]"})}),t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Wallet Balance"}),t.jsxs("div",{className:"text-4xl font-black text-gray-900 mb-2",children:["",(e??0).toFixed(2)]}),t.jsxs("div",{className:"text-[10px] font-black text-[#ff4d00] flex items-center gap-1 uppercase tracking-wider",children:["Add Credits ",t.jsx(Lr,{size:10,className:"group-hover:rotate-90 transition-transform"})]})]}),t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors rounded-sm",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(Vr,{size:64,className:"text-[#ff4d00]"})}),t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsxs("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["Level ",(_==null?void 0:_.level)||1," ",(_==null?void 0:_.level_name)||"Novice"]}),t.jsxs("span",{className:"text-[10px] font-black text-[#ff4d00]",children:[_!=null&&_.xp_to_next?Math.min(100,Math.round(_.xp/(_.xp+_.xp_to_next)*100)):100,"%"]})]}),t.jsx("div",{className:"text-2xl font-black text-gray-900 mb-3 uppercase tracking-tight",children:"Growth Path"}),t.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden shadow-inner",children:t.jsx("div",{className:"h-full bg-[#ff4d00] transition-all duration-1000",style:{width:`${_!=null&&_.xp_to_next?Math.min(100,Math.round(_.xp/(_.xp+_.xp_to_next)*100)):100}%`}})}),t.jsxs("div",{className:"mt-2 text-[9px] font-black text-gray-400 uppercase tracking-widest",children:[_!=null&&_.discount_percent?`${_.discount_percent}% Discount Active  `:"","Next: ",(_==null?void 0:_.next_reward)||"Max Level"]}),(_==null?void 0:_.pending_bonus_hits)&&_.pending_bonus_hits>0&&!_.pending_bonus_claimed&&t.jsxs("button",{className:"mt-3 w-full bg-[#ff4d00] text-white py-2 text-[9px] font-black uppercase tracking-widest rounded-sm hover:bg-black transition-colors animate-pulse",children:[t.jsx(ix,{size:12,className:"inline mr-1"})," Claim Level Bonus: +",_.pending_bonus_hits.toLocaleString()," Hits"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 rounded-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(iD,{size:14,className:"text-[#ff4d00]"})," Network Throughput"]}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1",children:"Last 30 days volume"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-gray-500 uppercase",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full"})," Hits"]})})]}),t.jsx(rL,{stats:W})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm flex flex-col rounded-sm overflow-hidden",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Pr,{size:14,className:"text-[#ff4d00]"})," Recent Campaigns"]}),t.jsxs("button",{onClick:()=>s(""),className:"text-[10px] font-black text-gray-400 uppercase tracking-widest hover:text-[#ff4d00] transition-colors flex items-center gap-1",children:["View Full List ",t.jsx(ms,{size:10})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Project Name"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Pricing Plan"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Status"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-50",children:[n.slice(0,5).map(K=>t.jsxs("tr",{className:"hover:bg-orange-50/30 cursor-pointer transition-colors group",onClick:()=>s(K.id),children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-xs font-bold text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:K.name}),t.jsx("div",{className:"text-[10px] text-gray-400 font-mono mt-0.5 uppercase tracking-tighter",children:K.id})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 px-2 py-1 bg-gray-100 rounded-sm",children:K.plan})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-[9px] font-black uppercase tracking-wider rounded-sm ${K.status==="active"?"bg-[#ff4d00] text-white":K.status==="completed"?"bg-black text-white":"bg-gray-100 text-gray-400"}`,children:K.status})})]},K.id)),n.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:3,className:"p-12 text-center text-[10px] font-black uppercase tracking-widest text-gray-400",children:"No projects found. Create your first campaign to get started."})})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-sm shadow-sm flex gap-4 hover:border-[#ff4d00] transition-colors",children:[t.jsx("div",{className:"mt-1",children:t.jsx(Zl,{size:18,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-[#ff4d00] uppercase tracking-widest mb-1",children:"Weekly SEO Insight"}),t.jsxs("p",{className:"text-xs text-gray-700 leading-relaxed font-bold",children:['"',T,'"']})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-sm shadow-sm flex gap-4 hover:border-[#ff4d00] transition-colors",children:[t.jsx("div",{className:"mt-1",children:t.jsx(Os,{size:18,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-[#ff4d00] uppercase tracking-widest mb-1",children:"Internet Statistics"}),t.jsxs("p",{className:"text-xs text-gray-700 leading-relaxed font-bold",children:['"',E,'"']})]})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 rounded-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 mb-6 flex items-center gap-2",children:[t.jsx(Yt,{size:14,className:"text-[#ff4d00]"})," Command Center"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{onClick:()=>s("new"),className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-black hover:text-white transition-all rounded-sm group",children:[t.jsx(Pr,{size:20,className:"mb-2 text-[#ff4d00]"}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:"New Project"})]}),t.jsxs("button",{onClick:r,className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-black hover:text-white transition-all rounded-sm group",children:[t.jsx(cn,{size:20,className:"mb-2 text-gray-400 group-hover:text-[#ff4d00]"}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:"Buy Credits"})]}),t.jsxs("button",{onClick:oe,disabled:L||R,className:`flex flex-col items-center justify-center p-4 transition-all rounded-sm group ${L?"bg-[#ff4d00]/10 text-[#ff4d00]":"bg-gray-50 hover:bg-[#ff4d00] hover:text-white"}`,children:[t.jsx(La,{size:20,className:`mb-2 ${L?"text-[#ff4d00]":"text-gray-400 group-hover:text-white"}`}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:R?"Claiming...":L?"Claimed":"Daily Bonus"})]}),t.jsxs("button",{onClick:()=>i?i():window.location.href="/dashboard/support",className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-blue-600 hover:text-white transition-all rounded-sm group",children:[t.jsx(Mr,{size:20,className:"mb-2 text-gray-400 group-hover:text-white"}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:"Get Support"})]})]})]}),t.jsxs("div",{className:"bg-[#111] text-white p-6 rounded-sm shadow-xl relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00] opacity-10 rounded-full -mr-16 -mt-16 blur-2xl group-hover:opacity-20 transition-opacity"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest mb-1",children:"Activity Streak"}),t.jsxs("div",{className:"text-3xl font-black flex items-center gap-3 mb-6",children:[(_==null?void 0:_.streak_days)||0," DAYS ",t.jsx(Yt,{size:24,className:"text-[#ff4d00] fill-[#ff4d00] animate-pulse"})]}),t.jsx("div",{className:"flex gap-1.5 h-1.5 mb-3",children:[1,2,3,4,5,6,7].map(K=>t.jsx("div",{className:`${K<=Math.min((_==null?void 0:_.streak_days)||0,7)?"bg-[#ff4d00]":"bg-gray-800"} flex-1 rounded-full`},K))}),t.jsxs("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:["Best: ",(_==null?void 0:_.streak_best)||0," days  Day 7 bonus: +10,000 hits"]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 rounded-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(Ur,{size:14,className:"text-[#ff4d00]"})," Affiliate Portal"]}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mb-4 tracking-tight",children:"Earn 20% lifetime commission"}),t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsx("div",{className:"flex-1 bg-gray-50 border border-gray-200 text-[10px] px-3 py-2.5 rounded-sm font-mono text-gray-500 truncate",children:m!=null&&m.referralCode?`modus-traffic.com/ref/${m.referralCode}`:`modus-traffic.com/ref/u/${(m==null?void 0:m.id)||"..."}`}),t.jsx("button",{onClick:H,className:`px-4 rounded-sm border transition-all flex items-center justify-center ${D?"bg-green-600 border-green-600 text-white":"bg-white border-gray-200 hover:border-[#ff4d00] hover:text-[#ff4d00]"}`,children:D?t.jsx(rn,{size:14}):t.jsx(xn,{size:14})})]}),t.jsxs("button",{onClick:()=>window.location.href="/dashboard/affiliate",className:"w-full bg-black text-white py-2.5 text-[10px] font-black uppercase tracking-widest hover:bg-[#ff4d00] transition-colors rounded-sm flex items-center justify-center gap-2",children:["Open Affiliate Portal ",t.jsx(ms,{size:12})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-sm overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[t.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Wallet History"}),t.jsx(ps,{size:12,className:"text-gray-400"})]}),t.jsx("div",{className:"divide-y divide-gray-100",children:l.length>0?l.slice(0,3).map(K=>t.jsxs("div",{className:"p-4 flex justify-between items-center bg-white hover:bg-gray-50 transition-colors group",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-1.5 rounded-sm ${K.type==="debit"?"bg-orange-50 text-[#ff4d00]":"bg-green-50 text-green-600"}`,children:K.type==="debit"?t.jsx(ms,{size:10,className:"rotate-45"}):t.jsx(Lr,{size:10})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black text-gray-700 uppercase tracking-tight truncate w-32",children:K.desc}),t.jsx("div",{className:"text-[9px] text-gray-400 font-bold uppercase",children:K.date})]})]}),t.jsxs("div",{className:`text-xs font-black ${K.type==="debit"?"text-gray-900":"text-green-600"}`,children:[K.type==="debit"?"-":"+","",K.amount.toFixed(0)]})]},K.id)):t.jsx("div",{className:"p-8 text-center text-[10px] font-black uppercase tracking-widest text-gray-400",children:"No transactions recorded."})}),l.length>0&&t.jsx("button",{onClick:()=>window.location.href="/dashboard/balance",className:"w-full py-3 bg-gray-50 text-[9px] font-black uppercase tracking-widest text-gray-400 hover:text-[#ff4d00] transition-colors border-t border-gray-100",children:"View Full Wallet"})]})]})]}),I&&O&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-sm shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-in slide-in-from-bottom-4 duration-300",children:[t.jsxs("div",{className:"bg-[#ff4d00] p-6 text-center relative",children:[t.jsx("button",{onClick:()=>z(!1),className:"absolute top-4 right-4 text-white/70 hover:text-white",children:t.jsx(an,{size:20})}),t.jsx(La,{size:48,className:"mx-auto mb-3 text-white animate-bounce"}),t.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:O.success?"Bonus Claimed!":"Already Claimed"})]}),t.jsx("div",{className:"p-8 text-center",children:O.success?t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-4xl font-black text-[#ff4d00] mb-2",children:["+",O.hits.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-gray-500 font-bold uppercase tracking-widest mb-4",children:[O.tier.charAt(0).toUpperCase()+O.tier.slice(1)," Hits Added"]}),t.jsx("div",{className:"bg-gray-50 rounded-sm p-4 mb-6",children:t.jsxs("div",{className:"flex items-center justify-center gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Current Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:[O.streak_days," Days"]})]}),t.jsx("div",{className:"w-px h-10 bg-gray-200"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Best Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:[O.streak_best," Days"]})]})]})}),t.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Come back tomorrow to continue your streak and earn more bonus hits!"})]}):t.jsx("p",{className:"text-gray-600",children:O.message})}),t.jsx("div",{className:"bg-gray-50 px-8 py-4",children:t.jsx("button",{onClick:()=>z(!1),className:"w-full bg-black text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-[#ff4d00] transition-colors rounded-sm",children:"Got it!"})})]})})]})},iL=()=>{var At,pe;const[n,e]=w.useState([]),[s,r]=w.useState([]),[i,l]=w.useState(null),[c,f]=w.useState(!0),[u,m]=w.useState(!1),[g,b]=w.useState(!1),[v,T]=w.useState("all"),[N,E]=w.useState(""),[k,D]=w.useState(!1),[P,L]=w.useState(""),[V,$]=w.useState(""),[Q,_]=w.useState("medium"),[A,I]=w.useState("general"),[z,O]=w.useState(""),[F,R]=w.useState([]),[U,he]=w.useState(!1),[W,te]=w.useState(""),[be,Ae]=w.useState([]),[Ie,H]=w.useState(!1),oe=w.useRef(null),Ne=w.useRef(null),K=w.useRef(null),ye=q.getCurrentUser(),Te=n.find(re=>re.id===i);w.useEffect(()=>{Le()},[]),w.useEffect(()=>{Te&&setTimeout(()=>{var re;(re=oe.current)==null||re.scrollIntoView({behavior:"smooth"})},100)},[(At=Te==null?void 0:Te.messages)==null?void 0:At.length]);const Le=async()=>{if(ye){f(!0);try{await q.syncProjects(),await q.syncTickets(),r(q.getProjects()),e(q.getTickets())}catch(re){console.error("Failed to refresh data",re)}finally{f(!1)}}},at=n.filter(re=>{var qe,rt;if(v!=="all"&&re.status!==v)return!1;if(N){const Lt=N.toLowerCase();return re.subject.toLowerCase().includes(Lt)||((qe=re.lastMessage)==null?void 0:qe.toLowerCase().includes(Lt))||((rt=re.messages)==null?void 0:rt.some(Qn=>Qn.text.toLowerCase().includes(Lt)))}return!0}).sort((re,qe)=>new Date(qe.date).getTime()-new Date(re.date).getTime()),Ke=async(re,qe)=>{var me;const rt=(me=re.target.files)==null?void 0:me[0];if(!rt)return;const Lt=qe?Ae:R,Qn=qe?be:F,$r=qe?H:he;$r(!0);try{const Me=await q.uploadTicketAttachment(rt);Lt([...Qn,Me])}catch(Me){console.error("Upload failed",Me),alert("Failed to upload file. Please try again.")}finally{$r(!1)}},Ht=async re=>{if(re.preventDefault(),!(!P||!V||!ye)){b(!0);try{const qe={subject:P,priority:Q,category:A,projectId:z||void 0,attachmentUrls:F.map(rt=>rt.url),messages:[{id:Date.now().toString(),sender:"user",text:V,date:new Date().toLocaleString(),attachments:F.map(rt=>rt.url)}]};await q.createTicket(qe),D(!1),L(""),$(""),_("medium"),I("general"),O(""),R([]),await Le()}catch(qe){console.error("Failed to create ticket",qe),alert("Failed to create ticket. Please try again.")}finally{b(!1)}}},Ft=async()=>{if(!(!i||!W&&be.length===0)){m(!0);try{await q.replyToTicket(i,W,"user",be.map(re=>re.url)),te(""),Ae([]),await Le()}catch(re){console.error("Failed to reply",re),alert("Failed to send reply. Please try again.")}finally{m(!1)}}},Bt=async()=>{if(i&&confirm("Are you sure you want to close this ticket?"))try{await q.closeTicket(i),await Le()}catch(re){console.error("Failed to close ticket",re),alert("Failed to close ticket. Please try again.")}},ls=re=>{re.key==="Enter"&&!re.shiftKey&&(re.preventDefault(),Ft())},je=re=>{const qe={billing:"bg-yellow-100 text-yellow-700",technical:"bg-blue-100 text-blue-700",sales:"bg-green-100 text-green-700",general:"bg-gray-100 text-gray-600"};return qe[re||"general"]||qe.general},Pe=re=>{const qe={open:"bg-green-100 text-green-700","in-progress":"bg-blue-100 text-blue-700",closed:"bg-gray-200 text-gray-500"};return qe[re]||qe.open};return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12 h-[calc(100vh-140px)] flex flex-col",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mb-2 flex-shrink-0",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Helpdesk"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Support Tickets"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("a",{href:"/helpdesk",target:"_blank",rel:"noopener noreferrer",className:"border border-gray-200 text-gray-600 px-4 py-3 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors flex items-center gap-2 bg-white",children:[t.jsx(Wf,{size:14})," FAQ / Help"]}),t.jsxs("button",{onClick:()=>D(!0),className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(Lr,{size:14})," New Ticket"]})]})]}),k&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-200 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50 sticky top-0 z-10",children:[t.jsx("h3",{className:"text-sm font-bold uppercase tracking-wide",children:"Create New Ticket"}),t.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-black",children:t.jsx(an,{size:18})})]}),t.jsxs("form",{onSubmit:Ht,className:"p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Subject *"}),t.jsx("input",{value:P,onChange:re=>L(re.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Brief description of your issue",required:!0})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Category"}),t.jsxs("select",{value:A,onChange:re=>I(re.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",children:[t.jsx("option",{value:"general",children:"General"}),t.jsx("option",{value:"billing",children:"Billing"}),t.jsx("option",{value:"technical",children:"Technical"}),t.jsx("option",{value:"sales",children:"Sales"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Priority"}),t.jsxs("select",{value:Q,onChange:re=>_(re.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",children:[t.jsx("option",{value:"low",children:"Low - General Question"}),t.jsx("option",{value:"medium",children:"Medium - Technical Issue"}),t.jsx("option",{value:"high",children:"High - Urgent / Billing"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Related Project (Optional)"}),t.jsxs("select",{value:z,onChange:re=>O(re.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",children:[t.jsx("option",{value:"",children:"None"}),s.map(re=>t.jsx("option",{value:re.id,children:re.name},re.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Message *"}),t.jsx("textarea",{value:V,onChange:re=>$(re.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none h-32 resize-none",placeholder:"Describe your issue in detail...",required:!0})]}),F.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Attachments"}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:F.map((re,qe)=>t.jsxs("div",{className:"text-xs bg-gray-100 px-3 py-2 rounded-sm text-gray-600 flex items-center gap-2",children:[t.jsx(nf,{size:10})," ",re.filename,t.jsx("button",{type:"button",onClick:()=>R(F.filter((rt,Lt)=>Lt!==qe)),className:"text-gray-400 hover:text-red-500",children:t.jsx(an,{size:12})})]},qe))})]}),t.jsx("input",{ref:Ne,type:"file",className:"hidden",onChange:re=>Ke(re,!1),accept:"image/*,.pdf,.doc,.docx,.txt"}),t.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[t.jsxs("button",{type:"button",onClick:()=>{var re;return(re=Ne.current)==null?void 0:re.click()},disabled:U,className:"flex items-center gap-2 text-xs font-bold text-gray-500 hover:text-[#ff4d00] uppercase tracking-wide disabled:opacity-50",children:[U?t.jsx(fs,{size:16,className:"animate-spin"}):t.jsx(Sg,{size:16}),U?"Uploading...":"Attach File"]}),t.jsxs("button",{type:"submit",disabled:g||U,className:"bg-[#ff4d00] text-white px-8 py-3 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors flex items-center gap-2 disabled:opacity-50",children:[g?t.jsx(fs,{size:14,className:"animate-spin"}):t.jsx(qd,{size:14}),g?"Creating...":"Submit Ticket"]})]})]})]})}),t.jsxs("div",{className:"flex-1 bg-white border border-gray-200 shadow-sm flex overflow-hidden",children:[t.jsxs("div",{className:`${Te?"hidden md:flex":"flex"} w-full md:w-1/3 border-r border-gray-200 flex-col`,children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 space-y-3",children:[t.jsx("div",{className:"flex bg-white border border-gray-200 rounded-sm overflow-hidden",children:["all","open","in-progress","closed"].map(re=>t.jsx("button",{onClick:()=>T(re),className:`flex-1 px-3 py-2 text-[10px] font-bold uppercase ${v===re?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:re==="all"?"All":re},re))}),t.jsxs("div",{className:"relative",children:[t.jsx(Gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),t.jsx("input",{value:N,onChange:re=>E(re.target.value),placeholder:"Search tickets...",className:"w-full bg-white border border-gray-200 pl-9 pr-4 py-2 text-xs font-bold outline-none focus:border-[#ff4d00]"})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:c?t.jsxs("div",{className:"p-8 text-center text-gray-400 text-sm flex items-center justify-center gap-2",children:[t.jsx(fs,{size:16,className:"animate-spin"})," Loading..."]}):at.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:N||v!=="all"?"No tickets match your filters.":"No tickets found. Create one to get started."}):at.map(re=>t.jsxs("div",{onClick:()=>l(re.id),className:`p-5 border-b border-gray-100 cursor-pointer transition-colors hover:bg-gray-50 group ${i===re.id?"bg-orange-50":""}`,children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${Pe(re.status)}`,children:re.status}),re.category&&t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${je(re.category)}`,children:re.category})]}),t.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:re.date})]}),t.jsx("h4",{className:`text-sm font-bold mb-1 truncate ${i===re.id?"text-[#ff4d00]":"text-gray-900"}`,children:re.subject}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:re.lastMessage}),re.projectName&&t.jsxs("div",{className:"mt-2 text-[9px] font-bold text-gray-400 uppercase tracking-wide flex items-center gap-1",children:["Project: ",re.projectName]}),re.type==="chat"&&t.jsxs("div",{className:"mt-2 text-[9px] font-bold text-blue-500 uppercase tracking-wide flex items-center gap-1",children:[t.jsx(Mr,{size:10})," Live Chat Log"]})]},re.id))})]}),Te?t.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#fafafa]",children:[t.jsxs("div",{className:"bg-white p-6 border-b border-gray-200 shadow-sm flex justify-between items-start z-10",children:[t.jsxs("div",{children:[t.jsxs("button",{onClick:()=>l(null),className:"md:hidden text-gray-500 mb-2 flex items-center gap-1 text-xs font-bold uppercase",children:[t.jsx(vc,{className:"rotate-180",size:12})," Back"]}),t.jsx("h2",{className:"text-lg font-bold text-gray-900",children:Te.subject}),t.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-400",children:[t.jsxs("span",{className:"font-mono",children:["ID: ",Te.id]}),Te.projectName&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsxs("span",{children:["Project: ",Te.projectName]})]}),Te.category&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{className:`${je(Te.category)} px-1.5 py-0.5 rounded-sm font-bold uppercase`,children:Te.category})]})]})]}),t.jsx("div",{className:"flex items-center gap-3",children:Te.status!=="closed"?t.jsxs("button",{onClick:Bt,className:"flex items-center gap-1 text-xs font-bold text-gray-500 hover:text-red-600 uppercase transition-colors",children:[t.jsx(Xl,{size:14})," Close Ticket"]}):t.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 uppercase",children:[t.jsx(Xl,{size:14})," Closed"]})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(pe=Te.messages)==null?void 0:pe.map(re=>{var qe,rt;return t.jsx("div",{className:`flex ${re.sender==="user"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[85%] ${re.sender==="user"?"items-end":"items-start"} flex flex-col`,children:[t.jsxs("div",{className:`p-4 shadow-sm text-sm leading-relaxed ${re.sender==="user"?"bg-black text-white rounded-l-lg rounded-tr-lg":"bg-white text-gray-900 border border-gray-200 rounded-r-lg rounded-tl-lg"}`,children:[re.text,(((qe=re.attachments)==null?void 0:qe.length)||0)>0&&t.jsx("div",{className:"mt-3 pt-3 border-t border-white/20 space-y-1",children:(rt=re.attachments)==null?void 0:rt.map((Lt,Qn)=>t.jsxs("a",{href:Lt,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs opacity-80 bg-white/10 p-2 rounded-sm hover:bg-white/20 transition-colors",children:[t.jsx(nf,{size:12})," ",Lt.split("/").pop()]},Qn))})]}),t.jsxs("span",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase tracking-wide",children:[re.sender==="user"?"You":"Support Team","  ",re.date]})]})},re.id)}),t.jsx("div",{ref:oe})]}),Te.status!=="closed"&&t.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[be.length>0&&t.jsx("div",{className:"flex gap-2 mb-2 flex-wrap",children:be.map((re,qe)=>t.jsxs("div",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-sm flex items-center gap-1",children:[re.filename,t.jsx("button",{onClick:()=>Ae(be.filter((rt,Lt)=>Lt!==qe)),className:"text-gray-400 hover:text-red-500",children:t.jsx(an,{size:12})})]},qe))}),t.jsx("input",{ref:K,type:"file",className:"hidden",onChange:re=>Ke(re,!0),accept:"image/*,.pdf,.doc,.docx,.txt"}),t.jsxs("div",{className:"flex gap-2 items-end",children:[t.jsx("button",{onClick:()=>{var re;return(re=K.current)==null?void 0:re.click()},disabled:Ie,className:"p-3 text-gray-400 hover:text-black transition-colors disabled:opacity-50",children:Ie?t.jsx(fs,{size:20,className:"animate-spin"}):t.jsx(nf,{size:20})}),t.jsx("textarea",{value:W,onChange:re=>te(re.target.value),onKeyDown:ls,placeholder:"Type your reply...",className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] resize-none h-12 min-h-[48px] max-h-32 transition-colors"}),t.jsx("button",{onClick:Ft,disabled:!W&&be.length===0||u,className:"p-3 bg-[#ff4d00] text-white hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?t.jsx(fs,{size:20,className:"animate-spin"}):t.jsx(qd,{size:20})})]})]})]}):t.jsxs("div",{className:"hidden md:flex flex-1 flex-col items-center justify-center text-gray-300 bg-gray-50/50",children:[t.jsx(Mr,{size:64,className:"mb-4 opacity-20"}),t.jsx("p",{className:"text-sm font-medium",children:"Select a ticket to view details"})]})]})]})},Ti=({title:n,description:e,keywords:s,image:r,schema:i,type:l="website",noindex:c=!1})=>{const f=Kn(),u="https://traffic-creator.com",m=`${u}${f.pathname}`,g=`${u}/og-image.png`,b=r?r.startsWith("http")?r:`${u}${r}`:g;return t.jsxs(t3,{children:[t.jsx("title",{children:n}),t.jsx("meta",{name:"description",content:e}),s&&t.jsx("meta",{name:"keywords",content:s}),t.jsx("link",{rel:"canonical",href:m}),c?t.jsx("meta",{name:"robots",content:"noindex, nofollow"}):t.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),t.jsx("meta",{property:"og:type",content:l}),t.jsx("meta",{property:"og:url",content:m}),t.jsx("meta",{property:"og:title",content:n}),t.jsx("meta",{property:"og:description",content:e}),t.jsx("meta",{property:"og:image",content:b}),t.jsx("meta",{property:"og:site_name",content:"Traffic Creator"}),t.jsx("meta",{property:"og:locale",content:"en_US"}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:url",content:m}),t.jsx("meta",{name:"twitter:title",content:n}),t.jsx("meta",{name:"twitter:description",content:e}),t.jsx("meta",{name:"twitter:image",content:b}),i&&t.jsx("script",{type:"application/ld+json",children:JSON.stringify(i)})]})},X4=()=>{const[n,e]=w.useState(1),[s,r]=w.useState("monthly"),[i,l]=w.useState(null),[c,f]=w.useState(!1),[u,m]=w.useState("subscriptions"),[g,b]=w.useState("professional"),v={starter_monthly:"price_1T19GZJLE5bW6f8EPNVSoaGp",starter_yearly:"price_starter_yearly",professional_monthly:"price_professional_monthly",professional_yearly:"price_professional_yearly",agency_monthly:"price_agency_monthly",agency_yearly:"price_agency_yearly"},T=[{id:"starter",name:"Starter",subtitle:"Perfect for niche blogs",price:s==="monthly"?29:24,priceId:s==="monthly"?v.starter_monthly:v.starter_yearly,icon:t.jsx(Yt,{className:"text-gray-400",size:24}),features:["5,000 Monthly Visitors","5 Keywords Tracking","Geo-Targeting (Standard)","Desktop Traffic Only","Standard Proxy Pool"],color:"border-gray-200"},{id:"professional",name:"Professional",subtitle:"Best for growth-stage sites",price:s==="monthly"?79:64,priceId:s==="monthly"?v.professional_monthly:v.professional_yearly,icon:t.jsx(JO,{className:"text-[#ff4d00]",size:24}),features:["25,000 Monthly Visitors","20 Keywords Tracking","Geo-Targeting (Advanced)","Mobile + Desktop Traffic","Social & Referral Traffic","High-Retention Visits"],popular:!0,color:"border-[#ff4d00]"},{id:"agency",name:"Agency",subtitle:"Enterprise-grade throughput",price:s==="monthly"?249:199,priceId:s==="monthly"?v.agency_monthly:v.agency_yearly,icon:t.jsx(w4,{className:"text-purple-600",size:24}),features:["100,000 Monthly Visitors","Unlimited Keywords","Global Proxy Network","Residential Proxy Access","API Management","Dedicated Support Manager"],color:"border-purple-600"}],N=()=>t.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl font-black text-gray-900 uppercase tracking-tighter mb-4",children:"Why Choose Us?"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Compare our premium traffic against standard alternatives."})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-xl overflow-hidden mb-12",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[t.jsx("th",{className:"px-8 py-6 text-xs font-black uppercase tracking-widest text-gray-400",children:"Feature"}),t.jsx("th",{className:"px-8 py-6 text-xs font-black uppercase tracking-widest text-[#ff4d00]",children:"Traffic Bot OS"}),t.jsx("th",{className:"px-8 py-6 text-xs font-black uppercase tracking-widest text-gray-300",children:"Other Ad Networks"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:[{label:"Real Keyword Search",us:!0,them:!1},{label:"Residential Proxy Pool",us:!0,them:"Limited"},{label:"Bounce Rate Control",us:!0,them:!1},{label:"Human Interaction Emulation",us:!0,them:!1},{label:"GEO-Targeting Precision",us:"City Level",them:"Country Level"},{label:"SEO Authority Impact",us:"Direct Growth",them:"None / Risk"}].map((P,L)=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-8 py-5 text-sm font-bold text-gray-700",children:P.label}),t.jsx("td",{className:"px-8 py-5 text-sm font-black text-gray-900",children:typeof P.us=="boolean"?P.us?t.jsx(rn,{className:"text-green-500",size:18}):"No":P.us}),t.jsx("td",{className:"px-8 py-5 text-sm font-medium text-gray-400",children:typeof P.them=="boolean"?P.them?t.jsx(rn,{size:18}):"No":P.them})]},L))})]})}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("button",{onClick:()=>e(2),className:"group bg-black text-white px-12 py-5 text-xs font-black uppercase tracking-widest hover:bg-[#ff4d00] transition-all flex items-center gap-3 shadow-[0_10px_30px_rgba(0,0,0,0.1)] hover:shadow-[0_10px_30px_rgba(255,77,0,0.2)]",children:["View Plans & Pricing ",t.jsx(ms,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})})]}),E=()=>t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-500",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-4xl font-black text-gray-900 uppercase tracking-tighter mb-6",children:"Simple, Transparent Pricing"}),t.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[t.jsxs("button",{onClick:()=>m("subscriptions"),className:`px-8 py-3 text-xs font-black uppercase tracking-widest transition-all ${u==="subscriptions"?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(cn,{size:14,className:"inline mr-2"}),"Subscriptions"]}),t.jsxs("button",{onClick:()=>m("credits"),className:`px-8 py-3 text-xs font-black uppercase tracking-widest transition-all ${u==="credits"?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(lw,{size:14,className:"inline mr-2"}),"Credit Packs"]})]}),u==="subscriptions"&&t.jsxs("div",{className:"inline-flex items-center p-1 bg-gray-100 rounded-sm border border-gray-200",children:[t.jsx("button",{onClick:()=>r("monthly"),className:`px-6 py-2 text-[10px] font-black uppercase tracking-widest transition-all ${s==="monthly"?"bg-white text-black shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Monthly"}),t.jsxs("button",{onClick:()=>r("yearly"),className:`px-6 py-2 text-[10px] font-black uppercase tracking-widest transition-all relative ${s==="yearly"?"bg-white text-black shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:["Yearly",t.jsx("span",{className:"absolute -top-4 -right-2 bg-green-500 text-white text-[8px] px-1.5 py-0.5 rounded-full font-black animate-bounce",children:"-20%"})]})]})]}),u==="subscriptions"?t.jsx(t.Fragment,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto mb-16",children:T.map(P=>t.jsxs("div",{className:`bg-white p-8 border-2 ${P.color} relative overflow-hidden transition-all hover:scale-[1.02] hover:shadow-2xl flex flex-col`,children:[P.popular&&t.jsx("div",{className:"absolute top-4 right-[-35px] bg-[#ff4d00] text-white text-[8px] font-black uppercase tracking-widest py-1.5 px-12 rotate-45",children:"Most Popular"}),t.jsxs("div",{className:"mb-8",children:[t.jsx("div",{className:"p-3 bg-gray-50 inline-block rounded-sm mb-4",children:P.icon}),t.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:P.name}),t.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-widest mt-1",children:P.subtitle})]}),t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsxs("span",{className:"text-4xl font-black text-gray-900",children:["",P.price]}),t.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest",children:"/ month"})]}),t.jsx("p",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-widest mt-1",children:s==="yearly"?"Billed annually":"Cancel anytime"})]}),t.jsx("ul",{className:"space-y-4 mb-10 flex-1",children:P.features.map((L,V)=>t.jsxs("li",{className:"flex items-start gap-3 text-xs font-medium text-gray-600",children:[t.jsx(rn,{className:"text-[#ff4d00] shrink-0",size:14}),t.jsx("span",{children:L})]},V))}),t.jsx("button",{onClick:()=>{l(P.id),e(3)},className:`w-full py-4 text-[10px] font-black uppercase tracking-widest transition-all ${P.popular?"bg-[#ff4d00] text-white hover:bg-black":"bg-black text-white hover:bg-[#ff4d00]"}`,children:"Get Started Now"})]},P.id))})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Vo.map(P=>t.jsxs("button",{onClick:()=>b(P.id),className:`px-6 py-3 text-xs font-black uppercase tracking-widest transition-all ${g===P.id?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${P.popular?"ring-2 ring-[#ff4d00]/30":""}`,children:[P.name,P.popular&&t.jsx("span",{className:"ml-2 text-[10px]",children:""})]},P.id))}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 max-w-6xl mx-auto mb-16",children:Qb.map((P,L)=>{var A;const V=((A=Qf[g][P])==null?void 0:A[1])||0,$=dw(g,P,1),Q=Vo.find(I=>I.id===g),_=P===5e5;return t.jsxs("div",{className:`bg-white p-6 border-2 ${_?"border-[#ff4d00] shadow-xl scale-105 relative":"border-gray-200"} flex flex-col`,children:[_&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-[#ff4d00] text-white text-[8px] font-black uppercase tracking-widest px-3 py-1 rounded-full",children:"Popular"}),t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:P>=1e6?`${P/1e6}M`:`${P/1e3}k`}),t.jsx("div",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-widest",children:"Visitors"})]}),t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{className:"text-3xl font-black text-gray-900",children:uw(V)}),t.jsxs("div",{className:"text-[9px] text-[#ff4d00] font-bold",children:[hw($),"/1k"]})]}),t.jsx("ul",{className:"space-y-2 mb-6 flex-1 text-[10px]",children:Q==null?void 0:Q.features.slice(0,2).map((I,z)=>t.jsxs("li",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx(rn,{size:10,className:"text-green-500"}),I]},z))}),t.jsx(Ue,{to:"/dashboard/buy-credits",className:`w-full py-3 text-[9px] font-black uppercase tracking-widest text-center ${_?"bg-[#ff4d00] text-white hover:bg-black":"bg-black text-white hover:bg-[#ff4d00]"}`,children:"Buy Now"})]},P)})}),t.jsx("div",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 rounded-2xl p-8 max-w-4xl mx-auto mb-8",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"Bulk Discounts"}),t.jsx("p",{className:"text-gray-400 text-sm",children:"Save up to 40% with multi-packs"})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"6x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-20%"})]}),t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"24x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-40%"})]})]})]})})]}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("button",{onClick:()=>e(1),className:"text-gray-400 hover:text-black text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[t.jsx(Hn,{size:14})," Back to Comparison"]})})]}),k=async()=>{if(!i)return;const P=T.find(L=>L.id===i);if(P){f(!0);try{const L=await q.createCheckoutSession(P.priceId);L.url&&(window.location.href=L.url)}catch(L){console.error("Checkout error:",L),alert("Failed to start checkout. Please try again.")}finally{f(!1)}}},D=()=>{const P=T.find(L=>L.id===i)||T[1];return t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-500 flex flex-col lg:flex-row gap-12 max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex-1 space-y-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tighter mb-2",children:"Customize Your Package"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Add premium features to boost your campaign performance."})]}),t.jsx("div",{className:"space-y-4",children:[{id:"proxies",label:"Residential Proxy Pool",price:15,icon:t.jsx(zr,{size:18})},{id:"mobile",label:"Mobile Device Emulation",price:10,icon:t.jsx(Os,{size:18})},{id:"referrers",label:"Custom Web Referrers",price:12,icon:t.jsx(Ur,{size:18})},{id:"keywords",label:"Extra Keyword Slots (+5)",price:9,icon:t.jsx(Gn,{size:18})}].map(L=>t.jsxs("div",{className:"bg-white border border-gray-100 p-6 flex justify-between items-center group hover:border-[#ff4d00] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-gray-50 group-hover:bg-orange-50 group-hover:text-[#ff4d00] transition-colors",children:L.icon}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase tracking-tight",children:L.label}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Premium Add-on"})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("span",{className:"text-sm font-black text-gray-900",children:["+",L.price,"/mo"]}),t.jsx("div",{className:"w-5 h-5 border-2 border-gray-200 rounded-sm flex items-center justify-center"})]})]},L.id))})]}),t.jsxs("div",{className:"w-full lg:w-[400px]",children:[t.jsxs("div",{className:"bg-black text-white p-8 sticky top-8 rounded-sm overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00] opacity-10 translate-x-16 -translate-y-16 rotate-45"}),t.jsx("h3",{className:"text-xl font-black uppercase tracking-tighter mb-8 relative",children:"Order Summary"}),t.jsxs("div",{className:"space-y-6 mb-12 relative",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400 text-[10px] font-black uppercase tracking-widest",children:"Selected Plan"}),t.jsx("span",{className:"font-bold text-sm",children:P.name})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400 text-[10px] font-black uppercase tracking-widest",children:"Billing Cycle"}),t.jsx("span",{className:"font-bold text-sm",children:s==="yearly"?"Yearly (-20%)":"Monthly"})]}),t.jsxs("div",{className:"pt-6 border-t border-gray-800 flex justify-between items-center text-xl",children:[t.jsx("span",{className:"font-black uppercase tracking-tighter",children:"Total Due"}),t.jsxs("span",{className:"text-[#ff4d00] font-black",children:["",P.price,".00"]})]})]}),t.jsx("button",{onClick:k,disabled:c,className:"w-full bg-[#ff4d00] py-5 text-xs font-black uppercase tracking-widest hover:bg-white hover:text-black transition-all shadow-[0_20px_40px_rgba(255,77,0,0.3)] disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Processing...":"Complete Purchase"}),t.jsx("p",{className:"text-[9px] text-gray-500 font-bold text-center mt-6 uppercase tracking-widest",children:"Safe & Secure Checkout via Stripe"})]}),t.jsxs("button",{onClick:()=>e(2),className:"w-full mt-4 text-gray-400 hover:text-black text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 py-4 border border-transparent hover:border-gray-200 transition-all",children:[t.jsx(Hn,{size:14})," Back to Plans"]})]})]})};return t.jsx("div",{className:"min-h-screen bg-[#f3f4f6] py-20 px-6 font-sans",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx(Ti,{title:"Pricing Plans 2024 - Scalable Website Traffic Packages | Traffic Creator",description:"Transparent pricing for 2024. Start with our flexible credit packs or choose a monthly agency plan. High-quality residential traffic starting at just 29.",keywords:"traffic creator pricing, buy website visitors, organic traffic cost, agency traffic reseller, seo traffic packages 2024",type:"product",schema:{"@context":"https://schema.org","@type":"Product",name:"Traffic Creator Traffic Packages",description:"High-quality, targeted website traffic for SEO and analytics improvement.",offers:{"@type":"AggregateOffer",lowPrice:"29.00",highPrice:"2999.00",priceCurrency:"EUR"}}}),t.jsx("div",{className:"flex justify-center mb-20",children:t.jsx("div",{className:"flex items-center gap-4",children:[1,2,3].map(P=>t.jsxs(De.Fragment,{children:[t.jsx("div",{className:`w-10 h-10 flex items-center justify-center text-xs font-black border-2 transition-all
                    ${n>=P?"border-[#ff4d00] text-[#ff4d00] bg-white":"border-gray-300 text-gray-300"}`,children:P}),P<3&&t.jsx("div",{className:`w-8 h-0.5 ${n>P?"bg-[#ff4d00]":"bg-gray-300"}`})]},P))})}),n===1&&N(),n===2&&E(),n===3&&D()]})})},oL=()=>{const[n,e]=w.useState(null),[s,r]=w.useState(null),[i,l]=w.useState([]),[c,f]=w.useState("all"),[u,m]=w.useState(!0),[g,b]=w.useState(!1);w.useEffect(()=>{v()},[]);const v=async()=>{try{const V=q.getCurrentUser();if(V){e(V),l(q.getTransactions());try{const $=await q.getCurrentSubscription();r($)}catch{}}}catch(V){console.error("Error loading data:",V)}finally{m(!1)}},T=async()=>{b(!0);try{const V=await q.createPortalSession();V.url&&(window.location.href=V.url)}catch(V){console.error("Error opening portal:",V),alert("Failed to open billing portal. Please try again.")}finally{b(!1)}},N=async V=>{try{const $=await fetch(`${window.location.origin}/users/me/invoices/${V}`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if($.ok){const Q=await $.text(),_=window.open("","_blank");_?(_.document.write(Q),_.document.close()):alert("Please allow popups to view invoices")}else alert("Invoice not available. Please try again later.")}catch{alert("Failed to load invoice")}},E=i.filter(V=>c==="all"?!0:V.type===c),k=V=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(V),D=V=>new Date(V).toLocaleDateString("de-DE",{day:"2-digit",month:"short",year:"numeric"}),P=V=>{switch(V){case"starter":return"bg-gray-500";case"professional":return"bg-[#ff4d00]";case"agency":return"bg-purple-600";default:return"bg-gray-500"}},L=V=>{switch(V){case"active":return"bg-green-500";case"past_due":return"bg-yellow-500";case"canceled":return"bg-red-500";default:return"bg-gray-500"}};return u?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(fs,{className:"animate-spin text-[#ff4d00]",size:32})}):t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-end gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Finance"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Billing & Payments"})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("button",{onClick:()=>window.location.href="/dashboard/buy-credits",className:"bg-[#ff4d00] text-white px-6 py-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center gap-2",children:[t.jsx(j4,{size:14})," Buy Credits"]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Yt,{size:14,className:"text-[#ff4d00]"})," Current Subscription"]})}),t.jsx("div",{className:"p-6",children:s&&s.status!=="inactive"?t.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`px-4 py-2 text-white font-black text-sm uppercase ${P(s.plan)}`,children:s.plan||"Free"}),t.jsx("div",{className:`px-3 py-1 text-white text-xs font-bold uppercase ${L(s.status)}`,children:s.status}),s.current_period_end&&t.jsxs("span",{className:"text-xs text-gray-500",children:["Renews: ",new Date(s.current_period_end).toLocaleDateString()]})]}),t.jsxs("button",{onClick:T,disabled:g,className:"bg-black text-white px-6 py-2 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors disabled:opacity-50 flex items-center gap-2",children:[g&&t.jsx(fs,{className:"animate-spin",size:14}),"Manage Subscription"]})]}):t.jsxs("div",{className:"text-center py-6",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No active subscription"}),t.jsx("a",{href:"/dashboard/buy-credits",className:"inline-block bg-[#ff4d00] text-white px-6 py-2 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"View Plans"})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(cn,{size:14,className:"text-[#ff4d00]"})," Payment Methods"]})}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"bg-[#f9fafb] p-4 rounded-full",children:t.jsx(zr,{size:24,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"Secure Payment Management"}),t.jsx("p",{className:"text-xs text-gray-500 max-w-md",children:"Manage your payment methods securely through our payment provider. Add, remove, or update cards anytime."})]})]}),t.jsxs("button",{onClick:T,disabled:g,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors disabled:opacity-50 flex items-center gap-2",children:[g&&t.jsx(fs,{className:"animate-spin",size:14}),t.jsx(cn,{size:14})," Manage Payment Methods"]})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row justify-between md:items-center gap-4",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Nf,{size:14,className:"text-[#ff4d00]"})," Transaction History"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vu,{size:14,className:"text-gray-400"}),t.jsxs("select",{value:c,onChange:V=>f(V.target.value),className:"bg-gray-50 border border-gray-200 px-3 py-2 text-xs font-bold uppercase tracking-widest outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"all",children:"All Transactions"}),t.jsx("option",{value:"credit",children:"Credits Only"}),t.jsx("option",{value:"debit",children:"Debits Only"})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-center text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Invoice"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:E.length>0?E.map(V=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ql,{size:12,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-700",children:D(V.date)})]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("span",{className:"text-xs font-bold text-gray-900",children:V.desc}),V.tier&&t.jsx("span",{className:"ml-2 text-[8px] font-black uppercase px-2 py-0.5 rounded bg-gray-100 text-gray-500",children:V.tier})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("span",{className:`inline-flex items-center gap-1 text-[9px] font-black uppercase tracking-wider px-2 py-1 rounded-sm ${V.type==="debit"?"bg-orange-50 text-[#ff4d00]":"bg-green-50 text-green-700"}`,children:[V.type==="debit"?t.jsx(c4,{size:10}):t.jsx(VP,{size:10}),V.type]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:`text-sm font-black ${V.type==="debit"?"text-gray-900":"text-green-600"}`,children:[V.type==="debit"?"-":"+",k(V.amount)]})}),t.jsx("td",{className:"px-6 py-4 text-center",children:t.jsxs("button",{onClick:()=>N(V.id),className:"inline-flex items-center gap-1 text-[9px] font-bold text-gray-400 hover:text-[#ff4d00] uppercase tracking-widest transition-colors",children:[t.jsx(vi,{size:12})," View"]})})]},V.id)):t.jsx("tr",{children:t.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400",children:[t.jsx(Nf,{size:32,className:"mx-auto mb-3 opacity-50"}),t.jsx("p",{className:"text-sm font-bold",children:"No transactions found"})]})})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Total Spent"}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:k(i.filter(V=>V.type==="debit").reduce((V,$)=>V+$.amount,0))})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Total Top-ups"}),t.jsx("div",{className:"text-2xl font-black text-green-600",children:k(i.filter(V=>V.type!=="debit").reduce((V,$)=>V+$.amount,0))})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Transactions"}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:i.length})]})]})]})},Kp=[{level:1,name:"Novice",xp_required:0,spend_required:0,bonus_hits:0,discount:0,color:"#9ca3af"},{level:2,name:"Rookie",xp_required:100,spend_required:10,bonus_hits:2e3,discount:0,color:"#6b7280"},{level:3,name:"Explorer",xp_required:250,spend_required:25,bonus_hits:3e3,discount:0,color:"#6b7280"},{level:4,name:"Starter",xp_required:500,spend_required:50,bonus_hits:5e3,discount:1,color:"#22c55e"},{level:5,name:"Builder",xp_required:1e3,spend_required:100,bonus_hits:8e3,discount:2,color:"#22c55e"},{level:6,name:"Achiever",xp_required:2e3,spend_required:200,bonus_hits:12e3,discount:2,color:"#22c55e"},{level:7,name:"Strategist",xp_required:3500,spend_required:350,bonus_hits:15e3,discount:3,color:"#3b82f6"},{level:8,name:"Professional",xp_required:5e3,spend_required:500,bonus_hits:2e4,discount:4,color:"#3b82f6"},{level:9,name:"Expert",xp_required:7500,spend_required:750,bonus_hits:3e4,discount:5,color:"#3b82f6"},{level:10,name:"Master",xp_required:1e4,spend_required:1e3,bonus_hits:4e4,discount:6,color:"#8b5cf6"},{level:11,name:"Veteran",xp_required:15e3,spend_required:1500,bonus_hits:5e4,discount:7,color:"#8b5cf6"},{level:12,name:"Champion",xp_required:2e4,spend_required:2e3,bonus_hits:6e4,discount:8,color:"#8b5cf6"},{level:13,name:"Elite",xp_required:3e4,spend_required:3e3,bonus_hits:8e4,discount:9,color:"#ec4899"},{level:14,name:"Premier",xp_required:4e4,spend_required:4e3,bonus_hits:1e5,discount:10,color:"#ec4899"},{level:15,name:"Supreme",xp_required:6e4,spend_required:6e3,bonus_hits:12e4,discount:11,color:"#ec4899"},{level:16,name:"Titan",xp_required:8e4,spend_required:8e3,bonus_hits:15e4,discount:12,color:"#f59e0b"},{level:17,name:"Legend",xp_required:12e4,spend_required:12e3,bonus_hits:18e4,discount:13,color:"#f59e0b"},{level:18,name:"Mythic",xp_required:18e4,spend_required:18e3,bonus_hits:22e4,discount:14,color:"#f59e0b"},{level:19,name:"Immortal",xp_required:25e4,spend_required:25e3,bonus_hits:28e4,discount:15,color:"#ef4444"},{level:20,name:"Apex",xp_required:5e5,spend_required:5e4,bonus_hits:5e5,discount:20,color:"#ff4d00"}],lL=[{days:"1-2",hits:1e3},{days:"3-4",hits:2e3},{days:"5-6",hits:3e3},{days:"7",hits:1e4,milestone:!0},{days:"8-13",hits:1e4},{days:"14",hits:15e3,milestone:!0},{days:"15-29",hits:15e3},{days:"30+",hits:2e4,milestone:!0}],cL=[{action:"1 Spent",xp:10,icon:t.jsx(cn,{size:24,className:"text-[#ff4d00]"})},{action:"Daily Login",xp:5,icon:t.jsx(zM,{size:24,className:"text-[#ff4d00]"})},{action:"Create Project",xp:20,icon:t.jsx(WD,{size:24,className:"text-[#ff4d00]"})},{action:"7-Day Streak",xp:50,icon:t.jsx(Io,{size:24,className:"text-[#ff4d00]"})},{action:"Referral Payout",xp:100,icon:t.jsx(Ur,{size:24,className:"text-[#ff4d00]"})}],dL=()=>{var L,V,$,Q;const[n,e]=w.useState(null),[s,r]=w.useState(!0),[i,l]=w.useState(!1),[c,f]=w.useState(!1),[u,m]=w.useState(null),[g,b]=w.useState(!1),[v,T]=w.useState(!0);w.useEffect(()=>{N()},[]);const N=async()=>{try{const _=await fetch(`${window.location.origin}/users/me/gamification`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(_.ok){const I=await _.json();e(I)}const A=await fetch(`${window.location.origin}/users/me/streak`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(A.ok){const I=await A.json();T(I.can_claim_today)}}catch(_){console.error("Failed to fetch gamification data:",_)}finally{r(!1)}},E=async()=>{if(!i){l(!0);try{const _=await fetch(`${window.location.origin}/users/me/claim-level-bonus`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`,"Content-Type":"application/json"}});if(_.ok){const A=await _.json();alert(A.message),N()}else{const A=await _.json();alert(A.detail||"Failed to claim bonus")}}catch{alert("Failed to claim bonus")}finally{l(!1)}}},k=async()=>{if(!(c||!v)){f(!0);try{const A=await(await fetch(`${window.location.origin}/users/me/daily-bonus`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`,"Content-Type":"application/json"}})).json();m(A),b(!0),A.success&&(T(!1),N())}catch(_){console.error("Failed to claim daily bonus:",_)}finally{f(!1)}}};if(s)return t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-[#ff4d00] border-t-transparent rounded-full"})});const D=Kp[n!=null&&n.level?n.level-1:0]||Kp[0],P=n!=null&&n.xp_to_next?Math.round(n.xp/(n.xp+n.xp_to_next)*100):100;return t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-end gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Rewards Program"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Gamification"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 px-6 py-3 shadow-sm text-center",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Total XP"}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:((L=n==null?void 0:n.xp)==null?void 0:L.toLocaleString())||0})]}),t.jsxs("div",{className:"bg-[#ff4d00] text-white px-6 py-4 shadow-sm text-center",children:[t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest mb-1 opacity-80",children:"Your Discount"}),t.jsxs("div",{className:"text-2xl font-black",children:[(n==null?void 0:n.discount_percent)||0,"% OFF"]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Vr,{size:14,className:"text-[#ff4d00]"})," Your Progress"]})}),t.jsxs("div",{className:"p-8 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#ff4d00] opacity-5 rounded-full -mr-32 -mt-32 blur-3xl"}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center gap-8",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"w-32 h-32 rounded-full flex items-center justify-center text-white font-black text-3xl",style:{backgroundColor:D.color},children:["Lv",(n==null?void 0:n.level)||1]}),t.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-white border border-gray-200 px-3 py-1 text-[10px] font-black uppercase tracking-widest rounded-full shadow-sm",children:D.name})]}),t.jsxs("div",{className:"flex-1 w-full",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("span",{className:"text-xs font-bold text-gray-500",children:[((V=n==null?void 0:n.xp)==null?void 0:V.toLocaleString())||0," XP"]}),t.jsxs("span",{className:"text-xs font-bold text-[#ff4d00]",children:[P,"%"]})]}),t.jsx("div",{className:"w-full bg-gray-100 h-4 rounded-full overflow-hidden shadow-inner",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-[#ff4d00] to-[#ff8c00] transition-all duration-1000 rounded-full",style:{width:`${P}%`}})}),t.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[t.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:["Next: ",(($=Kp[Math.min((n==null?void 0:n.level)||1,19)])==null?void 0:$.name)||"Apex"]}),t.jsxs("span",{className:"text-[10px] font-bold text-gray-400",children:[((Q=n==null?void 0:n.xp_to_next)==null?void 0:Q.toLocaleString())||0," XP needed"]})]}),(n==null?void 0:n.pending_bonus_hits)&&n.pending_bonus_hits>0&&!n.pending_bonus_claimed&&t.jsxs("button",{onClick:E,disabled:i,className:"mt-4 w-full bg-[#ff4d00] text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-black transition-colors rounded-sm flex items-center justify-center gap-2 disabled:opacity-70",children:[t.jsx(ix,{size:14})," ",i?"Claiming...":`Claim Level ${n.level} Bonus: +${n.pending_bonus_hits.toLocaleString()} Hits`]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a1a] to-black text-white p-8 shadow-2xl relative overflow-hidden rounded-lg border border-gray-800",children:[t.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-[#ff4d00] opacity-10 rounded-full -mr-24 -mt-24 blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-[#ff4d00] opacity-5 rounded-full -ml-16 -mb-16 blur-2xl"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest flex items-center gap-3 text-gray-300",children:[t.jsx(La,{size:18,className:"text-[#ff4d00]"})," Daily Rewards"]}),v&&t.jsx("span",{className:"bg-[#ff4d00] text-white text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full animate-pulse shadow-[0_0_15px_rgba(255,77,0,0.5)]",children:"Ready to Claim"})]}),t.jsxs("div",{className:"flex items-end gap-4 mb-6",children:[t.jsx("div",{className:"text-5xl font-black text-white leading-none",children:(n==null?void 0:n.streak_days)||0}),t.jsxs("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-1 flex items-center gap-2",children:["Day Streak ",t.jsx(Io,{size:14,className:"text-[#ff4d00]"})]})]}),t.jsxs("div",{className:"bg-black/30 p-4 rounded-lg mb-6 backdrop-blur-sm border border-white/5",children:[t.jsx("div",{className:"flex gap-2 mb-2",children:[1,2,3,4,5,6,7].map(_=>{const A=((n==null?void 0:n.streak_days)||0)%7>=_||((n==null?void 0:n.streak_days)||0)>=7&&_<=7,I=((n==null?void 0:n.streak_days)||0)%7===_-1&&v;return t.jsx("div",{className:`flex-1 h-3 rounded-full transition-all duration-300 ${A?"bg-gradient-to-r from-[#ff4d00] to-[#ff8c00] shadow-[0_0_10px_rgba(255,77,0,0.3)]":"bg-gray-800"} ${I?"animate-pulse ring-2 ring-[#ff4d00] ring-offset-2 ring-offset-black":""}`},_)})}),t.jsxs("div",{className:"flex justify-between text-[10px] uppercase font-bold text-gray-500 mt-2 px-1",children:[t.jsx("span",{children:"Day 1"}),t.jsx("span",{children:"Day 7 (Bonus)"})]})]}),t.jsxs("button",{onClick:k,disabled:!v||c,className:`w-full py-4 text-sm font-black uppercase tracking-widest transition-all duration-300 rounded flex items-center justify-center gap-3 shadow-lg ${v?"bg-gradient-to-r from-[#ff4d00] to-[#ff6b00] hover:from-[#ff3300] hover:to-[#ff5500] text-white shadow-[#ff4d00]/20 transform hover:-translate-y-1":"bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700"}`,children:[t.jsx(La,{size:18,className:v?"animate-bounce":""}),c?"Claiming Reward...":v?"Claim Daily Bonus":"Come Back Tomorrow"]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2 mb-4",children:[t.jsx(Io,{size:14,className:"text-[#ff4d00]"})," Streak Rewards"]}),t.jsx("div",{className:"space-y-3",children:lL.map((_,A)=>t.jsxs("div",{className:`flex items-center justify-between p-3 rounded-sm ${_.milestone?"bg-[#ff4d00]/5 border border-[#ff4d00]/20":"bg-gray-50"}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[_.milestone&&t.jsx(Hl,{size:14,className:"text-[#ff4d00]"}),t.jsxs("span",{className:"text-xs font-bold text-gray-700",children:["Day ",_.days]})]}),t.jsxs("span",{className:"text-xs font-black text-[#ff4d00]",children:["+",_.hits.toLocaleString()," Hits"]})]},A))}),t.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-sm",children:t.jsxs("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:["Best Streak: ",t.jsxs("span",{className:"text-gray-900",children:[(n==null?void 0:n.streak_best)||0," Days"]})]})})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Hl,{size:14,className:"text-[#ff4d00]"})," All 20 Levels"]})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Level"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Name"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Required"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Bonus Hits"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Discount"}),t.jsx("th",{className:"px-6 py-4 text-center text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:Kp.map(_=>{const A=(n==null?void 0:n.level)===_.level,I=((n==null?void 0:n.level)||1)>=_.level;return t.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${A?"bg-[#ff4d00]/5":""}`,children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-black",style:{backgroundColor:_.color},children:_.level})})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"text-xs font-bold text-gray-900",children:_.name})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"text-xs text-gray-500",children:[t.jsxs("span",{className:"font-bold",children:[_.xp_required.toLocaleString()," XP"]}),t.jsxs("span",{className:"text-gray-400 ml-2",children:["or ",_.spend_required.toLocaleString()]})]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("span",{className:`text-xs font-black ${_.bonus_hits>0?"text-green-600":"text-gray-400"}`,children:_.bonus_hits>0?`+${_.bonus_hits.toLocaleString()}`:"-"})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("span",{className:`text-xs font-black ${_.discount>0?"text-[#ff4d00]":"text-gray-400"}`,children:_.discount>0?`${_.discount}%`:"-"})}),t.jsx("td",{className:"px-6 py-4 text-center",children:A?t.jsxs("span",{className:"inline-flex items-center gap-1 bg-[#ff4d00] text-white text-[8px] font-black uppercase tracking-widest px-2 py-1 rounded-full",children:[t.jsx(Vr,{size:10})," Current"]}):I?t.jsxs("span",{className:"inline-flex items-center gap-1 bg-green-100 text-green-700 text-[8px] font-black uppercase tracking-widest px-2 py-1 rounded-full",children:[t.jsx(Xl,{size:10})," Unlocked"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 bg-gray-100 text-gray-400 text-[8px] font-black uppercase tracking-widest px-2 py-1 rounded-full",children:[t.jsx(Un,{size:10})," Locked"]})})]},_.level)})})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2 mb-6",children:[t.jsx(tc,{size:14,className:"text-[#ff4d00]"})," How to Earn XP"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:cL.map((_,A)=>t.jsxs("div",{className:"bg-white border border-gray-100 p-6 text-center rounded-lg shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1 group",children:[t.jsx("div",{className:"flex justify-center mb-4 transform group-hover:scale-110 transition-transform duration-300",children:t.jsx("div",{className:"p-3 bg-gray-50 rounded-full group-hover:bg-[#ff4d00]/10 transition-colors",children:_.icon})}),t.jsx("div",{className:"text-xs font-black text-gray-900 uppercase tracking-wide mb-1",children:_.action}),t.jsxs("div",{className:"text-base font-black text-[#ff4d00]",children:["+",_.xp," XP"]})]},A))})]}),g&&u&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 animate-in fade-in duration-300 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-in zoom-in-95 duration-300 relative",children:[t.jsx("div",{className:"absolute top-0 w-full h-2 bg-gradient-to-r from-[#ff4d00] to-[#ff8c00]"}),t.jsxs("div",{className:"p-8 pb-0 text-center relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-gray-50 to-white -z-10"}),t.jsx("div",{className:"inline-flex p-4 rounded-full bg-[#ff4d00]/10 mb-4 animate-bounce",children:t.jsx(La,{size:48,className:"text-[#ff4d00]"})}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight mb-2",children:u.success?"Bonus Unlocked!":"Already Claimed"}),u.success?t.jsx("p",{className:"text-gray-500 font-medium",children:"Keep your streak alive for bigger rewards!"}):t.jsx("p",{className:"text-gray-500 font-medium",children:u.message})]}),t.jsx("div",{className:"p-8 text-center",children:u.success&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col items-center justify-center py-6 bg-gradient-to-br from-gray-900 to-black text-white rounded-lg mb-6 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute inset-0 bg-[#ff4d00] opacity-10 blur-xl group-hover:opacity-20 transition-opacity"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("p",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-1",children:"You Received"}),t.jsxs("p",{className:"text-5xl font-black text-[#ff4d00] mb-1",children:["+",u.hits.toLocaleString()]}),t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Economy Hits"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Current Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900 flex justify-center items-center gap-1",children:[u.streak_days," ",t.jsx(Io,{size:16,className:"text-[#ff4d00]"})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Best Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900 flex justify-center items-center gap-1",children:[u.streak_best," ",t.jsx(Hl,{size:16,className:"text-[#fbbf24]"})]})]})]})]})}),t.jsx("div",{className:"px-8 pb-8",children:t.jsx("button",{onClick:()=>b(!1),className:"w-full bg-[#ff4d00] text-white py-4 text-sm font-black uppercase tracking-widest hover:bg-black transition-all duration-300 rounded shadow-lg shadow-[#ff4d00]/20 hover:shadow-xl transform hover:-translate-y-0.5",children:"Continue"})})]})})]})},uL=()=>{const n=Us(),[e]=nx(),[s,r]=w.useState(!0),[i,l]=w.useState(null),[c,f]=w.useState(null);w.useEffect(()=>{(async()=>{try{const b=e.get("type"),v=e.get("session_id"),T=e.get("amount"),N=e.get("plan"),E=e.get("credits");if(!b){f("Invalid payment confirmation"),r(!1);return}const D=new Date().toLocaleDateString("de-DE",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});if(l(b==="subscription"?{type:"subscription",planName:N||"Professional Plan",date:D,sessionId:v||void 0}:{type:"credits",amount:T?parseFloat(T):void 0,credits:E?parseInt(E):void 0,date:D,sessionId:v||void 0}),window.history.replaceState){const P=window.location.pathname;window.history.replaceState({},document.title,P)}}catch(b){console.error("Error loading payment details:",b),f("Failed to load payment details")}finally{r(!1)}})()},[e]);const u=g=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(g),m=()=>{i!=null&&i.sessionId?window.open(`https://billing.stripe.com/p/session/${i.sessionId}`,"_blank"):n("/dashboard/billing")};return s?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(fs,{className:"animate-spin text-[#ff4d00]",size:32})}):c||!i?t.jsx("div",{className:"max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(cn,{size:32,className:"text-red-500"})}),t.jsx("h1",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight mb-3",children:"Payment Information Unavailable"}),t.jsx("p",{className:"text-gray-500 mb-8",children:c||"We could not retrieve your payment details."}),t.jsx("button",{onClick:()=>n("/dashboard"),className:"bg-[#ff4d00] text-white px-8 py-3 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Go to Dashboard"})]})}):t.jsxs("div",{className:"max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500 pb-12",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-8 text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 animate-in zoom-in duration-300",children:t.jsx(yt,{size:40,className:"text-green-500"})}),t.jsx("h1",{className:"text-3xl font-black text-white uppercase tracking-tight mb-2",children:"Payment Successful"}),t.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Thank you for your purchase"})]}),t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"bg-gray-50 border border-gray-100 p-6 mb-8",children:[t.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-400 mb-4",children:"Transaction Details"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-2",children:[t.jsx(cn,{size:14})," Type"]}),t.jsx("span",{className:"text-sm font-bold text-gray-900 uppercase",children:i.type==="subscription"?"Subscription":"Credits Purchase"})]}),i.type==="subscription"&&i.planName&&t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Plan"}),t.jsx("span",{className:"text-sm font-black text-[#ff4d00] uppercase",children:i.planName})]}),i.type==="credits"&&i.amount&&t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),t.jsx("span",{className:"text-sm font-black text-gray-900",children:u(i.amount)})]}),i.type==="credits"&&i.credits&&t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Traffic Credits"}),t.jsxs("span",{className:"text-sm font-bold text-green-600",children:["+",i.credits.toLocaleString()," hits"]})]}),t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-2",children:[t.jsx(Ql,{size:14})," Date"]}),t.jsx("span",{className:"text-sm font-bold text-gray-900",children:i.date})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("button",{onClick:m,className:"flex-1 flex items-center justify-center gap-2 bg-white border-2 border-gray-200 text-gray-900 py-4 text-xs font-bold uppercase tracking-widest hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors",children:[t.jsx(b4,{size:14})," View Receipt"]}),t.jsxs(Ue,{to:"/dashboard/billing",className:"flex-1 flex items-center justify-center gap-2 bg-black text-white py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors",children:["View Billing ",t.jsx(ms,{size:14})]})]})]})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(Ue,{to:"/dashboard/campaigns/new",className:"inline-flex items-center gap-2 text-[#ff4d00] text-sm font-bold hover:text-black transition-colors",children:["Start a new campaign ",t.jsx(ms,{size:14})]})})]})},hL=({onLogout:n})=>{var k,D;const[e,s]=w.useState(!1),r=Us(),l=Kn().pathname.replace("/dashboard","").substring(1)||"home",[c,f]=w.useState([]),[u,m]=w.useState(0),[g,b]=w.useState(!0);w.useEffect(()=>{q.init(),(async()=>{await q.syncProjects(),f(q.getProjects()),m(q.getBalance()),b(!1)})()},[]);const v=()=>{f(q.getProjects()),m(q.getBalance())},T=P=>{r(P===""?"/dashboard/campaigns":`/dashboard/campaigns/${P}`),window.scrollTo(0,0)},N=[{title:"Main",items:[{label:"Dashboard",id:"home",path:"/dashboard",icon:t.jsx(g4,{size:18})},{label:"Campaigns",id:"campaigns",path:"/dashboard/campaigns",icon:t.jsx(ca,{size:18}),active:l.startsWith("campaigns")}]},{title:"Finance",items:[{label:"Billing",id:"billing",path:"/dashboard/billing",icon:t.jsx(b4,{size:18})},{label:"Buy Credits",id:"buy-credits",path:"/dashboard/buy-credits",icon:t.jsx(cn,{size:18})},{label:"Balance",id:"balance",path:"/dashboard/balance",icon:t.jsx(KP,{size:18})}]},{title:"Account",items:[{label:"Gamification",id:"gamification",path:"/dashboard/gamification",icon:t.jsx(Vr,{size:18})},{label:"Support Tickets",id:"support",path:"/dashboard/support",icon:t.jsx(wD,{size:18})},{label:"Profile",id:"profile",path:"/dashboard/profile",icon:t.jsx(qn,{size:18})},{label:"Affiliate",id:"affiliate",path:"/dashboard/affiliate",icon:t.jsx(ow,{size:18})}]}],E=()=>l==="home"||l===""?"Dashboard":l.startsWith("campaigns")?"Campaigns":l==="billing"?"Billing & Payments":l==="buy-credits"?"Wallet Top-Up":l==="gamification"?"Gamification":l==="profile"?"My Profile":l==="balance"?"Balance":l==="affiliate"?"Affiliate Program":l==="support"?"Support Helpdesk":l==="payment-success"?"Payment Successful":l.replace(/-/g," ");return g?t.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-gray-400 animate-pulse bg-[#f3f4f6]",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-200 mb-4 rounded-sm"}),t.jsx("div",{className:"text-xs font-bold uppercase tracking-widest",children:"Loading Database..."})]}):t.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen flex font-sans text-gray-900",children:[t.jsx(_4,{menuSections:N,currentView:l.startsWith("campaigns")?"campaigns":l===""?"home":l,onNavigate:P=>{const V=N.flatMap($=>$.items).find($=>$.id===P);V!=null&&V.path?r(V.path):r("/dashboard"),s(!1),window.scrollTo(0,0)},onLogout:n}),e&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-40 md:hidden backdrop-blur-sm",onClick:()=>s(!1),children:t.jsxs("div",{className:"bg-[#111] text-white w-72 h-full overflow-y-auto shadow-2xl",onClick:P=>P.stopPropagation(),children:[t.jsxs("div",{className:"p-8 pb-8 flex items-center gap-3 border-b border-gray-800",children:[t.jsx("div",{className:"w-8 h-8 bg-[#ff4d00] flex items-center justify-center",children:t.jsx("span",{className:"font-black text-black",children:"T"})}),t.jsx("span",{className:"text-xl font-black tracking-tighter",children:"TRAFFIC BOT"})]}),N.map((P,L)=>t.jsx("div",{className:"py-6 border-b border-gray-900",children:t.jsx("ul",{children:P.items.map(V=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>{r(V.path||"/dashboard"),s(!1)},className:`w-full text-left px-8 py-3 text-xs font-bold uppercase tracking-wider flex items-center gap-3
                                        ${l===V.id?"text-[#ff4d00] bg-gray-900":"text-gray-400"}`,children:[V.icon,V.label]})},V.id))})},L))]})}),t.jsxs("main",{className:"flex-1 md:ml-64 flex flex-col min-h-screen relative",children:[t.jsx(YM,{}),!((k=q.getCurrentUser())!=null&&k.isVerified)&&((D=q.getCurrentUser())==null?void 0:D.email)&&t.jsx(QM,{email:q.getCurrentUser().email,onVerified:()=>{const P=q.getCurrentUser();P&&(P.isVerified=!0,localStorage.setItem("modus_current_user",JSON.stringify(P)))}}),localStorage.getItem("tgp_admin_token")&&t.jsxs("div",{className:"bg-red-600 text-white px-6 py-3 flex items-center justify-between shadow-lg relative z-50",children:[t.jsxs("div",{className:"flex items-center gap-2 font-bold text-sm uppercase tracking-wide",children:[t.jsx(qn,{size:18}),t.jsx("span",{children:"Viewing as User Mode"})]}),t.jsx("button",{onClick:async()=>{try{await q.stopImpersonation(),window.location.href="/admin"}catch{alert("Failed to return to admin")}},className:"bg-white text-red-600 px-4 py-1.5 rounded text-xs font-bold uppercase hover:bg-red-50",children:"Return to Admin"})]}),t.jsx(S4,{title:E(),onMobileMenuClick:()=>s(!0)}),t.jsx("div",{className:"flex-1 p-6 md:p-12 overflow-y-auto relative",children:t.jsx("div",{className:"max-w-screen-2xl mx-auto",children:t.jsxs(tw,{children:[t.jsx(Be,{path:"/",element:t.jsx(aL,{projects:c,balance:u,onNavigateToProject:T,onNavigateToBuyCredits:()=>r("/dashboard/buy-credits"),onNavigateToSupport:()=>r("/dashboard/support")})}),t.jsx(Be,{path:"/campaigns",element:t.jsx(XM,{projects:c,onUpdate:v,onNavigateToProject:T,onAddProject:()=>r("/dashboard/campaigns/new")})}),t.jsx(Be,{path:"/campaigns/new",element:t.jsx(a9,{onBack:()=>r("/dashboard/campaigns"),onCreated:v})}),t.jsx(Be,{path:"/campaigns/:projectId",element:t.jsx(fL,{onUpdate:v})}),t.jsx(Be,{path:"/buy-credits",element:t.jsx(Z9,{onBack:()=>r("/dashboard"),onPurchase:v})}),t.jsx(Be,{path:"/billing",element:t.jsx(oL,{})}),t.jsx(Be,{path:"/gamification",element:t.jsx(dL,{})}),t.jsx(Be,{path:"/profile",element:t.jsx(eL,{})}),t.jsx(Be,{path:"/balance",element:t.jsx(tL,{})}),t.jsx(Be,{path:"/pricing",element:t.jsx(X4,{})}),t.jsx(Be,{path:"/affiliate",element:t.jsx(sL,{})}),t.jsx(Be,{path:"/support",element:t.jsx(iL,{})}),t.jsx(Be,{path:"/payment-success",element:t.jsx(uL,{})}),t.jsx(Be,{path:"*",element:t.jsx(sa,{to:"/dashboard",replace:!0})})]})})}),t.jsx("footer",{className:"px-12 py-8 border-t border-gray-200 mt-auto bg-white",children:t.jsxs("div",{className:"max-w-screen-2xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[t.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-[10px] font-bold uppercase tracking-widest text-gray-400",children:[t.jsx(Ue,{to:"/helpdesk",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Helpdesk"}),t.jsx(Ue,{to:"/legal/refund",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Refund Policy"}),t.jsx(Ue,{to:"/legal/delivery",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Delivery Policy"}),t.jsx(Ue,{to:"/legal/privacy",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Privacy Policy"}),t.jsx(Ue,{to:"/legal/terms",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Terms of Service"}),t.jsx(Ue,{to:"/legal/agb",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"AGB"}),t.jsx(Ue,{to:"/legal/impressum",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Impressum"})]}),t.jsx("div",{className:"text-[10px] font-medium text-gray-400",children:" 2024 EasyTrafficBot UG"})]})})]})]})},fL=({onUpdate:n})=>{const{projectId:e}=Dd(),s=Us();return e?t.jsx(s9,{projectId:e,onBack:()=>s("/dashboard/campaigns"),onUpdate:n}):t.jsx("div",{children:"Invalid Project ID"})},mL=window.location.origin,fw=({onSuccess:n})=>{const e=Us(),[s,r]=w.useState(""),[i,l]=w.useState(""),[c,f]=w.useState(""),[u,m]=w.useState(5e3),[g,b]=w.useState(40),[v,T]=w.useState(30),[N,E]=w.useState(!1),[k,D]=w.useState(""),[P,L]=w.useState(!1),V=_=>{if(_<60)return`${_} seconds`;const A=Math.floor(_/60),I=_%60;return I>0?`${A}m ${I}s`:`${A} minute${A>1?"s":""}`},$=()=>!s||!s.includes("@")?(D("Please enter a valid email address"),!1):!i||i.length<3?(D("Project name must be at least 3 characters"),!1):!c||!c.startsWith("http://")&&!c.startsWith("https://")?(D("Please enter a valid URL starting with http:// or https://"),!1):!0,Q=async _=>{if(_.preventDefault(),D(""),!!$()){E(!0);try{const A={desktop:60,mobile:30,tablet:10},I=await fetch(`${mL}/quick-campaign`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,project_name:i,target_url:c,total_visitors:u,settings:{bounce_rate:g,time_on_page:V(v),device_split:A}})});if(!I.ok){const z=await I.json();throw new Error(z.detail||"Failed to create campaign")}L(!0),setTimeout(()=>{e("/dashboard"),n&&n()},2e3)}catch(A){D(A.message||"Something went wrong. Please try again.")}finally{E(!1)}}};return P?t.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:t.jsx(yt,{className:"w-10 h-10 text-white"})}),t.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-3",children:"Campaign Started!"}),t.jsxs("p",{className:"text-gray-600",children:["Your ",t.jsx("span",{className:"font-bold text-[#ff4d00]",children:u.toLocaleString()})," visitor campaign is running."]})]}):t.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative rounded-3xl overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ff4d00] to-[#e04400] z-0"}),t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 z-0 mix-blend-overlay"}),t.jsx("div",{className:"absolute -top-20 -right-20 w-96 h-96 bg-white opacity-10 rounded-full blur-3xl z-0"}),t.jsx("div",{className:"absolute -bottom-20 -left-20 w-96 h-96 bg-black opacity-10 rounded-full blur-3xl z-0"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"text-center mb-10 text-white",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md border border-white/30 px-4 py-2 text-xs font-bold uppercase tracking-widest mb-4 rounded-full shadow-sm",children:[t.jsx(Yt,{size:14,className:"fill-white text-white"})," Free Traffic Campaign"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-4 drop-shadow-sm",children:["Get ",t.jsx("span",{className:"text-white underline decoration-white/30 decoration-4 underline-offset-4",children:"Real Visitors"})," Today"]}),t.jsx("p",{className:"text-xl font-medium text-white/90 max-w-2xl mx-auto",children:"Drive up to 10,000 visitors in 24 hours. No credit card required."})]}),t.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[t.jsx("div",{className:"lg:col-span-3",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden transform transition-all hover:scale-[1.01] duration-500",children:[t.jsxs("div",{className:"bg-gradient-to-r from-[#ff4d00] to-[#e04400] px-8 py-5 flex items-center gap-4 border-b border-white/10",children:[t.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center shrink-0 shadow-inner",children:t.jsx(zD,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-bold uppercase tracking-wide text-sm",children:"Quick Campaign"}),t.jsx("p",{className:"text-white/80 text-xs",children:"Fill in the details below"})]})]}),t.jsxs("form",{onSubmit:Q,className:"p-8 space-y-6",children:[k&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3 animate-in fade-in slide-in-from-top-2",children:[t.jsx(Lo,{className:"text-red-500 shrink-0",size:20}),t.jsx("span",{className:"text-red-700 text-sm font-bold",children:k})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Email"}),t.jsxs("div",{className:"relative group",children:[t.jsx("input",{type:"email",value:s,onChange:_=>r(_.target.value),placeholder:"you@example.com",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none pl-11 shadow-sm"}),t.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#ff4d00] transition-colors",children:t.jsx(Ur,{size:16})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Project Name"}),t.jsx("input",{type:"text",value:i,onChange:_=>l(_.target.value),placeholder:"My Campaign",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none shadow-sm"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Target Website URL"}),t.jsxs("div",{className:"relative group",children:[t.jsx("input",{type:"url",value:c,onChange:_=>f(_.target.value),placeholder:"https://yourwebsite.com",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 pl-11 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none shadow-sm"}),t.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#ff4d00] transition-colors",children:t.jsx(Os,{size:16})})]})]}),t.jsxs("div",{className:"bg-gray-50/80 rounded-xl p-6 space-y-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:[t.jsx(Si,{size:12})," Campaign Settings"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:"Visitors"}),t.jsx("span",{className:"text-lg font-black text-[#ff4d00] bg-white px-2 py-0.5 rounded shadow-sm border border-gray-100",children:u.toLocaleString()})]}),t.jsx("input",{type:"range",min:"1000",max:"10000",step:"500",value:u,onChange:_=>m(parseInt(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-full appearance-none cursor-pointer accent-[#ff4d00] hover:accent-black transition-all"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Bounce Rate"}),t.jsxs("span",{className:"text-sm font-black text-gray-900",children:[g,"%"]})]}),t.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:g,onChange:_=>b(parseInt(_.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-full appearance-none cursor-pointer accent-gray-900 hover:accent-[#ff4d00] transition-all"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Time on Page"}),t.jsx("span",{className:"text-sm font-black text-gray-900",children:v<60?`${v}s`:`${Math.floor(v/60)}m ${v%60}s`})]}),t.jsx("input",{type:"range",min:"15",max:"300",step:"15",value:v,onChange:_=>T(parseInt(_.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-full appearance-none cursor-pointer accent-gray-900 hover:accent-[#ff4d00] transition-all"})]})]})]})]}),t.jsxs("div",{className:"bg-green-50 rounded-xl p-5 border border-green-100 flex items-center gap-4 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center border-4 border-green-100 shrink-0",children:t.jsx(yt,{size:20,className:"text-green-500 fill-green-50"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-green-800 font-extrabold text-sm uppercase tracking-wide block",children:"Free Campaign Summary"}),t.jsxs("span",{className:"text-green-600 text-xs font-medium",children:[u.toLocaleString()," visitors  24 hours duration"]})]}),t.jsx("span",{className:"text-2xl font-black text-green-600 tracking-tighter",children:"FREE"})]}),t.jsx("button",{type:"submit",disabled:N,className:"w-full bg-black text-white py-5 px-6 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-gray-900 transition-all shadow-xl hover:shadow-2xl disabled:opacity-70 disabled:cursor-not-allowed group flex items-center justify-center gap-3 transform active:scale-[0.98]",children:N?"Creating Campaign...":t.jsxs(t.Fragment,{children:["Start Free Campaign ",t.jsx(ms,{className:"group-hover:translate-x-1 transition-transform"})]})})]})]})}),t.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[t.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[t.jsx("div",{className:"bg-orange-50 p-2 rounded-lg",children:t.jsx(Yf,{className:"w-5 h-5 text-[#ff4d00]"})}),t.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Where You'll See Traffic"})]}),t.jsxs("ul",{className:"space-y-4 text-sm text-gray-600",children:[t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(zl,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Google Analytics 4"})," Real-time and general traffic reports"]})]}),t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(zl,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Google Search Console"})," Improved engagement signals"]})]}),t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(zl,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Server Logs"})," Direct hit requests to your server"]})]}),t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(zl,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Heatmaps"})," Session recordings and scroll depth"]})]})]})]}),t.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[t.jsx("div",{className:"bg-orange-50 p-2 rounded-lg",children:t.jsx(zo,{className:"w-5 h-5 text-[#ff4d00]"})}),t.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Traffic Sources"})]}),t.jsx("ul",{className:"space-y-3 text-sm font-medium text-gray-600",children:["Direct traffic (organic visitors)","Organic search (Google, Bing)","Social referrals (if enabled)","Referral from other sites"].map((_,A)=>t.jsxs("li",{className:"flex items-center gap-3",children:[t.jsx(tc,{size:14,className:"text-[#ff4d00]"}),t.jsx("span",{children:_})]},A))})]}),t.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[t.jsx("div",{className:"bg-green-50 p-2 rounded-lg",children:t.jsx(zr,{className:"w-5 h-5 text-green-600"})}),t.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Quality & Safety"})]}),t.jsx("ul",{className:"space-y-3 text-sm font-medium text-gray-600",children:["Residential IP addresses","Real browser fingerprints","GA4 compliant events","Anti-fingerprinting enabled"].map((_,A)=>t.jsxs("li",{className:"flex items-center gap-3",children:[t.jsx(yt,{size:14,className:"text-green-500"}),t.jsx("span",{children:_})]},A))})]})]})]})]})]})},pL=({onLogin:n,onNavigate:e})=>{const[s,r]=w.useState(0),[i,l]=w.useState("business"),[c,f]=w.useState("economy"),u=N=>{r(s===N?null:N)},m={"@context":"https://schema.org","@type":"Organization",name:"Traffic Creator",url:"https://traffic-creator.com/",description:"Premium website traffic generator for boosting SEO metrics and engagement.",brand:{"@type":"Brand",name:"Traffic Creator"}},g={"@context":"https://schema.org","@type":"WebSite",name:"Traffic Creator",url:"https://traffic-creator.com/",potentialAction:{"@type":"SearchAction",target:"https://traffic-creator.com/search?q={search_term_string}","query-input":"required name=search_term_string"}},b=[{icon:t.jsx(ID,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Smart Site Crawler",description:"Our advanced bots map your entire site architecture to distribute traffic naturally across deep links, not just your homepage."},{icon:t.jsx(Pr,{className:"w-6 h-6 text-[#ff4d00]"}),title:"GA4 Compliant Events",description:"Every visit generates real engagement signalsscrolls, clicks, and mouse movementsthat are fully verified by Google Analytics 4."},{icon:t.jsx(jf,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Organic Growth Patterns",description:"Traffic volume follows natural diurnal curves and viral spikes, eliminating the flat-line patterns that trigger bot filters."},{icon:t.jsx(Os,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Elite Residential IPs",description:"Traffic originates from verified residential ISPs in your target country, making it indistinguishable from real human visitors."},{icon:t.jsx(iw,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Live RSS Sync",description:"Automatically detect new blog posts and drive immediate traffic to them, signaling freshness to search engines."},{icon:t.jsx(CO,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Timezone Intelligence",description:"Visits are scheduled according to the local business hours of your target audience for maximum realism."},{icon:t.jsx(uO,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Social Signal Ready",description:"Seamlessly integrates with t.co, bit.ly, and other shorteners to simulate viral social media referral traffic."},{icon:t.jsx(zo,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Hyper-Local Targeting",description:"Pinpoint your audience by city or region. Perfect for local SEO campaigns and brick-and-mortar businesses."}],v=[{icon:t.jsx(hr,{size:32,className:"text-[#ff4d00]"}),title:"SEO Ranking Boost",metric:"+450%",desc:"How a niche blog went from Page 10 to Page 1 by signaling high user engagement to search algorithms."},{icon:t.jsx(jf,{size:32,className:"text-[#ff4d00]"}),title:"Analytics Repair",metric:"15% Bounce",desc:"A SaaS company reduced their bounce rate from 80% to 15% to improve their domain authority score."},{icon:t.jsx(d4,{size:32,className:"text-[#ff4d00]"}),title:"Crypto Trending",metric:"#1 Spot",desc:"A new Token project used volume traffic to trend on CoinMarketCap and CoinGecko within 24 hours."},{icon:t.jsx(XP,{size:32,className:"text-[#ff4d00]"}),title:"Agency Growth",metric:"50+ Clients",desc:"A digital agency resold our traffic to their clients, improving client retention reports by 200%."}],T=[{question:"How quickly does traffic start?",answer:"Campaigns typically start within 5 minutes of approval. Our network handles over 50M requests daily, ensuring instant scalability."},{question:"Is this traffic Adsense safe?",answer:"Yes, our 'Breakthrough' and 'Agency' packages feature 100% Adsense safe traffic, filtered for high engagement and low bounce rates."},{question:"Can I target specific devices?",answer:"Absolutely. You can segment traffic by Desktop, Mobile (iOS/Android), and Tablet in the campaign settings."},{question:"Do you offer a money-back guarantee?",answer:"Yes. If we fail to deliver the purchased visitor count within 72 hours of the campaign start, you are eligible for a full refund."},{question:"Can I use the API for reselling?",answer:"Yes, our REST API is designed for agencies and resellers. You can programmatically create projects, check stats, and manage clients."},{question:"What is the difference between Bounce Rate and Return Rate?",answer:"Bounce Rate is the percentage of visitors who leave after one page. Return Rate is the percentage of visitors who come back to your site later. You can configure both."},{question:"How do I configure geolocation targeting?",answer:"In your project settings, simply select the countries you wish to target. For 'Agency' plans, you can specify individual cities."},{question:"Can I stop and restart my campaigns?",answer:"Yes, you have full control. You can pause, resume, or stop campaigns instantly from the dashboard at any time."}];return t.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans overflow-hidden",children:[t.jsx(Ti,{title:"Traffic Creator - #1 Website Traffic Generator for SEO & Rankings (2026)",description:"Boost your SEO rankings in 2026 with real residential website traffic. Traffic Creator helps you manipulate CTR, increase dwell time, and improve domain authority naturally using advanced AI-driven behavioral simulation.",keywords:"website traffic 2026, boost traffic, SEO traffic, organic traffic, traffic generator, buy website traffic, traffic creator, website visitors, GA4 traffic, CTR manipulation",schema:[m,g]}),t.jsx("nav",{className:"border-b border-gray-100 bg-white/95 backdrop-blur-md sticky top-0 z-50 transition-all duration-300",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[t.jsx("span",{className:"text-2xl font-black text-[#ff4d00] tracking-tight group-hover:scale-105 transition-transform",children:"TRAFFIC"}),t.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-[#ff4d00] text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"flex items-center gap-8",children:[t.jsxs("div",{className:"hidden md:flex gap-8 text-sm font-bold uppercase tracking-wide text-gray-500",children:[t.jsx("a",{href:"#problem",className:"hover:text-[#ff4d00] transition-colors",children:"The Problem"}),t.jsx("a",{href:"#features",className:"hover:text-[#ff4d00] transition-colors",children:"Features"}),t.jsx("a",{href:"#streak-bonus",className:"hover:text-[#ff4d00] transition-colors",children:"Unlimited Free Traffic"}),t.jsx(Ue,{to:"/pricing",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Pricing"})]}),t.jsx(Ue,{to:"/login",className:"bg-[#ff4d00] text-white px-6 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors shadow-md hover:shadow-lg flex items-center",children:"Dashboard Login"})]})]})}),t.jsxs("section",{className:"relative pt-32 pb-40 overflow-hidden bg-white",children:[t.jsx("div",{className:"absolute inset-0 z-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"40px 40px"}}),t.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-orange-100/40 rounded-full blur-3xl -translate-y-1/2 translate-x-1/3 z-0"}),t.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/5 border border-black/10 px-4 py-1.5 text-[10px] font-bold uppercase tracking-widest mb-8 rounded-full shadow-sm animate-in fade-in slide-in-from-bottom-4 backdrop-blur-sm",children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-[#ff4d00] animate-pulse"})," Live Traffic Network Active"]}),t.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter leading-[0.9] mb-8 text-gray-900 animate-in fade-in slide-in-from-bottom-6",children:["DOMINATE",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-600",children:"SEARCH."})]}),t.jsxs("p",{className:"text-xl md:text-2xl text-gray-500 mb-10 max-w-lg leading-relaxed font-medium animate-in fade-in slide-in-from-bottom-8",children:["The world's first ",t.jsx("span",{className:"text-gray-900 font-bold",children:"intelligent traffic engine"}),". Boost SEO rankings with real residential visitors, certified purely organic by Google Analytics 4."]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 animate-in fade-in slide-in-from-bottom-10",children:[t.jsxs(Ue,{to:"/signup",className:"group bg-[#ff4d00] text-white px-8 py-5 text-sm font-bold uppercase tracking-wider hover:bg-black transition-all shadow-[0_10px_40px_-10px_rgba(255,77,0,0.5)] hover:shadow-xl flex items-center justify-center gap-3 transform hover:-translate-y-1 rounded-sm",children:["Launch Campaign ",t.jsx(ms,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),t.jsx(Ue,{to:"/signup",className:"group bg-white border-2 border-gray-100 text-gray-900 px-8 py-5 text-sm font-bold uppercase tracking-wider hover:border-black transition-all transform hover:-translate-y-1 flex items-center justify-center rounded-sm",children:"View Live Demo"})]}),t.jsxs("div",{className:"mt-12 flex items-center gap-6 text-xs font-bold text-gray-400 uppercase tracking-widest animate-in fade-in slide-in-from-bottom-12",children:[t.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4].map(N=>t.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center text-[8px] overflow-hidden",children:t.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${N}`,alt:"User"})},N))}),t.jsx("div",{children:"Trusted by 2,000+ SEO Agencies"})]})]}),t.jsxs("div",{className:"relative flex items-center justify-center h-[600px] perspective-1000 animate-in fade-in duration-1000 lg:translate-x-10",children:[t.jsxs("div",{className:"relative w-96 h-96 animate-[spin_40s_linear_infinite] transform-style-3d",children:[t.jsx("div",{className:"absolute inset-0 rounded-full border border-gray-900/5"}),t.jsx("div",{className:"absolute inset-8 rounded-full border border-[#ff4d00]/20 transform rotate-12"}),t.jsx("div",{className:"absolute inset-16 rounded-full border border-[#ff4d00]/40 transform -rotate-12"}),t.jsx("div",{className:"absolute top-0 left-1/2 w-4 h-4 bg-[#ff4d00] rounded-full shadow-[0_0_20px_#ff4d00] -translate-x-1/2 -translate-y-1/2 animate-pulse"}),t.jsx("div",{className:"absolute bottom-0 left-1/2 w-3 h-3 bg-black rounded-full -translate-x-1/2 translate-y-1/2"}),t.jsx("div",{className:"absolute inset-24 bg-gradient-to-br from-orange-50 to-white rounded-full shadow-inner flex items-center justify-center border border-gray-100 backdrop-blur-sm",children:t.jsx(Os,{className:"text-[#ff4d00] w-24 h-24 opacity-20 animate-pulse",strokeWidth:1})})]}),t.jsxs("div",{className:"absolute top-[20%] right-0 bg-white p-4 rounded-lg shadow-xl border border-gray-100 animate-[bounce_4s_infinite] max-w-[180px]",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsx("div",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Status"})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:"+458%"}),t.jsx("div",{className:"text-[10px] text-gray-400",children:"Traffic Increase (7d)"})]}),t.jsxs("div",{className:"absolute bottom-[20%] left-0 bg-white p-4 rounded-lg shadow-xl border border-gray-100 animate-[bounce_5s_infinite] delay-1000 max-w-[180px]",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-[#ff4d00] rounded-full"}),t.jsx("div",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Live Users"})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:"12,405"}),t.jsx("div",{className:"text-[10px] text-gray-400",children:"Active Sessions Now"})]})]})]})]}),t.jsx("section",{className:"bg-[#ff4d00] py-10 overflow-hidden border-y border-orange-600",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center gap-8",children:[t.jsx("div",{className:"text-white text-xs font-bold uppercase tracking-widest whitespace-nowrap opacity-50",children:"Powering Leading Brands:"}),t.jsxs("div",{className:"flex-1 flex justify-between items-center gap-8 opacity-40 grayscale hover:grayscale-0 transition-all duration-500",children:[t.jsx("span",{className:"text-xl font-black text-white font-serif italic",children:"Vanguard."}),t.jsx("span",{className:"text-xl font-bold text-white tracking-widest",children:"NEXUS"}),t.jsx("span",{className:"text-xl font-bold text-white font-mono",children:"CODEBLOCK"}),t.jsxs("span",{className:"text-xl font-black text-white tracking-tighter",children:["turbo",t.jsx("span",{className:"text-[#ff4d00]",children:"boost"})]}),t.jsx("span",{className:"text-xl font-medium text-white",children:"Aperture Sci"})]})]})}),t.jsx("section",{id:"quick-campaign",className:"py-24 px-6 bg-orange-50/50",children:t.jsx(fw,{})}),t.jsx("section",{id:"streak-bonus",className:"py-24 px-6 bg-[#FAFAFA]",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-50 border border-orange-100 text-[#ff4d00] text-xs font-bold uppercase tracking-wider mb-6 animate-in fade-in slide-in-from-bottom-4",children:[t.jsx(Io,{size:14,className:"fill-[#ff4d00]"}),"100% Free Forever"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-6 tracking-tight",children:["Get Up to 20,000 ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"Free Hits Daily"})]}),t.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto",children:"Just log in and claim. No credit card. No purchase. Just free traffic."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8",children:[t.jsxs("div",{className:"lg:col-span-8 bg-white rounded-3xl p-8 border border-gray-100 shadow-xl shadow-orange-500/5 overflow-hidden relative",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(Hl,{className:"text-[#ff4d00]",size:24}),"30-Day Streak"]}),t.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"free hits per month  that's real traffic to your website"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-4xl font-black text-gray-900",children:"342,000"}),t.jsx("div",{className:"text-sm font-medium text-[#ff4d00]",children:"monthly potential"})]})]}),t.jsx("div",{className:"space-y-3",children:[{days:"Day 1-2",amount:"1,000",icon:Si},{days:"Day 3-4",amount:"2,000",icon:Ur},{days:"Day 5-6",amount:"3,000",icon:hr},{days:"Day 7-13",amount:"10,000",icon:Yt,highlight:!0},{days:"Day 14-29",amount:"15,000",icon:Io,highlight:!0},{days:"Day 30+",amount:"20,000",icon:Hl,highlight:!0,last:!0}].map((N,E)=>t.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all hover:scale-[1.01] ${N.highlight?"bg-orange-50/50 border-orange-100":"bg-gray-50/50 border-gray-100"}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${N.highlight?"bg-white text-[#ff4d00] shadow-sm":"bg-white text-gray-400"}`,children:t.jsx(N.icon,{size:20})}),t.jsx("span",{className:`font-bold ${N.highlight?"text-gray-900":"text-gray-500"}`,children:N.days})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-xl font-black ${N.last?"text-[#ff4d00]":"text-gray-900"}`,children:N.amount}),t.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"hits/day"})]})]},E))})]}),t.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[t.jsxs("div",{className:"bg-black text-white rounded-3xl p-8 relative overflow-hidden flex flex-col justify-between group h-min min-h-[300px]",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00]/30 rounded-full blur-3xl group-hover:bg-[#ff4d00]/50 transition-colors duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-2xl flex items-center justify-center mb-6 border border-gray-700 text-[#ff4d00]",children:t.jsx(Ql,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-gray-300",children:"Yearly Potential"}),t.jsx("div",{className:"text-4xl lg:text-5xl font-black mt-3 tracking-tight",children:"7,042,000"})]}),t.jsx("p",{className:"text-gray-400 text-sm font-medium relative z-10 mt-6",children:"free hits per year with consistent daily claims"})]}),t.jsxs("div",{className:"bg-[#FFF1EB] rounded-3xl p-8 flex flex-col justify-center h-min min-h-[220px]",children:[t.jsx("div",{className:"mb-4",children:t.jsx("span",{className:"text-[#ff4d00] font-bold text-sm uppercase tracking-wider",children:"What's it worth?"})}),t.jsx("div",{className:"text-5xl font-black text-gray-900 mb-2",children:"700+"}),t.jsx("p",{className:"text-gray-600 font-medium",children:"in value based on our standard CPM pricing"})]})]})]}),t.jsx("div",{className:"max-w-3xl mx-auto mt-12 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-300",children:t.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 flex items-center justify-center gap-3 shadow-lg hover:-translate-y-1 transition-transform cursor-default",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsxs("p",{className:"font-bold text-gray-900",children:[t.jsx("span",{className:"text-[#ff4d00]",children:"12,847 users"})," claimed their free bonus today"]})]})})]})}),t.jsxs("section",{id:"problem",className:"bg-[#ff4d00] py-32 px-6 border-y border-orange-600 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-orange-600 via-orange-700 to-orange-800 opacity-90"}),t.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-20 items-center relative z-10",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-white font-bold text-xs uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(dn,{size:14})," Critical SEO Warning"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-8 text-white leading-tight",children:["Is Your Website ",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-200 to-white",children:"Invisible?"})]}),t.jsxs("p",{className:"text-xl text-orange-100 leading-relaxed mb-10 font-light",children:["91% of content gets ",t.jsx("span",{className:"text-white font-bold",children:"zero traffic"})," from Google. Without active visitor signals, search algorithms deem your site irrelevant and bury it deep in the index."]}),t.jsx("div",{className:"space-y-6",children:[{title:"Low Domain Authority",desc:"Search engines trust sites with active user bases."},{title:"Poor Search Rankings",desc:"No clicks means no ranking improvements."},{title:"Zero Brand Visibility",desc:"Your competitors are taking your customers."},{title:"Stagnant Growth",desc:"Great content is useless if nobody sees it."}].map((N,E)=>t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full mt-2.5 shadow-[0_0_10px_rgba(255,255,255,0.5)]"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-bold text-sm uppercase tracking-wide mb-1",children:N.title}),t.jsx("div",{className:"text-orange-200 text-xs font-medium",children:N.desc})]})]},E))})]}),t.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border border-white/20 rounded-2xl bg-white/10 backdrop-blur-sm shadow-2xl relative",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/10 to-transparent rounded-2xl"}),t.jsxs("div",{className:"relative w-72 h-72 rounded-full border border-white/20 bg-white/10 flex items-center justify-center overflow-hidden mb-8 shadow-inner z-10",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-transparent via-white/30 to-transparent animate-[spin_3s_linear_infinite]",style:{clipPath:"polygon(50% 50%, 100% 0, 100% 50%)"}}),t.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.2) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),t.jsx("div",{className:"absolute w-3/4 h-3/4 border border-white/20 rounded-full"}),t.jsx("div",{className:"absolute w-1/2 h-1/2 border border-white/20 rounded-full"}),t.jsx("div",{className:"absolute w-1/4 h-1/4 border border-white/20 rounded-full"}),t.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-ping shadow-[0_0_20px_rgba(255,255,255,0.8)]"}),t.jsx("div",{className:"absolute bottom-1/2 translate-y-8 font-mono text-[10px] text-white uppercase tracking-widest font-bold animate-pulse bg-black/50 px-2 py-1 rounded",children:"No Traffic Signal"})]}),t.jsxs("div",{className:"text-center space-y-2 relative z-10",children:[t.jsx("div",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Search Engine Void"}),t.jsx("p",{className:"text-sm text-orange-200 font-medium",children:"Crawlers are skipping your site due to inactivity."})]})]})]})]}),t.jsxs("section",{className:"py-32 px-6 bg-white relative overflow-hidden",children:[t.jsx("div",{className:"hidden lg:block absolute top-[50%] left-0 w-full h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent border-t border-dashed border-gray-300"}),t.jsxs("div",{className:"max-w-7xl mx-auto text-center mb-20 relative z-10",children:[t.jsx("div",{className:"inline-block bg-[#ff4d00] text-white text-[10px] font-bold uppercase tracking-widest px-3 py-1 mb-4 rounded-sm",children:"Modus Operations"}),t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-4 text-gray-900",children:"The Traffic Injection Engine"}),t.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto text-lg leading-relaxed",children:"We bridge the gap between obscurity and authority by injecting high-quality, targeted traffic directly to your URLs."})]}),t.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12 relative z-10",children:[{title:"Target Identification",desc:"Input your URL. Our system analyzes your niche, keywords, and ideal geographic demographics.",icon:t.jsx(tc,{className:"w-8 h-8 text-[#ff4d00]"})},{title:"Traffic Calibration",desc:"Configure behavior patterns, bounce rates, and session durations to match organic profiles.",icon:t.jsx(u4,{className:"w-8 h-8 text-[#ff4d00]"})},{title:"Authority Surge",desc:"As consistent traffic flows, search engines validate your site, boosting DA and ranking position.",icon:t.jsx(hr,{className:"w-8 h-8 text-[#ff4d00]"})}].map((N,E)=>t.jsxs("div",{className:"bg-white border border-gray-100 p-8 text-center hover:border-[#ff4d00] hover:shadow-2xl transition-all duration-300 group rounded-xl transform hover:-translate-y-2 relative",children:[t.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 w-12 h-12 bg-white border border-gray-100 rounded-full flex items-center justify-center text-xl font-black text-gray-300 group-hover:text-[#ff4d00] group-hover:border-[#ff4d00] transition-colors shadow-sm",children:E+1}),t.jsx("div",{className:"mt-8 mb-6 flex justify-center opacity-80 group-hover:scale-110 transition-transform duration-300",children:N.icon}),t.jsx("h3",{className:"text-lg font-black text-gray-900 mb-3 uppercase tracking-wide",children:N.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed font-medium",children:N.desc})]},E))})]}),t.jsx("section",{id:"features",className:"py-32 px-6 bg-[#f8f9fa] border-y border-gray-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-20 gap-6",children:[t.jsxs("div",{className:"max-w-xl",children:[t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-6 text-gray-900",children:"Enterprise Capabilities"}),t.jsx("div",{className:"w-20 h-1.5 bg-[#ff4d00] mb-6"}),t.jsx("p",{className:"text-gray-500 text-lg leading-relaxed",children:"Built for agencies and high-growth businesses. Our platform provides the granular control needed for complex SEO strategies."})]}),t.jsxs(Ue,{to:"/signup",className:"hidden md:flex items-center gap-2 font-bold text-[#ff4d00] border-b-2 border-[#ff4d00] pb-1 hover:text-black hover:border-black transition-all uppercase tracking-widest text-xs",children:["View All Features ",t.jsx(ms,{size:14})]})]}),t.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:b.map((N,E)=>t.jsx("div",{className:"bg-white p-8 border border-gray-100 hover:border-[#ff4d00] transition-all duration-300 group shadow-sm hover:shadow-xl rounded-xl flex flex-col justify-between h-full",children:t.jsxs("div",{children:[t.jsx("div",{className:"bg-gray-50 w-12 h-12 flex items-center justify-center mb-6 group-hover:bg-[#ff4d00] transition-colors rounded-lg text-[#ff4d00] group-hover:text-white shadow-inner",children:N.icon}),t.jsx("h3",{className:"text-sm font-black mb-3 uppercase tracking-wide text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:N.title}),t.jsx("p",{className:"text-gray-500 text-xs leading-relaxed font-medium",children:N.description})]})},E))}),t.jsx("div",{className:"mt-12 text-center md:hidden",children:t.jsxs(Ue,{to:"/signup",className:"inline-flex items-center gap-2 font-bold text-[#ff4d00] border-b-2 border-[#ff4d00] pb-1 uppercase tracking-widest text-xs",children:["View All Features ",t.jsx(ms,{size:14})]})})]})}),t.jsx("section",{id:"pricing",className:"py-24 px-6 bg-gradient-to-b from-white via-gray-50/30 to-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#ff4d00]/10 text-[#ff4d00] px-4 py-2 rounded-full text-xs font-bold uppercase tracking-widest mb-6",children:[t.jsx(ix,{size:14})," Transparent Pricing"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-4 text-gray-900",children:["Pay Only For ",t.jsx("span",{className:"text-[#ff4d00]",children:"Results"})]}),t.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto font-medium text-lg mb-8",children:"No hidden fees. No monthly contracts. Volume discounts up to 60%. Choose your quality tier."}),t.jsxs("div",{className:"inline-flex bg-gray-900 p-1.5 rounded-xl shadow-2xl",children:[t.jsx("button",{onClick:()=>l("business"),className:`px-8 py-3.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all ${i==="business"?"bg-[#ff4d00] text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Credit Packs"}),t.jsx("button",{onClick:()=>l("agency"),className:`px-8 py-3.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all ${i==="agency"?"bg-[#ff4d00] text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Agency Plans"})]})]}),i==="business"?t.jsxs("div",{className:"space-y-16",children:[t.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Vo.map(N=>t.jsxs("button",{onClick:()=>f(N.id),className:`px-6 py-3 text-xs font-bold uppercase tracking-widest transition-all ${c===N.id?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${N.popular?"ring-2 ring-[#ff4d00]/30":""}`,children:[N.name,N.popular&&t.jsx("span",{className:"ml-2 text-[10px]",children:""})]},N.id))}),t.jsx("div",{className:"grid md:grid-cols-4 gap-4",children:[{volume:6e4,name:"Starter",desc:"Test new landing pages"},{volume:5e5,name:"Growth",desc:"Small business baseline",badge:"Most Popular",badgeColor:"bg-[#ff4d00]"},{volume:1e6,name:"Business",desc:"Impact domain authority",highlight:!0,badge:"Best Value",badgeColor:"bg-green-500"},{volume:1e7,name:"Enterprise",desc:"Competitive niches"}].map((N,E)=>{var V;const k=(V=Qf[c])==null?void 0:V[N.volume],D=(k==null?void 0:k[1])??null,P=D!==null?dw(c,N.volume,1):0,L=Vo.find($=>$.id===c);return D===null?null:t.jsx("div",{className:`relative group transition-all duration-500 ${N.highlight?"md:-mt-4 md:mb-4":""}`,children:t.jsxs("div",{className:`h-full flex flex-col bg-white transition-all duration-300 rounded-2xl ${N.highlight?"border-2 border-[#ff4d00] shadow-2xl shadow-[#ff4d00]/20 scale-105 z-10":"border border-gray-100 hover:border-[#ff4d00]/50 hover:shadow-xl"} p-6`,children:[N.badge&&t.jsx("div",{className:`absolute -top-3 left-1/2 -translate-x-1/2 ${N.badgeColor} text-white px-4 py-1 text-[9px] font-bold uppercase tracking-widest shadow-lg rounded-full whitespace-nowrap`,children:N.badge}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-1",children:N.name}),t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-4xl font-black text-gray-900",children:uw(D)}),t.jsx("span",{className:"text-gray-400 text-xs font-medium",children:"one-time"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-4 mb-4 text-center border border-gray-100",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:N.volume>=1e6?`${N.volume/1e6}M`:`${N.volume/1e3}k`}),t.jsx("div",{className:"text-[10px] uppercase text-gray-500 font-bold tracking-wide",children:"Visitors"}),t.jsxs("div",{className:"text-[10px] text-[#ff4d00] font-bold mt-1",children:["~",hw(P),"/1k"]})]}),t.jsx("p",{className:"text-xs text-gray-500 font-medium mb-4 min-h-[32px]",children:N.desc}),t.jsx("ul",{className:"space-y-2 mb-6 flex-1 text-[11px]",children:L==null?void 0:L.features.slice(0,3).map(($,Q)=>t.jsxs("li",{className:"text-gray-600 flex items-center gap-2 font-medium",children:[t.jsx(rn,{size:12,className:"text-green-500 flex-shrink-0"})," ",$]},Q))}),t.jsx(Ue,{to:"/signup",className:`w-full py-3 text-xs font-bold uppercase tracking-widest transition-all text-center rounded-xl ${N.highlight?"bg-[#ff4d00] text-white hover:bg-black shadow-lg":"bg-gray-900 text-white hover:bg-[#ff4d00]"}`,children:"Get Started"})]})},E)})}),t.jsxs("div",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 rounded-3xl p-8 md:p-12 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20"}),t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#ff4d00]/20 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-[#ff4d00]/10 rounded-full blur-3xl"}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-8",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("div",{className:"w-16 h-16 bg-[#ff4d00] rounded-2xl flex items-center justify-center shadow-lg shadow-[#ff4d00]/30",children:t.jsx(Ur,{size:28,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-black text-white mb-1",children:"Bulk Discounts Available"}),t.jsxs("p",{className:"text-gray-400 text-sm",children:["Save up to ",t.jsx("span",{className:"text-[#ff4d00] font-bold",children:"40%"})," with multi-packs"]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"6x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-20%"})]}),t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"24x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-40%"})]})]})]})]})]}):t.jsxs("div",{className:"space-y-12",children:[t.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[{name:"Agency Pro",traffic:"5M",price:"1,249",perVisitor:"0.00025",features:["Client Dashboard","Traffic Pooling","Priority Support","API Access"],featured:!1},{name:"Agency Scale",traffic:"15M",price:"2,999",perVisitor:"0.00020",featured:!0,features:["Everything in Pro","White-Label Reports","Dedicated Manager","Custom Integrations"]},{name:"Agency Enterprise",traffic:"50M+",price:"Custom",perVisitor:"Volume",features:["Full API Access","Strategy Calls","SLA Guarantee","Custom Features"]}].map((N,E)=>t.jsx("div",{className:`relative h-full ${N.featured?"md:-mt-4 md:mb-4":""}`,children:t.jsxs("div",{className:`h-full flex flex-col bg-white relative transition-all duration-300 rounded-2xl ${N.featured?"border-2 border-[#ff4d00] shadow-2xl shadow-[#ff4d00]/20 z-10 scale-105":"border border-gray-100 hover:shadow-xl"} p-8`,children:[N.featured&&t.jsxs("div",{className:"absolute -top-3 right-8 bg-[#ff4d00] text-white px-4 py-1 text-[9px] font-bold uppercase tracking-widest rounded-full shadow-lg flex items-center gap-1",children:[t.jsx(Vr,{size:10})," Best Value"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-2",children:N.name}),t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-4xl font-black text-gray-900",children:N.price}),N.price!=="Custom"&&t.jsx("span",{className:"text-gray-400 text-xs font-medium",children:"/month"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-[#ff4d00]/5 to-[#ff4d00]/10 rounded-xl p-4 mb-6 text-center border border-[#ff4d00]/20",children:[t.jsx("div",{className:"text-3xl font-black text-gray-900",children:N.traffic}),t.jsx("div",{className:"text-[10px] uppercase text-gray-500 font-bold tracking-wide",children:"Monthly Pool"}),t.jsxs("div",{className:"text-[10px] text-[#ff4d00] font-bold mt-1",children:["~",N.perVisitor,"/visitor"]})]}),t.jsx("ul",{className:"space-y-3 mb-8 flex-1",children:N.features.map((k,D)=>t.jsxs("li",{className:"text-sm text-gray-600 flex items-center gap-3 font-medium",children:[t.jsx(Kb,{size:14,className:"text-[#ff4d00] flex-shrink-0"})," ",k]},D))}),t.jsx(Ue,{to:"/signup",className:`w-full py-4 text-xs font-bold uppercase tracking-widest text-center rounded-xl transition-all ${N.featured?"bg-[#ff4d00] text-white hover:bg-black shadow-lg":"bg-gray-900 text-white hover:bg-[#ff4d00]"}`,children:N.price==="Custom"?"Contact Sales":"Start Subscription"})]})},E))}),t.jsxs("div",{className:"bg-gradient-to-r from-[#ff4d00] to-[#ff6b35] rounded-2xl p-6 md:p-8 text-white text-center max-w-3xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[t.jsx(eD,{size:20}),t.jsx("h4",{className:"font-black uppercase tracking-wide",children:"Need a Custom Volume?"})]}),t.jsx("p",{className:"text-white/80 text-sm mb-4",children:"Contact us for enterprise pricing with up to 60% bulk discounts"}),t.jsx(Ue,{to:"/signup",className:"inline-block bg-white text-[#ff4d00] px-8 py-3 text-xs font-bold uppercase tracking-widest rounded-xl hover:bg-gray-100 transition-colors",children:"Get a Quote"})]})]}),t.jsx("div",{className:"mt-16 grid md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[{icon:t.jsx(Yt,{size:20}),title:"Instant Delivery",desc:"Campaigns start within 5 minutes"},{icon:t.jsx(Kb,{size:20}),title:"Money-Back Guarantee",desc:"Full refund if we fail to deliver"},{icon:t.jsx(Os,{size:20}),title:"Global Coverage",desc:"190+ countries available"}].map((N,E)=>t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-xl border border-gray-100",children:[t.jsx("div",{className:"w-10 h-10 bg-[#ff4d00]/10 rounded-lg flex items-center justify-center text-[#ff4d00]",children:N.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:N.title}),t.jsx("div",{className:"text-xs text-gray-500",children:N.desc})]})]},E))})]})}),t.jsx("section",{className:"py-32 px-6 bg-[#f8f9fa] border-t border-gray-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"mb-20 text-center",children:[t.jsx("div",{className:"text-[#ff4d00] text-xs font-bold uppercase tracking-widest mb-2",children:"Real Results"}),t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight text-gray-900",children:"Proven Performance"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:v.map((N,E)=>t.jsxs("div",{className:"bg-white border border-gray-100 p-8 hover:border-[#ff4d00] transition-all group hover:shadow-xl rounded-xl",children:[t.jsxs("div",{className:"flex justify-between items-start mb-6",children:[t.jsx("div",{className:"opacity-80 group-hover:opacity-100 transition-opacity text-[#ff4d00] bg-orange-50 w-12 h-12 flex items-center justify-center rounded-lg",children:N.icon}),t.jsx("div",{className:"bg-green-100 text-green-700 px-2 py-1 text-[10px] font-bold uppercase tracking-wide rounded-sm",children:"Verified"})]}),t.jsx("div",{className:"text-3xl font-black text-gray-900 mb-2 group-hover:text-[#ff4d00] transition-colors",children:N.metric}),t.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide text-gray-400 mb-4",children:N.title}),t.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-medium",children:N.desc})]},E))})]})}),t.jsxs("section",{className:"py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/0 via-black/0 to-black/20"}),t.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[t.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white tracking-tighter mb-8 leading-[0.9]",children:["READY TO BREAK",t.jsx("br",{}),"THE INTERNET?"]}),t.jsx("p",{className:"text-white/90 text-xl font-medium mb-12 max-w-2xl mx-auto",children:"Join 5,000+ marketers driving millions of visitors today. No contracts. Instant delivery."}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-6",children:[t.jsx(Ue,{to:"/signup",className:"bg-black text-white px-10 py-5 text-sm font-bold uppercase tracking-widest hover:scale-105 transition-transform shadow-xl rounded-sm border-2 border-transparent hover:border-white",children:"Get Started Now"}),t.jsx(Ue,{to:"/signup",className:"bg-white text-[#ff4d00] px-10 py-5 text-sm font-bold uppercase tracking-widest hover:scale-105 transition-transform shadow-xl rounded-sm",children:"Talk to Sales"})]})]})]}),t.jsx("section",{id:"faq",className:"py-32 px-6 bg-[#f9fafb]",children:t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsx("h2",{className:"text-3xl font-black uppercase tracking-tight mb-16 text-center text-gray-900",children:"Questions?"}),t.jsx("div",{className:"space-y-4",children:T.map((N,E)=>t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[t.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left",onClick:()=>u(E),children:[t.jsx("span",{className:"font-bold text-gray-900",children:N.question}),s===E?t.jsx(bu,{size:20,className:"text-[#ff4d00]"}):t.jsx(qa,{size:20,className:"text-gray-400"})]}),s===E&&t.jsx("div",{className:"px-6 pb-6 text-gray-600 leading-relaxed text-sm animate-in fade-in slide-in-from-top-2 border-t border-gray-100 pt-4",children:N.answer})]},E))})]})}),t.jsx("footer",{className:"bg-[#ff4d00] text-white py-16 px-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[t.jsx("div",{className:"text-2xl font-black text-white tracking-tight",children:"TRAFFIC CREATOR"}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-8 text-xs font-bold uppercase tracking-widest text-white/70 text-center md:text-left",children:[t.jsx(Ue,{to:"/blog",className:"hover:text-white uppercase",children:"Blog"}),t.jsx(Ue,{to:"/helpdesk",className:"hover:text-white uppercase",children:"Help Center"}),t.jsx(Ue,{to:"/legal/refund",className:"hover:text-white uppercase",children:"Refund Policy"}),t.jsx(Ue,{to:"/legal/privacy",className:"hover:text-white uppercase",children:"Privacy Policy"}),t.jsx(Ue,{to:"/legal/terms",className:"hover:text-white uppercase",children:"Terms of Service"})]}),t.jsx("div",{className:"text-xs text-white/60",children:" 2026 Traffic Creator Inc."})]})})]})},gL=({onLogin:n,onNavigate:e})=>{const[s,r]=w.useState(!1),i={"@context":"https://schema.org","@type":"Product",name:"Organic Website Traffic Generator",description:"Premium organic traffic service to boost SEO rankings and manipulate CTS with real residential IPs.",brand:{"@type":"Brand",name:"Traffic Creator"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.9",reviewCount:"1250"}},l=[{icon:t.jsx(Gn,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Boost Organic CTR",desc:"Our visitors search for your keywords and click your result, signaling high relevance to search algorithms."},{icon:t.jsx(ps,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Increase Dwell Time",desc:"Visitors stay on your site for minutes, scroll through content, and interact, drastically reducing bounce rates."},{icon:t.jsx(Os,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Local SEO Dominance",desc:"Target traffic from specific cities or regions to rank higher in local search results and map packs."},{icon:t.jsx(zr,{className:"w-6 h-6 text-[#ff4d00]"}),title:"100% Human Behavior",desc:"Mouse movements, scrolling, and clicks are randomized to mimic real human interaction perfectly."}],c=[{feature:"Traffic Source",us:"Real Residential IPs",them:"Data Center Proxies"},{feature:"Behavior",us:"Scrolls, Clicks, Reads",them:"Static Hits"},{feature:"Google Analytics",us:"100% Recognized",them:"Often Filtered / Bot"},{feature:"Effect on SEO",us:"Positive Ranking Signal",them:"Neutral or Negative"},{feature:"AdSense Safe",us:"Yes, Verified",them:"High Risk of Ban"}];return t.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans overflow-x-hidden",children:[t.jsx(Ti,{title:"Buy Organic Website Traffic 2026 - Real Residential IPs & CTR Booster",description:"Get 100% real organic traffic from residential IPs in 2026. Our advanced AI traffic bot simulates human behavior (scroll, click, read) to boost your SERP rankings and improve engagement metrics.",keywords:"organic website traffic 2026, buy organic traffic, seo traffic, ctr manipulation, boost rankings, real website visitors, ai traffic bot",schema:i,type:"product"}),t.jsx("nav",{className:"fixed w-full top-0 z-50 transition-all duration-300 bg-white/95 backdrop-blur-md border-b border-gray-100/50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[t.jsx("span",{className:"text-2xl font-black text-[#ff4d00] tracking-tight group-hover:scale-105 transition-transform",children:"TRAFFIC"}),t.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"flex items-center gap-8",children:[t.jsxs("div",{className:"hidden md:flex gap-8 text-sm font-bold uppercase tracking-wide text-gray-500",children:[t.jsxs("a",{href:"#how-it-works",className:"hover:text-[#ff4d00] transition-colors relative group",children:["How It Works",t.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]}),t.jsxs("a",{href:"#benefits",className:"hover:text-[#ff4d00] transition-colors relative group",children:["Features",t.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]}),t.jsxs(Ue,{to:"/pricing",className:"hover:text-[#ff4d00] transition-colors relative group",children:["Pricing",t.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]})]}),t.jsx(Ue,{to:"/login",className:"bg-black text-white px-6 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-all shadow-md hover:shadow-lg hover:-translate-y-0.5 flex items-center rounded-sm",children:"Dashboard Login"})]})]})}),t.jsxs("section",{className:"pt-32 pb-32 px-6 relative overflow-hidden bg-white",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[50%] h-[50%] bg-gradient-to-b from-orange-50/50 to-transparent pointer-events-none rounded-bl-[100px]"}),t.jsx("div",{className:"absolute top-40 left-10 w-4 h-4 rounded-full bg-orange-200 animate-pulse"}),t.jsx("div",{className:"absolute top-60 right-20 w-3 h-3 rounded-full bg-blue-200 animate-bounce delay-700"}),t.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-16 items-center relative z-10",children:[t.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-700",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-50 text-[#ff4d00] border border-orange-100 px-4 py-2 text-xs font-bold uppercase tracking-widest mb-8 rounded-full shadow-sm hover:shadow-md transition-shadow cursor-default",children:[t.jsx(Yt,{size:14,className:"fill-[#ff4d00]"})," SEO Intelligence Engine"]}),t.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tight leading-[0.9] mb-8 text-gray-900",children:["DOMINATE ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"ORGANIC"}),t.jsx("br",{}),"SEARCH RESULTS."]}),t.jsx("p",{className:"text-xl text-gray-500 mb-10 max-w-lg leading-relaxed font-medium",children:"The only organic website traffic generator designed for SEO professionals. Manipulate CTR, increase dwell time, and signal authority to Google."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs(Ue,{to:"/signup",className:"group bg-[#ff4d00] text-white px-8 py-4 text-sm font-bold uppercase tracking-wider hover:bg-black transition-all shadow-xl hover:shadow-2xl flex items-center justify-center gap-3 rounded-sm transform hover:-translate-y-1",children:["Launch SEO Campaign",t.jsx(ms,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),t.jsxs("a",{href:"#demo",className:"bg-white border border-gray-200 text-gray-900 px-8 py-4 text-sm font-bold uppercase tracking-wider hover:border-[#ff4d00] hover:text-[#ff4d00] transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2 rounded-sm group",children:[t.jsx(rx,{size:16,className:"group-hover:fill-[#ff4d00]"})," View Live Demo"]})]}),t.jsxs("div",{className:"mt-8 flex items-center gap-4 text-xs font-bold text-gray-400 uppercase tracking-widest",children:[t.jsx("span",{children:"Used by 15,000+ SEO Agencies"}),t.jsxs("div",{className:"flex -space-x-2",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white"}),t.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-300 border-2 border-white"}),t.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-400 border-2 border-white"})]})]})]}),t.jsxs("div",{className:"relative h-[550px] perspective-1000 group",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-gray-100 to-gray-50 transform rotate-6 scale-95 opacity-50 rounded-2xl border border-gray-100 transition-transform duration-700 group-hover:rotate-3 group-hover:scale-95"}),t.jsxs("div",{className:"absolute inset-0 bg-white border border-gray-200 shadow-2xl rounded-2xl p-6 overflow-hidden transform transition-transform duration-700 group-hover:-translate-y-2 hover:shadow-[0_20px_50px_rgba(0,0,0,0.1)]",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent z-10 pointer-events-none"}),t.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-6 flex gap-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400/80"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400/80"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400/80"}),t.jsxs("div",{className:"ml-6 bg-gray-100 rounded-lg h-5 w-64 flex items-center px-2",children:[t.jsx(Un,{size:10,className:"text-gray-400 mr-2"}),t.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-sm"})]})]}),t.jsx("div",{className:"space-y-6",children:[1,2,3].map(f=>t.jsxs("div",{className:`p-5 rounded-lg border transition-all duration-500 hover:shadow-lg cursor-default relative overflow-hidden ${f===1?"border-[#ff4d00]/20 bg-orange-50/30":"border-gray-50 bg-white"}`,children:[f===1&&t.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-[#ff4d00]"}),t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-[10px] font-bold text-gray-500",children:f===1?"TC":"Ad"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-sm mb-1"}),t.jsx("div",{className:"w-48 h-2 bg-gray-100 rounded-sm"})]})]}),t.jsx("div",{className:`w-3/4 h-5 rounded-sm mb-3 ${f===1?"bg-gradient-to-r from-[#ff4d00] to-orange-400":"bg-blue-100"}`}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-sm"}),t.jsx("div",{className:"w-5/6 h-2 bg-gray-100 rounded-sm"})]}),f===1&&t.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[#ff4d00] text-xs font-bold uppercase tracking-wider animate-pulse",children:[t.jsx(hr,{size:12})," Rank #1  CTR Boost Active"]})]},f))}),t.jsxs("div",{className:"absolute bottom-6 right-6 bg-gray-900/95 backdrop-blur-md text-white p-5 rounded-xl shadow-2xl z-20 border border-gray-800 animate-in fade-in slide-in-from-bottom-4 delay-300",children:[t.jsxs("div",{className:"text-[10px] font-bold uppercase tracking-widest text-[#ff4d00] mb-2 flex items-center gap-2",children:[t.jsx(Pr,{size:12})," Performance"]}),t.jsx("div",{className:"text-4xl font-black mb-1",children:"18.4%"}),t.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"Organic CTR (7 Days)"}),t.jsx("div",{className:"w-full bg-gray-800 h-1 mt-3 rounded-full overflow-hidden",children:t.jsx("div",{className:"w-[70%] h-full bg-[#ff4d00]"})})]})]})]})]})]}),t.jsx("section",{id:"demo",className:"py-24 px-6 bg-white",children:t.jsx(fw,{})}),t.jsx("section",{id:"benefits",className:"py-32 px-6 bg-white relative",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-24",children:[t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-6",children:"Why Rank #1?"}),t.jsx("div",{className:"w-16 h-1.5 bg-[#ff4d00] mx-auto mb-8 rounded-full"}),t.jsxs("p",{className:"text-gray-500 max-w-2xl mx-auto text-lg leading-relaxed",children:["Search algorithms are evolving. Backlinks aren't enough. You need ",t.jsx("span",{className:"text-gray-900 font-bold",children:"User Signals"}),". Traffic Creator generates the perfect dwell time, scroll depth, and interaction metrics."]})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12",children:l.map((f,u)=>t.jsxs("div",{className:"flex gap-8 p-10 border border-gray-100 hover:border-[#ff4d00]/30 bg-white hover:bg-orange-50/20 shadow-sm hover:shadow-xl transition-all duration-300 group rounded-2xl relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-1 h-0 bg-[#ff4d00] group-hover:h-full transition-all duration-300"}),t.jsx("div",{className:"shrink-0",children:t.jsx("div",{className:"bg-orange-50 w-16 h-16 flex items-center justify-center rounded-2xl group-hover:bg-[#ff4d00] group-hover:rotate-6 transition-all duration-300 text-[#ff4d00] group-hover:text-white shadow-sm",children:f.icon})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 group-hover:text-[#ff4d00] transition-colors",children:f.title}),t.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:f.desc})]})]},u))})]})}),t.jsx("section",{className:"py-32 px-6 bg-[#f9fafb] border-t border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-20 items-center",children:[t.jsxs("div",{className:"space-y-12",children:[t.jsxs("div",{className:"pl-8 border-l-2 border-gray-200 hover:border-[#ff4d00] transition-colors duration-300",children:[t.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4 flex items-center gap-3",children:[t.jsx(tc,{className:"text-[#ff4d00]",size:24})," Keyword Targeting"]}),t.jsx("p",{className:"text-gray-500 text-lg leading-relaxed font-medium",children:"Don't just send traffic to a URL. Our system mimics a user searching for your specific keywords on Google, finding your result, and clicking it. This is the ultimate signal for relevance."})]}),t.jsxs("div",{className:"pl-8 border-l-2 border-gray-200 hover:border-[#ff4d00] transition-colors duration-300",children:[t.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4 flex items-center gap-3",children:[t.jsx(MO,{className:"text-[#ff4d00]",size:24})," Complex Journeys"]}),t.jsx("p",{className:"text-gray-500 text-lg leading-relaxed font-medium",children:"Define multi-page paths. Visitors land on your blog post, read for 60 seconds, click to your pricing page, and then visit your contact form."})]})]}),t.jsxs("div",{className:"bg-[#111] text-gray-300 p-2 rounded-xl shadow-2xl relative overflow-hidden group",children:[t.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-gray-800 bg-[#151515] rounded-t-lg",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),t.jsxs("div",{className:"text-xs font-mono text-gray-500 ml-4 flex items-center gap-2",children:[t.jsx(u4,{size:12})," campaign_config.json"]})]}),t.jsxs("div",{className:"p-8 font-mono text-xs md:text-sm leading-relaxed overflow-x-auto",children:[t.jsx("div",{className:"opacity-50 mb-4 text-[10px] uppercase tracking-widest",children:"// Traffic Configuration"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-purple-400",children:"const"})," ",t.jsx("span",{className:"text-blue-400",children:"campaign"})," = ","{"]}),t.jsxs("div",{className:"pl-4",children:[t.jsx("span",{className:"text-gray-400",children:"target:"})," ",t.jsx("span",{className:"text-green-400",children:'"Top 3 Positions"'}),","]}),t.jsxs("div",{className:"pl-4",children:[t.jsx("span",{className:"text-gray-400",children:"keywords:"})," ["]}),t.jsx("div",{className:"pl-8 text-orange-300",children:'"ranking boost services",'}),t.jsx("div",{className:"pl-8 text-orange-300",children:'"buy organic traffic",'}),t.jsx("div",{className:"pl-8 text-orange-300",children:'"seo ctr manipulation"'}),t.jsx("div",{className:"pl-4",children:"],"}),t.jsxs("div",{className:"pl-4",children:[t.jsx("span",{className:"text-gray-400",children:"behavior:"})," ","{"]}),t.jsxs("div",{className:"pl-8",children:[t.jsx("span",{className:"text-blue-300",children:"timeOnPage:"})," ",t.jsx("span",{className:"text-yellow-300",children:'"185s"'}),","]}),t.jsxs("div",{className:"pl-8",children:[t.jsx("span",{className:"text-blue-300",children:"scrollDepth:"})," ",t.jsx("span",{className:"text-yellow-300",children:'"85%"'}),","]}),t.jsxs("div",{className:"pl-8",children:[t.jsx("span",{className:"text-blue-300",children:"bounceRate:"})," ",t.jsx("span",{className:"text-yellow-300",children:'"12%"'})]}),t.jsx("div",{className:"pl-4",children:"}"}),t.jsxs("div",{children:["}",";"]}),t.jsxs("div",{className:"mt-6 flex items-center gap-2 text-green-500 text-[10px] font-bold uppercase tracking-widest",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})," compiler ready"]})]})]})]})})}),t.jsx("section",{className:"py-32 px-6 bg-white",children:t.jsxs("div",{className:"max-w-5xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl font-black uppercase tracking-tight mb-4",children:"Quality Matters"}),t.jsx("p",{className:"text-gray-500",children:"Don't risk your domain authority with cheap bot traffic."})]}),t.jsxs("div",{className:"bg-white shadow-[0_10px_60px_rgba(0,0,0,0.05)] rounded-2xl overflow-hidden border border-gray-100",children:[t.jsxs("div",{className:"grid grid-cols-3 bg-gray-900 text-white p-6 text-xs font-bold uppercase tracking-widest",children:[t.jsx("div",{className:"pl-4",children:"Feature"}),t.jsxs("div",{className:"text-[#ff4d00] flex items-center gap-2",children:[t.jsx(Yt,{size:14,className:"fill-[#ff4d00]"})," Traffic Creator"]}),t.jsx("div",{className:"text-gray-500",children:"Cheap Bots"})]}),t.jsx("div",{className:"divide-y divide-gray-50",children:c.map((f,u)=>t.jsxs("div",{className:"grid grid-cols-3 p-6 items-center text-sm font-medium hover:bg-gray-50 transition-colors group",children:[t.jsxs("div",{className:"font-bold text-gray-900 flex items-center gap-3 pl-4",children:[t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 group-hover:bg-[#ff4d00] transition-colors"}),f.feature]}),t.jsxs("div",{className:"flex items-center gap-3 text-[#ff4d00] font-bold bg-orange-50/50 -my-6 py-6 border-x border-orange-100/50",children:[t.jsx(yt,{size:18,className:"ml-4"})," ",f.us]}),t.jsxs("div",{className:"text-gray-400 flex items-center gap-3 pl-4",children:[t.jsx(an,{size:16})," ",f.them]})]},u))})]})]})}),t.jsxs("section",{className:"py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),t.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[t.jsx("h2",{className:"text-5xl md:text-7xl font-black uppercase tracking-tight mb-8 text-white",children:"Start Ranking Now"}),t.jsx("p",{className:"text-xl text-white/90 mb-12 font-medium max-w-2xl mx-auto",children:"Your competitors are already doing it. Level the playing field with the world's most advanced organic traffic generator."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[t.jsxs(Ue,{to:"/signup",className:"bg-white text-black px-12 py-5 text-sm font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-all shadow-2xl flex items-center justify-center gap-3 rounded-sm transform hover:-translate-y-1",children:["Start Free Trial ",t.jsx(ms,{size:18})]}),t.jsx(Ue,{to:"/pricing",className:"bg-transparent border-2 border-white text-white px-12 py-5 text-sm font-bold uppercase tracking-wider hover:bg-white hover:text-[#ff4d00] transition-all rounded-sm flex items-center justify-center",children:"View Pricing"})]}),t.jsx("div",{className:"mt-12 text-white/60 text-xs font-bold uppercase tracking-widest",children:"No Credit Card Required for Trial  100% Secure  Cancel Anytime"})]})]}),t.jsxs("footer",{className:"bg-black text-white py-20 px-6 border-t border-gray-900",children:[t.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-4 gap-12",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("div",{className:"text-3xl font-black text-white tracking-tight mb-6",children:"TRAFFIC CREATOR"}),t.jsx("p",{className:"text-gray-500 max-w-sm mb-8",children:"The industry standard for SEO traffic generation. We help agencies and site owners improve their search visibility signals safely."}),t.jsx("div",{className:"flex gap-4",children:[1,2,3,4].map(f=>t.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-900 flex items-center justify-center text-gray-500 hover:bg-[#ff4d00] hover:text-white transition-colors cursor-pointer",children:t.jsx(Os,{size:16})},f))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Platform"}),t.jsxs("ul",{className:"space-y-4 text-sm font-medium text-gray-300",children:[t.jsx("li",{children:t.jsx(Ue,{to:"/how-it-works",className:"hover:text-[#ff4d00] transition-colors",children:"How it Works"})}),t.jsx("li",{children:t.jsx(Ue,{to:"/pricing",className:"hover:text-[#ff4d00] transition-colors",children:"Pricing"})}),t.jsx("li",{children:t.jsx(Ue,{to:"/login",className:"hover:text-[#ff4d00] transition-colors",children:"Dashboard"})}),t.jsx("li",{children:t.jsx(Ue,{to:"/affiliate",className:"hover:text-[#ff4d00] transition-colors",children:"Affiliate Program"})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Company"}),t.jsxs("ul",{className:"space-y-4 text-sm font-medium text-gray-300",children:[t.jsx("li",{children:t.jsx(Ue,{to:"/blog",className:"hover:text-[#ff4d00] transition-colors",children:"SEO Blog"})}),t.jsx("li",{children:t.jsx(Ue,{to:"/helpdesk",className:"hover:text-[#ff4d00] transition-colors",children:"Help Center"})}),t.jsx("li",{children:t.jsx(Ue,{to:"/legal/privacy",className:"hover:text-[#ff4d00] transition-colors",children:"Privacy Policy"})}),t.jsx("li",{children:t.jsx(Ue,{to:"/legal/terms",className:"hover:text-[#ff4d00] transition-colors",children:"Terms of Service"})})]})]})]}),t.jsxs("div",{className:"max-w-7xl mx-auto mt-20 pt-8 border-t border-gray-900 flex justify-between items-center text-xs text-gray-600",children:[t.jsx("div",{children:" 2025 Traffic Creator Inc. All rights reserved."}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),t.jsx("span",{children:"Systems Operational"})]})]})]})]})},xL=({onLogin:n,onNavigate:e})=>{const[s,r]=w.useState(!1);return w.useEffect(()=>{const i=()=>r(window.scrollY>50);return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),t.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] text-gray-900 font-sans selection:bg-[#ff4d00] selection:text-white",children:[t.jsx(Ti,{title:"Next-Gen Traffic Generation 2026 - AI-Driven SEO Visits",description:"Experience the future of traffic generation. AI-powered user behavior simulation for the most natural-looking analytics patterns in 2026.",keywords:"ai traffic generator 2026, modern seo traffic, behavioral traffic bot, next-gen seo tools"}),t.jsx("nav",{className:`fixed w-full z-50 transition-all duration-300 ${s?"top-4":"top-0"}`,children:t.jsx("div",{className:`max-w-7xl mx-auto px-6 ${s?"py-4":"py-6"}`,children:t.jsxs("div",{className:`
            flex items-center justify-between px-6 py-3 rounded-2xl transition-all duration-300
            ${s?"bg-white/80 backdrop-blur-xl shadow-lg border border-gray-100":"bg-transparent"}
          `,children:[t.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[t.jsx("div",{className:"w-8 h-8 bg-black rounded-lg flex items-center justify-center text-white font-black text-xs",children:"TC"}),t.jsx("span",{className:"font-bold text-lg tracking-tight",children:"TrafficCreator"})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm font-medium text-gray-600",children:[t.jsx("a",{href:"#features",className:"hover:text-black transition-colors",children:"Features"}),t.jsx("a",{href:"#how-it-works",className:"hover:text-black transition-colors",children:"How it Works"}),t.jsx("a",{href:"#pricing",className:"hover:text-black transition-colors",children:"Pricing"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Ue,{to:"/login",className:"text-sm font-bold hover:text-[#ff4d00] transition-colors hidden sm:block",children:"Log in"}),t.jsx(Ue,{to:"/signup",className:"bg-black text-white px-5 py-2.5 rounded-xl text-sm font-bold hover:bg-[#ff4d00] hover:scale-105 transition-all shadow-xl shadow-orange-500/10",children:"Get Started"})]})]})})}),t.jsx("section",{className:"pt-40 pb-20 px-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-24",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-50 border border-orange-100 text-[#ff4d00] text-xs font-bold uppercase tracking-wider animate-in fade-in slide-in-from-bottom-4",children:[t.jsx(Vr,{size:12,className:"fill-[#ff4d00]"}),"Trusted by 15,000+ Marketers"]}),t.jsxs("h1",{className:"text-6xl md:text-7xl font-black tracking-tight leading-[1] text-gray-900 animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100",children:["Traffic that ",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"actually converts."})]}),t.jsx("p",{className:"text-xl text-gray-500 max-w-lg leading-relaxed animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:"Stop relying on unpredictable algorithms. Take control of your website traffic with our residential network of real visitors."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 animate-in fade-in slide-in-from-bottom-10 duration-700 delay-300",children:[t.jsxs(Ue,{to:"/signup",className:"bg-[#ff4d00] text-white px-8 py-4 rounded-2xl text-base font-bold hover:bg-black transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 flex items-center justify-center gap-2",children:["Start Free Trial ",t.jsx(ms,{size:18})]}),t.jsxs("a",{href:"#how-it-works",className:"bg-white border border-gray-200 text-gray-900 px-8 py-4 rounded-2xl text-base font-bold hover:bg-gray-50 transition-all flex items-center justify-center gap-2",children:[t.jsx(rx,{size:18,className:"fill-gray-900"})," Watch Demo"]})]})]}),t.jsxs("div",{className:"relative h-[600px] w-full animate-in fade-in zoom-in duration-1000 delay-200",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-gradient-to-bl from-orange-200/40 to-pink-200/40 rounded-full blur-3xl opacity-50"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-gradient-to-tr from-blue-200/40 to-green-200/40 rounded-full blur-3xl opacity-50"}),t.jsxs("div",{className:"absolute top-10 right-10 left-10 bottom-10",children:[t.jsxs("div",{className:"absolute top-0 right-0 w-72 bg-white rounded-3xl shadow-[0_30px_60px_-15px_rgba(0,0,0,0.1)] p-6 border border-gray-100 z-30 transform hover:scale-105 transition-transform duration-500",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("div",{className:"w-10 h-10 rounded-2xl bg-orange-50 flex items-center justify-center text-[#ff4d00]",children:t.jsx(hr,{size:20})}),t.jsx("span",{className:"text-green-500 text-xs font-bold bg-green-50 px-2 py-1 rounded-full",children:"+124%"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-3xl font-black text-gray-900",children:"42.8k"}),t.jsx("div",{className:"text-sm text-gray-400 font-medium",children:"Monthly Visitors"})]}),t.jsx("div",{className:"mt-6 h-16 flex items-end gap-1",children:[40,60,45,70,85,65,90].map((i,l)=>t.jsx("div",{style:{height:`${i}%`},className:`flex-1 rounded-t-sm ${l===6?"bg-[#ff4d00]":"bg-gray-100"}`},l))})]}),t.jsxs("div",{className:"absolute bottom-10 left-0 w-80 bg-black text-white rounded-3xl shadow-2xl p-6 z-20 transform hover:-translate-y-2 transition-transform duration-500",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Live Traffic"}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-gray-300",children:"Active"})]})]}),t.jsx("div",{className:"space-y-4",children:["United States","Germany","United Kingdom"].map((i,l)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Os,{size:14,className:"text-gray-500"}),t.jsx("span",{className:"text-sm font-bold",children:i})]}),t.jsx("div",{className:"w-24 bg-gray-800 h-1.5 rounded-full overflow-hidden",children:t.jsx("div",{className:"bg-[#ff4d00] h-full",style:{width:`${80-l*20}%`}})})]},l))})]}),t.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 bg-white/60 backdrop-blur-xl border border-white/50 p-4 rounded-2xl shadow-xl z-10 flex items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-purple-500"}),t.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white p-1 rounded-full",children:t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full border-2 border-white"})})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Real Human"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Session: 2m 45s"})]})]})]})]})]})})}),t.jsx("section",{id:"features",className:"py-24 px-6 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16 px-4",children:[t.jsx("span",{className:"text-[#ff4d00] font-bold tracking-wider uppercase text-xs mb-4 block",children:"Platform Capability"}),t.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-6",children:"Everything you need to grow."}),t.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto",children:"We've built the most advanced organic traffic generation engine on the market."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[300px]",children:[t.jsxs("div",{className:"md:col-span-2 bg-[#F5F5F7] rounded-3xl p-8 relative overflow-hidden group hover:shadow-xl transition-all duration-300",children:[t.jsxs("div",{className:"relative z-10 max-w-md",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-[#ff4d00]",children:t.jsx(tc,{size:24})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Precision Targeting"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Target by keyword, country, device, and even specific browser behavior. Our AI ensures every visitor matches your ideal profile."})]}),t.jsx("div",{className:"absolute right-0 bottom-0 w-1/2 h-full opacity-50 group-hover:scale-105 transition-transform duration-500",children:t.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[t.jsx("circle",{cx:"150",cy:"150",r:"100",fill:"#ff4d00",fillOpacity:"0.1"}),t.jsx("circle",{cx:"100",cy:"180",r:"80",fill:"#ff4d00",fillOpacity:"0.1"})]})})]}),t.jsxs("div",{className:"md:row-span-2 bg-black text-white rounded-3xl p-8 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-gradient-to-b from-gray-800/50 to-black pointer-events-none"}),t.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-2xl flex items-center justify-center mb-6 text-white border border-gray-700",children:t.jsx(zr,{size:24})}),t.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Residential IPs"}),t.jsx("p",{className:"text-gray-400 font-medium leading-relaxed",children:"We route all traffic through real residential networks. No data center IPs, no bot flags. Just pure, organic-looking traffic."})]}),t.jsxs("div",{className:"bg-gray-900/50 rounded-2xl p-4 border border-gray-800 mt-8 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"System Status"})]}),t.jsx("div",{className:"text-lg font-mono text-green-400",children:"100% Undetectable"})]})]})]}),t.jsxs("div",{className:"bg-[#FFF1EB] rounded-3xl p-8 group hover:shadow-xl transition-all duration-300",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-[#ff4d00]",children:t.jsx(Yt,{size:24})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Instant Delivery"}),t.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Start receiving visitors within 60 seconds of launching your campaign."})]}),t.jsxs("div",{className:"bg-[#F0F9FF] rounded-3xl p-8 group hover:shadow-xl transition-all duration-300",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-blue-500",children:t.jsx(zl,{size:24})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"GA4 Native"}),t.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Designed specifically to register correctly in Google Analytics 4 reports."})]})]})]})}),t.jsx("section",{className:"py-32 px-6 bg-white",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsx(fw,{})})}),t.jsx("section",{className:"py-24 px-6 bg-[#FAFAFA]",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-50 border border-orange-100 text-[#ff4d00] text-xs font-bold uppercase tracking-wider mb-6 animate-in fade-in slide-in-from-bottom-4",children:[t.jsx(Io,{size:14,className:"fill-[#ff4d00]"}),"100% Free Forever"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-6 tracking-tight",children:["Get Up to 20,000 ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"Free Hits Daily"})]}),t.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto",children:"Just log in and claim. No credit card. No purchase. Just free traffic."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8",children:[t.jsxs("div",{className:"lg:col-span-8 bg-white rounded-3xl p-8 border border-gray-100 shadow-xl shadow-orange-500/5 overflow-hidden relative",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(Hl,{className:"text-[#ff4d00]",size:24}),"30-Day Streak"]}),t.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"free hits per month  that's real traffic to your website"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-4xl font-black text-gray-900",children:"342,000"}),t.jsx("div",{className:"text-sm font-medium text-[#ff4d00]",children:"monthly potential"})]})]}),t.jsx("div",{className:"space-y-3",children:[{days:"Day 1-2",amount:"1,000",icon:Si},{days:"Day 3-4",amount:"2,000",icon:Ur},{days:"Day 5-6",amount:"3,000",icon:hr},{days:"Day 7-13",amount:"10,000",icon:Yt,highlight:!0},{days:"Day 14-29",amount:"15,000",icon:Io,highlight:!0},{days:"Day 30+",amount:"20,000",icon:Hl,highlight:!0,last:!0}].map((i,l)=>t.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all hover:scale-[1.01] ${i.highlight?"bg-orange-50/50 border-orange-100":"bg-gray-50/50 border-gray-100"}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${i.highlight?"bg-white text-[#ff4d00] shadow-sm":"bg-white text-gray-400"}`,children:t.jsx(i.icon,{size:20})}),t.jsx("span",{className:`font-bold ${i.highlight?"text-gray-900":"text-gray-500"}`,children:i.days})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-xl font-black ${i.last?"text-[#ff4d00]":"text-gray-900"}`,children:i.amount}),t.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"hits/day"})]})]},l))})]}),t.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[t.jsxs("div",{className:"bg-black text-white rounded-3xl p-8 relative overflow-hidden flex flex-col justify-between group h-min min-h-[300px]",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00]/30 rounded-full blur-3xl group-hover:bg-[#ff4d00]/50 transition-colors duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-2xl flex items-center justify-center mb-6 border border-gray-700 text-[#ff4d00]",children:t.jsx(Ql,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-gray-300",children:"Yearly Potential"}),t.jsx("div",{className:"text-4xl lg:text-5xl font-black mt-3 tracking-tight",children:"7,042,000"})]}),t.jsx("p",{className:"text-gray-400 text-sm font-medium relative z-10 mt-6",children:"free hits per year with consistent daily claims"})]}),t.jsxs("div",{className:"bg-[#FFF1EB] rounded-3xl p-8 flex flex-col justify-center h-min min-h-[220px]",children:[t.jsx("div",{className:"mb-4",children:t.jsx("span",{className:"text-[#ff4d00] font-bold text-sm uppercase tracking-wider",children:"What's it worth?"})}),t.jsx("div",{className:"text-5xl font-black text-gray-900 mb-2",children:"700+"}),t.jsx("p",{className:"text-gray-600 font-medium",children:"in value based on our standard CPM pricing"})]})]})]}),t.jsx("div",{className:"max-w-3xl mx-auto mt-12 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-300",children:t.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 flex items-center justify-center gap-3 shadow-lg hover:-translate-y-1 transition-transform cursor-default",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsxs("p",{className:"font-bold text-gray-900",children:[t.jsx("span",{className:"text-[#ff4d00]",children:"12,847 users"})," claimed their free bonus today"]})]})})]})}),t.jsx("section",{className:"py-32 px-6 bg-gray-50 border-t border-gray-200",children:t.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[t.jsx("h2",{className:"text-5xl font-black text-gray-900 mb-8 tracking-tight",children:"Ready to break the internet?"}),t.jsx("p",{className:"text-xl text-gray-500 mb-12 max-w-xl mx-auto",children:"Join the thousands of marketers using Traffic Creator to gain an unfair advantage."}),t.jsxs("div",{className:"flex flex-col items-center gap-6",children:[t.jsx(Ue,{to:"/signup",className:"bg-black text-white px-12 py-5 rounded-full text-lg font-bold hover:bg-[#ff4d00] transition-colors shadow-2xl hover:scale-105 transform duration-300",children:"Get Started for Free"}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 font-medium",children:[t.jsx(rn,{size:16,className:"text-green-500"})," No credit card required",t.jsx("span",{className:"mx-2",children:""}),t.jsx(rn,{size:16,className:"text-green-500"})," Cancel anytime"]})]})]})}),t.jsx("footer",{className:"py-12 px-6 bg-white border-t border-gray-100",children:t.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6 text-sm text-gray-500 font-medium",children:[t.jsx("div",{children:" 2025 Traffic Creator Inc."}),t.jsxs("div",{className:"flex gap-8",children:[t.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Privacy"}),t.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Terms"}),t.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Twitter"})]})]})})]})},yL=({isOpen:n,onClose:e,initialMode:s="login",onSuccess:r,message:i})=>{const[l,c]=w.useState(s),[f,u]=w.useState(""),[m,g]=w.useState(""),[b,v]=w.useState(""),[T,N]=w.useState(!1),[E,k]=w.useState(""),D=async P=>{P.preventDefault(),k(""),N(!0);try{if(l==="signup"){if(m.length<6)throw new Error("Password must be at least 6 characters");await q.register(b,f,m),e(),window.location.href=`/verify-email?email=${encodeURIComponent(f)}`}else{const L=await q.login(f,m);if(L.status==="suspended")throw new Error("Account suspended. Contact support.");await q.syncAll(),r(L.role),e()}}catch(L){k(L.message||"An error occurred")}finally{N(!1)}};return n?t.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[t.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),t.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[t.jsx("button",{onClick:e,className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors z-10",children:t.jsx(an,{size:18,className:"text-gray-500"})}),t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx("span",{className:"text-2xl font-black text-[#ff4d00]",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded uppercase",children:"Creator"})]}),i&&t.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(yt,{className:"text-green-500 shrink-0",size:20}),t.jsx("span",{className:"text-green-700 text-sm font-bold",children:i})]}),t.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1 mb-6",children:[t.jsx("button",{onClick:()=>{c("login"),k("")},className:`flex-1 py-3 rounded-lg text-sm font-bold uppercase tracking-wide transition-all ${l==="login"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"Login"}),t.jsx("button",{onClick:()=>{c("signup"),k("")},className:`flex-1 py-3 rounded-lg text-sm font-bold uppercase tracking-wide transition-all ${l==="signup"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"Sign Up"})]}),E&&t.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(dn,{className:"text-red-500 shrink-0",size:18}),t.jsx("span",{className:"text-red-700 text-sm font-bold",children:E})]}),t.jsxs("form",{onSubmit:D,className:"space-y-5",children:[l==="signup"&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(qn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"text",required:!0,value:b,onChange:P=>v(P.target.value),className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all",placeholder:"John Doe"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"email",required:!0,value:f,onChange:P=>u(P.target.value),className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all",placeholder:"you@example.com"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Un,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"password",required:!0,value:m,onChange:P=>g(P.target.value),className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all",placeholder:""})]}),l==="signup"&&m.length>0&&m.length<6&&t.jsx("p",{className:"text-red-500 text-xs mt-2 font-bold",children:"Minimum 6 characters required"})]}),t.jsx("button",{type:"submit",disabled:T,className:"w-full bg-[#ff4d00] text-white p-4 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:T?t.jsxs(t.Fragment,{children:[t.jsx(fs,{className:"animate-spin",size:18})," Processing..."]}):t.jsxs(t.Fragment,{children:[l==="login"?"Sign In":"Create Account"," ",t.jsx(ms,{size:18})]})})]})]})]})]}):null},bL=({onComplete:n})=>{const[e,s]=w.useState(""),[r,i]=w.useState("US"),[l,c]=w.useState("idle"),f=[{code:"US",name:"United States"},{code:"DE",name:"Germany"},{code:"GB",name:"United Kingdom"},{code:"FR",name:"France"},{code:"CA",name:"Canada"},{code:"AU",name:"Australia"},{code:"NL",name:"Netherlands"},{code:"ES",name:"Spain"},{code:"IT",name:"Italy"},{code:"BR",name:"Brazil"}],u=async g=>{g.preventDefault(),!(!e||!e.startsWith("http://")&&!e.startsWith("https://"))&&(c("analyzing"),await new Promise(b=>setTimeout(b,1200)),c("connecting"),await new Promise(b=>setTimeout(b,1500)),c("ready"),await new Promise(b=>setTimeout(b,800)),n("",e))},m={analyzing:{text:"Analyzing URL...",icon:t.jsx(fs,{className:"animate-spin",size:20})},connecting:{text:"Connecting to servers...",icon:t.jsx(fs,{className:"animate-spin",size:20})},ready:{text:"Traffic ready!",icon:t.jsx(yt,{size:20})}};return t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100 max-w-xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-10 h-10 bg-[#ff4d00]/10 rounded-xl flex items-center justify-center",children:t.jsx(Yt,{size:20,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-900",children:"Quick Traffic Test"}),t.jsx("p",{className:"text-xs text-gray-500",children:"No signup required to start"})]})]}),t.jsxs("form",{onSubmit:u,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Your Website URL"}),t.jsxs("div",{className:"relative",children:[t.jsx(Os,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"url",required:!0,value:e,onChange:g=>s(g.target.value),placeholder:"https://yourwebsite.com",disabled:l!=="idle",className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all disabled:opacity-50 disabled:cursor-not-allowed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Target Country"}),t.jsx("select",{value:r,onChange:g=>i(g.target.value),disabled:l!=="idle",className:"w-full bg-gray-50 border border-gray-200 p-4 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all disabled:opacity-50 disabled:cursor-not-allowed appearance-none cursor-pointer",children:f.map(g=>t.jsx("option",{value:g.code,children:g.name},g.code))})]}),l!=="idle"&&t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-xl",children:[t.jsx("div",{className:`text-[#ff4d00] ${l==="ready"?"text-green-500":""}`,children:m[l].icon}),t.jsx("span",{className:`text-sm font-bold ${l==="ready"?"text-green-600":"text-gray-600"}`,children:m[l].text})]}),t.jsx("button",{type:"submit",disabled:l!=="idle"||!e,className:"w-full bg-[#ff4d00] text-white p-4 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l==="idle"?t.jsxs(t.Fragment,{children:["Start Free Traffic ",t.jsx(ms,{size:18})]}):"Processing..."})]}),t.jsx("p",{className:"text-xs text-gray-400 text-center mt-4",children:"Free 2,000 visitors  No credit card required"})]})},vL=({initialCount:n=12403,className:e=""})=>{const[s,r]=w.useState(n),[i,l]=w.useState(n);return w.useEffect(()=>{const c=setInterval(()=>{const f=Math.floor(Math.random()*25)-10;r(u=>Math.max(1e4,u+f))},3e3+Math.random()*2e3);return()=>clearInterval(c)},[]),w.useEffect(()=>{const m=(s-i)/20;let g=0;const b=setInterval(()=>{g++,g>=20?(l(s),clearInterval(b)):l(v=>Math.round(v+m))},500/20);return()=>clearInterval(b)},[s]),t.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t.jsxs("span",{className:"text-sm font-bold text-gray-600",children:[t.jsx("span",{className:"text-gray-900",children:i.toLocaleString()})," active visitors"]})]})},xS=({onLogin:n,onNavigate:e})=>{const[s,r]=w.useState(!1),[i,l]=w.useState(!1),[c,f]=w.useState("signup"),[u,m]=w.useState(""),[g,b]=w.useState(""),[v,T]=w.useState(0),[N,E]=w.useState("professional");w.useEffect(()=>{const z=()=>r(window.scrollY>50);return window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)},[]);const k={"@context":"https://schema.org","@type":"WebPage",name:"Free Website Traffic Generator - Get 2,000 Free Visitors | Traffic Creator",description:"Get free website traffic instantly. Traffic Creator offers 2,000 free visitors to boost your SEO rankings, CTR, and analytics data. No credit card required.",url:"https://traffic-creator.com/free-website-traffic",mainEntity:{"@type":"Service",name:"Free Website Traffic Generator",provider:{"@type":"Organization",name:"Traffic Creator"},offers:{"@type":"Offer",price:"0",priceCurrency:"USD",description:"2,000 free visitors for new users"}}},D={"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:"Is this traffic safe for my AdSense account?",acceptedAnswer:{"@type":"Answer",text:"Yes, our traffic is designed to be AdSense-safe. We use residential IPs and natural behavior patterns that mimic real visitors."}},{"@type":"Question",name:"Are these real visitors or bots?",acceptedAnswer:{"@type":"Answer",text:"We use high-quality traffic with residential IPs that appears as real visitors in your analytics. Each visit includes realistic behavior patterns."}},{"@type":"Question",name:"Will I see the traffic in Google Analytics?",acceptedAnswer:{"@type":"Answer",text:"Absolutely. All traffic is fully compatible with Google Analytics 4, Google Search Console, and other major analytics platforms."}},{"@type":"Question",name:"How do I get free website traffic?",acceptedAnswer:{"@type":"Answer",text:"Simply enter your website URL above, select your target country, and click 'Start Free Traffic'. Create a free account to receive 2,000 visitors at no cost."}}]},P=z=>{f(z),m(""),l(!0)},L=(z,O)=>{b(O),m("Your campaign is ready! Create a free account to receive 2,000 visitors."),f("signup"),l(!0)},V=z=>{l(!1),n()},$=z=>{T(v===z?null:z)},Q=[{question:"How do I get free website traffic?",answer:"Simply enter your website URL above, select your target country, and click 'Start Free Traffic'. Create a free account to receive 2,000 visitors at no costno credit card required."},{question:"Is this traffic safe for my AdSense account?",answer:"Yes, our traffic is designed to be AdSense-safe. We use residential IPs and natural behavior patterns that mimic real visitors. Our traffic passes all major analytics filters."},{question:"Are these real visitors or bots?",answer:"We use high-quality traffic with residential IPs that appears as real visitors in your analytics. Each visit includes realistic behavior patterns: page views, time on site, and navigation patterns."},{question:"Will I see the traffic in Google Analytics?",answer:"Absolutely. All traffic is fully compatible with Google Analytics 4, Google Search Console, and other major analytics platforms. You'll see real-time visitors, sessions, and engagement metrics."},{question:"Are there any hidden costs or subscriptions?",answer:"No hidden fees, no mandatory subscriptions. Purchase credit packs as needed, or choose monthly plans for agencies. Everything is transparent and clearly priced."},{question:"What if I'm not satisfied?",answer:"We offer a full money-back guarantee. If we fail to deliver the promised visitor count within 72 hours, you're eligible for a complete refundno questions asked."},{question:"Can I target specific countries?",answer:"Yes! We offer geo-targeting for 190+ countries. Premium plans include city-level targeting for local SEO campaigns."}],_=[{volume:6e4,name:"Starter",desc:"Perfect for testing"},{volume:5e5,name:"Growth",desc:"Most popular choice",highlight:!0,badge:"Most Popular"},{volume:1e6,name:"Business",desc:"Serious growth",badge:"Best Value",badgeColor:"bg-green-500"}],A=[{icon:t.jsx(hr,{size:32}),title:"Poor Rankings?",desc:"Google ignores sites without traffic signals. Your content stays buried on page 10."},{icon:t.jsx(Si,{size:32}),title:"Low CTR?",desc:"Click-through rate is a ranking factor. Low engagement means lower visibility."},{icon:t.jsx(Yf,{size:32}),title:"No Analytics Data?",desc:"You can't optimize what you can't measure. Empty dashboards mean no insights."}],I=[{step:1,title:"Enter Your URL",desc:"Input your website address and select targeting options: country, device type, and traffic source.",icon:t.jsx(Os,{size:24})},{step:2,title:"We Send Real Signals",desc:"Our residential network delivers traffic through real ISP connectionsnot data center IPs that get flagged.",icon:t.jsx(zr,{size:24})},{step:3,title:"Watch Results Live",desc:"Monitor your traffic in Google Analytics 4 in real-time. See visitors, sessions, and engagement metrics.",icon:t.jsx(zl,{size:24})}];return t.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans overflow-x-hidden",children:[t.jsx(Ti,{title:"Free Website Traffic Generator - Get 2,000 Free Visitors | Traffic Creator",description:"Get free website traffic instantly. Receive 2,000 free visitors to boost your SEO rankings, CTR, and analytics data. No credit card required. Real residential traffic from 190+ countries.",keywords:"free website traffic, free traffic generator, get free traffic, website traffic free, free visitors, free web traffic, boost website traffic free, free SEO traffic, traffic generator free, increase website traffic free",schema:[k,D]}),t.jsx("header",{className:`fixed w-full z-50 transition-all duration-300 ${s?"top-0 bg-white/95 backdrop-blur-md shadow-sm border-b border-gray-100":"top-0 bg-transparent"}`,children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-16 md:h-20 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[t.jsx("span",{className:"text-xl md:text-2xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-black text-white px-2 py-1 rounded uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[t.jsxs("nav",{className:"hidden md:flex items-center gap-8 text-sm font-bold text-gray-500",children:[t.jsx("a",{href:"#problem",className:"hover:text-[#ff4d00] transition-colors",children:"Problem"}),t.jsx("a",{href:"#how-it-works",className:"hover:text-[#ff4d00] transition-colors",children:"How It Works"}),t.jsx("a",{href:"#pricing",className:"hover:text-[#ff4d00] transition-colors",children:"Pricing"})]}),t.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[t.jsx("button",{onClick:()=>P("login"),className:"text-sm font-bold text-gray-600 hover:text-[#ff4d00] transition-colors px-3 py-2",children:"Login"}),t.jsx("button",{onClick:()=>P("signup"),className:"bg-[#ff4d00] text-white px-4 md:px-6 py-2.5 text-xs md:text-sm font-bold uppercase tracking-wide hover:bg-black transition-colors rounded-xl shadow-lg shadow-orange-500/20",children:"Sign Up"})]})]})]})}),t.jsxs("section",{className:"relative pt-28 md:pt-40 pb-16 md:pb-24 px-6 overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 z-0",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-gradient-to-bl from-orange-100/50 to-transparent rounded-full blur-3xl -translate-y-1/2 translate-x-1/3"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-gradient-to-tr from-blue-50/50 to-transparent rounded-full blur-3xl translate-y-1/2 -translate-x-1/3"})]}),t.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-50 border border-orange-100 px-4 py-2 rounded-full text-xs font-bold text-[#ff4d00] uppercase tracking-wide mb-6",children:[t.jsx(Vr,{size:14,className:"fill-[#ff4d00]"}),"100% Free - No Credit Card Required"]}),t.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black tracking-tight leading-[1.1] mb-6",children:["Free Website Traffic",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"in Under 5 Minutes"})]}),t.jsxs("p",{className:"text-lg md:text-xl text-gray-500 max-w-2xl mx-auto leading-relaxed mb-8",children:["Get ",t.jsx("span",{className:"font-bold text-gray-700",children:"2,000 free visitors"})," to your website. Boost SEO rankings, improve CTR, and fill your analytics with real residential traffic from 190+ countries."]})]}),t.jsx(bL,{onComplete:L})]})]}),t.jsx("section",{className:"bg-gray-50 border-y border-gray-100 py-8 px-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[t.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:t.jsx("span",{className:"font-bold uppercase tracking-wide text-xs",children:"Compatible with:"})}),t.jsx("div",{className:"flex flex-wrap items-center justify-center gap-8 md:gap-12",children:["Google Analytics","Semrush","WordPress","Ahrefs"].map((z,O)=>t.jsxs("div",{className:"flex items-center gap-2 opacity-60 hover:opacity-100 transition-opacity",children:[t.jsx(zl,{size:18,className:"text-gray-400"}),t.jsx("span",{className:"text-sm font-bold text-gray-700",children:z})]},O))}),t.jsx(vL,{className:"shrink-0 bg-white px-4 py-2 rounded-full border border-gray-200"})]})})}),t.jsx("section",{id:"problem",className:"py-20 md:py-32 px-6 bg-gradient-to-b from-gray-50 to-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-red-50 text-red-600 px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wide mb-4",children:[t.jsx(dn,{size:14}),"The Problem"]}),t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Why Your Website Is Struggling"}),t.jsx("p",{className:"text-gray-500 max-w-xl mx-auto",children:"91% of content gets zero traffic from Google. Without visitor signals, search engines ignore your site."})]}),t.jsx("div",{className:"grid md:grid-cols-3 gap-6 md:gap-8",children:A.map((z,O)=>t.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl p-8 hover:shadow-xl hover:border-[#ff4d00]/30 transition-all group",children:[t.jsx("div",{className:"w-14 h-14 bg-red-50 rounded-xl flex items-center justify-center mb-6 text-red-500 group-hover:bg-[#ff4d00] group-hover:text-white transition-colors",children:z.icon}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:z.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:z.desc})]},O))})]})}),t.jsx("section",{id:"how-it-works",className:"py-20 md:py-32 px-6 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#ff4d00]/10 text-[#ff4d00] px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wide mb-4",children:[t.jsx(Yt,{size:14}),"How It Works"]}),t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Three Simple Steps"}),t.jsx("p",{className:"text-gray-500 max-w-xl mx-auto",children:"Start receiving quality traffic in under 5 minutes. No technical knowledge required."})]}),t.jsx("div",{className:"space-y-12 md:space-y-0 md:grid md:grid-cols-3 md:gap-8",children:I.map((z,O)=>t.jsxs("div",{className:"relative flex flex-col md:flex-col items-start md:items-center text-left md:text-center group",children:[O<I.length-1&&t.jsx("div",{className:"hidden md:block absolute top-12 left-[60%] w-[80%] h-0.5 bg-gradient-to-r from-[#ff4d00]/30 to-transparent"}),t.jsxs("div",{className:"flex items-center gap-4 md:flex-col md:gap-0 md:mb-6",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-[#ff4d00]/10 to-orange-50 rounded-2xl flex items-center justify-center text-[#ff4d00] mb-0 md:mb-4 shrink-0 group-hover:scale-110 transition-transform",children:z.icon}),t.jsxs("div",{className:"md:hidden",children:[t.jsxs("div",{className:"text-xs font-bold text-[#ff4d00] uppercase tracking-wide mb-1",children:["Step ",z.step]}),t.jsx("h3",{className:"text-lg font-bold",children:z.title}),t.jsx("p",{className:"text-gray-500 text-sm mt-1",children:z.desc})]})]}),t.jsxs("div",{className:"hidden md:block",children:[t.jsxs("div",{className:"text-xs font-bold text-[#ff4d00] uppercase tracking-wide mb-2",children:["Step ",z.step]}),t.jsx("h3",{className:"text-lg font-bold mb-2",children:z.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:z.desc})]})]},O))})]})}),t.jsx("section",{id:"pricing",className:"py-20 md:py-32 px-6 bg-gray-50",children:t.jsxs("div",{className:"max-w-5xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#ff4d00]/10 text-[#ff4d00] px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wide mb-4",children:[t.jsx(ix,{size:14}),"Transparent Pricing"]}),t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Pay Only For Results"}),t.jsx("p",{className:"text-gray-500 max-w-xl mx-auto",children:"No hidden fees. No monthly contracts. Choose your package and start immediately."})]}),t.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Vo.map(z=>t.jsxs("button",{onClick:()=>E(z.id),className:`px-6 py-3 text-xs font-bold uppercase tracking-widest transition-all ${N===z.id?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${z.popular?"ring-2 ring-[#ff4d00]/30":""}`,children:[z.name,z.popular&&t.jsx("span",{className:"ml-2 text-[10px]",children:""})]},z.id))}),t.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:_.map((z,O)=>{var he;const F=((he=Qf[N][z.volume])==null?void 0:he[1])||0,R=dw(N,z.volume,1),U=Vo.find(W=>W.id===N);return t.jsxs("div",{className:`relative bg-white rounded-2xl p-8 border transition-all ${z.highlight?"border-2 border-[#ff4d00] shadow-2xl shadow-[#ff4d00]/20 scale-105 z-10":"border-gray-100 hover:border-[#ff4d00]/30 hover:shadow-xl"}`,children:[z.badge&&t.jsx("div",{className:`absolute -top-3 left-1/2 -translate-x-1/2 ${z.badgeColor||"bg-[#ff4d00]"} text-white px-4 py-1 text-[10px] font-bold uppercase tracking-widest rounded-full whitespace-nowrap shadow-lg`,children:z.badge}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:z.name}),t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-4xl font-black text-gray-900",children:uw(F)}),t.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"one-time"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-4 mb-6 text-center border border-gray-100",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:z.volume>=1e6?`${z.volume/1e6}M`:`${z.volume/1e3}k`}),t.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wide",children:"Visitors"}),t.jsxs("div",{className:"text-xs text-[#ff4d00] font-bold mt-1",children:["~",hw(R),"/1k"]})]}),t.jsx("p",{className:"text-sm text-gray-500 mb-6",children:z.desc}),t.jsx("ul",{className:"space-y-3 mb-8",children:U==null?void 0:U.features.slice(0,4).map((W,te)=>t.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(rn,{size:16,className:"text-green-500 shrink-0"}),W]},te))}),t.jsx("button",{onClick:()=>P("signup"),className:`w-full py-4 rounded-xl text-sm font-bold uppercase tracking-wide transition-all ${z.highlight?"bg-[#ff4d00] text-white hover:bg-black shadow-lg":"bg-gray-900 text-white hover:bg-[#ff4d00]"}`,children:"Get Started"})]},O)})}),t.jsxs("div",{className:"mt-12 flex flex-wrap justify-center gap-6 text-sm text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(yt,{size:16,className:"text-green-500"}),"Instant delivery"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(yt,{size:16,className:"text-green-500"}),"Money-back guarantee"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(yt,{size:16,className:"text-green-500"}),"190+ countries"]})]})]})}),t.jsx("section",{id:"faq",className:"py-20 md:py-32 px-6 bg-white",children:t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Frequently Asked Questions"}),t.jsx("p",{className:"text-gray-500",children:"Everything you need to know before getting started."})]}),t.jsx("div",{className:"space-y-4",children:Q.map((z,O)=>t.jsxs("div",{className:"bg-gray-50 border border-gray-100 rounded-xl overflow-hidden",children:[t.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left hover:bg-gray-100 transition-colors",onClick:()=>$(O),children:[t.jsx("span",{className:"font-bold text-gray-900 pr-4",children:z.question}),v===O?t.jsx(bu,{size:20,className:"text-[#ff4d00] shrink-0"}):t.jsx(qa,{size:20,className:"text-gray-400 shrink-0"})]}),v===O&&t.jsx("div",{className:"px-6 pb-6 text-gray-600 text-sm leading-relaxed border-t border-gray-100 pt-4",children:z.answer})]},O))})]})}),t.jsxs("section",{className:"py-20 md:py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600/50 to-transparent"}),t.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[t.jsx("h2",{className:"text-3xl md:text-5xl font-black text-white tracking-tight mb-6",children:"Ready to Boost Your Traffic?"}),t.jsx("p",{className:"text-white/80 text-lg mb-8 max-w-xl mx-auto",children:"Join thousands of marketers who trust Traffic Creator for their SEO campaigns."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsxs("button",{onClick:()=>P("signup"),className:"bg-black text-white px-8 py-4 rounded-xl text-sm font-bold uppercase tracking-wide hover:bg-white hover:text-black transition-colors shadow-xl",children:["Start Free Trial ",t.jsx(ms,{size:18,className:"inline ml-2"})]}),t.jsx(Ue,{to:"/pricing",className:"bg-white/10 backdrop-blur-sm border border-white/20 text-white px-8 py-4 rounded-xl text-sm font-bold uppercase tracking-wide hover:bg-white/20 transition-colors",children:"View All Plans"})]}),t.jsxs("div",{className:"mt-8 flex items-center justify-center gap-6 text-white/60 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(rn,{size:16})," No credit card"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(rn,{size:16})," Cancel anytime"]})]})]})]}),t.jsx("footer",{className:"bg-gray-900 text-white py-12 px-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl font-black text-[#ff4d00]",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-white/10 text-white px-2 py-1 rounded uppercase",children:"Creator"})]}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-gray-400",children:[t.jsx(Ue,{to:"/blog",className:"hover:text-white transition-colors",children:"Blog"}),t.jsx(Ue,{to:"/helpdesk",className:"hover:text-white transition-colors",children:"Help Center"}),t.jsx(Ue,{to:"/legal/privacy",className:"hover:text-white transition-colors",children:"Privacy"}),t.jsx(Ue,{to:"/legal/terms",className:"hover:text-white transition-colors",children:"Terms"}),t.jsx(Ue,{to:"/legal/refund",className:"hover:text-white transition-colors",children:"Refund Policy"})]}),t.jsx("div",{className:"text-sm text-gray-500",children:" 2025 Traffic Creator Inc."})]})})}),t.jsx(yL,{isOpen:i,onClose:()=>l(!1),initialMode:c,onSuccess:V,message:u})]})},fb=({onLogin:n,onNavigate:e,view:s})=>{const r=Us(),[i,l]=w.useState(""),[c,f]=w.useState(""),[u,m]=w.useState(""),[g,b]=w.useState(!1),[v,T]=w.useState(""),[N,E]=w.useState(""),[k,D]=w.useState(!1),P=async()=>{if(i){b(!0);try{await q.resendVerificationEmail(i),r(`/verify-email?email=${encodeURIComponent(i)}`)}catch(V){T(V.message||"Failed to resend verification email")}finally{b(!1)}}},L=async V=>{V.preventDefault(),T(""),E(""),b(!0),D(!1);try{if(s==="signup"){if(c.length<6)throw new Error("Password must be at least 6 characters long");const $=await q.register(u,i,c);if($&&$.role){await q.syncAll(),n($.role);return}r(`/verify-email?email=${encodeURIComponent(i)}`);return}else if(s==="login"){const $=await q.login(i,c);if($.status==="suspended")throw new Error("Your account has been suspended. Please contact support.");await q.syncAll(),n($.role)}else s==="forgot"&&(await q.forgotPassword(i),E("Password reset link sent! Check your email."),l(""))}catch($){const Q=$.message||"An error occurred";T(Q),(Q.toLowerCase().includes("verify")||Q.toLowerCase().includes("verification"))&&D(!0)}finally{b(!1)}};return t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsxs(Ue,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:[t.jsx(Hn,{size:16})," Back to Home"]}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Bot"})]}),v&&t.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3",children:[t.jsx(dn,{className:"text-red-500 shrink-0",size:20}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-red-700 text-xs font-bold leading-relaxed",children:v}),k&&t.jsx("button",{onClick:P,className:"block mt-2 text-[#ff4d00] text-xs font-bold underline hover:no-underline",children:"Resend verification email"})]})]}),N&&t.jsxs("div",{className:"mb-6 bg-green-50 border-l-4 border-green-500 p-4 flex items-center gap-3",children:[t.jsx(yt,{className:"text-green-500 shrink-0",size:20}),t.jsx("span",{className:"text-green-700 text-xs font-bold leading-relaxed",children:N})]}),s==="forgot"?t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Reset Password"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"Enter your email address and we'll send you a link to reset your password."}),t.jsxs("form",{onSubmit:L,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"email",required:!0,value:i,onChange:V=>l(V.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"name@company.com"})]})]}),t.jsx("button",{type:"submit",disabled:g,className:"w-full bg-black text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:g?t.jsxs(t.Fragment,{children:[t.jsx(fs,{className:"animate-spin",size:16})," Sending..."]}):"Send Reset Link"}),t.jsx("div",{className:"text-center",children:t.jsx(Ue,{to:"/login",className:"text-xs font-bold text-gray-400 uppercase tracking-wider hover:text-black",children:"Back to Login"})})]})]}):t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:s==="login"?"Welcome Back":"Create Account"}),t.jsx("p",{className:"text-gray-500 mb-8",children:s==="login"?"Enter your credentials to access your dashboard.":"Start your first traffic campaign today."}),t.jsxs("form",{onSubmit:L,className:"space-y-6",children:[s==="signup"&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(qn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"text",required:!0,value:u,onChange:V=>m(V.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"John Doe"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"email",required:!0,value:i,onChange:V=>l(V.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"name@company.com"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Password"}),s==="login"&&t.jsx(Ue,{to:"/forgot",className:"text-[10px] font-bold text-[#ff4d00] uppercase tracking-wider hover:text-black",children:"Forgot?"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Un,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"password",required:!0,value:c,onChange:V=>f(V.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:s==="signup"?"Min. 6 characters":""})]}),s==="signup"&&c.length>0&&c.length<6&&t.jsx("p",{className:"text-red-500 text-xs mt-1 font-bold",children:"Password must be at least 6 characters"})]}),t.jsx("button",{type:"submit",disabled:g,className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:g?t.jsxs(t.Fragment,{children:[t.jsx(fs,{className:"animate-spin",size:16})," Processing..."]}):t.jsxs(t.Fragment,{children:[s==="login"?"Sign In":"Get Started"," ",t.jsx(ms,{size:16})]})})]}),t.jsxs("div",{className:"mt-8 text-center pt-8 border-t border-gray-100",children:[t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:s==="login"?"Don't have an account?":"Already have an account?"}),t.jsx(Ue,{to:s==="login"?"/signup":"/login",className:"text-sm font-black text-gray-900 hover:text-[#ff4d00] uppercase tracking-wide block",children:s==="login"?"Create Account":"Login Here"})]})]})]})})},wL=({initialData:n,onSave:e})=>{const[s,r]=w.useState(n),[i,l]=w.useState(!1);w.useEffect(()=>{r(n)},[n]);const c=(u,m,g)=>{let b=parseFloat(g);isNaN(b)&&(b=0),r(v=>v.map(T=>T.id===u?{...T,[m]:b}:T))},f=async()=>{l(!0);try{await q.savePricing(s),e&&e(),alert("Traffic Campaign Configuration Saved to Database!")}catch(u){console.error(u),alert("Failed to save configuration")}finally{l(!1)}};return t.jsxs("div",{className:"bg-white p-8 md:p-10 shadow-sm border border-gray-100 min-h-[600px] animate-in fade-in",children:[t.jsxs("div",{className:"mb-10",children:[t.jsx("h3",{className:"text-[#ff4d00] text-xs font-bold uppercase tracking-widest mb-1",children:"Global Pricing Configuration"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"Configure your traffic package rates per tier. Changes affect ALL new campaigns."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12",children:s.map(u=>t.jsxs("div",{className:"flex flex-col space-y-6 p-6 border border-gray-50 hover:border-gray-200 transition-colors bg-gray-50/50",children:[t.jsx("h4",{className:"text-xl font-black text-gray-900 mb-2 uppercase tracking-tight",children:u.name}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"CPM Rate ()"}),t.jsx("input",{type:"number",step:"0.01",value:u.hourlyRate,onChange:m=>c(u.id,"hourlyRate",m.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"Base Campaign Fee ()"}),t.jsx("input",{type:"number",value:u.baseFee,onChange:m=>c(u.id,"baseFee",m.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"Setup & Audit Fee ()"}),t.jsx("input",{type:"number",value:u.examFee,onChange:m=>c(u.id,"examFee",m.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]})]},u.id))}),t.jsx("div",{className:"mt-16 flex justify-end pt-8 border-t border-gray-100",children:t.jsx("button",{onClick:f,disabled:i,className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Global Configuration"})})]})},jL=({transactions:n})=>{try{const e=[];for(let l=6;l>=0;l--){const c=new Date;c.setDate(c.getDate()-l),e.push(c.toLocaleDateString("en-US",{month:"short",day:"numeric"}))}const s=Array.isArray(n)?n:[],r=e.map(l=>s.filter(f=>f&&f.type==="credit"&&f.date===l).reduce((f,u)=>f+(Number(u.amount)||0),0)),i=Math.max(...r,100);return t.jsx("div",{className:"h-48 flex items-end justify-between gap-2",children:r.map((l,c)=>t.jsxs("div",{className:"flex-1 flex flex-col justify-end group",children:[t.jsx("div",{className:"bg-black group-hover:bg-[#ff4d00] transition-colors rounded-t-sm w-full relative",style:{height:`${l/i*100}%`,minHeight:"4px"},children:t.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 text-[9px] font-bold text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:["",l]})}),t.jsx("div",{className:"text-[9px] text-gray-400 text-center mt-2 font-mono",children:e[c]})]},c))})}catch{return t.jsx("div",{className:"text-xs text-red-500 p-4",children:"Error loading chart"})}},NL=({users:n=[],projects:e=[],tickets:s=[],transactions:r=[],stats:i,onNavigate:l})=>{var k,D,P,L,V,$,Q;const c=Array.isArray(r)?r:[],f=Array.isArray(e)?e:[],u=Array.isArray(n)?n:[],m=Array.isArray(s)?s:[],g=((k=i==null?void 0:i.revenue)==null?void 0:k.total)??c.filter(_=>_&&_.type==="credit").reduce((_,A)=>_+(Number(A.amount)||0),0),b=((D=i==null?void 0:i.revenue)==null?void 0:D.today)??0,v=((P=i==null?void 0:i.projects)==null?void 0:P.active)??f.filter(_=>_&&_.status==="active").length,T=((L=i==null?void 0:i.users)==null?void 0:L.total)??u.length,N=((V=i==null?void 0:i.users)==null?void 0:V.new_today)??0,E=m.filter(_=>_&&_.status==="open").length;return t.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"Admin Overview"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors relative overflow-hidden group",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(Ur,{size:14})," Total Users"]}),t.jsx("div",{className:"text-4xl font-black text-gray-900",children:T}),N>0&&t.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[t.jsx(Lr,{size:10})," +",N," Today"]})]}),t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(ca,{size:14})," Active Projects"]}),t.jsx("div",{className:"text-4xl font-black text-gray-900",children:v}),(($=i==null?void 0:i.projects)==null?void 0:$.new_today)>0&&t.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[t.jsx(c4,{size:10})," +",(Q=i==null?void 0:i.projects)==null?void 0:Q.new_today," New Today"]})]}),t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(Mr,{size:14})," Open Tickets"]}),t.jsx("div",{className:"text-4xl font-black text-gray-900",children:E})]}),t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(hr,{size:14})," Total Revenue"]}),t.jsxs("div",{className:"text-4xl font-black text-[#ff4d00]",children:["",(g||0).toLocaleString()]}),b>0&&t.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[t.jsx(cn,{size:10})," +",b.toFixed(2)," Today"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"flex justify-between items-center mb-8",children:t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Revenue Trend (7 Days)"})}),t.jsx(jL,{transactions:c})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm flex flex-col",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900",children:"Recent Registrations"}),t.jsx("button",{onClick:()=>l("admin-users"),className:"text-[10px] uppercase font-bold text-gray-400 hover:text-[#ff4d00]",children:"View All"})]}),t.jsx("div",{className:"divide-y divide-gray-100 flex-1 overflow-y-auto max-h-64",children:u.slice(0,5).map(_=>t.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:((_==null?void 0:_.name)||"?").charAt(0)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-bold text-gray-900",children:(_==null?void 0:_.name)||"Unknown User"}),t.jsx("div",{className:"text-[9px] text-gray-400",children:(_==null?void 0:_.email)||"No Email"})]})]}),t.jsx("div",{className:"text-[9px] font-bold uppercase tracking-wide text-gray-400",children:(_==null?void 0:_.joinedDate)||"-"})]},(_==null?void 0:_.id)||Math.random()))})]})]})]})},_L=({users:n,projects:e,transactions:s,tickets:r,onRefresh:i,onEditUser:l})=>{const[c,f]=w.useState(""),[u,m]=w.useState(1),[g,b]=w.useState(100),[v,T]=w.useState("all"),N=$=>{const Q=e.filter(_=>_.userId===$);return{total:Q.length,active:Q.filter(_=>_.status==="active").length,expired:Q.filter(_=>_.status==="completed"||_.status==="stopped").length,demo:Q.filter(_=>_.plan==="Free Trial").length}},E=$=>s.filter(Q=>Q.userId===$&&Q.type==="debit"&&Q.status==="completed").reduce((Q,_)=>Q+_.amount,0),k=($,Q)=>{const _=new Date($).getTime();return(Date.now()-_)/(1e3*60*60)<=Q},D=w.useMemo(()=>{let $=n.filter(Q=>Q.name.toLowerCase().includes(c.toLowerCase())||Q.email.toLowerCase().includes(c.toLowerCase())||Q.id.includes(c));switch(v){case"balance":$.sort((Q,_)=>_.balance-Q.balance);break;case"spent":$.sort((Q,_)=>E(_.id)-E(Q.id));break;case"projects":$.sort((Q,_)=>N(_.id).total-N(Q.id).total);break;case"new_24h":$=$.filter(Q=>k(Q.joinedDate,24));break;case"new_7d":$=$.filter(Q=>k(Q.joinedDate,168));break;case"new_30d":$=$.filter(Q=>k(Q.joinedDate,720));break;default:$.sort((Q,_)=>new Date(_.joinedDate).getTime()-new Date(Q.joinedDate).getTime())}return $},[n,c,v,e,s]),P=Math.ceil(D.length/g),L=D.slice((u-1)*g,u*g);De.useEffect(()=>{m(1)},[v,c,g]);const V=[{id:"all",label:"All Users",icon:t.jsx(Ur,{size:14})},{id:"balance",label:"Highest Balance",icon:t.jsx(Fa,{size:14})},{id:"projects",label:"Most Projects",icon:t.jsx(ca,{size:14})},{id:"spent",label:"Top Spenders",icon:t.jsx(Fa,{size:14})},{id:"new_24h",label:"New (24h)",icon:t.jsx(ps,{size:14})},{id:"new_7d",label:"New (7d)",icon:t.jsx(ps,{size:14})},{id:"new_30d",label:"New (30d)",icon:t.jsx(ps,{size:14})}];return t.jsxs("div",{className:"animate-in fade-in",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-6 gap-4",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"User Management"}),t.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[t.jsxs("div",{className:"relative flex-1 md:w-64",children:[t.jsx("input",{type:"text",placeholder:"Search users...",value:c,onChange:$=>f($.target.value),className:"w-full bg-white border border-gray-200 pl-10 pr-4 py-2 text-sm outline-none focus:border-[#ff4d00]"}),t.jsx(Gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14})]}),t.jsxs("select",{value:g,onChange:$=>b(Number($.target.value)),className:"bg-white border border-gray-200 px-3 py-2 text-sm font-bold text-gray-600 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:10,children:"10 per page"}),t.jsx("option",{value:25,children:"25 per page"}),t.jsx("option",{value:50,children:"50 per page"}),t.jsx("option",{value:100,children:"100 per page"})]}),t.jsxs("button",{onClick:()=>{const $=`ID,Name,Email,Role,Status,Balance,Joined,LastActive
`,Q=n.map(z=>`${z.id},"${z.name}",${z.email},${z.role},${z.status},${z.balance},${z.joinedDate},${z.lastIp||""}`).join(`
`),_=new Blob([$+Q],{type:"text/csv"}),A=window.URL.createObjectURL(_),I=document.createElement("a");I.href=A,I.download=`users_export_${new Date().toISOString().split("T")[0]}.csv`,I.click(),alert("User export started.")},className:"flex items-center gap-2 bg-white border border-gray-200 px-3 py-2 text-sm font-bold text-gray-600 hover:text-black hover:border-black transition-colors",children:[t.jsx(Fa,{size:14,className:"rotate-45"})," Export"]})]})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-6 border-b border-gray-200 pb-2",children:V.map($=>t.jsxs("button",{onClick:()=>T($.id),className:`flex items-center gap-2 px-4 py-2 text-xs font-bold uppercase tracking-wide transition-colors rounded-sm
                        ${v===$.id?"bg-black text-white":"bg-white text-gray-500 hover:bg-gray-100"}
                    `,children:[$.icon," ",$.label]},$.id))}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden min-h-[500px]",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User Details"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Project Analytics"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Financials"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:L.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"No users found matching your criteria."})}):L.map($=>{const Q=N($.id),_=E($.id);return t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:$.name.charAt(0)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:$.name}),t.jsx("div",{className:"text-[10px] text-gray-400",children:$.email}),t.jsxs("div",{className:"text-[9px] text-gray-300 mt-0.5",children:["Joined: ",$.joinedDate]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-2 text-[10px] uppercase font-bold text-gray-600",children:[t.jsx(ca,{size:10,className:"text-[#ff4d00]"})," ",Q.total," Total"]}),t.jsxs("div",{className:"flex flex-col gap-1 text-[9px] text-gray-400 font-medium mt-1",children:[t.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-green-500"}),Q.active," Active"]}),t.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300"}),Q.expired," Inactive"]}),Q.demo>0&&t.jsxs("span",{className:"text-blue-500 flex items-center gap-1",children:[t.jsx(Yt,{size:8})," ",Q.demo," Demo"]})]})]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("div",{className:"text-sm font-black text-gray-900",children:["",$.balance.toFixed(2)]}),t.jsxs("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:["Spent: ",_.toFixed(0)]})]}),t.jsx("td",{className:"px-6 py-4",children:$.status==="active"?t.jsxs("span",{className:"text-green-600 text-[10px] font-bold uppercase tracking-wide flex items-center gap-1",children:[t.jsx(yt,{size:10})," Active"]}):t.jsxs("span",{className:"text-red-600 text-[10px] font-bold uppercase tracking-wide flex items-center gap-1",children:[t.jsx(HP,{size:10})," Suspended"]})}),t.jsx("td",{className:"px-6 py-4 text-right flex justify-end gap-3 items-center",children:t.jsxs("button",{onClick:()=>l($.id),className:"bg-gray-100 hover:bg-black hover:text-white text-gray-600 px-4 py-2 text-[10px] font-bold uppercase tracking-wider transition-colors rounded-sm flex items-center gap-2",children:[t.jsx(aw,{size:12})," Edit"]})})]},$.id)})})]})}),P>1&&t.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:["Page ",u," of ",P," (",D.length," Users)"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>m(Math.max(1,u-1)),disabled:u===1,className:"bg-white border border-gray-200 px-3 py-2 text-gray-600 hover:border-[#ff4d00] hover:text-[#ff4d00] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsx(rw,{size:14})}),t.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,P)},($,Q)=>{let _=Q+1;return P>5&&u>3&&(_=u-2+Q),_>P?null:t.jsx("button",{onClick:()=>m(_),className:`w-8 h-8 text-xs font-bold flex items-center justify-center border transition-colors
                                            ${u===_?"bg-[#ff4d00] border-[#ff4d00] text-white":"bg-white border-gray-200 text-gray-600 hover:border-gray-300"}
                                        `,children:_},_)})}),t.jsx("button",{onClick:()=>m(Math.min(P,u+1)),disabled:u===P,className:"bg-white border border-gray-200 px-3 py-2 text-gray-600 hover:border-[#ff4d00] hover:text-[#ff4d00] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsx(vc,{size:14})})]})]})]})]})},SL=({tickets:n,onRefresh:e})=>{var D;const[s,r]=w.useState(null),[i,l]=w.useState(""),[c,f]=w.useState("all"),[u,m]=w.useState([]),g=n.find(P=>P.id===s),b=[...n].sort((P,L)=>{const V=new Date(P.date).getTime();return new Date(L.date).getTime()-V}).filter(P=>c==="all"?!0:P.type===c);w.useEffect(()=>{s&&(q.markTicketRead(s),e())},[s]);const v=()=>{!i.trim()&&u.length===0||!s||(q.replyToTicket(s,i,"admin",u),l(""),m([]),e())},T=P=>{s&&(q.updateTicketStatus(s,P),e())},N=P=>{s&&(q.updateTicketPriority(s,P),e())},E=()=>{s&&confirm("Are you sure you want to permanently delete this ticket?")&&(q.deleteTicket(s),r(null),e())},k=P=>{if(P.target.files&&P.target.files[0]){const L=P.target.files[0].name;m([...u,L])}};return t.jsxs("div",{className:"animate-in fade-in h-[calc(100vh-140px)] flex flex-col",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Unified Inbox"}),t.jsxs("div",{className:"flex bg-white border border-gray-200 rounded-sm overflow-hidden",children:[t.jsx("button",{onClick:()=>f("all"),className:`px-4 py-2 text-xs font-bold uppercase ${c==="all"?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:"All"}),t.jsx("button",{onClick:()=>f("ticket"),className:`px-4 py-2 text-xs font-bold uppercase ${c==="ticket"?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:"Tickets"}),t.jsx("button",{onClick:()=>f("chat"),className:`px-4 py-2 text-xs font-bold uppercase ${c==="chat"?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:"Live Chats"})]})]}),t.jsxs("div",{className:"flex-1 bg-white border border-gray-200 shadow-sm flex overflow-hidden",children:[t.jsxs("div",{className:"w-1/3 border-r border-gray-200 flex flex-col",children:[t.jsx("div",{className:"p-4 border-b border-gray-200",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{placeholder:"Search...",className:"w-full bg-[#f9fafb] border border-gray-200 pl-9 pr-4 py-2 text-xs font-bold outline-none focus:border-[#ff4d00]"}),t.jsx(Gn,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:b.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-xs",children:"No conversations found."}):b.map(P=>t.jsxs("div",{onClick:()=>r(P.id),className:`p-4 border-b border-gray-100 cursor-pointer transition-colors hover:bg-gray-50 ${s===P.id?"bg-orange-50 border-l-4 border-l-[#ff4d00]":"border-l-4 border-l-transparent"}`,children:[t.jsxs("div",{className:"flex justify-between mb-1",children:[t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${P.type==="chat"?"bg-blue-100 text-blue-600":"bg-gray-200 text-gray-600"}`,children:P.type}),t.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:P.date})]}),t.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-1 truncate",children:P.subject}),t.jsx("p",{className:"text-xs text-gray-500 truncate mb-2",children:P.lastMessage}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-gray-400 uppercase",children:[t.jsx(qn,{size:10})," ",P.userName]}),P.status==="open"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"})]})]},P.id))})]}),g?t.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#fafafa]",children:[t.jsxs("div",{className:"bg-white p-6 border-b border-gray-200 flex justify-between items-start shadow-sm z-10",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:g.subject}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(qn,{size:14})," ",g.userName]}),t.jsx("span",{className:"text-gray-300",children:"|"}),t.jsxs("span",{className:"font-mono text-gray-400",children:["ID: ",g.id]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:g.priority,onChange:P=>N(P.target.value),className:`text-[10px] font-bold uppercase border-none outline-none cursor-pointer ${g.priority==="high"?"text-red-500":"text-gray-500"}`,children:[t.jsx("option",{value:"low",children:"Low Priority"}),t.jsx("option",{value:"medium",children:"Medium Priority"}),t.jsx("option",{value:"high",children:"High Priority"})]}),t.jsx("div",{className:"h-4 w-px bg-gray-200"}),t.jsxs("select",{value:g.status,onChange:P=>T(P.target.value),className:"bg-gray-100 text-gray-700 text-xs font-bold uppercase px-3 py-1.5 rounded-sm outline-none cursor-pointer hover:bg-gray-200",children:[t.jsx("option",{value:"open",children:"Open"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"closed",children:"Closed"})]}),t.jsx("button",{onClick:E,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-sm transition-colors",children:t.jsx(wc,{size:16})})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:(D=g.messages)==null?void 0:D.map(P=>t.jsx("div",{className:`flex ${P.sender==="admin"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[80%] ${P.sender==="admin"?"items-end":"items-start"} flex flex-col`,children:[t.jsxs("div",{className:`p-4 shadow-sm text-sm leading-relaxed ${P.sender==="admin"?"bg-black text-white rounded-l-lg rounded-tr-lg":"bg-white text-gray-900 border border-gray-200 rounded-r-lg rounded-tl-lg"}`,children:[P.text,P.attachments&&P.attachments.length>0&&t.jsx("div",{className:"mt-3 pt-3 border-t border-white/20 space-y-1",children:P.attachments.map((L,V)=>t.jsxs("div",{className:"flex items-center gap-2 text-xs opacity-80 bg-white/10 p-2 rounded-sm",children:[t.jsx(nf,{size:12})," ",L]},V))})]}),t.jsxs("span",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase tracking-wide",children:[P.sender==="admin"?"You":g.userName,"  ",P.date]})]})},P.id))}),t.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[u.length>0&&t.jsx("div",{className:"flex gap-2 mb-2 flex-wrap",children:u.map((P,L)=>t.jsxs("div",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-sm flex items-center gap-1",children:[P," ",t.jsx("button",{onClick:()=>m(u.filter(V=>V!==P)),children:t.jsx(an,{size:12})})]},L))}),t.jsxs("div",{className:"flex gap-2 items-end",children:[t.jsxs("label",{className:"p-3 text-gray-400 hover:text-black cursor-pointer transition-colors",children:[t.jsx(nf,{size:20}),t.jsx("input",{type:"file",className:"hidden",onChange:k})]}),t.jsx("textarea",{value:i,onChange:P=>l(P.target.value),placeholder:"Type your reply...",className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] resize-none h-12 min-h-[48px] max-h-32 transition-colors",onKeyDown:P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),v())}}),t.jsx("button",{onClick:v,disabled:!i&&u.length===0,className:"p-3 bg-[#ff4d00] text-white hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(qd,{size:20})})]})]})]}):t.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-300",children:[t.jsx(Mr,{size:64,className:"mb-4 opacity-20"}),t.jsx("p",{className:"text-sm font-medium",children:"Select a conversation to view details"})]})]})]})},TL=({projects:n,onEditProject:e})=>{const[s,r]=w.useState(""),[i,l]=w.useState("all"),c=u=>{try{return new URL(u).hostname.replace("www.","")}catch{return u}},f=w.useMemo(()=>n.filter(u=>{var b;const m=u.name.toLowerCase().includes(s.toLowerCase())||u.id.toLowerCase().includes(s.toLowerCase())||((b=u.settings)==null?void 0:b.entryUrls)&&u.settings.entryUrls.toLowerCase().includes(s.toLowerCase()),g=i==="all"||u.status===i;return m&&g}),[n,s,i]);return t.jsxs("div",{className:"animate-in fade-in space-y-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Mission Control"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[t.jsxs("div",{className:"relative group",children:[t.jsx(Gn,{className:"absolute left-3 top-2.5 text-gray-400 group-focus-within:text-[#ff4d00]",size:16}),t.jsx("input",{type:"text",placeholder:"Search by Domain, Name, or ID...",value:s,onChange:u=>r(u.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 text-sm font-bold w-full sm:w-64 outline-none focus:border-[#ff4d00] transition-colors"})]}),t.jsxs("select",{value:i,onChange:u=>l(u.target.value),className:"border border-gray-200 px-4 py-2 text-sm font-bold bg-white outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"all",children:"All Statuses"}),t.jsx("option",{value:"active",children:"Active Only"}),t.jsx("option",{value:"stopped",children:"Stopped/Paused"}),t.jsx("option",{value:"completed",children:"Completed"})]})]})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Campaign Target"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Client"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Plan & Traffic"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:f.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400 text-sm",children:"No campaigns found matching your criteria."})}):f.map(u=>{var m,g;return t.jsxs("tr",{className:"hover:bg-gray-50 group transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded text-gray-500",children:t.jsx(Os,{size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:u.name}),t.jsx("div",{className:"text-xs text-gray-500 font-mono mt-0.5 max-w-[200px] truncate",title:(m=u.settings)==null?void 0:m.entryUrls,children:(g=u.settings)!=null&&g.entryUrls?c(u.settings.entryUrls):"No URL"}),t.jsxs("div",{className:"mt-1 text-[10px] text-gray-400 font-mono",children:["ID: ",u.id.substring(0,8),"..."]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-bold text-gray-500 uppercase tracking-tighter",children:[t.jsx(qn,{size:12,className:"text-gray-400"}),t.jsx("span",{children:(u.userId||"Unknown User").split("-")[0]})]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("span",{className:`inline-block px-2 py-0.5 text-[10px] font-bold uppercase tracking-wide rounded mb-1 ${u.plan.toLowerCase().includes("agency")?"bg-purple-100 text-purple-700":u.plan.toLowerCase().includes("pro")?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:u.plan}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Expires: ",t.jsx("span",{className:"font-mono text-gray-700",children:u.expires})]})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-[9px] font-black uppercase tracking-wider rounded-full ${u.status==="active"?"bg-[#ff4d00]/10 text-[#ff4d00] ring-1 ring-[#ff4d00]/20":u.status==="completed"?"bg-green-100 text-green-700 ring-1 ring-green-600/20":"bg-gray-100 text-gray-500 ring-1 ring-gray-200"}`,children:[u.status==="active"?t.jsx(bD,{size:10,className:"fill-current"}):u.status==="stopped"?t.jsx(xD,{size:10}):null,u.status]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("button",{onClick:()=>e(u.id),className:"bg-white border border-gray-200 hover:border-black hover:bg-black hover:text-white text-gray-600 px-3 py-1.5 text-[10px] font-bold uppercase tracking-wider transition-all rounded-sm flex items-center gap-2 ml-auto shadow-sm",children:[t.jsx(aw,{size:12})," Manage"]})})]},u.id)})})]})})})]})},kL=({transactions:n,onEditTransaction:e})=>t.jsxs("div",{className:"animate-in fade-in",children:[t.jsxs("div",{className:"flex justify-between items-end mb-6",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Global Transactions"}),t.jsxs("button",{className:"flex items-center gap-2 bg-white border border-gray-200 px-4 py-2 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00]",children:[t.jsx(vi,{size:14})," Export CSV"]})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Trx ID"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User ID"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(s=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:s.id}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:s.date}),t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-400",children:s.userId||"N/A"}),t.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:s.desc}),t.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${s.type==="credit"?"text-green-600":"text-red-500"}`,children:[s.type==="credit"?"+":"-","",s.amount.toFixed(2)]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("button",{onClick:()=>e(s.id),className:"bg-gray-100 hover:bg-black hover:text-white text-gray-600 px-3 py-1.5 text-[10px] font-bold uppercase tracking-wider transition-colors rounded-sm flex items-center gap-2 ml-auto",children:[t.jsx(aw,{size:12})," Edit"]})})]},s.id))})]})})]}),EL=({initialSettings:n,onSave:e})=>{const[s,r]=w.useState(n),i=()=>{q.saveSystemSettings(s),e(),alert("System settings updated.")};return t.jsxs("div",{className:"animate-in fade-in max-w-2xl",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"System Settings"}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Site Name"}),t.jsx("input",{value:s.siteName,onChange:l=>r({...s,siteName:l.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Support Email"}),t.jsx("input",{value:s.supportEmail,onChange:l=>r({...s,supportEmail:l.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2 flex items-center gap-1",children:[t.jsx(Bd,{size:12})," SparkTraffic API Key"]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{value:s.sparkTrafficApiKey||"",onChange:l=>r({...s,sparkTrafficApiKey:l.target.value}),type:"password",className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-mono text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Enter API Key from v2.sparktraffic.com"}),t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:t.jsx(Bd,{size:16})})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Maintenance Mode"}),t.jsx("button",{onClick:()=>r({...s,maintenanceMode:!s.maintenanceMode}),className:`w-12 h-6 flex items-center p-1 transition-colors duration-300 ${s.maintenanceMode?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${s.maintenanceMode?"translate-x-6":"translate-x-0"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Allow New Registrations"}),t.jsx("button",{onClick:()=>r({...s,allowRegistrations:!s.allowRegistrations}),className:`w-12 h-6 flex items-center p-1 transition-colors duration-300 ${s.allowRegistrations?"bg-green-500":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${s.allowRegistrations?"translate-x-6":"translate-x-0"}`})})]}),t.jsx("div",{className:"pt-4 border-t border-gray-100",children:t.jsxs("button",{onClick:i,className:"bg-black text-white px-8 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(Ha,{size:14})," Save Configuration"]})})]})]})},CL=({onRefresh:n})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!1),[l,c]=w.useState(""),[f,u]=w.useState(""),[m,g]=w.useState("info"),[b,v]=w.useState(""),[T,N]=w.useState(""),[E,k]=w.useState(!1),[D,P]=w.useState(""),[L,V]=w.useState(""),$=60,Q=250,_=async()=>{i(!0);const U=await q.getAdminBroadcasts();s(U),i(!1)};w.useEffect(()=>{_()},[]);const A=async()=>{if(!l.trim()||!f.trim())return;let U;E&&D&&L&&(U=new Date(`${D}T${L}`).toISOString()),await q.createBroadcast({title:l.substring(0,$),message:f.substring(0,Q),type:m,isActive:!0,expiresAt:U,actionUrl:b.trim()||void 0,actionText:T.trim()||void 0}),c(""),u(""),g("info"),v(""),N(""),k(!1),P(""),V(""),_(),n&&n()},I=async U=>{await q.updateBroadcast(U.id,{...U,isActive:!U.isActive}),_()},z=async U=>{window.confirm("Are you sure you want to delete this broadcast?")&&(await q.deleteBroadcast(U),_())},O=U=>{if(c(U.title),u(U.message),g(U.type),v(U.actionUrl||""),N(U.actionText||""),U.expiresAt){const he=new Date(U.expiresAt);k(!0),P(he.toISOString().split("T")[0]),V(he.toTimeString().split(" ")[0].substring(0,5))}else k(!1);window.scrollTo({top:0,behavior:"smooth"})},F=U=>{switch(U){case"success":return"bg-green-500 border-green-500";case"warning":return"bg-orange-500 border-orange-500";case"critical":return"bg-red-500 border-red-500";default:return"bg-blue-500 border-blue-500"}},R=U=>{switch(U){case"success":return t.jsx(yt,{size:14,className:"text-white"});case"warning":return t.jsx(dn,{size:14,className:"text-white"});case"critical":return t.jsx(Jl,{size:14,className:"text-white"});default:return t.jsx(Zl,{size:14,className:"text-white"})}};return t.jsxs("div",{className:"animate-in fade-in",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"System Broadcasts"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm mb-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Gb,{size:14})," Create New Broadcast"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx(gd,{children:"Title / Headline"}),t.jsxs("span",{className:`text-[9px] font-bold ${l.length>$?"text-red-500":"text-gray-400"}`,children:[l.length,"/",$]})]}),t.jsx("input",{value:l,onChange:U=>c(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] font-bold",placeholder:"e.g. Scheduled Maintenance",maxLength:$+10})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx(gd,{children:"Message Body"}),t.jsxs("span",{className:`text-[9px] font-bold ${f.length>Q?"text-red-500":"text-gray-400"}`,children:[f.length,"/",Q]})]}),t.jsx("textarea",{value:f,onChange:U=>u(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] font-medium h-24 resize-none",placeholder:"Detailed explanation...",maxLength:Q+20})]}),t.jsxs("div",{className:"w-full md:w-48",children:[t.jsx(gd,{children:"Type"}),t.jsxs("select",{value:m,onChange:U=>g(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"info",children:"Info (Blue)"}),t.jsx("option",{value:"success",children:"Success (Green)"}),t.jsx("option",{value:"warning",children:"Warning (Orange)"}),t.jsx("option",{value:"critical",children:"Critical (Red)"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-50 pt-6",children:[t.jsxs("div",{children:[t.jsx(gd,{children:"Action URL (Optional)"}),t.jsx("input",{value:b,onChange:U=>v(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",placeholder:"https://example.com/blog"})]}),t.jsxs("div",{children:[t.jsx(gd,{children:"Action Button Text"}),t.jsx("input",{value:T,onChange:U=>N(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",placeholder:"Read More"})]})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(gd,{children:"Auto-Expire (Hidden after)"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>k(!E),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${E?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${E?"translate-x-5":"translate-x-0"}`})}),t.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:E?"Enabled":"Disabled"})]})]}),E&&t.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-in fade-in slide-in-from-top-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1 block",children:"Expiry Date"}),t.jsx("input",{type:"date",value:D,onChange:U=>P(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1 block",children:"Expiry Time"}),t.jsx("input",{type:"time",value:L,onChange:U=>V(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]"})]})]})]}),t.jsxs("button",{onClick:A,disabled:l.length>$||f.length>Q,className:"w-full bg-black text-white py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:hover:bg-black",children:[t.jsx(Gb,{size:14})," Publish Broadcast"]})]})]})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400",children:"Archived & Active"}),t.jsx("button",{onClick:_,className:"text-[10px] font-bold text-[#ff4d00] underline uppercase",children:"Refresh"})]}),t.jsxs("div",{className:"space-y-4",children:[r&&t.jsx("div",{className:"text-center p-4 text-gray-400 text-xs",children:"Loading..."}),!r&&e.length===0&&t.jsx("div",{className:"p-8 text-center text-gray-400 border border-gray-200 border-dashed bg-gray-50",children:"No broadcasts found."}),e.map(U=>t.jsxs("div",{className:`p-6 border-l-4 shadow-sm bg-white relative group ${U.isActive?F(U.type).split(" ")[1]:"opacity-60 grayscale"}`,children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:`flex items-center gap-1 text-[9px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded-sm text-white ${F(U.type).split(" ")[0]}`,children:[R(U.type)," ",U.type]}),t.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:new Date(U.createdAt).toLocaleDateString()})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>O(U),className:"text-gray-300 hover:text-black transition-colors",title:"Duplicate Broadcast",children:t.jsx(xn,{size:14})}),t.jsx("button",{onClick:()=>z(U.id),className:"text-gray-300 hover:text-red-500 transition-colors",children:t.jsx(wc,{size:14})})]})]}),t.jsx("h4",{className:"font-black text-sm uppercase mb-1",children:U.title}),t.jsx("p",{className:"text-xs font-medium text-gray-600 mb-3",children:U.message}),U.actionUrl&&t.jsxs("div",{className:"mb-3 flex items-center gap-1 text-[10px] font-bold text-[#ff4d00] uppercase tracking-wider",children:[t.jsx(Wf,{size:10})," ",U.actionText||"Action",": ",t.jsx("span",{className:"text-gray-400 font-medium normal-case",children:U.actionUrl})]}),t.jsxs("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-50 text-[10px] text-gray-500 font-bold uppercase transition-colors",children:[U.expiresAt&&t.jsxs("div",{className:"flex items-center gap-1 text-[#ff4d00]",children:[t.jsx(ps,{size:12})," Expires: ",new Date(U.expiresAt).toLocaleString()]}),!U.expiresAt&&t.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[t.jsx(ps,{size:12})," No Expiration"]})]}),t.jsx("div",{className:"mt-4",children:t.jsxs("button",{onClick:()=>I(U),className:`text-xs font-bold uppercase flex items-center gap-2 ${U.isActive?"text-green-600":"text-gray-400"}`,children:[U.isActive?t.jsx(CM,{size:20}):t.jsx(kM,{size:20}),U.isActive?"Live":"Hidden"]})})]},U.id))]})]})]})]})},gd=({children:n})=>t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:n}),AL=({onStartChat:n})=>{var T;const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(""),f=async()=>{const N=await q.getRealTimeVisitors();s(N),i(!1)};w.useEffect(()=>{f();const N=setInterval(f,1e4);return()=>clearInterval(N)},[]);const u=N=>{let k=q.getTickets().find(D=>(N.userId?D.userId===N.userId:!1)&&D.type==="chat"&&D.status!=="closed");if(!k){const D={id:`C-${Date.now().toString().slice(-4)}`,type:"chat",userId:N.userId||`guest-${Date.now()}`,userName:N.name,guestEmail:N.email!=="Unknown"?N.email:void 0,subject:"Admin Initiated Chat",status:"open",priority:"medium",date:new Date().toLocaleDateString(),lastMessage:"Admin started chat",unread:!1,messages:[{id:`m-${Date.now()}`,sender:"admin",text:"Hello! I noticed you are online. How can I help you today?",date:new Date().toLocaleString()}]};q.createTicket(D),k=D}n(k.id)},m=e.filter(N=>N.name.toLowerCase().includes(l.toLowerCase())||N.email.toLowerCase().includes(l.toLowerCase())||N.location.toLowerCase().includes(l.toLowerCase())),g=e.filter(N=>N.device==="Mobile").length,b=e.filter(N=>N.device==="Desktop").length,v=e.length>0?(T=e.sort((N,E)=>e.filter(k=>k.currentPage===N.currentPage).length-e.filter(k=>k.currentPage===E.currentPage).length).pop())==null?void 0:T.currentPage:"N/A";return t.jsxs("div",{className:"animate-in fade-in h-full flex flex-col",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-6 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxs("span",{className:"relative flex h-3 w-3",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-500 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-green-600",children:"Live Network Data"})]}),t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Real-Time Visitors"})]}),t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px]",children:[t.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Mobile"}),t.jsx("span",{className:"text-lg font-black text-gray-900",children:g})]}),t.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px]",children:[t.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Desktop"}),t.jsx("span",{className:"text-lg font-black text-gray-900",children:b})]}),t.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px] hidden md:flex",children:[t.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Top Page"}),t.jsx("span",{className:"text-xs font-black text-gray-900 truncate max-w-[80px]",children:v})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search IP, Name...",value:l,onChange:N=>c(N.target.value),className:"bg-white border border-gray-200 pl-10 pr-4 py-3 text-sm outline-none focus:border-[#ff4d00] shadow-sm w-48"}),t.jsx(Gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14})]})]})]}),e.length===0&&!r&&t.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 mb-6 flex items-center gap-3",children:[t.jsx(dn,{className:"text-orange-500",size:20}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-orange-800",children:"No active visitors"}),t.jsx("p",{className:"text-xs text-orange-700",children:"The database is currently empty of live sessions. Open the site in an Incognito window to see yourself appear here."})]})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden flex-1",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User Identity"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Current Page"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Last Active"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Environment"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:r?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400 animate-pulse",children:"Scanning live network..."})}):m.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400",children:"No active users found matching your filter."})}):m.map(N=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:N.name.charAt(0)}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[N.name,N.role==="guest"&&t.jsx("span",{className:"bg-gray-200 text-gray-600 text-[9px] px-1.5 py-0.5 rounded-sm uppercase",children:"Guest"})]}),t.jsx("div",{className:"text-[10px] text-gray-400",children:N.email}),t.jsxs("div",{className:"text-[9px] text-gray-300 mt-0.5 flex items-center gap-1",children:[t.jsx(Os,{size:10})," ",N.location]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-gray-700 font-mono bg-gray-100 px-2 py-1 rounded-sm",children:N.currentPage})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"text-xs font-bold text-gray-600 flex items-center gap-1",children:[t.jsx(ps,{size:12,className:"text-gray-400"})," ",N.lastActive]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("div",{className:"text-xs font-medium text-gray-600 flex items-center gap-2",children:[N.device.includes("Mobile")?t.jsx(ax,{size:14}):t.jsx($d,{size:14}),N.device," / ",N.browser]}),t.jsx("div",{className:"text-[10px] text-gray-400 font-mono mt-1",children:N.ip})]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("button",{onClick:()=>u(N),className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 ml-auto shadow-sm",children:[t.jsx(Mr,{size:12})," Chat"]})})]},N.id))})]})})})]})},IL=({userId:n,onNavigateToProject:e,onUpdate:s})=>{var oe,Ne;const[r,i]=w.useState(null),[l,c]=w.useState([]),[f,u]=w.useState([]),[m,g]=w.useState([]),[b,v]=w.useState(!0),[T,N]=w.useState(null),[E,k]=w.useState(""),[D,P]=w.useState("economy"),[L,V]=w.useState(""),[$,Q]=w.useState(!1);De.useEffect(()=>{_()},[n]);const _=async()=>{v(!0),N(null);try{const[K,ye,Te,Le]=await Promise.all([q.getUserDetails(n),q.getUserTransactions(n),q.getUserProjects(n),q.getBalanceAdjustments(n)]);i(K),c(ye),u(Te),g(Le)}catch(K){console.error("Failed to load user data:",K),N("Failed to load user data. Please try again.")}v(!1)},A=async()=>{if(!E||!L){alert("Please enter amount and reason");return}try{await q.addBonusHits(n,{tier:D,hits:parseInt(E),reason:L}),alert("Bonus hits added successfully"),Q(!1),k(""),V(""),_(),s()}catch(K){alert(K.message||"Failed to add bonus hits")}},I=async()=>{if(confirm("Send password reset email to user?"))try{await q.sendPasswordReset(n),alert("Password reset email sent")}catch{alert("Failed to send password reset")}},z=async()=>{if(confirm("Resend verification email to user?"))try{await q.resendVerification(n),alert("Verification email sent")}catch{alert("Failed to send verification email")}},O=async()=>{if(confirm("Regenerate API key? This will invalidate the old key."))try{const K=await q.adminRegenerateApiKey(n);alert(`New API Key: ${K}`),_()}catch{alert("Failed to regenerate API key")}},F=async()=>{try{const K=await q.adminExportUserData(n),ye=new Blob([JSON.stringify(K,null,2)],{type:"application/json"}),Te=URL.createObjectURL(ye),Le=document.createElement("a");Le.href=Te,Le.download=`user_${n}_export.json`,Le.click(),URL.revokeObjectURL(Te)}catch{alert("Failed to export user data")}},R=async()=>{if(!(r!=null&&r.user))return;const K=prompt("Enter suspension reason:");if(!K)return;const ye={...r.user,status:"suspended",banReason:K};await q.updateUser(ye),_(),s()},U=async()=>{if(confirm("Log in as this user?"))try{await q.startImpersonation(n),window.location.href="/dashboard"}catch{alert("Failed to start impersonation")}};if(b)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."});if(T)return t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),T,t.jsx("button",{onClick:_,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]});if(!r)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No user details found."});const{user:he,tierBalances:W,totalSpent:te,totalHitsPurchased:be,totalHitsUsed:Ae,referralsCount:Ie,referralEarnings:H}=r;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(ca,{size:16,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Economy"})]}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:W.economy.toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]}),t.jsxs("div",{className:"bg-white border border-orange-200 p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(wf,{size:16,className:"text-orange-500"}),t.jsx("span",{className:"text-xs font-bold text-orange-500 uppercase",children:"Professional"})]}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:W.professional.toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]}),t.jsxs("div",{className:"bg-[#111] p-6 shadow-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Yt,{size:16,className:"text-[#ff4d00]"}),t.jsx("span",{className:"text-xs font-bold text-[#ff4d00] uppercase",children:"Expert"})]}),t.jsx("div",{className:"text-2xl font-black text-white",children:W.expert.toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-4",children:"Spending Summary"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Total Deposited"}),t.jsxs("div",{className:"text-xl font-black text-green-600",children:["",te.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Hits Purchased"}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:be.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Hits Used"}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:Ae.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Referrals"}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:Ie})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Referral Earnings"}),t.jsxs("div",{className:"text-xl font-black text-green-600",children:["",H.toFixed(2)]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("button",{onClick:()=>Q(!$),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-xs font-bold uppercase hover:bg-green-700 transition-colors",children:[t.jsx(Lr,{size:14})," Add Bonus Hits"]}),t.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-xs font-bold uppercase hover:bg-blue-700 transition-colors",children:[t.jsx(Bd,{size:14})," Send Password Reset"]}),t.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white text-xs font-bold uppercase hover:bg-purple-700 transition-colors",children:[t.jsx(ko,{size:14})," Resend Verification"]}),t.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white text-xs font-bold uppercase hover:bg-gray-700 transition-colors",children:[t.jsx(Bd,{size:14})," Regenerate API Key"]}),t.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-4 py-2 bg-[#ff4d00] text-white text-xs font-bold uppercase hover:bg-orange-700 transition-colors",children:[t.jsx(x4,{size:14})," Login As User"]}),t.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white text-xs font-bold uppercase hover:bg-gray-900 transition-colors",children:[t.jsx(vi,{size:14})," Export Data"]}),he.status==="active"?t.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-xs font-bold uppercase hover:bg-red-700 transition-colors",children:[t.jsx(dn,{size:14})," Suspend Account"]}):t.jsxs("button",{onClick:async()=>{const K={...he,status:"active",banReason:""};await q.updateUser(K),_(),s()},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-xs font-bold uppercase hover:bg-green-700 transition-colors",children:[t.jsx(zr,{size:14})," Reactivate Account"]})]}),$&&t.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200",children:t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Tier"}),t.jsxs("select",{value:D,onChange:K=>P(K.target.value),className:"w-full p-2 text-sm border border-gray-200",children:[t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Hits"}),t.jsx("input",{type:"number",value:E,onChange:K=>k(K.target.value),placeholder:"50000",className:"w-full p-2 text-sm border border-gray-200"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Reason"}),t.jsx("input",{type:"text",value:L,onChange:K=>V(K.target.value),placeholder:"Bonus for testing",className:"w-full p-2 text-sm border border-gray-200"})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{onClick:A,className:"w-full py-2 bg-green-600 text-white text-xs font-bold uppercase hover:bg-green-700",children:"Add Hits"})})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Nf,{size:14})," Recent Projects (",f.length,")"]})}),f.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No projects found"}):t.jsx("div",{className:"divide-y divide-gray-50",children:f.slice(0,5).map(K=>{var ye;return t.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 cursor-pointer",onClick:()=>e(K.id),children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-gray-900",children:K.name}),t.jsxs("div",{className:"text-xs text-gray-400",children:[K.tier,"  Created ",(ye=K.createdAt)==null?void 0:ye.split("T")[0]]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:`px-2 py-1 text-[10px] font-bold uppercase ${K.status==="active"?"bg-green-100 text-green-700":K.status==="stopped"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:K.status}),t.jsx(vc,{size:16,className:"text-gray-400"})]})]},K.id)})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Fa,{size:14})," Recent Transactions (",l.length,")"]})}),l.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No transactions found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-right",children:"Amount"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:l.slice(0,5).map(K=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:K.date}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-900",children:K.desc}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:K.tier||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold",children:K.hits?K.hits.toLocaleString():"-"}),t.jsxs("td",{className:`px-6 py-3 text-xs font-bold text-right ${K.type==="credit"?"text-green-600":"text-gray-900"}`,children:[K.type==="credit"?"+":"-","",K.amount.toFixed(2)]})]},K.id))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(m4,{size:14})," Balance Adjustments (",m.length,")"]})}),m.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No balance adjustments found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Admin"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Reason"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:m.slice(0,5).map(K=>{var ye;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:K.createdAt?new Date(K.createdAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-900",children:K.adminEmail||"System"}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:t.jsx("span",{className:K.adjustmentType==="credit"?"text-green-600":"text-red-600",children:K.adjustmentType})}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:K.tier||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold",children:t.jsxs("span",{className:K.adjustmentType==="credit"?"text-green-600":"text-red-600",children:[K.adjustmentType==="credit"?"+":"-",((ye=K.hits)==null?void 0:ye.toLocaleString())||"0"]})}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600",children:K.reason||"-"})]},K.id)})})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Os,{size:14})," Login History"]}),((oe=r==null?void 0:r.user)==null?void 0:oe.lastIp)&&t.jsxs("span",{className:"text-xs text-gray-400",children:["Last IP: ",t.jsx("span",{className:"font-mono text-gray-600",children:r.user.lastIp})]})]}),!((Ne=r==null?void 0:r.user)!=null&&Ne.loginHistory)||r.user.loginHistory.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No login history found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"IP Address"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Device"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Type"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:r.user.loginHistory.map((K,ye)=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:K.date||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs font-mono text-gray-900",children:K.ip||"-"}),t.jsxs("td",{className:"px-6 py-3 text-xs text-gray-600 flex items-center gap-2",children:[t.jsx($d,{size:12,className:"text-gray-400"}),t.jsx("span",{className:"truncate max-w-[300px]",title:K.device,children:K.device||"-"})]}),t.jsx("td",{className:"px-6 py-3 text-xs",children:t.jsx("span",{className:`px-2 py-1 text-[10px] font-bold uppercase rounded ${K.type==="registration"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:K.type||"login"})})]},ye))})]})]})]})},RL=({userId:n})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(null),[f,u]=w.useState("all"),[m,g]=w.useState("all"),[b,v]=w.useState(1),T=20;w.useEffect(()=>{N()},[n]);const N=async()=>{i(!0),c(null);try{const V=await q.getUserTransactions(n);s(V)}catch(V){console.error("Failed to load transactions:",V),c("Failed to load transactions.")}i(!1)},E=e.filter(V=>!(f!=="all"&&V.type!==f||m!=="all"&&V.tier!==m)),k=Math.ceil(E.length/T),D=E.slice((b-1)*T,b*T),P=V=>{if(!V)return t.jsx("span",{className:"text-gray-400",children:"-"});const $={economy:"bg-gray-100 text-gray-600",professional:"bg-orange-100 text-orange-600",expert:"bg-[#ff4d00]/10 text-[#ff4d00]"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${$[V]||"bg-gray-100 text-gray-600"}`,children:V})},L=()=>{const V=["Date","Description","Tier","Hits","Amount","Status"],$=E.map(A=>[A.date,A.desc,A.tier||"",A.hits||"",A.amount.toFixed(2),A.status]),Q="data:text/csv;charset=utf-8,"+V.join(",")+`
`+$.map(A=>A.join(",")).join(`
`),_=document.createElement("a");_.href=encodeURI(Q),_.download=`transactions_${n}.csv`,_.click()};return r?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):l?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),l,t.jsx("button",{onClick:N,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vu,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filters:"})]}),t.jsxs("select",{value:f,onChange:V=>{u(V.target.value),v(1)},className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"credit",children:"Credits"}),t.jsx("option",{value:"debit",children:"Debits"})]}),t.jsxs("select",{value:m,onChange:V=>{g(V.target.value),v(1)},className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Tiers"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]}),t.jsx("div",{className:"flex-1"}),t.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white text-xs font-bold uppercase hover:bg-gray-900",children:[t.jsx(vi,{size:14})," Export CSV"]})]})}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-right",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-center",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:D.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No transactions found"})}):D.map(V=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 font-mono",children:V.date}),t.jsx("td",{className:"px-6 py-4 text-xs font-medium text-gray-900",children:V.desc}),t.jsx("td",{className:"px-6 py-4",children:P(V.tier)}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:V.hits?t.jsxs("span",{className:V.type==="credit"?"text-green-600":"text-red-600",children:[V.type==="credit"?"+":"-",V.hits.toLocaleString()]}):"-"}),t.jsxs("td",{className:`px-6 py-4 text-sm font-bold text-right ${V.type==="credit"?"text-green-600":"text-gray-900"}`,children:[V.type==="credit"?"+":"-","",V.amount.toFixed(2)]}),t.jsx("td",{className:"px-6 py-4 text-center",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${V.status==="completed"?"bg-green-100 text-green-700":V.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:V.status})})]},V.id))})]}),k>1&&t.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"text-xs text-gray-500",children:["Showing ",(b-1)*T+1," to ",Math.min(b*T,E.length)," of ",E.length]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>v(V=>Math.max(1,V-1)),disabled:b===1,className:"p-2 border border-gray-200 disabled:opacity-50",children:t.jsx(rw,{size:14})}),t.jsxs("span",{className:"text-xs font-bold",children:["Page ",b," of ",k]}),t.jsx("button",{onClick:()=>v(V=>Math.min(k,V+1)),disabled:b===k,className:"p-2 border border-gray-200 disabled:opacity-50",children:t.jsx(vc,{size:14})})]})]})]})]})},PL=({userId:n,onNavigateToProject:e})=>{const[s,r]=w.useState([]),[i,l]=w.useState(!0),[c,f]=w.useState(null),[u,m]=w.useState("all"),[g,b]=w.useState("all");w.useEffect(()=>{v()},[n]);const v=async()=>{l(!0),f(null);try{const k=await q.getUserProjects(n);r(k)}catch(k){console.error("Failed to load projects:",k),f("Failed to load projects.")}l(!1)},T=s.filter(k=>!(u!=="all"&&k.status!==u||g!=="all"&&k.tier!==g)),N=k=>{const D={active:"bg-green-100 text-green-700",stopped:"bg-yellow-100 text-yellow-700",completed:"bg-gray-100 text-gray-700"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${D[k||""]||"bg-gray-100 text-gray-700"}`,children:k||"unknown"})},E=k=>{if(!k)return t.jsx("span",{className:"text-gray-400",children:"-"});const D={economy:"bg-gray-100 text-gray-600",professional:"bg-orange-100 text-orange-600",expert:"bg-[#ff4d00]/10 text-[#ff4d00]"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${D[k]||"bg-gray-100 text-gray-600"}`,children:k})};return i?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):c?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),c,t.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vu,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filters:"})]}),t.jsxs("select",{value:u,onChange:k=>m(k.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"stopped",children:"Stopped"}),t.jsx("option",{value:"completed",children:"Completed"})]}),t.jsxs("select",{value:g,onChange:k=>b(k.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Tiers"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]}),t.jsx("div",{className:"flex-1"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[T.length," projects"]})]})}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:T.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No projects found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits Sent"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Target"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Created"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Expires"}),t.jsx("th",{className:"px-6 py-3"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:T.map(k=>{var D,P,L;return t.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>e(k.id),children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"font-bold text-gray-900",children:k.name})}),t.jsx("td",{className:"px-6 py-4",children:N(k.status)}),t.jsx("td",{className:"px-6 py-4",children:E(k.tier)}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:(D=k.customTarget)!=null&&D.totalVisitors?k.customTarget.totalVisitors.toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:(P=k.customTarget)!=null&&P.dailyLimit?`${k.customTarget.dailyLimit.toLocaleString()}/day`:"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500 font-mono",children:((L=k.createdAt)==null?void 0:L.split("T")[0])||"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500 font-mono",children:k.expires||"-"}),t.jsx("td",{className:"px-6 py-4",children:t.jsx(vc,{size:16,className:"text-gray-400"})})]},k.id)})})]})})]})},DL=({userId:n})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(null),[f,u]=w.useState(null),[m,g]=w.useState(""),[b,v]=w.useState("all");w.useEffect(()=>{T()},[n]);const T=async()=>{i(!0),c(null);try{const D=await q.getUserTickets(n);s(D)}catch(D){console.error("Failed to load tickets:",D),c("Failed to load tickets.")}i(!1)},N=e.filter(D=>!(b!=="all"&&D.status!==b)),E=D=>{const P={open:"bg-green-100 text-green-700","in-progress":"bg-blue-100 text-blue-700",closed:"bg-gray-100 text-gray-700"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${P[D||""]||"bg-gray-100 text-gray-700"}`,children:D||"open"})},k=D=>{const P={low:"bg-gray-100 text-gray-600",medium:"bg-yellow-100 text-yellow-700",high:"bg-red-100 text-red-700"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${P[D||""]||"bg-gray-100 text-gray-600"}`,children:D||"low"})};return r?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):l?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),l,t.jsx("button",{onClick:T,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filter:"}),t.jsxs("select",{value:b,onChange:D=>v(D.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"open",children:"Open"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"closed",children:"Closed"})]}),t.jsx("div",{className:"flex-1"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[N.length," tickets"]})]})}),t.jsx("div",{className:"space-y-4",children:N.length===0?t.jsx("div",{className:"bg-white border border-gray-200 p-8 text-center text-gray-400",children:"No tickets found"}):N.map(D=>t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50",onClick:()=>u(f===D.id?null:D.id),children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Mr,{size:16,className:"text-gray-400"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-gray-900",children:D.subject}),t.jsxs("div",{className:"text-xs text-gray-400",children:["Created: ",D.date]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[k(D.priority),E(D.status),f===D.id?t.jsx(bu,{size:16}):t.jsx(qa,{size:16})]})]}),f===D.id&&t.jsxs("div",{className:"border-t border-gray-100",children:[t.jsx("div",{className:"p-4 max-h-96 overflow-y-auto space-y-4",children:D.messages&&D.messages.length>0?D.messages.map((P,L)=>t.jsxs("div",{className:`p-3 rounded ${P.sender==="admin"?"bg-blue-50 ml-8":"bg-gray-50 mr-8"}`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:`text-[10px] font-bold uppercase ${P.sender==="admin"?"text-blue-600":"text-gray-600"}`,children:P.sender==="admin"?"Support":"User"}),t.jsx("span",{className:"text-[10px] text-gray-400",children:P.date})]}),t.jsx("div",{className:"text-sm text-gray-700",children:P.text})]},L)):t.jsx("div",{className:"text-center text-gray-400 text-sm",children:"No messages yet"})}),D.status!=="closed"&&t.jsxs("div",{className:"p-4 border-t border-gray-100 flex gap-2",children:[t.jsx("input",{type:"text",value:m,onChange:P=>g(P.target.value),placeholder:"Type your reply...",className:"flex-1 p-3 border border-gray-200 text-sm"}),t.jsx("button",{className:"px-4 py-2 bg-[#ff4d00] text-white text-xs font-bold uppercase hover:bg-orange-700",children:t.jsx(qd,{size:14})})]})]})]},D.id))})]})},OL=({userId:n,onUpdate:e})=>{const[s,r]=w.useState([]),[i,l]=w.useState([]),[c,f]=w.useState([]),[u,m]=w.useState(!0),[g,b]=w.useState(null);w.useEffect(()=>{v()},[n]);const v=async()=>{m(!0),b(null);try{const[N,E,k]=await Promise.all([q.getUserSessions(n),q.getImpersonationLog(n),q.getBalanceAdjustments(n)]);r(N),l(E),f(k)}catch(N){console.error("Failed to load security data:",N),b("Failed to load security data.")}m(!1)},T=async N=>{if(confirm("Terminate this session? User will be logged out."))try{await q.terminateUserSession(n,N),v()}catch{alert("Failed to terminate session")}};return u?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):g?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),g,t.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx($d,{size:14})," Active Sessions"]}),t.jsxs("span",{className:"text-xs text-gray-400",children:[s.length," active"]})]}),s.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No active sessions"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"IP Address"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Device"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Location"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Last Activity"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Expires"}),t.jsx("th",{className:"px-6 py-3"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:s.map(N=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-900",children:N.ipAddress||"Unknown"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 truncate max-w-[200px]",children:N.userAgent?N.userAgent.substring(0,50)+"...":"Unknown"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600",children:N.location||"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:N.lastActivity?new Date(N.lastActivity).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:N.expiresAt?new Date(N.expiresAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{onClick:()=>T(N.id),className:"text-red-500 hover:text-red-700",title:"Terminate Session",children:t.jsx(wc,{size:14})})})]},N.id))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(zr,{size:14})," Impersonation Log"]})}),i.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No impersonation history"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Admin"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Action"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"IP Address"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:i.map(N=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:N.createdAt?new Date(N.createdAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-900",children:N.adminEmail||N.adminId}),t.jsx("td",{className:"px-6 py-4 text-xs",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${N.action==="start"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:N.action})}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:N.ipAddress||"-"})]},N.id))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Bd,{size:14})," Balance Adjustment History"]})}),c.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No balance adjustments"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Admin"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Reason"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:c.map(N=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:N.createdAt?new Date(N.createdAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-900",children:N.adminEmail||"System"}),t.jsx("td",{className:"px-6 py-4 text-xs",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${N.adjustmentType==="credit"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:N.adjustmentType})}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 uppercase",children:N.tier||"-"}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:N.hits?`${N.adjustmentType==="credit"?"+":"-"}${N.hits.toLocaleString()}`:"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600",children:N.reason||"-"})]},N.id))})]})]})]})},ML={login:{label:"Login",icon:"",color:"bg-green-50"},logout:{label:"Logout",icon:"",color:"bg-gray-50"},project_created:{label:"Project Created",icon:"",color:"bg-blue-50"},project_started:{label:"Project Started",icon:"",color:"bg-green-50"},project_stopped:{label:"Project Stopped",icon:"",color:"bg-yellow-50"},project_deleted:{label:"Project Deleted",icon:"",color:"bg-red-50"},purchase:{label:"Purchase",icon:"",color:"bg-green-50"},balance_adjusted:{label:"Balance Adjusted",icon:"",color:"bg-orange-50"},api_key_regenerated:{label:"API Key Regenerated",icon:"",color:"bg-purple-50"},settings_change:{label:"Settings Changed",icon:"",color:"bg-gray-50"},password_change:{label:"Password Changed",icon:"",color:"bg-blue-50"},ticket_created:{label:"Ticket Created",icon:"",color:"bg-indigo-50"},ticket_reply:{label:"Ticket Reply",icon:"",color:"bg-indigo-50"},impersonation_start:{label:"Impersonation Started",icon:"",color:"bg-red-50"},impersonation_end:{label:"Impersonation Ended",icon:"",color:"bg-red-50"}},LL=({userId:n})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(null),[f,u]=w.useState("all"),[m,g]=w.useState(null);w.useEffect(()=>{b()},[n]);const b=async()=>{i(!0),c(null);try{const E=await q.getUserActivity(n,100,0,f!=="all"?f:void 0);s(E)}catch(E){console.error("Failed to load activities:",E),c("Failed to load activities.")}i(!1)};w.useEffect(()=>{b()},[f]);const v=e,T=E=>ML[E]||{label:E,icon:"",color:"bg-gray-50"},N=Array.from(new Set(e.map(E=>E.actionType)));return r?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):l?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),l,t.jsx("button",{onClick:b,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vu,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filter:"})]}),t.jsxs("select",{value:f,onChange:E=>u(E.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Activities"}),N.map(E=>t.jsx("option",{value:E,children:T(E).label},E))]}),t.jsx("div",{className:"flex-1"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[v.length," activities"]})]})}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm",children:v.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No activity recorded yet"}):t.jsx("div",{className:"divide-y divide-gray-50",children:v.map(E=>{const k=T(E.actionType);return t.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>g(m===E.id?null:E.id),children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg ${k.color}`,children:k.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-bold text-gray-900",children:k.label}),t.jsx("span",{className:"ml-2 text-xs text-gray-400",children:E.createdAt?new Date(E.createdAt).toLocaleString():""})]}),m===E.id?t.jsx(bu,{size:16,className:"text-gray-400"}):t.jsx(qa,{size:16,className:"text-gray-400"})]}),E.ipAddress&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["IP: ",E.ipAddress]}),m===E.id&&E.actionDetail&&Object.keys(E.actionDetail).length>0&&t.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded text-xs",children:[t.jsx("div",{className:"font-bold text-gray-500 mb-1",children:"Details:"}),t.jsx("pre",{className:"text-gray-600 whitespace-pre-wrap",children:JSON.stringify(E.actionDetail,null,2)})]}),m===E.id&&E.userAgent&&t.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded text-xs",children:[t.jsx("div",{className:"font-bold text-gray-500 mb-1",children:"User Agent:"}),t.jsx("div",{className:"text-gray-600 truncate",children:E.userAgent})]})]})]})},E.id)})})})]})},zL=({userId:n,onUpdate:e})=>{const[s,r]=w.useState(!0),[i,l]=w.useState(null),[c,f]=w.useState(null),[u,m]=w.useState(""),[g,b]=w.useState(""),[v,T]=w.useState("user"),[N,E]=w.useState("active"),[k,D]=w.useState("free"),[P,L]=w.useState(""),[V,$]=w.useState(!1),[Q,_]=w.useState(!1),[A,I]=w.useState(!1);w.useEffect(()=>{z()},[n]);const z=async()=>{r(!0),l(null);try{const F=await q.getUserDetails(n);if(F&&F.user){const R=F.user;f(R),m(R.email||""),b(R.name||""),T(R.role||"user"),E(R.status||"active"),D(R.plan||"free"),$(R.isVerified||!1)}}catch(F){console.error("Failed to load user profile:",F),l("Failed to load user profile.")}r(!1)},O=async()=>{I(!0);try{const F={email:u,name:g,role:v,status:N,plan:k,is_verified:V};P&&(F.password=P),await q.adminUpdateUser(n,F),L(""),e&&e(),alert("Profile updated successfully")}catch(F){console.error("Failed to update profile:",F),alert("Failed to update profile")}I(!1)};return s?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading profile..."}):i?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),i,t.jsx("button",{onClick:z,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsx("div",{className:"space-y-6 max-w-4xl",children:t.jsxs("div",{className:"bg-white border boundary-gray-200 p-6 shadow-sm rounded-lg",children:[t.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[t.jsx("span",{className:"text-[#ff4d00]",children:""})," User Profile"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"User ID"}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("input",{type:"text",value:n,readOnly:!0,className:"w-full bg-gray-50 border border-gray-200 p-2 text-sm text-gray-500 font-mono"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Email Address"}),t.jsx("input",{type:"email",value:u,onChange:F=>m(F.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Display Name"}),t.jsx("input",{type:"text",value:g,onChange:F=>b(F.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Role"}),t.jsxs("select",{value:v,onChange:F=>T(F.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Admin"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Account Status"}),t.jsxs("select",{value:N,onChange:F=>E(F.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"suspended",children:"Suspended"}),t.jsx("option",{value:"banned",children:"Banned"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subscription Plan"}),t.jsxs("select",{value:k,onChange:F=>D(F.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"free",children:"Free"}),t.jsx("option",{value:"pro",children:"Pro"}),t.jsx("option",{value:"agency",children:"Agency"})]})]}),t.jsx("div",{className:"flex items-center mt-6",children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:V,onChange:F=>$(F.target.checked),className:"w-4 h-4 text-[#ff4d00] focus:ring-[#ff4d00] border-gray-300 rounded"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Email Verified"})]})}),t.jsxs("div",{className:"col-span-2 border-t border-gray-100 pt-6 mt-2",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2",children:" Password Management"}),t.jsxs("div",{className:"bg-orange-50 p-4 rounded border border-orange-100",children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Set New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:Q?"text":"password",value:P,onChange:F=>L(F.target.value),placeholder:"Enter new password to change...",className:"w-full border border-gray-300 p-2 pr-10 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none"}),t.jsx("button",{type:"button",onClick:()=>_(!Q),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:Q?t.jsx(h4,{size:16}):t.jsx(Yf,{size:16})})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Leave blank to keep current password. Providing a value will update the password immediately upon save."})]})]})]}),t.jsx("div",{className:"mt-8 flex justify-end",children:t.jsxs("button",{onClick:O,disabled:A,className:"bg-[#ff4d00] text-white px-6 py-3 text-sm font-bold uppercase tracking-wider hover:bg-[#e64500] transition-colors flex items-center gap-2 disabled:opacity-50",children:[A?t.jsx(ko,{className:"animate-spin",size:16}):t.jsx(Ha,{size:16}),"Save Profile"]})})]})})},VL=({userId:n,onUpdate:e})=>{const[s,r]=w.useState(null),[i,l]=w.useState([]),[c,f]=w.useState(!0),[u,m]=w.useState(!1),[g,b]=w.useState("economy"),[v,T]=w.useState("credit"),[N,E]=w.useState(""),[k,D]=w.useState(""),[P,L]=w.useState(""),[V,$]=w.useState(null);w.useEffect(()=>{Q()},[n]);const Q=async()=>{f(!0);try{const[F,R]=await Promise.all([q.getUserDetails(n),q.getBalanceAdjustments(n)]);r(F),l(R)}catch(F){console.error("Failed to load credits data:",F)}f(!1)},_=async()=>{if(!N||parseInt(N)<=0){$("Please enter a valid hit count");return}if(!k.trim()){$("Please provide a reason");return}m(!0),$(null);try{await q.adjustUserBalance(n,{adjustmentType:v,tier:g,amount:0,hits:parseInt(N),reason:k.trim(),notes:P.trim()||void 0}),E(""),D(""),L(""),await Q(),e()}catch(F){$(F.message||"Failed to adjust balance. Please try again.")}m(!1)};if(c)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."});if(!s)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No user details found."});const{tierBalances:A}=s,I=F=>{switch(F){case"economy":return t.jsx(ca,{size:16,className:"text-gray-400"});case"professional":return t.jsx(wf,{size:16,className:"text-orange-500"});case"expert":return t.jsx(Yt,{size:16,className:"text-[#ff4d00]"});default:return null}},z=F=>{switch(F){case"economy":return"Economy";case"professional":return"Professional";case"expert":return"Expert";default:return F}},O=F=>{switch(F){case"economy":return"border-gray-200";case"professional":return"border-orange-200";case"expert":return"border-[#ff4d00]/30 bg-[#111]";default:return"border-gray-200"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"grid grid-cols-3 gap-4",children:["economy","professional","expert"].map(F=>t.jsxs("div",{className:`bg-white border ${O(F)} p-6 shadow-sm `,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[I(F),t.jsx("span",{className:`text-xs font-bold uppercase ${F==="expert"?"text-[#ff4d00]":F==="professional"?"text-orange-500":"text-gray-400"}`,children:z(F)})]}),t.jsx("div",{className:`text-2xl font-black ${F==="expert"?"text-white":"text-gray-900"}`,children:A[F].toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]},F))}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-4 flex items-center gap-2",children:[v==="credit"?t.jsx(Lr,{size:14}):t.jsx(Z2,{size:14}),"Adjust Balance"]}),V&&t.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 text-xs flex items-center gap-2",children:[t.jsx(Lo,{size:14}),V]}),t.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Tier"}),t.jsxs("select",{value:g,onChange:F=>b(F.target.value),className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none",children:[t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Operation"}),t.jsxs("select",{value:v,onChange:F=>T(F.target.value),className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none",children:[t.jsx("option",{value:"credit",children:"Add"}),t.jsx("option",{value:"debit",children:"Remove"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Hits"}),t.jsx("input",{type:"number",value:N,onChange:F=>E(F.target.value),placeholder:"10000",min:"1",className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none"})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Reason *"}),t.jsx("input",{type:"text",value:k,onChange:F=>D(F.target.value),placeholder:"Compensation for bug",className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none"})]}),t.jsx("div",{className:"flex items-end",children:t.jsxs("button",{onClick:_,disabled:u,className:`w-full py-2 text-white text-xs font-bold uppercase transition-colors flex items-center justify-center gap-2
                                ${v==="credit"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} ${u?"opacity-50 cursor-not-allowed":""}`,children:[u?t.jsx(ko,{size:14,className:"animate-spin"}):v==="credit"?t.jsx(Lr,{size:14}):t.jsx(Z2,{size:14}),v==="credit"?"Add Hits":"Remove Hits"]})})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Notes (optional)"}),t.jsx("input",{type:"text",value:P,onChange:F=>L(F.target.value),placeholder:"Additional details about this adjustment...",className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(m4,{size:14})," Adjustment History"]}),t.jsxs("span",{className:"text-xs text-gray-400",children:[i.length," records"]})]}),i.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No adjustments yet"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-right",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Reason"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Admin"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:i.map(F=>{var R;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:F.createdAt?new Date(F.createdAt).toLocaleDateString():"-"}),t.jsx("td",{className:"px-6 py-3 text-xs",children:t.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase rounded ${F.adjustmentType==="credit"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:F.adjustmentType==="credit"?"Added":"Removed"})}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:F.tier||"-"}),t.jsxs("td",{className:`px-6 py-3 text-xs font-bold text-right ${F.adjustmentType==="credit"?"text-green-600":"text-red-600"}`,children:[F.adjustmentType==="credit"?"+":"-",((R=F.hits)==null?void 0:R.toLocaleString())||"0"]}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-900 max-w-[200px] truncate",children:F.reason||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-500",children:F.adminEmail||"-"})]},F.id)})})]})]})]})},UL=[{id:"overview",label:"Overview",icon:t.jsx(qn,{size:16})},{id:"profile",label:"Profile",icon:t.jsx(qn,{size:16})},{id:"credits",label:"Credits",icon:t.jsx(TD,{size:16})},{id:"transactions",label:"Transactions",icon:t.jsx(cn,{size:16})},{id:"projects",label:"Projects",icon:t.jsx(QD,{size:16})},{id:"tickets",label:"Tickets",icon:t.jsx(SM,{size:16})},{id:"security",label:"Security",icon:t.jsx(zr,{size:16})},{id:"activity",label:"Activity",icon:t.jsx(Pr,{size:16})}],FL=({userId:n,onBack:e,onUpdate:s})=>{const[r,i]=w.useState(null),[l,c]=w.useState("overview"),[f,u]=w.useState(!0);w.useEffect(()=>{m()},[n]);const m=async()=>{u(!0);try{const v=await q.getUserDetails(n);v&&v.user&&i(v.user)}catch(v){console.error(v)}u(!1)},g=v=>{window.location.href=`/admin/projects/edit/${v}`},b=async()=>{if(r)try{await q.startImpersonation(r.id),window.location.href="/dashboard"}catch(v){console.error("Failed to impersonate",v),alert("Failed to start impersonation session. Please try again.")}};return f?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading user details..."}):r?t.jsxs("div",{className:"animate-in fade-in space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-[#ff4d00] text-xs font-bold uppercase tracking-wide transition-colors",children:[t.jsx(Hn,{size:14})," Back to Users"]}),t.jsx("div",{className:"flex items-center gap-2"})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm flex items-center justify-between rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-5",children:[t.jsx("div",{className:"w-14 h-14 bg-[#ff4d00] rounded-full flex items-center justify-center shadow-md",children:t.jsx("span",{className:"font-black text-white text-xl",children:r.name?r.name.charAt(0).toUpperCase():r.email.charAt(0).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-gray-900 text-xl",children:r.name||"Unnamed User"}),t.jsx("div",{className:"text-sm text-gray-500 font-mono",children:r.email}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase rounded border ${r.status==="active"?"bg-green-50 text-green-600 border-green-200":"bg-red-50 text-red-600 border-red-200"}`,children:r.status}),t.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase rounded border ${r.role==="admin"?"bg-purple-50 text-purple-600 border-purple-200":"bg-gray-50 text-gray-600 border-gray-200"}`,children:r.role}),t.jsxs("span",{className:"px-2 py-0.5 text-[10px] font-bold uppercase rounded border bg-blue-50 text-blue-600 border-blue-200",children:[r.plan," Plan"]})]})]})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-5 py-2.5 bg-black text-white text-xs font-bold uppercase hover:bg-gray-800 transition-colors border border-black shadow-sm",children:[t.jsx(x4,{size:14})," Login As User"]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-lg overflow-hidden",children:[t.jsx("div",{className:"flex overflow-x-auto border-b border-gray-100",children:UL.map(v=>t.jsxs("button",{onClick:()=>c(v.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-bold uppercase tracking-wider border-b-2 transition-all whitespace-nowrap
                                ${l===v.id?"border-[#ff4d00] text-[#ff4d00] bg-orange-50/50":"border-transparent text-gray-500 hover:text-gray-900 hover:bg-gray-50"}`,children:[t.jsx("span",{className:l===v.id?"text-[#ff4d00]":"text-gray-400",children:v.icon}),t.jsx("span",{children:v.label})]},v.id))}),t.jsx("div",{className:"p-6 bg-gray-50/30 min-h-[400px]",children:t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300",children:[l==="overview"&&t.jsx(IL,{userId:n,onNavigateToProject:g,onUpdate:s}),l==="profile"&&t.jsx(zL,{userId:n,onUpdate:()=>{m(),s()}}),l==="credits"&&t.jsx(VL,{userId:n,onUpdate:s}),l==="transactions"&&t.jsx(RL,{userId:n}),l==="projects"&&t.jsx(PL,{userId:n,onNavigateToProject:g}),l==="tickets"&&t.jsx(DL,{userId:n}),l==="security"&&t.jsx(OL,{userId:n,onUpdate:s}),l==="activity"&&t.jsx(LL,{userId:n})]})})]})]}):t.jsx("div",{className:"p-8 text-center text-red-500",children:"User not found"})},BL=({projectId:n,onBack:e,onUpdate:s})=>{const[r,i]=w.useState(null),[l,c]=w.useState(!1),[f,u]=w.useState(!0);if(w.useEffect(()=>{u(!0);const v=q.getProjectById(n);if(v){const T=JSON.parse(JSON.stringify(v));T.settings||(T.settings={bounceRate:0,returnRate:0,deviceSplit:70,deviceSpecific:"All",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:["United States"],geoTargets:[{id:"default-geo",country:"United States",percent:100}],trafficSource:"organic",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0,adminPriority:0,adminWeight:1,forceStopReason:""}),T.settings.languages||(T.settings.languages=[T.settings.language||"en-US"]),T.settings.countries||(T.settings.countries=["United States"]),i(T)}u(!1)},[n]),f)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"text-gray-500",children:"Loading project..."})});if(!r||!r.settings)return t.jsx("div",{children:"Project not found."});const m=()=>{r&&(c(!0),setTimeout(()=>{q.updateProject(r),c(!1),s(),alert("Project configuration saved successfully.")},500))},g=(v,T)=>{!r||!r.settings||i({...r,settings:{...r.settings,[v]:T}})};if(!r||!r.settings)return t.jsx("div",{children:"Project not found."});const b=r.settings;return t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6 pb-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-[#f3f4f6] z-10 py-4 border-b border-gray-200",children:[t.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[t.jsx(Hn,{size:14})," Back to Projects"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Editing Campaign"}),t.jsx("div",{className:"text-sm font-black text-gray-900",children:r.name})]}),t.jsxs("button",{onClick:m,disabled:l,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 shadow-lg disabled:opacity-70 disabled:cursor-not-allowed",children:[t.jsx(Ha,{size:14})," ",l?"Saving...":"Save All Changes"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(ec,{size:14})," Core Configuration"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Project Name"}),t.jsx("input",{value:r.name,onChange:v=>i({...r,name:v.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Target URL (Entry)"}),t.jsx("input",{value:b.entryUrls,onChange:v=>g("entryUrls",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Plan Tier"}),t.jsx(zs,{value:r.plan,onChange:v=>i({...r,plan:v}),options:[{value:"Free Trial",label:"Free Trial"},{value:"Starter",label:"Starter"},{value:"Growth",label:"Growth"},{value:"Agency",label:"Agency"}]})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Status"}),t.jsx(zs,{value:r.status,onChange:v=>i({...r,status:v}),options:[{value:"active",label:"Active"},{value:"stopped",label:"Stopped"},{value:"completed",label:"Completed"},{value:"archived",label:"Archived (Admin)"}]})]})]}),r.status==="stopped"&&t.jsxs("div",{className:"bg-red-50 border border-red-100 p-4",children:[t.jsx(Vt,{children:"Force Stop Reason (Visible to User)"}),t.jsx("input",{value:b.forceStopReason||"",onChange:v=>g("forceStopReason",v.target.value),className:"w-full bg-white border border-red-200 p-3 text-sm font-medium text-red-900 outline-none focus:border-red-500 placeholder-red-300",placeholder:"e.g. Violation of TOS, Payment Failed..."})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 border-l-4 border-l-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Pr,{size:12,className:"text-gray-500"}),t.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-gray-500",children:"Admin Controls"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Queue Priority (-10 to 10)"}),t.jsx("input",{type:"number",min:"-10",max:"10",value:b.adminPriority||0,onChange:v=>g("adminPriority",parseInt(v.target.value)),className:"w-full bg-white border border-gray-200 p-2 text-sm font-bold text-gray-900 outline-none focus:border-gray-500"}),t.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Higher = processed first."})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Traffic Weight (0.1 - 5.0)"}),t.jsx("input",{type:"number",step:"0.1",min:"0.1",max:"5.0",value:b.adminWeight||1,onChange:v=>g("adminWeight",parseFloat(v.target.value)),className:"w-full bg-white border border-gray-200 p-2 text-sm font-bold text-gray-900 outline-none focus:border-gray-500"}),t.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Multiplier for resource allocation."})]})]})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Expiration Date"}),t.jsx("input",{value:r.expires,onChange:v=>i({...r,expires:v.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"YYYY-MM-DD"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Google Analytics ID"}),t.jsx("input",{value:b.gaId,onChange:v=>g("gaId",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"G-XXXXXXXXXX"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Pr,{size:14})," Visitor Behavior"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Bounce Rate (%)"}),t.jsx("input",{type:"number",value:b.bounceRate,onChange:v=>g("bounceRate",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Return Rate (%)"}),t.jsx("input",{type:"number",value:b.returnRate,onChange:v=>g("returnRate",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Time On Page"}),t.jsx(zs,{value:b.timeOnPage,onChange:v=>g("timeOnPage",v),options:[{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"3 minutes",label:"3 minutes"},{value:"5 minutes",label:"5 minutes"}]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-end mb-2",children:[t.jsx(Vt,{children:"Device Split"}),t.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase flex gap-3",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx($d,{size:10})," Desktop: ",b.deviceSplit,"%"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ax,{size:10})," Mobile: ",100-b.deviceSplit,"%"]})]})]}),t.jsx("input",{type:"range",min:"0",max:"100",value:b.deviceSplit,onChange:v=>g("deviceSplit",parseInt(v.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(zo,{size:14})," Geolocation & Tech"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Countries"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:b.countries.map(v=>t.jsxs("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 text-xs font-bold uppercase rounded-sm flex items-center gap-2",children:[v," ",t.jsx("button",{onClick:()=>g("countries",b.countries.filter(T=>T!==v)),className:"hover:text-red-500",children:""})]},v))}),t.jsx(zs,{value:"",onChange:v=>{v&&!b.countries.includes(v)&&g("countries",[...b.countries,v])},placeholder:"Add Country...",options:[{value:"United States",label:"United States"},{value:"United Kingdom",label:"United Kingdom"},{value:"Germany",label:"Germany"},{value:"France",label:"France"},{value:"Canada",label:"Canada"},{value:"India",label:"India"},{value:"Brazil",label:"Brazil"}]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Browser Language"}),t.jsx("input",{value:b.languages.join(", "),onChange:v=>g("languages",v.target.value.split(", ")),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Timezone"}),t.jsx(zs,{value:b.timezone,onChange:v=>g("timezone",v),options:[{value:"UTC",label:"UTC"},{value:"EST",label:"EST"},{value:"PST",label:"PST"},{value:"CET",label:"CET"}]})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Si,{size:14})," Advanced Interactions"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Traffic Source Type"}),t.jsx(zs,{value:b.trafficSource,onChange:v=>g("trafficSource",v),options:[{value:"organic",label:"Organic (Search)"},{value:"direct",label:"Direct"},{value:"social",label:"Social"}]})]}),b.trafficSource==="organic"&&t.jsxs("div",{children:[t.jsx(Vt,{children:"Keywords (One per line)"}),t.jsx("textarea",{value:b.keywords,onChange:v=>g("keywords",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Inner URLs Count"}),t.jsx("input",{type:"number",value:b.innerUrlCount,onChange:v=>g("innerUrlCount",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Scroll Events (%)"}),t.jsx("input",{type:"number",value:b.pageViewsWithScroll,onChange:v=>g("pageViewsWithScroll",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Internal Clicks"}),t.jsx("input",{type:"number",value:b.clickInternal,onChange:v=>g("clickInternal",parseInt(v.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Inner URLs (CSV)"}),t.jsx("input",{value:b.innerUrls,onChange:v=>g("innerUrls",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-600 outline-none focus:border-[#ff4d00]",placeholder:"http://..., http://..."})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(ec,{size:14})," UTM & Attribution"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(Vt,{children:"Campaign Source"}),t.jsx("input",{value:b.utmSource||"",onChange:v=>g("utmSource",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. google"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Campaign Medium"}),t.jsx("input",{value:b.utmMedium||"",onChange:v=>g("utmMedium",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. cpc"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Campaign Name"}),t.jsx("input",{value:b.utmCampaign||"",onChange:v=>g("utmCampaign",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. winter_sale"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Campaign Term"}),t.jsx("input",{value:b.utmTerm||"",onChange:v=>g("utmTerm",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. running_shoes"})]}),t.jsxs("div",{children:[t.jsx(Vt,{children:"Campaign Content"}),t.jsx("input",{value:b.utmContent||"",onChange:v=>g("utmContent",v.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. banner_wide"})]})]}),t.jsxs("p",{className:"mt-4 text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:["Supports: ","{{random_keyword}}, {{timestamp}}, {{device_type}}"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm lg:col-span-2",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Yt,{size:14})," System Features"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(xd,{label:"Auto Renew",checked:b.autoRenew,onChange:v=>g("autoRenew",v)}),t.jsx(xd,{label:"Cache Website",checked:b.cacheWebsite,onChange:v=>g("cacheWebsite",v)}),t.jsx(xd,{label:"Minimize CPU",checked:b.minimizeCpu,onChange:v=>g("minimizeCpu",v)}),t.jsx(xd,{label:"Anti-Fingerprint",checked:b.antiFingerprint,onChange:v=>g("antiFingerprint",v)}),t.jsx(xd,{label:"Randomize Session",checked:b.randomizeSession,onChange:v=>g("randomizeSession",v)}),t.jsx(xd,{label:"Auto Crawl",checked:b.autoCrawlEntry,onChange:v=>g("autoCrawlEntry",v)})]})]})]})]})},Vt=({children:n})=>t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:n}),xd=({label:n,checked:e,onChange:s})=>t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:n}),t.jsx("button",{onClick:()=>s(!e),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${e?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${e?"translate-x-5":"translate-x-0"}`})})]}),$L=({trxId:n,onBack:e,onUpdate:s})=>{const[r,i]=w.useState(null);w.useEffect(()=>{(async()=>{await q.syncAllTransactions();const u=q.getAllTransactionsAdmin().find(m=>m.id===n);i(u||null)})()},[n]);const l=async()=>{if(r)try{await q.updateTransaction(r),s(),alert("Transaction updated.")}catch(c){alert("Error: "+c.message)}};return r?t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[t.jsx(Hn,{size:14})," Back to Transactions"]}),t.jsxs("button",{onClick:l,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(Ha,{size:14})," Save Changes"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm max-w-3xl mx-auto",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8",children:["Edit Transaction: ",r.id]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Description"}),t.jsx("input",{value:r.desc,onChange:c=>i({...r,desc:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Amount ()"}),t.jsx("input",{type:"number",value:r.amount,onChange:c=>i({...r,amount:parseFloat(c.target.value)||0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Type"}),t.jsxs("select",{value:r.type,onChange:c=>i({...r,type:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"credit",children:"Credit (+)"}),t.jsx("option",{value:"debit",children:"Debit (-)"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Status"}),t.jsxs("select",{value:r.status,onChange:c=>i({...r,status:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"failed",children:"Failed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Date"}),t.jsx("input",{value:r.date,onChange:c=>i({...r,date:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Balance Tier"}),t.jsxs("select",{value:r.tier||"",onChange:c=>i({...r,tier:c.target.value||void 0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"",children:"General"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Reference"}),t.jsx("input",{value:r.reference||"",onChange:c=>i({...r,reference:c.target.value||void 0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"TGP-XXXXXXXX-XXXXXX"})]})]})]})]})]}):t.jsx("div",{children:"Transaction not found."})},qL={bounceRate:0,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:["United States"],geoTargets:[{id:"default-geo",country:"United States",percent:100}],trafficSource:"organic",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,urlVisitOrder:"random",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0},HL=({onBack:n,onSuccess:e})=>{const[s,r]=w.useState(""),[i,l]=w.useState(""),[c,f]=w.useState(1e3),[u,m]=w.useState(7),[g,b]=w.useState({...qL}),[v,T]=w.useState(!1),[N,E]=w.useState(null),[k,D]=w.useState(!1),[P,L]=w.useState("idle"),[V,$]=w.useState([]),[Q,_]=w.useState(""),[A,I]=w.useState("");De.useEffect(()=>{(async()=>{const he=await q.syncUsers();$(he);const W=q.getCurrentUser();W&&_(W.id)})()},[]);const z=Math.round(c/u),O=(U,he)=>{b(W=>({...W,[U]:he}))},F=async()=>{if(!i){E("Please enter a target URL first");return}D(!0),L("idle");try{const U=await q.scanGA4(i);U?(O("gaId",U),L("success")):L("error")}catch{L("error")}finally{D(!1)}},R=async()=>{var U;if(!s||!i){E("Please enter a project name and target URL");return}if(c<100||u<1){E("Minimum 100 visitors and 1 day required");return}T(!0),E(null);try{const he={...g,entryUrls:i},W={id:"proj_"+Date.now(),userId:Q||((U=q.getCurrentUser())==null?void 0:U.id)||"admin",name:s,plan:"Custom",customTarget:{totalVisitors:c,durationDays:u,dailyLimit:z},expires:"Never",status:"active",settings:he,stats:[]};await q.addProject(W),e(),n()}catch(he){E(he.message||"Failed to create project")}finally{T(!1)}};return t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6 pb-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-[#f3f4f6] z-10 py-4 border-b border-gray-200",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[t.jsx(Hn,{size:14})," Back to Projects"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"New Campaign"}),t.jsx("div",{className:"text-sm font-black text-gray-900",children:"Create Project"})]}),t.jsxs("button",{onClick:R,disabled:v,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(Ha,{size:14})," ",v?"Creating...":"Create Project"]})]})]}),N&&t.jsx("div",{className:"bg-red-50 border border-red-200 p-4 text-red-700 text-sm font-bold",children:N}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(ec,{size:14})," Core Configuration"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Project Name"}),t.jsx("input",{value:s,onChange:U=>r(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"My Traffic Campaign"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Project Owner (User)"}),t.jsxs("div",{className:"relative",children:[t.jsx(qn,{className:"absolute left-3 top-3 text-gray-400",size:16}),t.jsxs("select",{value:Q,onChange:U=>_(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00] appearance-none",children:[t.jsx("option",{value:"",children:"Select a User..."}),V.map(U=>t.jsxs("option",{value:U.id,children:[U.name," (",U.email,") - ",U.role]},U.id))]})]})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Target URL (Entry)"}),t.jsx("input",{value:i,onChange:U=>l(U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://example.com"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Total Visitors"}),t.jsx("input",{type:"number",min:"100",value:c,onChange:U=>f(parseInt(U.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"1000"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Duration (Days)"}),t.jsx("input",{type:"number",min:"1",value:u,onChange:U=>m(parseInt(U.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Daily Visitors"}),t.jsxs("div",{className:"w-full bg-[#f3f4f6] border border-gray-200 p-3 text-sm font-bold text-[#ff4d00]",children:[z.toLocaleString()," /day"]})]})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Google Analytics ID"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("input",{value:g.gaId,onChange:U=>O("gaId",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"G-XXXXXXXXXX"}),P==="success"&&t.jsx(yt,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-500"}),P==="error"&&t.jsx(Lo,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-500"})]}),t.jsxs("button",{onClick:F,disabled:k||!i,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 text-xs font-bold uppercase tracking-wide flex items-center gap-2 transition-colors disabled:opacity-50",title:"Auto-detect GA ID from website",children:[k?t.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):t.jsx(Gn,{size:14}),"Detect"]})]}),P==="error"&&t.jsx("p",{className:"text-[10px] text-red-500 mt-1",children:"No Google Analytics ID found on this website"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Pr,{size:14})," Visitor Behavior"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Bounce Rate (%)"}),t.jsx("input",{type:"number",value:g.bounceRate,onChange:U=>O("bounceRate",parseInt(U.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Return Rate (%)"}),t.jsx("input",{type:"number",value:g.returnRate,onChange:U=>O("returnRate",parseInt(U.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Time On Page"}),t.jsx(zs,{value:g.timeOnPage,onChange:U=>O("timeOnPage",U),options:[{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"3 minutes",label:"3 minutes"},{value:"5 minutes",label:"5 minutes"}]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(zo,{size:14})," Geolocation"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Countries"}),g.countries.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:g.countries.map(U=>{const he=Gl.find(W=>W.name===U||W.code===U);return t.jsxs("span",{className:"bg-[#ff4d00]/10 text-[#ff4d00] px-2 py-1 text-xs font-bold flex items-center gap-1",children:[he&&t.jsx("img",{src:`https://flagcdn.com/w16/${he.code.toLowerCase()}.png`,alt:U,className:"w-4 h-auto"}),(he==null?void 0:he.name)||U,t.jsx("button",{onClick:()=>O("countries",g.countries.filter(W=>W!==U)),className:"ml-1 hover:text-red-500",children:t.jsx(an,{size:12})})]},U)})}),t.jsxs("div",{className:"relative mb-2",children:[t.jsx(Gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),t.jsx("input",{type:"text",placeholder:"Search countries...",value:A,onChange:U=>I(U.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-200 text-xs outline-none focus:border-[#ff4d00]"}),A&&t.jsx("button",{onClick:()=>I(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t.jsx(an,{size:12})})]}),t.jsx("div",{className:"border border-gray-200 max-h-[150px] overflow-y-auto",children:t.jsx("div",{className:"grid grid-cols-2 gap-px p-1",children:Gl.filter(U=>!g.countries.includes(U.name)&&(A===""||U.name.toLowerCase().includes(A.toLowerCase())||U.code.toLowerCase().includes(A.toLowerCase()))).slice(0,50).map(U=>t.jsxs("button",{onClick:()=>O("countries",[...g.countries,U.name]),className:"p-2 text-left text-xs font-medium flex items-center gap-2 hover:bg-gray-50 transition-colors",children:[t.jsx("img",{src:`https://flagcdn.com/w16/${U.code.toLowerCase()}.png`,alt:U.name,className:"w-4 h-auto"}),t.jsx("span",{className:"truncate",children:U.name})]},U.code))})}),t.jsxs("p",{className:"text-[10px] text-gray-400 mt-1",children:[g.countries.length," countries selected"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Browser Language"}),t.jsx("input",{value:g.languages.join(", "),onChange:U=>O("languages",U.target.value.split(", ")),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Timezone"}),t.jsx(zs,{value:g.timezone,onChange:U=>O("timezone",U),options:k4.slice(0,10)})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Si,{size:14})," Traffic Source"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Traffic Source Type"}),t.jsx(zs,{value:g.trafficSource,onChange:U=>O("trafficSource",U),options:cw.slice(0,15)})]}),g.trafficSource==="organic"&&t.jsxs("div",{children:[t.jsx(Je,{children:"Keywords (One per line)"}),t.jsx("textarea",{value:g.keywords,onChange:U=>O("keywords",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`keyword1
keyword2`})]}),g.trafficSource==="social"&&t.jsxs("div",{children:[t.jsx(Je,{children:"Referral URLs (One per line)"}),t.jsx("textarea",{value:g.referralUrls,onChange:U=>O("referralUrls",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://facebook.com
https://twitter.com`})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(ec,{size:14})," UTM & Attribution"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Campaign Source"}),t.jsx("input",{value:g.utmSource||"",onChange:U=>O("utmSource",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. google"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Campaign Medium"}),t.jsx("input",{value:g.utmMedium||"",onChange:U=>O("utmMedium",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. cpc"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Campaign Name"}),t.jsx("input",{value:g.utmCampaign||"",onChange:U=>O("utmCampaign",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. split_test"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Campaign Term"}),t.jsx("input",{value:g.utmTerm||"",onChange:U=>O("utmTerm",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. keyword"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Campaign Content"}),t.jsx("input",{value:g.utmContent||"",onChange:U=>O("utmContent",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. sidebar_ad"})]})]}),t.jsxs("p",{className:"mt-4 text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:["Supports: ","{{random_keyword}}, {{timestamp}}, {{device_type}}"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(zo,{size:14})," Proxy & Schedule"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Proxy Mode"}),t.jsx(zs,{value:g.proxyMode||"auto",onChange:U=>O("proxyMode",U),options:[{value:"auto",label:"Auto-Rotate"},{value:"sticky",label:"Sticky Session"},{value:"custom",label:"Custom List"}]})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Visit Order"}),t.jsx(zs,{value:g.urlVisitOrder||"random",onChange:U=>O("urlVisitOrder",U),options:[{value:"random",label:"Random"},{value:"sequential",label:"Sequential Funnel"}]})]})]}),g.proxyMode==="custom"&&t.jsxs("div",{children:[t.jsx(Je,{children:"Custom Proxies"}),t.jsx("textarea",{value:g.customProxies,onChange:U=>O("customProxies",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono outline-none focus:border-[#ff4d00] h-20",placeholder:"ip:port:user:pass"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(ax,{size:14})," Device Targeting"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Device Specific"}),t.jsx(zs,{value:g.deviceSpecific,onChange:U=>{U.includes("Mobile")&&O("deviceSplit",0),U.includes("Desktop")&&O("deviceSplit",100),O("deviceSpecific",U)},options:[{value:"All",label:"All Devices"},{value:"Desktop, Windows",label:"Windows Desktop"},{value:"Desktop, Mac",label:"Mac Desktop"},{value:"Mobile, iPhone",label:"iPhone"},{value:"Mobile, Android",label:"Android"}]})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Browser"}),t.jsx(zs,{value:g.browser||"Random",onChange:U=>O("browser",U),options:[{value:"Random",label:"Random"},{value:"Chrome",label:"Chrome"},{value:"Firefox",label:"Firefox"},{value:"Safari",label:"Safari"},{value:"Edge",label:"Edge"}]})]})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Device Split (Desktop/Tablet/Mobile)"}),t.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[t.jsx("span",{className:"text-[10px] font-bold w-12 text-gray-500",children:"Desktop"}),t.jsx("input",{type:"range",min:"0",max:"100",value:g.deviceSplit,onChange:U=>{const he=parseInt(U.target.value),W=100-(g.tabletSplit||0);O("deviceSplit",Math.min(he,W))},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"}),t.jsxs("span",{className:"text-sm font-bold w-8",children:[g.deviceSplit,"%"]})]}),t.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[t.jsx("span",{className:"text-[10px] font-bold w-12 text-gray-500",children:"Tablet"}),t.jsx("input",{type:"range",min:"0",max:"100",value:g.tabletSplit||0,onChange:U=>{const he=parseInt(U.target.value),W=100-g.deviceSplit;O("tabletSplit",Math.min(he,W))},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-gray-500"}),t.jsxs("span",{className:"text-sm font-bold w-8",children:[g.tabletSplit||0,"%"]})]}),t.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 text-right",children:["Mobile Remainder: ",100-g.deviceSplit-(g.tabletSplit||0),"%"]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Hb,{size:14})," Crawling Options"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Entry URLs (One per line)"}),t.jsx("textarea",{value:g.entryUrls,onChange:U=>O("entryUrls",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://example.com
https://example.com/about`})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Inner URLs (One per line)"}),t.jsx("textarea",{value:g.innerUrls,onChange:U=>O("innerUrls",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://example.com/page1
https://example.com/page2`})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Exit URLs (One per line)"}),t.jsx("textarea",{value:g.exitUrls,onChange:U=>O("exitUrls",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:"https://example.com/thank-you"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.autoCrawlEntry,onChange:U=>O("autoCrawlEntry",U.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(Je,{className:"!mb-0",children:"Auto-crawl Entry"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.autoCrawlInner,onChange:U=>O("autoCrawlInner",U.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(Je,{className:"!mb-0",children:"Auto-crawl Inner"})]})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Inner URL Count"}),t.jsx("input",{type:"number",min:"0",value:g.innerUrlCount,onChange:U=>O("innerUrlCount",parseInt(U.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(v4,{size:14})," Advanced Options"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Sitemap URL"}),t.jsx("input",{value:g.sitemap,onChange:U=>O("sitemap",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://example.com/sitemap.xml"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"URL Shortener"}),t.jsx("input",{value:g.shortener,onChange:U=>O("shortener",U.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://short.url/..."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.autoRenew,onChange:U=>O("autoRenew",U.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(Je,{className:"!mb-0",children:"Auto-renew"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.cacheWebsite,onChange:U=>O("cacheWebsite",U.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(Je,{className:"!mb-0",children:"Cache Website"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.minimizeCpu,onChange:U=>O("minimizeCpu",U.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(Je,{className:"!mb-0",children:"Minimize CPU"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(zr,{size:14})," Session Behavior"]}),t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.randomizeSession,onChange:U=>O("randomizeSession",U.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(Je,{className:"!mb-0",children:"Randomize Session"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.antiFingerprint,onChange:U=>O("antiFingerprint",U.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(Je,{className:"!mb-0",children:"Anti-fingerprinting"})]})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(IO,{size:14})," Interaction Settings"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Page Views with Scroll (%)"}),t.jsx("input",{type:"number",min:"0",max:"100",value:g.pageViewsWithScroll,onChange:U=>O("pageViewsWithScroll",parseInt(U.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Je,{children:"Click External Links"}),t.jsx("input",{type:"number",min:"0",value:g.clickExternal,onChange:U=>O("clickExternal",parseInt(U.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Je,{children:"Click Internal Links"}),t.jsx("input",{type:"number",min:"0",value:g.clickInternal,onChange:U=>O("clickInternal",parseInt(U.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]})]})]})]})]})},Je=({children:n,className:e=""})=>t.jsx("label",{className:`text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2 ${e}`,children:n}),GL=()=>{const[n,e]=w.useState("GET /stats"),[s,r]=w.useState("{}"),[i,l]=w.useState([]),[c,f]=w.useState(!1),[u,m]=w.useState(null),g=[{method:"GET",path:"/health",desc:"Check system health and mode"},{method:"GET",path:"/stats",desc:"Global traffic throughput statistics"},{method:"GET",path:"/events",desc:"Recent 50 page-view events with metadata"},{method:"GET",path:"/projects",desc:"List all running and saved projects"},{method:"POST",path:"/projects",desc:"Create a new traffic project"},{method:"DELETE",path:"/projects/{id}",desc:"Remove a project and stop traffic"},{method:"POST",path:"/start",desc:"Immediate ad-hoc traffic burst"},{method:"POST",path:"/stop",desc:"Halt all active user simulations"},{method:"GET",path:"/proxies",desc:"List active proxy rotation pool"},{method:"POST",path:"/proxies",desc:"Add a new proxy to the pool"},{method:"GET",path:"/admin/stats",desc:"SaaS Business Metrics (Revenue, Users)"}],b=(E,k,D)=>{const P={id:Math.random().toString(36).substr(2,9),type:E,msg:k,time:new Date().toLocaleTimeString(),duration:D};l(L=>[P,...L].slice(0,50))},v=async()=>{f(!0);const[E,k]=n.split(" "),D=de,P=performance.now();b("req",`${E} ${k}
Payload: ${s}`);try{const L={method:E,headers:{"Content-Type":"application/json",Authorization:"Bearer ADMIN_MOCK_TOKEN"}};E!=="GET"&&s!=="{}"&&(L.body=s);const V=await fetch(`${D}${k}`,L),$=performance.now(),Q=Math.round($-P);let _;try{_=await V.json()}catch{_={error:"Failed to parse JSON response"}}V.ok?b("res",JSON.stringify(_,null,2),Q):b("err",`Error ${V.status}: ${JSON.stringify(_,null,2)}`,Q)}catch(L){const V=performance.now();b("err",`Network Failure: ${L.message}`,Math.round(V-P))}finally{f(!1)}},T=(E,k)=>{navigator.clipboard.writeText(E),m(k),setTimeout(()=>m(null),2e3)},N=()=>l([]);return t.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-in fade-in",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6 flex-shrink-0",children:[t.jsxs("div",{className:"flex items-end gap-3",children:[t.jsx("div",{className:"bg-black p-2 rounded-sm text-white shadow-lg",children:t.jsx(f4,{size:24})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-1",children:"Developer Hub"}),t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"API Documentation & Debugger"})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 px-4 py-2 flex items-center gap-3 shadow-sm rounded-sm",children:[t.jsx(aM,{size:14,className:"text-green-500"}),t.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["Backend Status: ",t.jsx("span",{className:"text-green-600",children:"ONLINE"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 px-4 py-2 flex items-center gap-3 shadow-sm rounded-sm",children:[t.jsx(ps,{size:14,className:"text-blue-500"}),t.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["API Version: ",t.jsx("span",{className:"text-blue-600",children:"v1.2.0"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 flex-1 overflow-hidden",children:[t.jsxs("div",{className:"bg-white border border-gray-200 flex flex-col overflow-hidden shadow-sm rounded-sm",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center justify-between",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(DD,{size:14})," Endpoints Reference"]}),t.jsx("span",{className:"text-[10px] font-bold bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"FastAPI Engine"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:[t.jsx("div",{className:"space-y-6",children:g.map((E,k)=>t.jsxs("div",{className:"group border-b border-gray-100 pb-6 last:border-0 hover:bg-gray-50/50 p-2 -m-2 transition-colors rounded-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-sm uppercase tracking-tighter shadow-sm ${E.method==="GET"?"bg-blue-600 text-white":E.method==="POST"?"bg-green-600 text-white":E.method==="DELETE"?"bg-red-600 text-white":"bg-orange-600 text-white"}`,children:E.method}),t.jsx("code",{className:"text-xs font-bold text-gray-900",children:E.path}),t.jsxs("div",{className:"ml-auto flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:()=>T(E.path,`path-${k}`),className:"p-1 px-2 bg-gray-100 hover:bg-black hover:text-white text-[9px] font-bold uppercase rounded-sm border border-gray-200 transition-all",children:u===`path-${k}`?"Copied":"Copy"}),t.jsx("button",{onClick:()=>{e(`${E.method} ${E.path}`),E.method==="POST"&&r(`{
  "demo": true
}`)},className:"p-1 px-2 bg-[#ff4d00]/10 hover:bg-[#ff4d00] text-[#ff4d00] hover:text-white text-[9px] font-bold uppercase rounded-sm border border-[#ff4d00]/20 transition-all",children:"Test"})]})]}),t.jsx("p",{className:"text-gray-500 text-[11px] leading-relaxed",children:E.desc})]},k))}),t.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-100 rounded-sm",children:[t.jsxs("h4",{className:"text-xs font-bold text-orange-800 uppercase mb-3 flex items-center gap-2",children:[t.jsx(Bd,{size:14})," Security Headers"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between bg-white p-2 border border-orange-100 rounded-sm overflow-hidden",children:[t.jsx("code",{className:"text-[10px] text-gray-600",children:"Authorization: Bearer [token]"}),t.jsx("button",{onClick:()=>T("Authorization: Bearer YOUR_TOKEN","auth-header"),className:"text-[9px] font-bold text-orange-600 hover:underline",children:"Copy"})]}),t.jsxs("div",{className:"flex items-center justify-between bg-white p-2 border border-orange-100 rounded-sm overflow-hidden",children:[t.jsx("code",{className:"text-[10px] text-gray-600",children:"X-API-KEY: [your-key]"}),t.jsx("button",{onClick:()=>T("X-API-KEY: YOUR_KEY","x-key"),className:"text-[9px] font-bold text-orange-600 hover:underline",children:"Copy"})]}),t.jsx("p",{className:"text-[10px] text-orange-700/70 italic mt-2",children:"Admin requests bypass standard rate limits for maintenance purposes."})]})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-6 overflow-hidden",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm rounded-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Yt,{size:14,className:"text-[#ff4d00]"})," API Scratchpad"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>r(`{
  "demo": true
}`),className:"text-[9px] font-bold text-gray-400 hover:text-black uppercase",children:"Sample"}),t.jsx("button",{onClick:()=>r("{}"),className:"text-[9px] font-bold text-gray-400 hover:text-black uppercase",children:"Reset"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative group",children:[t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300 group-focus-within:text-[#ff4d00] transition-colors",children:t.jsx(Pr,{size:14})}),t.jsx("input",{className:"w-full bg-gray-50 border border-gray-200 p-3 pl-10 text-xs font-mono outline-none focus:border-[#ff4d00] focus:bg-white transition-all rounded-sm",value:n,onChange:E=>e(E.target.value),placeholder:"METHOD /path (e.g. GET /health)"})]}),t.jsxs("button",{onClick:v,disabled:c,className:"bg-black text-white px-8 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] shadow-[0_4px_10px_rgba(0,0,0,0.1)] hover:shadow-[#ff4d00]/30 transition-all disabled:opacity-50 flex items-center gap-2 rounded-sm",children:[c?t.jsx(KL,{size:14,className:"animate-spin"}):t.jsx(qd,{size:14}),"Execute"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Request Body (JSON)"}),t.jsxs("div",{className:"relative",children:[t.jsx("textarea",{className:"w-full bg-[#111] text-green-400 font-mono text-xs p-6 h-40 outline-none border border-gray-800 rounded-sm shadow-inner",value:s,onChange:E=>r(E.target.value),spellCheck:!1}),t.jsx("div",{className:"absolute right-4 bottom-4 text-[9px] font-bold text-gray-600 bg-[#1a1a1a] px-2 py-1 rounded-sm border border-gray-800",children:"UTF-8"})]})]})]})]}),t.jsxs("div",{className:"flex-1 bg-[#0a0a0a] border border-gray-800 flex flex-col overflow-hidden shadow-2xl rounded-sm",children:[t.jsxs("div",{className:"p-3 px-6 border-b border-gray-800 bg-[#111] flex items-center justify-between",children:[t.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[t.jsx(w4,{size:12})," Live Trace Diagnostic"]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("button",{onClick:()=>T(i.map(E=>`[${E.time}] ${E.type.toUpperCase()}: ${E.msg}`).join(`
`),"copy-logs"),className:"text-[10px] font-bold text-gray-500 hover:text-white uppercase flex items-center gap-1",children:[t.jsx(xn,{size:10})," ",u==="copy-logs"?"Copied":"Export"]}),t.jsxs("button",{onClick:N,className:"text-[10px] font-bold text-gray-500 hover:text-red-500 uppercase flex items-center gap-1",children:[t.jsx(wc,{size:10})," Clear"]})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar space-y-4 font-mono",children:i.length===0?t.jsx("div",{className:"h-full flex items-center justify-center text-gray-700 text-[10px] uppercase font-bold tracking-[0.2em] italic opacity-50",children:"Waiting for telemetry..."}):i.map(E=>t.jsxs("div",{className:"animate-in slide-in-from-left-2 duration-300 border-l-2 border-gray-800 pl-4 py-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-1.5",children:[t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-xs ${E.type==="req"?"bg-blue-500 text-white":E.type==="res"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:E.type==="req"?"REQUEST":E.type==="res"?"SUCCESS":"FAILURE"}),t.jsx("span",{className:"text-[9px] font-bold text-gray-600",children:E.time}),E.duration&&t.jsxs("span",{className:"text-[9px] font-bold text-gray-400 flex items-center gap-1",children:[t.jsx(ps,{size:8})," ",E.duration,"ms"]}),t.jsx("button",{onClick:()=>T(E.msg,`copy-${E.id}`),className:"ml-auto text-[8px] font-bold text-gray-600 hover:text-white uppercase transition-colors",children:u===`copy-${E.id}`?"Copied":"Copy"})]}),t.jsx("div",{className:`text-[11px] leading-relaxed p-3 rounded-sm ${E.type==="req"?"bg-blue-950/20 text-blue-300/80":E.type==="res"?"bg-green-950/20 text-green-300":"bg-red-950/20 text-red-300"}`,children:t.jsx("pre",{className:"whitespace-pre-wrap break-all",children:E.msg})})]},E.id))})]})]})]})]})},KL=({size:n,className:e})=>t.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[t.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),t.jsx("path",{d:"M21 3v5h-5"}),t.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),t.jsx("path",{d:"M8 16H3v5"})]}),WL=()=>{const[n,e]=w.useState("campaigns"),[s,r]=w.useState([]),[i,l]=w.useState(null),[c,f]=w.useState(null),[u,m]=w.useState(""),[g,b]=w.useState(""),[v,T]=w.useState(!1),[N,E]=w.useState(null);w.useEffect(()=>{k(),q.getLoyaltySettings().then(l),q.getReferralSettings().then(f)},[]);const k=async()=>{const V=await q.getMarketingStats();r(V)},D=async()=>{i&&await q.saveLoyaltySettings(i)},P=async()=>{c&&await q.saveReferralSettings(c)},L=async()=>{if(!(!u||!g)){T(!0);try{await q.sendEmailBlast(u,g,"all"),alert("Email blast sent successfully!")}catch{alert("Failed to send email blast")}T(!1),E(new Date().toLocaleTimeString()),m(""),b("")}};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Marketing Hub"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Manage acquisition campaigns and outbound communications."})]})}),t.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[t.jsx("button",{onClick:()=>e("campaigns"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${n==="campaigns"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(jf,{size:16}),t.jsx("span",{children:"Ad Tracking & Stats"})]})}),t.jsx("button",{onClick:()=>e("email"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${n==="email"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(_i,{size:16}),t.jsx("span",{children:"Email Blasts"})]})}),t.jsx("button",{onClick:()=>e("loyalty"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${n==="loyalty"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Fa,{size:16}),t.jsx("span",{children:"Loyalty & Referrals"})]})})]}),n==="campaigns"?t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.map(V=>{var $,Q;return t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("span",{className:"text-[10px] font-bold uppercase px-2 py-1 rounded bg-gray-100 text-gray-600",children:V.type.replace("_"," ")}),t.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-1 rounded
                                    ${V.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:V.status})]}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:V.name}),t.jsxs("p",{className:"text-xs text-gray-400 mb-6",children:["Created: ",V.dateCreated]}),t.jsx("div",{className:"grid grid-cols-2 gap-4 mt-auto",children:V.type==="email"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Opens"}),t.jsxs("p",{className:"text-xl font-mono font-bold text-gray-900",children:[V.openRate,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Clicks"}),t.jsxs("p",{className:"text-xl font-mono font-bold text-gray-900",children:[V.clickRate,"%"]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Clicks"}),t.jsx("p",{className:"text-xl font-mono font-bold text-gray-900",children:($=V.clicks)==null?void 0:$.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Revenue"}),t.jsxs("p",{className:"text-xl font-mono font-bold text-green-600",children:["$",(Q=V.revenue)==null?void 0:Q.toLocaleString()]})]})]})})]},V.id)}),t.jsxs("button",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center gap-3 text-gray-400 hover:text-[#ff4d00] hover:border-[#ff4d00] hover:bg-orange-50 transition-all group min-h-[200px]",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 group-hover:bg-[#ff4d00] flex items-center justify-center transition-colors",children:t.jsx(jf,{size:24,className:"group-hover:text-white"})}),t.jsx("span",{className:"font-bold",children:"Track New URL"})]})]}):n==="email"?t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[t.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[t.jsx(qd,{size:20,className:"text-[#ff4d00]"}),"Compose Blast"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subject Line"}),t.jsx("input",{type:"text",value:u,onChange:V=>m(V.target.value),className:"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent outline-none font-medium",placeholder:"e.g. Special Offer for Premium Members"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Target Audience"}),t.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded bg-gray-50 focus:ring-2 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"all",children:"All Users (Newsletter)"}),t.jsx("option",{value:"paid",children:"Active Paid Plans Only"}),t.jsx("option",{value:"inactive",children:"Inactive / Churned Users"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Message Body (HTML Supported)"}),t.jsx("textarea",{value:g,onChange:V=>b(V.target.value),className:"w-full p-4 border border-gray-300 rounded focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent outline-none min-h-[300px] font-mono text-sm",placeholder:"<h1>Hello {name},</h1>..."})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4",children:[t.jsx("p",{className:"text-sm text-gray-500",children:N&&`Last sent: ${N}`}),t.jsx("button",{onClick:L,disabled:v||!u||!g,className:`px-8 py-3 bg-[#ff4d00] text-white font-bold rounded shadow-lg shadow-orange-500/30 hover:bg-[#e64600] transition-all
                                            ${v||!u||!g?"opacity-50 cursor-not-allowed":"hover:transform hover:-translate-y-0.5"}`,children:v?"Sending...":"Send Broadcast"})]})]})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-6",children:[t.jsx("h4",{className:"font-bold text-blue-900 mb-2",children:"Best Practices"}),t.jsxs("ul",{className:"text-sm text-blue-800 space-y-2 list-disc list-inside",children:[t.jsx("li",{children:"Keep subject lines under 60 chars"}),t.jsxs("li",{children:["Personalize using ","{name}"," tag"]}),t.jsx("li",{children:"Include a clear Call to Action"}),t.jsx("li",{children:"Test mobile rendering before sending"})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[t.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Previous Blasts"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 text-sm",children:[t.jsx("div",{className:"font-bold text-gray-800",children:"Spring Sale Announcement"}),t.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Sent: Mar 10  12,403 Recipients"})]}),t.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 text-sm",children:[t.jsx("div",{className:"font-bold text-gray-800",children:"Platform Update v2.1"}),t.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Sent: Feb 28  11,200 Recipients"})]})]})]})]})]}):t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:t.jsx(Fa,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Loyalty Program"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Reward users for spending."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:i==null?void 0:i.enabled,onChange:V=>l($=>$?{...$,enabled:V.target.checked}:null),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Points per $1 Spent"}),t.jsx("input",{type:"number",value:(i==null?void 0:i.pointsPerDollar)||"",onChange:V=>l($=>$?{...$,pointsPerDollar:Number(V.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Redemption Rate (Points = $1)"}),t.jsx("input",{type:"number",value:(i==null?void 0:i.redemptionRate)||"",onChange:V=>l($=>$?{...$,redemptionRate:Number(V.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Example: 100 points = $1 discount."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Bonus Signup Points"}),t.jsx("input",{type:"number",value:(i==null?void 0:i.bonusSignupPoints)||"",onChange:V=>l($=>$?{...$,bonusSignupPoints:Number(V.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:t.jsx(Si,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Referral Program"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Incentivize word-of-mouth growth."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c==null?void 0:c.enabled,onChange:V=>f($=>$?{...$,enabled:V.target.checked}:null),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Referrer Gets"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:"$"}),t.jsx("input",{type:"number",value:(c==null?void 0:c.referrerReward)||"",onChange:V=>f($=>$?{...$,referrerReward:Number(V.target.value)}:null),className:"w-full p-2 pl-6 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Credit added to balance."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Referee Gets"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:"$"}),t.jsx("input",{type:"number",value:(c==null?void 0:c.refereeReward)||"",onChange:V=>f($=>$?{...$,refereeReward:Number(V.target.value)}:null),className:"w-full p-2 pl-6 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Discount on first purchase."})]})]})})]}),t.jsx("div",{className:"lg:col-span-2 flex justify-end",children:t.jsx("button",{onClick:async()=>{await D(),await P(),alert("Settings Saved!")},className:"bg-black text-white px-6 py-2 rounded font-bold hover:bg-gray-800",children:"Save Settings"})})]})]})},YL=({onRefresh:n})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!1),[l,c]=w.useState(!1),[f,u]=w.useState({code:"",discountType:"percent",discountValue:0,active:!0,usedCount:0,allowedPlans:[],maxUsesPerUser:1}),[m,g]=w.useState("PROMO-"),[b,v]=w.useState(10);w.useEffect(()=>{T()},[]);const T=async()=>{const D=await q.getCoupons();s(D)},N=async D=>{confirm("Are you sure you want to delete this coupon?")&&(await q.deleteCoupon(D),T())},E=async()=>{if(!f.code||!f.discountValue)return;const D={id:Date.now().toString(),code:f.code.toUpperCase(),discountType:f.discountType,discountValue:Number(f.discountValue),active:f.active||!1,usedCount:0,expiryDate:f.expiryDate,maxUses:f.maxUses,maxUsesPerUser:f.maxUsesPerUser,allowedPlans:f.allowedPlans};await q.saveCoupon(D),i(!1),u({code:"",discountType:"percent",discountValue:0,active:!0,usedCount:0,allowedPlans:[],maxUsesPerUser:1}),T(),n()},k=async()=>{for(let D=0;D<b;D++){const P=Math.random().toString(36).substring(2,6).toUpperCase(),L={id:`${Date.now()}-${D}`,code:`${m}${P}`,discountType:f.discountType,discountValue:Number(f.discountValue),active:!0,usedCount:0,expiryDate:f.expiryDate,maxUses:1,maxUsesPerUser:1};await q.saveCoupon(L)}i(!1),c(!1),T(),alert(`Successfully generated ${b} coupons!`)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Coupon Manager"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Create and manage discount codes for campaigns."})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>{i(!0),c(!0)},className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:[t.jsx(xn,{size:16}),t.jsx("span",{children:"Bulk Generate"})]}),t.jsxs("button",{onClick:()=>{i(!0),c(!1)},className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded-md hover:bg-gray-800 transition-colors",children:[t.jsx(Lr,{size:16}),t.jsx("span",{children:"Create Coupon"})]})]})]}),r&&t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm animate-in fade-in slide-in-from-top-4",children:[t.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[l?t.jsx(xn,{className:"text-[#ff4d00]",size:20}):t.jsx(Wb,{className:"text-[#ff4d00]",size:20}),l?"Bulk Generate Coupons":"New Coupon"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400 border-b border-gray-100 pb-1",children:"Core Settings"}),l?t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Prefix"}),t.jsx("input",{type:"text",value:m,onChange:D=>g(D.target.value.toUpperCase()),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"e.g. SUMMER-"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Quantity"}),t.jsx("input",{type:"number",value:b,onChange:D=>v(Number(D.target.value)),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",min:"1",max:"1000"})]})]}):t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Code"}),t.jsx("input",{type:"text",value:f.code,onChange:D=>u({...f,code:D.target.value.toUpperCase()}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"e.g. SUMMER2024"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Discount Value"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"number",value:f.discountValue,onChange:D=>u({...f,discountValue:Number(D.target.value)}),className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),t.jsxs("select",{value:f.discountType,onChange:D=>u({...f,discountType:D.target.value}),className:"p-2 border border-gray-300 rounded bg-gray-50",children:[t.jsx("option",{value:"percent",children:"% Off"}),t.jsx("option",{value:"fixed",children:"$ Off"})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400 border-b border-gray-100 pb-1",children:"Restrictions & Limits"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Expiry Date"}),t.jsx("input",{type:"date",value:f.expiryDate||"",onChange:D=>u({...f,expiryDate:D.target.value}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Max Uses (Total)"}),t.jsx("input",{type:"number",value:f.maxUses||"",onChange:D=>u({...f,maxUses:Number(D.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"Unlimited"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Max Per User"}),t.jsx("input",{type:"number",value:f.maxUsesPerUser||"",onChange:D=>u({...f,maxUsesPerUser:Number(D.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Plan Restriction"}),t.jsxs("select",{multiple:!0,className:"w-full p-2 border border-gray-300 rounded text-xs h-[42px]",value:f.allowedPlans||[],onChange:D=>{const P=D.target,L=Array.from(P.selectedOptions,V=>V.value);u({...f,allowedPlans:L})},children:[t.jsx("option",{value:"foundation",children:"Foundation"}),t.jsx("option",{value:"momentum",children:"Momentum"}),t.jsx("option",{value:"breakthrough",children:"Breakthrough"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Duration"}),t.jsxs("select",{value:f.duration||"once",onChange:D=>u({...f,duration:D.target.value}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",children:[t.jsx("option",{value:"once",children:"Once"}),t.jsx("option",{value:"forever",children:"Forever"}),t.jsx("option",{value:"repeating",children:"Repeating"})]})]}),f.duration==="repeating"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Months"}),t.jsx("input",{type:"number",value:f.durationInMonths||"",onChange:D=>u({...f,durationInMonths:Number(D.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"3"})]})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-100",children:[t.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900 font-medium",children:"Cancel"}),t.jsx("button",{onClick:l?k:E,className:"px-6 py-2 bg-[#ff4d00] text-white font-bold rounded hover:bg-[#e64600] transition-colors",children:l?`Generate ${b} Coupons`:"Save Coupon"})]})]}),t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Code"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Discount"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Usage"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Restrictions"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:e.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:t.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[t.jsx(Wb,{size:32,className:"text-gray-300"}),t.jsx("p",{children:"No coupons created yet."})]})})}):e.map(D=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("div",{className:"font-mono font-bold text-gray-900 bg-gray-100 inline-flex items-center gap-2 px-2 py-1 rounded border border-gray-200 text-xs group",children:[D.code,t.jsx("button",{onClick:P=>{P.stopPropagation();const L=`${window.location.origin}?coupon=${D.code}`;navigator.clipboard.writeText(L),alert(`Copied: ${L}`)},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-black transition-all",title:"Copy Sharable Link",children:t.jsx(ow,{size:10})})]}),D.bulkBatchId&&t.jsx("span",{className:"ml-2 text-[10px] text-gray-400 uppercase tracking-wide border border-gray-200 px-1 rounded",children:"BULK"})]}),t.jsx("td",{className:"px-6 py-4 font-medium text-gray-700",children:D.discountType==="percent"?`${D.discountValue}%`:`$${D.discountValue}`}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-bold uppercase
                                            ${D.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:D.active?"Active":"Inactive"})}),t.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[D.usedCount," ",D.maxUses?`/ ${D.maxUses}`:""]}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:D.allowedPlans&&D.allowedPlans.length>0?t.jsx("div",{className:"flex gap-1",children:D.allowedPlans.map(P=>t.jsx("span",{className:"text-[10px] bg-blue-50 text-blue-600 px-1.5 py-0.5 rounded capitalize border border-blue-100",children:P},P))}):t.jsx("span",{className:"text-gray-400 text-xs",children:"Global"})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("button",{onClick:()=>N(D.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete Coupon",children:t.jsx(wc,{size:16})})})]},D.id))})]})}),t.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 flex items-start gap-3",children:[t.jsx(Lo,{className:"text-blue-500 mt-0.5 flex-shrink-0",size:18}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-blue-900",children:"Advanced Features"}),t.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Use ",t.jsx("strong",{children:"Bulk Generate"})," to create hundreds of unique codes for partners or affiliates. Use ",t.jsx("strong",{children:"Plan Restrictions"}),' to create "Upgrade Only" offers valid for specific premium tiers.']})]})]})]})},QL=()=>{const[n,e]=w.useState(null),[s,r]=w.useState(!1),[i,l]=w.useState(!1);w.useEffect(()=>{q.getConversionSettings().then(f=>e(f))},[]);const c=async()=>{n&&(r(!0),await q.saveConversionSettings(n),setTimeout(()=>{r(!1),l(!0),setTimeout(()=>l(!1),2e3)},800))};return n?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Conversion Boosters"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Tools to increase visitor engagement and sales."})]}),t.jsx("button",{onClick:c,disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-[#ff4d00] text-white font-bold rounded shadow-lg shadow-orange-500/30 hover:bg-[#e64600] transition-all",children:s?t.jsx("span",{children:"Saving..."}):i?t.jsxs(t.Fragment,{children:[t.jsx(yt,{size:18}),t.jsx("span",{children:"Saved!"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ha,{size:18}),t.jsx("span",{children:"Save Changes"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:t.jsx(Mr,{size:120})}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[t.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:t.jsx(Mr,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Social Proof Notifications"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Show recent sales popups to build trust."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n.socialProof.enabled,onChange:f=>e({...n,socialProof:{...n.socialProof,enabled:f.target.checked}}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4 relative z-10",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Position"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("button",{onClick:()=>e({...n,socialProof:{...n.socialProof,position:"bottom-left"}}),className:`p-2 border rounded text-sm font-medium transition-all ${n.socialProof.position==="bottom-left"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:"Bottom Left"}),t.jsx("button",{onClick:()=>e({...n,socialProof:{...n.socialProof,position:"bottom-right"}}),className:`p-2 border rounded text-sm font-medium transition-all ${n.socialProof.position==="bottom-right"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:"Bottom Right"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Delay (Seconds)"}),t.jsx("input",{type:"number",value:n.socialProof.delay,onChange:f=>e({...n,socialProof:{...n.socialProof,delay:Number(f.target.value)}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Data Source"}),t.jsxs("select",{value:n.socialProof.showRealData?"real":"mock",onChange:f=>e({...n,socialProof:{...n.socialProof,showRealData:f.target.value==="real"}}),className:"w-full p-2 border border-gray-300 rounded bg-white",children:[t.jsx("option",{value:"mock",children:"Simulated (Mock)"}),t.jsx("option",{value:"real",children:"Real Sales Only"})]})]})]})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:t.jsx(Si,{size:120})}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[t.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:t.jsx(Si,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Exit Intent Popup"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Capture users before they leave."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n.exitIntent.enabled,onChange:f=>e({...n,exitIntent:{...n.exitIntent,enabled:f.target.checked}}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4 relative z-10",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Headline"}),t.jsx("input",{type:"text",value:n.exitIntent.headline,onChange:f=>e({...n,exitIntent:{...n.exitIntent,headline:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subtext"}),t.jsx("input",{type:"text",value:n.exitIntent.subtext,onChange:f=>e({...n,exitIntent:{...n.exitIntent,subtext:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Coupon Code"}),t.jsx("input",{type:"text",value:n.exitIntent.couponCode||"",onChange:f=>e({...n,exitIntent:{...n.exitIntent,couponCode:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsx("div",{className:"flex items-end pb-3",children:t.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n.exitIntent.showOncePerSession,onChange:f=>e({...n,exitIntent:{...n.exitIntent,showOncePerSession:f.target.checked}}),className:"rounded text-black focus:ring-black"}),"Show once per session"]})})]})]})]}),t.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:t.jsx(J2,{size:120})}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[t.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:t.jsx(J2,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Global Promo Bar"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Top-of-page banner for announcements."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n.promoBar.enabled,onChange:f=>e({...n,promoBar:{...n.promoBar,enabled:f.target.checked}}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4 relative z-10",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Banner Message"}),t.jsx("input",{type:"text",value:n.promoBar.message,onChange:f=>e({...n,promoBar:{...n.promoBar,message:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Button Text"}),t.jsx("input",{type:"text",value:n.promoBar.buttonText||"",onChange:f=>e({...n,promoBar:{...n.promoBar,buttonText:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Button Link"}),t.jsx("input",{type:"text",value:n.promoBar.buttonLink||"",onChange:f=>e({...n,promoBar:{...n.promoBar,buttonLink:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Background Color"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"color",value:n.promoBar.backgroundColor,onChange:f=>e({...n,promoBar:{...n.promoBar,backgroundColor:f.target.value}}),className:"h-[38px] w-[50px] p-0 border border-gray-300 rounded cursor-pointer"}),t.jsx("input",{type:"text",value:n.promoBar.backgroundColor,onChange:f=>e({...n,promoBar:{...n.promoBar,backgroundColor:f.target.value}}),className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none uppercase"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Countdown Timer End Date (Optional)"}),t.jsx("input",{type:"datetime-local",value:n.promoBar.endDate||"",onChange:f=>e({...n,promoBar:{...n.promoBar,endDate:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Set a date to show a countdown timer within the banner."})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-400 mb-2",children:"Live Preview"}),t.jsxs("div",{className:"rounded-lg p-3 text-center text-sm font-medium flex items-center justify-center gap-4 shadow-sm",style:{backgroundColor:n.promoBar.backgroundColor,color:n.promoBar.textColor},children:[t.jsx("span",{children:n.promoBar.message}),n.promoBar.buttonText&&t.jsx("span",{className:"px-3 py-1 bg-white text-black text-xs font-bold rounded shadow-sm opacity-90",children:n.promoBar.buttonText})]})]})]})]})]})]}):t.jsx("div",{children:"Loading..."})},XL=()=>{const[n,e]=w.useState([]),[s,r]=w.useState(!0),[i,l]=w.useState("all"),[c,f]=w.useState(null),[u,m]=w.useState(""),[g,b]=w.useState(!1);w.useEffect(()=>{v()},[i]);const v=async()=>{r(!0);try{const k=await q.getBankTransfers(i);e(k)}catch(k){console.error("Failed to load transfers",k)}r(!1)},T=async k=>{if(c){b(!0);try{await q.approveBankTransfer(c.id,k,u),f(null),m(""),await v()}catch(D){alert("Error: "+D.message)}b(!1)}},N=k=>{switch(k){case"approved":return t.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-[9px] font-black uppercase tracking-wider rounded-sm flex items-center gap-1",children:[t.jsx(yt,{size:10})," Approved"]});case"rejected":return t.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-[9px] font-black uppercase tracking-wider rounded-sm flex items-center gap-1",children:[t.jsx(Jl,{size:10})," Rejected"]});default:return t.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-[9px] font-black uppercase tracking-wider rounded-sm flex items-center gap-1",children:[t.jsx(ps,{size:10})," Pending"]})}},E=k=>k?new Date(k).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return t.jsxs("div",{className:"animate-in fade-in space-y-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Payment Verification"}),t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Bank Transfer Proofs"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("select",{value:i,onChange:k=>l(k.target.value),className:"text-xs border border-gray-200 px-4 py-2 bg-white font-bold uppercase tracking-wide",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"rejected",children:"Rejected"})]}),t.jsxs("button",{onClick:v,className:"bg-white border border-gray-200 px-4 py-2 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00] flex items-center gap-2",children:[t.jsx(ko,{size:14})," Refresh"]})]})]}),s?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(ko,{className:"animate-spin text-[#ff4d00]",size:32})}):n.length===0?t.jsxs("div",{className:"bg-white border border-gray-200 p-12 text-center",children:[t.jsx(Nf,{size:48,className:"mx-auto text-gray-300 mb-4"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No bank transfer proofs found."})]}):t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Reference"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tier"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(k=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:E(k.created_at)}),t.jsx("td",{className:"px-6 py-4 text-xs font-medium text-gray-900",children:k.user_email}),t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:k.reference}),t.jsxs("td",{className:"px-6 py-4 text-sm font-black text-gray-900",children:["",k.amount.toFixed(2)," ",t.jsxs("span",{className:"text-xs text-gray-400",children:["(",k.currency,")"]})]}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-600 capitalize",children:k.tier||"General"}),t.jsx("td",{className:"px-6 py-4",children:N(k.status)}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[t.jsx("a",{href:`${de}${k.file_url}`,download:k.file_name,className:"text-gray-400 hover:text-[#ff4d00] transition-colors",title:"Download",children:t.jsx(vi,{size:14})}),t.jsxs("button",{onClick:()=>f(k),className:"bg-black text-white px-4 py-2 text-[10px] font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(Yf,{size:12})," View"]})]})})]},k.id))})]})}),c&&t.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>f(null),children:t.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] overflow-auto shadow-2xl",onClick:k=>k.stopPropagation(),children:[t.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-start sticky top-0 bg-white",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Transfer Details"}),t.jsx("h3",{className:"text-xl font-black text-gray-900",children:c.reference})]}),N(c.status)]}),t.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"User Email"}),t.jsx("p",{className:"text-sm font-bold text-gray-900",children:c.user_email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Amount"}),t.jsxs("p",{className:"text-2xl font-black text-gray-900",children:["",c.amount.toFixed(2)," ",t.jsxs("span",{className:"text-sm text-gray-400",children:["(",c.currency,")"]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Tier"}),t.jsx("p",{className:"text-sm font-bold text-gray-900 capitalize",children:c.tier||"General"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Submitted"}),t.jsx("p",{className:"text-sm font-bold text-gray-900",children:E(c.created_at)})]}),c.notes&&t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"User Notes"}),t.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 border border-gray-200",children:c.notes})]}),c.admin_notes&&t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Admin Notes"}),t.jsx("p",{className:"text-sm text-gray-700 bg-yellow-50 p-3 border border-yellow-200",children:c.admin_notes})]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Proof Document"}),t.jsx("div",{className:"bg-gray-50 border border-gray-200 p-4",children:c.file_url.endsWith(".pdf")?t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Nf,{size:32,className:"text-red-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold",children:c.file_name}),t.jsxs("a",{href:`${de}${c.file_url}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-[#ff4d00] hover:underline flex items-center gap-1",children:["Open PDF ",t.jsx(Wf,{size:10})]})]})]}),t.jsxs("a",{href:`${de}${c.file_url}`,download:c.file_name,className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(vi,{size:14})," Download"]})]}):t.jsxs("div",{className:"space-y-3",children:[t.jsx("img",{src:`${de}${c.file_url}`,alt:"Proof",className:"w-full h-auto max-h-64 object-contain"}),t.jsxs("a",{href:`${de}${c.file_url}`,download:c.file_name,className:"inline-flex items-center gap-2 bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors",children:[t.jsx(vi,{size:14})," Download Image"]})]})})]})})]}),c.status==="pending"&&t.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-2",children:"Admin Notes (Optional)"}),t.jsx("textarea",{value:u,onChange:k=>m(k.target.value),className:"w-full border border-gray-200 p-3 text-sm",rows:3,placeholder:"Add notes about this transfer..."})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:()=>T(!0),disabled:g,className:"flex-1 bg-green-500 text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-green-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[g?t.jsx(ko,{className:"animate-spin",size:14}):t.jsx(yt,{size:14}),"Approve & Credit"]}),t.jsxs("button",{onClick:()=>T(!1),disabled:g,className:"flex-1 bg-red-500 text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[g?t.jsx(ko,{className:"animate-spin",size:14}):t.jsx(Jl,{size:14}),"Reject"]})]})]}),c.status!=="pending"&&t.jsx("div",{className:"p-6 border-t border-gray-200 flex justify-end",children:t.jsx("button",{onClick:()=>f(null),className:"bg-gray-100 hover:bg-gray-200 px-6 py-3 text-xs font-bold uppercase tracking-wider",children:"Close"})})]})})]})},JL=()=>{const[n,e]=w.useState("pending"),[s,r]=w.useState([]),[i,l]=w.useState([]),[c,f]=w.useState([]),[u,m]=w.useState(!0),[g,b]=w.useState(null),[v,T]=w.useState({approvedValue:"",adminNotes:"",fraudFlagged:!1,fraudReason:""}),[N,E]=w.useState(!1),[k,D]=w.useState(0),[P,L]=w.useState(!1);w.useEffect(()=>{V()},[]);const V=async()=>{try{const[A,I,z,O]=await Promise.all([q.getPendingBenefits().catch(()=>[]),fetch(`${window.location.origin}/benefits/types`).then(R=>R.json()).catch(()=>[]),q.getBenefitsHistory().catch(()=>[]),fetch(`${window.location.origin}/settings`).then(R=>R.json()).catch(()=>({settings:{}}))]);r(A),l(I),f(z);const F=O.settings||{};D(F.newUserSignupCredits||0)}catch(A){console.error(A)}finally{m(!1)}},$=async()=>{L(!0);try{const z={...(await fetch(`${window.location.origin}/settings`).then(O=>O.json()).catch(()=>({settings:{}}))).settings||{},newUserSignupCredits:k};await fetch(`${window.location.origin}/settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:z})}),alert("Signup credits saved successfully!")}catch(A){alert(A.message||"Failed to save")}finally{L(!1)}},Q=async()=>{if(g){E(!0);try{await q.approveBenefit(g.id,parseFloat(v.approvedValue)||g.claimed_value,v.adminNotes),await V(),b(null),T({approvedValue:"",adminNotes:"",fraudFlagged:!1,fraudReason:""})}catch(A){alert(A.message||"Failed to approve")}finally{E(!1)}}},_=async()=>{if(g){E(!0);try{await q.rejectBenefit(g.id,v.adminNotes,v.fraudFlagged,v.fraudReason),await V(),b(null),T({approvedValue:"",adminNotes:"",fraudFlagged:!1,fraudReason:""})}catch(A){alert(A.message||"Failed to reject")}finally{E(!1)}}};return u?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-[#ff4d00] border-t-transparent rounded-full"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-black text-gray-900",children:"Benefits Management"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Review marketing activity submissions and manage benefit types"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>e("pending"),className:`px-4 py-2 text-xs font-bold uppercase ${n==="pending"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:["Pending (",s.length,")"]}),t.jsx("button",{onClick:()=>e("types"),className:`px-4 py-2 text-xs font-bold uppercase ${n==="types"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:"Benefit Types"}),t.jsx("button",{onClick:()=>e("history"),className:`px-4 py-2 text-xs font-bold uppercase ${n==="history"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:"History"}),t.jsx("button",{onClick:()=>e("signup"),className:`px-4 py-2 text-xs font-bold uppercase ${n==="signup"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:"Signup Credits"})]})]}),n==="pending"&&t.jsx("div",{className:"space-y-4",children:s.length===0?t.jsxs("div",{className:"bg-white border border-gray-200 p-12 text-center",children:[t.jsx(La,{size:48,className:"mx-auto text-gray-300 mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No pending benefit requests"})]}):s.map(A=>t.jsx("div",{className:"bg-white border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"bg-yellow-100 p-3",children:t.jsx(ps,{size:24,className:"text-yellow-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"text-sm font-bold text-gray-900",children:A.user_email}),t.jsx("span",{className:"text-xs bg-gray-100 px-2 py-0.5",children:A.benefit_type}),t.jsx("span",{className:"text-xs bg-[#ff4d00]/10 text-[#ff4d00] px-2 py-0.5",children:A.benefit_category})]}),t.jsxs("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:[A.url," ",t.jsx(Wf,{size:12})]}),A.description&&t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:A.description}),t.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Submitted: ",new Date(A.submitted_at).toLocaleString()]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-2xl font-black text-[#ff4d00]",children:["",A.claimed_value]}),t.jsx("div",{className:"text-xs text-gray-500",children:"Claimed"}),t.jsx("div",{className:"flex gap-2 mt-4",children:t.jsx("button",{onClick:()=>{b(A),T({...v,approvedValue:String(A.claimed_value)})},className:"px-3 py-1 bg-green-500 text-white text-xs font-bold uppercase hover:bg-green-600",children:"Review"})})]})]})},A.id))}),n==="types"&&t.jsxs("div",{className:"bg-white border border-gray-200",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[t.jsx("h3",{className:"font-bold",children:"Benefit Types Configuration"}),t.jsxs("button",{className:"px-3 py-1 bg-[#ff4d00] text-white text-xs font-bold uppercase flex items-center gap-1",children:[t.jsx(Lr,{size:14})," Add Type"]})]}),t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left p-4 text-xs font-bold text-gray-500 uppercase",children:"Type"}),t.jsx("th",{className:"text-left p-4 text-xs font-bold text-gray-500 uppercase",children:"Category"}),t.jsx("th",{className:"text-left p-4 text-xs font-bold text-gray-500 uppercase",children:"Name"}),t.jsx("th",{className:"text-right p-4 text-xs font-bold text-gray-500 uppercase",children:"Value"}),t.jsx("th",{className:"text-center p-4 text-xs font-bold text-gray-500 uppercase",children:"Active"}),t.jsx("th",{className:"text-right p-4 text-xs font-bold text-gray-500 uppercase",children:"Actions"})]})}),t.jsx("tbody",{children:i.map(A=>t.jsxs("tr",{className:"border-t border-gray-100",children:[t.jsx("td",{className:"p-4 text-sm",children:A.type}),t.jsx("td",{className:"p-4 text-sm",children:A.category}),t.jsx("td",{className:"p-4 text-sm font-medium",children:A.name}),t.jsxs("td",{className:"p-4 text-sm text-right font-bold",children:["",A.value]}),t.jsx("td",{className:"p-4 text-center",children:t.jsx("span",{className:`px-2 py-1 text-xs ${A.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:A.active?"Active":"Inactive"})}),t.jsx("td",{className:"p-4 text-right",children:t.jsx("button",{className:"p-1 text-gray-400 hover:text-[#ff4d00]",children:t.jsx(gM,{size:16})})})]},A.id))})]})]}),n==="history"&&t.jsxs("div",{className:"bg-white border border-gray-200",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Processed Benefits"})}),c.length===0?t.jsxs("div",{className:"p-12 text-center text-gray-400",children:[t.jsx(ps,{size:32,className:"mx-auto mb-3 opacity-50"}),t.jsx("p",{className:"text-sm font-bold",children:"No processed benefits yet"})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"User"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Claimed"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Approved"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Reviewed"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:c.map(A=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:A.user_email}),t.jsxs("td",{className:"px-6 py-4 text-xs text-gray-600",children:[A.benefit_type," / ",A.benefit_category]}),t.jsxs("td",{className:"px-6 py-4 text-xs font-bold",children:["",A.claimed_value]}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-green-600",children:A.approved_value?`${A.approved_value}`:"-"}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("span",{className:`inline-flex items-center gap-1 text-[9px] font-black uppercase tracking-wider px-2 py-1 rounded-sm ${A.status==="approved"?"bg-green-100 text-green-700":A.status==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-500"}`,children:[A.status==="approved"?t.jsx(yt,{size:10}):A.status==="rejected"?t.jsx(Jl,{size:10}):t.jsx(ps,{size:10}),A.status]}),A.fraud_flagged&&t.jsx("span",{className:"ml-2 text-[8px] text-red-600 font-black uppercase",children:"Fraud"})]}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:A.reviewed_at?new Date(A.reviewed_at).toLocaleDateString():"-"})]},A.id))})]})})]}),n==="signup"&&t.jsxs("div",{className:"bg-white border border-gray-200",children:[t.jsxs("div",{className:"p-6 border-b border-gray-200",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"New User Signup Credits"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configure how many credits new users receive for free when they register"})]}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"max-w-md",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Signup Credits Amount"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(Fa,{size:18,className:"text-gray-400"})}),t.jsx("input",{type:"number",min:"0",step:"0.01",value:k,onChange:A=>D(parseFloat(A.target.value)||0),className:"pl-10 pr-4 py-2 w-full border border-gray-300 focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent",placeholder:"0.00"})]}),t.jsx("span",{className:"text-gray-500",children:"credits"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Set to 0 to disable signup credits. New users will not receive any free credits upon registration."}),t.jsx("div",{className:"mt-6 flex items-center gap-4",children:t.jsxs("button",{onClick:$,disabled:P,className:"px-4 py-2 bg-[#ff4d00] text-white font-bold uppercase text-xs flex items-center gap-2 hover:bg-[#e64600] disabled:opacity-50",children:[P?t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):t.jsx(Ha,{size:16}),P?"Saving...":"Save Settings"]})}),t.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200",children:[t.jsxs("h4",{className:"text-sm font-bold text-blue-900 flex items-center gap-2",children:[t.jsx(Ur,{size:16}),"How it works"]}),t.jsxs("ul",{"className-2":!0,"text-xs":"mt text-blue-800 space-y-1",children:[t.jsxs("li",{children:[" When a new user registers, they will automatically receive ",k," credits"]}),t.jsx("li",{children:" Credits are added to their account balance immediately"}),t.jsx("li",{children:" A transaction record is created for tracking"}),t.jsx("li",{children:" This setting applies to all new registrations"})]})]})]})})]}),g&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white max-w-lg w-full p-6",children:[t.jsx("h3",{className:"text-xl font-bold mb-4",children:"Review Benefit Request"}),t.jsxs("div",{className:"bg-gray-50 p-4 mb-4",children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"User:"}),t.jsx("span",{className:"text-sm font-bold",children:g.user_email})]}),t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Type:"}),t.jsxs("span",{className:"text-sm font-bold",children:[g.benefit_type," / ",g.benefit_category]})]}),t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Claimed:"}),t.jsxs("span",{className:"text-sm font-bold text-[#ff4d00]",children:["",g.claimed_value]})]}),t.jsx("div",{className:"mt-2 pt-2 border-t",children:t.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"View Submission "})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Approved Value ()"}),t.jsx("input",{type:"number",className:"w-full border p-3",value:v.approvedValue,onChange:A=>T({...v,approvedValue:A.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Admin Notes"}),t.jsx("textarea",{className:"w-full border p-3",rows:3,value:v.adminNotes,onChange:A=>T({...v,adminNotes:A.target.value})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"fraud",checked:v.fraudFlagged,onChange:A=>T({...v,fraudFlagged:A.target.checked})}),t.jsxs("label",{htmlFor:"fraud",className:"text-sm text-red-600 font-bold flex items-center gap-1",children:[t.jsx(dn,{size:14})," Flag as Fraud"]})]}),v.fraudFlagged&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Fraud Reason"}),t.jsx("input",{type:"text",className:"w-full border p-3 border-red-300",value:v.fraudReason,onChange:A=>T({...v,fraudReason:A.target.value}),placeholder:"Reason for fraud flag..."})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>b(null),className:"flex-1 border py-3 text-xs font-bold uppercase",children:"Cancel"}),t.jsx("button",{onClick:_,disabled:N,className:"flex-1 bg-red-500 text-white py-3 text-xs font-bold uppercase disabled:opacity-50",children:"Reject"}),t.jsx("button",{onClick:Q,disabled:N,className:"flex-1 bg-green-500 text-white py-3 text-xs font-bold uppercase disabled:opacity-50",children:"Approve"})]})]})})]})},ZL=({onLogout:n})=>{const e=Us(),s=Kn(),[r,i]=w.useState(!1),c=(()=>{const te=s.pathname;return te==="/admin"||te==="/admin/"?"admin-home":te.startsWith("/admin/users/edit/")?"admin-edit-user":te==="/admin/users"?"admin-users":te==="/admin/live"?"admin-live":te==="/admin/tickets"?"admin-tickets":te.startsWith("/admin/projects/edit/")?"admin-edit-project":te==="/admin/projects"?"admin-projects":te==="/admin/projects/create"?"admin-create-project":te.startsWith("/admin/transactions/edit/")?"admin-edit-transaction":te==="/admin/transactions"?"admin-transactions":te==="/admin/alerts"?"admin-alerts":te==="/admin/pricing"?"admin-pricing":te==="/admin/settings"?"admin-settings":te==="/admin/api-docs"?"admin-api-docs":te==="/admin/marketing"?"admin-marketing":te==="/admin/coupons"?"admin-coupons":te==="/admin/conversion"?"admin-conversion":te==="/admin/bank-transfers"?"admin-bank-transfers":"admin-home"})(),[f,u]=w.useState([]),[m,g]=w.useState([]),[b,v]=w.useState([]),[T,N]=w.useState([]),[E,k]=w.useState([]),[D,P]=w.useState(null),[L,V]=w.useState([]),[$,Q]=w.useState(null);w.useEffect(()=>{q.init(),(async()=>{await Promise.all([q.syncProjects(),q.syncAdminProjects()]),await _()})()},[]);const _=async()=>{try{const[te,be,Ae]=await Promise.all([q.syncUsers(),q.syncAllTransactions(),q.getAdminStats(),q.syncAdminProjects(),q.syncTickets(),q.syncSettings(),q.syncAlerts()]);u(te||[]),N(be||[]),Ae&&Q(Ae),g(q.getAdminProjects()),k(q.getTickets()),V(q.getAlerts());const Ie=q.getSystemSettings();Ie&&P(Ie),v(q.getPricing())}catch(te){console.error("Failed to refresh admin data:",te)}},A=te=>{const be=q.getTickets();k(be),e("/admin/tickets")},I=te=>{e(`/admin/users/edit/${te}`),window.scrollTo(0,0)},z=te=>{e(`/admin/projects/edit/${te}`),window.scrollTo(0,0)},O=te=>{e(`/admin/transactions/edit/${te}`),window.scrollTo(0,0)},F=[{title:"Admin Control",items:[{label:"Overview",id:"admin-home",path:"",icon:t.jsx(g4,{size:18})},{label:"User Management",id:"admin-users",path:"users",icon:t.jsx(Ur,{size:18})},{label:"Live Users",id:"admin-live",path:"live",icon:t.jsx(iw,{size:18})},{label:"All Projects",id:"admin-projects",path:"projects",icon:t.jsx(ca,{size:18})},{label:"Create Project",id:"admin-create-project",path:"projects/create",icon:t.jsx(Lr,{size:18})}]},{title:"Operations",items:[{label:"Transactions",id:"admin-transactions",path:"transactions",icon:t.jsx(cn,{size:18})},{label:"Bank Transfers",id:"admin-bank-transfers",path:"bank-transfers",icon:t.jsx(p4,{size:18})},{label:"Support Tickets",id:"admin-tickets",path:"tickets",icon:t.jsx(Mr,{size:18})},{label:"Broadcasts",id:"admin-alerts",path:"alerts",icon:t.jsx(Gb,{size:18})},{label:"API Documentation",id:"admin-api-docs",path:"api-docs",icon:t.jsx(f4,{size:18})}]},{title:"Growth",items:[{label:"Marketing Hub",id:"admin-marketing",path:"marketing",icon:t.jsx(hr,{size:18})},{label:"Coupons",id:"admin-coupons",path:"coupons",icon:t.jsx(Wb,{size:18})},{label:"Conversion",id:"admin-conversion",path:"conversion",icon:t.jsx(Yt,{size:18})},{label:"Benefits",id:"admin-benefits",path:"benefits",icon:t.jsx(hr,{size:18})}]},{title:"Configuration",items:[{label:"Global Pricing",id:"admin-pricing",path:"pricing",icon:t.jsx(cn,{size:18})},{label:"System Settings",id:"admin-settings",path:"settings",icon:t.jsx(ec,{size:18})}]}],R=()=>{const{id:te}=Dd();return te?t.jsx(FL,{userId:te,onBack:()=>e("/admin/users"),onUpdate:_}):t.jsx("div",{children:"Error: No User ID selected"})},U=()=>{const{id:te}=Dd();return te?t.jsx(BL,{projectId:te,onBack:()=>e("/admin/projects"),onUpdate:_}):t.jsx("div",{children:"Error: No Project ID selected"})},he=()=>{const{id:te}=Dd();return te?t.jsx($L,{trxId:te,onBack:()=>e("/admin/transactions"),onUpdate:_}):t.jsx("div",{children:"Error: No Transaction ID selected"})},W=()=>t.jsx(HL,{onBack:()=>e("/admin/projects"),onSuccess:_});return t.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen flex font-sans text-gray-900",children:[t.jsx(_4,{menuSections:F,currentView:c,onNavigate:te=>{e(`/admin/${{"admin-home":"","admin-users":"users","admin-live":"live","admin-projects":"projects","admin-create-project":"projects/create","admin-transactions":"transactions","admin-tickets":"tickets","admin-alerts":"alerts","admin-pricing":"pricing","admin-settings":"settings","admin-api-docs":"api-docs","admin-marketing":"marketing","admin-coupons":"coupons","admin-conversion":"conversion","admin-benefits":"benefits","admin-bank-transfers":"bank-transfers"}[te]||""}`),i(!1),window.scrollTo(0,0)},onLogout:n}),t.jsxs("main",{className:"flex-1 md:ml-64 flex flex-col min-h-screen relative",children:[t.jsx(S4,{title:"Super Admin Panel",onMobileMenuClick:()=>i(!0),isAdmin:!0}),t.jsx("div",{className:"flex-1 p-6 md:p-12 overflow-y-auto",children:t.jsx("div",{className:"max-w-screen-2xl mx-auto h-full",children:t.jsxs(tw,{children:[t.jsx(Be,{index:!0,element:t.jsx(NL,{users:f,projects:m,tickets:E,transactions:T,onNavigate:te=>{e(`/admin/${{"admin-users":"users","admin-projects":"projects","admin-tickets":"tickets","admin-transactions":"transactions"}[te]||""}`)},stats:$})}),t.jsx(Be,{path:"users",element:t.jsx(_L,{users:f,projects:m,transactions:T,tickets:E,onRefresh:_,onEditUser:I})}),t.jsx(Be,{path:"users/edit/:id",element:t.jsx(R,{})}),t.jsx(Be,{path:"live",element:t.jsx(AL,{onStartChat:A})}),t.jsx(Be,{path:"tickets",element:t.jsx(SL,{tickets:E,onRefresh:_})}),t.jsx(Be,{path:"projects",element:t.jsx(TL,{projects:m,onEditProject:z})}),t.jsx(Be,{path:"projects/edit/:id",element:t.jsx(U,{})}),t.jsx(Be,{path:"projects/create",element:t.jsx(W,{})}),t.jsx(Be,{path:"transactions",element:t.jsx(kL,{transactions:T,onEditTransaction:O})}),t.jsx(Be,{path:"transactions/edit/:id",element:t.jsx(he,{})}),t.jsx(Be,{path:"alerts",element:t.jsx(CL,{alerts:L,onRefresh:_})}),t.jsx(Be,{path:"pricing",element:t.jsx(wL,{initialData:b,onSave:()=>v(q.getPricing())})}),t.jsx(Be,{path:"settings",element:D?t.jsx(EL,{initialSettings:D,onSave:_}):t.jsx("div",{children:"Loading..."})}),t.jsx(Be,{path:"api-docs",element:t.jsx(GL,{})}),t.jsx(Be,{path:"marketing",element:t.jsx(WL,{})}),t.jsx(Be,{path:"coupons",element:t.jsx(YL,{onRefresh:_})}),t.jsx(Be,{path:"conversion",element:t.jsx(QL,{})}),t.jsx(Be,{path:"bank-transfers",element:t.jsx(XL,{})}),t.jsx(Be,{path:"benefits",element:t.jsx(JL,{})}),t.jsx(Be,{path:"*",element:t.jsx(sa,{to:"/admin",replace:!0})})]})})})]})]})},e8=({type:n,onBack:e})=>{const s=()=>{switch(n){case"privacy":return"Privacy Policy | Traffic Creator - Secure Website Traffic";case"terms":return"Terms of Use | Service Agreement - Traffic Creator";case"impressum":return"Impressum & Legal Imprint - EasyTrafficBot UG";case"agb":return"General Terms and Conditions (AGB) - Traffic Creator";case"refund":return"Refund & Cancellation Policy - Traffic Creator";case"delivery":return"Service Delivery Standards | Digital fulfillment";default:return"Legal Documentation - Traffic Creator"}},r=()=>{switch(n){case"privacy":return"Learn how Traffic Creator collects, uses, and protects your personal data in accordance with GDPR and international privacy standards.";case"terms":return"Our Terms of Use outline the legal agreement between you and Traffic Creator regarding your use of our website and services.";case"impressum":return"Official legal imprint and corporate information for EasyTrafficBot UG, the parent company of Traffic Creator.";case"agb":return"Read our General Terms and Conditions (AGB) for a detailed overview of our service agreements, pricing, and liability policies.";case"refund":return"Information about our refund policy, satisfaction guarantees, and the process for requesting a refund at Traffic Creator.";case"delivery":return"Understand our digital service delivery standards, including campaign activation times and fulfillment processes.";default:return"Official legal documentation for Traffic Creator services and website usage."}},i=()=>{switch(n){case"privacy":return"Privacy Policy";case"terms":return"Terms of Use";case"impressum":return"Impressum (Imprint)";case"agb":return"AGB (General Terms)";case"refund":return"Refund Policy";case"delivery":return"Delivery Policy";default:return"Legal Document"}},l=()=>{switch(n){case"impressum":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last modified: February 06, 2024"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 text-sm text-gray-600",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Information according to  5 TMG"}),t.jsx("p",{className:"font-bold text-gray-900",children:"EasyTrafficBot UG"}),t.jsx("p",{children:"Arrenbergsche Hfe 6"}),t.jsx("p",{children:"Building 44"}),t.jsx("p",{children:"42117 Wuppertal"}),t.jsx("p",{className:"mt-2 text-xs",children:"Commercial Register: HRB 30863"}),t.jsx("p",{className:"text-xs",children:"Registration Court: Amtsgericht Wuppertal"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Contact"}),t.jsxs("p",{children:[t.jsx("span",{className:"font-bold",children:"Phone:"})," +84373832085"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-bold",children:"Fax:"})," +49 (0) 123 44 55 99"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-bold",children:"E-Mail:"})," support@traffic-creator.com"]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Represented by"}),t.jsx("p",{children:"Martin Freiwald"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"EU Dispute Resolution"}),t.jsx("p",{children:"The European Commission provides a platform for online dispute resolution (ODR):"}),t.jsx("a",{href:"https://ec.europa.eu/consumers/odr/",target:"_blank",rel:"noopener noreferrer",className:"text-[#ff4d00] hover:underline break-all",children:"https://ec.europa.eu/consumers/odr/"}),t.jsx("p",{className:"mt-2 italic",children:"You can find our e-mail address above in the imprint."})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Consumer dispute resolution/Universal arbitration board"}),t.jsx("p",{children:"We are not willing or obliged to participate in dispute resolution proceedings before a consumer arbitration board."})]})]})]});case"agb":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"General Terms and Conditions (AGB) for Traffic Bot"}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Scope of Application"}),t.jsx("p",{children:"These General Terms and Conditions (AGB) apply to all business relationships between EasyTrafficBot UG (hereinafter: Provider) and its customers (hereinafter: Customer). The version valid at the time of the conclusion of the contract is authoritative."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Conclusion of Contract"}),t.jsx("p",{children:'The presentation of services on the website does not constitute a legally binding offer but an invitation to order. By clicking the "Order" or "Pay" button, the Customer places a binding order for the services contained in the shopping cart.'}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Services"}),t.jsx("p",{children:"The Provider delivers website traffic to the URLs specified by the Customer. The Provider guarantees the delivery of the purchased number of visitors but does not guarantee specific actions by these visitors (e.g., sales, sign-ups) unless explicitly stated otherwise."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Prices and Payment"}),t.jsx("p",{children:"All prices are final prices and include the statutory value-added tax (VAT) unless the Customer is based outside the EU or has a valid VAT ID. Payments are due immediately upon conclusion of the contract."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Warranty and Liability"}),t.jsx("p",{children:"The Provider is liable for defects in accordance with the statutory provisions. Liability for slight negligence is excluded, provided that no essential contractual obligations are violated."})]});case"refund":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last modified: September 25, 2024"}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"1. Right of Withdrawal"}),t.jsx("p",{children:"As a consumer based in the European Union, you have the right to withdraw from this contract within 14 days without giving any reason. The withdrawal period will expire after 14 days from the day of the conclusion of the contract."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"2. Effects of Withdrawal"}),t.jsx("p",{children:"If you withdraw from this contract, we shall reimburse to you all payments received from you, including the costs of delivery (with the exception of the supplementary costs resulting from your choice of a type of delivery other than the least expensive type of standard delivery offered by us), without undue delay and in any event not later than 14 days from the day on which we are informed about your decision to withdraw from this contract."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"3. Exceptions to the Right of Withdrawal"}),t.jsx("p",{children:"The right of withdrawal does not apply to:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"The supply of digital content which is not supplied on a tangible medium if the performance has begun with your prior express consent and acknowledgment that you thereby lose your right of withdrawal."}),t.jsx("li",{children:"Services that have been fully performed if the performance has begun with your prior express consent, and with acknowledgment that you will lose your right of withdrawal once the contract has been fully performed."})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"4. How to Exercise Your Right of Withdrawal"}),t.jsx("p",{children:"To exercise your right of withdrawal, you must inform us of your decision to withdraw from this contract by an unequivocal statement (e.g., a letter sent by post or email). You may use the attached model withdrawal form, but it is not obligatory."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"5. Refunds for Defective Products or Services"}),t.jsx("p",{children:"If the product or service you received is defective or not as described, you are entitled to a repair, replacement, or refund. Please contact our customer service team to initiate this process."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"6. Subscription Services"}),t.jsx("p",{children:'You may cancel your subscription at any time. Refunds for the remaining unused period will be provided on a pro-rata basis. If you cancel within the first 30 days of your subscription ("trial period"), you are eligible for a full refund.'})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"7. Non-Refundable Items and Situations"}),t.jsx("p",{children:"The following items, services, or situations are non-refundable:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"Custom or personalized services"}),t.jsx("li",{children:"Downloadable software or digital products that have been accessed or downloaded"}),t.jsx("li",{children:"Services that have already been fully performed"}),t.jsx("li",{children:"Traffic creation services where the failure to deliver traffic is due to factors beyond our control"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"8. Traffic Delivery Issues Outside Our Control"}),t.jsx("p",{children:"Refunds will not be issued in cases where the failure to deliver traffic is due to factors beyond our control, including but not duration to:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"Changes in search engine algorithms or policies"}),t.jsx("li",{children:"Changes in social media platform algorithms or policies"}),t.jsx("li",{children:"Restrictions or bans imposed on the client's website by third-party platforms"}),t.jsx("li",{children:"Client's website being offline or experiencing technical issues"}),t.jsx("li",{children:"Content on the client's website violating our terms of service or the terms of service of traffic sources"}),t.jsx("li",{children:"Force majeure events (e.g., natural disasters, global pandemics, significant internet outages)"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"9. Refund Processing Time"}),t.jsx("p",{children:"Refunds will be processed within 5-10 business days of approval. The time it takes for the refund to appear in your account may vary depending on your payment method and financial institution."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"10. Contact Us"}),t.jsx("p",{children:"If you have any questions about our refund policy or wish to request a refund, please contact us at: support@traffic-creator.com"})]})]})]});case"delivery":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Service Delivery Standards"}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Delivery Timeframe"}),t.jsx("p",{children:"Traffic campaigns typically start within 5 to 15 minutes after payment confirmation and campaign approval. In some cases, such as manual reviews for sensitive categories, activation may take up to 24 hours."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Method of Delivery"}),t.jsx("p",{children:"Services are delivered digitally. No physical products are shipped. You will receive a confirmation email once your campaign is active, and you can monitor progress in real-time via the Dashboard."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Campaign Completion"}),t.jsx("p",{children:"A campaign is considered complete when the total number of purchased visitors has been delivered to the target URL. Delivery speed is determined by your campaign settings."})]});case"privacy":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last Updated: October 27, 2023"}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"1. Interpretation and Definitions"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-bold text-gray-800",children:"Interpretation"}),t.jsx("p",{children:"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."}),t.jsx("h4",{className:"font-bold text-gray-800",children:"Definitions"}),t.jsx("p",{children:"For the purposes of this Privacy Policy:"}),t.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Account"})," means a unique account created for You to access our Service or parts of our Service."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Company"}),' (referred to as either "the Company", "We", "Us" or "Our" in this Agreement) refers to EasyTrafficBot UG, Arrenbergsche Hfe 6, 42117.']}),t.jsxs("li",{children:[t.jsx("strong",{children:"Cookies"})," are small files that are placed on Your computer, mobile device or any other device by a website..."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Personal Data"})," is any information that relates to an identified or identifiable individual."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Service"})," refers to the Website."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Usage Data"})," refers to data collected automatically, either generated by the use of the Service or from the Service infrastructure itself."]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"2. Collecting and Using Your Personal Data"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-bold text-gray-800 underline",children:"Types of Data Collected"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Personal Data:"})," While using Our Service, We may ask You to provide Us with certain personally identifiable information that can be used to contact or identify You. Personally identifiable information may include, but is not limited to: Email address, First name and last name, Usage Data."]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Usage Data:"})," Usage Data is collected automatically when using the Service. It may include information such as Your Device's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that You visit, the time and date of Your visit, the time spent on those pages, unique device identifiers and other diagnostic data."]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"3. Tracking Technologies and Cookies"}),t.jsx("p",{children:"We use Cookies and similar tracking technologies to track the activity on Our Service and store certain information. Tracking technologies used are beacons, tags, and scripts to collect and track information and to improve and analyze Our Service."}),t.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-2",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Necessary / Essential Cookies:"})," These Cookies are essential to provide You with services available through the Website."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Cookies Policy / Notice Acceptance Cookies:"})," These Cookies identify if users have accepted the use of cookies on the Website."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Functionality Cookies:"})," These Cookies allow us to remember choices You make when You use the Website."]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"4. Use of Your Personal Data"}),t.jsx("p",{children:"The Company may use Personal Data for the following purposes:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-2",children:[t.jsx("li",{children:"To provide and maintain our Service."}),t.jsx("li",{children:"To manage Your Account."}),t.jsx("li",{children:"For the performance of a contract."}),t.jsx("li",{children:"To contact You."}),t.jsx("li",{children:"To provide You with news, special offers and general information."})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"5. Delete Your Personal Data"}),t.jsx("p",{children:"You have the right to delete or request that We assist in deleting the Personal Data that We have collected about You. Our Service may give You the ability to delete certain information about You from within the Service."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"6. Contact Us"}),t.jsx("p",{children:"If you have any questions about this Privacy Policy, You can contact us by email: support@traffic-creator.com"})]})]})]});case"terms":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last modified: September 25, 2024"}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"1. Introduction"}),t.jsx("p",{children:"Welcome to Traffic Bot. These Terms of Use (the 'Terms') constitute a legally binding agreement between you ('the User') and Traffic Bot ('we', 'our', or 'us') regarding your access to and use of our website and services. By accessing or using our services, you confirm your acceptance of these Terms in full."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"2. User Obligations"}),t.jsx("p",{children:"When using our services, you agree to:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"Provide accurate and complete information (such as your name, email, etc.) when creating an account"}),t.jsx("li",{children:"Maintain the security of your account credentials"}),t.jsx("li",{children:"Use our services only for lawful purposes and in accordance with these Terms"}),t.jsx("li",{children:"Not attempt to interfere with or disrupt our services or servers"}),t.jsx("li",{children:"Not use our services to distribute malware or other harmful code"}),t.jsx("li",{children:"Notify us immediately of any unauthorized access to or use of your account"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"3. Privacy Policy"}),t.jsx("p",{children:"We respect your privacy and are committed to protecting your personal data. Our Privacy Policy outlines how we collect, use, and protect your personal information."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"4. Intellectual Property Rights"}),t.jsx("p",{children:"All content, features, and functionality of our services are owned by Traffic Bot and are protected by international copyright, trademark, and other intellectual property laws. You may not reproduce, modify, distribute, or otherwise exploit any intellectual property belonging to Traffic Bot without our express written consent."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"5. Limitation of Liability"}),t.jsx("p",{children:"To the fullest extent permitted by law, Traffic Bot shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses resulting from your use or inability to use our services."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"6. Termination"}),t.jsx("p",{children:"We reserve the right to terminate or suspend your account at our sole discretion, without prior notice, for reasons including but not limited to violations of these Terms, illegal activity, or prolonged periods of inactivity."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"7. Governing Law"}),t.jsx("p",{children:"These Terms shall be governed by the laws of Germany, without reference to conflict of law principles. Any legal disputes shall be exclusively resolved in the courts of Wuppertal."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"8. Dispute Resolution"}),t.jsx("p",{children:"Any disputes arising out of or related to these Terms or our services shall first be attempted to be resolved through good-faith negotiations. If such negotiations fail, both parties agree to resolve the dispute through binding arbitration."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"9. Amendments to Terms"}),t.jsx("p",{children:"We may modify these Terms from time to time. Material changes will be communicated via email, through a notice on our website, or other appropriate methods. Your continued use of our services following the posting of changes will confirm your acceptance of such changes."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"10. Acceptance of Terms"}),t.jsx("p",{children:"By accessing or using our services, you confirm that you have read, understood, and agree to be bound by these Terms of Use. If you do not agree, you must not use our services."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"11. Severability"}),t.jsx("p",{children:"If any provision of these Terms is held to be unenforceable or invalid, such provision will be changed and interpreted to accomplish the objectives of such provision to the greatest extent possible under applicable law, and the remaining provisions will continue in full force and effect."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"12. Third-Party Services"}),t.jsx("p",{children:"Our services may contain links to third-party websites or services that are not owned or controlled by Traffic Bot. We have no control over, and assume no responsibility for, the content, privacy policies, or practices of any third-party websites or services."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"13. Contact Us"}),t.jsx("p",{children:"If you have any questions about these Terms of Use, please contact us at: support@traffic-creator.com"})]})]})]});default:return t.jsx("p",{children:"Content not available."})}};return t.jsxs("div",{className:"min-h-screen bg-white",children:[t.jsx(Ti,{title:s(),description:r(),keywords:`traffic bot ${n}, website traffic ${n}, seo traffic legal, easytrafficbot ug documentation`,type:"article",schema:{"@context":"https://schema.org","@type":"WebPage",publisher:{"@type":"Organization",name:"Traffic Creator",logo:"https://traffic-creator.com/logo.png"}}}),t.jsx("div",{className:"border-b border-gray-100 bg-white sticky top-0 z-50",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs(Ue,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors text-xs font-bold uppercase tracking-wider",children:[t.jsx(Hn,{size:16})," Back"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-[10px] font-bold bg-black text-white px-1.5 py-0.5 rounded-sm uppercase tracking-wide",children:"Bot"})]})]})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-20",children:[t.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-12 uppercase tracking-tight",children:i()}),t.jsx("div",{className:"prose prose-gray max-w-none text-gray-600 leading-relaxed font-sans",children:l()})]}),t.jsx("footer",{className:"bg-black text-white py-12 px-6 mt-20",children:t.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[t.jsx("div",{className:"text-xl font-black text-white tracking-tight",children:"TRAFFIC BOT"}),t.jsx("div",{className:"text-xs text-gray-600",children:" 2024 EasyTrafficBot UG"})]})})]})},t8=({onBack:n})=>{const[e,s]=w.useState(""),[r,i]=w.useState("all"),[l,c]=w.useState(null),[f,u]=w.useState([]);w.useEffect(()=>{q.getFAQs().then(u).catch(()=>u([]))},[]);const m=[{id:"all",label:"All Topics"},{id:"billing",label:"Billing & Payments",icon:t.jsx(cn,{size:14})},{id:"technical",label:"Technical Support",icon:t.jsx($M,{size:14})},{id:"general",label:"General Account",icon:t.jsx(Os,{size:14})}],g=[{id:"1",question:"How long does it take for traffic to start?",answer:"Campaigns typically start delivering traffic within 5-15 minutes after creation. However, depending on the complexity of your targeting (specific cities, devices), it may take up to an hour for the first hits to register.",category:"general"},{id:"2",question:"Can I upgrade my plan later?",answer:"Yes, you can upgrade your plan at any time. Simply add funds to your wallet and create a new campaign with the desired higher tier. We recommend the 'Agency' plan for maximum volume.",category:"billing"},{id:"3",question:"Why is my traffic not showing in Google Analytics?",answer:"Ensure you are looking at 'Realtime' reports. Also, verify that your GA4 ID is correct in the project settings. Some traffic filters in GA4 may exclude bot traffic by default; our 'Growth' plan is designed to bypass standard bot filters.",category:"technical"},{id:"4",question:"Is this traffic safe for AdSense?",answer:"Our 'Growth' and 'Agency' traffic tiers are safe for AdSense as they utilize high-quality residential IPs. However, we always recommend monitoring your CTR (Click-Through Rate) and adjusting your campaign speed accordingly.",category:"technical"},{id:"5",question:"What payment methods do you accept?",answer:"We accept Visa, Mastercard, American Express via Stripe. We also support PayPal and various Cryptocurrencies (BTC, ETH, USDT).",category:"billing"},{id:"6",question:"How do I reset my API key?",answer:"Navigate to your Profile settings in the dashboard. Under the 'Developer Settings' section, click the refresh icon to invalidate your old key and generate a new one.",category:"general"}],v=(f.length>0?f:g).filter(T=>(r==="all"||T.category===r)&&(T.question.toLowerCase().includes(e.toLowerCase())||T.answer.toLowerCase().includes(e.toLowerCase())));return t.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans",children:[t.jsx(Ti,{title:"Help Center & Documentation 2024 - Traffic Bot Support",description:"Find answers to common questions, setup guides, and API documentation for Traffic Bot in 2024.",keywords:"traffic bot support 2024, help center, documentation, faq, seo tool support",type:"article",schema:{"@context":"https://schema.org","@type":"FAQPage",mainEntity:v.map(T=>({"@type":"Question",name:T.question,acceptedAnswer:{"@type":"Answer",text:T.answer}}))}}),t.jsxs("div",{className:"bg-[#111] text-white pt-20 pb-32 px-6 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-[#ff4d00] opacity-10 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"}),t.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-400 hover:text-white mb-8 text-xs font-bold uppercase tracking-wider transition-colors",children:[t.jsx(Hn,{size:16})," Back to Home"]}),t.jsx("h1",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-6",children:"How can we help?"}),t.jsxs("div",{className:"relative max-w-2xl",children:[t.jsx(Gn,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",value:e,onChange:T=>s(T.target.value),placeholder:"Search for answers...",className:"w-full bg-white text-gray-900 pl-16 pr-6 py-5 rounded-sm shadow-xl text-lg font-medium outline-none focus:ring-2 focus:ring-[#ff4d00]"})]})]})]}),t.jsxs("div",{className:"max-w-4xl mx-auto px-6 -mt-16 relative z-20 pb-20",children:[t.jsx("div",{className:"flex flex-wrap gap-4 mb-12",children:m.map(T=>t.jsxs("button",{onClick:()=>i(T.id),className:`px-6 py-4 rounded-sm shadow-sm flex items-center gap-3 text-sm font-bold uppercase tracking-wider transition-all
                            ${r===T.id?"bg-[#ff4d00] text-white transform -translate-y-1":"bg-white text-gray-600 hover:bg-gray-50"}
                        `,children:[T.icon,T.label]},T.id))}),t.jsx("div",{className:"space-y-4",children:v.length===0?t.jsxs("div",{className:"text-center py-20 bg-gray-50 border border-gray-100 rounded-sm",children:[t.jsx(Mr,{className:"mx-auto text-gray-300 mb-4",size:48}),t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"No results found"}),t.jsx("p",{className:"text-gray-500",children:"Try adjusting your search terms or browse all categories."})]}):v.map((T,N)=>t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm transition-all hover:border-gray-300",children:[t.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left",onClick:()=>c(l===N?null:N),children:[t.jsx("span",{className:"font-bold text-gray-900 text-lg",children:T.question}),l===N?t.jsx(bu,{size:20,className:"text-[#ff4d00]"}):t.jsx(qa,{size:20,className:"text-gray-400"})]}),l===N&&t.jsx("div",{className:"px-6 pb-8 pt-2 text-gray-600 leading-relaxed animate-in fade-in slide-in-from-top-2 border-t border-gray-50",children:T.answer})]},N))}),t.jsxs("div",{className:"mt-20 bg-gray-50 border border-gray-200 p-10 text-center",children:[t.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4",children:"Still need help?"}),t.jsx("p",{className:"text-gray-500 mb-8 max-w-lg mx-auto",children:"Our support team is available 24/7 to assist you with any technical or billing inquiries."}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsxs("button",{className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(_i,{size:16})," Contact Support"]}),t.jsxs("button",{className:"bg-white border border-gray-300 text-gray-900 px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-gray-100 transition-colors flex items-center gap-2",children:[t.jsx(Mr,{size:16})," Live Chat"]})]})]})]}),t.jsx("footer",{className:"bg-black text-white py-12 px-6",children:t.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[t.jsx("div",{className:"text-xl font-black tracking-tight",children:"TRAFFIC BOT"}),t.jsx("div",{className:"text-xs text-gray-500",children:" 2024 EasyTrafficBot UG"})]})})]})},yS=({onBack:n})=>{const{slug:e}=Dd(),s=Us(),[r,i]=w.useState([]),[l,c]=w.useState(null),[f,u]=w.useState(!0),[m,g]=w.useState(null),[b,v]=w.useState(""),[T,N]=w.useState("All"),[E,k]=w.useState(e?"article":"list");w.useEffect(()=>{(async()=>{try{const O=await(await fetch("/api/blog/articles")).json();i(O),u(!1)}catch(z){console.error("Error fetching articles:",z),u(!1)}})()},[]),w.useEffect(()=>{e?(async()=>{try{const z=await fetch(`/api/blog/articles/${e}`);if(z.ok){const O=await z.json();c(O.content)}}catch(z){console.error("Error fetching article content:",z)}})():c(null)},[e]);const D=["All","Reviews","SEO","Marketing","Guides","Crypto","Strategy","Analytics"];w.useEffect(()=>{if(!f)if(e){const I=r.find(z=>z.slug===e);I?(g(I.id),k("article")):s("/blog")}else k("list"),g(null)},[e,r,f]);const P=I=>{const z=r.find(O=>O.id===I);z&&(s(`/blog/${z.slug}`),window.scrollTo(0,0))},L=()=>{s("/blog"),window.scrollTo(0,0)},V=()=>{const z=`<?xml version="1.0" encoding="UTF-8" ?>
        <rss version="2.0">
        <channel>
            <title>Traffic Creator Journal</title>
            <link>https://traffic-creator.com</link>
            <description>Digital Growth Insights</description>
            ${r.map(R=>`
        <item>
            <title>${R.title}</title>
            <link>https://traffic-creator.com/blog/${R.slug}</link>
            <description>${R.excerpt}</description>
            <pubDate>${new Date(R.date).toUTCString()}</pubDate>
            <guid>https://traffic-creator.com/blog/${R.slug}</guid>
        </item>
      `).join("")}
        </channel>
        </rss>`,O=new Blob([z],{type:"text/xml"}),F=URL.createObjectURL(O);window.open(F,"_blank")},$=r.find(I=>I.id===m),Q=$?r.filter(I=>I.category===$.category&&I.id!==$.id):[],_=E==="article"&&$?{title:`${$.title} | Traffic Creator Journal`,description:$.seoDescription,keywords:$.tags.join(", "),type:"article",image:$.image,schema:{"@context":"https://schema.org","@type":"BlogPosting",headline:$.title,image:[$.image],datePublished:new Date($.date).toISOString(),author:[{"@type":"Person",name:$.author}],publisher:{"@type":"Organization",name:"Traffic Creator",logo:{"@type":"ImageObject",url:"https://traffic-creator.com/logo.png"}},description:$.seoDescription}}:{title:"SEO & Traffic Generation Blog 2026 | Traffic Creator Insights",description:"Expert guides for 2026 on improving website traffic, CTR manipulation strategies, and technical SEO best practices for modern algorithms.",keywords:"seo blog 2026, traffic generation tips, ranking strategies, digital marketing insights",type:"website"},A=r.filter(I=>{const z=I.title.toLowerCase().includes(b.toLowerCase())||I.excerpt.toLowerCase().includes(b.toLowerCase()),O=T==="All"||I.category===T;return z&&O});return E==="article"&&$?t.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900 pb-20 selection:bg-[#ff4d00]/30 underline-offset-4",children:[t.jsx(Ti,{..._}),t.jsx(s8,{}),t.jsxs("div",{className:"relative h-[60vh] bg-gray-900 group",children:[t.jsx("img",{src:$.image,className:"w-full h-full object-cover opacity-60 group-hover:opacity-50 transition-opacity duration-700",alt:"Cover"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent"})," ",t.jsx("div",{className:"absolute top-0 left-0 w-full p-6 flex justify-between items-center z-10",children:t.jsxs("button",{onClick:L,className:"text-white flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors bg-black/20 backdrop-blur-md px-4 py-2 rounded-full",children:[t.jsx(Hn,{size:14})," Back"]})}),t.jsx("div",{className:"absolute bottom-0 left-0 w-full p-8 md:p-16",children:t.jsxs("div",{className:"max-w-4xl mx-auto animate-in slide-in-from-bottom-10 fade-in duration-700",children:[t.jsx("div",{className:"flex gap-2 mb-6",children:t.jsx("span",{className:"bg-[#ff4d00] text-white px-3 py-1 text-[10px] font-black uppercase tracking-widest",children:$.category})}),t.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white leading-[1.1] mb-8 drop-shadow-lg",children:$.title}),t.jsxs("div",{className:"flex flex-wrap items-center gap-8 text-gray-200 text-sm font-medium border-t border-white/20 pt-8",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center text-white font-bold",children:$.author.charAt(0)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-bold",children:$.author}),t.jsx("div",{className:"text-xs text-gray-300 uppercase tracking-wide",children:$.role})]})]}),t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Ql,{size:16})," ",$.date]}),t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(ps,{size:16})," ",$.readTime]})]})]})})]}),t.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-20 grid grid-cols-1 lg:grid-cols-4 gap-12",children:[t.jsxs("div",{className:"lg:col-span-3",children:[t.jsx("p",{className:"text-xl text-gray-600 mb-10 font-medium border-l-4 border-[#ff4d00] pl-6 italic",children:$.excerpt}),l?t.jsx("div",{className:"article-content-wrapper text-gray-800",dangerouslySetInnerHTML:{__html:l}}):t.jsxs("div",{className:"prose prose-lg prose-slate max-w-none leading-relaxed prose-headings:font-black prose-headings:tracking-tight prose-a:text-[#ff4d00] prose-img:rounded-sm space-y-6",children:[t.jsxs("div",{className:"animate-pulse space-y-4",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),t.jsx("p",{className:"text-gray-400",children:"Loading article content..."})]}),t.jsx("div",{className:"mt-20 pt-10 border-t border-gray-200",children:t.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:$.tags.map(I=>t.jsxs("span",{className:"bg-gray-100 hover:bg-gray-200 transition-colors text-gray-600 px-4 py-2 text-xs font-bold uppercase tracking-wide rounded-sm cursor-pointer",children:["#",I]},I))})})]}),t.jsxs("div",{className:"lg:col-span-1 space-y-12",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 mb-4",children:"Share This"}),t.jsx("div",{className:"flex gap-2",children:t.jsx("button",{className:"p-3 rounded-full border border-gray-200 text-gray-500 hover:text-[#ff4d00] hover:border-[#ff4d00] transition-all",onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("Link copied!")},children:t.jsx(ow,{size:18})})})]}),Q.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 mb-6",children:"Related Reads"}),t.jsx("div",{className:"space-y-6",children:Q.slice(0,5).map(I=>t.jsxs("div",{className:"group cursor-pointer",onClick:()=>P(I.id),children:[t.jsx("div",{className:"aspect-video bg-gray-100 mb-2 overflow-hidden rounded-sm",children:t.jsx("img",{src:I.image,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),t.jsx("h5",{className:"text-sm font-bold text-gray-900 group-hover:text-[#ff4d00] leading-tight mb-1",children:I.title}),t.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:I.date})]},I.id))})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-100 text-gray-900 p-6 text-center rounded-sm",children:[t.jsx(_i,{className:"mx-auto mb-4 text-[#ff4d00]",size:24}),t.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Join the Inner Circle"}),t.jsx("p",{className:"text-gray-500 text-xs mb-6",children:"Get exclusive SEO tips delivered to your inbox."}),t.jsx("input",{type:"email",placeholder:"Email",className:"bg-white border border-gray-200 text-gray-900 placeholder-gray-400 px-4 py-2 w-full outline-none focus:ring-1 focus:ring-[#ff4d00] mb-2 text-sm"}),t.jsx("button",{className:"w-full bg-[#ff4d00] text-white px-4 py-2 font-bold uppercase text-xs tracking-wider hover:bg-black hover:text-white transition-colors",children:"Subscribe"})]})]})]})]}):t.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900",children:[t.jsx(Ti,{..._}),t.jsx("div",{className:"border-b border-gray-200 sticky top-0 bg-white/95 backdrop-blur-md z-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-[#ff4d00] transition-colors text-xs font-bold uppercase tracking-wider",children:[t.jsx(Hn,{size:16})," Back to Home"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-[10px] font-bold bg-black text-white px-1.5 py-0.5 rounded-sm uppercase tracking-wide",children:"Journal"})]})]})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-20",children:[t.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[t.jsxs("h1",{className:"text-5xl md:text-7xl font-black uppercase tracking-tight mb-6 leading-[0.9] text-gray-900",children:["Digital ",t.jsx("span",{className:"text-[#ff4d00]",children:"Growth"}),t.jsx("br",{}),"Insights."]}),t.jsx("p",{className:"text-xl text-gray-500 leading-relaxed mb-10",children:"Expert advice on digital marketing, SEO strategies, and traffic optimization for the modern web."}),t.jsxs("div",{className:"relative max-w-xl mx-auto shadow-xl",children:[t.jsx("input",{type:"text",placeholder:"Search articles...",value:b,onChange:I=>v(I.target.value),className:"w-full bg-white border border-gray-200 py-4 pl-12 pr-4 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00] transition-colors rounded-sm"}),t.jsx(Gn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),t.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-16",children:D.map(I=>t.jsx("button",{onClick:()=>N(I),className:`px-6 py-2 text-xs font-bold uppercase tracking-widest border transition-all rounded-full
                            ${T===I?"bg-[#ff4d00] text-white border-[#ff4d00] shadow-lg":"bg-gray-50 text-gray-500 border-gray-200 hover:border-gray-400 hover:text-black"}
                        `,children:I},I))}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-12 gap-y-16",children:A.length===0?t.jsxs("div",{className:"col-span-3 text-center py-20 text-gray-400",children:[t.jsx(vu,{size:48,className:"mx-auto mb-4 opacity-20"}),t.jsx("p",{children:"No articles found matching your criteria."})]}):A.map((I,z)=>t.jsxs("article",{className:"group cursor-pointer flex flex-col h-full animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${z*100}ms`},onClick:()=>P(I.id),children:[t.jsxs("div",{className:"aspect-[4/3] overflow-hidden bg-gray-100 mb-6 relative rounded-sm group shadow-sm",children:[t.jsx("img",{src:I.image,alt:I.title,className:"w-full h-full object-cover transform scale-100 group-hover:scale-110 transition-transform duration-1000 opacity-90 group-hover:opacity-100",loading:"lazy"}),t.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-md px-3 py-1 text-[10px] font-black uppercase tracking-widest text-[#ff4d00] shadow-sm border border-gray-100",children:I.category})]}),t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[I.date," ",t.jsx("span",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full"})," ",I.readTime]}),t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-3 group-hover:text-[#ff4d00] transition-colors leading-tight tracking-tight",children:I.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed mb-6 flex-1 line-clamp-3",children:I.excerpt}),t.jsxs("div",{className:"flex items-center gap-2 text-xs font-black uppercase tracking-widest text-[#ff4d00] group-hover:translate-x-2 transition-transform duration-300 mt-auto",children:["Read Article ",t.jsx(ms,{size:14})]})]})]},I.id))})]}),t.jsx("footer",{className:"bg-gray-900 text-white py-12 px-6 mt-20",children:t.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6",children:[t.jsx("div",{className:"text-xl font-black tracking-tight",children:"TRAFFIC CREATOR"}),t.jsxs("div",{className:"flex gap-6 text-xs font-bold text-gray-500 uppercase tracking-widest",children:[t.jsxs("button",{onClick:V,className:"hover:text-white transition-colors flex items-center gap-2",children:[t.jsx(eM,{size:14})," RSS Feed"]}),t.jsx("button",{className:"hover:text-white transition-colors",children:"Newsletter"}),t.jsx("button",{className:"hover:text-white transition-colors",children:"Archive"})]}),t.jsx("div",{className:"text-xs text-gray-600",children:" 2026 Traffic Creator Inc."})]})})]})},s8=()=>{const[n,e]=w.useState(0);return w.useEffect(()=>{const s=()=>{const r=document.documentElement.scrollTop,i=document.documentElement.scrollHeight-document.documentElement.clientHeight;if(i===0)return;const l=r/i;e(l)};return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[]),t.jsx("div",{className:"fixed top-0 left-0 h-1 bg-[#ff4d00] z-[60] transition-all duration-100 ease-out",style:{width:`${n*100}%`}})};/*! js-cookie v3.0.5 | MIT */function Wp(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)n[r]=s[r]}return n}var n8={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function tv(n,e){function s(i,l,c){if(!(typeof document>"u")){c=Wp({},e,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var f="";for(var u in c)c[u]&&(f+="; "+u,c[u]!==!0&&(f+="="+c[u].split(";")[0]));return document.cookie=i+"="+n.write(l,i)+f}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var l=document.cookie?document.cookie.split("; "):[],c={},f=0;f<l.length;f++){var u=l[f].split("="),m=u.slice(1).join("=");try{var g=decodeURIComponent(u[0]);if(c[g]=n.read(m,g),i===g)break}catch{}}return i?c[i]:c}}return Object.create({set:s,get:r,remove:function(i,l){s(i,"",Wp({},l,{expires:-1}))},withAttributes:function(i){return tv(this.converter,Wp({},this.attributes,i))},withConverter:function(i){return tv(Wp({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var kg=tv(n8,{path:"/"});const r8=({condition:n,wrapper:e,children:s})=>n?e(s):s,sv={TOP:"top",BOTTOM:"bottom"};var mw=(n=>(n.STRICT="strict",n.LAX="lax",n.NONE="none",n))(mw||{});const nv={HIDDEN:"hidden",BY_COOKIE_VALUE:"byCookieValue"},J4="CookieConsent",a8=({children:n,...e})=>De.createElement("button",{...e},n),Wh={disableStyles:!1,hideOnAccept:!0,hideOnDecline:!0,location:sv.BOTTOM,visible:nv.BY_COOKIE_VALUE,onAccept:n=>{},onDecline:()=>{},cookieName:J4,cookieValue:"true",declineCookieValue:"false",setDeclineCookie:!0,buttonText:"I understand",declineButtonText:"I decline",debug:!1,expires:365,containerClasses:"CookieConsent",contentClasses:"",buttonClasses:"",buttonWrapperClasses:"",declineButtonClasses:"",buttonId:"rcc-confirm-button",declineButtonId:"rcc-decline-button",extraCookieOptions:{},disableButtonStyles:!1,enableDeclineButton:!1,flipButtons:!1,sameSite:mw.LAX,ButtonComponent:a8,overlay:!1,overlayClasses:"",onOverlayClick:()=>{},acceptOnOverlayClick:!1,ariaAcceptLabel:"Accept cookies",ariaDeclineLabel:"Decline cookies",acceptOnScroll:!1,acceptOnScrollPercentage:25,customContentAttributes:{},customContainerAttributes:{},customButtonProps:{},customDeclineButtonProps:{},customButtonWrapperAttributes:{},style:{},buttonStyle:{},declineButtonStyle:{},contentStyle:{},overlayStyle:{}},i8={visible:!1,style:{alignItems:"baseline",background:"#353535",color:"white",display:"flex",flexWrap:"wrap",justifyContent:"space-between",left:"0",position:"fixed",width:"100%",zIndex:"999"},buttonStyle:{background:"#ffd42d",border:"0",borderRadius:"0px",boxShadow:"none",color:"black",cursor:"pointer",flex:"0 0 auto",padding:"5px 10px",margin:"15px"},declineButtonStyle:{background:"#c12a2a",border:"0",borderRadius:"0px",boxShadow:"none",color:"#e5e5e5",cursor:"pointer",flex:"0 0 auto",padding:"5px 10px",margin:"15px"},contentStyle:{flex:"1 0 300px",margin:"15px"},overlayStyle:{position:"fixed",left:0,top:0,width:"100%",height:"100%",zIndex:"999",backgroundColor:"rgba(0,0,0,0.3)"}},o8=(n=J4)=>{const e=kg.get(n);return e===void 0?kg.get(Z4(n)):e},Z4=n=>`${n}-legacy`,eE=class extends w.Component{constructor(){super(...arguments),this.state=i8,this.handleScroll=()=>{const{acceptOnScrollPercentage:e}={...Wh,...this.props},s=document.documentElement,r=document.body,i="scrollTop",l="scrollHeight";(s[i]||r[i])/((s[l]||r[l])-s.clientHeight)*100>e&&this.accept(!0)},this.removeScrollListener=()=>{const{acceptOnScroll:e}=this.props;e&&globalThis.removeEventListener("scroll",this.handleScroll)}}componentDidMount(){const{debug:e}=this.props;(this.getCookieValue()===void 0||e)&&(this.setState({visible:!0}),this.props.acceptOnScroll&&globalThis.addEventListener("scroll",this.handleScroll,{passive:!0}))}componentWillUnmount(){this.removeScrollListener()}accept(e=!1){const{cookieName:s,cookieValue:r,hideOnAccept:i,onAccept:l}={...Wh,...this.props};this.setCookie(s,r),l(e??!1),i&&(this.setState({visible:!1}),this.removeScrollListener())}overlayClick(){const{acceptOnOverlayClick:e,onOverlayClick:s}={...Wh,...this.props};e&&this.accept(),s()}decline(){const{cookieName:e,declineCookieValue:s,hideOnDecline:r,onDecline:i,setDeclineCookie:l}={...Wh,...this.props};l&&this.setCookie(e,s),i(),r&&this.setState({visible:!1})}setCookie(e,s){const{extraCookieOptions:r,expires:i,sameSite:l}=this.props;let{cookieSecurity:c}=this.props;c===void 0&&(c=globalThis.location?globalThis.location.protocol==="https:":!0);const f={expires:i,...r,sameSite:l,secure:c};l===mw.NONE&&kg.set(Z4(e),s,f),kg.set(e,s,f)}getCookieValue(){const{cookieName:e}=this.props;return o8(e)}render(){switch(this.props.visible){case nv.HIDDEN:return null;case nv.BY_COOKIE_VALUE:if(!this.state.visible)return null;break}const{location:e,style:s,buttonStyle:r,declineButtonStyle:i,contentStyle:l,disableStyles:c,buttonText:f,declineButtonText:u,containerClasses:m,contentClasses:g,buttonClasses:b,buttonWrapperClasses:v,declineButtonClasses:T,buttonId:N,declineButtonId:E,disableButtonStyles:k,enableDeclineButton:D,flipButtons:P,ButtonComponent:L,overlay:V,overlayClasses:$,overlayStyle:Q,ariaAcceptLabel:_,ariaDeclineLabel:A,customContainerAttributes:I,customContentAttributes:z,customButtonProps:O,customDeclineButtonProps:F,customButtonWrapperAttributes:R}=this.props;let U={},he={},W={},te={},be={};switch(c?(U=Object.assign({},s),he=Object.assign({},r),W=Object.assign({},i),te=Object.assign({},l),be=Object.assign({},Q)):(U=Object.assign({},{...this.state.style,...s}),te=Object.assign({},{...this.state.contentStyle,...l}),be=Object.assign({},{...this.state.overlayStyle,...Q}),k?(he=Object.assign({},r),W=Object.assign({},i)):(he=Object.assign({},{...this.state.buttonStyle,...r}),W=Object.assign({},{...this.state.declineButtonStyle,...i}))),e){case sv.TOP:U.top="0";break;case sv.BOTTOM:U.bottom="0";break}const Ae=[];return D&&Ae.push(De.createElement(L,{key:"declineButton",style:W,className:T,id:E,"aria-label":A,onClick:()=>{this.decline()},...F},u)),Ae.push(De.createElement(L,{key:"acceptButton",style:he,className:b,id:N,"aria-label":_,onClick:()=>{this.accept()},...O},f)),P&&Ae.reverse(),De.createElement(r8,{condition:V,wrapper:Ie=>De.createElement("div",{style:be,className:$,onClick:()=>{this.overlayClick()},onKeyDown:H=>{(H.key==="Enter"||H.key===" ")&&(H.preventDefault(),this.overlayClick())},role:"button",tabIndex:0,"aria-label":"Close cookie consent banner"},Ie)},De.createElement("div",{className:`${m}`,style:U,...I},De.createElement("div",{style:te,className:g,...z},this.props.children),De.createElement("div",{className:`${v}`,...R},Ae.map(Ie=>Ie))))}};eE.defaultProps=Wh;let l8=eE;const c8=()=>{const[n,e]=w.useState(!1);return t.jsx(t.Fragment,{children:t.jsxs(l8,{location:"bottom",buttonText:"Accept All",declineButtonText:"Decline",manageCookieUseUrl:"#",onAccept:s=>{console.log(s?"Cookie accepted by scrolling":"Cookie accepted by button")},enableDeclineButton:!0,flipButtons:!0,cookieName:"trafficgen_cookie_consent",expires:365,style:{background:"#1a1a1a",color:"#ffffff",padding:"20px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"15px",fontSize:"14px",zIndex:9999},buttonStyle:{background:"#ff4d00",color:"#ffffff",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},declineButtonStyle:{background:"transparent",color:"#999999",border:"1px solid #666666",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},overlay:!0,children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",flex:1},children:[t.jsx(ED,{size:24,color:"#ff4d00"}),t.jsxs("div",{children:[t.jsx("strong",{style:{color:"#ff4d00",fontSize:"15px"},children:" Cookie Consent"}),t.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"13px",color:"#cccccc"},children:'We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.'})]})]}),t.jsx("button",{onClick:()=>e(!n),style:{background:"transparent",border:"none",color:"#ff4d00",cursor:"pointer",fontSize:"12px",textDecoration:"underline",marginTop:"10px"},children:n?"Hide Details":"Learn More"}),n&&t.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#2a2a2a",borderRadius:"4px",width:"100%",fontSize:"12px"},children:[t.jsx("h4",{style:{margin:"0 0 10px 0",color:"#ff4d00"},children:"Cookie Categories"}),t.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#cccccc"},children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Essential:"})," Required for the website to function properly"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Analytics:"})," Help us understand how visitors interact with our website"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Marketing:"})," Used to track visitors across websites for ad targeting"]})]}),t.jsx("p",{style:{marginTop:"10px",color:"#999999"},children:'You can manage your cookie preferences at any time by clicking "Decline" or clearing your browser cookies.'})]})]})})},d8=()=>{const[n]=nx(),e=Us(),[s,r]=w.useState("input"),[i,l]=w.useState(""),[c,f]=w.useState(["","","",""]),[u,m]=w.useState(""),g=w.useRef([]),[b,v]=w.useState("idle");w.useEffect(()=>{const L=n.get("email");L&&m(L)},[n]),w.useEffect(()=>{g.current[0]&&g.current[0].focus()},[]);const T=(L,V)=>{var Q;if(!/^\d*$/.test(V))return;const $=[...c];$[L]=V.slice(-1),f($),V&&L<3&&((Q=g.current[L+1])==null||Q.focus()),$.every(_=>_!=="")&&$.join("").length===4&&k($.join(""))},N=(L,V)=>{var $;V.key==="Backspace"&&!c[L]&&L>0&&(($=g.current[L-1])==null||$.focus())},E=L=>{L.preventDefault();const V=L.clipboardData.getData("text").replace(/\D/g,"").slice(0,4),$=[...c];V.split("").forEach((Q,_)=>{_<4&&($[_]=Q)}),f($),$.every(Q=>Q!=="")&&k($.join(""))},k=async L=>{r("loading");try{await q.verifyEmail(L),r("success"),l("Your email has been verified successfully! You can now log in and create projects.")}catch(V){r("error"),l(V.message||"Verification failed. The code may have expired.")}},D=async()=>{if(u){v("sending");try{await q.resendVerificationEmail(u),v("sent")}catch{v("idle")}}},P=()=>{var L;f(["","","",""]),r("input"),l(""),(L=g.current[0])==null||L.focus()};return t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ue,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),s==="input"&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(_i,{className:"text-[#ff4d00]",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Enter Verification Code"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"We've sent a 4-digit code to your email. Enter it below to verify your account."}),t.jsx("div",{className:"flex justify-center gap-3 mb-6",children:c.map((L,V)=>t.jsx("input",{ref:$=>{g.current[V]=$},type:"text",inputMode:"numeric",maxLength:1,value:L,onChange:$=>T(V,$.target.value),onKeyDown:$=>N(V,$),onPaste:V===0?E:void 0,className:"w-14 h-16 text-center text-2xl font-bold border-2 border-gray-200 rounded-xl focus:border-[#ff4d00] focus:outline-none transition-colors"},V))}),t.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"The code expires in 24 hours"}),u&&t.jsx("button",{onClick:D,disabled:b!=="idle",className:"text-sm text-[#ff4d00] hover:text-[#e64500] font-medium disabled:text-gray-400",children:b==="sending"?"Sending...":b==="sent"?"Code sent!":"Didn't receive a code? Resend"})]}),s==="loading"&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(fs,{className:"animate-spin mx-auto mb-4 text-[#ff4d00]",size:48}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Verifying your code..."})]}),s==="success"&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(yt,{className:"text-green-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Email Verified!"}),t.jsx("p",{className:"text-gray-500 mb-8",children:i}),t.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Continue to Login"})]}),s==="error"&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Jl,{className:"text-red-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Verification Failed"}),t.jsx("p",{className:"text-gray-500 mb-8",children:i}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("button",{onClick:P,className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Try Again"}),t.jsx(Ue,{to:"/login",className:"block text-center text-sm font-bold text-gray-400 hover:text-[#ff4d00]",children:"Back to Login"})]})]})]})})},u8=()=>{const[n]=nx(),e=Us(),[s,r]=w.useState(""),[i,l]=w.useState(""),[c,f]=w.useState(!1),[u,m]=w.useState(!1),[g,b]=w.useState(""),[v,T]=w.useState(!1),N=n.get("token"),E=async k=>{if(k.preventDefault(),b(""),s.length<6){b("Password must be at least 6 characters long");return}if(s!==i){b("Passwords do not match");return}if(!N){b("Invalid reset link. No token provided.");return}m(!0);try{await q.resetPassword(N,s),T(!0)}catch(D){b(D.message||"Password reset failed. The link may have expired.")}finally{m(!1)}};return N?v?t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ue,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(yt,{className:"text-green-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Password Reset!"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"Your password has been successfully reset. You can now log in with your new password."}),t.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Continue to Login"})]})]})}):t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ue,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Reset Password"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"Enter your new password below."}),g&&t.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3",children:[t.jsx(dn,{className:"text-red-500 shrink-0",size:20}),t.jsx("span",{className:"text-red-700 text-xs font-bold leading-relaxed",children:g})]}),t.jsxs("form",{onSubmit:E,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Un,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:c?"text":"password",required:!0,value:s,onChange:k=>r(k.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 pr-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"Min. 6 characters"}),t.jsx("button",{type:"button",onClick:()=>f(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?t.jsx(h4,{size:18}):t.jsx(Yf,{size:18})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Un,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:c?"text":"password",required:!0,value:i,onChange:k=>l(k.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"Confirm your password"})]})]}),t.jsx("button",{type:"submit",disabled:u,className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:u?t.jsxs(t.Fragment,{children:[t.jsx(fs,{className:"animate-spin",size:16})," Resetting..."]}):t.jsxs(t.Fragment,{children:["Reset Password ",t.jsx(ms,{size:16})]})})]})]})}):t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ue,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(dn,{className:"text-red-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Invalid Link"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"This password reset link is invalid or has expired."}),t.jsx(Ue,{to:"/forgot",className:"block w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors text-center",children:"Request New Link"})]})]})})},h8=()=>{const n=Us(),[e]=nx(),[s,r]=w.useState("");return w.useEffect(()=>{const i=e.get("token"),l=e.get("return")||"/dashboard";if(!i){r("No token provided"),setTimeout(()=>n("/login"),2e3);return}q.validateSsoToken(i).then(async c=>{c.valid&&c.user&&c.token?(localStorage.setItem("tgp_token",c.token),q.setCurrentUser(c.user),await q.syncAll(),n(l)):(r("Session validation failed. Please login again."),setTimeout(()=>n("/login"),2e3))}).catch(()=>{r("Session validation failed. Please login again."),setTimeout(()=>n("/login"),2e3)})},[e,n]),s?t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full text-center",children:[t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3 mb-6",children:[t.jsx(dn,{className:"text-red-500 shrink-0",size:20}),t.jsx("span",{className:"text-red-700 text-xs font-bold",children:s})]}),t.jsx("p",{className:"text-gray-500 text-xs",children:"Redirecting to login..."})]})}):t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(fs,{className:"animate-spin mx-auto mb-4 text-[#ff4d00]",size:32}),t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Logging you in..."})]})})},f8=({children:n})=>{var i;const[e,s]=w.useState({hasError:!1,error:null}),r=l=>{s({hasError:!0,error:l})};return De.useEffect(()=>{const l=c=>{r(c.reason)};return window.addEventListener("unhandledrejection",l),()=>window.removeEventListener("unhandledrejection",l)},[]),e.hasError?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center p-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),t.jsx("p",{className:"text-gray-600 mb-4",children:(i=e.error)==null?void 0:i.message}),t.jsx("button",{onClick:()=>window.location.href="/login",className:"bg-[#ff4d00] text-white px-6 py-2 rounded font-bold",children:"Go to Login"})]})}):t.jsx(t.Fragment,{children:n})},bS=({children:n,adminOnly:e})=>{const s=q.getCurrentUser();return s?e&&s.role!=="admin"?t.jsx(sa,{to:"/dashboard",replace:!0}):t.jsx(t.Fragment,{children:n}):t.jsx(sa,{to:"/login",replace:!0})},m8=()=>{const{type:n}=Dd(),e=Us(),s=()=>{const r=q.getCurrentUser();r&&(r.role==="user"||r.role==="admin")?e("/dashboard"):e("/")};return t.jsx(e8,{type:n,onBack:s})},p8=()=>{const n=Us(),e=Kn();w.useEffect(()=>{q.init()},[]),w.useEffect(()=>{const l=q.getCurrentUser();if(l){const c=e.pathname.substring(1)||"landing";q.trackPresence(c,l)}},[e]);const s=l=>{n(l==="admin"?"/admin":"/dashboard"),window.scrollTo(0,0)},r=()=>{n("/"),window.scrollTo(0,0)},i=()=>{n("/"),window.scrollTo(0,0)};return t.jsxs(f8,{children:[t.jsxs(tw,{children:[t.jsx(Be,{path:"/",element:t.jsx(pL,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"/login",element:t.jsx(fb,{view:"login",onLogin:s,onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"/signup",element:t.jsx(fb,{view:"signup",onLogin:s,onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"/forgot",element:t.jsx(fb,{view:"forgot",onLogin:s,onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"/verify-email",element:t.jsx(d8,{})}),t.jsx(Be,{path:"/reset-password",element:t.jsx(u8,{})}),t.jsx(Be,{path:"/sso",element:t.jsx(h8,{})}),t.jsx(Be,{path:"/dashboard/*",element:t.jsx(bS,{children:t.jsx(hL,{onLogout:r,onNavigate:l=>n(`/${l}`)})})}),t.jsx(Be,{path:"/admin/*",element:t.jsx(bS,{adminOnly:!0,children:t.jsx(ZL,{onLogout:r})})}),t.jsx(Be,{path:"/helpdesk",element:t.jsx(t8,{onBack:i})}),t.jsx(Be,{path:"/blog",element:t.jsx(yS,{onBack:i})}),t.jsx(Be,{path:"/blog/:slug",element:t.jsx(yS,{onBack:i})}),t.jsx(Be,{path:"/pricing",element:t.jsx(X4,{})}),t.jsx(Be,{path:"/legal/:type",element:t.jsx(m8,{})}),t.jsx(Be,{path:"/privacy",element:t.jsx(sa,{to:"/legal/privacy",replace:!0})}),t.jsx(Be,{path:"/terms",element:t.jsx(sa,{to:"/legal/terms",replace:!0})}),t.jsx(Be,{path:"/impressum",element:t.jsx(sa,{to:"/legal/impressum",replace:!0})}),t.jsx(Be,{path:"/agb",element:t.jsx(sa,{to:"/legal/agb",replace:!0})}),t.jsx(Be,{path:"/refund",element:t.jsx(sa,{to:"/legal/refund",replace:!0})}),t.jsx(Be,{path:"/delivery",element:t.jsx(sa,{to:"/legal/delivery",replace:!0})}),t.jsx(Be,{path:"/organic-website-traffic",element:t.jsx(gL,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"/modern-traffic",element:t.jsx(xL,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"/free-website-traffic",element:t.jsx(xS,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"/landing2",element:t.jsx(xS,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),t.jsx(Be,{path:"*",element:t.jsx(sa,{to:"/",replace:!0})})]}),t.jsx(c8,{})]})},g8=()=>{};var vS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(n){const e=[];let s=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[s++]=i:i<2048?(e[s++]=i>>6|192,e[s++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[s++]=i>>18|240,e[s++]=i>>12&63|128,e[s++]=i>>6&63|128,e[s++]=i&63|128):(e[s++]=i>>12|224,e[s++]=i>>6&63|128,e[s++]=i&63|128)}return e},x8=function(n){const e=[];let s=0,r=0;for(;s<n.length;){const i=n[s++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const l=n[s++];e[r++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=n[s++],c=n[s++],f=n[s++],u=((i&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const l=n[s++],c=n[s++];e[r++]=String.fromCharCode((i&15)<<12|(l&63)<<6|c&63)}}return e.join("")},sE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const l=n[i],c=i+1<n.length,f=c?n[i+1]:0,u=i+2<n.length,m=u?n[i+2]:0,g=l>>2,b=(l&3)<<4|f>>4;let v=(f&15)<<2|m>>6,T=m&63;u||(T=64,c||(v=64)),r.push(s[g],s[b],s[v],s[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):x8(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const l=s[n.charAt(i++)],f=i<n.length?s[n.charAt(i)]:0;++i;const m=i<n.length?s[n.charAt(i)]:64;++i;const b=i<n.length?s[n.charAt(i)]:64;if(++i,l==null||f==null||m==null||b==null)throw new y8;const v=l<<2|f>>4;if(r.push(v),m!==64){const T=f<<4&240|m>>2;if(r.push(T),b!==64){const N=m<<6&192|b;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class y8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b8=function(n){const e=tE(n);return sE.encodeByteArray(e,!0)},Eg=function(n){return b8(n).replace(/\./g,"")},pw=function(n){try{return sE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Cg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const s=e;return new Date(s.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const s in e)!e.hasOwnProperty(s)||!v8(s)||(n[s]=Cg(n[s],e[s]));return n}function v8(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=()=>gw().__FIREBASE_DEFAULTS__,j8=()=>{if(typeof process>"u"||typeof vS>"u")return;const n=vS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},N8=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&pw(n[1]);return e&&JSON.parse(e)},xw=()=>{try{return g8()||w8()||j8()||N8()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yw=()=>{var n;return(n=xw())==null?void 0:n.config},_8=n=>{var e;return(e=xw())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Eg(JSON.stringify(s)),Eg(JSON.stringify(c)),""].join(".")}const rf={};function k8(){const n={prod:[],emulator:[]};for(const e of Object.keys(rf))rf[e]?n.emulator.push(e):n.prod.push(e);return n}function E8(n){let e=document.getElementById(n),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),s=!0),{created:s,element:e}}let wS=!1;function rE(n,e){if(typeof window>"u"||typeof document>"u"||!wu(window.location.host)||rf[n]===e||rf[n]||wS)return;rf[n]=e;function s(v){return`__firebase__banner__${v}`}const r="__firebase__banner",l=k8().prod.length>0;function c(){const v=document.getElementById(r);v&&v.remove()}function f(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{wS=!0,c()},v}function g(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function b(){const v=E8(r),T=s("text"),N=document.getElementById(T)||document.createElement("span"),E=s("learnmore"),k=document.getElementById(E)||document.createElement("a"),D=s("preprendIcon"),P=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const L=v.element;f(L),g(k,E);const V=m();u(P,D),L.append(P,N,k,V),document.body.appendChild(L)}l?(N.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(is())}function lx(){var e;const n=(e=xw())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A8(){return typeof window<"u"||aE()}function aE(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function I8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iE(){const n=is();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function oE(){return!lx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lE(){return!lx()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function nc(){try{return typeof indexedDB=="object"}catch{return!1}}function vw(){return new Promise((n,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),s||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{s=!1},i.onerror=()=>{var l;e(((l=i.error)==null?void 0:l.message)||"")}}catch(s){e(s)}})}function cE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8="FirebaseError";class on extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=R8,Object.setPrototypeOf(this,on.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ii.prototype.create)}}class Ii{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},i=`${this.service}/${e}`,l=this.errors[e],c=l?P8(l,r):"Error",f=`${this.serviceName}: ${c} (${i}).`;return new on(i,f,r)}}function P8(n,e){return n.replace(D8,(s,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const D8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function O8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Uo(n,e){if(n===e)return!0;const s=Object.keys(n),r=Object.keys(e);for(const i of s){if(!r.includes(i))return!1;const l=n[i],c=e[i];if(NS(l)&&NS(c)){if(!Uo(l,c))return!1}else if(l!==c)return!1}for(const i of r)if(!s.includes(i))return!1;return!0}function NS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(n){const e=[];for(const[s,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Id(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,l]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function Yh(n){const e=n.indexOf("?");if(!e)return"";const s=n.indexOf("#",e);return n.substring(e,s>0?s:void 0)}function dE(n,e){const s=new M8(n,e);return s.subscribe.bind(s)}class M8{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let i;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");L8(e,["next","error","complete"])?i=e:i={next:e,error:s,complete:r},i.next===void 0&&(i.next=mb),i.error===void 0&&(i.error=mb),i.complete===void 0&&(i.complete=mb);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L8(n,e){if(typeof n!="object"||n===null)return!1;for(const s of e)if(s in n&&typeof n[s]=="function")return!0;return!1}function mb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8=1e3,V8=2,U8=14400*1e3,F8=.5;function _S(n,e=z8,s=V8){const r=e*Math.pow(s,n),i=Math.round(F8*r*(Math.random()-.5)*2);return Math.min(U8,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(n){return n&&n._delegate?n._delegate:n}class An{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new S8;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:s});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q8(e))try{this.getOrInitializeService({instanceIdentifier:Al})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);try{const l=this.getOrInitializeService({instanceIdentifier:i});r.resolve(l)}catch{}}}}clearInstance(e=Al){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Al){return this.instances.has(e)}getOptions(e=Al){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(i)}return i}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const l=this.instances.get(r);return l&&e(l,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const i of r)try{i(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$8(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Al){return this.component?this.component.multipleInstances?e:Al:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $8(n){return n===Al?void 0:n}function q8(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new B8(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=[];var ut;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ut||(ut={}));const hE={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},H8=ut.INFO,G8={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},K8=(n,e,...s)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=G8[e];if(i)console[i](`[${r}]  ${n.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xf{constructor(e){this.name=e,this._logLevel=H8,this._logHandler=K8,this._userLogHandler=null,ww.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}function W8(n){ww.forEach(e=>{e.setLogLevel(n)})}function Y8(n,e){for(const s of ww){let r=null;e&&e.level&&(r=hE[e.level]),n===null?s.userLogHandler=null:s.userLogHandler=(i,l,...c)=>{const f=c.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");l>=(r??i.logLevel)&&n({level:ut[l].toLowerCase(),message:f,args:c,type:i.name})}}}const Q8=(n,e)=>e.some(s=>n instanceof s);let SS,TS;function X8(){return SS||(SS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J8(){return TS||(TS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fE=new WeakMap,rv=new WeakMap,mE=new WeakMap,pb=new WeakMap,jw=new WeakMap;function Z8(n){const e=new Promise((s,r)=>{const i=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{s(Ro(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(s=>{s instanceof IDBCursor&&fE.set(s,n)}).catch(()=>{}),jw.set(e,n),e}function ez(n){if(rv.has(n))return;const e=new Promise((s,r)=>{const i=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{s(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});rv.set(n,e)}let av={get(n,e,s){if(n instanceof IDBTransaction){if(e==="done")return rv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||mE.get(n);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ro(n[e])},set(n,e,s){return n[e]=s,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tz(n){av=n(av)}function sz(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=n.call(gb(this),e,...s);return mE.set(r,e.sort?e.sort():[e]),Ro(r)}:J8().includes(n)?function(...e){return n.apply(gb(this),e),Ro(fE.get(this))}:function(...e){return Ro(n.apply(gb(this),e))}}function nz(n){return typeof n=="function"?sz(n):(n instanceof IDBTransaction&&ez(n),Q8(n,X8())?new Proxy(n,av):n)}function Ro(n){if(n instanceof IDBRequest)return Z8(n);if(pb.has(n))return pb.get(n);const e=nz(n);return e!==n&&(pb.set(n,e),jw.set(e,n)),e}const gb=n=>jw.get(n);function pE(n,e,{blocked:s,upgrade:r,blocking:i,terminated:l}={}){const c=indexedDB.open(n,e),f=Ro(c);return r&&c.addEventListener("upgradeneeded",u=>{r(Ro(c.result),u.oldVersion,u.newVersion,Ro(c.transaction),u)}),s&&c.addEventListener("blocked",u=>s(u.oldVersion,u.newVersion,u)),f.then(u=>{l&&u.addEventListener("close",()=>l()),i&&u.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const rz=["get","getKey","getAll","getAllKeys","count"],az=["put","add","delete","clear"],xb=new Map;function kS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xb.get(e))return xb.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,i=az.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rz.includes(s)))return;const l=async function(c,...f){const u=this.transaction(c,i?"readwrite":"readonly");let m=u.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[s](...f),i&&u.done]))[0]};return xb.set(e,l),l}tz(n=>({...n,get:(e,s,r)=>kS(e,s)||n.get(e,s,r),has:(e,s)=>!!kS(e,s)||n.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(oz(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function oz(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ag="@firebase/app",iv="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Xf("@firebase/app"),lz="@firebase/app-compat",cz="@firebase/analytics-compat",dz="@firebase/analytics",uz="@firebase/app-check-compat",hz="@firebase/app-check",fz="@firebase/auth",mz="@firebase/auth-compat",pz="@firebase/database",gz="@firebase/data-connect",xz="@firebase/database-compat",yz="@firebase/functions",bz="@firebase/functions-compat",vz="@firebase/installations",wz="@firebase/installations-compat",jz="@firebase/messaging",Nz="@firebase/messaging-compat",_z="@firebase/performance",Sz="@firebase/performance-compat",Tz="@firebase/remote-config",kz="@firebase/remote-config-compat",Ez="@firebase/storage",Cz="@firebase/storage-compat",Az="@firebase/firestore",Iz="@firebase/ai",Rz="@firebase/firestore-compat",Pz="firebase",Dz="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]",Oz={[Ag]:"fire-core",[lz]:"fire-core-compat",[dz]:"fire-analytics",[cz]:"fire-analytics-compat",[hz]:"fire-app-check",[uz]:"fire-app-check-compat",[fz]:"fire-auth",[mz]:"fire-auth-compat",[pz]:"fire-rtdb",[gz]:"fire-data-connect",[xz]:"fire-rtdb-compat",[yz]:"fire-fn",[bz]:"fire-fn-compat",[vz]:"fire-iid",[wz]:"fire-iid-compat",[jz]:"fire-fcm",[Nz]:"fire-fcm-compat",[_z]:"fire-perf",[Sz]:"fire-perf-compat",[Tz]:"fire-rc",[kz]:"fire-rc-compat",[Ez]:"fire-gcs",[Cz]:"fire-gcs-compat",[Az]:"fire-fst",[Rz]:"fire-fst-compat",[Iz]:"fire-vertex","fire-js":"fire-js",[Pz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Map,Gd=new Map,Kd=new Map;function _f(n,e){try{n.container.addComponent(e)}catch(s){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,s)}}function gE(n,e){n.container.addOrOverwriteComponent(e)}function Fr(n){const e=n.name;if(Kd.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;Kd.set(e,n);for(const s of Bo.values())_f(s,n);for(const s of Gd.values())_f(s,n);return!0}function dx(n,e){const s=n.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),n.container.getProvider(e)}function Mz(n,e,s=Fo){dx(n,e).clearInstance(s)}function Nw(n){return n.options!==void 0}function xE(n){return Nw(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function es(n){return n==null?!1:n.settings!==void 0}function Lz(){Kd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Ii("app","Firebase",zz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yE=class{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new An("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(n,e){const s=pw(n.split(".")[1]);if(s===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(s).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(s).exp*1e3,l=new Date().getTime();i-l<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class Vz extends yE{constructor(e,s,r,i){const l=s.automaticDataCollectionEnabled!==void 0?s.automaticDataCollectionEnabled:!0,c={name:r,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,c,i);else{const f=e;super(f.options,c,i)}this._serverConfig={automaticDataCollectionEnabled:l,...s},this._serverConfig.authIdToken&&ES(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&ES(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,s.releaseOnDeref=void 0,En(Ag,iv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Sw(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw fr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=Dz;function _w(n,e={}){let s=n;typeof e!="object"&&(e={name:e});const r={name:Fo,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw fr.create("bad-app-name",{appName:String(i)});if(s||(s=yw()),!s)throw fr.create("no-options");const l=Bo.get(i);if(l){if(Uo(s,l.options)&&Uo(r,l.config))return l;throw fr.create("duplicate-app",{appName:i})}const c=new uE(i);for(const u of Kd.values())c.addComponent(u);const f=new yE(s,r,c);return Bo.set(i,f),f}function Uz(n,e={}){if(A8()&&!aE())throw fr.create("invalid-server-app-environment");let s,r=e||{};if(n&&(Nw(n)?s=n.options:xE(n)?r=n:s=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),s||(s=yw()),!s)throw fr.create("no-options");const i={...r,...s};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const l=g=>[...g].reduce((b,v)=>Math.imul(31,b)+v.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw fr.create("finalization-registry-not-supported",{});const c=""+l(JSON.stringify(i)),f=Gd.get(c);if(f)return f.incRefCount(r.releaseOnDeref),f;const u=new uE(c);for(const g of Kd.values())u.addComponent(g);const m=new Vz(s,r,c,u);return Gd.set(c,m),m}function Fz(n=Fo){const e=Bo.get(n);if(!e&&n===Fo&&yw())return _w();if(!e)throw fr.create("no-app",{appName:n});return e}function Bz(){return Array.from(Bo.values())}async function Sw(n){let e=!1;const s=n.name;Bo.has(s)?(e=!0,Bo.delete(s)):Gd.has(s)&&n.decRefCount()<=0&&(Gd.delete(s),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function En(n,e,s){let r=Oz[n]??n;s&&(r+=`-${s}`);const i=r.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(c.join(" "));return}Fr(new An(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function bE(n,e){if(n!==null&&typeof n!="function")throw fr.create("invalid-log-argument");Y8(n,e)}function vE(n){W8(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z="firebase-heartbeat-database",qz=1,Sf="firebase-heartbeat-store";let yb=null;function wE(){return yb||(yb=pE($z,qz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sf)}catch(s){console.warn(s)}}}}).catch(n=>{throw fr.create("idb-open",{originalErrorMessage:n.message})})),yb}async function Hz(n){try{const s=(await wE()).transaction(Sf),r=await s.objectStore(Sf).get(jE(n));return await s.done,r}catch(e){if(e instanceof on)ki.warn(e.message);else{const s=fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(s.message)}}}async function CS(n,e){try{const r=(await wE()).transaction(Sf,"readwrite");await r.objectStore(Sf).put(e,jE(n)),await r.done}catch(s){if(s instanceof on)ki.warn(s.message);else{const r=fr.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});ki.warn(r.message)}}}function jE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=1024,Kz=30;class Wz{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new Qz(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,s;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=AS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>Kz){const c=Xz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ki.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=AS(),{heartbeatsToSend:r,unsentEntries:i}=Yz(this._heartbeatsCache.heartbeats),l=Eg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(s){return ki.warn(s),""}}}function AS(){return new Date().toISOString().substring(0,10)}function Yz(n,e=Gz){const s=[];let r=n.slice();for(const i of n){const l=s.find(c=>c.agent===i.agent);if(l){if(l.dates.push(i.date),IS(s)>e){l.dates.pop();break}}else if(s.push({agent:i.agent,dates:[i.date]}),IS(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class Qz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nc()?vw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await Hz(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return CS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return CS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function IS(n){return Eg(JSON.stringify({version:2,heartbeats:n})).length}function Xz(n){if(n.length===0)return-1;let e=0,s=n[0].date;for(let r=1;r<n.length;r++)n[r].date<s&&(s=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(n){Fr(new An("platform-logger",e=>new iz(e),"PRIVATE")),Fr(new An("heartbeat",e=>new Wz(e),"PRIVATE")),En(Ag,iv,n),En(Ag,iv,"esm2020"),En("fire-js","")}Jz("");const Zz=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:on,SDK_VERSION:Qo,_DEFAULT_ENTRY_NAME:Fo,_addComponent:_f,_addOrOverwriteComponent:gE,_apps:Bo,_clearComponents:Lz,_components:Kd,_getProvider:dx,_isFirebaseApp:Nw,_isFirebaseServerApp:es,_isFirebaseServerAppSettings:xE,_registerComponent:Fr,_removeServiceInstance:Mz,_serverApps:Gd,deleteApp:Sw,getApp:Fz,getApps:Bz,initializeApp:_w,initializeServerApp:Uz,onLog:bE,registerVersion:En,setLogLevel:vE},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,s){this._delegate=e,this.firebase=s,_f(e,new An("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Sw(this._delegate)))}_getService(e,s=Fo){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:s})}_removeServiceInstance(e,s=Fo){this._delegate.container.getProvider(e).clearInstance(s)}_addComponent(e){_f(this._delegate,e)}_addOrOverwriteComponent(e){gE(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},RS=new Ii("app-compat","Firebase",tV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(n){const e={},s={__esModule:!0,initializeApp:l,app:i,registerVersion:En,setLogLevel:vE,onLog:bE,apps:null,SDK_VERSION:Qo,INTERNAL:{registerComponent:f,removeApp:r,useAsService:u,modularAPIs:Zz}};s.default=s,Object.defineProperty(s,"apps",{get:c});function r(m){delete e[m]}function i(m){if(m=m||Fo,!jS(e,m))throw RS.create("no-app",{appName:m});return e[m]}i.App=n;function l(m,g={}){const b=_w(m,g);if(jS(e,b.name))return e[b.name];const v=new n(b,s);return e[b.name]=v,v}function c(){return Object.keys(e).map(m=>e[m])}function f(m){const g=m.name,b=g.replace("-compat","");if(Fr(m)&&m.type==="PUBLIC"){const v=(T=i())=>{if(typeof T[b]!="function")throw RS.create("invalid-app-argument",{appName:g});return T[b]()};m.serviceProps!==void 0&&Cg(v,m.serviceProps),s[b]=v,n.prototype[b]=function(...T){return this._getService.bind(this,g).apply(this,m.multipleInstances?T:[])}}return m.type==="PUBLIC"?s[b]:null}function u(m,g){return g==="serverAuth"?null:g}return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(){const n=sV(eV);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:NE,extendNamespace:e,createSubscribe:dE,ErrorFactory:Ii,deepExtend:Cg};function e(s){Cg(n,s)}return n}const nV=NE();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=new Xf("@firebase/app-compat"),rV="@firebase/app-compat",aV="0.5.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(n){En(rV,aV,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=gw();if(n.firebase!==void 0){PS.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&PS.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Xo=nV;iV();var oV="firebase",lV="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo.registerVersion(oV,lV,"app-compat");const zh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},yd={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function _E(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dV=cV,uV=_E,SE=new Ii("auth","Firebase",_E());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=new Xf("@firebase/auth");function hV(n,...e){Ig.logLevel<=ut.WARN&&Ig.warn(`Auth (${Qo}): ${n}`,...e)}function lg(n,...e){Ig.logLevel<=ut.ERROR&&Ig.error(`Auth (${Qo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(n,...e){throw kw(n,...e)}function Vs(n,...e){return kw(n,...e)}function Tw(n,e,s){const r={...uV(),[e]:s};return new Ii("auth","Firebase",r).create(e,{appName:n.name})}function Ks(n){return Tw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nu(n,e,s){const r=s;if(!(e instanceof r))throw r.name!==e.constructor.name&&un(n,"argument-error"),Tw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kw(n,...e){if(typeof n!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(s,...r)}return SE.create(n,...e)}function Se(n,e,...s){if(!n)throw kw(e,...s)}function za(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lg(e),new Error(e)}function da(n,e){n||za(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function Ew(){return DS()==="http:"||DS()==="https:"}function DS(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ew()||cx()||"connection"in navigator)?navigator.onLine:!0}function mV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,s){this.shortDelay=e,this.longDelay=s,da(s>e,"Short delay should be less than long delay!"),this.isMobile=C8()||bw()}get(){return fV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(n,e){da(n.emulator,"Emulator should always be set here");const{url:s}=n.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xV=new Jf(3e4,6e4);function xs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ys(n,e,s,r,i={}){return kE(n,i,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=ju({key:n.config.apiKey,...c}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:u,...l};return I8()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&wu(n.emulatorConfig.host)&&(m.credentials="include"),TE.fetch()(await EE(n,n.config.apiHost,s,f),m)})}async function kE(n,e,s){n._canInitEmulator=!1;const r={...pV,...e};try{const i=new bV(n),l=await Promise.race([s(),i.promise]);i.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Qh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[u,m]=f.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qh(n,"credential-already-in-use",c);if(u==="EMAIL_EXISTS")throw Qh(n,"email-already-in-use",c);if(u==="USER_DISABLED")throw Qh(n,"user-disabled",c);const g=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Tw(n,g,m);un(n,g)}}catch(i){if(i instanceof on)throw i;un(n,"network-request-failed",{message:String(i)})}}async function Ri(n,e,s,r,i={}){const l=await ys(n,e,s,r,i);return"mfaPendingCredential"in l&&un(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function EE(n,e,s,r){const i=`${e}${s}?${r}`,l=n,c=l.config.emulator?Cw(n.config,i):`${n.config.apiScheme}://${i}`;return gV.includes(s)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function yV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(Vs(this.auth,"network-request-failed")),xV.get())})}}function Qh(n,e,s){const r={appName:n.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const i=Vs(n,e,r);return i.customData._tokenResponse=s,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n){return n!==void 0&&n.getResponse!==void 0}function MS(n){return n!==void 0&&n.enterprise!==void 0}class CE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===e)return yV(s.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(n){return(await ys(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function AE(n,e){return ys(n,"GET","/v2/recaptchaConfig",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(n,e){return ys(n,"POST","/v1/accounts:delete",e)}async function jV(n,e){return ys(n,"POST","/v1/accounts:update",e)}async function Rg(n,e){return ys(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NV(n,e=!1){const s=He(n),r=await s.getIdToken(e),i=ux(r);Se(i&&i.exp&&i.auth_time&&i.iat,s.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:i,token:r,authTime:af(bb(i.auth_time)),issuedAtTime:af(bb(i.iat)),expirationTime:af(bb(i.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function bb(n){return Number(n)*1e3}function ux(n){const[e,s,r]=n.split(".");if(e===void 0||s===void 0||r===void 0)return lg("JWT malformed, contained fewer than 3 sections"),null;try{const i=pw(s);return i?JSON.parse(i):(lg("Failed to decode base64 JWT payload"),null)}catch(i){return lg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function LS(n){const e=ux(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ei(n,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof on&&_V(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function _V({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=af(this.lastLoginAt),this.creationTime=af(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(n){var b;const e=n.auth,s=await n.getIdToken(),r=await Ei(n,Rg(e,{idToken:s}));Se(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const l=(b=i.providerUserInfo)!=null&&b.length?IE(i.providerUserInfo):[],c=kV(n.providerData,l),f=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!(c!=null&&c.length),m=f?u:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new ov(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function TV(n){const e=He(n);await kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kV(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function IE(n){return n.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(n,e){const s=await kE(n,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=n.config,c=await EE(n,i,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:f,body:r};return n.emulatorConfig&&wu(n.emulatorConfig.host)&&(u.credentials="include"),TE.fetch()(c,u)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function CV(n,e){return ys(n,"POST","/v2/accounts:revokeToken",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const s=LS(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:i,expiresIn:l}=await EV(e,s);this.updateTokensAndExpiration(r,i,Number(l))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:i,expirationTime:l}=s,c=new Od;return r&&(Se(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Od,this.toJSON())}_performRefresh(){return za("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class aa{constructor({uid:e,auth:s,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new SV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ov(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const s=await Ei(this,this.stsTokenManager.getToken(this.auth,e));return Se(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return NV(this,e)}reload(){return TV(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new aa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await kf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(es(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await Ei(this,wV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const r=s.displayName??void 0,i=s.email??void 0,l=s.phoneNumber??void 0,c=s.photoURL??void 0,f=s.tenantId??void 0,u=s._redirectEventId??void 0,m=s.createdAt??void 0,g=s.lastLoginAt??void 0,{uid:b,emailVerified:v,isAnonymous:T,providerData:N,stsTokenManager:E}=s;Se(b&&E,e,"internal-error");const k=Od.fromJSON(this.name,E);Se(typeof b=="string",e,"internal-error"),wo(r,e.name),wo(i,e.name),Se(typeof v=="boolean",e,"internal-error"),Se(typeof T=="boolean",e,"internal-error"),wo(l,e.name),wo(c,e.name),wo(f,e.name),wo(u,e.name),wo(m,e.name),wo(g,e.name);const D=new aa({uid:b,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:T,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:k,createdAt:m,lastLoginAt:g});return N&&Array.isArray(N)&&(D.providerData=N.map(P=>({...P}))),u&&(D._redirectEventId=u),D}static async _fromIdTokenResponse(e,s,r=!1){const i=new Od;i.updateFromServerResponse(s);const l=new aa({uid:s.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await kf(l),l}static async _fromGetAccountInfoResponse(e,s,r){const i=s.users[0];Se(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?IE(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!(l!=null&&l.length),f=new Od;f.updateFromIdToken(r);const u=new aa({uid:i.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new ov(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(l!=null&&l.length)};return Object.assign(u,m),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=new Map;function ur(n){da(n instanceof Function,"Expected a class definition");let e=zS.get(n);return e?(da(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}RE.type="NONE";const Wd=RE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(n,e,s){return`firebase:${n}:${e}:${s}`}class Md{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:i,name:l}=this.auth;this.fullUserKey=Kl(this.userKey,i.apiKey,l),this.fullPersistenceKey=Kl("persistence",i.apiKey,l),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await Rg(this.auth,{idToken:e}).catch(()=>{});return s?aa._fromGetAccountInfoResponse(this.auth,s,e):null}return aa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new Md(ur(Wd),e,r);const i=(await Promise.all(s.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=i[0]||ur(Wd);const c=Kl(r,e.config.apiKey,e.name);let f=null;for(const m of s)try{const g=await m._get(c);if(g){let b;if(typeof g=="string"){const v=await Rg(e,{idToken:g}).catch(()=>{});if(!v)break;b=await aa._fromGetAccountInfoResponse(e,v,g)}else b=aa._fromJSON(e,g);m!==l&&(f=b),l=m;break}}catch{}const u=i.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!u.length?new Md(l,e,r):(l=u[0],f&&await l._set(c,f.toJSON()),await Promise.all(s.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Md(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ME(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LE(e))return"Blackberry";if(zE(e))return"Webos";if(DE(e))return"Safari";if((e.includes("chrome/")||OE(e))&&!e.includes("edge/"))return"Chrome";if(Zf(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PE(n=is()){return/firefox\//i.test(n)}function DE(n=is()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OE(n=is()){return/crios\//i.test(n)}function ME(n=is()){return/iemobile/i.test(n)}function Zf(n=is()){return/android/i.test(n)}function LE(n=is()){return/blackberry/i.test(n)}function zE(n=is()){return/webos/i.test(n)}function em(n=is()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function AV(n=is()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function IV(n=is()){var e;return em(n)&&!!((e=window.navigator)!=null&&e.standalone)}function RV(){return iE()&&document.documentMode===10}function VE(n=is()){return em(n)||Zf(n)||zE(n)||LE(n)||/windows phone/i.test(n)||ME(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n,e=[]){let s;switch(n){case"Browser":s=VS(is());break;case"Worker":s=`${VS(is())}-${n}`;break;default:s=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${Qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=l=>new Promise((c,f)=>{try{const u=e(l);c(u)}catch(u){f(u)}});r.onAbort=s,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const i of s)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(n,e={}){return ys(n,"GET","/v2/passwordPolicy",xs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=6;class MV{constructor(e){var r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??OV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),i&&(s.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,s,r,i){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new US(this),this.idTokenSubscription=new US(this),this.beforeStateQueue=new PV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=ur(s)),this._initializationPromise=this.queue(async()=>{var r,i,l;if(!this._deleted&&(this.persistenceManager=await Md.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await Rg(this,{idToken:e}),r=await aa._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(es(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!c||c===f)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await kf(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(es(this.app))return Promise.reject(Ks(this));const s=e?He(e):null;return s&&Se(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return es(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return es(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DV(this),s=new MV(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ii("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await CV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&ur(e)||this._popupRedirectResolver;Se(s,this,"argument-error"),this.redirectPersistenceManager=await Md.create(this,[ur(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)==null?void 0:s._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((s=this.currentUser)==null?void 0:s.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,i){if(this._deleted)return()=>{};const l=typeof s=="function"?s:s.next.bind(s);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof s=="function"){const u=e.addObserver(s,r,i);return()=>{c=!0,u()}}else{const u=e.addObserver(s);return()=>{c=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var s;if(es(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((s=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getToken());return e!=null&&e.error&&hV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function os(n){return He(n)}class US{constructor(e){this.auth=e,this.observer=null,this.addObserver=dE(s=>this.observer=s)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zV(n){tm=n}function Aw(n){return tm.loadJS(n)}function VV(){return tm.recaptchaV2Script}function UV(){return tm.recaptchaEnterpriseScript}function FV(){return tm.gapiScript}function FE(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=500,$V=6e4,Yp=1e12;class qV{constructor(e){this.auth=e,this.counter=Yp,this._widgets=new Map}render(e,s){const r=this.counter;return this._widgets.set(r,new KV(e,this.auth.name,s||{})),this.counter++,r}reset(e){var r;const s=e||Yp;(r=this._widgets.get(s))==null||r.delete(),this._widgets.delete(s)}getResponse(e){var r;const s=e||Yp;return((r=this._widgets.get(s))==null?void 0:r.getResponse())||""}async execute(e){var r;const s=e||Yp;return(r=this._widgets.get(s))==null||r.execute(),""}}class HV{constructor(){this.enterprise=new GV}ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class GV{ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class KV{constructor(e,s,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Se(i,"argument-error",{appName:s}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=WV(50);const{callback:e,"expired-callback":s}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,s)try{s()}catch{}this.isVisible&&this.execute()},$V)},BV))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function WV(n){const e=[],s="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(s.charAt(Math.floor(Math.random()*s.length)));return e.join("")}const YV="recaptcha-enterprise",of="NO_RECAPTCHA";class BE{constructor(e){this.type=YV,this.auth=os(e)}async verify(e="verify",s=!1){async function r(l){if(!s){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{AE(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new CE(u);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(u=>{f(u)})})}function i(l,c,f){const u=window.grecaptcha;MS(u)?u.enterprise.ready(()=>{u.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(of)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HV().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!s&&MS(window.grecaptcha))i(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let u=UV();u.length!==0&&(u+=f),Aw(u).then(()=>{i(f,l,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function Vh(n,e,s,r=!1,i=!1){const l=new BE(n);let c;if(i)c=of;else try{c=await l.verify(s)}catch{c=await l.verify(s,!0)}const f={...e};if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const u=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const u=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Po(n,e,s,r,i){var l,c;if(i==="EMAIL_PASSWORD_PROVIDER")if((l=n._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Vh(n,e,s,s==="getOobCode");return r(n,f)}else return r(n,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Vh(n,e,s,s==="getOobCode");return r(n,u)}else return Promise.reject(f)});else if(i==="PHONE_PROVIDER")if((c=n._getRecaptchaConfig())!=null&&c.isProviderEnabled("PHONE_PROVIDER")){const f=await Vh(n,e,s);return r(n,f).catch(async u=>{var m;if(((m=n._getRecaptchaConfig())==null?void 0:m.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${s} flow.`);const g=await Vh(n,e,s,!1,!0);return r(n,g)}return Promise.reject(u)})}else{const f=await Vh(n,e,s,!1,!0);return r(n,f)}else return Promise.reject(i+" provider is not supported.")}async function QV(n){const e=os(n),s=await AE(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new CE(s);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new BE(e).verify()}function XV(n,e){const s=(e==null?void 0:e.persistence)||[],r=(Array.isArray(s)?s:[s]).map(ur);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JV(n,e,s){const r=os(n);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(s!=null&&s.disableWarnings),l=$E(e),{host:c,port:f}=ZV(e),u=f===null?"":`:${f}`,m={url:`${l}//${c}${u}/`},g=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Uo(m,r.config.emulator)&&Uo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,wu(c)?(nE(`${l}//${c}${u}`),rE("Auth",!0)):i||eU()}function $E(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ZV(n){const e=$E(n),s=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const l=i[1];return{host:l,port:FS(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:FS(c)}}}function FS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function eU(){function n(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return za("not implemented")}_getIdTokenResponse(e){return za("not implemented")}_linkToIdToken(e,s){return za("not implemented")}_getReauthenticationResolver(e){return za("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qE(n,e){return ys(n,"POST","/v1/accounts:resetPassword",xs(n,e))}async function tU(n,e){return ys(n,"POST","/v1/accounts:update",e)}async function sU(n,e){return ys(n,"POST","/v1/accounts:signUp",e)}async function nU(n,e){return ys(n,"POST","/v1/accounts:update",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rU(n,e){return Ri(n,"POST","/v1/accounts:signInWithPassword",xs(n,e))}async function hx(n,e){return ys(n,"POST","/v1/accounts:sendOobCode",xs(n,e))}async function aU(n,e){return hx(n,e)}async function iU(n,e){return hx(n,e)}async function oU(n,e){return hx(n,e)}async function lU(n,e){return hx(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(n,e){return Ri(n,"POST","/v1/accounts:signInWithEmailLink",xs(n,e))}async function dU(n,e){return Ri(n,"POST","/v1/accounts:signInWithEmailLink",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends _u{constructor(e,s,r,i=null){super("password",r),this._email=e,this._password=s,this._tenantId=i}static _fromEmailAndPassword(e,s){return new Ef(e,s,"password")}static _fromEmailAndCode(e,s,r=null){return new Ef(e,s,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Po(e,s,"signInWithPassword",rU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return cU(e,{email:this._email,oobCode:this._password});default:un(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":const r={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Po(e,r,"signUpPassword",sU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return dU(e,{idToken:s,email:this._email,oobCode:this._password});default:un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wi(n,e){return Ri(n,"POST","/v1/accounts:signInWithIdp",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="http://localhost";class Ga extends _u{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):un("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...l}=s;if(!r||!i)return null;const c=new Ga(r,i);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const s=this.buildRequest();return wi(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,wi(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,wi(e,s)}buildRequest(){const e={requestUri:uU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=ju(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BS(n,e){return ys(n,"POST","/v1/accounts:sendVerificationCode",xs(n,e))}async function hU(n,e){return Ri(n,"POST","/v1/accounts:signInWithPhoneNumber",xs(n,e))}async function fU(n,e){const s=await Ri(n,"POST","/v1/accounts:signInWithPhoneNumber",xs(n,e));if(s.temporaryProof)throw Qh(n,"account-exists-with-different-credential",s);return s}const mU={USER_NOT_FOUND:"user-not-found"};async function pU(n,e){const s={...e,operation:"REAUTH"};return Ri(n,"POST","/v1/accounts:signInWithPhoneNumber",xs(n,s),mU)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends _u{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,s){return new Wl({verificationId:e,verificationCode:s})}static _fromTokenResponse(e,s){return new Wl({phoneNumber:e,temporaryProof:s})}_getIdTokenResponse(e){return hU(e,this._makeVerificationRequest())}_linkToIdToken(e,s){return fU(e,{idToken:s,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return pU(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:s,verificationId:r,verificationCode:i}=this.params;return e&&s?{temporaryProof:e,phoneNumber:s}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:s,verificationCode:r,phoneNumber:i,temporaryProof:l}=e;return!r&&!s&&!i&&!l?null:new Wl({verificationId:s,verificationCode:r,phoneNumber:i,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xU(n){const e=Id(Yh(n)).link,s=e?Id(Yh(e)).deep_link_id:null,r=Id(Yh(n)).deep_link_id;return(r?Id(Yh(r)).link:null)||r||s||e||n}class fx{constructor(e){const s=Id(Yh(e)),r=s.apiKey??null,i=s.oobCode??null,l=gU(s.mode??null);Se(r&&i&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=i,this.continueUrl=s.continueUrl??null,this.languageCode=s.lang??null,this.tenantId=s.tenantId??null}static parseLink(e){const s=xU(e);try{return new fx(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,s){return Ef._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const r=fx.parseLink(s);return Se(r,"argument-error"),Ef._fromEmailAndCode(e,r.code,r.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends Pi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ld extends Su{static credentialFromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;return Se("providerId"in s&&"signInMethod"in s,"argument-error"),Ga._fromParams(s)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Se(e.idToken||e.accessToken,"argument-error"),Ga._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Ld.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ld.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:l,nonce:c,providerId:f}=e;if(!r&&!i&&!s&&!l||!f)return null;try{return new Ld(f)._credential({idToken:s,accessToken:r,nonce:c,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Su{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return Ga._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return Da.credential(s,r)}catch{return null}}}Da.GOOGLE_SIGN_IN_METHOD="google.com";Da.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Su{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.GITHUB_SIGN_IN_METHOD="github.com";Oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="http://localhost";class Yd extends _u{constructor(e,s){super(e,e),this.pendingToken=s}_getIdTokenResponse(e){const s=this.buildRequest();return wi(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,wi(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,wi(e,s)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:l}=s;return!r||!i||!l||r!==i?null:new Yd(r,l)}static _create(e,s){return new Yd(e,s)}buildRequest(){return{requestUri:yU,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU="saml.";class Pg extends Pi{constructor(e){Se(e.startsWith(bU),"argument-error"),super(e)}static credentialFromResult(e){return Pg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Pg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const s=Yd.fromJSON(e);return Se(s,"argument-error"),s}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:s,providerId:r}=e;if(!s||!r)return null;try{return Yd._create(r,s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Su{constructor(){super("twitter.com")}static credential(e,s){return Ga._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return Ma.credential(s,r)}catch{return null}}}Ma.TWITTER_SIGN_IN_METHOD="twitter.com";Ma.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE(n,e){return Ri(n,"POST","/v1/accounts:signUp",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,i=!1){const l=await aa._fromIdTokenResponse(e,r,i),c=$S(r);return new Br({user:l,providerId:c,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const i=$S(r);return new Br({user:e,providerId:i,_tokenResponse:r,operationType:s})}}function $S(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(n){var i;if(es(n.app))return Promise.reject(Ks(n));const e=os(n);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new Br({user:e.currentUser,providerId:null,operationType:"signIn"});const s=await HE(e,{returnSecureToken:!0}),r=await Br._fromIdTokenResponse(e,"signIn",s,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg extends on{constructor(e,s,r,i){super(s.code,s.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,i){return new Dg(e,s,r,i)}}function GE(n,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(n):s._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Dg._fromErrorAndOperation(n,l,e,r):l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU(n,e){const s=He(n);await mx(!0,s,e);const{providerUserInfo:r}=await jV(s.auth,{idToken:await s.getIdToken(),deleteProvider:[e]}),i=KE(r||[]);return s.providerData=s.providerData.filter(l=>i.has(l.providerId)),i.has("phone")||(s.phoneNumber=null),await s.auth._persistUserIfCurrent(s),s}async function Iw(n,e,s=!1){const r=await Ei(n,e._linkToIdToken(n.auth,await n.getIdToken()),s);return Br._forOperation(n,"link",r)}async function mx(n,e,s){await kf(e);const r=KE(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";Se(r.has(s)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WE(n,e,s=!1){const{auth:r}=n;if(es(r.app))return Promise.reject(Ks(r));const i="reauthenticate";try{const l=await Ei(n,GE(r,i,e,n),s);Se(l.idToken,r,"internal-error");const c=ux(l.idToken);Se(c,r,"internal-error");const{sub:f}=c;return Se(n.uid===f,r,"user-mismatch"),Br._forOperation(n,i,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&un(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(n,e,s=!1){if(es(n.app))return Promise.reject(Ks(n));const r="signIn",i=await GE(n,r,e),l=await Br._fromIdTokenResponse(n,r,i);return s||await n._updateCurrentUser(l.user),l}async function px(n,e){return YE(os(n),e)}async function QE(n,e){const s=He(n);return await mx(!1,s,e.providerId),Iw(s,e)}async function XE(n,e){return WE(He(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jU(n,e){return Ri(n,"POST","/v1/accounts:signInWithCustomToken",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(n,e){if(es(n.app))return Promise.reject(Ks(n));const s=os(n),r=await jU(s,{token:e,returnSecureToken:!0}),i=await Br._fromIdTokenResponse(s,"signIn",r);return await s._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,s){this.factorId=e,this.uid=s.mfaEnrollmentId,this.enrollmentTime=new Date(s.enrolledAt).toUTCString(),this.displayName=s.displayName}static _fromServerResponse(e,s){return"phoneInfo"in s?Rw._fromServerResponse(e,s):"totpInfo"in s?Pw._fromServerResponse(e,s):un(e,"internal-error")}}class Rw extends sm{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,s){return new Rw(s)}}class Pw extends sm{constructor(e){super("totp",e)}static _fromServerResponse(e,s){return new Pw(s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(n,e,s){var r;Se(((r=s.url)==null?void 0:r.length)>0,n,"invalid-continue-uri"),Se(typeof s.dynamicLinkDomain>"u"||s.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),Se(typeof s.linkDomain>"u"||s.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=s.url,e.dynamicLinkDomain=s.dynamicLinkDomain,e.linkDomain=s.linkDomain,e.canHandleCodeInApp=s.handleCodeInApp,s.iOS&&(Se(s.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=s.iOS.bundleId),s.android&&(Se(s.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=s.android.installApp,e.androidMinimumVersionCode=s.android.minimumVersion,e.androidPackageName=s.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dw(n){const e=os(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _U(n,e,s){const r=os(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};s&&gx(r,i,s),await Po(r,i,"getOobCode",iU,"EMAIL_PASSWORD_PROVIDER")}async function SU(n,e,s){await qE(He(n),{oobCode:e,newPassword:s}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Dw(n),r})}async function TU(n,e){await nU(He(n),{oobCode:e})}async function JE(n,e){const s=He(n),r=await qE(s,{oobCode:e}),i=r.requestType;switch(Se(i,s,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(r.newEmail,s,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(r.mfaInfo,s,"internal-error");default:Se(r.email,s,"internal-error")}let l=null;return r.mfaInfo&&(l=sm._fromServerResponse(os(s),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:l},operation:i}}async function kU(n,e){const{data:s}=await JE(He(n),e);return s.email}async function EU(n,e,s){if(es(n.app))return Promise.reject(Ks(n));const r=os(n),c=await Po(r,{returnSecureToken:!0,email:e,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HE,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Dw(n),u}),f=await Br._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function CU(n,e,s){return es(n.app)?Promise.reject(Ks(n)):px(He(n),Jo.credential(e,s)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Dw(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(n,e,s){const r=os(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function l(c,f){Se(f.handleCodeInApp,r,"argument-error"),f&&gx(r,c,f)}l(i,s),await Po(r,i,"getOobCode",oU,"EMAIL_PASSWORD_PROVIDER")}function IU(n,e){const s=fx.parseLink(e);return(s==null?void 0:s.operation)==="EMAIL_SIGNIN"}async function RU(n,e,s){if(es(n.app))return Promise.reject(Ks(n));const r=He(n),i=Jo.credentialWithLink(e,s||Tf());return Se(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),px(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PU(n,e){return ys(n,"POST","/v1/accounts:createAuthUri",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(n,e){const s=Ew()?Tf():"http://localhost",r={identifier:e,continueUri:s},{signinMethods:i}=await PU(He(n),r);return i||[]}async function OU(n,e){const s=He(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&gx(s.auth,i,e);const{email:l}=await aU(s.auth,i);l!==n.email&&await n.reload()}async function MU(n,e,s){const r=He(n),l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};s&&gx(r.auth,l,s);const{email:c}=await lU(r.auth,l);c!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(n,e){return ys(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zU(n,{displayName:e,photoURL:s}){if(e===void 0&&s===void 0)return;const r=He(n),l={idToken:await r.getIdToken(),displayName:e,photoUrl:s,returnSecureToken:!0},c=await Ei(r,LU(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:u})=>u==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function VU(n,e){const s=He(n);return es(s.auth.app)?Promise.reject(Ks(s.auth)):ZE(s,e,null)}function UU(n,e){return ZE(He(n),null,e)}async function ZE(n,e,s){const{auth:r}=n,l={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(l.email=e),s&&(l.password=s);const c=await Ei(n,tU(r,l));await n._updateTokensIfNecessary(c,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(n){var i,l;if(!n)return null;const{providerId:e}=n,s=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(n!=null&&n.idToken)){const c=(l=(i=ux(n.idToken))==null?void 0:i.firebase)==null?void 0:l.sign_in_provider;if(c){const f=c!=="anonymous"&&c!=="custom"?c:null;return new zd(r,f)}}if(!e)return null;switch(e){case"facebook.com":return new BU(r,s);case"github.com":return new $U(r,s);case"google.com":return new qU(r,s);case"twitter.com":return new HU(r,s,n.screenName||null);case"custom":case"anonymous":return new zd(r,null);default:return new zd(r,e,s)}}class zd{constructor(e,s,r={}){this.isNewUser=e,this.providerId=s,this.profile=r}}class eC extends zd{constructor(e,s,r,i){super(e,s,r),this.username=i}}class BU extends zd{constructor(e,s){super(e,"facebook.com",s)}}class $U extends eC{constructor(e,s){super(e,"github.com",s,typeof(s==null?void 0:s.login)=="string"?s==null?void 0:s.login:null)}}class qU extends zd{constructor(e,s){super(e,"google.com",s)}}class HU extends eC{constructor(e,s,r){super(e,"twitter.com",s,r)}}function GU(n){const{user:e,_tokenResponse:s}=n;return e.isAnonymous&&!s?{providerId:null,isNewUser:!1,profile:null}:FU(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,s,r){this.type=e,this.credential=s,this.user=r}static _fromIdtoken(e,s){return new Vl("enroll",e,s)}static _fromMfaPendingCredential(e){return new Vl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var s,r;if(e!=null&&e.multiFactorSession){if((s=e.multiFactorSession)!=null&&s.pendingCredential)return Vl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return Vl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,s,r){this.session=e,this.hints=s,this.signInResolver=r}static _fromError(e,s){const r=os(e),i=s.customData._serverResponse,l=(i.mfaInfo||[]).map(f=>sm._fromServerResponse(r,f));Se(i.mfaPendingCredential,r,"internal-error");const c=Vl._fromMfaPendingCredential(i.mfaPendingCredential);return new Ow(c,l,async f=>{const u=await f._process(r,c);delete i.mfaInfo,delete i.mfaPendingCredential;const m={...i,idToken:u.idToken,refreshToken:u.refreshToken};switch(s.operationType){case"signIn":const g=await Br._fromIdTokenResponse(r,s.operationType,m);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return Se(s.user,r,"internal-error"),Br._forOperation(s.user,s.operationType,m);default:un(r,"internal-error")}})}async resolveSignIn(e){const s=e;return this.signInResolver(s)}}function KU(n,e){var i;const s=He(n),r=e;return Se(e.customData.operationType,s,"argument-error"),Se((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,s,"argument-error"),Ow._fromError(s,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(n,e){return ys(n,"POST","/v2/accounts/mfaEnrollment:start",xs(n,e))}function WU(n,e){return ys(n,"POST","/v2/accounts/mfaEnrollment:finalize",xs(n,e))}function YU(n,e){return ys(n,"POST","/v2/accounts/mfaEnrollment:withdraw",xs(n,e))}class Mw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(s=>{s.mfaInfo&&(this.enrolledFactors=s.mfaInfo.map(r=>sm._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Mw(e)}async getSession(){return Vl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,s){const r=e,i=await this.getSession(),l=await Ei(this.user,r._process(this.user.auth,i,s));return await this.user._updateTokensIfNecessary(l),this.user.reload()}async unenroll(e){const s=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ei(this.user,YU(this.user.auth,{idToken:r,mfaEnrollmentId:s}));this.enrolledFactors=this.enrolledFactors.filter(({uid:l})=>l!==s),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const vb=new WeakMap;function QU(n){const e=He(n);return vb.has(e)||vb.set(e,Mw._fromUser(e)),vb.get(e)}const Og="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Og,"1"),this.storage.removeItem(Og),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=1e3,JU=10;class sC extends tC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),i=this.localCache[s];r!==i&&e(s,i,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((c,f,u)=>{this.notifyListeners(c,u)});return}const r=e.key;s?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!s&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);RV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JU):i()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},XU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}sC.type="LOCAL";const Lw=sC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC extends tC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}nC.type="SESSION";const rc=nC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(i=>i.isListeningto(e));if(s)return s;const r=new xx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:i,data:l}=s.data,c=this.handlersMap[i];if(!(c!=null&&c.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const f=Array.from(c).map(async m=>m(s.origin,l)),u=await ZU(f);s.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(n="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return n+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,c;return new Promise((f,u)=>{const m=nm("",20);i.port1.start();const g=setTimeout(()=>{u(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(b){const v=b;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(v.data.response);break;default:clearTimeout(g),clearTimeout(l),u(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:s},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return window}function tF(n){Ps().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){return typeof Ps().WorkerGlobalScope<"u"&&typeof Ps().importScripts=="function"}async function sF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nF(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function rF(){return zw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebaseLocalStorageDb",aF=1,Mg="firebaseLocalStorage",aC="fbase_key";class rm{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function yx(n,e){return n.transaction([Mg],e?"readwrite":"readonly").objectStore(Mg)}function iF(){const n=indexedDB.deleteDatabase(rC);return new rm(n).toPromise()}function lv(){const n=indexedDB.open(rC,aF);return new Promise((e,s)=>{n.addEventListener("error",()=>{s(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Mg,{keyPath:aC})}catch(i){s(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Mg)?e(r):(r.close(),await iF(),e(await lv()))})})}async function HS(n,e,s){const r=yx(n,!0).put({[aC]:e,value:s});return new rm(r).toPromise()}async function oF(n,e){const s=yx(n,!1).get(e),r=await new rm(s).toPromise();return r===void 0?null:r.value}function GS(n,e){const s=yx(n,!0).delete(e);return new rm(s).toPromise()}const lF=800,cF=3;class iC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lv(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>cF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xx._getInstance(rF()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var s,r;if(this.activeServiceWorker=await sF(),!this.activeServiceWorker)return;this.sender=new eF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(s=e[0])!=null&&s.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lv();return await HS(e,Og,"1"),await GS(e,Og),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>HS(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>oF(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>GS(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=yx(i,!1).getAll();return new rm(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),s.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),s.push(i));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iC.type="LOCAL";const Cf=iC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n,e){return ys(n,"POST","/v2/accounts/mfaSignIn:start",xs(n,e))}function dF(n,e){return ys(n,"POST","/v2/accounts/mfaSignIn:finalize",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=FE("rcb"),uF=new Jf(3e4,6e4);class hF{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=Ps().grecaptcha)!=null&&e.render)}load(e,s=""){return Se(fF(s),e,"argument-error"),this.shouldResolveImmediately(s)&&OS(Ps().grecaptcha)?Promise.resolve(Ps().grecaptcha):new Promise((r,i)=>{const l=Ps().setTimeout(()=>{i(Vs(e,"network-request-failed"))},uF.get());Ps()[wb]=()=>{Ps().clearTimeout(l),delete Ps()[wb];const f=Ps().grecaptcha;if(!f||!OS(f)){i(Vs(e,"internal-error"));return}const u=f.render;f.render=(m,g)=>{const b=u(m,g);return this.counter++,b},this.hostLanguage=s,r(f)};const c=`${VV()}?${ju({onload:wb,render:"explicit",hl:s})}`;Aw(c).catch(()=>{clearTimeout(l),i(Vs(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var s;return!!((s=Ps().grecaptcha)!=null&&s.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function fF(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class mF{async load(e){return new qV(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="recaptcha",pF={theme:"light",type:"image"};let gF=class{constructor(e,s,r={...pF}){this.parameters=r,this.type=lf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=os(e),this.isInvisible=this.parameters.size==="invisible",Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof s=="string"?document.getElementById(s):s;Se(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mF:new hF,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),s=this.getAssertedRecaptcha(),r=s.getResponse(e);return r||new Promise(i=>{const l=c=>{c&&(this.tokenChangeListeners.delete(l),i(c))};this.tokenChangeListeners.add(l),this.isInvisible&&s.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return s=>{if(this.tokenChangeListeners.forEach(r=>r(s)),typeof e=="function")e(s);else if(typeof e=="string"){const r=Ps()[e];typeof r=="function"&&r(s)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const s=document.createElement("div");e.appendChild(s),e=s}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Se(Ew()&&!zw(),this.auth,"internal-error"),await xF(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await vV(this.auth);Se(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function xF(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,s){this.verificationId=e,this.onConfirmation=s}confirm(e){const s=Wl._fromVerification(this.verificationId,e);return this.onConfirmation(s)}}async function yF(n,e,s){if(es(n.app))return Promise.reject(Ks(n));const r=os(n),i=await bx(r,e,He(s));return new Vw(i,l=>px(r,l))}async function bF(n,e,s){const r=He(n);await mx(!1,r,"phone");const i=await bx(r.auth,e,He(s));return new Vw(i,l=>QE(r,l))}async function vF(n,e,s){const r=He(n);if(es(r.auth.app))return Promise.reject(Ks(r.auth));const i=await bx(r.auth,e,He(s));return new Vw(i,l=>XE(r,l))}async function bx(n,e,s){var r;if(!n._getRecaptchaConfig())try{await QV(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const l=i.session;if("phoneNumber"in i){Se(l.type==="enroll",n,"internal-error");const c={idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Po(n,c,"mfaSmsEnrollment",async(g,b)=>{if(b.phoneEnrollmentInfo.captchaResponse===of){Se((s==null?void 0:s.type)===lf,g,"argument-error");const v=await jb(g,b,s);return qS(g,v)}return qS(g,b)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{Se(l.type==="signin",n,"internal-error");const c=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;Se(c,n,"missing-multi-factor-info");const f={mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Po(n,f,"mfaSmsSignIn",async(b,v)=>{if(v.phoneSignInInfo.captchaResponse===of){Se((s==null?void 0:s.type)===lf,b,"argument-error");const T=await jb(b,v,s);return KS(b,T)}return KS(b,v)},"PHONE_PROVIDER").catch(b=>Promise.reject(b))).phoneResponseInfo.sessionInfo}}else{const l={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Po(n,l,"sendVerificationCode",async(m,g)=>{if(g.captchaResponse===of){Se((s==null?void 0:s.type)===lf,m,"argument-error");const b=await jb(m,g,s);return BS(m,b)}return BS(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).sessionInfo}}finally{s==null||s._reset()}}async function wF(n,e){const s=He(n);if(es(s.auth.app))return Promise.reject(Ks(s.auth));await Iw(s,e)}async function jb(n,e,s){Se(s.type===lf,n,"argument-error");const r=await s.verify();Se(typeof r=="string",n,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const l=i.phoneEnrollmentInfo.phoneNumber,c=i.phoneEnrollmentInfo.captchaResponse,f=i.phoneEnrollmentInfo.clientType,u=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:r,captchaResponse:c,clientType:f,recaptchaVersion:u}}),i}else if("phoneSignInInfo"in i){const l=i.phoneSignInInfo.captchaResponse,c=i.phoneSignInInfo.clientType,f=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:l,clientType:c,recaptchaVersion:f}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=class cg{constructor(e){this.providerId=cg.PROVIDER_ID,this.auth=os(e)}verifyPhoneNumber(e,s){return bx(this.auth,e,He(s))}static credential(e,s){return Wl._fromVerification(e,s)}static credentialFromResult(e){const s=e;return cg.credentialFromTaggedObject(s)}static credentialFromError(e){return cg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:s,temporaryProof:r}=e;return s&&r?Wl._fromTokenResponse(s,r):null}};ac.PROVIDER_ID="phone";ac.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(n,e){return e?ur(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw extends _u{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wi(e,this._buildIdpRequest())}_linkToIdToken(e,s){return wi(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return wi(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function jF(n){return YE(n.auth,new Uw(n),n.bypassAuthState)}function NF(n){const{auth:e,user:s}=n;return Se(s,e,"internal-error"),WE(s,new Uw(n),n.bypassAuthState)}async function _F(n){const{auth:e,user:s}=n;return Se(s,e,"internal-error"),Iw(s,new Uw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,s,r,i,l=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:i,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const u={auth:this.auth,requestUri:s,sessionId:r,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(u))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jF;case"linkViaPopup":case"linkViaRedirect":return _F;case"reauthViaPopup":case"reauthViaRedirect":return NF;default:un(this.auth,"internal-error")}}resolve(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=new Jf(2e3,1e4);async function TF(n,e,s){if(es(n.app))return Promise.reject(Vs(n,"operation-not-supported-in-this-environment"));const r=os(n);Nu(n,e,Pi);const i=jc(r,s);return new xi(r,"signInViaPopup",e,i).executeNotNull()}async function kF(n,e,s){const r=He(n);if(es(r.auth.app))return Promise.reject(Vs(r.auth,"operation-not-supported-in-this-environment"));Nu(r.auth,e,Pi);const i=jc(r.auth,s);return new xi(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function EF(n,e,s){const r=He(n);Nu(r.auth,e,Pi);const i=jc(r.auth,s);return new xi(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class xi extends oC{constructor(e,s,r,i,l){super(e,s,i,l),this.provider=r,this.authWindow=null,this.pollId=null,xi.currentPopupAction&&xi.currentPopupAction.cancel(),xi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){da(this.filter.length===1,"Popup operations only handle one event");const e=nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,r;if((r=(s=this.authWindow)==null?void 0:s.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SF.get())};e()}}xi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF="pendingRedirect",cf=new Map;class AF extends oC{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=cf.get(this.auth._key());if(!e){try{const r=await IF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}cf.set(this.auth._key(),e)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IF(n,e){const s=cC(e),r=lC(n);if(!await r._isAvailable())return!1;const i=await r._get(s)==="true";return await r._remove(s),i}async function Fw(n,e){return lC(n)._set(cC(e),"true")}function RF(){cf.clear()}function Bw(n,e){cf.set(n._key(),e)}function lC(n){return ur(n._redirectPersistence)}function cC(n){return Kl(CF,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(n,e,s){return DF(n,e,s)}async function DF(n,e,s){if(es(n.app))return Promise.reject(Ks(n));const r=os(n);Nu(n,e,Pi),await r._initializationPromise;const i=jc(r,s);return await Fw(i,r),i._openRedirect(r,e,"signInViaRedirect")}function OF(n,e,s){return MF(n,e,s)}async function MF(n,e,s){const r=He(n);if(Nu(r.auth,e,Pi),es(r.auth.app))return Promise.reject(Ks(r.auth));await r.auth._initializationPromise;const i=jc(r.auth,s);await Fw(i,r.auth);const l=await dC(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",l)}function LF(n,e,s){return zF(n,e,s)}async function zF(n,e,s){const r=He(n);Nu(r.auth,e,Pi),await r.auth._initializationPromise;const i=jc(r.auth,s);await mx(!1,r,e.providerId),await Fw(i,r.auth);const l=await dC(r);return i._openRedirect(r.auth,e,"linkViaRedirect",l)}async function VF(n,e){return await os(n)._initializationPromise,vx(n,e,!1)}async function vx(n,e,s=!1){if(es(n.app))return Promise.reject(Ks(n));const r=os(n),i=jc(r,e),c=await new AF(r,i,s).execute();return c&&!s&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}async function dC(n){const e=nm(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=600*1e3;class uC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FF(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var r;if(e.error&&!hC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";s.onError(Vs(this.auth,i))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UF&&this.cachedEventUids.clear(),this.cachedEventUids.has(WS(e))}saveEventToCache(e){this.cachedEventUids.add(WS(e)),this.lastProcessedEventTime=Date.now()}}function WS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function hC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(n,e={}){return ys(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$F=/^https?/;async function qF(n){if(n.config.emulator)return;const{authorizedDomains:e}=await fC(n);for(const s of e)try{if(HF(s))return}catch{}un(n,"unauthorized-domain")}function HF(n){const e=Tf(),{protocol:s,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?s==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&c.hostname===r}if(!$F.test(s))return!1;if(BF.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=new Jf(3e4,6e4);function YS(){const n=Ps().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let s=0;s<n.CP.length;s++)n.CP[s]=null}}function KF(n){return new Promise((e,s)=>{var i,l,c;function r(){YS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YS(),s(Vs(n,"network-request-failed"))},timeout:GF.get()})}if((l=(i=Ps().gapi)==null?void 0:i.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Ps().gapi)!=null&&c.load)r();else{const f=FE("iframefcb");return Ps()[f]=()=>{gapi.load?r():s(Vs(n,"network-request-failed"))},Aw(`${FV()}?onload=${f}`).catch(u=>s(u))}}).catch(e=>{throw dg=null,e})}let dg=null;function WF(n){return dg=dg||KF(n),dg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=new Jf(5e3,15e3),QF="__/auth/iframe",XF="emulator/auth/iframe",JF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eB(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const s=e.emulator?Cw(e,XF):`https://${n.config.authDomain}/${QF}`,r={apiKey:e.apiKey,appName:n.name,v:Qo},i=ZF.get(n.config.apiHost);i&&(r.eid=i);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${s}?${ju(r).slice(1)}`}async function tB(n){const e=await WF(n),s=Ps().gapi;return Se(s,n,"internal-error"),e.open({where:document.body,url:eB(n),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JF,dontclear:!0},r=>new Promise(async(i,l)=>{await r.restyle({setHideOnLeave:!1});const c=Vs(n,"network-request-failed"),f=Ps().setTimeout(()=>{l(c)},YF.get());function u(){Ps().clearTimeout(f),i(r)}r.ping(u).then(u,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nB=500,rB=600,aB="_blank",iB="http://localhost";class QS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oB(n,e,s,r=nB,i=rB){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const u={...sB,width:r.toString(),height:i.toString(),top:l,left:c},m=is().toLowerCase();s&&(f=OE(m)?aB:s),PE(m)&&(e=e||iB,u.scrollbars="yes");const g=Object.entries(u).reduce((v,[T,N])=>`${v}${T}=${N},`,"");if(IV(m)&&f!=="_self")return lB(e||"",f),new QS(null);const b=window.open(e||"",f,g);Se(b,n,"popup-blocked");try{b.focus()}catch{}return new QS(b)}function lB(n,e){const s=document.createElement("a");s.href=n,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB="__/auth/handler",dB="emulator/auth/handler",uB=encodeURIComponent("fac");async function cv(n,e,s,r,i,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:s,redirectUrl:r,v:Qo,eventId:i};if(e instanceof Pi){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",O8(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries(l||{}))c[g]=b}if(e instanceof Su){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const u=await n._getAppCheckToken(),m=u?`#${uB}=${encodeURIComponent(u)}`:"";return`${hB(n)}?${ju(f).slice(1)}${m}`}function hB({config:n}){return n.emulator?Cw(n,dB):`https://${n.authDomain}/${cB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="webStorageSupport";class fB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rc,this._completeRedirectFn=vx,this._overrideRedirectResult=Bw}async _openPopup(e,s,r,i){var c;da((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await cv(e,s,r,Tf(),i);return oB(e,l,nm())}async _openRedirect(e,s,r,i){await this._originValidation(e);const l=await cv(e,s,r,Tf(),i);return tF(l),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:i,promise:l}=this.eventManagers[s];return i?Promise.resolve(i):(da(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await tB(e),r=new uC(e);return s.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Nb,{type:Nb},i=>{var c;const l=(c=i==null?void 0:i[0])==null?void 0:c[Nb];l!==void 0&&s(!!l),un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=qF(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return VE()||DE()||em()}}const mB=fB;class pB{constructor(e){this.factorId=e}_process(e,s,r){switch(s.type){case"enroll":return this._finalizeEnroll(e,s.credential,r);case"signin":return this._finalizeSignIn(e,s.credential);default:return za("unexpected MultiFactorSessionType")}}}class $w extends pB{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new $w(e)}_finalizeEnroll(e,s,r){return WU(e,{idToken:s,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,s){return dF(e,{mfaPendingCredential:s,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class mC{constructor(){}static assertion(e){return $w._fromCredential(e)}}mC.FACTOR_ID="phone";var XS="@firebase/auth",JS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yB(n){Fr(new An("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UE(n)},m=new LV(r,i,l,u);return XV(m,s),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),Fr(new An("auth-internal",e=>{const s=os(e.getProvider("auth").getImmediate());return(r=>new gB(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),En(XS,JS,xB(n)),En(XS,JS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=300;_8("authIdTokenMaxAge");function vB(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}zV({loadJS(n){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const l=Vs("internal-error");l.customData=i,s(l)},r.type="text/javascript",r.charset="UTF-8",vB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yB("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=2e3;async function jB(n,e,s){const{BuildInfo:r}=ic();da(e.sessionId,"AuthEvent did not contain a session ID");const i=await kB(e.sessionId),l={};return em()?l.ibi=r.packageName:Zf()?l.apn=r.packageName:un(n,"operation-not-supported-in-this-environment"),r.displayName&&(l.appDisplayName=r.displayName),l.sessionId=i,cv(n,s,e.type,void 0,e.eventId??void 0,l)}async function NB(n){const{BuildInfo:e}=ic(),s={};em()?s.iosBundleId=e.packageName:Zf()?s.androidPackageName=e.packageName:un(n,"operation-not-supported-in-this-environment"),await fC(n,s)}function _B(n){const{cordova:e}=ic();return new Promise(s=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,AV()?"_blank":"_system","location=yes"),s(i)})})}async function SB(n,e,s){const{cordova:r}=ic();let i=()=>{};try{await new Promise((l,c)=>{let f=null;function u(){var v;l();const b=(v=r.plugins.browsertab)==null?void 0:v.close;typeof b=="function"&&b(),typeof(s==null?void 0:s.close)=="function"&&s.close()}function m(){f||(f=window.setTimeout(()=>{c(Vs(n,"redirect-cancelled-by-user"))},wB))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&m()}e.addPassiveListener(u),document.addEventListener("resume",m,!1),Zf()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",m,!1),document.removeEventListener("visibilitychange",g,!1),f&&window.clearTimeout(f)}})}finally{i()}}function TB(n){var s,r,i,l,c,f,u,m,g,b;const e=ic();Se(typeof((s=e==null?void 0:e.universalLinks)==null?void 0:s.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se(typeof((c=(l=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:l.browsertab)==null?void 0:c.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se(typeof((m=(u=(f=e==null?void 0:e.cordova)==null?void 0:f.plugins)==null?void 0:u.browsertab)==null?void 0:m.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se(typeof((b=(g=e==null?void 0:e.cordova)==null?void 0:g.InAppBrowser)==null?void 0:b.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function kB(n){const e=EB(n),s=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(s)).map(i=>i.toString(16).padStart(2,"0")).join("")}function EB(n){if(da(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),s=new Uint8Array(e);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=20;class AB extends uC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(s=>s(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function IB(n,e,s=null){return{type:e,eventId:s,urlResponse:null,sessionId:DB(),postBody:null,tenantId:n.tenantId,error:Vs(n,"no-auth-event")}}function RB(n,e){return dv()._set(uv(n),e)}async function ZS(n){const e=await dv()._get(uv(n));return e&&await dv()._remove(uv(n)),e}function PB(n,e){var r,i;const s=MB(e);if(s.includes("/__/auth/callback")){const l=ug(s),c=l.firebaseError?OB(decodeURIComponent(l.firebaseError)):null,f=(i=(r=c==null?void 0:c.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],u=f?Vs(f):null;return u?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:s,postBody:null}}return null}function DB(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<CB;s++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function dv(){return ur(Lw)}function uv(n){return Kl("authEvent",n.config.apiKey,n.name)}function OB(n){try{return JSON.parse(n)}catch{return null}}function MB(n){const e=ug(n),s=e.link?decodeURIComponent(e.link):void 0,r=ug(s).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return ug(i).link||i||r||s||n}function ug(n){if(!(n!=null&&n.includes("?")))return{};const[e,...s]=n.split("?");return Id(s.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB=500;class zB{constructor(){this._redirectPersistence=rc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vx,this._overrideRedirectResult=Bw}async _initialize(e){const s=e._key();let r=this.eventManagers.get(s);return r||(r=new AB(e),this.eventManagers.set(s,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){un(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,s,r,i){TB(e);const l=await this._initialize(e);await l.initialized(),l.resetRedirect(),RF(),await this._originValidation(e);const c=IB(e,r,i);await RB(e,c);const f=await jB(e,c,s),u=await _B(f);return SB(e,l,u)}_isIframeWebStorageSupported(e,s){throw new Error("Method not implemented.")}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=NB(e)),this.originValidationPromises[s]}attachCallbackListeners(e,s){const{universalLinks:r,handleOpenURL:i,BuildInfo:l}=ic(),c=setTimeout(async()=>{await ZS(e),s.onEvent(eT())},LB),f=async g=>{clearTimeout(c);const b=await ZS(e);let v=null;b&&(g!=null&&g.url)&&(v=PB(b,g.url)),s.onEvent(v||eT())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,f);const u=i,m=`${l.packageName.toLowerCase()}://`;ic().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(m)&&f({url:g}),typeof u=="function")try{u(g)}catch(b){console.error(b)}}}}const VB=zB;function eT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vs("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(n,e){os(n)._logFramework(e)}var FB="@firebase/auth-compat",BB="0.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=1e3;function df(){var n;return((n=self==null?void 0:self.location)==null?void 0:n.protocol)||null}function qB(){return df()==="http:"||df()==="https:"}function pC(n=is()){return!!((df()==="file:"||df()==="ionic:"||df()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function HB(){return bw()||lx()}function GB(){return iE()&&(document==null?void 0:document.documentMode)===11}function KB(n=is()){return/Edge\/\d+/.test(n)}function WB(n=is()){return GB()||KB(n)}function gC(){try{const n=self.localStorage,e=nm();if(n)return n.setItem(e,"1"),n.removeItem(e),WB()?nc():!0}catch{return qw()&&nc()}return!1}function qw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _b(){return(qB()||cx()||pC())&&!HB()&&gC()&&!qw()}function xC(){return pC()&&typeof document<"u"}async function YB(){return xC()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},$B);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function QB(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr={LOCAL:"local",NONE:"none",SESSION:"session"},Uh=Se,yC="persistence";function XB(n,e){if(Uh(Object.values(dr).includes(e),n,"invalid-persistence-type"),bw()){Uh(e!==dr.SESSION,n,"unsupported-persistence-type");return}if(lx()){Uh(e===dr.NONE,n,"unsupported-persistence-type");return}if(qw()){Uh(e===dr.NONE||e===dr.LOCAL&&nc(),n,"unsupported-persistence-type");return}Uh(e===dr.NONE||gC(),n,"unsupported-persistence-type")}async function hv(n){await n._initializationPromise;const e=bC(),s=Kl(yC,n.config.apiKey,n.name);e&&e.setItem(s,n._getPersistenceType())}function JB(n,e){const s=bC();if(!s)return[];const r=Kl(yC,n,e);switch(s.getItem(r)){case dr.NONE:return[Wd];case dr.LOCAL:return[Cf,rc];case dr.SESSION:return[rc];default:return[]}}function bC(){var n;try{return((n=QB())==null?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=Se;class Eo{constructor(){this.browserResolver=ur(mB),this.cordovaResolver=ur(VB),this.underlyingResolver=null,this._redirectPersistence=rc,this._completeRedirectFn=vx,this._overrideRedirectResult=Bw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,s,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,s,r,i)}async _openRedirect(e,s,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,s,r,i)}_isIframeWebStorageSupported(e,s){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,s)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return xC()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ZB(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await YB();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(n){return n.unwrap()}function e7(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(n){return wC(n)}function s7(n,e){var r;const s=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new n7(n,KU(n,e))}else if(s){const i=wC(e),l=e;i&&(l.credential=i,l.tenantId=s.tenantId||void 0,l.email=s.email||void 0,l.phoneNumber=s.phoneNumber||void 0)}}function wC(n){const{_tokenResponse:e}=n instanceof on?n.customData:n;if(!e)return null;if(!(n instanceof on)&&"temporaryProof"in e&&"phoneNumber"in e)return ac.credentialFromResult(n);const s=e.providerId;if(!s||s===zh.PASSWORD)return null;let r;switch(s){case zh.GOOGLE:r=Da;break;case zh.FACEBOOK:r=Pa;break;case zh.GITHUB:r=Oa;break;case zh.TWITTER:r=Ma;break;default:const{oauthIdToken:i,oauthAccessToken:l,oauthTokenSecret:c,pendingToken:f,nonce:u}=e;return!l&&!c&&!i&&!f?null:f?s.startsWith("saml.")?Yd._create(s,f):Ga._fromParams({providerId:s,signInMethod:s,pendingToken:f,idToken:i,accessToken:l}):new Ld(s).credential({idToken:i,accessToken:l,rawNonce:u})}return n instanceof on?r.credentialFromError(n):r.credentialFromResult(n)}function Vn(n,e){return e.catch(s=>{throw s instanceof on&&s7(n,s),s}).then(s=>{const r=s.operationType,i=s.user;return{operationType:r,credential:t7(s),additionalUserInfo:GU(s),user:wx.getOrCreate(i)}})}async function fv(n,e){const s=await e;return{verificationId:s.verificationId,confirm:r=>Vn(n,s.confirm(r))}}class n7{constructor(e,s){this.resolver=s,this.auth=e7(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Vn(vC(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wx=class Xh{constructor(e){this._delegate=e,this.multiFactor=QU(e)}static getOrCreate(e){return Xh.USER_MAP.has(e)||Xh.USER_MAP.set(e,new Xh(e)),Xh.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Vn(this.auth,QE(this._delegate,e))}async linkWithPhoneNumber(e,s){return fv(this.auth,bF(this._delegate,e,s))}async linkWithPopup(e){return Vn(this.auth,EF(this._delegate,e,Eo))}async linkWithRedirect(e){return await hv(os(this.auth)),LF(this._delegate,e,Eo)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Vn(this.auth,XE(this._delegate,e))}reauthenticateWithPhoneNumber(e,s){return fv(this.auth,vF(this._delegate,e,s))}reauthenticateWithPopup(e){return Vn(this.auth,kF(this._delegate,e,Eo))}async reauthenticateWithRedirect(e){return await hv(os(this.auth)),OF(this._delegate,e,Eo)}sendEmailVerification(e){return OU(this._delegate,e)}async unlink(e){return await wU(this._delegate,e),this}updateEmail(e){return VU(this._delegate,e)}updatePassword(e){return UU(this._delegate,e)}updatePhoneNumber(e){return wF(this._delegate,e)}updateProfile(e){return zU(this._delegate,e)}verifyBeforeUpdateEmail(e,s){return MU(this._delegate,e,s)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};wx.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=Se;class mv{constructor(e,s){if(this.app=e,s.isInitialized()){this._delegate=s.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Fh(r,"invalid-api-key",{appName:e.name}),Fh(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Eo:void 0;this._delegate=s.initialize({options:{persistence:r7(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(dV),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wx.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,s){JV(this._delegate,e,s)}applyActionCode(e){return TU(this._delegate,e)}checkActionCode(e){return JE(this._delegate,e)}confirmPasswordReset(e,s){return SU(this._delegate,e,s)}async createUserWithEmailAndPassword(e,s){return Vn(this._delegate,EU(this._delegate,e,s))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return DU(this._delegate,e)}isSignInWithEmailLink(e){return IU(this._delegate,e)}async getRedirectResult(){Fh(_b(),this._delegate,"operation-not-supported-in-this-environment");const e=await VF(this._delegate,Eo);return e?Vn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){UB(this._delegate,e)}onAuthStateChanged(e,s,r){const{next:i,error:l,complete:c}=tT(e,s,r);return this._delegate.onAuthStateChanged(i,l,c)}onIdTokenChanged(e,s,r){const{next:i,error:l,complete:c}=tT(e,s,r);return this._delegate.onIdTokenChanged(i,l,c)}sendSignInLinkToEmail(e,s){return AU(this._delegate,e,s)}sendPasswordResetEmail(e,s){return _U(this._delegate,e,s||void 0)}async setPersistence(e){XB(this._delegate,e);let s;switch(e){case dr.SESSION:s=rc;break;case dr.LOCAL:s=await ur(Cf)._isAvailable()?Cf:Lw;break;case dr.NONE:s=Wd;break;default:return un("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(s)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Vn(this._delegate,vU(this._delegate))}signInWithCredential(e){return Vn(this._delegate,px(this._delegate,e))}signInWithCustomToken(e){return Vn(this._delegate,NU(this._delegate,e))}signInWithEmailAndPassword(e,s){return Vn(this._delegate,CU(this._delegate,e,s))}signInWithEmailLink(e,s){return Vn(this._delegate,RU(this._delegate,e,s))}signInWithPhoneNumber(e,s){return fv(this._delegate,yF(this._delegate,e,s))}async signInWithPopup(e){return Fh(_b(),this._delegate,"operation-not-supported-in-this-environment"),Vn(this._delegate,TF(this._delegate,e,Eo))}async signInWithRedirect(e){return Fh(_b(),this._delegate,"operation-not-supported-in-this-environment"),await hv(this._delegate),PF(this._delegate,e,Eo)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return kU(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}mv.Persistence=dr;function tT(n,e,s){let r=n;typeof n!="function"&&({next:r,error:e,complete:s}=n);const i=r;return{next:c=>i(c&&wx.getOrCreate(c)),error:e,complete:s}}function r7(n,e){const s=JB(n,e);if(typeof self<"u"&&!s.includes(Cf)&&s.push(Cf),typeof window<"u")for(const r of[Lw,rc])s.includes(r)||s.push(r);return s.includes(Wd)||s.push(Wd),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{static credential(e,s){return ac.credential(e,s)}constructor(){this.providerId="phone",this._delegate=new ac(vC(Xo.auth()))}verifyPhoneNumber(e,s){return this._delegate.verifyPhoneNumber(e,s)}unwrap(){return this._delegate}}Hw.PHONE_SIGN_IN_METHOD=ac.PHONE_SIGN_IN_METHOD;Hw.PROVIDER_ID=ac.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=Se;class i7{constructor(e,s,r=Xo.app()){var i;a7((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new gF(r.auth(),e,s),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7="auth-compat";function l7(n){n.INTERNAL.registerComponent(new An(o7,e=>{const s=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new mv(s,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:yd.EMAIL_SIGNIN,PASSWORD_RESET:yd.PASSWORD_RESET,RECOVER_EMAIL:yd.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:yd.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:yd.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:yd.VERIFY_EMAIL}},EmailAuthProvider:Jo,FacebookAuthProvider:Pa,GithubAuthProvider:Oa,GoogleAuthProvider:Da,OAuthProvider:Ld,SAMLAuthProvider:Pg,PhoneAuthProvider:Hw,PhoneMultiFactorGenerator:mC,RecaptchaVerifier:i7,TwitterAuthProvider:Ma,Auth:mv,AuthCredential:_u,Error:on}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(FB,BB)}l7(Xo);var sT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Do,jC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,A){function I(){}I.prototype=A.prototype,_.F=A.prototype,_.prototype=new I,_.prototype.constructor=_,_.D=function(z,O,F){for(var R=Array(arguments.length-2),U=2;U<arguments.length;U++)R[U-2]=arguments[U];return A.prototype[O].apply(z,R)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,s),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,A,I){I||(I=0);const z=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)z[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;O<16;++O)z[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=_.g[0],I=_.g[1],O=_.g[2];let F=_.g[3],R;R=A+(F^I&(O^F))+z[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=F+(O^A&(I^O))+z[1]+3905402710&4294967295,F=A+(R<<12&4294967295|R>>>20),R=O+(I^F&(A^I))+z[2]+606105819&4294967295,O=F+(R<<17&4294967295|R>>>15),R=I+(A^O&(F^A))+z[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(F^I&(O^F))+z[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=F+(O^A&(I^O))+z[5]+1200080426&4294967295,F=A+(R<<12&4294967295|R>>>20),R=O+(I^F&(A^I))+z[6]+2821735955&4294967295,O=F+(R<<17&4294967295|R>>>15),R=I+(A^O&(F^A))+z[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(F^I&(O^F))+z[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=F+(O^A&(I^O))+z[9]+2336552879&4294967295,F=A+(R<<12&4294967295|R>>>20),R=O+(I^F&(A^I))+z[10]+4294925233&4294967295,O=F+(R<<17&4294967295|R>>>15),R=I+(A^O&(F^A))+z[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(F^I&(O^F))+z[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=F+(O^A&(I^O))+z[13]+4254626195&4294967295,F=A+(R<<12&4294967295|R>>>20),R=O+(I^F&(A^I))+z[14]+2792965006&4294967295,O=F+(R<<17&4294967295|R>>>15),R=I+(A^O&(F^A))+z[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(O^F&(I^O))+z[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=F+(I^O&(A^I))+z[6]+3225465664&4294967295,F=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(F^A))+z[11]+643717713&4294967295,O=F+(R<<14&4294967295|R>>>18),R=I+(F^A&(O^F))+z[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^F&(I^O))+z[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=F+(I^O&(A^I))+z[10]+38016083&4294967295,F=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(F^A))+z[15]+3634488961&4294967295,O=F+(R<<14&4294967295|R>>>18),R=I+(F^A&(O^F))+z[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^F&(I^O))+z[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=F+(I^O&(A^I))+z[14]+3275163606&4294967295,F=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(F^A))+z[3]+4107603335&4294967295,O=F+(R<<14&4294967295|R>>>18),R=I+(F^A&(O^F))+z[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^F&(I^O))+z[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=F+(I^O&(A^I))+z[2]+4243563512&4294967295,F=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(F^A))+z[7]+1735328473&4294967295,O=F+(R<<14&4294967295|R>>>18),R=I+(F^A&(O^F))+z[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(I^O^F)+z[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=F+(A^I^O)+z[8]+2272392833&4294967295,F=A+(R<<11&4294967295|R>>>21),R=O+(F^A^I)+z[11]+1839030562&4294967295,O=F+(R<<16&4294967295|R>>>16),R=I+(O^F^A)+z[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^F)+z[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=F+(A^I^O)+z[4]+1272893353&4294967295,F=A+(R<<11&4294967295|R>>>21),R=O+(F^A^I)+z[7]+4139469664&4294967295,O=F+(R<<16&4294967295|R>>>16),R=I+(O^F^A)+z[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^F)+z[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=F+(A^I^O)+z[0]+3936430074&4294967295,F=A+(R<<11&4294967295|R>>>21),R=O+(F^A^I)+z[3]+3572445317&4294967295,O=F+(R<<16&4294967295|R>>>16),R=I+(O^F^A)+z[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^F)+z[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=F+(A^I^O)+z[12]+3873151461&4294967295,F=A+(R<<11&4294967295|R>>>21),R=O+(F^A^I)+z[15]+530742520&4294967295,O=F+(R<<16&4294967295|R>>>16),R=I+(O^F^A)+z[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(O^(I|~F))+z[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=F+(I^(A|~O))+z[7]+1126891415&4294967295,F=A+(R<<10&4294967295|R>>>22),R=O+(A^(F|~I))+z[14]+2878612391&4294967295,O=F+(R<<15&4294967295|R>>>17),R=I+(F^(O|~A))+z[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~F))+z[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=F+(I^(A|~O))+z[3]+2399980690&4294967295,F=A+(R<<10&4294967295|R>>>22),R=O+(A^(F|~I))+z[10]+4293915773&4294967295,O=F+(R<<15&4294967295|R>>>17),R=I+(F^(O|~A))+z[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~F))+z[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=F+(I^(A|~O))+z[15]+4264355552&4294967295,F=A+(R<<10&4294967295|R>>>22),R=O+(A^(F|~I))+z[6]+2734768916&4294967295,O=F+(R<<15&4294967295|R>>>17),R=I+(F^(O|~A))+z[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~F))+z[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=F+(I^(A|~O))+z[11]+3174756917&4294967295,F=A+(R<<10&4294967295|R>>>22),R=O+(A^(F|~I))+z[2]+718787259&4294967295,O=F+(R<<15&4294967295|R>>>17),R=I+(F^(O|~A))+z[9]+3951481745&4294967295,_.g[0]=_.g[0]+A&4294967295,_.g[1]=_.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,_.g[2]=_.g[2]+O&4294967295,_.g[3]=_.g[3]+F&4294967295}r.prototype.v=function(_,A){A===void 0&&(A=_.length);const I=A-this.blockSize,z=this.C;let O=this.h,F=0;for(;F<A;){if(O==0)for(;F<=I;)i(this,_,F),F+=this.blockSize;if(typeof _=="string"){for(;F<A;)if(z[O++]=_.charCodeAt(F++),O==this.blockSize){i(this,z),O=0;break}}else for(;F<A;)if(z[O++]=_[F++],O==this.blockSize){i(this,z),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var A=1;A<_.length-8;++A)_[A]=0;A=this.o*8;for(var I=_.length-8;I<_.length;++I)_[I]=A&255,A/=256;for(this.v(_),_=Array(16),A=0,I=0;I<4;++I)for(let z=0;z<32;z+=8)_[A++]=this.g[I]>>>z&255;return _};function l(_,A){var I=f;return Object.prototype.hasOwnProperty.call(I,_)?I[_]:I[_]=A(_)}function c(_,A){this.h=A;const I=[];let z=!0;for(let O=_.length-1;O>=0;O--){const F=_[O]|0;z&&F==A||(I[O]=F,z=!1)}this.g=I}var f={};function u(_){return-128<=_&&_<128?l(_,function(A){return new c([A|0],A<0?-1:0)}):new c([_|0],_<0?-1:0)}function m(_){if(isNaN(_)||!isFinite(_))return b;if(_<0)return k(m(-_));const A=[];let I=1;for(let z=0;_>=I;z++)A[z]=_/I|0,I*=4294967296;return new c(A,0)}function g(_,A){if(_.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(_.charAt(0)=="-")return k(g(_.substring(1),A));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=m(Math.pow(A,8));let z=b;for(let F=0;F<_.length;F+=8){var O=Math.min(8,_.length-F);const R=parseInt(_.substring(F,F+O),A);O<8?(O=m(Math.pow(A,O)),z=z.j(O).add(m(R))):(z=z.j(I),z=z.add(m(R)))}return z}var b=u(0),v=u(1),T=u(16777216);n=c.prototype,n.m=function(){if(E(this))return-k(this).m();let _=0,A=1;for(let I=0;I<this.g.length;I++){const z=this.i(I);_+=(z>=0?z:4294967296+z)*A,A*=4294967296}return _},n.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(N(this))return"0";if(E(this))return"-"+k(this).toString(_);const A=m(Math.pow(_,6));var I=this;let z="";for(;;){const O=V(I,A).g;I=D(I,O.j(A));let F=((I.g.length>0?I.g[0]:I.h)>>>0).toString(_);if(I=O,N(I))return F+z;for(;F.length<6;)F="0"+F;z=F+z}},n.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function N(_){if(_.h!=0)return!1;for(let A=0;A<_.g.length;A++)if(_.g[A]!=0)return!1;return!0}function E(_){return _.h==-1}n.l=function(_){return _=D(this,_),E(_)?-1:N(_)?0:1};function k(_){const A=_.g.length,I=[];for(let z=0;z<A;z++)I[z]=~_.g[z];return new c(I,~_.h).add(v)}n.abs=function(){return E(this)?k(this):this},n.add=function(_){const A=Math.max(this.g.length,_.g.length),I=[];let z=0;for(let O=0;O<=A;O++){let F=z+(this.i(O)&65535)+(_.i(O)&65535),R=(F>>>16)+(this.i(O)>>>16)+(_.i(O)>>>16);z=R>>>16,F&=65535,R&=65535,I[O]=R<<16|F}return new c(I,I[I.length-1]&-2147483648?-1:0)};function D(_,A){return _.add(k(A))}n.j=function(_){if(N(this)||N(_))return b;if(E(this))return E(_)?k(this).j(k(_)):k(k(this).j(_));if(E(_))return k(this.j(k(_)));if(this.l(T)<0&&_.l(T)<0)return m(this.m()*_.m());const A=this.g.length+_.g.length,I=[];for(var z=0;z<2*A;z++)I[z]=0;for(z=0;z<this.g.length;z++)for(let O=0;O<_.g.length;O++){const F=this.i(z)>>>16,R=this.i(z)&65535,U=_.i(O)>>>16,he=_.i(O)&65535;I[2*z+2*O]+=R*he,P(I,2*z+2*O),I[2*z+2*O+1]+=F*he,P(I,2*z+2*O+1),I[2*z+2*O+1]+=R*U,P(I,2*z+2*O+1),I[2*z+2*O+2]+=F*U,P(I,2*z+2*O+2)}for(_=0;_<A;_++)I[_]=I[2*_+1]<<16|I[2*_];for(_=A;_<2*A;_++)I[_]=0;return new c(I,0)};function P(_,A){for(;(_[A]&65535)!=_[A];)_[A+1]+=_[A]>>>16,_[A]&=65535,A++}function L(_,A){this.g=_,this.h=A}function V(_,A){if(N(A))throw Error("division by zero");if(N(_))return new L(b,b);if(E(_))return A=V(k(_),A),new L(k(A.g),k(A.h));if(E(A))return A=V(_,k(A)),new L(k(A.g),A.h);if(_.g.length>30){if(E(_)||E(A))throw Error("slowDivide_ only works with positive integers.");for(var I=v,z=A;z.l(_)<=0;)I=$(I),z=$(z);var O=Q(I,1),F=Q(z,1);for(z=Q(z,2),I=Q(I,2);!N(z);){var R=F.add(z);R.l(_)<=0&&(O=O.add(I),F=R),z=Q(z,1),I=Q(I,1)}return A=D(_,O.j(A)),new L(O,A)}for(O=b;_.l(A)>=0;){for(I=Math.max(1,Math.floor(_.m()/A.m())),z=Math.ceil(Math.log(I)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),F=m(I),R=F.j(A);E(R)||R.l(_)>0;)I-=z,F=m(I),R=F.j(A);N(F)&&(F=v),O=O.add(F),_=D(_,R)}return new L(O,_)}n.B=function(_){return V(this,_).h},n.and=function(_){const A=Math.max(this.g.length,_.g.length),I=[];for(let z=0;z<A;z++)I[z]=this.i(z)&_.i(z);return new c(I,this.h&_.h)},n.or=function(_){const A=Math.max(this.g.length,_.g.length),I=[];for(let z=0;z<A;z++)I[z]=this.i(z)|_.i(z);return new c(I,this.h|_.h)},n.xor=function(_){const A=Math.max(this.g.length,_.g.length),I=[];for(let z=0;z<A;z++)I[z]=this.i(z)^_.i(z);return new c(I,this.h^_.h)};function $(_){const A=_.g.length+1,I=[];for(let z=0;z<A;z++)I[z]=_.i(z)<<1|_.i(z-1)>>>31;return new c(I,_.h)}function Q(_,A){const I=A>>5;A%=32;const z=_.g.length-I,O=[];for(let F=0;F<z;F++)O[F]=A>0?_.i(F+I)>>>A|_.i(F+I+1)<<32-A:_.i(F+I);return new c(O,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jC=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,Do=c}).apply(typeof sT<"u"?sT:typeof self<"u"?self:typeof window<"u"?window:{});var Qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NC,Jh,_C,hg,pv,SC,TC,kC;(function(){var n,e=Object.defineProperty;function s(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qp=="object"&&Qp];for(var j=0;j<p.length;++j){var C=p[j];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=s(this);function i(p,j){if(j)e:{var C=r;p=p.split(".");for(var B=0;B<p.length-1;B++){var ee=p[B];if(!(ee in C))break e;C=C[ee]}p=p[p.length-1],B=C[p],j=j(B),j!=B&&j!=null&&e(C,p,{configurable:!0,writable:!0,value:j})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(j){var C=[],B;for(B in j)Object.prototype.hasOwnProperty.call(j,B)&&C.push([B,j[B]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(p){var j=typeof p;return j=="object"&&p!=null||j=="function"}function u(p,j,C){return p.call.apply(p.bind,arguments)}function m(p,j,C){return m=u,m.apply(null,arguments)}function g(p,j){var C=Array.prototype.slice.call(arguments,1);return function(){var B=C.slice();return B.push.apply(B,arguments),p.apply(this,B)}}function b(p,j){function C(){}C.prototype=j.prototype,p.Z=j.prototype,p.prototype=new C,p.prototype.constructor=p,p.Ob=function(B,ee,le){for(var ke=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ke[Ze-2]=arguments[Ze];return j.prototype[ee].apply(B,ke)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function T(p){const j=p.length;if(j>0){const C=Array(j);for(let B=0;B<j;B++)C[B]=p[B];return C}return[]}function N(p,j){for(let B=1;B<arguments.length;B++){const ee=arguments[B];var C=typeof ee;if(C=C!="object"?C:ee?Array.isArray(ee)?"array":C:"null",C=="array"||C=="object"&&typeof ee.length=="number"){C=p.length||0;const le=ee.length||0;p.length=C+le;for(let ke=0;ke<le;ke++)p[C+ke]=ee[ke]}else p.push(ee)}}class E{constructor(j,C){this.i=j,this.j=C,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function k(p){c.setTimeout(()=>{throw p},0)}function D(){var p=_;let j=null;return p.g&&(j=p.g,p.g=p.g.next,p.g||(p.h=null),j.next=null),j}class P{constructor(){this.h=this.g=null}add(j,C){const B=L.get();B.set(j,C),this.h?this.h.next=B:this.g=B,this.h=B}}var L=new E(()=>new V,p=>p.reset());class V{constructor(){this.next=this.g=this.h=null}set(j,C){this.h=j,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let $,Q=!1,_=new P,A=()=>{const p=Promise.resolve(void 0);$=()=>{p.then(I)}};function I(){for(var p;p=D();){try{p.h.call(p.g)}catch(C){k(C)}var j=L;j.j(p),j.h<100&&(j.h++,p.next=j.g,j.g=p)}Q=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(p,j){this.type=p,this.g=this.target=j,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,j=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const C=()=>{};c.addEventListener("test",C,j),c.removeEventListener("test",C,j)}catch{}return p})();function R(p){return/^[\s\xa0]*$/.test(p)}function U(p,j){O.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,j)}b(U,O),U.prototype.init=function(p,j){const C=this.type=p.type,B=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=j,j=p.relatedTarget,j||(C=="mouseover"?j=p.fromElement:C=="mouseout"&&(j=p.toElement)),this.relatedTarget=j,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&U.Z.h.call(this)},U.prototype.h=function(){U.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),W=0;function te(p,j,C,B,ee){this.listener=p,this.proxy=null,this.src=j,this.type=C,this.capture=!!B,this.ha=ee,this.key=++W,this.da=this.fa=!1}function be(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ae(p,j,C){for(const B in p)j.call(C,p[B],B,p)}function Ie(p,j){for(const C in p)j.call(void 0,p[C],C,p)}function H(p){const j={};for(const C in p)j[C]=p[C];return j}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ne(p,j){let C,B;for(let ee=1;ee<arguments.length;ee++){B=arguments[ee];for(C in B)p[C]=B[C];for(let le=0;le<oe.length;le++)C=oe[le],Object.prototype.hasOwnProperty.call(B,C)&&(p[C]=B[C])}}function K(p){this.src=p,this.g={},this.h=0}K.prototype.add=function(p,j,C,B,ee){const le=p.toString();p=this.g[le],p||(p=this.g[le]=[],this.h++);const ke=Te(p,j,B,ee);return ke>-1?(j=p[ke],C||(j.fa=!1)):(j=new te(j,this.src,le,!!B,ee),j.fa=C,p.push(j)),j};function ye(p,j){const C=j.type;if(C in p.g){var B=p.g[C],ee=Array.prototype.indexOf.call(B,j,void 0),le;(le=ee>=0)&&Array.prototype.splice.call(B,ee,1),le&&(be(j),p.g[C].length==0&&(delete p.g[C],p.h--))}}function Te(p,j,C,B){for(let ee=0;ee<p.length;++ee){const le=p[ee];if(!le.da&&le.listener==j&&le.capture==!!C&&le.ha==B)return ee}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),at={};function Ke(p,j,C,B,ee){if(Array.isArray(j)){for(let le=0;le<j.length;le++)Ke(p,j[le],C,B,ee);return null}return C=re(C),p&&p[he]?p.J(j,C,f(B)?!!B.capture:!1,ee):Ht(p,j,C,!1,B,ee)}function Ht(p,j,C,B,ee,le){if(!j)throw Error("Invalid event type");const ke=f(ee)?!!ee.capture:!!ee;let Ze=At(p);if(Ze||(p[Le]=Ze=new K(p)),C=Ze.add(j,C,B,ke,le),C.proxy)return C;if(B=Ft(),C.proxy=B,B.src=p,B.listener=C,p.addEventListener)F||(ee=ke),ee===void 0&&(ee=!1),p.addEventListener(j.toString(),B,ee);else if(p.attachEvent)p.attachEvent(je(j.toString()),B);else if(p.addListener&&p.removeListener)p.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Ft(){function p(C){return j.call(p.src,p.listener,C)}const j=Pe;return p}function Bt(p,j,C,B,ee){if(Array.isArray(j))for(var le=0;le<j.length;le++)Bt(p,j[le],C,B,ee);else B=f(B)?!!B.capture:!!B,C=re(C),p&&p[he]?(p=p.i,le=String(j).toString(),le in p.g&&(j=p.g[le],C=Te(j,C,B,ee),C>-1&&(be(j[C]),Array.prototype.splice.call(j,C,1),j.length==0&&(delete p.g[le],p.h--)))):p&&(p=At(p))&&(j=p.g[j.toString()],p=-1,j&&(p=Te(j,C,B,ee)),(C=p>-1?j[p]:null)&&ls(C))}function ls(p){if(typeof p!="number"&&p&&!p.da){var j=p.src;if(j&&j[he])ye(j.i,p);else{var C=p.type,B=p.proxy;j.removeEventListener?j.removeEventListener(C,B,p.capture):j.detachEvent?j.detachEvent(je(C),B):j.addListener&&j.removeListener&&j.removeListener(B),(C=At(j))?(ye(C,p),C.h==0&&(C.src=null,j[Le]=null)):be(p)}}}function je(p){return p in at?at[p]:at[p]="on"+p}function Pe(p,j){if(p.da)p=!0;else{j=new U(j,this);const C=p.listener,B=p.ha||p.src;p.fa&&ls(p),p=C.call(B,j)}return p}function At(p){return p=p[Le],p instanceof K?p:null}var pe="__closure_events_fn_"+(Math.random()*1e9>>>0);function re(p){return typeof p=="function"?p:(p[pe]||(p[pe]=function(j){return p.handleEvent(j)}),p[pe])}function qe(){z.call(this),this.i=new K(this),this.M=this,this.G=null}b(qe,z),qe.prototype[he]=!0,qe.prototype.removeEventListener=function(p,j,C,B){Bt(this,p,j,C,B)};function rt(p,j){var C,B=p.G;if(B)for(C=[];B;B=B.G)C.push(B);if(p=p.M,B=j.type||j,typeof j=="string")j=new O(j,p);else if(j instanceof O)j.target=j.target||p;else{var ee=j;j=new O(B,p),Ne(j,ee)}ee=!0;let le,ke;if(C)for(ke=C.length-1;ke>=0;ke--)le=j.g=C[ke],ee=Lt(le,B,!0,j)&&ee;if(le=j.g=p,ee=Lt(le,B,!0,j)&&ee,ee=Lt(le,B,!1,j)&&ee,C)for(ke=0;ke<C.length;ke++)le=j.g=C[ke],ee=Lt(le,B,!1,j)&&ee}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var p=this.i;for(const j in p.g){const C=p.g[j];for(let B=0;B<C.length;B++)be(C[B]);delete p.g[j],p.h--}}this.G=null},qe.prototype.J=function(p,j,C,B){return this.i.add(String(p),j,!1,C,B)},qe.prototype.K=function(p,j,C,B){return this.i.add(String(p),j,!0,C,B)};function Lt(p,j,C,B){if(j=p.i.g[String(j)],!j)return!0;j=j.concat();let ee=!0;for(let le=0;le<j.length;++le){const ke=j[le];if(ke&&!ke.da&&ke.capture==C){const Ze=ke.listener,bs=ke.ha||ke.src;ke.fa&&ye(p.i,ke),ee=Ze.call(bs,B)!==!1&&ee}}return ee&&!B.defaultPrevented}function Qn(p,j){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=m(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:c.setTimeout(p,j||0)}function $r(p){p.g=Qn(()=>{p.g=null,p.i&&(p.i=!1,$r(p))},p.l);const j=p.h;p.h=null,p.m.apply(null,j)}class me extends z{constructor(j,C){super(),this.m=j,this.l=C,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:$r(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Me(p){z.call(this),this.h=p,this.g={}}b(Me,z);var Qe=[];function it(p){Ae(p.g,function(j,C){this.g.hasOwnProperty(C)&&ls(j)},p),p.g={}}Me.prototype.N=function(){Me.Z.N.call(this),it(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var It=c.JSON.stringify,rs=c.JSON.parse,hn=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function xr(){}function ha(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ms(){O.call(this,"d")}b(Ms,O);function fn(){O.call(this,"c")}b(fn,O);var Rt={},kc=null;function zi(){return kc=kc||new qe}Rt.Ia="serverreachability";function rl(p){O.call(this,Rt.Ia,p)}b(rl,O);function Jn(p){const j=zi();rt(j,new rl(j))}Rt.STAT_EVENT="statevent";function fa(p,j){O.call(this,Rt.STAT_EVENT,p),this.stat=j}b(fa,O);function as(p){const j=zi();rt(j,new fa(j,p))}Rt.Ja="timingevent";function Zn(p,j){O.call(this,Rt.Ja,p),this.size=j}b(Zn,O);function X(p,j){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},j)}function ze(){this.g=!0}ze.prototype.ua=function(){this.g=!1};function ot(p,j,C,B,ee,le){p.info(function(){if(p.g)if(le){var ke="",Ze=le.split("&");for(let jt=0;jt<Ze.length;jt++){var bs=Ze[jt].split("=");if(bs.length>1){const Xt=bs[0];bs=bs[1];const wr=Xt.split("_");ke=wr.length>=2&&wr[1]=="type"?ke+(Xt+"="+bs+"&"):ke+(Xt+"=redacted&")}}}else ke=null;else ke=le;return"XMLHTTP REQ ("+B+") [attempt "+ee+"]: "+j+`
`+C+`
`+ke})}function Qt(p,j,C,B,ee,le,ke){p.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ee+"]: "+j+`
`+C+`
`+le+" "+ke})}function st(p,j,C,B){p.info(function(){return"XMLHTTP TEXT ("+j+"): "+qr(p,C)+(B?" "+B:"")})}function Ys(p,j){p.info(function(){return"TIMEOUT: "+j})}ze.prototype.info=function(){};function qr(p,j){if(!p.g)return j;if(!j)return null;try{const le=JSON.parse(j);if(le){for(p=0;p<le.length;p++)if(Array.isArray(le[p])){var C=le[p];if(!(C.length<2)){var B=C[1];if(Array.isArray(B)&&!(B.length<1)){var ee=B[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let ke=1;ke<B.length;ke++)B[ke]=""}}}}return It(le)}catch{return j}}var mn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ui;function Ya(){}b(Ya,xr),Ya.prototype.g=function(){return new XMLHttpRequest},Ui=new Ya;function Hr(p){return encodeURIComponent(String(p))}function wm(p){var j=1;p=p.split(":");const C=[];for(;j>0&&p.length;)C.push(p.shift()),j--;return p.length&&C.push(p.join(":")),C}function Gr(p,j,C,B){this.j=p,this.i=j,this.l=C,this.S=B||1,this.V=new Me(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kr}function Kr(){this.i=null,this.g="",this.h=!1}var Ss={},Bs={};function ma(p,j,C){p.M=1,p.A=al(ks(j)),p.u=C,p.R=!0,Ec(p,null)}function Ec(p,j){p.F=Date.now(),pa(p),p.B=ks(p.A);var C=p.B,B=p.S;Array.isArray(B)||(B=[String(B)]),Rc(C.i,"t",B),p.C=0,C=p.j.L,p.h=new Kr,p.g=Mm(p.j,C?j:null,!p.u),p.P>0&&(p.O=new me(m(p.Y,p,p.g),p.P)),j=p.V,C=p.g,B=p.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Qe[0]=ee.toString()),ee=Qe);for(let le=0;le<ee.length;le++){const ke=Ke(C,ee[le],B||j.handleEvent,!1,j.h||j);if(!ke)break;j.g[ke.key]=ke}j=p.J?H(p.J):{},p.u?(p.v||(p.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,j)):(p.v="GET",p.g.ea(p.B,p.v,null,j)),Jn(),ot(p.i,p.v,p.B,p.l,p.S,p.u)}Gr.prototype.ba=function(p){p=p.target;const j=this.O;j&&Qr(p)==3?j.j():this.Y(p)},Gr.prototype.Y=function(p){try{if(p==this.g)e:{const Ze=Qr(this.g),bs=this.g.ya(),jt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||Qs(this.g)))){this.K||Ze!=4||bs==7||(bs==8||jt<=0?Jn(3):Jn(2)),ga(this);var j=this.g.ca();this.X=j;var C=Yx(this);if(this.o=j==200,Qt(this.i,this.v,this.B,this.l,this.S,Ze,j),this.o){if(this.U&&!this.L){t:{if(this.g){var B,ee=this.g;if((B=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(B)){var le=B;break t}}le=null}if(p=le)st(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xa(this,p);else{this.o=!1,this.m=3,as(12),er(this),yr(this);break e}}if(this.R){p=!0;let Xt;for(;!this.K&&this.C<C.length;)if(Xt=Nm(this,C),Xt==Bs){Ze==4&&(this.m=4,as(14),p=!1),st(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Ss){this.m=4,as(15),st(this.i,this.l,C,"[Invalid Chunk]"),p=!1;break}else st(this.i,this.l,Xt,null),xa(this,Xt);if(jm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||C.length!=0||this.h.h||(this.m=1,as(16),p=!1),this.o=this.o&&p,!p)st(this.i,this.l,C,"[Invalid Chunked Response]"),er(this),yr(this);else if(C.length>0&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.aa&&!ke.P&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Wu(ke),ke.P=!0,as(11))}}else st(this.i,this.l,C,null),xa(this,C);Ze==4&&er(this),this.o&&!this.K&&(Ze==4?Rm(this.j,this):(this.o=!1,pa(this)))}else Xa(this.g),j==400&&C.indexOf("Unknown SID")>0?(this.m=3,as(12)):(this.m=0,as(13)),er(this),yr(this)}}}catch{}finally{}};function Yx(p){if(!jm(p))return p.g.la();const j=Qs(p.g);if(j==="")return"";let C="";const B=j.length,ee=Qr(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return er(p),yr(p),"";p.h.i=new c.TextDecoder}for(let le=0;le<B;le++)p.h.h=!0,C+=p.h.i.decode(j[le],{stream:!(ee&&le==B-1)});return j.length=0,p.h.g+=C,p.C=0,p.h.g}function jm(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Nm(p,j){var C=p.C,B=j.indexOf(`
`,C);return B==-1?Bs:(C=Number(j.substring(C,B)),isNaN(C)?Ss:(B+=1,B+C>j.length?Bs:(j=j.slice(B,B+C),p.C=B+C,j)))}Gr.prototype.cancel=function(){this.K=!0,er(this)};function pa(p){p.T=Date.now()+p.H,Cc(p,p.H)}function Cc(p,j){if(p.D!=null)throw Error("WatchDog timer not null");p.D=X(m(p.aa,p),j)}function ga(p){p.D&&(c.clearTimeout(p.D),p.D=null)}Gr.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Ys(this.i,this.B),this.M!=2&&(Jn(),as(17)),er(this),this.m=2,yr(this)):Cc(this,this.T-p)};function yr(p){p.j.I==0||p.K||Rm(p.j,p)}function er(p){ga(p);var j=p.O;j&&typeof j.dispose=="function"&&j.dispose(),p.O=null,it(p.V),p.g&&(j=p.g,p.g=null,j.abort(),j.dispose())}function xa(p,j){try{var C=p.j;if(C.I!=0&&(C.g==p||ba(C.h,p))){if(!p.L&&ba(C.h,p)&&C.I==3){try{var B=C.Ba.g.parse(j)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ee=B;if(ee[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<p.F)Lc(C),Wi(C);else break e;hl(C),as(18)}}else C.xa=ee[1],0<C.xa-C.K&&ee[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=X(m(C.Va,C),6e3));ya(C.h)<=1&&C.ta&&(C.ta=void 0)}else Sa(C,11)}else if((p.L||C.g==p)&&Lc(C),!R(j))for(ee=C.Ba.g.parse(j),j=0;j<ee.length;j++){let jt=ee[j];const Xt=jt[0];if(!(Xt<=C.K))if(C.K=Xt,jt=jt[1],C.I==2)if(jt[0]=="c"){C.M=jt[1],C.ba=jt[2];const wr=jt[3];wr!=null&&(C.ka=wr,C.j.info("VER="+C.ka));const Ta=jt[4];Ta!=null&&(C.za=Ta,C.j.info("SVER="+C.za));const Xr=jt[5];Xr!=null&&typeof Xr=="number"&&Xr>0&&(B=1.5*Xr,C.O=B,C.j.info("backChannelRequestTimeoutMs_="+B)),B=C;const Jr=p.g;if(Jr){const fl=Jr.g?Jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fl){var le=B.h;le.g||fl.indexOf("spdy")==-1&&fl.indexOf("quic")==-1&&fl.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(Mu(le,le.h),le.h=null))}if(B.G){const zc=Jr.g?Jr.g.getResponseHeader("X-HTTP-Session-Id"):null;zc&&(B.wa=zc,St(B.J,B.G,zc))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-p.F,C.j.info("Handshake RTT: "+C.T+"ms")),B=C;var ke=p;if(B.na=Om(B,B.L?B.ba:null,B.W),ke.L){Lu(B.h,ke);var Ze=ke,bs=B.O;bs&&(Ze.H=bs),Ze.D&&(ga(Ze),pa(Ze)),B.g=ke}else Am(B);C.i.length>0&&_a(C)}else jt[0]!="stop"&&jt[0]!="close"||Sa(C,7);else C.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Sa(C,7):Gu(C):jt[0]!="noop"&&C.l&&C.l.qa(jt),C.A=0)}}Jn(4)}catch{}}var Ts=class{constructor(p,j){this.g=p,this.map=j}};function Du(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ou(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ya(p){return p.h?1:p.g?p.g.size:0}function ba(p,j){return p.h?p.h==j:p.g?p.g.has(j):!1}function Mu(p,j){p.g?p.g.add(j):p.h=j}function Lu(p,j){p.h&&p.h==j?p.h=null:p.g&&p.g.has(j)&&p.g.delete(j)}Du.prototype.cancel=function(){if(this.i=zu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function zu(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let j=p.i;for(const C of p.g.values())j=j.concat(C.G);return j}return T(p.i)}var _m=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ac(p,j){if(p){p=p.split("&");for(let C=0;C<p.length;C++){const B=p[C].indexOf("=");let ee,le=null;B>=0?(ee=p[C].substring(0,B),le=p[C].substring(B+1)):ee=p[C],j(ee,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function tr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;p instanceof tr?(this.l=p.l,$s(this,p.j),this.o=p.o,this.g=p.g,Fi(this,p.u),this.h=p.h,Vu(this,Em(p.i)),this.m=p.m):p&&(j=String(p).match(_m))?(this.l=!1,$s(this,j[1]||"",!0),this.o=va(j[2]||""),this.g=va(j[3]||"",!0),Fi(this,j[4]),this.h=va(j[5]||"",!0),Vu(this,j[6]||"",!0),this.m=va(j[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}tr.prototype.toString=function(){const p=[];var j=this.j;j&&p.push(il(j,Ic,!0),":");var C=this.g;return(C||j=="file")&&(p.push("//"),(j=this.o)&&p.push(il(j,Ic,!0),"@"),p.push(Hr(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&p.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&p.push("/"),p.push(il(C,C.charAt(0)=="/"?Uu:Sm,!0))),(C=this.i.toString())&&p.push("?",C),(C=this.m)&&p.push("#",il(C,Tm)),p.join("")},tr.prototype.resolve=function(p){const j=ks(this);let C=!!p.j;C?$s(j,p.j):C=!!p.o,C?j.o=p.o:C=!!p.g,C?j.g=p.g:C=p.u!=null;var B=p.h;if(C)Fi(j,p.u);else if(C=!!p.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var ee=j.h.lastIndexOf("/");ee!=-1&&(B=j.h.slice(0,ee+1)+B)}if(ee=B,ee==".."||ee==".")B="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){B=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const le=[];for(let ke=0;ke<ee.length;){const Ze=ee[ke++];Ze=="."?B&&ke==ee.length&&le.push(""):Ze==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),B&&ke==ee.length&&le.push("")):(le.push(Ze),B=!0)}B=le.join("/")}else B=ee}return C?j.h=B:C=p.i.toString()!=="",C?Vu(j,Em(p.i)):C=!!p.m,C&&(j.m=p.m),j};function ks(p){return new tr(p)}function $s(p,j,C){p.j=C?va(j,!0):j,p.j&&(p.j=p.j.replace(/:$/,""))}function Fi(p,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);p.u=j}else p.u=null}function Vu(p,j,C){j instanceof $i?(p.i=j,Pc(p.i,p.l)):(C||(j=il(j,Bi)),p.i=new $i(j,p.l))}function St(p,j,C){p.i.set(j,C)}function al(p){return St(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function va(p,j){return p?j?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function il(p,j,C){return typeof p=="string"?(p=encodeURI(p).replace(j,Rn),C&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Rn(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Ic=/[#\/\?@]/g,Sm=/[#\?:]/g,Uu=/[#\?]/g,Bi=/[#\?@]/g,Tm=/#/g;function $i(p,j){this.h=this.g=null,this.i=p||null,this.j=!!j}function Pn(p){p.g||(p.g=new Map,p.h=0,p.i&&Ac(p.i,function(j,C){p.add(decodeURIComponent(j.replace(/\+/g," ")),C)}))}n=$i.prototype,n.add=function(p,j){Pn(this),this.i=null,p=qi(this,p);let C=this.g.get(p);return C||this.g.set(p,C=[]),C.push(j),this.h+=1,this};function km(p,j){Pn(p),j=qi(p,j),p.g.has(j)&&(p.i=null,p.h-=p.g.get(j).length,p.g.delete(j))}function Fu(p,j){return Pn(p),j=qi(p,j),p.g.has(j)}n.forEach=function(p,j){Pn(this),this.g.forEach(function(C,B){C.forEach(function(ee){p.call(j,ee,B,this)},this)},this)};function Bu(p,j){Pn(p);let C=[];if(typeof j=="string")Fu(p,j)&&(C=C.concat(p.g.get(qi(p,j))));else for(p=Array.from(p.g.values()),j=0;j<p.length;j++)C=C.concat(p[j]);return C}n.set=function(p,j){return Pn(this),this.i=null,p=qi(this,p),Fu(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[j]),this.h+=1,this},n.get=function(p,j){return p?(p=Bu(this,p),p.length>0?String(p[0]):j):j};function Rc(p,j,C){km(p,j),C.length>0&&(p.i=null,p.g.set(qi(p,j),T(C)),p.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],j=Array.from(this.g.keys());for(let B=0;B<j.length;B++){var C=j[B];const ee=Hr(C);C=Bu(this,C);for(let le=0;le<C.length;le++){let ke=ee;C[le]!==""&&(ke+="="+Hr(C[le])),p.push(ke)}}return this.i=p.join("&")};function Em(p){const j=new $i;return j.i=p.i,p.g&&(j.g=new Map(p.g),j.h=p.h),j}function qi(p,j){return j=String(j),p.j&&(j=j.toLowerCase()),j}function Pc(p,j){j&&!p.j&&(Pn(p),p.i=null,p.g.forEach(function(C,B){const ee=B.toLowerCase();B!=ee&&(km(this,B),Rc(this,ee,C))},p)),p.j=j}function Wr(p,j){const C=new ze;if(c.Image){const B=new Image;B.onload=g(br,C,"TestLoadImage: loaded",!0,j,B),B.onerror=g(br,C,"TestLoadImage: error",!1,j,B),B.onabort=g(br,C,"TestLoadImage: abort",!1,j,B),B.ontimeout=g(br,C,"TestLoadImage: timeout",!1,j,B),c.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=p}else j(!1)}function $u(p,j){const C=new ze,B=new AbortController,ee=setTimeout(()=>{B.abort(),br(C,"TestPingServer: timeout",!1,j)},1e4);fetch(p,{signal:B.signal}).then(le=>{clearTimeout(ee),le.ok?br(C,"TestPingServer: ok",!0,j):br(C,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(ee),br(C,"TestPingServer: error",!1,j)})}function br(p,j,C,B,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),B(C)}catch{}}function Hi(){this.g=new hn}function wa(p){this.i=p.Sb||null,this.h=p.ab||!1}b(wa,xr),wa.prototype.g=function(){return new ol(this.i,this.h)};function ol(p,j){qe.call(this),this.H=p,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ol,qe),n=ol.prototype,n.open=function(p,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=j,this.readyState=1,Yr(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(j.body=p),(this.H||c).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gi(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Dc(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Dc(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var j=p.value?p.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!p.done}))&&(this.response=this.responseText+=j)}p.done?Gi(this):Yr(this),this.readyState==3&&Dc(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,Gi(this))},n.Na=function(p){this.g&&(this.response=p,Gi(this))},n.ga=function(){this.g&&Gi(this)};function Gi(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Yr(p)}n.setRequestHeader=function(p,j){this.A.append(p,j)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],j=this.h.entries();for(var C=j.next();!C.done;)C=C.value,p.push(C[0]+": "+C[1]),C=j.next();return p.join(`\r
`)};function Yr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function vr(p){let j="";return Ae(p,function(C,B){j+=B,j+=":",j+=C,j+=`\r
`}),j}function ll(p,j,C){e:{for(B in C){var B=!1;break e}B=!0}B||(C=vr(C),typeof p=="string"?C!=null&&Hr(C):St(p,j,C))}function Pt(p){qe.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Pt,qe);var ja=/^https?$/i,qu=["POST","PUT"];n=Pt.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,j,C,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);j=j?j.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ui.g(),this.g.onreadystatechange=v(m(this.Ca,this));try{this.B=!0,this.g.open(j,String(p),!0),this.B=!1}catch(le){cl(this,le);return}if(p=C||"",C=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ee in B)C.set(ee,B[ee]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const le of B.keys())C.set(le,B.get(le));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(C.keys()).find(le=>le.toLowerCase()=="content-type"),ee=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(qu,j,void 0)>=0)||B||ee||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,ke]of C)this.g.setRequestHeader(le,ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(le){cl(this,le)}};function cl(p,j){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=j,p.o=5,Hu(p),Qa(p)}function Hu(p){p.A||(p.A=!0,rt(p,"complete"),rt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,rt(this,"complete"),rt(this,"abort"),Qa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qa(this,!0)),Pt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?dl(this):this.Xa())},n.Xa=function(){dl(this)};function dl(p){if(p.h&&typeof l<"u"){if(p.v&&Qr(p)==4)setTimeout(p.Ca.bind(p),0);else if(rt(p,"readystatechange"),Qr(p)==4){p.h=!1;try{const le=p.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var C;if(!(C=j)){var B;if(B=le===0){let ke=String(p.D).match(_m)[1]||null;!ke&&c.self&&c.self.location&&(ke=c.self.location.protocol.slice(0,-1)),B=!ja.test(ke?ke.toLowerCase():"")}C=B}if(C)rt(p,"complete"),rt(p,"success");else{p.o=6;try{var ee=Qr(p)>2?p.g.statusText:""}catch{ee=""}p.l=ee+" ["+p.ca()+"]",Hu(p)}}finally{Qa(p)}}}}function Qa(p,j){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const C=p.g;p.g=null,j||rt(p,"ready");try{C.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Qr(p){return p.g?p.g.readyState:0}n.ca=function(){try{return Qr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var j=this.g.responseText;return p&&j.indexOf(p)==0&&(j=j.substring(p.length)),rs(j)}};function Qs(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Xa(p){const j={};p=(p.g&&Qr(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<p.length;B++){if(R(p[B]))continue;var C=wm(p[B]);const ee=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const le=j[ee]||[];j[ee]=le,le.push(C)}Ie(j,function(B){return B.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(p,j,C){return C&&C.internalChannelParams&&C.internalChannelParams[p]||j}function Ki(p){this.za=0,this.i=[],this.j=new ze,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Na("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Na("baseRetryDelayMs",5e3,p),this.Za=Na("retryDelaySeedMs",1e4,p),this.Ta=Na("forwardChannelMaxRetries",2,p),this.va=Na("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Du(p&&p.concurrentRequestLimit),this.Ba=new Hi,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ki.prototype,n.ka=8,n.I=1,n.connect=function(p,j,C,B){as(0),this.W=p,this.H=j||{},C&&B!==void 0&&(this.H.OSID=C,this.H.OAID=B),this.F=this.X,this.J=Om(this,null,this.W),_a(this)};function Gu(p){if(Oc(p),p.I==3){var j=p.V++,C=ks(p.J);if(St(C,"SID",p.M),St(C,"RID",j),St(C,"TYPE","terminate"),ul(p,C),j=new Gr(p,p.j,j),j.M=2,j.A=al(ks(C)),C=!1,c.navigator&&c.navigator.sendBeacon)try{C=c.navigator.sendBeacon(j.A.toString(),"")}catch{}!C&&c.Image&&(new Image().src=j.A,C=!0),C||(j.g=Mm(j.j,null),j.g.ea(j.A)),j.F=Date.now(),pa(j)}Dm(p)}function Wi(p){p.g&&(Wu(p),p.g.cancel(),p.g=null)}function Oc(p){Wi(p),p.v&&(c.clearTimeout(p.v),p.v=null),Lc(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function _a(p){if(!Ou(p.h)&&!p.m){p.m=!0;var j=p.Ea;$||A(),Q||($(),Q=!0),_.add(j,p),p.D=0}}function Mc(p,j){return ya(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=j.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=X(m(p.Ea,p,j),Pm(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const ee=new Gr(this,this.j,p);let le=this.o;if(this.U&&(le?(le=H(le),Ne(le,this.U)):le=this.U),this.u!==null||this.R||(ee.J=le,le=null),this.S)e:{for(var j=0,C=0;C<this.i.length;C++){t:{var B=this.i[C];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(j+=B,j>4096){j=C;break e}if(j===4096||C===this.i.length-1){j=C+1;break e}}j=1e3}else j=1e3;j=Cm(this,ee,j),C=ks(this.J),St(C,"RID",p),St(C,"CVER",22),this.G&&St(C,"X-HTTP-Session-Id",this.G),ul(this,C),le&&(this.R?j="headers="+Hr(vr(le))+"&"+j:this.u&&ll(C,this.u,le)),Mu(this.h,ee),this.Ra&&St(C,"TYPE","init"),this.S?(St(C,"$req",j),St(C,"SID","null"),ee.U=!0,ma(ee,C,null)):ma(ee,C,j),this.I=2}}else this.I==3&&(p?Ku(this,p):this.i.length==0||Ou(this.h)||Ku(this))};function Ku(p,j){var C;j?C=j.l:C=p.V++;const B=ks(p.J);St(B,"SID",p.M),St(B,"RID",C),St(B,"AID",p.K),ul(p,B),p.u&&p.o&&ll(B,p.u,p.o),C=new Gr(p,p.j,C,p.D+1),p.u===null&&(C.J=p.o),j&&(p.i=j.G.concat(p.i)),j=Cm(p,C,1e3),C.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Mu(p.h,C),ma(C,B,j)}function ul(p,j){p.H&&Ae(p.H,function(C,B){St(j,B,C)}),p.l&&Ae({},function(C,B){St(j,B,C)})}function Cm(p,j,C){C=Math.min(p.i.length,C);const B=p.l?m(p.l.Ka,p.l,p):null;e:{var ee=p.i;let Ze=-1;for(;;){const bs=["count="+C];Ze==-1?C>0?(Ze=ee[0].g,bs.push("ofs="+Ze)):Ze=0:bs.push("ofs="+Ze);let jt=!0;for(let Xt=0;Xt<C;Xt++){var le=ee[Xt].g;const wr=ee[Xt].map;if(le-=Ze,le<0)Ze=Math.max(0,ee[Xt].g-100),jt=!1;else try{le="req"+le+"_"||"";try{var ke=wr instanceof Map?wr:Object.entries(wr);for(const[Ta,Xr]of ke){let Jr=Xr;f(Xr)&&(Jr=It(Xr)),bs.push(le+Ta+"="+encodeURIComponent(Jr))}}catch(Ta){throw bs.push(le+"type="+encodeURIComponent("_badmap")),Ta}}catch{B&&B(wr)}}if(jt){ke=bs.join("&");break e}}ke=void 0}return p=p.i.splice(0,C),j.G=p,ke}function Am(p){if(!p.g&&!p.v){p.Y=1;var j=p.Da;$||A(),Q||($(),Q=!0),_.add(j,p),p.A=0}}function hl(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=X(m(p.Da,p),Pm(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,Im(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=X(m(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,as(10),Wi(this),Im(this))};function Wu(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function Im(p){p.g=new Gr(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var j=ks(p.na);St(j,"RID","rpc"),St(j,"SID",p.M),St(j,"AID",p.K),St(j,"CI",p.F?"0":"1"),!p.F&&p.ia&&St(j,"TO",p.ia),St(j,"TYPE","xmlhttp"),ul(p,j),p.u&&p.o&&ll(j,p.u,p.o),p.O&&(p.g.H=p.O);var C=p.g;p=p.ba,C.M=1,C.A=al(ks(j)),C.u=null,C.R=!0,Ec(C,p)}n.Va=function(){this.C!=null&&(this.C=null,Wi(this),hl(this),as(19))};function Lc(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Rm(p,j){var C=null;if(p.g==j){Lc(p),Wu(p),p.g=null;var B=2}else if(ba(p.h,j))C=j.G,Lu(p.h,j),B=1;else return;if(p.I!=0){if(j.o)if(B==1){C=j.u?j.u.length:0,j=Date.now()-j.F;var ee=p.D;B=zi(),rt(B,new Zn(B,C)),_a(p)}else Am(p);else if(ee=j.m,ee==3||ee==0&&j.X>0||!(B==1&&Mc(p,j)||B==2&&hl(p)))switch(C&&C.length>0&&(j=p.h,j.i=j.i.concat(C)),ee){case 1:Sa(p,5);break;case 4:Sa(p,10);break;case 3:Sa(p,6);break;default:Sa(p,2)}}}function Pm(p,j){let C=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(C*=2),C*j}function Sa(p,j){if(p.j.info("Error code "+j),j==2){var C=m(p.bb,p),B=p.Ua;const ee=!B;B=new tr(B||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$s(B,"https"),al(B),ee?Wr(B.toString(),C):$u(B.toString(),C)}else as(2);p.I=0,p.l&&p.l.pa(j),Dm(p),Oc(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),as(2)):(this.j.info("Failed to ping google.com"),as(1))};function Dm(p){if(p.I=0,p.ja=[],p.l){const j=zu(p.h);(j.length!=0||p.i.length!=0)&&(N(p.ja,j),N(p.ja,p.i),p.h.i.length=0,T(p.i),p.i.length=0),p.l.oa()}}function Om(p,j,C){var B=C instanceof tr?ks(C):new tr(C);if(B.g!="")j&&(B.g=j+"."+B.g),Fi(B,B.u);else{var ee=c.location;B=ee.protocol,j=j?j+"."+ee.hostname:ee.hostname,ee=+ee.port;const le=new tr(null);B&&$s(le,B),j&&(le.g=j),ee&&Fi(le,ee),C&&(le.h=C),B=le}return C=p.G,j=p.wa,C&&j&&St(B,C,j),St(B,"VER",p.ka),ul(p,B),B}function Mm(p,j,C){if(j&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=p.Aa&&!p.ma?new Pt(new wa({ab:C})):new Pt(p.ma),j.Fa(p.L),j}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lm(){}n=Lm.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Yi(){}Yi.prototype.g=function(p,j){return new jn(p,j)};function jn(p,j){qe.call(this),this.g=new Ki(j),this.l=p,this.h=j&&j.messageUrlParams||null,p=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(p?p["X-WebChannel-Content-Type"]=j.messageContentType:p={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(p?p["X-WebChannel-Client-Profile"]=j.sa:p={"X-WebChannel-Client-Profile":j.sa}),this.g.U=p,(p=j&&j.Qb)&&!R(p)&&(this.g.u=p),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!R(j)&&(this.g.G=j,p=this.h,p!==null&&j in p&&(p=this.h,j in p&&delete p[j])),this.j=new Ja(this)}b(jn,qe),jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Gu(this.g)},jn.prototype.o=function(p){var j=this.g;if(typeof p=="string"){var C={};C.__data__=p,p=C}else this.v&&(C={},C.__data__=It(p),p=C);j.i.push(new Ts(j.Ya++,p)),j.I==3&&_a(j)},jn.prototype.N=function(){this.g.l=null,delete this.j,Gu(this.g),delete this.g,jn.Z.N.call(this)};function zm(p){Ms.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var j=p.__sm__;if(j){e:{for(const C in j){p=C;break e}p=void 0}(this.i=p)&&(p=this.i,j=j!==null&&p in j?j[p]:void 0),this.data=j}else this.data=p}b(zm,Ms);function Vm(){fn.call(this),this.status=1}b(Vm,fn);function Ja(p){this.g=p}b(Ja,Lm),Ja.prototype.ra=function(){rt(this.g,"a")},Ja.prototype.qa=function(p){rt(this.g,new zm(p))},Ja.prototype.pa=function(p){rt(this.g,new Vm)},Ja.prototype.oa=function(){rt(this.g,"b")},Yi.prototype.createWebChannel=Yi.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,kC=function(){return new Yi},TC=function(){return zi()},SC=Rt,pv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mn.NO_ERROR=0,mn.TIMEOUT=8,mn.HTTP_ERROR=6,hg=mn,Vi.COMPLETE="complete",_C=Vi,ha.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",qe.prototype.listen=qe.prototype.J,Jh=ha,Pt.prototype.listenOnce=Pt.prototype.K,Pt.prototype.getLastError=Pt.prototype.Ha,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.ca,Pt.prototype.getResponseJson=Pt.prototype.La,Pt.prototype.getResponseText=Pt.prototype.la,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Fa,NC=Pt}).apply(typeof Qp<"u"?Qp:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gs.UNAUTHENTICATED=new Gs(null),Gs.GOOGLE_CREDENTIALS=new Gs("google-credentials-uid"),Gs.FIRST_PARTY=new Gs("first-party-uid"),Gs.MOCK_USER=new Gs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu="12.8.0";function c7(n){Tu=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new Xf("@firebase/firestore");function Sd(){return $o.logLevel}function d7(n){$o.setLogLevel(n)}function _e(n,...e){if($o.logLevel<=ut.DEBUG){const s=e.map(Gw);$o.debug(`Firestore (${Tu}): ${n}`,...s)}}function js(n,...e){if($o.logLevel<=ut.ERROR){const s=e.map(Gw);$o.error(`Firestore (${Tu}): ${n}`,...s)}}function Ka(n,...e){if($o.logLevel<=ut.WARN){const s=e.map(Gw);$o.warn(`Firestore (${Tu}): ${n}`,...s)}}function Gw(n){if(typeof n=="string")return n;try{return(function(s){return JSON.stringify(s)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,EC(n,r,s)}function EC(n,e,s){let r=`FIRESTORE (${Tu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw js(r),new Error(r)}function Ve(n,e,s,r){let i="Unexpected state";typeof s=="string"?i=s:r=s,n||EC(e,i,r)}function u7(n,e){n||Re(57014,e)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends on{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(Gs.UNAUTHENTICATED)))}shutdown(){}}class f7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class m7{constructor(e){this.t=e,this.currentUser=Gs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Ve(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,s(u)):Promise.resolve();let l=new ln;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ln,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const u=l;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},f=u=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((u=>f(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?f(u):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ln)}}),0),c()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new CC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Gs(e)}}class p7{constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=Gs.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class g7{constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new p7(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(Gs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x7{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,es(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){Ve(this.o===void 0,3512);const r=l=>{l.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?s(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const i=l=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>i(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?i(l):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(Ve(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new nT(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<n;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=y7(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<s&&(r+=e.charAt(i[l]%62))}return r}}function Ye(n,e){return n<e?-1:n>e?1:0}function gv(n,e){const s=Math.min(n.length,e.length);for(let r=0;r<s;r++){const i=n.charAt(r),l=e.charAt(r);if(i!==l)return Sb(i)===Sb(l)?Ye(i,l):Sb(i)?1:-1}return Ye(n.length,e.length)}const b7=55296,v7=57343;function Sb(n){const e=n.charCodeAt(0);return e>=b7&&e<=v7}function Qd(n,e,s){return n.length===e.length&&n.every(((r,i)=>s(r,e[i])))}function AC(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="__name__";class Ia{constructor(e,s,r){s===void 0?s=0:s>e.length&&Re(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&Re(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return Ia.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Ia?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let i=0;i<r;i++){const l=Ia.compareSegments(e.get(i),s.get(i));if(l!==0)return l}return Ye(e.length,s.length)}static compareSegments(e,s){const r=Ia.isNumericId(e),i=Ia.isNumericId(s);return r&&!i?-1:!r&&i?1:r&&i?Ia.extractNumericId(e).compare(Ia.extractNumericId(s)):gv(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Do.fromString(e.substring(4,e.length-2))}}class ht extends Ia{construct(e,s,r){return new ht(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((i=>i.length>0)))}return new ht(s)}static emptyPath(){return new ht([])}}const w7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ts extends Ia{construct(e,s,r){return new ts(e,s,r)}static isValidIdentifier(e){return w7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ts.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rT}static keyField(){return new ts([rT])}static fromServerFormat(e){const s=[];let r="",i=0;const l=()=>{if(r.length===0)throw new we(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if(f==="\\"){if(i+1===e.length)throw new we(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new we(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else f==="`"?(c=!c,i++):f!=="."||c?(r+=f,i++):(l(),i++)}if(l(),c)throw new we(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ts(s)}static emptyPath(){return new ts([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ht.fromString(e))}static fromName(e){return new Ee(ht.fromString(e).popFirst(5))}static empty(){return new Ee(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return ht.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(n,e,s){if(!s)throw new we(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IC(n,e,s,r){if(e===!0&&r===!0)throw new we(ie.INVALID_ARGUMENT,`${n} and ${s} cannot be used together.`)}function aT(n){if(!Ee.isDocumentKey(n))throw new we(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iT(n){if(Ee.isDocumentKey(n))throw new we(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function RC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function jx(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function wt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=jx(n);throw new we(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return n}function PC(n,e){if(e<=0)throw new we(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(n,e){const s={typeString:n};return e&&(s.value=e),s}function am(n,e){if(!RC(n))throw new we(ie.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const i=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){s=`JSON missing required field: '${r}'`;break}const c=n[r];if(i&&typeof c!==i){s=`JSON field '${r}' must be a ${i}.`;break}if(l!==void 0&&c!==l.value){s=`Expected '${r}' field to equal '${l.value}'`;break}}if(s)throw new we(ie.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=-62135596800,lT=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*lT);return new _t(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<oT)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lT}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(am(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-oT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Ds("string",_t._jsonSchemaVersion),seconds:Ds("number"),nanoseconds:Ds("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new _t(0,0))}static max(){return new $e(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=-1;class Lg{constructor(e,s,r,i){this.indexId=e,this.collectionGroup=s,this.fields=r,this.indexState=i}}function xv(n){return n.fields.find((e=>e.kind===2))}function Il(n){return n.fields.filter((e=>e.kind!==2))}Lg.UNKNOWN_ID=-1;class fg{constructor(e,s){this.fieldPath=e,this.kind=s}}class Af{constructor(e,s){this.sequenceNumber=e,this.offset=s}static empty(){return new Af(0,pr.min())}}function DC(n,e){const s=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=$e.fromTimestamp(r===1e9?new _t(s+1,0):new _t(s,r));return new pr(i,Ee.empty(),e)}function OC(n){return new pr(n.readTime,n.key,Xd)}class pr{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new pr($e.min(),Ee.empty(),Xd)}static max(){return new pr($e.max(),Ee.empty(),Xd)}}function Yw(n,e){let s=n.readTime.compareTo(e.readTime);return s!==0?s:(s=Ee.comparator(n.documentKey,e.documentKey),s!==0?s:Ye(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==MC)throw n;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new Z(((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(s,l).next(r,i)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof Z?s:Z.resolve(s)}catch(s){return Z.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):Z.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):Z.reject(s)}static resolve(e){return new Z(((s,r)=>{s(e)}))}static reject(e){return new Z(((s,r)=>{r(e)}))}static waitFor(e){return new Z(((s,r)=>{let i=0,l=0,c=!1;e.forEach((f=>{++i,f.next((()=>{++l,c&&l===i&&s()}),(u=>r(u)))})),c=!0,l===i&&s()}))}static or(e){let s=Z.resolve(!1);for(const r of e)s=s.next((i=>i?Z.resolve(i):r()));return s}static forEach(e,s){const r=[];return e.forEach(((i,l)=>{r.push(s.call(this,i,l))})),this.waitFor(r)}static mapArray(e,s){return new Z(((r,i)=>{const l=e.length,c=new Array(l);let f=0;for(let u=0;u<l;u++){const m=u;s(e[m]).next((g=>{c[m]=g,++f,f===l&&r(c)}),(g=>i(g)))}}))}static doWhile(e,s){return new Z(((r,i)=>{const l=()=>{e()===!0?s().next((()=>{l()}),i):r()};l()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="SimpleDb";class Nx{static open(e,s,r,i){try{return new Nx(s,e.transaction(i,r))}catch(l){throw new uf(s,l)}}constructor(e,s){this.action=e,this.transaction=s,this.aborted=!1,this.S=new ln,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{s.error?this.S.reject(new uf(e,s.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=Qw(r.target.error);this.S.reject(new uf(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(_e(cr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const s=this.transaction.objectStore(e);return new N7(s)}}class Ba{static delete(e){return _e(cr,"Removing database:",e),Pl(gw().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!nc())return!1;if(Ba.F())return!0;const e=is(),s=Ba.M(e),r=0<s&&s<10,i=zC(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,s){return e.store(s)}static M(e){const s=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,s,r){this.name=e,this.version=s,this.N=r,this.B=null,Ba.M(is())===12.2&&js("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(_e(cr,"Opening database:",this.name),this.db=await new Promise(((s,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=l=>{const c=l.target.result;s(c)},i.onblocked=()=>{r(new uf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=l=>{const c=l.target.error;c.name==="VersionError"?r(new we(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new we(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new uf(e,c))},i.onupgradeneeded=l=>{_e(cr,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,i.transaction,l.oldVersion,this.version).next((()=>{_e(cr,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=s=>this.K(s)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=s=>e(s))}async runTransaction(e,s,r,i){const l=s==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const f=Nx.open(this.db,e,l?"readonly":"readwrite",r),u=i(f).next((m=>(f.C(),m))).catch((m=>(f.abort(m),Z.reject(m)))).toPromise();return u.catch((()=>{})),await f.D,u}catch(f){const u=f,m=u.name!=="FirebaseError"&&c<3;if(_e(cr,"Transaction failed with error:",u.message,"Retrying:",m),this.close(),!m)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function zC(n){const e=n.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}class j7{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return Pl(this.U.delete())}}class uf extends we{constructor(e,s){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function el(n){return n.name==="IndexedDbTransactionError"}class N7{constructor(e){this.store=e}put(e,s){let r;return s!==void 0?(_e(cr,"PUT",this.store.name,e,s),r=this.store.put(s,e)):(_e(cr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Pl(r)}add(e){return _e(cr,"ADD",this.store.name,e,e),Pl(this.store.add(e))}get(e){return Pl(this.store.get(e)).next((s=>(s===void 0&&(s=null),_e(cr,"GET",this.store.name,e,s),s)))}delete(e){return _e(cr,"DELETE",this.store.name,e),Pl(this.store.delete(e))}count(){return _e(cr,"COUNT",this.store.name),Pl(this.store.count())}H(e,s){const r=this.options(e,s),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const l=i.getAll(r.range);return new Z(((c,f)=>{l.onerror=u=>{f(u.target.error)},l.onsuccess=u=>{c(u.target.result)}}))}{const l=this.cursor(r),c=[];return this.J(l,((f,u)=>{c.push(u)})).next((()=>c))}}Z(e,s){const r=this.store.getAll(e,s===null?void 0:s);return new Z(((i,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{i(c.target.result)}}))}X(e,s){_e(cr,"DELETE ALL",this.store.name);const r=this.options(e,s);r.Y=!1;const i=this.cursor(r);return this.J(i,((l,c,f)=>f.delete()))}ee(e,s){let r;s?r=e:(r={},s=e);const i=this.cursor(r);return this.J(i,s)}te(e){const s=this.cursor({});return new Z(((r,i)=>{s.onerror=l=>{const c=Qw(l.target.error);i(c)},s.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next((f=>{f?c.continue():r()})):r()}}))}J(e,s){const r=[];return new Z(((i,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const u=new j7(f),m=s(f.primaryKey,f.value,u);if(m instanceof Z){const g=m.catch((b=>(u.done(),Z.reject(b))));r.push(g)}u.isDone?i():u.G===null?f.continue():f.continue(u.G)}})).next((()=>Z.waitFor(r)))}options(e,s){let r;return e!==void 0&&(typeof e=="string"?r=e:s=e),{index:r,range:s}}cursor(e){let s="next";if(e.reverse&&(s="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,s):r.openCursor(e.range,s)}return this.store.openCursor(e.range,s)}}function Pl(n){return new Z(((e,s)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=Qw(r.target.error);s(i)}}))}let cT=!1;function Qw(n){const e=Ba.M(is());if(e>=12.2&&e<13){const s="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(s)>=0){const r=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cT||(cT=!0,setTimeout((()=>{throw r}),0)),r}}return n}const hf="IndexBackfiller";class _7{constructor(e,s){this.asyncQueue=e,this.ne=s,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){_e(hf,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const s=await this.ne.ie();_e(hf,`Documents written: ${s}`)}catch(s){el(s)?_e(hf,"Ignoring IndexedDB error during index backfill: ",s):await Zo(s)}await this.re(6e4)}))}}class S7{constructor(e,s){this.localStore=e,this.persistence=s}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(s=>this.se(s,e)))}se(e,s){const r=new Set;let i=s,l=!0;return Z.doWhile((()=>l===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return _e(hf,`Processing collection: ${c}`),this.oe(e,c,i).next((f=>{i-=f,r.add(c)}));l=!1})))).next((()=>s-i))}oe(e,s,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,s).next((i=>this.localStore.localDocuments.getNextDocuments(e,s,i,r).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(i,l))).next((f=>(_e(hf,`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,s,f)))).next((()=>c.size))}))))}_e(e,s){let r=e;return s.changes.forEach(((i,l)=>{const c=OC(l);Yw(c,r)>0&&(r=c)})),new pr(r.readTime,r.documentKey,Math.max(s.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=-1;function im(n){return n==null}function If(n){return n===0&&1/n==-1/0}function VC(n){return typeof n=="number"&&Number.isInteger(n)&&!If(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="";function vn(n){let e="";for(let s=0;s<n.length;s++)e.length>0&&(e=dT(e)),e=T7(n.get(s),e);return dT(e)}function T7(n,e){let s=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":s+="";break;case zg:s+="";break;default:s+=l}}return s}function dT(n){return n+zg+""}function Va(n){const e=n.length;if(Ve(e>=2,64408,{path:n}),e===2)return Ve(n.charAt(0)===zg&&n.charAt(1)==="",56145,{path:n}),ht.emptyPath();const s=e-2,r=[];let i="";for(let l=0;l<e;){const c=n.indexOf(zg,l);switch((c<0||c>s)&&Re(50515,{path:n}),n.charAt(c+1)){case"":const f=n.substring(l,c);let u;i.length===0?u=f:(i+=f,u=i,i=""),r.push(u);break;case"":i+=n.substring(l,c),i+="\0";break;case"":i+=n.substring(l,c+1);break;default:Re(61167,{path:n})}l=c+2}return new ht(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="remoteDocuments",om="owner",bd="owner",Rf="mutationQueues",k7="userId",na="mutations",uT="batchId",Ul="userMutationsIndex",hT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(n,e){return[n,vn(e)]}function UC(n,e,s){return[n,vn(e),s]}const E7={},Jd="documentMutations",Vg="remoteDocumentsV14",C7=["prefixPath","collectionGroup","readTime","documentId"],pg="documentKeyIndex",A7=["prefixPath","collectionGroup","documentId"],FC="collectionGroupIndex",I7=["collectionGroup","readTime","prefixPath","documentId"],Pf="remoteDocumentGlobal",yv="remoteDocumentGlobalKey",Zd="targets",BC="queryTargetsIndex",R7=["canonicalId","targetId"],eu="targetDocuments",P7=["targetId","path"],Xw="documentTargetsIndex",D7=["path","targetId"],Ug="targetGlobalKey",Yl="targetGlobal",Df="collectionParents",O7=["collectionId","parent"],tu="clientMetadata",M7="clientId",_x="bundles",L7="bundleId",Sx="namedQueries",z7="name",Jw="indexConfiguration",V7="indexId",bv="collectionGroupIndex",U7="collectionGroup",ff="indexState",F7=["indexId","uid"],$C="sequenceNumberIndex",B7=["uid","sequenceNumber"],mf="indexEntries",$7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qC="documentKeyIndex",q7=["indexId","uid","orderedDocumentKey"],Tx="documentOverlays",H7=["userId","collectionPath","documentId"],vv="collectionPathOverlayIndex",G7=["userId","collectionPath","largestBatchId"],HC="collectionGroupOverlayIndex",K7=["userId","collectionGroup","largestBatchId"],Zw="globals",W7="name",GC=[Rf,na,Jd,Rl,Zd,om,Yl,eu,tu,Pf,Df,_x,Sx],Y7=[...GC,Tx],KC=[Rf,na,Jd,Vg,Zd,om,Yl,eu,tu,Pf,Df,_x,Sx,Tx],WC=KC,ej=[...WC,Jw,ff,mf],Q7=ej,YC=[...ej,Zw],X7=YC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends LC{constructor(e,s){super(),this.le=e,this.currentSequenceNumber=s}}function Fs(n,e){const s=Ce(n);return Ba.O(s.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(n){let e=0;for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&e++;return e}function tl(n,e){for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&e(s,n[s])}function QC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,s){this.comparator=e,this.root=s||sn.EMPTY}insert(e,s){return new qt(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return s+r.left.size;i<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xp(this.root,e,this.comparator,!0)}}class Xp{constructor(e,s,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=s?r(e.key,s):1,s&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,s,r,i,l){this.key=e,this.value=s,this.color=r??sn.RED,this.left=i??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,i,l){return new sn(e??this.key,s??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,s,r),null):l===0?i.copy(null,s,null,null,null):i.copy(null,null,null,null,i.right.insert(e,s,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,i=this;if(s(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,s),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),s(e,i.key)===0){if(i.right.isEmpty())return sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,s))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,s,r,i,l){return this}insert(e,s,r){return new sn(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;s(i.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new mT(this.data.getIterator())}getIteratorFrom(e){return new mT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const i=s.getNext().key,l=r.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new Ct(this.comparator);return s.data=e,s}}class mT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vd(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(ts.comparator)}static empty(){return new Bn([])}unionWith(e){let s=new Ct(ts.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new Bn(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Qd(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new XC("Invalid base64 string: "+l):l}})(e);return new gs(s)}static fromUint8Array(e){const s=(function(i){let l="";for(let c=0;c<i.length;++c)l+=String.fromCharCode(i[c]);return l})(e);return new gs(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let i=0;i<s.length;i++)r[i]=s.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gs.EMPTY_BYTE_STRING=new gs("");const Z7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(n){if(Ve(!!n,39018),typeof n=="string"){let e=0;const s=Z7.exec(n);if(Ve(!!s,46558,{timestamp:n}),s[1]){let i=s[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zt(n.seconds),nanos:Zt(n.nanos)}}function Zt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ai(n){return typeof n=="string"?gs.fromBase64String(n):gs.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="server_timestamp",ZC="__type__",eA="__previous_value__",tA="__local_write_time__";function kx(n){var s,r;return((r=(((s=n==null?void 0:n.mapValue)==null?void 0:s.fields)||{})[ZC])==null?void 0:r.stringValue)===JC}function Ex(n){const e=n.mapValue.fields[eA];return kx(e)?Ex(e):e}function Of(n){const e=Ci(n.mapValue.fields[tA].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,s,r,i,l,c,f,u,m,g,b){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=u,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=b}}const jv="(default)";class qo{constructor(e,s){this.projectId=e,this.database=s||jv}static empty(){return new qo("","")}get isDefaultDatabase(){return this.database===jv}isEqual(e){return e instanceof qo&&e.projectId===this.projectId&&e.database===this.database}}function t$(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new we(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="__type__",sA="__max__",Co={mapValue:{fields:{__type__:{stringValue:sA}}}},sj="__vector__",su="value",gg={nullValue:"NULL_VALUE"};function Ho(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kx(n)?4:nA(n)?9007199254740991:Cx(n)?10:11:Re(28295,{value:n})}function Wa(n,e){if(n===e)return!0;const s=Ho(n);if(s!==Ho(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Of(n).isEqual(Of(e));case 3:return(function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const c=Ci(i.timestampValue),f=Ci(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,l){return Ai(i.bytesValue).isEqual(Ai(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,l){return Zt(i.geoPointValue.latitude)===Zt(l.geoPointValue.latitude)&&Zt(i.geoPointValue.longitude)===Zt(l.geoPointValue.longitude)})(n,e);case 2:return(function(i,l){if("integerValue"in i&&"integerValue"in l)return Zt(i.integerValue)===Zt(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const c=Zt(i.doubleValue),f=Zt(l.doubleValue);return c===f?If(c)===If(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return Qd(n.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:case 11:return(function(i,l){const c=i.mapValue.fields||{},f=l.mapValue.fields||{};if(fT(c)!==fT(f))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(f[u]===void 0||!Wa(c[u],f[u])))return!1;return!0})(n,e);default:return Re(52216,{left:n})}}function Mf(n,e){return(n.values||[]).find((s=>Wa(s,e)))!==void 0}function Go(n,e){if(n===e)return 0;const s=Ho(n),r=Ho(e);if(s!==r)return Ye(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Zt(l.integerValue||l.doubleValue),u=Zt(c.integerValue||c.doubleValue);return f<u?-1:f>u?1:f===u?0:isNaN(f)?isNaN(u)?0:-1:1})(n,e);case 3:return pT(n.timestampValue,e.timestampValue);case 4:return pT(Of(n),Of(e));case 5:return gv(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=Ai(l),u=Ai(c);return f.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),u=c.split("/");for(let m=0;m<f.length&&m<u.length;m++){const g=Ye(f[m],u[m]);if(g!==0)return g}return Ye(f.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Ye(Zt(l.latitude),Zt(c.latitude));return f!==0?f:Ye(Zt(l.longitude),Zt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return gT(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var v,T,N,E;const f=l.fields||{},u=c.fields||{},m=(v=f[su])==null?void 0:v.arrayValue,g=(T=u[su])==null?void 0:T.arrayValue,b=Ye(((N=m==null?void 0:m.values)==null?void 0:N.length)||0,((E=g==null?void 0:g.values)==null?void 0:E.length)||0);return b!==0?b:gT(m,g)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Co.mapValue&&c===Co.mapValue)return 0;if(l===Co.mapValue)return 1;if(c===Co.mapValue)return-1;const f=l.fields||{},u=Object.keys(f),m=c.fields||{},g=Object.keys(m);u.sort(),g.sort();for(let b=0;b<u.length&&b<g.length;++b){const v=gv(u[b],g[b]);if(v!==0)return v;const T=Go(f[u[b]],m[g[b]]);if(T!==0)return T}return Ye(u.length,g.length)})(n.mapValue,e.mapValue);default:throw Re(23264,{he:s})}}function pT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ye(n,e);const s=Ci(n),r=Ci(e),i=Ye(s.seconds,r.seconds);return i!==0?i:Ye(s.nanos,r.nanos)}function gT(n,e){const s=n.values||[],r=e.values||[];for(let i=0;i<s.length&&i<r.length;++i){const l=Go(s[i],r[i]);if(l)return l}return Ye(s.length,r.length)}function nu(n){return Nv(n)}function Nv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(s){const r=Ci(s);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(s){return Ai(s).toBase64()})(n.bytesValue):"referenceValue"in n?(function(s){return Ee.fromName(s).toString()})(n.referenceValue):"geoPointValue"in n?(function(s){return`geo(${s.latitude},${s.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(s){let r="[",i=!0;for(const l of s.values||[])i?i=!1:r+=",",r+=Nv(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(s){const r=Object.keys(s.fields||{}).sort();let i="{",l=!0;for(const c of r)l?l=!1:i+=",",i+=`${c}:${Nv(s.fields[c])}`;return i+"}"})(n.mapValue):Re(61005,{value:n})}function xg(n){switch(Ho(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ex(n);return e?16+xg(e):16;case 5:return 2*n.stringValue.length;case 6:return Ai(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,l)=>i+xg(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return tl(r.fields,((l,c)=>{i+=l.length+xg(c)})),i})(n.mapValue);default:throw Re(13486,{value:n})}}function oc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _v(n){return!!n&&"integerValue"in n}function Lf(n){return!!n&&"arrayValue"in n}function xT(n){return!!n&&"nullValue"in n}function yT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yg(n){return!!n&&"mapValue"in n}function Cx(n){var s,r;return((r=(((s=n==null?void 0:n.mapValue)==null?void 0:s.fields)||{})[tj])==null?void 0:r.stringValue)===sj}function pf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return tl(n.mapValue.fields,((s,r)=>e.mapValue.fields[s]=pf(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(n.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=pf(n.arrayValue.values[s]);return e}return{...n}}function nA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===sA}const rA={mapValue:{fields:{[tj]:{stringValue:sj},[su]:{arrayValue:{}}}}};function s$(n){return"nullValue"in n?gg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?oc(qo.empty(),Ee.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Cx(n)?rA:{mapValue:{}}:Re(35942,{value:n})}function n$(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?oc(qo.empty(),Ee.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?rA:"mapValue"in n?Cx(n)?{mapValue:{}}:Co:Re(61959,{value:n})}function bT(n,e){const s=Go(n.value,e.value);return s!==0?s:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function vT(n,e){const s=Go(n.value,e.value);return s!==0?s:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!yg(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=pf(s)}setAll(e){let s=ts.emptyPath(),r={},i=[];e.forEach(((c,f)=>{if(!s.isImmediateParentOf(f)){const u=this.getFieldsMap(s);this.applyChanges(u,r,i),r={},i=[],s=f.popLast()}c?r[f.lastSegment()]=pf(c):i.push(f.lastSegment())}));const l=this.getFieldsMap(s);this.applyChanges(l,r,i)}delete(e){const s=this.field(e.popLast());yg(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Wa(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=s.mapValue.fields[e.get(r)];yg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=i),s=i}return s.mapValue.fields}applyChanges(e,s,r){tl(s,((i,l)=>e[i]=l));for(const i of r)delete e[i]}clone(){return new nn(pf(this.value))}}function aA(n){const e=[];return tl(n.fields,((s,r)=>{const i=new ts([s]);if(yg(r)){const l=aA(r.mapValue).fields;if(l.length===0)e.push(i);else for(const c of l)e.push(i.child(c))}else e.push(i)})),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,s,r,i,l,c,f){this.key=e,this.documentType=s,this.version=r,this.readTime=i,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Wt(e,0,$e.min(),$e.min(),$e.min(),nn.empty(),0)}static newFoundDocument(e,s,r,i){return new Wt(e,1,s,$e.min(),r,i,0)}static newNoDocument(e,s){return new Wt(e,2,s,$e.min(),$e.min(),nn.empty(),0)}static newUnknownDocument(e,s){return new Wt(e,3,s,$e.min(),$e.min(),nn.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,s){this.position=e,this.inclusive=s}}function wT(n,e,s){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],c=n.position[i];if(l.field.isKeyField()?r=Ee.comparator(Ee.fromName(c.referenceValue),s.key):r=Go(c,s.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function jT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let s=0;s<n.position.length;s++)if(!Wa(n.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,s="asc"){this.field=e,this.dir=s}}function r$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{}class pt extends iA{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new a$(e,s,r):s==="array-contains"?new l$(e,r):s==="in"?new hA(e,r):s==="not-in"?new c$(e,r):s==="array-contains-any"?new d$(e,r):new pt(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new i$(e,r):new o$(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Go(s,this.value)):s!==null&&Ho(this.value)===Ho(s)&&this.matchesComparison(Go(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Et extends iA{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new Et(e,s)}matches(e){return ru(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ru(n){return n.op==="and"}function Sv(n){return n.op==="or"}function nj(n){return oA(n)&&ru(n)}function oA(n){for(const e of n.filters)if(e instanceof Et)return!1;return!0}function Tv(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+nu(n.value);if(nj(n))return n.filters.map((e=>Tv(e))).join(",");{const e=n.filters.map((s=>Tv(s))).join(",");return`${n.op}(${e})`}}function lA(n,e){return n instanceof pt?(function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&Wa(r.value,i.value)})(n,e):n instanceof Et?(function(r,i){return i instanceof Et&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((l,c,f)=>l&&lA(c,i.filters[f])),!0):!1})(n,e):void Re(19439)}function cA(n,e){const s=n.filters.concat(e);return Et.create(s,n.op)}function dA(n){return n instanceof pt?(function(s){return`${s.field.canonicalString()} ${s.op} ${nu(s.value)}`})(n):n instanceof Et?(function(s){return s.op.toString()+" {"+s.getFilters().map(dA).join(" ,")+"}"})(n):"Filter"}class a$ extends pt{constructor(e,s,r){super(e,s,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const s=Ee.comparator(e.key,this.key);return this.matchesComparison(s)}}class i$ extends pt{constructor(e,s){super(e,"in",s),this.keys=uA("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class o$ extends pt{constructor(e,s){super(e,"not-in",s),this.keys=uA("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function uA(n,e){var s;return(((s=e.arrayValue)==null?void 0:s.values)||[]).map((r=>Ee.fromName(r.referenceValue)))}class l$ extends pt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return Lf(s)&&Mf(s.arrayValue,this.value)}}class hA extends pt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&Mf(this.value.arrayValue,s)}}class c$ extends pt{constructor(e,s){super(e,"not-in",s)}matches(e){if(Mf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Mf(this.value.arrayValue,s)}}class d$ extends pt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!Lf(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>Mf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,s=null,r=[],i=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function kv(n,e=null,s=[],r=[],i=null,l=null,c=null){return new u$(n,e,s,r,i,l,c)}function lc(n){const e=Ce(n);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>Tv(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),im(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>nu(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>nu(r))).join(",")),e.Te=s}return e.Te}function lm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!r$(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if(!lA(n.filters[s],e.filters[s]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!jT(n.startAt,e.startAt)&&jT(n.endAt,e.endAt)}function Fg(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Bg(n,e){return n.filters.filter((s=>s instanceof pt&&s.field.isEqual(e)))}function NT(n,e,s){let r=gg,i=!0;for(const l of Bg(n,e)){let c=gg,f=!0;switch(l.op){case"<":case"<=":c=s$(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,f=!1;break;case"!=":case"not-in":c=gg}bT({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(s!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=s.position[l];bT({value:r,inclusive:i},{value:c,inclusive:s.inclusive})<0&&(r=c,i=s.inclusive);break}}return{value:r,inclusive:i}}function _T(n,e,s){let r=Co,i=!0;for(const l of Bg(n,e)){let c=Co,f=!0;switch(l.op){case">=":case">":c=n$(l.value),f=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,f=!1;break;case"!=":case"not-in":c=Co}vT({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(s!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=s.position[l];vT({value:r,inclusive:i},{value:c,inclusive:s.inclusive})>0&&(r=c,i=s.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,s=null,r=[],i=[],l=null,c="F",f=null,u=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function fA(n,e,s,r,i,l,c,f){return new Di(n,e,s,r,i,l,c,f)}function ku(n){return new Di(n)}function ST(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function h$(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function rj(n){return n.collectionGroup!==null}function Vd(n){const e=Ce(n);if(e.Ie===null){e.Ie=[];const s=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),s.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ct(ts.comparator);return c.filters.forEach((u=>{u.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((l=>{s.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new zf(l,r))})),s.has(ts.keyField().canonicalString())||e.Ie.push(new zf(ts.keyField(),r))}return e.Ie}function Cn(n){const e=Ce(n);return e.Ee||(e.Ee=f$(e,Vd(n))),e.Ee}function f$(n,e){if(n.limitType==="F")return kv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const l=i.dir==="desc"?"asc":"desc";return new zf(i.field,l)}));const s=n.endAt?new Ko(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ko(n.startAt.position,n.startAt.inclusive):null;return kv(n.path,n.collectionGroup,e,n.filters,n.limit,s,r)}}function Ev(n,e){const s=n.filters.concat([e]);return new Di(n.path,n.collectionGroup,n.explicitOrderBy.slice(),s,n.limit,n.limitType,n.startAt,n.endAt)}function m$(n,e){const s=n.explicitOrderBy.concat([e]);return new Di(n.path,n.collectionGroup,s,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function $g(n,e,s){return new Di(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,s,n.startAt,n.endAt)}function p$(n,e){return new Di(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,e,n.endAt)}function g$(n,e){return new Di(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,e)}function cm(n,e){return lm(Cn(n),Cn(e))&&n.limitType===e.limitType}function mA(n){return`${lc(Cn(n))}|lt:${n.limitType}`}function Td(n){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((i=>dA(i))).join(", ")}]`),im(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((i=>nu(i))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((i=>nu(i))).join(",")),`Target(${r})`})(Cn(n))}; limitType=${n.limitType})`}function dm(n,e){return e.isFoundDocument()&&(function(r,i){const l=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ee.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,i){for(const l of Vd(r))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const l of r.filters)if(!l.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(c,f,u){const m=wT(c,f,u);return c.inclusive?m<=0:m<0})(r.startAt,Vd(r),i)||r.endAt&&!(function(c,f,u){const m=wT(c,f,u);return c.inclusive?m>=0:m>0})(r.endAt,Vd(r),i))})(n,e)}function pA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gA(n){return(e,s)=>{let r=!1;for(const i of Vd(n)){const l=x$(i,e,s);if(l!==0)return l;r=r||i.field.isKeyField()}return 0}}function x$(n,e,s){const r=n.field.isKeyField()?Ee.comparator(e.key,s.key):(function(l,c,f){const u=c.data.field(l),m=f.data.field(l);return u!==null&&m!==null?Go(u,m):Re(42886)})(n.field,e,s);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[i,l]of r)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,s]);i.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[s]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tl(this.inner,((s,r)=>{for(const[i,l]of r)e(i,l)}))}isEmpty(){return QC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=new qt(Ee.comparator);function $n(){return y$}const xA=new qt(Ee.comparator);function Zh(...n){let e=xA;for(const s of n)e=e.insert(s.key,s);return e}function yA(n){let e=xA;return n.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function Ua(){return gf()}function bA(){return gf()}function gf(){return new Oi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const b$=new qt(Ee.comparator),v$=new Ct(Ee.comparator);function tt(...n){let e=v$;for(const s of n)e=e.add(s);return e}const w$=new Ct(Ye);function aj(){return w$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:If(e)?"-0":e}}function vA(n){return{integerValue:""+n}}function wA(n,e){return VC(e)?vA(e):ij(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this._=void 0}}function j$(n,e,s){return n instanceof au?(function(i,l){const c={fields:{[ZC]:{stringValue:JC},[tA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&kx(l)&&(l=Ex(l)),l&&(c.fields[eA]=l),{mapValue:c}})(s,e):n instanceof cc?NA(n,e):n instanceof dc?_A(n,e):(function(i,l){const c=jA(i,l),f=TT(c)+TT(i.Ae);return _v(c)&&_v(i.Ae)?vA(f):ij(i.serializer,f)})(n,e)}function N$(n,e,s){return n instanceof cc?NA(n,e):n instanceof dc?_A(n,e):s}function jA(n,e){return n instanceof iu?(function(r){return _v(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class au extends Ax{}class cc extends Ax{constructor(e){super(),this.elements=e}}function NA(n,e){const s=SA(e);for(const r of n.elements)s.some((i=>Wa(i,r)))||s.push(r);return{arrayValue:{values:s}}}class dc extends Ax{constructor(e){super(),this.elements=e}}function _A(n,e){let s=SA(e);for(const r of n.elements)s=s.filter((i=>!Wa(i,r)));return{arrayValue:{values:s}}}class iu extends Ax{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function TT(n){return Zt(n.integerValue||n.doubleValue)}function SA(n){return Lf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,s){this.field=e,this.transform=s}}function _$(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof cc&&i instanceof cc||r instanceof dc&&i instanceof dc?Qd(r.elements,i.elements,Wa):r instanceof iu&&i instanceof iu?Wa(r.Ae,i.Ae):r instanceof au&&i instanceof au})(n.transform,e.transform)}class S${constructor(e,s){this.version=e,this.transformResults=s}}class ss{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new ss}static exists(e){return new ss(void 0,e)}static updateTime(e){return new ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ix{}function TA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cu(n.key,ss.none()):new Eu(n.key,n.data,ss.none());{const s=n.data,r=nn.empty();let i=new Ct(ts.comparator);for(let l of e.fields)if(!i.has(l)){let c=s.field(l);c===null&&l.length>1&&(l=l.popLast(),c=s.field(l)),c===null?r.delete(l):r.set(l,c),i=i.add(l)}return new Mi(n.key,r,new Bn(i.toArray()),ss.none())}}function T$(n,e,s){n instanceof Eu?(function(i,l,c){const f=i.value.clone(),u=ET(i.fieldTransforms,l,c.transformResults);f.setAll(u),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,s):n instanceof Mi?(function(i,l,c){if(!bg(i.precondition,l))return void l.convertToUnknownDocument(c.version);const f=ET(i.fieldTransforms,l,c.transformResults),u=l.data;u.setAll(kA(i)),u.setAll(f),l.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(n,e,s):(function(i,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,s)}function xf(n,e,s,r){return n instanceof Eu?(function(l,c,f,u){if(!bg(l.precondition,c))return f;const m=l.value.clone(),g=CT(l.fieldTransforms,u,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,s,r):n instanceof Mi?(function(l,c,f,u){if(!bg(l.precondition,c))return f;const m=CT(l.fieldTransforms,u,c),g=c.data;return g.setAll(kA(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(n,e,s,r):(function(l,c,f){return bg(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,s)}function k$(n,e){let s=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=jA(r.transform,i||null);l!=null&&(s===null&&(s=nn.empty()),s.set(r.field,l))}return s||null}function kT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qd(r,i,((l,c)=>_$(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Eu extends Ix{constructor(e,s,r,i=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mi extends Ix{constructor(e,s,r,i,l=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function kA(n){const e=new Map;return n.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=n.data.field(s);e.set(s,r)}})),e}function ET(n,e,s){const r=new Map;Ve(n.length===s.length,32656,{Ve:s.length,de:n.length});for(let i=0;i<s.length;i++){const l=n[i],c=l.transform,f=e.data.field(l.field);r.set(l.field,N$(c,f,s[i]))}return r}function CT(n,e,s){const r=new Map;for(const i of n){const l=i.transform,c=s.data.field(i.field);r.set(i.field,j$(l,c,e))}return r}class Cu extends Ix{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oj extends Ix{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,s,r,i){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&T$(l,e,r[i])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=xf(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=xf(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=bA();return this.mutations.forEach((i=>{const l=e.get(i.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=s.has(i.key)?null:f;const u=TA(c,f);u!==null&&r.set(i.key,u),c.isValidDocument()||c.convertToNoDocument($e.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),tt())}isEqual(e){return this.batchId===e.batchId&&Qd(this.mutations,e.mutations,((s,r)=>kT(s,r)))&&Qd(this.baseMutations,e.baseMutations,((s,r)=>kT(s,r)))}}class cj{constructor(e,s,r,i){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=i}static from(e,s,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return b$})();const l=e.mutations;for(let c=0;c<l.length;c++)i=i.insert(l[c].key,r[c].version);return new cj(e,s,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rs,xt;function EA(n){switch(n){case ie.OK:return Re(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function CA(n){if(n===void 0)return js("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Rs.OK:return ie.OK;case Rs.CANCELLED:return ie.CANCELLED;case Rs.UNKNOWN:return ie.UNKNOWN;case Rs.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Rs.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Rs.INTERNAL:return ie.INTERNAL;case Rs.UNAVAILABLE:return ie.UNAVAILABLE;case Rs.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Rs.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Rs.NOT_FOUND:return ie.NOT_FOUND;case Rs.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Rs.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Rs.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Rs.ABORTED:return ie.ABORTED;case Rs.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Rs.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Rs.DATA_LOSS:return ie.DATA_LOSS;default:return Re(39323,{code:n})}}(xt=Rs||(Rs={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$=new Do([4294967295,4294967295],0);function AT(n){const e=AA().encode(n),s=new jC;return s.update(e),new Uint8Array(s.digest())}function IT(n){const e=new DataView(n.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Do([s,r],0),new Do([i,l],0)]}class uj{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new ef(`Invalid padding: ${s}`);if(r<0)throw new ef(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ef(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new ef(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=Do.fromNumber(this.ge)}ye(e,s,r){let i=e.add(s.multiply(Do.fromNumber(r)));return i.compare(C$)===1&&(i=new Do([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=AT(e),[r,i]=IT(s);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,i,l);if(!this.we(c))return!1}return!0}static create(e,s,r){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new uj(l,i,s);return r.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const s=AT(e),[r,i]=IT(s);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,i,l);this.be(c)}}be(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class ef extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,s,r,i,l){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const i=new Map;return i.set(e,fm.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new hm($e.min(),i,new qt(Ye),$n(),tt())}}class fm{constructor(e,s,r,i,l){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new fm(r,s,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,s,r,i){this.Se=e,this.removedTargetIds=s,this.key=r,this.De=i}}class IA{constructor(e,s){this.targetId=e,this.Ce=s}}class RA{constructor(e,s,r=gs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=i}}class RT{constructor(){this.ve=0,this.Fe=PT(),this.Me=gs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),s=tt(),r=tt();return this.Fe.forEach(((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:s=s.add(i);break;case 1:r=r.add(i);break;default:Re(38017,{changeType:l})}})),new fm(this.Me,this.xe,e,s,r)}Ke(){this.Oe=!1,this.Fe=PT()}qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class A${constructor(e){this.Ge=e,this.ze=new Map,this.je=$n(),this.He=Jp(),this.Je=Jp(),this.Ze=new qt(Ye)}Xe(e){for(const s of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((r,i)=>{this.rt(i)&&s(i)}))}st(e){const s=e.targetId,r=e.Ce.count,i=this.ot(s);if(i){const l=i.target;if(Fg(l))if(r===0){const c=new Ee(l.path);this.et(s,c,Wt.newNoDocument(c,$e.min()))}else Ve(r===1,20013,{expectedCount:r});else{const c=this._t(s);if(c!==r){const f=this.ut(e),u=f?this.ct(f,e,c):1;if(u!==0){this.it(s);const m=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(s,m)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:l=0}=s;let c,f;try{c=Ai(r).toUint8Array()}catch(u){if(u instanceof XC)return Ka("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{f=new uj(c,i,l)}catch(u){return Ka(u instanceof ef?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return f.ge===0?null:f}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let i=0;return r.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(s,l,null),i++)})),i}Tt(e){const s=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Fg(f.target)){const u=new Ee(f.target.path);this.It(u).has(c)||this.Et(c,u)||this.et(c,u,Wt.newNoDocument(u,e))}l.Be&&(s.set(c,l.ke()),l.Ke())}}));let r=tt();this.Je.forEach(((l,c)=>{let f=!0;c.forEachWhile((u=>{const m=this.ot(u);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const i=new hm(e,s,this.Ze,this.je,r);return this.je=$n(),this.He=Jp(),this.Je=Jp(),this.Ze=new qt(Ye),i}Ye(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).qe(s.key,r),this.je=this.je.insert(s.key,s),this.He=this.He.insert(s.key,this.It(s.key).add(e)),this.Je=this.Je.insert(s.key,this.Rt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,s)?i.qe(s,1):i.Ue(s),this.Je=this.Je.insert(s,this.Rt(s).delete(e)),this.Je=this.Je.insert(s,this.Rt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let s=this.ze.get(e);return s||(s=new RT,this.ze.set(e,s)),s}Rt(e){let s=this.Je.get(e);return s||(s=new Ct(Ye),this.Je=this.Je.insert(e,s)),s}It(e){let s=this.He.get(e);return s||(s=new Ct(Ye),this.He=this.He.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||_e("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new RT),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function Jp(){return new qt(Ee.comparator)}function PT(){return new qt(Ee.comparator)}const I$={asc:"ASCENDING",desc:"DESCENDING"},R$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P$={and:"AND",or:"OR"};class D${constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function Cv(n,e){return n.useProto3Json||im(e)?e:{value:e}}function ou(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function O$(n,e){return ou(n,e.toTimestamp())}function Ns(n){return Ve(!!n,49232),$e.fromTimestamp((function(s){const r=Ci(s);return new _t(r.seconds,r.nanos)})(n))}function hj(n,e){return Av(n,e).canonicalString()}function Av(n,e){const s=(function(i){return new ht(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?s:s.child(e)}function DA(n){const e=ht.fromString(n);return Ve(qA(e),10190,{key:e.toString()}),e}function Vf(n,e){return hj(n.databaseId,e.path)}function $a(n,e){const s=DA(e);if(s.get(1)!==n.databaseId.projectId)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+n.databaseId.projectId);if(s.get(3)!==n.databaseId.database)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+n.databaseId.database);return new Ee(LA(s))}function OA(n,e){return hj(n.databaseId,e)}function MA(n){const e=DA(n);return e.length===4?ht.emptyPath():LA(e)}function Iv(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LA(n){return Ve(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function DT(n,e,s){return{name:Vf(n,e),fields:s.value.mapValue.fields}}function zA(n,e,s){const r=$a(n,e.name),i=Ns(e.updateTime),l=e.createTime?Ns(e.createTime):$e.min(),c=new nn({mapValue:{fields:e.fields}}),f=Wt.newFoundDocument(r,i,l,c);return s&&f.setHasCommittedMutations(),s?f.setHasCommittedMutations():f}function M$(n,e){return"found"in e?(function(r,i){Ve(!!i.found,43571),i.found.name,i.found.updateTime;const l=$a(r,i.found.name),c=Ns(i.found.updateTime),f=i.found.createTime?Ns(i.found.createTime):$e.min(),u=new nn({mapValue:{fields:i.found.fields}});return Wt.newFoundDocument(l,c,f,u)})(n,e):"missing"in e?(function(r,i){Ve(!!i.missing,3894),Ve(!!i.readTime,22933);const l=$a(r,i.missing),c=Ns(i.readTime);return Wt.newNoDocument(l,c)})(n,e):Re(7234,{result:e})}function L$(n,e){let s;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Re(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(Ve(g===void 0||typeof g=="string",58123),gs.fromBase64String(g||"")):(Ve(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),gs.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(m){const g=m.code===void 0?ie.UNKNOWN:CA(m.code);return new we(g,m.message||"")})(c);s=new RA(r,i,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=$a(n,r.document.name),l=Ns(r.document.updateTime),c=r.document.createTime?Ns(r.document.createTime):$e.min(),f=new nn({mapValue:{fields:r.document.fields}}),u=Wt.newFoundDocument(i,l,c,f),m=r.targetIds||[],g=r.removedTargetIds||[];s=new vg(m,g,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=$a(n,r.document),l=r.readTime?Ns(r.readTime):$e.min(),c=Wt.newNoDocument(i,l),f=r.removedTargetIds||[];s=new vg([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=$a(n,r.document),l=r.removedTargetIds||[];s=new vg([],l,i,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:l}=r,c=new E$(i,l),f=r.targetId;s=new IA(f,c)}}return s}function Uf(n,e){let s;if(e instanceof Eu)s={update:DT(n,e.key,e.value)};else if(e instanceof Cu)s={delete:Vf(n,e.key)};else if(e instanceof Mi)s={update:DT(n,e.key,e.data),updateMask:$$(e.fieldMask)};else{if(!(e instanceof oj))return Re(16599,{dt:e.type});s={verify:Vf(n,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const f=c.transform;if(f instanceof au)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof cc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof dc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof iu)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Re(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(i,l){return l.updateTime!==void 0?{updateTime:O$(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(n,e.precondition)),s}function Rv(n,e){const s=e.currentDocument?(function(l){return l.updateTime!==void 0?ss.updateTime(Ns(l.updateTime)):l.exists!==void 0?ss.exists(l.exists):ss.none()})(e.currentDocument):ss.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(c,f){let u=null;if("setToServerValue"in f)Ve(f.setToServerValue==="REQUEST_TIME",16630,{proto:f}),u=new au;else if("appendMissingElements"in f){const g=f.appendMissingElements.values||[];u=new cc(g)}else if("removeAllFromArray"in f){const g=f.removeAllFromArray.values||[];u=new dc(g)}else"increment"in f?u=new iu(c,f.increment):Re(16584,{proto:f});const m=ts.fromServerFormat(f.fieldPath);return new um(m,u)})(n,i))):[];if(e.update){e.update.name;const i=$a(n,e.update.name),l=new nn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(u){const m=u.fieldPaths||[];return new Bn(m.map((g=>ts.fromServerFormat(g))))})(e.updateMask);return new Mi(i,l,c,s,r)}return new Eu(i,l,s,r)}if(e.delete){const i=$a(n,e.delete);return new Cu(i,s)}if(e.verify){const i=$a(n,e.verify);return new oj(i,s)}return Re(1463,{proto:e})}function z$(n,e){return n&&n.length>0?(Ve(e!==void 0,14353),n.map((s=>(function(i,l){let c=i.updateTime?Ns(i.updateTime):Ns(l);return c.isEqual($e.min())&&(c=Ns(l)),new S$(c,i.transformResults||[])})(s,e)))):[]}function VA(n,e){return{documents:[OA(n,e.path)]}}function UA(n,e){const s={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=OA(n,i);const l=(function(m){if(m.length!==0)return $A(Et.create(m,"and"))})(e.filters);l&&(s.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(v){return{field:kd(v.field),direction:U$(v.dir)}})(g)))})(e.orderBy);c&&(s.structuredQuery.orderBy=c);const f=Cv(n,e.limit);return f!==null&&(s.structuredQuery.limit=f),e.startAt&&(s.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:s,parent:i}}function FA(n){let e=MA(n.parent);const s=n.structuredQuery,r=s.from?s.from.length:0;let i=null;if(r>0){Ve(r===1,65062);const g=s.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let l=[];s.where&&(l=(function(b){const v=BA(b);return v instanceof Et&&nj(v)?v.getFilters():[v]})(s.where));let c=[];s.orderBy&&(c=(function(b){return b.map((v=>(function(N){return new zf(Ed(N.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(v)))})(s.orderBy));let f=null;s.limit&&(f=(function(b){let v;return v=typeof b=="object"?b.value:b,im(v)?null:v})(s.limit));let u=null;s.startAt&&(u=(function(b){const v=!!b.before,T=b.values||[];return new Ko(T,v)})(s.startAt));let m=null;return s.endAt&&(m=(function(b){const v=!b.before,T=b.values||[];return new Ko(T,v)})(s.endAt)),fA(e,i,c,l,f,"F",u,m)}function V$(n,e){const s=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:i})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function BA(n){return n.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=Ed(s.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ed(s.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ed(s.unaryFilter.field);return pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ed(s.unaryFilter.field);return pt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(n):n.fieldFilter!==void 0?(function(s){return pt.create(Ed(s.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(s){return Et.create(s.compositeFilter.filters.map((r=>BA(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(s.compositeFilter.op))})(n):Re(30097,{filter:n})}function U$(n){return I$[n]}function F$(n){return R$[n]}function B$(n){return P$[n]}function kd(n){return{fieldPath:n.canonicalString()}}function Ed(n){return ts.fromServerFormat(n.fieldPath)}function $A(n){return n instanceof pt?(function(s){if(s.op==="=="){if(yT(s.value))return{unaryFilter:{field:kd(s.field),op:"IS_NAN"}};if(xT(s.value))return{unaryFilter:{field:kd(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(yT(s.value))return{unaryFilter:{field:kd(s.field),op:"IS_NOT_NAN"}};if(xT(s.value))return{unaryFilter:{field:kd(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kd(s.field),op:F$(s.op),value:s.value}}})(n):n instanceof Et?(function(s){const r=s.getFilters().map((i=>$A(i)));return r.length===1?r[0]:{compositeFilter:{op:B$(s.op),filters:r}}})(n):Re(54877,{filter:n})}function $$(n){const e=[];return n.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function qA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function HA(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,s,r,i,l=$e.min(),c=$e.min(),f=gs.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=u}withSequenceNumber(e){return new yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.yt=e}}function q$(n,e){let s;if(e.document)s=zA(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ee.fromSegments(e.noDocument.path),i=hc(e.noDocument.readTime);s=Wt.newNoDocument(r,i),e.hasCommittedMutations&&s.setHasCommittedMutations()}else{if(!e.unknownDocument)return Re(56709);{const r=Ee.fromSegments(e.unknownDocument.path),i=hc(e.unknownDocument.version);s=Wt.newUnknownDocument(r,i)}}return e.readTime&&s.setReadTime((function(i){const l=new _t(i[0],i[1]);return $e.fromTimestamp(l)})(e.readTime)),s}function OT(n,e){const s=e.key,r={prefixPath:s.getCollectionPath().popLast().toArray(),collectionGroup:s.collectionGroup,documentId:s.path.lastSegment(),readTime:qg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(l,c){return{name:Vf(l,c.key),fields:c.data.value.mapValue.fields,updateTime:ou(l,c.version.toTimestamp()),createTime:ou(l,c.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:s.path.toArray(),readTime:uc(e.version)};else{if(!e.isUnknownDocument())return Re(57904,{document:e});r.unknownDocument={path:s.path.toArray(),version:uc(e.version)}}return r}function qg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function uc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function hc(n){const e=new _t(n.seconds,n.nanoseconds);return $e.fromTimestamp(e)}function Dl(n,e){const s=(e.baseMutations||[]).map((l=>Rv(n.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const f=e.mutations[l+1];c.updateTransforms=f.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const r=e.mutations.map((l=>Rv(n.yt,l))),i=_t.fromMillis(e.localWriteTimeMs);return new lj(e.batchId,i,s,r)}function tf(n){const e=hc(n.readTime),s=n.lastLimboFreeSnapshotVersion!==void 0?hc(n.lastLimboFreeSnapshotVersion):$e.min();let r;return r=(function(l){return l.documents!==void 0})(n.query)?(function(l){const c=l.documents.length;return Ve(c===1,1966,{count:c}),Cn(ku(MA(l.documents[0])))})(n.query):(function(l){return Cn(FA(l))})(n.query),new yi(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,s,gs.fromBase64String(n.resumeToken))}function KA(n,e){const s=uc(e.snapshotVersion),r=uc(e.lastLimboFreeSnapshotVersion);let i;i=Fg(e.target)?VA(n.yt,e.target):UA(n.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lc(e.target),readTime:s,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function fj(n){const e=FA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$g(e,e.limit,"L"):e}function Tb(n,e){return new dj(e.largestBatchId,Rv(n.yt,e.overlayMutation))}function MT(n,e){const s=e.path.lastSegment();return[n,vn(e.path.popLast()),s]}function LT(n,e,s,r){return{indexId:n,uid:e,sequenceNumber:s,readTime:uc(r.readTime),documentKey:vn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${getBundleMetadata(e,s){return zT(e).get(s).next((r=>{if(r)return(function(l){return{id:l.bundleId,createTime:hc(l.createTime),version:l.version}})(r)}))}saveBundleMetadata(e,s){return zT(e).put((function(i){return{bundleId:i.id,createTime:uc(Ns(i.createTime)),version:i.version}})(s))}getNamedQuery(e,s){return VT(e).get(s).next((r=>{if(r)return(function(l){return{name:l.name,query:fj(l.bundledQuery),readTime:hc(l.readTime)}})(r)}))}saveNamedQuery(e,s){return VT(e).put((function(i){return{name:i.name,readTime:uc(Ns(i.readTime)),bundledQuery:i.bundledQuery}})(s))}}function zT(n){return Fs(n,_x)}function VT(n){return Fs(n,Sx)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,s){this.serializer=e,this.userId=s}static wt(e,s){const r=s.uid||"";return new Rx(e,r)}getOverlay(e,s){return Bh(e).get(MT(this.userId,s)).next((r=>r?Tb(this.serializer,r):null))}getOverlays(e,s){const r=Ua();return Z.forEach(s,(i=>this.getOverlay(e,i).next((l=>{l!==null&&r.set(i,l)})))).next((()=>r))}saveOverlays(e,s,r){const i=[];return r.forEach(((l,c)=>{const f=new dj(s,c);i.push(this.bt(e,f))})),Z.waitFor(i)}removeOverlaysForBatchId(e,s,r){const i=new Set;s.forEach((c=>i.add(vn(c.getCollectionPath()))));const l=[];return i.forEach((c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(Bh(e).X(vv,f))})),Z.waitFor(l)}getOverlaysForCollection(e,s,r){const i=Ua(),l=vn(s),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Bh(e).H(vv,c).next((f=>{for(const u of f){const m=Tb(this.serializer,u);i.set(m.getKey(),m)}return i}))}getOverlaysForCollectionGroup(e,s,r,i){const l=Ua();let c;const f=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Bh(e).ee({index:HC,range:f},((u,m,g)=>{const b=Tb(this.serializer,m);l.size()<i||b.largestBatchId===c?(l.set(b.getKey(),b),c=b.largestBatchId):g.done()})).next((()=>l))}bt(e,s){return Bh(e).put((function(i,l,c){const[f,u,m]=MT(l,c.mutation.key);return{userId:l,collectionPath:u,documentId:m,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Uf(i.yt,c.mutation)}})(this.serializer,this.userId,s))}}function Bh(n){return Fs(n,Tx)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${St(e){return Fs(e,Zw)}getSessionToken(e){return this.St(e).get("sessionToken").next((s=>{const r=s==null?void 0:s.value;return r?gs.fromUint8Array(r):gs.EMPTY_BYTE_STRING}))}setSessionToken(e,s){return this.St(e).put({name:"sessionToken",value:s.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){}Dt(e,s){this.Ct(e,s),s.vt()}Ct(e,s){if("nullValue"in e)this.Ft(s,5);else if("booleanValue"in e)this.Ft(s,10),s.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(s,15),s.Mt(Zt(e.integerValue));else if("doubleValue"in e){const r=Zt(e.doubleValue);isNaN(r)?this.Ft(s,13):(this.Ft(s,15),If(r)?s.Mt(0):s.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(s,20),typeof r=="string"&&(r=Ci(r)),s.xt(`${r.seconds||""}`),s.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,s),this.Nt(s);else if("bytesValue"in e)this.Ft(s,30),s.Bt(Ai(e.bytesValue)),this.Nt(s);else if("referenceValue"in e)this.Lt(e.referenceValue,s);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(s,45),s.Mt(r.latitude||0),s.Mt(r.longitude||0)}else"mapValue"in e?nA(e)?this.Ft(s,Number.MAX_SAFE_INTEGER):Cx(e)?this.kt(e.mapValue,s):(this.Kt(e.mapValue,s),this.Nt(s)):"arrayValue"in e?(this.qt(e.arrayValue,s),this.Nt(s)):Re(19022,{Ut:e})}Ot(e,s){this.Ft(s,25),this.$t(e,s)}$t(e,s){s.xt(e)}Kt(e,s){const r=e.fields||{};this.Ft(s,55);for(const i of Object.keys(r))this.Ot(i,s),this.Ct(r[i],s)}kt(e,s){var c,f;const r=e.fields||{};this.Ft(s,53);const i=su,l=((f=(c=r[i].arrayValue)==null?void 0:c.values)==null?void 0:f.length)||0;this.Ft(s,15),s.Mt(Zt(l)),this.Ot(i,s),this.Ct(r[i],s)}qt(e,s){const r=e.values||[];this.Ft(s,50);for(const i of r)this.Ct(i,s)}Lt(e,s){this.Ft(s,37),Ee.fromName(e).path.forEach((r=>{this.Ft(s,60),this.$t(r,s)}))}Ft(e,s){e.Mt(s)}Nt(e){e.Mt(2)}}Ol.Wt=new Ol;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=255;function K$(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function UT(n){const e=64-(function(r){let i=0;for(let l=0;l<8;++l){const c=K$(255&r[l]);if(i+=c,c!==8)break}return i})(n);return Math.ceil(e/8)}class W${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const s=e[Symbol.iterator]();let r=s.next();for(;!r.done;)this.Gt(r.value),r=s.next();this.zt()}jt(e){const s=e[Symbol.iterator]();let r=s.next();for(;!r.done;)this.Ht(r.value),r=s.next();this.Jt()}Zt(e){for(const s of e){const r=s.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(s<"\uD800"||"\uDBFF"<s)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=s.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const s of e){const r=s.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(s<"\uD800"||"\uDBFF"<s)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=s.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const s=this.en(e),r=UT(s);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=s.length-r;i<s.length;++i)this.buffer[this.position++]=255&s[i]}nn(e){const s=this.en(e),r=UT(s);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=s.length-r;i<s.length;++i)this.buffer[this.position++]=~(255&s[i])}rn(){this.sn(wd),this.sn(255)}_n(){this.an(wd),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const s=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(e),r=!!(128&s[0]);s[0]^=r?255:128;for(let i=1;i<s.length;++i)s[i]^=r?255:0;return s}Gt(e){const s=255&e;s===0?(this.sn(0),this.sn(255)):s===wd?(this.sn(wd),this.sn(0)):this.sn(s)}Ht(e){const s=255&e;s===0?(this.an(0),this.an(255)):s===wd?(this.an(wd),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const s=e+this.position;if(s<=this.buffer.length)return;let r=2*this.buffer.length;r<s&&(r=s);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Y${constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class Q${constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class $h{constructor(){this.cn=new W$,this.ascending=new Y$(this.cn),this.descending=new Q$(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,s,r,i){this.hn=e,this.Pn=s,this.Tn=r,this.In=i}En(){const e=this.In.length,s=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(s);return r.set(this.In,0),s!==e?r.set([0],this.In.length):++r[r.length-1],new Ml(this.hn,this.Pn,this.Tn,r)}Rn(e,s,r){return{indexId:this.hn,uid:e,arrayValue:wg(this.Tn),directionalValue:wg(this.In),orderedDocumentKey:wg(s),documentKey:r.path.toArray()}}An(e,s,r){const i=this.Rn(e,s,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function jo(n,e){let s=n.hn-e.hn;return s!==0?s:(s=FT(n.Tn,e.Tn),s!==0?s:(s=FT(n.In,e.In),s!==0?s:Ee.comparator(n.Pn,e.Pn)))}function FT(n,e){for(let s=0;s<n.length&&s<e.length;++s){const r=n[s]-e[s];if(r!==0)return r}return n.length-e.length}function wg(n){return lE()?(function(s){let r="";for(let i=0;i<s.length;i++)r+=String.fromCharCode(s[i]);return r})(n):n}function BT(n){return typeof n!="string"?n:(function(s){const r=new Uint8Array(s.length);for(let i=0;i<s.length;i++)r[i]=s.charCodeAt(i);return r})(n)}class $T{constructor(e){this.Vn=new Ct(((s,r)=>ts.comparator(s.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const s of e.filters){const r=s;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(Ve(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const s=xv(e);if(s!==void 0&&!this.pn(s))return!1;const r=Il(e);let i=new Set,l=0,c=0;for(;l<r.length&&this.pn(r[l]);++l)i=i.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.Vn.size>0){const f=this.Vn.getIterator().getNext();if(!i.has(f.field.canonicalString())){const u=r[l];if(!this.yn(f,u)||!this.wn(this.dn[c++],u))return!1}++l}for(;l<r.length;++l){const f=r[l];if(c>=this.dn.length||!this.wn(this.dn[c++],f))return!1}return!0}bn(){if(this.fn)return null;let e=new Ct(ts.comparator);const s=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")s.push(new fg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),s.push(new fg(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),s.push(new fg(r.field,r.dir==="asc"?0:1)));return new Lg(Lg.UNKNOWN_ID,this.collectionId,s,Af.empty())}pn(e){for(const s of this.mn)if(this.yn(s,e))return!0;return!1}yn(e,s){if(e===void 0||!e.field.isEqual(s.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return s.kind===2===r}wn(e,s){return!!e.field.isEqual(s.fieldPath)&&(s.kind===0&&e.dir==="asc"||s.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(n){var s,r;if(Ve(n instanceof pt||n instanceof Et,20012),n instanceof pt){if(n instanceof hA){const i=((r=(s=n.value.arrayValue)==null?void 0:s.values)==null?void 0:r.map((l=>pt.create(n.field,"==",l))))||[];return Et.create(i,"or")}return n}const e=n.filters.map((i=>WA(i)));return Et.create(e,n.op)}function X$(n){if(n.getFilters().length===0)return[];const e=Ov(WA(n));return Ve(YA(e),7391),Pv(e)||Dv(e)?[e]:e.getFilters()}function Pv(n){return n instanceof pt}function Dv(n){return n instanceof Et&&nj(n)}function YA(n){return Pv(n)||Dv(n)||(function(s){if(s instanceof Et&&Sv(s)){for(const r of s.getFilters())if(!Pv(r)&&!Dv(r))return!1;return!0}return!1})(n)}function Ov(n){if(Ve(n instanceof pt||n instanceof Et,34018),n instanceof pt)return n;if(n.filters.length===1)return Ov(n.filters[0]);const e=n.filters.map((r=>Ov(r)));let s=Et.create(e,n.op);return s=Hg(s),YA(s)?s:(Ve(s instanceof Et,64498),Ve(ru(s),40251),Ve(s.filters.length>1,57927),s.filters.reduce(((r,i)=>mj(r,i))))}function mj(n,e){let s;return Ve(n instanceof pt||n instanceof Et,38388),Ve(e instanceof pt||e instanceof Et,25473),s=n instanceof pt?e instanceof pt?(function(i,l){return Et.create([i,l],"and")})(n,e):qT(n,e):e instanceof pt?qT(e,n):(function(i,l){if(Ve(i.filters.length>0&&l.filters.length>0,48005),ru(i)&&ru(l))return cA(i,l.getFilters());const c=Sv(i)?i:l,f=Sv(i)?l:i,u=c.filters.map((m=>mj(m,f)));return Et.create(u,"or")})(n,e),Hg(s)}function qT(n,e){if(ru(e))return cA(e,n.getFilters());{const s=e.filters.map((r=>mj(n,r)));return Et.create(s,"or")}}function Hg(n){if(Ve(n instanceof pt||n instanceof Et,11850),n instanceof pt)return n;const e=n.getFilters();if(e.length===1)return Hg(e[0]);if(oA(n))return n;const s=e.map((i=>Hg(i))),r=[];return s.forEach((i=>{i instanceof pt?r.push(i):i instanceof Et&&(i.op===n.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Et.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(){this.Sn=new pj}addToCollectionParentIndex(e,s){return this.Sn.add(s),Z.resolve()}getCollectionParents(e,s){return Z.resolve(this.Sn.getEntries(s))}addFieldIndex(e,s){return Z.resolve()}deleteFieldIndex(e,s){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,s){return Z.resolve()}getDocumentsMatchingTarget(e,s){return Z.resolve(null)}getIndexType(e,s){return Z.resolve(0)}getFieldIndexes(e,s){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,s){return Z.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,s){return Z.resolve(pr.min())}updateCollectionGroup(e,s,r){return Z.resolve()}updateIndexEntries(e,s){return Z.resolve()}}class pj{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s]||new Ct(ht.comparator),l=!i.has(r);return this.index[s]=i.add(r),l}has(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="IndexedDbIndexManager",Zp=new Uint8Array(0);class Z${constructor(e,s){this.databaseId=s,this.Dn=new pj,this.Cn=new Oi((r=>lc(r)),((r,i)=>lm(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,s){if(!this.Dn.has(s)){const r=s.lastSegment(),i=s.popLast();e.addOnCommittedListener((()=>{this.Dn.add(s)}));const l={collectionId:r,parent:vn(i)};return GT(e).put(l)}return Z.resolve()}getCollectionParents(e,s){const r=[],i=IDBKeyRange.bound([s,""],[AC(s),""],!1,!0);return GT(e).H(i).next((l=>{for(const c of l){if(c.collectionId!==s)break;r.push(Va(c.parent))}return r}))}addFieldIndex(e,s){const r=qh(e),i=(function(f){return{indexId:f.indexId,collectionGroup:f.collectionGroup,fields:f.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(s);delete i.indexId;const l=r.add(i);if(s.indexState){const c=Nd(e);return l.next((f=>{c.put(LT(f,this.uid,s.indexState.sequenceNumber,s.indexState.offset))}))}return l.next()}deleteFieldIndex(e,s){const r=qh(e),i=Nd(e),l=jd(e);return r.delete(s.indexId).next((()=>i.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const s=qh(e),r=jd(e),i=Nd(e);return s.X().next((()=>r.X())).next((()=>i.X()))}createTargetIndexes(e,s){return Z.forEach(this.vn(s),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const l=new $T(r).bn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,s){const r=jd(e);let i=!0;const l=new Map;return Z.forEach(this.vn(s),(c=>this.Fn(e,c).next((f=>{i&&(i=!!f),l.set(c,f)})))).next((()=>{if(i){let c=tt();const f=[];return Z.forEach(l,((u,m)=>{_e(HT,`Using index ${(function(L){return`id=${L.indexId}|cg=${L.collectionGroup}|f=${L.fields.map((V=>`${V.fieldPath}:${V.kind}`)).join(",")}`})(u)} to execute ${lc(s)}`);const g=(function(L,V){const $=xv(V);if($===void 0)return null;for(const Q of Bg(L,$.fieldPath))switch(Q.op){case"array-contains-any":return Q.value.arrayValue.values||[];case"array-contains":return[Q.value]}return null})(m,u),b=(function(L,V){const $=new Map;for(const Q of Il(V))for(const _ of Bg(L,Q.fieldPath))switch(_.op){case"==":case"in":$.set(Q.fieldPath.canonicalString(),_.value);break;case"not-in":case"!=":return $.set(Q.fieldPath.canonicalString(),_.value),Array.from($.values())}return null})(m,u),v=(function(L,V){const $=[];let Q=!0;for(const _ of Il(V)){const A=_.kind===0?NT(L,_.fieldPath,L.startAt):_T(L,_.fieldPath,L.startAt);$.push(A.value),Q&&(Q=A.inclusive)}return new Ko($,Q)})(m,u),T=(function(L,V){const $=[];let Q=!0;for(const _ of Il(V)){const A=_.kind===0?_T(L,_.fieldPath,L.endAt):NT(L,_.fieldPath,L.endAt);$.push(A.value),Q&&(Q=A.inclusive)}return new Ko($,Q)})(m,u),N=this.Mn(u,m,v),E=this.Mn(u,m,T),k=this.xn(u,m,b),D=this.On(u.indexId,g,N,v.inclusive,E,T.inclusive,k);return Z.forEach(D,(P=>r.Z(P,s.limit).next((L=>{L.forEach((V=>{const $=Ee.fromSegments(V.documentKey);c.has($)||(c=c.add($),f.push($))}))}))))})).next((()=>f))}return Z.resolve(null)}))}vn(e){let s=this.Cn.get(e);return s||(e.filters.length===0?s=[e]:s=X$(Et.create(e.filters,"and")).map((r=>kv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,s),s)}On(e,s,r,i,l,c,f){const u=(s!=null?s.length:1)*Math.max(r.length,l.length),m=u/(s!=null?s.length:1),g=[];for(let b=0;b<u;++b){const v=s?this.Nn(s[b/m]):Zp,T=this.Bn(e,v,r[b%m],i),N=this.Ln(e,v,l[b%m],c),E=f.map((k=>this.Bn(e,v,k,!0)));g.push(...this.createRange(T,N,E))}return g}Bn(e,s,r,i){const l=new Ml(e,Ee.empty(),s,r);return i?l:l.En()}Ln(e,s,r,i){const l=new Ml(e,Ee.empty(),s,r);return i?l.En():l}Fn(e,s){const r=new $T(s),i=s.collectionGroup!=null?s.collectionGroup:s.path.lastSegment();return this.getFieldIndexes(e,i).next((l=>{let c=null;for(const f of l)r.gn(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c}))}getIndexType(e,s){let r=2;const i=this.vn(s);return Z.forEach(i,(l=>this.Fn(e,l).next((c=>{c?r!==0&&c.fields.length<(function(u){let m=new Ct(ts.comparator),g=!1;for(const b of u.filters)for(const v of b.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:m=m.add(v.field));for(const b of u.orderBy)b.field.isKeyField()||(m=m.add(b.field));return m.size+(g?1:0)})(l)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(s)&&i.length>1&&r===2?1:r))}kn(e,s){const r=new $h;for(const i of Il(e)){const l=s.data.field(i.fieldPath);if(l==null)return null;const c=r.ln(i.kind);Ol.Wt.Dt(l,c)}return r.un()}Nn(e){const s=new $h;return Ol.Wt.Dt(e,s.ln(0)),s.un()}Kn(e,s){const r=new $h;return Ol.Wt.Dt(oc(this.databaseId,s),r.ln((function(l){const c=Il(l);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}xn(e,s,r){if(r===null)return[];let i=[];i.push(new $h);let l=0;for(const c of Il(e)){const f=r[l++];for(const u of i)if(this.qn(s,c.fieldPath)&&Lf(f))i=this.Un(i,c,f);else{const m=u.ln(c.kind);Ol.Wt.Dt(f,m)}}return this.$n(i)}Mn(e,s,r){return this.xn(e,s,r.position)}$n(e){const s=[];for(let r=0;r<e.length;++r)s[r]=e[r].un();return s}Un(e,s,r){const i=[...e],l=[];for(const c of r.arrayValue.values||[])for(const f of i){const u=new $h;u.seed(f.un()),Ol.Wt.Dt(c,u.ln(s.kind)),l.push(u)}return l}qn(e,s){return!!e.filters.find((r=>r instanceof pt&&r.field.isEqual(s)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,s){const r=qh(e),i=Nd(e);return(s?r.H(bv,IDBKeyRange.bound(s,s)):r.H()).next((l=>{const c=[];return Z.forEach(l,(f=>i.get([f.indexId,this.uid]).next((u=>{c.push((function(g,b){const v=b?new Af(b.sequenceNumber,new pr(hc(b.readTime),new Ee(Va(b.documentKey)),b.largestBatchId)):Af.empty(),T=g.fields.map((([N,E])=>new fg(ts.fromServerFormat(N),E)));return new Lg(g.indexId,g.collectionGroup,T,v)})(f,u))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((s=>s.length===0?null:(s.sort(((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return l!==0?l:Ye(r.collectionGroup,i.collectionGroup)})),s[0].collectionGroup)))}updateCollectionGroup(e,s,r){const i=qh(e),l=Nd(e);return this.Wn(e).next((c=>i.H(bv,IDBKeyRange.bound(s,s)).next((f=>Z.forEach(f,(u=>l.put(LT(u.indexId,this.uid,c,r))))))))}updateIndexEntries(e,s){const r=new Map;return Z.forEach(s,((i,l)=>{const c=r.get(i.collectionGroup);return(c?Z.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next((f=>(r.set(i.collectionGroup,f),Z.forEach(f,(u=>this.Qn(e,i,u).next((m=>{const g=this.Gn(l,u);return m.isEqual(g)?Z.resolve():this.zn(e,l,u,m,g)})))))))}))}jn(e,s,r,i){return jd(e).put(i.Rn(this.uid,this.Kn(r,s.key),s.key))}Hn(e,s,r,i){return jd(e).delete(i.An(this.uid,this.Kn(r,s.key),s.key))}Qn(e,s,r){const i=jd(e);let l=new Ct(jo);return i.ee({index:qC,range:IDBKeyRange.only([r.indexId,this.uid,wg(this.Kn(r,s))])},((c,f)=>{l=l.add(new Ml(r.indexId,s,BT(f.arrayValue),BT(f.directionalValue)))})).next((()=>l))}Gn(e,s){let r=new Ct(jo);const i=this.kn(s,e);if(i==null)return r;const l=xv(s);if(l!=null){const c=e.data.field(l.fieldPath);if(Lf(c))for(const f of c.arrayValue.values||[])r=r.add(new Ml(s.indexId,e.key,this.Nn(f),i))}else r=r.add(new Ml(s.indexId,e.key,Zp,i));return r}zn(e,s,r,i,l){_e(HT,"Updating index entries for document '%s'",s.key);const c=[];return(function(u,m,g,b,v){const T=u.getIterator(),N=m.getIterator();let E=vd(T),k=vd(N);for(;E||k;){let D=!1,P=!1;if(E&&k){const L=g(E,k);L<0?P=!0:L>0&&(D=!0)}else E!=null?P=!0:D=!0;D?(b(k),k=vd(N)):P?(v(E),E=vd(T)):(E=vd(T),k=vd(N))}})(i,l,jo,(f=>{c.push(this.jn(e,s,r,f))}),(f=>{c.push(this.Hn(e,s,r,f))})),Z.waitFor(c)}Wn(e){let s=1;return Nd(e).ee({index:$C,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,l)=>{l.done(),s=i.sequenceNumber+1})).next((()=>s))}createRange(e,s,r){r=r.sort(((c,f)=>jo(c,f))).filter(((c,f,u)=>!f||jo(c,u[f-1])!==0));const i=[];i.push(e);for(const c of r){const f=jo(c,e),u=jo(c,s);if(f===0)i[0]=e.En();else if(f>0&&u<0)i.push(c),i.push(c.En());else if(u>0)break}i.push(s);const l=[];for(let c=0;c<i.length;c+=2){if(this.Jn(i[c],i[c+1]))return[];const f=i[c].An(this.uid,Zp,Ee.empty()),u=i[c+1].An(this.uid,Zp,Ee.empty());l.push(IDBKeyRange.bound(f,u))}return l}Jn(e,s){return jo(e,s)>0}getMinOffsetFromCollectionGroup(e,s){return this.getFieldIndexes(e,s).next(KT)}getMinOffset(e,s){return Z.mapArray(this.vn(s),(r=>this.Fn(e,r).next((i=>i||Re(44426))))).next(KT)}}function GT(n){return Fs(n,Df)}function jd(n){return Fs(n,mf)}function qh(n){return Fs(n,Jw)}function Nd(n){return Fs(n,ff)}function KT(n){Ve(n.length!==0,28825);let e=n[0].indexState.offset,s=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Yw(i,e)<0&&(e=i),s<i.largestBatchId&&(s=i.largestBatchId)}return new pr(e.readTime,e.documentKey,s)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QA=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(n,e,s){const r=n.store(na),i=n.store(Jd),l=[],c=IDBKeyRange.only(s.batchId);let f=0;const u=r.ee({range:c},((g,b,v)=>(f++,v.delete())));l.push(u.next((()=>{Ve(f===1,47070,{batchId:s.batchId})})));const m=[];for(const g of s.mutations){const b=UC(e,g.key.path,s.batchId);l.push(i.delete(b)),m.push(g.key)}return Z.waitFor(l).next((()=>m))}function Gg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Re(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(QA,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class Px{constructor(e,s,r,i){this.userId=e,this.serializer=s,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,s,r,i){Ve(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new Px(l,s,r,i)}checkEmpty(e){let s=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return No(e).ee({index:Ul,range:r},((i,l,c)=>{s=!1,c.done()})).next((()=>s))}addMutationBatch(e,s,r,i){const l=Cd(e),c=No(e);return c.add({}).next((f=>{Ve(typeof f=="number",49019);const u=new lj(f,s,r,i),m=(function(T,N,E){const k=E.baseMutations.map((P=>Uf(T.yt,P))),D=E.mutations.map((P=>Uf(T.yt,P)));return{userId:N,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:k,mutations:D}})(this.serializer,this.userId,u),g=[];let b=new Ct(((v,T)=>Ye(v.canonicalString(),T.canonicalString())));for(const v of i){const T=UC(this.userId,v.key.path,f);b=b.add(v.key.path.popLast()),g.push(c.put(m)),g.push(l.put(T,E7))}return b.forEach((v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Zn[f]=u.keys()})),Z.waitFor(g).next((()=>u))}))}lookupMutationBatch(e,s){return No(e).get(s).next((r=>r?(Ve(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:s}),Dl(this.serializer,r)):null))}Xn(e,s){return this.Zn[s]?Z.resolve(this.Zn[s]):this.lookupMutationBatch(e,s).next((r=>{if(r){const i=r.keys();return this.Zn[s]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return No(e).ee({index:Ul,range:i},((c,f,u)=>{f.userId===this.userId&&(Ve(f.batchId>=r,47524,{Yn:r}),l=Dl(this.serializer,f)),u.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Oo;return No(e).ee({index:Ul,range:s,reverse:!0},((i,l,c)=>{r=l.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const s=IDBKeyRange.bound([this.userId,Oo],[this.userId,Number.POSITIVE_INFINITY]);return No(e).H(Ul,s).next((r=>r.map((i=>Dl(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,s){const r=mg(this.userId,s.path),i=IDBKeyRange.lowerBound(r),l=[];return Cd(e).ee({range:i},((c,f,u)=>{const[m,g,b]=c,v=Va(g);if(m===this.userId&&s.path.isEqual(v))return No(e).get(b).next((T=>{if(!T)throw Re(61480,{er:c,batchId:b});Ve(T.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:T.userId,batchId:b}),l.push(Dl(this.serializer,T))}));u.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new Ct(Ye);const i=[];return s.forEach((l=>{const c=mg(this.userId,l.path),f=IDBKeyRange.lowerBound(c),u=Cd(e).ee({range:f},((m,g,b)=>{const[v,T,N]=m,E=Va(T);v===this.userId&&l.path.isEqual(E)?r=r.add(N):b.done()}));i.push(u)})),Z.waitFor(i).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,i=r.length+1,l=mg(this.userId,r),c=IDBKeyRange.lowerBound(l);let f=new Ct(Ye);return Cd(e).ee({range:c},((u,m,g)=>{const[b,v,T]=u,N=Va(v);b===this.userId&&r.isPrefixOf(N)?N.length===i&&(f=f.add(T)):g.done()})).next((()=>this.tr(e,f)))}tr(e,s){const r=[],i=[];return s.forEach((l=>{i.push(No(e).get(l).next((c=>{if(c===null)throw Re(35274,{batchId:l});Ve(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),r.push(Dl(this.serializer,c))})))})),Z.waitFor(i).next((()=>r))}removeMutationBatch(e,s){return XA(e.le,this.userId,s).next((r=>(e.addOnCommittedListener((()=>{this.nr(s.batchId)})),Z.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((s=>{if(!s)return Z.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),i=[];return Cd(e).ee({range:r},((l,c,f)=>{if(l[0]===this.userId){const u=Va(l[1]);i.push(u)}else f.done()})).next((()=>{Ve(i.length===0,56720,{rr:i.map((l=>l.canonicalString()))})}))}))}containsKey(e,s){return JA(e,this.userId,s)}ir(e){return ZA(e).get(this.userId).next((s=>s||{userId:this.userId,lastAcknowledgedBatchId:Oo,lastStreamToken:""}))}}function JA(n,e,s){const r=mg(e,s.path),i=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return Cd(n).ee({range:l,Y:!0},((f,u,m)=>{const[g,b,v]=f;g===e&&b===i&&(c=!0),m.done()})).next((()=>c))}function No(n){return Fs(n,na)}function Cd(n){return Fs(n,Jd)}function ZA(n){return Fs(n,Rf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new fc(0)}static ar(){return new fc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e,s){this.referenceDelegate=e,this.serializer=s}allocateTargetId(e){return this.ur(e).next((s=>{const r=new fc(s.highestTargetId);return s.highestTargetId=r.next(),this.cr(e,s).next((()=>s.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((s=>$e.fromTimestamp(new _t(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((s=>s.highestListenSequenceNumber))}setTargetsMetadata(e,s,r){return this.ur(e).next((i=>(i.highestListenSequenceNumber=s,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),s>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=s),this.cr(e,i))))}addTargetData(e,s){return this.lr(e,s).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(s,r),this.cr(e,r))))))}updateTargetData(e,s){return this.lr(e,s)}removeTargetData(e,s){return this.removeMatchingKeysForTargetId(e,s.targetId).next((()=>_d(e).delete(s.targetId))).next((()=>this.ur(e))).next((r=>(Ve(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,s,r){let i=0;const l=[];return _d(e).ee(((c,f)=>{const u=tf(f);u.sequenceNumber<=s&&r.get(u.targetId)===null&&(i++,l.push(this.removeTargetData(e,u)))})).next((()=>Z.waitFor(l))).next((()=>i))}forEachTarget(e,s){return _d(e).ee(((r,i)=>{const l=tf(i);s(l)}))}ur(e){return YT(e).get(Ug).next((s=>(Ve(s!==null,2888),s)))}cr(e,s){return YT(e).put(Ug,s)}lr(e,s){return _d(e).put(KA(this.serializer,s))}hr(e,s){let r=!1;return e.targetId>s.highestTargetId&&(s.highestTargetId=e.targetId,r=!0),e.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((s=>s.targetCount))}getTargetData(e,s){const r=lc(s),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return _d(e).ee({range:i,index:BC},((c,f,u)=>{const m=tf(f);lm(s,m.target)&&(l=m,u.done())})).next((()=>l))}addMatchingKeys(e,s,r){const i=[],l=To(e);return s.forEach((c=>{const f=vn(c.path);i.push(l.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))})),Z.waitFor(i)}removeMatchingKeys(e,s,r){const i=To(e);return Z.forEach(s,(l=>{const c=vn(l.path);return Z.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])}))}removeMatchingKeysForTargetId(e,s){const r=To(e),i=IDBKeyRange.bound([s],[s+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,s){const r=IDBKeyRange.bound([s],[s+1],!1,!0),i=To(e);let l=tt();return i.ee({range:r,Y:!0},((c,f,u)=>{const m=Va(c[1]),g=new Ee(m);l=l.add(g)})).next((()=>l))}containsKey(e,s){const r=vn(s.path),i=IDBKeyRange.bound([r],[AC(r)],!1,!0);let l=0;return To(e).ee({index:Xw,Y:!0,range:i},(([c,f],u,m)=>{c!==0&&(l++,m.done())})).next((()=>l>0))}At(e,s){return _d(e).get(s).next((r=>r?tf(r):null))}}function _d(n){return Fs(n,Zd)}function YT(n){return Fs(n,Yl)}function To(n){return Fs(n,eu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="LruGarbageCollector",tq=1048576;function XT([n,e],[s,r]){const i=Ye(n,s);return i===0?Ye(e,r):i}class sq{constructor(e){this.Pr=e,this.buffer=new Ct(XT),this.Tr=0}Ir(){return++this.Tr}Er(e){const s=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();XT(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class eI{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){_e(QT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){el(s)?_e(QT,"Ignoring IndexedDB error during garbage collection: ",s):await Zo(s)}await this.Ar(3e5)}))}}class nq{constructor(e,s){this.Vr=e,this.params=s}calculateTargetCount(e,s){return this.Vr.dr(e).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(e,s){if(s===0)return Z.resolve(Fn.ce);const r=new sq(s);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,s,r){return this.Vr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.Vr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(WT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WT):this.gr(e,s)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,s){let r,i,l,c,f,u,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,c=Date.now(),this.nthSequenceNumber(e,i)))).next((b=>(r=b,f=Date.now(),this.removeTargets(e,r,s)))).next((b=>(l=b,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(m=Date.now(),Sd()<=ut.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${i} in `+(f-c)+`ms
	Removed ${l} targets in `+(u-f)+`ms
	Removed ${b} documents in `+(m-u)+`ms
Total Duration: ${m-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:b}))))}}function tI(n,e){return new nq(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,s){this.db=e,this.garbageCollector=tI(this,s)}dr(e){const s=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>s.next((i=>r+i))))}pr(e){let s=0;return this.mr(e,(r=>{s++})).next((()=>s))}forEachTarget(e,s){return this.db.getTargetCache().forEachTarget(e,s)}mr(e,s){return this.yr(e,((r,i)=>s(i)))}addReference(e,s,r){return eg(e,r)}removeReference(e,s,r){return eg(e,r)}removeTargets(e,s,r){return this.db.getTargetCache().removeTargets(e,s,r)}markPotentiallyOrphaned(e,s){return eg(e,s)}wr(e,s){return(function(i,l){let c=!1;return ZA(i).te((f=>JA(i,f,l).next((u=>(u&&(c=!0),Z.resolve(!u)))))).next((()=>c))})(e,s)}removeOrphanedDocuments(e,s){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.yr(e,((c,f)=>{if(f<=s){const u=this.wr(e,c).next((m=>{if(!m)return l++,r.getEntry(e,c).next((()=>(r.removeEntry(c,$e.min()),To(e).delete((function(b){return[0,vn(b.path)]})(c)))))}));i.push(u)}})).next((()=>Z.waitFor(i))).next((()=>r.apply(e))).next((()=>l))}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,s){return eg(e,s)}yr(e,s){const r=To(e);let i,l=Fn.ce;return r.ee({index:Xw},(([c,f],{path:u,sequenceNumber:m})=>{c===0?(l!==Fn.ce&&s(new Ee(Va(i)),l),l=m,i=u):l=Fn.ce})).next((()=>{l!==Fn.ce&&s(new Ee(Va(i)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function eg(n,e){return To(n).put((function(r,i){return{targetId:0,path:vn(r.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.changes=new Oi((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?Z.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,s,r){return Cl(e).put(r)}removeEntry(e,s,r){return Cl(e).delete((function(l,c){const f=l.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],qg(c),f[f.length-1]]})(s,r))}updateMetadata(e,s){return this.getMetadata(e).next((r=>(r.byteSize+=s,this.br(e,r))))}getEntry(e,s){let r=Wt.newInvalidDocument(s);return Cl(e).ee({index:pg,range:IDBKeyRange.only(Hh(s))},((i,l)=>{r=this.Sr(s,l)})).next((()=>r))}Dr(e,s){let r={size:0,document:Wt.newInvalidDocument(s)};return Cl(e).ee({index:pg,range:IDBKeyRange.only(Hh(s))},((i,l)=>{r={document:this.Sr(s,l),size:Gg(l)}})).next((()=>r))}getEntries(e,s){let r=$n();return this.Cr(e,s,((i,l)=>{const c=this.Sr(i,l);r=r.insert(i,c)})).next((()=>r))}vr(e,s){let r=$n(),i=new qt(Ee.comparator);return this.Cr(e,s,((l,c)=>{const f=this.Sr(l,c);r=r.insert(l,f),i=i.insert(l,Gg(c))})).next((()=>({documents:r,Fr:i})))}Cr(e,s,r){if(s.isEmpty())return Z.resolve();let i=new Ct(ek);s.forEach((u=>i=i.add(u)));const l=IDBKeyRange.bound(Hh(i.first()),Hh(i.last())),c=i.getIterator();let f=c.getNext();return Cl(e).ee({index:pg,range:l},((u,m,g)=>{const b=Ee.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;f&&ek(f,b)<0;)r(f,null),f=c.getNext();f&&f.isEqual(b)&&(r(f,m),f=c.hasNext()?c.getNext():null),f?g.j(Hh(f)):g.done()})).next((()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,s,r,i,l){const c=s.path,f=[c.popLast().toArray(),c.lastSegment(),qg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cl(e).H(IDBKeyRange.bound(f,u,!0)).next((m=>{l==null||l.incrementDocumentReadCount(m.length);let g=$n();for(const b of m){const v=this.Sr(Ee.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);v.isFoundDocument()&&(dm(s,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g}))}getAllFromCollectionGroup(e,s,r,i){let l=$n();const c=ZT(s,r),f=ZT(s,pr.max());return Cl(e).ee({index:FC,range:IDBKeyRange.bound(c,f,!0)},((u,m,g)=>{const b=this.Sr(Ee.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);l=l.insert(b.key,b),l.size===i&&g.done()})).next((()=>l))}newChangeBuffer(e){return new iq(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((s=>s.byteSize))}getMetadata(e){return JT(e).get(yv).next((s=>(Ve(!!s,20021),s)))}br(e,s){return JT(e).put(yv,s)}Sr(e,s){if(s){const r=q$(this.serializer,s);if(!(r.isNoDocument()&&r.version.isEqual($e.min())))return r}return Wt.newInvalidDocument(e)}}function nI(n){return new aq(n)}class iq extends sI{constructor(e,s){super(),this.Mr=e,this.trackRemovals=s,this.Or=new Oi((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const s=[];let r=0,i=new Ct(((l,c)=>Ye(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const f=this.Or.get(l);if(s.push(this.Mr.removeEntry(e,l,f.readTime)),c.isValidDocument()){const u=OT(this.Mr.serializer,c);i=i.add(l.path.popLast());const m=Gg(u);r+=m-f.size,s.push(this.Mr.addEntry(e,l,u))}else if(r-=f.size,this.trackRemovals){const u=OT(this.Mr.serializer,c.convertToNoDocument($e.min()));s.push(this.Mr.addEntry(e,l,u))}})),i.forEach((l=>{s.push(this.Mr.indexManager.addToCollectionParentIndex(e,l))})),s.push(this.Mr.updateMetadata(e,r)),Z.waitFor(s)}getFromCache(e,s){return this.Mr.Dr(e,s).next((r=>(this.Or.set(s,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,s){return this.Mr.vr(e,s).next((({documents:r,Fr:i})=>(i.forEach(((l,c)=>{this.Or.set(l,{size:c,readTime:r.get(l).readTime})})),r)))}}function JT(n){return Fs(n,Pf)}function Cl(n){return Fs(n,Vg)}function Hh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ZT(n,e){const s=e.documentKey.path.toArray();return[n,qg(e.readTime),s.slice(0,s.length-2),s.length>0?s[s.length-1]:""]}function ek(n,e){const s=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<s.length-2&&l<r.length-2;++l)if(i=Ye(s[l],r[l]),i)return i;return i=Ye(s.length,r.length),i||(i=Ye(s[s.length-2],r[r.length-2]),i||Ye(s[s.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,s,r,i){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,s)))).next((i=>(r!==null&&xf(r.mutation,i,Bn.empty(),_t.now()),i)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,tt()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=tt()){const i=Ua();return this.populateOverlays(e,i,s).next((()=>this.computeViews(e,s,i,r).next((l=>{let c=Zh();return l.forEach(((f,u)=>{c=c.insert(f,u.overlayedDocument)})),c}))))}getOverlayedDocuments(e,s){const r=Ua();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,tt())))}populateOverlays(e,s,r){const i=[];return r.forEach((l=>{s.has(l)||i.push(l)})),this.documentOverlayCache.getOverlays(e,i).next((l=>{l.forEach(((c,f)=>{s.set(c,f)}))}))}computeViews(e,s,r,i){let l=$n();const c=gf(),f=(function(){return gf()})();return s.forEach(((u,m)=>{const g=r.get(m.key);i.has(m.key)&&(g===void 0||g.mutation instanceof Mi)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),xf(g.mutation,m,g.mutation.getFieldMask(),_t.now())):c.set(m.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,l).next((u=>(u.forEach(((m,g)=>c.set(m,g))),s.forEach(((m,g)=>f.set(m,new oq(g,c.get(m)??null)))),f)))}recalculateAndSaveOverlays(e,s){const r=gf();let i=new qt(((c,f)=>c-f)),l=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((c=>{for(const f of c)f.keys().forEach((u=>{const m=s.get(u);if(m===null)return;let g=r.get(u)||Bn.empty();g=f.applyToLocalView(m,g),r.set(u,g);const b=(i.get(f.batchId)||tt()).add(u);i=i.insert(f.batchId,b)}))})).next((()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const u=f.getNext(),m=u.key,g=u.value,b=bA();g.forEach((v=>{if(!l.has(v)){const T=TA(s.get(v),r.get(v));T!==null&&b.set(v,T),l=l.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return Z.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,i){return h$(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):rj(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,i):this.getDocumentsMatchingCollectionQuery(e,s,r,i)}getNextDocuments(e,s,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,i).next((l=>{const c=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,i-l.size):Z.resolve(Ua());let f=Xd,u=l;return c.next((m=>Z.forEach(m,((g,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next((v=>{u=u.insert(g,v)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,u,m,tt()))).next((g=>({batchId:f,changes:yA(g)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new Ee(s)).next((r=>{let i=Zh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,i){const l=s.collectionGroup;let c=Zh();return this.indexManager.getCollectionParents(e,l).next((f=>Z.forEach(f,(u=>{const m=(function(b,v){return new Di(v,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(s,u.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((g=>{g.forEach(((b,v)=>{c=c.insert(b,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,s,r,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,l,i)))).next((c=>{l.forEach(((u,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,Wt.newInvalidDocument(g)))}));let f=Zh();return c.forEach(((u,m)=>{const g=l.get(u);g!==void 0&&xf(g.mutation,m,Bn.empty(),_t.now()),dm(s,m)&&(f=f.insert(u,m))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,s){return Z.resolve(this.Nr.get(s))}saveBundleMetadata(e,s){return this.Nr.set(s.id,(function(i){return{id:i.id,version:i.version,createTime:Ns(i.createTime)}})(s)),Z.resolve()}getNamedQuery(e,s){return Z.resolve(this.Br.get(s))}saveNamedQuery(e,s){return this.Br.set(s.name,(function(i){return{name:i.name,query:fj(i.bundledQuery),readTime:Ns(i.readTime)}})(s)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(){this.overlays=new qt(Ee.comparator),this.Lr=new Map}getOverlay(e,s){return Z.resolve(this.overlays.get(s))}getOverlays(e,s){const r=Ua();return Z.forEach(s,(i=>this.getOverlay(e,i).next((l=>{l!==null&&r.set(i,l)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((i,l)=>{this.bt(e,s,l)})),Z.resolve()}removeOverlaysForBatchId(e,s,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(e,s,r){const i=Ua(),l=s.length+1,c=new Ee(s.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const u=f.getNext().value,m=u.getKey();if(!s.isPrefixOf(m.path))break;m.path.length===l&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,s,r,i){let l=new qt(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===s&&m.largestBatchId>r){let g=l.get(m.largestBatchId);g===null&&(g=Ua(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const f=Ua(),u=l.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((m,g)=>f.set(m,g))),!(f.size()>=i)););return Z.resolve(f)}bt(e,s,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new dj(s,r));let l=this.Lr.get(s);l===void 0&&(l=tt(),this.Lr.set(s,l)),this.Lr.set(s,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(){this.sessionToken=gs.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.kr=new Ct(Hs.Kr),this.qr=new Ct(Hs.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,s){const r=new Hs(e,s);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Wr(new Hs(e,s))}Qr(e,s){e.forEach((r=>this.removeReference(r,s)))}Gr(e){const s=new Ee(new ht([])),r=new Hs(s,e),i=new Hs(s,e+1),l=[];return this.qr.forEachInRange([r,i],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const s=new Ee(new ht([])),r=new Hs(s,e),i=new Hs(s,e+1);let l=tt();return this.qr.forEachInRange([r,i],(c=>{l=l.add(c.key)})),l}containsKey(e){const s=new Hs(e,0),r=this.kr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class Hs{constructor(e,s){this.key=e,this.Hr=s}static Kr(e,s){return Ee.comparator(e.key,s.key)||Ye(e.Hr,s.Hr)}static Ur(e,s){return Ye(e.Hr,s.Hr)||Ee.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.Yn=1,this.Jr=new Ct(Hs.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,i){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new lj(l,s,r,i);this.mutationQueue.push(c);for(const f of i)this.Jr=this.Jr.add(new Hs(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(e,s){return Z.resolve(this.Zr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,i=this.Xr(r),l=i<0?0:i;return Z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Oo:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new Hs(s,0),i=new Hs(s,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,i],(c=>{const f=this.Zr(c.Hr);l.push(f)})),Z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new Ct(Ye);return s.forEach((i=>{const l=new Hs(i,0),c=new Hs(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(f=>{r=r.add(f.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,i=r.length+1;let l=r;Ee.isDocumentKey(l)||(l=l.child(""));const c=new Hs(new Ee(l),0);let f=new Ct(Ye);return this.Jr.forEachWhile((u=>{const m=u.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(f=f.add(u.Hr)),!0)}),c),Z.resolve(this.Yr(f))}Yr(e){const s=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&s.push(i)})),s}removeMutationBatch(e,s){Ve(this.ei(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(s.mutations,(i=>{const l=new Hs(i.key,s.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,s){const r=new Hs(s,0),i=this.Jr.firstAfterOrEqual(r);return Z.resolve(s.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,s){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const s=this.Xr(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e){this.ti=e,this.docs=(function(){return new qt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,i=this.docs.get(r),l=i?i.size:0,c=this.ti(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return Z.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(s))}getEntries(e,s){let r=$n();return s.forEach((i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Wt.newInvalidDocument(i))})),Z.resolve(r)}getDocumentsMatchingQuery(e,s,r,i){let l=$n();const c=s.path,f=new Ee(c.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(f);for(;u.hasNext();){const{key:m,value:{document:g}}=u.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||Yw(OC(g),r)<=0||(i.has(g.key)||dm(s,g))&&(l=l.insert(g.key,g.mutableCopy()))}return Z.resolve(l)}getAllFromCollectionGroup(e,s,r,i){Re(9500)}ni(e,s){return Z.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new fq(this)}getSize(e){return Z.resolve(this.size)}}class fq extends sI{constructor(e){super(),this.Mr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?s.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),Z.waitFor(s)}getFromCache(e,s){return this.Mr.getEntry(e,s)}getAllFromCache(e,s){return this.Mr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e){this.persistence=e,this.ri=new Oi((s=>lc(s)),lm),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.ii=0,this.si=new gj,this.targetCount=0,this.oi=fc._r()}forEachTarget(e,s){return this.ri.forEach(((r,i)=>s(i))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.ii&&(this.ii=s),Z.resolve()}lr(e){this.ri.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.oi=new fc(s),this.highestTargetId=s),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,s){return this.lr(s),this.targetCount+=1,Z.resolve()}updateTargetData(e,s){return this.lr(s),Z.resolve()}removeTargetData(e,s){return this.ri.delete(s.target),this.si.Gr(s.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,s,r){let i=0;const l=[];return this.ri.forEach(((c,f)=>{f.sequenceNumber<=s&&r.get(f.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)})),Z.waitFor(l).next((()=>i))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,s){const r=this.ri.get(s)||null;return Z.resolve(r)}addMatchingKeys(e,s,r){return this.si.$r(s,r),Z.resolve()}removeMatchingKeys(e,s,r){this.si.Qr(s,r);const i=this.persistence.referenceDelegate,l=[];return i&&s.forEach((c=>{l.push(i.markPotentiallyOrphaned(e,c))})),Z.waitFor(l)}removeMatchingKeysForTargetId(e,s){return this.si.Gr(s),Z.resolve()}getMatchingKeysForTargetId(e,s){const r=this.si.jr(s);return Z.resolve(r)}containsKey(e,s){return Z.resolve(this.si.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,s){this._i={},this.overlays={},this.ai=new Fn(0),this.ui=!1,this.ui=!0,this.ci=new dq,this.referenceDelegate=e(this),this.li=new mq(this),this.indexManager=new J$,this.remoteDocumentCache=(function(i){return new hq(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new GA(s),this.Pi=new lq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new cq,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this._i[e.toKey()];return r||(r=new uq(s,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,s,r){_e("MemoryPersistence","Starting transaction:",e);const i=new pq(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((l=>this.referenceDelegate.Ii(i).next((()=>l)))).toPromise().then((l=>(i.raiseOnCommittedEvent(),l)))}Ei(e,s){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(e,s))))}}class pq extends LC{constructor(e){super(),this.currentSequenceNumber=e}}class Dx{constructor(e){this.persistence=e,this.Ri=new gj,this.Ai=null}static Vi(e){return new Dx(e)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.di.delete(r.toString()),Z.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,s){return this.di.add(s.toString()),Z.resolve()}removeTarget(e,s){this.Ri.Gr(s.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((i=>{i.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,s)))}Ti(){this.Ai=new Set}Ii(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const i=Ee.fromPath(r);return this.mi(e,i).next((l=>{l||s.removeEntry(i,$e.min())}))})).next((()=>(this.Ai=null,s.apply(e))))}updateLimboDocument(e,s){return this.mi(e,s).next((r=>{r?this.di.delete(s.toString()):this.di.add(s.toString())}))}hi(e){return 0}mi(e,s){return Z.or([()=>Z.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ei(e,s)])}}class Kg{constructor(e,s){this.persistence=e,this.fi=new Oi((r=>vn(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=tI(this,s)}static Vi(e,s){return new Kg(e,s)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}dr(e){const s=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>s.next((i=>r+i))))}pr(e){let s=0;return this.mr(e,(r=>{s++})).next((()=>s))}mr(e,s){return Z.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((l=>l?Z.resolve():s(i)))))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const i=this.persistence.getRemoteDocumentCache(),l=i.newChangeBuffer();return i.ni(e,(c=>this.wr(e,c,s).next((f=>{f||(r++,l.removeEntry(c,$e.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,s){return this.fi.set(s,e.currentSequenceNumber),Z.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,s,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,s){return this.fi.set(s,e.currentSequenceNumber),Z.resolve()}hi(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=xg(e.data.value)),s}wr(e,s,r){return Z.or([()=>this.persistence.Ei(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const i=this.fi.get(s);return Z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e){this.serializer=e}k(e,s,r,i){const l=new Nx("createOrUpgrade",s);r<1&&i>=1&&((function(u){u.createObjectStore(om)})(e),(function(u){u.createObjectStore(Rf,{keyPath:k7}),u.createObjectStore(na,{keyPath:uT,autoIncrement:!0}).createIndex(Ul,hT,{unique:!0}),u.createObjectStore(Jd)})(e),tk(e),(function(u){u.createObjectStore(Rl)})(e));let c=Z.resolve();return r<3&&i>=3&&(r!==0&&((function(u){u.deleteObjectStore(eu),u.deleteObjectStore(Zd),u.deleteObjectStore(Yl)})(e),tk(e)),c=c.next((()=>(function(u){const m=u.store(Yl),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$e.min().toTimestamp(),targetCount:0};return m.put(Ug,g)})(l)))),r<4&&i>=4&&(r!==0&&(c=c.next((()=>(function(u,m){return m.store(na).H().next((b=>{u.deleteObjectStore(na),u.createObjectStore(na,{keyPath:uT,autoIncrement:!0}).createIndex(Ul,hT,{unique:!0});const v=m.store(na),T=b.map((N=>v.put(N)));return Z.waitFor(T)}))})(e,l)))),c=c.next((()=>{(function(u){u.createObjectStore(tu,{keyPath:M7})})(e)}))),r<5&&i>=5&&(c=c.next((()=>this.gi(l)))),r<6&&i>=6&&(c=c.next((()=>((function(u){u.createObjectStore(Pf)})(e),this.pi(l))))),r<7&&i>=7&&(c=c.next((()=>this.yi(l)))),r<8&&i>=8&&(c=c.next((()=>this.wi(e,l)))),r<9&&i>=9&&(c=c.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(c=c.next((()=>this.bi(l)))),r<11&&i>=11&&(c=c.next((()=>{(function(u){u.createObjectStore(_x,{keyPath:L7})})(e),(function(u){u.createObjectStore(Sx,{keyPath:z7})})(e)}))),r<12&&i>=12&&(c=c.next((()=>{(function(u){const m=u.createObjectStore(Tx,{keyPath:H7});m.createIndex(vv,G7,{unique:!1}),m.createIndex(HC,K7,{unique:!1})})(e)}))),r<13&&i>=13&&(c=c.next((()=>(function(u){const m=u.createObjectStore(Vg,{keyPath:C7});m.createIndex(pg,A7),m.createIndex(FC,I7)})(e))).next((()=>this.Si(e,l))).next((()=>e.deleteObjectStore(Rl)))),r<14&&i>=14&&(c=c.next((()=>this.Di(e,l)))),r<15&&i>=15&&(c=c.next((()=>(function(u){u.createObjectStore(Jw,{keyPath:V7,autoIncrement:!0}).createIndex(bv,U7,{unique:!1}),u.createObjectStore(ff,{keyPath:F7}).createIndex($C,B7,{unique:!1}),u.createObjectStore(mf,{keyPath:$7}).createIndex(qC,q7,{unique:!1})})(e)))),r<16&&i>=16&&(c=c.next((()=>{s.objectStore(ff).clear()})).next((()=>{s.objectStore(mf).clear()}))),r<17&&i>=17&&(c=c.next((()=>{(function(u){u.createObjectStore(Zw,{keyPath:W7})})(e)}))),r<18&&i>=18&&lE()&&(c=c.next((()=>{s.objectStore(ff).clear()})).next((()=>{s.objectStore(mf).clear()}))),c}pi(e){let s=0;return e.store(Rl).ee(((r,i)=>{s+=Gg(i)})).next((()=>{const r={byteSize:s};return e.store(Pf).put(yv,r)}))}gi(e){const s=e.store(Rf),r=e.store(na);return s.H().next((i=>Z.forEach(i,(l=>{const c=IDBKeyRange.bound([l.userId,Oo],[l.userId,l.lastAcknowledgedBatchId]);return r.H(Ul,c).next((f=>Z.forEach(f,(u=>{Ve(u.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:u.batchId});const m=Dl(this.serializer,u);return XA(e,l.userId,m).next((()=>{}))}))))}))))}yi(e){const s=e.store(eu),r=e.store(Rl);return e.store(Yl).get(Ug).next((i=>{const l=[];return r.ee(((c,f)=>{const u=new ht(c),m=(function(b){return[0,vn(b)]})(u);l.push(s.get(m).next((g=>g?Z.resolve():(b=>s.put({targetId:0,path:vn(b),sequenceNumber:i.highestListenSequenceNumber}))(u))))})).next((()=>Z.waitFor(l)))}))}wi(e,s){e.createObjectStore(Df,{keyPath:O7});const r=s.store(Df),i=new pj,l=c=>{if(i.add(c)){const f=c.lastSegment(),u=c.popLast();return r.put({collectionId:f,parent:vn(u)})}};return s.store(Rl).ee({Y:!0},((c,f)=>{const u=new ht(c);return l(u.popLast())})).next((()=>s.store(Jd).ee({Y:!0},(([c,f,u],m)=>{const g=Va(f);return l(g.popLast())}))))}bi(e){const s=e.store(Zd);return s.ee(((r,i)=>{const l=tf(i),c=KA(this.serializer,l);return s.put(c)}))}Si(e,s){const r=s.store(Rl),i=[];return r.ee(((l,c)=>{const f=s.store(Vg),u=(function(b){return b.document?new Ee(ht.fromString(b.document.name).popFirst(5)):b.noDocument?Ee.fromSegments(b.noDocument.path):b.unknownDocument?Ee.fromSegments(b.unknownDocument.path):Re(36783)})(c).path.toArray(),m={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(m))})).next((()=>Z.waitFor(i)))}Di(e,s){const r=s.store(na),i=nI(this.serializer),l=new xj(Dx.Vi,this.serializer.yt);return r.H().next((c=>{const f=new Map;return c.forEach((u=>{let m=f.get(u.userId)??tt();Dl(this.serializer,u).keys().forEach((g=>m=m.add(g))),f.set(u.userId,m)})),Z.forEach(f,((u,m)=>{const g=new Gs(m),b=Rx.wt(this.serializer,g),v=l.getIndexManager(g),T=Px.wt(g,this.serializer,v,l.referenceDelegate);return new rI(i,T,b,v).recalculateAndSaveOverlaysForDocumentKeys(new wv(s,Fn.ce),u).next()}))}))}}function tk(n){n.createObjectStore(eu,{keyPath:P7}).createIndex(Xw,D7,{unique:!0}),n.createObjectStore(Zd,{keyPath:"targetId"}).createIndex(BC,R7,{unique:!0}),n.createObjectStore(Yl)}const _o="IndexedDbPersistence",kb=18e5,Eb=5e3,Cb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",aI="main";class yj{constructor(e,s,r,i,l,c,f,u,m,g,b=18){if(this.allowTabSynchronization=e,this.persistenceKey=s,this.clientId=r,this.Ci=l,this.window=c,this.document=f,this.Fi=m,this.Mi=g,this.xi=b,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=v=>Promise.resolve(),!yj.v())throw new we(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rq(this,i),this.Ki=s+aI,this.serializer=new GA(u),this.qi=new Ba(this.Ki,this.xi,new gq(this.serializer)),this.ci=new G$,this.li=new eq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nI(this.serializer),this.Pi=new H$,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,g===!1&&js(_o,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new we(ie.FAILED_PRECONDITION,Cb);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new Fn(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async s=>{if(this.started)return e(s)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async s=>{s.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>tg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((s=>{s||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((s=>this.isPrimary&&!s?this.Ji(e).next((()=>!1)):!!s&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(el(e))return _e(_o,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return _e(_o,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Gh(e).get(bd).next((s=>Z.resolve(this.Xi(s))))}Yi(e){return tg(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,kb)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(s=>{const r=Fs(s,tu);return r.H().next((i=>{const l=this.ns(i,kb),c=i.filter((f=>l.indexOf(f)===-1));return Z.forEach(c,(f=>r.delete(f.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const s of e)this.Ui.removeItem(this.rs(s.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?Z.resolve(!0):Gh(e).get(bd).next((s=>{if(s!==null&&this.ts(s.leaseTimestampMs,Eb)&&!this.ss(s.ownerId)){if(this.Xi(s)&&this.networkEnabled)return!0;if(!this.Xi(s)){if(!s.allowTabSynchronization)throw new we(ie.FAILED_PRECONDITION,Cb);return!1}}return!(!this.networkEnabled||!this.inForeground)||tg(e).H().next((r=>this.ns(r,Eb).find((i=>{if(this.clientId!==i.clientId){const l=!this.networkEnabled&&i.networkEnabled,c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(l||c&&f)return!0}return!1}))===void 0))})).next((s=>(this.isPrimary!==s&&_e(_o,`Client ${s?"is":"is not"} eligible for a primary lease.`),s)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[om,tu],(e=>{const s=new wv(e,Fn.ce);return this.Ji(s).next((()=>this.Yi(s)))})),this.qi.close(),this.ls()}ns(e,s){return e.filter((r=>this.ts(r.updateTimeMs,s)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>tg(e).H().next((s=>this.ns(s,kb).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,s){return Px.wt(e,this.serializer,s,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Z$(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Rx.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,s,r){_e(_o,"Starting transaction:",e);const i=s==="readonly"?"readonly":"readwrite",l=(function(u){return u===18?X7:u===17?YC:u===16?Q7:u===15?ej:u===14?WC:u===13?KC:u===12?Y7:u===11?GC:void Re(60245)})(this.xi);let c;return this.qi.runTransaction(e,i,l,(f=>(c=new wv(f,this.ai?this.ai.next():Fn.ce),s==="readwrite-primary"?this.ji(c).next((u=>!!u||this.Hi(c))).next((u=>{if(!u)throw js(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new we(ie.FAILED_PRECONDITION,MC);return r(c)})).next((u=>this.Zi(c).next((()=>u)))):this.Ps(c).next((()=>r(c)))))).then((f=>(c.raiseOnCommittedEvent(),f)))}Ps(e){return Gh(e).get(bd).next((s=>{if(s!==null&&this.ts(s.leaseTimestampMs,Eb)&&!this.ss(s.ownerId)&&!this.Xi(s)&&!(this.Mi||this.allowTabSynchronization&&s.allowTabSynchronization))throw new we(ie.FAILED_PRECONDITION,Cb)}))}Zi(e){const s={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gh(e).put(bd,s)}static v(){return Ba.v()}Ji(e){const s=Gh(e);return s.get(bd).next((r=>this.Xi(r)?(_e(_o,"Releasing primary lease."),s.delete(bd)):Z.resolve()))}ts(e,s){const r=Date.now();return!(e<r-s)&&(!(e>r)||(js(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Oi=()=>{this._s();const s=/(?:Version|Mobile)\/1[456]/;oE()&&(navigator.appVersion.match(s)||navigator.userAgent.match(s))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){var s;try{const r=((s=this.Ui)==null?void 0:s.getItem(this.rs(e)))!==null;return _e(_o,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return js(_o,"Failed to get zombied client id.",r),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){js("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Gh(n){return Fs(n,om)}function tg(n){return Fs(n,tu)}function bj(n,e){let s=n.projectId;return n.isDefaultDatabase||(s+="."+n.database),"firestore/"+e+"/"+s+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,s,r,i){this.targetId=e,this.fromCache=s,this.Ts=r,this.Is=i}static Es(e,s){let r=tt(),i=tt();for(const l of s.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new vj(e,s.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return oE()?8:zC(is())>0?6:4})()}initialize(e,s){this.fs=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,i){const l={result:null};return this.gs(e,s).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,s,i,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new xq;return this.ys(e,s,c).next((f=>{if(l.result=f,this.As)return this.ws(e,s,c,f.size)}))})).next((()=>l.result))}ws(e,s,r,i){return r.documentReadCount<this.Vs?(Sd()<=ut.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Td(s),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Sd()<=ut.DEBUG&&_e("QueryEngine","Query:",Td(s),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Sd()<=ut.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Td(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cn(s))):Z.resolve())}gs(e,s){if(ST(s))return Z.resolve(null);let r=Cn(s);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(s.limit!==null&&i===1&&(s=$g(s,null,"F"),r=Cn(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=tt(...l);return this.fs.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,r).next((u=>{const m=this.bs(s,f);return this.Ss(s,m,c,u.readTime)?this.gs(e,$g(s,null,"F")):this.Ds(e,m,s,u)}))))})))))}ps(e,s,r,i){return ST(s)||i.isEqual($e.min())?Z.resolve(null):this.fs.getDocuments(e,r).next((l=>{const c=this.bs(s,l);return this.Ss(s,c,r,i)?Z.resolve(null):(Sd()<=ut.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Td(s)),this.Ds(e,c,s,DC(i,Xd)).next((f=>f)))}))}bs(e,s){let r=new Ct(gA(e));return s.forEach(((i,l)=>{dm(e,l)&&(r=r.add(l))})),r}Ss(e,s,r,i){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const l=e.limitType==="F"?s.last():s.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ys(e,s,r){return Sd()<=ut.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Td(s)),this.fs.getDocumentsMatchingQuery(e,s,pr.min(),r)}Ds(e,s,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((l=>(s.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="LocalStore",yq=3e8;class bq{constructor(e,s,r,i){this.persistence=e,this.Cs=s,this.serializer=i,this.vs=new qt(Ye),this.Fs=new Oi((l=>lc(l)),lm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.vs)))}}function oI(n,e,s,r){return new bq(n,e,s,r)}async function lI(n,e){const s=Ce(n);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return s.mutationQueue.getAllMutationBatches(r).next((l=>(i=l,s.Os(e),s.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],f=[];let u=tt();for(const m of i){c.push(m.batchId);for(const g of m.mutations)u=u.add(g.key)}for(const m of l){f.push(m.batchId);for(const g of m.mutations)u=u.add(g.key)}return s.localDocuments.getDocuments(r,u).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:f})))}))}))}function vq(n,e){const s=Ce(n);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),l=s.xs.newChangeBuffer({trackRemovals:!0});return(function(f,u,m,g){const b=m.batch,v=b.keys();let T=Z.resolve();return v.forEach((N=>{T=T.next((()=>g.getEntry(u,N))).next((E=>{const k=m.docVersions.get(N);Ve(k!==null,48541),E.version.compareTo(k)<0&&(b.applyToRemoteDocument(E,m),E.isValidDocument()&&(E.setReadTime(m.commitVersion),g.addEntry(E)))}))})),T.next((()=>f.mutationQueue.removeMutationBatch(u,b)))})(s,r,e,l).next((()=>l.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let u=tt();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(u=u.add(f.batch.mutations[m].key));return u})(e)))).next((()=>s.localDocuments.getDocuments(r,i)))}))}function cI(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.li.getLastRemoteSnapshotVersion(s)))}function wq(n,e){const s=Ce(n),r=e.snapshotVersion;let i=s.vs;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=s.xs.newChangeBuffer({trackRemovals:!0});i=s.vs;const f=[];e.targetChanges.forEach(((g,b)=>{const v=i.get(b);if(!v)return;f.push(s.li.removeMatchingKeys(l,g.removedDocuments,b).next((()=>s.li.addMatchingKeys(l,g.addedDocuments,b))));let T=v.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?T=T.withResumeToken(gs.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(b,T),(function(E,k,D){return E.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=yq?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(v,T,g)&&f.push(s.li.updateTargetData(l,T))}));let u=$n(),m=tt();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&f.push(s.persistence.referenceDelegate.updateLimboDocument(l,g))})),f.push(dI(l,c,e.documentUpdates).next((g=>{u=g.Bs,m=g.Ls}))),!r.isEqual($e.min())){const g=s.li.getLastRemoteSnapshotVersion(l).next((b=>s.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(g)}return Z.waitFor(f).next((()=>c.apply(l))).next((()=>s.localDocuments.getLocalViewOfDocuments(l,u,m))).next((()=>u))})).then((l=>(s.vs=i,l)))}function dI(n,e,s){let r=tt(),i=tt();return s.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let c=$n();return s.forEach(((f,u)=>{const m=l.get(f);u.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(f)),u.isNoDocument()&&u.version.isEqual($e.min())?(e.removeEntry(f,u.readTime),c=c.insert(f,u)):!m.isValidDocument()||u.version.compareTo(m.version)>0||u.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(u),c=c.insert(f,u)):_e(wj,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",u.version)})),{Bs:c,Ls:i}}))}function jq(n,e){const s=Ce(n);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Oo),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function lu(n,e){const s=Ce(n);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return s.li.getTargetData(r,e).next((l=>l?(i=l,Z.resolve(i)):s.li.allocateTargetId(r).next((c=>(i=new yi(e,c,"TargetPurposeListen",r.currentSequenceNumber),s.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=s.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(s.vs=s.vs.insert(r.targetId,r),s.Fs.set(e,r.targetId)),r}))}async function cu(n,e,s){const r=Ce(n),i=r.vs.get(e),l=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!el(c))throw c;_e(wj,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function Wg(n,e,s){const r=Ce(n);let i=$e.min(),l=tt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(u,m,g){const b=Ce(u),v=b.Fs.get(g);return v!==void 0?Z.resolve(b.vs.get(v)):b.li.getTargetData(m,g)})(r,c,Cn(e)).next((f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,f.targetId).next((u=>{l=u}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,s?i:$e.min(),s?l:tt()))).next((f=>(fI(r,pA(e),f),{documents:f,ks:l})))))}function uI(n,e){const s=Ce(n),r=Ce(s.li),i=s.vs.get(e);return i?Promise.resolve(i.target):s.persistence.runTransaction("Get target data","readonly",(l=>r.At(l,e).next((c=>c?c.target:null))))}function hI(n,e){const s=Ce(n),r=s.Ms.get(e)||$e.min();return s.persistence.runTransaction("Get new document changes","readonly",(i=>s.xs.getAllFromCollectionGroup(i,e,DC(r,Xd),Number.MAX_SAFE_INTEGER))).then((i=>(fI(s,e,i),i)))}function fI(n,e,s){let r=n.Ms.get(e)||$e.min();s.forEach(((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Ms.set(e,r)}async function Nq(n,e,s,r){const i=Ce(n);let l=tt(),c=$n();for(const m of s){const g=e.Ks(m.metadata.name);m.document&&(l=l.add(g));const b=e.qs(m);b.setReadTime(e.Us(m.metadata.readTime)),c=c.insert(g,b)}const f=i.xs.newChangeBuffer({trackRemovals:!0}),u=await lu(i,(function(g){return Cn(ku(ht.fromString(`__bundle__/docs/${g}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(m=>dI(m,f,c).next((g=>(f.apply(m),g))).next((g=>i.li.removeMatchingKeysForTargetId(m,u.targetId).next((()=>i.li.addMatchingKeys(m,l,u.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(m,g.Bs,g.Ls))).next((()=>g.Bs))))))}async function _q(n,e,s=tt()){const r=await lu(n,Cn(fj(e.bundledQuery))),i=Ce(n);return i.persistence.runTransaction("Save named query","readwrite",(l=>{const c=Ns(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Pi.saveNamedQuery(l,e);const f=r.withResumeToken(gs.EMPTY_BYTE_STRING,c);return i.vs=i.vs.insert(f.targetId,f),i.li.updateTargetData(l,f).next((()=>i.li.removeMatchingKeysForTargetId(l,r.targetId))).next((()=>i.li.addMatchingKeys(l,s,r.targetId))).next((()=>i.Pi.saveNamedQuery(l,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firestore_clients";function sk(n,e){return`${mI}_${n}_${e}`}const pI="firestore_mutations";function nk(n,e,s){let r=`${pI}_${n}_${s}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const gI="firestore_targets";function Ab(n,e){return`${gI}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="SharedClientState";class Yg{constructor(e,s,r,i){this.user=e,this.batchId=s,this.state=r,this.error=i}static $s(e,s,r){const i=JSON.parse(r);let l,c=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return c&&i.error&&(c=typeof i.error.message=="string"&&typeof i.error.code=="string",c&&(l=new we(i.error.code,i.error.message))),c?new Yg(e,s,i.state,l):(js(Ra,`Failed to parse mutation state for ID '${s}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yf{constructor(e,s,r){this.targetId=e,this.state=s,this.error=r}static $s(e,s){const r=JSON.parse(s);let i,l=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return l&&r.error&&(l=typeof r.error.message=="string"&&typeof r.error.code=="string",l&&(i=new we(r.error.code,r.error.message))),l?new yf(e,r.state,i):(js(Ra,`Failed to parse target state for ID '${e}': ${s}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qg{constructor(e,s){this.clientId=e,this.activeTargetIds=s}static $s(e,s){const r=JSON.parse(s);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,l=aj();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=VC(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return i?new Qg(e,l):(js(Ra,`Failed to parse client data for instance '${e}': ${s}`),null)}}class jj{constructor(e,s){this.clientId=e,this.onlineState=s}static $s(e){const s=JSON.parse(e);return typeof s=="object"&&["Unknown","Online","Offline"].indexOf(s.onlineState)!==-1&&typeof s.clientId=="string"?new jj(s.clientId,s.onlineState):(js(Ra,`Failed to parse online state: ${e}`),null)}}class Mv{constructor(){this.activeTargetIds=aj()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ib{constructor(e,s,r,i,l){this.window=e,this.Ci=s,this.persistenceKey=r,this.zs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new qt(Ye),this.started=!1,this.Zs=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Xs=sk(this.persistenceKey,this.zs),this.Ys=(function(u){return`firestore_sequence_number_${u}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new Mv),this.eo=new RegExp(`^${mI}_${c}_([^_]*)$`),this.no=new RegExp(`^${pI}_${c}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${gI}_${c}_(\\d+)$`),this.io=(function(u){return`firestore_online_state_${u}`})(this.persistenceKey),this.so=(function(u){return`firestore_bundle_loaded_v2_${u}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const i=this.getItem(sk(this.persistenceKey,r));if(i){const l=Qg.$s(r,i);l&&(this.Js=this.Js.insert(l.clientId,l))}}this.oo();const s=this.storage.getItem(this.io);if(s){const r=this._o(s);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let s=!1;return this.Js.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(s=!0)})),s}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,s,r){this.co(e,s,r),this.lo(e)}addLocalQueryTarget(e,s=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Ab(this.persistenceKey,e));if(i){const l=yf.$s(e,i);l&&(r=l.state)}}return s&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ab(this.persistenceKey,e))}updateQueryState(e,s,r){this.Po(e,s,r)}handleUserChange(e,s,r){s.forEach((i=>{this.lo(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const s=this.storage.getItem(e);return _e(Ra,"READ",e,s),s}setItem(e,s){_e(Ra,"SET",e,s),this.storage.setItem(e,s)}removeItem(e){_e(Ra,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const s=e;if(s.storageArea===this.storage){if(_e(Ra,"EVENT",s.key,s.newValue),s.key===this.Xs)return void js("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(s.key!==null){if(this.eo.test(s.key)){if(s.newValue==null){const r=this.Eo(s.key);return this.Ro(r,null)}{const r=this.Ao(s.key,s.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(s.key)){if(s.newValue!==null){const r=this.Vo(s.key,s.newValue);if(r)return this.mo(r)}}else if(this.ro.test(s.key)){if(s.newValue!==null){const r=this.fo(s.key,s.newValue);if(r)return this.po(r)}}else if(s.key===this.io){if(s.newValue!==null){const r=this._o(s.newValue);if(r)return this.ao(r)}}else if(s.key===this.Ys){const r=(function(l){let c=Fn.ce;if(l!=null)try{const f=JSON.parse(l);Ve(typeof f=="number",30636,{yo:l}),c=f}catch(f){js(Ra,"Failed to read sequence number from WebStorage",f)}return c})(s.newValue);r!==Fn.ce&&this.sequenceNumberHandler(r)}else if(s.key===this.so){const r=this.wo(s.newValue);await Promise.all(r.map((i=>this.syncEngine.bo(i))))}}}else this.Zs.push(s)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,s,r){const i=new Yg(this.currentUser,e,s,r),l=nk(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Ws())}lo(e){const s=nk(this.persistenceKey,this.currentUser,e);this.removeItem(s)}To(e){const s={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(s))}Po(e,s,r){const i=Ab(this.persistenceKey,e),l=new yf(e,s,r);this.setItem(i,l.Ws())}Io(e){const s=JSON.stringify(Array.from(e));this.setItem(this.so,s)}Eo(e){const s=this.eo.exec(e);return s?s[1]:null}Ao(e,s){const r=this.Eo(e);return Qg.$s(r,s)}Vo(e,s){const r=this.no.exec(e),i=Number(r[1]),l=r[2]!==void 0?r[2]:null;return Yg.$s(new Gs(l),i,s)}fo(e,s){const r=this.ro.exec(e),i=Number(r[1]);return yf.$s(i,s)}_o(e){return jj.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);_e(Ra,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,s){const r=s?this.Js.insert(e,s):this.Js.remove(e),i=this.uo(this.Js),l=this.uo(r),c=[],f=[];return l.forEach((u=>{i.has(u)||c.push(u)})),i.forEach((u=>{l.has(u)||f.push(u)})),this.syncEngine.Co(c,f).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let s=aj();return e.forEach(((r,i)=>{s=s.unionWith(i.activeTargetIds)})),s}}class xI{constructor(){this.vo=new Mv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,s,r){this.Fo[e]=s}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Mv,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="ConnectivityMonitor";class ak{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){_e(rk,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){_e(rk,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sg=null;function Lv(){return sg===null?sg=(function(){return 268435456+Math.round(2147483648*Math.random())})():sg++,"0x"+sg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="RestConnection",Tq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kq{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=s+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===jv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,s,r,i,l){const c=Lv(),f=this.Qo(e,s.toUriEncodedString());_e(Rb,`Sending RPC '${e}' ${c}:`,f,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,i,l);const{host:m}=new URL(f),g=wu(m);return this.zo(e,f,u,r,g).then((b=>(_e(Rb,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Ka(Rb,`RPC '${e}' ${c} failed with error: `,b,"url: ",f,"request:",r),b}))}jo(e,s,r,i,l,c){return this.Wo(e,s,r,i,l)}Go(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((i,l)=>e[l]=i)),r&&r.headers.forEach(((i,l)=>e[l]=i))}Qo(e,s){const r=Tq[e];let i=`${this.qo}/v1/${s}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection",Kh=(n,e,s)=>{n.listen(e,(r=>{try{s(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Ud extends kq{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ud.c_){const e=TC();Kh(e,SC.STAT_EVENT,(s=>{s.stat===pv.PROXY?_e(gn,"STAT_EVENT: detected buffering proxy"):s.stat===pv.NOPROXY&&_e(gn,"STAT_EVENT: detected no buffering proxy")})),Ud.c_=!0}}zo(e,s,r,i,l){const c=Lv();return new Promise(((f,u)=>{const m=new NC;m.setWithCredentials(!0),m.listenOnce(_C.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case hg.NO_ERROR:const b=m.getResponseJson();_e(gn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),f(b);break;case hg.TIMEOUT:_e(gn,`RPC '${e}' ${c} timed out`),u(new we(ie.DEADLINE_EXCEEDED,"Request time out"));break;case hg.HTTP_ERROR:const v=m.getStatus();if(_e(gn,`RPC '${e}' ${c} failed with status:`,v,"response text:",m.getResponseText()),v>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const N=T==null?void 0:T.error;if(N&&N.status&&N.message){const E=(function(D){const P=D.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(P)>=0?P:ie.UNKNOWN})(N.status);u(new we(E,N.message))}else u(new we(ie.UNKNOWN,"Server responded with status "+m.getStatus()))}else u(new we(ie.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{_e(gn,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(i);_e(gn,`RPC '${e}' ${c} sending request:`,i),m.send(s,"POST",g,r,15)}))}T_(e,s,r){const i=Lv(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(f.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,s,r),f.encodeInitMessageHeaders=!0;const m=l.join("");_e(gn,`Creating RPC '${e}' stream ${i}: ${m}`,f);const g=c.createWebChannel(m,f);this.I_(g);let b=!1,v=!1;const T=new Eq({Ho:N=>{v?_e(gn,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(b||(_e(gn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),_e(gn,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},Jo:()=>g.close()});return Kh(g,Jh.EventType.OPEN,(()=>{v||(_e(gn,`RPC '${e}' stream ${i} transport opened.`),T.i_())})),Kh(g,Jh.EventType.CLOSE,(()=>{v||(v=!0,_e(gn,`RPC '${e}' stream ${i} transport closed`),T.o_(),this.E_(g))})),Kh(g,Jh.EventType.ERROR,(N=>{v||(v=!0,Ka(gn,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),T.o_(new we(ie.UNAVAILABLE,"The operation could not be completed")))})),Kh(g,Jh.EventType.MESSAGE,(N=>{var E;if(!v){const k=N.data[0];Ve(!!k,16349);const D=k,P=(D==null?void 0:D.error)||((E=D[0])==null?void 0:E.error);if(P){_e(gn,`RPC '${e}' stream ${i} received error:`,P);const L=P.status;let V=(function(_){const A=Rs[_];if(A!==void 0)return CA(A)})(L),$=P.message;V===void 0&&(V=ie.INTERNAL,$="Unknown error status: "+L+" with message "+P.message),v=!0,T.o_(new we(V,$)),g.close()}else _e(gn,`RPC '${e}' stream ${i} received:`,k),T.__(k)}})),Ud.u_(),setTimeout((()=>{T.s_()}),0),T}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((s=>s===e))}Go(e,s,r){super.Go(e,s,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return kC()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(n){return new Ud(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){return typeof window<"u"?window:null}function jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(n){return new D$(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ud.c_=!1;class Nj{constructor(e,s,r=1e3,i=1.5,l=6e4){this.Ci=e,this.timerId=s,this.R_=r,this.A_=i,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const s=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,s-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="PersistentStream";class bI{constructor(e,s,r,i,l,c,f,u){this.Ci=e,this.b_=r,this.S_=i,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Nj(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===ie.RESOURCE_EXHAUSTED?(js(s.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(s)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===s&&this.G_(r,i)}),(r=>{e((()=>{const i=new we(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,s){const r=this.Q_(this.D_);this.stream=this.j_(e,s),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(ik,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return s=>{this.Ci.enqueueAndForget((()=>this.D_===e?s():(_e(ik,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Aq extends bI{constructor(e,s,r,i,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,i,c),this.serializer=l}j_(e,s){return this.connection.T_("Listen",e,s)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=L$(this.serializer,e),r=(function(l){if(!("targetChange"in l))return $e.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?$e.min():c.readTime?Ns(c.readTime):$e.min()})(e);return this.listener.J_(s,r)}Z_(e){const s={};s.database=Iv(this.serializer),s.addTarget=(function(l,c){let f;const u=c.target;if(f=Fg(u)?{documents:VA(l,u)}:{query:UA(l,u).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=PA(l,c.resumeToken);const m=Cv(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo($e.min())>0){f.readTime=ou(l,c.snapshotVersion.toTimestamp());const m=Cv(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,e);const r=V$(this.serializer,e);r&&(s.labels=r),this.K_(s)}X_(e){const s={};s.database=Iv(this.serializer),s.removeTarget=e,this.K_(s)}}class Iq extends bI{constructor(e,s,r,i,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,i,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}H_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=z$(e.writeResults,e.commitTime),r=Ns(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=Iv(this.serializer),this.K_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>Uf(this.serializer,r)))};this.K_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{}class Pq extends Rq{constructor(e,s,r,i){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,Av(s,r),i,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(ie.UNKNOWN,l.toString())}))}jo(e,s,r,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.jo(e,Av(s,r),i,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Dq(n,e,s,r){return new Pq(n,e,s,r)}class Oq{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(js(s),this.aa=!1):_e("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="RemoteStore";class Mq{constructor(e,s,r,i,l){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{sl(this)&&(_e(mc,"Restarting streams for network reachability change."),await(async function(u){const m=Ce(u);m.Ea.add(4),await Au(m),m.Va.set("Unknown"),m.Ea.delete(4),await pm(m)})(this))}))})),this.Va=new Oq(r,i)}}async function pm(n){if(sl(n))for(const e of n.Ra)await e(!0)}async function Au(n){for(const e of n.Ra)await e(!1)}function Ox(n,e){const s=Ce(n);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),Tj(s)?Sj(s):Ru(s).O_()&&_j(s,e))}function du(n,e){const s=Ce(n),r=Ru(s);s.Ia.delete(e),r.O_()&&vI(s,e),s.Ia.size===0&&(r.O_()?r.L_():sl(s)&&s.Va.set("Unknown"))}function _j(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const s=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}Ru(n).Z_(e)}function vI(n,e){n.da.$e(e),Ru(n).X_(e)}function Sj(n){n.da=new A$({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ru(n).start(),n.Va.ua()}function Tj(n){return sl(n)&&!Ru(n).x_()&&n.Ia.size>0}function sl(n){return Ce(n).Ea.size===0}function wI(n){n.da=void 0}async function Lq(n){n.Va.set("Online")}async function zq(n){n.Ia.forEach(((e,s)=>{_j(n,e)}))}async function Vq(n,e){wI(n),Tj(n)?(n.Va.ha(e),Sj(n)):n.Va.set("Unknown")}async function Uq(n,e,s){if(n.Va.set("Online"),e instanceof RA&&e.state===2&&e.cause)try{await(async function(i,l){const c=l.cause;for(const f of l.targetIds)i.Ia.has(f)&&(await i.remoteSyncer.rejectListen(f,c),i.Ia.delete(f),i.da.removeTarget(f))})(n,e)}catch(r){_e(mc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xg(n,r)}else if(e instanceof vg?n.da.Xe(e):e instanceof IA?n.da.st(e):n.da.tt(e),!s.isEqual($e.min()))try{const r=await cI(n.localStore);s.compareTo(r)>=0&&await(function(l,c){const f=l.da.Tt(c);return f.targetChanges.forEach(((u,m)=>{if(u.resumeToken.approximateByteSize()>0){const g=l.Ia.get(m);g&&l.Ia.set(m,g.withResumeToken(u.resumeToken,c))}})),f.targetMismatches.forEach(((u,m)=>{const g=l.Ia.get(u);if(!g)return;l.Ia.set(u,g.withResumeToken(gs.EMPTY_BYTE_STRING,g.snapshotVersion)),vI(l,u);const b=new yi(g.target,u,m,g.sequenceNumber);_j(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(n,s)}catch(r){_e(mc,"Failed to raise snapshot:",r),await Xg(n,r)}}async function Xg(n,e,s){if(!el(e))throw e;n.Ea.add(1),await Au(n),n.Va.set("Offline"),s||(s=()=>cI(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{_e(mc,"Retrying IndexedDB access"),await s(),n.Ea.delete(1),await pm(n)}))}function jI(n,e){return e().catch((s=>Xg(n,s,e)))}async function Iu(n){const e=Ce(n),s=Wo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Oo;for(;Fq(e);)try{const i=await jq(e.localStore,r);if(i===null){e.Ta.length===0&&s.L_();break}r=i.batchId,Bq(e,i)}catch(i){await Xg(e,i)}NI(e)&&_I(e)}function Fq(n){return sl(n)&&n.Ta.length<10}function Bq(n,e){n.Ta.push(e);const s=Wo(n);s.O_()&&s.Y_&&s.ea(e.mutations)}function NI(n){return sl(n)&&!Wo(n).x_()&&n.Ta.length>0}function _I(n){Wo(n).start()}async function $q(n){Wo(n).ra()}async function qq(n){const e=Wo(n);for(const s of n.Ta)e.ea(s.mutations)}async function Hq(n,e,s){const r=n.Ta.shift(),i=cj.from(r,e,s);await jI(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Iu(n)}async function Gq(n,e){e&&Wo(n).Y_&&await(async function(r,i){if((function(c){return EA(c)&&c!==ie.ABORTED})(i.code)){const l=r.Ta.shift();Wo(r).B_(),await jI(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i))),await Iu(r)}})(n,e),NI(n)&&_I(n)}async function ok(n,e){const s=Ce(n);s.asyncQueue.verifyOperationInProgress(),_e(mc,"RemoteStore received new credentials");const r=sl(s);s.Ea.add(3),await Au(s),r&&s.Va.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await pm(s)}async function zv(n,e){const s=Ce(n);e?(s.Ea.delete(2),await pm(s)):e||(s.Ea.add(2),await Au(s),s.Va.set("Unknown"))}function Ru(n){return n.ma||(n.ma=(function(s,r,i){const l=Ce(s);return l.sa(),new Aq(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(n.datastore,n.asyncQueue,{Zo:Lq.bind(null,n),Yo:zq.bind(null,n),t_:Vq.bind(null,n),J_:Uq.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Tj(n)?Sj(n):n.Va.set("Unknown")):(await n.ma.stop(),wI(n))}))),n.ma}function Wo(n){return n.fa||(n.fa=(function(s,r,i){const l=Ce(s);return l.sa(),new Iq(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$q.bind(null,n),t_:Gq.bind(null,n),ta:qq.bind(null,n),na:Hq.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Iu(n)):(await n.fa.stop(),n.Ta.length>0&&(_e(mc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,s,r,i,l){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,i,l){const c=Date.now()+r,f=new kj(e,s,c,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pu(n,e){if(js("AsyncQueue",`${e}: ${n}`),el(n))return new we(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{static emptySet(e){return new Fd(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||Ee.comparator(s.key,r.key):(s,r)=>Ee.comparator(s.key,r.key),this.keyedMap=Zh(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Fd)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const i=s.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new Fd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.ga=new qt(Ee.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):Re(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,r)=>{e.push(r)})),e}}class uu{constructor(e,s,r,i,l,c,f,u,m){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=u,this.hasCachedResults=m}static fromInitialDocuments(e,s,r,i,l){const c=[];return s.forEach((f=>{c.push({type:0,doc:f})})),new uu(e,s,Fd.emptySet(s),c,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let i=0;i<s.length;i++)if(s[i].type!==r[i].type||!s[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Wq{constructor(){this.queries=ck(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const i=Ce(s),l=i.queries;i.queries=ck(),l.forEach(((c,f)=>{for(const u of f.ba)u.onError(r)}))})(this,new we(ie.ABORTED,"Firestore shutting down"))}}function ck(){return new Oi((n=>mA(n)),cm)}async function Ej(n,e){const s=Ce(n);let r=3;const i=e.query;let l=s.queries.get(i);l?!l.Sa()&&e.Da()&&(r=2):(l=new Kq,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await s.onListen(i,!0);break;case 1:l.wa=await s.onListen(i,!1);break;case 2:await s.onFirstRemoteStoreListen(i)}}catch(c){const f=Pu(c,`Initialization of query '${Td(e.query)}' failed`);return void e.onError(f)}s.queries.set(i,l),l.ba.push(e),e.va(s.onlineState),l.wa&&e.Fa(l.wa)&&Aj(s)}async function Cj(n,e){const s=Ce(n),r=e.query;let i=3;const l=s.queries.get(r);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?i=e.Da()?0:1:!l.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function Yq(n,e){const s=Ce(n);let r=!1;for(const i of e){const l=i.query,c=s.queries.get(l);if(c){for(const f of c.ba)f.Fa(i)&&(r=!0);c.wa=i}}r&&Aj(s)}function Qq(n,e,s){const r=Ce(n),i=r.queries.get(e);if(i)for(const l of i.ba)l.onError(s);r.queries.delete(e)}function Aj(n){n.Ca.forEach((e=>{e.next()}))}var Vv,dk;(dk=Vv||(Vv={})).Ma="default",dk.Cache="cache";class Ij{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new uu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vv.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,s){this.qa=e,this.byteLength=s}Ua(){return"metadata"in this.qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.serializer=e}Ks(e){return $a(this.serializer,e)}qs(e){return e.metadata.exists?zA(this.serializer,e.document,!1):Wt.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return Ns(e)}}class Jq{constructor(e,s){this.$a=e,this.serializer=s,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=SI(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let s=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++s;const r=ht.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++s);return s!==this.progress.documentsLoaded?(this.progress.documentsLoaded=s,{...this.progress}):null}za(e){const s=new Map,r=new uk(this.serializer);for(const i of e)if(i.metadata.queries){const l=r.Ks(i.metadata.name);for(const c of i.metadata.queries){const f=(s.get(c)||tt()).add(l);s.set(c,f)}}return s}async ja(e){const s=await Nq(e,new uk(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const i of this.Wa)await _q(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:s}}}function SI(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.key=e}}class kI{constructor(e){this.key=e}}class EI{constructor(e,s){this.query=e,this.Za=s,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=tt(),this.mutatedKeys=tt(),this.eu=gA(e),this.tu=new Fd(this.eu)}get nu(){return this.Za}ru(e,s){const r=s?s.iu:new lk,i=s?s.tu:this.tu;let l=s?s.mutatedKeys:this.mutatedKeys,c=i,f=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,b)=>{const v=i.get(g),T=dm(this.query,b)?b:null,N=!!v&&this.mutatedKeys.has(v.key),E=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let k=!1;v&&T?v.data.isEqual(T.data)?N!==E&&(r.track({type:3,doc:T}),k=!0):this.su(v,T)||(r.track({type:2,doc:T}),k=!0,(u&&this.eu(T,u)>0||m&&this.eu(T,m)<0)&&(f=!0)):!v&&T?(r.track({type:0,doc:T}),k=!0):v&&!T&&(r.track({type:1,doc:v}),k=!0,(u||m)&&(f=!0)),k&&(T?(c=c.add(T),l=E?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Ss:f,mutatedKeys:l}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,i){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,b)=>(function(T,N){const E=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:k})}};return E(T)-E(N)})(g.type,b.type)||this.eu(g.doc,b.doc))),this.ou(r),i=i??!1;const f=s&&!i?this._u():[],u=this.Ya.size===0&&this.current&&!i?1:0,m=u!==this.Xa;return this.Xa=u,c.length!==0||m?{snapshot:new uu(this.query,e.tu,l,c,e.mutatedKeys,u===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lk,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Za=this.Za.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Za=this.Za.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=tt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const s=[];return e.forEach((r=>{this.Ya.has(r)||s.push(new kI(r))})),this.Ya.forEach((r=>{e.has(r)||s.push(new TI(r))})),s}cu(e){this.Za=e.ks,this.Ya=tt();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return uu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const nl="SyncEngine";class Zq{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class eH{constructor(e){this.key=e,this.hu=!1}}class tH{constructor(e,s,r,i,l,c){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Oi((f=>mA(f)),cm),this.Iu=new Map,this.Eu=new Set,this.Ru=new qt(Ee.comparator),this.Au=new Map,this.Vu=new gj,this.du={},this.mu=new Map,this.fu=fc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sH(n,e,s=!0){const r=Mx(n);let i;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.lu()):i=await CI(r,e,s,!0),i}async function nH(n,e){const s=Mx(n);await CI(s,e,!0,!1)}async function CI(n,e,s,r){const i=await lu(n.localStore,Cn(e)),l=i.targetId,c=n.sharedClientState.addLocalQueryTarget(l,s);let f;return r&&(f=await Rj(n,e,l,c==="current",i.resumeToken)),n.isPrimaryClient&&s&&Ox(n.remoteStore,i),f}async function Rj(n,e,s,r,i){n.pu=(b,v,T)=>(async function(E,k,D,P){let L=k.view.ru(D);L.Ss&&(L=await Wg(E.localStore,k.query,!1).then((({documents:_})=>k.view.ru(_,L))));const V=P&&P.targetChanges.get(k.targetId),$=P&&P.targetMismatches.get(k.targetId)!=null,Q=k.view.applyChanges(L,E.isPrimaryClient,V,$);return Uv(E,k.targetId,Q.au),Q.snapshot})(n,b,v,T);const l=await Wg(n.localStore,e,!0),c=new EI(e,l.ks),f=c.ru(l.documents),u=fm.createSynthesizedTargetChangeForCurrentChange(s,r&&n.onlineState!=="Offline",i),m=c.applyChanges(f,n.isPrimaryClient,u);Uv(n,s,m.au);const g=new Zq(e,s,c);return n.Tu.set(e,g),n.Iu.has(s)?n.Iu.get(s).push(e):n.Iu.set(s,[e]),m.snapshot}async function rH(n,e,s){const r=Ce(n),i=r.Tu.get(e),l=r.Iu.get(i.targetId);if(l.length>1)return r.Iu.set(i.targetId,l.filter((c=>!cm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cu(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),s&&du(r.remoteStore,i.targetId),hu(r,i.targetId)})).catch(Zo)):(hu(r,i.targetId),await cu(r.localStore,i.targetId,!0))}async function aH(n,e){const s=Ce(n),r=s.Tu.get(e),i=s.Iu.get(r.targetId);s.isPrimaryClient&&i.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),du(s.remoteStore,r.targetId))}async function iH(n,e,s){const r=Mj(n);try{const i=await(function(c,f){const u=Ce(c),m=_t.now(),g=f.reduce(((T,N)=>T.add(N.key)),tt());let b,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let N=$n(),E=tt();return u.xs.getEntries(T,g).next((k=>{N=k,N.forEach(((D,P)=>{P.isValidDocument()||(E=E.add(D))}))})).next((()=>u.localDocuments.getOverlayedDocuments(T,N))).next((k=>{b=k;const D=[];for(const P of f){const L=k$(P,b.get(P.key).overlayedDocument);L!=null&&D.push(new Mi(P.key,L,aA(L.value.mapValue),ss.exists(!0)))}return u.mutationQueue.addMutationBatch(T,m,D,f)})).next((k=>{v=k;const D=k.applyToLocalDocumentSet(b,E);return u.documentOverlayCache.saveOverlays(T,k.batchId,D)}))})).then((()=>({batchId:v.batchId,changes:yA(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,f,u){let m=c.du[c.currentUser.toKey()];m||(m=new qt(Ye)),m=m.insert(f,u),c.du[c.currentUser.toKey()]=m})(r,i.batchId,s),await Li(r,i.changes),await Iu(r.remoteStore)}catch(i){const l=Pu(i,"Failed to persist write");s.reject(l)}}async function AI(n,e){const s=Ce(n);try{const r=await wq(s.localStore,e);e.targetChanges.forEach(((i,l)=>{const c=s.Au.get(l);c&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?Ve(c.hu,14607):i.removedDocuments.size>0&&(Ve(c.hu,42227),c.hu=!1))})),await Li(s,r,e)}catch(r){await Zo(r)}}function hk(n,e,s){const r=Ce(n);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const i=[];r.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&i.push(f.snapshot)})),(function(c,f){const u=Ce(c);u.onlineState=f;let m=!1;u.queries.forEach(((g,b)=>{for(const v of b.ba)v.va(f)&&(m=!0)})),m&&Aj(u)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oH(n,e,s){const r=Ce(n);r.sharedClientState.updateQueryState(e,"rejected",s);const i=r.Au.get(e),l=i&&i.key;if(l){let c=new qt(Ee.comparator);c=c.insert(l,Wt.newNoDocument(l,$e.min()));const f=tt().add(l),u=new hm($e.min(),new Map,new qt(Ye),c,f);await AI(r,u),r.Ru=r.Ru.remove(l),r.Au.delete(e),Oj(r)}else await cu(r.localStore,e,!1).then((()=>hu(r,e,s))).catch(Zo)}async function lH(n,e){const s=Ce(n),r=e.batch.batchId;try{const i=await vq(s.localStore,e);Dj(s,r,null),Pj(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await Li(s,i)}catch(i){await Zo(i)}}async function cH(n,e,s){const r=Ce(n);try{const i=await(function(c,f){const u=Ce(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return u.mutationQueue.lookupMutationBatch(m,f).next((b=>(Ve(b!==null,37113),g=b.keys(),u.mutationQueue.removeMutationBatch(m,b)))).next((()=>u.mutationQueue.performConsistencyCheck(m))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(m,g,f))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>u.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);Dj(r,e,s),Pj(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await Li(r,i)}catch(i){await Zo(i)}}async function dH(n,e){const s=Ce(n);sl(s.remoteStore)||_e(nl,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(c){const f=Ce(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(u=>f.mutationQueue.getHighestUnacknowledgedBatchId(u)))})(s.localStore);if(r===Oo)return void e.resolve();const i=s.mu.get(r)||[];i.push(e),s.mu.set(r,i)}catch(r){const i=Pu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Pj(n,e){(n.mu.get(e)||[]).forEach((s=>{s.resolve()})),n.mu.delete(e)}function Dj(n,e,s){const r=Ce(n);let i=r.du[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(s?l.reject(s):l.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function hu(n,e,s=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),s&&n.Pu.yu(r,s);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||II(n,r)}))}function II(n,e){n.Eu.delete(e.path.canonicalString());const s=n.Ru.get(e);s!==null&&(du(n.remoteStore,s),n.Ru=n.Ru.remove(e),n.Au.delete(s),Oj(n))}function Uv(n,e,s){for(const r of s)r instanceof TI?(n.Vu.addReference(r.key,e),uH(n,r)):r instanceof kI?(_e(nl,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||II(n,r.key)):Re(19791,{wu:r})}function uH(n,e){const s=e.key,r=s.path.canonicalString();n.Ru.get(s)||n.Eu.has(r)||(_e(nl,"New document in limbo: "+s),n.Eu.add(r),Oj(n))}function Oj(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const s=new Ee(ht.fromString(e)),r=n.fu.next();n.Au.set(r,new eH(s)),n.Ru=n.Ru.insert(s,r),Ox(n.remoteStore,new yi(Cn(ku(s.path)),r,"TargetPurposeLimboResolution",Fn.ce))}}async function Li(n,e,s){const r=Ce(n),i=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,u)=>{c.push(r.pu(u,e,s).then((m=>{var g;if((m||s)&&r.isPrimaryClient){const b=m?!m.fromCache:(g=s==null?void 0:s.targetChanges.get(u.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(u.targetId,b?"current":"not-current")}if(m){i.push(m);const b=vj.Es(u.targetId,m);l.push(b)}})))})),await Promise.all(c),r.Pu.J_(i),await(async function(u,m){const g=Ce(u);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(m,(v=>Z.forEach(v.Ts,(T=>g.persistence.referenceDelegate.addReference(b,v.targetId,T))).next((()=>Z.forEach(v.Is,(T=>g.persistence.referenceDelegate.removeReference(b,v.targetId,T)))))))))}catch(b){if(!el(b))throw b;_e(wj,"Failed to update sequence numbers: "+b)}for(const b of m){const v=b.targetId;if(!b.fromCache){const T=g.vs.get(v),N=T.snapshotVersion,E=T.withLastLimboFreeSnapshotVersion(N);g.vs=g.vs.insert(v,E)}}})(r.localStore,l))}async function hH(n,e){const s=Ce(n);if(!s.currentUser.isEqual(e)){_e(nl,"User change. New user:",e.toKey());const r=await lI(s.localStore,e);s.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((u=>{u.reject(new we(ie.CANCELLED,c))}))})),l.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Li(s,r.Ns)}}function fH(n,e){const s=Ce(n),r=s.Au.get(e);if(r&&r.hu)return tt().add(r.key);{let i=tt();const l=s.Iu.get(e);if(!l)return i;for(const c of l){const f=s.Tu.get(c);i=i.unionWith(f.view.nu)}return i}}async function mH(n,e){const s=Ce(n),r=await Wg(s.localStore,e.query,!0),i=e.view.cu(r);return s.isPrimaryClient&&Uv(s,e.targetId,i.au),i}async function pH(n,e){const s=Ce(n);return hI(s.localStore,e).then((r=>Li(s,r)))}async function gH(n,e,s,r){const i=Ce(n),l=await(function(f,u){const m=Ce(f),g=Ce(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",(b=>g.Xn(b,u).next((v=>v?m.localDocuments.getDocuments(b,v):Z.resolve(null)))))})(i.localStore,e);l!==null?(s==="pending"?await Iu(i.remoteStore):s==="acknowledged"||s==="rejected"?(Dj(i,e,r||null),Pj(i,e),(function(f,u){Ce(Ce(f).mutationQueue).nr(u)})(i.localStore,e)):Re(6720,"Unknown batchState",{bu:s}),await Li(i,l)):_e(nl,"Cannot apply mutation batch with id: "+e)}async function xH(n,e){const s=Ce(n);if(Mx(s),Mj(s),e===!0&&s.gu!==!0){const r=s.sharedClientState.getAllActiveQueryTargets(),i=await fk(s,r.toArray());s.gu=!0,await zv(s.remoteStore,!0);for(const l of i)Ox(s.remoteStore,l)}else if(e===!1&&s.gu!==!1){const r=[];let i=Promise.resolve();s.Iu.forEach(((l,c)=>{s.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then((()=>(hu(s,c),cu(s.localStore,c,!0)))),du(s.remoteStore,c)})),await i,await fk(s,r),(function(c){const f=Ce(c);f.Au.forEach(((u,m)=>{du(f.remoteStore,m)})),f.Vu.zr(),f.Au=new Map,f.Ru=new qt(Ee.comparator)})(s),s.gu=!1,await zv(s.remoteStore,!1)}}async function fk(n,e,s){const r=Ce(n),i=[],l=[];for(const c of e){let f;const u=r.Iu.get(c);if(u&&u.length!==0){f=await lu(r.localStore,Cn(u[0]));for(const m of u){const g=r.Tu.get(m),b=await mH(r,g);b.snapshot&&l.push(b.snapshot)}}else{const m=await uI(r.localStore,c);f=await lu(r.localStore,m),await Rj(r,RI(m),c,!1,f.resumeToken)}i.push(f)}return r.Pu.J_(l),i}function RI(n){return fA(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function yH(n){return(function(s){return Ce(Ce(s).persistence).hs()})(Ce(n).localStore)}async function bH(n,e,s,r){const i=Ce(n);if(i.gu)return void _e(nl,"Ignoring unexpected query state notification.");const l=i.Iu.get(e);if(l&&l.length>0)switch(s){case"current":case"not-current":{const c=await hI(i.localStore,pA(l[0])),f=hm.createSynthesizedRemoteEventForCurrentChange(e,s==="current",gs.EMPTY_BYTE_STRING);await Li(i,c,f);break}case"rejected":await cu(i.localStore,e,!0),hu(i,e,r);break;default:Re(64155,s)}}async function vH(n,e,s){const r=Mx(n);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){_e(nl,"Adding an already active target "+i);continue}const l=await uI(r.localStore,i),c=await lu(r.localStore,l);await Rj(r,RI(l),c.targetId,!1,c.resumeToken),Ox(r.remoteStore,c)}for(const i of s)r.Iu.has(i)&&await cu(r.localStore,i,!1).then((()=>{du(r.remoteStore,i),hu(r,i)})).catch(Zo)}}function Mx(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oH.bind(null,e),e.Pu.J_=Yq.bind(null,e.eventManager),e.Pu.yu=Qq.bind(null,e.eventManager),e}function Mj(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cH.bind(null,e),e}function wH(n,e,s){const r=Ce(n);(async function(l,c,f){try{const u=await c.getMetadata();if(await(function(T,N){const E=Ce(T),k=Ns(N.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",(D=>E.Pi.getBundleMetadata(D,N.id))).then((D=>!!D&&D.createTime.compareTo(k)>=0))})(l.localStore,u))return await c.close(),f._completeWith((function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}})(u)),Promise.resolve(new Set);f._updateProgress(SI(u));const m=new Jq(u,c.serializer);let g=await c.Su();for(;g;){const v=await m.Ga(g);v&&f._updateProgress(v),g=await c.Su()}const b=await m.ja(l.localStore);return await Li(l,b.Ja,void 0),await(function(T,N){const E=Ce(T);return E.persistence.runTransaction("Save bundle","readwrite",(k=>E.Pi.saveBundleMetadata(k,N)))})(l.localStore,u),f._completeWith(b.progress),Promise.resolve(b.Ha)}catch(u){return Ka(nl,`Loading bundle failed with ${u}`),f._failWith(u),Promise.resolve(new Set)}})(r,e,s).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return oI(this.persistence,new iI,e.initialUser,this.serializer)}Cu(e){return new xj(Dx.Vi,this.serializer)}Du(e){return new xI}async terminate(){var e,s;(e=this.gcScheduler)==null||e.stop(),(s=this.indexBackfillerScheduler)==null||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ff.provider={build:()=>new Ff};class jH extends Ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){Ve(this.persistence.referenceDelegate instanceof Kg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new eI(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new xj((r=>Kg.Vi(r,s)),this.serializer)}}class PI extends Ff{constructor(e,s,r){super(),this.xu=e,this.cacheSizeBytes=s,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Mj(this.xu.syncEngine),await Iu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return oI(this.persistence,new iI,e.initialUser,this.serializer)}Fu(e,s){const r=this.persistence.referenceDelegate.garbageCollector;return new eI(r,e.asyncQueue,s)}Mu(e,s){const r=new S7(s,this.persistence);return new _7(e.asyncQueue,r)}Cu(e){const s=bj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new yj(this.synchronizeTabs,s,e.clientId,r,e.asyncQueue,yI(),jg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new xI}}class NH extends PI{constructor(e,s){super(e,s,!1),this.xu=e,this.cacheSizeBytes=s,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const s=this.xu.syncEngine;this.sharedClientState instanceof Ib&&(this.sharedClientState.syncEngine={So:gH.bind(null,s),Do:bH.bind(null,s),Co:vH.bind(null,s),hs:yH.bind(null,s),bo:pH.bind(null,s)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await xH(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const s=yI();if(!Ib.v(s))throw new we(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=bj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ib(s,e.asyncQueue,r,e.clientId,e.initialUser)}}class Bf{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hH.bind(null,this.syncEngine),await zv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Wq})()}createDatastore(e){const s=mm(e.databaseInfo.databaseId),r=Cq(e.databaseInfo);return Dq(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,i,l,c,f){return new Mq(r,i,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(s=>hk(this.syncEngine,s,0)),(function(){return ak.v()?new ak:new Sq})())}createSyncEngine(e,s){return(function(i,l,c,f,u,m,g){const b=new tH(i,l,c,f,u,m);return g&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){var e,s;await(async function(i){const l=Ce(i);_e(mc,"RemoteStore shutting down."),l.Ea.add(5),await Au(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(s=this.eventManager)==null||s.terminate()}}Bf.provider={build:()=>new Bf};function mk(n,e=10240){let s=0;return{async read(){if(s<n.byteLength){const r={value:n.slice(s,s+e),done:!1};return s+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):js("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e,s){this.Bu=e,this.serializer=s,this.metadata=new ln,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const s=this.Lu.decode(e),r=Number(s);isNaN(r)&&this.qu(`length string (${s}) is not valid number`);const i=await this.Uu(r);return new Xq(JSON.parse(i),e.length+r)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const s=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),s}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const s=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),s}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const s=new Uint8Array(this.buffer.length+e.value.length);s.set(this.buffer),s.set(e.value,this.buffer.length),this.buffer=s}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SH=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new we(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const s=await(async function(i,l){const c=Ce(i),f={documents:l.map((b=>Vf(c.serializer,b)))},u=await c.jo("BatchGetDocuments",c.serializer.databaseId,ht.emptyPath(),f,l.length),m=new Map;u.forEach((b=>{const v=M$(c.serializer,b);m.set(v.key.toString(),v)}));const g=[];return l.forEach((b=>{const v=m.get(b.toString());Ve(!!v,55234,{key:b}),g.push(v)})),g})(this.datastore,e);return s.forEach((r=>this.recordVersion(r))),s}set(e,s){this.write(s.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,s){try{this.write(s.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((s=>{e.delete(s.key.toString())})),e.forEach(((s,r)=>{const i=Ee.fromPath(r);this.mutations.push(new oj(i,this.precondition(i)))})),await(async function(r,i){const l=Ce(r),c={writes:i.map((f=>Uf(l.serializer,f)))};await l.Wo("Commit",l.serializer.databaseId,ht.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let s;if(e.isFoundDocument())s=e.version;else{if(!e.isNoDocument())throw Re(50498,{Gu:e.constructor.name});s=$e.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!s.isEqual(r))throw new we(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),s)}precondition(e){const s=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&s?s.isEqual($e.min())?ss.exists(!1):ss.updateTime(s):ss.none()}preconditionForUpdate(e){const s=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&s){if(s.isEqual($e.min()))throw new we(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ss.updateTime(s)}return ss.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,s,r,i,l){this.asyncQueue=e,this.datastore=s,this.options=r,this.updateFunction=i,this.deferred=l,this.zu=r.maxAttempts,this.M_=new Nj(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new SH(this.datastore),s=this.Ju(e);s&&s.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Zu(i)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const s=this.updateFunction(e);return!im(s)&&s.catch&&s.then?s:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if((e==null?void 0:e.name)==="FirebaseError"){const s=e.code;return s==="aborted"||s==="failed-precondition"||s==="already-exists"||!EA(s)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="FirestoreClient";class kH{constructor(e,s,r,i,l){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this._databaseInfo=i,this.user=Gs.UNAUTHENTICATED,this.clientId=Kw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{_e(Yo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(_e(Yo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=Pu(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Pb(n,e){n.asyncQueue.verifyOperationInProgress(),_e(Yo,"Initializing OfflineComponentProvider");const s=n.configuration;await e.initialize(s);let r=s.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await lI(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function pk(n,e){n.asyncQueue.verifyOperationInProgress();const s=await Lj(n);_e(Yo,"Initializing OnlineComponentProvider"),await e.initialize(s,n.configuration),n.setCredentialChangeListener((r=>ok(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>ok(e.remoteStore,i))),n._onlineComponents=e}async function Lj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e(Yo,"Using user provided OfflineComponentProvider");try{await Pb(n,n._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(s))throw s;Ka("Error using user provided cache. Falling back to memory cache: "+s),await Pb(n,new Ff)}}else _e(Yo,"Using default OfflineComponentProvider"),await Pb(n,new jH(void 0));return n._offlineComponents}async function zx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e(Yo,"Using user provided OnlineComponentProvider"),await pk(n,n._uninitializedComponentsProvider._online)):(_e(Yo,"Using default OnlineComponentProvider"),await pk(n,new Bf))),n._onlineComponents}function DI(n){return Lj(n).then((e=>e.persistence))}function zj(n){return Lj(n).then((e=>e.localStore))}function OI(n){return zx(n).then((e=>e.remoteStore))}function Vj(n){return zx(n).then((e=>e.syncEngine))}function EH(n){return zx(n).then((e=>e.datastore))}async function fu(n){const e=await zx(n),s=e.eventManager;return s.onListen=sH.bind(null,e.syncEngine),s.onUnlisten=rH.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=nH.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=aH.bind(null,e.syncEngine),s}function CH(n){return n.asyncQueue.enqueue((async()=>{const e=await DI(n),s=await OI(n);return e.setNetworkEnabled(!0),(function(i){const l=Ce(i);return l.Ea.delete(0),pm(l)})(s)}))}function AH(n){return n.asyncQueue.enqueue((async()=>{const e=await DI(n),s=await OI(n);return e.setNetworkEnabled(!1),(async function(i){const l=Ce(i);l.Ea.add(0),await Au(l),l.Va.set("Offline")})(s)}))}function IH(n,e,s,r){const i=new Lx(r),l=new Ij(e,i,s);return n.asyncQueue.enqueueAndForget((async()=>Ej(await fu(n),l))),()=>{i.Nu(),n.asyncQueue.enqueueAndForget((async()=>Cj(await fu(n),l)))}}function RH(n,e){const s=new ln;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,l,c){try{const f=await(function(m,g){const b=Ce(m);return b.persistence.runTransaction("read document","readonly",(v=>b.localDocuments.getDocument(v,g)))})(i,l);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new we(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const u=Pu(f,`Failed to get document '${l} from cache`);c.reject(u)}})(await zj(n),e,s))),s.promise}function MI(n,e,s={}){const r=new ln;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,u,m){const g=new Lx({next:v=>{g.Nu(),c.enqueueAndForget((()=>Cj(l,b)));const T=v.docs.has(f);!T&&v.fromCache?m.reject(new we(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&u&&u.source==="server"?m.reject(new we(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(v)},error:v=>m.reject(v)}),b=new Ij(ku(f.path),g,{includeMetadataChanges:!0,Ka:!0});return Ej(l,b)})(await fu(n),n.asyncQueue,e,s,r))),r.promise}function PH(n,e){const s=new ln;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,l,c){try{const f=await Wg(i,l,!0),u=new EI(l,f.ks),m=u.ru(f.documents),g=u.applyChanges(m,!1);c.resolve(g.snapshot)}catch(f){const u=Pu(f,`Failed to execute query '${l} against cache`);c.reject(u)}})(await zj(n),e,s))),s.promise}function LI(n,e,s={}){const r=new ln;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,u,m){const g=new Lx({next:v=>{g.Nu(),c.enqueueAndForget((()=>Cj(l,b))),v.fromCache&&u.source==="server"?m.reject(new we(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(v)},error:v=>m.reject(v)}),b=new Ij(f,g,{includeMetadataChanges:!0,Ka:!0});return Ej(l,b)})(await fu(n),n.asyncQueue,e,s,r))),r.promise}function DH(n,e){const s=new ln;return n.asyncQueue.enqueueAndForget((async()=>iH(await Vj(n),e,s))),s.promise}function OH(n,e){const s=new Lx(e);return n.asyncQueue.enqueueAndForget((async()=>(function(i,l){Ce(i).Ca.add(l),l.next()})(await fu(n),s))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(i,l){Ce(i).Ca.delete(l)})(await fu(n),s)))}}function MH(n,e,s){const r=new ln;return n.asyncQueue.enqueueAndForget((async()=>{const i=await EH(n);new TH(n.asyncQueue,i,s,e,r).ju()})),r.promise}function LH(n,e,s,r){const i=(function(c,f){let u;return u=typeof c=="string"?AA().encode(c):c,(function(g,b){return new _H(g,b)})((function(g,b){if(g instanceof Uint8Array)return mk(g,b);if(g instanceof ArrayBuffer)return mk(new Uint8Array(g),b);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(u),f)})(s,mm(e));n.asyncQueue.enqueueAndForget((async()=>{wH(await Vj(n),i,r)}))}function zH(n,e){return n.asyncQueue.enqueue((async()=>(function(r,i){const l=Ce(r);return l.persistence.runTransaction("Get named query","readonly",(c=>l.Pi.getNamedQuery(c,i)))})(await zj(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH="ComponentProvider",gk=new Map;function UH(n,e,s,r,i){return new e$(n,e,s,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,zI(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="firestore.googleapis.com",xk=!0;class yk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VI,this.ssl=xk}else this.host=e.host,this.ssl=e.ssl??xk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tq)throw new we(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gm{constructor(e,s,r,i){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new h7;switch(r.type){case"firstParty":return new g7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=gk.get(s);r&&(_e(VH,"Removing Datastore"),gk.delete(s),r.terminate())})(this),Promise.resolve()}}function FH(n,e,s,r={}){var m;n=wt(n,gm);const i=wu(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${s}`;i&&(nE(`https://${f}`),rE("Firestore",!0)),l.host!==VI&&l.host!==f&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...l,host:f,ssl:i,emulatorOptions:r};if(!Uo(u,c)&&(n._setSettings(u),r.mockUserToken)){let g,b;if(typeof r.mockUserToken=="string")g=r.mockUserToken,b=Gs.MOCK_USER;else{g=T8(r.mockUserToken,(m=n._app)==null?void 0:m.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new we(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Gs(v)}n._authCredentials=new f7(new CC(g,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let In=class UI{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new UI(this.firestore,e,this._query)}},$t=class sf{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sf(this.firestore,e,this._key)}toJSON(){return{type:sf._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(am(s,sf._jsonSchema))return new sf(e,r||null,new Ee(ht.fromString(s.referencePath)))}};$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:Ds("string",$t._jsonSchemaVersion),referencePath:Ds("string")};let Mo=class FI extends In{constructor(e,s,r){super(e,s,ku(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new Ee(e))}withConverter(e){return new FI(this.firestore,e,this._path)}};function BI(n,e,...s){if(n=He(n),Ww("collection","path",e),n instanceof gm){const r=ht.fromString(e,...s);return iT(r),new Mo(n,null,r)}{if(!(n instanceof $t||n instanceof Mo))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...s));return iT(r),new Mo(n.firestore,null,r)}}function BH(n,e){if(n=wt(n,gm),Ww("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new we(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new In(n,null,(function(r){return new Di(ht.emptyPath(),r)})(e))}function Jg(n,e,...s){if(n=He(n),arguments.length===1&&(e=Kw.newId()),Ww("doc","path",e),n instanceof gm){const r=ht.fromString(e,...s);return aT(r),new $t(n,null,new Ee(r))}{if(!(n instanceof $t||n instanceof Mo))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...s));return aT(r),new $t(n.firestore,n instanceof Mo?n.converter:null,new Ee(r))}}function $I(n,e){return n=He(n),e=He(e),(n instanceof $t||n instanceof Mo)&&(e instanceof $t||e instanceof Mo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function qI(n,e){return n=He(n),e=He(e),n instanceof In&&e instanceof In&&n.firestore===e.firestore&&cm(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="AsyncQueue";class vk{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Nj(this,"async_queue_retry"),this._c=()=>{const r=jg();r&&_e(bk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=jg();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=jg();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new ln;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!el(e))throw e;_e(bk,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,js("INTERNAL UNHANDLED ERROR: ",wk(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const i=kj.createAndSchedule(this,e,s,r,(l=>this.hc(l)));return this.tc.push(i),i}uc(){this.nc&&Re(47125,{Pc:wk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function wk(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(){this._progressObserver={},this._taskCompletionResolver=new ln,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,s,r){this._progressObserver={next:e,error:s,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,s){return this._taskCompletionResolver.promise.then(e,s)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH=-1;let _s=class extends gm{constructor(e,s,r,i){super(e,s,r,i),this.type="firestore",this._queue=new vk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vk(e),this._firestoreClient=void 0,await e}}};function wn(n){if(n._terminated)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||HI(n),n._firestoreClient}function HI(n){var r,i,l,c;const e=n._freezeSettings(),s=UH(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,(i=n._app)==null?void 0:i.options.apiKey,e);n._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new kH(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(u){const m=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(m),_online:m}})(n._componentsProvider))}function HH(n,e){Ka("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=n._freezeSettings();return GI(n,Bf.provider,{build:r=>new PI(r,s.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function GH(n){Ka("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();GI(n,Bf.provider,{build:s=>new NH(s,e.cacheSizeBytes)})}function GI(n,e,s){if((n=wt(n,_s))._firestoreClient||n._terminated)throw new we(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new we(ie.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:s},HI(n)}function KH(n){if(n._initialized&&!n._terminated)throw new we(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ln;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Ba.v())return Promise.resolve();const i=r+aI;await Ba.delete(i)})(bj(n._databaseId,n._persistenceKey)),e.resolve()}catch(s){e.reject(s)}})),e.promise}function WH(n){return(function(s){const r=new ln;return s.asyncQueue.enqueueAndForget((async()=>dH(await Vj(s),r))),r.promise})(wn(n=wt(n,_s)))}function YH(n){return CH(wn(n=wt(n,_s)))}function QH(n){return AH(wn(n=wt(n,_s)))}function XH(n,e){const s=wn(n=wt(n,_s)),r=new $H;return LH(s,n._databaseId,e,r),r}function JH(n,e){return zH(wn(n=wt(n,_s)),e).then((s=>s?new In(n,null,s.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bn(gs.fromBase64String(e))}catch(s){throw new we(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new bn(gs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(am(e,bn._jsonSchema))return bn.fromBase64String(e.bytes)}}bn._jsonSchemaVersion="firestore/bytes/1.0",bn._jsonSchema={type:Ds("string",bn._jsonSchemaVersion),bytes:Ds("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=class{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new we(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new we(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new we(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ia._jsonSchemaVersion}}static fromJSON(e){if(am(e,ia._jsonSchema))return new ia(e.latitude,e.longitude)}}ia._jsonSchemaVersion="firestore/geoPoint/1.0",ia._jsonSchema={type:Ds("string",ia._jsonSchemaVersion),latitude:Ds("number"),longitude:Ds("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==i[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(am(e,oa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new oa(e.vectorValues);throw new we(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oa._jsonSchemaVersion="firestore/vectorValue/1.0",oa._jsonSchema={type:Ds("string",oa._jsonSchemaVersion),vectorValues:Ds("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH=/^__.*__$/;class eG{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,s,this.fieldTransforms):new Eu(e,this.data,s,this.fieldTransforms)}}class KI{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new Mi(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function WI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:n})}}class Vx{constructor(e,s,r,i,l,c){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=i,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Vx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const s=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:s,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const s=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:s,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Zg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(WI(this.dataSource)&&ZH.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class tG{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||mm(e)}createContext(e,s,r,i=!1){return new Vx({dataSource:e,methodName:s,targetDoc:r,path:ts.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _c(n){const e=n._freezeSettings(),s=mm(n._databaseId);return new tG(n._databaseId,!!e.ignoreUndefinedProperties,s)}function Ux(n,e,s,r,i,l={}){const c=n.createContext(l.merge||l.mergeFields?2:0,e,s,i);Gj("Data must be an object, but it was:",c,r);const f=XI(r,c);let u,m;if(l.merge)u=new Bn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const b of l.mergeFields){const v=gc(e,b,s);if(!c.contains(v))throw new we(ie.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);eR(g,v)||g.push(v)}u=new Bn(g),m=c.fieldTransforms.filter((b=>u.covers(b.field)))}else u=null,m=c.fieldTransforms;return new eG(new nn(f),u,m)}class xm extends Nc{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xm}}function YI(n,e,s){return new Vx({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:s},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Uj extends Nc{_toFieldTransform(e){return new um(e.path,new au)}isEqual(e){return e instanceof Uj}}class Fj extends Nc{constructor(e,s){super(e),this.Ac=s}_toFieldTransform(e){const s=YI(this,e,!0),r=this.Ac.map((l=>Sc(l,s))),i=new cc(r);return new um(e.path,i)}isEqual(e){return e instanceof Fj&&Uo(this.Ac,e.Ac)}}class Bj extends Nc{constructor(e,s){super(e),this.Ac=s}_toFieldTransform(e){const s=YI(this,e,!0),r=this.Ac.map((l=>Sc(l,s))),i=new dc(r);return new um(e.path,i)}isEqual(e){return e instanceof Bj&&Uo(this.Ac,e.Ac)}}class $j extends Nc{constructor(e,s){super(e),this.Vc=s}_toFieldTransform(e){const s=new iu(e.serializer,wA(e.serializer,this.Vc));return new um(e.path,s)}isEqual(e){return e instanceof $j&&this.Vc===e.Vc}}function qj(n,e,s,r){const i=n.createContext(1,e,s);Gj("Data must be an object, but it was:",i,r);const l=[],c=nn.empty();tl(r,((u,m)=>{const g=ZI(e,u,s);m=He(m);const b=i.childContextForFieldPath(g);if(m instanceof xm)l.push(g);else{const v=Sc(m,b);v!=null&&(l.push(g),c.set(g,v))}}));const f=new Bn(l);return new KI(c,f,i.fieldTransforms)}function Hj(n,e,s,r,i,l){const c=n.createContext(1,e,s),f=[gc(e,r,s)],u=[i];if(l.length%2!=0)throw new we(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<l.length;v+=2)f.push(gc(e,l[v])),u.push(l[v+1]);const m=[],g=nn.empty();for(let v=f.length-1;v>=0;--v)if(!eR(m,f[v])){const T=f[v];let N=u[v];N=He(N);const E=c.childContextForFieldPath(T);if(N instanceof xm)m.push(T);else{const k=Sc(N,E);k!=null&&(m.push(T),g.set(T,k))}}const b=new Bn(m);return new KI(g,b,c.fieldTransforms)}function QI(n,e,s,r=!1){return Sc(s,n.createContext(r?4:3,e))}function Sc(n,e){if(JI(n=He(n)))return Gj("Unsupported field value:",e,n),XI(n,e);if(n instanceof Nc)return(function(r,i){if(!WI(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(i);l&&i.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const l=[];let c=0;for(const f of r){let u=Sc(f,i.childContextForArray(c));u==null&&(u={nullValue:"NULL_VALUE"}),l.push(u),c++}return{arrayValue:{values:l}}})(n,e)}return(function(r,i){if((r=He(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=_t.fromDate(r);return{timestampValue:ou(i.serializer,l)}}if(r instanceof _t){const l=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ou(i.serializer,l)}}if(r instanceof ia)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bn)return{bytesValue:PA(i.serializer,r._byteString)};if(r instanceof $t){const l=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw i.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:hj(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof oa)return(function(c,f){const u=c instanceof oa?c.toArray():c;return{mapValue:{fields:{[tj]:{stringValue:sj},[su]:{arrayValue:{values:u.map((g=>{if(typeof g!="number")throw f.createError("VectorValues must only contain numeric values.");return ij(f.serializer,g)}))}}}}}})(r,i);if(HA(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${jx(r)}`)})(n,e)}function XI(n,e){const s={};return QC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tl(n,((r,i)=>{const l=Sc(i,e.childContextForField(r));l!=null&&(s[r]=l)})),{mapValue:{fields:s}}}function JI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof ia||n instanceof bn||n instanceof $t||n instanceof Nc||n instanceof oa||HA(n))}function Gj(n,e,s){if(!JI(s)||!RC(s)){const r=jx(s);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function gc(n,e,s){if((e=He(e))instanceof pc)return e._internalPath;if(typeof e=="string")return ZI(n,e);throw Zg("Field path arguments must be of type string or ",n,!1,void 0,s)}const sG=new RegExp("[~\\*/\\[\\]]");function ZI(n,e,s){if(e.search(sG)>=0)throw Zg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,s);try{return new pc(...e.split("."))._internalPath}catch{throw Zg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,s)}}function Zg(n,e,s,r,i){const l=r&&!r.isEmpty(),c=i!==void 0;let f=`Function ${e}() called with invalid data`;s&&(f+=" (via `toFirestore()`)"),f+=". ";let u="";return(l||c)&&(u+=" (found",l&&(u+=` in field ${r}`),c&&(u+=` in document ${i}`),u+=")"),new we(ie.INVALID_ARGUMENT,f+n+u)}function eR(n,e){return n.some((s=>s.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{convertValue(e,s="none"){switch(Ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return tl(e,((i,l)=>{r[i]=this.convertValue(l,s)})),r}convertVectorValue(e){var r,i,l;const s=(l=(i=(r=e.fields)==null?void 0:r[su].arrayValue)==null?void 0:i.values)==null?void 0:l.map((c=>Zt(c.doubleValue)));return new oa(s)}convertGeoPoint(e){return new ia(Zt(e.latitude),Zt(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=Ex(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(Of(e));default:return null}}convertTimestamp(e){const s=Ci(e);return new _t(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=ht.fromString(e);Ve(qA(r),9688,{name:e});const i=new qo(r.get(1),r.get(3)),l=new Ee(r.popFirst(5));return i.isEqual(s)||js(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Kj{constructor(e){super(),this.firestore=e}convertBytes(e){return new bn(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(){return new xm("deleteField")}function rG(){return new Uj("serverTimestamp")}function aG(...n){return new Fj("arrayUnion",n)}function iG(...n){return new Bj("arrayRemove",n)}function oG(n){return new $j("increment",n)}const jk="@firebase/firestore",Nk="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(n){return(function(s,r){if(typeof s!="object"||s===null)return!1;const i=s;for(const l of r)if(l in i&&typeof i[l]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,s,r,i,l){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const s=this._document.data.field(gc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class lG extends $f{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wj{}class ym extends Wj{}function So(n,e,...s){let r=[];e instanceof Wj&&r.push(e),r=r.concat(s),(function(l){const c=l.filter((u=>u instanceof Yj)).length,f=l.filter((u=>u instanceof Fx)).length;if(c>1||c>0&&f>0)throw new we(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Fx extends ym{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new Fx(e,s,r)}_apply(e){const s=this._parse(e);return nR(e._query,s),new In(e.firestore,e.converter,Ev(e._query,s))}_parse(e){const s=_c(e.firestore);return(function(l,c,f,u,m,g,b){let v;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new we(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Sk(b,g);const N=[];for(const E of b)N.push(_k(u,l,E));v={arrayValue:{values:N}}}else v=_k(u,l,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Sk(b,g),v=QI(f,c,b,g==="in"||g==="not-in");return pt.create(m,g,v)})(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function cG(n,e,s){const r=e,i=gc("where",n);return Fx._create(i,r,s)}class Yj extends Wj{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new Yj(e,s)}_parse(e){const s=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return s.length===1?s[0]:Et.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:((function(i,l){let c=i;const f=l.getFlattenedFilters();for(const u of f)nR(c,u),c=Ev(c,u)})(e._query,s),new In(e.firestore,e.converter,Ev(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qj extends ym{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new Qj(e,s)}_apply(e){const s=(function(i,l,c){if(i.startAt!==null)throw new we(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zf(l,c)})(e._query,this._field,this._direction);return new In(e.firestore,e.converter,m$(e._query,s))}}function dG(n,e="asc"){const s=e,r=gc("orderBy",n);return Qj._create(r,s)}class Bx extends ym{constructor(e,s,r){super(),this.type=e,this._limit=s,this._limitType=r}static _create(e,s,r){return new Bx(e,s,r)}_apply(e){return new In(e.firestore,e.converter,$g(e._query,this._limit,this._limitType))}}function uG(n){return PC("limit",n),Bx._create("limit",n,"F")}function hG(n){return PC("limitToLast",n),Bx._create("limitToLast",n,"L")}class $x extends ym{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new $x(e,s,r)}_apply(e){const s=sR(e,this.type,this._docOrFields,this._inclusive);return new In(e.firestore,e.converter,p$(e._query,s))}}function fG(...n){return $x._create("startAt",n,!0)}function mG(...n){return $x._create("startAfter",n,!1)}class qx extends ym{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new qx(e,s,r)}_apply(e){const s=sR(e,this.type,this._docOrFields,this._inclusive);return new In(e.firestore,e.converter,g$(e._query,s))}}function pG(...n){return qx._create("endBefore",n,!1)}function gG(...n){return qx._create("endAt",n,!0)}function sR(n,e,s,r){if(s[0]=He(s[0]),s[0]instanceof $f)return(function(l,c,f,u,m){if(!u)throw new we(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const g=[];for(const b of Vd(l))if(b.field.isKeyField())g.push(oc(c,u.key));else{const v=u.data.field(b.field);if(kx(v))throw new we(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const T=b.field.canonicalString();throw new we(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(v)}return new Ko(g,m)})(n._query,n.firestore._databaseId,e,s[0]._document,r);{const i=_c(n.firestore);return(function(c,f,u,m,g,b){const v=c.explicitOrderBy;if(g.length>v.length)throw new we(ie.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let N=0;N<g.length;N++){const E=g[N];if(v[N].field.isKeyField()){if(typeof E!="string")throw new we(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof E}`);if(!rj(c)&&E.indexOf("/")!==-1)throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${E}' contains a slash.`);const k=c.path.child(ht.fromString(E));if(!Ee.isDocumentKey(k))throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const D=new Ee(k);T.push(oc(f,D))}else{const k=QI(u,m,E);T.push(k)}}return new Ko(T,b)})(n._query,n.firestore._databaseId,i,e,s,r)}}function _k(n,e,s){if(typeof(s=He(s))=="string"){if(s==="")throw new we(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rj(e)&&s.indexOf("/")!==-1)throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child(ht.fromString(s));if(!Ee.isDocumentKey(r))throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oc(n,new Ee(r))}if(s instanceof $t)return oc(n,s._key);throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jx(s)}.`)}function Sk(n,e){if(!Array.isArray(n)||n.length===0)throw new we(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nR(n,e){const s=(function(i,l){for(const c of i)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(s!==null)throw s===e.op?new we(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}function Hx(n,e,s){let r;return r=n?s&&(s.merge||s.mergeFields)?n.toFirestore(e,s):n.toFirestore(e):e,r}class xG extends Kj{constructor(e){super(),this.firestore=e}convertBytes(e){return new bn(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,s)}}class Fl{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Dr=class rR extends $f{constructor(e,s,r,i,l,c){super(e,s,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(gc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=rR._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}};Dr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Dr._jsonSchema={type:Ds("string",Dr._jsonSchemaVersion),bundleSource:Ds("string","DocumentSnapshot"),bundleName:Ds("string"),bundle:Ds("string")};let bf=class extends Dr{data(e={}){return super.data(e)}},la=class aR{constructor(e,s,r,i){this._firestore=e,this._userDataWriter=s,this._snapshot=i,this.metadata=new Fl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new bf(this._firestore,this._userDataWriter,r.key,r,new Fl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new we(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(i,l){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((f=>{const u=new bf(i._firestore,i._userDataWriter,f.doc.key,f.doc,new Fl(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);return f.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const u=new bf(i._firestore,i._userDataWriter,f.doc.key,f.doc,new Fl(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,g=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),g=c.indexOf(f.doc.key)),{type:yG(f.type),doc:u,oldIndex:m,newIndex:g}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=aR._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],i=[];return this.docs.forEach((l=>{l._document!==null&&(s.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),i.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function yG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}function iR(n,e){return n instanceof Dr&&e instanceof Dr?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof la&&e instanceof la&&n._firestore===e._firestore&&qI(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:Ds("string",la._jsonSchemaVersion),bundleSource:Ds("string","QuerySnapshot"),bundleName:Ds("string"),bundle:Ds("string")};const bG={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vG=class{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=_c(e)}set(e,s,r){this._verifyNotCommitted();const i=Ao(e,this._firestore),l=Hx(i.converter,s,r),c=Ux(this._dataReader,"WriteBatch.set",i._key,l,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,ss.none())),this}update(e,s,r,...i){this._verifyNotCommitted();const l=Ao(e,this._firestore);let c;return c=typeof(s=He(s))=="string"||s instanceof pc?Hj(this._dataReader,"WriteBatch.update",l._key,s,r,i):qj(this._dataReader,"WriteBatch.update",l._key,s),this._mutations.push(c.toMutation(l._key,ss.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=Ao(e,this._firestore);return this._mutations=this._mutations.concat(new Cu(s._key,ss.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ao(n,e){if((n=He(n)).firestore!==e)throw new we(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e,s){this._firestore=e,this._transaction=s,this._dataReader=_c(e)}get(e){const s=Ao(e,this._firestore),r=new xG(this._firestore);return this._transaction.lookup([s._key]).then((i=>{if(!i||i.length!==1)return Re(24041);const l=i[0];if(l.isFoundDocument())return new $f(this._firestore,r,l.key,l,s.converter);if(l.isNoDocument())return new $f(this._firestore,r,s._key,null,s.converter);throw Re(18433,{doc:l})}))}set(e,s,r){const i=Ao(e,this._firestore),l=Hx(i.converter,s,r),c=Ux(this._dataReader,"Transaction.set",i._key,l,i.converter!==null,r);return this._transaction.set(i._key,c),this}update(e,s,r,...i){const l=Ao(e,this._firestore);let c;return c=typeof(s=He(s))=="string"||s instanceof pc?Hj(this._dataReader,"Transaction.update",l._key,s,r,i):qj(this._dataReader,"Transaction.update",l._key,s),this._transaction.update(l._key,c),this}delete(e){const s=Ao(e,this._firestore);return this._transaction.delete(s._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jG=class extends wG{constructor(e,s){super(e,s),this._firestore=e}get(e){const s=Ao(e,this._firestore),r=new Tc(this._firestore);return super.get(e).then((i=>new Dr(this._firestore,r,s._key,i._document,new Fl(!1,!1),s.converter)))}};function NG(n,e,s){n=wt(n,_s);const r={...bG,...s};(function(c){if(c.maxAttempts<1)throw new we(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const i=wn(n);return MH(i,(l=>e(new jG(n,l))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(n){n=wt(n,$t);const e=wt(n.firestore,_s),s=wn(e);return MI(s,n._key).then((r=>Xj(e,n,r)))}function SG(n){n=wt(n,$t);const e=wt(n.firestore,_s),s=wn(e),r=new Tc(e);return RH(s,n._key).then((i=>new Dr(e,r,n._key,i,new Fl(i!==null&&i.hasLocalMutations,!0),n.converter)))}function TG(n){n=wt(n,$t);const e=wt(n.firestore,_s),s=wn(e);return MI(s,n._key,{source:"server"}).then((r=>Xj(e,n,r)))}function kG(n){n=wt(n,In);const e=wt(n.firestore,_s),s=wn(e),r=new Tc(e);return tR(n._query),LI(s,n._query).then((i=>new la(e,r,n,i)))}function EG(n){n=wt(n,In);const e=wt(n.firestore,_s),s=wn(e),r=new Tc(e);return PH(s,n._query).then((i=>new la(e,r,n,i)))}function CG(n){n=wt(n,In);const e=wt(n.firestore,_s),s=wn(e),r=new Tc(e);return LI(s,n._query,{source:"server"}).then((i=>new la(e,r,n,i)))}function Tk(n,e,s){n=wt(n,$t);const r=wt(n.firestore,_s),i=Hx(n.converter,e,s),l=_c(r);return bm(r,[Ux(l,"setDoc",n._key,i,n.converter!==null,s).toMutation(n._key,ss.none())])}function kk(n,e,s,...r){n=wt(n,$t);const i=wt(n.firestore,_s),l=_c(i);let c;return c=typeof(e=He(e))=="string"||e instanceof pc?Hj(l,"updateDoc",n._key,e,s,r):qj(l,"updateDoc",n._key,e),bm(i,[c.toMutation(n._key,ss.exists(!0))])}function AG(n){return bm(wt(n.firestore,_s),[new Cu(n._key,ss.none())])}function IG(n,e){const s=wt(n.firestore,_s),r=Jg(n),i=Hx(n.converter,e),l=_c(n.firestore);return bm(s,[Ux(l,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ss.exists(!1))]).then((()=>r))}function oR(n,...e){var m,g,b;n=He(n);let s={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Fv(e[r])||(s=e[r++]);const i={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Fv(e[r])){const v=e[r];e[r]=(m=v.next)==null?void 0:m.bind(v),e[r+1]=(g=v.error)==null?void 0:g.bind(v),e[r+2]=(b=v.complete)==null?void 0:b.bind(v)}let l,c,f;if(n instanceof $t)c=wt(n.firestore,_s),f=ku(n._key.path),l={next:v=>{e[r]&&e[r](Xj(c,n,v))},error:e[r+1],complete:e[r+2]};else{const v=wt(n,In);c=wt(v.firestore,_s),f=v._query;const T=new Tc(c);l={next:N=>{e[r]&&e[r](new la(c,T,v,N))},error:e[r+1],complete:e[r+2]},tR(n._query)}const u=wn(c);return IH(u,f,i,l)}function RG(n,e){n=wt(n,_s);const s=wn(n),r=Fv(e)?e:{next:e};return OH(s,r)}function bm(n,e){const s=wn(n);return DH(s,e)}function Xj(n,e,s){const r=s.docs.get(e._key),i=new Tc(n);return new Dr(n,i,e._key,r,new Fl(s.hasPendingWrites,s.fromCache),e.converter)}(function(e,s=!0){c7(Qo),Fr(new An("firestore",((r,{instanceIdentifier:i,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new _s(new m7(r.getProvider("auth-internal")),new x7(c,r.getProvider("app-check-internal")),t$(c,i),c);return l={useFetchStreams:s,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),En(jk,Nk,e),En(jk,Nk,"esm2020")})();const PG="@firebase/firestore-compat",DG="0.4.4";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new we("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(){if(typeof Uint8Array>"u")throw new we("unimplemented","Uint8Arrays are not available in this environment.")}function Ck(){if(!J7())throw new we("unimplemented","Blobs are unavailable in Firestore in this environment.")}let lR=class Bv{constructor(e){this._delegate=e}static fromBase64String(e){return Ck(),new Bv(bn.fromBase64String(e))}static fromUint8Array(e){return Ek(),new Bv(bn.fromUint8Array(e))}toBase64(){return Ck(),this._delegate.toBase64()}toUint8Array(){return Ek(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(n){return OG(n,["next","error","complete"])}function OG(n,e){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of e)if(r in s&&typeof s[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{enableIndexedDbPersistence(e,s){return HH(e._delegate,{forceOwnership:s})}enableMultiTabIndexedDbPersistence(e){return GH(e._delegate)}clearIndexedDbPersistence(e){return KH(e._delegate)}}class cR{constructor(e,s,r){this._delegate=s,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof qo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const s=this._delegate._getSettings();!e.merge&&s.host!==e.host&&Ka("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...s,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,s,r={}){FH(this._delegate,e,s,r)}enableNetwork(){return YH(this._delegate)}disableNetwork(){return QH(this._delegate)}enablePersistence(e){let s=!1,r=!1;return e&&(s=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,IC("synchronizeTabs",s,"experimentalForceOwningTab",r)),s?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return WH(this._delegate)}onSnapshotsInSync(e){return RG(this._delegate,e)}get app(){if(!this._appCompat)throw new we("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new mu(this,BI(this._delegate,e))}catch(s){throw kn(s,"collection()","Firestore.collection()")}}doc(e){try{return new Rr(this,Jg(this._delegate,e))}catch(s){throw kn(s,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Tn(this,BH(this._delegate,e))}catch(s){throw kn(s,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return NG(this._delegate,s=>e(new dR(this,s)))}batch(){return wn(this._delegate),new uR(new vG(this._delegate,e=>bm(this._delegate,e)))}loadBundle(e){return XH(this._delegate,e)}namedQuery(e){return JH(this._delegate,e).then(s=>s?new Tn(this,s):null)}}class Gx extends Kj{constructor(e){super(),this.firestore=e}convertBytes(e){return new lR(new bn(e))}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return Rr.forKey(s,this.firestore,null)}}function LG(n){d7(n)}class dR{constructor(e,s){this._firestore=e,this._delegate=s,this._userDataWriter=new Gx(e)}get(e){const s=Bl(e);return this._delegate.get(s).then(r=>new qf(this._firestore,new Dr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,s.converter)))}set(e,s,r){const i=Bl(e);return r?(Jj("Transaction.set",r),this._delegate.set(i,s,r)):this._delegate.set(i,s),this}update(e,s,r,...i){const l=Bl(e);return arguments.length===2?this._delegate.update(l,s):this._delegate.update(l,s,r,...i),this}delete(e){const s=Bl(e);return this._delegate.delete(s),this}}class uR{constructor(e){this._delegate=e}set(e,s,r){const i=Bl(e);return r?(Jj("WriteBatch.set",r),this._delegate.set(i,s,r)):this._delegate.set(i,s),this}update(e,s,r,...i){const l=Bl(e);return arguments.length===2?this._delegate.update(l,s):this._delegate.update(l,s,r,...i),this}delete(e){const s=Bl(e);return this._delegate.delete(s),this}commit(){return this._delegate.commit()}}class xc{constructor(e,s,r){this._firestore=e,this._userDataWriter=s,this._delegate=r}fromFirestore(e,s){const r=new bf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hf(this._firestore,r),s??{})}toFirestore(e,s){return s?this._delegate.toFirestore(e,s):this._delegate.toFirestore(e)}static getInstance(e,s){const r=xc.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(s);return l||(l=new xc(e,new Gx(e),s),i.set(s,l)),l}}xc.INSTANCES=new WeakMap;class Rr{constructor(e,s){this.firestore=e,this._delegate=s,this._userDataWriter=new Gx(e)}static forPath(e,s,r){if(e.length%2!==0)throw new we("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Rr(s,new $t(s._delegate,r,new Ee(e)))}static forKey(e,s,r){return new Rr(s,new $t(s._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new mu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new mu(this.firestore,BI(this._delegate,e))}catch(s){throw kn(s,"collection()","DocumentReference.collection()")}}isEqual(e){return e=He(e),e instanceof $t?$I(this._delegate,e):!1}set(e,s){s=Jj("DocumentReference.set",s);try{return s?Tk(this._delegate,e,s):Tk(this._delegate,e)}catch(r){throw kn(r,"setDoc()","DocumentReference.set()")}}update(e,s,...r){try{return arguments.length===1?kk(this._delegate,e):kk(this._delegate,e,s,...r)}catch(i){throw kn(i,"updateDoc()","DocumentReference.update()")}}delete(){return AG(this._delegate)}onSnapshot(...e){const s=hR(e),r=fR(e,i=>new qf(this.firestore,new Dr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return oR(this._delegate,s,r)}get(e){let s;return(e==null?void 0:e.source)==="cache"?s=SG(this._delegate):(e==null?void 0:e.source)==="server"?s=TG(this._delegate):s=_G(this._delegate),s.then(r=>new qf(this.firestore,new Dr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Rr(this.firestore,e?this._delegate.withConverter(xc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function kn(n,e,s){return n.message=n.message.replace(e,s),n}function hR(n){for(const e of n)if(typeof e=="object"&&!$v(e))return e;return{}}function fR(n,e){var r,i;let s;return $v(n[0])?s=n[0]:$v(n[1])?s=n[1]:typeof n[0]=="function"?s={next:n[0],error:n[1],complete:n[2]}:s={next:n[1],error:n[2],complete:n[3]},{next:l=>{s.next&&s.next(e(l))},error:(r=s.error)==null?void 0:r.bind(s),complete:(i=s.complete)==null?void 0:i.bind(s)}}class qf{constructor(e,s){this._firestore=e,this._delegate=s}get ref(){return new Rr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,s){return this._delegate.get(e,s)}isEqual(e){return iR(this._delegate,e._delegate)}}class Hf extends qf{data(e){const s=this._delegate.data(e);return this._delegate._converter||u7(s!==void 0,"Document in a QueryDocumentSnapshot should exist"),s}}class Tn{constructor(e,s){this.firestore=e,this._delegate=s,this._userDataWriter=new Gx(e)}where(e,s,r){try{return new Tn(this.firestore,So(this._delegate,cG(e,s,r)))}catch(i){throw kn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,s){try{return new Tn(this.firestore,So(this._delegate,dG(e,s)))}catch(r){throw kn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Tn(this.firestore,So(this._delegate,uG(e)))}catch(s){throw kn(s,"limit()","Query.limit()")}}limitToLast(e){try{return new Tn(this.firestore,So(this._delegate,hG(e)))}catch(s){throw kn(s,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Tn(this.firestore,So(this._delegate,fG(...e)))}catch(s){throw kn(s,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Tn(this.firestore,So(this._delegate,mG(...e)))}catch(s){throw kn(s,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Tn(this.firestore,So(this._delegate,pG(...e)))}catch(s){throw kn(s,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Tn(this.firestore,So(this._delegate,gG(...e)))}catch(s){throw kn(s,"endAt()","Query.endAt()")}}isEqual(e){return qI(this._delegate,e._delegate)}get(e){let s;return(e==null?void 0:e.source)==="cache"?s=EG(this._delegate):(e==null?void 0:e.source)==="server"?s=CG(this._delegate):s=kG(this._delegate),s.then(r=>new qv(this.firestore,new la(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const s=hR(e),r=fR(e,i=>new qv(this.firestore,new la(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return oR(this._delegate,s,r)}withConverter(e){return new Tn(this.firestore,e?this._delegate.withConverter(xc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class zG{constructor(e,s){this._firestore=e,this._delegate=s}get type(){return this._delegate.type}get doc(){return new Hf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qv{constructor(e,s){this._firestore=e,this._delegate=s}get query(){return new Tn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Hf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(s=>new zG(this._firestore,s))}forEach(e,s){this._delegate.forEach(r=>{e.call(s,new Hf(this._firestore,r))})}isEqual(e){return iR(this._delegate,e._delegate)}}class mu extends Tn{constructor(e,s){super(e,s),this.firestore=e,this._delegate=s}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Rr(this.firestore,e):null}doc(e){try{return e===void 0?new Rr(this.firestore,Jg(this._delegate)):new Rr(this.firestore,Jg(this._delegate,e))}catch(s){throw kn(s,"doc()","CollectionReference.doc()")}}add(e){return IG(this._delegate,e).then(s=>new Rr(this.firestore,s))}isEqual(e){return $I(this._delegate,e._delegate)}withConverter(e){return new mu(this.firestore,e?this._delegate.withConverter(xc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Bl(n){return wt(n,$t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(...e){this._delegate=new pc(...e)}static documentId(){return new Zj(ts.keyField().canonicalString())}isEqual(e){return e=He(e),e instanceof pc?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{static serverTimestamp(){const e=rG();return e._methodName="FieldValue.serverTimestamp",new Ll(e)}static delete(){const e=nG();return e._methodName="FieldValue.delete",new Ll(e)}static arrayUnion(...e){const s=aG(...e);return s._methodName="FieldValue.arrayUnion",new Ll(s)}static arrayRemove(...e){const s=iG(...e);return s._methodName="FieldValue.arrayRemove",new Ll(s)}static increment(e){const s=oG(e);return s._methodName="FieldValue.increment",new Ll(s)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG={Firestore:cR,GeoPoint:ia,Timestamp:_t,Blob:lR,Transaction:dR,WriteBatch:uR,DocumentReference:Rr,DocumentSnapshot:qf,Query:Tn,QueryDocumentSnapshot:Hf,QuerySnapshot:qv,CollectionReference:mu,FieldPath:Zj,FieldValue:Ll,setLogLevel:LG,CACHE_SIZE_UNLIMITED:qH};function UG(n,e){n.INTERNAL.registerComponent(new An("firestore-compat",s=>{const r=s.getProvider("app-compat").getImmediate(),i=s.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...VG}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FG(n){UG(n,(e,s)=>new cR(e,s,new MG)),n.registerVersion(PG,DG)}FG(Xo);const mR="@firebase/installations",e1="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=1e4,gR=`w:${e1}`,xR="FIS_v2",BG="https://firebaseinstallations.googleapis.com/v1",$G=3600*1e3,qG="installations",HG="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},yc=new Ii(qG,HG,GG);function yR(n){return n instanceof on&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR({projectId:n}){return`${BG}/projects/${n}/installations`}function vR(n){return{token:n.token,requestStatus:2,expiresIn:WG(n.expiresIn),creationTime:Date.now()}}async function wR(n,e){const r=(await e.json()).error;return yc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function jR({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function KG(n,{refreshToken:e}){const s=jR(n);return s.append("Authorization",YG(e)),s}async function NR(n){const e=await n();return e.status>=500&&e.status<600?n():e}function WG(n){return Number(n.replace("s","000"))}function YG(n){return`${xR} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QG({appConfig:n,heartbeatServiceProvider:e},{fid:s}){const r=bR(n),i=jR(n),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const c={fid:s,authVersion:xR,appId:n.appId,sdkVersion:gR},f={method:"POST",headers:i,body:JSON.stringify(c)},u=await NR(()=>fetch(r,f));if(u.ok){const m=await u.json();return{fid:m.fid||s,registrationStatus:2,refreshToken:m.refreshToken,authToken:vR(m.authToken)}}else throw await wR("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XG(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG=/^[cdef][\w-]{21}$/,Hv="";function ZG(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const s=eK(n);return JG.test(s)?s:Hv}catch{return Hv}}function eK(n){return XG(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new Map;function TR(n,e){const s=Kx(n);kR(s,e),tK(s,e)}function kR(n,e){const s=SR.get(n);if(s)for(const r of s)r(e)}function tK(n,e){const s=sK();s&&s.postMessage({key:n,fid:e}),nK()}let $l=null;function sK(){return!$l&&"BroadcastChannel"in self&&($l=new BroadcastChannel("[Firebase] FID Change"),$l.onmessage=n=>{kR(n.data.key,n.data.fid)}),$l}function nK(){SR.size===0&&$l&&($l.close(),$l=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK="firebase-installations-database",aK=1,bc="firebase-installations-store";let Db=null;function t1(){return Db||(Db=pE(rK,aK,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(bc)}}})),Db}async function ex(n,e){const s=Kx(n),i=(await t1()).transaction(bc,"readwrite"),l=i.objectStore(bc),c=await l.get(s);return await l.put(e,s),await i.done,(!c||c.fid!==e.fid)&&TR(n,e.fid),e}async function ER(n){const e=Kx(n),r=(await t1()).transaction(bc,"readwrite");await r.objectStore(bc).delete(e),await r.done}async function Wx(n,e){const s=Kx(n),i=(await t1()).transaction(bc,"readwrite"),l=i.objectStore(bc),c=await l.get(s),f=e(c);return f===void 0?await l.delete(s):await l.put(f,s),await i.done,f&&(!c||c.fid!==f.fid)&&TR(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(n){let e;const s=await Wx(n.appConfig,r=>{const i=iK(r),l=oK(n,i);return e=l.registrationPromise,l.installationEntry});return s.fid===Hv?{installationEntry:await e}:{installationEntry:s,registrationPromise:e}}function iK(n){const e=n||{fid:ZG(),registrationStatus:0};return CR(e)}function oK(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(yc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const s={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=lK(n,s);return{installationEntry:s,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:cK(n)}:{installationEntry:e}}async function lK(n,e){try{const s=await QG(n,e);return ex(n.appConfig,s)}catch(s){throw yR(s)&&s.customData.serverCode===409?await ER(n.appConfig):await ex(n.appConfig,{fid:e.fid,registrationStatus:0}),s}}async function cK(n){let e=await Ak(n.appConfig);for(;e.registrationStatus===1;)await _R(100),e=await Ak(n.appConfig);if(e.registrationStatus===0){const{installationEntry:s,registrationPromise:r}=await s1(n);return r||s}return e}function Ak(n){return Wx(n,e=>{if(!e)throw yc.create("installation-not-found");return CR(e)})}function CR(n){return dK(n)?{fid:n.fid,registrationStatus:0}:n}function dK(n){return n.registrationStatus===1&&n.registrationTime+pR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uK({appConfig:n,heartbeatServiceProvider:e},s){const r=hK(n,s),i=KG(n,s),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const c={installation:{sdkVersion:gR,appId:n.appId}},f={method:"POST",headers:i,body:JSON.stringify(c)},u=await NR(()=>fetch(r,f));if(u.ok){const m=await u.json();return vR(m)}else throw await wR("Generate Auth Token",u)}function hK(n,{fid:e}){return`${bR(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(n,e=!1){let s;const r=await Wx(n.appConfig,l=>{if(!AR(l))throw yc.create("not-registered");const c=l.authToken;if(!e&&pK(c))return l;if(c.requestStatus===1)return s=fK(n,e),l;{if(!navigator.onLine)throw yc.create("app-offline");const f=xK(l);return s=mK(n,f),f}});return s?await s:r.authToken}async function fK(n,e){let s=await Ik(n.appConfig);for(;s.authToken.requestStatus===1;)await _R(100),s=await Ik(n.appConfig);const r=s.authToken;return r.requestStatus===0?n1(n,e):r}function Ik(n){return Wx(n,e=>{if(!AR(e))throw yc.create("not-registered");const s=e.authToken;return yK(s)?{...e,authToken:{requestStatus:0}}:e})}async function mK(n,e){try{const s=await uK(n,e),r={...e,authToken:s};return await ex(n.appConfig,r),s}catch(s){if(yR(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await ER(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ex(n.appConfig,r)}throw s}}function AR(n){return n!==void 0&&n.registrationStatus===2}function pK(n){return n.requestStatus===2&&!gK(n)}function gK(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+$G}function xK(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function yK(n){return n.requestStatus===1&&n.requestTime+pR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bK(n){const e=n,{installationEntry:s,registrationPromise:r}=await s1(e);return r?r.catch(console.error):n1(e).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vK(n,e=!1){const s=n;return await wK(s),(await n1(s,e)).token}async function wK(n){const{registrationPromise:e}=await s1(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jK(n){if(!n||!n.options)throw Ob("App Configuration");if(!n.name)throw Ob("App Name");const e=["projectId","apiKey","appId"];for(const s of e)if(!n.options[s])throw Ob(s);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Ob(n){return yc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="installations",NK="installations-internal",_K=n=>{const e=n.getProvider("app").getImmediate(),s=jK(e),r=dx(e,"heartbeat");return{app:e,appConfig:s,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},SK=n=>{const e=n.getProvider("app").getImmediate(),s=dx(e,IR).getImmediate();return{getId:()=>bK(s),getToken:i=>vK(s,i)}};function TK(){Fr(new An(IR,_K,"PUBLIC")),Fr(new An(NK,SK,"PRIVATE"))}TK();En(mR,e1);En(mR,e1,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="analytics",kK="firebase_id",EK="origin",CK=60*1e3,AK="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",r1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Xf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mr=new Ii("analytics","Analytics",IK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RK(n){if(!n.startsWith(r1)){const e=mr.create("invalid-gtag-resource",{gtagURL:n});return Ws.warn(e.message),""}return n}function RR(n){return Promise.all(n.map(e=>e.catch(s=>s)))}function PK(n,e){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(n,e)),s}function DK(n,e){const s=PK("firebase-js-sdk-policy",{createScriptURL:RK}),r=document.createElement("script"),i=`${r1}?l=${n}&id=${e}`;r.src=s?s==null?void 0:s.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function OK(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function MK(n,e,s,r,i,l){const c=r[i];try{if(c)await e[c];else{const u=(await RR(s)).find(m=>m.measurementId===i);u&&await e[u.appId]}}catch(f){Ws.error(f)}n("config",i,l)}async function LK(n,e,s,r,i){try{let l=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const f=await RR(s);for(const u of c){const m=f.find(b=>b.measurementId===u),g=m&&e[m.appId];if(g)l.push(g);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",r,i||{})}catch(l){Ws.error(l)}}function zK(n,e,s,r){async function i(l,...c){try{if(l==="event"){const[f,u]=c;await LK(n,e,s,f,u)}else if(l==="config"){const[f,u]=c;await MK(n,e,s,r,f,u)}else if(l==="consent"){const[f,u]=c;n("consent",f,u)}else if(l==="get"){const[f,u,m]=c;n("get",f,u,m)}else if(l==="set"){const[f]=c;n("set",f)}else n(l,...c)}catch(f){Ws.error(f)}}return i}function VK(n,e,s,r,i){let l=function(...c){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(l=window[i]),window[i]=zK(l,n,e,s),{gtagCore:l,wrappedGtag:window[i]}}function UK(n){const e=window.document.getElementsByTagName("script");for(const s of Object.values(e))if(s.src&&s.src.includes(r1)&&s.src.includes(n))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK=30,BK=1e3;class $K{constructor(e={},s=BK){this.throttleMetadata=e,this.intervalMillis=s}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,s){this.throttleMetadata[e]=s}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const PR=new $K;function qK(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function HK(n){var c;const{appId:e,apiKey:s}=n,r={method:"GET",headers:qK(s)},i=AK.replace("{app-id}",e),l=await fetch(i,r);if(l.status!==200&&l.status!==304){let f="";try{const u=await l.json();(c=u.error)!=null&&c.message&&(f=u.error.message)}catch{}throw mr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:f})}return l.json()}async function GK(n,e=PR,s){const{appId:r,apiKey:i,measurementId:l}=n.options;if(!r)throw mr.create("no-app-id");if(!i){if(l)return{measurementId:l,appId:r};throw mr.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new YK;return setTimeout(async()=>{f.abort()},CK),DR({appId:r,apiKey:i,measurementId:l},c,f,e)}async function DR(n,{throttleEndTimeMillis:e,backoffCount:s},r,i=PR){var f;const{appId:l,measurementId:c}=n;try{await KK(r,e)}catch(u){if(c)return Ws.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:l,measurementId:c};throw u}try{const u=await HK(n);return i.deleteThrottleMetadata(l),u}catch(u){const m=u;if(!WK(m)){if(i.deleteThrottleMetadata(l),c)return Ws.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:l,measurementId:c};throw u}const g=Number((f=m==null?void 0:m.customData)==null?void 0:f.httpStatus)===503?_S(s,i.intervalMillis,FK):_S(s,i.intervalMillis),b={throttleEndTimeMillis:Date.now()+g,backoffCount:s+1};return i.setThrottleMetadata(l,b),Ws.debug(`Calling attemptFetch again in ${g} millis`),DR(n,b,r,i)}}function KK(n,e){return new Promise((s,r)=>{const i=Math.max(e-Date.now(),0),l=setTimeout(s,i);n.addEventListener(()=>{clearTimeout(l),r(mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WK(n){if(!(n instanceof on)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class YK{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function QK(n,e,s,r,i){if(i&&i.global){n("event",s,r);return}else{const l=await e,c={...r,send_to:l};n("event",s,c)}}async function XK(n,e,s,r){if(r&&r.global)return n("set",{screen_name:s}),Promise.resolve();{const i=await e;n("config",i,{update:!0,screen_name:s})}}async function JK(n,e,s,r){if(r&&r.global)return n("set",{user_id:s}),Promise.resolve();{const i=await e;n("config",i,{update:!0,user_id:s})}}async function ZK(n,e,s,r){if(r&&r.global){const i={};for(const l of Object.keys(s))i[`user_properties.${l}`]=s[l];return n("set",i),Promise.resolve()}else{const i=await e;n("config",i,{update:!0,user_properties:s})}}async function eW(n,e){const s=await n;window[`ga-disable-${s}`]=!e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tW(){if(nc())try{await vw()}catch(n){return Ws.warn(mr.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Ws.warn(mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function sW(n,e,s,r,i,l,c){const f=GK(n);f.then(v=>{s[v.measurementId]=v.appId,n.options.measurementId&&v.measurementId!==n.options.measurementId&&Ws.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Ws.error(v)),e.push(f);const u=tW().then(v=>{if(v)return r.getId()}),[m,g]=await Promise.all([f,u]);UK(l)||DK(l,m.measurementId),i("js",new Date);const b=(c==null?void 0:c.config)??{};return b[EK]="firebase",b.update=!0,g!=null&&(b[kK]=g),i("config",m.measurementId,b),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nW=class{constructor(e){this.app=e}_delete(){return delete ji[this.app.options.appId],Promise.resolve()}},ji={},Pk=[];const Dk={};let Ng="dataLayer",OR="gtag",Ok,vm,Gv=!1;function rW(n){if(Gv)throw mr.create("already-initialized");n.dataLayerName&&(Ng=n.dataLayerName),n.gtagName&&(OR=n.gtagName)}function aW(){const n=[];if(cx()&&n.push("This is a browser extension environment."),cE()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),s=mr.create("invalid-analytics-context",{errorInfo:e});Ws.warn(s.message)}}function iW(n,e,s){aW();const r=n.options.appId;if(!r)throw mr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ws.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mr.create("no-api-key");if(ji[r]!=null)throw mr.create("already-exists",{id:r});if(!Gv){OK(Ng);const{wrappedGtag:l,gtagCore:c}=VK(ji,Pk,Dk,Ng,OR);vm=l,Ok=c,Gv=!0}return ji[r]=sW(n,Pk,Dk,e,Ok,Ng,s),new nW(n)}async function oW(){if(cx()||!cE()||!nc())return!1;try{return await vw()}catch{return!1}}function lW(n,e,s){n=He(n),XK(vm,ji[n.app.options.appId],e,s).catch(r=>Ws.error(r))}function cW(n,e,s){n=He(n),JK(vm,ji[n.app.options.appId],e,s).catch(r=>Ws.error(r))}function MR(n,e,s){n=He(n),ZK(vm,ji[n.app.options.appId],e,s).catch(r=>Ws.error(r))}function dW(n,e){n=He(n),eW(ji[n.app.options.appId],e).catch(s=>Ws.error(s))}function LR(n,e,s,r){n=He(n),QK(vm,ji[n.app.options.appId],e,s,r).catch(i=>Ws.error(i))}const Mk="@firebase/analytics",Lk="0.10.19";function uW(){Fr(new An(Rk,(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return iW(r,i,s)},"PUBLIC")),Fr(new An("analytics-internal",n,"PRIVATE")),En(Mk,Lk),En(Mk,Lk,"esm2020");function n(e){try{const s=e.getProvider(Rk).getImmediate();return{logEvent:(r,i,l)=>LR(s,r,i,l),setUserProperties:(r,i)=>MR(s,r,i)}}catch(s){throw mr.create("interop-component-reg-failed",{reason:s})}}}uW();const hW="@firebase/analytics-compat",fW="0.2.25";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,s){this.app=e,this._delegate=s}logEvent(e,s,r){LR(this._delegate,e,s,r)}setCurrentScreen(e,s){lW(this._delegate,e,s)}setUserId(e,s){cW(this._delegate,e,s)}setUserProperties(e,s){MR(this._delegate,e,s)}setAnalyticsCollectionEnabled(e){dW(this._delegate,e)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kv;(function(n){n.ADD_SHIPPING_INFO="add_shipping_info",n.ADD_PAYMENT_INFO="add_payment_info",n.ADD_TO_CART="add_to_cart",n.ADD_TO_WISHLIST="add_to_wishlist",n.BEGIN_CHECKOUT="begin_checkout",n.CHECKOUT_PROGRESS="checkout_progress",n.EXCEPTION="exception",n.GENERATE_LEAD="generate_lead",n.LOGIN="login",n.PAGE_VIEW="page_view",n.PURCHASE="purchase",n.REFUND="refund",n.REMOVE_FROM_CART="remove_from_cart",n.SCREEN_VIEW="screen_view",n.SEARCH="search",n.SELECT_CONTENT="select_content",n.SELECT_ITEM="select_item",n.SELECT_PROMOTION="select_promotion",n.SET_CHECKOUT_OPTION="set_checkout_option",n.SHARE="share",n.SIGN_UP="sign_up",n.TIMING_COMPLETE="timing_complete",n.VIEW_CART="view_cart",n.VIEW_ITEM="view_item",n.VIEW_ITEM_LIST="view_item_list",n.VIEW_PROMOTION="view_promotion",n.VIEW_SEARCH_RESULTS="view_search_results"})(Kv||(Kv={}));/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW=n=>{const e=n.getProvider("app-compat").getImmediate(),s=n.getProvider("analytics").getImmediate();return new zR(e,s)};function pW(){const n={Analytics:zR,settings:rW,isSupported:oW,EventName:Kv};Xo.INTERNAL.registerComponent(new An("analytics-compat",mW,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}pW();Xo.registerVersion(hW,fW);const gW={apiKey:"AIzaSyDxhDxNIO-Svce0yRajiWPT0Xw22IwPBvE",authDomain:"traffic-websites.firebaseapp.com",projectId:"traffic-websites",storageBucket:"traffic-websites.firebasestorage.app",messagingSenderId:"617379565314",appId:"1:617379565314:web:8f9ce22c31b2548cc4bc1b",measurementId:"G-SWTXXWP99R"},a1=Xo.initializeApp(gW);a1.auth();a1.firestore();a1.analytics();const VR=document.getElementById("root");if(!VR)throw new Error("Could not find root element to mount to");const xW=E5.createRoot(VR);xW.render(t.jsx(De.StrictMode,{children:t.jsx(qk,{children:t.jsx(jP,{children:t.jsx(p8,{})})})}));
